var Cq=Object.defineProperty;var Iq=(t,e,n)=>e in t?Cq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var R_=(t,e,n)=>Iq(t,typeof e!="symbol"?e+"":e,n);function Rq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Bi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N_={exports:{}},Uf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR;function Nq(){if(cR)return Uf;cR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Uf.Fragment=e,Uf.jsx=n,Uf.jsxs=n,Uf}var dR;function Pq(){return dR||(dR=1,N_.exports=Nq()),N_.exports}var T=Pq(),P_={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fR;function Mq(){if(fR)return We;fR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=g&&Y[g]||Y["@@iterator"],typeof Y=="function"?Y:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function C(Y,se,$){this.props=Y,this.context=se,this.refs=A,this.updater=$||w}C.prototype.isReactComponent={},C.prototype.setState=function(Y,se){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,se,"setState")},C.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function U(){}U.prototype=C.prototype;function M(Y,se,$){this.props=Y,this.context=se,this.refs=A,this.updater=$||w}var F=M.prototype=new U;F.constructor=M,S(F,C.prototype),F.isPureReactComponent=!0;var q=Array.isArray;function V(){}var D={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function L(Y,se,$){var ee=$.ref;return{$$typeof:t,type:Y,key:se,ref:ee!==void 0?ee:null,props:$}}function B(Y,se){return L(Y.type,se,Y.props)}function P(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function j(Y){var se={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function($){return se[$]})}var H=/\/+/g;function de(Y,se){return typeof Y=="object"&&Y!==null&&Y.key!=null?j(""+Y.key):se.toString(36)}function te(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(V,V):(Y.status="pending",Y.then(function(se){Y.status==="pending"&&(Y.status="fulfilled",Y.value=se)},function(se){Y.status==="pending"&&(Y.status="rejected",Y.reason=se)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function X(Y,se,$,ee,ye){var _e=typeof Y;(_e==="undefined"||_e==="boolean")&&(Y=null);var Se=!1;if(Y===null)Se=!0;else switch(_e){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(Y.$$typeof){case t:case e:Se=!0;break;case h:return Se=Y._init,X(Se(Y._payload),se,$,ee,ye)}}if(Se)return ye=ye(Y),Se=ee===""?"."+de(Y,0):ee,q(ye)?($="",Se!=null&&($=Se.replace(H,"$&/")+"/"),X(ye,se,$,"",function(Ve){return Ve})):ye!=null&&(P(ye)&&(ye=B(ye,$+(ye.key==null||Y&&Y.key===ye.key?"":(""+ye.key).replace(H,"$&/")+"/")+Se)),se.push(ye)),1;Se=0;var He=ee===""?".":ee+":";if(q(Y))for(var fe=0;fe<Y.length;fe++)ee=Y[fe],_e=He+de(ee,fe),Se+=X(ee,se,$,_e,ye);else if(fe=v(Y),typeof fe=="function")for(Y=fe.call(Y),fe=0;!(ee=Y.next()).done;)ee=ee.value,_e=He+de(ee,fe++),Se+=X(ee,se,$,_e,ye);else if(_e==="object"){if(typeof Y.then=="function")return X(te(Y),se,$,ee,ye);throw se=String(Y),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Se}function K(Y,se,$){if(Y==null)return Y;var ee=[],ye=0;return X(Y,ee,"","",function(_e){return se.call($,_e,ye++)}),ee}function ae(Y){if(Y._status===-1){var se=Y._result;se=se(),se.then(function($){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=$)},function($){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=$)}),Y._status===-1&&(Y._status=0,Y._result=se)}if(Y._status===1)return Y._result.default;throw Y._result}var me=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},W={map:K,forEach:function(Y,se,$){K(Y,function(){se.apply(this,arguments)},$)},count:function(Y){var se=0;return K(Y,function(){se++}),se},toArray:function(Y){return K(Y,function(se){return se})||[]},only:function(Y){if(!P(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return We.Activity=p,We.Children=W,We.Component=C,We.Fragment=n,We.Profiler=i,We.PureComponent=M,We.StrictMode=r,We.Suspense=c,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,We.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return D.H.useMemoCache(Y)}},We.cache=function(Y){return function(){return Y.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(Y,se,$){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var ee=S({},Y.props),ye=Y.key;if(se!=null)for(_e in se.key!==void 0&&(ye=""+se.key),se)!O.call(se,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&se.ref===void 0||(ee[_e]=se[_e]);var _e=arguments.length-2;if(_e===1)ee.children=$;else if(1<_e){for(var Se=Array(_e),He=0;He<_e;He++)Se[He]=arguments[He+2];ee.children=Se}return L(Y.type,ye,ee)},We.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},We.createElement=function(Y,se,$){var ee,ye={},_e=null;if(se!=null)for(ee in se.key!==void 0&&(_e=""+se.key),se)O.call(se,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ye[ee]=se[ee]);var Se=arguments.length-2;if(Se===1)ye.children=$;else if(1<Se){for(var He=Array(Se),fe=0;fe<Se;fe++)He[fe]=arguments[fe+2];ye.children=He}if(Y&&Y.defaultProps)for(ee in Se=Y.defaultProps,Se)ye[ee]===void 0&&(ye[ee]=Se[ee]);return L(Y,_e,ye)},We.createRef=function(){return{current:null}},We.forwardRef=function(Y){return{$$typeof:u,render:Y}},We.isValidElement=P,We.lazy=function(Y){return{$$typeof:h,_payload:{_status:-1,_result:Y},_init:ae}},We.memo=function(Y,se){return{$$typeof:d,type:Y,compare:se===void 0?null:se}},We.startTransition=function(Y){var se=D.T,$={};D.T=$;try{var ee=Y(),ye=D.S;ye!==null&&ye($,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(V,me)}catch(_e){me(_e)}finally{se!==null&&$.types!==null&&(se.types=$.types),D.T=se}},We.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},We.use=function(Y){return D.H.use(Y)},We.useActionState=function(Y,se,$){return D.H.useActionState(Y,se,$)},We.useCallback=function(Y,se){return D.H.useCallback(Y,se)},We.useContext=function(Y){return D.H.useContext(Y)},We.useDebugValue=function(){},We.useDeferredValue=function(Y,se){return D.H.useDeferredValue(Y,se)},We.useEffect=function(Y,se){return D.H.useEffect(Y,se)},We.useEffectEvent=function(Y){return D.H.useEffectEvent(Y)},We.useId=function(){return D.H.useId()},We.useImperativeHandle=function(Y,se,$){return D.H.useImperativeHandle(Y,se,$)},We.useInsertionEffect=function(Y,se){return D.H.useInsertionEffect(Y,se)},We.useLayoutEffect=function(Y,se){return D.H.useLayoutEffect(Y,se)},We.useMemo=function(Y,se){return D.H.useMemo(Y,se)},We.useOptimistic=function(Y,se){return D.H.useOptimistic(Y,se)},We.useReducer=function(Y,se,$){return D.H.useReducer(Y,se,$)},We.useRef=function(Y){return D.H.useRef(Y)},We.useState=function(Y){return D.H.useState(Y)},We.useSyncExternalStore=function(Y,se,$){return D.H.useSyncExternalStore(Y,se,$)},We.useTransition=function(){return D.H.useTransition()},We.version="19.2.1",We}var hR;function pd(){return hR||(hR=1,P_.exports=Mq()),P_.exports}var R=pd();const M4=Bi(R),Dq=Rq({__proto__:null,default:M4},[R]);var M_={exports:{}},Vf={},D_={exports:{}},O_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pR;function Oq(){return pR||(pR=1,(function(t){function e(X,K){var ae=X.length;X.push(K);e:for(;0<ae;){var me=ae-1>>>1,W=X[me];if(0<i(W,K))X[me]=K,X[ae]=W,ae=me;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var K=X[0],ae=X.pop();if(ae!==K){X[0]=ae;e:for(var me=0,W=X.length,Y=W>>>1;me<Y;){var se=2*(me+1)-1,$=X[se],ee=se+1,ye=X[ee];if(0>i($,ae))ee<W&&0>i(ye,$)?(X[me]=ye,X[ee]=ae,me=ee):(X[me]=$,X[se]=ae,me=se);else if(ee<W&&0>i(ye,ae))X[me]=ye,X[ee]=ae,me=ee;else break e}}return K}function i(X,K){var ae=X.sortIndex-K.sortIndex;return ae!==0?ae:X.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],d=[],h=1,p=null,g=3,v=!1,w=!1,S=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function F(X){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=X)r(d),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(d)}}function q(X){if(S=!1,F(X),!w)if(n(c)!==null)w=!0,V||(V=!0,j());else{var K=n(d);K!==null&&te(q,K.startTime-X)}}var V=!1,D=-1,O=5,L=-1;function B(){return A?!0:!(t.unstable_now()-L<O)}function P(){if(A=!1,V){var X=t.unstable_now();L=X;var K=!0;try{e:{w=!1,S&&(S=!1,U(D),D=-1),v=!0;var ae=g;try{t:{for(F(X),p=n(c);p!==null&&!(p.expirationTime>X&&B());){var me=p.callback;if(typeof me=="function"){p.callback=null,g=p.priorityLevel;var W=me(p.expirationTime<=X);if(X=t.unstable_now(),typeof W=="function"){p.callback=W,F(X),K=!0;break t}p===n(c)&&r(c),F(X)}else r(c);p=n(c)}if(p!==null)K=!0;else{var Y=n(d);Y!==null&&te(q,Y.startTime-X),K=!1}}break e}finally{p=null,g=ae,v=!1}K=void 0}}finally{K?j():V=!1}}}var j;if(typeof M=="function")j=function(){M(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,de=H.port2;H.port1.onmessage=P,j=function(){de.postMessage(null)}}else j=function(){C(P,0)};function te(X,K){D=C(function(){X(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(X){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var ae=g;g=K;try{return X()}finally{g=ae}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(X,K){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ae=g;g=X;try{return K()}finally{g=ae}},t.unstable_scheduleCallback=function(X,K,ae){var me=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?me+ae:me):ae=me,X){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ae+W,X={id:h++,callback:K,priorityLevel:X,startTime:ae,expirationTime:W,sortIndex:-1},ae>me?(X.sortIndex=ae,e(d,X),n(c)===null&&X===n(d)&&(S?(U(D),D=-1):S=!0,te(q,ae-me))):(X.sortIndex=W,e(c,X),w||v||(w=!0,V||(V=!0,j()))),X},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(X){var K=g;return function(){var ae=g;g=K;try{return X.apply(this,arguments)}finally{g=ae}}}})(O_)),O_}var mR;function Lq(){return mR||(mR=1,D_.exports=Oq()),D_.exports}var L_={exports:{}},fr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gR;function Uq(){if(gR)return fr;gR=1;var t=pd();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:d,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return fr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fr.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(c,d,null,h)},fr.flushSync=function(c){var d=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=d,r.p=h,r.d.f()}},fr.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},fr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},fr.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,p=u(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},fr.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},fr.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=u(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},fr.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},fr.requestFormReset=function(c){r.d.r(c)},fr.unstable_batchedUpdates=function(c,d){return c(d)},fr.useFormState=function(c,d,h){return s.H.useFormState(c,d,h)},fr.useFormStatus=function(){return s.H.useHostTransitionStatus()},fr.version="19.2.1",fr}var yR;function D4(){if(yR)return L_.exports;yR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),L_.exports=Uq(),L_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vR;function Vq(){if(vR)return Vf;vR=1;var t=Lq(),e=pd(),n=D4();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function d(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,m=l;;){var x=f.return;if(x===null)break;var E=x.alternate;if(E===null){if(m=x.return,m!==null){f=m;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===f)return c(x),o;if(E===m)return c(x),l;E=E.sibling}throw Error(r(188))}if(f.return!==m.return)f=x,m=E;else{for(var I=!1,z=x.child;z;){if(z===f){I=!0,f=x,m=E;break}if(z===m){I=!0,m=x,f=E;break}z=z.sibling}if(!I){for(z=E.child;z;){if(z===f){I=!0,f=E,m=x;break}if(z===m){I=!0,m=E,f=x;break}z=z.sibling}if(!I)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(o){return o===null||typeof o!="object"?null:(o=P&&o[P]||o["@@iterator"],typeof o=="function"?o:null)}var H=Symbol.for("react.client.reference");function de(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===H?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case q:return"Suspense";case V:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case w:return"Portal";case M:return o.displayName||"Context";case U:return(o._context.displayName||"Context")+".Consumer";case F:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case D:return l=o.displayName||null,l!==null?l:de(o.type)||"Memo";case O:l=o._payload,o=o._init;try{return de(o(l))}catch{}}return null}var te=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},me=[],W=-1;function Y(o){return{current:o}}function se(o){0>W||(o.current=me[W],me[W]=null,W--)}function $(o,l){W++,me[W]=o.current,o.current=l}var ee=Y(null),ye=Y(null),_e=Y(null),Se=Y(null);function He(o,l){switch($(_e,l),$(ye,o),$(ee,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?MI(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=MI(l),o=DI(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}se(ee),$(ee,o)}function fe(){se(ee),se(ye),se(_e)}function Ve(o){o.memoizedState!==null&&$(Se,o);var l=ee.current,f=DI(l,o.type);l!==f&&($(ye,o),$(ee,f))}function Ge(o){ye.current===o&&(se(ee),se(ye)),Se.current===o&&(se(Se),Mf._currentValue=ae)}var Ee,Bt;function et(o){if(Ee===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);Ee=l&&l[1]||"",Bt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+o+Bt}var tn=!1;function Kt(o,l){if(!o||tn)return"";tn=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(ue){var oe=ue}Reflect.construct(o,[],be)}else{try{be.call()}catch(ue){oe=ue}o.call(be.prototype)}}else{try{throw Error()}catch(ue){oe=ue}(be=o())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(ue){if(ue&&oe&&typeof ue.stack=="string")return[ue.stack,oe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=m.DetermineComponentFrameRoot(),I=E[0],z=E[1];if(I&&z){var J=I.split(`
`),ie=z.split(`
`);for(x=m=0;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;for(;x<ie.length&&!ie[x].includes("DetermineComponentFrameRoot");)x++;if(m===J.length||x===ie.length)for(m=J.length-1,x=ie.length-1;1<=m&&0<=x&&J[m]!==ie[x];)x--;for(;1<=m&&0<=x;m--,x--)if(J[m]!==ie[x]){if(m!==1||x!==1)do if(m--,x--,0>x||J[m]!==ie[x]){var he=`
`+J[m].replace(" at new "," at ");return o.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",o.displayName)),he}while(1<=m&&0<=x);break}}}finally{tn=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?et(f):""}function ur(o,l){switch(o.tag){case 26:case 27:case 5:return et(o.type);case 16:return et("Lazy");case 13:return o.child!==l&&l!==null?et("Suspense Fallback"):et("Suspense");case 19:return et("SuspenseList");case 0:case 15:return Kt(o.type,!1);case 11:return Kt(o.type.render,!1);case 1:return Kt(o.type,!0);case 31:return et("Activity");default:return""}}function ha(o){try{var l="",f=null;do l+=ur(o,f),f=o,o=o.return;while(o);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Qt=Object.prototype.hasOwnProperty,nn=t.unstable_scheduleCallback,pa=t.unstable_cancelCallback,Ld=t.unstable_shouldYield,Nu=t.unstable_requestPaint,Yn=t.unstable_now,io=t.unstable_getCurrentPriorityLevel,pe=t.unstable_ImmediatePriority,we=t.unstable_UserBlockingPriority,Be=t.unstable_NormalPriority,tt=t.unstable_LowPriority,ft=t.unstable_IdlePriority,cr=t.log,mi=t.unstable_setDisableYieldValue,ln=null,Zt=null;function Vn(o){if(typeof cr=="function"&&mi(o),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(ln,o)}catch{}}var ut=Math.clz32?Math.clz32:Up,qi=Math.log,dr=Math.LN2;function Up(o){return o>>>=0,o===0?32:31-(qi(o)/dr|0)|0}var ma=256,_l=262144,yn=4194304;function ga(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ya(o,l,f){var m=o.pendingLanes;if(m===0)return 0;var x=0,E=o.suspendedLanes,I=o.pingedLanes;o=o.warmLanes;var z=m&134217727;return z!==0?(m=z&~E,m!==0?x=ga(m):(I&=z,I!==0?x=ga(I):f||(f=z&~o,f!==0&&(x=ga(f))))):(z=m&~E,z!==0?x=ga(z):I!==0?x=ga(I):f||(f=m&~o,f!==0&&(x=ga(f)))),x===0?0:l!==0&&l!==x&&(l&E)===0&&(E=x&-x,f=l&-l,E>=f||E===32&&(f&4194048)!==0)?l:x}function Hi(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function D0(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vp(){var o=yn;return yn<<=1,(yn&62914560)===0&&(yn=4194304),o}function va(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function xl(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function O0(o,l,f,m,x,E){var I=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var z=o.entanglements,J=o.expirationTimes,ie=o.hiddenUpdates;for(f=I&~f;0<f;){var he=31-ut(f),be=1<<he;z[he]=0,J[he]=-1;var oe=ie[he];if(oe!==null)for(ie[he]=null,he=0;he<oe.length;he++){var ue=oe[he];ue!==null&&(ue.lane&=-536870913)}f&=~be}m!==0&&El(o,m,0),E!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=E&~(I&~l))}function El(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var m=31-ut(l);o.entangledLanes|=l,o.entanglements[m]=o.entanglements[m]|1073741824|f&261930}function Ud(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var m=31-ut(f),x=1<<m;x&l|o[m]&l&&(o[m]|=l),f&=~x}}function Vd(o,l){var f=l&-l;return f=(f&42)!==0?1:Tl(f),(f&(o.suspendedLanes|l))!==0?0:f}function Tl(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function ao(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Fp(){var o=K.p;return o!==0?o:(o=window.event,o===void 0?32:rR(o.type))}function Gi(o,l){var f=K.p;try{return K.p=o,l()}finally{K.p=f}}var $i=Math.random().toString(36).slice(2),vn="__reactFiber$"+$i,Fn="__reactProps$"+$i,ba="__reactContainer$"+$i,Pu="__reactEvents$"+$i,L0="__reactListeners$"+$i,Bp="__reactHandles$"+$i,jp="__reactResources$"+$i,_a="__reactMarker$"+$i;function Mu(o){delete o[vn],delete o[Fn],delete o[Pu],delete o[L0],delete o[Bp]}function xa(o){var l=o[vn];if(l)return l;for(var f=o.parentNode;f;){if(l=f[ba]||f[vn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=jI(o);o!==null;){if(f=o[vn])return f;o=jI(o)}return l}o=f,f=o.parentNode}return null}function gi(o){if(o=o[vn]||o[ba]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function Wr(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function Ea(o){var l=o[jp];return l||(l=o[jp]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function bn(o){o[_a]=!0}var Fd=new Set,Bd={};function Ta(o,l){wa(o,l),wa(o+"Capture",l)}function wa(o,l){for(Bd[o]=l,o=0;o<l.length;o++)Fd.add(l[o])}var jd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zd={},qd={};function zp(o){return Qt.call(qd,o)?!0:Qt.call(zd,o)?!1:jd.test(o)?qd[o]=!0:(zd[o]=!0,!1)}function Du(o,l,f){if(zp(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function Yr(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function _n(o,l,f,m){if(m===null)o.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+m)}}function Bn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function rs(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Hd(o,l,f){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var x=m.get,E=m.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function(I){f=""+I,E.call(this,I)}}),Object.defineProperty(o,l,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Et(o){if(!o._valueTracker){var l=rs(o)?"checked":"value";o._valueTracker=Hd(o,l,""+o[l])}}function wl(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),m="";return o&&(m=rs(o)?o.checked?"true":"false":o.value),o=m,o!==f?(l.setValue(o),!0):!1}function Sa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Sl=/[\n"\\]/g;function Rr(o){return o.replace(Sl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Ou(o,l,f,m,x,E,I,z){o.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.type=I:o.removeAttribute("type"),l!=null?I==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Bn(l)):o.value!==""+Bn(l)&&(o.value=""+Bn(l)):I!=="submit"&&I!=="reset"||o.removeAttribute("value"),l!=null?Gd(o,I,Bn(l)):f!=null?Gd(o,I,Bn(f)):m!=null&&o.removeAttribute("value"),x==null&&E!=null&&(o.defaultChecked=!!E),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.name=""+Bn(z):o.removeAttribute("name")}function qp(o,l,f,m,x,E,I,z){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(o.type=E),l!=null||f!=null){if(!(E!=="submit"&&E!=="reset"||l!=null)){Et(o);return}f=f!=null?""+Bn(f):"",l=l!=null?""+Bn(l):f,z||l===o.value||(o.value=l),o.defaultValue=l}m=m??x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=z?o.checked:!!m,o.defaultChecked=!!m,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.name=I),Et(o)}function Gd(o,l,f){l==="number"&&Sa(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function is(o,l,f,m){if(o=o.options,l){l={};for(var x=0;x<f.length;x++)l["$"+f[x]]=!0;for(f=0;f<o.length;f++)x=l.hasOwnProperty("$"+o[f].value),o[f].selected!==x&&(o[f].selected=x),x&&m&&(o[f].defaultSelected=!0)}else{for(f=""+Bn(f),l=null,x=0;x<o.length;x++){if(o[x].value===f){o[x].selected=!0,m&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function Hp(o,l,f){if(l!=null&&(l=""+Bn(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+Bn(f):""}function as(o,l,f,m){if(l==null){if(m!=null){if(f!=null)throw Error(r(92));if(te(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),l=f}f=Bn(l),o.defaultValue=f,m=o.textContent,m===f&&m!==""&&m!==null&&(o.value=m),Et(o)}function Nr(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var Gp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $d(o,l,f){var m=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":m?o.setProperty(l,f):typeof f!="number"||f===0||Gp.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function Kd(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var x in l)m=l[x],l.hasOwnProperty(x)&&f[x]!==m&&$d(o,x,m)}else for(var E in l)l.hasOwnProperty(E)&&$d(o,E,l[E])}function Lu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $p=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uu(o){return os.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Ki(){}var Wd=null;function yi(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ss=null,Aa=null;function Al(o){var l=gi(o);if(l&&(o=l.stateNode)){var f=o[Fn]||null;e:switch(o=l.stateNode,l.type){case"input":if(Ou(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Rr(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var m=f[l];if(m!==o&&m.form===o.form){var x=m[Fn]||null;if(!x)throw Error(r(90));Ou(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<f.length;l++)m=f[l],m.form===o.form&&wl(m)}break e;case"textarea":Hp(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&is(o,!!f.multiple,l,!1)}}}var Vu=!1;function ls(o,l,f){if(Vu)return o(l,f);Vu=!0;try{var m=o(l);return m}finally{if(Vu=!1,(ss!==null||Aa!==null)&&(Fm(),ss&&(l=ss,o=Aa,Aa=ss=null,Al(l),o)))for(l=0;l<o.length;l++)Al(o[l])}}function Wi(o,l){var f=o.stateNode;if(f===null)return null;var m=f[Fn]||null;if(m===null)return null;f=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kl=!1;if(vi)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){kl=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{kl=!1}var ka=null,Yd=null,Cl=null;function Jd(){if(Cl)return Cl;var o,l=Yd,f=l.length,m,x="value"in ka?ka.value:ka.textContent,E=x.length;for(o=0;o<f&&l[o]===x[o];o++);var I=f-o;for(m=1;m<=I&&l[f-m]===x[E-m];m++);return Cl=x.slice(o,1<m?1-m:void 0)}function Il(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function oo(){return!0}function Yi(){return!1}function Jn(o){function l(f,m,x,E,I){this._reactName=f,this._targetInst=x,this.type=m,this.nativeEvent=E,this.target=I,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(f=o[z],this[z]=f?f(E):E[z]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?oo:Yi,this.isPropagationStopped=Yi,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),l}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Jn(so),us=p({},so,{view:0,detail:0}),Xd=Jn(us),cs,Fu,Ia,Bu=p({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ia&&(Ia&&o.type==="mousemove"?(cs=o.screenX-Ia.screenX,Fu=o.screenY-Ia.screenY):Fu=cs=0,Ia=o),cs)},movementY:function(o){return"movementY"in o?o.movementY:Fu}}),Qd=Jn(Bu),Rl=p({},Bu,{dataTransfer:0}),Kp=Jn(Rl),Wp=p({},us,{relatedTarget:0}),Nl=Jn(Wp),Zd=p({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),Yp=Jn(Zd),ju=p({},so,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jp=Jn(ju),Xp=p({},so,{data:0}),Ra=Jn(Xp),Qp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},em={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tm(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=em[o])?!!l[o]:!1}function ds(){return tm}var Er=p({},us,{key:function(o){if(o.key){var l=Qp[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Il(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Zp[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(o){return o.type==="keypress"?Il(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Il(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),nm=Jn(Er),rm=p({},Bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lo=Jn(rm),_=p({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),k=Jn(_),N=p({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),G=Jn(N),ne=p({},Bu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),le=Jn(ne),Ae=p({},so,{newState:0,oldState:0}),Je=Jn(Ae),un=[9,13,27,32],yt=vi&&"CompositionEvent"in window,Wt=null;vi&&"documentMode"in document&&(Wt=document.documentMode);var bi=vi&&"TextEvent"in window&&!Wt,Na=vi&&(!yt||Wt&&8<Wt&&11>=Wt),Ji=" ",Xi=!1;function Pl(o,l){switch(o){case"keyup":return un.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var qu=!1;function Qz(o,l){switch(o){case"compositionend":return zu(l);case"keypress":return l.which!==32?null:(Xi=!0,Ji);case"textInput":return o=l.data,o===Ji&&Xi?null:o;default:return null}}function Zz(o,l){if(qu)return o==="compositionend"||!yt&&Pl(o,l)?(o=Jd(),Cl=Yd=ka=null,qu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Na&&l.locale!=="ko"?null:l.data;default:return null}}var e9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HA(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!e9[o.type]:l==="textarea"}function GA(o,l,f,m){ss?Aa?Aa.push(m):Aa=[m]:ss=m,l=$m(l,"onChange"),0<l.length&&(f=new Ca("onChange","change",null,f,m),o.push({event:f,listeners:l}))}var ef=null,tf=null;function t9(o){kI(o,0)}function im(o){var l=Wr(o);if(wl(l))return o}function $A(o,l){if(o==="change")return l}var KA=!1;if(vi){var U0;if(vi){var V0="oninput"in document;if(!V0){var WA=document.createElement("div");WA.setAttribute("oninput","return;"),V0=typeof WA.oninput=="function"}U0=V0}else U0=!1;KA=U0&&(!document.documentMode||9<document.documentMode)}function YA(){ef&&(ef.detachEvent("onpropertychange",JA),tf=ef=null)}function JA(o){if(o.propertyName==="value"&&im(tf)){var l=[];GA(l,tf,o,yi(o)),ls(t9,l)}}function n9(o,l,f){o==="focusin"?(YA(),ef=l,tf=f,ef.attachEvent("onpropertychange",JA)):o==="focusout"&&YA()}function r9(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return im(tf)}function i9(o,l){if(o==="click")return im(l)}function a9(o,l){if(o==="input"||o==="change")return im(l)}function o9(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Jr=typeof Object.is=="function"?Object.is:o9;function nf(o,l){if(Jr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),m=Object.keys(l);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var x=f[m];if(!Qt.call(l,x)||!Jr(o[x],l[x]))return!1}return!0}function XA(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function QA(o,l){var f=XA(o);o=0;for(var m;f;){if(f.nodeType===3){if(m=o+f.textContent.length,o<=l&&m>=l)return{node:f,offset:l-o};o=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=XA(f)}}function ZA(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?ZA(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function ek(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Sa(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=Sa(o.document)}return l}function F0(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var s9=vi&&"documentMode"in document&&11>=document.documentMode,Hu=null,B0=null,rf=null,j0=!1;function tk(o,l,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;j0||Hu==null||Hu!==Sa(m)||(m=Hu,"selectionStart"in m&&F0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),rf&&nf(rf,m)||(rf=m,m=$m(B0,"onSelect"),0<m.length&&(l=new Ca("onSelect","select",null,l,f),o.push({event:l,listeners:m}),l.target=Hu)))}function Ml(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var Gu={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionrun:Ml("Transition","TransitionRun"),transitionstart:Ml("Transition","TransitionStart"),transitioncancel:Ml("Transition","TransitionCancel"),transitionend:Ml("Transition","TransitionEnd")},z0={},nk={};vi&&(nk=document.createElement("div").style,"AnimationEvent"in window||(delete Gu.animationend.animation,delete Gu.animationiteration.animation,delete Gu.animationstart.animation),"TransitionEvent"in window||delete Gu.transitionend.transition);function Dl(o){if(z0[o])return z0[o];if(!Gu[o])return o;var l=Gu[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in nk)return z0[o]=l[f];return o}var rk=Dl("animationend"),ik=Dl("animationiteration"),ak=Dl("animationstart"),l9=Dl("transitionrun"),u9=Dl("transitionstart"),c9=Dl("transitioncancel"),ok=Dl("transitionend"),sk=new Map,q0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");q0.push("scrollEnd");function Qi(o,l){sk.set(o,l),Ta(l,[o])}var am=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},_i=[],$u=0,H0=0;function om(){for(var o=$u,l=H0=$u=0;l<o;){var f=_i[l];_i[l++]=null;var m=_i[l];_i[l++]=null;var x=_i[l];_i[l++]=null;var E=_i[l];if(_i[l++]=null,m!==null&&x!==null){var I=m.pending;I===null?x.next=x:(x.next=I.next,I.next=x),m.pending=x}E!==0&&lk(f,x,E)}}function sm(o,l,f,m){_i[$u++]=o,_i[$u++]=l,_i[$u++]=f,_i[$u++]=m,H0|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function G0(o,l,f,m){return sm(o,l,f,m),lm(o)}function Ol(o,l){return sm(o,null,null,l),lm(o)}function lk(o,l,f){o.lanes|=f;var m=o.alternate;m!==null&&(m.lanes|=f);for(var x=!1,E=o.return;E!==null;)E.childLanes|=f,m=E.alternate,m!==null&&(m.childLanes|=f),E.tag===22&&(o=E.stateNode,o===null||o._visibility&1||(x=!0)),o=E,E=E.return;return o.tag===3?(E=o.stateNode,x&&l!==null&&(x=31-ut(f),o=E.hiddenUpdates,m=o[x],m===null?o[x]=[l]:m.push(l),l.lane=f|536870912),E):null}function lm(o){if(50<Af)throw Af=0,e_=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Ku={};function d9(o,l,f,m){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(o,l,f,m){return new d9(o,l,f,m)}function $0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function uo(o,l){var f=o.alternate;return f===null?(f=Xr(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function uk(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function um(o,l,f,m,x,E){var I=0;if(m=o,typeof o=="function")$0(o)&&(I=1);else if(typeof o=="string")I=gq(o,f,ee.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=Xr(31,f,l,x),o.elementType=L,o.lanes=E,o;case S:return Ll(f.children,x,E,l);case A:I=8,x|=24;break;case C:return o=Xr(12,f,l,x|2),o.elementType=C,o.lanes=E,o;case q:return o=Xr(13,f,l,x),o.elementType=q,o.lanes=E,o;case V:return o=Xr(19,f,l,x),o.elementType=V,o.lanes=E,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:I=10;break e;case U:I=9;break e;case F:I=11;break e;case D:I=14;break e;case O:I=16,m=null;break e}I=29,f=Error(r(130,o===null?"null":typeof o,"")),m=null}return l=Xr(I,f,l,x),l.elementType=o,l.type=m,l.lanes=E,l}function Ll(o,l,f,m){return o=Xr(7,o,m,l),o.lanes=f,o}function K0(o,l,f){return o=Xr(6,o,null,l),o.lanes=f,o}function ck(o){var l=Xr(18,null,null,0);return l.stateNode=o,l}function W0(o,l,f){return l=Xr(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var dk=new WeakMap;function xi(o,l){if(typeof o=="object"&&o!==null){var f=dk.get(o);return f!==void 0?f:(l={value:o,source:l,stack:ha(l)},dk.set(o,l),l)}return{value:o,source:l,stack:ha(l)}}var Wu=[],Yu=0,cm=null,af=0,Ei=[],Ti=0,fs=null,Pa=1,Ma="";function co(o,l){Wu[Yu++]=af,Wu[Yu++]=cm,cm=o,af=l}function fk(o,l,f){Ei[Ti++]=Pa,Ei[Ti++]=Ma,Ei[Ti++]=fs,fs=o;var m=Pa;o=Ma;var x=32-ut(m)-1;m&=~(1<<x),f+=1;var E=32-ut(l)+x;if(30<E){var I=x-x%5;E=(m&(1<<I)-1).toString(32),m>>=I,x-=I,Pa=1<<32-ut(l)+x|f<<x|m,Ma=E+o}else Pa=1<<E|f<<x|m,Ma=o}function Y0(o){o.return!==null&&(co(o,1),fk(o,1,0))}function J0(o){for(;o===cm;)cm=Wu[--Yu],Wu[Yu]=null,af=Wu[--Yu],Wu[Yu]=null;for(;o===fs;)fs=Ei[--Ti],Ei[Ti]=null,Ma=Ei[--Ti],Ei[Ti]=null,Pa=Ei[--Ti],Ei[Ti]=null}function hk(o,l){Ei[Ti++]=Pa,Ei[Ti++]=Ma,Ei[Ti++]=fs,Pa=l.id,Ma=l.overflow,fs=o}var Xn=null,jt=null,ct=!1,hs=null,wi=!1,X0=Error(r(519));function ps(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw of(xi(l,o)),X0}function pk(o){var l=o.stateNode,f=o.type,m=o.memoizedProps;switch(l[vn]=o,l[Fn]=m,f){case"dialog":rt("cancel",l),rt("close",l);break;case"iframe":case"object":case"embed":rt("load",l);break;case"video":case"audio":for(f=0;f<Cf.length;f++)rt(Cf[f],l);break;case"source":rt("error",l);break;case"img":case"image":case"link":rt("error",l),rt("load",l);break;case"details":rt("toggle",l);break;case"input":rt("invalid",l),qp(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":rt("invalid",l);break;case"textarea":rt("invalid",l),as(l,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||m.suppressHydrationWarning===!0||NI(l.textContent,f)?(m.popover!=null&&(rt("beforetoggle",l),rt("toggle",l)),m.onScroll!=null&&rt("scroll",l),m.onScrollEnd!=null&&rt("scrollend",l),m.onClick!=null&&(l.onclick=Ki),l=!0):l=!1,l||ps(o,!0)}function mk(o){for(Xn=o.return;Xn;)switch(Xn.tag){case 5:case 31:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:Xn=Xn.return}}function Ju(o){if(o!==Xn)return!1;if(!ct)return mk(o),ct=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||m_(o.type,o.memoizedProps)),f=!f),f&&jt&&ps(o),mk(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));jt=BI(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));jt=BI(o)}else l===27?(l=jt,Cs(o.type)?(o=__,__=null,jt=o):jt=l):jt=Xn?Ai(o.stateNode.nextSibling):null;return!0}function Ul(){jt=Xn=null,ct=!1}function Q0(){var o=hs;return o!==null&&(Or===null?Or=o:Or.push.apply(Or,o),hs=null),o}function of(o){hs===null?hs=[o]:hs.push(o)}var Z0=Y(null),Vl=null,fo=null;function ms(o,l,f){$(Z0,l._currentValue),l._currentValue=f}function ho(o){o._currentValue=Z0.current,se(Z0)}function eb(o,l,f){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===f)break;o=o.return}}function tb(o,l,f,m){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var E=x.dependencies;if(E!==null){var I=x.child;E=E.firstContext;e:for(;E!==null;){var z=E;E=x;for(var J=0;J<l.length;J++)if(z.context===l[J]){E.lanes|=f,z=E.alternate,z!==null&&(z.lanes|=f),eb(E.return,f,o),m||(I=null);break e}E=z.next}}else if(x.tag===18){if(I=x.return,I===null)throw Error(r(341));I.lanes|=f,E=I.alternate,E!==null&&(E.lanes|=f),eb(I,f,o),I=null}else I=x.child;if(I!==null)I.return=x;else for(I=x;I!==null;){if(I===o){I=null;break}if(x=I.sibling,x!==null){x.return=I.return,I=x;break}I=I.return}x=I}}function Xu(o,l,f,m){o=null;for(var x=l,E=!1;x!==null;){if(!E){if((x.flags&524288)!==0)E=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var I=x.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var z=x.type;Jr(x.pendingProps.value,I.value)||(o!==null?o.push(z):o=[z])}}else if(x===Se.current){if(I=x.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(Mf):o=[Mf])}x=x.return}o!==null&&tb(l,o,f,m),l.flags|=262144}function dm(o){for(o=o.firstContext;o!==null;){if(!Jr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Fl(o){Vl=o,fo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Qn(o){return gk(Vl,o)}function fm(o,l){return Vl===null&&Fl(o),gk(o,l)}function gk(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},fo===null){if(o===null)throw Error(r(308));fo=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else fo=fo.next=l;return f}var f9=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,m){o.push(m)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},h9=t.unstable_scheduleCallback,p9=t.unstable_NormalPriority,xn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nb(){return{controller:new f9,data:new Map,refCount:0}}function sf(o){o.refCount--,o.refCount===0&&h9(p9,function(){o.controller.abort()})}var lf=null,rb=0,Qu=0,Zu=null;function m9(o,l){if(lf===null){var f=lf=[];rb=0,Qu=o_(),Zu={status:"pending",value:void 0,then:function(m){f.push(m)}}}return rb++,l.then(yk,yk),l}function yk(){if(--rb===0&&lf!==null){Zu!==null&&(Zu.status="fulfilled");var o=lf;lf=null,Qu=0,Zu=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function g9(o,l){var f=[],m={status:"pending",value:null,reason:null,then:function(x){f.push(x)}};return o.then(function(){m.status="fulfilled",m.value=l;for(var x=0;x<f.length;x++)(0,f[x])(l)},function(x){for(m.status="rejected",m.reason=x,x=0;x<f.length;x++)(0,f[x])(void 0)}),m}var vk=X.S;X.S=function(o,l){tI=Yn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&m9(o,l),vk!==null&&vk(o,l)};var Bl=Y(null);function ib(){var o=Bl.current;return o!==null?o:Mt.pooledCache}function hm(o,l){l===null?$(Bl,Bl.current):$(Bl,l.pool)}function bk(){var o=ib();return o===null?null:{parent:xn._currentValue,pool:o}}var ec=Error(r(460)),ab=Error(r(474)),pm=Error(r(542)),mm={then:function(){}};function _k(o){return o=o.status,o==="fulfilled"||o==="rejected"}function xk(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(Ki,Ki),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,Tk(o),o;default:if(typeof l.status=="string")l.then(Ki,Ki);else{if(o=Mt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(m){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=m}},function(m){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,Tk(o),o}throw zl=l,ec}}function jl(o){try{var l=o._init;return l(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(zl=f,ec):f}}var zl=null;function Ek(){if(zl===null)throw Error(r(459));var o=zl;return zl=null,o}function Tk(o){if(o===ec||o===pm)throw Error(r(483))}var tc=null,uf=0;function gm(o){var l=uf;return uf+=1,tc===null&&(tc=[]),xk(tc,o,l)}function cf(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function ym(o,l){throw l.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function wk(o){function l(Z,Q){if(o){var re=Z.deletions;re===null?(Z.deletions=[Q],Z.flags|=16):re.push(Q)}}function f(Z,Q){if(!o)return null;for(;Q!==null;)l(Z,Q),Q=Q.sibling;return null}function m(Z){for(var Q=new Map;Z!==null;)Z.key!==null?Q.set(Z.key,Z):Q.set(Z.index,Z),Z=Z.sibling;return Q}function x(Z,Q){return Z=uo(Z,Q),Z.index=0,Z.sibling=null,Z}function E(Z,Q,re){return Z.index=re,o?(re=Z.alternate,re!==null?(re=re.index,re<Q?(Z.flags|=67108866,Q):re):(Z.flags|=67108866,Q)):(Z.flags|=1048576,Q)}function I(Z){return o&&Z.alternate===null&&(Z.flags|=67108866),Z}function z(Z,Q,re,ge){return Q===null||Q.tag!==6?(Q=K0(re,Z.mode,ge),Q.return=Z,Q):(Q=x(Q,re),Q.return=Z,Q)}function J(Z,Q,re,ge){var Le=re.type;return Le===S?he(Z,Q,re.props.children,ge,re.key):Q!==null&&(Q.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===O&&jl(Le)===Q.type)?(Q=x(Q,re.props),cf(Q,re),Q.return=Z,Q):(Q=um(re.type,re.key,re.props,null,Z.mode,ge),cf(Q,re),Q.return=Z,Q)}function ie(Z,Q,re,ge){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=W0(re,Z.mode,ge),Q.return=Z,Q):(Q=x(Q,re.children||[]),Q.return=Z,Q)}function he(Z,Q,re,ge,Le){return Q===null||Q.tag!==7?(Q=Ll(re,Z.mode,ge,Le),Q.return=Z,Q):(Q=x(Q,re),Q.return=Z,Q)}function be(Z,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=K0(""+Q,Z.mode,re),Q.return=Z,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return re=um(Q.type,Q.key,Q.props,null,Z.mode,re),cf(re,Q),re.return=Z,re;case w:return Q=W0(Q,Z.mode,re),Q.return=Z,Q;case O:return Q=jl(Q),be(Z,Q,re)}if(te(Q)||j(Q))return Q=Ll(Q,Z.mode,re,null),Q.return=Z,Q;if(typeof Q.then=="function")return be(Z,gm(Q),re);if(Q.$$typeof===M)return be(Z,fm(Z,Q),re);ym(Z,Q)}return null}function oe(Z,Q,re,ge){var Le=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Le!==null?null:z(Z,Q,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case v:return re.key===Le?J(Z,Q,re,ge):null;case w:return re.key===Le?ie(Z,Q,re,ge):null;case O:return re=jl(re),oe(Z,Q,re,ge)}if(te(re)||j(re))return Le!==null?null:he(Z,Q,re,ge,null);if(typeof re.then=="function")return oe(Z,Q,gm(re),ge);if(re.$$typeof===M)return oe(Z,Q,fm(Z,re),ge);ym(Z,re)}return null}function ue(Z,Q,re,ge,Le){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return Z=Z.get(re)||null,z(Q,Z,""+ge,Le);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case v:return Z=Z.get(ge.key===null?re:ge.key)||null,J(Q,Z,ge,Le);case w:return Z=Z.get(ge.key===null?re:ge.key)||null,ie(Q,Z,ge,Le);case O:return ge=jl(ge),ue(Z,Q,re,ge,Le)}if(te(ge)||j(ge))return Z=Z.get(re)||null,he(Q,Z,ge,Le,null);if(typeof ge.then=="function")return ue(Z,Q,re,gm(ge),Le);if(ge.$$typeof===M)return ue(Z,Q,re,fm(Q,ge),Le);ym(Q,ge)}return null}function Me(Z,Q,re,ge){for(var Le=null,ht=null,De=Q,Qe=Q=0,at=null;De!==null&&Qe<re.length;Qe++){De.index>Qe?(at=De,De=null):at=De.sibling;var pt=oe(Z,De,re[Qe],ge);if(pt===null){De===null&&(De=at);break}o&&De&&pt.alternate===null&&l(Z,De),Q=E(pt,Q,Qe),ht===null?Le=pt:ht.sibling=pt,ht=pt,De=at}if(Qe===re.length)return f(Z,De),ct&&co(Z,Qe),Le;if(De===null){for(;Qe<re.length;Qe++)De=be(Z,re[Qe],ge),De!==null&&(Q=E(De,Q,Qe),ht===null?Le=De:ht.sibling=De,ht=De);return ct&&co(Z,Qe),Le}for(De=m(De);Qe<re.length;Qe++)at=ue(De,Z,Qe,re[Qe],ge),at!==null&&(o&&at.alternate!==null&&De.delete(at.key===null?Qe:at.key),Q=E(at,Q,Qe),ht===null?Le=at:ht.sibling=at,ht=at);return o&&De.forEach(function(Ms){return l(Z,Ms)}),ct&&co(Z,Qe),Le}function je(Z,Q,re,ge){if(re==null)throw Error(r(151));for(var Le=null,ht=null,De=Q,Qe=Q=0,at=null,pt=re.next();De!==null&&!pt.done;Qe++,pt=re.next()){De.index>Qe?(at=De,De=null):at=De.sibling;var Ms=oe(Z,De,pt.value,ge);if(Ms===null){De===null&&(De=at);break}o&&De&&Ms.alternate===null&&l(Z,De),Q=E(Ms,Q,Qe),ht===null?Le=Ms:ht.sibling=Ms,ht=Ms,De=at}if(pt.done)return f(Z,De),ct&&co(Z,Qe),Le;if(De===null){for(;!pt.done;Qe++,pt=re.next())pt=be(Z,pt.value,ge),pt!==null&&(Q=E(pt,Q,Qe),ht===null?Le=pt:ht.sibling=pt,ht=pt);return ct&&co(Z,Qe),Le}for(De=m(De);!pt.done;Qe++,pt=re.next())pt=ue(De,Z,Qe,pt.value,ge),pt!==null&&(o&&pt.alternate!==null&&De.delete(pt.key===null?Qe:pt.key),Q=E(pt,Q,Qe),ht===null?Le=pt:ht.sibling=pt,ht=pt);return o&&De.forEach(function(kq){return l(Z,kq)}),ct&&co(Z,Qe),Le}function Nt(Z,Q,re,ge){if(typeof re=="object"&&re!==null&&re.type===S&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case v:e:{for(var Le=re.key;Q!==null;){if(Q.key===Le){if(Le=re.type,Le===S){if(Q.tag===7){f(Z,Q.sibling),ge=x(Q,re.props.children),ge.return=Z,Z=ge;break e}}else if(Q.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===O&&jl(Le)===Q.type){f(Z,Q.sibling),ge=x(Q,re.props),cf(ge,re),ge.return=Z,Z=ge;break e}f(Z,Q);break}else l(Z,Q);Q=Q.sibling}re.type===S?(ge=Ll(re.props.children,Z.mode,ge,re.key),ge.return=Z,Z=ge):(ge=um(re.type,re.key,re.props,null,Z.mode,ge),cf(ge,re),ge.return=Z,Z=ge)}return I(Z);case w:e:{for(Le=re.key;Q!==null;){if(Q.key===Le)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){f(Z,Q.sibling),ge=x(Q,re.children||[]),ge.return=Z,Z=ge;break e}else{f(Z,Q);break}else l(Z,Q);Q=Q.sibling}ge=W0(re,Z.mode,ge),ge.return=Z,Z=ge}return I(Z);case O:return re=jl(re),Nt(Z,Q,re,ge)}if(te(re))return Me(Z,Q,re,ge);if(j(re)){if(Le=j(re),typeof Le!="function")throw Error(r(150));return re=Le.call(re),je(Z,Q,re,ge)}if(typeof re.then=="function")return Nt(Z,Q,gm(re),ge);if(re.$$typeof===M)return Nt(Z,Q,fm(Z,re),ge);ym(Z,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,Q!==null&&Q.tag===6?(f(Z,Q.sibling),ge=x(Q,re),ge.return=Z,Z=ge):(f(Z,Q),ge=K0(re,Z.mode,ge),ge.return=Z,Z=ge),I(Z)):f(Z,Q)}return function(Z,Q,re,ge){try{uf=0;var Le=Nt(Z,Q,re,ge);return tc=null,Le}catch(De){if(De===ec||De===pm)throw De;var ht=Xr(29,De,null,Z.mode);return ht.lanes=ge,ht.return=Z,ht}finally{}}}var ql=wk(!0),Sk=wk(!1),gs=!1;function ob(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sb(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ys(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function vs(o,l,f){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(vt&2)!==0){var x=m.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),m.pending=l,l=lm(o),lk(o,null,f),l}return sm(o,m,l,f),lm(o)}function df(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var m=l.lanes;m&=o.pendingLanes,f|=m,l.lanes=f,Ud(o,f)}}function lb(o,l){var f=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var x=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var I={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};E===null?x=E=I:E=E.next=I,f=f.next}while(f!==null);E===null?x=E=l:E=E.next=l}else x=E=l;f={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:m.shared,callbacks:m.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var ub=!1;function ff(){if(ub){var o=Zu;if(o!==null)throw o}}function hf(o,l,f,m){ub=!1;var x=o.updateQueue;gs=!1;var E=x.firstBaseUpdate,I=x.lastBaseUpdate,z=x.shared.pending;if(z!==null){x.shared.pending=null;var J=z,ie=J.next;J.next=null,I===null?E=ie:I.next=ie,I=J;var he=o.alternate;he!==null&&(he=he.updateQueue,z=he.lastBaseUpdate,z!==I&&(z===null?he.firstBaseUpdate=ie:z.next=ie,he.lastBaseUpdate=J))}if(E!==null){var be=x.baseState;I=0,he=ie=J=null,z=E;do{var oe=z.lane&-536870913,ue=oe!==z.lane;if(ue?(it&oe)===oe:(m&oe)===oe){oe!==0&&oe===Qu&&(ub=!0),he!==null&&(he=he.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Me=o,je=z;oe=l;var Nt=f;switch(je.tag){case 1:if(Me=je.payload,typeof Me=="function"){be=Me.call(Nt,be,oe);break e}be=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=je.payload,oe=typeof Me=="function"?Me.call(Nt,be,oe):Me,oe==null)break e;be=p({},be,oe);break e;case 2:gs=!0}}oe=z.callback,oe!==null&&(o.flags|=64,ue&&(o.flags|=8192),ue=x.callbacks,ue===null?x.callbacks=[oe]:ue.push(oe))}else ue={lane:oe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},he===null?(ie=he=ue,J=be):he=he.next=ue,I|=oe;if(z=z.next,z===null){if(z=x.shared.pending,z===null)break;ue=z,z=ue.next,ue.next=null,x.lastBaseUpdate=ue,x.shared.pending=null}}while(!0);he===null&&(J=be),x.baseState=J,x.firstBaseUpdate=ie,x.lastBaseUpdate=he,E===null&&(x.shared.lanes=0),Ts|=I,o.lanes=I,o.memoizedState=be}}function Ak(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function kk(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)Ak(f[o],l)}var nc=Y(null),vm=Y(0);function Ck(o,l){o=Eo,$(vm,o),$(nc,l),Eo=o|l.baseLanes}function cb(){$(vm,Eo),$(nc,nc.current)}function db(){Eo=vm.current,se(nc),se(vm)}var Qr=Y(null),Si=null;function bs(o){var l=o.alternate;$(cn,cn.current&1),$(Qr,o),Si===null&&(l===null||nc.current!==null||l.memoizedState!==null)&&(Si=o)}function fb(o){$(cn,cn.current),$(Qr,o),Si===null&&(Si=o)}function Ik(o){o.tag===22?($(cn,cn.current),$(Qr,o),Si===null&&(Si=o)):_s()}function _s(){$(cn,cn.current),$(Qr,Qr.current)}function Zr(o){se(Qr),Si===o&&(Si=null),se(cn)}var cn=Y(0);function bm(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||v_(f)||b_(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var po=0,Xe=null,It=null,En=null,_m=!1,rc=!1,Hl=!1,xm=0,pf=0,ic=null,y9=0;function rn(){throw Error(r(321))}function hb(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!Jr(o[f],l[f]))return!1;return!0}function pb(o,l,f,m,x,E){return po=E,Xe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,X.H=o===null||o.memoizedState===null?fC:Ib,Hl=!1,E=f(m,x),Hl=!1,rc&&(E=Nk(l,f,m,x)),Rk(o),E}function Rk(o){X.H=yf;var l=It!==null&&It.next!==null;if(po=0,En=It=Xe=null,_m=!1,pf=0,ic=null,l)throw Error(r(300));o===null||Tn||(o=o.dependencies,o!==null&&dm(o)&&(Tn=!0))}function Nk(o,l,f,m){Xe=o;var x=0;do{if(rc&&(ic=null),pf=0,rc=!1,25<=x)throw Error(r(301));if(x+=1,En=It=null,o.updateQueue!=null){var E=o.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}X.H=hC,E=l(f,m)}while(rc);return E}function v9(){var o=X.H,l=o.useState()[0];return l=typeof l.then=="function"?mf(l):l,o=o.useState()[0],(It!==null?It.memoizedState:null)!==o&&(Xe.flags|=1024),l}function mb(){var o=xm!==0;return xm=0,o}function gb(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function yb(o){if(_m){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}_m=!1}po=0,En=It=Xe=null,rc=!1,pf=xm=0,ic=null}function Tr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Xe.memoizedState=En=o:En=En.next=o,En}function dn(){if(It===null){var o=Xe.alternate;o=o!==null?o.memoizedState:null}else o=It.next;var l=En===null?Xe.memoizedState:En.next;if(l!==null)En=l,It=o;else{if(o===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));It=o,o={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},En===null?Xe.memoizedState=En=o:En=En.next=o}return En}function Em(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mf(o){var l=pf;return pf+=1,ic===null&&(ic=[]),o=xk(ic,o,l),l=Xe,(En===null?l.memoizedState:En.next)===null&&(l=l.alternate,X.H=l===null||l.memoizedState===null?fC:Ib),o}function Tm(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return mf(o);if(o.$$typeof===M)return Qn(o)}throw Error(r(438,String(o)))}function vb(o){var l=null,f=Xe.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var m=Xe.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=Em(),Xe.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),m=0;m<o;m++)f[m]=B;return l.index++,f}function mo(o,l){return typeof l=="function"?l(o):l}function wm(o){var l=dn();return bb(l,It,o)}function bb(o,l,f){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var x=o.baseQueue,E=m.pending;if(E!==null){if(x!==null){var I=x.next;x.next=E.next,E.next=I}l.baseQueue=x=E,m.pending=null}if(E=o.baseState,x===null)o.memoizedState=E;else{l=x.next;var z=I=null,J=null,ie=l,he=!1;do{var be=ie.lane&-536870913;if(be!==ie.lane?(it&be)===be:(po&be)===be){var oe=ie.revertLane;if(oe===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),be===Qu&&(he=!0);else if((po&oe)===oe){ie=ie.next,oe===Qu&&(he=!0);continue}else be={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},J===null?(z=J=be,I=E):J=J.next=be,Xe.lanes|=oe,Ts|=oe;be=ie.action,Hl&&f(E,be),E=ie.hasEagerState?ie.eagerState:f(E,be)}else oe={lane:be,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},J===null?(z=J=oe,I=E):J=J.next=oe,Xe.lanes|=be,Ts|=be;ie=ie.next}while(ie!==null&&ie!==l);if(J===null?I=E:J.next=z,!Jr(E,o.memoizedState)&&(Tn=!0,he&&(f=Zu,f!==null)))throw f;o.memoizedState=E,o.baseState=I,o.baseQueue=J,m.lastRenderedState=E}return x===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function _b(o){var l=dn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var m=f.dispatch,x=f.pending,E=l.memoizedState;if(x!==null){f.pending=null;var I=x=x.next;do E=o(E,I.action),I=I.next;while(I!==x);Jr(E,l.memoizedState)||(Tn=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),f.lastRenderedState=E}return[E,m]}function Pk(o,l,f){var m=Xe,x=dn(),E=ct;if(E){if(f===void 0)throw Error(r(407));f=f()}else f=l();var I=!Jr((It||x).memoizedState,f);if(I&&(x.memoizedState=f,Tn=!0),x=x.queue,Tb(Ok.bind(null,m,x,o),[o]),x.getSnapshot!==l||I||En!==null&&En.memoizedState.tag&1){if(m.flags|=2048,ac(9,{destroy:void 0},Dk.bind(null,m,x,f,l),null),Mt===null)throw Error(r(349));E||(po&127)!==0||Mk(m,l,f)}return f}function Mk(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=Xe.updateQueue,l===null?(l=Em(),Xe.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function Dk(o,l,f,m){l.value=f,l.getSnapshot=m,Lk(l)&&Uk(o)}function Ok(o,l,f){return f(function(){Lk(l)&&Uk(o)})}function Lk(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!Jr(o,f)}catch{return!0}}function Uk(o){var l=Ol(o,2);l!==null&&Lr(l,o,2)}function xb(o){var l=Tr();if(typeof o=="function"){var f=o;if(o=f(),Hl){Vn(!0);try{f()}finally{Vn(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:o},l}function Vk(o,l,f,m){return o.baseState=f,bb(o,It,typeof m=="function"?m:mo)}function b9(o,l,f,m,x){if(km(o))throw Error(r(485));if(o=l.action,o!==null){var E={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){E.listeners.push(I)}};X.T!==null?f(!0):E.isTransition=!1,m(E),f=l.pending,f===null?(E.next=l.pending=E,Fk(l,E)):(E.next=f.next,l.pending=f.next=E)}}function Fk(o,l){var f=l.action,m=l.payload,x=o.state;if(l.isTransition){var E=X.T,I={};X.T=I;try{var z=f(x,m),J=X.S;J!==null&&J(I,z),Bk(o,l,z)}catch(ie){Eb(o,l,ie)}finally{E!==null&&I.types!==null&&(E.types=I.types),X.T=E}}else try{E=f(x,m),Bk(o,l,E)}catch(ie){Eb(o,l,ie)}}function Bk(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){jk(o,l,m)},function(m){return Eb(o,l,m)}):jk(o,l,f)}function jk(o,l,f){l.status="fulfilled",l.value=f,zk(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,Fk(o,f)))}function Eb(o,l,f){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=f,zk(l),l=l.next;while(l!==m)}o.action=null}function zk(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function qk(o,l){return l}function Hk(o,l){if(ct){var f=Mt.formState;if(f!==null){e:{var m=Xe;if(ct){if(jt){t:{for(var x=jt,E=wi;x.nodeType!==8;){if(!E){x=null;break t}if(x=Ai(x.nextSibling),x===null){x=null;break t}}E=x.data,x=E==="F!"||E==="F"?x:null}if(x){jt=Ai(x.nextSibling),m=x.data==="F!";break e}}ps(m)}m=!1}m&&(l=f[0])}}return f=Tr(),f.memoizedState=f.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qk,lastRenderedState:l},f.queue=m,f=uC.bind(null,Xe,m),m.dispatch=f,m=xb(!1),E=Cb.bind(null,Xe,!1,m.queue),m=Tr(),x={state:l,dispatch:null,action:o,pending:null},m.queue=x,f=b9.bind(null,Xe,x,E,f),x.dispatch=f,m.memoizedState=o,[l,f,!1]}function Gk(o){var l=dn();return $k(l,It,o)}function $k(o,l,f){if(l=bb(o,l,qk)[0],o=wm(mo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=mf(l)}catch(I){throw I===ec?pm:I}else m=l;l=dn();var x=l.queue,E=x.dispatch;return f!==l.memoizedState&&(Xe.flags|=2048,ac(9,{destroy:void 0},_9.bind(null,x,f),null)),[m,E,o]}function _9(o,l){o.action=l}function Kk(o){var l=dn(),f=It;if(f!==null)return $k(l,f,o);dn(),l=l.memoizedState,f=dn();var m=f.queue.dispatch;return f.memoizedState=o,[l,m,!1]}function ac(o,l,f,m){return o={tag:o,create:f,deps:m,inst:l,next:null},l=Xe.updateQueue,l===null&&(l=Em(),Xe.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(m=f.next,f.next=o,o.next=m,l.lastEffect=o),o}function Wk(){return dn().memoizedState}function Sm(o,l,f,m){var x=Tr();Xe.flags|=o,x.memoizedState=ac(1|l,{destroy:void 0},f,m===void 0?null:m)}function Am(o,l,f,m){var x=dn();m=m===void 0?null:m;var E=x.memoizedState.inst;It!==null&&m!==null&&hb(m,It.memoizedState.deps)?x.memoizedState=ac(l,E,f,m):(Xe.flags|=o,x.memoizedState=ac(1|l,E,f,m))}function Yk(o,l){Sm(8390656,8,o,l)}function Tb(o,l){Am(2048,8,o,l)}function x9(o){Xe.flags|=4;var l=Xe.updateQueue;if(l===null)l=Em(),Xe.updateQueue=l,l.events=[o];else{var f=l.events;f===null?l.events=[o]:f.push(o)}}function Jk(o){var l=dn().memoizedState;return x9({ref:l,nextImpl:o}),function(){if((vt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function Xk(o,l){return Am(4,2,o,l)}function Qk(o,l){return Am(4,4,o,l)}function Zk(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function eC(o,l,f){f=f!=null?f.concat([o]):null,Am(4,4,Zk.bind(null,l,o),f)}function wb(){}function tC(o,l){var f=dn();l=l===void 0?null:l;var m=f.memoizedState;return l!==null&&hb(l,m[1])?m[0]:(f.memoizedState=[o,l],o)}function nC(o,l){var f=dn();l=l===void 0?null:l;var m=f.memoizedState;if(l!==null&&hb(l,m[1]))return m[0];if(m=o(),Hl){Vn(!0);try{o()}finally{Vn(!1)}}return f.memoizedState=[m,l],m}function Sb(o,l,f){return f===void 0||(po&1073741824)!==0&&(it&261930)===0?o.memoizedState=l:(o.memoizedState=f,o=rI(),Xe.lanes|=o,Ts|=o,f)}function rC(o,l,f,m){return Jr(f,l)?f:nc.current!==null?(o=Sb(o,f,m),Jr(o,l)||(Tn=!0),o):(po&42)===0||(po&1073741824)!==0&&(it&261930)===0?(Tn=!0,o.memoizedState=f):(o=rI(),Xe.lanes|=o,Ts|=o,l)}function iC(o,l,f,m,x){var E=K.p;K.p=E!==0&&8>E?E:8;var I=X.T,z={};X.T=z,Cb(o,!1,l,f);try{var J=x(),ie=X.S;if(ie!==null&&ie(z,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var he=g9(J,m);gf(o,l,he,ni(o))}else gf(o,l,m,ni(o))}catch(be){gf(o,l,{then:function(){},status:"rejected",reason:be},ni())}finally{K.p=E,I!==null&&z.types!==null&&(I.types=z.types),X.T=I}}function E9(){}function Ab(o,l,f,m){if(o.tag!==5)throw Error(r(476));var x=aC(o).queue;iC(o,x,l,ae,f===null?E9:function(){return oC(o),f(m)})}function aC(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:ae},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function oC(o){var l=aC(o);l.next===null&&(l=o.alternate.memoizedState),gf(o,l.next.queue,{},ni())}function kb(){return Qn(Mf)}function sC(){return dn().memoizedState}function lC(){return dn().memoizedState}function T9(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=ni();o=ys(f);var m=vs(l,o,f);m!==null&&(Lr(m,l,f),df(m,l,f)),l={cache:nb()},o.payload=l;return}l=l.return}}function w9(o,l,f){var m=ni();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},km(o)?cC(l,f):(f=G0(o,l,f,m),f!==null&&(Lr(f,o,m),dC(f,l,m)))}function uC(o,l,f){var m=ni();gf(o,l,f,m)}function gf(o,l,f,m){var x={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(km(o))cC(l,x);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var I=l.lastRenderedState,z=E(I,f);if(x.hasEagerState=!0,x.eagerState=z,Jr(z,I))return sm(o,l,x,0),Mt===null&&om(),!1}catch{}finally{}if(f=G0(o,l,x,m),f!==null)return Lr(f,o,m),dC(f,l,m),!0}return!1}function Cb(o,l,f,m){if(m={lane:2,revertLane:o_(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},km(o)){if(l)throw Error(r(479))}else l=G0(o,f,m,2),l!==null&&Lr(l,o,2)}function km(o){var l=o.alternate;return o===Xe||l!==null&&l===Xe}function cC(o,l){rc=_m=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function dC(o,l,f){if((f&4194048)!==0){var m=l.lanes;m&=o.pendingLanes,f|=m,l.lanes=f,Ud(o,f)}}var yf={readContext:Qn,use:Tm,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn};yf.useEffectEvent=rn;var fC={readContext:Qn,use:Tm,useCallback:function(o,l){return Tr().memoizedState=[o,l===void 0?null:l],o},useContext:Qn,useEffect:Yk,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,Sm(4194308,4,Zk.bind(null,l,o),f)},useLayoutEffect:function(o,l){return Sm(4194308,4,o,l)},useInsertionEffect:function(o,l){Sm(4,2,o,l)},useMemo:function(o,l){var f=Tr();l=l===void 0?null:l;var m=o();if(Hl){Vn(!0);try{o()}finally{Vn(!1)}}return f.memoizedState=[m,l],m},useReducer:function(o,l,f){var m=Tr();if(f!==void 0){var x=f(l);if(Hl){Vn(!0);try{f(l)}finally{Vn(!1)}}}else x=l;return m.memoizedState=m.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},m.queue=o,o=o.dispatch=w9.bind(null,Xe,o),[m.memoizedState,o]},useRef:function(o){var l=Tr();return o={current:o},l.memoizedState=o},useState:function(o){o=xb(o);var l=o.queue,f=uC.bind(null,Xe,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:wb,useDeferredValue:function(o,l){var f=Tr();return Sb(f,o,l)},useTransition:function(){var o=xb(!1);return o=iC.bind(null,Xe,o.queue,!0,!1),Tr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var m=Xe,x=Tr();if(ct){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Mt===null)throw Error(r(349));(it&127)!==0||Mk(m,l,f)}x.memoizedState=f;var E={value:f,getSnapshot:l};return x.queue=E,Yk(Ok.bind(null,m,E,o),[o]),m.flags|=2048,ac(9,{destroy:void 0},Dk.bind(null,m,E,f,l),null),f},useId:function(){var o=Tr(),l=Mt.identifierPrefix;if(ct){var f=Ma,m=Pa;f=(m&~(1<<32-ut(m)-1)).toString(32)+f,l="_"+l+"R_"+f,f=xm++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=y9++,l="_"+l+"r_"+f.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:kb,useFormState:Hk,useActionState:Hk,useOptimistic:function(o){var l=Tr();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=Cb.bind(null,Xe,!0,f),f.dispatch=l,[o,l]},useMemoCache:vb,useCacheRefresh:function(){return Tr().memoizedState=T9.bind(null,Xe)},useEffectEvent:function(o){var l=Tr(),f={impl:o};return l.memoizedState=f,function(){if((vt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},Ib={readContext:Qn,use:Tm,useCallback:tC,useContext:Qn,useEffect:Tb,useImperativeHandle:eC,useInsertionEffect:Xk,useLayoutEffect:Qk,useMemo:nC,useReducer:wm,useRef:Wk,useState:function(){return wm(mo)},useDebugValue:wb,useDeferredValue:function(o,l){var f=dn();return rC(f,It.memoizedState,o,l)},useTransition:function(){var o=wm(mo)[0],l=dn().memoizedState;return[typeof o=="boolean"?o:mf(o),l]},useSyncExternalStore:Pk,useId:sC,useHostTransitionStatus:kb,useFormState:Gk,useActionState:Gk,useOptimistic:function(o,l){var f=dn();return Vk(f,It,o,l)},useMemoCache:vb,useCacheRefresh:lC};Ib.useEffectEvent=Jk;var hC={readContext:Qn,use:Tm,useCallback:tC,useContext:Qn,useEffect:Tb,useImperativeHandle:eC,useInsertionEffect:Xk,useLayoutEffect:Qk,useMemo:nC,useReducer:_b,useRef:Wk,useState:function(){return _b(mo)},useDebugValue:wb,useDeferredValue:function(o,l){var f=dn();return It===null?Sb(f,o,l):rC(f,It.memoizedState,o,l)},useTransition:function(){var o=_b(mo)[0],l=dn().memoizedState;return[typeof o=="boolean"?o:mf(o),l]},useSyncExternalStore:Pk,useId:sC,useHostTransitionStatus:kb,useFormState:Kk,useActionState:Kk,useOptimistic:function(o,l){var f=dn();return It!==null?Vk(f,It,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:vb,useCacheRefresh:lC};hC.useEffectEvent=Jk;function Rb(o,l,f,m){l=o.memoizedState,f=f(m,l),f=f==null?l:p({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Nb={enqueueSetState:function(o,l,f){o=o._reactInternals;var m=ni(),x=ys(m);x.payload=l,f!=null&&(x.callback=f),l=vs(o,x,m),l!==null&&(Lr(l,o,m),df(l,o,m))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var m=ni(),x=ys(m);x.tag=1,x.payload=l,f!=null&&(x.callback=f),l=vs(o,x,m),l!==null&&(Lr(l,o,m),df(l,o,m))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=ni(),m=ys(f);m.tag=2,l!=null&&(m.callback=l),l=vs(o,m,f),l!==null&&(Lr(l,o,f),df(l,o,f))}};function pC(o,l,f,m,x,E,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,E,I):l.prototype&&l.prototype.isPureReactComponent?!nf(f,m)||!nf(x,E):!0}function mC(o,l,f,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,m),l.state!==o&&Nb.enqueueReplaceState(l,l.state,null)}function Gl(o,l){var f=l;if("ref"in l){f={};for(var m in l)m!=="ref"&&(f[m]=l[m])}if(o=o.defaultProps){f===l&&(f=p({},f));for(var x in o)f[x]===void 0&&(f[x]=o[x])}return f}function gC(o){am(o)}function yC(o){console.error(o)}function vC(o){am(o)}function Cm(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function bC(o,l,f){try{var m=o.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Pb(o,l,f){return f=ys(f),f.tag=3,f.payload={element:null},f.callback=function(){Cm(o,l)},f}function _C(o){return o=ys(o),o.tag=3,o}function xC(o,l,f,m){var x=f.type.getDerivedStateFromError;if(typeof x=="function"){var E=m.value;o.payload=function(){return x(E)},o.callback=function(){bC(l,f,m)}}var I=f.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(o.callback=function(){bC(l,f,m),typeof x!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var z=m.stack;this.componentDidCatch(m.value,{componentStack:z!==null?z:""})})}function S9(o,l,f,m,x){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=f.alternate,l!==null&&Xu(l,f,x,!0),f=Qr.current,f!==null){switch(f.tag){case 31:case 13:return Si===null?Bm():f.alternate===null&&an===0&&(an=3),f.flags&=-257,f.flags|=65536,f.lanes=x,m===mm?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([m]):l.add(m),r_(o,m,x)),!1;case 22:return f.flags|=65536,m===mm?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([m]):f.add(m)),r_(o,m,x)),!1}throw Error(r(435,f.tag))}return r_(o,m,x),Bm(),!1}if(ct)return l=Qr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,m!==X0&&(o=Error(r(422),{cause:m}),of(xi(o,f)))):(m!==X0&&(l=Error(r(423),{cause:m}),of(xi(l,f))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,m=xi(m,f),x=Pb(o.stateNode,m,x),lb(o,x),an!==4&&(an=2)),!1;var E=Error(r(520),{cause:m});if(E=xi(E,f),Sf===null?Sf=[E]:Sf.push(E),an!==4&&(an=2),l===null)return!0;m=xi(m,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=x&-x,f.lanes|=o,o=Pb(f.stateNode,m,o),lb(f,o),!1;case 1:if(l=f.type,E=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ws===null||!ws.has(E))))return f.flags|=65536,x&=-x,f.lanes|=x,x=_C(x),xC(x,o,f,m),lb(f,x),!1}f=f.return}while(f!==null);return!1}var Mb=Error(r(461)),Tn=!1;function Zn(o,l,f,m){l.child=o===null?Sk(l,null,f,m):ql(l,o.child,f,m)}function EC(o,l,f,m,x){f=f.render;var E=l.ref;if("ref"in m){var I={};for(var z in m)z!=="ref"&&(I[z]=m[z])}else I=m;return Fl(l),m=pb(o,l,f,I,E,x),z=mb(),o!==null&&!Tn?(gb(o,l,x),go(o,l,x)):(ct&&z&&Y0(l),l.flags|=1,Zn(o,l,m,x),l.child)}function TC(o,l,f,m,x){if(o===null){var E=f.type;return typeof E=="function"&&!$0(E)&&E.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=E,wC(o,l,E,m,x)):(o=um(f.type,null,m,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(E=o.child,!jb(o,x)){var I=E.memoizedProps;if(f=f.compare,f=f!==null?f:nf,f(I,m)&&o.ref===l.ref)return go(o,l,x)}return l.flags|=1,o=uo(E,m),o.ref=l.ref,o.return=l,l.child=o}function wC(o,l,f,m,x){if(o!==null){var E=o.memoizedProps;if(nf(E,m)&&o.ref===l.ref)if(Tn=!1,l.pendingProps=m=E,jb(o,x))(o.flags&131072)!==0&&(Tn=!0);else return l.lanes=o.lanes,go(o,l,x)}return Db(o,l,f,m,x)}function SC(o,l,f,m){var x=m.children,E=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(E=E!==null?E.baseLanes|f:f,o!==null){for(m=l.child=o.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;m=x&~E}else m=0,l.child=null;return AC(o,l,E,f,m)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&hm(l,E!==null?E.cachePool:null),E!==null?Ck(l,E):cb(),Ik(l);else return m=l.lanes=536870912,AC(o,l,E!==null?E.baseLanes|f:f,f,m)}else E!==null?(hm(l,E.cachePool),Ck(l,E),_s(),l.memoizedState=null):(o!==null&&hm(l,null),cb(),_s());return Zn(o,l,x,f),l.child}function vf(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function AC(o,l,f,m,x){var E=ib();return E=E===null?null:{parent:xn._currentValue,pool:E},l.memoizedState={baseLanes:f,cachePool:E},o!==null&&hm(l,null),cb(),Ik(l),o!==null&&Xu(o,l,m,!0),l.childLanes=x,null}function Im(o,l){return l=Nm({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function kC(o,l,f){return ql(l,o.child,null,f),o=Im(l,l.pendingProps),o.flags|=2,Zr(l),l.memoizedState=null,o}function A9(o,l,f){var m=l.pendingProps,x=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(ct){if(m.mode==="hidden")return o=Im(l,m),l.lanes=536870912,vf(null,o);if(fb(l),(o=jt)?(o=FI(o,wi),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:fs!==null?{id:Pa,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},f=ck(o),f.return=l,l.child=f,Xn=l,jt=null)):o=null,o===null)throw ps(l);return l.lanes=536870912,null}return Im(l,m)}var E=o.memoizedState;if(E!==null){var I=E.dehydrated;if(fb(l),x)if(l.flags&256)l.flags&=-257,l=kC(o,l,f);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(Tn||Xu(o,l,f,!1),x=(f&o.childLanes)!==0,Tn||x){if(m=Mt,m!==null&&(I=Vd(m,f),I!==0&&I!==E.retryLane))throw E.retryLane=I,Ol(o,I),Lr(m,o,I),Mb;Bm(),l=kC(o,l,f)}else o=E.treeContext,jt=Ai(I.nextSibling),Xn=l,ct=!0,hs=null,wi=!1,o!==null&&hk(l,o),l=Im(l,m),l.flags|=4096;return l}return o=uo(o.child,{mode:m.mode,children:m.children}),o.ref=l.ref,l.child=o,o.return=l,o}function Rm(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function Db(o,l,f,m,x){return Fl(l),f=pb(o,l,f,m,void 0,x),m=mb(),o!==null&&!Tn?(gb(o,l,x),go(o,l,x)):(ct&&m&&Y0(l),l.flags|=1,Zn(o,l,f,x),l.child)}function CC(o,l,f,m,x,E){return Fl(l),l.updateQueue=null,f=Nk(l,m,f,x),Rk(o),m=mb(),o!==null&&!Tn?(gb(o,l,E),go(o,l,E)):(ct&&m&&Y0(l),l.flags|=1,Zn(o,l,f,E),l.child)}function IC(o,l,f,m,x){if(Fl(l),l.stateNode===null){var E=Ku,I=f.contextType;typeof I=="object"&&I!==null&&(E=Qn(I)),E=new f(m,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Nb,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=m,E.state=l.memoizedState,E.refs={},ob(l),I=f.contextType,E.context=typeof I=="object"&&I!==null?Qn(I):Ku,E.state=l.memoizedState,I=f.getDerivedStateFromProps,typeof I=="function"&&(Rb(l,f,I,m),E.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(I=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),I!==E.state&&Nb.enqueueReplaceState(E,E.state,null),hf(l,m,E,x),ff(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(o===null){E=l.stateNode;var z=l.memoizedProps,J=Gl(f,z);E.props=J;var ie=E.context,he=f.contextType;I=Ku,typeof he=="object"&&he!==null&&(I=Qn(he));var be=f.getDerivedStateFromProps;he=typeof be=="function"||typeof E.getSnapshotBeforeUpdate=="function",z=l.pendingProps!==z,he||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(z||ie!==I)&&mC(l,E,m,I),gs=!1;var oe=l.memoizedState;E.state=oe,hf(l,m,E,x),ff(),ie=l.memoizedState,z||oe!==ie||gs?(typeof be=="function"&&(Rb(l,f,be,m),ie=l.memoizedState),(J=gs||pC(l,f,J,m,oe,ie,I))?(he||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ie),E.props=m,E.state=ie,E.context=I,m=J):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{E=l.stateNode,sb(o,l),I=l.memoizedProps,he=Gl(f,I),E.props=he,be=l.pendingProps,oe=E.context,ie=f.contextType,J=Ku,typeof ie=="object"&&ie!==null&&(J=Qn(ie)),z=f.getDerivedStateFromProps,(ie=typeof z=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(I!==be||oe!==J)&&mC(l,E,m,J),gs=!1,oe=l.memoizedState,E.state=oe,hf(l,m,E,x),ff();var ue=l.memoizedState;I!==be||oe!==ue||gs||o!==null&&o.dependencies!==null&&dm(o.dependencies)?(typeof z=="function"&&(Rb(l,f,z,m),ue=l.memoizedState),(he=gs||pC(l,f,he,m,oe,ue,J)||o!==null&&o.dependencies!==null&&dm(o.dependencies))?(ie||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(m,ue,J),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(m,ue,J)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||I===o.memoizedProps&&oe===o.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&oe===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ue),E.props=m,E.state=ue,E.context=J,m=he):(typeof E.componentDidUpdate!="function"||I===o.memoizedProps&&oe===o.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&oe===o.memoizedState||(l.flags|=1024),m=!1)}return E=m,Rm(o,l),m=(l.flags&128)!==0,E||m?(E=l.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,o!==null&&m?(l.child=ql(l,o.child,null,x),l.child=ql(l,null,f,x)):Zn(o,l,f,x),l.memoizedState=E.state,o=l.child):o=go(o,l,x),o}function RC(o,l,f,m){return Ul(),l.flags|=256,Zn(o,l,f,m),l.child}var Ob={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lb(o){return{baseLanes:o,cachePool:bk()}}function Ub(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=ti),o}function NC(o,l,f){var m=l.pendingProps,x=!1,E=(l.flags&128)!==0,I;if((I=E)||(I=o!==null&&o.memoizedState===null?!1:(cn.current&2)!==0),I&&(x=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,o===null){if(ct){if(x?bs(l):_s(),(o=jt)?(o=FI(o,wi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:fs!==null?{id:Pa,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},f=ck(o),f.return=l,l.child=f,Xn=l,jt=null)):o=null,o===null)throw ps(l);return b_(o)?l.lanes=32:l.lanes=536870912,null}var z=m.children;return m=m.fallback,x?(_s(),x=l.mode,z=Nm({mode:"hidden",children:z},x),m=Ll(m,x,f,null),z.return=l,m.return=l,z.sibling=m,l.child=z,m=l.child,m.memoizedState=Lb(f),m.childLanes=Ub(o,I,f),l.memoizedState=Ob,vf(null,m)):(bs(l),Vb(l,z))}var J=o.memoizedState;if(J!==null&&(z=J.dehydrated,z!==null)){if(E)l.flags&256?(bs(l),l.flags&=-257,l=Fb(o,l,f)):l.memoizedState!==null?(_s(),l.child=o.child,l.flags|=128,l=null):(_s(),z=m.fallback,x=l.mode,m=Nm({mode:"visible",children:m.children},x),z=Ll(z,x,f,null),z.flags|=2,m.return=l,z.return=l,m.sibling=z,l.child=m,ql(l,o.child,null,f),m=l.child,m.memoizedState=Lb(f),m.childLanes=Ub(o,I,f),l.memoizedState=Ob,l=vf(null,m));else if(bs(l),b_(z)){if(I=z.nextSibling&&z.nextSibling.dataset,I)var ie=I.dgst;I=ie,m=Error(r(419)),m.stack="",m.digest=I,of({value:m,source:null,stack:null}),l=Fb(o,l,f)}else if(Tn||Xu(o,l,f,!1),I=(f&o.childLanes)!==0,Tn||I){if(I=Mt,I!==null&&(m=Vd(I,f),m!==0&&m!==J.retryLane))throw J.retryLane=m,Ol(o,m),Lr(I,o,m),Mb;v_(z)||Bm(),l=Fb(o,l,f)}else v_(z)?(l.flags|=192,l.child=o.child,l=null):(o=J.treeContext,jt=Ai(z.nextSibling),Xn=l,ct=!0,hs=null,wi=!1,o!==null&&hk(l,o),l=Vb(l,m.children),l.flags|=4096);return l}return x?(_s(),z=m.fallback,x=l.mode,J=o.child,ie=J.sibling,m=uo(J,{mode:"hidden",children:m.children}),m.subtreeFlags=J.subtreeFlags&65011712,ie!==null?z=uo(ie,z):(z=Ll(z,x,f,null),z.flags|=2),z.return=l,m.return=l,m.sibling=z,l.child=m,vf(null,m),m=l.child,z=o.child.memoizedState,z===null?z=Lb(f):(x=z.cachePool,x!==null?(J=xn._currentValue,x=x.parent!==J?{parent:J,pool:J}:x):x=bk(),z={baseLanes:z.baseLanes|f,cachePool:x}),m.memoizedState=z,m.childLanes=Ub(o,I,f),l.memoizedState=Ob,vf(o.child,m)):(bs(l),f=o.child,o=f.sibling,f=uo(f,{mode:"visible",children:m.children}),f.return=l,f.sibling=null,o!==null&&(I=l.deletions,I===null?(l.deletions=[o],l.flags|=16):I.push(o)),l.child=f,l.memoizedState=null,f)}function Vb(o,l){return l=Nm({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function Nm(o,l){return o=Xr(22,o,null,l),o.lanes=0,o}function Fb(o,l,f){return ql(l,o.child,null,f),o=Vb(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function PC(o,l,f){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),eb(o.return,l,f)}function Bb(o,l,f,m,x,E){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:x,treeForkCount:E}:(I.isBackwards=l,I.rendering=null,I.renderingStartTime=0,I.last=m,I.tail=f,I.tailMode=x,I.treeForkCount=E)}function MC(o,l,f){var m=l.pendingProps,x=m.revealOrder,E=m.tail;m=m.children;var I=cn.current,z=(I&2)!==0;if(z?(I=I&1|2,l.flags|=128):I&=1,$(cn,I),Zn(o,l,m,f),m=ct?af:0,!z&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&PC(o,f,l);else if(o.tag===19)PC(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(x){case"forwards":for(f=l.child,x=null;f!==null;)o=f.alternate,o!==null&&bm(o)===null&&(x=f),f=f.sibling;f=x,f===null?(x=l.child,l.child=null):(x=f.sibling,f.sibling=null),Bb(l,!1,x,f,E,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&bm(o)===null){l.child=x;break}o=x.sibling,x.sibling=f,f=x,x=o}Bb(l,!0,f,null,E,m);break;case"together":Bb(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function go(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),Ts|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(Xu(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=uo(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=uo(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function jb(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&dm(o)))}function k9(o,l,f){switch(l.tag){case 3:He(l,l.stateNode.containerInfo),ms(l,xn,o.memoizedState.cache),Ul();break;case 27:case 5:Ve(l);break;case 4:He(l,l.stateNode.containerInfo);break;case 10:ms(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,fb(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(bs(l),l.flags|=128,null):(f&l.child.childLanes)!==0?NC(o,l,f):(bs(l),o=go(o,l,f),o!==null?o.sibling:null);bs(l);break;case 19:var x=(o.flags&128)!==0;if(m=(f&l.childLanes)!==0,m||(Xu(o,l,f,!1),m=(f&l.childLanes)!==0),x){if(m)return MC(o,l,f);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),$(cn,cn.current),m)break;return null;case 22:return l.lanes=0,SC(o,l,f,l.pendingProps);case 24:ms(l,xn,o.memoizedState.cache)}return go(o,l,f)}function DC(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)Tn=!0;else{if(!jb(o,f)&&(l.flags&128)===0)return Tn=!1,k9(o,l,f);Tn=(o.flags&131072)!==0}else Tn=!1,ct&&(l.flags&1048576)!==0&&fk(l,af,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(o=jl(l.elementType),l.type=o,typeof o=="function")$0(o)?(m=Gl(o,m),l.tag=1,l=IC(null,l,o,m,f)):(l.tag=0,l=Db(null,l,o,m,f));else{if(o!=null){var x=o.$$typeof;if(x===F){l.tag=11,l=EC(null,l,o,m,f);break e}else if(x===D){l.tag=14,l=TC(null,l,o,m,f);break e}}throw l=de(o)||o,Error(r(306,l,""))}}return l;case 0:return Db(o,l,l.type,l.pendingProps,f);case 1:return m=l.type,x=Gl(m,l.pendingProps),IC(o,l,m,x,f);case 3:e:{if(He(l,l.stateNode.containerInfo),o===null)throw Error(r(387));m=l.pendingProps;var E=l.memoizedState;x=E.element,sb(o,l),hf(l,m,null,f);var I=l.memoizedState;if(m=I.cache,ms(l,xn,m),m!==E.cache&&tb(l,[xn],f,!0),ff(),m=I.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){l=RC(o,l,m,f);break e}else if(m!==x){x=xi(Error(r(424)),l),of(x),l=RC(o,l,m,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(jt=Ai(o.firstChild),Xn=l,ct=!0,hs=null,wi=!0,f=Sk(l,null,m,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Ul(),m===x){l=go(o,l,f);break e}Zn(o,l,m,f)}l=l.child}return l;case 26:return Rm(o,l),o===null?(f=GI(l.type,null,l.pendingProps,null))?l.memoizedState=f:ct||(f=l.type,o=l.pendingProps,m=Km(_e.current).createElement(f),m[vn]=l,m[Fn]=o,er(m,f,o),bn(m),l.stateNode=m):l.memoizedState=GI(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ve(l),o===null&&ct&&(m=l.stateNode=zI(l.type,l.pendingProps,_e.current),Xn=l,wi=!0,x=jt,Cs(l.type)?(__=x,jt=Ai(m.firstChild)):jt=x),Zn(o,l,l.pendingProps.children,f),Rm(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&ct&&((x=m=jt)&&(m=rq(m,l.type,l.pendingProps,wi),m!==null?(l.stateNode=m,Xn=l,jt=Ai(m.firstChild),wi=!1,x=!0):x=!1),x||ps(l)),Ve(l),x=l.type,E=l.pendingProps,I=o!==null?o.memoizedProps:null,m=E.children,m_(x,E)?m=null:I!==null&&m_(x,I)&&(l.flags|=32),l.memoizedState!==null&&(x=pb(o,l,v9,null,null,f),Mf._currentValue=x),Rm(o,l),Zn(o,l,m,f),l.child;case 6:return o===null&&ct&&((o=f=jt)&&(f=iq(f,l.pendingProps,wi),f!==null?(l.stateNode=f,Xn=l,jt=null,o=!0):o=!1),o||ps(l)),null;case 13:return NC(o,l,f);case 4:return He(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=ql(l,null,m,f):Zn(o,l,m,f),l.child;case 11:return EC(o,l,l.type,l.pendingProps,f);case 7:return Zn(o,l,l.pendingProps,f),l.child;case 8:return Zn(o,l,l.pendingProps.children,f),l.child;case 12:return Zn(o,l,l.pendingProps.children,f),l.child;case 10:return m=l.pendingProps,ms(l,l.type,m.value),Zn(o,l,m.children,f),l.child;case 9:return x=l.type._context,m=l.pendingProps.children,Fl(l),x=Qn(x),m=m(x),l.flags|=1,Zn(o,l,m,f),l.child;case 14:return TC(o,l,l.type,l.pendingProps,f);case 15:return wC(o,l,l.type,l.pendingProps,f);case 19:return MC(o,l,f);case 31:return A9(o,l,f);case 22:return SC(o,l,f,l.pendingProps);case 24:return Fl(l),m=Qn(xn),o===null?(x=ib(),x===null&&(x=Mt,E=nb(),x.pooledCache=E,E.refCount++,E!==null&&(x.pooledCacheLanes|=f),x=E),l.memoizedState={parent:m,cache:x},ob(l),ms(l,xn,x)):((o.lanes&f)!==0&&(sb(o,l),hf(l,null,null,f),ff()),x=o.memoizedState,E=l.memoizedState,x.parent!==m?(x={parent:m,cache:m},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),ms(l,xn,m)):(m=E.cache,ms(l,xn,m),m!==x.cache&&tb(l,[xn],f,!0))),Zn(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function yo(o){o.flags|=4}function zb(o,l,f,m,x){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(x&335544128)===x)if(o.stateNode.complete)o.flags|=8192;else if(sI())o.flags|=8192;else throw zl=mm,ab}else o.flags&=-16777217}function OC(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!JI(l))if(sI())o.flags|=8192;else throw zl=mm,ab}function Pm(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Vp():536870912,o.lanes|=l,uc|=l)}function bf(o,l){if(!ct)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function zt(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,m=0;if(l)for(var x=o.child;x!==null;)f|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)f|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=m,o.childLanes=f,l}function C9(o,l,f){var m=l.pendingProps;switch(J0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(l),null;case 1:return zt(l),null;case 3:return f=l.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),ho(xn),fe(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Ju(l)?yo(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Q0())),zt(l),null;case 26:var x=l.type,E=l.memoizedState;return o===null?(yo(l),E!==null?(zt(l),OC(l,E)):(zt(l),zb(l,x,null,m,f))):E?E!==o.memoizedState?(yo(l),zt(l),OC(l,E)):(zt(l),l.flags&=-16777217):(o=o.memoizedProps,o!==m&&yo(l),zt(l),zb(l,x,o,m,f)),null;case 27:if(Ge(l),f=_e.current,x=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&yo(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return zt(l),null}o=ee.current,Ju(l)?pk(l):(o=zI(x,m,f),l.stateNode=o,yo(l))}return zt(l),null;case 5:if(Ge(l),x=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&yo(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return zt(l),null}if(E=ee.current,Ju(l))pk(l);else{var I=Km(_e.current);switch(E){case 1:E=I.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:E=I.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":E=I.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":E=I.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":E=I.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof m.is=="string"?I.createElement("select",{is:m.is}):I.createElement("select"),m.multiple?E.multiple=!0:m.size&&(E.size=m.size);break;default:E=typeof m.is=="string"?I.createElement(x,{is:m.is}):I.createElement(x)}}E[vn]=l,E[Fn]=m;e:for(I=l.child;I!==null;){if(I.tag===5||I.tag===6)E.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===l)break e;for(;I.sibling===null;){if(I.return===null||I.return===l)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}l.stateNode=E;e:switch(er(E,x,m),x){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&yo(l)}}return zt(l),zb(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,f),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==m&&yo(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(o=_e.current,Ju(l)){if(o=l.stateNode,f=l.memoizedProps,m=null,x=Xn,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}o[vn]=l,o=!!(o.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||NI(o.nodeValue,f)),o||ps(l,!0)}else o=Km(o).createTextNode(m),o[vn]=l,l.stateNode=o}return zt(l),null;case 31:if(f=l.memoizedState,o===null||o.memoizedState!==null){if(m=Ju(l),f!==null){if(o===null){if(!m)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[vn]=l}else Ul(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zt(l),o=!1}else f=Q0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return l.flags&256?(Zr(l),l):(Zr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return zt(l),null;case 13:if(m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=Ju(l),m!==null&&m.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[vn]=l}else Ul(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zt(l),x=!1}else x=Q0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(Zr(l),l):(Zr(l),null)}return Zr(l),(l.flags&128)!==0?(l.lanes=f,l):(f=m!==null,o=o!==null&&o.memoizedState!==null,f&&(m=l.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool),E=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==x&&(m.flags|=2048)),f!==o&&f&&(l.child.flags|=8192),Pm(l,l.updateQueue),zt(l),null);case 4:return fe(),o===null&&c_(l.stateNode.containerInfo),zt(l),null;case 10:return ho(l.type),zt(l),null;case 19:if(se(cn),m=l.memoizedState,m===null)return zt(l),null;if(x=(l.flags&128)!==0,E=m.rendering,E===null)if(x)bf(m,!1);else{if(an!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(E=bm(o),E!==null){for(l.flags|=128,bf(m,!1),o=E.updateQueue,l.updateQueue=o,Pm(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)uk(f,o),f=f.sibling;return $(cn,cn.current&1|2),ct&&co(l,m.treeForkCount),l.child}o=o.sibling}m.tail!==null&&Yn()>Um&&(l.flags|=128,x=!0,bf(m,!1),l.lanes=4194304)}else{if(!x)if(o=bm(E),o!==null){if(l.flags|=128,x=!0,o=o.updateQueue,l.updateQueue=o,Pm(l,o),bf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!E.alternate&&!ct)return zt(l),null}else 2*Yn()-m.renderingStartTime>Um&&f!==536870912&&(l.flags|=128,x=!0,bf(m,!1),l.lanes=4194304);m.isBackwards?(E.sibling=l.child,l.child=E):(o=m.last,o!==null?o.sibling=E:l.child=E,m.last=E)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Yn(),o.sibling=null,f=cn.current,$(cn,x?f&1|2:f&1),ct&&co(l,m.treeForkCount),o):(zt(l),null);case 22:case 23:return Zr(l),db(),m=l.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(f&536870912)!==0&&(l.flags&128)===0&&(zt(l),l.subtreeFlags&6&&(l.flags|=8192)):zt(l),f=l.updateQueue,f!==null&&Pm(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048),o!==null&&se(Bl),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),ho(xn),zt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function I9(o,l){switch(J0(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ho(xn),fe(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Ge(l),null;case 31:if(l.memoizedState!==null){if(Zr(l),l.alternate===null)throw Error(r(340));Ul()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(Zr(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ul()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return se(cn),null;case 4:return fe(),null;case 10:return ho(l.type),null;case 22:case 23:return Zr(l),db(),o!==null&&se(Bl),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return ho(xn),null;case 25:return null;default:return null}}function LC(o,l){switch(J0(l),l.tag){case 3:ho(xn),fe();break;case 26:case 27:case 5:Ge(l);break;case 4:fe();break;case 31:l.memoizedState!==null&&Zr(l);break;case 13:Zr(l);break;case 19:se(cn);break;case 10:ho(l.type);break;case 22:case 23:Zr(l),db(),o!==null&&se(Bl);break;case 24:ho(xn)}}function _f(o,l){try{var f=l.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var x=m.next;f=x;do{if((f.tag&o)===o){m=void 0;var E=f.create,I=f.inst;m=E(),I.destroy=m}f=f.next}while(f!==x)}}catch(z){wt(l,l.return,z)}}function xs(o,l,f){try{var m=l.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var E=x.next;m=E;do{if((m.tag&o)===o){var I=m.inst,z=I.destroy;if(z!==void 0){I.destroy=void 0,x=l;var J=f,ie=z;try{ie()}catch(he){wt(x,J,he)}}}m=m.next}while(m!==E)}}catch(he){wt(l,l.return,he)}}function UC(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{kk(l,f)}catch(m){wt(o,o.return,m)}}}function VC(o,l,f){f.props=Gl(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(m){wt(o,l,m)}}function xf(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof f=="function"?o.refCleanup=f(m):f.current=m}}catch(x){wt(o,l,x)}}function Da(o,l){var f=o.ref,m=o.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(x){wt(o,l,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(x){wt(o,l,x)}else f.current=null}function FC(o){var l=o.type,f=o.memoizedProps,m=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(x){wt(o,o.return,x)}}function qb(o,l,f){try{var m=o.stateNode;X9(m,o.type,f,l),m[Fn]=l}catch(x){wt(o,o.return,x)}}function BC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Cs(o.type)||o.tag===4}function Hb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||BC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Cs(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Gb(o,l,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Ki));else if(m!==4&&(m===27&&Cs(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(Gb(o,l,f),o=o.sibling;o!==null;)Gb(o,l,f),o=o.sibling}function Mm(o,l,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(m!==4&&(m===27&&Cs(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Mm(o,l,f),o=o.sibling;o!==null;)Mm(o,l,f),o=o.sibling}function jC(o){var l=o.stateNode,f=o.memoizedProps;try{for(var m=o.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);er(l,m,f),l[vn]=o,l[Fn]=f}catch(E){wt(o,o.return,E)}}var vo=!1,wn=!1,$b=!1,zC=typeof WeakSet=="function"?WeakSet:Set,jn=null;function R9(o,l){if(o=o.containerInfo,h_=eg,o=ek(o),F0(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var x=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{f.nodeType,E.nodeType}catch{f=null;break e}var I=0,z=-1,J=-1,ie=0,he=0,be=o,oe=null;t:for(;;){for(var ue;be!==f||x!==0&&be.nodeType!==3||(z=I+x),be!==E||m!==0&&be.nodeType!==3||(J=I+m),be.nodeType===3&&(I+=be.nodeValue.length),(ue=be.firstChild)!==null;)oe=be,be=ue;for(;;){if(be===o)break t;if(oe===f&&++ie===x&&(z=I),oe===E&&++he===m&&(J=I),(ue=be.nextSibling)!==null)break;be=oe,oe=be.parentNode}be=ue}f=z===-1||J===-1?null:{start:z,end:J}}else f=null}f=f||{start:0,end:0}}else f=null;for(p_={focusedElem:o,selectionRange:f},eg=!1,jn=l;jn!==null;)if(l=jn,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,jn=o;else for(;jn!==null;){switch(l=jn,E=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)x=o[f],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&E!==null){o=void 0,f=l,x=E.memoizedProps,E=E.memoizedState,m=f.stateNode;try{var Me=Gl(f.type,x);o=m.getSnapshotBeforeUpdate(Me,E),m.__reactInternalSnapshotBeforeUpdate=o}catch(je){wt(f,f.return,je)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)y_(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":y_(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,jn=o;break}jn=l.return}}function qC(o,l,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:_o(o,f),m&4&&_f(5,f);break;case 1:if(_o(o,f),m&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(I){wt(f,f.return,I)}else{var x=Gl(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(x,l,o.__reactInternalSnapshotBeforeUpdate)}catch(I){wt(f,f.return,I)}}m&64&&UC(f),m&512&&xf(f,f.return);break;case 3:if(_o(o,f),m&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{kk(o,l)}catch(I){wt(f,f.return,I)}}break;case 27:l===null&&m&4&&jC(f);case 26:case 5:_o(o,f),l===null&&m&4&&FC(f),m&512&&xf(f,f.return);break;case 12:_o(o,f);break;case 31:_o(o,f),m&4&&$C(o,f);break;case 13:_o(o,f),m&4&&KC(o,f),m&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=F9.bind(null,f),aq(o,f))));break;case 22:if(m=f.memoizedState!==null||vo,!m){l=l!==null&&l.memoizedState!==null||wn,x=vo;var E=wn;vo=m,(wn=l)&&!E?xo(o,f,(f.subtreeFlags&8772)!==0):_o(o,f),vo=x,wn=E}break;case 30:break;default:_o(o,f)}}function HC(o){var l=o.alternate;l!==null&&(o.alternate=null,HC(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Mu(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Yt=null,Pr=!1;function bo(o,l,f){for(f=f.child;f!==null;)GC(o,l,f),f=f.sibling}function GC(o,l,f){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ln,f)}catch{}switch(f.tag){case 26:wn||Da(f,l),bo(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:wn||Da(f,l);var m=Yt,x=Pr;Cs(f.type)&&(Yt=f.stateNode,Pr=!1),bo(o,l,f),Rf(f.stateNode),Yt=m,Pr=x;break;case 5:wn||Da(f,l);case 6:if(m=Yt,x=Pr,Yt=null,bo(o,l,f),Yt=m,Pr=x,Yt!==null)if(Pr)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(f.stateNode)}catch(E){wt(f,l,E)}else try{Yt.removeChild(f.stateNode)}catch(E){wt(f,l,E)}break;case 18:Yt!==null&&(Pr?(o=Yt,UI(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),yc(o)):UI(Yt,f.stateNode));break;case 4:m=Yt,x=Pr,Yt=f.stateNode.containerInfo,Pr=!0,bo(o,l,f),Yt=m,Pr=x;break;case 0:case 11:case 14:case 15:xs(2,f,l),wn||xs(4,f,l),bo(o,l,f);break;case 1:wn||(Da(f,l),m=f.stateNode,typeof m.componentWillUnmount=="function"&&VC(f,l,m)),bo(o,l,f);break;case 21:bo(o,l,f);break;case 22:wn=(m=wn)||f.memoizedState!==null,bo(o,l,f),wn=m;break;default:bo(o,l,f)}}function $C(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{yc(o)}catch(f){wt(l,l.return,f)}}}function KC(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{yc(o)}catch(f){wt(l,l.return,f)}}function N9(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new zC),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new zC),l;default:throw Error(r(435,o.tag))}}function Dm(o,l){var f=N9(o);l.forEach(function(m){if(!f.has(m)){f.add(m);var x=B9.bind(null,o,m);m.then(x,x)}})}function Mr(o,l){var f=l.deletions;if(f!==null)for(var m=0;m<f.length;m++){var x=f[m],E=o,I=l,z=I;e:for(;z!==null;){switch(z.tag){case 27:if(Cs(z.type)){Yt=z.stateNode,Pr=!1;break e}break;case 5:Yt=z.stateNode,Pr=!1;break e;case 3:case 4:Yt=z.stateNode.containerInfo,Pr=!0;break e}z=z.return}if(Yt===null)throw Error(r(160));GC(E,I,x),Yt=null,Pr=!1,E=x.alternate,E!==null&&(E.return=null),x.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)WC(l,o),l=l.sibling}var Zi=null;function WC(o,l){var f=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Mr(l,o),Dr(o),m&4&&(xs(3,o,o.return),_f(3,o),xs(5,o,o.return));break;case 1:Mr(l,o),Dr(o),m&512&&(wn||f===null||Da(f,f.return)),m&64&&vo&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var x=Zi;if(Mr(l,o),Dr(o),m&512&&(wn||f===null||Da(f,f.return)),m&4){var E=f!==null?f.memoizedState:null;if(m=o.memoizedState,f===null)if(m===null)if(o.stateNode===null){e:{m=o.type,f=o.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":E=x.getElementsByTagName("title")[0],(!E||E[_a]||E[vn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=x.createElement(m),x.head.insertBefore(E,x.querySelector("head > title"))),er(E,m,f),E[vn]=o,bn(E),m=E;break e;case"link":var I=WI("link","href",x).get(m+(f.href||""));if(I){for(var z=0;z<I.length;z++)if(E=I[z],E.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&E.getAttribute("rel")===(f.rel==null?null:f.rel)&&E.getAttribute("title")===(f.title==null?null:f.title)&&E.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){I.splice(z,1);break t}}E=x.createElement(m),er(E,m,f),x.head.appendChild(E);break;case"meta":if(I=WI("meta","content",x).get(m+(f.content||""))){for(z=0;z<I.length;z++)if(E=I[z],E.getAttribute("content")===(f.content==null?null:""+f.content)&&E.getAttribute("name")===(f.name==null?null:f.name)&&E.getAttribute("property")===(f.property==null?null:f.property)&&E.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&E.getAttribute("charset")===(f.charSet==null?null:f.charSet)){I.splice(z,1);break t}}E=x.createElement(m),er(E,m,f),x.head.appendChild(E);break;default:throw Error(r(468,m))}E[vn]=o,bn(E),m=E}o.stateNode=m}else YI(x,o.type,o.stateNode);else o.stateNode=KI(x,m,o.memoizedProps);else E!==m?(E===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):E.count--,m===null?YI(x,o.type,o.stateNode):KI(x,m,o.memoizedProps)):m===null&&o.stateNode!==null&&qb(o,o.memoizedProps,f.memoizedProps)}break;case 27:Mr(l,o),Dr(o),m&512&&(wn||f===null||Da(f,f.return)),f!==null&&m&4&&qb(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Mr(l,o),Dr(o),m&512&&(wn||f===null||Da(f,f.return)),o.flags&32){x=o.stateNode;try{Nr(x,"")}catch(Me){wt(o,o.return,Me)}}m&4&&o.stateNode!=null&&(x=o.memoizedProps,qb(o,x,f!==null?f.memoizedProps:x)),m&1024&&($b=!0);break;case 6:if(Mr(l,o),Dr(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,f=o.stateNode;try{f.nodeValue=m}catch(Me){wt(o,o.return,Me)}}break;case 3:if(Jm=null,x=Zi,Zi=Wm(l.containerInfo),Mr(l,o),Zi=x,Dr(o),m&4&&f!==null&&f.memoizedState.isDehydrated)try{yc(l.containerInfo)}catch(Me){wt(o,o.return,Me)}$b&&($b=!1,YC(o));break;case 4:m=Zi,Zi=Wm(o.stateNode.containerInfo),Mr(l,o),Dr(o),Zi=m;break;case 12:Mr(l,o),Dr(o);break;case 31:Mr(l,o),Dr(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Dm(o,m)));break;case 13:Mr(l,o),Dr(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Lm=Yn()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Dm(o,m)));break;case 22:x=o.memoizedState!==null;var J=f!==null&&f.memoizedState!==null,ie=vo,he=wn;if(vo=ie||x,wn=he||J,Mr(l,o),wn=he,vo=ie,Dr(o),m&8192)e:for(l=o.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(f===null||J||vo||wn||$l(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){J=f=l;try{if(E=J.stateNode,x)I=E.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{z=J.stateNode;var be=J.memoizedProps.style,oe=be!=null&&be.hasOwnProperty("display")?be.display:null;z.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Me){wt(J,J.return,Me)}}}else if(l.tag===6){if(f===null){J=l;try{J.stateNode.nodeValue=x?"":J.memoizedProps}catch(Me){wt(J,J.return,Me)}}}else if(l.tag===18){if(f===null){J=l;try{var ue=J.stateNode;x?VI(ue,!0):VI(J.stateNode,!1)}catch(Me){wt(J,J.return,Me)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=o.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,Dm(o,f))));break;case 19:Mr(l,o),Dr(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Dm(o,m)));break;case 30:break;case 21:break;default:Mr(l,o),Dr(o)}}function Dr(o){var l=o.flags;if(l&2){try{for(var f,m=o.return;m!==null;){if(BC(m)){f=m;break}m=m.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var x=f.stateNode,E=Hb(o);Mm(o,E,x);break;case 5:var I=f.stateNode;f.flags&32&&(Nr(I,""),f.flags&=-33);var z=Hb(o);Mm(o,z,I);break;case 3:case 4:var J=f.stateNode.containerInfo,ie=Hb(o);Gb(o,ie,J);break;default:throw Error(r(161))}}catch(he){wt(o,o.return,he)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function YC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;YC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function _o(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)qC(o,l.alternate,l),l=l.sibling}function $l(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:xs(4,l,l.return),$l(l);break;case 1:Da(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&VC(l,l.return,f),$l(l);break;case 27:Rf(l.stateNode);case 26:case 5:Da(l,l.return),$l(l);break;case 22:l.memoizedState===null&&$l(l);break;case 30:$l(l);break;default:$l(l)}o=o.sibling}}function xo(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,x=o,E=l,I=E.flags;switch(E.tag){case 0:case 11:case 15:xo(x,E,f),_f(4,E);break;case 1:if(xo(x,E,f),m=E,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ie){wt(m,m.return,ie)}if(m=E,x=m.updateQueue,x!==null){var z=m.stateNode;try{var J=x.shared.hiddenCallbacks;if(J!==null)for(x.shared.hiddenCallbacks=null,x=0;x<J.length;x++)Ak(J[x],z)}catch(ie){wt(m,m.return,ie)}}f&&I&64&&UC(E),xf(E,E.return);break;case 27:jC(E);case 26:case 5:xo(x,E,f),f&&m===null&&I&4&&FC(E),xf(E,E.return);break;case 12:xo(x,E,f);break;case 31:xo(x,E,f),f&&I&4&&$C(x,E);break;case 13:xo(x,E,f),f&&I&4&&KC(x,E);break;case 22:E.memoizedState===null&&xo(x,E,f),xf(E,E.return);break;case 30:break;default:xo(x,E,f)}l=l.sibling}}function Kb(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&sf(f))}function Wb(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&sf(o))}function ea(o,l,f,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)JC(o,l,f,m),l=l.sibling}function JC(o,l,f,m){var x=l.flags;switch(l.tag){case 0:case 11:case 15:ea(o,l,f,m),x&2048&&_f(9,l);break;case 1:ea(o,l,f,m);break;case 3:ea(o,l,f,m),x&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&sf(o)));break;case 12:if(x&2048){ea(o,l,f,m),o=l.stateNode;try{var E=l.memoizedProps,I=E.id,z=E.onPostCommit;typeof z=="function"&&z(I,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(J){wt(l,l.return,J)}}else ea(o,l,f,m);break;case 31:ea(o,l,f,m);break;case 13:ea(o,l,f,m);break;case 23:break;case 22:E=l.stateNode,I=l.alternate,l.memoizedState!==null?E._visibility&2?ea(o,l,f,m):Ef(o,l):E._visibility&2?ea(o,l,f,m):(E._visibility|=2,oc(o,l,f,m,(l.subtreeFlags&10256)!==0||!1)),x&2048&&Kb(I,l);break;case 24:ea(o,l,f,m),x&2048&&Wb(l.alternate,l);break;default:ea(o,l,f,m)}}function oc(o,l,f,m,x){for(x=x&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var E=o,I=l,z=f,J=m,ie=I.flags;switch(I.tag){case 0:case 11:case 15:oc(E,I,z,J,x),_f(8,I);break;case 23:break;case 22:var he=I.stateNode;I.memoizedState!==null?he._visibility&2?oc(E,I,z,J,x):Ef(E,I):(he._visibility|=2,oc(E,I,z,J,x)),x&&ie&2048&&Kb(I.alternate,I);break;case 24:oc(E,I,z,J,x),x&&ie&2048&&Wb(I.alternate,I);break;default:oc(E,I,z,J,x)}l=l.sibling}}function Ef(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,m=l,x=m.flags;switch(m.tag){case 22:Ef(f,m),x&2048&&Kb(m.alternate,m);break;case 24:Ef(f,m),x&2048&&Wb(m.alternate,m);break;default:Ef(f,m)}l=l.sibling}}var Tf=8192;function sc(o,l,f){if(o.subtreeFlags&Tf)for(o=o.child;o!==null;)XC(o,l,f),o=o.sibling}function XC(o,l,f){switch(o.tag){case 26:sc(o,l,f),o.flags&Tf&&o.memoizedState!==null&&yq(f,Zi,o.memoizedState,o.memoizedProps);break;case 5:sc(o,l,f);break;case 3:case 4:var m=Zi;Zi=Wm(o.stateNode.containerInfo),sc(o,l,f),Zi=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=Tf,Tf=16777216,sc(o,l,f),Tf=m):sc(o,l,f));break;default:sc(o,l,f)}}function QC(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function wf(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];jn=m,eI(m,o)}QC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ZC(o),o=o.sibling}function ZC(o){switch(o.tag){case 0:case 11:case 15:wf(o),o.flags&2048&&xs(9,o,o.return);break;case 3:wf(o);break;case 12:wf(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Om(o)):wf(o);break;default:wf(o)}}function Om(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];jn=m,eI(m,o)}QC(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:xs(8,l,l.return),Om(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Om(l));break;default:Om(l)}o=o.sibling}}function eI(o,l){for(;jn!==null;){var f=jn;switch(f.tag){case 0:case 11:case 15:xs(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:sf(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,jn=m;else e:for(f=o;jn!==null;){m=jn;var x=m.sibling,E=m.return;if(HC(m),m===f){jn=null;break e}if(x!==null){x.return=E,jn=x;break e}jn=E}}}var P9={getCacheForType:function(o){var l=Qn(xn),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f},cacheSignal:function(){return Qn(xn).controller.signal}},M9=typeof WeakMap=="function"?WeakMap:Map,vt=0,Mt=null,nt=null,it=0,Tt=0,ei=null,Es=!1,lc=!1,Yb=!1,Eo=0,an=0,Ts=0,Kl=0,Jb=0,ti=0,uc=0,Sf=null,Or=null,Xb=!1,Lm=0,tI=0,Um=1/0,Vm=null,ws=null,Nn=0,Ss=null,cc=null,To=0,Qb=0,Zb=null,nI=null,Af=0,e_=null;function ni(){return(vt&2)!==0&&it!==0?it&-it:X.T!==null?o_():Fp()}function rI(){if(ti===0)if((it&536870912)===0||ct){var o=_l;_l<<=1,(_l&3932160)===0&&(_l=262144),ti=o}else ti=536870912;return o=Qr.current,o!==null&&(o.flags|=32),ti}function Lr(o,l,f){(o===Mt&&(Tt===2||Tt===9)||o.cancelPendingCommit!==null)&&(dc(o,0),As(o,it,ti,!1)),xl(o,f),((vt&2)===0||o!==Mt)&&(o===Mt&&((vt&2)===0&&(Kl|=f),an===4&&As(o,it,ti,!1)),Oa(o))}function iI(o,l,f){if((vt&6)!==0)throw Error(r(327));var m=!f&&(l&127)===0&&(l&o.expiredLanes)===0||Hi(o,l),x=m?L9(o,l):n_(o,l,!0),E=m;do{if(x===0){lc&&!m&&As(o,l,0,!1);break}else{if(f=o.current.alternate,E&&!D9(f)){x=n_(o,l,!1),E=!1;continue}if(x===2){if(E=l,o.errorRecoveryDisabledLanes&E)var I=0;else I=o.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var z=o;x=Sf;var J=z.current.memoizedState.isDehydrated;if(J&&(dc(z,I).flags|=256),I=n_(z,I,!1),I!==2){if(Yb&&!J){z.errorRecoveryDisabledLanes|=E,Kl|=E,x=4;break e}E=Or,Or=x,E!==null&&(Or===null?Or=E:Or.push.apply(Or,E))}x=I}if(E=!1,x!==2)continue}}if(x===1){dc(o,0),As(o,l,0,!0);break}e:{switch(m=o,E=x,E){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:As(m,l,ti,!Es);break e;case 2:Or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(x=Lm+300-Yn(),10<x)){if(As(m,l,ti,!Es),ya(m,0,!0)!==0)break e;To=l,m.timeoutHandle=OI(aI.bind(null,m,f,Or,Vm,Xb,l,ti,Kl,uc,Es,E,"Throttled",-0,0),x);break e}aI(m,f,Or,Vm,Xb,l,ti,Kl,uc,Es,E,null,-0,0)}}break}while(!0);Oa(o)}function aI(o,l,f,m,x,E,I,z,J,ie,he,be,oe,ue){if(o.timeoutHandle=-1,be=l.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ki},XC(l,E,be);var Me=(E&62914560)===E?Lm-Yn():(E&4194048)===E?tI-Yn():0;if(Me=vq(be,Me),Me!==null){To=E,o.cancelPendingCommit=Me(hI.bind(null,o,l,E,f,m,x,I,z,J,he,be,null,oe,ue)),As(o,E,I,!ie);return}}hI(o,l,E,f,m,x,I,z,J)}function D9(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var x=f[m],E=x.getSnapshot;x=x.value;try{if(!Jr(E(),x))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function As(o,l,f,m){l&=~Jb,l&=~Kl,o.suspendedLanes|=l,o.pingedLanes&=~l,m&&(o.warmLanes|=l),m=o.expirationTimes;for(var x=l;0<x;){var E=31-ut(x),I=1<<E;m[E]=-1,x&=~I}f!==0&&El(o,f,l)}function Fm(){return(vt&6)===0?(kf(0),!1):!0}function t_(){if(nt!==null){if(Tt===0)var o=nt.return;else o=nt,fo=Vl=null,yb(o),tc=null,uf=0,o=nt;for(;o!==null;)LC(o.alternate,o),o=o.return;nt=null}}function dc(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,eq(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),To=0,t_(),Mt=o,nt=f=uo(o.current,null),it=l,Tt=0,ei=null,Es=!1,lc=Hi(o,l),Yb=!1,uc=ti=Jb=Kl=Ts=an=0,Or=Sf=null,Xb=!1,(l&8)!==0&&(l|=l&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=l;0<m;){var x=31-ut(m),E=1<<x;l|=o[x],m&=~E}return Eo=l,om(),f}function oI(o,l){Xe=null,X.H=yf,l===ec||l===pm?(l=Ek(),Tt=3):l===ab?(l=Ek(),Tt=4):Tt=l===Mb?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ei=l,nt===null&&(an=1,Cm(o,xi(l,o.current)))}function sI(){var o=Qr.current;return o===null?!0:(it&4194048)===it?Si===null:(it&62914560)===it||(it&536870912)!==0?o===Si:!1}function lI(){var o=X.H;return X.H=yf,o===null?yf:o}function uI(){var o=X.A;return X.A=P9,o}function Bm(){an=4,Es||(it&4194048)!==it&&Qr.current!==null||(lc=!0),(Ts&134217727)===0&&(Kl&134217727)===0||Mt===null||As(Mt,it,ti,!1)}function n_(o,l,f){var m=vt;vt|=2;var x=lI(),E=uI();(Mt!==o||it!==l)&&(Vm=null,dc(o,l)),l=!1;var I=an;e:do try{if(Tt!==0&&nt!==null){var z=nt,J=ei;switch(Tt){case 8:t_(),I=6;break e;case 3:case 2:case 9:case 6:Qr.current===null&&(l=!0);var ie=Tt;if(Tt=0,ei=null,fc(o,z,J,ie),f&&lc){I=0;break e}break;default:ie=Tt,Tt=0,ei=null,fc(o,z,J,ie)}}O9(),I=an;break}catch(he){oI(o,he)}while(!0);return l&&o.shellSuspendCounter++,fo=Vl=null,vt=m,X.H=x,X.A=E,nt===null&&(Mt=null,it=0,om()),I}function O9(){for(;nt!==null;)cI(nt)}function L9(o,l){var f=vt;vt|=2;var m=lI(),x=uI();Mt!==o||it!==l?(Vm=null,Um=Yn()+500,dc(o,l)):lc=Hi(o,l);e:do try{if(Tt!==0&&nt!==null){l=nt;var E=ei;t:switch(Tt){case 1:Tt=0,ei=null,fc(o,l,E,1);break;case 2:case 9:if(_k(E)){Tt=0,ei=null,dI(l);break}l=function(){Tt!==2&&Tt!==9||Mt!==o||(Tt=7),Oa(o)},E.then(l,l);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:_k(E)?(Tt=0,ei=null,dI(l)):(Tt=0,ei=null,fc(o,l,E,7));break;case 5:var I=null;switch(nt.tag){case 26:I=nt.memoizedState;case 5:case 27:var z=nt;if(I?JI(I):z.stateNode.complete){Tt=0,ei=null;var J=z.sibling;if(J!==null)nt=J;else{var ie=z.return;ie!==null?(nt=ie,jm(ie)):nt=null}break t}}Tt=0,ei=null,fc(o,l,E,5);break;case 6:Tt=0,ei=null,fc(o,l,E,6);break;case 8:t_(),an=6;break e;default:throw Error(r(462))}}U9();break}catch(he){oI(o,he)}while(!0);return fo=Vl=null,X.H=m,X.A=x,vt=f,nt!==null?0:(Mt=null,it=0,om(),an)}function U9(){for(;nt!==null&&!Ld();)cI(nt)}function cI(o){var l=DC(o.alternate,o,Eo);o.memoizedProps=o.pendingProps,l===null?jm(o):nt=l}function dI(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=CC(f,l,l.pendingProps,l.type,void 0,it);break;case 11:l=CC(f,l,l.pendingProps,l.type.render,l.ref,it);break;case 5:yb(l);default:LC(f,l),l=nt=uk(l,Eo),l=DC(f,l,Eo)}o.memoizedProps=o.pendingProps,l===null?jm(o):nt=l}function fc(o,l,f,m){fo=Vl=null,yb(l),tc=null,uf=0;var x=l.return;try{if(S9(o,x,l,f,it)){an=1,Cm(o,xi(f,o.current)),nt=null;return}}catch(E){if(x!==null)throw nt=x,E;an=1,Cm(o,xi(f,o.current)),nt=null;return}l.flags&32768?(ct||m===1?o=!0:lc||(it&536870912)!==0?o=!1:(Es=o=!0,(m===2||m===9||m===3||m===6)&&(m=Qr.current,m!==null&&m.tag===13&&(m.flags|=16384))),fI(l,o)):jm(l)}function jm(o){var l=o;do{if((l.flags&32768)!==0){fI(l,Es);return}o=l.return;var f=C9(l.alternate,l,Eo);if(f!==null){nt=f;return}if(l=l.sibling,l!==null){nt=l;return}nt=l=o}while(l!==null);an===0&&(an=5)}function fI(o,l){do{var f=I9(o.alternate,o);if(f!==null){f.flags&=32767,nt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){nt=o;return}nt=o=f}while(o!==null);an=6,nt=null}function hI(o,l,f,m,x,E,I,z,J){o.cancelPendingCommit=null;do zm();while(Nn!==0);if((vt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(E=l.lanes|l.childLanes,E|=H0,O0(o,f,E,I,z,J),o===Mt&&(nt=Mt=null,it=0),cc=l,Ss=o,To=f,Qb=E,Zb=x,nI=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,j9(Be,function(){return vI(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=X.T,X.T=null,x=K.p,K.p=2,I=vt,vt|=4;try{R9(o,l,f)}finally{vt=I,K.p=x,X.T=m}}Nn=1,pI(),mI(),gI()}}function pI(){if(Nn===1){Nn=0;var o=Ss,l=cc,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=X.T,X.T=null;var m=K.p;K.p=2;var x=vt;vt|=4;try{WC(l,o);var E=p_,I=ek(o.containerInfo),z=E.focusedElem,J=E.selectionRange;if(I!==z&&z&&z.ownerDocument&&ZA(z.ownerDocument.documentElement,z)){if(J!==null&&F0(z)){var ie=J.start,he=J.end;if(he===void 0&&(he=ie),"selectionStart"in z)z.selectionStart=ie,z.selectionEnd=Math.min(he,z.value.length);else{var be=z.ownerDocument||document,oe=be&&be.defaultView||window;if(oe.getSelection){var ue=oe.getSelection(),Me=z.textContent.length,je=Math.min(J.start,Me),Nt=J.end===void 0?je:Math.min(J.end,Me);!ue.extend&&je>Nt&&(I=Nt,Nt=je,je=I);var Z=QA(z,je),Q=QA(z,Nt);if(Z&&Q&&(ue.rangeCount!==1||ue.anchorNode!==Z.node||ue.anchorOffset!==Z.offset||ue.focusNode!==Q.node||ue.focusOffset!==Q.offset)){var re=be.createRange();re.setStart(Z.node,Z.offset),ue.removeAllRanges(),je>Nt?(ue.addRange(re),ue.extend(Q.node,Q.offset)):(re.setEnd(Q.node,Q.offset),ue.addRange(re))}}}}for(be=[],ue=z;ue=ue.parentNode;)ue.nodeType===1&&be.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<be.length;z++){var ge=be[z];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}eg=!!h_,p_=h_=null}finally{vt=x,K.p=m,X.T=f}}o.current=l,Nn=2}}function mI(){if(Nn===2){Nn=0;var o=Ss,l=cc,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=X.T,X.T=null;var m=K.p;K.p=2;var x=vt;vt|=4;try{qC(o,l.alternate,l)}finally{vt=x,K.p=m,X.T=f}}Nn=3}}function gI(){if(Nn===4||Nn===3){Nn=0,Nu();var o=Ss,l=cc,f=To,m=nI;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Nn=5:(Nn=0,cc=Ss=null,yI(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(ws=null),ao(f),l=l.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ln,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=X.T,x=K.p,K.p=2,X.T=null;try{for(var E=o.onRecoverableError,I=0;I<m.length;I++){var z=m[I];E(z.value,{componentStack:z.stack})}}finally{X.T=l,K.p=x}}(To&3)!==0&&zm(),Oa(o),x=o.pendingLanes,(f&261930)!==0&&(x&42)!==0?o===e_?Af++:(Af=0,e_=o):Af=0,kf(0)}}function yI(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,sf(l)))}function zm(){return pI(),mI(),gI(),vI()}function vI(){if(Nn!==5)return!1;var o=Ss,l=Qb;Qb=0;var f=ao(To),m=X.T,x=K.p;try{K.p=32>f?32:f,X.T=null,f=Zb,Zb=null;var E=Ss,I=To;if(Nn=0,cc=Ss=null,To=0,(vt&6)!==0)throw Error(r(331));var z=vt;if(vt|=4,ZC(E.current),JC(E,E.current,I,f),vt=z,kf(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ln,E)}catch{}return!0}finally{K.p=x,X.T=m,yI(o,l)}}function bI(o,l,f){l=xi(f,l),l=Pb(o.stateNode,l,2),o=vs(o,l,2),o!==null&&(xl(o,2),Oa(o))}function wt(o,l,f){if(o.tag===3)bI(o,o,f);else for(;l!==null;){if(l.tag===3){bI(l,o,f);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ws===null||!ws.has(m))){o=xi(f,o),f=_C(2),m=vs(l,f,2),m!==null&&(xC(f,m,l,o),xl(m,2),Oa(m));break}}l=l.return}}function r_(o,l,f){var m=o.pingCache;if(m===null){m=o.pingCache=new M9;var x=new Set;m.set(l,x)}else x=m.get(l),x===void 0&&(x=new Set,m.set(l,x));x.has(f)||(Yb=!0,x.add(f),o=V9.bind(null,o,l,f),l.then(o,o))}function V9(o,l,f){var m=o.pingCache;m!==null&&m.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Mt===o&&(it&f)===f&&(an===4||an===3&&(it&62914560)===it&&300>Yn()-Lm?(vt&2)===0&&dc(o,0):Jb|=f,uc===it&&(uc=0)),Oa(o)}function _I(o,l){l===0&&(l=Vp()),o=Ol(o,l),o!==null&&(xl(o,l),Oa(o))}function F9(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),_I(o,f)}function B9(o,l){var f=0;switch(o.tag){case 31:case 13:var m=o.stateNode,x=o.memoizedState;x!==null&&(f=x.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),_I(o,f)}function j9(o,l){return nn(o,l)}var qm=null,hc=null,i_=!1,Hm=!1,a_=!1,ks=0;function Oa(o){o!==hc&&o.next===null&&(hc===null?qm=hc=o:hc=hc.next=o),Hm=!0,i_||(i_=!0,q9())}function kf(o,l){if(!a_&&Hm){a_=!0;do for(var f=!1,m=qm;m!==null;){if(o!==0){var x=m.pendingLanes;if(x===0)var E=0;else{var I=m.suspendedLanes,z=m.pingedLanes;E=(1<<31-ut(42|o)+1)-1,E&=x&~(I&~z),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(f=!0,wI(m,E))}else E=it,E=ya(m,m===Mt?E:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(E&3)===0||Hi(m,E)||(f=!0,wI(m,E));m=m.next}while(f);a_=!1}}function z9(){xI()}function xI(){Hm=i_=!1;var o=0;ks!==0&&Z9()&&(o=ks);for(var l=Yn(),f=null,m=qm;m!==null;){var x=m.next,E=EI(m,l);E===0?(m.next=null,f===null?qm=x:f.next=x,x===null&&(hc=f)):(f=m,(o!==0||(E&3)!==0)&&(Hm=!0)),m=x}Nn!==0&&Nn!==5||kf(o),ks!==0&&(ks=0)}function EI(o,l){for(var f=o.suspendedLanes,m=o.pingedLanes,x=o.expirationTimes,E=o.pendingLanes&-62914561;0<E;){var I=31-ut(E),z=1<<I,J=x[I];J===-1?((z&f)===0||(z&m)!==0)&&(x[I]=D0(z,l)):J<=l&&(o.expiredLanes|=z),E&=~z}if(l=Mt,f=it,f=ya(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,f===0||o===l&&(Tt===2||Tt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&pa(m),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Hi(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(m!==null&&pa(m),ao(f)){case 2:case 8:f=we;break;case 32:f=Be;break;case 268435456:f=ft;break;default:f=Be}return m=TI.bind(null,o),f=nn(f,m),o.callbackPriority=l,o.callbackNode=f,l}return m!==null&&m!==null&&pa(m),o.callbackPriority=2,o.callbackNode=null,2}function TI(o,l){if(Nn!==0&&Nn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(zm()&&o.callbackNode!==f)return null;var m=it;return m=ya(o,o===Mt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(iI(o,m,l),EI(o,Yn()),o.callbackNode!=null&&o.callbackNode===f?TI.bind(null,o):null)}function wI(o,l){if(zm())return null;iI(o,l,!0)}function q9(){tq(function(){(vt&6)!==0?nn(pe,z9):xI()})}function o_(){if(ks===0){var o=Qu;o===0&&(o=ma,ma<<=1,(ma&261888)===0&&(ma=256)),ks=o}return ks}function SI(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Uu(""+o)}function AI(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function H9(o,l,f,m,x){if(l==="submit"&&f&&f.stateNode===x){var E=SI((x[Fn]||null).action),I=m.submitter;I&&(l=(l=I[Fn]||null)?SI(l.formAction):I.getAttribute("formAction"),l!==null&&(E=l,I=null));var z=new Ca("action","action",null,m,x);o.push({event:z,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ks!==0){var J=I?AI(x,I):new FormData(x);Ab(f,{pending:!0,data:J,method:x.method,action:E},null,J)}}else typeof E=="function"&&(z.preventDefault(),J=I?AI(x,I):new FormData(x),Ab(f,{pending:!0,data:J,method:x.method,action:E},E,J))},currentTarget:x}]})}}for(var s_=0;s_<q0.length;s_++){var l_=q0[s_],G9=l_.toLowerCase(),$9=l_[0].toUpperCase()+l_.slice(1);Qi(G9,"on"+$9)}Qi(rk,"onAnimationEnd"),Qi(ik,"onAnimationIteration"),Qi(ak,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(l9,"onTransitionRun"),Qi(u9,"onTransitionStart"),Qi(c9,"onTransitionCancel"),Qi(ok,"onTransitionEnd"),wa("onMouseEnter",["mouseout","mouseover"]),wa("onMouseLeave",["mouseout","mouseover"]),wa("onPointerEnter",["pointerout","pointerover"]),wa("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cf));function kI(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var m=o[f],x=m.event;m=m.listeners;e:{var E=void 0;if(l)for(var I=m.length-1;0<=I;I--){var z=m[I],J=z.instance,ie=z.currentTarget;if(z=z.listener,J!==E&&x.isPropagationStopped())break e;E=z,x.currentTarget=ie;try{E(x)}catch(he){am(he)}x.currentTarget=null,E=J}else for(I=0;I<m.length;I++){if(z=m[I],J=z.instance,ie=z.currentTarget,z=z.listener,J!==E&&x.isPropagationStopped())break e;E=z,x.currentTarget=ie;try{E(x)}catch(he){am(he)}x.currentTarget=null,E=J}}}}function rt(o,l){var f=l[Pu];f===void 0&&(f=l[Pu]=new Set);var m=o+"__bubble";f.has(m)||(CI(l,o,2,!1),f.add(m))}function u_(o,l,f){var m=0;l&&(m|=4),CI(f,o,m,l)}var Gm="_reactListening"+Math.random().toString(36).slice(2);function c_(o){if(!o[Gm]){o[Gm]=!0,Fd.forEach(function(f){f!=="selectionchange"&&(K9.has(f)||u_(f,!1,o),u_(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Gm]||(l[Gm]=!0,u_("selectionchange",!1,l))}}function CI(o,l,f,m){switch(rR(l)){case 2:var x=xq;break;case 8:x=Eq;break;default:x=S_}f=x.bind(null,l,f,o),x=void 0,!kl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),m?x!==void 0?o.addEventListener(l,f,{capture:!0,passive:x}):o.addEventListener(l,f,!0):x!==void 0?o.addEventListener(l,f,{passive:x}):o.addEventListener(l,f,!1)}function d_(o,l,f,m,x){var E=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var z=m.stateNode.containerInfo;if(z===x)break;if(I===4)for(I=m.return;I!==null;){var J=I.tag;if((J===3||J===4)&&I.stateNode.containerInfo===x)return;I=I.return}for(;z!==null;){if(I=xa(z),I===null)return;if(J=I.tag,J===5||J===6||J===26||J===27){m=E=I;continue e}z=z.parentNode}}m=m.return}ls(function(){var ie=E,he=yi(f),be=[];e:{var oe=sk.get(o);if(oe!==void 0){var ue=Ca,Me=o;switch(o){case"keypress":if(Il(f)===0)break e;case"keydown":case"keyup":ue=nm;break;case"focusin":Me="focus",ue=Nl;break;case"focusout":Me="blur",ue=Nl;break;case"beforeblur":case"afterblur":ue=Nl;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=k;break;case rk:case ik:case ak:ue=Yp;break;case ok:ue=G;break;case"scroll":case"scrollend":ue=Xd;break;case"wheel":ue=le;break;case"copy":case"cut":case"paste":ue=Jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=lo;break;case"toggle":case"beforetoggle":ue=Je}var je=(l&4)!==0,Nt=!je&&(o==="scroll"||o==="scrollend"),Z=je?oe!==null?oe+"Capture":null:oe;je=[];for(var Q=ie,re;Q!==null;){var ge=Q;if(re=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||re===null||Z===null||(ge=Wi(Q,Z),ge!=null&&je.push(If(Q,ge,re))),Nt)break;Q=Q.return}0<je.length&&(oe=new ue(oe,Me,null,f,he),be.push({event:oe,listeners:je}))}}if((l&7)===0){e:{if(oe=o==="mouseover"||o==="pointerover",ue=o==="mouseout"||o==="pointerout",oe&&f!==Wd&&(Me=f.relatedTarget||f.fromElement)&&(xa(Me)||Me[ba]))break e;if((ue||oe)&&(oe=he.window===he?he:(oe=he.ownerDocument)?oe.defaultView||oe.parentWindow:window,ue?(Me=f.relatedTarget||f.toElement,ue=ie,Me=Me?xa(Me):null,Me!==null&&(Nt=a(Me),je=Me.tag,Me!==Nt||je!==5&&je!==27&&je!==6)&&(Me=null)):(ue=null,Me=ie),ue!==Me)){if(je=Qd,ge="onMouseLeave",Z="onMouseEnter",Q="mouse",(o==="pointerout"||o==="pointerover")&&(je=lo,ge="onPointerLeave",Z="onPointerEnter",Q="pointer"),Nt=ue==null?oe:Wr(ue),re=Me==null?oe:Wr(Me),oe=new je(ge,Q+"leave",ue,f,he),oe.target=Nt,oe.relatedTarget=re,ge=null,xa(he)===ie&&(je=new je(Z,Q+"enter",Me,f,he),je.target=re,je.relatedTarget=Nt,ge=je),Nt=ge,ue&&Me)t:{for(je=W9,Z=ue,Q=Me,re=0,ge=Z;ge;ge=je(ge))re++;ge=0;for(var Le=Q;Le;Le=je(Le))ge++;for(;0<re-ge;)Z=je(Z),re--;for(;0<ge-re;)Q=je(Q),ge--;for(;re--;){if(Z===Q||Q!==null&&Z===Q.alternate){je=Z;break t}Z=je(Z),Q=je(Q)}je=null}else je=null;ue!==null&&II(be,oe,ue,je,!1),Me!==null&&Nt!==null&&II(be,Nt,Me,je,!0)}}e:{if(oe=ie?Wr(ie):window,ue=oe.nodeName&&oe.nodeName.toLowerCase(),ue==="select"||ue==="input"&&oe.type==="file")var ht=$A;else if(HA(oe))if(KA)ht=a9;else{ht=r9;var De=n9}else ue=oe.nodeName,!ue||ue.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ie&&Lu(ie.elementType)&&(ht=$A):ht=i9;if(ht&&(ht=ht(o,ie))){GA(be,ht,f,he);break e}De&&De(o,oe,ie),o==="focusout"&&ie&&oe.type==="number"&&ie.memoizedProps.value!=null&&Gd(oe,"number",oe.value)}switch(De=ie?Wr(ie):window,o){case"focusin":(HA(De)||De.contentEditable==="true")&&(Hu=De,B0=ie,rf=null);break;case"focusout":rf=B0=Hu=null;break;case"mousedown":j0=!0;break;case"contextmenu":case"mouseup":case"dragend":j0=!1,tk(be,f,he);break;case"selectionchange":if(s9)break;case"keydown":case"keyup":tk(be,f,he)}var Qe;if(yt)e:{switch(o){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else qu?Pl(o,f)&&(at="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(at="onCompositionStart");at&&(Na&&f.locale!=="ko"&&(qu||at!=="onCompositionStart"?at==="onCompositionEnd"&&qu&&(Qe=Jd()):(ka=he,Yd="value"in ka?ka.value:ka.textContent,qu=!0)),De=$m(ie,at),0<De.length&&(at=new Ra(at,o,null,f,he),be.push({event:at,listeners:De}),Qe?at.data=Qe:(Qe=zu(f),Qe!==null&&(at.data=Qe)))),(Qe=bi?Qz(o,f):Zz(o,f))&&(at=$m(ie,"onBeforeInput"),0<at.length&&(De=new Ra("onBeforeInput","beforeinput",null,f,he),be.push({event:De,listeners:at}),De.data=Qe)),H9(be,o,ie,f,he)}kI(be,l)})}function If(o,l,f){return{instance:o,listener:l,currentTarget:f}}function $m(o,l){for(var f=l+"Capture",m=[];o!==null;){var x=o,E=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||E===null||(x=Wi(o,f),x!=null&&m.unshift(If(o,x,E)),x=Wi(o,l),x!=null&&m.push(If(o,x,E))),o.tag===3)return m;o=o.return}return[]}function W9(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function II(o,l,f,m,x){for(var E=l._reactName,I=[];f!==null&&f!==m;){var z=f,J=z.alternate,ie=z.stateNode;if(z=z.tag,J!==null&&J===m)break;z!==5&&z!==26&&z!==27||ie===null||(J=ie,x?(ie=Wi(f,E),ie!=null&&I.unshift(If(f,ie,J))):x||(ie=Wi(f,E),ie!=null&&I.push(If(f,ie,J)))),f=f.return}I.length!==0&&o.push({event:l,listeners:I})}var Y9=/\r\n?/g,J9=/\u0000|\uFFFD/g;function RI(o){return(typeof o=="string"?o:""+o).replace(Y9,`
`).replace(J9,"")}function NI(o,l){return l=RI(l),RI(o)===l}function Rt(o,l,f,m,x,E){switch(f){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Nr(o,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Nr(o,""+m);break;case"className":Yr(o,"class",m);break;case"tabIndex":Yr(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Yr(o,f,m);break;case"style":Kd(o,m,E);break;case"data":if(l!=="object"){Yr(o,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=Uu(""+m),o.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(f==="formAction"?(l!=="input"&&Rt(o,l,"name",x.name,x,null),Rt(o,l,"formEncType",x.formEncType,x,null),Rt(o,l,"formMethod",x.formMethod,x,null),Rt(o,l,"formTarget",x.formTarget,x,null)):(Rt(o,l,"encType",x.encType,x,null),Rt(o,l,"method",x.method,x,null),Rt(o,l,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=Uu(""+m),o.setAttribute(f,m);break;case"onClick":m!=null&&(o.onclick=Ki);break;case"onScroll":m!=null&&rt("scroll",o);break;case"onScrollEnd":m!=null&&rt("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}f=Uu(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""+m):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":m===!0?o.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,m):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(f,m):o.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(f):o.setAttribute(f,m);break;case"popover":rt("beforetoggle",o),rt("toggle",o),Du(o,"popover",m);break;case"xlinkActuate":_n(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":_n(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":_n(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":_n(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":_n(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":_n(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":_n(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":_n(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":_n(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Du(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=$p.get(f)||f,Du(o,f,m))}}function f_(o,l,f,m,x,E){switch(f){case"style":Kd(o,m,E);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof m=="string"?Nr(o,m):(typeof m=="number"||typeof m=="bigint")&&Nr(o,""+m);break;case"onScroll":m!=null&&rt("scroll",o);break;case"onScrollEnd":m!=null&&rt("scrollend",o);break;case"onClick":m!=null&&(o.onclick=Ki);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bd.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(x=f.endsWith("Capture"),l=f.slice(2,x?f.length-7:void 0),E=o[Fn]||null,E=E!=null?E[f]:null,typeof E=="function"&&o.removeEventListener(l,E,x),typeof m=="function")){typeof E!="function"&&E!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,m,x);break e}f in o?o[f]=m:m===!0?o.setAttribute(f,""):Du(o,f,m)}}}function er(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",o),rt("load",o);var m=!1,x=!1,E;for(E in f)if(f.hasOwnProperty(E)){var I=f[E];if(I!=null)switch(E){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Rt(o,l,E,I,f,null)}}x&&Rt(o,l,"srcSet",f.srcSet,f,null),m&&Rt(o,l,"src",f.src,f,null);return;case"input":rt("invalid",o);var z=E=I=x=null,J=null,ie=null;for(m in f)if(f.hasOwnProperty(m)){var he=f[m];if(he!=null)switch(m){case"name":x=he;break;case"type":I=he;break;case"checked":J=he;break;case"defaultChecked":ie=he;break;case"value":E=he;break;case"defaultValue":z=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,l));break;default:Rt(o,l,m,he,f,null)}}qp(o,E,z,J,ie,I,x,!1);return;case"select":rt("invalid",o),m=I=E=null;for(x in f)if(f.hasOwnProperty(x)&&(z=f[x],z!=null))switch(x){case"value":E=z;break;case"defaultValue":I=z;break;case"multiple":m=z;default:Rt(o,l,x,z,f,null)}l=E,f=I,o.multiple=!!m,l!=null?is(o,!!m,l,!1):f!=null&&is(o,!!m,f,!0);return;case"textarea":rt("invalid",o),E=x=m=null;for(I in f)if(f.hasOwnProperty(I)&&(z=f[I],z!=null))switch(I){case"value":m=z;break;case"defaultValue":x=z;break;case"children":E=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:Rt(o,l,I,z,f,null)}as(o,m,x,E);return;case"option":for(J in f)if(f.hasOwnProperty(J)&&(m=f[J],m!=null))switch(J){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Rt(o,l,J,m,f,null)}return;case"dialog":rt("beforetoggle",o),rt("toggle",o),rt("cancel",o),rt("close",o);break;case"iframe":case"object":rt("load",o);break;case"video":case"audio":for(m=0;m<Cf.length;m++)rt(Cf[m],o);break;case"image":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"embed":case"source":case"link":rt("error",o),rt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in f)if(f.hasOwnProperty(ie)&&(m=f[ie],m!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Rt(o,l,ie,m,f,null)}return;default:if(Lu(l)){for(he in f)f.hasOwnProperty(he)&&(m=f[he],m!==void 0&&f_(o,l,he,m,f,void 0));return}}for(z in f)f.hasOwnProperty(z)&&(m=f[z],m!=null&&Rt(o,l,z,m,f,null))}function X9(o,l,f,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,E=null,I=null,z=null,J=null,ie=null,he=null;for(ue in f){var be=f[ue];if(f.hasOwnProperty(ue)&&be!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":J=be;default:m.hasOwnProperty(ue)||Rt(o,l,ue,null,m,be)}}for(var oe in m){var ue=m[oe];if(be=f[oe],m.hasOwnProperty(oe)&&(ue!=null||be!=null))switch(oe){case"type":E=ue;break;case"name":x=ue;break;case"checked":ie=ue;break;case"defaultChecked":he=ue;break;case"value":I=ue;break;case"defaultValue":z=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,l));break;default:ue!==be&&Rt(o,l,oe,ue,m,be)}}Ou(o,I,z,J,ie,he,E,x);return;case"select":ue=I=z=oe=null;for(E in f)if(J=f[E],f.hasOwnProperty(E)&&J!=null)switch(E){case"value":break;case"multiple":ue=J;default:m.hasOwnProperty(E)||Rt(o,l,E,null,m,J)}for(x in m)if(E=m[x],J=f[x],m.hasOwnProperty(x)&&(E!=null||J!=null))switch(x){case"value":oe=E;break;case"defaultValue":z=E;break;case"multiple":I=E;default:E!==J&&Rt(o,l,x,E,m,J)}l=z,f=I,m=ue,oe!=null?is(o,!!f,oe,!1):!!m!=!!f&&(l!=null?is(o,!!f,l,!0):is(o,!!f,f?[]:"",!1));return;case"textarea":ue=oe=null;for(z in f)if(x=f[z],f.hasOwnProperty(z)&&x!=null&&!m.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Rt(o,l,z,null,m,x)}for(I in m)if(x=m[I],E=f[I],m.hasOwnProperty(I)&&(x!=null||E!=null))switch(I){case"value":oe=x;break;case"defaultValue":ue=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==E&&Rt(o,l,I,x,m,E)}Hp(o,oe,ue);return;case"option":for(var Me in f)if(oe=f[Me],f.hasOwnProperty(Me)&&oe!=null&&!m.hasOwnProperty(Me))switch(Me){case"selected":o.selected=!1;break;default:Rt(o,l,Me,null,m,oe)}for(J in m)if(oe=m[J],ue=f[J],m.hasOwnProperty(J)&&oe!==ue&&(oe!=null||ue!=null))switch(J){case"selected":o.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Rt(o,l,J,oe,m,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in f)oe=f[je],f.hasOwnProperty(je)&&oe!=null&&!m.hasOwnProperty(je)&&Rt(o,l,je,null,m,oe);for(ie in m)if(oe=m[ie],ue=f[ie],m.hasOwnProperty(ie)&&oe!==ue&&(oe!=null||ue!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,l));break;default:Rt(o,l,ie,oe,m,ue)}return;default:if(Lu(l)){for(var Nt in f)oe=f[Nt],f.hasOwnProperty(Nt)&&oe!==void 0&&!m.hasOwnProperty(Nt)&&f_(o,l,Nt,void 0,m,oe);for(he in m)oe=m[he],ue=f[he],!m.hasOwnProperty(he)||oe===ue||oe===void 0&&ue===void 0||f_(o,l,he,oe,m,ue);return}}for(var Z in f)oe=f[Z],f.hasOwnProperty(Z)&&oe!=null&&!m.hasOwnProperty(Z)&&Rt(o,l,Z,null,m,oe);for(be in m)oe=m[be],ue=f[be],!m.hasOwnProperty(be)||oe===ue||oe==null&&ue==null||Rt(o,l,be,oe,m,ue)}function PI(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Q9(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,f=performance.getEntriesByType("resource"),m=0;m<f.length;m++){var x=f[m],E=x.transferSize,I=x.initiatorType,z=x.duration;if(E&&z&&PI(I)){for(I=0,z=x.responseEnd,m+=1;m<f.length;m++){var J=f[m],ie=J.startTime;if(ie>z)break;var he=J.transferSize,be=J.initiatorType;he&&PI(be)&&(J=J.responseEnd,I+=he*(J<z?1:(z-ie)/(J-ie)))}if(--m,l+=8*(E+I)/(x.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var h_=null,p_=null;function Km(o){return o.nodeType===9?o:o.ownerDocument}function MI(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DI(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function m_(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var g_=null;function Z9(){var o=window.event;return o&&o.type==="popstate"?o===g_?!1:(g_=o,!0):(g_=null,!1)}var OI=typeof setTimeout=="function"?setTimeout:void 0,eq=typeof clearTimeout=="function"?clearTimeout:void 0,LI=typeof Promise=="function"?Promise:void 0,tq=typeof queueMicrotask=="function"?queueMicrotask:typeof LI<"u"?function(o){return LI.resolve(null).then(o).catch(nq)}:OI;function nq(o){setTimeout(function(){throw o})}function Cs(o){return o==="head"}function UI(o,l){var f=l,m=0;do{var x=f.nextSibling;if(o.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"||f==="/&"){if(m===0){o.removeChild(x),yc(l);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")m++;else if(f==="html")Rf(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,Rf(f);for(var E=f.firstChild;E;){var I=E.nextSibling,z=E.nodeName;E[_a]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&E.rel.toLowerCase()==="stylesheet"||f.removeChild(E),E=I}}else f==="body"&&Rf(o.ownerDocument.body);f=x}while(f);yc(l)}function VI(o,l){var f=o;o=0;do{var m=f.nextSibling;if(f.nodeType===1?l?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(l?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=m}while(f)}function y_(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":y_(f),Mu(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function rq(o,l,f,m){for(;o.nodeType===1;){var x=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[_a])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(E=o.getAttribute("rel"),E==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(E!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(E=o.getAttribute("src"),(E!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&E&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var E=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===E)return o}else return o;if(o=Ai(o.nextSibling),o===null)break}return null}function iq(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Ai(o.nextSibling),o===null))return null;return o}function FI(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=Ai(o.nextSibling),o===null))return null;return o}function v_(o){return o.data==="$?"||o.data==="$~"}function b_(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function aq(o,l){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||f.readyState!=="loading")l();else{var m=function(){l(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function Ai(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var __=null;function BI(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(l===0)return Ai(o.nextSibling);l--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||l++}o=o.nextSibling}return null}function jI(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(l===0)return o;l--}else f!=="/$"&&f!=="/&"||l++}o=o.previousSibling}return null}function zI(o,l,f){switch(l=Km(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Rf(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Mu(o)}var ki=new Map,qI=new Set;function Wm(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var wo=K.d;K.d={f:oq,r:sq,D:lq,C:uq,L:cq,m:dq,X:hq,S:fq,M:pq};function oq(){var o=wo.f(),l=Fm();return o||l}function sq(o){var l=gi(o);l!==null&&l.tag===5&&l.type==="form"?oC(l):wo.r(o)}var pc=typeof document>"u"?null:document;function HI(o,l,f){var m=pc;if(m&&typeof l=="string"&&l){var x=Rr(l);x='link[rel="'+o+'"][href="'+x+'"]',typeof f=="string"&&(x+='[crossorigin="'+f+'"]'),qI.has(x)||(qI.add(x),o={rel:o,crossOrigin:f,href:l},m.querySelector(x)===null&&(l=m.createElement("link"),er(l,"link",o),bn(l),m.head.appendChild(l)))}}function lq(o){wo.D(o),HI("dns-prefetch",o,null)}function uq(o,l){wo.C(o,l),HI("preconnect",o,l)}function cq(o,l,f){wo.L(o,l,f);var m=pc;if(m&&o&&l){var x='link[rel="preload"][as="'+Rr(l)+'"]';l==="image"&&f&&f.imageSrcSet?(x+='[imagesrcset="'+Rr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(x+='[imagesizes="'+Rr(f.imageSizes)+'"]')):x+='[href="'+Rr(o)+'"]';var E=x;switch(l){case"style":E=mc(o);break;case"script":E=gc(o)}ki.has(E)||(o=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),ki.set(E,o),m.querySelector(x)!==null||l==="style"&&m.querySelector(Nf(E))||l==="script"&&m.querySelector(Pf(E))||(l=m.createElement("link"),er(l,"link",o),bn(l),m.head.appendChild(l)))}}function dq(o,l){wo.m(o,l);var f=pc;if(f&&o){var m=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+Rr(m)+'"][href="'+Rr(o)+'"]',E=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=gc(o)}if(!ki.has(E)&&(o=p({rel:"modulepreload",href:o},l),ki.set(E,o),f.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Pf(E)))return}m=f.createElement("link"),er(m,"link",o),bn(m),f.head.appendChild(m)}}}function fq(o,l,f){wo.S(o,l,f);var m=pc;if(m&&o){var x=Ea(m).hoistableStyles,E=mc(o);l=l||"default";var I=x.get(E);if(!I){var z={loading:0,preload:null};if(I=m.querySelector(Nf(E)))z.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},f),(f=ki.get(E))&&x_(o,f);var J=I=m.createElement("link");bn(J),er(J,"link",o),J._p=new Promise(function(ie,he){J.onload=ie,J.onerror=he}),J.addEventListener("load",function(){z.loading|=1}),J.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Ym(I,l,m)}I={type:"stylesheet",instance:I,count:1,state:z},x.set(E,I)}}}function hq(o,l){wo.X(o,l);var f=pc;if(f&&o){var m=Ea(f).hoistableScripts,x=gc(o),E=m.get(x);E||(E=f.querySelector(Pf(x)),E||(o=p({src:o,async:!0},l),(l=ki.get(x))&&E_(o,l),E=f.createElement("script"),bn(E),er(E,"link",o),f.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(x,E))}}function pq(o,l){wo.M(o,l);var f=pc;if(f&&o){var m=Ea(f).hoistableScripts,x=gc(o),E=m.get(x);E||(E=f.querySelector(Pf(x)),E||(o=p({src:o,async:!0,type:"module"},l),(l=ki.get(x))&&E_(o,l),E=f.createElement("script"),bn(E),er(E,"link",o),f.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(x,E))}}function GI(o,l,f,m){var x=(x=_e.current)?Wm(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=mc(f.href),f=Ea(x).hoistableStyles,m=f.get(l),m||(m={type:"style",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=mc(f.href);var E=Ea(x).hoistableStyles,I=E.get(o);if(I||(x=x.ownerDocument||x,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(o,I),(E=x.querySelector(Nf(o)))&&!E._p&&(I.instance=E,I.state.loading=5),ki.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},ki.set(o,f),E||mq(x,o,f,I.state))),l&&m===null)throw Error(r(528,""));return I}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=gc(f),f=Ea(x).hoistableScripts,m=f.get(l),m||(m={type:"script",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function mc(o){return'href="'+Rr(o)+'"'}function Nf(o){return'link[rel="stylesheet"]['+o+"]"}function $I(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function mq(o,l,f,m){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=o.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),er(l,"link",f),bn(l),o.head.appendChild(l))}function gc(o){return'[src="'+Rr(o)+'"]'}function Pf(o){return"script[async]"+o}function KI(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var m=o.querySelector('style[data-href~="'+Rr(f.href)+'"]');if(m)return l.instance=m,bn(m),m;var x=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),bn(m),er(m,"style",x),Ym(m,f.precedence,o),l.instance=m;case"stylesheet":x=mc(f.href);var E=o.querySelector(Nf(x));if(E)return l.state.loading|=4,l.instance=E,bn(E),E;m=$I(f),(x=ki.get(x))&&x_(m,x),E=(o.ownerDocument||o).createElement("link"),bn(E);var I=E;return I._p=new Promise(function(z,J){I.onload=z,I.onerror=J}),er(E,"link",m),l.state.loading|=4,Ym(E,f.precedence,o),l.instance=E;case"script":return E=gc(f.src),(x=o.querySelector(Pf(E)))?(l.instance=x,bn(x),x):(m=f,(x=ki.get(E))&&(m=p({},f),E_(m,x)),o=o.ownerDocument||o,x=o.createElement("script"),bn(x),er(x,"link",m),o.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Ym(m,f.precedence,o));return l.instance}function Ym(o,l,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,E=x,I=0;I<m.length;I++){var z=m[I];if(z.dataset.precedence===l)E=z;else if(E!==x)break}E?E.parentNode.insertBefore(o,E.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function x_(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function E_(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Jm=null;function WI(o,l,f){if(Jm===null){var m=new Map,x=Jm=new Map;x.set(f,m)}else x=Jm,m=x.get(f),m||(m=new Map,x.set(f,m));if(m.has(o))return m;for(m.set(o,null),f=f.getElementsByTagName(o),x=0;x<f.length;x++){var E=f[x];if(!(E[_a]||E[vn]||o==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var I=E.getAttribute(l)||"";I=o+I;var z=m.get(I);z?z.push(E):m.set(I,[E])}}return m}function YI(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function gq(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function JI(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function yq(o,l,f,m){if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var x=mc(m.href),E=l.querySelector(Nf(x));if(E){l=E._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=Xm.bind(o),l.then(o,o)),f.state.loading|=4,f.instance=E,bn(E);return}E=l.ownerDocument||l,m=$I(m),(x=ki.get(x))&&x_(m,x),E=E.createElement("link"),bn(E);var I=E;I._p=new Promise(function(z,J){I.onload=z,I.onerror=J}),er(E,"link",m),f.instance=E}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,l),(l=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=Xm.bind(o),l.addEventListener("load",f),l.addEventListener("error",f))}}var T_=0;function vq(o,l){return o.stylesheets&&o.count===0&&Zm(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var m=setTimeout(function(){if(o.stylesheets&&Zm(o,o.stylesheets),o.unsuspend){var E=o.unsuspend;o.unsuspend=null,E()}},6e4+l);0<o.imgBytes&&T_===0&&(T_=62500*Q9());var x=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Zm(o,o.stylesheets),o.unsuspend)){var E=o.unsuspend;o.unsuspend=null,E()}},(o.imgBytes>T_?50:800)+l);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(x)}}:null}function Xm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zm(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Qm=null;function Zm(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Qm=new Map,l.forEach(bq,o),Qm=null,Xm.call(o))}function bq(o,l){if(!(l.state.loading&4)){var f=Qm.get(o);if(f)var m=f.get(null);else{f=new Map,Qm.set(o,f);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<x.length;E++){var I=x[E];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(f.set(I.dataset.precedence,I),m=I)}m&&f.set(null,m)}x=l.instance,I=x.getAttribute("data-precedence"),E=f.get(I)||m,E===m&&f.set(null,x),f.set(I,x),this.count++,m=Xm.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),E?E.parentNode.insertBefore(x,E.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),l.state.loading|=4}}var Mf={$$typeof:M,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function _q(o,l,f,m,x,E,I,z,J){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.hiddenUpdates=va(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=E,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function XI(o,l,f,m,x,E,I,z,J,ie,he,be){return o=new _q(o,l,f,I,J,ie,he,be,z),l=1,E===!0&&(l|=24),E=Xr(3,null,null,l),o.current=E,E.stateNode=o,l=nb(),l.refCount++,o.pooledCache=l,l.refCount++,E.memoizedState={element:m,isDehydrated:f,cache:l},ob(E),o}function QI(o){return o?(o=Ku,o):Ku}function ZI(o,l,f,m,x,E){x=QI(x),m.context===null?m.context=x:m.pendingContext=x,m=ys(l),m.payload={element:f},E=E===void 0?null:E,E!==null&&(m.callback=E),f=vs(o,m,l),f!==null&&(Lr(f,o,l),df(f,o,l))}function eR(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function w_(o,l){eR(o,l),(o=o.alternate)&&eR(o,l)}function tR(o){if(o.tag===13||o.tag===31){var l=Ol(o,67108864);l!==null&&Lr(l,o,67108864),w_(o,67108864)}}function nR(o){if(o.tag===13||o.tag===31){var l=ni();l=Tl(l);var f=Ol(o,l);f!==null&&Lr(f,o,l),w_(o,l)}}var eg=!0;function xq(o,l,f,m){var x=X.T;X.T=null;var E=K.p;try{K.p=2,S_(o,l,f,m)}finally{K.p=E,X.T=x}}function Eq(o,l,f,m){var x=X.T;X.T=null;var E=K.p;try{K.p=8,S_(o,l,f,m)}finally{K.p=E,X.T=x}}function S_(o,l,f,m){if(eg){var x=A_(m);if(x===null)d_(o,l,m,tg,f),iR(o,m);else if(wq(x,o,l,f,m))m.stopPropagation();else if(iR(o,m),l&4&&-1<Tq.indexOf(o)){for(;x!==null;){var E=gi(x);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var I=ga(E.pendingLanes);if(I!==0){var z=E;for(z.pendingLanes|=2,z.entangledLanes|=2;I;){var J=1<<31-ut(I);z.entanglements[1]|=J,I&=~J}Oa(E),(vt&6)===0&&(Um=Yn()+500,kf(0))}}break;case 31:case 13:z=Ol(E,2),z!==null&&Lr(z,E,2),Fm(),w_(E,2)}if(E=A_(m),E===null&&d_(o,l,m,tg,f),E===x)break;x=E}x!==null&&m.stopPropagation()}else d_(o,l,m,null,f)}}function A_(o){return o=yi(o),k_(o)}var tg=null;function k_(o){if(tg=null,o=xa(o),o!==null){var l=a(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=s(l),o!==null)return o;o=null}else if(f===31){if(o=u(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return tg=o,null}function rR(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(io()){case pe:return 2;case we:return 8;case Be:case tt:return 32;case ft:return 268435456;default:return 32}default:return 32}}var C_=!1,Is=null,Rs=null,Ns=null,Df=new Map,Of=new Map,Ps=[],Tq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iR(o,l){switch(o){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Df.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Of.delete(l.pointerId)}}function Lf(o,l,f,m,x,E){return o===null||o.nativeEvent!==E?(o={blockedOn:l,domEventName:f,eventSystemFlags:m,nativeEvent:E,targetContainers:[x]},l!==null&&(l=gi(l),l!==null&&tR(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function wq(o,l,f,m,x){switch(l){case"focusin":return Is=Lf(Is,o,l,f,m,x),!0;case"dragenter":return Rs=Lf(Rs,o,l,f,m,x),!0;case"mouseover":return Ns=Lf(Ns,o,l,f,m,x),!0;case"pointerover":var E=x.pointerId;return Df.set(E,Lf(Df.get(E)||null,o,l,f,m,x)),!0;case"gotpointercapture":return E=x.pointerId,Of.set(E,Lf(Of.get(E)||null,o,l,f,m,x)),!0}return!1}function aR(o){var l=xa(o.target);if(l!==null){var f=a(l);if(f!==null){if(l=f.tag,l===13){if(l=s(f),l!==null){o.blockedOn=l,Gi(o.priority,function(){nR(f)});return}}else if(l===31){if(l=u(f),l!==null){o.blockedOn=l,Gi(o.priority,function(){nR(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ng(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=A_(o.nativeEvent);if(f===null){f=o.nativeEvent;var m=new f.constructor(f.type,f);Wd=m,f.target.dispatchEvent(m),Wd=null}else return l=gi(f),l!==null&&tR(l),o.blockedOn=f,!1;l.shift()}return!0}function oR(o,l,f){ng(o)&&f.delete(l)}function Sq(){C_=!1,Is!==null&&ng(Is)&&(Is=null),Rs!==null&&ng(Rs)&&(Rs=null),Ns!==null&&ng(Ns)&&(Ns=null),Df.forEach(oR),Of.forEach(oR)}function rg(o,l){o.blockedOn===l&&(o.blockedOn=null,C_||(C_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Sq)))}var ig=null;function sR(o){ig!==o&&(ig=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ig===o&&(ig=null);for(var l=0;l<o.length;l+=3){var f=o[l],m=o[l+1],x=o[l+2];if(typeof m!="function"){if(k_(m||f)===null)continue;break}var E=gi(f);E!==null&&(o.splice(l,3),l-=3,Ab(E,{pending:!0,data:x,method:f.method,action:m},m,x))}}))}function yc(o){function l(J){return rg(J,o)}Is!==null&&rg(Is,o),Rs!==null&&rg(Rs,o),Ns!==null&&rg(Ns,o),Df.forEach(l),Of.forEach(l);for(var f=0;f<Ps.length;f++){var m=Ps[f];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Ps.length&&(f=Ps[0],f.blockedOn===null);)aR(f),f.blockedOn===null&&Ps.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var x=f[m],E=f[m+1],I=x[Fn]||null;if(typeof E=="function")I||sR(f);else if(I){var z=null;if(E&&E.hasAttribute("formAction")){if(x=E,I=E[Fn]||null)z=I.formAction;else if(k_(x)!==null)continue}else z=I.action;typeof z=="function"?f[m+1]=z:(f.splice(m,3),m-=3),sR(f)}}}function lR(){function o(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(I){return x=I})},focusReset:"manual",scroll:"manual"})}function l(){x!==null&&(x(),x=null),m||setTimeout(f,20)}function f(){if(!m&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,x=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),x!==null&&(x(),x=null)}}}function I_(o){this._internalRoot=o}ag.prototype.render=I_.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,m=ni();ZI(f,m,o,l,null,null)},ag.prototype.unmount=I_.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;ZI(o.current,2,null,o,null,null),Fm(),l[ba]=null}};function ag(o){this._internalRoot=o}ag.prototype.unstable_scheduleHydration=function(o){if(o){var l=Fp();o={blockedOn:null,target:o,priority:l};for(var f=0;f<Ps.length&&l!==0&&l<Ps[f].priority;f++);Ps.splice(f,0,o),f===0&&aR(o)}};var uR=e.version;if(uR!=="19.2.1")throw Error(r(527,uR,"19.2.1"));K.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var Aq={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!og.isDisabled&&og.supportsFiber)try{ln=og.inject(Aq),Zt=og}catch{}}return Vf.createRoot=function(o,l){if(!i(o))throw Error(r(299));var f=!1,m="",x=gC,E=yC,I=vC;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),l=XI(o,1,!1,null,null,f,m,null,x,E,I,lR),o[ba]=l.current,c_(o),new I_(l)},Vf.hydrateRoot=function(o,l,f){if(!i(o))throw Error(r(299));var m=!1,x="",E=gC,I=yC,z=vC,J=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onUncaughtError!==void 0&&(E=f.onUncaughtError),f.onCaughtError!==void 0&&(I=f.onCaughtError),f.onRecoverableError!==void 0&&(z=f.onRecoverableError),f.formState!==void 0&&(J=f.formState)),l=XI(o,1,!0,l,f??null,m,x,J,E,I,z,lR),l.context=QI(null),f=l.current,m=ni(),m=Tl(m),x=ys(m),x.callback=null,vs(f,x,m),f=m,l.current.lanes=f,xl(l,f),Oa(l),o[ba]=l.current,c_(o),new ag(l)},Vf.version="19.2.1",Vf}var bR;function Fq(){if(bR)return M_.exports;bR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),M_.exports=Vq(),M_.exports}var Bq=Fq();const jq=Bi(Bq);var pr=(t=>(t.PLANNING="Fas 0: Inkp & Analys",t.ACUTE="Fas 1: Akut",t.MECHANICAL="Fas 2: Mekanisk Skerhet",t.BODY="Fas 3: Kaross & Rost",t.BUILD="Fas 4: Vanlife-bygget",t))(pr||{}),_t=(t=>(t.TODO="Att gra",t.IN_PROGRESS="Pgende",t.DONE="Klart",t))(_t||{}),rr=(t=>(t.HIGH="Hg",t.MEDIUM="Medel",t.LOW="Lg",t))(rr||{}),Vr=(t=>(t.INVESTMENT="Investering",t.OPERATION="Drift",t))(Vr||{});function O4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=O4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ot(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=O4(t))&&(r&&(r+=" "),r+=e);return r}var zq=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function jT(t){if(typeof t!="string")return!1;var e=zq;return e.includes(t)}var qq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Hq=new Set(qq);function L4(t){return typeof t!="string"?!1:Hq.has(t)}function U4(t){return typeof t=="string"&&t.startsWith("data-")}function Xs(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(L4(n)||U4(n))&&(e[n]=t[n]);return e}function zT(t){if(t==null)return null;if(R.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Xs(e)}return typeof t=="object"&&!Array.isArray(t)?Xs(t):null}function Li(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(L4(n)||U4(n)||jT(n))&&(e[n]=t[n]);return e}var Gq=["children","width","height","viewBox","className","style","title","desc"];function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(null,arguments)}function $q(t,e){if(t==null)return{};var n,r,i=Kq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kq(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var V4=R.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:u,title:c,desc:d}=t,h=$q(t,Gq),p=a||{width:r,height:i,x:0,y:0},g=Ot("recharts-surface",s);return R.createElement("svg",KE({},Li(h),{className:g,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),R.createElement("title",null,c),R.createElement("desc",null,d),n)}),Wq=["children","className"];function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(null,arguments)}function Yq(t,e){if(t==null)return{};var n,r,i=Jq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jq(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Do=R.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Yq(t,Wq),a=Ot("recharts-layer",r);return R.createElement("g",WE({className:a},Li(i),{ref:e}),n)}),F4=D4(),Xq=R.createContext(null);function Ut(t){return function(){return t}}const B4=Math.cos,ey=Math.sin,ca=Math.sqrt,ty=Math.PI,yv=2*ty,YE=Math.PI,JE=2*YE,Wl=1e-6,Qq=JE-Wl;function j4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Zq(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return j4;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class e8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?j4:Zq(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=r-e,d=i-n,h=s-e,p=u-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Wl)if(!(Math.abs(p*c-d*h)>Wl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-s,w=i-u,S=c*c+d*d,A=v*v+w*w,C=Math.sqrt(S),U=Math.sqrt(g),M=a*Math.tan((YE-Math.acos((S+g-A)/(2*C*U)))/2),F=M/U,q=M/C;Math.abs(F-1)>Wl&&this._append`L${e+F*h},${n+F*p}`,this._append`A${a},${a},0,0,${+(p*v>h*w)},${this._x1=e+q*c},${this._y1=n+q*d}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),d=e+u,h=n+c,p=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Wl||Math.abs(this._y1-h)>Wl)&&this._append`L${d},${h}`,r&&(g<0&&(g=g%JE+JE),g>Qq?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=d},${this._y1=h}`:g>Wl&&this._append`A${r},${r},0,${+(g>=YE)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function qT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new e8(e)}function HT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function z4(t){this._context=t}z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vv(t){return new z4(t)}function q4(t){return t[0]}function H4(t){return t[1]}function G4(t,e){var n=Ut(!0),r=null,i=vv,a=null,s=qT(u);t=typeof t=="function"?t:t===void 0?q4:Ut(t),e=typeof e=="function"?e:e===void 0?H4:Ut(e);function u(c){var d,h=(c=HT(c)).length,p,g=!1,v;for(r==null&&(a=i(v=s())),d=0;d<=h;++d)!(d<h&&n(p=c[d],d,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(p,d,c),+e(p,d,c));if(v)return a=null,v+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ut(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ut(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ut(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function sg(t,e,n){var r=null,i=Ut(!0),a=null,s=vv,u=null,c=qT(d);t=typeof t=="function"?t:t===void 0?q4:Ut(+t),e=typeof e=="function"?e:Ut(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?H4:Ut(+n);function d(p){var g,v,w,S=(p=HT(p)).length,A,C=!1,U,M=new Array(S),F=new Array(S);for(a==null&&(u=s(U=c())),g=0;g<=S;++g){if(!(g<S&&i(A=p[g],g,p))===C)if(C=!C)v=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=g-1;w>=v;--w)u.point(M[w],F[w]);u.lineEnd(),u.areaEnd()}C&&(M[g]=+t(A,g,p),F[g]=+e(A,g,p),u.point(r?+r(A,g,p):M[g],n?+n(A,g,p):F[g]))}if(U)return u=null,U+""||null}function h(){return G4().defined(i).curve(s).context(a)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:Ut(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Ut(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ut(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:Ut(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Ut(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ut(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ut(!!p),d):i},d.curve=function(p){return arguments.length?(s=p,a!=null&&(u=s(a)),d):s},d.context=function(p){return arguments.length?(p==null?a=u=null:u=s(a=p),d):a},d}class $4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function t8(t){return new $4(t,!0)}function n8(t){return new $4(t,!1)}const GT={draw(t,e){const n=ca(e/ty);t.moveTo(n,0),t.arc(0,0,n,0,yv)}},r8={draw(t,e){const n=ca(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},K4=ca(1/3),i8=K4*2,a8={draw(t,e){const n=ca(e/i8),r=n*K4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},o8={draw(t,e){const n=ca(e),r=-n/2;t.rect(r,r,n,n)}},s8=.8908130915292852,W4=ey(ty/10)/ey(7*ty/10),l8=ey(yv/10)*W4,u8=-B4(yv/10)*W4,c8={draw(t,e){const n=ca(e*s8),r=l8*n,i=u8*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=yv*a/5,u=B4(s),c=ey(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},U_=ca(3),d8={draw(t,e){const n=-ca(e/(U_*3));t.moveTo(0,n*2),t.lineTo(-U_*n,-n),t.lineTo(U_*n,-n),t.closePath()}},Ci=-.5,Ii=ca(3)/2,XE=1/ca(12),f8=(XE/2+1)*3,h8={draw(t,e){const n=ca(e/f8),r=n/2,i=n*XE,a=r,s=n*XE+n,u=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(Ci*r-Ii*i,Ii*r+Ci*i),t.lineTo(Ci*a-Ii*s,Ii*a+Ci*s),t.lineTo(Ci*u-Ii*c,Ii*u+Ci*c),t.lineTo(Ci*r+Ii*i,Ci*i-Ii*r),t.lineTo(Ci*a+Ii*s,Ci*s-Ii*a),t.lineTo(Ci*u+Ii*c,Ci*c-Ii*u),t.closePath()}};function p8(t,e){let n=null,r=qT(i);t=typeof t=="function"?t:Ut(t||GT),e=typeof e=="function"?e:Ut(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ut(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ut(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function ny(){}function ry(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Y4(t){this._context=t}Y4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ry(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ry(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function m8(t){return new Y4(t)}function J4(t){this._context=t}J4.prototype={areaStart:ny,areaEnd:ny,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ry(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function g8(t){return new J4(t)}function X4(t){this._context=t}X4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ry(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function y8(t){return new X4(t)}function Q4(t){this._context=t}Q4.prototype={areaStart:ny,areaEnd:ny,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function v8(t){return new Q4(t)}function _R(t){return t<0?-1:1}function xR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(a*i+s*r)/(r+i);return(_R(a)+_R(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function ER(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function V_(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,s-u*n,a,s)}function iy(t){this._context=t}iy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:V_(this,this._t0,ER(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,V_(this,ER(this,n=xR(this,t,e)),n);break;default:V_(this,this._t0,n=xR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Z4(t){this._context=new e3(t)}(Z4.prototype=Object.create(iy.prototype)).point=function(t,e){iy.prototype.point.call(this,e,t)};function e3(t){this._context=t}e3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function b8(t){return new iy(t)}function _8(t){return new Z4(t)}function t3(t){this._context=t}t3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=TR(t),i=TR(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function TR(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function x8(t){return new t3(t)}function bv(t,e){this._context=t,this._t=e}bv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function E8(t){return new bv(t,.5)}function T8(t){return new bv(t,0)}function w8(t){return new bv(t,1)}function Xc(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,u=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function QE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function S8(t,e){return t[e]}function A8(t){const e=[];return e.key=t,e}function k8(){var t=Ut([]),e=QE,n=Xc,r=S8;function i(a){var s=Array.from(t.apply(this,arguments),A8),u,c=s.length,d=-1,h;for(const p of a)for(u=0,++d;u<c;++u)(s[u][d]=[0,+r(p,s[u].key,d,a)]).data=p;for(u=0,h=HT(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ut(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ut(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?QE:typeof a=="function"?a:Ut(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Xc,i):n},i}function C8(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Xc(t,e)}}function I8(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}Xc(t,e)}}function R8(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var u=0,c=0,d=0;u<s;++u){for(var h=t[e[u]],p=h[r][1]||0,g=h[r-1][1]||0,v=(p-g)/2,w=0;w<u;++w){var S=t[e[w]],A=S[r][1]||0,C=S[r-1][1]||0;v+=A-C}c+=p,d+=v*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Xc(t,e)}}var F_={},B_={},wR;function N8(){return wR||(wR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(B_)),B_}var j_={},SR;function n3(){return SR||(SR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(j_)),j_}var z_={},AR;function $T(){return AR||(AR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(z_)),z_}var q_={},H_={},kR;function P8(){return kR||(kR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(H_)),H_}var CR;function KT(){return CR||(CR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P8(),n=$T();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let u=0,c="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<s;){const p=i[u];d?p==="\\"&&u+1<s?(u++,c+=i[u]):p===d?d="":c+=p:h?p==='"'||p==="'"?d=p:p==="]"?(h=!1,a.push(c),c=""):c+=p:p==="["?(h=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,u++}return c&&a.push(c),a}t.toPath=r})(q_)),q_}var IR;function WT(){return IR||(IR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N8(),n=n3(),r=$T(),i=KT();function a(u,c,d){if(u==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?n.isDeepKey(c)?a(u,i.toPath(c),d):d:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?d:h}default:{if(Array.isArray(c))return s(u,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?d:h}}}function s(u,c,d){if(c.length===0)return d;let h=u;for(let p=0;p<c.length;p++){if(h==null||e.isUnsafeProperty(c[p]))return d;h=h[c[p]]}return h===void 0?d:h}t.get=a})(F_)),F_}var G_,RR;function M8(){return RR||(RR=1,G_=WT().get),G_}var D8=M8();const Qc=Bi(D8);var oi=t=>t===0?0:t>0?1:-1,Qa=t=>typeof t=="number"&&t!=+t,Oo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ze=t=>(typeof t=="number"||t instanceof Number)&&!Qa(t),Za=t=>ze(t)||typeof t=="string",O8=0,xh=t=>{var e=++O8;return"".concat(t||"").concat(e)},oa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze(e)&&typeof e!="string")return r;var a;if(Oo(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Qa(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},r3=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function ir(t,e,n){return ze(t)&&ze(e)?t+n*(e-t):e}function L8(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Qc(r,e))===n)}var $n=t=>t===null||typeof t>"u",Yh=t=>$n(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function U8(t){return t!=null}function Jh(){}var V8=["type","size","sizeType"];function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(null,arguments)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){F8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F8(t,e,n){return(e=B8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B8(t){var e=j8(t,"string");return typeof e=="symbol"?e:e+""}function j8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z8(t,e){if(t==null)return{};var n,r,i=q8(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function q8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var i3={symbolCircle:GT,symbolCross:r8,symbolDiamond:a8,symbolSquare:o8,symbolStar:c8,symbolTriangle:d8,symbolWye:h8},H8=Math.PI/180,G8=t=>{var e="symbol".concat(Yh(t));return i3[e]||GT},$8=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*H8;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},K8=(t,e)=>{i3["symbol".concat(Yh(t))]=e},a3=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=z8(t,V8),a=PR(PR({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var u=()=>{var g=G8(s),v=p8().type(g).size($8(n,r,s)),w=v();if(w!==null)return w},{className:c,cx:d,cy:h}=a,p=Li(a);return ze(d)&&ze(h)&&ze(n)?R.createElement("path",ZE({},p,{className:Ot("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};a3.registerSymbol=K8;var o3=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,W8=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(R.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{jT(i)&&(r[i]=(a=>n[i](n,a)))}),r},Y8=(t,e,n)=>r=>(t(e,n,r),null),YT=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];jT(i)&&typeof a=="function"&&(r||(r={}),r[i]=Y8(a,e,n))}),r};function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){X8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X8(t,e,n){return(e=Q8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q8(t){var e=Z8(t,"string");return typeof e=="symbol"?e:e+""}function Z8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ji(t,e){var n=J8({},t),r=e,i=Object.keys(e),a=i.reduce((s,u)=>(s[u]===void 0&&r[u]!==void 0&&(s[u]=r[u]),s),n);return a}var $_={},K_={},DR;function eH(){return DR||(DR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],u=r(s);i.has(u)||i.set(u,s)}return Array.from(i.values())}t.uniqBy=e})(K_)),K_}var W_={},OR;function s3(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(W_)),W_}var Y_={},J_={},X_={},LR;function tH(){return LR||(LR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(X_)),X_}var UR;function JT(){return UR||(UR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tH();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(J_)),J_}var Q_={},VR;function nH(){return VR||(VR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Q_)),Q_}var FR;function rH(){return FR||(FR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JT(),n=nH();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Y_)),Y_}var Z_={},ex={},BR;function iH(){return BR||(BR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WT();function n(r){return function(i){return e.get(i,r)}}t.property=n})(ex)),ex}var tx={},nx={},rx={},ix={},jR;function l3(){return jR||(jR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(ix)),ix}var ax={},zR;function u3(){return zR||(zR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(ax)),ax}var ox={},qR;function c3(){return qR||(qR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(ox)),ox}var HR;function aH(){return HR||(HR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l3(),n=u3(),r=c3();function i(h,p,g){return typeof g!="function"?i(h,p,()=>{}):a(h,p,function v(w,S,A,C,U,M){const F=g(w,S,A,C,U,M);return F!==void 0?!!F:a(w,S,v,M)},new Map)}function a(h,p,g,v){if(p===h)return!0;switch(typeof p){case"object":return s(h,p,g,v);case"function":return Object.keys(p).length>0?a(h,{...p},g,v):r.eq(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function s(h,p,g,v){if(p==null)return!0;if(Array.isArray(p))return c(h,p,g,v);if(p instanceof Map)return u(h,p,g,v);if(p instanceof Set)return d(h,p,g,v);const w=Object.keys(p);if(h==null)return w.length===0;if(w.length===0)return!0;if(v!=null&&v.has(p))return v.get(p)===h;v==null||v.set(p,h);try{for(let S=0;S<w.length;S++){const A=w[S];if(!n.isPrimitive(h)&&!(A in h)||p[A]===void 0&&h[A]!==void 0||p[A]===null&&h[A]!==null||!g(h[A],p[A],A,h,p,v))return!1}return!0}finally{v==null||v.delete(p)}}function u(h,p,g,v){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[w,S]of p.entries()){const A=h.get(w);if(g(A,S,w,h,p,v)===!1)return!1}return!0}function c(h,p,g,v){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const w=new Set;for(let S=0;S<p.length;S++){const A=p[S];let C=!1;for(let U=0;U<h.length;U++){if(w.has(U))continue;const M=h[U];let F=!1;if(g(M,A,S,h,p,v)&&(F=!0),F){w.add(U),C=!0;break}}if(!C)return!1}return!0}function d(h,p,g,v){return p.size===0?!0:h instanceof Set?c([...h],[...p],g,v):!1}t.isMatchWith=i,t.isSetMatch=d})(rx)),rx}var GR;function d3(){return GR||(GR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aH();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(nx)),nx}var sx={},lx={},ux={},$R;function oH(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(ux)),ux}var cx={},KR;function f3(){return KR||(KR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(cx)),cx}var dx={},WR;function h3(){return WR||(WR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",u="[object Date]",c="[object Map]",d="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",v="[object Object]",w="[object Error]",S="[object DataView]",A="[object Uint8Array]",C="[object Uint8ClampedArray]",U="[object Uint16Array]",M="[object Uint32Array]",F="[object BigUint64Array]",q="[object Int8Array]",V="[object Int16Array]",D="[object Int32Array]",O="[object BigInt64Array]",L="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=g,t.arrayTag=h,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=F,t.booleanTag=i,t.dataViewTag=S,t.dateTag=u,t.errorTag=w,t.float32ArrayTag=L,t.float64ArrayTag=B,t.functionTag=p,t.int16ArrayTag=V,t.int32ArrayTag=D,t.int8ArrayTag=q,t.mapTag=c,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=U,t.uint32ArrayTag=M,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=C})(dx)),dx}var fx={},YR;function sH(){return YR||(YR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(fx)),fx}var JR;function p3(){return JR||(JR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oH(),n=f3(),r=h3(),i=u3(),a=sH();function s(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,g,v=new Map,w=void 0){const S=w==null?void 0:w(h,p,g,v);if(S!==void 0)return S;if(i.isPrimitive(h))return h;if(v.has(h))return v.get(h);if(Array.isArray(h)){const A=new Array(h.length);v.set(h,A);for(let C=0;C<h.length;C++)A[C]=u(h[C],C,g,v,w);return Object.hasOwn(h,"index")&&(A.index=h.index),Object.hasOwn(h,"input")&&(A.input=h.input),A}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const A=new RegExp(h.source,h.flags);return A.lastIndex=h.lastIndex,A}if(h instanceof Map){const A=new Map;v.set(h,A);for(const[C,U]of h)A.set(C,u(U,C,g,v,w));return A}if(h instanceof Set){const A=new Set;v.set(h,A);for(const C of h)A.add(u(C,void 0,g,v,w));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const A=new(Object.getPrototypeOf(h)).constructor(h.length);v.set(h,A);for(let C=0;C<h.length;C++)A[C]=u(h[C],C,g,v,w);return A}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const A=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return v.set(h,A),c(A,h,g,v,w),A}if(typeof File<"u"&&h instanceof File){const A=new File([h],h.name,{type:h.type});return v.set(h,A),c(A,h,g,v,w),A}if(typeof Blob<"u"&&h instanceof Blob){const A=new Blob([h],{type:h.type});return v.set(h,A),c(A,h,g,v,w),A}if(h instanceof Error){const A=new h.constructor;return v.set(h,A),A.message=h.message,A.name=h.name,A.stack=h.stack,A.cause=h.cause,c(A,h,g,v,w),A}if(h instanceof Boolean){const A=new Boolean(h.valueOf());return v.set(h,A),c(A,h,g,v,w),A}if(h instanceof Number){const A=new Number(h.valueOf());return v.set(h,A),c(A,h,g,v,w),A}if(h instanceof String){const A=new String(h.valueOf());return v.set(h,A),c(A,h,g,v,w),A}if(typeof h=="object"&&d(h)){const A=Object.create(Object.getPrototypeOf(h));return v.set(h,A),c(A,h,g,v,w),A}return h}function c(h,p,g=h,v,w){const S=[...Object.keys(p),...e.getSymbols(p)];for(let A=0;A<S.length;A++){const C=S[A],U=Object.getOwnPropertyDescriptor(h,C);(U==null||U.writable)&&(h[C]=u(p[C],C,g,v,w))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=u,t.copyProperties=c})(lx)),lx}var XR;function lH(){return XR||(XR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p3();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(sx)),sx}var QR;function uH(){return QR||(QR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d3(),n=lH();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(tx)),tx}var hx={},px={},mx={},ZR;function cH(){return ZR||(ZR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p3(),n=h3();function r(i,a){return e.cloneDeepWith(i,(s,u,c,d)=>{const h=a==null?void 0:a(s,u,c,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(mx)),mx}var eN;function dH(){return eN||(eN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cH();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(px)),px}var gx={},yx={},tN;function m3(){return tN||(tN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(yx)),yx}var vx={},nN;function fH(){return nN||(nN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f3();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(vx)),vx}var rN;function hH(){return rN||(rN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n3(),n=m3(),r=fH(),i=KT();function a(s,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&(s==null?void 0:s[u])==null?c=i.toPath(u):c=[u],c.length===0)return!1;let d=s;for(let h=0;h<c.length;h++){const p=c[h];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=a})(gx)),gx}var iN;function pH(){return iN||(iN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d3(),n=$T(),r=dH(),i=WT(),a=hH();function s(u,c){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(d){const h=i.get(d,u);return h===void 0?a.has(d,u):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=s})(hx)),hx}var aN;function mH(){return aN||(aN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s3(),n=iH(),r=uH(),i=pH();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(Z_)),Z_}var oN;function gH(){return oN||(oN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eH(),n=s3(),r=rH(),i=mH();function a(s,u=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(u)):[]}t.uniqBy=a})($_)),$_}var bx,sN;function yH(){return sN||(sN=1,bx=gH().uniqBy),bx}var vH=yH();const lN=Bi(vH);function bH(t,e,n){return e===!0?lN(t,n):typeof e=="function"?lN(t,e):t}var _x={exports:{}},xx={},Ex={exports:{}},Tx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN;function _H(){if(uN)return Tx;uN=1;var t=pd();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function u(p,g){var v=g(),w=r({inst:{value:v,getSnapshot:g}}),S=w[0].inst,A=w[1];return a(function(){S.value=v,S.getSnapshot=g,c(S)&&A({inst:S})},[p,v,g]),i(function(){return c(S)&&A({inst:S}),p(function(){c(S)&&A({inst:S})})},[p]),s(v),v}function c(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function d(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return Tx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Tx}var cN;function xH(){return cN||(cN=1,Ex.exports=_H()),Ex.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dN;function EH(){if(dN)return xx;dN=1;var t=pd(),e=xH();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,u=t.useMemo,c=t.useDebugValue;return xx.useSyncExternalStoreWithSelector=function(d,h,p,g,v){var w=a(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=u(function(){function C(V){if(!U){if(U=!0,M=V,V=g(V),v!==void 0&&S.hasValue){var D=S.value;if(v(D,V))return F=D}return F=V}if(D=F,r(M,V))return D;var O=g(V);return v!==void 0&&v(D,O)?(M=V,D):(M=V,F=O)}var U=!1,M,F,q=p===void 0?null:p;return[function(){return C(h())},q===null?void 0:function(){return C(q())}]},[h,p,g,v]);var A=i(d,w[0],w[1]);return s(function(){S.hasValue=!0,S.value=A},[A]),c(A),A},xx}var fN;function TH(){return fN||(fN=1,_x.exports=EH()),_x.exports}var wH=TH(),XT=R.createContext(null),SH=t=>t,gn=()=>{var t=R.useContext(XT);return t?t.store.dispatch:SH},Lg=()=>{},AH=()=>Lg,kH=(t,e)=>t===e;function Fe(t){var e=R.useContext(XT);return wH.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:AH,e?e.store.getState:Lg,e?e.store.getState:Lg,e?t:Lg,kH)}function CH(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function IH(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function RH(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var hN=t=>Array.isArray(t)?t:[t];function NH(t){const e=Array.isArray(t[0])?t[0]:t;return RH(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function PH(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var MH=class{constructor(t){this.value=t}deref(){return this.value}},DH=typeof WeakRef<"u"?WeakRef:MH,OH=0,pN=1;function lg(){return{s:OH,v:void 0,o:null,p:null}}function g3(t,e={}){let n=lg();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var p;let u=n;const{length:c}=arguments;for(let g=0,v=c;g<v;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const A=S.get(w);A===void 0?(u=lg(),S.set(w,u)):u=A}else{let S=u.p;S===null&&(u.p=S=new Map);const A=S.get(w);A===void 0?(u=lg(),S.set(w,u)):u=A}}const d=u;let h;if(u.s===pN)h=u.v;else if(h=t.apply(null,arguments),a++,r){const g=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;g!=null&&r(g,h)&&(h=g,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new DH(h):h}return d.s=pN,d.v=h,h}return s.clearCache=()=>{n=lg(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function LH(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,u,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),CH(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:v=g3,argsMemoizeOptions:w=[]}=h,S=hN(g),A=hN(w),C=NH(i),U=p(function(){return a++,d.apply(null,arguments)},...S),M=v(function(){s++;const q=PH(C,arguments);return u=U.apply(null,q),u},...A);return Object.assign(M,{resultFunc:d,memoizedResultFunc:U,dependencies:C,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var ce=LH(g3),UH=Object.assign((t,e=ce)=>{IH(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,u,c)=>(s[n[c]]=u,s),{}))},{withTypes:()=>UH}),wx={},Sx={},Ax={},mN;function VH(){return mN||(mN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),u=e(i);if(s===u&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-s:s-u}return 0};t.compareValues=n})(Ax)),Ax}var kx={},Cx={},gN;function y3(){return gN||(gN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Cx)),Cx}var yN;function FH(){return yN||(yN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(kx)),kx}var vN;function BH(){return vN||(vN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VH(),n=FH(),r=KT();function i(a,s,u,c){if(a==null)return[];u=c?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(v=>String(v));const d=(v,w)=>{let S=v;for(let A=0;A<w.length&&S!=null;++A)S=S[w[A]];return S},h=(v,w)=>w==null||v==null?w:typeof v=="object"&&"key"in v?Object.hasOwn(w,v.key)?w[v.key]:d(w,v.path):typeof v=="function"?v(w):Array.isArray(v)?d(w,v):typeof w=="object"?w[v]:w,p=s.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:p.map(w=>h(w,v))})).slice().sort((v,w)=>{for(let S=0;S<p.length;S++){const A=e.compareValues(v.criteria[S],w.criteria[S],u[S]);if(A!==0)return A}return 0}).map(v=>v.original)}t.orderBy=i})(Sx)),Sx}var Ix={},bN;function jH(){return bN||(bN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(u,c)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&c<a?s(h,c+1):i.push(h)}};return s(n,0),i}t.flatten=e})(Ix)),Ix}var Rx={},_N;function v3(){return _N||(_N=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m3(),n=JT(),r=l3(),i=c3();function a(s,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],s):!1}t.isIterateeCall=a})(Rx)),Rx}var xN;function zH(){return xN||(xN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BH(),n=jH(),r=v3();function i(a,...s){const u=s.length;return u>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:u>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(wx)),wx}var Nx,EN;function qH(){return EN||(EN=1,Nx=zH().sortBy),Nx}var HH=qH();const _v=Bi(HH);var b3=t=>t.legend.settings,GH=t=>t.legend.size,$H=t=>t.legend.payload;ce([$H,b3],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?_v(r,n):r});var ug=1;function KH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=R.useState({height:0,left:0,top:0,width:0}),r=R.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>ug||Math.abs(s.left-e.left)>ug||Math.abs(s.top-e.top)>ug||Math.abs(s.width-e.width)>ug)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function nr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var WH=typeof Symbol=="function"&&Symbol.observable||"@@observable",TN=WH,Px=()=>Math.random().toString(36).substring(7).split("").join("."),YH={INIT:`@@redux/INIT${Px()}`,REPLACE:`@@redux/REPLACE${Px()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Px()}`},ay=YH;function QT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function _3(t,e,n){if(typeof t!="function")throw new Error(nr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nr(1));return n(_3)(t,e)}let r=t,i=e,a=new Map,s=a,u=0,c=!1;function d(){s===a&&(s=new Map,a.forEach((A,C)=>{s.set(C,A)}))}function h(){if(c)throw new Error(nr(3));return i}function p(A){if(typeof A!="function")throw new Error(nr(4));if(c)throw new Error(nr(5));let C=!0;d();const U=u++;return s.set(U,A),function(){if(C){if(c)throw new Error(nr(6));C=!1,d(),s.delete(U),a=null}}}function g(A){if(!QT(A))throw new Error(nr(7));if(typeof A.type>"u")throw new Error(nr(8));if(typeof A.type!="string")throw new Error(nr(17));if(c)throw new Error(nr(9));try{c=!0,i=r(i,A)}finally{c=!1}return(a=s).forEach(U=>{U()}),A}function v(A){if(typeof A!="function")throw new Error(nr(10));r=A,g({type:ay.REPLACE})}function w(){const A=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(nr(11));function U(){const F=C;F.next&&F.next(h())}return U(),{unsubscribe:A(U)}},[TN](){return this}}}return g({type:ay.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:v,[TN]:w}}function JH(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ay.INIT})>"u")throw new Error(nr(12));if(typeof n(void 0,{type:ay.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nr(13))})}function x3(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{JH(n)}catch(a){i=a}return function(s={},u){if(i)throw i;let c=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],g=n[p],v=s[p],w=g(v,u);if(typeof w>"u")throw u&&u.type,new Error(nr(14));d[p]=w,c=c||w!==v}return c=c||r.length!==Object.keys(s).length,c?d:s}}function oy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function XH(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(nr(15))};const s={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},u=t.map(c=>c(s));return a=oy(...u)(i.dispatch),{...i,dispatch:a}}}function E3(t){return QT(t)&&"type"in t&&typeof t.type=="string"}var T3=Symbol.for("immer-nothing"),wN=Symbol.for("immer-draftable"),Cr=Symbol.for("immer-state");function ta(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var si=Object,Zc=si.getPrototypeOf,sy="constructor",xv="prototype",e1="configurable",ly="enumerable",Ug="writable",Eh="value",Lo=t=>!!t&&!!t[Cr];function sa(t){var e;return t?w3(t)||Ev(t)||!!t[wN]||!!((e=t[sy])!=null&&e[wN])||Tv(t)||wv(t):!1}var QH=si[xv][sy].toString(),SN=new WeakMap;function w3(t){if(!t||!ZT(t))return!1;const e=Zc(t);if(e===null||e===si[xv])return!0;const n=si.hasOwnProperty.call(e,sy)&&e[sy];if(n===Object)return!0;if(!Ac(n))return!1;let r=SN.get(n);return r===void 0&&(r=Function.toString.call(n),SN.set(n,r)),r===QH}function Xh(t,e,n=!0){Qh(t)===0?(n?Reflect.ownKeys(t):si.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Qh(t){const e=t[Cr];return e?e.type_:Ev(t)?1:Tv(t)?2:wv(t)?3:0}var AN=(t,e,n=Qh(t))=>n===2?t.has(e):si[xv].hasOwnProperty.call(t,e),t1=(t,e,n=Qh(t))=>n===2?t.get(e):t[e],uy=(t,e,n,r=Qh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function ZH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Ev=Array.isArray,Tv=t=>t instanceof Map,wv=t=>t instanceof Set,ZT=t=>typeof t=="object",Ac=t=>typeof t=="function",Mx=t=>typeof t=="boolean",So=t=>t.copy_||t.base_,ew=t=>t.modified_?t.copy_:t.base_;function n1(t,e){if(Tv(t))return new Map(t);if(wv(t))return new Set(t);if(Ev(t))return Array[xv].slice.call(t);const n=w3(t);if(e===!0||e==="class_only"&&!n){const r=si.getOwnPropertyDescriptors(t);delete r[Cr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],u=r[s];u[Ug]===!1&&(u[Ug]=!0,u[e1]=!0),(u.get||u.set)&&(r[s]={[e1]:!0,[Ug]:!0,[ly]:u[ly],[Eh]:t[s]})}return si.create(Zc(t),r)}else{const r=Zc(t);if(r!==null&&n)return{...t};const i=si.create(r);return si.assign(i,t)}}function tw(t,e=!1){return Sv(t)||Lo(t)||!sa(t)||(Qh(t)>1&&si.defineProperties(t,{set:cg,add:cg,clear:cg,delete:cg}),si.freeze(t),e&&Xh(t,(n,r)=>{tw(r,!0)},!1)),t}function eG(){ta(2)}var cg={[Eh]:eG};function Sv(t){return t===null||!ZT(t)?!0:si.isFrozen(t)}var cy="MapSet",r1="Patches",S3={};function ed(t){const e=S3[t];return e||ta(0,t),e}var tG=t=>!!S3[t],Th,A3=()=>Th,nG=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:tG(cy)?ed(cy):void 0});function kN(t,e){e&&(t.patchPlugin_=ed(r1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function i1(t){a1(t),t.drafts_.forEach(rG),t.drafts_=null}function a1(t){t===Th&&(Th=t.parent_)}var CN=t=>Th=nG(Th,t);function rG(t){const e=t[Cr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function IN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Cr].modified_&&(i1(e),ta(4)),sa(t)&&(t=RN(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Cr].base_,t,e)}else t=RN(e,n);return iG(e,t,!0),i1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==T3?t:void 0}function RN(t,e){if(Sv(e))return e;const n=e[Cr];if(!n)return nw(e,t.handledSet_,t);if(!Av(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);I3(n,t)}return n.copy_}function iG(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&tw(e,n)}function k3(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Av=(t,e)=>t.scope_===e,aG=[];function C3(t,e,n,r){const i=So(t),a=t.type_;if(r!==void 0&&t1(i,r,a)===e){uy(i,r,n,a);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Xh(i,(c,d)=>{if(Lo(d)){const h=u.get(d)||[];h.push(c),u.set(d,h)}})}const s=t.draftLocations_.get(e)??aG;for(const u of s)uy(i,u,n,a)}function oG(t,e,n){t.callbacks_.push(function(i){var u;const a=e;if(!a||!Av(a,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(a);const s=ew(a);C3(t,a.draft_??a,s,n),I3(a,i)})}function I3(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}k3(t)}}function sG(t,e,n){const{scope_:r}=t;if(Lo(n)){const i=n[Cr];Av(i,r)&&i.callbacks_.push(function(){Vg(t);const s=ew(i);C3(t,n,s,e)})}else sa(n)&&t.callbacks_.push(function(){const a=So(t);t1(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&nw(t1(t.copy_,e,t.type_),r.handledSet_,r)})}function nw(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Lo(t)||e.has(t)||!sa(t)||Sv(t)||(e.add(t),Xh(t,(r,i)=>{if(Lo(i)){const a=i[Cr];if(Av(a,n)){const s=ew(a);uy(t,r,s,t.type_),k3(a)}}else sa(i)&&nw(i,e,n)})),t}function lG(t,e){const n=Ev(t),r={type_:n?1:0,scope_:e?e.scope_:A3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=rw;n&&(i=[r],a=wh);const{revoke:s,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=s,[u,r]}var rw={get(t,e){if(e===Cr)return t;const n=So(t);if(!AN(n,e,t.type_))return uG(t,n,e);const r=n[e];if(t.finalized_||!sa(r))return r;if(r===Dx(t.base_,e)){Vg(t);const i=t.type_===1?+e:e,a=s1(t.scope_,r,t,i);return t.copy_[i]=a}return r},has(t,e){return e in So(t)},ownKeys(t){return Reflect.ownKeys(So(t))},set(t,e,n){const r=R3(So(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Dx(So(t),e),a=i==null?void 0:i[Cr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(ZH(n,i)&&(n!==void 0||AN(t.base_,e,t.type_)))return!0;Vg(t),o1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),sG(t,e,n)),!0},deleteProperty(t,e){return Vg(t),Dx(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),o1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=So(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Ug]:!0,[e1]:t.type_!==1||e!=="length",[ly]:r[ly],[Eh]:n[e]}},defineProperty(){ta(11)},getPrototypeOf(t){return Zc(t.base_)},setPrototypeOf(){ta(12)}},wh={};Xh(rw,(t,e)=>{wh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});wh.deleteProperty=function(t,e){return wh.set.call(this,t,e,void 0)};wh.set=function(t,e,n){return rw.set.call(this,t[0],e,n,t[0])};function Dx(t,e){const n=t[Cr];return(n?So(n):t)[e]}function uG(t,e,n){var i;const r=R3(e,n);return r?Eh in r?r[Eh]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function R3(t,e){if(!(e in t))return;let n=Zc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Zc(n)}}function o1(t){t.modified_||(t.modified_=!0,t.parent_&&o1(t.parent_))}function Vg(t){t.copy_||(t.assigned_=new Map,t.copy_=n1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var cG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ac(n)&&!Ac(r)){const s=r;r=n;const u=this;return function(d=s,...h){return u.produce(d,p=>r.call(this,p,...h))}}Ac(r)||ta(6),i!==void 0&&!Ac(i)&&ta(7);let a;if(sa(n)){const s=CN(this),u=s1(s,n,void 0);let c=!0;try{a=r(u),c=!1}finally{c?i1(s):a1(s)}return kN(s,i),IN(a,s)}else if(!n||!ZT(n)){if(a=r(n),a===void 0&&(a=n),a===T3&&(a=void 0),this.autoFreeze_&&tw(a,!0),i){const s=[],u=[];ed(r1).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:u}),i(s,u)}return a}else ta(1,n)},this.produceWithPatches=(n,r)=>{if(Ac(n))return(u,...c)=>this.produceWithPatches(u,d=>n(d,...c));let i,a;return[this.produce(n,r,(u,c)=>{i=u,a=c}),i,a]},Mx(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Mx(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Mx(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){sa(e)||ta(8),Lo(e)&&(e=aa(e));const n=CN(this),r=s1(n,e,void 0);return r[Cr].isManual_=!0,a1(n),r}finishDraft(e,n){const r=e&&e[Cr];(!r||!r.isManual_)&&ta(9);const{scope_:i}=r;return kN(i,n),IN(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=ed(r1).applyPatches_;return Lo(e)?i(e,n):this.produce(e,a=>i(a,n))}};function s1(t,e,n,r){const[i,a]=Tv(e)?ed(cy).proxyMap_(e,n):wv(e)?ed(cy).proxySet_(e,n):lG(e,n);return((n==null?void 0:n.scope_)??A3()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?oG(n,a,r):a.callbacks_.push(function(c){var h;(h=c.mapSetPlugin_)==null||h.fixSetContents(a);const{patchPlugin_:d}=c;a.modified_&&d&&d.generatePatches_(a,[],c)}),i}function aa(t){return Lo(t)||ta(10,t),N3(t)}function N3(t){if(!sa(t)||Sv(t))return t;const e=t[Cr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=n1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=n1(t,!0);return Xh(n,(i,a)=>{uy(n,i,N3(a))},r),e&&(e.finalized_=!1),n}var dG=new cG,P3=dG.produce;function M3(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var fG=M3(),hG=M3,pG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?oy:oy.apply(null,arguments)};function Ui(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(di(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>E3(r)&&r.type===t,n}var D3=class eh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,eh.prototype)}static get[Symbol.species](){return eh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new eh(...e[0].concat(this)):new eh(...e.concat(this))}};function NN(t){return sa(t)?P3(t,()=>{}):t}function dg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function mG(t){return typeof t=="boolean"}var gG=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new D3;return n&&(mG(n)?s.push(fG):s.push(hG(n.extraArgument))),s},O3="RTK_autoBatch",Jt=()=>t=>({payload:t,meta:{[O3]:!0}}),PN=t=>e=>{setTimeout(e,t)},L3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:PN(10):t.type==="callback"?t.queueNotification:PN(t.timeout),d=()=>{s=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),g=r.subscribe(p);return u.add(h),()=>{g(),u.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[O3]),a=!i,a&&(s||(s=!0,c(d))),r.dispatch(h)}finally{i=!0}}})},yG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new D3(t);return r&&i.push(L3(typeof r=="object"?r:void 0)),i};function vG(t){const e=gG(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(QT(n))u=x3(n);else throw new Error(di(1));let c;typeof r=="function"?c=r(e):c=e();let d=oy;i&&(d=pG({trace:!1,...typeof i=="object"&&i}));const h=XH(...c),p=yG(h);let g=typeof s=="function"?s(p):p();const v=d(...g);return _3(u,a,v)}function U3(t){const e={},n=[];let r;const i={addCase(a,s){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(di(28));if(u in e)throw new Error(di(29));return e[u]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function bG(t){return typeof t=="function"}function _G(t,e){let[n,r,i]=U3(e),a;if(bG(t))a=()=>NN(t());else{const u=NN(t);a=()=>u}function s(u=a(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,p)=>{if(p)if(Lo(h)){const v=p(h,c);return v===void 0?h:v}else{if(sa(h))return P3(h,g=>p(g,c));{const g=p(h,c);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},u)}return s.getInitialState=a,s}var xG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",EG=(t=21)=>{let e="",n=t;for(;n--;)e+=xG[Math.random()*64|0];return e},TG=Symbol.for("rtk-slice-createasyncthunk");function wG(t,e){return`${t}/${e}`}function SG({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[TG];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(di(11));const u=(typeof i.reducers=="function"?i.reducers(kG()):i.reducers)||{},c=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(F,q){const V=typeof F=="string"?F:F.type;if(!V)throw new Error(di(12));if(V in d.sliceCaseReducersByType)throw new Error(di(13));return d.sliceCaseReducersByType[V]=q,h},addMatcher(F,q){return d.sliceMatchers.push({matcher:F,reducer:q}),h},exposeAction(F,q){return d.actionCreators[F]=q,h},exposeCaseReducer(F,q){return d.sliceCaseReducersByName[F]=q,h}};c.forEach(F=>{const q=u[F],V={reducerName:F,type:wG(a,F),createNotation:typeof i.reducers=="function"};IG(q)?NG(V,q,h,e):CG(V,q,h)});function p(){const[F={},q=[],V=void 0]=typeof i.extraReducers=="function"?U3(i.extraReducers):[i.extraReducers],D={...F,...d.sliceCaseReducersByType};return _G(i.initialState,O=>{for(let L in D)O.addCase(L,D[L]);for(let L of d.sliceMatchers)O.addMatcher(L.matcher,L.reducer);for(let L of q)O.addMatcher(L.matcher,L.reducer);V&&O.addDefaultCase(V)})}const g=F=>F,v=new Map,w=new WeakMap;let S;function A(F,q){return S||(S=p()),S(F,q)}function C(){return S||(S=p()),S.getInitialState()}function U(F,q=!1){function V(O){let L=O[F];return typeof L>"u"&&q&&(L=dg(w,V,C)),L}function D(O=g){const L=dg(v,q,()=>new WeakMap);return dg(L,O,()=>{const B={};for(const[P,j]of Object.entries(i.selectors??{}))B[P]=AG(j,O,()=>dg(w,O,C),q);return B})}return{reducerPath:F,getSelectors:D,get selectors(){return D(V)},selectSlice:V}}const M={name:a,reducer:A,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...U(s),injectInto(F,{reducerPath:q,...V}={}){const D=q??s;return F.inject({reducerPath:D,reducer:A},V),{...M,...U(D,!0)}}};return M}}function AG(t,e,n,r){function i(a,...s){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...s)}return i.unwrapped=t,i}var $r=SG();function kG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function CG({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!RG(r))throw new Error(di(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Ui(t,s):Ui(t))}function IG(t){return t._reducerDefinitionType==="asyncThunk"}function RG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function NG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(di(18));const{payloadCreator:a,fulfilled:s,pending:u,rejected:c,settled:d,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),u&&r.addCase(p.pending,u),c&&r.addCase(p.rejected,c),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:s||fg,pending:u||fg,rejected:c||fg,settled:d||fg})}function fg(){}var PG="task",V3="listener",F3="completed",iw="cancelled",MG=`task-${iw}`,DG=`task-${F3}`,l1=`${V3}-${iw}`,OG=`${V3}-${F3}`,kv=class{constructor(t){R_(this,"name","TaskAbortError");R_(this,"message");this.code=t,this.message=`${PG} ${iw} (reason: ${t})`}},aw=(t,e)=>{if(typeof t!="function")throw new TypeError(di(32))},dy=()=>{},B3=(t,e=dy)=>(t.catch(e),t),j3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),nu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ru=t=>{if(t.aborted){const{reason:e}=t;throw new kv(e)}};function z3(t,e){let n=dy;return new Promise((r,i)=>{const a=()=>i(new kv(t.reason));if(t.aborted){a();return}n=j3(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=dy})}var LG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof kv?"cancelled":"rejected",error:n}}finally{e==null||e()}},fy=t=>e=>B3(z3(t,e).then(n=>(ru(t),n))),q3=t=>{const e=fy(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Oc}=Object,MN={},Cv="listenerMiddleware",UG=(t,e)=>{const n=r=>j3(t,()=>nu(r,t.reason));return(r,i)=>{aw(r);const a=new AbortController;n(a);const s=LG(async()=>{ru(t),ru(a.signal);const u=await r({pause:fy(a.signal),delay:q3(a.signal),signal:a.signal});return ru(a.signal),u},()=>nu(a,DG));return i!=null&&i.autoJoin&&e.push(s.catch(dy)),{result:fy(t)(s),cancel(){nu(a,MG)}}}},VG=(t,e)=>{const n=async(r,i)=>{ru(e);let a=()=>{};const u=[new Promise((c,d)=>{let h=t({predicate:r,effect:(p,g)=>{g.unsubscribe(),c([p,g.getState(),g.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await z3(e,Promise.race(u));return ru(e),c}finally{a()}};return(r,i)=>B3(n(r,i))},H3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Ui(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(di(21));return aw(a),{predicate:i,type:e,effect:a}},G3=Oc(t=>{const{type:e,predicate:n,effect:r}=H3(t);return{id:EG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(di(22))}}},{withTypes:()=>G3}),DN=(t,e)=>{const{type:n,effect:r,predicate:i}=H3(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},u1=t=>{t.pending.forEach(e=>{nu(e,l1)})},FG=(t,e)=>()=>{for(const n of e.keys())u1(n);t.clear()},ON=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},$3=Oc(Ui(`${Cv}/add`),{withTypes:()=>$3}),BG=Ui(`${Cv}/removeAll`),K3=Oc(Ui(`${Cv}/remove`),{withTypes:()=>K3}),jG=(...t)=>{console.error(`${Cv}/error`,...t)},Zh=(t={})=>{const e=new Map,n=new Map,r=v=>{const w=n.get(v)??0;n.set(v,w+1)},i=v=>{const w=n.get(v)??1;w===1?n.delete(v):n.set(v,w-1)},{extra:a,onError:s=jG}=t;aw(s);const u=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),w=>{v.unsubscribe(),w!=null&&w.cancelActive&&u1(v)}),c=v=>{const w=DN(e,v)??G3(v);return u(w)};Oc(c,{withTypes:()=>c});const d=v=>{const w=DN(e,v);return w&&(w.unsubscribe(),v.cancelActive&&u1(w)),!!w};Oc(d,{withTypes:()=>d});const h=async(v,w,S,A)=>{const C=new AbortController,U=VG(c,C.signal),M=[];try{v.pending.add(C),r(v),await Promise.resolve(v.effect(w,Oc({},S,{getOriginalState:A,condition:(F,q)=>U(F,q).then(Boolean),take:U,delay:q3(C.signal),pause:fy(C.signal),extra:a,signal:C.signal,fork:UG(C.signal,M),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((F,q,V)=>{F!==C&&(nu(F,l1),V.delete(F))})},cancel:()=>{nu(C,l1),v.pending.delete(C)},throwIfCancelled:()=>{ru(C.signal)}})))}catch(F){F instanceof kv||ON(s,F,{raisedBy:"effect"})}finally{await Promise.all(M),nu(C,OG),i(v),v.pending.delete(C)}},p=FG(e,n);return{middleware:v=>w=>S=>{if(!E3(S))return w(S);if($3.match(S))return c(S.payload);if(BG.match(S)){p();return}if(K3.match(S))return d(S.payload);let A=v.getState();const C=()=>{if(A===MN)throw new Error(di(23));return A};let U;try{if(U=w(S),e.size>0){const M=v.getState(),F=Array.from(e.values());for(const q of F){let V=!1;try{V=q.predicate(S,M,A)}catch(D){V=!1,ON(s,D,{raisedBy:"predicate"})}V&&h(q,S,v,C)}}}finally{A=MN}return U},startListening:c,stopListening:d,clearListeners:p}};function di(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var zG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},W3=$r({name:"chartLayout",initialState:zG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:qG,setLayout:HG,setChartSize:GG,setScale:$G}=W3.actions,KG=W3.reducer;function Y3(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){WG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WG(t,e,n){return(e=YG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YG(t){var e=JG(t,"string");return typeof e=="symbol"?e:e+""}function JG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function br(t,e,n){return $n(t)||$n(e)?n:Za(e)?Qc(t,e,n):typeof e=="function"?e(t):n}var XG=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:u}=e;if((u==="vertical"||u==="horizontal"&&s==="middle")&&a!=="center"&&ze(t[a]))return Nc(Nc({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&s!=="middle"&&ze(t[s]))return Nc(Nc({},t),{},{[s]:t[s]+(i||0)})}return t},Eu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",UN=1e-4,QG=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-UN,a=Math.max(r[0],r[1])+UN,s=t(e[0]),u=t(e[n-1]);(s<i||s>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},ZG=(t,e)=>{if(!e||e.length!==2||!ze(e[0])||!ze(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ze(t[0])||t[0]<n)&&(i[0]=n),(!ze(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},e7=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var u=Qa(t[s][n][1])?t[s][n][0]:t[s][n][1];u>=0?(t[s][n][0]=i,t[s][n][1]=i+u,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+u,a=t[s][n][1])}},t7=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=Qa(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},n7={sign:e7,expand:C8,none:Xc,silhouette:I8,wiggle:R8,positive:t7},r7=(t,e,n)=>{var r=n7[n],i=k8().keys(e).value((a,s)=>Number(br(a,s,0))).order(QE).offset(r);return i(t)};function i7(t){return t==null?void 0:String(t)}var VN=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var u=br(a,e.dataKey,e.scale.domain()[s]);return $n(u)?null:e.scale(u)-i/2+r},a7=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},o7=t=>{var e=t.flat(2).filter(ze);return[Math.min(...e),Math.max(...e)]},s7=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],l7=(t,e,n)=>{if(t!=null)return s7(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,u=s.reduce((c,d)=>{var h=Y3(d,e,n),p=o7(h);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},FN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hy=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=_v(e,h=>h.coordinate),a=1/0,s=1,u=i.length;s<u;s++){var c=i[s],d=i[s-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function jN(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Nc(Nc({},e),{},{dataKey:n,payload:r,value:i,name:a})}function J3(t,e){if(t)return String(t);if(typeof e=="string")return e}var u7=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},c7=(t,e)=>e==="centric"?t.angle:t.radius,Ko=t=>t.layout.width,Wo=t=>t.layout.height,d7=t=>t.layout.scale,X3=t=>t.layout.margin,Iv=ce(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Rv=ce(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),f7="data-recharts-item-index",h7="data-recharts-item-data-key",ep=60;function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){p7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p7(t,e,n){return(e=m7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m7(t){var e=g7(t,"string");return typeof e=="symbol"?e:e+""}function g7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y7=t=>t.brush.height;function v7(t){var e=Rv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ep;return n+i}return n},0)}function b7(t){var e=Rv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ep;return n+i}return n},0)}function _7(t){var e=Iv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function x7(t){var e=Iv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Kn=ce([Ko,Wo,X3,y7,v7,b7,_7,x7,b3,GH],(t,e,n,r,i,a,s,u,c,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+u},g=hg(hg({},p),h),v=g.bottom;g.bottom+=r,g=XG(g,c,d);var w=t-g.left-g.right,S=e-g.top-g.bottom;return hg(hg({brushBottom:v},g),{},{width:Math.max(w,0),height:Math.max(S,0)})}),E7=ce(Kn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),ow=ce(Ko,Wo,(t,e)=>({x:0,y:0,width:t,height:e})),T7=R.createContext(null),pi=()=>R.useContext(T7)!=null,Nv=t=>t.brush,Pv=ce([Nv,Kn,X3],(t,e,n)=>({height:t.height,x:ze(t.x)?t.x:e.left,y:ze(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ze(t.width)?t.width:e.width})),Ox={},Lx={},Ux={},qN;function w7(){return qN||(qN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,u=null;const c=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(s,u),s=void 0,u=null)},p=()=>{d&&h(),S()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},w=()=>{g!==null&&(clearTimeout(g),g=null)},S=()=>{w(),s=void 0,u=null},A=()=>{h()},C=function(...U){if(i!=null&&i.aborted)return;s=this,u=U;const M=g==null;v(),c&&M&&h()};return C.schedule=v,C.cancel=S,C.flush=A,i==null||i.addEventListener("abort",S,{once:!0}),C}t.debounce=e})(Ux)),Ux}var HN;function S7(){return HN||(HN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w7();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:u=!0,maxWait:c}=a,d=Array(2);s&&(d[0]="leading"),u&&(d[1]="trailing");let h,p=null;const g=e.debounce(function(...S){h=r.apply(this,S),p=null},i,{edges:d}),v=function(...S){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=r.apply(this,S),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,S),h)},w=()=>(g.flush(),h);return v.cancel=g.cancel,v.flush=w,v}t.debounce=n})(Lx)),Lx}var GN;function A7(){return GN||(GN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S7();function n(r,i=0,a={}){const{leading:s=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:u})}t.throttle=n})(Ox)),Ox}var Vx,$N;function k7(){return $N||($N=1,Vx=A7().throttle),Vx}var C7=k7();const I7=Bi(C7);var KN=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},Q3=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,u=Oo(r)?t:Number(r),c=Oo(i)?e:Number(i);return a&&a>0&&(u?c=u/a:c&&(u=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:u,calculatedHeight:c}},R7={width:0,height:0,overflow:"visible"},N7={width:0,overflowX:"visible"},P7={height:0,overflowY:"visible"},M7={},D7=t=>{var{width:e,height:n}=t,r=Oo(e),i=Oo(n);return r&&i?R7:r?N7:i?P7:M7};function O7(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function mn(t){return Number.isFinite(t)}function Qs(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c1.apply(null,arguments)}function WN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(n),!0).forEach(function(r){L7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L7(t,e,n){return(e=U7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U7(t){var e=V7(t,"string");return typeof e=="symbol"?e:e+""}function V7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z3=R.createContext({width:-1,height:-1});function F7(t){return Qs(t.width)&&Qs(t.height)}function eU(t){var{children:e,width:n,height:r}=t,i=R.useMemo(()=>({width:n,height:r}),[n,r]);return F7(i)?R.createElement(Z3.Provider,{value:i},e):null}var sw=()=>R.useContext(Z3),B7=R.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:u,maxHeight:c,children:d,debounce:h=0,id:p,className:g,onResize:v,style:w={}}=t,S=R.useRef(null),A=R.useRef();A.current=v,R.useImperativeHandle(e,()=>S.current);var[C,U]=R.useState({containerWidth:r.width,containerHeight:r.height}),M=R.useCallback((O,L)=>{U(B=>{var P=Math.round(O),j=Math.round(L);return B.containerWidth===P&&B.containerHeight===j?B:{containerWidth:P,containerHeight:j}})},[]);R.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return Jh;var O=j=>{var H,{width:de,height:te}=j[0].contentRect;M(de,te),(H=A.current)===null||H===void 0||H.call(A,de,te)};h>0&&(O=I7(O,h,{trailing:!0,leading:!1}));var L=new ResizeObserver(O),{width:B,height:P}=S.current.getBoundingClientRect();return M(B,P),L.observe(S.current),()=>{L.disconnect()}},[M,h]);var{containerWidth:F,containerHeight:q}=C;KN(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:V,calculatedHeight:D}=Q3(F,q,{width:i,height:a,aspect:n,maxHeight:c});return KN(V!=null&&V>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,D,i,a,s,u,n),R.createElement("div",{id:p?"".concat(p):void 0,className:Ot("recharts-responsive-container",g),style:YN(YN({},w),{},{width:i,height:a,minWidth:s,minHeight:u,maxHeight:c}),ref:S},R.createElement("div",{style:D7({width:i,height:a})},R.createElement(eU,{width:V,height:D},d)))}),j7=R.forwardRef((t,e)=>{var n=sw();if(Qs(n.width)&&Qs(n.height))return t.children;var{width:r,height:i}=O7({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=Q3(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ze(a)&&ze(s)?R.createElement(eU,{width:a,height:s},t.children):R.createElement(B7,c1({},t,{width:r,height:i,ref:e}))});function tU(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Mv=()=>{var t,e=pi(),n=Fe(E7),r=Fe(Pv),i=(t=Fe(Nv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},z7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},q7=()=>{var t;return(t=Fe(Kn))!==null&&t!==void 0?t:z7},H7=()=>Fe(Ko),G7=()=>Fe(Wo),kt=t=>t.layout.layoutType,Dv=()=>Fe(kt),$7=()=>{var t=Dv();return t!==void 0},Ov=t=>{var e=gn(),n=pi(),{width:r,height:i}=t,a=sw(),s=r,u=i;return a&&(s=a.width>0?a.width:r,u=a.height>0?a.height:i),R.useEffect(()=>{!n&&Qs(s)&&Qs(u)&&e(GG({width:s,height:u}))},[e,n,s,u]),null},nU=Symbol.for("immer-nothing"),JN=Symbol.for("immer-draftable"),hi=Symbol.for("immer-state");function na(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Sh=Object.getPrototypeOf;function td(t){return!!t&&!!t[hi]}function uu(t){var e;return t?rU(t)||Array.isArray(t)||!!t[JN]||!!((e=t.constructor)!=null&&e[JN])||tp(t)||Uv(t):!1}var K7=Object.prototype.constructor.toString(),XN=new WeakMap;function rU(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=XN.get(n);return r===void 0&&(r=Function.toString.call(n),XN.set(n,r)),r===K7}function py(t,e,n=!0){Lv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Lv(t){const e=t[hi];return e?e.type_:Array.isArray(t)?1:tp(t)?2:Uv(t)?3:0}function d1(t,e){return Lv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function iU(t,e,n){const r=Lv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function W7(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function tp(t){return t instanceof Map}function Uv(t){return t instanceof Set}function Yl(t){return t.copy_||t.base_}function f1(t,e){if(tp(t))return new Map(t);if(Uv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=rU(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[hi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[s]})}return Object.create(Sh(t),r)}else{const r=Sh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function lw(t,e=!1){return Vv(t)||td(t)||!uu(t)||(Lv(t)>1&&Object.defineProperties(t,{set:pg,add:pg,clear:pg,delete:pg}),Object.freeze(t),e&&Object.values(t).forEach(n=>lw(n,!0))),t}function Y7(){na(2)}var pg={value:Y7};function Vv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var J7={};function cu(t){const e=J7[t];return e||na(0,t),e}var Ah;function aU(){return Ah}function X7(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function QN(t,e){e&&(cu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function h1(t){p1(t),t.drafts_.forEach(Q7),t.drafts_=null}function p1(t){t===Ah&&(Ah=t.parent_)}function ZN(t){return Ah=X7(Ah,t)}function Q7(t){const e=t[hi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function eP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[hi].modified_&&(h1(e),na(4)),uu(t)&&(t=my(e,t),e.parent_||gy(e,t)),e.patches_&&cu("Patches").generateReplacementPatches_(n[hi].base_,t,e.patches_,e.inversePatches_)):t=my(e,n,[]),h1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==nU?t:void 0}function my(t,e,n){if(Vv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[hi];if(!i)return py(e,(a,s)=>tP(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return gy(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,u=!1;i.type_===3&&(s=new Set(a),a.clear(),u=!0),py(s,(c,d)=>tP(t,i,a,c,d,n,u),r),gy(t,a,!1),n&&t.patches_&&cu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function tP(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const u=Vv(i);if(!(u&&!s)){if(td(i)){const c=a&&e&&e.type_!==3&&!d1(e.assigned_,r)?a.concat(r):void 0,d=my(t,i,c);if(iU(n,r,d),td(d))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(uu(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;my(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(tp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&gy(t,i)}}}function gy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&lw(e,n)}function Z7(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:aU(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=uw;n&&(i=[r],a=kh);const{revoke:s,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=s,u}var uw={get(t,e){if(e===hi)return t;const n=Yl(t);if(!d1(n,e))return e$(t,n,e);const r=n[e];return t.finalized_||!uu(r)?r:r===Fx(t.base_,e)?(Bx(t),t.copy_[e]=g1(r,t)):r},has(t,e){return e in Yl(t)},ownKeys(t){return Reflect.ownKeys(Yl(t))},set(t,e,n){const r=oU(Yl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Fx(Yl(t),e),a=i==null?void 0:i[hi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(W7(n,i)&&(n!==void 0||d1(t.base_,e)))return!0;Bx(t),m1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Fx(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Bx(t),m1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Yl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){na(11)},getPrototypeOf(t){return Sh(t.base_)},setPrototypeOf(){na(12)}},kh={};py(uw,(t,e)=>{kh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});kh.deleteProperty=function(t,e){return kh.set.call(this,t,e,void 0)};kh.set=function(t,e,n){return uw.set.call(this,t[0],e,n,t[0])};function Fx(t,e){const n=t[hi];return(n?Yl(n):t)[e]}function e$(t,e,n){var i;const r=oU(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function oU(t,e){if(!(e in t))return;let n=Sh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Sh(n)}}function m1(t){t.modified_||(t.modified_=!0,t.parent_&&m1(t.parent_))}function Bx(t){t.copy_||(t.copy_=f1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var t$=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(c=a,...d){return s.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&na(6),r!==void 0&&typeof r!="function"&&na(7);let i;if(uu(e)){const a=ZN(this),s=g1(e,void 0);let u=!0;try{i=n(s),u=!1}finally{u?h1(a):p1(a)}return QN(a,r),eP(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===nU&&(i=void 0),this.autoFreeze_&&lw(i,!0),r){const a=[],s=[];cu("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else na(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...u)=>this.produceWithPatches(s,c=>e(c,...u));let r,i;return[this.produce(e,n,(s,u)=>{r=s,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){uu(t)||na(8),td(t)&&(t=n$(t));const e=ZN(this),n=g1(t,void 0);return n[hi].isManual_=!0,p1(e),n}finishDraft(t,e){const n=t&&t[hi];(!n||!n.isManual_)&&na(9);const{scope_:r}=n;return QN(r,e),eP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=cu("Patches").applyPatches_;return td(t)?r(t,e):this.produce(t,i=>r(i,e))}};function g1(t,e){const n=tp(t)?cu("MapSet").proxyMap_(t,e):Uv(t)?cu("MapSet").proxySet_(t,e):Z7(t,e);return(e?e.scope_:aU()).drafts_.push(n),n}function n$(t){return td(t)||na(10,t),sU(t)}function sU(t){if(!uu(t)||Vv(t))return t;const e=t[hi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=f1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=f1(t,!0);return py(n,(i,a)=>{iU(n,i,sU(a))},r),e&&(e.finalized_=!1),n}var r$=new t$;r$.produce;var i$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},lU=$r({name:"legend",initialState:i$,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Jt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=aa(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Jt()},removeLegendPayload:{reducer(t,e){var n=aa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Jt()}}}),{setLegendSize:pke,setLegendSettings:mke,addLegendPayload:a$,replaceLegendPayload:o$,removeLegendPayload:s$}=lU.actions,l$=lU.reducer;function y1(){return y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y1.apply(null,arguments)}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){u$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u$(t,e,n){return(e=c$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c$(t){var e=d$(t,"string");return typeof e=="symbol"?e:e+""}function d$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f$(t){return Array.isArray(t)&&Za(t[0])&&Za(t[1])?t.join(" ~ "):t}var h$=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:u,wrapperClassName:c,labelClassName:d,label:h,labelFormatter:p,accessibilityLayer:g=!1}=t,v=()=>{if(a&&a.length){var q={padding:0,margin:0},V=(u?_v(a,u):a).map((D,O)=>{if(D.type==="none")return null;var L=D.formatter||s||f$,{value:B,name:P}=D,j=B,H=P;if(L){var de=L(B,P,D,O,a);if(Array.isArray(de))[j,H]=de;else if(de!=null)j=de;else return null}var te=jx({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:te},Za(H)?R.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Za(H)?R.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,R.createElement("span",{className:"recharts-tooltip-item-value"},j),R.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:q},V)}return null},w=jx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=jx({margin:0},i),A=!$n(h),C=A?h:"",U=Ot("recharts-default-tooltip",c),M=Ot("recharts-tooltip-label",d);A&&p&&a!==void 0&&a!==null&&(C=p(h,a));var F=g?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",y1({className:U,style:w},F),R.createElement("p",{className:M,style:S},R.isValidElement(C)?C:"".concat(C)),v())},Ff="recharts-tooltip-wrapper",p$={visibility:"hidden"};function m$(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ot(Ff,{["".concat(Ff,"-right")]:ze(n)&&e&&ze(e.x)&&n>=e.x,["".concat(Ff,"-left")]:ze(n)&&e&&ze(e.x)&&n<e.x,["".concat(Ff,"-bottom")]:ze(r)&&e&&ze(e.y)&&r>=e.y,["".concat(Ff,"-top")]:ze(r)&&e&&ze(e.y)&&r<e.y})}function rP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:u,viewBox:c,viewBoxDimension:d}=t;if(a&&ze(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return s[r]?h:p;var g=c[r];if(g==null)return 0;if(s[r]){var v=h,w=g;return v<w?Math.max(p,g):Math.max(h,g)}if(d==null)return 0;var S=p+u,A=g+d;return S>A?Math.max(h,g):Math.max(p,g)}function g$(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function y$(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:u,viewBox:c}=t,d,h,p;return s.height>0&&s.width>0&&n?(h=rP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=rP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=g$({translateX:h,translateY:p,useTranslate3d:u})):d=p$,{cssProperties:d,cssClasses:m$({translateX:h,translateY:p,coordinate:n})}}function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){v1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v1(t,e,n){return(e=v$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v$(t){var e=b$(t,"string");return typeof e=="symbol"?e:e+""}function b$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _$ extends R.PureComponent{constructor(){super(...arguments),v1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),v1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:u,isAnimationActive:c,offset:d,position:h,reverseDirection:p,useTranslate3d:g,viewBox:v,wrapperStyle:w,lastBoundingBox:S,innerRef:A,hasPortalFromProps:C}=this.props,{cssClasses:U,cssProperties:M}=y$({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:d,position:h,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:g,viewBox:v}),F=C?{}:mg(mg({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),q=mg(mg({},F),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},w);return R.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:U,style:q,ref:A},a)}}var uU=()=>{var t;return(t=Fe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function b1(){return b1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b1.apply(null,arguments)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){x$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x$(t,e,n){return(e=E$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E$(t){var e=T$(t,"string");return typeof e=="symbol"?e:e+""}function T$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sP={curveBasisClosed:g8,curveBasisOpen:y8,curveBasis:m8,curveBumpX:t8,curveBumpY:n8,curveLinearClosed:v8,curveLinear:vv,curveMonotoneX:b8,curveMonotoneY:_8,curveNatural:x8,curveStep:E8,curveStepAfter:w8,curveStepBefore:T8},yy=t=>mn(t.x)&&mn(t.y),lP=t=>t.base!=null&&yy(t.base)&&yy(t),Bf=t=>t.x,jf=t=>t.y,w$=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Yh(t));return(n==="curveMonotone"||n==="curveBump")&&e?sP["".concat(n).concat(e==="vertical"?"Y":"X")]:sP[n]||vv},S$=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=w$(e,i),u=a?n.filter(yy):n,c;if(Array.isArray(r)){var d=n.map((v,w)=>oP(oP({},v),{},{base:r[w]}));i==="vertical"?c=sg().y(jf).x1(Bf).x0(v=>v.base.x):c=sg().x(Bf).y1(jf).y0(v=>v.base.y);var h=c.defined(lP).curve(s),p=a?d.filter(lP):d;return h(p)}i==="vertical"&&ze(r)?c=sg().y(jf).x1(Bf).x0(r):ze(r)?c=sg().x(Bf).y1(jf).y0(r):c=G4().x(Bf).y(jf);var g=c.defined(yy).curve(s);return g(u)},cU=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?S$(t):r;return R.createElement("path",b1({},Xs(t),W8(t),{className:Ot("recharts-curve",e),d:a===null?void 0:a,ref:i}))},A$=["x","y","top","left","width","height","className"];function _1(){return _1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_1.apply(null,arguments)}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){C$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C$(t,e,n){return(e=I$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I$(t){var e=R$(t,"string");return typeof e=="symbol"?e:e+""}function R$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N$(t,e){if(t==null)return{};var n,r,i=P$(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function P$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var M$=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),D$=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:u}=t,c=N$(t,A$),d=k$({x:e,y:n,top:r,left:i,width:a,height:s},c);return!ze(e)||!ze(n)||!ze(a)||!ze(s)||!ze(r)||!ze(i)?null:R.createElement("path",_1({},Li(d),{className:Ot("recharts-cross",u),d:M$(e,n,a,s,r,i)}))};function O$(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){L$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L$(t,e,n){return(e=U$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U$(t){var e=V$(t,"string");return typeof e=="symbol"?e:e+""}function V$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F$=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),dU=(t,e,n)=>t.map(r=>"".concat(F$(r)," ").concat(e,"ms ").concat(n)).join(","),B$=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ch=(t,e)=>Object.keys(e).reduce((n,r)=>dP(dP({},n),{},{[r]:t(r,e[r])}),{});function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){j$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j$(t,e,n){return(e=z$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z$(t){var e=q$(t,"string");return typeof e=="symbol"?e:e+""}function q$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vy=(t,e,n)=>t+(e-t)*n,x1=t=>{var{from:e,to:n}=t;return e!==n},fU=(t,e,n)=>{var r=Ch((i,a)=>{if(x1(a)){var[s,u]=t(a.from,a.to,a.velocity);return Pn(Pn({},a),{},{from:s,velocity:u})}return a},e);return n<1?Ch((i,a)=>x1(a)?Pn(Pn({},a),{},{velocity:vy(a.velocity,r[i].velocity,n),from:vy(a.from,r[i].from,n)}):a,e):fU(t,r,n-1)};function H$(t,e,n,r,i,a){var s,u=r.reduce((g,v)=>Pn(Pn({},g),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),c=()=>Ch((g,v)=>v.from,u),d=()=>!Object.values(u).filter(x1).length,h=null,p=g=>{s||(s=g);var v=g-s,w=v/n.dt;u=fU(n,u,w),i(Pn(Pn(Pn({},t),e),c())),s=g,d()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var g;(g=h)===null||g===void 0||g()})}function G$(t,e,n,r,i,a,s){var u=null,c=i.reduce((p,g)=>Pn(Pn({},p),{},{[g]:[t[g],e[g]]}),{}),d,h=p=>{d||(d=p);var g=(p-d)/r,v=Ch((S,A)=>vy(...A,n(g)),c);if(a(Pn(Pn(Pn({},t),e),v)),g<1)u=s.setTimeout(h);else{var w=Ch((S,A)=>vy(...A,n(1)),c);a(Pn(Pn(Pn({},t),e),w))}};return()=>(u=s.setTimeout(h),()=>{var p;(p=u)===null||p===void 0||p()})}const $$=(t,e,n,r,i,a)=>{var s=B$(t,e);return n==null?()=>(i(Pn(Pn({},t),e)),()=>{}):n.isStepper===!0?H$(t,e,n,s,i,a):G$(t,e,n,r,s,i,a)};var by=1e-4,hU=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],pU=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),hP=(t,e)=>n=>{var r=hU(t,e);return pU(r,n)},K$=(t,e)=>n=>{var r=hU(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return pU(i,n)},W$=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(u=>parseFloat(u));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},Y$=(t,e,n,r)=>{var i=hP(t,n),a=hP(e,r),s=K$(t,n),u=d=>d>1?1:d<0?0:d,c=d=>{for(var h=d>1?1:d,p=h,g=0;g<8;++g){var v=i(p)-h,w=s(p);if(Math.abs(v-h)<by||w<by)return a(p);p=u(p-v/w)}return a(p)};return c.isStepper=!1,c},pP=function(){return Y$(...W$(...arguments))},J$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,u,c)=>{var d=-(s-u)*n,h=c*r,p=c+(d-h)*i/1e3,g=c*i/1e3+s;return Math.abs(g-u)<by&&Math.abs(p)<by?[u,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},X$=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pP(t);case"spring":return J$();default:if(t.split("(")[0]==="cubic-bezier")return pP(t)}return typeof t=="function"?t:null};function Q$(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var u=s,[c,...d]=u;if(typeof c=="number"){i=t.setTimeout(a.bind(null,d),c);return}a(c),i=t.setTimeout(a.bind(null,d));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class Z${setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function eK(){return Q$(new Z$)}var tK=R.createContext(eK);function nK(t,e){var n=R.useContext(tK);return R.useMemo(()=>e??n(t),[t,e,n])}var rK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),np={devToolsEnabled:!1,isSsr:rK()},iK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},mP={t:0},zx={t:1};function cw(t){var e=ji(t,iK),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:u,onAnimationStart:c,children:d}=e,h=n==="auto"?!np.isSsr:n,p=nK(e.animationId,e.animationManager),[g,v]=R.useState(h?mP:zx),w=R.useRef(null);return R.useEffect(()=>{h||v(zx)},[h]),R.useEffect(()=>{if(!h||!r)return Jh;var S=$$(mP,zx,X$(a),i,v,p.getTimeoutController()),A=()=>{w.current=S()};return p.start([c,s,A,i,u]),()=>{p.stop(),w.current&&w.current(),u()}},[h,r,i,a,s,c,u,p]),d(g.t)}function dw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=R.useRef(xh(e)),r=R.useRef(t);return r.current!==t&&(n.current=xh(e),r.current=t),n.current}var aK=["radius"],oK=["radius"];function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){sK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sK(t,e,n){return(e=lK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lK(t){var e=uK(t,"string");return typeof e=="symbol"?e:e+""}function uK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_y.apply(null,arguments)}function vP(t,e){if(t==null)return{};var n,r,i=cK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bP=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=i[p]>a?a:i[p];d="M".concat(t,",").concat(e+s*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+u*h[0],",").concat(e)),d+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+s*h[1])),d+="L ".concat(t+n,",").concat(e+r-s*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),d+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-s*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);d="M ".concat(t,",").concat(e+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+u*v,",").concat(e,`
            L `).concat(t+n-u*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n,",").concat(e+s*v,`
            L `).concat(t+n,",").concat(e+r-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n-u*v,",").concat(e+r,`
            L `).concat(t+u*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t,",").concat(e+r-s*v," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},_P={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mU=t=>{var e=ji(t,_P),n=R.useRef(null),[r,i]=R.useState(-1);R.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:a,y:s,width:u,height:c,radius:d,className:h}=e,{animationEasing:p,animationDuration:g,animationBegin:v,isAnimationActive:w,isUpdateAnimationActive:S}=e,A=R.useRef(u),C=R.useRef(c),U=R.useRef(a),M=R.useRef(s),F=R.useMemo(()=>({x:a,y:s,width:u,height:c,radius:d}),[a,s,u,c,d]),q=dw(F,"rectangle-");if(a!==+a||s!==+s||u!==+u||c!==+c||u===0||c===0)return null;var V=Ot("recharts-rectangle",h);if(!S){var D=Li(e),{radius:O}=D,L=vP(D,aK);return R.createElement("path",_y({},L,{radius:typeof d=="number"?d:void 0,className:V,d:bP(a,s,u,c,d)}))}var B=A.current,P=C.current,j=U.current,H=M.current,de="0px ".concat(r===-1?1:r,"px"),te="".concat(r,"px 0px"),X=dU(["strokeDasharray"],g,typeof p=="string"?p:_P.animationEasing);return R.createElement(cw,{animationId:q,key:q,canBegin:r>0,duration:g,easing:p,isActive:S,begin:v},K=>{var ae=ir(B,u,K),me=ir(P,c,K),W=ir(j,a,K),Y=ir(H,s,K);n.current&&(A.current=ae,C.current=me,U.current=W,M.current=Y);var se;w?K>0?se={transition:X,strokeDasharray:te}:se={strokeDasharray:de}:se={strokeDasharray:te};var $=Li(e),{radius:ee}=$,ye=vP($,oK);return R.createElement("path",_y({},ye,{radius:typeof d=="number"?d:void 0,className:V,d:bP(W,Y,ae,me,d),ref:n,style:yP(yP({},se),e.style)}))})};function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){dK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dK(t,e,n){return(e=fK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fK(t){var e=hK(t,"string");return typeof e=="symbol"?e:e+""}function hK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xy=Math.PI/180,pK=t=>t*180/Math.PI,sr=(t,e,n,r)=>({x:t+Math.cos(-xy*r)*n,y:e+Math.sin(-xy*r)*n}),mK=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},gK=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},yK=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=gK({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var u=(n-i)/s,c=Math.acos(u);return r>a&&(c=2*Math.PI-c),{radius:s,angle:pK(c),angleInRadian:c}},vK=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},bK=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},_K=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=yK({x:n,y:r},e),{innerRadius:s,outerRadius:u}=e;if(i<s||i>u||i===0)return null;var{startAngle:c,endAngle:d}=vK(e),h=a,p;if(c<=d){for(;h>d;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=d}else{for(;h>c;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=c}return p?EP(EP({},e),{},{radius:i,angle:bK(h,e)}):null};function gU(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=sr(e,n,r,i),u=sr(e,n,r,a);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E1.apply(null,arguments)}var xK=(t,e)=>{var n=oi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},gg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:u,cornerIsExternal:c}=t,d=u*(s?1:-1)+r,h=Math.asin(u/d)/xy,p=c?i:i+a*h,g=sr(e,n,d,p),v=sr(e,n,r,p),w=c?i-a*h:i,S=sr(e,n,d*Math.cos(h*xy),w);return{center:g,circleTangency:v,lineTangency:S,theta:h}},yU=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,u=xK(a,s),c=a+u,d=sr(e,n,i,a),h=sr(e,n,i,c),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var g=sr(e,n,r,a),v=sr(e,n,r,c);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},EK=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:u,startAngle:c,endAngle:d}=t,h=oi(d-c),{circleTangency:p,lineTangency:g,theta:v}=gg({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:w,lineTangency:S,theta:A}=gg({cx:e,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:u}),C=u?Math.abs(c-d):Math.abs(c-d)-v-A;if(C<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):yU({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var U="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:M,lineTangency:F,theta:q}=gg({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:V,lineTangency:D,theta:O}=gg({cx:e,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),L=u?Math.abs(c-d):Math.abs(c-d)-q-O;if(L<0&&a===0)return"".concat(U,"L").concat(e,",").concat(n,"Z");U+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(L>180),",").concat(+(h>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(F.x,",").concat(F.y,"Z")}else U+="L".concat(e,",").concat(n,"Z");return U},TK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vU=t=>{var e=ji(t,TK),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h,className:p}=e;if(a<i||d===h)return null;var g=Ot("recharts-sector",p),v=a-i,w=oa(s,v,0,!0),S;return w>0&&Math.abs(d-h)<360?S=EK({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,v/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h}):S=yU({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),R.createElement("path",E1({},Li(e),{className:g,d:S}))};function wK(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(o3(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:u}=e,c=sr(r,i,a,u),d=sr(r,i,s,u);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return gU(e)}}var qx={},Hx={},Gx={},TP;function SK(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y3();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Gx)),Gx}var wP;function AK(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SK();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Hx)),Hx}var SP;function kK(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v3(),n=AK();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const u=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(u);for(let d=0;d<u;d++)c[d]=i,i+=s;return c}t.range=r})(qx)),qx}var $x,AP;function CK(){return AP||(AP=1,$x=kK().range),$x}var IK=CK();const bU=Bi(IK);function $s(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function RK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fw(t){let e,n,r;t.length!==2?(e=$s,n=(u,c)=>$s(t(u),c),r=(u,c)=>t(u)-c):(e=t===$s||t===RK?t:NK,n=t,r=t);function i(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const p=d+h>>>1;n(u[p],c)<0?d=p+1:h=p}while(d<h)}return d}function a(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const p=d+h>>>1;n(u[p],c)<=0?d=p+1:h=p}while(d<h)}return d}function s(u,c,d=0,h=u.length){const p=i(u,c,d,h-1);return p>d&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:s,right:a}}function NK(){return 0}function _U(t){return t===null?NaN:+t}function*PK(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const MK=fw($s),rp=MK.right;fw(_U).center;class kP extends Map{constructor(e,n=LK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(CP(this,e))}has(e){return super.has(CP(this,e))}set(e,n){return super.set(DK(this,e),n)}delete(e){return super.delete(OK(this,e))}}function CP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function DK({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function OK({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function LK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function UK(t=$s){if(t===$s)return xU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function xU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const VK=Math.sqrt(50),FK=Math.sqrt(10),BK=Math.sqrt(2);function Ey(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=VK?10:a>=FK?5:a>=BK?2:1;let u,c,d;return i<0?(d=Math.pow(10,-i)/s,u=Math.round(t*d),c=Math.round(e*d),u/d<t&&++u,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*s,u=Math.round(t/d),c=Math.round(e/d),u*d<t&&++u,c*d>e&&--c),c<u&&.5<=n&&n<2?Ey(t,e,n*2):[u,c,d]}function T1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Ey(e,t,n):Ey(t,e,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(s<0)for(let d=0;d<u;++d)c[d]=(a-d)/-s;else for(let d=0;d<u;++d)c[d]=(a-d)*s;else if(s<0)for(let d=0;d<u;++d)c[d]=(i+d)/-s;else for(let d=0;d<u;++d)c[d]=(i+d)*s;return c}function w1(t,e,n){return e=+e,t=+t,n=+n,Ey(t,e,n)[2]}function S1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?w1(e,t,n):w1(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function IP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function RP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function EU(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?xU:UK(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(c-p)/c)*(d-c/2<0?-1:1),v=Math.max(n,Math.floor(e-d*p/c+g)),w=Math.min(r,Math.floor(e+(c-d)*p/c+g));EU(t,e,v,w,i)}const a=t[e];let s=n,u=r;for(zf(t,n,e),i(t[r],a)>0&&zf(t,n,r);s<u;){for(zf(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?zf(t,n,u):(++u,zf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function zf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function jK(t,e,n){if(t=Float64Array.from(PK(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return RP(t);if(e>=1)return IP(t);var r,i=(r-1)*e,a=Math.floor(i),s=IP(EU(t,a).subarray(0,a+1)),u=RP(t.subarray(a+1));return s+(u-s)*(i-a)}}function zK(t,e,n=_U){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function qK(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function zi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Yo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const A1=Symbol("implicit");function hw(){var t=new kP,e=[],n=[],r=A1;function i(a){let s=t.get(a);if(s===void 0){if(r!==A1)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new kP;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return hw(e,n).unknown(r)},zi.apply(i,arguments),i}function pw(){var t=hw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,u=!1,c=0,d=0,h=.5;delete t.unknown;function p(){var g=e().length,v=i<r,w=v?i:r,S=v?r:i;a=(S-w)/Math.max(1,g-c+d*2),u&&(a=Math.floor(a)),w+=(S-w-a*(g-c))*h,s=a*(1-c),u&&(w=Math.round(w),s=Math.round(s));var A=qK(g).map(function(C){return w+a*C});return n(v?A.reverse():A)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(u=!!g,p()):u},t.padding=function(g){return arguments.length?(c=Math.min(1,d=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(d=+g,p()):d},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},t.copy=function(){return pw(e(),[r,i]).round(u).paddingInner(c).paddingOuter(d).align(h)},zi.apply(p(),arguments)}function TU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return TU(e())},t}function HK(){return TU(pw.apply(null,arguments).paddingInner(1))}function mw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ip(){}var Ih=.7,Ty=1/Ih,Lc="\\s*([+-]?\\d+)\\s*",Rh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GK=/^#([0-9a-f]{3,8})$/,$K=new RegExp(`^rgb\\(${Lc},${Lc},${Lc}\\)$`),KK=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),WK=new RegExp(`^rgba\\(${Lc},${Lc},${Lc},${Rh}\\)$`),YK=new RegExp(`^rgba\\(${qa},${qa},${qa},${Rh}\\)$`),JK=new RegExp(`^hsl\\(${Rh},${qa},${qa}\\)$`),XK=new RegExp(`^hsla\\(${Rh},${qa},${qa},${Rh}\\)$`),NP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mw(ip,Nh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PP,formatHex:PP,formatHex8:QK,formatHsl:ZK,formatRgb:MP,toString:MP});function PP(){return this.rgb().formatHex()}function QK(){return this.rgb().formatHex8()}function ZK(){return SU(this).formatHsl()}function MP(){return this.rgb().formatRgb()}function Nh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=GK.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?DP(e):n===3?new qr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?yg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?yg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$K.exec(t))?new qr(e[1],e[2],e[3],1):(e=KK.exec(t))?new qr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=WK.exec(t))?yg(e[1],e[2],e[3],e[4]):(e=YK.exec(t))?yg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=JK.exec(t))?UP(e[1],e[2]/100,e[3]/100,1):(e=XK.exec(t))?UP(e[1],e[2]/100,e[3]/100,e[4]):NP.hasOwnProperty(t)?DP(NP[t]):t==="transparent"?new qr(NaN,NaN,NaN,0):null}function DP(t){return new qr(t>>16&255,t>>8&255,t&255,1)}function yg(t,e,n,r){return r<=0&&(t=e=n=NaN),new qr(t,e,n,r)}function eW(t){return t instanceof ip||(t=Nh(t)),t?(t=t.rgb(),new qr(t.r,t.g,t.b,t.opacity)):new qr}function k1(t,e,n,r){return arguments.length===1?eW(t):new qr(t,e,n,r??1)}function qr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}mw(qr,k1,wU(ip,{brighter(t){return t=t==null?Ty:Math.pow(Ty,t),new qr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ih:Math.pow(Ih,t),new qr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qr(iu(this.r),iu(this.g),iu(this.b),wy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OP,formatHex:OP,formatHex8:tW,formatRgb:LP,toString:LP}));function OP(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}`}function tW(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}${Zl((isNaN(this.opacity)?1:this.opacity)*255)}`}function LP(){const t=wy(this.opacity);return`${t===1?"rgb(":"rgba("}${iu(this.r)}, ${iu(this.g)}, ${iu(this.b)}${t===1?")":`, ${t})`}`}function wy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function iu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zl(t){return t=iu(t),(t<16?"0":"")+t.toString(16)}function UP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ra(t,e,n,r)}function SU(t){if(t instanceof ra)return new ra(t.h,t.s,t.l,t.opacity);if(t instanceof ip||(t=Nh(t)),!t)return new ra;if(t instanceof ra)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(n-r)/u+(n<r)*6:n===a?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new ra(s,u,c,t.opacity)}function nW(t,e,n,r){return arguments.length===1?SU(t):new ra(t,e,n,r??1)}function ra(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}mw(ra,nW,wU(ip,{brighter(t){return t=t==null?Ty:Math.pow(Ty,t),new ra(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ih:Math.pow(Ih,t),new ra(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new qr(Kx(t>=240?t-240:t+120,i,r),Kx(t,i,r),Kx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ra(VP(this.h),vg(this.s),vg(this.l),wy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wy(this.opacity);return`${t===1?"hsl(":"hsla("}${VP(this.h)}, ${vg(this.s)*100}%, ${vg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function VP(t){return t=(t||0)%360,t<0?t+360:t}function vg(t){return Math.max(0,Math.min(1,t||0))}function Kx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const gw=t=>()=>t;function rW(t,e){return function(n){return t+n*e}}function iW(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function aW(t){return(t=+t)==1?AU:function(e,n){return n-e?iW(e,n,t):gw(isNaN(e)?n:e)}}function AU(t,e){var n=e-t;return n?rW(t,n):gw(isNaN(t)?e:t)}const FP=(function t(e){var n=aW(e);function r(i,a){var s=n((i=k1(i)).r,(a=k1(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),d=AU(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function oW(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function sW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lW(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=md(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(u){for(s=0;s<r;++s)a[s]=i[s](u);return a}}function uW(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function cW(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=md(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var C1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wx=new RegExp(C1.source,"g");function dW(t){return function(){return t}}function fW(t){return function(e){return t(e)+""}}function hW(t,e){var n=C1.lastIndex=Wx.lastIndex=0,r,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=C1.exec(t))&&(i=Wx.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[s]?u[s]+=a:u[++s]=a),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:Sy(r,i)})),n=Wx.lastIndex;return n<e.length&&(a=e.slice(n),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?fW(c[0].x):dW(e):(e=c.length,function(d){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(d);return u.join("")})}function md(t,e){var n=typeof e,r;return e==null||n==="boolean"?gw(e):(n==="number"?Sy:n==="string"?(r=Nh(e))?(e=r,FP):hW:e instanceof Nh?FP:e instanceof Date?uW:sW(e)?oW:Array.isArray(e)?lW:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?cW:Sy)(t,e)}function yw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function pW(t,e){e===void 0&&(e=t,t=md);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[u](s-u)}}function mW(t){return function(){return t}}function Ay(t){return+t}var BP=[0,1];function Ar(t){return t}function I1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:mW(isNaN(e)?NaN:.5)}function gW(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function yW(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=I1(i,r),a=n(s,a)):(r=I1(r,i),a=n(a,s)),function(u){return a(r(u))}}function vW(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=I1(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(u){var c=rp(t,u,1,r)-1;return a[c](i[c](u))}}function ap(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fv(){var t=BP,e=BP,n=md,r,i,a,s=Ar,u,c,d;function h(){var g=Math.min(t.length,e.length);return s!==Ar&&(s=gW(t[0],t[g-1])),u=g>2?vW:yW,c=d=null,p}function p(g){return g==null||isNaN(g=+g)?a:(c||(c=u(t.map(r),e,n)))(r(s(g)))}return p.invert=function(g){return s(i((d||(d=u(e,t.map(r),Sy)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,Ay),h()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=yw,h()},p.clamp=function(g){return arguments.length?(s=g?!0:Ar,h()):s!==Ar},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,v){return r=g,i=v,h()}}function vw(){return Fv()(Ar,Ar)}function bW(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ky(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function nd(t){return t=ky(Math.abs(t)),t?t[1]:NaN}function _W(t,e){return function(n,r){for(var i=n.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function xW(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var EW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ph(t){if(!(e=EW.exec(t)))throw new Error("invalid format: "+t);var e;return new bw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ph.prototype=bw.prototype;function bw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TW(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var kU;function wW(t,e){var n=ky(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(kU=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ky(t,Math.max(0,e+a-1))[0]}function jP(t,e){var n=ky(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const zP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bW,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jP(t*100,e),r:jP,s:wW,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qP(t){return t}var HP=Array.prototype.map,GP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SW(t){var e=t.grouping===void 0||t.thousands===void 0?qP:_W(HP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?qP:xW(HP.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(p){p=Ph(p);var g=p.fill,v=p.align,w=p.sign,S=p.symbol,A=p.zero,C=p.width,U=p.comma,M=p.precision,F=p.trim,q=p.type;q==="n"?(U=!0,q="g"):zP[q]||(M===void 0&&(M=12),F=!0,q="g"),(A||g==="0"&&v==="=")&&(A=!0,g="0",v="=");var V=S==="$"?n:S==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",D=S==="$"?r:/[%p]/.test(q)?s:"",O=zP[q],L=/[defgprs%]/.test(q);M=M===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function B(P){var j=V,H=D,de,te,X;if(q==="c")H=O(P)+H,P="";else{P=+P;var K=P<0||1/P<0;if(P=isNaN(P)?c:O(Math.abs(P),M),F&&(P=TW(P)),K&&+P==0&&w!=="+"&&(K=!1),j=(K?w==="("?w:u:w==="-"||w==="("?"":w)+j,H=(q==="s"?GP[8+kU/3]:"")+H+(K&&w==="("?")":""),L){for(de=-1,te=P.length;++de<te;)if(X=P.charCodeAt(de),48>X||X>57){H=(X===46?i+P.slice(de+1):P.slice(de))+H,P=P.slice(0,de);break}}}U&&!A&&(P=e(P,1/0));var ae=j.length+P.length+H.length,me=ae<C?new Array(C-ae+1).join(g):"";switch(U&&A&&(P=e(me+P,me.length?C-H.length:1/0),me=""),v){case"<":P=j+P+H+me;break;case"=":P=j+me+P+H;break;case"^":P=me.slice(0,ae=me.length>>1)+j+P+H+me.slice(ae);break;default:P=me+j+P+H;break}return a(P)}return B.toString=function(){return p+""},B}function h(p,g){var v=d((p=Ph(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(nd(g)/3)))*3,S=Math.pow(10,-w),A=GP[8+w/3];return function(C){return v(S*C)+A}}return{format:d,formatPrefix:h}}var bg,_w,CU;AW({thousands:",",grouping:[3],currency:["$",""]});function AW(t){return bg=SW(t),_w=bg.format,CU=bg.formatPrefix,bg}function kW(t){return Math.max(0,-nd(Math.abs(t)))}function CW(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nd(e)/3)))*3-nd(Math.abs(t)))}function IW(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,nd(e)-nd(t))+1}function IU(t,e,n,r){var i=S1(t,e,n),a;switch(r=Ph(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=CW(i,s))&&(r.precision=a),CU(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=IW(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=kW(i))&&(r.precision=a-(r.type==="%")*2);break}}return _w(r)}function ul(t){var e=t.domain;return t.ticks=function(n){var r=e();return T1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return IU(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],u=r[a],c,d,h=10;for(u<s&&(d=s,s=u,u=d,d=i,i=a,a=d);h-- >0;){if(d=w1(s,u,n),d===c)return r[i]=s,r[a]=u,e(r);if(d>0)s=Math.floor(s/d)*d,u=Math.ceil(u/d)*d;else if(d<0)s=Math.ceil(s*d)/d,u=Math.floor(u*d)/d;else break;c=d}return t},t}function RU(){var t=vw();return t.copy=function(){return ap(t,RU())},zi.apply(t,arguments),ul(t)}function NU(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ay),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return NU(t).unknown(e)},t=arguments.length?Array.from(t,Ay):[0,1],ul(n)}function PU(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function $P(t){return Math.log(t)}function KP(t){return Math.exp(t)}function RW(t){return-Math.log(-t)}function NW(t){return-Math.exp(-t)}function PW(t){return isFinite(t)?+("1e"+t):t<0?0:t}function MW(t){return t===10?PW:t===Math.E?Math.exp:e=>Math.pow(t,e)}function DW(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function WP(t){return(e,n)=>-t(-e,n)}function xw(t){const e=t($P,KP),n=e.domain;let r=10,i,a;function s(){return i=DW(r),a=MW(r),n()[0]<0?(i=WP(i),a=WP(a),t(RW,NW)):t($P,KP),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let d=c[0],h=c[c.length-1];const p=h<d;p&&([d,h]=[h,d]);let g=i(d),v=i(h),w,S;const A=u==null?10:+u;let C=[];if(!(r%1)&&v-g<A){if(g=Math.floor(g),v=Math.ceil(v),d>0){for(;g<=v;++g)for(w=1;w<r;++w)if(S=g<0?w/a(-g):w*a(g),!(S<d)){if(S>h)break;C.push(S)}}else for(;g<=v;++g)for(w=r-1;w>=1;--w)if(S=g>0?w/a(-g):w*a(g),!(S<d)){if(S>h)break;C.push(S)}C.length*2<A&&(C=T1(d,h,A))}else C=T1(g,v,Math.min(v-g,A)).map(a);return p?C.reverse():C},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Ph(c)).precision==null&&(c.trim=!0),c=_w(c)),u===1/0)return c;const d=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=d?c(h):""}},e.nice=()=>n(PU(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function MU(){const t=xw(Fv()).domain([1,10]);return t.copy=()=>ap(t,MU()).base(t.base()),zi.apply(t,arguments),t}function YP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function JP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ew(t){var e=1,n=t(YP(e),JP(e));return n.constant=function(r){return arguments.length?t(YP(e=+r),JP(e)):e},ul(n)}function DU(){var t=Ew(Fv());return t.copy=function(){return ap(t,DU()).constant(t.constant())},zi.apply(t,arguments)}function XP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function OW(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function LW(t){return t<0?-t*t:t*t}function Tw(t){var e=t(Ar,Ar),n=1;function r(){return n===1?t(Ar,Ar):n===.5?t(OW,LW):t(XP(n),XP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ul(e)}function ww(){var t=Tw(Fv());return t.copy=function(){return ap(t,ww()).exponent(t.exponent())},zi.apply(t,arguments),t}function UW(){return ww.apply(null,arguments).exponent(.5)}function QP(t){return Math.sign(t)*t*t}function VW(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function OU(){var t=vw(),e=[0,1],n=!1,r;function i(a){var s=VW(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(QP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Ay)).map(QP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return OU(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},zi.apply(i,arguments),ul(i)}function LU(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=zK(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?r:e[rp(n,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort($s),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return LU().domain(t).range(e).unknown(r)},zi.apply(a,arguments)}function UU(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[rp(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return UU().domain([t,e]).range(i).unknown(a)},zi.apply(ul(s),arguments)}function VU(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[rp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return VU().domain(t).range(e).unknown(n)},zi.apply(i,arguments)}const Yx=new Date,Jx=new Date;function Dn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let d;do c.push(d=new Date(+a)),e(a,u),t(a);while(d<a&&a<s);return c},i.filter=a=>Dn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(Yx.setTime(+a),Jx.setTime(+s),t(Yx),t(Jx),Math.floor(n(Yx,Jx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Cy=Dn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Cy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Dn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Cy);Cy.range;const Co=1e3,Mi=Co*60,Io=Mi*60,Uo=Io*24,Sw=Uo*7,ZP=Uo*30,Xx=Uo*365,eu=Dn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Co)},(t,e)=>(e-t)/Co,t=>t.getUTCSeconds());eu.range;const Aw=Dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Co)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getMinutes());Aw.range;const kw=Dn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getUTCMinutes());kw.range;const Cw=Dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Co-t.getMinutes()*Mi)},(t,e)=>{t.setTime(+t+e*Io)},(t,e)=>(e-t)/Io,t=>t.getHours());Cw.range;const Iw=Dn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Io)},(t,e)=>(e-t)/Io,t=>t.getUTCHours());Iw.range;const op=Dn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mi)/Uo,t=>t.getDate()-1);op.range;const Bv=Dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Uo,t=>t.getUTCDate()-1);Bv.range;const FU=Dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Uo,t=>Math.floor(t/Uo));FU.range;function Tu(t){return Dn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Mi)/Sw)}const jv=Tu(0),Iy=Tu(1),FW=Tu(2),BW=Tu(3),rd=Tu(4),jW=Tu(5),zW=Tu(6);jv.range;Iy.range;FW.range;BW.range;rd.range;jW.range;zW.range;function wu(t){return Dn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Sw)}const zv=wu(0),Ry=wu(1),qW=wu(2),HW=wu(3),id=wu(4),GW=wu(5),$W=wu(6);zv.range;Ry.range;qW.range;HW.range;id.range;GW.range;$W.range;const Rw=Dn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Rw.range;const Nw=Dn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Nw.range;const Vo=Dn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Vo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Vo.range;const Fo=Dn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fo.range;function BU(t,e,n,r,i,a){const s=[[eu,1,Co],[eu,5,5*Co],[eu,15,15*Co],[eu,30,30*Co],[a,1,Mi],[a,5,5*Mi],[a,15,15*Mi],[a,30,30*Mi],[i,1,Io],[i,3,3*Io],[i,6,6*Io],[i,12,12*Io],[r,1,Uo],[r,2,2*Uo],[n,1,Sw],[e,1,ZP],[e,3,3*ZP],[t,1,Xx]];function u(d,h,p){const g=h<d;g&&([d,h]=[h,d]);const v=p&&typeof p.range=="function"?p:c(d,h,p),w=v?v.range(d,+h+1):[];return g?w.reverse():w}function c(d,h,p){const g=Math.abs(h-d)/p,v=fw(([,,A])=>A).right(s,g);if(v===s.length)return t.every(S1(d/Xx,h/Xx,p));if(v===0)return Cy.every(Math.max(S1(d,h,p),1));const[w,S]=s[g/s[v-1][2]<s[v][2]/g?v-1:v];return w.every(S)}return[u,c]}const[KW,WW]=BU(Fo,Nw,zv,FU,Iw,kw),[YW,JW]=BU(Vo,Rw,jv,op,Cw,Aw);function Qx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Zx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function XW(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,d=Hf(i),h=Gf(i),p=Hf(a),g=Gf(a),v=Hf(s),w=Gf(s),S=Hf(u),A=Gf(u),C=Hf(c),U=Gf(c),M={a:K,A:ae,b:me,B:W,c:null,d:a2,e:a2,f:_Y,g:RY,G:PY,H:yY,I:vY,j:bY,L:jU,m:xY,M:EY,p:Y,q:se,Q:l2,s:u2,S:TY,u:wY,U:SY,V:AY,w:kY,W:CY,x:null,X:null,y:IY,Y:NY,Z:MY,"%":s2},F={a:$,A:ee,b:ye,B:_e,c:null,d:o2,e:o2,f:UY,g:KY,G:YY,H:DY,I:OY,j:LY,L:qU,m:VY,M:FY,p:Se,q:He,Q:l2,s:u2,S:BY,u:jY,U:zY,V:qY,w:HY,W:GY,x:null,X:null,y:$Y,Y:WY,Z:JY,"%":s2},q={a:B,A:P,b:j,B:H,c:de,d:r2,e:r2,f:hY,g:n2,G:t2,H:i2,I:i2,j:uY,L:fY,m:lY,M:cY,p:L,q:sY,Q:mY,s:gY,S:dY,u:nY,U:rY,V:iY,w:tY,W:aY,x:te,X,y:n2,Y:t2,Z:oY,"%":pY};M.x=V(n,M),M.X=V(r,M),M.c=V(e,M),F.x=V(n,F),F.X=V(r,F),F.c=V(e,F);function V(fe,Ve){return function(Ge){var Ee=[],Bt=-1,et=0,tn=fe.length,Kt,ur,ha;for(Ge instanceof Date||(Ge=new Date(+Ge));++Bt<tn;)fe.charCodeAt(Bt)===37&&(Ee.push(fe.slice(et,Bt)),(ur=e2[Kt=fe.charAt(++Bt)])!=null?Kt=fe.charAt(++Bt):ur=Kt==="e"?" ":"0",(ha=Ve[Kt])&&(Kt=ha(Ge,ur)),Ee.push(Kt),et=Bt+1);return Ee.push(fe.slice(et,Bt)),Ee.join("")}}function D(fe,Ve){return function(Ge){var Ee=qf(1900,void 0,1),Bt=O(Ee,fe,Ge+="",0),et,tn;if(Bt!=Ge.length)return null;if("Q"in Ee)return new Date(Ee.Q);if("s"in Ee)return new Date(Ee.s*1e3+("L"in Ee?Ee.L:0));if(Ve&&!("Z"in Ee)&&(Ee.Z=0),"p"in Ee&&(Ee.H=Ee.H%12+Ee.p*12),Ee.m===void 0&&(Ee.m="q"in Ee?Ee.q:0),"V"in Ee){if(Ee.V<1||Ee.V>53)return null;"w"in Ee||(Ee.w=1),"Z"in Ee?(et=Zx(qf(Ee.y,0,1)),tn=et.getUTCDay(),et=tn>4||tn===0?Ry.ceil(et):Ry(et),et=Bv.offset(et,(Ee.V-1)*7),Ee.y=et.getUTCFullYear(),Ee.m=et.getUTCMonth(),Ee.d=et.getUTCDate()+(Ee.w+6)%7):(et=Qx(qf(Ee.y,0,1)),tn=et.getDay(),et=tn>4||tn===0?Iy.ceil(et):Iy(et),et=op.offset(et,(Ee.V-1)*7),Ee.y=et.getFullYear(),Ee.m=et.getMonth(),Ee.d=et.getDate()+(Ee.w+6)%7)}else("W"in Ee||"U"in Ee)&&("w"in Ee||(Ee.w="u"in Ee?Ee.u%7:"W"in Ee?1:0),tn="Z"in Ee?Zx(qf(Ee.y,0,1)).getUTCDay():Qx(qf(Ee.y,0,1)).getDay(),Ee.m=0,Ee.d="W"in Ee?(Ee.w+6)%7+Ee.W*7-(tn+5)%7:Ee.w+Ee.U*7-(tn+6)%7);return"Z"in Ee?(Ee.H+=Ee.Z/100|0,Ee.M+=Ee.Z%100,Zx(Ee)):Qx(Ee)}}function O(fe,Ve,Ge,Ee){for(var Bt=0,et=Ve.length,tn=Ge.length,Kt,ur;Bt<et;){if(Ee>=tn)return-1;if(Kt=Ve.charCodeAt(Bt++),Kt===37){if(Kt=Ve.charAt(Bt++),ur=q[Kt in e2?Ve.charAt(Bt++):Kt],!ur||(Ee=ur(fe,Ge,Ee))<0)return-1}else if(Kt!=Ge.charCodeAt(Ee++))return-1}return Ee}function L(fe,Ve,Ge){var Ee=d.exec(Ve.slice(Ge));return Ee?(fe.p=h.get(Ee[0].toLowerCase()),Ge+Ee[0].length):-1}function B(fe,Ve,Ge){var Ee=v.exec(Ve.slice(Ge));return Ee?(fe.w=w.get(Ee[0].toLowerCase()),Ge+Ee[0].length):-1}function P(fe,Ve,Ge){var Ee=p.exec(Ve.slice(Ge));return Ee?(fe.w=g.get(Ee[0].toLowerCase()),Ge+Ee[0].length):-1}function j(fe,Ve,Ge){var Ee=C.exec(Ve.slice(Ge));return Ee?(fe.m=U.get(Ee[0].toLowerCase()),Ge+Ee[0].length):-1}function H(fe,Ve,Ge){var Ee=S.exec(Ve.slice(Ge));return Ee?(fe.m=A.get(Ee[0].toLowerCase()),Ge+Ee[0].length):-1}function de(fe,Ve,Ge){return O(fe,e,Ve,Ge)}function te(fe,Ve,Ge){return O(fe,n,Ve,Ge)}function X(fe,Ve,Ge){return O(fe,r,Ve,Ge)}function K(fe){return s[fe.getDay()]}function ae(fe){return a[fe.getDay()]}function me(fe){return c[fe.getMonth()]}function W(fe){return u[fe.getMonth()]}function Y(fe){return i[+(fe.getHours()>=12)]}function se(fe){return 1+~~(fe.getMonth()/3)}function $(fe){return s[fe.getUTCDay()]}function ee(fe){return a[fe.getUTCDay()]}function ye(fe){return c[fe.getUTCMonth()]}function _e(fe){return u[fe.getUTCMonth()]}function Se(fe){return i[+(fe.getUTCHours()>=12)]}function He(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ve=V(fe+="",M);return Ve.toString=function(){return fe},Ve},parse:function(fe){var Ve=D(fe+="",!1);return Ve.toString=function(){return fe},Ve},utcFormat:function(fe){var Ve=V(fe+="",F);return Ve.toString=function(){return fe},Ve},utcParse:function(fe){var Ve=D(fe+="",!0);return Ve.toString=function(){return fe},Ve}}}var e2={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,QW=/^%/,ZW=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function eY(t){return t.replace(ZW,"\\$&")}function Hf(t){return new RegExp("^(?:"+t.map(eY).join("|")+")","i")}function Gf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function tY(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function nY(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function rY(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function iY(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function aY(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function t2(t,e,n){var r=Wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function n2(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function sY(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function lY(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function r2(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function uY(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function i2(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function cY(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function dY(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function fY(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function hY(t,e,n){var r=Wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pY(t,e,n){var r=QW.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function mY(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function gY(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function a2(t,e){return mt(t.getDate(),e,2)}function yY(t,e){return mt(t.getHours(),e,2)}function vY(t,e){return mt(t.getHours()%12||12,e,2)}function bY(t,e){return mt(1+op.count(Vo(t),t),e,3)}function jU(t,e){return mt(t.getMilliseconds(),e,3)}function _Y(t,e){return jU(t,e)+"000"}function xY(t,e){return mt(t.getMonth()+1,e,2)}function EY(t,e){return mt(t.getMinutes(),e,2)}function TY(t,e){return mt(t.getSeconds(),e,2)}function wY(t){var e=t.getDay();return e===0?7:e}function SY(t,e){return mt(jv.count(Vo(t)-1,t),e,2)}function zU(t){var e=t.getDay();return e>=4||e===0?rd(t):rd.ceil(t)}function AY(t,e){return t=zU(t),mt(rd.count(Vo(t),t)+(Vo(t).getDay()===4),e,2)}function kY(t){return t.getDay()}function CY(t,e){return mt(Iy.count(Vo(t)-1,t),e,2)}function IY(t,e){return mt(t.getFullYear()%100,e,2)}function RY(t,e){return t=zU(t),mt(t.getFullYear()%100,e,2)}function NY(t,e){return mt(t.getFullYear()%1e4,e,4)}function PY(t,e){var n=t.getDay();return t=n>=4||n===0?rd(t):rd.ceil(t),mt(t.getFullYear()%1e4,e,4)}function MY(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function o2(t,e){return mt(t.getUTCDate(),e,2)}function DY(t,e){return mt(t.getUTCHours(),e,2)}function OY(t,e){return mt(t.getUTCHours()%12||12,e,2)}function LY(t,e){return mt(1+Bv.count(Fo(t),t),e,3)}function qU(t,e){return mt(t.getUTCMilliseconds(),e,3)}function UY(t,e){return qU(t,e)+"000"}function VY(t,e){return mt(t.getUTCMonth()+1,e,2)}function FY(t,e){return mt(t.getUTCMinutes(),e,2)}function BY(t,e){return mt(t.getUTCSeconds(),e,2)}function jY(t){var e=t.getUTCDay();return e===0?7:e}function zY(t,e){return mt(zv.count(Fo(t)-1,t),e,2)}function HU(t){var e=t.getUTCDay();return e>=4||e===0?id(t):id.ceil(t)}function qY(t,e){return t=HU(t),mt(id.count(Fo(t),t)+(Fo(t).getUTCDay()===4),e,2)}function HY(t){return t.getUTCDay()}function GY(t,e){return mt(Ry.count(Fo(t)-1,t),e,2)}function $Y(t,e){return mt(t.getUTCFullYear()%100,e,2)}function KY(t,e){return t=HU(t),mt(t.getUTCFullYear()%100,e,2)}function WY(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function YY(t,e){var n=t.getUTCDay();return t=n>=4||n===0?id(t):id.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function JY(){return"+0000"}function s2(){return"%"}function l2(t){return+t}function u2(t){return Math.floor(+t/1e3)}var vc,GU,$U;XY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function XY(t){return vc=XW(t),GU=vc.format,vc.parse,$U=vc.utcFormat,vc.utcParse,vc}function QY(t){return new Date(t)}function ZY(t){return t instanceof Date?+t:+new Date(+t)}function Pw(t,e,n,r,i,a,s,u,c,d){var h=vw(),p=h.invert,g=h.domain,v=d(".%L"),w=d(":%S"),S=d("%I:%M"),A=d("%I %p"),C=d("%a %d"),U=d("%b %d"),M=d("%B"),F=d("%Y");function q(V){return(c(V)<V?v:u(V)<V?w:s(V)<V?S:a(V)<V?A:r(V)<V?i(V)<V?C:U:n(V)<V?M:F)(V)}return h.invert=function(V){return new Date(p(V))},h.domain=function(V){return arguments.length?g(Array.from(V,ZY)):g().map(QY)},h.ticks=function(V){var D=g();return t(D[0],D[D.length-1],V??10)},h.tickFormat=function(V,D){return D==null?q:d(D)},h.nice=function(V){var D=g();return(!V||typeof V.range!="function")&&(V=e(D[0],D[D.length-1],V??10)),V?g(PU(D,V)):h},h.copy=function(){return ap(h,Pw(t,e,n,r,i,a,s,u,c,d))},h}function eJ(){return zi.apply(Pw(YW,JW,Vo,Rw,jv,op,Cw,Aw,eu,GU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tJ(){return zi.apply(Pw(KW,WW,Fo,Nw,zv,Bv,Iw,kw,eu,$U).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qv(){var t=0,e=1,n,r,i,a,s=Ar,u=!1,c;function d(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(u=!!p,d):u},d.interpolator=function(p){return arguments.length?(s=p,d):s};function h(p){return function(g){var v,w;return arguments.length?([v,w]=g,s=p(v,w),d):[s(0),s(1)]}}return d.range=h(md),d.rangeRound=h(yw),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function cl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function KU(){var t=ul(qv()(Ar));return t.copy=function(){return cl(t,KU())},Yo.apply(t,arguments)}function WU(){var t=xw(qv()).domain([1,10]);return t.copy=function(){return cl(t,WU()).base(t.base())},Yo.apply(t,arguments)}function YU(){var t=Ew(qv());return t.copy=function(){return cl(t,YU()).constant(t.constant())},Yo.apply(t,arguments)}function Mw(){var t=Tw(qv());return t.copy=function(){return cl(t,Mw()).exponent(t.exponent())},Yo.apply(t,arguments)}function nJ(){return Mw.apply(null,arguments).exponent(.5)}function JU(){var t=[],e=Ar;function n(r){if(r!=null&&!isNaN(r=+r))return e((rp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort($s),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>jK(t,a/r))},n.copy=function(){return JU(e).domain(t)},Yo.apply(n,arguments)}function Hv(){var t=0,e=.5,n=1,r=1,i,a,s,u,c,d=Ar,h,p=!1,g;function v(S){return isNaN(S=+S)?g:(S=.5+((S=+h(S))-a)*(r*S<r*a?u:c),d(p?Math.max(0,Math.min(1,S)):S))}v.domain=function(S){return arguments.length?([t,e,n]=S,i=h(t=+t),a=h(e=+e),s=h(n=+n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,v):[t,e,n]},v.clamp=function(S){return arguments.length?(p=!!S,v):p},v.interpolator=function(S){return arguments.length?(d=S,v):d};function w(S){return function(A){var C,U,M;return arguments.length?([C,U,M]=A,d=pW(S,[C,U,M]),v):[d(0),d(.5),d(1)]}}return v.range=w(md),v.rangeRound=w(yw),v.unknown=function(S){return arguments.length?(g=S,v):g},function(S){return h=S,i=S(t),a=S(e),s=S(n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,v}}function XU(){var t=ul(Hv()(Ar));return t.copy=function(){return cl(t,XU())},Yo.apply(t,arguments)}function QU(){var t=xw(Hv()).domain([.1,1,10]);return t.copy=function(){return cl(t,QU()).base(t.base())},Yo.apply(t,arguments)}function ZU(){var t=Ew(Hv());return t.copy=function(){return cl(t,ZU()).constant(t.constant())},Yo.apply(t,arguments)}function Dw(){var t=Tw(Hv());return t.copy=function(){return cl(t,Dw()).exponent(t.exponent())},Yo.apply(t,arguments)}function rJ(){return Dw.apply(null,arguments).exponent(.5)}const th=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pw,scaleDiverging:XU,scaleDivergingLog:QU,scaleDivergingPow:Dw,scaleDivergingSqrt:rJ,scaleDivergingSymlog:ZU,scaleIdentity:NU,scaleImplicit:A1,scaleLinear:RU,scaleLog:MU,scaleOrdinal:hw,scalePoint:HK,scalePow:ww,scaleQuantile:LU,scaleQuantize:UU,scaleRadial:OU,scaleSequential:KU,scaleSequentialLog:WU,scaleSequentialPow:Mw,scaleSequentialQuantile:JU,scaleSequentialSqrt:nJ,scaleSequentialSymlog:YU,scaleSqrt:UW,scaleSymlog:DU,scaleThreshold:VU,scaleTime:eJ,scaleUtc:tJ,tickFormat:IU},Symbol.toStringTag,{value:"Module"}));var dl=t=>t.chartData,iJ=ce([dl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Ow=(t,e,n,r)=>r?iJ(t):dl(t);function Zs(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(mn(e)&&mn(n))return!0}return!1}function c2(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function eV(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(mn(n))i=n;else if(typeof n=="function")return;if(mn(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Zs(s))return s}}function aJ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Zs(r))return c2(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,u;if(i==="auto")e!=null&&(s=Math.min(...e));else if(ze(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&FN.test(i)){var c=FN.exec(i);if(c==null||e==null)s=void 0;else{var d=+c[1];s=e[0]-d}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(ze(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&BN.test(a)){var h=BN.exec(a);if(h==null||e==null)u=void 0;else{var p=+h[1];u=e[1]+p}}else u=e==null?void 0:e[1];var g=[s,u];if(Zs(g))return e==null?g:c2(g,e,n)}}}var gd=1e9,oJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Uw,Xt=!0,Vi="[DecimalError] ",au=Vi+"Invalid argument: ",Lw=Vi+"Exponent out of range: ",yd=Math.floor,Jl=Math.pow,sJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ai,Hn=1e7,Ht=7,tV=9007199254740991,Ny=yd(tV/Ht),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ht;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return Po(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return Dt(Po(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return Rn(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ai))throw Error(Vi+"NaN");if(n.s<1)throw Error(Vi+(n.s?"NaN":"-Infinity"));return n.eq(ai)?new r(0):(Xt=!1,e=Po(Mh(n,a),Mh(t,a),a),Xt=!0,Dt(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iV(e,t):nV(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Vi+"NaN");return n.s?(Xt=!1,e=Po(n,t,0,1).times(t),Xt=!0,n.minus(e)):Dt(new r(n),i)};Pe.naturalExponential=Pe.exp=function(){return rV(this)};Pe.naturalLogarithm=Pe.ln=function(){return Mh(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nV(e,t):iV(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(au+t);if(e=Rn(i)+1,r=i.d.length-1,n=r*Ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Vi+"NaN")}for(t=Rn(u),Xt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=ja(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=yd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(Po(u,a,s+2)).times(.5),ja(a.d).slice(0,s)===(e=ja(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Dt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;s+=4}return Xt=!0,Dt(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,i,a,s,u,c,d,h=this,p=h.constructor,g=h.d,v=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,d=v.length,c<d&&(a=g,g=v,v=a,s=c,c=d,d=s),a=[],s=c+d,r=s;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)u=a[i]+v[r]*g[i-r-1]+e,a[i--]=u%Hn|0,e=u/Hn|0;a[i]=(a[i]+e)%Hn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Xt?Dt(t,p.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(eo(t,0,gd),e===void 0?e=r.rounding:eo(e,0,8),Dt(n,t+Rn(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=du(r,!0):(eo(t,0,gd),e===void 0?e=i.rounding:eo(e,0,8),r=Dt(new i(r),t+1,e),n=du(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?du(i):(eo(t,0,gd),e===void 0?e=a.rounding:eo(e,0,8),r=Dt(new a(i),t+Rn(i)+1,e),n=du(r.abs(),!1,t+Rn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return Dt(new e(t),Rn(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,i,a,s,u=this,c=u.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(ai);if(u=new c(u),!u.s){if(t.s<1)throw Error(Vi+"Infinity");return u}if(u.eq(ai))return u;if(r=c.precision,t.eq(ai))return Dt(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=u.s,s){if((n=h<0?-h:h)<=tV){for(i=new c(ai),e=Math.ceil(r/Ht+4),Xt=!1;n%2&&(i=i.times(u),f2(i.d,e)),n=yd(n/2),n!==0;)u=u.times(u),f2(u.d,e);return Xt=!0,t.s<0?new c(ai).div(i):Dt(i,r)}}else if(a<0)throw Error(Vi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Xt=!1,i=t.times(Mh(u,r+d)),Xt=!0,i=rV(i),i.s=a,i};Pe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Rn(i),r=du(i,n<=a.toExpNeg||n>=a.toExpPos)):(eo(t,1,gd),e===void 0?e=a.rounding:eo(e,0,8),i=Dt(new a(i),t,e),n=Rn(i),r=du(i,t<=n||n<=a.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(eo(t,1,gd),e===void 0?e=r.rounding:eo(e,0,8)),Dt(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Rn(t),n=t.constructor;return du(t,e<=n.toExpNeg||e>=n.toExpPos)};function nV(t,e){var n,r,i,a,s,u,c,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Xt?Dt(e,p):e;if(c=t.d,d=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,u=d.length):(r=d,i=s,u=c.length),s=Math.ceil(p/Ht),u=s>u?s+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=d.length,u-a<0&&(a=u,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/Hn|0,c[a]%=Hn;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Xt?Dt(e,p):e}function eo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(au+t)}function ja(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Ht-r.length,n&&(a+=Us(n)),a+=r;s=t[e],r=s+"",n=Ht-r.length,n&&(a+=Us(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Po=(function(){function t(r,i){var a,s=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+s,r[u]=a%Hn|0,s=a/Hn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Hn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var u,c,d,h,p,g,v,w,S,A,C,U,M,F,q,V,D,O,L=r.constructor,B=r.s==i.s?1:-1,P=r.d,j=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(Vi+"Division by zero");for(c=r.e-i.e,D=j.length,q=P.length,v=new L(B),w=v.d=[],d=0;j[d]==(P[d]||0);)++d;if(j[d]>(P[d]||0)&&--c,a==null?U=a=L.precision:s?U=a+(Rn(r)-Rn(i))+1:U=a,U<0)return new L(0);if(U=U/Ht+2|0,d=0,D==1)for(h=0,j=j[0],U++;(d<q||h)&&U--;d++)M=h*Hn+(P[d]||0),w[d]=M/j|0,h=M%j|0;else{for(h=Hn/(j[0]+1)|0,h>1&&(j=t(j,h),P=t(P,h),D=j.length,q=P.length),F=D,S=P.slice(0,D),A=S.length;A<D;)S[A++]=0;O=j.slice(),O.unshift(0),V=j[0],j[1]>=Hn/2&&++V;do h=0,u=e(j,S,D,A),u<0?(C=S[0],D!=A&&(C=C*Hn+(S[1]||0)),h=C/V|0,h>1?(h>=Hn&&(h=Hn-1),p=t(j,h),g=p.length,A=S.length,u=e(p,S,g,A),u==1&&(h--,n(p,D<g?O:j,g))):(h==0&&(u=h=1),p=j.slice()),g=p.length,g<A&&p.unshift(0),n(S,p,A),u==-1&&(A=S.length,u=e(j,S,D,A),u<1&&(h++,n(S,D<A?O:j,A))),A=S.length):u===0&&(h++,S=[0]),w[d++]=h,u&&S[0]?S[A++]=P[F]||0:(S=[P[F]],A=1);while((F++<q||S[0]!==void 0)&&U--)}return w[0]||w.shift(),v.e=c,Dt(v,s?a+Rn(v)+1:a)}})();function rV(t,e){var n,r,i,a,s,u,c=0,d=0,h=t.constructor,p=h.precision;if(Rn(t)>16)throw Error(Lw+Rn(t));if(!t.s)return new h(ai);for(Xt=!1,u=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(r=Math.log(Jl(2,d))/Math.LN10*2+5|0,u+=r,n=i=a=new h(ai),h.precision=u;;){if(i=Dt(i.times(t),u),n=n.times(++c),s=a.plus(Po(i,n,u)),ja(s.d).slice(0,u)===ja(a.d).slice(0,u)){for(;d--;)a=Dt(a.times(a),u);return h.precision=p,e==null?(Xt=!0,Dt(a,p)):a}a=s}}function Rn(t){for(var e=t.e*Ht,n=t.d[0];n>=10;n/=10)e++;return e}function eE(t,e,n){if(e>t.LN10.sd())throw Xt=!0,n&&(t.precision=n),Error(Vi+"LN10 precision limit exceeded");return Dt(new t(t.LN10),e)}function Us(t){for(var e="";t--;)e+="0";return e}function Mh(t,e){var n,r,i,a,s,u,c,d,h,p=1,g=10,v=t,w=v.d,S=v.constructor,A=S.precision;if(v.s<1)throw Error(Vi+(v.s?"NaN":"-Infinity"));if(v.eq(ai))return new S(0);if(e==null?(Xt=!1,d=A):d=e,v.eq(10))return e==null&&(Xt=!0),eE(S,d);if(d+=g,S.precision=d,n=ja(w),r=n.charAt(0),a=Rn(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=ja(v.d),r=n.charAt(0),p++;a=Rn(v),r>1?(v=new S("0."+n),a++):v=new S(r+"."+n.slice(1))}else return c=eE(S,d+2,A).times(a+""),v=Mh(new S(r+"."+n.slice(1)),d-g).plus(c),S.precision=A,e==null?(Xt=!0,Dt(v,A)):v;for(u=s=v=Po(v.minus(ai),v.plus(ai),d),h=Dt(v.times(v),d),i=3;;){if(s=Dt(s.times(h),d),c=u.plus(Po(s,new S(i),d)),ja(c.d).slice(0,d)===ja(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(eE(S,d+2,A).times(a+""))),u=Po(u,new S(p),d),S.precision=A,e==null?(Xt=!0,Dt(u,A)):u;u=c,i+=2}}function d2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=yd(n/Ht),t.d=[],r=(n+1)%Ht,n<0&&(r+=Ht),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ht;r<i;)t.d.push(+e.slice(r,r+=Ht));e=e.slice(r),r=Ht-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Xt&&(t.e>Ny||t.e<-Ny))throw Error(Lw+n)}else t.s=0,t.e=0,t.d=[0];return t}function Dt(t,e,n){var r,i,a,s,u,c,d,h,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Ht,i=e,d=p[h=0];else{if(h=Math.ceil((r+1)/Ht),a=p.length,h>=a)return t;for(d=a=p[h],s=1;a>=10;a/=10)s++;r%=Ht,i=r-Ht+s}if(n!==void 0&&(a=Jl(10,s-i-1),u=d/a%10|0,c=e<0||p[h+1]!==void 0||d%a,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?d/Jl(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(a=Rn(t),p.length=1,e=e-a-1,p[0]=Jl(10,(Ht-e%Ht)%Ht),t.e=yd(-e/Ht)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=Jl(10,Ht-r),p[h]=i>0?(d/Jl(10,s-i)%Jl(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==Hn&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=Hn)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Xt&&(t.e>Ny||t.e<-Ny))throw Error(Lw+Rn(t));return t}function iV(t,e){var n,r,i,a,s,u,c,d,h,p,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Xt?Dt(e,v):e;if(c=t.d,p=e.d,r=e.e,d=t.e,c=c.slice(),s=d-r,s){for(h=s<0,h?(n=c,s=-s,u=p.length):(n=p,r=d,u=c.length),i=Math.max(Math.ceil(v/Ht),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=Hn-1;--c[a],c[i]+=Hn}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Xt?Dt(e,v):e):new g(0)}function du(t,e,n){var r,i=Rn(t),a=ja(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Us(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Us(-i-1)+a,n&&(r=n-s)>0&&(a+=Us(r))):i>=s?(a+=Us(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Us(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Us(r))),t.s<0?"-"+a:a}function f2(t,e){if(t.length>e)return t.length=e,!0}function aV(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(au+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return d2(s,a.toString())}else if(typeof a!="string")throw Error(au+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,sJ.test(a))d2(s,a);else throw Error(au+a)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=aV,i.config=i.set=lJ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function lJ(t){if(!t||typeof t!="object")throw Error(Vi+"Object expected");var e,n,r,i=["precision",1,gd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(yd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(au+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(au+n+": "+r);return this}var Uw=aV(oJ);ai=new Uw(1);const At=Uw;var uJ=t=>t,oV={},sV=t=>t===oV,h2=t=>function e(){return arguments.length===0||arguments.length===1&&sV(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},lV=(t,e)=>t===1?e:h2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==oV).length;return a>=t?e(...r):lV(t-a,h2(function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];var d=r.map(h=>sV(h)?u.shift():h);return e(...d,...u)}))}),cJ=t=>lV(t.length,t),R1=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},dJ=cJ((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),fJ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return uJ;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((u,c)=>c(u),a(...arguments))}},N1=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function uV(t){var e;return t===0?e=1:e=Math.floor(new At(t).abs().log(10).toNumber())+1,e}function cV(t,e,n){for(var r=new At(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var dV=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},fV=(t,e,n)=>{if(t.lte(0))return new At(0);var r=uV(t.toNumber()),i=new At(10).pow(r),a=t.div(i),s=r!==1?.05:.1,u=new At(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return e?new At(c.toNumber()):new At(Math.ceil(c.toNumber()))},hJ=(t,e,n)=>{var r=new At(1),i=new At(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new At(10).pow(uV(t)-1),i=new At(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new At(Math.floor(t)))}else t===0?i=new At(Math.floor((e-1)/2)):n||(i=new At(Math.floor(t)));var s=Math.floor((e-1)/2),u=fJ(dJ(c=>i.add(new At(c-s).mul(r)).toNumber()),R1);return u(0,e)},hV=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new At(0),tickMin:new At(0),tickMax:new At(0)};var s=fV(new At(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new At(0):(u=new At(e).add(n).div(2),u=u.sub(new At(u).mod(s)));var c=Math.ceil(u.sub(e).div(s).toNumber()),d=Math.ceil(new At(n).sub(u).div(s).toNumber()),h=c+d+1;return h>r?hV(e,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,c=n>0?c:c+(r-h)),{step:s,tickMin:u.sub(new At(c).mul(s)),tickMax:u.add(new At(d).mul(s))})},pJ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[u,c]=dV([n,r]);if(u===-1/0||c===1/0){var d=c===1/0?[u,...R1(0,i-1).map(()=>1/0)]:[...R1(0,i-1).map(()=>-1/0),c];return n>r?N1(d):d}if(u===c)return hJ(u,i,a);var{step:h,tickMin:p,tickMax:g}=hV(u,c,s,a,0),v=cV(p,g.add(new At(.1).mul(h)),h);return n>r?N1(v):v},mJ=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,u]=dV([r,i]);if(s===-1/0||u===1/0)return[r,i];if(s===u)return[s];var c=Math.max(n,2),d=fV(new At(u).sub(s).div(c-1),a,0),h=[...cV(new At(s),new At(u),d),u];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?N1(h):h},pV=t=>t.rootProps.maxBarSize,gJ=t=>t.rootProps.barGap,mV=t=>t.rootProps.barCategoryGap,yJ=t=>t.rootProps.barSize,Gv=t=>t.rootProps.stackOffset,gV=t=>t.rootProps.reverseStackOrder,Vw=t=>t.options.chartName,Fw=t=>t.rootProps.syncId,yV=t=>t.rootProps.syncMethod,Bw=t=>t.options.eventEmitter,Hr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ao={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ii={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},$v=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},vJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ao.angleAxisId,includeHidden:!1,name:void 0,reversed:Ao.reversed,scale:Ao.scale,tick:Ao.tick,tickCount:void 0,ticks:void 0,type:Ao.type,unit:void 0},bJ={allowDataOverflow:ii.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ii.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ii.scale,tick:ii.tick,tickCount:ii.tickCount,ticks:void 0,type:ii.type,unit:void 0},_J={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ao.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ao.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ao.scale,tick:Ao.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xJ={allowDataOverflow:ii.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ii.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ii.scale,tick:ii.tick,tickCount:ii.tickCount,ticks:void 0,type:"category",unit:void 0},jw=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?_J:vJ,zw=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?xJ:bJ,Kv=t=>t.polarOptions,qw=ce([Ko,Wo,Kn],mK),vV=ce([Kv,qw],(t,e)=>{if(t!=null)return oa(t.innerRadius,e,0)}),bV=ce([Kv,qw],(t,e)=>{if(t!=null)return oa(t.outerRadius,e,e*.8)}),EJ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},_V=ce([Kv],EJ);ce([jw,_V],$v);var xV=ce([qw,vV,bV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ce([zw,xV],$v);var EV=ce([kt,Kv,vV,bV,Ko,Wo],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:u,startAngle:c,endAngle:d}=e;return{cx:oa(s,i,i/2),cy:oa(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),On=(t,e)=>e,Wv=(t,e,n)=>n;function Hw(t){return t==null?void 0:t.id}function TV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(u=>{var c,d=(c=u.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var h=Hw(u);d.forEach((p,g)=>{var v=a==null||i?g:String(br(p,a,null)),w=br(p,u.dataKey,0),S;s.has(v)?S=s.get(v):S={},Object.assign(S,{[h]:w}),s.set(v,S)})}}),Array.from(s.values())}function Yv(t){return t.stackId!=null&&t.dataKey!=null}var Jv=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Xv(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function TJ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Ln=t=>{var e=kt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},vd=t=>t.tooltip.settings.axisId;function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(r){wJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wJ(t,e,n){return(e=SJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SJ(t){var e=AJ(t,"string");return typeof e=="symbol"?e:e+""}function AJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P1=[0,"auto"],zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},wV=(t,e)=>t.cartesianAxis.xAxis[e],Jo=(t,e)=>{var n=wV(t,e);return n??zn},qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:P1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ep},SV=(t,e)=>t.cartesianAxis.yAxis[e],Xo=(t,e)=>{var n=SV(t,e);return n??qn},kJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Gw=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??kJ},Ir=(t,e,n)=>{switch(e){case"xAxis":return Jo(t,n);case"yAxis":return Xo(t,n);case"zAxis":return Gw(t,n);case"angleAxis":return jw(t,n);case"radiusAxis":return zw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},CJ=(t,e,n)=>{switch(e){case"xAxis":return Jo(t,n);case"yAxis":return Xo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},sp=(t,e,n)=>{switch(e){case"xAxis":return Jo(t,n);case"yAxis":return Xo(t,n);case"angleAxis":return jw(t,n);case"radiusAxis":return zw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},AV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function kV(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var $w=t=>t.graphicalItems.cartesianItems,IJ=ce([On,Wv],kV),CV=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),lp=ce([$w,Ir,IJ],CV,{memoizeOptions:{resultEqualityCheck:Xv}}),IV=ce([lp],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Yv)),RV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),RJ=ce([lp],RV),NV=t=>t.map(e=>e.data).filter(Boolean).flat(1),NJ=ce([lp],NV,{memoizeOptions:{resultEqualityCheck:Xv}}),PV=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Kw=ce([NJ,Ow],PV),MV=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:br(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:br(i,r)}))):t.map(r=>({value:r})),Qv=ce([Kw,Ir,lp],MV);function DV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Fg(t){if(Za(t)||t instanceof Date){var e=Number(t);if(mn(e))return e}}function m2(t){if(Array.isArray(t)){var e=[Fg(t[0]),Fg(t[1])];return Zs(e)?e:void 0}var n=Fg(t);if(n!=null)return[n,n]}function Bo(t){return t.map(Fg).filter(U8)}function PJ(t,e,n){return!n||typeof e!="number"||Qa(e)?[]:n.length?Bo(n.flatMap(r=>{var i=br(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!mn(a)||!mn(s)))return[e-a,e+s]})):[]}var Un=t=>{var e=Ln(t),n=vd(t);return sp(t,e,n)},up=ce([Un],t=>t==null?void 0:t.dataKey),MJ=ce([IV,Ow,Un],TV),OV=(t,e,n,r)=>{var i={},a=e.reduce((s,u)=>(u.stackId==null||(s[u.stackId]==null&&(s[u.stackId]=[]),s[u.stackId].push(u)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[u,c]=s,d=r?[...c].reverse():c,h=d.map(Hw);return[u,{stackedData:r7(t,h,n),graphicalItems:d}]}))},M1=ce([MJ,IV,Gv,gV],OV),LV=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=l7(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},DJ=ce([Ir],t=>t.allowDataOverflow),Ww=t=>{var e;if(t==null||!("domain"in t))return P1;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Bo(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:P1},UV=ce([Ir],Ww),VV=ce([UV,DJ],eV),OJ=ce([M1,dl,On,VV],LV,{memoizeOptions:{resultEqualityCheck:Jv}}),Yw=t=>t.errorBars,LJ=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>DV(n,r)),My=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),u=Math.max(...a);return[s,u]}},FV=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(u=>{n.forEach(c=>{var d,h,p=(d=r[c.id])===null||d===void 0?void 0:d.filter(C=>DV(i,C)),g=br(u,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey),v=PJ(u,g,p);if(v.length>=2){var w=Math.min(...v),S=Math.max(...v);(a==null||w<a)&&(a=w),(s==null||S>s)&&(s=S)}var A=m2(g);A!=null&&(a=a==null?A[0]:Math.min(a,A[0]),s=s==null?A[1]:Math.max(s,A[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var c=m2(br(u,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),mn(a)&&mn(s))return[a,s]},UJ=ce([Kw,Ir,RJ,Yw,On],FV,{memoizeOptions:{resultEqualityCheck:Jv}});function VJ(t){var{value:e}=t;if(Za(e)||e instanceof Date)return e}var FJ=(t,e,n)=>{var r=t.map(VJ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&r3(r))?bU(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},BV=t=>t.referenceElements.dots,bd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),BJ=ce([BV,On,Wv],bd),jV=t=>t.referenceElements.areas,jJ=ce([jV,On,Wv],bd),zV=t=>t.referenceElements.lines,zJ=ce([zV,On,Wv],bd),qV=(t,e)=>{var n=Bo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qJ=ce(BJ,On,qV),HV=(t,e)=>{var n=Bo(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},HJ=ce([jJ,On],HV);function GJ(t){var e;if(t.x!=null)return Bo([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Bo(n)}function $J(t){var e;if(t.y!=null)return Bo([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Bo(n)}var GV=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?GJ(r):$J(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},KJ=ce([zJ,On],GV),WJ=ce(qJ,KJ,HJ,(t,e,n)=>My(t,n,e)),$V=(t,e,n,r,i,a,s,u)=>{if(n!=null)return n;var c=s==="vertical"&&u==="xAxis"||s==="horizontal"&&u==="yAxis",d=c?My(r,a,i):My(a,i);return aJ(e,d,t.allowDataOverflow)},YJ=ce([Ir,UV,VV,OJ,UJ,WJ,kt,On],$V,{memoizeOptions:{resultEqualityCheck:Jv}}),JJ=[0,1],KV=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:u,type:c}=t,d=Eu(e,a);if(d&&u==null){var h;return bU(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return c==="category"?FJ(r,t,d):i==="expand"?JJ:s}},Jw=ce([Ir,kt,Kw,Qv,Gv,On,YJ],KV),WV=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(Yh(a));return u in th?u:"point"}}},cp=ce([Ir,kt,AV,Vw,On],WV);function XJ(t){if(t!=null){if(t in th)return th[t]();var e="scale".concat(Yh(t));if(e in th)return th[e]()}}function Xw(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=XJ(e);if(i!=null){var a=i.domain(n).range(r);return QG(a),a}}}var YV=(t,e,n)=>{var r=Ww(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Zs(t))return pJ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Zs(t))return mJ(t,e.tickCount,e.allowDecimals)}},Qw=ce([Jw,sp,cp],YV),JV=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Zs(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(s,u)]}return e},QJ=ce([Ir,Jw,Qw,On],JV),ZJ=ce(Qv,Ir,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Bo(t.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),XV=ce(ZJ,kt,mV,Kn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!mn(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=oa(n,t*a),u=t*a/2;return u-s-(u-s)/a*s}return 0}),eX=(t,e)=>{var n=Jo(t,e);return n==null||typeof n.padding!="string"?0:XV(t,"xAxis",e,n.padding)},tX=(t,e)=>{var n=Xo(t,e);return n==null||typeof n.padding!="string"?0:XV(t,"yAxis",e,n.padding)},nX=ce(Jo,eX,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),rX=ce(Xo,tX,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),iX=ce([Kn,nX,Pv,Nv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),aX=ce([Kn,kt,rX,Pv,Nv,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),dp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return iX(t,n,r);case"yAxis":return aX(t,n,r);case"zAxis":return(i=Gw(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return _V(t);case"radiusAxis":return xV(t,n);default:return}},QV=ce([Ir,dp],$v),_d=ce([Ir,cp,QJ,QV],Xw);ce([lp,Yw,On],LJ);function ZV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Zv=(t,e)=>e,e0=(t,e,n)=>n,oX=ce(Iv,Zv,e0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(ZV)),sX=ce(Rv,Zv,e0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(ZV)),e6=(t,e)=>({width:t.width,height:e.height}),lX=(t,e)=>{var n=typeof e.width=="number"?e.width:ep;return{width:n,height:t.height}},t6=ce(Kn,Jo,e6),uX=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},cX=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},dX=ce(Wo,Kn,oX,Zv,e0,(t,e,n,r,i)=>{var a={},s;return n.forEach(u=>{var c=e6(e,u);s==null&&(s=uX(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[u.id]=s-Number(d)*c.height,s+=(d?-1:1)*c.height}),a}),fX=ce(Ko,Kn,sX,Zv,e0,(t,e,n,r,i)=>{var a={},s;return n.forEach(u=>{var c=lX(e,u);s==null&&(s=cX(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[u.id]=s-Number(d)*c.width,s+=(d?-1:1)*c.width}),a}),hX=(t,e)=>{var n=Jo(t,e);if(n!=null)return dX(t,n.orientation,n.mirror)},pX=ce([Kn,Jo,hX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),mX=(t,e)=>{var n=Xo(t,e);if(n!=null)return fX(t,n.orientation,n.mirror)},gX=ce([Kn,Xo,mX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),n6=ce(Kn,Xo,(t,e)=>{var n=typeof e.width=="number"?e.width:ep;return{width:n,height:t.height}}),g2=(t,e,n)=>{switch(e){case"xAxis":return t6(t,n).width;case"yAxis":return n6(t,n).height;default:return}},r6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,u=Eu(t,r),c=e.map(d=>d.value);if(s&&u&&a==="category"&&i&&r3(c))return c}},Zw=ce([kt,Qv,Ir,On],r6),i6=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Eu(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},eS=ce([kt,Qv,sp,On],i6);ce([kt,CJ,cp,_d,Zw,eS,dp,Qw,On],(t,e,n,r,i,a,s,u,c)=>{if(e!=null){var d=Eu(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:u,range:s,realScaleType:n,scale:r}}});var yX=(t,e,n,r,i,a,s,u,c)=>{if(!(e==null||r==null)){var d=Eu(t,c),{type:h,ticks:p,tickCount:g}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=h==="category"&&r.bandwidth?r.bandwidth()/v:0;w=c==="angleAxis"&&a!=null&&a.length>=2?oi(a[0]-a[1])*2*w:w;var S=p||i;if(S){var A=S.map((C,U)=>{var M=s?s.indexOf(C):C;return{index:U,coordinate:r(M)+w,value:C,offset:w}});return A.filter(C=>mn(C.coordinate))}return d&&u?u.map((C,U)=>({coordinate:r(C)+w,value:C,index:U,offset:w})).filter(C=>mn(C.coordinate)):r.ticks?r.ticks(g).map(C=>({coordinate:r(C)+w,value:C,offset:w})):r.domain().map((C,U)=>({coordinate:r(C)+w,value:s?s[C]:C,index:U,offset:w}))}},a6=ce([kt,sp,cp,_d,Qw,dp,Zw,eS,On],yX),vX=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Eu(t,s),{tickCount:c}=e,d=0;return d=s==="angleAxis"&&(r==null?void 0:r.length)>=2?oi(r[0]-r[1])*2*d:d,u&&a?a.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:i?i[h]:h,index:p,offset:d}))}},ad=ce([kt,sp,_d,dp,Zw,eS,On],vX),od=ce(Ir,_d,(t,e)=>{if(!(t==null||e==null))return Py(Py({},t),{},{scale:e})}),bX=ce([Ir,cp,Jw,QV],Xw);ce((t,e,n)=>Gw(t,n),bX,(t,e)=>{if(!(t==null||e==null))return Py(Py({},t),{},{scale:e})});var _X=ce([kt,Iv,Rv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),o6=t=>t.options.defaultTooltipEventType,s6=t=>t.options.validateTooltipEventTypes;function l6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function tS(t,e){var n=o6(t),r=s6(t);return l6(e,n,r)}function xX(t){return Fe(e=>tS(e,t))}var u6=(t,e)=>{var n,r=Number(e);if(!(Qa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},EX=t=>t.tooltip.settings,Fs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},TX={itemInteraction:{click:Fs,hover:Fs},axisInteraction:{click:Fs,hover:Fs},keyboardInteraction:Fs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},c6=$r({name:"tooltip",initialState:TX,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Jt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=aa(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Jt()},removeTooltipEntrySettings:{reducer(t,e){var n=aa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Jt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:wX,replaceTooltipEntrySettings:SX,removeTooltipEntrySettings:AX,setTooltipSettingsState:kX,setActiveMouseOverItemIndex:d6,mouseLeaveItem:CX,mouseLeaveChart:f6,setActiveClickItemIndex:IX,setMouseOverAxisIndex:h6,setMouseClickAxisIndex:RX,setSyncInteraction:D1,setKeyboardInteraction:O1}=c6.actions,NX=c6.reducer;function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(r){PX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PX(t,e,n){return(e=MX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MX(t){var e=DX(t,"string");return typeof e=="symbol"?e:e+""}function DX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OX(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function LX(t){return t.index!=null}var p6=(t,e,n,r)=>{if(e==null)return Fs;var i=OX(t,e,n);if(i==null)return Fs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(LX(i)){if(a)return _g(_g({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return _g(_g({},Fs),{},{coordinate:i.coordinate})};function UX(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function VX(t,e){var n=UX(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function FX(t,e,n){if(n==null||e==null)return!0;var r=br(t,e);return r==null||!Zs(n)?!0:VX(r,n)}var nS=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!mn(a))return i;var s=0,u=1/0;e.length>0&&(u=e.length-1);var c=Math.max(s,Math.min(a,u)),d=e[c];return d==null||FX(d,n,r)?String(c):null},m6=(t,e,n,r,i,a,s,u)=>{if(!(a==null||u==null)){var c=s[0],d=c==null?void 0:u(c.positions,a);if(d!=null)return d;var h=i==null?void 0:i[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},g6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},fp=t=>t.options.tooltipPayloadSearcher,xd=t=>t.tooltip;function v2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(n),!0).forEach(function(r){BX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BX(t,e,n){return(e=jX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jX(t){var e=zX(t,"string");return typeof e=="symbol"?e:e+""}function zX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qX(t,e){return t??e}var y6=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:u,computedData:c,dataStartIndex:d,dataEndIndex:h}=n,p=[];return t.reduce((g,v)=>{var w,{dataDefinedOnItem:S,settings:A}=v,C=qX(S,u),U=Array.isArray(C)?Y3(C,d,h):C,M=(w=A==null?void 0:A.dataKey)!==null&&w!==void 0?w:r,F=A==null?void 0:A.nameKey,q;if(r&&Array.isArray(U)&&!Array.isArray(U[0])&&s==="axis"?q=L8(U,r,i):q=a(U,e,c,F),Array.isArray(q))q.forEach(D=>{var O=b2(b2({},A),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});g.push(jN({tooltipEntrySettings:O,dataKey:D.dataKey,payload:D.payload,value:br(D.payload,D.dataKey),name:D.name}))});else{var V;g.push(jN({tooltipEntrySettings:A,dataKey:M,payload:q,value:br(q,M),name:(V=br(q,F))!==null&&V!==void 0?V:A==null?void 0:A.name}))}return g},p)}},rS=ce([Un,kt,AV,Vw,Ln],WV),HX=ce([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),GX=ce([Ln,vd],kV),hp=ce([HX,Un,GX],CV,{memoizeOptions:{resultEqualityCheck:Xv}}),$X=ce([hp],t=>t.filter(Yv)),KX=ce([hp],NV,{memoizeOptions:{resultEqualityCheck:Xv}}),Ed=ce([KX,dl],PV),WX=ce([$X,dl,Un],TV),iS=ce([Ed,Un,hp],MV),v6=ce([Un],Ww),YX=ce([Un],t=>t.allowDataOverflow),b6=ce([v6,YX],eV),JX=ce([hp],t=>t.filter(Yv)),XX=ce([WX,JX,Gv,gV],OV),QX=ce([XX,dl,Ln,b6],LV),ZX=ce([hp],RV),eQ=ce([Ed,Un,ZX,Yw,Ln],FV,{memoizeOptions:{resultEqualityCheck:Jv}}),tQ=ce([BV,Ln,vd],bd),nQ=ce([tQ,Ln],qV),rQ=ce([jV,Ln,vd],bd),iQ=ce([rQ,Ln],HV),aQ=ce([zV,Ln,vd],bd),oQ=ce([aQ,Ln],GV),sQ=ce([nQ,oQ,iQ],My),lQ=ce([Un,v6,b6,QX,eQ,sQ,kt,Ln],$V),pp=ce([Un,kt,Ed,iS,Gv,Ln,lQ],KV),uQ=ce([pp,Un,rS],YV),cQ=ce([Un,pp,uQ,Ln],JV),_6=t=>{var e=Ln(t),n=vd(t),r=!1;return dp(t,e,n,r)},x6=ce([Un,_6],$v),E6=ce([Un,rS,cQ,x6],Xw),dQ=ce([kt,iS,Un,Ln],r6),fQ=ce([kt,iS,Un,Ln],i6),hQ=(t,e,n,r,i,a,s,u)=>{if(e){var{type:c}=e,d=Eu(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?oi(i[0]-i[1])*2*p:p,d&&s?s.map((g,v)=>({coordinate:r(g)+p,value:g,index:v,offset:p})):r.domain().map((g,v)=>({coordinate:r(g)+p,value:a?a[g]:g,index:v,offset:p}))}}},Qo=ce([kt,Un,rS,E6,_6,dQ,fQ,Ln],hQ),aS=ce([o6,s6,EX],(t,e,n)=>l6(n.shared,t,e)),T6=t=>t.tooltip.settings.trigger,oS=t=>t.tooltip.settings.defaultIndex,mp=ce([xd,aS,T6,oS],p6),sd=ce([mp,Ed,up,pp],nS),w6=ce([Qo,sd],u6),S6=ce([mp],t=>{if(t)return t.dataKey});ce([mp],t=>{if(t)return t.graphicalItemId});var A6=ce([xd,aS,T6,oS],g6),pQ=ce([Ko,Wo,kt,Kn,Qo,oS,A6,fp],m6),mQ=ce([mp,pQ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),gQ=ce([mp],t=>t.active),yQ=ce([A6,sd,dl,up,w6,fp,aS],y6);ce([yQ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){vQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vQ(t,e,n){return(e=bQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bQ(t){var e=_Q(t,"string");return typeof e=="symbol"?e:e+""}function _Q(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xQ=()=>Fe(Un),EQ=()=>{var t=xQ(),e=Fe(Qo),n=Fe(E6);return hy(!t||!n?void 0:x2(x2({},t),{},{scale:n}),e)};function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){TQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TQ(t,e,n){return(e=wQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wQ(t){var e=SQ(t,"string");return typeof e=="symbol"?e:e+""}function SQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AQ=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},kQ=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return bc(bc(bc({},r),sr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var u=i.coordinate,{angle:c}=r;return bc(bc(bc({},r),sr(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function CQ(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var k6=(t,e,n,r,i)=>{var a,s=-1,u=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var d=c>0?n[c-1].coordinate:n[u-1].coordinate,h=n[c].coordinate,p=c>=u-1?n[0].coordinate:n[c+1].coordinate,g=void 0;if(oi(h-d)!==oi(p-h)){var v=[];if(oi(p-h)===oi(i[1]-i[0])){g=p;var w=h+i[1]-i[0];v[0]=Math.min(w,(w+d)/2),v[1]=Math.max(w,(w+d)/2)}else{g=d;var S=p+i[1]-i[0];v[0]=Math.min(h,(S+h)/2),v[1]=Math.max(h,(S+h)/2)}var A=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(t>A[0]&&t<=A[1]||t>=v[0]&&t<=v[1]){({index:s}=n[c]);break}}else{var C=Math.min(d,p),U=Math.max(d,p);if(t>(C+h)/2&&t<=(U+h)/2){({index:s}=n[c]);break}}}else if(e){for(var M=0;M<u;M++)if(M===0&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M>0&&M<u-1&&t>(e[M].coordinate+e[M-1].coordinate)/2&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M===u-1&&t>(e[M].coordinate+e[M-1].coordinate)/2){({index:s}=e[M]);break}}return s},IQ=()=>Fe(Vw),sS=(t,e)=>e,C6=(t,e,n)=>n,lS=(t,e,n,r)=>r,RQ=ce(Qo,t=>_v(t,e=>e.coordinate)),uS=ce([xd,sS,C6,lS],p6),cS=ce([uS,Ed,up,pp],nS),NQ=(t,e,n)=>{if(e!=null){var r=xd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},I6=ce([xd,sS,C6,lS],g6),Dy=ce([Ko,Wo,kt,Kn,Qo,lS,I6,fp],m6),PQ=ce([uS,Dy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),R6=ce([Qo,cS],u6),MQ=ce([I6,cS,dl,up,R6,fp,sS],y6),DQ=ce([uS,cS],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),OQ=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&CQ(t,s)){var u=u7(t,e),c=k6(u,a,i,n,r),d=AQ(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},LQ=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var u=_K(t,n);if(u){var c=c7(u,e),d=k6(c,s,a,r,i),h=kQ(e,a,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},UQ=(t,e,n,r,i,a,s,u)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?OQ(t,e,r,i,a,s,u):LQ(t,e,n,r,i,a,s)},VQ=ce(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),FQ=ce(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Hr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:TJ}});function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){BQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BQ(t,e,n){return(e=jQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jQ(t){var e=zQ(t,"string");return typeof e=="symbol"?e:e+""}function zQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qQ={},HQ={zIndexMap:Object.values(Hr).reduce((t,e)=>w2(w2({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),qQ)},GQ=new Set(Object.values(Hr));function $Q(t){return GQ.has(t)}var N6=$r({name:"zIndex",initialState:HQ,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Jt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!$Q(n)&&delete t.zIndexMap[n])},prepare:Jt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Jt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Jt()}}}),{registerZIndexPortal:KQ,unregisterZIndexPortal:WQ,registerZIndexPortalId:YQ,unregisterZIndexPortalId:JQ}=N6.actions,XQ=N6.reducer;function fl(t){var{zIndex:e,children:n}=t,r=$7(),i=r&&e!==void 0&&e!==0,a=pi(),s=gn();R.useLayoutEffect(()=>i?(s(KQ({zIndex:e})),()=>{s(WQ({zIndex:e}))}):Jh,[s,e,i]);var u=Fe(d=>VQ(d,e,a));if(!i)return n;if(!u)return null;var c=document.getElementById(u);return c?F4.createPortal(n,c):null}function L1(){return L1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L1.apply(null,arguments)}function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){QQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QQ(t,e,n){return(e=ZQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZQ(t){var e=eZ(t,"string");return typeof e=="symbol"?e:e+""}function eZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tZ(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return R.isValidElement(e)?R.cloneElement(e,r):R.createElement(n,r)}function nZ(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:u,cursor:c,tooltipEventType:d,chartName:h}=t,p=n,g=r,v=i;if(!c||!p||h!=="ScatterChart"&&d!=="axis")return null;var w,S,A;if(h==="ScatterChart")w=p,S=D$,A=Hr.cursorLine;else if(h==="BarChart")w=O$(u,p,a,s),S=mU,A=Hr.cursorRectangle;else if(u==="radial"&&o3(p)){var{cx:C,cy:U,radius:M,startAngle:F,endAngle:q}=gU(p);w={cx:C,cy:U,startAngle:F,endAngle:q,innerRadius:M,outerRadius:M},S=vU,A=Hr.cursorLine}else w={points:wK(u,p,a)},S=cU,A=Hr.cursorLine;var V=typeof c=="object"&&"className"in c?c.className:void 0,D=xg(xg(xg(xg({stroke:"#ccc",pointerEvents:"none"},a),w),zT(c)),{},{payload:g,payloadIndex:v,className:Ot("recharts-tooltip-cursor",V)});return R.createElement(fl,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},R.createElement(tZ,{cursor:c,cursorComp:S,cursorProps:D}))}function rZ(t){var e=EQ(),n=q7(),r=Dv(),i=IQ();return e==null||n==null||r==null||i==null?null:R.createElement(nZ,L1({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var P6=R.createContext(null),iZ=()=>R.useContext(P6),tE={exports:{}},A2;function aZ(){return A2||(A2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,p||c,g),w=n?n+d:d;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],v]:c._events[w].push(v):(c._events[w]=v,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)e.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,w=new Array(v);g<v;g++)w[g]=p[g].fn;return w},u.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(d,h,p,g,v,w){var S=n?n+d:d;if(!this._events[S])return!1;var A=this._events[S],C=arguments.length,U,M;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),C){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,p),!0;case 4:return A.fn.call(A.context,h,p,g),!0;case 5:return A.fn.call(A.context,h,p,g,v),!0;case 6:return A.fn.call(A.context,h,p,g,v,w),!0}for(M=1,U=new Array(C-1);M<C;M++)U[M-1]=arguments[M];A.fn.apply(A.context,U)}else{var F=A.length,q;for(M=0;M<F;M++)switch(A[M].once&&this.removeListener(d,A[M].fn,void 0,!0),C){case 1:A[M].fn.call(A[M].context);break;case 2:A[M].fn.call(A[M].context,h);break;case 3:A[M].fn.call(A[M].context,h,p);break;case 4:A[M].fn.call(A[M].context,h,p,g);break;default:if(!U)for(q=1,U=new Array(C-1);q<C;q++)U[q-1]=arguments[q];A[M].fn.apply(A[M].context,U)}}return!0},u.prototype.on=function(d,h,p){return a(this,d,h,p,!1)},u.prototype.once=function(d,h,p){return a(this,d,h,p,!0)},u.prototype.removeListener=function(d,h,p,g){var v=n?n+d:d;if(!this._events[v])return this;if(!h)return s(this,v),this;var w=this._events[v];if(w.fn)w.fn===h&&(!g||w.once)&&(!p||w.context===p)&&s(this,v);else{for(var S=0,A=[],C=w.length;S<C;S++)(w[S].fn!==h||g&&!w[S].once||p&&w[S].context!==p)&&A.push(w[S]);A.length?this._events[v]=A.length===1?A[0]:A:s(this,v)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(tE)),tE.exports}var oZ=aZ();const sZ=Bi(oZ);var Dh=new sZ,U1="recharts.syncEvent.tooltip",k2="recharts.syncEvent.brush";function lZ(t,e){if(e){var n=Number.parseInt(e,10);if(!Qa(n))return t==null?void 0:t[n]}}var uZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},M6=$r({name:"options",initialState:uZ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),cZ=M6.reducer,{createEventEmitter:dZ}=M6.actions;function fZ(t){return t.tooltip.syncInteraction}var hZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},D6=$r({name:"chartData",initialState:hZ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:C2,setDataStartEndIndexes:pZ,setComputedData:gke}=D6.actions,mZ=D6.reducer,gZ=["x","y"];function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){yZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yZ(t,e,n){return(e=vZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vZ(t){var e=bZ(t,"string");return typeof e=="symbol"?e:e+""}function bZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Z(t,e){if(t==null)return{};var n,r,i=xZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function EZ(){var t=Fe(Fw),e=Fe(Bw),n=gn(),r=Fe(yV),i=Fe(Qo),a=Dv(),s=Mv(),u=Fe(c=>c.rootProps.className);R.useEffect(()=>{if(t==null)return Jh;var c=(d,h,p)=>{if(e!==p&&t===d){if(r==="index"){var g;if(s&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var v=h.payload.coordinate,{x:w,y:S}=v,A=_Z(v,gZ),{x:C,y:U,width:M,height:F}=h.payload.sourceViewBox,q=_c(_c({},A),{},{x:s.x+(M?(w-C)/M:0)*s.width,y:s.y+(F?(S-U)/F:0)*s.height});n(_c(_c({},h),{},{payload:_c(_c({},h.payload),{},{coordinate:q})}))}else n(h);return}if(i!=null){var V;if(typeof r=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=r(i,D);V=i[O]}else r==="value"&&(V=i.find(X=>String(X.value)===h.payload.label));var{coordinate:L}=h.payload;if(V==null||h.payload.active===!1||L==null||s==null){n(D1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:P}=L,j=Math.min(B,s.x+s.width),H=Math.min(P,s.y+s.height),de={x:a==="horizontal"?V.coordinate:j,y:a==="horizontal"?H:V.coordinate},te=D1({active:h.payload.active,coordinate:de,dataKey:h.payload.dataKey,index:String(V.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(te)}}};return Dh.on(U1,c),()=>{Dh.off(U1,c)}},[u,n,e,t,r,i,a,s])}function TZ(){var t=Fe(Fw),e=Fe(Bw),n=gn();R.useEffect(()=>{if(t==null)return Jh;var r=(i,a,s)=>{e!==s&&t===i&&n(pZ(a))};return Dh.on(k2,r),()=>{Dh.off(k2,r)}},[n,e,t])}function wZ(){var t=gn();R.useEffect(()=>{t(dZ())},[t]),EZ(),TZ()}function SZ(t,e,n,r,i,a){var s=Fe(v=>NQ(v,t,e)),u=Fe(Bw),c=Fe(Fw),d=Fe(yV),h=Fe(fZ),p=h==null?void 0:h.active,g=Mv();R.useEffect(()=>{if(!p&&c!=null&&u!=null){var v=D1({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});Dh.emit(U1,c,v,u)}},[p,n,s,i,r,u,c,d,a,g])}function R2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(n),!0).forEach(function(r){AZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AZ(t,e,n){return(e=kZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kZ(t){var e=CZ(t,"string");return typeof e=="symbol"?e:e+""}function CZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IZ(t){return t.dataKey}function RZ(t,e){return R.isValidElement(t)?R.cloneElement(t,e):typeof t=="function"?R.createElement(t,e):R.createElement(h$,e)}var P2=[],NZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function PZ(t){var e,n,r=ji(t,NZ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:u,content:c,filterNull:d,isAnimationActive:h,offset:p,payloadUniqBy:g,position:v,reverseDirection:w,useTranslate3d:S,wrapperStyle:A,cursor:C,shared:U,trigger:M,defaultIndex:F,portal:q,axisId:V}=r,D=gn(),O=typeof F=="number"?String(F):F;R.useEffect(()=>{D(kX({shared:U,trigger:M,axisId:V,active:i,defaultIndex:O}))},[D,U,M,V,i,O]);var L=Mv(),B=uU(),P=xX(U),{activeIndex:j,isActive:H}=(e=Fe(Se=>DQ(Se,P,M,O)))!==null&&e!==void 0?e:{},de=Fe(Se=>MQ(Se,P,M,O)),te=Fe(Se=>R6(Se,P,M,O)),X=Fe(Se=>PQ(Se,P,M,O)),K=de,ae=iZ(),me=(n=i??H)!==null&&n!==void 0?n:!1,[W,Y]=KH([K,me]),se=P==="axis"?te:void 0;SZ(P,M,X,se,j,me);var $=q??ae;if($==null||L==null||P==null)return null;var ee=K??P2;me||(ee=P2),d&&ee.length&&(ee=bH(ee.filter(Se=>Se.value!=null&&(Se.hide!==!0||r.includeHidden)),g,IZ));var ye=ee.length>0,_e=R.createElement(_$,{allowEscapeViewBox:a,animationDuration:s,animationEasing:u,isAnimationActive:h,active:me,coordinate:X,hasPayload:ye,offset:p,position:v,reverseDirection:w,useTranslate3d:S,viewBox:L,wrapperStyle:A,lastBoundingBox:W,innerRef:Y,hasPortalFromProps:!!q},RZ(c,N2(N2({},r),{},{payload:ee,label:se,active:me,activeIndex:j,coordinate:X,accessibilityLayer:B})));return R.createElement(R.Fragment,null,F4.createPortal(_e,$),me&&R.createElement(rZ,{cursor:C,tooltipEventType:P,coordinate:X,payload:ee,index:j}))}var O6=t=>null;O6.displayName="Cell";function MZ(t,e,n){return(e=DZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DZ(t){var e=OZ(t,"string");return typeof e=="symbol"?e:e+""}function OZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class LZ{constructor(e){MZ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){VZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VZ(t,e,n){return(e=FZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FZ(t){var e=BZ(t,"string");return typeof e=="symbol"?e:e+""}function BZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jZ={cacheSize:2e3,enableCache:!0},L6=UZ({},jZ),D2=new LZ(L6.cacheSize),zZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},O2="recharts_measurement_span";function qZ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(u)}var L2=(t,e)=>{try{var n=document.getElementById(O2);n||(n=document.createElement("span"),n.setAttribute("id",O2),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,zZ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},lh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||np.isSsr)return{width:0,height:0};if(!L6.enableCache)return L2(e,n);var r=qZ(e,n),i=D2.get(r);if(i)return i;var a=L2(e,n);return D2.set(r,a),a},U2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,V2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,GZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,U6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$Z=Object.keys(U6),Pc="NaN";function KZ(t,e){return t*U6[e]}class Fr{static parse(e){var n,[,r,i]=(n=GZ.exec(e))!==null&&n!==void 0?n:[];return new Fr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Qa(e)&&(this.unit=""),n!==""&&!HZ.test(n)&&(this.num=NaN,this.unit=""),$Z.includes(n)&&(this.num=KZ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Qa(this.num)}}function V6(t){if(t.includes(Pc))return Pc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=U2.exec(e))!==null&&n!==void 0?n:[],s=Fr.parse(r??""),u=Fr.parse(a??""),c=i==="*"?s.multiply(u):s.divide(u);if(c.isNaN())return Pc;e=e.replace(U2,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,p,g]=(d=V2.exec(e))!==null&&d!==void 0?d:[],v=Fr.parse(h??""),w=Fr.parse(g??""),S=p==="+"?v.add(w):v.subtract(w);if(S.isNaN())return Pc;e=e.replace(V2,S.toString())}return e}var F2=/\(([^()]*)\)/;function WZ(t){for(var e=t,n;(n=F2.exec(e))!=null;){var[,r]=n;e=e.replace(F2,V6(r))}return e}function YZ(t){var e=t.replace(/\s+/g,"");return e=WZ(e),e=V6(e),e}function JZ(t){try{return YZ(t)}catch{return Pc}}function nE(t){var e=JZ(t.slice(5,-1));return e===Pc?"":e}var XZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],QZ=["dx","dy","angle","className","breakAll"];function V1(){return V1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V1.apply(null,arguments)}function B2(t,e){if(t==null)return{};var n,r,i=ZZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var F6=/[ \f\n\r\t\v\u2028\u2029]+/,B6=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];$n(e)||(n?i=e.toString().split(""):i=e.toString().split(F6));var a=i.map(u=>({word:u,width:lh(u,r).width})),s=n?0:lh("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function eee(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var j6=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:u}=a,c=i[i.length-1];if(c&&u!=null&&(e==null||r||c.width+u+n<Number(e)))c.words.push(s),c.width+=u+n;else{var d={words:[s],width:u};i.push(d)}return i},[]),z6=t=>t.reduce((e,n)=>e.width>n.width?e:n),tee="",j2=(t,e,n,r,i,a,s,u)=>{var c=t.slice(0,e),d=B6({breakAll:n,style:r,children:c+tee});if(!d)return[!1,[]];var h=j6(d.wordsWithComputedWidth,a,s,u),p=h.length>i||z6(h).width>Number(a);return[p,h]},nee=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:u,breakAll:c}=t,d=ze(a),h=String(s),p=j6(e,r,n,i);if(!d||i)return p;var g=p.length>a||z6(p).width>Number(r);if(!g)return p;for(var v=0,w=h.length-1,S=0,A;v<=w&&S<=h.length-1;){var C=Math.floor((v+w)/2),U=C-1,[M,F]=j2(h,U,c,u,a,r,n,i),[q]=j2(h,C,c,u,a,r,n,i);if(!M&&!q&&(v=C+1),M&&q&&(w=C-1),!M&&q){A=F;break}S++}return A||p},z2=t=>{var e=$n(t)?[]:t.toString().split(F6);return[{words:e,width:void 0}]},ree=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!np.isSsr){var u,c,d=B6({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:p}=d;u=h,c=p}else return z2(r);return nee({breakAll:a,children:r,maxLines:s,style:i},u,c,e,!!n)}return z2(r)},q6="#808080",iee={angle:0,breakAll:!1,capHeight:"0.71em",fill:q6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},dS=R.forwardRef((t,e)=>{var n=ji(t,iee),{x:r,y:i,lineHeight:a,capHeight:s,fill:u,scaleToFit:c,textAnchor:d,verticalAnchor:h}=n,p=B2(n,XZ),g=R.useMemo(()=>ree({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:v,dy:w,angle:S,className:A,breakAll:C}=p,U=B2(p,QZ);if(!Za(r)||!Za(i)||g.length===0)return null;var M=Number(r)+(ze(v)?v:0),F=Number(i)+(ze(w)?w:0);if(!mn(M)||!mn(F))return null;var q;switch(h){case"start":q=nE("calc(".concat(s,")"));break;case"middle":q=nE("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:q=nE("calc(".concat(g.length-1," * -").concat(a,")"));break}var V=[];if(c){var D=g[0].width,{width:O}=p;V.push("scale(".concat(ze(O)&&ze(D)?O/D:1,")"))}return S&&V.push("rotate(".concat(S,", ").concat(M,", ").concat(F,")")),V.length&&(U.transform=V.join(" ")),R.createElement("text",V1({},Li(U),{ref:e,x:M,y:F,className:Ot("recharts-text",A),textAnchor:d,fill:u.includes("url")?q6:u}),g.map((L,B)=>{var P=L.words.join(C?"":" ");return R.createElement("tspan",{x:M,dy:B===0?q:a,key:"".concat(P,"-").concat(B)},P)}))});dS.displayName="Text";var aee=["labelRef"];function oee(t,e){if(t==null)return{};var n,r,i=see(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function see(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){lee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lee(t,e,n){return(e=uee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uee(t){var e=cee(t,"string");return typeof e=="symbol"?e:e+""}function cee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ko(){return ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ko.apply(null,arguments)}var H6=R.createContext(null),dee=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:u}=t,c=R.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return R.createElement(H6.Provider,{value:c},u)},G6=()=>{var t=R.useContext(H6),e=Mv();return t||tU(e)},fee=R.createContext(null),hee=()=>{var t=R.useContext(fee),e=Fe(EV);return t||e},pee=t=>{var{value:e,formatter:n}=t,r=$n(t.children)?e:t.children;return typeof n=="function"?n(r):r},fS=t=>t!=null&&typeof t=="function",mee=(t,e)=>{var n=oi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},gee=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:u,cy:c,innerRadius:d,outerRadius:h,startAngle:p,endAngle:g,clockWise:v}=i,w=(d+h)/2,S=mee(p,g),A=S>=0?1:-1,C,U;switch(e){case"insideStart":C=p+A*a,U=v;break;case"insideEnd":C=g-A*a,U=!v;break;case"end":C=g+A*a,U=v;break;default:throw new Error("Unsupported position ".concat(e))}U=S<=0?U:!U;var M=sr(u,c,w,C),F=sr(u,c,w,C+(U?1:-1)*359),q="M".concat(M.x,",").concat(M.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(U?0:1,`,
    `).concat(F.x,",").concat(F.y),V=$n(t.id)?xh("recharts-radial-line-"):t.id;return R.createElement("text",ko({},r,{dominantBaseline:"central",className:Ot("recharts-radial-bar-label",s)}),R.createElement("defs",null,R.createElement("path",{id:V,d:q})),R.createElement("textPath",{xlinkHref:"#".concat(V)},n))},yee=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:c}=t,d=(u+c)/2;if(n==="outside"){var{x:h,y:p}=sr(r,i,s+e,d);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+s)/2,{x:v,y:w}=sr(r,i,g,d);return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},F1=t=>"cx"in t&&ze(t.cx),vee=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!F1(n)&&(a=n);var{x:s,y:u,upperWidth:c,lowerWidth:d,height:h}=e,p=s,g=s+(c-d)/2,v=(p+g)/2,w=(c+d)/2,S=p+c/2,A=h>=0?1:-1,C=A*r,U=A>0?"end":"start",M=A>0?"start":"end",F=c>=0?1:-1,q=F*r,V=F>0?"end":"start",D=F>0?"start":"end";if(i==="top"){var O={x:p+c/2,y:u-C,textAnchor:"middle",verticalAnchor:U};return fn(fn({},O),a?{height:Math.max(u-a.y,0),width:c}:{})}if(i==="bottom"){var L={x:g+d/2,y:u+h+C,textAnchor:"middle",verticalAnchor:M};return fn(fn({},L),a?{height:Math.max(a.y+a.height-(u+h),0),width:d}:{})}if(i==="left"){var B={x:v-q,y:u+h/2,textAnchor:V,verticalAnchor:"middle"};return fn(fn({},B),a?{width:Math.max(B.x-a.x,0),height:h}:{})}if(i==="right"){var P={x:v+w+q,y:u+h/2,textAnchor:D,verticalAnchor:"middle"};return fn(fn({},P),a?{width:Math.max(a.x+a.width-P.x,0),height:h}:{})}var j=a?{width:w,height:h}:{};return i==="insideLeft"?fn({x:v+q,y:u+h/2,textAnchor:D,verticalAnchor:"middle"},j):i==="insideRight"?fn({x:v+w-q,y:u+h/2,textAnchor:V,verticalAnchor:"middle"},j):i==="insideTop"?fn({x:p+c/2,y:u+C,textAnchor:"middle",verticalAnchor:M},j):i==="insideBottom"?fn({x:g+d/2,y:u+h-C,textAnchor:"middle",verticalAnchor:U},j):i==="insideTopLeft"?fn({x:p+q,y:u+C,textAnchor:D,verticalAnchor:M},j):i==="insideTopRight"?fn({x:p+c-q,y:u+C,textAnchor:V,verticalAnchor:M},j):i==="insideBottomLeft"?fn({x:g+q,y:u+h-C,textAnchor:D,verticalAnchor:U},j):i==="insideBottomRight"?fn({x:g+d-q,y:u+h-C,textAnchor:V,verticalAnchor:U},j):i&&typeof i=="object"&&(ze(i.x)||Oo(i.x))&&(ze(i.y)||Oo(i.y))?fn({x:s+oa(i.x,w),y:u+oa(i.y,h),textAnchor:"end",verticalAnchor:"end"},j):fn({x:S,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},j)},bee={angle:0,offset:5,zIndex:Hr.label,position:"middle",textBreakAll:!1};function Vs(t){var e=ji(t,bee),{viewBox:n,position:r,value:i,children:a,content:s,className:u="",textBreakAll:c,labelRef:d}=e,h=hee(),p=G6(),g=r==="center"?p:h??p,v,w,S;if(n==null?v=g:F1(n)?v=n:v=tU(n),!v||$n(i)&&$n(a)&&!R.isValidElement(s)&&typeof s!="function")return null;var A=fn(fn({},e),{},{viewBox:v});if(R.isValidElement(s)){var{labelRef:C}=A,U=oee(A,aee);return R.cloneElement(s,U)}if(typeof s=="function"){if(w=R.createElement(s,A),R.isValidElement(w))return w}else w=pee(e);var M=Li(e);if(F1(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return gee(e,r,w,M,v);S=yee(v,e.offset,e.position)}else S=vee(e,v);return R.createElement(fl,{zIndex:e.zIndex},R.createElement(dS,ko({ref:d,className:Ot("recharts-label",u)},M,S,{textAnchor:eee(M.textAnchor)?M.textAnchor:S.textAnchor,breakAll:c}),w))}Vs.displayName="Label";var _ee=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?R.createElement(Vs,ko({key:"label-implicit"},r)):Za(t)?R.createElement(Vs,ko({key:"label-implicit",value:t},r)):R.isValidElement(t)?t.type===Vs?R.cloneElement(t,fn({key:"label-implicit"},r)):R.createElement(Vs,ko({key:"label-implicit",content:t},r)):fS(t)?R.createElement(Vs,ko({key:"label-implicit",content:t},r)):t&&typeof t=="object"?R.createElement(Vs,ko({},t,{key:"label-implicit"},r)):null};function xee(t){var{label:e,labelRef:n}=t,r=G6();return _ee(e,r,n)||null}var rE={},iE={},H2;function Eee(){return H2||(H2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(iE)),iE}var aE={},G2;function Tee(){return G2||(G2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(aE)),aE}var $2;function wee(){return $2||($2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Eee(),n=Tee(),r=JT();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(rE)),rE}var oE,K2;function See(){return K2||(K2=1,oE=wee().last),oE}var Aee=See();const kee=Bi(Aee);var Cee=["valueAccessor"],Iee=["dataKey","clockWise","id","textBreakAll","zIndex"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oy.apply(null,arguments)}function W2(t,e){if(t==null)return{};var n,r,i=Ree(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ree(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nee=t=>Array.isArray(t.value)?kee(t.value):t.value,$6=R.createContext(void 0),Pee=$6.Provider,K6=R.createContext(void 0);K6.Provider;function Mee(){return R.useContext($6)}function Dee(){return R.useContext(K6)}function Bg(t){var{valueAccessor:e=Nee}=t,n=W2(t,Cee),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:u}=n,c=W2(n,Iee),d=Mee(),h=Dee(),p=d||h;return!p||!p.length?null:R.createElement(fl,{zIndex:u??Hr.label},R.createElement(Do,{className:"recharts-label-list"},p.map((g,v)=>{var w,S=$n(r)?e(g,v):br(g&&g.payload,r),A=$n(a)?{}:{id:"".concat(a,"-").concat(v)};return R.createElement(Vs,Oy({key:"label-".concat(v)},Li(g),c,A,{fill:(w=n.fill)!==null&&w!==void 0?w:g.fill,parentViewBox:g.parentViewBox,value:S,textBreakAll:s,viewBox:g.viewBox,index:v,zIndex:0}))})))}Bg.displayName="LabelList";function Oee(t){var{label:e}=t;return e?e===!0?R.createElement(Bg,{key:"labelList-implicit"}):R.isValidElement(e)||fS(e)?R.createElement(Bg,{key:"labelList-implicit",content:e}):typeof e=="object"?R.createElement(Bg,Oy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Lee={radiusAxis:{},angleAxis:{}},W6=$r({name:"polarAxis",initialState:Lee,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:yke,removeRadiusAxis:vke,addAngleAxis:bke,removeAngleAxis:_ke}=W6.actions,Uee=W6.reducer,sE={exports:{}},Pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2;function Vee(){if(Y2)return Pt;Y2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function w(S){if(typeof S=="object"&&S!==null){var A=S.$$typeof;switch(A){case t:switch(S=S.type,S){case n:case i:case r:case c:case d:case g:return S;default:switch(S=S&&S.$$typeof,S){case s:case u:case p:case h:return S;case a:return S;default:return A}}case e:return A}}}return Pt.ContextConsumer=a,Pt.ContextProvider=s,Pt.Element=t,Pt.ForwardRef=u,Pt.Fragment=n,Pt.Lazy=p,Pt.Memo=h,Pt.Portal=e,Pt.Profiler=i,Pt.StrictMode=r,Pt.Suspense=c,Pt.SuspenseList=d,Pt.isContextConsumer=function(S){return w(S)===a},Pt.isContextProvider=function(S){return w(S)===s},Pt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Pt.isForwardRef=function(S){return w(S)===u},Pt.isFragment=function(S){return w(S)===n},Pt.isLazy=function(S){return w(S)===p},Pt.isMemo=function(S){return w(S)===h},Pt.isPortal=function(S){return w(S)===e},Pt.isProfiler=function(S){return w(S)===i},Pt.isStrictMode=function(S){return w(S)===r},Pt.isSuspense=function(S){return w(S)===c},Pt.isSuspenseList=function(S){return w(S)===d},Pt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===c||S===d||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===h||S.$$typeof===s||S.$$typeof===a||S.$$typeof===u||S.$$typeof===v||S.getModuleId!==void 0)},Pt.typeOf=w,Pt}var J2;function Fee(){return J2||(J2=1,sE.exports=Vee()),sE.exports}var Bee=Fee(),X2=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",Q2=null,lE=null,Y6=t=>{if(t===Q2&&Array.isArray(lE))return lE;var e=[];return R.Children.forEach(t,n=>{$n(n)||(Bee.isFragment(n)?e=e.concat(Y6(n.props.children)):e.push(n))}),lE=e,Q2=t,e};function jee(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>X2(i)):r=[X2(e)],Y6(t).forEach(i=>{var a=Qc(i,"type.displayName")||Qc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var uE={},Z2;function zee(){return Z2||(Z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(uE)),uE}var cE,eM;function qee(){return eM||(eM=1,cE=zee().isPlainObject),cE}var Hee=qee();const Gee=Bi(Hee);function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){$ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ee(t,e,n){return(e=Kee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kee(t){var e=Wee(t,"string");return typeof e=="symbol"?e:e+""}function Wee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ly.apply(null,arguments)}var rM=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},Yee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jee=t=>{var e=ji(t,Yee),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:u}=e,{animationEasing:c,animationDuration:d,animationBegin:h,isUpdateAnimationActive:p}=e,g=R.useRef(null),[v,w]=R.useState(-1),S=R.useRef(i),A=R.useRef(a),C=R.useRef(s),U=R.useRef(n),M=R.useRef(r),F=dw(t,"trapezoid-");if(R.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var de=g.current.getTotalLength();de&&w(de)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var q=Ot("recharts-trapezoid",u);if(!p)return R.createElement("g",null,R.createElement("path",Ly({},Li(e),{className:q,d:rM(n,r,i,a,s)})));var V=S.current,D=A.current,O=C.current,L=U.current,B=M.current,P="0px ".concat(v===-1?1:v,"px"),j="".concat(v,"px 0px"),H=dU(["strokeDasharray"],d,c);return R.createElement(cw,{animationId:F,key:F,canBegin:v>0,duration:d,easing:c,isActive:p,begin:h},de=>{var te=ir(V,i,de),X=ir(D,a,de),K=ir(O,s,de),ae=ir(L,n,de),me=ir(B,r,de);g.current&&(S.current=te,A.current=X,C.current=K,U.current=ae,M.current=me);var W=de>0?{transition:H,strokeDasharray:j}:{strokeDasharray:P};return R.createElement("path",Ly({},Li(e),{className:q,d:rM(ae,me,te,X,K),ref:g,style:nM(nM({},W),e.style)}))})},Xee=["option","shapeType","propTransformer","activeClassName"];function Qee(t,e){if(t==null)return{};var n,r,i=Zee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ete(t,e,n){return(e=tte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tte(t){var e=nte(t,"string");return typeof e=="symbol"?e:e+""}function nte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rte(t,e){return Uy(Uy({},e),t)}function ite(t,e){return t==="symbols"}function aM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return R.createElement(mU,n);case"trapezoid":return R.createElement(Jee,n);case"sector":return R.createElement(vU,n);case"symbols":if(ite(e))return R.createElement(a3,n);break;case"curve":return R.createElement(cU,n);default:return null}}function ate(t){return R.isValidElement(t)?t.props:t}function ote(t){var{option:e,shapeType:n,propTransformer:r=rte,activeClassName:i="recharts-active-shape"}=t,a=Qee(t,Xee),s;if(R.isValidElement(e))s=R.cloneElement(e,Uy(Uy({},a),ate(e)));else if(typeof e=="function")s=e(a,a.index);else if(Gee(e)&&typeof e!="boolean"){var u=r(e,a);s=R.createElement(aM,{shapeType:n,elementProps:u})}else{var c=a;s=R.createElement(aM,{shapeType:n,elementProps:c})}return a.isActive?R.createElement(Do,{className:i},s):s}var J6=(t,e,n)=>{var r=gn();return(i,a)=>s=>{t==null||t(i,a,s),r(d6({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},X6=t=>{var e=gn();return(n,r)=>i=>{t==null||t(n,r,i),e(CX())}},Q6=(t,e,n)=>{var r=gn();return(i,a)=>s=>{t==null||t(i,a,s),r(IX({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function ste(t){var{tooltipEntrySettings:e}=t,n=gn(),r=pi(),i=R.useRef(null);return R.useLayoutEffect(()=>{r||(i.current===null?n(wX(e)):i.current!==e&&n(SX({prev:i.current,next:e})),i.current=e)},[e,n,r]),R.useLayoutEffect(()=>()=>{i.current&&(n(AX(i.current)),i.current=null)},[n]),null}function lte(t){var{legendPayload:e}=t,n=gn(),r=pi(),i=R.useRef(null);return R.useLayoutEffect(()=>{r||(i.current===null?n(a$(e)):i.current!==e&&n(o$({prev:i.current,next:e})),i.current=e)},[n,r,e]),R.useLayoutEffect(()=>()=>{i.current&&(n(s$(i.current)),i.current=null)},[n]),null}var dE,ute=()=>{var[t]=R.useState(()=>xh("uid-"));return t},cte=(dE=Dq.useId)!==null&&dE!==void 0?dE:ute;function Z6(t,e){var n=cte();return e||(t?"".concat(t,"-").concat(n):n)}var dte=R.createContext(void 0),fte=t=>{var{id:e,type:n,children:r}=t,i=Z6("recharts-".concat(n),e);return R.createElement(dte.Provider,{value:i},r(i))},hte={cartesianItems:[],polarItems:[]},e5=$r({name:"graphicalItems",initialState:hte,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Jt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=aa(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Jt()},removeCartesianGraphicalItem:{reducer(t,e){var n=aa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Jt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Jt()},removePolarGraphicalItem:{reducer(t,e){var n=aa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Jt()}}}),{addCartesianGraphicalItem:pte,replaceCartesianGraphicalItem:mte,removeCartesianGraphicalItem:gte,addPolarGraphicalItem:xke,removePolarGraphicalItem:Eke}=e5.actions,yte=e5.reducer,vte=t=>{var e=gn(),n=R.useRef(null);return R.useLayoutEffect(()=>{n.current===null?e(pte(t)):n.current!==t&&e(mte({prev:n.current,next:t})),n.current=t},[e,t]),R.useLayoutEffect(()=>()=>{n.current&&(e(gte(n.current)),n.current=null)},[e]),null},bte=R.memo(vte);function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){_te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _te(t,e,n){return(e=xte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xte(t){var e=Ete(t,"string");return typeof e=="symbol"?e:e+""}function Ete(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tte={xAxis:{},yAxis:{},zAxis:{}},t5=$r({name:"cartesianAxis",initialState:Tte,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Jt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Jt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Jt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Jt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Jt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Jt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Jt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Jt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Jt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=sM(sM({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:wte,replaceXAxis:Ste,removeXAxis:Ate,addYAxis:kte,replaceYAxis:Cte,removeYAxis:Ite,addZAxis:Tke,replaceZAxis:wke,removeZAxis:Ske,updateYAxisWidth:Rte}=t5.actions,Nte=t5.reducer,Pte=ce([Kn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Mte=ce([Pte,Ko,Wo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),n5=()=>Fe(Mte),Dte="Invariant failed";function Ote(t,e){throw new Error(Dte)}var Lte=["x","y"];function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(null,arguments)}function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){Ute(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ute(t,e,n){return(e=Vte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vte(t){var e=Fte(t,"string");return typeof e=="symbol"?e:e+""}function Fte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bte(t,e){if(t==null)return{};var n,r,i=jte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zte(t,e){var{x:n,y:r}=t,i=Bte(t,Lte),a="".concat(n),s=parseInt(a,10),u="".concat(r),c=parseInt(u,10),d="".concat(e.height||i.height),h=parseInt(d,10),p="".concat(e.width||i.width),g=parseInt(p,10);return $f($f($f($f($f({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function Vy(t){return R.createElement(ote,B1({shapeType:"rectangle",propTransformer:zte,activeClassName:"recharts-active-bar"},t))}var qte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ze(e))return e;var a=ze(r)||$n(r);return a?e(r,i):(a||Ote(),n)}},Hte={},r5=$r({name:"errorBars",initialState:Hte,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Ake,replaceErrorBar:kke,removeErrorBar:Cke}=r5.actions,Gte=r5.reducer,$te=["children"];function Kte(t,e){if(t==null)return{};var n,r,i=Wte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Jte=R.createContext(Yte);function Xte(t){var{children:e}=t,n=Kte(t,$te);return R.createElement(Jte.Provider,{value:n},e)}function i5(t,e){var n,r,i=Fe(d=>Jo(d,t)),a=Fe(d=>Xo(d,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:zn.allowDataOverflow,u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:qn.allowDataOverflow,c=s||u;return{needClip:c,needClipX:s,needClipY:u}}function Qte(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=n5(),{needClipX:a,needClipY:s,needClip:u}=i5(e,n);if(!u||!i)return null;var{x:c,y:d,width:h,height:p}=i;return R.createElement("clipPath",{id:"clipPath-".concat(r)},R.createElement("rect",{x:a?c:c-h/2,y:s?d:d-p/2,width:a?h:h*2,height:s?p:p*2}))}function Zte(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&mn(t.zIndex)?t.zIndex:e}var fE={exports:{}},hE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uM;function ene(){if(uM)return hE;uM=1;var t=pd();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,u=t.useDebugValue;return hE.useSyncExternalStoreWithSelector=function(c,d,h,p,g){var v=i(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=s(function(){function A(q){if(!C){if(C=!0,U=q,q=p(q),g!==void 0&&w.hasValue){var V=w.value;if(g(V,q))return M=V}return M=q}if(V=M,n(U,q))return V;var D=p(q);return g!==void 0&&g(V,D)?(U=q,V):(U=q,M=D)}var C=!1,U,M,F=h===void 0?null:h;return[function(){return A(d())},F===null?void 0:function(){return A(F())}]},[d,h,p,g]);var S=r(c,v[0],v[1]);return a(function(){w.hasValue=!0,w.value=S},[S]),u(S),S},hE}var cM;function tne(){return cM||(cM=1,fE.exports=ene()),fE.exports}tne();function nne(t){t()}function rne(){let t=null,e=null;return{clear(){t=null,e=null},notify(){nne(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var dM={notify(){},get:()=>[]};function ine(t,e){let n,r=dM,i=0,a=!1;function s(S){h();const A=r.subscribe(S);let C=!1;return()=>{C||(C=!0,A(),p())}}function u(){r.notify()}function c(){w.onStateChange&&w.onStateChange()}function d(){return a}function h(){i++,n||(n=t.subscribe(c),r=rne())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=dM)}function g(){a||(a=!0,h())}function v(){a&&(a=!1,p())}const w={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:d,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return w}var ane=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",one=ane(),sne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",lne=sne(),une=()=>one||lne?R.useLayoutEffect:R.useEffect,cne=une();function fM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function dne(t,e){if(fM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!fM(t[n[i]],e[n[i]]))return!1;return!0}var pE=Symbol.for("react-redux-context"),mE=typeof globalThis<"u"?globalThis:{};function fne(){if(!R.createContext)return{};const t=mE[pE]??(mE[pE]=new Map);let e=t.get(R.createContext);return e||(e=R.createContext(null),t.set(R.createContext,e)),e}var hne=fne();function pne(t){const{children:e,context:n,serverState:r,store:i}=t,a=R.useMemo(()=>{const c=ine(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=R.useMemo(()=>i.getState(),[i]);cne(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const u=n||hne;return R.createElement(u.Provider,{value:a},e)}var mne=pne,gne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function yne(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function hS(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(gne.has(r)){if(t[r]==null&&e[r]==null)continue;if(!dne(t[r],e[r]))return!1}else if(!yne(t[r],e[r]))return!1;return!0}var vne=["onMouseEnter","onMouseLeave","onClick"],bne=["value","background","tooltipPosition"],_ne=["id"],xne=["onMouseEnter","onClick","onMouseLeave"];function jo(){return jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jo.apply(null,arguments)}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){Ene(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ene(t,e,n){return(e=Tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tne(t){var e=wne(t,"string");return typeof e=="symbol"?e:e+""}function wne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fy(t,e){if(t==null)return{};var n,r,i=Sne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ane=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:J3(n,e),payload:t}]},kne=R.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:u,tooltipType:c}=t,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:J3(a,e),hide:s,type:c,color:i,unit:u}};return R.createElement(ste,{tooltipEntrySettings:d})});function Cne(t){var e=Fe(sd),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:u,onClick:c}=a,d=Fy(a,vne),h=J6(s,r),p=X6(u),g=Q6(c,r);if(!i||n==null)return null;var v=zT(i);return R.createElement(fl,{zIndex:Zte(i,Hr.barBackground)},n.map((w,S)=>{var{value:A,background:C,tooltipPosition:U}=w,M=Fy(w,bne);if(!C)return null;var F=h(w,S),q=p(w,S),V=g(w,S),D=Sr(Sr(Sr(Sr(Sr({option:i,isActive:String(S)===e},M),{},{fill:"#eee"},C),v),YT(d,w,S)),{},{onMouseEnter:F,onMouseLeave:q,onClick:V,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return R.createElement(Vy,jo({key:"background-bar-".concat(S)},D))}))}function Ine(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Sr(Sr({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return R.createElement(Pee,{value:e?i:void 0},n)}function Rne(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=t,u=Fe(sd),c=Fe(S6),d=n&&String(a)===u&&(c==null||s===c),h=d?n:e;return d?R.createElement(fl,{zIndex:Hr.activeBar},R.createElement(Vy,jo({},r,{name:String(r.name)},i,{isActive:d,option:h,index:a,dataKey:s}))):R.createElement(Vy,jo({},r,{name:String(r.name)},i,{isActive:d,option:h,index:a,dataKey:s}))}function Nne(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return R.createElement(Vy,jo({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function Pne(t){var e,{data:n,props:r}=t,i=(e=Xs(r))!==null&&e!==void 0?e:{},{id:a}=i,s=Fy(i,_ne),{shape:u,dataKey:c,activeBar:d}=r,{onMouseEnter:h,onClick:p,onMouseLeave:g}=r,v=Fy(r,xne),w=J6(h,c),S=X6(g),A=Q6(p,c);return n?R.createElement(R.Fragment,null,n.map((C,U)=>R.createElement(Do,jo({key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(U),className:"recharts-bar-rectangle"},YT(v,C,U),{onMouseEnter:w(C,U),onMouseLeave:S(C,U),onClick:A(C,U)}),d?R.createElement(Rne,{shape:u,activeBar:d,baseProps:s,entry:C,index:U,dataKey:c}):R.createElement(Nne,{shape:u,baseProps:s,entry:C,index:U,dataKey:c})))):null}function Mne(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:u,animationEasing:c,onAnimationEnd:d,onAnimationStart:h}=e,p=n.current,g=dw(e,"recharts-bar-"),[v,w]=R.useState(!1),S=!v,A=R.useCallback(()=>{typeof d=="function"&&d(),w(!1)},[d]),C=R.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return R.createElement(Ine,{showLabels:S,rects:r},R.createElement(cw,{animationId:g,begin:s,duration:u,isActive:a,easing:c,onAnimationEnd:A,onAnimationStart:C,key:g},U=>{var M=U===1?r:r==null?void 0:r.map((F,q)=>{var V=p&&p[q];if(V)return Sr(Sr({},F),{},{x:ir(V.x,F.x,U),y:ir(V.y,F.y,U),width:ir(V.width,F.width,U),height:ir(V.height,F.height,U)});if(i==="horizontal"){var D=ir(0,F.height,U),O=ir(F.stackedBarStart,F.y,U);return Sr(Sr({},F),{},{y:O,height:D})}var L=ir(0,F.width,U),B=ir(F.stackedBarStart,F.x,U);return Sr(Sr({},F),{},{width:L,x:B})});return U>0&&(n.current=M??null),M==null?null:R.createElement(Do,null,R.createElement(Pne,{props:e,data:M}))}),R.createElement(Oee,{label:e.label}),e.children)}function Dne(t){var e=R.useRef(null);return R.createElement(Mne,{previousRectanglesRef:e,props:t})}var a5=0,One=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:br(t,e)}};class Lne extends R.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:u,background:c,id:d}=this.props;if(e||n==null)return null;var h=Ot("recharts-bar",i),p=d;return R.createElement(Do,{className:h,id:d},u&&R.createElement("defs",null,R.createElement(Qte,{clipPathId:p,xAxisId:a,yAxisId:s})),R.createElement(Do,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},R.createElement(Cne,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),R.createElement(Dne,this.props)))}}var Une={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:a5,xAxisId:0,yAxisId:0,zIndex:Hr.bar};function Vne(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:d,isAnimationActive:h}=t,{needClip:p}=i5(e,n),g=Dv(),v=pi(),w=jee(t.children,O6),S=Fe(U=>fre(U,e,n,v,t.id,w));if(g!=="vertical"&&g!=="horizontal")return null;var A,C=S==null?void 0:S[0];return C==null||C.height==null||C.width==null?A=0:A=g==="vertical"?C.height/2:C.width/2,R.createElement(Xte,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:One,errorBarOffset:A},R.createElement(Lne,jo({},t,{layout:g,needClip:p,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:d,isAnimationActive:h})))}function Fne(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:u,xAxisTicks:c,yAxisTicks:d,stackedData:h,displayedData:p,offset:g,cells:v,parentViewBox:w,dataStartIndex:S}=t,A=e==="horizontal"?u:s,C=h?A.scale.domain():null,U=a7({numericAxis:A}),M=A.scale(U);return p.map((F,q)=>{var V,D,O,L,B,P;h?V=ZG(h[q+S],C):(V=br(F,n),Array.isArray(V)||(V=[U,V]));var j=qte(r,a5)(V[1],q);if(e==="horizontal"){var H,[de,te]=[u.scale(V[0]),u.scale(V[1])];D=VN({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:F,index:q}),O=(H=te??de)!==null&&H!==void 0?H:void 0,L=i.size;var X=de-te;if(B=Qa(X)?0:X,P={x:D,y:g.top,width:L,height:g.height},Math.abs(j)>0&&Math.abs(B)<Math.abs(j)){var K=oi(B||j)*(Math.abs(j)-Math.abs(B));O-=K,B+=K}}else{var[ae,me]=[s.scale(V[0]),s.scale(V[1])];if(D=ae,O=VN({axis:u,ticks:d,bandSize:a,offset:i.offset,entry:F,index:q}),L=me-ae,B=i.size,P={x:g.left,y:O,width:g.width,height:B},Math.abs(j)>0&&Math.abs(L)<Math.abs(j)){var W=oi(L||j)*(Math.abs(j)-Math.abs(L));L+=W}}if(D==null||O==null||L==null||B==null)return null;var Y=Sr(Sr({},F),{},{stackedBarStart:M,x:D,y:O,width:L,height:B,value:h?V:V[1],payload:F,background:P,tooltipPosition:{x:D+L/2,y:O+B/2},parentViewBox:w},v&&v[q]&&v[q].props);return Y}).filter(Boolean)}function Bne(t){var e=ji(t,Une),n=pi();return R.createElement(fte,{id:e.id,type:"bar"},r=>R.createElement(R.Fragment,null,R.createElement(lte,{legendPayload:Ane(e)}),R.createElement(kne,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),R.createElement(bte,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:i7(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),R.createElement(fl,{zIndex:e.zIndex},R.createElement(Vne,jo({},e,{id:r})))))}var j1=R.memo(Bne,hS);j1.displayName="Bar";function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jne(t,e,n){return(e=zne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zne(t){var e=qne(t,"string");return typeof e=="symbol"?e:e+""}function qne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hne=(t,e)=>e,Gne=(t,e,n)=>n,$ne=(t,e,n,r)=>r,Kne=(t,e,n,r,i)=>i,gp=ce([$w,Kne],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Wne=ce([gp],t=>t==null?void 0:t.maxBarSize),Yne=(t,e,n,r,i,a)=>a,mM=(t,e,n)=>{var r=n??t;if(!$n(r))return oa(r,e,0)},Jne=ce([kt,$w,Hne,Gne,$ne],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Xne=(t,e,n,r)=>{var i=kt(t);return i==="horizontal"?M1(t,"yAxis",n,r):M1(t,"xAxis",e,r)},Qne=(t,e,n)=>{var r=kt(t);return r==="horizontal"?g2(t,"xAxis",e):g2(t,"yAxis",n)},Zne=(t,e,n)=>{var r={},i=t.filter(Yv),a=t.filter(d=>d.stackId==null),s=i.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),r),u=Object.entries(s).map(d=>{var[h,p]=d,g=p.map(w=>w.dataKey),v=mM(e,n,p[0].barSize);return{stackId:h,dataKeys:g,barSize:v}}),c=a.map(d=>{var h=[d.dataKey].filter(g=>g!=null),p=mM(e,n,d.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...c]},ere=ce([Jne,yJ,Qne],Zne),tre=(t,e,n,r,i)=>{var a,s,u=gp(t,e,n,r,i);if(u!=null){var c=kt(t),d=pV(t),{maxBarSize:h}=u,p=$n(h)?d:h,g,v;return c==="horizontal"?(g=od(t,"xAxis",e,r),v=ad(t,"xAxis",e,r)):(g=od(t,"yAxis",n,r),v=ad(t,"yAxis",n,r)),(a=(s=hy(g,v,!0))!==null&&s!==void 0?s:p)!==null&&a!==void 0?a:0}},o5=(t,e,n,r)=>{var i=kt(t),a,s;return i==="horizontal"?(a=od(t,"xAxis",e,r),s=ad(t,"xAxis",e,r)):(a=od(t,"yAxis",n,r),s=ad(t,"yAxis",n,r)),hy(a,s)};function nre(t,e,n,r,i){var a=r.length;if(!(a<1)){var s=oa(t,n,0,!0),u,c=[];if(mn(r[0].barSize)){var d=!1,h=n/a,p=r.reduce((C,U)=>C+(U.barSize||0),0);p+=(a-1)*s,p>=n&&(p-=(a-1)*s,s=0),p>=n&&h>0&&(d=!0,h*=.9,p=a*h);var g=(n-p)/2>>0,v={offset:g-s,size:0};u=r.reduce((C,U)=>{var M,F={stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:v.offset+v.size+s,size:d?h:(M=U.barSize)!==null&&M!==void 0?M:0}},q=[...C,F];return v=q[q.length-1].position,q},c)}else{var w=oa(e,n,0,!0);n-2*w-(a-1)*s<=0&&(s=0);var S=(n-2*w-(a-1)*s)/a;S>1&&(S>>=0);var A=mn(i)?Math.min(S,i):S;u=r.reduce((C,U,M)=>[...C,{stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:w+(S+s)*M+(S-A)/2,size:A}}],c)}return u}}var rre=(t,e,n,r,i,a,s)=>{var u=$n(s)?e:s,c=nre(n,r,i!==a?i:a,t,u);return i!==a&&c!=null&&(c=c.map(d=>Eg(Eg({},d),{},{position:Eg(Eg({},d.position),{},{offset:d.position.offset-i/2})}))),c},ire=ce([ere,pV,gJ,mV,tre,o5,Wne],rre),are=(t,e,n,r)=>od(t,"xAxis",e,r),ore=(t,e,n,r)=>od(t,"yAxis",n,r),sre=(t,e,n,r)=>ad(t,"xAxis",e,r),lre=(t,e,n,r)=>ad(t,"yAxis",n,r),ure=ce([ire,gp],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),cre=(t,e)=>{var n=Hw(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},dre=ce([Xne,gp],cre),fre=ce([Kn,ow,are,ore,sre,lre,ure,kt,Ow,o5,dre,gp,Yne],(t,e,n,r,i,a,s,u,c,d,h,p,g)=>{var{chartData:v,dataStartIndex:w,dataEndIndex:S}=c;if(!(p==null||s==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||d==null)){var{data:A}=p,C;if(A!=null&&A.length>0?C=A:C=v==null?void 0:v.slice(w,S+1),C!=null)return Fne({layout:u,barSettings:p,pos:s,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:C,offset:t,cells:g,dataStartIndex:w})}}),hre=t=>{var{chartData:e}=t,n=gn(),r=pi();return R.useEffect(()=>r?()=>{}:(n(C2(e)),()=>{n(C2(void 0))}),[e,n,r]),null},gM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},s5=$r({name:"brush",initialState:gM,reducers:{setBrushSettings(t,e){return e.payload==null?gM:e.payload}}}),{setBrushSettings:Ike}=s5.actions,pre=s5.reducer;function mre(t,e,n){return(e=gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gre(t){var e=yre(t,"string");return typeof e=="symbol"?e:e+""}function yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pS{static create(e){return new pS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}mre(pS,"EPS",1e-4);function vre(t){return(t%180+180)%180}var bre=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=vre(i),s=a*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},_re={dots:[],areas:[],lines:[]},l5=$r({name:"referenceElements",initialState:_re,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=aa(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=aa(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=aa(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Rke,removeDot:Nke,addArea:Pke,removeArea:Mke,addLine:Dke,removeLine:Oke}=l5.actions,xre=l5.reducer,Ere=R.createContext(void 0),Tre=t=>{var{children:e}=t,[n]=R.useState("".concat(xh("recharts"),"-clip")),r=n5();if(r==null)return null;var{x:i,y:a,width:s,height:u}=r;return R.createElement(Ere.Provider,{value:n},R.createElement("defs",null,R.createElement("clipPath",{id:n},R.createElement("rect",{x:i,y:a,height:u,width:s}))),e)};function u5(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function wre(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return bre(r,n)}function Sre(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:u}=t;return e===1?{start:r?i:a,end:r?i+s:a+u}:{start:r?i+s:a+u,end:r?i:a}}function By(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Are(t,e){return u5(t,e+1)}function kre(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:u}=e,c=0,d=1,h=s,p=function(){var w=r==null?void 0:r[c];if(w===void 0)return{v:u5(r,d)};var S=c,A,C=()=>(A===void 0&&(A=n(w,S)),A),U=w.coordinate,M=c===0||By(t,U,C,h,u);M||(c=0,h=s,d+=1),M&&(h=U+t*(C()/2+i),c+=d)},g;d<=a.length;)if(g=p(),g)return g.v;return[]}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){Cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cre(t,e,n){return(e=Ire(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Rre(t,"string");return typeof e=="symbol"?e:e+""}function Rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nre(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:u}=e,{end:c}=e,d=function(g){var v=a[g],w,S=()=>(w===void 0&&(w=n(v,g)),w);if(g===s-1){var A=t*(v.coordinate+t*S()/2-c);a[g]=v=mr(mr({},v),{},{tickCoord:A>0?v.coordinate-A*t:v.coordinate})}else a[g]=v=mr(mr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var C=By(t,v.tickCoord,S,u,c);C&&(c=v.tickCoord-t*(S()/2+i),a[g]=mr(mr({},v),{},{isShow:!0}))}},h=s-1;h>=0;h--)d(h);return a}function Pre(t,e,n,r,i,a){var s=(r||[]).slice(),u=s.length,{start:c,end:d}=e;if(a){var h=r[u-1],p=n(h,u-1),g=t*(h.coordinate+t*p/2-d);if(s[u-1]=h=mr(mr({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate}),h.tickCoord!=null){var v=By(t,h.tickCoord,()=>p,c,d);v&&(d=h.tickCoord-t*(p/2+i),s[u-1]=mr(mr({},h),{},{isShow:!0}))}}for(var w=a?u-1:u,S=function(U){var M=s[U],F,q=()=>(F===void 0&&(F=n(M,U)),F);if(U===0){var V=t*(M.coordinate-t*q()/2-c);s[U]=M=mr(mr({},M),{},{tickCoord:V<0?M.coordinate-V*t:M.coordinate})}else s[U]=M=mr(mr({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var D=By(t,M.tickCoord,q,c,d);D&&(c=M.tickCoord+t*(q()/2+i),s[U]=mr(mr({},M),{},{isShow:!0}))}},A=0;A<w;A++)S(A);return s}function Mre(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:u,interval:c,tickFormatter:d,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(ze(c)||np.isSsr){var g;return(g=Are(i,ze(c)?c:0))!==null&&g!==void 0?g:[]}var v=[],w=u==="top"||u==="bottom"?"width":"height",S=h&&w==="width"?lh(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(M,F)=>{var q=typeof d=="function"?d(M.value,F):M.value;return w==="width"?wre(lh(q,{fontSize:e,letterSpacing:n}),S,p):lh(q,{fontSize:e,letterSpacing:n})[w]},C=i.length>=2?oi(i[1].coordinate-i[0].coordinate):1,U=Sre(a,C,w);return c==="equidistantPreserveStart"?kre(C,U,A,i,s):(c==="preserveStart"||c==="preserveStartEnd"?v=Pre(C,U,A,i,s,c==="preserveStartEnd"):v=Nre(C,U,A,i,s),v.filter(M=>M.isShow))}var Dre=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>s&&(s=p.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+a,d=s+c+u+(n?r:0);return Math.round(d)}return 0},Ore=["axisLine","width","height","className","hide","ticks","axisType"];function Lre(t,e){if(t==null)return{};var n,r,i=Ure(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ure(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(null,arguments)}function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){Vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vre(t,e,n){return(e=Fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fre(t){var e=Bre(t,"string");return typeof e=="symbol"?e:e+""}function Bre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ou={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Hr.axis};function jre(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:u,otherSvgProps:c}=t;if(!u)return null;var d=kn(kn(kn({},c),Xs(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);d=kn(kn({},d),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);d=kn(kn({},d),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return R.createElement("line",fu({},d,{className:Ot("recharts-cartesian-axis-line",Qc(u,"className"))}))}function zre(t,e,n,r,i,a,s,u,c){var d,h,p,g,v,w,S=u?-1:1,A=t.tickSize||s,C=ze(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=h=t.coordinate,g=n+ +!u*i,p=g-S*A,w=p-S*c,v=C;break;case"left":p=g=t.coordinate,h=e+ +!u*r,d=h-S*A,v=d-S*c,w=C;break;case"right":p=g=t.coordinate,h=e+ +u*r,d=h+S*A,v=d+S*c,w=C;break;default:d=h=t.coordinate,g=n+ +u*i,p=g+S*A,w=p+S*c,v=C;break}return{line:{x1:d,y1:p,x2:h,y2:g},tick:{x:v,y:w}}}function qre(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Hre(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Gre(t){var{option:e,tickProps:n,value:r}=t,i,a=Ot(n.className,"recharts-cartesian-axis-tick-value");if(R.isValidElement(e))i=R.cloneElement(e,kn(kn({},n),{},{className:a}));else if(typeof e=="function")i=e(kn(kn({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Ot(s,e==null?void 0:e.className)),i=R.createElement(dS,fu({},n,{className:s}),r)}return i}var $re=R.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:u,padding:c,tickTextProps:d,orientation:h,mirror:p,x:g,y:v,width:w,height:S,tickSize:A,tickMargin:C,fontSize:U,letterSpacing:M,getTicksConfig:F,events:q,axisType:V}=t,D=Mre(kn(kn({},F),{},{ticks:n}),U,M),O=qre(h,p),L=Hre(h,p),B=Xs(F),P=zT(r),j={};typeof i=="object"&&(j=i);var H=kn(kn({},B),{},{fill:"none"},j),de=D.map(K=>kn({entry:K},zre(K,g,v,w,S,h,A,p,C))),te=de.map(K=>{var{entry:ae,line:me}=K;return R.createElement(Do,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ae.value,"-").concat(ae.coordinate,"-").concat(ae.tickCoord)},i&&R.createElement("line",fu({},H,me,{className:Ot("recharts-cartesian-axis-tick-line",Qc(i,"className"))})))}),X=de.map((K,ae)=>{var{entry:me,tick:W}=K,Y=kn(kn(kn(kn({textAnchor:O,verticalAnchor:L},B),{},{stroke:"none",fill:a},P),W),{},{index:ae,payload:me,visibleTicksCount:D.length,tickFormatter:s,padding:c},d);return R.createElement(Do,fu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(me.value,"-").concat(me.coordinate,"-").concat(me.tickCoord)},YT(q,me,ae)),r&&R.createElement(Gre,{option:r,tickProps:Y,value:"".concat(typeof s=="function"?s(me.value,ae):me.value).concat(u||"")}))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(V,"-ticks")},X.length>0&&R.createElement(fl,{zIndex:Hr.label},R.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(V,"-tick-labels"),ref:e},X)),te.length>0&&R.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(V,"-tick-lines")},te))}),Kre=R.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:u,axisType:c}=t,d=Lre(t,Ore),[h,p]=R.useState(""),[g,v]=R.useState(""),w=R.useRef(null);R.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return Dre({ticks:w.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=R.useCallback(A=>{if(A){var C=A.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=C;var U=C[0];if(U){var M=window.getComputedStyle(U),F=M.fontSize,q=M.letterSpacing;(F!==h||q!==g)&&(p(F),v(q))}}},[h,g]);return s||r!=null&&r<=0||i!=null&&i<=0?null:R.createElement(fl,{zIndex:t.zIndex},R.createElement(Do,{className:Ot("recharts-cartesian-axis",a)},R.createElement(jre,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Xs(t)}),R.createElement($re,{ref:S,axisType:c,events:d,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),R.createElement(dee,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},R.createElement(xee,{label:t.label,labelRef:t.labelRef}),t.children)))}),mS=R.forwardRef((t,e)=>{var n=ji(t,ou);return R.createElement(Kre,fu({},n,{ref:e}))});mS.displayName="CartesianAxis";var Wre=["domain","range"],Yre=["domain","range"];function bM(t,e){if(t==null)return{};var n,r,i=Jre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _M(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function c5(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=bM(t,Wre),{domain:a,range:s}=e,u=bM(e,Yre);return!_M(n,a)||!_M(r,s)?!1:hS(i,u)}var Xre=["dangerouslySetInnerHTML","ticks"],Qre=["id"];function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(null,arguments)}function xM(t,e){if(t==null)return{};var n,r,i=Zre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eie(t){var e=gn(),n=R.useRef(null);return R.useLayoutEffect(()=>{n.current===null?e(wte(t)):n.current!==t&&e(Ste({prev:n.current,next:t})),n.current=t},[t,e]),R.useLayoutEffect(()=>()=>{n.current&&(e(Ate(n.current)),n.current=null)},[e]),null}var tie=t=>{var{xAxisId:e,className:n}=t,r=Fe(ow),i=pi(),a="xAxis",s=Fe(A=>_d(A,a,e,i)),u=Fe(A=>a6(A,a,e,i)),c=Fe(A=>t6(A,e)),d=Fe(A=>pX(A,e)),h=Fe(A=>wV(A,e));if(c==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=t,v=xM(t,Xre),{id:w}=h,S=xM(h,Qre);return R.createElement(mS,z1({},v,S,{scale:s,x:d.x,y:d.y,width:c.width,height:c.height,className:Ot("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u,axisType:a}))},nie={allowDataOverflow:zn.allowDataOverflow,allowDecimals:zn.allowDecimals,allowDuplicatedCategory:zn.allowDuplicatedCategory,angle:zn.angle,axisLine:ou.axisLine,height:zn.height,hide:!1,includeHidden:zn.includeHidden,interval:zn.interval,minTickGap:zn.minTickGap,mirror:zn.mirror,orientation:zn.orientation,padding:zn.padding,reversed:zn.reversed,scale:zn.scale,tick:zn.tick,tickCount:zn.tickCount,tickLine:ou.tickLine,tickSize:ou.tickSize,type:zn.type,xAxisId:0},rie=t=>{var e=ji(t,nie);return R.createElement(R.Fragment,null,R.createElement(eie,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),R.createElement(tie,e))},d5=R.memo(rie,c5);d5.displayName="XAxis";var iie=["dangerouslySetInnerHTML","ticks"],aie=["id"];function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(null,arguments)}function EM(t,e){if(t==null)return{};var n,r,i=oie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sie(t){var e=gn(),n=R.useRef(null);return R.useLayoutEffect(()=>{n.current===null?e(kte(t)):n.current!==t&&e(Cte({prev:n.current,next:t})),n.current=t},[t,e]),R.useLayoutEffect(()=>()=>{n.current&&(e(Ite(n.current)),n.current=null)},[e]),null}var lie=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=R.useRef(null),s=R.useRef(null),u=Fe(ow),c=pi(),d=gn(),h="yAxis",p=Fe(q=>_d(q,h,e,c)),g=Fe(q=>n6(q,e)),v=Fe(q=>gX(q,e)),w=Fe(q=>a6(q,h,e,c)),S=Fe(q=>SV(q,e));if(R.useLayoutEffect(()=>{if(!(r!=="auto"||!g||fS(i)||R.isValidElement(i)||S==null)){var q=a.current;if(q){var V=q.getCalculatedWidth();Math.round(g.width)!==Math.round(V)&&d(Rte({id:e,width:V}))}}},[w,g,d,i,e,r,S]),g==null||v==null||S==null)return null;var{dangerouslySetInnerHTML:A,ticks:C}=t,U=EM(t,iie),{id:M}=S,F=EM(S,aie);return R.createElement(mS,q1({},U,F,{ref:a,labelRef:s,scale:p,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Ot("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:w,axisType:h}))},uie={allowDataOverflow:qn.allowDataOverflow,allowDecimals:qn.allowDecimals,allowDuplicatedCategory:qn.allowDuplicatedCategory,angle:qn.angle,axisLine:ou.axisLine,hide:!1,includeHidden:qn.includeHidden,interval:qn.interval,minTickGap:qn.minTickGap,mirror:qn.mirror,orientation:qn.orientation,padding:qn.padding,reversed:qn.reversed,scale:qn.scale,tick:qn.tick,tickCount:qn.tickCount,tickLine:ou.tickLine,tickSize:ou.tickSize,type:qn.type,width:qn.width,yAxisId:0},cie=t=>{var e=ji(t,uie);return R.createElement(R.Fragment,null,R.createElement(sie,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),R.createElement(lie,e))},f5=R.memo(cie,c5);f5.displayName="YAxis";var die=(t,e)=>e,gS=ce([die,kt,EV,Ln,x6,Qo,RQ,Kn],UQ),yS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},h5=Ui("mouseClick"),p5=Zh();p5.startListening({actionCreator:h5,effect:(t,e)=>{var n=t.payload,r=gS(e.getState(),yS(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(RX({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var H1=Ui("mouseMove"),m5=Zh(),Tg=null;m5.startListening({actionCreator:H1,effect:(t,e)=>{var n=t.payload;Tg!==null&&cancelAnimationFrame(Tg);var r=yS(n);Tg=requestAnimationFrame(()=>{var i=e.getState(),a=tS(i,i.tooltip.settings.shared);if(a==="axis"){var s=gS(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(h6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(f6())}Tg=null})}});var TM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},g5=$r({name:"rootProps",initialState:TM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:TM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),fie=g5.reducer,{updateOptions:hie}=g5.actions,y5=$r({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Lke}=y5.actions,pie=y5.reducer,v5=Ui("keyDown"),b5=Ui("focus"),vS=Zh();vS.startListening({actionCreator:v5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=nS(i,Ed(n),up(n),pp(n)),u=s==null?-1:Number(s);if(!(!Number.isFinite(u)||u<0)){var c=Qo(n);if(a==="Enter"){var d=Dy(n,"axis","hover",String(i.index));e.dispatch(O1({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=_X(n),p=h==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,v=u+g*p;if(!(c==null||v>=c.length||v<0)){var w=Dy(n,"axis","hover",String(v));e.dispatch(O1({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});vS.startListening({actionCreator:b5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Dy(n,"axis","hover",String(a));e.dispatch(O1({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ri=Ui("externalEvent"),_5=Zh(),gE=new Map;_5.startListening({actionCreator:Ri,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=gE.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var u=e.getState(),c={activeCoordinate:mQ(u),activeDataKey:S6(u),activeIndex:sd(u),activeLabel:w6(u),activeTooltipIndex:sd(u),isTooltipActive:gQ(u)};n(c,r)}finally{gE.delete(i)}});gE.set(i,s)}}});var mie=ce([xd],t=>t.tooltipItemPayloads),gie=ce([mie,fp,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),x5=Ui("touchMove"),E5=Zh();E5.startListening({actionCreator:x5,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=tS(r,r.tooltip.settings.shared);if(i==="axis"){var a=gS(r,yS({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(h6({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,u=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(f7),h=(s=c.getAttribute(h7))!==null&&s!==void 0?s:void 0,p=gie(e.getState(),d,h);e.dispatch(d6({activeDataKey:h,activeIndex:d,activeCoordinate:p}))}}}});var yie=x3({brush:pre,cartesianAxis:Nte,chartData:mZ,errorBars:Gte,graphicalItems:yte,layout:KG,legend:l$,options:cZ,polarAxis:Uee,polarOptions:pie,referenceElements:xre,rootProps:fie,tooltip:NX,zIndex:XQ}),vie=function(e){return vG({reducer:yie,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([p5.middleware,m5.middleware,vS.middleware,_5.middleware,E5.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(L3({type:"raf"}))},devTools:np.devToolsEnabled})};function bie(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=pi(),a=R.useRef(null);if(i)return n;a.current==null&&(a.current=vie(e));var s=XT;return R.createElement(mne,{context:s,store:a.current},n)}function _ie(t){var{layout:e,margin:n}=t,r=gn(),i=pi();return R.useEffect(()=>{i||(r(HG(e)),r(qG(n)))},[r,i,e,n]),null}var xie=R.memo(_ie,hS);function Eie(t){var e=gn();return R.useEffect(()=>{e(hie(t))},[e,t]),null}function wM(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=Z6("".concat(r).concat(e)),a=gn();return R.useLayoutEffect(()=>(a(YQ({zIndex:e,elementId:i,isPanorama:n})),()=>{a(JQ({zIndex:e,isPanorama:n}))}),[a,e,i,n]),R.createElement("g",{tabIndex:-1,id:i})}function SM(t){var{children:e,isPanorama:n}=t,r=Fe(FQ);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return R.createElement(R.Fragment,null,i.map(s=>R.createElement(wM,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>R.createElement(wM,{key:s,zIndex:s,isPanorama:n})))}var Tie=["children"];function wie(t,e){if(t==null)return{};var n,r,i=Sie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jy.apply(null,arguments)}var Aie={width:"100%",height:"100%",display:"block"},kie=R.forwardRef((t,e)=>{var n=H7(),r=G7(),i=uU();if(!Qs(n)||!Qs(r))return null;var{children:a,otherAttributes:s,title:u,desc:c}=t,d,h;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),R.createElement(V4,jy({},s,{title:u,desc:c,role:h,tabIndex:d,width:n,height:r,style:Aie,ref:e}),a)}),Cie=t=>{var{children:e}=t,n=Fe(Pv);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return R.createElement(V4,{width:r,height:i,x:s,y:a},e)},AM=R.forwardRef((t,e)=>{var{children:n}=t,r=wie(t,Tie),i=pi();return i?R.createElement(Cie,null,R.createElement(SM,{isPanorama:!0},n)):R.createElement(kie,jy({ref:e},r),R.createElement(SM,{isPanorama:!1},n))});function Iie(){var t=gn(),[e,n]=R.useState(null),r=Fe(d7);return R.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;mn(a)&&a!==r&&t($G(a))}},[e,t,r]),n}function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){Nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nie(t,e,n){return(e=Pie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pie(t){var e=Mie(t,"string");return typeof e=="symbol"?e:e+""}function Mie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(null,arguments)}var Die=()=>(wZ(),null);function zy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Oie=R.forwardRef((t,e)=>{var n,r,i=R.useRef(null),[a,s]=R.useState({containerWidth:zy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:zy((r=t.style)===null||r===void 0?void 0:r.height)}),u=R.useCallback((d,h)=>{s(p=>{var g=Math.round(d),v=Math.round(h);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),c=R.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=d.getBoundingClientRect();u(h,p);var g=w=>{var{width:S,height:A}=w[0].contentRect;u(S,A)},v=new ResizeObserver(g);v.observe(d),i.current=v}},[e,u]);return R.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[u]),R.createElement(R.Fragment,null,R.createElement(Ov,{width:a.containerWidth,height:a.containerHeight}),R.createElement("div",hu({ref:c},t)))}),Lie=R.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=R.useState({containerWidth:zy(n),containerHeight:zy(r)}),s=R.useCallback((c,d)=>{a(h=>{var p=Math.round(c),g=Math.round(d);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),u=R.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:h}=c.getBoundingClientRect();s(d,h)}},[e,s]);return R.createElement(R.Fragment,null,R.createElement(Ov,{width:i.containerWidth,height:i.containerHeight}),R.createElement("div",hu({ref:u},t)))}),Uie=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return R.createElement(R.Fragment,null,R.createElement(Ov,{width:n,height:r}),R.createElement("div",hu({ref:e},t)))}),Vie=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return Oo(n)||Oo(r)?R.createElement(Lie,hu({},t,{ref:e})):R.createElement(Uie,hu({},t,{ref:e}))});function Fie(t){return t===!0?Oie:Vie}var Bie=R.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:u,onMouseDown:c,onMouseEnter:d,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:v,onTouchMove:w,onTouchStart:S,style:A,width:C,responsive:U,dispatchTouchEvents:M=!0}=t,F=R.useRef(null),q=gn(),[V,D]=R.useState(null),[O,L]=R.useState(null),B=Iie(),P=sw(),j=(P==null?void 0:P.width)>0?P.width:C,H=(P==null?void 0:P.height)>0?P.height:i,de=R.useCallback(fe=>{B(fe),typeof e=="function"&&e(fe),D(fe),L(fe),fe!=null&&(F.current=fe)},[B,e,D,L]),te=R.useCallback(fe=>{q(h5(fe)),q(Ri({handler:a,reactEvent:fe}))},[q,a]),X=R.useCallback(fe=>{q(H1(fe)),q(Ri({handler:d,reactEvent:fe}))},[q,d]),K=R.useCallback(fe=>{q(f6()),q(Ri({handler:h,reactEvent:fe}))},[q,h]),ae=R.useCallback(fe=>{q(H1(fe)),q(Ri({handler:p,reactEvent:fe}))},[q,p]),me=R.useCallback(()=>{q(b5())},[q]),W=R.useCallback(fe=>{q(v5(fe.key))},[q]),Y=R.useCallback(fe=>{q(Ri({handler:s,reactEvent:fe}))},[q,s]),se=R.useCallback(fe=>{q(Ri({handler:u,reactEvent:fe}))},[q,u]),$=R.useCallback(fe=>{q(Ri({handler:c,reactEvent:fe}))},[q,c]),ee=R.useCallback(fe=>{q(Ri({handler:g,reactEvent:fe}))},[q,g]),ye=R.useCallback(fe=>{q(Ri({handler:S,reactEvent:fe}))},[q,S]),_e=R.useCallback(fe=>{M&&q(x5(fe)),q(Ri({handler:w,reactEvent:fe}))},[q,M,w]),Se=R.useCallback(fe=>{q(Ri({handler:v,reactEvent:fe}))},[q,v]),He=Fie(U);return R.createElement(P6.Provider,{value:V},R.createElement(Xq.Provider,{value:O},R.createElement(He,{width:j??(A==null?void 0:A.width),height:H??(A==null?void 0:A.height),className:Ot("recharts-wrapper",r),style:Rie({position:"relative",cursor:"default",width:j,height:H},A),onClick:te,onContextMenu:Y,onDoubleClick:se,onFocus:me,onKeyDown:W,onMouseDown:$,onMouseEnter:X,onMouseLeave:K,onMouseMove:ae,onMouseUp:ee,onTouchEnd:Se,onTouchMove:_e,onTouchStart:ye,ref:de},R.createElement(Die,null),n)))}),jie=["width","height","responsive","children","className","style","compact","title","desc"];function zie(t,e){if(t==null)return{};var n,r,i=qie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hie=R.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:u,compact:c,title:d,desc:h}=t,p=zie(t,jie),g=Xs(p);return c?R.createElement(R.Fragment,null,R.createElement(Ov,{width:n,height:r}),R.createElement(AM,{otherAttributes:g,title:d,desc:h},a)):R.createElement(Bie,{className:s,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},R.createElement(AM,{otherAttributes:g,title:d,desc:h,ref:e},R.createElement(Tre,null,a)))});function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G1.apply(null,arguments)}var Gie={top:5,right:5,bottom:5,left:5},$ie={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Gie,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Kie=R.forwardRef(function(e,n){var r,i=ji(e.categoricalChartProps,$ie),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,h={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return R.createElement(bie,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},R.createElement(hre,{chartData:d.data}),R.createElement(xie,{layout:i.layout,margin:i.margin}),R.createElement(Eie,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),R.createElement(Hie,G1({},i,{ref:n})))}),Wie=["axis","item"],Yie=R.forwardRef((t,e)=>R.createElement(Kie,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Wie,tooltipPayloadSearcher:lZ,categoricalChartProps:t,ref:e}));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jie=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xie=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),CM=t=>{const e=Xie(t);return e.charAt(0).toUpperCase()+e.slice(1)},T5=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Qie=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...u},c)=>R.createElement("svg",{ref:c,...Zie,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:T5("lucide",i),...!a&&!Qie(u)&&{"aria-hidden":"true"},...u},[...s.map(([d,h])=>R.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,e)=>{const n=R.forwardRef(({className:r,...i},a)=>R.createElement(eae,{ref:a,iconNode:e,className:T5(`lucide-${Jie(CM(t))}`,`lucide-${t}`,r),...i}));return n.displayName=CM(t),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],nae=Re("activity",tae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],iae=Re("arrow-down",rae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],w5=Re("arrow-left",aae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],S5=Re("arrow-right",oae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],lae=Re("arrow-up",sae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],cae=Re("beaker",uae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],fae=Re("book-open",dae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],pae=Re("calendar-clock",hae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gae=Re("calendar",mae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],$1=Re("car",yae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],t0=Re("check",vae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],A5=Re("chevron-down",bae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],xae=Re("chevron-left",_ae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],k5=Re("chevron-right",Eae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],wae=Re("chevron-up",Tae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Aae=Re("circle-alert",Sae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],el=Re("circle-check",kae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Iae=Re("circle-x",Cae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uh=Re("circle",Rae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Pae=Re("coins",Nae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],Dae=Re("construction",Mae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Lae=Re("database",Oae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vae=Re("download",Uae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],K1=Re("external-link",Fae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jae=Re("eye",Bae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bS=Re("file-text",zae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Hae=Re("flag",qae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],$ae=Re("fuel",Gae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_S=Re("image",Kae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Yae=Re("layers",Wae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Xae=Re("layout-dashboard",Jae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],IM=Re("lightbulb",Qae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],eoe=Re("link",Zae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],C5=Re("list-checks",toe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Td=Re("loader-circle",noe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const roe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xS=Re("lock",roe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],I5=Re("log-out",ioe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],RM=Re("mail",aoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],soe=Re("map-pin",ooe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const loe=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],uoe=Re("map",loe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}]],doe=Re("message-square-more",coe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],W1=Re("message-square",foe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],poe=Re("mic-off",hoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],goe=Re("mic",moe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],voe=Re("moon",yoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],R5=Re("paperclip",boe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],xoe=Re("pen-tool",_oe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Toe=Re("pen",Eoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],Soe=Re("phone-off",woe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Uc=Re("plus",Aoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],N5=Re("save",koe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],NM=Re("scale",Coe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Y1=Re("search",Ioe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],P5=Re("send",Roe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],M5=Re("settings",Noe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],D5=Re("shopping-bag",Poe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Vc=Re("sparkles",Moe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],PM=Re("square-check-big",Doe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],MM=Re("stethoscope",Ooe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Uoe=Re("sun",Loe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fc=Re("trash-2",Voe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Boe=Re("triangle-alert",Foe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],zoe=Re("upload",joe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],O5=Re("user",qoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Goe=Re("video-off",Hoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],L5=Re("video",$oe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Woe=Re("wallet",Koe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],U5=Re("wrench",Yoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yp=Re("x",Joe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qoe=Re("zap",Xoe),Zoe={regNo:"JSN398",make:"Volkswagen",model:"LT 31 Skp",year:1976,prodYear:1976,regDate:"1978-02-14",status:"Avstlld (sedan 2025-11-04)",bodyType:"Skp Bostadsinredning",passengers:3,inspection:{last:"2025-08-13",mileage:"3 368 mil (Troligen slagit om, 13k/23k mil?)",next:"Oknd"},engine:{fuel:"Bensin",power:"75 HK / 55 kW",volume:"2.0L (Audi 100 motor)"},gearbox:"Manuell",wheels:{drive:"2WD (Bakhjulsdrift)",tiresFront:"215R14",tiresRear:"215R14",boltPattern:"5x160"},dimensions:{length:5400,width:1980,height:"Oknd",wheelbase:2500},weights:{curb:2280,total:3160,load:880,trailer:1400,trailerB:750},vin:"2862500058",color:"Flerfrgad",history:{owners:22,events:38,lastOwnerChange:"2023-06-28"}},ese=[{id:"s1",name:"Kamremssats (Contitech CT637K1)",category:"Reservdelar",estimatedCost:800,quantity:"1 st",checked:!1,url:"https://www.autodoc.se/contitech/1210452",linkedTaskId:"4"},{id:"s2",name:"Vattenpump (Metallimpeller)",category:"Reservdelar",estimatedCost:400,quantity:"1 st",checked:!1,url:"https://www.autodoc.se/hepu/2283285",linkedTaskId:"4"},{id:"s3",name:"Packbox Kamaxel (32x47x10 FPM)",category:"Reservdelar",estimatedCost:100,quantity:"1 st",checked:!1,url:"https://www.autodoc.se/elring/985552"},{id:"s4",name:"Packbox Vevaxel Fram (35x48x10 PTFE)",category:"Reservdelar",estimatedCost:100,quantity:"1 st",checked:!1,url:"https://www.autodoc.se/elring/985148"},{id:"s5",name:"Ventilkpspackning (Kork)",category:"Reservdelar",estimatedCost:150,quantity:"1 sats",checked:!1,url:"https://www.autodoc.se/reinz/7441225",linkedTaskId:"5"},{id:"s6",name:"Kilrem (10x1013mm)",category:"Reservdelar",estimatedCost:100,quantity:"1 st",checked:!1,url:"https://www.autodoc.se/contitech/210352"},{id:"s7",name:"Motorolja 10W-40 (Mineral)",category:"Kemi & Frg",estimatedCost:500,quantity:"5 liter",checked:!1,store:"Biltema",linkedTaskId:"5"},{id:"s8",name:"Oljefilter",category:"Reservdelar",estimatedCost:100,quantity:"1 st",checked:!1,url:"https://www.autodoc.se/mahle-original/2683076",linkedTaskId:"5"},{id:"s9",name:"Vxelldsolja 80W-90 GL-4",category:"Kemi & Frg",estimatedCost:300,quantity:"2 liter",checked:!1,store:"Swedol",linkedTaskId:"5"},{id:"s10",name:"Bakaxelolja 80W-90 GL-5",category:"Kemi & Frg",estimatedCost:300,quantity:"2 liter",checked:!1,store:"Swedol"},{id:"s11",name:"Kylarvtska (G11 Bl)",category:"Kemi & Frg",estimatedCost:200,quantity:"3 liter",checked:!1,store:"Biltema"},{id:"s12",name:"Tndstift (Bosch W7DTC)",category:"Reservdelar",estimatedCost:200,quantity:"4 st",checked:!1,url:"https://www.autodoc.se/bosch/1148182",linkedTaskId:"5"},{id:"s13",name:"Brnsleslang SAE J30 R9 (7.5mm)",category:"Reservdelar",estimatedCost:150,quantity:"2 meter",checked:!1,store:"Mekonomen"},{id:"s14",name:"Slangklmmor (ABA Original)",category:"Verktyg",estimatedCost:300,quantity:"10-pack",checked:!1,store:"Swedol"},{id:"s15",name:"Kylarslang Nedre (Armerad/Spiral)",category:"Reservdelar",estimatedCost:200,quantity:"1 st",checked:!1,store:"Biltema"},{id:"s16",name:"Startbatteri (75Ah)",category:"Reservdelar",estimatedCost:1400,quantity:"1 st",checked:!1,store:"Biltema",linkedTaskId:"2"},{id:"s17",name:"Plt (1.5mm - fr balk)",category:"vrigt",estimatedCost:300,quantity:"1 ark",checked:!1,linkedTaskId:"1"},{id:"s18",name:"Linolja (R kallpressad)",category:"Kemi & Frg",estimatedCost:500,quantity:"1 liter",checked:!1,linkedTaskId:"8"}],tse=[{id:"0-1",title:"Inspektion & Provkrning",description:"Provkrning (Sndag). Mta fukt med Meec-mtare (kolla reglar), provstarta (kall motor), kolla rost i balkar.",status:_t.DONE,phase:pr.PLANNING,priority:rr.HIGH,sprint:"Sprint 0: Inkp",estimatedCostMin:500,estimatedCostMax:1e3,actualCost:800,weightKg:0,costType:Vr.OPERATION,tags:["Analys","Kp"],links:[],comments:[],attachments:[],decisionOptions:[],subtasks:[]},{id:"0-2",title:'Inkp av "Elton"',description:"Betalning och garbyte via Transportstyrelsen-appen (5/12). Nu r den vr!",status:_t.DONE,phase:pr.PLANNING,priority:rr.HIGH,sprint:"Sprint 0: Inkp",estimatedCostMin:3e4,estimatedCostMax:3e4,actualCost:3e4,weightKg:0,costType:Vr.INVESTMENT,tags:["Inkp","Milstolpe"],links:[],comments:[],attachments:[],decisionOptions:[],subtasks:[]},{id:"0-3",title:"Hemtransport till Falun",description:"Den frsta stora resan. En kritisk transport d bilen inte r fullt genomgngen n. Kr frsiktigt!",status:_t.TODO,phase:pr.PLANNING,priority:rr.HIGH,sprint:"Sprint 0: Inkp",estimatedCostMin:1e3,estimatedCostMax:1500,actualCost:0,weightKg:0,costType:Vr.OPERATION,tags:["Transport","Skerhet"],links:[],comments:[],attachments:[],decisionOptions:[],subtasks:[{id:"st1",title:" Kolla Status: Avstlld! Fixa pstllning.",completed:!1},{id:"st2",title:" Brande Balk: Kr extremt lugnt (Prio 1).",completed:!1},{id:"st3",title:" Kamrem: Kritisk! Undvik hga varv.",completed:!1},{id:"st4",title:" Kylsystem: Hll koll p tempen. Ha med vatten.",completed:!1},{id:"st5",title:" El: Startar den plitligt?",completed:!1},{id:"st6",title:" Dck: Kolla bultmnster (5x160) och luft.",completed:!1},{id:"st7",title:" Styrning: Kan vara trg pga spindelbultar.",completed:!1},{id:"st8",title:" Ndutrustning: Verktyg, olja, bogserlina.",completed:!1}]},{id:"0-4",title:"Bestll Dck (Delsbo Dck)",description:`Ring Dckab (Euromaster) i Delsbo p 0653-108 95 (eller 070-226 31 51).
ppet: Mn-Fre 07:30-16:30 (Lunch 12-13).
Adress: Sunnansjvgen 3.

**MANUS NR DU RINGER:**
"Hej, jag har en VW LT31 (Regnr JSN398).
Jag behver 4st ret Runt-dck (C-dck) monterade p min bil.
Dimension: 215 R14 C (eller 205 R14 C).
Viktigt: De mste ha Alptopp/Snflinga-symbolen (3PMSF) s de r lagliga p vintern."

Om du inte har nya flgar: "Montering p bilens originalflgar."`,status:_t.TODO,phase:pr.PLANNING,priority:rr.HIGH,sprint:"Sprint 0: Inkp",estimatedCostMin:4e3,estimatedCostMax:6e3,actualCost:0,weightKg:0,costType:Vr.OPERATION,tags:["Dck","Skerhet","Inkp"],links:[],comments:[],attachments:[],decisionOptions:[],subtasks:[{id:"st1",title:" Ring Dckab (0653-108 95)",completed:!1},{id:"st2",title:" Bekrfta dimension (215 R14 C)",completed:!1},{id:"st3",title:" Bekrfta snflinga/alptopp (3PMSF)",completed:!1},{id:"st4",title:" Boka tid fr montering",completed:!1}]},{id:"1",title:"Laga rostig balk (Yttre - Ej brande)",description:"Detta r inte den brande ramen, utan yttre balk. Kan vnta till nsta ssong. Hll koll s det inte sprider sig.",status:_t.TODO,phase:pr.BODY,priority:rr.LOW,sprint:"Sommar/Hst",estimatedCostMin:300,estimatedCostMax:1e4,actualCost:0,weightKg:5,costType:Vr.INVESTMENT,tags:["Rost","Kaross"],links:[],comments:[],attachments:[],subtasks:[],decisionOptions:[{id:"d1a",title:"Gra sjlv (Svetsa)",description:"Krver svetskunskaper. Kapa bort sjukt stl och svetsa dit nytt (1.5-2mm plt).",costRange:"300  500 kr",pros:["Extremt billigt","Lrorikt"],cons:["Krver kunskap & utrustning","Tar tid"]},{id:"d1b",title:"Leja ut (Verkstad)",description:"Jobb fr mekanisk verkstad eller rostsvetsare.",costRange:"4 000  10 000 kr",pros:["Proffsresultat","Tidsbesparande","Skert"],cons:["Dyrt","Kan vara svrt att hitta tid"]}]},{id:"2",title:"Installera nytt startbatteri",description:"Prio 1: Utan el, ingen bil. Enkelt fixat nu nr du hittat rtt batteri.",status:_t.TODO,phase:pr.ACUTE,priority:rr.HIGH,sprint:"Sprint 1: Besiktning",estimatedCostMin:1200,estimatedCostMax:1600,actualCost:0,weightKg:20,costType:Vr.OPERATION,tags:["Prio 1","El"],links:[],comments:[],attachments:[],subtasks:[],decisionOptions:[{id:"d2a",title:"Gra sjlv",description:"Enkel montering av batteri.",costRange:"1 200  1 600 kr (Endast material)",pros:["Enkelt","Gratis arbete"],cons:[],recommended:!0},{id:"d2b",title:"Leja ut",description:"Verkstad gr det.",costRange:"+ 500-800 kr arbetskostnad",pros:[],cons:["Ondig kostnad"]}]},{id:"4",title:"Kamrem & Vattenpump",description:"Kritisk punkt! Kr ej lngt innan detta r gjort. Om remmen gr av r motorn skrot.",status:_t.TODO,phase:pr.MECHANICAL,priority:rr.HIGH,sprint:"Sprint 2: Motorrddning",estimatedCostMin:5e3,estimatedCostMax:7e3,actualCost:0,weightKg:3,costType:Vr.OPERATION,tags:["Verkstad","Kritisk"],links:[],comments:[],attachments:[],subtasks:[],decisionOptions:[]},{id:"5",title:"Stor Service",description:"Oljebyte (10W-40/15W-40), Oljefilter, Luftfilter, Brnslefilter.",status:_t.TODO,phase:pr.MECHANICAL,priority:rr.MEDIUM,sprint:"Sprint 2: Motorrddning",estimatedCostMin:1500,estimatedCostMax:1500,actualCost:0,weightKg:5,costType:Vr.OPERATION,tags:["Service","Gr sjlv"],links:[],comments:[],attachments:[],subtasks:[],decisionOptions:[]},{id:"3",title:"Fixa sidoskjutdrren",description:"Prio 2: Subakut. Kraftig rostskada i nederkant. Om drren hnger snett eller r ott trnger fukt in.",status:_t.TODO,phase:pr.BODY,priority:rr.MEDIUM,estimatedCostMin:500,estimatedCostMax:1e4,actualCost:0,weightKg:20,costType:Vr.INVESTMENT,tags:["Prio 2","Kaross"],links:[],comments:[],attachments:[],subtasks:[],decisionOptions:[{id:"d3a",title:"Laga befintlig drr",description:"Svetsa och spackla den gamla.",costRange:"DIY: 500kr / Proffs: 5-10k",pros:["Behller originaldel"],cons:["Tidskrvande","Ofta dyrt att leja bort","Kan rosta igen"]},{id:"d3b",title:"Byta drr (Begagnad)",description:"Hitta frisk drr p bildelsbasen/Facebook.",costRange:"1 500  3 500 kr",pros:["Snabbare","Bttre resultat","Enklare"],cons:["Krver att man hittar en drr"],recommended:!0}]},{id:"8",title:"Rostskydda underredet",description:"Prio 2: OBS! Grs EFTER svetsning. Linoljebaserat r bst p gamla bilar d det kryper in i rosten.",status:_t.TODO,phase:pr.BODY,priority:rr.MEDIUM,estimatedCostMin:1500,estimatedCostMax:15e3,actualCost:0,weightKg:5,costType:Vr.INVESTMENT,tags:["Prio 2","Underhll"],links:[],comments:[],attachments:[],subtasks:[],decisionOptions:[{id:"d8a",title:"Gra sjlv (Linolja)",description:"Tryckluftsspruta och r kallpressad linolja.",costRange:"1 500  2 500 kr",pros:["Billigt","Bra skydd"],cons:["Grisigt jobb","Krver kompressor/spruta"]},{id:"d8b",title:"Leja ut (Proffs)",description:"Dinitrol/Mercasol behandling.",costRange:"8 000  15 000 kr",pros:["Bekvmt","Grundligt"],cons:["Dyrt","Vissa massor kan dlja rost"]}]}],nse=[{id:"s1",date:"2025-08-13",description:"Kontrollbesiktning (Godknd)",mileage:"3 368 mil",performer:"Bilprovningen",type:"Besiktning"}],wg={id:"demo-elton",name:"Elton (VW LT31)",vehicleData:Zoe,tasks:tse,shoppingItems:ese,serviceLog:nse,fuelLog:[],created:"2025-01-01",lastModified:"2025-01-01",isDemo:!0},rse={id:"",name:"Nytt Projekt",vehicleData:{regNo:"",make:"",model:"",year:0,prodYear:0,regDate:"",status:"",bodyType:"",passengers:0,inspection:{last:"",mileage:"",next:""},engine:{fuel:"",power:"",volume:""},gearbox:"",wheels:{drive:"",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:0,events:0,lastOwnerChange:""}},tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],created:"",lastModified:""},ise=[{category:"Manualer & Info",title:"Haynes Manual VW LT (1976-1987)",url:"https://haynes.com",description:"Bibeln fr hemma-mekaniker. Ett mste i handskfacket."},{category:"Manualer & Info",title:"LT-Freunde (Tyskt Forum)",url:"https://www.lt-freunde.de",description:"Vrldens strsta kunskapsbank fr LT1. Anvnd Google Translate."},{category:"Delar & Kp",title:"Bildelsbasen",url:"https://www.bildelsbasen.se",description:"Sk p begagnade delar i Sverige. Bra fr drrar och kaross."},{category:"Delar & Kp",title:"Brickwerks (UK)",url:"https://brickwerks.co.uk",description:"Specialister p VW-bussar. Har ofta svra delar till LT."},{category:"Delar & Kp",title:"VW Classic Parts",url:"https://www.volkswagen-classic-parts.com",description:"Volkswagens egna lager fr veteranbilar."},{category:"Delar & Kp",title:"eBay Tyskland (eBay.de)",url:"https://www.ebay.de",description:'Sk p "VW LT 31" hr. Tyskland har mest delar.'}],ES=[{id:"odo-tech",title:"Teknisk Utredning: Vgmtarens Mekanik & Begrnsningar",summary:"En djupdykning i varfr din mtare bara visar 5 siffror och hur du vet hur lngt bilen egentligen gtt.",tags:["Historia","Mekanik","Kprd"],content:`
# Teknisk Utredning: Vgmtarens Mekanik, Begrnsningar och Historisk Kontext i Volkswagen LT Mk1 (19761980)

## Sammanfattning
Denna forskningsrapport utgr en uttmmande analys av instrumenteringen i Volkswagen LT-serien, specifikt modell LT31 tillverkad mellan 1976 och 1980. Baserat p en omfattande genomgng av tekniska manualer, reservdelskataloger, historiska fordonsdata och diskussionsforum fr entusiaster, faststller rapporten att standardutfrandet av vgmtaren (odometern) i denna fordonsgeneration r av en fem-siffrig mekanisk konstruktion.

Detta innebr att mtaren tekniskt sett endast kan registrera en krstrcka upp till **99 999 kilometer** (eller miles, beroende p marknad). Vid verskridande av detta vrde sker en mekanisk "nollstllning" (rollover) dr verket tergr till 00 000. Rapporten belyser ven undantag, ssom fordon utrustade med frdskrivare (tachograf) av mrket Kienzle, vilka nyttjar sex siffror.

---

## 1. Introduktion: Volkswagen LT och Den Tunga Transportens Era
### 1.1 Uppkomsten av "Lasten-Transporter" (Typ 28/31/35)
Lanseringen av Volkswagen LT (Lasten-Transporter) i april 1975 markerade en radikal frndring i Volkswagens strategi fr kommersiella fordon. Dr den tidigare Typ 2 (Transportern) frlitade sig p en svansmonterad, luftkyld boxermotor, konstruerades LT-serien med en frontmonterad, vtskekyld motor placerad mellan frar- och passagerarstet i en "cab-over"-design.

### 1.2 Filosofin bakom 1970-talets Instrumentering
Under 1970-talet rdde en annan syn p ltta lastbilars livscykel jmfrt med idag. Industristandarden antog ofta att en skpbil skulle genomg en totalrenovering eller skrotas innan den ndde astronomiska miltal. Detta synstt ledde till beslutet att utrusta standardmodellerna av LT28, LT31 och LT35 med en mtare begrnsad till fem heltalssiffror.

---

## 2. Teknisk Analys av VDO-Instrumenthuset
### 2.1 Konstruktion och Design
Instrumentklustret i en LT31 frn perioden 19761980 domineras av en stor central hastighetsmtare. Mtaren r helt analog och mekanisk. Den drivs av en flexibel vajer (hastighetsmtarvajer) som kopplas fysiskt till vxelldans utgende axel.

### 2.2 Bekrftelse av Fem-Siffrig Begrnsning
Den centrala frgestllningen gller huruvida mtaren gr till 99 999 eller 999 999. Analysen ger ett entydigt svar fr standardmodellen: **Fem siffror**.

**Den "Sjtte Siffran"  En Klla till Frvirring**
Mnga gare rapporterar att deras mtare faktiskt har sex siffror. Det r hr avgrande att skilja p heltalssiffror och decimaler. Standardkonfigurationen visar fem svarta siffror. Om en sjtte siffra finns lngst till hger, r den oftast rd eller vit. Denna siffra representerar **100 meter** (1/10 km), inte 100 000 km.

---

## 3. Fenomenet "Rollover": Mekanik och Psykologi
### 3.1 Den Mekaniska Processen
Nr mtaren visar 99 999, r alla trummor positionerade p sin sista siffra. Vid nsta kilometer driver mekanismen entalssiffran till 0. Denna rrelse fortplantas genom hela kedjan och tvingar alla trummor att rotera till 0 samtidigt.

### 3.2 Varfr 99 999?
* **Kostnad**: Att spara in en siffertrumma snkte produktionskostnaden.
* **Livslngdsfrvntan**: 1970-talets bensinmotorer krvde ttare serviceintervaller. Att en tungt lastad 2.0L motor skulle g 20-30 000 mil utan renovering var inte normen.

---

## 4. Att Faststlla Sann Krstrcka (TMU)
Fr gare av en LT31 frn 19761980 innebr detta att mtarstllningen sllan kan tas fr sanning. En mtare som visar "45 000 km" kan i verkligheten vara 145 000, 245 000 eller 345 000 km.

### 4.2 Fysiska Slitagesignaler
* **Pedalgummi**: Vid 100 000 km br mnstret vara synligt slitet. Vid 200 000 km r det ofta nedslitet till metallen.
* **Rattkrans**: Vid hga miltal (>150 000 km) poleras texturen bort och ratten blir blank och hal.
* **Steskldsel**: Frarstolens yttre sida slits hrt vid in- och urstigning p en LT.

---

## 5. Slutsats
Svaret p den specifika frgan r att vgmtaren p en Volkswagen LT31 frn ren 19761980 gr till **99 999 kilometer** innan den mekaniskt brjar om p noll. Att en LT31 visar "lga mil" r sllan hela sanningen  det r ofta bara brjan p mtarens andra eller tredje livscykel.
        `},{id:"tech-analysis-jsn398",title:"Fordonsteknisk Analys & Historik: JSN398",summary:"En detaljerad rapport om just din bils motor (CH), chassinummer och specifika underhllskrav.",tags:["Specifikation","Motor","Underhll"],content:`
# Fordonsteknisk Analys och Historisk Utredning: Volkswagen LT31 (Registreringsnummer JSN398)

## 1. Exekutiv Sammanfattning
Denna rapport utgr en djupgende teknisk och historisk analys av fordonet JSN398, en VW LT31 av 1976 rs modell. Analysen baseras p chassinumret 2862500058. Fordonet r en "Series 1"-bil utrustad med den vtskekylda 2,0-liters bensinmotorn (kod CH), en konstruktion som delas med Audi 100 och Porsche 924.

---

## 2. Avkodning av Identitet
**Chassinummer: 2862500058**
* **"28"**: Typ 28 (LT-serien).
* **"6"**: Modellr 1976.
* **"2"**: Karossversion.
* **"500058"**: Tillverkad vid huvudfabriken i Hannover.

---

## 3. Drivlinans Ingenjrskonst: Motor CH
Motor CH tillhr motorfamiljen EA831. Det r en 2,0-liters, fyrcylindrig radmotor (SOHC).

### 3.3 Ventiljustering: Det Kritiska Shims-systemet
En av de mest missfrstdda aspekterna av CH-motorn. Den anvnder mekaniska tryckare med justerbrickor (shims).
* **Insugets ventilspel**: 0,15  0,25 mm
* **Avgasets ventilspel**: 0,35  0,45 mm
* **Varning**: Justeras EJ med skruv! Krver shims-sats och specialverktyg. Frsummas detta brnns ventilerna snder.

---

## 4. Brnsle & Tndning
* **Frgasare**: Solex 35 PDSIT-5. Knd fr problem med automatchoken.
* **Tndsystem**: Brytarspetsar (0,4 mm). Tndinstllning 7,5 FD.

---

## 5. Transmission & Vtskor (Viktigt!)
* **Vxellda (4-vxlad)**: MSTE ha **GL-4** olja (SAE 80W-90). GL-5 korroderar synkroniseringsringarna.
* **Bakaxel**: MSTE ha **GL-5** olja (SAE 80W-90).

---

## 6. Reservdelsstrategi
D motorn delas med Audi och Porsche, sk delar till:
* **Audi 100 2.0 (1976)**
* **Porsche 924 2.0**
Detta ger tillgng till delar som inte listas under "VW LT".

---

## 8. Sammanfattande Datatabell fr JSN398
| Datapunkt | Specifikation | Notering |
|---|---|---|
| Motor | 2.0L Bensin (Kod: CH) | Audi-design |
| Effekt | 75 hk (55 kW) | Vid 4300 v/min |
| Ventilspel (Kall) | Insug: 0.15-0.25 | Avgas: 0.35-0.45 |
| Tndstift | Bosch W7DTC / NGK BP6ET | |
| Motorolja | 10W-40 Mineral | Volym ca 4.5L |
| Vxelldsolja | SAE 80W-90 **GL-4** | EJ GL-5! |
| Bakaxelolja | SAE 80W-90 **GL-5** | |
        `},{id:"mechanic-guide",title:"Guide: Hitta Rtt Mekaniker & Serviceplan",summary:'Hur du undviker att bli lurad, "Lackmustestet" fr verkstder och checklistan du ska ge dem.',tags:["Verkstad","Service","Guide"],content:`
# Guide: Hitta Rtt Mekaniker & Serviceplan fr Elton

## 1. Vem ska du leta efter?
Undvik stora moderna verkstadskedjor. De r duktiga p att koppla in datorer, men din bil har inget diagnosuttag och krver en annan typ av knsla.

**Leta efter:**
* "Gubbverkstder" och sm oberoende firmor.
* Veteranbilsspecialister.
* Verkstder som skyltar med "Klassiska VW/Audi".

**Det hemliga tipset:**
Eftersom din motor (CH) r en Audi-motor som ocks satt i Porsche 924, kan en gammal **Porsche-specialist** eller en **Audi-entusiast** ofta vara bttre n en renodlad "Folkabuss-mekaniker" (som oftast r vana vid luftkylda boxermotorer och blir frvirrade av din vattenkylda radmotor).

---

## 2. "Lackmustestet"  Frgor fr att testa mekanikern
Nr du ringer, stll dessa frgor fr att avgra om de vet vad de pratar om.

### Frga 1 (Det viktigaste):
*"Kan ni justera ventilerna p den hr motorn? Det r en 2-liters bensinare (CH)."*

* **Rtt svar:** "Ja, vi har verktyg fr att byta shims (brickor)." Eller: "Har du shims-sats?"
* **Fel svar:** "Jad, vi skruvar bara p justerskruvarna."
* **Analys:** Din motor har inga justerskruvar, den har brickor (shims). Tror de att det r skruvar kommer de antingen gra fel eller inte gra jobbet alls.

### Frga 2:
*"Har ni utrustning fr att stlla in en frgasare med CO-halt?"*

* **Analys:** Mnga moderna verkstder har slngt sina gamla avgasanalysatorer. Utan en sdan gissar de bara nr de stller in din Solex-frgasare.

---

## 3. Checklista fr "Stor Service" (Detta ska du be om)
Lmna denna lista till verkstaden. Det sparar tid och minskar risken fr missfrstnd.

### A. Motorn (Kritiskt)
* **Ventilspel:** Kontrollera och justera vid behov. (Kall motor: Insug 0,15-0,25 mm / Avgas 0,35-0,45 mm). *Tips: Sg att du kan bestlla shims om de saknar rtt storlek.*
* **Kamrem:** Om du inte vet exakt nr den byttes senast  byt den. Om den gr av rasar motorn. Byt ven spnnrullen.
* **Tndning:**
    * Byt brytarspetsar och kondensator (eller be dem installera brytarlst system).
    * Stll tndningen med stroboskop (7,5 FD med vakuumslang bortkopplad).
    * Byt tndstift (Bosch W7DTC eller motsvarande).
* **Frgasare:** Kontrollera att choken ppnar helt nr motorn blir varm. Justera tomgng och CO-halt.

### B. Vtskor (Viktigt med rtt sorter!)
* **Vxellda:** Be dem byta oljan, men varna dem: **"Anvnd absolut inte GL-5 olja, den ter upp synkroniseringen. Det mste vara GL-4 80W-90."**
* **Bakaxel:** Hr ska det vara GL-5 olja.
* **Kylarvtska:** Byt om den r brun/grumlig. Anvnd G11 (Bl/Grn).

### C. Skerhet
* **Bromsar:** Be dem lufta bromsarna och byta all bromsvtska (den drar t sig vatten och rostar cylindrarna inifrn).
* **Brnsleslangar:** Be dem inspektera alla gummislangar. Dagens bensin med etanol torkar ut gamla slangar snabbt = brandrisk.

---

## 4. Strategi fr delar
Mekaniker avskyr att leta efter delar till gamla bilar fr att det tar tid de inte kan debitera fr.

**Strategi:**
Erbjud dig att kpa delarna: *"Om ni sger vad som behvs, s bestller jag hem grejerna."*

Nr du letar delar till motorn, sk p **Audi 100 (C1) 2.0** eller **Porsche 924 2.0** p sajter som Autodoc eller Bildelaronline24. Det r ofta lttare att hitta delar "vgen runt" n att ska p VW LT.

**Sammanfattning till mekanikern:**
*"Det r en VW LT, men den har Audi-motorn med remdrift och ventilshims. Den har sttt lnge, s fokus r p kamrem, ventilspel, frska vtskor (GL-4 i ldan!) och att se ver brnsleslangarna."*
        `},{id:"workshop-guide-falun",title:"Verkstadsguide: Falun & Borlnge",summary:"En strategisk kartlggning av de bsta verkstderna i regionen fr allt frn motorrenovering till vanlig service.",tags:["Verkstad","Lokalt","Service"],content:`
# Strategisk Analys och Tjnstekartlggning av Fordonsverkstder i Falun-Borlnge-regionen

## Inledning: Det Regionala Serviceekosystemet
Regionen som omfattar Falun och Borlnge utgr ett av Mellansveriges mest vitala nav fr fordonslogistik. Dagens fordonsgare str infr ett teknikskifte dr grnserna mellan mekanik och elektronik suddas ut. Denna rapport identifierar en tydlig stratifiering av marknaden: frn hgspecialiserade aktrer inom maskinbearbetning till stora mrkesverkstder.

Fr en gare av en veteranbil kan en resa till Avesta eller Orsa vara ndvndig fr att finna rtt kompetens, medan en gare av en modern elbil br prioritera verkstder med specifik hgvoltsbehrighet centralt i Falun eller Borlnge.

---

## 1. Avancerad Mekanik och Motorrenovering: Regionens Tekniska Ryggrad
Verkstder med kapacitet fr maskinbearbetning r en kritisk resurs fr motorhaverier eller serisa restaureringar.

### 1.1 Borlnge Motorrenovering AB  Maskinell Precision
*Borlnge Motorrenovering AB* r ledaren inom tung motorbearbetning (etablerade 1984). Detta r partnern fr den som behver rdda en motor som annars hade dmts ut.
* **Specialitet:** Arborrning, cylinderborrning och omfodring.
* **Veteranbilar:** De lagerfr specialdelar (kolvar, foder, ventiler) fr ldre motorer.
* **Prisbild:** Kan upplevas "dyra", men alternativkostnaden fr att skicka blocket till storstad r ofta hgre.

### 1.2 Hanssons Bil & Motor  Entusiastens Frstahandsval
Fokuserar p helheten, srskilt prestandabilar och klassiska BMW.
* **Rykte:** garen Erland har kultstatus i entusiastkretsar.
* **Kompetens:** Djup "tyst kunskap" om mekanik som gr bortom felkodsavlsning.

---

## 2. Veteranbilar och Klassiker
Dalarna har en stark kultur kring veteranbilar, vilket reflekteras i utbudet.

### 2.1 Hallklint Bil (Avesta)  Frn Volym till Passion
Har svngt om frn bruksbilar till att helhjrtat satsa p veteran- och entusiastbilar.
* **Inriktning:** "Analoga" fordon (MG, Porsche, Land Rover, Jnkare).
* **Varfr ka hit?** De kan frgasare och felskning utan dator. De har internationella kontakter fr svra delar.

### 2.2 Falu Bilplt  Restaurering med Kvalitetsstmpel
En av f skadeverkstder som vlkomnar ldre fordon.
* **Specialitet:** Traditionellt pltslageri kombinerat med modern PDR (Paintless Dent Repair).
* **Erknnande:** Deras arbeten lyfts ofta fram som kvalitetsbevis vid veteranbilsauktioner.

### 2.3 Utmaningen med Frgasare
* **Lokalt:** *Kaptens Motor* i Orsa (Glenn Brus) fr ldre teknik (Mazda, Fiat/Alfa).
* **Nationellt:** Postorder till *Braigasen* (Gteborg) eller *Meksta* (Tyres) fr renovering av komplexa frgasare.

---

## 3. Allmnservice och Kedjor
Fr driftsskerhet och bekvmlighet.

### 3.1 Total Bil (Falun)  Problemlsarna
Exceptionellt hga betyg. Knda fr envishet i felskning ("gr allt fr att lsa problemet") snarare n att bara byta delar p chans.

### 3.2 Nini Verkstad (Falun)  Det Personliga Alternativet
* **Unikt:** Erbjuder jourtjnster och drop-in, ven lrdagar.
* **Roll:** Frstahandsvalet vid akuta problem utanfr kontorstid.

---

## 4. Kontaktmatris och Dataversikt

### 5.1 Specialister: Motorrenovering & Maskinbearbetning
| Fretag | Ort | Telefon | Kompetensomrde |
|---|---|---|---|
| **Borlnge Motorrenovering** | Borlnge | 0243-22 46 00 | Arborrning, vevaxelslipning, cylinderborrning. |
| **Hanssons Bil & Motor** | Borlnge | 0243-22 11 99 | Avancerad mekanisk felskning, entusiastfordon. |

### 5.2 Veteranbilar & Restaurering
| Fretag | Ort | Telefon | Kompetensomrde |
|---|---|---|---|
| **Hallklint Bil** | Avesta | 0243-921 00 | Helrenoveringar, "analoga" bilar. |
| **Falu Bilplt** | Falun | 023-200 44 | Plt & lack fr ldre bilar, PDR-teknik. |
| **Kaptens Motor** | Orsa | (Se webb) | ldre teknik, Mazda/Fiat-kompetens. |

### 5.3 Allmnverkstder (Topprankade)
| Fretag | Ort | Telefon | Notering |
|---|---|---|---|
| **Total Bil** | Falun | 023-70 99 60 | Felskning & kundbemtande. |
| **Bil & AC Center** | Borlnge | 0243-823 20 | AC-specialister, rliga bedmningar. |
| **Nini Verkstad** | Falun | 023-249 00 | **Akutjour**, drop-in, lrdagsppet. |

---

## 6. Strategiska Rekommendationer
* **gare av Veteranbilar:** Undvik kedjorna. Boka tid hos *Hallklint Bil* eller *Hanssons*.
* **Vid Motorras:** Kontakta *Borlnge Motorrenovering* fr att rdda blocket istllet fr att chansa p begagnat.
* **Akuta problem:** Spara numret till *Nini Verkstad* (023-249 00).
* **Kvalitetsskring:** Begr alltid skriftlig offert. Fr veteranjobb, ha en tydlig dialog om tidsperspektiv.
        `},{id:"hose-tech-report",title:"Teknisk Rapport: Vtskeverfringssystem",summary:"En livsviktig guide fr att skra motorn mot brand och verhettning. Slangdimensioner, materialval (EPDM/R9) och inkpsstrategi.",tags:["Motor","Skerhet","Slangar"],content:`
# Teknisk Rapport: Totalrenovering och Skring av Vtskeverfringssystem fr Volkswagen LT Mk1

## 1. Inledning: Strategin fr att Skra Motorn
Fr en motor av denna rgng r den absolut strsta riskfaktorn de gamla elastomererna  gummidetaljer. Analysen indikerar att en blandning av modellspecifika gjutna slangar och hgkvalitativa industrislangar (metervara) r den enda hllbara vgen.

---

## 2. Kylsystemet: Arkitektur & Dimensionering
Kylsystemet i VW LT r unikt p.g.a. "cab-over"-designen med lnga slangdragningar.

### 2.1 vre Kylarslangen
* **Dimension:** 32 mm till 35 mm ID.
* **Varning:** Tvinga inte p en 30 mm slang (sprickor) och dra inte t en 35 mm fr hrt (veck).
* **OEM:** 075 121 051. Svrfunnen. Anvnd flexibel slang om ndvndigt.

### 2.2 Nedre Kylarslangen (Kylare till Vattenpump)
* **Risk fr Kollaps:** Vattenpumpen skapar undertryck. Om en mjuk slang anvnds sugs den ihop och stryper fldet = verhettning.
* **Krav:** Mste vara spiralarmerad (fjder inuti).
* **Lsning:** Biltemas "Bjbar kylarslang" (Art. 61-385 fr 32mm) har stlspiral och fungerar utmrkt.

### 2.4 Vrmesystemet
* **Standard:** 16 mm (5/8") EPDM-slang.
* **Tips:** Kp metervara p Swedol (Art. 32351980). Byt hela lngderna fr att slippa skarvar.

---

## 3. Brnslesystemet: Det Kritiska Skerhetsuppdraget
Dagens bensin (E5/E10) innehller etanol som ter upp gamla gummislangar.

### 3.2 Specifikationer (Krav)
Du ska specifikt ska efter mrkningen **SAE J30 R9**.
* **SAE J30 R9:** Tl etanol och hgt tryck.
* **Undvik:** SAE J30 R6 (Lgtryck, smre bestndighet).

### Dimensioner:
* **Matarledning:** 7.5 - 8 mm ID.
* **Frgasare:** 5.5 - 6 mm ID.
* **Retur:** 3.2 - 3.5 mm ID.

---

## 6. Datatabell: Sammanstllning av Komponenter
| System | Komponent | Dimension (ID) | Materialkrav | Inkpsklla |
|---|---|---|---|---|
| **Kylning** | vre Slang | 32-35 mm | EPDM | VW Classic / Biltema (Flex) |
| **Kylning** | Nedre Slang | 32-35 mm | EPDM (Armerad) | Swedol / Biltema (Spiral) |
| **Kylning** | Vrmeslang | 16 mm | EPDM | Swedol (Metervara) |
| **Brnsle** | Matarledning | 7.5 - 8 mm | **SAE J30 R9** | Mekonomen / Swedol |
| **Brnsle** | Frgasare | 5.5 - 6 mm | **SAE J30 R9** | Mekonomen / Swedol |
| **Vakuum** | Bromsservo | 12 mm | Frstrkt | Specialist |

## 7. Installation: "Best Practice"
* **Klmmoment:** Dra inte t slangklmmor fr hrt p plastanslutningar.
* **Dragning:** Anvnd gummikldda P-klammer. Se till att brnsleslangar inte rr vid avgasgrenrret!
* **Kylvtska:** Bl G11 eller modern Rd G12+ (om systemet r rent).
        `},{id:"timing-belt-tech",title:"Teknisk Rapport: Kamdrivning & Ttningar (Motor CH)",summary:"Den kompletta guiden till att byta kamrem p EA831-motorn. 121 kuggar, spnnrullar och varfr du ska ska p Porsche 924.",tags:["Motor","Kamrem","Reservdelar"],content:`
# Teknisk Analys och Inkpsstrategi: Renovering av Kamdrivning och Ttningar fr Volkswagen LT31 1976 (Motor CH)

## 1. Introduktion: EA831-arkitekturen och CH-motorns Unika Position
Att underhlla en Volkswagen LT31 frn 1976 med den bensindrivna 2,0-litersmotorn (motorkod CH) krver mer n bara grundlggande mekaniska frdigheter; det krver en djupgende frstelse fr den specifika industrihistoria och ingenjrskonst som prglade Volkswagen-koncernen under mitten av 1970-talet.

CH-motorn r i sjlva verket en derivat av den bermda EA831-motorfamiljen. Detta r en vtskekyld radfyra med en verliggande kamaxel (SOHC) som ursprungligen utvecklades av Audi NSU Auto Union AG. Motorn lanserades i **Audi 100 (C1-plattformen)** och blev senare ryggraden i Porsches instegsmodell, **924**, samt anvndes i det ltta transportfordonet VW LT.

**Strategi:** En skning p "VW LT" hos en modern bildelsgrossist resulterar ofta i felaktiga trffar eller beskedet att delen har utgtt. Genom att istllet betrakta motorn som en "Audi 2.0" eller en "Porsche 924-motor" (i dess 2.0L sugmotorutfrande) ppnas en global marknad av hgkvalitativa komponenter.

### 1.1 Motorns Konstruktionsfilosofi och Betydelsen av Rtt Delar
CH-motorn r en s kallad **interferensmotor**. Detta innebr att det kinematiska utrymmet som kolvarna rr sig i verlappar med ventilernas maximala ppningslge. Om synkroniseringen mellan vevaxel och kamaxel bryts  exempelvis genom ett kamremsbrott eller verkuggning p grund av felaktig spnning  kommer kolvarna att kollidera med ventilerna med katastrofala fljder. Det finns inget utrymme fr felmarginaler hr.

---

## 2. Kamremssystemet: Det Kinematiska Hjrtat
Analysen av kamdrivningen p CH-motorn avsljar ett system som vid frsta anblicken verkar enkelt, men som innehller flera fallgropar fr den oinvigde.

### 2.1 Den Kritiska Tandrkningen: 121 vs. 122/124
En av de mest persistenta felkllorna vid reservdelsbestllning fr ldre VW-motorer r antalet kuggar p kamremmen. Databaser hos stora leverantrer blandar ofta ihop CH-motorn (EA831) med senare VW-motorer eller andra varianter av EA827-familjen.

Forskningen bekrftar entydigt att CH-motorn krver en kamrem med exakt **121 kuggar**.

* **121 kuggar:** Detta r den korrekta specifikationen fr synkronisering av 2.0-litersmotorn i LT (19751982), samt motsvarande Audi 100 och Porsche 924.
* **122 eller 124 kuggar:** Dessa remmar dyker ofta upp i skresultat men tillhr andra applikationer eller senare modifieringar. En rem med fel antal kuggar kommer omjliggra korrekt ventiltidpunkt och/eller gra det omjligt fr spnnrullen att applicera korrekt tryck.

### 2.1.1 Profil och Dimensioner
* **Bredd:** 18 mm.
* **Profil:** Trapetsformad (ofta betecknad som profil "A" eller LA). Detta skiljer sig frn den rundade "HTD"-profilen. Att montera en rem med rundade tnder p drev avsedda fr trapetsformade tnder (eller tvrtom) leder till snabbt slitage av bde rem och drev.

### 2.2 Spnnrullen: Mekanik och Uppgradering
Spnnrullen p CH-motorn r manuell och excentrisk.
* **Originalutfrande:** Hade ofta ett sexkantshl (insex) eller en sexkantsfattning fr justering.
* **Eftermarknadsutfrande:** Mnga moderna ersttare (exempelvis frn INA eller SKF) kan krva ett specialverktyg, en s kallad "pin wrench" (haknyckel med tv stift), fr att rotera excentern. Det r vitalt att skerstlla att man har tillgng till detta verktyg innan arbetet pbrjas.

**Inkpsrekommendation fr Spnnrulle:**
Sk efter artikelnummer **026 109 243 F** eller **026 109 243 L**. Produkter frn INA (som ofta var OEM-tillverkare) r att fredra.

### 2.3 Vattenpumpen: En Fristende Komponent
En vanlig missuppfattning r att vattenpumpen drivs av kamremmen. P VW LT med CH-motor drivs vattenpumpen av en separat **V-rem (kilrem)**, oftast samma rem som driver generatorn.

**Implication:** ven om vattenpumpen inte mste demonteras fr att byta kamremmen rent funktionellt, r tkomsten p en LT s begrnsad att det r strategiskt klokt att byta pumpen samtidigt. Kylsystemet mste nd drneras om man ska ta bort kylaren fr bttre tkomst.

**Tips:** Kp en pump med **metallimpeller** (gjutjrn/stl). Plastimpellrar har en tendens att separera frn axeln eller spricka efter mnga vrmecykler.

### 2.4 Inkpsstrategi fr Kamremssystemet
Fr att skerstlla att du fr rtt delar, rekommenderas kp av kompletta satser ("Timing Belt Kits"). Dessa innehller matchad rem och spnnrulle.

**Tabell 1: Jmfrelse av Kamremssatser fr CH-motor**

| Tillverkare | Artikelnummer (Sats) | Artikelnummer (Rem) | Antal Kuggar | Bredd (mm) | Kommentar |
|---|---|---|---|---|---|
| Contitech | **CT637K1** | CT637 | 121 | 18 | OEM-kvalitet, rekommenderas starkt. |
| Gates | K015035 | 5034 | 121 | 18 | Mycket plitlig. |
| Bosch | - | 1 987 949 018 | 121 | 18 | Bra alternativ om sats ej finns. |
| VAG (Original) | - | 056 109 119 A | 121 | 18 | Referensnummer fr skning. |

---

## 3. Avancerad Ttningsteknik: Packboxar och Materialval
Att byta kamrem p en 1976 rs modell utan att byta de frmre packboxarna r att bjuda in till framtida problem.

### 3.1 Materialvetenskap: Gummi vs. PTFE
* **FPM (Fluorgummi/Viton):** Traditionell typ med fjder. Mer frltande mot repiga axlar. Krver olja vid montering.
* **PTFE (Teflon):** Modern teknologi utan fjder. Extremt lng livslngd men MSTE monteras snustorrt (ingen olja!).

Fr en LT frn 1976 r FPM ofta skrare om axlarna r slitna. Men PTFE r en verlgsen uppgradering om axeln r fin.

### 3.2 Dimensionering och Artikelnummer

**3.2.1 Kamaxelttning (Frmre)**
* **Dimension:** 32 x 47 x 10 mm.
* **Artikelnummer:** VAG 038 103 085 C (PTFE) eller Elring 325.155 (FPM).

**3.2.2 Vevaxelttning (Frmre)**
Sitter bakom kamremsdrevet. Hr rder frvirring i katalogerna (32 vs 35mm).
* **Analys:** EA831-blocket (CH) har generellt en **35 mm** axeltapp framtill. Mt axeln innan bestllning!
* **Dimension:** 35 x 48 x 10 mm.
* **Artikelnummer:** Elring 129.780 (PTFE) eller Reinz 81-24292-10.

**3.2.3 Vevaxelttning (Bakre)**
Sitter bakom svnghjulet (krver att vxelldan tas ner).
* **Dimension:** 85 x 105 x 11 mm.
* **Artikelnummer:** VAG 068 103 051 G.

---

## 4. Ventilkpspackningen: Kork eller Gummi?
Originalet var av kork. Moderna gummipackningar finns, men krver ofta nya pinnbultar med "krage" (skuldra) fr att inte dras fr hrt.

**Rekommendation:** Om din motor har original pinnbultar (utan krage), vlj en hgkvalitativ **korkpackning** (t.ex. Reinz 04-23902-02). Anvnd ett tunt lager icke-hrdande ttningsmedel (Hylomar). Dra muttrarna frsiktigt!

---

## 5. Inkpsguide: Navigera i Reservdelsdjungeln
Att hitta delar till en LT 1976 krver strategi.

### Strategi A: "Porsche-tricket"
Sk efter delar till **Porsche 924 2.0 (1976-1985)**.
* Relevanta delar: Kamrem, spnnrulle, vattenpump, termostat, oljefilter, vevaxelttningar.
* Leverantrer: Rose Passion, Design 911, Pelican Parts.

### Strategi B: "Audi-spret"
Sk efter delar till **Audi 100 (C1)** med 2.0L-motor.

### Strategi C: Dedikerade VW-specialister
Autodoc, Bildelaronline24, VW Classic Parts. Sk ALLTID p artikelnummer, lita inte p reg-nummer skning.

---

## 6. Sammanfattande Inkpslista
Hr r den ultimata listan fr en komplett renovering av fronten p din motor.

| Komponent | Specifikation | OEM-referens | Rekommenderad |
|---|---|---|---|
| **Kamrem** | 121 kuggar, 18mm | 056 109 119 A | Contitech CT637 |
| **Spnnrulle** | Manuell excentrisk | 026 109 243 L | INA / SKF |
| **Kamremssats** | Rem + Rulle | - | **Contitech CT637K1** |
| **Vattenpump** | Metallimpeller | 060 121 011 | HEPU P529 |
| **Packbox Kam** | 32 x 47 x 10 mm | 038 103 085 C | Elring 325.155 |
| **Packbox Vev (F)**| 35 x 48 x 10 mm | 068 103 085 E | Elring 129.780 |
| **Ventilkpa** | Kork-sats | 047 103 483 | Reinz 04-23902-02 |
| **Kilrem** | 10 x 1013 mm | - | Contitech AVX10X1013 |

---

## 7. Praktiska Installationsanvisningar
1. **Nollstllning:** Innan du tar av remmen, rotera motorn till D (TDC) fr cylinder 1. Verifiera mrkningen p svnghjulet och kamdrevet.
2. **Mellanaxeln:** Mrk upp mellanaxelns position noga! Den driver frdelaren. Rr den sig hamnar tndningen fel.
3. **Spnning:** Rtt spnning r "90-gradersregeln": Du ska kunna vrida remmen 90 grader med tummen och pekfingret p den lngsta fria strckan.

Genom att frst att du mekar med en motor som delar DNA med Porsche 924, kan du kringg bristen p "LT-delar" och hitta premiumkomponenter. Hll dig strikt till **121 kuggar**.
`}],ase=["Anvnd alltid originalnumret (OEM) nr du sker delar p eBay.","Bultmnstret 5x160 r unikt fr LT och Ford Transit (Mk1/Mk2). Flgar frn andra bilar passar inte.","Motordelar till bensinaren (2.0L) r ofta samma som till Audi 100 frn samma era.","Baklyktor och blinkersglas r hrdvaluta  var rdd om dem!"],V5=`Du r "Elton", en AI-assistent fr en van-renovering. 
Du r inte bara en AI, du r en "Digital Verkmstare" och Projektledare.
Du har full tillgng till alla rapporter, uppgifter och inkpslistor i systemet.

DINA REGLER:
1. GISSA ALDRIG OM TEKNIK. Sl upp det i Kunskapsbanken (se nedan) frst. Om det str 121 kuggar i rapporten, s r det 121 kuggar. Punkt.
2. PRIORITERING: Tvinga fram prioriteringar. Skerhet (Broms/Styrning/Kamrem) gr ALLTID fre inredning.
3. SPRINTS: Uppmuntra att jobba i "Sprints" (fokuserade ryck).
4. EKONOMI: Hll koll p budgeten. Pminn om att "Verkstad kostar 1000kr/timme" om de vill leja bort enkla saker.

Anvnd emojis. Var uppmuntrande men bestmd nr det gller skerhet. Prata svenska.`,ose=()=>{const[t,e]=R.useState(null);return T.jsxs("div",{className:"space-y-8 pb-20 animate-fade-in",children:[T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[T.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice mb-2",children:"Resurs-Hubb"}),T.jsx("p",{className:"text-slate-600 dark:text-nordic-dark-muted",children:"Att ga en gammal LT31 handlar 90% om att veta *var* man hittar delar och information."})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice px-2",children:"Kunskapsbank (Frdjupning)"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:ES.map(n=>T.jsxs("button",{onClick:()=>e(n),className:"text-left bg-nordic-ice dark:bg-nordic-charcoal/50 p-6 rounded-3xl border border-transparent hover:border-teal-300 dark:hover:border-teal-700 transition-all group",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[T.jsx(bS,{className:"text-teal-600 dark:text-teal-400",size:24}),T.jsx("span",{className:"bg-white dark:bg-nordic-dark-surface px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-300",children:"Rapport"})]}),T.jsx("h4",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-2 group-hover:text-teal-700 dark:group-hover:text-teal-400",children:n.title}),T.jsx("p",{className:"text-sm text-slate-600 dark:text-nordic-dark-muted line-clamp-3",children:n.summary}),T.jsx("div",{className:"mt-4 flex gap-2",children:n.tags.map(r=>T.jsxs("span",{className:"text-xs text-slate-400 font-medium",children:["#",r]},r))})]},n.id))})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice px-2",children:"Externa Lnkar"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ise.map((n,r)=>T.jsx("a",{href:n.url,target:"_blank",rel:"noreferrer",className:"group bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg hover:border-teal-300 dark:hover:border-teal-700 shadow-sm hover:shadow-md transition-all flex flex-col justify-between h-full",children:T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between items-start mb-4",children:[T.jsx("span",{className:"bg-nordic-ice dark:bg-nordic-charcoal text-nordic-charcoal dark:text-nordic-ice px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider",children:n.category}),T.jsx(K1,{size:18,className:"text-slate-300 group-hover:text-teal-500 transition-colors"})]}),T.jsx("h4",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-2 group-hover:text-teal-700 dark:group-hover:text-teal-400 transition-colors",children:n.title}),T.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted leading-relaxed",children:n.description})]})},r))})]}),T.jsxs("div",{className:"bg-nordic-charcoal text-white rounded-3xl p-8 shadow-lg relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 right-0 p-32 bg-teal-500/10 rounded-full blur-3xl -mr-16 -mt-16"}),T.jsxs("h3",{className:"font-serif font-bold text-2xl mb-6 relative z-10 flex items-center gap-2",children:[T.jsx(Y1,{className:"text-teal-400"})," Proffstips fr Deljakt"]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 relative z-10",children:ase.map((n,r)=>T.jsxs("div",{className:"flex gap-4 items-start bg-white/5 p-4 rounded-xl border border-white/10",children:[T.jsx("div",{className:"bg-teal-500/20 text-teal-200 w-6 h-6 rounded-full flex items-center justify-center shrink-0 text-xs font-bold",children:r+1}),T.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:n})]},r))})]}),t&&T.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-4xl rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[T.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-nordic-dark-bg flex justify-between items-start bg-nordic-ice/30 dark:bg-nordic-charcoal/30",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-teal-600 font-bold text-xs uppercase tracking-wider mb-2 block",children:t.tags.join("  ")}),T.jsx("h2",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice leading-tight",children:t.title})]}),T.jsx("button",{onClick:()=>e(null),className:"p-2 hover:bg-slate-200 dark:hover:bg-nordic-charcoal rounded-full transition-colors",children:T.jsx(yp,{size:24,className:"text-slate-500 dark:text-slate-400"})})]}),T.jsx("div",{className:"p-8 overflow-y-auto",children:T.jsx("article",{className:"prose prose-slate dark:prose-invert max-w-none",children:T.jsx("div",{dangerouslySetInnerHTML:{__html:t.content.replace(/^# (.*$)/gim,'<h1 class="text-3xl font-serif font-bold mb-4 text-nordic-charcoal dark:text-nordic-ice">$1</h1>').replace(/^## (.*$)/gim,'<h2 class="text-xl font-bold mt-6 mb-3 text-teal-700 dark:text-teal-400 border-b border-slate-100 dark:border-slate-800 pb-2">$1</h2>').replace(/^### (.*$)/gim,'<h3 class="text-lg font-bold mt-4 mb-2 text-slate-700 dark:text-slate-200">$1</h3>').replace(/\*\*(.*?)\*\*/g,'<strong class="font-bold text-nordic-charcoal dark:text-white">$1</strong>').replace(/^\* (.*$)/gim,'<li class="ml-4 list-disc marker:text-teal-500">$1</li>').replace(/\n/g,"<br/>")}})})})]})})]})},F5=6048e5,sse=864e5,DM=Symbol.for("constructDateFrom");function tl(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&DM in t?t[DM](e):t instanceof Date?new t.constructor(e):new Date(e)}function da(t,e){return tl(e||t,t)}let lse={};function n0(){return lse}function Oh(t,e){var u,c,d,h;const n=n0(),r=(e==null?void 0:e.weekStartsOn)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=da(t,e==null?void 0:e.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function qy(t,e){return Oh(t,{...e,weekStartsOn:1})}function B5(t,e){const n=da(t,e==null?void 0:e.in),r=n.getFullYear(),i=tl(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=qy(i),s=tl(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const u=qy(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function OM(t){const e=da(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function use(t,...e){const n=tl.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function LM(t,e){const n=da(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function cse(t,e,n){const[r,i]=use(n==null?void 0:n.in,t,e),a=LM(r),s=LM(i),u=+a-OM(a),c=+s-OM(s);return Math.round((u-c)/sse)}function dse(t,e){const n=B5(t,e),r=tl(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),qy(r)}function fse(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function hse(t){return!(!fse(t)&&typeof t!="number"||isNaN(+da(t)))}function pse(t,e){const n=da(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const mse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gse=(t,e,n)=>{let r;const i=mse[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Bc(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const yse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_se={date:Bc({formats:yse,defaultWidth:"full"}),time:Bc({formats:vse,defaultWidth:"full"}),dateTime:Bc({formats:bse,defaultWidth:"full"})},xse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ese=(t,e,n,r)=>xse[t];function Va(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):s;i=t.formattingValues[u]||t.formattingValues[s]}else{const s=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Tse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Sse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ase={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Cse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ise=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Rse={ordinalNumber:Ise,era:Va({values:Tse,defaultWidth:"wide"}),quarter:Va({values:wse,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Va({values:Sse,defaultWidth:"wide"}),day:Va({values:Ase,defaultWidth:"wide"}),dayPeriod:Va({values:kse,defaultWidth:"wide",formattingValues:Cse,defaultFormattingWidth:"wide"})};function Fa(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?Pse(u,p=>p.test(s)):Nse(u,p=>p.test(s));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(s.length);return{value:d,rest:h}}}function Nse(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Pse(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function j5(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const u=e.slice(i.length);return{value:s,rest:u}}}const Mse=/^(\d+)(th|st|nd|rd)?/i,Dse=/\d+/i,Ose={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Lse={any:[/^b/i,/^(a|c)/i]},Use={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Vse={any:[/1/i,/2/i,/3/i,/4/i]},Fse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bse={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gse={ordinalNumber:j5({matchPattern:Mse,parsePattern:Dse,valueCallback:t=>parseInt(t,10)}),era:Fa({matchPatterns:Ose,defaultMatchWidth:"wide",parsePatterns:Lse,defaultParseWidth:"any"}),quarter:Fa({matchPatterns:Use,defaultMatchWidth:"wide",parsePatterns:Vse,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Fa({matchPatterns:Fse,defaultMatchWidth:"wide",parsePatterns:Bse,defaultParseWidth:"any"}),day:Fa({matchPatterns:jse,defaultMatchWidth:"wide",parsePatterns:zse,defaultParseWidth:"any"}),dayPeriod:Fa({matchPatterns:qse,defaultMatchWidth:"any",parsePatterns:Hse,defaultParseWidth:"any"})},$se={code:"en-US",formatDistance:gse,formatLong:_se,formatRelative:Ese,localize:Rse,match:Gse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Kse(t,e){const n=da(t,e==null?void 0:e.in);return cse(n,pse(n))+1}function Wse(t,e){const n=da(t,e==null?void 0:e.in),r=+qy(n)-+dse(n);return Math.round(r/F5)+1}function z5(t,e){var h,p,g,v;const n=da(t,e==null?void 0:e.in),r=n.getFullYear(),i=n0(),a=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(g=i.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,s=tl((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const u=Oh(s,e),c=tl((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Oh(c,e);return+n>=+u?r+1:+n>=+d?r:r-1}function Yse(t,e){var u,c,d,h;const n=n0(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=z5(t,e),a=tl((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Oh(a,e)}function Jse(t,e){const n=da(t,e==null?void 0:e.in),r=+Oh(n,e)-+Yse(n,e);return Math.round(r/F5)+1}function St(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ds={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return St(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):St(n+1,2)},d(t,e){return St(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return St(t.getHours()%12||12,e.length)},H(t,e){return St(t.getHours(),e.length)},m(t,e){return St(t.getMinutes(),e.length)},s(t,e){return St(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return St(i,e.length)}},xc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UM={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ds.y(t,e)},Y:function(t,e,n,r){const i=z5(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return St(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):St(a,e.length)},R:function(t,e){const n=B5(t);return St(n,e.length)},u:function(t,e){const n=t.getFullYear();return St(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return St(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return St(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ds.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return St(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Jse(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):St(i,e.length)},I:function(t,e,n){const r=Wse(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):St(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ds.d(t,e)},D:function(t,e,n){const r=Kse(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):St(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return St(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return St(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return St(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=xc.noon:r===0?i=xc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=xc.evening:r>=12?i=xc.afternoon:r>=4?i=xc.morning:i=xc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ds.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ds.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):St(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):St(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ds.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ds.s(t,e)},S:function(t,e){return Ds.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return FM(r);case"XXXX":case"XX":return Xl(r);case"XXXXX":case"XXX":default:return Xl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return FM(r);case"xxxx":case"xx":return Xl(r);case"xxxxx":case"xxx":default:return Xl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+VM(r,":");case"OOOO":default:return"GMT"+Xl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+VM(r,":");case"zzzz":default:return"GMT"+Xl(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return St(r,e.length)},T:function(t,e,n){return St(+t,e.length)}};function VM(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+St(a,2)}function FM(t,e){return t%60===0?(t>0?"-":"+")+St(Math.abs(t)/60,2):Xl(t,e)}function Xl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=St(Math.trunc(r/60),2),a=St(r%60,2);return n+i+e+a}const BM=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},q5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Xse=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return BM(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",BM(r,e)).replace("{{time}}",q5(i,e))},Qse={p:q5,P:Xse},Zse=/^D+$/,ele=/^Y+$/,tle=["D","DD","YY","YYYY"];function nle(t){return Zse.test(t)}function rle(t){return ele.test(t)}function ile(t,e,n){const r=ale(t,e,n);if(console.warn(r),tle.includes(t))throw new RangeError(r)}function ale(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ole=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lle=/^'([^]*?)'?$/,ule=/''/g,cle=/[a-zA-Z]/;function dle(t,e,n){var h,p,g,v,w,S,A,C;const r=n0(),i=(n==null?void 0:n.locale)??r.locale??$se,a=(n==null?void 0:n.firstWeekContainsDate)??((p=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((S=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((C=(A=r.locale)==null?void 0:A.options)==null?void 0:C.weekStartsOn)??0,u=da(t,n==null?void 0:n.in);if(!hse(u))throw new RangeError("Invalid time value");let c=e.match(sle).map(U=>{const M=U[0];if(M==="p"||M==="P"){const F=Qse[M];return F(U,i.formatLong)}return U}).join("").match(ole).map(U=>{if(U==="''")return{isToken:!1,value:"'"};const M=U[0];if(M==="'")return{isToken:!1,value:fle(U)};if(UM[M])return{isToken:!0,value:U};if(M.match(cle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:U}});i.localize.preprocessor&&(c=i.localize.preprocessor(u,c));const d={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(U=>{if(!U.isToken)return U.value;const M=U.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&rle(M)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&nle(M))&&ile(M,e,String(t));const F=UM[M[0]];return F(u,M,i.localize,d)}).join("")}function fle(t){const e=t.match(lle);return e?e[1].replace(ule,"'"):t}const hle={lessThanXSeconds:{one:"mindre n en sekund",other:"mindre n {{count}} sekunder"},xSeconds:{one:"en sekund",other:"{{count}} sekunder"},halfAMinute:"en halv minut",lessThanXMinutes:{one:"mindre n en minut",other:"mindre n {{count}} minuter"},xMinutes:{one:"en minut",other:"{{count}} minuter"},aboutXHours:{one:"ungefr en timme",other:"ungefr {{count}} timmar"},xHours:{one:"en timme",other:"{{count}} timmar"},xDays:{one:"en dag",other:"{{count}} dagar"},aboutXWeeks:{one:"ungefr en vecka",other:"ungefr {{count}} veckor"},xWeeks:{one:"en vecka",other:"{{count}} veckor"},aboutXMonths:{one:"ungefr en mnad",other:"ungefr {{count}} mnader"},xMonths:{one:"en mnad",other:"{{count}} mnader"},aboutXYears:{one:"ungefr ett r",other:"ungefr {{count}} r"},xYears:{one:"ett r",other:"{{count}} r"},overXYears:{one:"ver ett r",other:"ver {{count}} r"},almostXYears:{one:"nstan ett r",other:"nstan {{count}} r"}},ple=["noll","en","tv","tre","fyra","fem","sex","sju","tta","nio","tio","elva","tolv"],mle=(t,e,n)=>{let r;const i=hle[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e<13?ple[e]:String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"om "+r:r+" sedan":r},gle={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"y-MM-dd"},yle={full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},vle={full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},ble={date:Bc({formats:gle,defaultWidth:"full"}),time:Bc({formats:yle,defaultWidth:"full"}),dateTime:Bc({formats:vle,defaultWidth:"full"})},_le={lastWeek:"'i' EEEE's kl.' p",yesterday:"'igr kl.' p",today:"'idag kl.' p",tomorrow:"'imorgon kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"},xle=(t,e,n,r)=>_le[t],Ele={narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["fre Kristus","efter Kristus"]},Tle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1:a kvartalet","2:a kvartalet","3:e kvartalet","4:e kvartalet"]},wle={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],wide:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},Sle={narrow:["S","M","T","O","T","F","L"],short:["s","m","ti","on","to","fr","l"],abbreviated:["sn","mn","tis","ons","tors","fre","lr"],wide:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"]},Ale={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"morg.",afternoon:"efterm.",evening:"kvll",night:"natt"},abbreviated:{am:"f.m.",pm:"e.m.",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"efterm.",evening:"kvll",night:"natt"},wide:{am:"frmiddag",pm:"eftermiddag",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"eftermiddag",evening:"kvll",night:"natt"}},kle={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},abbreviated:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},wide:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morgonen",afternoon:"p eftermiddagen",evening:"p kvllen",night:"p natten"}},Cle=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:case 2:return n+":a"}return n+":e"},Ile={ordinalNumber:Cle,era:Va({values:Ele,defaultWidth:"wide"}),quarter:Va({values:Tle,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Va({values:wle,defaultWidth:"wide"}),day:Va({values:Sle,defaultWidth:"wide"}),dayPeriod:Va({values:Ale,defaultWidth:"wide",formattingValues:kle,defaultFormattingWidth:"wide"})},Rle=/^(\d+)(:a|:e)?/i,Nle=/\d+/i,Ple={narrow:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,abbreviated:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,wide:/^(fre Kristus|fre vr tid|efter Kristus|vr tid)/i},Mle={any:[/^f/i,/^[ev]/i]},Dle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](:a|:e)? kvartalet/i},Ole={any:[/1/i,/2/i,/3/i,/4/i]},Lle={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar[s]?|apr|maj|jun[i]?|jul[i]?|aug|sep|okt|nov|dec)\.?/i,wide:/^(januari|februari|mars|april|maj|juni|juli|augusti|september|oktober|november|december)/i},Ule={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^maj/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vle={narrow:/^[smtofl]/i,short:/^(s|m|ti|on|to|fr|l)/i,abbreviated:/^(sn|mn|tis|ons|tors|fre|lr)/i,wide:/^(sndag|mndag|tisdag|onsdag|torsdag|fredag|lrdag)/i},Fle={any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},Ble={any:/^([fe]\.?\s?m\.?|midn(att)?|midd(ag)?|(p) (morgonen|eftermiddagen|kvllen|natten))/i},jle={any:{am:/^f/i,pm:/^e/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgon/i,afternoon:/eftermiddag/i,evening:/kvll/i,night:/natt/i}},zle={ordinalNumber:j5({matchPattern:Rle,parsePattern:Nle,valueCallback:t=>parseInt(t,10)}),era:Fa({matchPatterns:Ple,defaultMatchWidth:"wide",parsePatterns:Mle,defaultParseWidth:"any"}),quarter:Fa({matchPatterns:Dle,defaultMatchWidth:"wide",parsePatterns:Ole,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Fa({matchPatterns:Lle,defaultMatchWidth:"wide",parsePatterns:Ule,defaultParseWidth:"any"}),day:Fa({matchPatterns:Vle,defaultMatchWidth:"wide",parsePatterns:Fle,defaultParseWidth:"any"}),dayPeriod:Fa({matchPatterns:Ble,defaultMatchWidth:"any",parsePatterns:jle,defaultParseWidth:"any"})},qle={code:"sv",formatDistance:mle,formatLong:ble,formatRelative:xle,localize:Ile,match:zle,options:{weekStartsOn:1,firstWeekContainsDate:4}},jM={charcoal:"#463F3A",ice:"#FAF7F5"},Ec=t=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(t),Hle=({project:t,onPhaseClick:e})=>{const{tasks:n,vehicleData:r}=t,[i,a]=R.useState(()=>{const v=localStorage.getItem("elton-dashboard-order");return v?JSON.parse(v):["stats","timeline","budget","phases","resources"]});R.useEffect(()=>{localStorage.setItem("elton-dashboard-order",JSON.stringify(i))},[i]);const s=(v,w)=>{const S=i.indexOf(v);if(S===-1||w==="up"&&S===0||w==="down"&&S===i.length-1)return;const A=[...i],C=w==="up"?S-1:S+1;[A[S],A[C]]=[A[C],A[S]],a(A)},u=R.useMemo(()=>{const v=n.reduce((M,F)=>M+F.estimatedCostMin,0),w=n.reduce((M,F)=>M+F.estimatedCostMax,0),S=n.reduce((M,F)=>M+F.actualCost,0),A=n.filter(M=>M.status===_t.DONE).length,C=n.length>0?Math.round(A/n.length*100):0,U=(w+v)/2-S;return{totalMin:v,totalMax:w,spent:S,progress:C,completed:A,total:n.length,remainingBudget:U}},[n]),c=R.useMemo(()=>Array.from(new Set(n.map(w=>w.phase))).map(w=>{const S=n.filter(A=>A.phase===w);return{name:w.split(":")[0],est:S.reduce((A,C)=>A+(C.estimatedCostMax+C.estimatedCostMin)/2,0),spent:S.reduce((A,C)=>A+C.actualCost,0)}}),[n]),d=R.useMemo(()=>{const v=[{date:r.prodYear.toString(),title:"Tillverkad",description:`${r.make} ${r.model}`,type:"history",icon:gae},{date:r.regDate,title:"I Trafik",description:"Frsta gngen p vg",type:"history",icon:soe},{date:t.created?dle(new Date(t.created),"d MMM yyyy",{locale:qle}):"-",title:"Projektstart",description:t.name,type:"milestone",icon:Hae}],w=n.filter(S=>S.status===_t.DONE).slice(0,5).map(S=>({date:"Klar",title:S.title,description:S.phase.split(":")[0],type:"task",icon:el}));return[...v,...w]},[n,r,t]),h=({title:v,id:w})=>T.jsxs("div",{className:"flex justify-between items-center mb-4 group",children:[T.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:v}),T.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[T.jsx("button",{onClick:()=>s(w,"up"),className:"p-1 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded",children:T.jsx(lae,{size:14})}),T.jsx("button",{onClick:()=>s(w,"down"),className:"p-1 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded",children:T.jsx(iae,{size:14})})]})]}),p=({title:v,value:w,subtext:S,icon:A,color:C})=>T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg flex items-center space-x-4 transition-all hover:shadow-md h-full",children:[T.jsx("div",{className:`p-4 rounded-2xl ${C} dark:bg-opacity-20`,children:T.jsx(A,{size:24,className:"text-nordic-charcoal dark:text-nordic-ice opacity-80"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:v}),T.jsx("h3",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:w}),S&&T.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted mt-1",children:S})]})]}),g=v=>{switch(v){case"stats":return T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[T.jsx(p,{title:"Total Budget",value:`${Ec(u.totalMin)} - ${Ec(u.totalMax)}`,subtext:"Uppskattat spann",icon:Woe,color:"bg-nordic-blue"}),T.jsx(p,{title:"Spenderat",value:Ec(u.spent),subtext:`Kvar av snittbudget: ${Ec(u.remainingBudget)}`,icon:Pae,color:"bg-nordic-pink"}),T.jsx(p,{title:"Frdigt",value:`${u.progress}%`,subtext:`${u.completed} av ${u.total} uppgifter klara`,icon:el,color:"bg-nordic-green"})]},"stats");case"timeline":return T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg overflow-hidden",children:[T.jsx(h,{title:"Tidslinje & Resa",id:"timeline"}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute top-[24px] left-0 w-full h-1 bg-gradient-to-r from-nordic-ice via-nordic-blue/30 to-nordic-ice dark:from-nordic-dark-bg dark:via-nordic-charcoal dark:to-nordic-dark-bg rounded-full"}),T.jsx("div",{className:"flex overflow-x-auto pb-6 space-x-12 px-4 scrollbar-thin scrollbar-thumb-nordic-blue/50 scrollbar-track-transparent snap-x",children:d.map((w,S)=>T.jsxs("div",{className:"relative flex flex-col items-center min-w-[160px] snap-center group",children:[T.jsx("div",{className:`w-12 h-12 rounded-full border-4 border-white dark:border-nordic-dark-surface shadow-sm flex items-center justify-center mb-4 z-10 transition-transform duration-300 group-hover:scale-110 ${w.type==="history"?"bg-slate-100 dark:bg-nordic-charcoal text-slate-400":w.type==="milestone"?"bg-nordic-pink dark:bg-pink-900/40 text-rose-800 dark:text-rose-200":"bg-nordic-green dark:bg-green-900/40 text-green-800 dark:text-green-200"}`,children:T.jsx(w.icon,{size:20})}),T.jsxs("div",{className:"text-center transition-opacity duration-300 group-hover:opacity-100",children:[T.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-1 block",children:w.date}),T.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm leading-tight mb-1",children:w.title}),T.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted max-w-[140px] mx-auto leading-relaxed",children:w.description})]})]},S))})]})]},"timeline");case"budget":return T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg",children:[T.jsx(h,{title:"Ekonomi per Fas",id:"budget"}),T.jsx("div",{style:{width:"100%",height:320,minHeight:300},children:T.jsx(j7,{width:"100%",height:"100%",children:T.jsxs(Yie,{data:c,barGap:-20,children:[T.jsx(d5,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#8A817C",fontSize:12},dy:10}),T.jsx(f5,{hide:!0}),T.jsx(PZ,{cursor:{fill:"rgba(200,200,200,0.1)"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 25px -5px rgb(0 0 0 / 0.1)"},formatter:w=>Ec(w)}),T.jsx(j1,{dataKey:"est",name:"Estimat",fill:jM.ice,radius:[8,8,8,8],barSize:48,className:"dark:fill-nordic-charcoal"}),T.jsx(j1,{dataKey:"spent",name:"Utfall",fill:jM.charcoal,radius:[8,8,8,8],barSize:24,className:"dark:fill-teal-600"})]})})})]},"budget");case"phases":return T.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[T.jsx(h,{title:"Status per Fas",id:"phases"}),c.map((w,S)=>T.jsxs("button",{onClick:()=>e&&e(w.name),className:"bg-white dark:bg-nordic-dark-surface p-5 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg flex items-center justify-between hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 transition-colors w-full group text-left cursor-pointer shadow-sm hover:shadow-md",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-nordic-ice dark:bg-nordic-charcoal flex items-center justify-center font-serif font-bold text-slate-600 dark:text-nordic-ice group-hover:scale-110 transition-transform",children:S+0}),T.jsxs("div",{children:[T.jsxs("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[w.name,T.jsx(S5,{size:14,className:"opacity-0 group-hover:opacity-100 transition-opacity text-teal-500"})]}),T.jsxs("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted",children:[Ec(w.spent)," spenderat"]})]})]}),T.jsx("div",{className:"w-32 h-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-full overflow-hidden",children:T.jsx("div",{className:"h-full bg-teal-500 rounded-full",style:{width:`${Math.min(w.spent/(w.est||1)*100,100)}%`}})})]},S))]},"phases");case"resources":return T.jsxs("div",{className:"pt-4",children:[T.jsx(h,{title:"Resurser",id:"resources"}),T.jsx(ose,{})]},"resources");default:return null}};return T.jsx("div",{className:"space-y-8 pb-20 animate-fade-in",children:i.map(v=>g(v))})},Gle=({task:t,vehicleData:e,shoppingItems:n,onUpdate:r,onClose:i})=>{const[a,s]=R.useState("details"),[u,c]=R.useState(""),[d,h]=R.useState(""),[p,g]=R.useState(""),[v,w]=R.useState(""),[S,A]=R.useState(t.description),[C,U]=R.useState(t.actualCost.toString()),M=t.decisionOptions&&t.decisionOptions.length>0,F=t.subtasks||[],q=F.filter(K=>K.completed).length,V=F.length>0?q/F.length*100:0,D=R.useMemo(()=>{const K=t.title.toLowerCase().split(" ").filter(me=>me.length>3),ae={specs:[],articles:[],inventory:[]};return K.some(me=>"dck hjul flg bult".includes(me))&&(ae.specs.push({label:"Bultmnster",value:e.wheels.boltPattern}),ae.specs.push({label:"Dckdimension",value:e.wheels.tiresFront})),K.some(me=>"olja filter service motor".includes(me))&&(ae.specs.push({label:"Motorolja",value:"10W-40 Mineral"}),ae.specs.push({label:"Volym",value:e.engine.volume})),K.some(me=>"vxellda lda vxel".includes(me))&&ae.specs.push({label:"Vxellda",value:e.gearbox}),K.some(me=>"last vikt lasta".includes(me))&&ae.specs.push({label:"Max Lastvikt",value:`${e.weights.load} kg`}),ae.articles=ES.filter(me=>{const W=me.content.toLowerCase();return K.some(Y=>W.includes(Y))}),ae.inventory=n.filter(me=>K.some(W=>me.name.toLowerCase().includes(W))),ae},[t.title,e,n]),O=()=>{r({...t,description:S,actualCost:parseInt(C)||0})},L=()=>{if(!v.trim())return;const K={id:Math.random().toString(36).substr(2,9),title:v,completed:!1};r({...t,subtasks:[...F,K]}),w("")},B=K=>{r({...t,subtasks:F.map(ae=>ae.id===K?{...ae,completed:!ae.completed}:ae)})},P=K=>{r({...t,subtasks:F.filter(ae=>ae.id!==K)})},j=()=>{if(!u.trim())return;const K={id:Math.random().toString(36).substr(2,9),text:u,createdAt:new Date().toISOString(),author:"user"};r({...t,comments:[...t.comments,K]}),c("")},H=()=>{if(!p.trim())return;const K={id:Math.random().toString(36).substr(2,9),title:d||p,url:p.startsWith("http")?p:`https://${p}`};r({...t,links:[...t.links,K]}),h(""),g("")},de=K=>{r({...t,links:t.links.filter(ae=>ae.id!==K)})},te=K=>{var me;const ae=(me=K.target.files)==null?void 0:me[0];if(ae){const W=new FileReader;W.onloadend=()=>{const Y={id:Math.random().toString(36).substr(2,9),name:ae.name,type:ae.type.startsWith("image/")?"image":"file",data:W.result};r({...t,attachments:[...t.attachments,Y]})},W.readAsDataURL(ae)}},X=K=>{r({...t,attachments:t.attachments.filter(ae=>ae.id!==K)})};return T.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/30 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[T.jsxs("div",{className:"p-6 bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-dark-bg dark:to-nordic-dark-surface border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-bold uppercase tracking-wider ${t.status==="Klart"?"bg-nordic-green text-green-800":"bg-nordic-blue text-blue-800"}`,children:t.status}),T.jsx("span",{className:"text-slate-400 text-xs font-mono uppercase",children:t.phase})]}),T.jsx("h2",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:t.title})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{className:"hidden sm:flex items-center gap-2 px-3 py-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-xl text-xs font-bold text-nordic-charcoal dark:text-nordic-ice hover:bg-teal-50 dark:hover:bg-teal-900/20 transition-colors",children:[T.jsx(W1,{size:16})," Frga Elton om detta"]}),T.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full transition-colors",children:T.jsx(yp,{size:24,className:"text-slate-500 dark:text-slate-400"})})]})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto",children:[T.jsxs("div",{className:"flex border-b border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-surface sticky top-0 z-10",children:[T.jsx("button",{onClick:()=>s("details"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${a==="details"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:"Detaljer & Checklistor"}),T.jsxs("button",{onClick:()=>s("decision"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors flex items-center justify-center gap-2 ${a==="decision"?"border-amber-400 text-amber-600 dark:text-amber-400":"border-transparent text-slate-400 hover:text-amber-500"}`,children:[T.jsx(IM,{size:16}),"Beslutsstd"]}),T.jsxs("button",{onClick:()=>s("comments"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${a==="comments"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:["Kommentarer (",t.comments.length,")"]})]}),T.jsxs("div",{className:"p-6",children:[a==="details"&&T.jsxs("div",{className:"space-y-8",children:[T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Beskrivning"}),T.jsx("textarea",{value:S,onChange:K=>A(K.target.value),onBlur:O,className:"w-full p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal focus:ring-2 focus:ring-teal-500/20 focus:outline-none text-slate-700 dark:text-nordic-ice min-h-[80px]"})]}),T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg/30 p-4 rounded-2xl border border-slate-100 dark:border-nordic-charcoal",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[T.jsx(C5,{size:18,className:"text-teal-600"})," Checklista"]}),F.length>0&&T.jsxs("span",{className:"text-xs font-bold text-slate-400",children:[Math.round(V),"%"]})]}),F.length>0&&T.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-nordic-charcoal rounded-full mb-4 overflow-hidden",children:T.jsx("div",{className:"h-full bg-teal-500 transition-all duration-500",style:{width:`${V}%`}})}),T.jsx("div",{className:"space-y-2 mb-3",children:F.map(K=>T.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 rounded-lg group cursor-pointer",onClick:()=>B(K.id),children:[T.jsx("div",{className:`transition-colors ${K.completed?"text-teal-600":"text-slate-300"}`,children:K.completed?T.jsx(el,{size:20}):T.jsx(uh,{size:20})}),T.jsx("span",{className:`flex-1 text-sm ${K.completed?"text-slate-400 line-through decoration-slate-300":"text-nordic-charcoal dark:text-slate-200"}`,children:K.title}),T.jsx("button",{onClick:ae=>{ae.stopPropagation(),P(K.id)},className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:T.jsx(Fc,{size:14})})]},K.id))}),T.jsxs("div",{className:"flex gap-2 items-center mt-2",children:[T.jsx(Uc,{size:16,className:"text-slate-400 ml-2"}),T.jsx("input",{placeholder:"Lgg till en punkt...",value:v,onChange:K=>w(K.target.value),onKeyDown:K=>K.key==="Enter"&&L(),className:"flex-1 bg-transparent text-sm p-1 focus:outline-none dark:text-white placeholder:text-slate-400"}),T.jsx("button",{onClick:L,disabled:!v.trim(),className:"text-xs font-bold bg-slate-100 dark:bg-nordic-charcoal px-3 py-1.5 rounded-lg hover:bg-slate-200 dark:hover:bg-nordic-dark-surface transition-colors disabled:opacity-0",children:"Lgg till"})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[T.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Estimat"}),T.jsxs("span",{className:"text-xl font-mono font-medium text-slate-700 dark:text-nordic-ice",children:[t.estimatedCostMin," - ",t.estimatedCostMax," kr"]})]}),T.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[T.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Verklig Kostnad"}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("input",{type:"number",value:C,onChange:K=>U(K.target.value),onBlur:O,className:"w-24 bg-transparent font-mono text-xl font-medium text-nordic-charcoal dark:text-nordic-ice focus:outline-none border-b border-slate-300 dark:border-slate-600 focus:border-teal-500"}),T.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"kr"})]})]})]})]}),T.jsxs("div",{children:[T.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[T.jsx(K1,{size:18})," Lnkar"]}),T.jsx("div",{className:"space-y-2 mb-3",children:t.links.map(K=>T.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl group hover:border-teal-200 transition-colors",children:[T.jsxs("a",{href:K.url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-teal-700 dark:text-teal-400 font-medium hover:underline truncate",children:[T.jsx(K1,{size:14})," ",K.title]}),T.jsx("button",{onClick:()=>de(K.id),className:"text-slate-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:T.jsx(Fc,{size:16})})]},K.id))}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{placeholder:"Titel (t.ex. Mekonomen)",value:d,onChange:K=>h(K.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),T.jsx("input",{placeholder:"https://...",value:p,onChange:K=>g(K.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),T.jsx("button",{onClick:H,disabled:!p,className:"p-2 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-lg hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:T.jsx(Uc,{size:18})})]})]}),T.jsxs("div",{children:[T.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[T.jsx(R5,{size:18})," Filer & Kvitton"]}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-3",children:[t.attachments.map(K=>T.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-slate-200 dark:border-nordic-charcoal aspect-square bg-slate-50 dark:bg-nordic-dark-bg flex items-center justify-center",children:[K.type==="image"?T.jsx("img",{src:K.data,alt:K.name,className:"w-full h-full object-cover"}):T.jsxs("div",{className:"text-center p-2",children:[T.jsx(bS,{className:"mx-auto mb-1 text-slate-400"}),T.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:K.name})]}),T.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:T.jsx("button",{onClick:()=>X(K.id),className:"p-2 bg-white rounded-full text-rose-500 hover:bg-rose-50",children:T.jsx(Fc,{size:16})})})]},K.id)),T.jsxs("label",{className:"cursor-pointer rounded-xl border-2 border-dashed border-slate-200 dark:border-nordic-charcoal hover:border-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900/10 transition-all aspect-square flex flex-col items-center justify-center text-slate-400 hover:text-teal-600 dark:hover:text-teal-400",children:[T.jsx(Uc,{size:24,className:"mb-1"}),T.jsx("span",{className:"text-xs font-medium",children:"Ladda upp"}),T.jsx("input",{type:"file",onChange:te,className:"hidden"})]})]})]})]}),a==="decision"&&T.jsxs("div",{className:"space-y-6",children:[(D.specs.length>0||D.articles.length>0||D.inventory.length>0)&&T.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-5 rounded-2xl border border-indigo-100 dark:border-indigo-800",children:[T.jsxs("h3",{className:"font-serif font-bold text-lg text-indigo-900 dark:text-indigo-200 mb-4 flex items-center gap-2",children:[T.jsx(U5,{size:18})," Eltons Tekniska Noteringar"]}),T.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[D.specs.length>0&&T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[T.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block",children:"Specifikationer"}),T.jsx("div",{className:"grid grid-cols-2 gap-2",children:D.specs.map((K,ae)=>T.jsxs("div",{children:[T.jsx("span",{className:"text-xs text-slate-500 block",children:K.label}),T.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm",children:K.value})]},ae))})]}),D.inventory.length>0&&T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[T.jsxs("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[T.jsx(D5,{size:12})," Frn Inkpslistan"]}),T.jsx("div",{className:"space-y-1",children:D.inventory.map((K,ae)=>T.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[K.checked?T.jsx(el,{size:14,className:"text-green-500"}):T.jsx(uh,{size:14,className:"text-slate-300"}),T.jsx("span",{className:K.checked?"text-slate-400 line-through":"text-nordic-charcoal dark:text-nordic-ice",children:K.name})]},ae))})]}),D.articles.map(K=>T.jsx("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50 hover:border-indigo-300 transition-colors group cursor-pointer",children:T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx(fae,{className:"text-indigo-500 shrink-0 mt-1",size:18}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice group-hover:underline",children:K.title}),T.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 line-clamp-2",children:K.summary})]})]})},K.id))]})]}),T.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-2xl border border-amber-100 dark:border-amber-800 text-amber-800 dark:text-amber-200 text-sm flex gap-3",children:[T.jsx(IM,{className:"shrink-0",size:20}),T.jsx("p",{children:"Hr kan du jmfra olika vgar framt. Vad r vrt mest  din tid eller dina pengar?"})]}),M?T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.decisionOptions.map(K=>T.jsxs("div",{className:`p-6 rounded-3xl border-2 relative ${K.recommended?"border-teal-400 bg-teal-50 dark:bg-teal-900/10":"border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-bg"}`,children:[K.recommended&&T.jsx("div",{className:"absolute -top-3 left-6 bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full",children:"Rekommenderas"}),T.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-1",children:K.title}),T.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted text-sm mb-4",children:K.description}),T.jsxs("div",{className:"bg-nordic-ice dark:bg-nordic-charcoal p-3 rounded-xl mb-4 text-center",children:[T.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Prisspann"}),T.jsx("span",{className:"font-mono font-bold text-lg text-nordic-charcoal dark:text-white",children:K.costRange})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-xs font-bold text-green-600 dark:text-green-400 uppercase block mb-2",children:"Frdelar"}),T.jsx("ul",{className:"space-y-1",children:K.pros.map((ae,me)=>T.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[T.jsx(t0,{size:14,className:"text-green-500 mt-0.5 shrink-0"})," ",ae]},me))})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-xs font-bold text-rose-500 dark:text-rose-400 uppercase block mb-2",children:"Nackdelar"}),T.jsx("ul",{className:"space-y-1",children:K.cons.map((ae,me)=>T.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[T.jsx(Iae,{size:14,className:"text-rose-400 mt-0.5 shrink-0"})," ",ae]},me))})]})]})]},K.id))}):T.jsx("div",{className:"text-center py-8 text-slate-400 italic",children:"Inga manuella alternativ inlagda n."})]}),a==="comments"&&T.jsxs("div",{className:"flex flex-col h-[500px]",children:[T.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto pr-2",children:[t.comments.length===0&&T.jsxs("div",{className:"text-center py-10 text-slate-400",children:[T.jsx(W1,{size:48,className:"mx-auto mb-2 opacity-20"}),T.jsx("p",{children:"Inga kommentarer n."})]}),t.comments.map(K=>T.jsxs("div",{className:`p-4 rounded-2xl max-w-[90%] ${K.author==="user"?"bg-nordic-ice dark:bg-teal-900/30 ml-auto rounded-br-none":"bg-white dark:bg-nordic-charcoal border border-slate-100 dark:border-nordic-dark-bg mr-auto rounded-bl-none"}`,children:[T.jsx("p",{className:"text-slate-700 dark:text-slate-200 text-sm leading-relaxed",children:K.text}),T.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-right",children:new Date(K.createdAt).toLocaleString()})]},K.id))]}),T.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-nordic-charcoal flex gap-2",children:[T.jsx("input",{value:u,onChange:K=>c(K.target.value),onKeyDown:K=>K.key==="Enter"&&j(),placeholder:"Skriv en kommentar...",className:"flex-1 p-3 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 dark:text-white"}),T.jsx("button",{onClick:j,disabled:!u.trim(),className:"p-3 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:T.jsx(P5,{size:18})})]})]})]})]})]})})},$le=({tasks:t,shoppingItems:e,vehicleData:n,onUpdateTask:r,initialFilter:i="ALL"})=>{const[a,s]=R.useState(pr.ACUTE),[u,c]=R.useState(i),[d,h]=R.useState(null);R.useEffect(()=>{c(i),i!=="ALL"&&s(i)},[i]);const p=C=>{s(a===C?null:C)},g=Object.values(pr),v=u==="ALL"?g:[u],w=C=>{switch(C){case _t.DONE:return"bg-nordic-green text-green-900 border-green-200 dark:bg-green-900/40 dark:text-green-200 dark:border-green-900";case _t.IN_PROGRESS:return"bg-nordic-blue text-blue-900 border-blue-200 dark:bg-blue-900/40 dark:text-blue-200 dark:border-blue-900";case _t.TODO:return"bg-nordic-pink text-rose-900 border-rose-200 dark:bg-rose-900/40 dark:text-rose-200 dark:border-rose-900";default:return"bg-slate-100"}},S=C=>{switch(C){case rr.HIGH:return"text-rose-600 bg-rose-50 dark:bg-rose-900/20 dark:text-rose-300 border-rose-100 dark:border-rose-900";case rr.MEDIUM:return"text-amber-600 bg-amber-50 dark:bg-amber-900/20 dark:text-amber-300 border-amber-100 dark:border-amber-900";default:return"text-slate-500 bg-slate-50 dark:bg-slate-800 dark:text-slate-400 border-slate-100 dark:border-slate-700"}},A=C=>{const U=C.status===_t.TODO?_t.IN_PROGRESS:C.status===_t.IN_PROGRESS?_t.DONE:_t.TODO;r({...C,status:U})};return T.jsxs("div",{className:"space-y-6 pb-20",children:[T.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide",children:[T.jsx("button",{onClick:()=>c("ALL"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${u==="ALL"?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:"Alla Faser"}),g.map(C=>T.jsx("button",{onClick:()=>c(C),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${u===C?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:C.split(":")[0]},C))]}),v.map(C=>{const U=t.filter(F=>F.phase===C),M=a===C||v.length===1;return T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm overflow-hidden transition-all duration-500 ease-in-out",children:[T.jsx("button",{onClick:()=>p(C),className:"w-full flex items-center justify-between p-6 bg-white dark:bg-nordic-dark-surface hover:bg-nordic-ice/30 dark:hover:bg-nordic-charcoal/30 transition-colors",children:T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("div",{className:`p-2.5 rounded-xl transition-colors ${M?"bg-nordic-charcoal text-white dark:bg-teal-600":"bg-nordic-ice text-slate-500 dark:bg-nordic-charcoal dark:text-nordic-ice"}`,children:M?T.jsx(A5,{size:20}):T.jsx(k5,{size:20})}),T.jsxs("div",{className:"text-left",children:[T.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:C}),T.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-nordic-dark-muted mt-1",children:[T.jsxs("span",{className:"bg-nordic-green/50 dark:bg-green-900/30 px-2 py-0.5 rounded-full text-xs text-green-900 dark:text-green-200 font-medium",children:[U.filter(F=>F.status===_t.DONE).length," Klara"]}),T.jsx("span",{children:""}),T.jsxs("span",{children:[U.length," Totalt"]})]})]})]})}),M&&T.jsxs("div",{className:"p-6 pt-0 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 bg-nordic-ice/20 dark:bg-black/10 border-t border-nordic-ice dark:border-nordic-dark-bg",children:[T.jsx("div",{className:"h-2 col-span-full"})," ",U.map(F=>{var D,O,L;const q=F.subtasks||[],V=q.filter(B=>B.completed).length;return T.jsxs("div",{onClick:()=>h(F),className:`group relative p-5 rounded-2xl border transition-all duration-300 hover:-translate-y-1 hover:shadow-lg flex flex-col justify-between cursor-pointer ${F.status===_t.DONE?"bg-white dark:bg-nordic-dark-bg border-slate-100 dark:border-nordic-charcoal opacity-70 hover:opacity-100":"bg-white dark:bg-nordic-dark-bg border-slate-200 dark:border-nordic-charcoal shadow-sm"}`,children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between items-start mb-3",children:[T.jsx("span",{className:`text-[10px] px-2.5 py-1 rounded-full font-bold uppercase tracking-wider ${w(F.status)}`,children:F.status}),T.jsxs("div",{className:"flex gap-1",children:[F.priority&&T.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-bold uppercase border ${S(F.priority)}`,children:F.priority}),F.tags.includes("Kritisk")&&T.jsx("span",{className:"text-rose-500 animate-pulse",children:T.jsx(Aae,{size:16})})]})]}),T.jsx("h4",{className:`font-bold text-lg mb-2 ${F.status===_t.DONE?"text-slate-500 dark:text-nordic-dark-muted line-through decoration-2 decoration-slate-300":"text-nordic-charcoal dark:text-nordic-ice"}`,children:F.title}),F.sprint&&T.jsxs("div",{className:"mb-2 inline-flex items-center gap-1.5 px-2 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-md text-xs font-medium border border-indigo-100 dark:border-indigo-900/30",children:[T.jsx(pae,{size:12}),F.sprint]}),T.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted leading-relaxed mb-4 line-clamp-2",children:F.description})]}),T.jsxs("div",{className:"flex flex-col gap-3 mt-2 pt-4 border-t border-slate-50 dark:border-nordic-charcoal",children:[T.jsxs("div",{className:"flex gap-3 text-slate-400",children:[q.length>0&&T.jsxs("div",{className:`flex items-center gap-1 text-xs ${V===q.length?"text-green-500":"text-slate-400"}`,children:[T.jsx(C5,{size:14}),T.jsxs("span",{children:[V,"/",q.length]})]}),((D=F.comments)==null?void 0:D.length)>0&&T.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[T.jsx(W1,{size:14}),T.jsx("span",{children:F.comments.length})]}),((O=F.attachments)==null?void 0:O.length)>0&&T.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[T.jsx(R5,{size:14}),T.jsx("span",{children:F.attachments.length})]}),((L=F.links)==null?void 0:L.length)>0&&T.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[T.jsx(eoe,{size:14}),T.jsx("span",{children:F.links.length})]})]}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Estimat"}),T.jsxs("span",{className:"text-sm font-mono text-slate-600 dark:text-slate-300",children:[F.estimatedCostMin,"-",F.estimatedCostMax," kr"]})]}),T.jsx("button",{onClick:B=>{B.stopPropagation(),A(F)},className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${F.status===_t.DONE?"bg-nordic-green text-green-800 scale-110 shadow-inner":"bg-slate-100 dark:bg-nordic-charcoal text-slate-400 hover:bg-nordic-blue hover:text-blue-800 hover:scale-110"}`,children:T.jsx(t0,{size:20,strokeWidth:F.status===_t.DONE?3:2})})]})]})]},F.id)})]})]},C)}),d&&T.jsx(Gle,{task:d,vehicleData:n,shoppingItems:e,onUpdate:C=>{r(C),h(C)},onClose:()=>h(null)})]})};function Kle(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Wle=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Yle=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Jle={};function zM(t,e){return(Jle.jsx?Yle:Wle).test(t)}const Xle=/[ \t\n\f\r]/g;function Qle(t){return typeof t=="object"?t.type==="text"?qM(t.value):!1:qM(t)}function qM(t){return t.replace(Xle,"")===""}class vp{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}vp.prototype.normal={};vp.prototype.property={};vp.prototype.space=void 0;function H5(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new vp(n,r,e)}function J1(t){return t.toLowerCase()}class Kr{constructor(e,n){this.attribute=n,this.property=e}}Kr.prototype.attribute="";Kr.prototype.booleanish=!1;Kr.prototype.boolean=!1;Kr.prototype.commaOrSpaceSeparated=!1;Kr.prototype.commaSeparated=!1;Kr.prototype.defined=!1;Kr.prototype.mustUseProperty=!1;Kr.prototype.number=!1;Kr.prototype.overloadedBoolean=!1;Kr.prototype.property="";Kr.prototype.spaceSeparated=!1;Kr.prototype.space=void 0;let Zle=0;const Ze=Su(),An=Su(),X1=Su(),Te=Su(),Lt=Su(),jc=Su(),ri=Su();function Su(){return 2**++Zle}const Q1=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ze,booleanish:An,commaOrSpaceSeparated:ri,commaSeparated:jc,number:Te,overloadedBoolean:X1,spaceSeparated:Lt},Symbol.toStringTag,{value:"Module"})),yE=Object.keys(Q1);class TS extends Kr{constructor(e,n,r,i){let a=-1;if(super(e,n),HM(this,"space",i),typeof r=="number")for(;++a<yE.length;){const s=yE[a];HM(this,yE[a],(r&Q1[s])===Q1[s])}}}TS.prototype.defined=!0;function HM(t,e,n){n&&(t[e]=n)}function wd(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new TS(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[J1(r)]=r,n[J1(a.attribute)]=r}return new vp(e,n,t.space)}const G5=wd({properties:{ariaActiveDescendant:null,ariaAtomic:An,ariaAutoComplete:null,ariaBusy:An,ariaChecked:An,ariaColCount:Te,ariaColIndex:Te,ariaColSpan:Te,ariaControls:Lt,ariaCurrent:null,ariaDescribedBy:Lt,ariaDetails:null,ariaDisabled:An,ariaDropEffect:Lt,ariaErrorMessage:null,ariaExpanded:An,ariaFlowTo:Lt,ariaGrabbed:An,ariaHasPopup:null,ariaHidden:An,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Lt,ariaLevel:Te,ariaLive:null,ariaModal:An,ariaMultiLine:An,ariaMultiSelectable:An,ariaOrientation:null,ariaOwns:Lt,ariaPlaceholder:null,ariaPosInSet:Te,ariaPressed:An,ariaReadOnly:An,ariaRelevant:null,ariaRequired:An,ariaRoleDescription:Lt,ariaRowCount:Te,ariaRowIndex:Te,ariaRowSpan:Te,ariaSelected:An,ariaSetSize:Te,ariaSort:null,ariaValueMax:Te,ariaValueMin:Te,ariaValueNow:Te,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function $5(t,e){return e in t?t[e]:e}function K5(t,e){return $5(t,e.toLowerCase())}const eue=wd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:jc,acceptCharset:Lt,accessKey:Lt,action:null,allow:null,allowFullScreen:Ze,allowPaymentRequest:Ze,allowUserMedia:Ze,alt:null,as:null,async:Ze,autoCapitalize:null,autoComplete:Lt,autoFocus:Ze,autoPlay:Ze,blocking:Lt,capture:null,charSet:null,checked:Ze,cite:null,className:Lt,cols:Te,colSpan:null,content:null,contentEditable:An,controls:Ze,controlsList:Lt,coords:Te|jc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ze,defer:Ze,dir:null,dirName:null,disabled:Ze,download:X1,draggable:An,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ze,formTarget:null,headers:Lt,height:Te,hidden:X1,high:Te,href:null,hrefLang:null,htmlFor:Lt,httpEquiv:Lt,id:null,imageSizes:null,imageSrcSet:null,inert:Ze,inputMode:null,integrity:null,is:null,isMap:Ze,itemId:null,itemProp:Lt,itemRef:Lt,itemScope:Ze,itemType:Lt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ze,low:Te,manifest:null,max:null,maxLength:Te,media:null,method:null,min:null,minLength:Te,multiple:Ze,muted:Ze,name:null,nonce:null,noModule:Ze,noValidate:Ze,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ze,optimum:Te,pattern:null,ping:Lt,placeholder:null,playsInline:Ze,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ze,referrerPolicy:null,rel:Lt,required:Ze,reversed:Ze,rows:Te,rowSpan:Te,sandbox:Lt,scope:null,scoped:Ze,seamless:Ze,selected:Ze,shadowRootClonable:Ze,shadowRootDelegatesFocus:Ze,shadowRootMode:null,shape:null,size:Te,sizes:null,slot:null,span:Te,spellCheck:An,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Te,step:null,style:null,tabIndex:Te,target:null,title:null,translate:null,type:null,typeMustMatch:Ze,useMap:null,value:An,width:Te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Lt,axis:null,background:null,bgColor:null,border:Te,borderColor:null,bottomMargin:Te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ze,declare:Ze,event:null,face:null,frame:null,frameBorder:null,hSpace:Te,leftMargin:Te,link:null,longDesc:null,lowSrc:null,marginHeight:Te,marginWidth:Te,noResize:Ze,noHref:Ze,noShade:Ze,noWrap:Ze,object:null,profile:null,prompt:null,rev:null,rightMargin:Te,rules:null,scheme:null,scrolling:An,standby:null,summary:null,text:null,topMargin:Te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ze,disableRemotePlayback:Ze,prefix:null,property:null,results:Te,security:null,unselectable:null},space:"html",transform:K5}),tue=wd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ri,accentHeight:Te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Te,amplitude:Te,arabicForm:null,ascent:Te,attributeName:null,attributeType:null,azimuth:Te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Te,by:null,calcMode:null,capHeight:Te,className:Lt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Te,diffuseConstant:Te,direction:null,display:null,dur:null,divisor:Te,dominantBaseline:null,download:Ze,dx:null,dy:null,edgeMode:null,editable:null,elevation:Te,enableBackground:null,end:null,event:null,exponent:Te,externalResourcesRequired:null,fill:null,fillOpacity:Te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:jc,g2:jc,glyphName:jc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Te,horizOriginX:Te,horizOriginY:Te,id:null,ideographic:Te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Te,k:Te,k1:Te,k2:Te,k3:Te,k4:Te,kernelMatrix:ri,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Te,overlineThickness:Te,paintOrder:null,panose1:null,path:null,pathLength:Te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Lt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Te,pointsAtY:Te,pointsAtZ:Te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ri,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ri,rev:ri,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ri,requiredFeatures:ri,requiredFonts:ri,requiredFormats:ri,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Te,specularExponent:Te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Te,strikethroughThickness:Te,string:null,stroke:null,strokeDashArray:ri,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Te,strokeOpacity:Te,strokeWidth:null,style:null,surfaceScale:Te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ri,tabIndex:Te,tableValues:null,target:null,targetX:Te,targetY:Te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ri,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Te,underlineThickness:Te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Te,values:null,vAlphabetic:Te,vMathematical:Te,vectorEffect:null,vHanging:Te,vIdeographic:Te,version:null,vertAdvY:Te,vertOriginX:Te,vertOriginY:Te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:$5}),W5=wd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Y5=wd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:K5}),J5=wd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),nue={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},rue=/[A-Z]/g,GM=/-[a-z]/g,iue=/^data[-\w.:]+$/i;function aue(t,e){const n=J1(e);let r=e,i=Kr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&iue.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(GM,sue);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!GM.test(a)){let s=a.replace(rue,oue);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=TS}return new i(r,e)}function oue(t){return"-"+t.toLowerCase()}function sue(t){return t.charAt(1).toUpperCase()}const lue=H5([G5,eue,W5,Y5,J5],"html"),wS=H5([G5,tue,W5,Y5,J5],"svg");function uue(t){return t.join(" ").trim()}var Tc={},vE,$M;function cue(){if($M)return vE;$M=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,u=/^\s+|\s+$/g,c=`
`,d="/",h="*",p="",g="comment",v="declaration";function w(A,C){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];C=C||{};var U=1,M=1;function F(de){var te=de.match(e);te&&(U+=te.length);var X=de.lastIndexOf(c);M=~X?de.length-X:M+de.length}function q(){var de={line:U,column:M};return function(te){return te.position=new V(de),L(),te}}function V(de){this.start=de,this.end={line:U,column:M},this.source=C.source}V.prototype.content=A;function D(de){var te=new Error(C.source+":"+U+":"+M+": "+de);if(te.reason=de,te.filename=C.source,te.line=U,te.column=M,te.source=A,!C.silent)throw te}function O(de){var te=de.exec(A);if(te){var X=te[0];return F(X),A=A.slice(X.length),te}}function L(){O(n)}function B(de){var te;for(de=de||[];te=P();)te!==!1&&de.push(te);return de}function P(){var de=q();if(!(d!=A.charAt(0)||h!=A.charAt(1))){for(var te=2;p!=A.charAt(te)&&(h!=A.charAt(te)||d!=A.charAt(te+1));)++te;if(te+=2,p===A.charAt(te-1))return D("End of comment missing");var X=A.slice(2,te-2);return M+=2,F(X),A=A.slice(te),M+=2,de({type:g,comment:X})}}function j(){var de=q(),te=O(r);if(te){if(P(),!O(i))return D("property missing ':'");var X=O(a),K=de({type:v,property:S(te[0].replace(t,p)),value:X?S(X[0].replace(t,p)):p});return O(s),K}}function H(){var de=[];B(de);for(var te;te=j();)te!==!1&&(de.push(te),B(de));return de}return L(),H()}function S(A){return A?A.replace(u,p):p}return vE=w,vE}var KM;function due(){if(KM)return Tc;KM=1;var t=Tc&&Tc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.default=n;const e=t(cue());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const s=(0,e.default)(r),u=typeof i=="function";return s.forEach(c=>{if(c.type!=="declaration")return;const{property:d,value:h}=c;u?i(d,h,c):h&&(a=a||{},a[d]=h)}),a}return Tc}var Kf={},WM;function fue(){if(WM)return Kf;WM=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},s=function(d,h){return h.toUpperCase()},u=function(d,h){return"".concat(h,"-")},c=function(d,h){return h===void 0&&(h={}),a(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(i,u):d=d.replace(r,u),d.replace(e,s))};return Kf.camelCase=c,Kf}var Wf,YM;function hue(){if(YM)return Wf;YM=1;var t=Wf&&Wf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(due()),n=fue();function r(i,a){var s={};return!i||typeof i!="string"||(0,e.default)(i,function(u,c){u&&c&&(s[(0,n.camelCase)(u,a)]=c)}),s}return r.default=r,Wf=r,Wf}var pue=hue();const mue=Bi(pue),X5=Q5("end"),SS=Q5("start");function Q5(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function gue(t){const e=SS(t),n=X5(t);if(e&&n)return{start:e,end:n}}function ch(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?JM(t.position):"start"in t||"end"in t?JM(t):"line"in t||"column"in t?Z1(t):""}function Z1(t){return XM(t&&t.line)+":"+XM(t&&t.column)}function JM(t){return Z1(t&&t.start)+"-"+Z1(t&&t.end)}function XM(t){return t&&typeof t=="number"?t:1}class xr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const u=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=ch(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}xr.prototype.file="";xr.prototype.name="";xr.prototype.reason="";xr.prototype.message="";xr.prototype.stack="";xr.prototype.column=void 0;xr.prototype.line=void 0;xr.prototype.ancestors=void 0;xr.prototype.cause=void 0;xr.prototype.fatal=void 0;xr.prototype.place=void 0;xr.prototype.ruleId=void 0;xr.prototype.source=void 0;const AS={}.hasOwnProperty,yue=new Map,vue=/[A-Z]/g,bue=new Set(["table","tbody","thead","tfoot","tr"]),_ue=new Set(["td","th"]),Z5="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xue(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Iue(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Cue(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?wS:lue,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=eF(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function eF(t,e,n){if(e.type==="element")return Eue(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Tue(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Sue(t,e,n);if(e.type==="mdxjsEsm")return wue(t,e);if(e.type==="root")return Aue(t,e,n);if(e.type==="text")return kue(t,e)}function Eue(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=wS,t.schema=i),t.ancestors.push(e);const a=nF(t,e.tagName,!1),s=Rue(t,e);let u=CS(t,e);return bue.has(e.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!Qle(c):!0})),tF(t,s,a,e),kS(s,u),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function Tue(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Lh(t,e.position)}function wue(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Lh(t,e.position)}function Sue(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=wS,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:nF(t,e.name,!0),s=Nue(t,e),u=CS(t,e);return tF(t,s,a,e),kS(s,u),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function Aue(t,e,n){const r={};return kS(r,CS(t,e)),t.create(e,t.Fragment,r,n)}function kue(t,e){return e.value}function tF(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function kS(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Cue(t,e,n){return r;function r(i,a,s,u){const d=Array.isArray(s.children)?n:e;return u?d(a,s,u):d(a,s)}}function Iue(t,e){return n;function n(r,i,a,s){const u=Array.isArray(a.children),c=SS(r);return e(i,a,s,u,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function Rue(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&AS.call(e.properties,i)){const a=Pue(t,i,e.properties[i]);if(a){const[s,u]=a;t.tableCellAlignToStyle&&s==="align"&&typeof u=="string"&&_ue.has(e.tagName)?r=u:n[s]=u}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Nue(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const u=s.properties[0];u.type,Object.assign(n,t.evaluater.evaluateExpression(u.argument))}else Lh(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const u=r.value.data.estree.body[0];u.type,a=t.evaluater.evaluateExpression(u.expression)}else Lh(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function CS(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:yue;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const d=i.get(c)||0;s=c+"-"+d,i.set(c,d+1)}}const u=eF(t,a,s);u!==void 0&&n.push(u)}return n}function Pue(t,e,n){const r=aue(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Kle(n):uue(n)),r.property==="style"){let i=typeof n=="object"?n:Mue(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Due(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?nue[r.property]||r.property:r.attribute,n]}}function Mue(t,e){try{return mue(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new xr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=Z5+"#cannot-parse-style-attribute",i}}function nF(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const u=zM(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:u,computed:!!(a&&u.type==="Literal"),optional:!1}:u}r=s}else r=zM(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return AS.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Lh(t)}function Lh(t,e){const n=new xr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Z5+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Due(t){const e={};let n;for(n in t)AS.call(t,n)&&(e[Oue(n)]=t[n]);return e}function Oue(t){let e=t.replace(vue,Lue);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Lue(t){return"-"+t.toLowerCase()}const bE={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Uue={};function Vue(t,e){const n=Uue,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return rF(t,r,i)}function rF(t,e,n){if(Fue(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return QM(t.children,e,n)}return Array.isArray(t)?QM(t,e,n):""}function QM(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=rF(t[i],e,n);return r.join("")}function Fue(t){return!!(t&&typeof t=="object")}const ZM=document.createElement("i");function IS(t){const e="&"+t+";";ZM.innerHTML=e;const n=ZM.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function to(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Ni(t,e){return t.length>0?(to(t,t.length,0,e),t):e}const eD={}.hasOwnProperty;function Bue(t){const e={};let n=-1;for(;++n<t.length;)jue(e,t[n]);return e}function jue(t,e){let n;for(n in e){const i=(eD.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){eD.call(i,s)||(i[s]=[]);const u=a[s];zue(i[s],Array.isArray(u)?u:u?[u]:[])}}}function zue(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);to(t,0,0,r)}function iF(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function zc(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ba=hl(/[A-Za-z]/),li=hl(/[\dA-Za-z]/),que=hl(/[#-'*+\--9=?A-Z^-~]/);function eT(t){return t!==null&&(t<32||t===127)}const tT=hl(/\d/),Hue=hl(/[\dA-Fa-f]/),Gue=hl(/[!-/:-@[-`{-~]/);function $e(t){return t!==null&&t<-2}function Gr(t){return t!==null&&(t<0||t===32)}function bt(t){return t===-2||t===-1||t===32}const $ue=hl(new RegExp("\\p{P}|\\p{S}","u")),Kue=hl(/\s/);function hl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Sd(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&li(t.charCodeAt(n+1))&&li(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const u=t.charCodeAt(n+1);a<56320&&u>56319&&u<57344?(s=String.fromCharCode(a,u),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Ft(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(c){return bt(c)?(t.enter(n),u(c)):e(c)}function u(c){return bt(c)&&a++<i?(t.consume(c),u):(t.exit(n),e(c))}}const Wue={tokenize:Yue};function Yue(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Ft(t,e,"linePrefix")}function i(u){return t.enter("paragraph"),a(u)}function a(u){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,s(u)}function s(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return $e(u)?(t.consume(u),t.exit("chunkText"),a):(t.consume(u),s)}}const Jue={tokenize:Xue},tD={tokenize:Que};function Xue(t){const e=this,n=[];let r=0,i,a,s;return u;function u(M){if(r<n.length){const F=n[r];return e.containerState=F[1],t.attempt(F[0].continuation,c,d)(M)}return d(M)}function c(M){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&U();const F=e.events.length;let q=F,V;for(;q--;)if(e.events[q][0]==="exit"&&e.events[q][1].type==="chunkFlow"){V=e.events[q][1].end;break}C(r);let D=F;for(;D<e.events.length;)e.events[D][1].end={...V},D++;return to(e.events,q+1,0,e.events.slice(F)),e.events.length=D,d(M)}return u(M)}function d(M){if(r===n.length){if(!i)return g(M);if(i.currentConstruct&&i.currentConstruct.concrete)return w(M);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(tD,h,p)(M)}function h(M){return i&&U(),C(r),g(M)}function p(M){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,w(M)}function g(M){return e.containerState={},t.attempt(tD,v,w)(M)}function v(M){return r++,n.push([e.currentConstruct,e.containerState]),g(M)}function w(M){if(M===null){i&&U(),C(0),t.consume(M);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),S(M)}function S(M){if(M===null){A(t.exit("chunkFlow"),!0),C(0),t.consume(M);return}return $e(M)?(t.consume(M),A(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(M),S)}function A(M,F){const q=e.sliceStream(M);if(F&&q.push(null),M.previous=a,a&&(a.next=M),a=M,i.defineSkip(M.start),i.write(q),e.parser.lazy[M.start.line]){let V=i.events.length;for(;V--;)if(i.events[V][1].start.offset<s&&(!i.events[V][1].end||i.events[V][1].end.offset>s))return;const D=e.events.length;let O=D,L,B;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){if(L){B=e.events[O][1].end;break}L=!0}for(C(r),V=D;V<e.events.length;)e.events[V][1].end={...B},V++;to(e.events,O+1,0,e.events.slice(D)),e.events.length=V}}function C(M){let F=n.length;for(;F-- >M;){const q=n[F];e.containerState=q[1],q[0].exit.call(e,t)}n.length=M}function U(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Que(t,e,n){return Ft(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nD(t){if(t===null||Gr(t)||Kue(t))return 1;if($ue(t))return 2}function RS(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const nT={name:"attention",resolveAll:Zue,tokenize:ece};function Zue(t,e){let n=-1,r,i,a,s,u,c,d,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[r][1].end},g={...t[n][1].start};rD(p,-c),rD(g,c),s={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},a={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...s.start},end:{...u.end}},t[r][1].end={...s.start},t[n][1].start={...u.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Ni(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Ni(d,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),d=Ni(d,RS(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Ni(d,[["exit",a,e],["enter",u,e],["exit",u,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,d=Ni(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,to(t,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function ece(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=nD(r);let a;return s;function s(c){return a=c,t.enter("attentionSequence"),u(c)}function u(c){if(c===a)return t.consume(c),u;const d=t.exit("attentionSequence"),h=nD(c),p=!h||h===2&&i||n.includes(c),g=!i||i===2&&h||n.includes(r);return d._open=!!(a===42?p:p&&(i||!g)),d._close=!!(a===42?g:g&&(h||!p)),e(c)}}function rD(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const tce={name:"autolink",tokenize:nce};function nce(t,e,n){let r=0;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(v){return Ba(v)?(t.consume(v),s):v===64?n(v):d(v)}function s(v){return v===43||v===45||v===46||li(v)?(r=1,u(v)):d(v)}function u(v){return v===58?(t.consume(v),r=0,c):(v===43||v===45||v===46||li(v))&&r++<32?(t.consume(v),u):(r=0,d(v))}function c(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):v===null||v===32||v===60||eT(v)?n(v):(t.consume(v),c)}function d(v){return v===64?(t.consume(v),h):que(v)?(t.consume(v),d):n(v)}function h(v){return li(v)?p(v):n(v)}function p(v){return v===46?(t.consume(v),r=0,h):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):g(v)}function g(v){if((v===45||li(v))&&r++<63){const w=v===45?g:p;return t.consume(v),w}return n(v)}}const r0={partial:!0,tokenize:rce};function rce(t,e,n){return r;function r(a){return bt(a)?Ft(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||$e(a)?e(a):n(a)}}const aF={continuation:{tokenize:ace},exit:oce,name:"blockQuote",tokenize:ice};function ice(t,e,n){const r=this;return i;function i(s){if(s===62){const u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return bt(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function ace(t,e,n){const r=this;return i;function i(s){return bt(s)?Ft(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(aF,e,n)(s)}}function oce(t){t.exit("blockQuote")}const oF={name:"characterEscape",tokenize:sce};function sce(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return Gue(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const sF={name:"characterReference",tokenize:lce};function lce(t,e,n){const r=this;let i=0,a,s;return u;function u(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),c}function c(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,s=li,h(p))}function d(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=Hue,h):(t.enter("characterReferenceValue"),a=7,s=tT,h(p))}function h(p){if(p===59&&i){const g=t.exit("characterReferenceValue");return s===li&&!IS(r.sliceSerialize(g))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(p)&&i++<a?(t.consume(p),h):n(p)}}const iD={partial:!0,tokenize:cce},aD={concrete:!0,name:"codeFenced",tokenize:uce};function uce(t,e,n){const r=this,i={partial:!0,tokenize:q};let a=0,s=0,u;return c;function c(V){return d(V)}function d(V){const D=r.events[r.events.length-1];return a=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,u=V,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(V)}function h(V){return V===u?(s++,t.consume(V),h):s<3?n(V):(t.exit("codeFencedFenceSequence"),bt(V)?Ft(t,p,"whitespace")(V):p(V))}function p(V){return V===null||$e(V)?(t.exit("codeFencedFence"),r.interrupt?e(V):t.check(iD,S,F)(V)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(V))}function g(V){return V===null||$e(V)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(V)):bt(V)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ft(t,v,"whitespace")(V)):V===96&&V===u?n(V):(t.consume(V),g)}function v(V){return V===null||$e(V)?p(V):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),w(V))}function w(V){return V===null||$e(V)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(V)):V===96&&V===u?n(V):(t.consume(V),w)}function S(V){return t.attempt(i,F,A)(V)}function A(V){return t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),C}function C(V){return a>0&&bt(V)?Ft(t,U,"linePrefix",a+1)(V):U(V)}function U(V){return V===null||$e(V)?t.check(iD,S,F)(V):(t.enter("codeFlowValue"),M(V))}function M(V){return V===null||$e(V)?(t.exit("codeFlowValue"),U(V)):(t.consume(V),M)}function F(V){return t.exit("codeFenced"),e(V)}function q(V,D,O){let L=0;return B;function B(te){return V.enter("lineEnding"),V.consume(te),V.exit("lineEnding"),P}function P(te){return V.enter("codeFencedFence"),bt(te)?Ft(V,j,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):j(te)}function j(te){return te===u?(V.enter("codeFencedFenceSequence"),H(te)):O(te)}function H(te){return te===u?(L++,V.consume(te),H):L>=s?(V.exit("codeFencedFenceSequence"),bt(te)?Ft(V,de,"whitespace")(te):de(te)):O(te)}function de(te){return te===null||$e(te)?(V.exit("codeFencedFence"),D(te)):O(te)}}}function cce(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const _E={name:"codeIndented",tokenize:fce},dce={partial:!0,tokenize:hce};function fce(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),Ft(t,a,"linePrefix",5)(d)}function a(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(d):n(d)}function s(d){return d===null?c(d):$e(d)?t.attempt(dce,s,c)(d):(t.enter("codeFlowValue"),u(d))}function u(d){return d===null||$e(d)?(t.exit("codeFlowValue"),s(d)):(t.consume(d),u)}function c(d){return t.exit("codeIndented"),e(d)}}function hce(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):$e(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Ft(t,a,"linePrefix",5)(s)}function a(s){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(s):$e(s)?i(s):n(s)}}const pce={name:"codeText",previous:gce,resolve:mce,tokenize:yce};function mce(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function gce(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function yce(t,e,n){let r=0,i,a;return s;function s(p){return t.enter("codeText"),t.enter("codeTextSequence"),u(p)}function u(p){return p===96?(t.consume(p),r++,u):(t.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),c):p===96?(a=t.enter("codeTextSequence"),i=0,h(p)):$e(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||$e(p)?(t.exit("codeTextData"),c(p)):(t.consume(p),d)}function h(p){return p===96?(t.consume(p),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(a.type="codeTextData",d(p))}}class vce{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Yf(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Yf(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Yf(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Yf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Yf(this.left,n.reverse())}}}function Yf(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function lF(t){const e={};let n=-1,r,i,a,s,u,c,d;const h=new vce(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,bce(h,n)),n=e[n],d=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=h.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},u=h.slice(i,n),u.unshift(r),h.splice(i,n-i+1,u))}}return to(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function bce(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const u=s.events,c=[],d={};let h,p,g=-1,v=n,w=0,S=0;const A=[S];for(;v;){for(;t.get(++i)[1]!==v;);a.push(i),v._tokenizer||(h=r.sliceStream(v),v.next||h.push(null),p&&s.defineSkip(v.start),v._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),v._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),p=v,v=v.next}for(v=n;++g<u.length;)u[g][0]==="exit"&&u[g-1][0]==="enter"&&u[g][1].type===u[g-1][1].type&&u[g][1].start.line!==u[g][1].end.line&&(S=g+1,A.push(S),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(s.events=[],v?(v._tokenizer=void 0,v.previous=void 0):A.pop(),g=A.length;g--;){const C=u.slice(A[g],A[g+1]),U=a.pop();c.push([U,U+C.length-1]),t.splice(U,2,C)}for(c.reverse(),g=-1;++g<c.length;)d[w+c[g][0]]=w+c[g][1],w+=c[g][1]-c[g][0]-1;return d}const _ce={resolve:Ece,tokenize:Tce},xce={partial:!0,tokenize:wce};function Ece(t){return lF(t),t}function Tce(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?a(u):$e(u)?t.check(xce,s,a)(u):(t.consume(u),i)}function a(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function s(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function wce(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Ft(t,a,"linePrefix")}function a(s){if(s===null||$e(s))return n(s);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function uF(t,e,n,r,i,a,s,u,c){const d=c||Number.POSITIVE_INFINITY;let h=0;return p;function p(C){return C===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(C),t.exit(a),g):C===null||C===32||C===41||eT(C)?n(C):(t.enter(r),t.enter(s),t.enter(u),t.enter("chunkString",{contentType:"string"}),S(C))}function g(C){return C===62?(t.enter(a),t.consume(C),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),v(C))}function v(C){return C===62?(t.exit("chunkString"),t.exit(u),g(C)):C===null||C===60||$e(C)?n(C):(t.consume(C),C===92?w:v)}function w(C){return C===60||C===62||C===92?(t.consume(C),v):v(C)}function S(C){return!h&&(C===null||C===41||Gr(C))?(t.exit("chunkString"),t.exit(u),t.exit(s),t.exit(r),e(C)):h<d&&C===40?(t.consume(C),h++,S):C===41?(t.consume(C),h--,S):C===null||C===32||C===40||eT(C)?n(C):(t.consume(C),C===92?A:S)}function A(C){return C===40||C===41||C===92?(t.consume(C),S):S(C)}}function cF(t,e,n,r,i,a){const s=this;let u=0,c;return d;function d(v){return t.enter(r),t.enter(i),t.consume(v),t.exit(i),t.enter(a),h}function h(v){return u>999||v===null||v===91||v===93&&!c||v===94&&!u&&"_hiddenFootnoteSupport"in s.parser.constructs?n(v):v===93?(t.exit(a),t.enter(i),t.consume(v),t.exit(i),t.exit(r),e):$e(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||$e(v)||u++>999?(t.exit("chunkString"),h(v)):(t.consume(v),c||(c=!bt(v)),v===92?g:p)}function g(v){return v===91||v===92||v===93?(t.consume(v),u++,p):p(v)}}function dF(t,e,n,r,i,a){let s;return u;function u(g){return g===34||g===39||g===40?(t.enter(r),t.enter(i),t.consume(g),t.exit(i),s=g===40?41:g,c):n(g)}function c(g){return g===s?(t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):(t.enter(a),d(g))}function d(g){return g===s?(t.exit(a),c(s)):g===null?n(g):$e(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),Ft(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===s||g===null||$e(g)?(t.exit("chunkString"),d(g)):(t.consume(g),g===92?p:h)}function p(g){return g===s||g===92?(t.consume(g),h):h(g)}}function dh(t,e){let n;return r;function r(i){return $e(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):bt(i)?Ft(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Sce={name:"definition",tokenize:kce},Ace={partial:!0,tokenize:Cce};function kce(t,e,n){const r=this;let i;return a;function a(v){return t.enter("definition"),s(v)}function s(v){return cF.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function u(v){return i=zc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),c):n(v)}function c(v){return Gr(v)?dh(t,d)(v):d(v)}function d(v){return uF(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function h(v){return t.attempt(Ace,p,p)(v)}function p(v){return bt(v)?Ft(t,g,"whitespace")(v):g(v)}function g(v){return v===null||$e(v)?(t.exit("definition"),r.parser.defined.push(i),e(v)):n(v)}}function Cce(t,e,n){return r;function r(u){return Gr(u)?dh(t,i)(u):n(u)}function i(u){return dF(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function a(u){return bt(u)?Ft(t,s,"whitespace")(u):s(u)}function s(u){return u===null||$e(u)?e(u):n(u)}}const Ice={name:"hardBreakEscape",tokenize:Rce};function Rce(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return $e(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const Nce={name:"headingAtx",resolve:Pce,tokenize:Mce};function Pce(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},to(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function Mce(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),a(h)}function a(h){return t.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&r++<6?(t.consume(h),s):h===null||Gr(h)?(t.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(t.enter("atxHeadingSequence"),c(h)):h===null||$e(h)?(t.exit("atxHeading"),e(h)):bt(h)?Ft(t,u,"whitespace")(h):(t.enter("atxHeadingText"),d(h))}function c(h){return h===35?(t.consume(h),c):(t.exit("atxHeadingSequence"),u(h))}function d(h){return h===null||h===35||Gr(h)?(t.exit("atxHeadingText"),u(h)):(t.consume(h),d)}}const Dce=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],oD=["pre","script","style","textarea"],Oce={concrete:!0,name:"htmlFlow",resolveTo:Vce,tokenize:Fce},Lce={partial:!0,tokenize:jce},Uce={partial:!0,tokenize:Bce};function Vce(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Fce(t,e,n){const r=this;let i,a,s,u,c;return d;function d($){return h($)}function h($){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume($),p}function p($){return $===33?(t.consume($),g):$===47?(t.consume($),a=!0,S):$===63?(t.consume($),i=3,r.interrupt?e:W):Ba($)?(t.consume($),s=String.fromCharCode($),A):n($)}function g($){return $===45?(t.consume($),i=2,v):$===91?(t.consume($),i=5,u=0,w):Ba($)?(t.consume($),i=4,r.interrupt?e:W):n($)}function v($){return $===45?(t.consume($),r.interrupt?e:W):n($)}function w($){const ee="CDATA[";return $===ee.charCodeAt(u++)?(t.consume($),u===ee.length?r.interrupt?e:j:w):n($)}function S($){return Ba($)?(t.consume($),s=String.fromCharCode($),A):n($)}function A($){if($===null||$===47||$===62||Gr($)){const ee=$===47,ye=s.toLowerCase();return!ee&&!a&&oD.includes(ye)?(i=1,r.interrupt?e($):j($)):Dce.includes(s.toLowerCase())?(i=6,ee?(t.consume($),C):r.interrupt?e($):j($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):a?U($):M($))}return $===45||li($)?(t.consume($),s+=String.fromCharCode($),A):n($)}function C($){return $===62?(t.consume($),r.interrupt?e:j):n($)}function U($){return bt($)?(t.consume($),U):B($)}function M($){return $===47?(t.consume($),B):$===58||$===95||Ba($)?(t.consume($),F):bt($)?(t.consume($),M):B($)}function F($){return $===45||$===46||$===58||$===95||li($)?(t.consume($),F):q($)}function q($){return $===61?(t.consume($),V):bt($)?(t.consume($),q):M($)}function V($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(t.consume($),c=$,D):bt($)?(t.consume($),V):O($)}function D($){return $===c?(t.consume($),c=null,L):$===null||$e($)?n($):(t.consume($),D)}function O($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||Gr($)?q($):(t.consume($),O)}function L($){return $===47||$===62||bt($)?M($):n($)}function B($){return $===62?(t.consume($),P):n($)}function P($){return $===null||$e($)?j($):bt($)?(t.consume($),P):n($)}function j($){return $===45&&i===2?(t.consume($),X):$===60&&i===1?(t.consume($),K):$===62&&i===4?(t.consume($),Y):$===63&&i===3?(t.consume($),W):$===93&&i===5?(t.consume($),me):$e($)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Lce,se,H)($)):$===null||$e($)?(t.exit("htmlFlowData"),H($)):(t.consume($),j)}function H($){return t.check(Uce,de,se)($)}function de($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),te}function te($){return $===null||$e($)?H($):(t.enter("htmlFlowData"),j($))}function X($){return $===45?(t.consume($),W):j($)}function K($){return $===47?(t.consume($),s="",ae):j($)}function ae($){if($===62){const ee=s.toLowerCase();return oD.includes(ee)?(t.consume($),Y):j($)}return Ba($)&&s.length<8?(t.consume($),s+=String.fromCharCode($),ae):j($)}function me($){return $===93?(t.consume($),W):j($)}function W($){return $===62?(t.consume($),Y):$===45&&i===2?(t.consume($),W):j($)}function Y($){return $===null||$e($)?(t.exit("htmlFlowData"),se($)):(t.consume($),Y)}function se($){return t.exit("htmlFlow"),e($)}}function Bce(t,e,n){const r=this;return i;function i(s){return $e(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function jce(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(r0,e,n)}}const zce={name:"htmlText",tokenize:qce};function qce(t,e,n){const r=this;let i,a,s;return u;function u(W){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(W),c}function c(W){return W===33?(t.consume(W),d):W===47?(t.consume(W),q):W===63?(t.consume(W),M):Ba(W)?(t.consume(W),O):n(W)}function d(W){return W===45?(t.consume(W),h):W===91?(t.consume(W),a=0,w):Ba(W)?(t.consume(W),U):n(W)}function h(W){return W===45?(t.consume(W),v):n(W)}function p(W){return W===null?n(W):W===45?(t.consume(W),g):$e(W)?(s=p,K(W)):(t.consume(W),p)}function g(W){return W===45?(t.consume(W),v):p(W)}function v(W){return W===62?X(W):W===45?g(W):p(W)}function w(W){const Y="CDATA[";return W===Y.charCodeAt(a++)?(t.consume(W),a===Y.length?S:w):n(W)}function S(W){return W===null?n(W):W===93?(t.consume(W),A):$e(W)?(s=S,K(W)):(t.consume(W),S)}function A(W){return W===93?(t.consume(W),C):S(W)}function C(W){return W===62?X(W):W===93?(t.consume(W),C):S(W)}function U(W){return W===null||W===62?X(W):$e(W)?(s=U,K(W)):(t.consume(W),U)}function M(W){return W===null?n(W):W===63?(t.consume(W),F):$e(W)?(s=M,K(W)):(t.consume(W),M)}function F(W){return W===62?X(W):M(W)}function q(W){return Ba(W)?(t.consume(W),V):n(W)}function V(W){return W===45||li(W)?(t.consume(W),V):D(W)}function D(W){return $e(W)?(s=D,K(W)):bt(W)?(t.consume(W),D):X(W)}function O(W){return W===45||li(W)?(t.consume(W),O):W===47||W===62||Gr(W)?L(W):n(W)}function L(W){return W===47?(t.consume(W),X):W===58||W===95||Ba(W)?(t.consume(W),B):$e(W)?(s=L,K(W)):bt(W)?(t.consume(W),L):X(W)}function B(W){return W===45||W===46||W===58||W===95||li(W)?(t.consume(W),B):P(W)}function P(W){return W===61?(t.consume(W),j):$e(W)?(s=P,K(W)):bt(W)?(t.consume(W),P):L(W)}function j(W){return W===null||W===60||W===61||W===62||W===96?n(W):W===34||W===39?(t.consume(W),i=W,H):$e(W)?(s=j,K(W)):bt(W)?(t.consume(W),j):(t.consume(W),de)}function H(W){return W===i?(t.consume(W),i=void 0,te):W===null?n(W):$e(W)?(s=H,K(W)):(t.consume(W),H)}function de(W){return W===null||W===34||W===39||W===60||W===61||W===96?n(W):W===47||W===62||Gr(W)?L(W):(t.consume(W),de)}function te(W){return W===47||W===62||Gr(W)?L(W):n(W)}function X(W){return W===62?(t.consume(W),t.exit("htmlTextData"),t.exit("htmlText"),e):n(W)}function K(W){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(W),t.exit("lineEnding"),ae}function ae(W){return bt(W)?Ft(t,me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):me(W)}function me(W){return t.enter("htmlTextData"),s(W)}}const NS={name:"labelEnd",resolveAll:Kce,resolveTo:Wce,tokenize:Yce},Hce={tokenize:Jce},Gce={tokenize:Xce},$ce={tokenize:Qce};function Kce(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&to(t,0,t.length,n),t}function Wce(t,e){let n=t.length,r=0,i,a,s,u;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const c={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},h={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return u=[["enter",c,e],["enter",d,e]],u=Ni(u,t.slice(a+1,a+r+3)),u=Ni(u,[["enter",h,e]]),u=Ni(u,RS(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),u=Ni(u,[["exit",h,e],t[s-2],t[s-1],["exit",d,e]]),u=Ni(u,t.slice(s+1)),u=Ni(u,[["exit",c,e]]),to(t,a,t.length,u),t}function Yce(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return u;function u(g){return a?a._inactive?p(g):(s=r.parser.defined.includes(zc(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),c):n(g)}function c(g){return g===40?t.attempt(Hce,h,s?h:p)(g):g===91?t.attempt(Gce,h,s?d:p)(g):s?h(g):p(g)}function d(g){return t.attempt($ce,h,p)(g)}function h(g){return e(g)}function p(g){return a._balanced=!0,n(g)}}function Jce(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return Gr(p)?dh(t,a)(p):a(p)}function a(p){return p===41?h(p):uF(t,s,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function s(p){return Gr(p)?dh(t,c)(p):h(p)}function u(p){return n(p)}function c(p){return p===34||p===39||p===40?dF(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function d(p){return Gr(p)?dh(t,h)(p):h(p)}function h(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function Xce(t,e,n){const r=this;return i;function i(u){return cF.call(r,t,a,s,"reference","referenceMarker","referenceString")(u)}function a(u){return r.parser.defined.includes(zc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function s(u){return n(u)}}function Qce(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const Zce={name:"labelStartImage",resolveAll:NS.resolveAll,tokenize:ede};function ede(t,e,n){const r=this;return i;function i(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),a}function a(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),s):n(u)}function s(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const tde={name:"labelStartLink",resolveAll:NS.resolveAll,tokenize:nde};function nde(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const xE={name:"lineEnding",tokenize:rde};function rde(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ft(t,e,"linePrefix")}}const jg={name:"thematicBreak",tokenize:ide};function ide(t,e,n){let r=0,i;return a;function a(d){return t.enter("thematicBreak"),s(d)}function s(d){return i=d,u(d)}function u(d){return d===i?(t.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||$e(d))?(t.exit("thematicBreak"),e(d)):n(d)}function c(d){return d===i?(t.consume(d),r++,c):(t.exit("thematicBreakSequence"),bt(d)?Ft(t,u,"whitespace")(d):u(d))}}const Ur={continuation:{tokenize:lde},exit:cde,name:"list",tokenize:sde},ade={partial:!0,tokenize:dde},ode={partial:!0,tokenize:ude};function sde(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return u;function u(v){const w=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:tT(v)){if(r.containerState.type||(r.containerState.type=w,t.enter(w,{_container:!0})),w==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(jg,n,d)(v):d(v);if(!r.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(v)}return n(v)}function c(v){return tT(v)&&++s<10?(t.consume(v),c):(!r.interrupt||s<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),d(v)):n(v)}function d(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,t.check(r0,r.interrupt?n:h,t.attempt(ade,g,p))}function h(v){return r.containerState.initialBlankLine=!0,a++,g(v)}function p(v){return bt(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),g):n(v)}function g(v){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(v)}}function lde(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(r0,i,a);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ft(t,e,"listItemIndent",r.containerState.size+1)(u)}function a(u){return r.containerState.furtherBlankLines||!bt(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(ode,e,s)(u))}function s(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ft(t,t.attempt(Ur,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function ude(t,e,n){const r=this;return Ft(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function cde(t){t.exit(this.containerState.type)}function dde(t,e,n){const r=this;return Ft(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!bt(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const sD={name:"setextUnderline",resolveTo:fde,tokenize:hde};function fde(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function hde(t,e,n){const r=this;let i;return a;function a(d){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=d,s(d)):n(d)}function s(d){return t.enter("setextHeadingLineSequence"),u(d)}function u(d){return d===i?(t.consume(d),u):(t.exit("setextHeadingLineSequence"),bt(d)?Ft(t,c,"lineSuffix")(d):c(d))}function c(d){return d===null||$e(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const pde={tokenize:mde};function mde(t){const e=this,n=t.attempt(r0,r,t.attempt(this.parser.constructs.flowInitial,i,Ft(t,t.attempt(this.parser.constructs.flow,i,t.attempt(_ce,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const gde={resolveAll:hF()},yde=fF("string"),vde=fF("text");function fF(t){return{resolveAll:hF(t==="text"?bde:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,u);return s;function s(h){return d(h)?a(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return d(h)?(n.exit("data"),a(h)):(n.consume(h),c)}function d(h){if(h===null)return!0;const p=i[h];let g=-1;if(p)for(;++g<p.length;){const v=p[g];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function hF(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function bde(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,u=0,c;for(;a--;){const d=i[a];if(typeof d=="string"){for(s=d.length;d.charCodeAt(s-1)===32;)u++,s--;if(s)break;s=-1}else if(d===-2)c=!0,u++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(u=0),u){const d={type:n===t.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const _de={42:Ur,43:Ur,45:Ur,48:Ur,49:Ur,50:Ur,51:Ur,52:Ur,53:Ur,54:Ur,55:Ur,56:Ur,57:Ur,62:aF},xde={91:Sce},Ede={[-2]:_E,[-1]:_E,32:_E},Tde={35:Nce,42:jg,45:[sD,jg],60:Oce,61:sD,95:jg,96:aD,126:aD},wde={38:sF,92:oF},Sde={[-5]:xE,[-4]:xE,[-3]:xE,33:Zce,38:sF,42:nT,60:[tce,zce],91:tde,92:[Ice,oF],93:NS,95:nT,96:pce},Ade={null:[nT,gde]},kde={null:[42,95]},Cde={null:[]},Ide=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:kde,contentInitial:xde,disable:Cde,document:_de,flow:Tde,flowInitial:Ede,insideSpan:Ade,string:wde,text:Sde},Symbol.toStringTag,{value:"Module"}));function Rde(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],u=[];const c={attempt:D(q),check:D(V),consume:U,enter:M,exit:F,interrupt:D(V,{interrupt:!0})},d={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:t,previous:null,sliceSerialize:g,sliceStream:v,write:p};let h=e.tokenize.call(d,c);return e.resolveAll&&a.push(e),d;function p(P){return s=Ni(s,P),A(),s[s.length-1]!==null?[]:(O(e,0),d.events=RS(a,d.events,d),d.events)}function g(P,j){return Pde(v(P),j)}function v(P){return Nde(s,P)}function w(){const{_bufferIndex:P,_index:j,line:H,column:de,offset:te}=r;return{_bufferIndex:P,_index:j,line:H,column:de,offset:te}}function S(P){i[P.line]=P.column,B()}function A(){let P;for(;r._index<s.length;){const j=s[r._index];if(typeof j=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<j.length;)C(j.charCodeAt(r._bufferIndex));else C(j)}}function C(P){h=h(P)}function U(P){$e(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,B()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=P}function M(P,j){const H=j||{};return H.type=P,H.start=w(),d.events.push(["enter",H,d]),u.push(H),H}function F(P){const j=u.pop();return j.end=w(),d.events.push(["exit",j,d]),j}function q(P,j){O(P,j.from)}function V(P,j){j.restore()}function D(P,j){return H;function H(de,te,X){let K,ae,me,W;return Array.isArray(de)?se(de):"tokenize"in de?se([de]):Y(de);function Y(_e){return Se;function Se(He){const fe=He!==null&&_e[He],Ve=He!==null&&_e.null,Ge=[...Array.isArray(fe)?fe:fe?[fe]:[],...Array.isArray(Ve)?Ve:Ve?[Ve]:[]];return se(Ge)(He)}}function se(_e){return K=_e,ae=0,_e.length===0?X:$(_e[ae])}function $(_e){return Se;function Se(He){return W=L(),me=_e,_e.partial||(d.currentConstruct=_e),_e.name&&d.parser.constructs.disable.null.includes(_e.name)?ye():_e.tokenize.call(j?Object.assign(Object.create(d),j):d,c,ee,ye)(He)}}function ee(_e){return P(me,W),te}function ye(_e){return W.restore(),++ae<K.length?$(K[ae]):X}}}function O(P,j){P.resolveAll&&!a.includes(P)&&a.push(P),P.resolve&&to(d.events,j,d.events.length-j,P.resolve(d.events.slice(j),d)),P.resolveTo&&(d.events=P.resolveTo(d.events,d))}function L(){const P=w(),j=d.previous,H=d.currentConstruct,de=d.events.length,te=Array.from(u);return{from:de,restore:X};function X(){r=P,d.previous=j,d.currentConstruct=H,d.events.length=de,u=te,B()}}function B(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Nde(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const u=s[0];typeof u=="string"?s[0]=u.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function Pde(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function Mde(t){const r={constructs:Bue([Ide,...(t||{}).extensions||[]]),content:i(Wue),defined:[],document:i(Jue),flow:i(pde),lazy:{},string:i(yde),text:i(vde)};return r;function i(a){return s;function s(u){return Rde(r,a,u)}}}function Dde(t){for(;!lF(t););return t}const lD=/[\0\t\n\r]/g;function Ode(){let t=1,e="",n=!0,r;return i;function i(a,s,u){const c=[];let d,h,p,g,v;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),p=0,e="",n&&(a.charCodeAt(0)===65279&&p++,n=void 0);p<a.length;){if(lD.lastIndex=p,d=lD.exec(a),g=d&&d.index!==void 0?d.index:a.length,v=a.charCodeAt(g),!d){e=a.slice(p);break}if(v===10&&p===g&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<g&&(c.push(a.slice(p,g)),t+=g-p),v){case 0:{c.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,c.push(-2);t++<h;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}p=g+1}return u&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const Lde=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ude(t){return t.replace(Lde,Vde)}function Vde(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return iF(n.slice(a?2:1),a?16:10)}return IS(n)||t}const pF={}.hasOwnProperty;function Fde(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Bde(n)(Dde(Mde(n).document().write(Ode()(t,e,!0))))}function Bde(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Qt),autolinkProtocol:L,autolinkEmail:L,atxHeading:a(tn),blockQuote:a(Ve),characterEscape:L,characterReference:L,codeFenced:a(Ge),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(Ge,s),codeText:a(Ee,s),codeTextData:L,data:L,codeFlowValue:L,definition:a(Bt),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(et),hardBreakEscape:a(Kt),hardBreakTrailing:a(Kt),htmlFlow:a(ur,s),htmlFlowData:L,htmlText:a(ur,s),htmlTextData:L,image:a(ha),label:s,link:a(Qt),listItem:a(pa),listItemValue:g,listOrdered:a(nn,p),listUnordered:a(nn),paragraph:a(Ld),reference:$,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(tn),strong:a(Nu),thematicBreak:a(io)},exit:{atxHeading:c(),atxHeadingSequence:q,autolink:c(),autolinkEmail:fe,autolinkProtocol:He,blockQuote:c(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:ye,characterReferenceMarkerNumeric:ye,characterReferenceValue:_e,characterReference:Se,codeFenced:c(A),codeFencedFence:S,codeFencedFenceInfo:v,codeFencedFenceMeta:w,codeFlowValue:B,codeIndented:c(C),codeText:c(te),codeTextData:B,data:B,definition:c(),definitionDestinationString:F,definitionLabelString:U,definitionTitleString:M,emphasis:c(),hardBreakEscape:c(j),hardBreakTrailing:c(j),htmlFlow:c(H),htmlFlowData:B,htmlText:c(de),htmlTextData:B,image:c(K),label:me,labelText:ae,lineEnding:P,link:c(X),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ee,resourceDestinationString:W,resourceTitleString:Y,resource:se,setextHeading:c(O),setextHeadingLineSequence:D,setextHeadingText:V,strong:c(),thematicBreak:c()}};mF(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(pe){let we={type:"root",children:[]};const Be={stack:[we],tokenStack:[],config:e,enter:u,exit:d,buffer:s,resume:h,data:n},tt=[];let ft=-1;for(;++ft<pe.length;)if(pe[ft][1].type==="listOrdered"||pe[ft][1].type==="listUnordered")if(pe[ft][0]==="enter")tt.push(ft);else{const cr=tt.pop();ft=i(pe,cr,ft)}for(ft=-1;++ft<pe.length;){const cr=e[pe[ft][0]];pF.call(cr,pe[ft][1].type)&&cr[pe[ft][1].type].call(Object.assign({sliceSerialize:pe[ft][2].sliceSerialize},Be),pe[ft][1])}if(Be.tokenStack.length>0){const cr=Be.tokenStack[Be.tokenStack.length-1];(cr[1]||uD).call(Be,void 0,cr[0])}for(we.position={start:Os(pe.length>0?pe[0][1].start:{line:1,column:1,offset:0}),end:Os(pe.length>0?pe[pe.length-2][1].end:{line:1,column:1,offset:0})},ft=-1;++ft<e.transforms.length;)we=e.transforms[ft](we)||we;return we}function i(pe,we,Be){let tt=we-1,ft=-1,cr=!1,mi,ln,Zt,Vn;for(;++tt<=Be;){const ut=pe[tt];switch(ut[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ut[0]==="enter"?ft++:ft--,Vn=void 0;break}case"lineEndingBlank":{ut[0]==="enter"&&(mi&&!Vn&&!ft&&!Zt&&(Zt=tt),Vn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Vn=void 0}if(!ft&&ut[0]==="enter"&&ut[1].type==="listItemPrefix"||ft===-1&&ut[0]==="exit"&&(ut[1].type==="listUnordered"||ut[1].type==="listOrdered")){if(mi){let qi=tt;for(ln=void 0;qi--;){const dr=pe[qi];if(dr[1].type==="lineEnding"||dr[1].type==="lineEndingBlank"){if(dr[0]==="exit")continue;ln&&(pe[ln][1].type="lineEndingBlank",cr=!0),dr[1].type="lineEnding",ln=qi}else if(!(dr[1].type==="linePrefix"||dr[1].type==="blockQuotePrefix"||dr[1].type==="blockQuotePrefixWhitespace"||dr[1].type==="blockQuoteMarker"||dr[1].type==="listItemIndent"))break}Zt&&(!ln||Zt<ln)&&(mi._spread=!0),mi.end=Object.assign({},ln?pe[ln][1].start:ut[1].end),pe.splice(ln||tt,0,["exit",mi,ut[2]]),tt++,Be++}if(ut[1].type==="listItemPrefix"){const qi={type:"listItem",_spread:!1,start:Object.assign({},ut[1].start),end:void 0};mi=qi,pe.splice(tt,0,["enter",qi,ut[2]]),tt++,Be++,Zt=void 0,Vn=!0}}}return pe[we][1]._spread=cr,Be}function a(pe,we){return Be;function Be(tt){u.call(this,pe(tt),tt),we&&we.call(this,tt)}}function s(){this.stack.push({type:"fragment",children:[]})}function u(pe,we,Be){this.stack[this.stack.length-1].children.push(pe),this.stack.push(pe),this.tokenStack.push([we,Be||void 0]),pe.position={start:Os(we.start),end:void 0}}function c(pe){return we;function we(Be){pe&&pe.call(this,Be),d.call(this,Be)}}function d(pe,we){const Be=this.stack.pop(),tt=this.tokenStack.pop();if(tt)tt[0].type!==pe.type&&(we?we.call(this,pe,tt[0]):(tt[1]||uD).call(this,pe,tt[0]));else throw new Error("Cannot close `"+pe.type+"` ("+ch({start:pe.start,end:pe.end})+"): its not open");Be.position.end=Os(pe.end)}function h(){return Vue(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(pe){if(this.data.expectingFirstListItemValue){const we=this.stack[this.stack.length-2];we.start=Number.parseInt(this.sliceSerialize(pe),10),this.data.expectingFirstListItemValue=void 0}}function v(){const pe=this.resume(),we=this.stack[this.stack.length-1];we.lang=pe}function w(){const pe=this.resume(),we=this.stack[this.stack.length-1];we.meta=pe}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const pe=this.resume(),we=this.stack[this.stack.length-1];we.value=pe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const pe=this.resume(),we=this.stack[this.stack.length-1];we.value=pe.replace(/(\r?\n|\r)$/g,"")}function U(pe){const we=this.resume(),Be=this.stack[this.stack.length-1];Be.label=we,Be.identifier=zc(this.sliceSerialize(pe)).toLowerCase()}function M(){const pe=this.resume(),we=this.stack[this.stack.length-1];we.title=pe}function F(){const pe=this.resume(),we=this.stack[this.stack.length-1];we.url=pe}function q(pe){const we=this.stack[this.stack.length-1];if(!we.depth){const Be=this.sliceSerialize(pe).length;we.depth=Be}}function V(){this.data.setextHeadingSlurpLineEnding=!0}function D(pe){const we=this.stack[this.stack.length-1];we.depth=this.sliceSerialize(pe).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function L(pe){const Be=this.stack[this.stack.length-1].children;let tt=Be[Be.length-1];(!tt||tt.type!=="text")&&(tt=Yn(),tt.position={start:Os(pe.start),end:void 0},Be.push(tt)),this.stack.push(tt)}function B(pe){const we=this.stack.pop();we.value+=this.sliceSerialize(pe),we.position.end=Os(pe.end)}function P(pe){const we=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Be=we.children[we.children.length-1];Be.position.end=Os(pe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(we.type)&&(L.call(this,pe),B.call(this,pe))}function j(){this.data.atHardBreak=!0}function H(){const pe=this.resume(),we=this.stack[this.stack.length-1];we.value=pe}function de(){const pe=this.resume(),we=this.stack[this.stack.length-1];we.value=pe}function te(){const pe=this.resume(),we=this.stack[this.stack.length-1];we.value=pe}function X(){const pe=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";pe.type+="Reference",pe.referenceType=we,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;this.data.referenceType=void 0}function K(){const pe=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";pe.type+="Reference",pe.referenceType=we,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;this.data.referenceType=void 0}function ae(pe){const we=this.sliceSerialize(pe),Be=this.stack[this.stack.length-2];Be.label=Ude(we),Be.identifier=zc(we).toLowerCase()}function me(){const pe=this.stack[this.stack.length-1],we=this.resume(),Be=this.stack[this.stack.length-1];if(this.data.inReference=!0,Be.type==="link"){const tt=pe.children;Be.children=tt}else Be.alt=we}function W(){const pe=this.resume(),we=this.stack[this.stack.length-1];we.url=pe}function Y(){const pe=this.resume(),we=this.stack[this.stack.length-1];we.title=pe}function se(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function ee(pe){const we=this.resume(),Be=this.stack[this.stack.length-1];Be.label=we,Be.identifier=zc(this.sliceSerialize(pe)).toLowerCase(),this.data.referenceType="full"}function ye(pe){this.data.characterReferenceType=pe.type}function _e(pe){const we=this.sliceSerialize(pe),Be=this.data.characterReferenceType;let tt;Be?(tt=iF(we,Be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):tt=IS(we);const ft=this.stack[this.stack.length-1];ft.value+=tt}function Se(pe){const we=this.stack.pop();we.position.end=Os(pe.end)}function He(pe){B.call(this,pe);const we=this.stack[this.stack.length-1];we.url=this.sliceSerialize(pe)}function fe(pe){B.call(this,pe);const we=this.stack[this.stack.length-1];we.url="mailto:"+this.sliceSerialize(pe)}function Ve(){return{type:"blockquote",children:[]}}function Ge(){return{type:"code",lang:null,meta:null,value:""}}function Ee(){return{type:"inlineCode",value:""}}function Bt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function et(){return{type:"emphasis",children:[]}}function tn(){return{type:"heading",depth:0,children:[]}}function Kt(){return{type:"break"}}function ur(){return{type:"html",value:""}}function ha(){return{type:"image",title:null,url:"",alt:null}}function Qt(){return{type:"link",title:null,url:"",children:[]}}function nn(pe){return{type:"list",ordered:pe.type==="listOrdered",start:null,spread:pe._spread,children:[]}}function pa(pe){return{type:"listItem",spread:pe._spread,checked:null,children:[]}}function Ld(){return{type:"paragraph",children:[]}}function Nu(){return{type:"strong",children:[]}}function Yn(){return{type:"text",value:""}}function io(){return{type:"thematicBreak"}}}function Os(t){return{line:t.line,column:t.column,offset:t.offset}}function mF(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?mF(t,r):jde(t,r)}}function jde(t,e){let n;for(n in e)if(pF.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function uD(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+ch({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+ch({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+ch({start:e.start,end:e.end})+") is still open")}function zde(t){const e=this;e.parser=n;function n(r){return Fde(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function qde(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Hde(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Gde(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function $de(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Kde(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Wde(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Sd(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,u=t.footnoteCounts.get(r);u===void 0?(u=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,u+=1,t.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,d),t.applyData(e,d)}function Yde(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Jde(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function gF(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Xde(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return gF(t,e);const i={src:Sd(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function Qde(t,e){const n={src:Sd(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Zde(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function efe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return gF(t,e);const i={href:Sd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function tfe(t,e){const n={href:Sd(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function nfe(t,e,n){const r=t.all(e),i=n?rfe(n):yF(e),a={},s=[];if(typeof e.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const h=r[u];(i||u!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,d),t.applyData(e,d)}function rfe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=yF(n[r])}return e}function yF(t){const e=t.spread;return e??t.children.length>1}function ife(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function afe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ofe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function sfe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function lfe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},u=SS(e.children[1]),c=X5(e.children[e.children.length-1]);u&&c&&(s.position={start:u,end:c}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function ufe(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,u=s?s.length:e.children.length;let c=-1;const d=[];for(;++c<u;){const p=e.children[c],g={},v=s?s[c]:void 0;v&&(g.align=v);let w={type:"element",tagName:a,properties:g,children:[]};p&&(w.children=t.all(p),t.patch(p,w),w=t.applyData(p,w)),d.push(w)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,h),t.applyData(e,h)}function cfe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const cD=9,dD=32;function dfe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(fD(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(fD(e.slice(i),i>0,!1)),a.join("")}function fD(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===cD||a===dD;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===cD||a===dD;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function ffe(t,e){const n={type:"text",value:dfe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function hfe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const pfe={blockquote:qde,break:Hde,code:Gde,delete:$de,emphasis:Kde,footnoteReference:Wde,heading:Yde,html:Jde,imageReference:Xde,image:Qde,inlineCode:Zde,linkReference:efe,link:tfe,listItem:nfe,list:ife,paragraph:afe,root:ofe,strong:sfe,table:lfe,tableCell:cfe,tableRow:ufe,text:ffe,thematicBreak:hfe,toml:Sg,yaml:Sg,definition:Sg,footnoteDefinition:Sg};function Sg(){}const vF=-1,i0=0,fh=1,Hy=2,PS=3,MS=4,DS=5,OS=6,bF=7,_F=8,hD=typeof self=="object"?self:globalThis,mfe=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case i0:case vF:return n(s,i);case fh:{const u=n([],i);for(const c of s)u.push(r(c));return u}case Hy:{const u=n({},i);for(const[c,d]of s)u[r(c)]=r(d);return u}case PS:return n(new Date(s),i);case MS:{const{source:u,flags:c}=s;return n(new RegExp(u,c),i)}case DS:{const u=n(new Map,i);for(const[c,d]of s)u.set(r(c),r(d));return u}case OS:{const u=n(new Set,i);for(const c of s)u.add(r(c));return u}case bF:{const{name:u,message:c}=s;return n(new hD[u](c),i)}case _F:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:u}=new Uint8Array(s);return n(new DataView(u),s)}}return n(new hD[a](s),i)};return r},pD=t=>mfe(new Map,t)(0),wc="",{toString:gfe}={},{keys:yfe}=Object,Jf=t=>{const e=typeof t;if(e!=="object"||!t)return[i0,e];const n=gfe.call(t).slice(8,-1);switch(n){case"Array":return[fh,wc];case"Object":return[Hy,wc];case"Date":return[PS,wc];case"RegExp":return[MS,wc];case"Map":return[DS,wc];case"Set":return[OS,wc];case"DataView":return[fh,n]}return n.includes("Array")?[fh,n]:n.includes("Error")?[bF,n]:[Hy,n]},Ag=([t,e])=>t===i0&&(e==="function"||e==="symbol"),vfe=(t,e,n,r)=>{const i=(s,u)=>{const c=r.push(s)-1;return n.set(u,c),c},a=s=>{if(n.has(s))return n.get(s);let[u,c]=Jf(s);switch(u){case i0:{let h=s;switch(c){case"bigint":u=_F,h=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return i([vF],s)}return i([u,h],s)}case fh:{if(c){let g=s;return c==="DataView"?g=new Uint8Array(s.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(s)),i([c,[...g]],s)}const h=[],p=i([u,h],s);for(const g of s)h.push(a(g));return p}case Hy:{if(c)switch(c){case"BigInt":return i([c,s.toString()],s);case"Boolean":case"Number":case"String":return i([c,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const h=[],p=i([u,h],s);for(const g of yfe(s))(t||!Ag(Jf(s[g])))&&h.push([a(g),a(s[g])]);return p}case PS:return i([u,s.toISOString()],s);case MS:{const{source:h,flags:p}=s;return i([u,{source:h,flags:p}],s)}case DS:{const h=[],p=i([u,h],s);for(const[g,v]of s)(t||!(Ag(Jf(g))||Ag(Jf(v))))&&h.push([a(g),a(v)]);return p}case OS:{const h=[],p=i([u,h],s);for(const g of s)(t||!Ag(Jf(g)))&&h.push(a(g));return p}}const{message:d}=s;return i([u,{name:c,message:d}],s)};return a},mD=(t,{json:e,lossy:n}={})=>{const r=[];return vfe(!(e||n),!!e,new Map,r)(t),r},Gy=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?pD(mD(t,e)):structuredClone(t):(t,e)=>pD(mD(t,e));function bfe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function _fe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function xfe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||bfe,r=t.options.footnoteBackLabel||_fe,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[c]);if(!d)continue;const h=t.all(d),p=String(d.identifier).toUpperCase(),g=Sd(p.toLowerCase());let v=0;const w=[],S=t.footnoteCounts.get(p);for(;S!==void 0&&++v<=S;){w.length>0&&w.push({type:"text",value:" "});let U=typeof n=="string"?n:n(c,v);typeof U=="string"&&(U={type:"text",value:U}),w.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,v),className:["data-footnote-backref"]},children:Array.isArray(U)?U:[U]})}const A=h[h.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const U=A.children[A.children.length-1];U&&U.type==="text"?U.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...w)}else h.push(...w);const C={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(h,!0)};t.patch(d,C),u.push(C)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Gy(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(u,!0)},{type:"text",value:`
`}]}}const xF=(function(t){if(t==null)return Sfe;if(typeof t=="function")return a0(t);if(typeof t=="object")return Array.isArray(t)?Efe(t):Tfe(t);if(typeof t=="string")return wfe(t);throw new Error("Expected function, string, or object as test")});function Efe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=xF(t[n]);return a0(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function Tfe(t){const e=t;return a0(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function wfe(t){return a0(e);function e(n){return n&&n.type===t}}function a0(t){return e;function e(n,r,i){return!!(Afe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Sfe(){return!0}function Afe(t){return t!==null&&typeof t=="object"&&"type"in t}const EF=[],kfe=!0,gD=!1,Cfe="skip";function Ife(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=xF(i),s=r?-1:1;u(t,void 0,[])();function u(c,d,h){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(v?"<"+v+">":""))+")"})}return g;function g(){let v=EF,w,S,A;if((!e||a(c,d,h[h.length-1]||void 0))&&(v=Rfe(n(c,h)),v[0]===gD))return v;if("children"in c&&c.children){const C=c;if(C.children&&v[0]!==Cfe)for(S=(r?C.children.length:-1)+s,A=h.concat(C);S>-1&&S<C.children.length;){const U=C.children[S];if(w=u(U,S,A)(),w[0]===gD)return w;S=typeof w[1]=="number"?w[1]:S+s}}return v}}}function Rfe(t){return Array.isArray(t)?t:typeof t=="number"?[kfe,t]:t==null?EF:[t]}function TF(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),Ife(t,a,u,i);function u(c,d){const h=d[d.length-1],p=h?h.children.indexOf(c):void 0;return s(c,p,h)}}const rT={}.hasOwnProperty,Nfe={};function Pfe(t,e){const n=e||Nfe,r=new Map,i=new Map,a=new Map,s={...pfe,...n.handlers},u={all:d,applyData:Dfe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:c,options:n,patch:Mfe,wrap:Lfe};return TF(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,g=String(h.identifier).toUpperCase();p.has(g)||p.set(g,h)}}),u;function c(h,p){const g=h.type,v=u.handlers[g];if(rT.call(u.handlers,g)&&v)return v(u,h,p);if(u.options.passThrough&&u.options.passThrough.includes(g)){if("children"in h){const{children:S,...A}=h,C=Gy(A);return C.children=u.all(h),C}return Gy(h)}return(u.options.unknownHandler||Ofe)(u,h,p)}function d(h){const p=[];if("children"in h){const g=h.children;let v=-1;for(;++v<g.length;){const w=u.one(g[v],h);if(w){if(v&&g[v-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=yD(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=yD(S.value))}Array.isArray(w)?p.push(...w):p.push(w)}}}return p}}function Mfe(t,e){t.position&&(e.position=gue(t))}function Dfe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Gy(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Ofe(t,e){const n=e.data||{},r="value"in e&&!(rT.call(n,"hProperties")||rT.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Lfe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function yD(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function vD(t,e){const n=Pfe(t,e),r=n.one(t,void 0),i=xfe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Ufe(t,e){return t&&"run"in t?async function(n,r){const i=vD(n,{file:r,...e});await t.run(i,r)}:function(n,r){return vD(n,{file:r,...t||e})}}function bD(t){if(t)throw t}var EE,_D;function Vfe(){if(_D)return EE;_D=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var h=t.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!p)return!1;var g;for(g in d);return typeof g>"u"||t.call(d,g)},s=function(d,h){n&&h.name==="__proto__"?n(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},u=function(d,h){if(h==="__proto__")if(t.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return EE=function c(){var d,h,p,g,v,w,S=arguments[0],A=1,C=arguments.length,U=!1;for(typeof S=="boolean"&&(U=S,S=arguments[1]||{},A=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});A<C;++A)if(d=arguments[A],d!=null)for(h in d)p=u(S,h),g=u(d,h),S!==g&&(U&&g&&(a(g)||(v=i(g)))?(v?(v=!1,w=p&&i(p)?p:[]):w=p&&a(p)?p:{},s(S,{name:h,newValue:c(U,w,g)})):typeof g<"u"&&s(S,{name:h,newValue:g}));return S},EE}var Ffe=Vfe();const TE=Bi(Ffe);function iT(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Bfe(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);u(null,...i);function u(c,...d){const h=t[++a];let p=-1;if(c){s(c);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,h?jfe(h,u)(...d):s(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function jfe(t,e){let n;return r;function r(...s){const u=t.length>s.length;let c;u&&s.push(i);try{c=t.apply(this,s)}catch(d){const h=d;if(u&&n)throw h;return i(h)}u||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(s,...u){n||(n=!0,e(s,...u))}function a(s){i(null,s)}}const La={basename:zfe,dirname:qfe,extname:Hfe,join:Gfe,sep:"/"};function zfe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');bp(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,u=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),u>-1&&(t.codePointAt(i)===e.codePointAt(u--)?u<0&&(r=i):(u=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function qfe(t){if(bp(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Hfe(t){bp(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const u=t.codePointAt(e);if(u===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),u===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Gfe(...t){let e=-1,n;for(;++e<t.length;)bp(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":$fe(n)}function $fe(t){bp(t);const e=t.codePointAt(0)===47;let n=Kfe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Kfe(t,e){let n="",r=0,i=-1,a=0,s=-1,u,c;for(;++s<=t.length;){if(s<t.length)u=t.codePointAt(s);else{if(u===47)break;u=47}if(u===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else u===46&&a>-1?a++:a=-1}return n}function bp(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Wfe={cwd:Yfe};function Yfe(){return"/"}function aT(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Jfe(t){if(typeof t=="string")t=new URL(t);else if(!aT(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Xfe(t)}function Xfe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const wE=["history","path","basename","stem","extname","dirname"];class wF{constructor(e){let n;e?aT(e)?n={path:e}:typeof e=="string"||Qfe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Wfe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<wE.length;){const a=wE[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)wE.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?La.basename(this.path):void 0}set basename(e){AE(e,"basename"),SE(e,"basename"),this.path=La.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?La.dirname(this.path):void 0}set dirname(e){xD(this.basename,"dirname"),this.path=La.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?La.extname(this.path):void 0}set extname(e){if(SE(e,"extname"),xD(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=La.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){aT(e)&&(e=Jfe(e)),AE(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?La.basename(this.path,this.extname):void 0}set stem(e){AE(e,"stem"),SE(e,"stem"),this.path=La.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new xr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function SE(t,e){if(t&&t.includes(La.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+La.sep+"`")}function AE(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function xD(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Qfe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Zfe=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),ehe={}.hasOwnProperty;class LS extends Zfe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Bfe()}copy(){const e=new LS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(TE(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(IE("data",this.frozen),this.namespace[e]=n,this):ehe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(IE("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=kg(e),r=this.parser||this.Parser;return kE("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),kE("process",this.parser||this.Parser),CE("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const u=kg(e),c=r.parse(u);r.run(c,u,function(h,p,g){if(h||!p||!g)return d(h);const v=p,w=r.stringify(v,g);rhe(w)?g.value=w:g.result=w,d(h,g)});function d(h,p){h||!p?s(h):a?a(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),kE("processSync",this.parser||this.Parser),CE("processSync",this.compiler||this.Compiler),this.process(e,i),TD("processSync","process",n),r;function i(a,s){n=!0,bD(a),r=s}}run(e,n,r){ED(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,u){const c=kg(n);i.run(e,c,d);function d(h,p,g){const v=p||e;h?u(h):s?s(v):r(void 0,v,g)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),TD("runSync","run",r),i;function a(s,u){bD(s),i=u,r=!0}}stringify(e,n){this.freeze();const r=kg(n),i=this.compiler||this.Compiler;return CE("stringify",i),ED(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(IE("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...p]=d;c(h,p)}else s(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function s(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(d.plugins),d.settings&&(i.settings=TE(!0,i.settings,d.settings))}function u(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const p=d[h];a(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,h){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===d){g=p;break}if(g===-1)r.push([d,...h]);else if(h.length>0){let[v,...w]=h;const S=r[g][1];iT(S)&&iT(v)&&(v=TE(!0,S,v)),r[g]=[d,v,...w]}}}}const the=new LS().freeze();function kE(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function CE(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function IE(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ED(t){if(!iT(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function TD(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function kg(t){return nhe(t)?t:new wF(t)}function nhe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function rhe(t){return typeof t=="string"||ihe(t)}function ihe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const ahe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",wD=[],SD={allowDangerousHtml:!0},ohe=/^(https?|ircs?|mailto|xmpp)$/i,she=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function lhe(t){const e=uhe(t),n=che(t);return dhe(e.runSync(e.parse(n),n),t)}function uhe(t){const e=t.rehypePlugins||wD,n=t.remarkPlugins||wD,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...SD}:SD;return the().use(zde).use(n).use(Ufe,r).use(e)}function che(t){const e=t.children||"",n=new wF;return typeof e=="string"&&(n.value=e),n}function dhe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,u=e.unwrapDisallowed,c=e.urlTransform||fhe;for(const h of she)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+ahe+h.id,void 0);return TF(t,d),xue(t,{Fragment:T.Fragment,components:i,ignoreInvalidStyle:!0,jsx:T.jsx,jsxs:T.jsxs,passKeys:!0,passNode:!0});function d(h,p,g){if(h.type==="raw"&&g&&typeof p=="number")return s?g.children.splice(p,1):g.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let v;for(v in bE)if(Object.hasOwn(bE,v)&&Object.hasOwn(h.properties,v)){const w=h.properties[v],S=bE[v];(S===null||S.includes(h.tagName))&&(h.properties[v]=c(String(w||""),v,h))}}if(h.type==="element"){let v=n?!n.includes(h.tagName):a?a.includes(h.tagName):!1;if(!v&&r&&typeof p=="number"&&(v=!r(h,p,g)),v&&g&&typeof p=="number")return u&&h.children?g.children.splice(p,1,...h.children):g.children.splice(p,1),p}}}function fhe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||ohe.test(t.slice(0,e))?t:""}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let hhe,phe;function mhe(){return{geminiUrl:hhe,vertexUrl:phe}}function ghe(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=mhe();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zo{}function Ce(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function b(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const h=c[d];b(h,e.slice(a+1),n[d])}else for(const d of c)b(d,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];b(c[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function y(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(u=>y(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function yhe(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&a.length>u)for(let c=u;c<a.length;c++){const d=a[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}oT(t,i,a,0,s)}}function oT(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const c of u[s])oT(c,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of u)c[d]=s[d];for(const[d,h]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(d):p.push(g);b(s,p,h)}for(const d of u)delete s[d]}}else{const s=t;a in s&&oT(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function US(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vhe(t){const e={},n=y(t,["operationName"]);n!=null&&b(e,["operationName"],n);const r=y(t,["resourceName"]);return r!=null&&b(e,["_url","resourceName"],r),e}function bhe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const a=y(t,["error"]);a!=null&&b(e,["error"],a);const s=y(t,["response","generateVideoResponse"]);return s!=null&&b(e,["response"],xhe(s)),e}function _he(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const a=y(t,["error"]);a!=null&&b(e,["error"],a);const s=y(t,["response"]);return s!=null&&b(e,["response"],Ehe(s)),e}function xhe(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>The(s))),b(e,["generatedVideos"],a)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function Ehe(t){const e={},n=y(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>whe(s))),b(e,["generatedVideos"],a)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function The(t){const e={},n=y(t,["video"]);return n!=null&&b(e,["video"],Rhe(n)),e}function whe(t){const e={},n=y(t,["_self"]);return n!=null&&b(e,["video"],Nhe(n)),e}function She(t){const e={},n=y(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function Ahe(t){const e={},n=y(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function khe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const a=y(t,["error"]);a!=null&&b(e,["error"],a);const s=y(t,["response"]);return s!=null&&b(e,["response"],Che(s)),e}function Che(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&b(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function SF(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const a=y(t,["error"]);a!=null&&b(e,["error"],a);const s=y(t,["response"]);return s!=null&&b(e,["response"],Ihe(s)),e}function Ihe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&b(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function Rhe(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&b(e,["videoBytes"],US(r));const i=y(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function Nhe(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],US(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var AD;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(AD||(AD={}));var kD;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(kD||(kD={}));var CD;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(CD||(CD={}));var ke;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ke||(ke={}));var ID;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ID||(ID={}));var RD;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(RD||(RD={}));var ND;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(ND||(ND={}));var PD;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(PD||(PD={}));var MD;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(MD||(MD={}));var DD;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(DD||(DD={}));var OD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(OD||(OD={}));var LD;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(LD||(LD={}));var UD;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(UD||(UD={}));var VD;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(VD||(VD={}));var FD;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(FD||(FD={}));var BD;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(BD||(BD={}));var jD;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(jD||(jD={}));var zD;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(zD||(zD={}));var qD;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(qD||(qD={}));var Uh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Uh||(Uh={}));var HD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(HD||(HD={}));var GD;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(GD||(GD={}));var $D;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})($D||($D={}));var sT;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(sT||(sT={}));var KD;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(KD||(KD={}));var WD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(WD||(WD={}));var YD;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(YD||(YD={}));var JD;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(JD||(JD={}));var XD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(XD||(XD={}));var QD;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(QD||(QD={}));var ZD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(ZD||(ZD={}));var eO;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(eO||(eO={}));var tO;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(tO||(tO={}));var nO;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(nO||(nO={}));var rO;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(rO||(rO={}));var iO;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(iO||(iO={}));var aO;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(aO||(aO={}));var oO;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(oO||(oO={}));var sO;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(sO||(sO={}));var lO;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(lO||(lO={}));var uO;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(uO||(uO={}));var cO;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(cO||(cO={}));var dO;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(dO||(dO={}));var fO;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(fO||(fO={}));var hO;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(hO||(hO={}));var pO;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(pO||(pO={}));var mO;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(mO||(mO={}));var gO;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(gO||(gO={}));var yO;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(yO||(yO={}));var vO;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vO||(vO={}));var bO;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(bO||(bO={}));var _O;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_O||(_O={}));var xO;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(xO||(xO={}));var EO;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(EO||(EO={}));var Mc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Mc||(Mc={}));class lT{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Xf{get text(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const p=[];for(const g of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[v,w]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(w!==null||w!==void 0)&&p.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,d+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const p of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,v]of Object.entries(p))g!=="inlineData"&&(v!==null||v!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,a,s,u,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,a,s,u,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class TO{}class wO{}class Phe{}class Mhe{}class Dhe{}class Ohe{}class SO{}class AO{}class kO{}class Lhe{}class $y{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new $y;let i;const a=e;return n?i=_he(a):i=bhe(a),Object.assign(r,i),r}}class CO{}class IO{}class RO{}class NO{}class Uhe{}class Vhe{}class Fhe{}class VS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new VS,a=khe(e);return Object.assign(r,a),r}}class Bhe{}class jhe{}class zhe{}class PO{}class qhe{get text(){var e,n,r;let i="",a=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&a.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Hhe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class FS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new FS,a=SF(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function AF(t,e){const n=gt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function kF(t){return Array.isArray(t)?t.map(e=>Ky(e)):[Ky(t)]}function Ky(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function CF(t){const e=Ky(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function IF(t){const e=Ky(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function MO(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function RF(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>MO(e)):[MO(t)]}function uT(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function DO(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function OO(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function vr(t){if(t==null)throw new Error("ContentUnion is required");return uT(t)?t:{role:"user",parts:RF(t)}}function BS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=vr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=vr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>vr(n)):[vr(e)]}function Di(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(DO(t)||OO(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vr(t)]}const e=[],n=[],r=uT(t[0]);for(const i of t){const a=uT(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(DO(i)||OO(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:RF(n)}),e}function Ghe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ke).includes(n[0].toUpperCase())?n[0].toUpperCase():ke.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ke).includes(r.toUpperCase())?r.toUpperCase():ke.TYPE_UNSPECIFIED})}}function qc(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Ghe(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(ke).includes(u.toUpperCase())?u.toUpperCase():ke.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=qc(u);else if(r.includes(s)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(qc(d))}e[s]=c}else if(i.includes(s)){const c={};for(const[d,h]of Object.entries(u))c[d]=qc(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function jS(t){return qc(t)}function zS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function qS(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ad(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=qc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=qc(e.response));return t}function kd(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function $he(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function es(t,e){if(typeof e!="string")throw new Error("name must be a string");return $he(t,e,"cachedContents")}function NF(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function pl(t){return US(t)}function Khe(t){return t!=null&&typeof t=="object"&&"name"in t}function Whe(t){return t!=null&&typeof t=="object"&&"video"in t}function Yhe(t){return t!=null&&typeof t=="object"&&"uri"in t}function PF(t){var e;let n;if(Khe(t)&&(n=t.name),!(Yhe(t)&&(n=t.uri,n===void 0))&&!(Whe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function MF(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function DF(t){for(const e of["models","tunedModels","publisherModels"])if(Jhe(t,e))return t[e];return[]}function Jhe(t,e){return t!==null&&typeof t=="object"&&e in t}function Xhe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Qhe(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=Xhe(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function OF(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Zhe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function LF(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Cd(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function UF(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function epe(t){const e={},n=y(t,["responsesFile"]);n!=null&&b(e,["fileName"],n);const r=y(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Dpe(s))),b(e,["inlinedResponses"],a)}const i=y(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),b(e,["inlinedEmbedContentResponses"],a)}return e}function tpe(t){const e={},n=y(t,["predictionsFormat"]);n!=null&&b(e,["format"],n);const r=y(t,["gcsDestination","outputUriPrefix"]);r!=null&&b(e,["gcsUri"],r);const i=y(t,["bigqueryDestination","outputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function npe(t){const e={},n=y(t,["format"]);n!=null&&b(e,["predictionsFormat"],n);const r=y(t,["gcsUri"]);r!=null&&b(e,["gcsDestination","outputUriPrefix"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&b(e,["bigqueryDestination","outputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function zg(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata","displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["metadata","state"]);i!=null&&b(e,["state"],UF(i));const a=y(t,["metadata","createTime"]);a!=null&&b(e,["createTime"],a);const s=y(t,["metadata","endTime"]);s!=null&&b(e,["endTime"],s);const u=y(t,["metadata","updateTime"]);u!=null&&b(e,["updateTime"],u);const c=y(t,["metadata","model"]);c!=null&&b(e,["model"],c);const d=y(t,["metadata","output"]);return d!=null&&b(e,["dest"],epe(LF(d))),e}function cT(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["state"]);i!=null&&b(e,["state"],UF(i));const a=y(t,["error"]);a!=null&&b(e,["error"],a);const s=y(t,["createTime"]);s!=null&&b(e,["createTime"],s);const u=y(t,["startTime"]);u!=null&&b(e,["startTime"],u);const c=y(t,["endTime"]);c!=null&&b(e,["endTime"],c);const d=y(t,["updateTime"]);d!=null&&b(e,["updateTime"],d);const h=y(t,["model"]);h!=null&&b(e,["model"],h);const p=y(t,["inputConfig"]);p!=null&&b(e,["src"],rpe(p));const g=y(t,["outputConfig"]);g!=null&&b(e,["dest"],tpe(LF(g)));const v=y(t,["completionStats"]);return v!=null&&b(e,["completionStats"],v),e}function rpe(t){const e={},n=y(t,["instancesFormat"]);n!=null&&b(e,["format"],n);const r=y(t,["gcsSource","uris"]);r!=null&&b(e,["gcsUri"],r);const i=y(t,["bigquerySource","inputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function ipe(t,e){const n={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&b(n,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Mpe(t,s))),b(n,["requests","requests"],a)}return n}function ape(t){const e={},n=y(t,["format"]);n!=null&&b(e,["instancesFormat"],n);const r=y(t,["gcsUri"]);r!=null&&b(e,["gcsSource","uris"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&b(e,["bigquerySource","inputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function ope(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function spe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Cd(t,r)),n}function lpe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Cd(t,r)),n}function upe(t){const e={},n=y(t,["content"]);n!=null&&b(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],cpe(r));const i=y(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const a=y(t,["finishReason"]);a!=null&&b(e,["finishReason"],a);const s=y(t,["avgLogprobs"]);s!=null&&b(e,["avgLogprobs"],s);const u=y(t,["groundingMetadata"]);u!=null&&b(e,["groundingMetadata"],u);const c=y(t,["index"]);c!=null&&b(e,["index"],c);const d=y(t,["logprobsResult"]);d!=null&&b(e,["logprobsResult"],d);const h=y(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),b(e,["safetyRatings"],g)}const p=y(t,["urlContextMetadata"]);return p!=null&&b(e,["urlContextMetadata"],p),e}function cpe(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function VF(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>jpe(a))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function dpe(t,e){const n={},r=y(t,["displayName"]);if(e!==void 0&&r!=null&&b(e,["batch","displayName"],r),y(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function fpe(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(t,["dest"]);return e!==void 0&&i!=null&&b(e,["outputConfig"],npe(Zhe(i))),n}function LO(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["src"]);i!=null&&b(n,["batch","inputConfig"],ipe(t,OF(t,i)));const a=y(e,["config"]);return a!=null&&dpe(a,n),n}function hpe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["model"],gt(t,r));const i=y(e,["src"]);i!=null&&b(n,["inputConfig"],ape(OF(t,i)));const a=y(e,["config"]);return a!=null&&fpe(a,n),n}function ppe(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["batch","displayName"],r),n}function mpe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["src"]);i!=null&&b(n,["batch","inputConfig"],Epe(t,i));const a=y(e,["config"]);return a!=null&&ppe(a,n),n}function gpe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Cd(t,r)),n}function ype(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Cd(t,r)),n}function vpe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const a=y(t,["error"]);return a!=null&&b(e,["error"],a),e}function bpe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const a=y(t,["error"]);return a!=null&&b(e,["error"],a),e}function _pe(t,e){const n={},r=y(e,["contents"]);if(r!=null){let a=BS(t,r);Array.isArray(a)&&(a=a.map(s=>s)),b(n,["requests[]","request","content"],a)}const i=y(e,["config"]);return i!=null&&(b(n,["_self"],xpe(i,n)),yhe(n,{"requests[].*":"requests[].request.*"})),n}function xpe(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const a=y(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&b(e,["requests[]","outputDimensionality"],a),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Epe(t,e){const n={},r=y(e,["fileName"]);r!=null&&b(n,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&b(n,["requests"],_pe(t,i)),n}function Tpe(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function wpe(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Spe(t){const e={},n=y(t,["mode"]);n!=null&&b(e,["mode"],n);const r=y(t,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ape(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],VF(vr(i)));const a=y(e,["temperature"]);a!=null&&b(r,["temperature"],a);const s=y(e,["topP"]);s!=null&&b(r,["topP"],s);const u=y(e,["topK"]);u!=null&&b(r,["topK"],u);const c=y(e,["candidateCount"]);c!=null&&b(r,["candidateCount"],c);const d=y(e,["maxOutputTokens"]);d!=null&&b(r,["maxOutputTokens"],d);const h=y(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&b(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&b(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&b(r,["presencePenalty"],v);const w=y(e,["frequencyPenalty"]);w!=null&&b(r,["frequencyPenalty"],w);const S=y(e,["seed"]);S!=null&&b(r,["seed"],S);const A=y(e,["responseMimeType"]);A!=null&&b(r,["responseMimeType"],A);const C=y(e,["responseSchema"]);C!=null&&b(r,["responseSchema"],jS(C));const U=y(e,["responseJsonSchema"]);if(U!=null&&b(r,["responseJsonSchema"],U),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=y(e,["safetySettings"]);if(n!==void 0&&M!=null){let j=M;Array.isArray(j)&&(j=j.map(H=>zpe(H))),b(n,["safetySettings"],j)}const F=y(e,["tools"]);if(n!==void 0&&F!=null){let j=kd(F);Array.isArray(j)&&(j=j.map(H=>Hpe(Ad(H)))),b(n,["tools"],j)}const q=y(e,["toolConfig"]);if(n!==void 0&&q!=null&&b(n,["toolConfig"],qpe(q)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=y(e,["cachedContent"]);n!==void 0&&V!=null&&b(n,["cachedContent"],es(t,V));const D=y(e,["responseModalities"]);D!=null&&b(r,["responseModalities"],D);const O=y(e,["mediaResolution"]);O!=null&&b(r,["mediaResolution"],O);const L=y(e,["speechConfig"]);if(L!=null&&b(r,["speechConfig"],zS(L)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=y(e,["thinkingConfig"]);B!=null&&b(r,["thinkingConfig"],B);const P=y(e,["imageConfig"]);return P!=null&&b(r,["imageConfig"],Ppe(P)),r}function kpe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>upe(d))),b(e,["candidates"],c)}const i=y(t,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const a=y(t,["promptFeedback"]);a!=null&&b(e,["promptFeedback"],a);const s=y(t,["responseId"]);s!=null&&b(e,["responseId"],s);const u=y(t,["usageMetadata"]);return u!=null&&b(e,["usageMetadata"],u),e}function Cpe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Cd(t,r)),n}function Ipe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Cd(t,r)),n}function Rpe(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function Npe(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Ppe(t){const e={},n=y(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Mpe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["request","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let u=Di(i);Array.isArray(u)&&(u=u.map(c=>VF(c))),b(n,["request","contents"],u)}const a=y(e,["metadata"]);a!=null&&b(n,["metadata"],a);const s=y(e,["config"]);return s!=null&&b(n,["request","generationConfig"],Ape(t,s,y(n,["request"],{}))),n}function Dpe(t){const e={},n=y(t,["response"]);n!=null&&b(e,["response"],kpe(n));const r=y(t,["error"]);return r!=null&&b(e,["error"],r),e}function Ope(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);if(e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),y(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Lpe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const a=y(t,["filter"]);return e!==void 0&&a!=null&&b(e,["_query","filter"],a),n}function Upe(t){const e={},n=y(t,["config"]);return n!=null&&Ope(n,e),e}function Vpe(t){const e={},n=y(t,["config"]);return n!=null&&Lpe(n,e),e}function Fpe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>zg(s))),b(e,["batchJobs"],a)}return e}function Bpe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>cT(s))),b(e,["batchJobs"],a)}return e}function jpe(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const a=y(t,["fileData"]);a!=null&&b(e,["fileData"],Tpe(a));const s=y(t,["functionCall"]);s!=null&&b(e,["functionCall"],wpe(s));const u=y(t,["functionResponse"]);u!=null&&b(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&b(e,["inlineData"],ope(c));const d=y(t,["text"]);d!=null&&b(e,["text"],d);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function zpe(t){const e={},n=y(t,["category"]);if(n!=null&&b(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function qpe(t){const e={},n=y(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],Spe(n));const r=y(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function Hpe(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const a=y(t,["fileSearch"]);a!=null&&b(e,["fileSearch"],a);const s=y(t,["codeExecution"]);if(s!=null&&b(e,["codeExecution"],s),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],Rpe(u));const c=y(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],Npe(c));const d=y(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(zo||(zo={}));class Au{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gpe extends Zo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Au(zo.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=LO(this.apiClient,e),r=n._url,i=Ce("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const v=p.request;v.systemInstruction=g,p.request=v}d.push(p)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=hpe(this.apiClient,e);return u=Ce("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>cT(h))}else{const d=LO(this.apiClient,e);return u=Ce("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>zg(h))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mpe(this.apiClient,e);return a=Ce("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>zg(c))}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Ipe(this.apiClient,e);return u=Ce("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>cT(h))}else{const d=Cpe(this.apiClient,e);return u=Ce("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>zg(h))}}async cancel(e){var n,r,i,a;let s="",u={};if(this.apiClient.isVertexAI()){const c=lpe(this.apiClient,e);s=Ce("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=spe(this.apiClient,e);s=Ce("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Vpe(e);return u=Ce("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Bpe(h),g=new PO;return Object.assign(g,p),g})}else{const d=Upe(e);return u=Ce("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Fpe(h),g=new PO;return Object.assign(g,p),g})}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=ype(this.apiClient,e);return u=Ce("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>bpe(h))}else{const d=gpe(this.apiClient,e);return u=Ce("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>vpe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $pe(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function UO(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>mme(a))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function Kpe(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const a=y(t,["displayName"]);e!==void 0&&a!=null&&b(e,["displayName"],a);const s=y(t,["contents"]);if(e!==void 0&&s!=null){let h=Di(s);Array.isArray(h)&&(h=h.map(p=>UO(p))),b(e,["contents"],h)}const u=y(t,["systemInstruction"]);e!==void 0&&u!=null&&b(e,["systemInstruction"],UO(vr(u)));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>yme(p))),b(e,["tools"],h)}const d=y(t,["toolConfig"]);if(e!==void 0&&d!=null&&b(e,["toolConfig"],gme(d)),y(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Wpe(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const a=y(t,["displayName"]);e!==void 0&&a!=null&&b(e,["displayName"],a);const s=y(t,["contents"]);if(e!==void 0&&s!=null){let p=Di(s);Array.isArray(p)&&(p=p.map(g=>g)),b(e,["contents"],p)}const u=y(t,["systemInstruction"]);e!==void 0&&u!=null&&b(e,["systemInstruction"],vr(u));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>vme(g))),b(e,["tools"],p)}const d=y(t,["toolConfig"]);e!==void 0&&d!=null&&b(e,["toolConfig"],d);const h=y(t,["kmsKeyName"]);return e!==void 0&&h!=null&&b(e,["encryption_spec","kmsKeyName"],h),n}function Ype(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["model"],AF(t,r));const i=y(e,["config"]);return i!=null&&Kpe(i,n),n}function Jpe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["model"],AF(t,r));const i=y(e,["config"]);return i!=null&&Wpe(i,n),n}function Xpe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],es(t,r)),n}function Qpe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],es(t,r)),n}function Zpe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function eme(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function tme(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function nme(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rme(t){const e={},n=y(t,["mode"]);n!=null&&b(e,["mode"],n);const r=y(t,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ime(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&b(e,["description"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["parameters"]);i!=null&&b(e,["parameters"],i);const a=y(t,["parametersJsonSchema"]);a!=null&&b(e,["parametersJsonSchema"],a);const s=y(t,["response"]);s!=null&&b(e,["response"],s);const u=y(t,["responseJsonSchema"]);return u!=null&&b(e,["responseJsonSchema"],u),e}function ame(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],es(t,r)),n}function ome(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],es(t,r)),n}function sme(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function lme(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function ume(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function cme(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function dme(t){const e={},n=y(t,["config"]);return n!=null&&ume(n,e),e}function fme(t){const e={},n=y(t,["config"]);return n!=null&&cme(n,e),e}function hme(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),b(e,["cachedContents"],a)}return e}function pme(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),b(e,["cachedContents"],a)}return e}function mme(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const a=y(t,["fileData"]);a!=null&&b(e,["fileData"],tme(a));const s=y(t,["functionCall"]);s!=null&&b(e,["functionCall"],nme(s));const u=y(t,["functionResponse"]);u!=null&&b(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&b(e,["inlineData"],$pe(c));const d=y(t,["text"]);d!=null&&b(e,["text"],d);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function gme(t){const e={},n=y(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],rme(n));const r=y(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function yme(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const a=y(t,["fileSearch"]);a!=null&&b(e,["fileSearch"],a);const s=y(t,["codeExecution"]);if(s!=null&&b(e,["codeExecution"],s),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],sme(u));const c=y(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],lme(c));const d=y(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}function vme(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>ime(g))),b(e,["functionDeclarations"],p)}const r=y(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=y(t,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const a=y(t,["computerUse"]);if(a!=null&&b(e,["computerUse"],a),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=y(t,["codeExecution"]);s!=null&&b(e,["codeExecution"],s);const u=y(t,["enterpriseWebSearch"]);u!=null&&b(e,["enterpriseWebSearch"],u);const c=y(t,["googleMaps"]);c!=null&&b(e,["googleMaps"],c);const d=y(t,["googleSearch"]);d!=null&&b(e,["googleSearch"],d);const h=y(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function bme(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function _me(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function xme(t,e){const n={},r=y(e,["name"]);r!=null&&b(n,["_url","name"],es(t,r));const i=y(e,["config"]);return i!=null&&bme(i,n),n}function Eme(t,e){const n={},r=y(e,["name"]);r!=null&&b(n,["_url","name"],es(t,r));const i=y(e,["config"]);return i!=null&&_me(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tme extends Zo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Au(zo.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Jpe(this.apiClient,e);return u=Ce("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=Ype(this.apiClient,e);return u=Ce("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=ome(this.apiClient,e);return u=Ce("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=ame(this.apiClient,e);return u=Ce("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Qpe(this.apiClient,e);return u=Ce("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=eme(h),g=new RO;return Object.assign(g,p),g})}else{const d=Xpe(this.apiClient,e);return u=Ce("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Zpe(h),g=new RO;return Object.assign(g,p),g})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Eme(this.apiClient,e);return u=Ce("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=xme(this.apiClient,e);return u=Ce("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=fme(e);return u=Ce("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=pme(h),g=new NO;return Object.assign(g,p),g})}else{const d=dme(e);return u=Ce("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=hme(h),g=new NO;return Object.assign(g,p),g})}}}function VO(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qt(t){return this instanceof qt?(this.v=t,this):new qt(t)}function Hc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(w){return Promise.resolve(w).then(v,p)}}function u(v,w){r[v]&&(i[v]=function(S){return new Promise(function(A,C){a.push([v,S,A,C])>1||c(v,S)})},w&&(i[v]=w(i[v])))}function c(v,w){try{d(r[v](w))}catch(S){g(a[0][3],S)}}function d(v){v.value instanceof qt?Promise.resolve(v.value.v).then(h,p):g(a[0][2],v)}function h(v){c("next",v)}function p(v){c("throw",v)}function g(v,w){v(w),a.shift(),a.length&&c(a[0][0],a[0][1])}}function hh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof VO=="function"?VO(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(u,c){s=t[a](s),i(u,c,s.done,s.value)})}}function i(a,s,u,c){Promise.resolve(c).then(function(d){a({value:d,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wme(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:FF(n)}function FF(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Sme(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function FO(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!FF(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class Ame{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new kme(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class kme{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Sme(a)}async sendMessage(e){var n;await this.sendPromise;const r=vr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,u;const c=await i,d=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(p))!==null&&u!==void 0?u:[]);const v=d?[d]:[];this.recordHistory(r,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=vr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?FO(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Hc(this,arguments,function*(){var s,u,c,d;const h=[];try{for(var p=!0,g=hh(e),v;v=yield qt(g.next()),s=v.done,!s;p=!0){d=v.value,p=!1;const w=d;if(wme(w)){const S=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;S!==void 0&&h.push(S)}yield yield qt(w)}}catch(w){u={error:w}}finally{try{!p&&!s&&(c=g.return)&&(yield qt(c.call(g)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...FO(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o0 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,o0.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cme(t){const e={},n=y(t,["file"]);return n!=null&&b(e,["file"],n),e}function Ime(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Rme(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","file"],PF(n)),e}function Nme(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Pme(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","file"],PF(n)),e}function Mme(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Dme(t){const e={},n=y(t,["config"]);return n!=null&&Mme(n,e),e}function Ome(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),b(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lme extends Zo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Au(zo.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Dme(e);return a=Ce("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Ome(c),h=new Bhe;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Cme(e);return a=Ce("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Ime(c),h=new jhe;return Object.assign(h,d),h})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Pme(e);return a=Ce("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Rme(e);return a=Ce("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Nme(c),h=new zhe;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qg(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Ume(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Zme(a))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function Vme(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Fme(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Bme(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&b(e,["description"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["parameters"]);i!=null&&b(e,["parameters"],i);const a=y(t,["parametersJsonSchema"]);a!=null&&b(e,["parametersJsonSchema"],a);const s=y(t,["response"]);s!=null&&b(e,["response"],s);const u=y(t,["responseJsonSchema"]);return u!=null&&b(e,["responseJsonSchema"],u),e}function jme(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&b(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const a=y(t,["candidateCount"]);a!=null&&b(e,["candidateCount"],a);const s=y(t,["enableAffectiveDialog"]);s!=null&&b(e,["enableAffectiveDialog"],s);const u=y(t,["frequencyPenalty"]);u!=null&&b(e,["frequencyPenalty"],u);const c=y(t,["logprobs"]);c!=null&&b(e,["logprobs"],c);const d=y(t,["maxOutputTokens"]);d!=null&&b(e,["maxOutputTokens"],d);const h=y(t,["mediaResolution"]);h!=null&&b(e,["mediaResolution"],h);const p=y(t,["presencePenalty"]);p!=null&&b(e,["presencePenalty"],p);const g=y(t,["responseLogprobs"]);g!=null&&b(e,["responseLogprobs"],g);const v=y(t,["responseMimeType"]);v!=null&&b(e,["responseMimeType"],v);const w=y(t,["responseModalities"]);w!=null&&b(e,["responseModalities"],w);const S=y(t,["responseSchema"]);S!=null&&b(e,["responseSchema"],S);const A=y(t,["routingConfig"]);A!=null&&b(e,["routingConfig"],A);const C=y(t,["seed"]);C!=null&&b(e,["seed"],C);const U=y(t,["speechConfig"]);U!=null&&b(e,["speechConfig"],BF(U));const M=y(t,["stopSequences"]);M!=null&&b(e,["stopSequences"],M);const F=y(t,["temperature"]);F!=null&&b(e,["temperature"],F);const q=y(t,["thinkingConfig"]);q!=null&&b(e,["thinkingConfig"],q);const V=y(t,["topK"]);V!=null&&b(e,["topK"],V);const D=y(t,["topP"]);if(D!=null&&b(e,["topP"],D),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function zme(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function qme(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Hme(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const a=y(t,["temperature"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","temperature"],a);const s=y(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const u=y(t,["topK"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","maxOutputTokens"],c);const d=y(t,["mediaResolution"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","mediaResolution"],d);const h=y(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],qS(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&b(e,["setup","generationConfig","thinkingConfig"],g);const v=y(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],v);const w=y(t,["systemInstruction"]);e!==void 0&&w!=null&&b(e,["setup","systemInstruction"],Ume(vr(w)));const S=y(t,["tools"]);if(e!==void 0&&S!=null){let V=kd(S);Array.isArray(V)&&(V=V.map(D=>tge(Ad(D)))),b(e,["setup","tools"],V)}const A=y(t,["sessionResumption"]);e!==void 0&&A!=null&&b(e,["setup","sessionResumption"],ege(A));const C=y(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&b(e,["setup","inputAudioTranscription"],C);const U=y(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&b(e,["setup","outputAudioTranscription"],U);const M=y(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&b(e,["setup","realtimeInputConfig"],M);const F=y(t,["contextWindowCompression"]);e!==void 0&&F!=null&&b(e,["setup","contextWindowCompression"],F);const q=y(t,["proactivity"]);return e!==void 0&&q!=null&&b(e,["setup","proactivity"],q),n}function Gme(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],jme(r));const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const a=y(t,["temperature"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","temperature"],a);const s=y(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const u=y(t,["topK"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","maxOutputTokens"],c);const d=y(t,["mediaResolution"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","mediaResolution"],d);const h=y(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],BF(qS(p)));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&b(e,["setup","generationConfig","thinkingConfig"],g);const v=y(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],v);const w=y(t,["systemInstruction"]);e!==void 0&&w!=null&&b(e,["setup","systemInstruction"],vr(w));const S=y(t,["tools"]);if(e!==void 0&&S!=null){let V=kd(S);Array.isArray(V)&&(V=V.map(D=>nge(Ad(D)))),b(e,["setup","tools"],V)}const A=y(t,["sessionResumption"]);e!==void 0&&A!=null&&b(e,["setup","sessionResumption"],A);const C=y(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&b(e,["setup","inputAudioTranscription"],C);const U=y(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&b(e,["setup","outputAudioTranscription"],U);const M=y(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&b(e,["setup","realtimeInputConfig"],M);const F=y(t,["contextWindowCompression"]);e!==void 0&&F!=null&&b(e,["setup","contextWindowCompression"],F);const q=y(t,["proactivity"]);return e!==void 0&&q!=null&&b(e,["setup","proactivity"],q),n}function $me(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["setup","model"],gt(t,r));const i=y(e,["config"]);return i!=null&&b(n,["config"],Hme(i,n)),n}function Kme(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["setup","model"],gt(t,r));const i=y(e,["config"]);return i!=null&&b(n,["config"],Gme(i,n)),n}function Wme(t){const e={},n=y(t,["musicGenerationConfig"]);return n!=null&&b(e,["musicGenerationConfig"],n),e}function Yme(t){const e={},n=y(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["weightedPrompts"],r)}return e}function Jme(t){const e={},n=y(t,["media"]);if(n!=null){let d=kF(n);Array.isArray(d)&&(d=d.map(h=>qg(h))),b(e,["mediaChunks"],d)}const r=y(t,["audio"]);r!=null&&b(e,["audio"],qg(IF(r)));const i=y(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const a=y(t,["video"]);a!=null&&b(e,["video"],qg(CF(a)));const s=y(t,["text"]);s!=null&&b(e,["text"],s);const u=y(t,["activityStart"]);u!=null&&b(e,["activityStart"],u);const c=y(t,["activityEnd"]);return c!=null&&b(e,["activityEnd"],c),e}function Xme(t){const e={},n=y(t,["media"]);if(n!=null){let d=kF(n);Array.isArray(d)&&(d=d.map(h=>h)),b(e,["mediaChunks"],d)}const r=y(t,["audio"]);r!=null&&b(e,["audio"],IF(r));const i=y(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const a=y(t,["video"]);a!=null&&b(e,["video"],CF(a));const s=y(t,["text"]);s!=null&&b(e,["text"],s);const u=y(t,["activityStart"]);u!=null&&b(e,["activityStart"],u);const c=y(t,["activityEnd"]);return c!=null&&b(e,["activityEnd"],c),e}function Qme(t){const e={},n=y(t,["setupComplete"]);n!=null&&b(e,["setupComplete"],n);const r=y(t,["serverContent"]);r!=null&&b(e,["serverContent"],r);const i=y(t,["toolCall"]);i!=null&&b(e,["toolCall"],i);const a=y(t,["toolCallCancellation"]);a!=null&&b(e,["toolCallCancellation"],a);const s=y(t,["usageMetadata"]);s!=null&&b(e,["usageMetadata"],rge(s));const u=y(t,["goAway"]);u!=null&&b(e,["goAway"],u);const c=y(t,["sessionResumptionUpdate"]);return c!=null&&b(e,["sessionResumptionUpdate"],c),e}function Zme(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const a=y(t,["fileData"]);a!=null&&b(e,["fileData"],Vme(a));const s=y(t,["functionCall"]);s!=null&&b(e,["functionCall"],Fme(s));const u=y(t,["functionResponse"]);u!=null&&b(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&b(e,["inlineData"],qg(c));const d=y(t,["text"]);d!=null&&b(e,["text"],d);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function ege(t){const e={},n=y(t,["handle"]);if(n!=null&&b(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function BF(t){const e={},n=y(t,["languageCode"]);n!=null&&b(e,["languageCode"],n);const r=y(t,["voiceConfig"]);if(r!=null&&b(e,["voiceConfig"],r),y(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function tge(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const a=y(t,["fileSearch"]);a!=null&&b(e,["fileSearch"],a);const s=y(t,["codeExecution"]);if(s!=null&&b(e,["codeExecution"],s),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],zme(u));const c=y(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],qme(c));const d=y(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}function nge(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>Bme(g))),b(e,["functionDeclarations"],p)}const r=y(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=y(t,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const a=y(t,["computerUse"]);if(a!=null&&b(e,["computerUse"],a),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=y(t,["codeExecution"]);s!=null&&b(e,["codeExecution"],s);const u=y(t,["enterpriseWebSearch"]);u!=null&&b(e,["enterpriseWebSearch"],u);const c=y(t,["googleMaps"]);c!=null&&b(e,["googleMaps"],c);const d=y(t,["googleSearch"]);d!=null&&b(e,["googleSearch"],d);const h=y(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function rge(t){const e={},n=y(t,["promptTokenCount"]);n!=null&&b(e,["promptTokenCount"],n);const r=y(t,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const i=y(t,["candidatesTokenCount"]);i!=null&&b(e,["responseTokenCount"],i);const a=y(t,["toolUsePromptTokenCount"]);a!=null&&b(e,["toolUsePromptTokenCount"],a);const s=y(t,["thoughtsTokenCount"]);s!=null&&b(e,["thoughtsTokenCount"],s);const u=y(t,["totalTokenCount"]);u!=null&&b(e,["totalTokenCount"],u);const c=y(t,["promptTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(w=>w)),b(e,["promptTokensDetails"],v)}const d=y(t,["cacheTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(w=>w)),b(e,["cacheTokensDetails"],v)}const h=y(t,["candidatesTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(w=>w)),b(e,["responseTokensDetails"],v)}const p=y(t,["toolUsePromptTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(w=>w)),b(e,["toolUsePromptTokensDetails"],v)}const g=y(t,["trafficType"]);return g!=null&&b(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ige(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function age(t){const e={},n=y(t,["content"]);n!=null&&b(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],oge(r));const i=y(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const a=y(t,["finishReason"]);a!=null&&b(e,["finishReason"],a);const s=y(t,["avgLogprobs"]);s!=null&&b(e,["avgLogprobs"],s);const u=y(t,["groundingMetadata"]);u!=null&&b(e,["groundingMetadata"],u);const c=y(t,["index"]);c!=null&&b(e,["index"],c);const d=y(t,["logprobsResult"]);d!=null&&b(e,["logprobsResult"],d);const h=y(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),b(e,["safetyRatings"],g)}const p=y(t,["urlContextMetadata"]);return p!=null&&b(e,["urlContextMetadata"],p),e}function oge(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function sge(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let a=Di(i);Array.isArray(a)&&(a=a.map(s=>s)),b(n,["contents"],a)}return n}function lge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),b(e,["tokensInfo"],i)}return e}function uge(t){const e={},n=y(t,["values"]);n!=null&&b(e,["values"],n);const r=y(t,["statistics"]);return r!=null&&b(e,["statistics"],cge(r)),e}function cge(t){const e={},n=y(t,["truncated"]);n!=null&&b(e,["truncated"],n);const r=y(t,["token_count"]);return r!=null&&b(e,["tokenCount"],r),e}function s0(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>bye(a))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function dge(t){const e={},n=y(t,["controlType"]);n!=null&&b(e,["controlType"],n);const r=y(t,["enableControlImageComputation"]);return r!=null&&b(e,["computeControl"],r),e}function fge(t){const e={};if(y(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function hge(t,e){const n={},r=y(t,["systemInstruction"]);e!==void 0&&r!=null&&b(e,["systemInstruction"],vr(r));const i=y(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>GF(u))),b(e,["tools"],s)}const a=y(t,["generationConfig"]);return e!==void 0&&a!=null&&b(e,["generationConfig"],iye(a)),n}function pge(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let s=Di(i);Array.isArray(s)&&(s=s.map(u=>s0(u))),b(n,["contents"],s)}const a=y(e,["config"]);return a!=null&&fge(a),n}function mge(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let s=Di(i);Array.isArray(s)&&(s=s.map(u=>u)),b(n,["contents"],s)}const a=y(e,["config"]);return a!=null&&hge(a,n),n}function gge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);r!=null&&b(e,["totalTokens"],r);const i=y(t,["cachedContentTokenCount"]);return i!=null&&b(e,["cachedContentTokenCount"],i),e}function yge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);return r!=null&&b(e,["totalTokens"],r),e}function vge(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],gt(t,r)),n}function bge(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],gt(t,r)),n}function _ge(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function xge(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Ege(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const a=y(t,["numberOfImages"]);e!==void 0&&a!=null&&b(e,["parameters","sampleCount"],a);const s=y(t,["aspectRatio"]);e!==void 0&&s!=null&&b(e,["parameters","aspectRatio"],s);const u=y(t,["guidanceScale"]);e!==void 0&&u!=null&&b(e,["parameters","guidanceScale"],u);const c=y(t,["seed"]);e!==void 0&&c!=null&&b(e,["parameters","seed"],c);const d=y(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&b(e,["parameters","safetySetting"],d);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const p=y(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&b(e,["parameters","includeSafetyAttributes"],p);const g=y(t,["includeRaiReason"]);e!==void 0&&g!=null&&b(e,["parameters","includeRaiReason"],g);const v=y(t,["language"]);e!==void 0&&v!=null&&b(e,["parameters","language"],v);const w=y(t,["outputMimeType"]);e!==void 0&&w!=null&&b(e,["parameters","outputOptions","mimeType"],w);const S=y(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&b(e,["parameters","outputOptions","compressionQuality"],S);const A=y(t,["addWatermark"]);e!==void 0&&A!=null&&b(e,["parameters","addWatermark"],A);const C=y(t,["labels"]);e!==void 0&&C!=null&&b(e,["labels"],C);const U=y(t,["editMode"]);e!==void 0&&U!=null&&b(e,["parameters","editMode"],U);const M=y(t,["baseSteps"]);return e!==void 0&&M!=null&&b(e,["parameters","editConfig","baseSteps"],M),n}function Tge(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const a=y(e,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Sye(c))),b(n,["instances[0]","referenceImages"],u)}const s=y(e,["config"]);return s!=null&&Ege(s,n),n}function wge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>l0(a))),b(e,["generatedImages"],i)}return e}function Sge(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const a=y(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&b(e,["requests[]","outputDimensionality"],a),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Age(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&b(e,["instances[]","task_type"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&b(e,["instances[]","title"],i);const a=y(t,["outputDimensionality"]);e!==void 0&&a!=null&&b(e,["parameters","outputDimensionality"],a);const s=y(t,["mimeType"]);e!==void 0&&s!=null&&b(e,["instances[]","mimeType"],s);const u=y(t,["autoTruncate"]);return e!==void 0&&u!=null&&b(e,["parameters","autoTruncate"],u),n}function kge(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let u=BS(t,i);Array.isArray(u)&&(u=u.map(c=>c)),b(n,["requests[]","content"],u)}const a=y(e,["config"]);a!=null&&Sge(a,n);const s=y(e,["model"]);return s!==void 0&&b(n,["requests[]","model"],gt(t,s)),n}function Cge(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let s=BS(t,i);Array.isArray(s)&&(s=s.map(u=>u)),b(n,["instances[]","content"],s)}const a=y(e,["config"]);return a!=null&&Age(a,n),n}function Ige(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),b(e,["embeddings"],a)}const i=y(t,["metadata"]);return i!=null&&b(e,["metadata"],i),e}function Rge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>uge(s))),b(e,["embeddings"],a)}const i=y(t,["metadata"]);return i!=null&&b(e,["metadata"],i),e}function Nge(t){const e={},n=y(t,["endpoint"]);n!=null&&b(e,["name"],n);const r=y(t,["deployedModelId"]);return r!=null&&b(e,["deployedModelId"],r),e}function Pge(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Mge(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Dge(t){const e={},n=y(t,["mode"]);n!=null&&b(e,["mode"],n);const r=y(t,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Oge(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&b(e,["description"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["parameters"]);i!=null&&b(e,["parameters"],i);const a=y(t,["parametersJsonSchema"]);a!=null&&b(e,["parametersJsonSchema"],a);const s=y(t,["response"]);s!=null&&b(e,["response"],s);const u=y(t,["responseJsonSchema"]);return u!=null&&b(e,["responseJsonSchema"],u),e}function Lge(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],s0(vr(i)));const a=y(e,["temperature"]);a!=null&&b(r,["temperature"],a);const s=y(e,["topP"]);s!=null&&b(r,["topP"],s);const u=y(e,["topK"]);u!=null&&b(r,["topK"],u);const c=y(e,["candidateCount"]);c!=null&&b(r,["candidateCount"],c);const d=y(e,["maxOutputTokens"]);d!=null&&b(r,["maxOutputTokens"],d);const h=y(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&b(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&b(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&b(r,["presencePenalty"],v);const w=y(e,["frequencyPenalty"]);w!=null&&b(r,["frequencyPenalty"],w);const S=y(e,["seed"]);S!=null&&b(r,["seed"],S);const A=y(e,["responseMimeType"]);A!=null&&b(r,["responseMimeType"],A);const C=y(e,["responseSchema"]);C!=null&&b(r,["responseSchema"],jS(C));const U=y(e,["responseJsonSchema"]);if(U!=null&&b(r,["responseJsonSchema"],U),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=y(e,["safetySettings"]);if(n!==void 0&&M!=null){let j=M;Array.isArray(j)&&(j=j.map(H=>Aye(H))),b(n,["safetySettings"],j)}const F=y(e,["tools"]);if(n!==void 0&&F!=null){let j=kd(F);Array.isArray(j)&&(j=j.map(H=>Mye(Ad(H)))),b(n,["tools"],j)}const q=y(e,["toolConfig"]);if(n!==void 0&&q!=null&&b(n,["toolConfig"],Pye(q)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=y(e,["cachedContent"]);n!==void 0&&V!=null&&b(n,["cachedContent"],es(t,V));const D=y(e,["responseModalities"]);D!=null&&b(r,["responseModalities"],D);const O=y(e,["mediaResolution"]);O!=null&&b(r,["mediaResolution"],O);const L=y(e,["speechConfig"]);if(L!=null&&b(r,["speechConfig"],zS(L)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=y(e,["thinkingConfig"]);B!=null&&b(r,["thinkingConfig"],B);const P=y(e,["imageConfig"]);return P!=null&&b(r,["imageConfig"],uye(P)),r}function Uge(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],vr(i));const a=y(e,["temperature"]);a!=null&&b(r,["temperature"],a);const s=y(e,["topP"]);s!=null&&b(r,["topP"],s);const u=y(e,["topK"]);u!=null&&b(r,["topK"],u);const c=y(e,["candidateCount"]);c!=null&&b(r,["candidateCount"],c);const d=y(e,["maxOutputTokens"]);d!=null&&b(r,["maxOutputTokens"],d);const h=y(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&b(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&b(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&b(r,["presencePenalty"],v);const w=y(e,["frequencyPenalty"]);w!=null&&b(r,["frequencyPenalty"],w);const S=y(e,["seed"]);S!=null&&b(r,["seed"],S);const A=y(e,["responseMimeType"]);A!=null&&b(r,["responseMimeType"],A);const C=y(e,["responseSchema"]);C!=null&&b(r,["responseSchema"],jS(C));const U=y(e,["responseJsonSchema"]);U!=null&&b(r,["responseJsonSchema"],U);const M=y(e,["routingConfig"]);M!=null&&b(r,["routingConfig"],M);const F=y(e,["modelSelectionConfig"]);F!=null&&b(r,["modelConfig"],F);const q=y(e,["safetySettings"]);if(n!==void 0&&q!=null){let X=q;Array.isArray(X)&&(X=X.map(K=>K)),b(n,["safetySettings"],X)}const V=y(e,["tools"]);if(n!==void 0&&V!=null){let X=kd(V);Array.isArray(X)&&(X=X.map(K=>GF(Ad(K)))),b(n,["tools"],X)}const D=y(e,["toolConfig"]);n!==void 0&&D!=null&&b(n,["toolConfig"],D);const O=y(e,["labels"]);n!==void 0&&O!=null&&b(n,["labels"],O);const L=y(e,["cachedContent"]);n!==void 0&&L!=null&&b(n,["cachedContent"],es(t,L));const B=y(e,["responseModalities"]);B!=null&&b(r,["responseModalities"],B);const P=y(e,["mediaResolution"]);P!=null&&b(r,["mediaResolution"],P);const j=y(e,["speechConfig"]);j!=null&&b(r,["speechConfig"],HF(zS(j)));const H=y(e,["audioTimestamp"]);H!=null&&b(r,["audioTimestamp"],H);const de=y(e,["thinkingConfig"]);de!=null&&b(r,["thinkingConfig"],de);const te=y(e,["imageConfig"]);return te!=null&&b(r,["imageConfig"],cye(te)),r}function BO(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let s=Di(i);Array.isArray(s)&&(s=s.map(u=>s0(u))),b(n,["contents"],s)}const a=y(e,["config"]);return a!=null&&b(n,["generationConfig"],Lge(t,a,n)),n}function jO(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let s=Di(i);Array.isArray(s)&&(s=s.map(u=>u)),b(n,["contents"],s)}const a=y(e,["config"]);return a!=null&&b(n,["generationConfig"],Uge(t,a,n)),n}function zO(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>age(d))),b(e,["candidates"],c)}const i=y(t,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const a=y(t,["promptFeedback"]);a!=null&&b(e,["promptFeedback"],a);const s=y(t,["responseId"]);s!=null&&b(e,["responseId"],s);const u=y(t,["usageMetadata"]);return u!=null&&b(e,["usageMetadata"],u),e}function qO(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),b(e,["candidates"],d)}const i=y(t,["createTime"]);i!=null&&b(e,["createTime"],i);const a=y(t,["modelVersion"]);a!=null&&b(e,["modelVersion"],a);const s=y(t,["promptFeedback"]);s!=null&&b(e,["promptFeedback"],s);const u=y(t,["responseId"]);u!=null&&b(e,["responseId"],u);const c=y(t,["usageMetadata"]);return c!=null&&b(e,["usageMetadata"],c),e}function Vge(t,e){const n={};if(y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=y(t,["aspectRatio"]);e!==void 0&&i!=null&&b(e,["parameters","aspectRatio"],i);const a=y(t,["guidanceScale"]);if(e!==void 0&&a!=null&&b(e,["parameters","guidanceScale"],a),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&b(e,["parameters","safetySetting"],s);const u=y(t,["personGeneration"]);e!==void 0&&u!=null&&b(e,["parameters","personGeneration"],u);const c=y(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&b(e,["parameters","includeSafetyAttributes"],c);const d=y(t,["includeRaiReason"]);e!==void 0&&d!=null&&b(e,["parameters","includeRaiReason"],d);const h=y(t,["language"]);e!==void 0&&h!=null&&b(e,["parameters","language"],h);const p=y(t,["outputMimeType"]);e!==void 0&&p!=null&&b(e,["parameters","outputOptions","mimeType"],p);const g=y(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&b(e,["parameters","outputOptions","compressionQuality"],g),y(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(t,["imageSize"]);if(e!==void 0&&v!=null&&b(e,["parameters","sampleImageSize"],v),y(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Fge(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const a=y(t,["numberOfImages"]);e!==void 0&&a!=null&&b(e,["parameters","sampleCount"],a);const s=y(t,["aspectRatio"]);e!==void 0&&s!=null&&b(e,["parameters","aspectRatio"],s);const u=y(t,["guidanceScale"]);e!==void 0&&u!=null&&b(e,["parameters","guidanceScale"],u);const c=y(t,["seed"]);e!==void 0&&c!=null&&b(e,["parameters","seed"],c);const d=y(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&b(e,["parameters","safetySetting"],d);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const p=y(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&b(e,["parameters","includeSafetyAttributes"],p);const g=y(t,["includeRaiReason"]);e!==void 0&&g!=null&&b(e,["parameters","includeRaiReason"],g);const v=y(t,["language"]);e!==void 0&&v!=null&&b(e,["parameters","language"],v);const w=y(t,["outputMimeType"]);e!==void 0&&w!=null&&b(e,["parameters","outputOptions","mimeType"],w);const S=y(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&b(e,["parameters","outputOptions","compressionQuality"],S);const A=y(t,["addWatermark"]);e!==void 0&&A!=null&&b(e,["parameters","addWatermark"],A);const C=y(t,["labels"]);e!==void 0&&C!=null&&b(e,["labels"],C);const U=y(t,["imageSize"]);e!==void 0&&U!=null&&b(e,["parameters","sampleImageSize"],U);const M=y(t,["enhancePrompt"]);return e!==void 0&&M!=null&&b(e,["parameters","enhancePrompt"],M),n}function Bge(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const a=y(e,["config"]);return a!=null&&Vge(a,n),n}function jge(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const a=y(e,["config"]);return a!=null&&Fge(a,n),n}function zge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>eye(s))),b(e,["generatedImages"],a)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&b(e,["positivePromptSafetyAttributes"],zF(i)),e}function qge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>l0(s))),b(e,["generatedImages"],a)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&b(e,["positivePromptSafetyAttributes"],qF(i)),e}function Hge(t,e){const n={},r=y(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r),y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(t,["durationSeconds"]);if(e!==void 0&&i!=null&&b(e,["parameters","durationSeconds"],i),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(t,["aspectRatio"]);e!==void 0&&a!=null&&b(e,["parameters","aspectRatio"],a);const s=y(t,["resolution"]);e!==void 0&&s!=null&&b(e,["parameters","resolution"],s);const u=y(t,["personGeneration"]);if(e!==void 0&&u!=null&&b(e,["parameters","personGeneration"],u),y(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=y(t,["negativePrompt"]);e!==void 0&&c!=null&&b(e,["parameters","negativePrompt"],c);const d=y(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&b(e,["parameters","enhancePrompt"],d),y(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=y(t,["lastFrame"]);e!==void 0&&h!=null&&b(e,["instances[0]","lastFrame"],u0(h));const p=y(t,["referenceImages"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>$ye(v))),b(e,["instances[0]","referenceImages"],g)}if(y(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Gge(t,e){const n={},r=y(t,["numberOfVideos"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const a=y(t,["fps"]);e!==void 0&&a!=null&&b(e,["parameters","fps"],a);const s=y(t,["durationSeconds"]);e!==void 0&&s!=null&&b(e,["parameters","durationSeconds"],s);const u=y(t,["seed"]);e!==void 0&&u!=null&&b(e,["parameters","seed"],u);const c=y(t,["aspectRatio"]);e!==void 0&&c!=null&&b(e,["parameters","aspectRatio"],c);const d=y(t,["resolution"]);e!==void 0&&d!=null&&b(e,["parameters","resolution"],d);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const p=y(t,["pubsubTopic"]);e!==void 0&&p!=null&&b(e,["parameters","pubsubTopic"],p);const g=y(t,["negativePrompt"]);e!==void 0&&g!=null&&b(e,["parameters","negativePrompt"],g);const v=y(t,["enhancePrompt"]);e!==void 0&&v!=null&&b(e,["parameters","enhancePrompt"],v);const w=y(t,["generateAudio"]);e!==void 0&&w!=null&&b(e,["parameters","generateAudio"],w);const S=y(t,["lastFrame"]);e!==void 0&&S!=null&&b(e,["instances[0]","lastFrame"],fa(S));const A=y(t,["referenceImages"]);if(e!==void 0&&A!=null){let M=A;Array.isArray(M)&&(M=M.map(F=>Kye(F))),b(e,["instances[0]","referenceImages"],M)}const C=y(t,["mask"]);e!==void 0&&C!=null&&b(e,["instances[0]","mask"],Gye(C));const U=y(t,["compressionQuality"]);return e!==void 0&&U!=null&&b(e,["parameters","compressionQuality"],U),n}function $ge(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const a=y(t,["error"]);a!=null&&b(e,["error"],a);const s=y(t,["response","generateVideoResponse"]);return s!=null&&b(e,["response"],Jge(s)),e}function Kge(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const a=y(t,["error"]);a!=null&&b(e,["error"],a);const s=y(t,["response"]);return s!=null&&b(e,["response"],Xge(s)),e}function Wge(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const a=y(e,["image"]);a!=null&&b(n,["instances[0]","image"],u0(a));const s=y(e,["video"]);s!=null&&b(n,["instances[0]","video"],$F(s));const u=y(e,["source"]);u!=null&&Qge(u,n);const c=y(e,["config"]);return c!=null&&Hge(c,n),n}function Yge(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const a=y(e,["image"]);a!=null&&b(n,["instances[0]","image"],fa(a));const s=y(e,["video"]);s!=null&&b(n,["instances[0]","video"],KF(s));const u=y(e,["source"]);u!=null&&Zge(u,n);const c=y(e,["config"]);return c!=null&&Gge(c,n),n}function Jge(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>nye(s))),b(e,["generatedVideos"],a)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function Xge(t){const e={},n=y(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>rye(s))),b(e,["generatedVideos"],a)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function Qge(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],u0(i));const a=y(t,["video"]);return e!==void 0&&a!=null&&b(e,["instances[0]","video"],$F(a)),n}function Zge(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],fa(i));const a=y(t,["video"]);return e!==void 0&&a!=null&&b(e,["instances[0]","video"],KF(a)),n}function eye(t){const e={},n=y(t,["_self"]);n!=null&&b(e,["image"],dye(n));const r=y(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=y(t,["_self"]);return i!=null&&b(e,["safetyAttributes"],zF(i)),e}function l0(t){const e={},n=y(t,["_self"]);n!=null&&b(e,["image"],jF(n));const r=y(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=y(t,["_self"]);i!=null&&b(e,["safetyAttributes"],qF(i));const a=y(t,["prompt"]);return a!=null&&b(e,["enhancedPrompt"],a),e}function tye(t){const e={},n=y(t,["_self"]);n!=null&&b(e,["mask"],jF(n));const r=y(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),b(e,["labels"],i)}return e}function nye(t){const e={},n=y(t,["video"]);return n!=null&&b(e,["video"],qye(n)),e}function rye(t){const e={},n=y(t,["_self"]);return n!=null&&b(e,["video"],Hye(n)),e}function iye(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&b(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const a=y(t,["candidateCount"]);a!=null&&b(e,["candidateCount"],a);const s=y(t,["enableAffectiveDialog"]);s!=null&&b(e,["enableAffectiveDialog"],s);const u=y(t,["frequencyPenalty"]);u!=null&&b(e,["frequencyPenalty"],u);const c=y(t,["logprobs"]);c!=null&&b(e,["logprobs"],c);const d=y(t,["maxOutputTokens"]);d!=null&&b(e,["maxOutputTokens"],d);const h=y(t,["mediaResolution"]);h!=null&&b(e,["mediaResolution"],h);const p=y(t,["presencePenalty"]);p!=null&&b(e,["presencePenalty"],p);const g=y(t,["responseLogprobs"]);g!=null&&b(e,["responseLogprobs"],g);const v=y(t,["responseMimeType"]);v!=null&&b(e,["responseMimeType"],v);const w=y(t,["responseModalities"]);w!=null&&b(e,["responseModalities"],w);const S=y(t,["responseSchema"]);S!=null&&b(e,["responseSchema"],S);const A=y(t,["routingConfig"]);A!=null&&b(e,["routingConfig"],A);const C=y(t,["seed"]);C!=null&&b(e,["seed"],C);const U=y(t,["speechConfig"]);U!=null&&b(e,["speechConfig"],HF(U));const M=y(t,["stopSequences"]);M!=null&&b(e,["stopSequences"],M);const F=y(t,["temperature"]);F!=null&&b(e,["temperature"],F);const q=y(t,["thinkingConfig"]);q!=null&&b(e,["thinkingConfig"],q);const V=y(t,["topK"]);V!=null&&b(e,["topK"],V);const D=y(t,["topP"]);if(D!=null&&b(e,["topP"],D),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function aye(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],gt(t,r)),n}function oye(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],gt(t,r)),n}function sye(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function lye(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function uye(t){const e={},n=y(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function cye(t){const e={},n=y(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=y(t,["imageSize"]);r!=null&&b(e,["imageSize"],r);const i=y(t,["outputMimeType"]);i!=null&&b(e,["imageOutputOptions","mimeType"],i);const a=y(t,["outputCompressionQuality"]);return a!=null&&b(e,["imageOutputOptions","compressionQuality"],a),e}function dye(t){const e={},n=y(t,["bytesBase64Encoded"]);n!=null&&b(e,["imageBytes"],pl(n));const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function jF(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&b(e,["imageBytes"],pl(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function u0(t){const e={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=y(t,["imageBytes"]);n!=null&&b(e,["bytesBase64Encoded"],pl(n));const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function fa(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=y(t,["imageBytes"]);r!=null&&b(e,["bytesBase64Encoded"],pl(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function fye(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const a=y(e,["pageToken"]);n!==void 0&&a!=null&&b(n,["_query","pageToken"],a);const s=y(e,["filter"]);n!==void 0&&s!=null&&b(n,["_query","filter"],s);const u=y(e,["queryBase"]);return n!==void 0&&u!=null&&b(n,["_url","models_url"],MF(t,u)),r}function hye(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const a=y(e,["pageToken"]);n!==void 0&&a!=null&&b(n,["_query","pageToken"],a);const s=y(e,["filter"]);n!==void 0&&s!=null&&b(n,["_query","filter"],s);const u=y(e,["queryBase"]);return n!==void 0&&u!=null&&b(n,["_url","models_url"],MF(t,u)),r}function pye(t,e){const n={},r=y(e,["config"]);return r!=null&&fye(t,r,n),n}function mye(t,e){const n={},r=y(e,["config"]);return r!=null&&hye(t,r,n),n}function gye(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let a=DF(i);Array.isArray(a)&&(a=a.map(s=>dT(s))),b(e,["models"],a)}return e}function yye(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let a=DF(i);Array.isArray(a)&&(a=a.map(s=>fT(s))),b(e,["models"],a)}return e}function vye(t){const e={},n=y(t,["maskMode"]);n!=null&&b(e,["maskMode"],n);const r=y(t,["segmentationClasses"]);r!=null&&b(e,["maskClasses"],r);const i=y(t,["maskDilation"]);return i!=null&&b(e,["dilation"],i),e}function dT(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);i!=null&&b(e,["description"],i);const a=y(t,["version"]);a!=null&&b(e,["version"],a);const s=y(t,["_self"]);s!=null&&b(e,["tunedModelInfo"],Dye(s));const u=y(t,["inputTokenLimit"]);u!=null&&b(e,["inputTokenLimit"],u);const c=y(t,["outputTokenLimit"]);c!=null&&b(e,["outputTokenLimit"],c);const d=y(t,["supportedGenerationMethods"]);d!=null&&b(e,["supportedActions"],d);const h=y(t,["temperature"]);h!=null&&b(e,["temperature"],h);const p=y(t,["maxTemperature"]);p!=null&&b(e,["maxTemperature"],p);const g=y(t,["topP"]);g!=null&&b(e,["topP"],g);const v=y(t,["topK"]);v!=null&&b(e,["topK"],v);const w=y(t,["thinking"]);return w!=null&&b(e,["thinking"],w),e}function fT(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);i!=null&&b(e,["description"],i);const a=y(t,["versionId"]);a!=null&&b(e,["version"],a);const s=y(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>Nge(g))),b(e,["endpoints"],p)}const u=y(t,["labels"]);u!=null&&b(e,["labels"],u);const c=y(t,["_self"]);c!=null&&b(e,["tunedModelInfo"],Oye(c));const d=y(t,["defaultCheckpointId"]);d!=null&&b(e,["defaultCheckpointId"],d);const h=y(t,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>g)),b(e,["checkpoints"],p)}return e}function bye(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const a=y(t,["fileData"]);a!=null&&b(e,["fileData"],Pge(a));const s=y(t,["functionCall"]);s!=null&&b(e,["functionCall"],Mge(s));const u=y(t,["functionResponse"]);u!=null&&b(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&b(e,["inlineData"],ige(c));const d=y(t,["text"]);d!=null&&b(e,["text"],d);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function _ye(t){const e={},n=y(t,["productImage"]);return n!=null&&b(e,["image"],fa(n)),e}function xye(t,e){const n={},r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=y(t,["baseSteps"]);e!==void 0&&i!=null&&b(e,["parameters","baseSteps"],i);const a=y(t,["outputGcsUri"]);e!==void 0&&a!=null&&b(e,["parameters","storageUri"],a);const s=y(t,["seed"]);e!==void 0&&s!=null&&b(e,["parameters","seed"],s);const u=y(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&b(e,["parameters","safetySetting"],u);const c=y(t,["personGeneration"]);e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c);const d=y(t,["addWatermark"]);e!==void 0&&d!=null&&b(e,["parameters","addWatermark"],d);const h=y(t,["outputMimeType"]);e!==void 0&&h!=null&&b(e,["parameters","outputOptions","mimeType"],h);const p=y(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&b(e,["parameters","outputOptions","compressionQuality"],p);const g=y(t,["enhancePrompt"]);e!==void 0&&g!=null&&b(e,["parameters","enhancePrompt"],g);const v=y(t,["labels"]);return e!==void 0&&v!=null&&b(e,["labels"],v),n}function Eye(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["source"]);i!=null&&wye(i,n);const a=y(e,["config"]);return a!=null&&xye(a,n),n}function Tye(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>l0(i))),b(e,["generatedImages"],r)}return e}function wye(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["personImage"]);e!==void 0&&i!=null&&b(e,["instances[0]","personImage","image"],fa(i));const a=y(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>_ye(u))),b(e,["instances[0]","productImages"],s)}return n}function Sye(t){const e={},n=y(t,["referenceImage"]);n!=null&&b(e,["referenceImage"],fa(n));const r=y(t,["referenceId"]);r!=null&&b(e,["referenceId"],r);const i=y(t,["referenceType"]);i!=null&&b(e,["referenceType"],i);const a=y(t,["maskImageConfig"]);a!=null&&b(e,["maskImageConfig"],vye(a));const s=y(t,["controlImageConfig"]);s!=null&&b(e,["controlImageConfig"],dge(s));const u=y(t,["styleImageConfig"]);u!=null&&b(e,["styleImageConfig"],u);const c=y(t,["subjectImageConfig"]);return c!=null&&b(e,["subjectImageConfig"],c),e}function zF(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function qF(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function Aye(t){const e={},n=y(t,["category"]);if(n!=null&&b(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function kye(t){const e={},n=y(t,["image"]);return n!=null&&b(e,["image"],fa(n)),e}function Cye(t,e){const n={},r=y(t,["mode"]);e!==void 0&&r!=null&&b(e,["parameters","mode"],r);const i=y(t,["maxPredictions"]);e!==void 0&&i!=null&&b(e,["parameters","maxPredictions"],i);const a=y(t,["confidenceThreshold"]);e!==void 0&&a!=null&&b(e,["parameters","confidenceThreshold"],a);const s=y(t,["maskDilation"]);e!==void 0&&s!=null&&b(e,["parameters","maskDilation"],s);const u=y(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&b(e,["parameters","binaryColorThreshold"],u);const c=y(t,["labels"]);return e!==void 0&&c!=null&&b(e,["labels"],c),n}function Iye(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["source"]);i!=null&&Nye(i,n);const a=y(e,["config"]);return a!=null&&Cye(a,n),n}function Rye(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>tye(i))),b(e,["generatedMasks"],r)}return e}function Nye(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],fa(i));const a=y(t,["scribbleImage"]);return e!==void 0&&a!=null&&b(e,["instances[0]","scribble"],kye(a)),n}function HF(t){const e={},n=y(t,["languageCode"]);n!=null&&b(e,["languageCode"],n);const r=y(t,["voiceConfig"]);if(r!=null&&b(e,["voiceConfig"],r),y(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Pye(t){const e={},n=y(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],Dge(n));const r=y(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function Mye(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const a=y(t,["fileSearch"]);a!=null&&b(e,["fileSearch"],a);const s=y(t,["codeExecution"]);if(s!=null&&b(e,["codeExecution"],s),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],sye(u));const c=y(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],lye(c));const d=y(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}function GF(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>Oge(g))),b(e,["functionDeclarations"],p)}const r=y(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=y(t,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const a=y(t,["computerUse"]);if(a!=null&&b(e,["computerUse"],a),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=y(t,["codeExecution"]);s!=null&&b(e,["codeExecution"],s);const u=y(t,["enterpriseWebSearch"]);u!=null&&b(e,["enterpriseWebSearch"],u);const c=y(t,["googleMaps"]);c!=null&&b(e,["googleMaps"],c);const d=y(t,["googleSearch"]);d!=null&&b(e,["googleSearch"],d);const h=y(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function Dye(t){const e={},n=y(t,["baseModel"]);n!=null&&b(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function Oye(t){const e={},n=y(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&b(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function Lye(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const a=y(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&b(e,["defaultCheckpointId"],a),n}function Uye(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const a=y(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&b(e,["defaultCheckpointId"],a),n}function Vye(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","name"],gt(t,r));const i=y(e,["config"]);return i!=null&&Lye(i,n),n}function Fye(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["config"]);return i!=null&&Uye(i,n),n}function Bye(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=y(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&b(e,["parameters","safetySetting"],i);const a=y(t,["personGeneration"]);e!==void 0&&a!=null&&b(e,["parameters","personGeneration"],a);const s=y(t,["includeRaiReason"]);e!==void 0&&s!=null&&b(e,["parameters","includeRaiReason"],s);const u=y(t,["outputMimeType"]);e!==void 0&&u!=null&&b(e,["parameters","outputOptions","mimeType"],u);const c=y(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&b(e,["parameters","outputOptions","compressionQuality"],c);const d=y(t,["enhanceInputImage"]);e!==void 0&&d!=null&&b(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=y(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&b(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=y(t,["labels"]);e!==void 0&&p!=null&&b(e,["labels"],p);const g=y(t,["numberOfImages"]);e!==void 0&&g!=null&&b(e,["parameters","sampleCount"],g);const v=y(t,["mode"]);return e!==void 0&&v!=null&&b(e,["parameters","mode"],v),n}function jye(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],gt(t,r));const i=y(e,["image"]);i!=null&&b(n,["instances[0]","image"],fa(i));const a=y(e,["upscaleFactor"]);a!=null&&b(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=y(e,["config"]);return s!=null&&Bye(s,n),n}function zye(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>l0(a))),b(e,["generatedImages"],i)}return e}function qye(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&b(e,["videoBytes"],pl(r));const i=y(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function Hye(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],pl(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function Gye(t){const e={},n=y(t,["image"]);n!=null&&b(e,["_self"],fa(n));const r=y(t,["maskMode"]);return r!=null&&b(e,["maskMode"],r),e}function $ye(t){const e={},n=y(t,["image"]);n!=null&&b(e,["image"],u0(n));const r=y(t,["referenceType"]);return r!=null&&b(e,["referenceType"],r),e}function Kye(t){const e={},n=y(t,["image"]);n!=null&&b(e,["image"],fa(n));const r=y(t,["referenceType"]);return r!=null&&b(e,["referenceType"],r),e}function $F(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["uri"],n);const r=y(t,["videoBytes"]);r!=null&&b(e,["encodedVideo"],pl(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["encoding"],i),e}function KF(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["gcsUri"],n);const r=y(t,["videoBytes"]);r!=null&&b(e,["bytesBase64Encoded"],pl(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wye(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["displayName"],r),n}function Yye(t){const e={},n=y(t,["config"]);return n!=null&&Wye(n,e),e}function Jye(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function Xye(t){const e={},n=y(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&Jye(r,e),e}function Qye(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function Zye(t,e){const n={},r=y(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),b(e,["customMetadata"],a)}const i=y(t,["chunkingConfig"]);return e!==void 0&&i!=null&&b(e,["chunkingConfig"],i),n}function eve(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const a=y(t,["error"]);a!=null&&b(e,["error"],a);const s=y(t,["response"]);return s!=null&&b(e,["response"],nve(s)),e}function tve(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=y(t,["fileName"]);r!=null&&b(e,["fileName"],r);const i=y(t,["config"]);return i!=null&&Zye(i,e),e}function nve(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&b(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function rve(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function ive(t){const e={},n=y(t,["config"]);return n!=null&&rve(n,e),e}function ave(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),b(e,["fileSearchStores"],a)}return e}function WF(t,e){const n={},r=y(t,["mimeType"]);e!==void 0&&r!=null&&b(e,["mimeType"],r);const i=y(t,["displayName"]);e!==void 0&&i!=null&&b(e,["displayName"],i);const a=y(t,["customMetadata"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),b(e,["customMetadata"],u)}const s=y(t,["chunkingConfig"]);return e!==void 0&&s!=null&&b(e,["chunkingConfig"],s),n}function ove(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=y(t,["config"]);return r!=null&&WF(r,e),e}function sve(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lve="Content-Type",uve="X-Server-Timeout",cve="User-Agent",hT="x-goog-api-client",dve="1.31.0",fve=`google-genai-sdk/${dve}`,hve="v1beta1",pve="v1beta",HO=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class mve{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:hve,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:pve,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&gve(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await GO(i),new lT(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await GO(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Hc(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield qt(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(c,{stream:!0});try{const p=JSON.parse(d);if("error"in p){const g=JSON.parse(JSON.stringify(p.error)),v=g.status,w=g.code,S=`got status: ${v}. ${JSON.stringify(p)}`;if(w>=400&&w<600)throw new o0({message:S,status:w})}}catch(p){if(p.name==="ApiError")throw p}s+=d;let h=s.match(HO);for(;h;){const p=h[1];try{const g=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qt(new lT(g)),s=s.slice(h[0].length),h=s.match(HO)}catch(g){throw new Error(`exception parsing stream chunk ${p}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=fve+" "+this.clientOptions.userAgentExtra;return e[cve]=n,e[hT]=n,e[lve]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(uve,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},d=this.getFileName(e),h=Ce("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,c,n==null?void 0:n.httpOptions);return a.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),u=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&WF(r,p);const g=await this.fetchUploadUrl(d,u,c,h,p,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function GO(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new o0({message:i,status:n}):new Error(i)}}function gve(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const u=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=s[c],h=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yve="mcp_used/unknown";let vve=!1;function YF(t){for(const e of t)if(bve(e)||typeof e=="object"&&"inputSchema"in e)return!0;return vve}function JF(t){var e;const n=(e=t[hT])!==null&&e!==void 0?e:"";t[hT]=(n+` ${yve}`).trimStart()}function bve(t){return t!==null&&typeof t=="object"&&t instanceof HS}function _ve(t,e=100){return Hc(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield qt(t.listTools({cursor:r}));for(const s of a.tools)yield yield qt(s),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class HS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new HS(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,hh(_ve(h))),d;d=await c.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const p=i;s.push(p);const g=p.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=h}}catch(p){n={error:p}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Qhe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xve(t,e,n){const r=new Hhe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Eve{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=Sve(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(M=>{d=M}),p=e.callbacks,g=function(){d({})},v=this.apiClient,w={onopen:g,onmessage:M=>{xve(v,p.onmessage,M)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(M){}},S=this.webSocketFactory.create(c,wve(s),w);S.connect(),await h;const U={setup:{model:gt(this.apiClient,e.model)}};return S.send(JSON.stringify(U)),new Tve(S,this.apiClient)}}class Tve{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Yme(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Wme(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Mc.PLAY)}pause(){this.sendPlaybackControl(Mc.PAUSE)}stop(){this.sendPlaybackControl(Mc.STOP)}resetContext(){this.sendPlaybackControl(Mc.RESET_CONTEXT)}close(){this.conn.close()}}function wve(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Sve(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ave="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function kve(t,e,n){const r=new qhe;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=Qme(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class Cve{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Eve(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&YF(e.config.tools)&&JF(p);const g=Pve(p);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const L=this.apiClient.getApiKey();let B="BidiGenerateContent",P="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",P="access_token"),h=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${B}?${P}=${L}`}let v=()=>{};const w=new Promise(L=>{v=L}),S=e.callbacks,A=function(){var L;(L=S==null?void 0:S.onopen)===null||L===void 0||L.call(S),v({})},C=this.apiClient,U={onopen:A,onmessage:L=>{kve(C,S.onmessage,L)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(L){}},M=this.webSocketFactory.create(h,Nve(g),U);M.connect(),await w;let F=gt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const L=this.apiClient.getProject(),B=this.apiClient.getLocation();F=`projects/${L}/locations/${B}/`+F}let q={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Uh.AUDIO]}:e.config.responseModalities=[Uh.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],D=[];for(const L of V)if(this.isCallableTool(L)){const B=L;D.push(await B.tool())}else D.push(L);D.length>0&&(e.config.tools=D);const O={model:F,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=Kme(this.apiClient,O):q=$me(this.apiClient,O),delete q.config,M.send(JSON.stringify(q)),new Rve(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Ive={turnComplete:!0};class Rve{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Di(n.turns),e.isVertexAI()||(r=r.map(i=>s0(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Ave)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Ive),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Xme(e)}:n={realtimeInput:Jme(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Nve(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Pve(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $O=10;function KO(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Gc(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Gc(t){return"callTool"in t&&typeof t.callTool=="function"}function Mve(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Gc(i)))!==null&&r!==void 0?r:!1}function WO(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Gc(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function YO(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dve extends Zo{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Mve(n)||KO(n.config))return await this.generateContentInternal(c);const d=WO(n);if(d.length>0){const S=d.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let h,p;const g=Di(c.contents),v=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:$O;let w=0;for(;w<v&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const S=h.candidates[0].content,A=[];for(const C of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Gc(C)){const M=await C.callTool(h.functionCalls);A.push(...M)}w++,p={role:"user",parts:A},c.contents=Di(c.contents),c.contents.push(S),c.contents.push(p),YO(c.config)&&(g.push(S),g.push(p))}return YO(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,a,s,u;if(this.maybeMoveToResponseJsonSchem(n),KO(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=WO(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let u;return a?u={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Au(zo.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>Gc(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&YF(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),JF(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Gc(s)){const u=s,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,u)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:$O;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(d,h,p){var g,v;return Hc(this,arguments,function*(){for(var w,S,A,C;u<a;){s&&(u++,s=!1);const q=yield qt(d.processParamsMaybeAddMcpUsage(p)),V=yield qt(d.generateContentStreamInternal(q)),D=[],O=[];try{for(var U=!0,M=(S=void 0,hh(V)),F;F=yield qt(M.next()),w=F.done,!w;U=!0){C=F.value,U=!1;const L=C;if(yield yield qt(L),L.candidates&&(!((g=L.candidates[0])===null||g===void 0)&&g.content)){O.push(L.candidates[0].content);for(const B of(v=L.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(u<a&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(B.functionCall.name)){const P=yield qt(h.get(B.functionCall.name).callTool([B.functionCall]));D.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(L){S={error:L}}finally{try{!U&&!w&&(A=M.return)&&(yield qt(A.call(M)))}finally{if(S)throw S.error}}if(D.length>0){s=!0;const L=new Xf;L.candidates=[{content:{role:"user",parts:D}}],yield yield qt(L);const B=[];B.push(...O),B.push({role:"user",parts:D});const P=Di(p.contents).concat(B);p.contents=P}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=jO(this.apiClient,e);return u=Ce("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=qO(h),g=new Xf;return Object.assign(g,p),g})}else{const d=BO(this.apiClient,e);return u=Ce("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=zO(h),g=new Xf;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=jO(this.apiClient,e);return u=Ce("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return Hc(this,arguments,function*(){var g,v,w,S;try{for(var A=!0,C=hh(p),U;U=yield qt(C.next()),g=U.done,!g;A=!0){S=U.value,A=!1;const M=S,F=qO(yield qt(M.json()));F.sdkHttpResponse={headers:M.headers};const q=new Xf;Object.assign(q,F),yield yield qt(q)}}catch(M){v={error:M}}finally{try{!A&&!g&&(w=C.return)&&(yield qt(w.call(C)))}finally{if(v)throw v.error}}})})}else{const d=BO(this.apiClient,e);return u=Ce("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(p){return Hc(this,arguments,function*(){var g,v,w,S;try{for(var A=!0,C=hh(p),U;U=yield qt(C.next()),g=U.done,!g;A=!0){S=U.value,A=!1;const M=S,F=zO(yield qt(M.json()));F.sdkHttpResponse={headers:M.headers};const q=new Xf;Object.assign(q,F),yield yield qt(q)}}catch(M){v={error:M}}finally{try{!A&&!g&&(w=C.return)&&(yield qt(w.call(C)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Cge(this.apiClient,e);return u=Ce("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Rge(h),g=new TO;return Object.assign(g,p),g})}else{const d=kge(this.apiClient,e);return u=Ce("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Ige(h),g=new TO;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=jge(this.apiClient,e);return u=Ce("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=qge(h),g=new wO;return Object.assign(g,p),g})}else{const d=Bge(this.apiClient,e);return u=Ce("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=zge(h),g=new wO;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Tge(this.apiClient,e);return a=Ce("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=wge(c),h=new Phe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=jye(this.apiClient,e);return a=Ce("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=zye(c),h=new Mhe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Eye(this.apiClient,e);return a=Ce("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Tye(c),h=new Dhe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Iye(this.apiClient,e);return a=Ce("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Rye(c),h=new Ohe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=oye(this.apiClient,e);return u=Ce("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>fT(h))}else{const d=aye(this.apiClient,e);return u=Ce("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>dT(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=mye(this.apiClient,e);return u=Ce("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=yye(h),g=new SO;return Object.assign(g,p),g})}else{const d=pye(this.apiClient,e);return u=Ce("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=gye(h),g=new SO;return Object.assign(g,p),g})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Fye(this.apiClient,e);return u=Ce("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>fT(h))}else{const d=Vye(this.apiClient,e);return u=Ce("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>dT(h))}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=bge(this.apiClient,e);return u=Ce("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=xge(h),g=new AO;return Object.assign(g,p),g})}else{const d=vge(this.apiClient,e);return u=Ce("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=_ge(h),g=new AO;return Object.assign(g,p),g})}}async countTokens(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=mge(this.apiClient,e);return u=Ce("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=yge(h),g=new kO;return Object.assign(g,p),g})}else{const d=pge(this.apiClient,e);return u=Ce("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=gge(h),g=new kO;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=sge(this.apiClient,e);return a=Ce("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=lge(c),h=new Lhe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Yge(this.apiClient,e);return u=Ce("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Kge(h),g=new $y;return Object.assign(g,p),g})}else{const d=Wge(this.apiClient,e);return u=Ce("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const p=$ge(h),g=new $y;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ove extends Zo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Ahe(e);return u=Ce("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const d=She(e);return u=Ce("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=vhe(e);return a=Ce("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lve(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Uve(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>$ve(a))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function Vve(t,e,n){const r={},i=y(e,["expireTime"]);n!==void 0&&i!=null&&b(n,["expireTime"],i);const a=y(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&b(n,["newSessionExpireTime"],a);const s=y(e,["uses"]);n!==void 0&&s!=null&&b(n,["uses"],s);const u=y(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&b(n,["bidiGenerateContentSetup"],Gve(t,u));const c=y(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&b(n,["fieldMask"],c),r}function Fve(t,e){const n={},r=y(e,["config"]);return r!=null&&b(n,["config"],Vve(t,r,n)),n}function Bve(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function jve(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zve(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function qve(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Hve(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const a=y(t,["temperature"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","temperature"],a);const s=y(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const u=y(t,["topK"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","maxOutputTokens"],c);const d=y(t,["mediaResolution"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","mediaResolution"],d);const h=y(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],qS(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&b(e,["setup","generationConfig","thinkingConfig"],g);const v=y(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],v);const w=y(t,["systemInstruction"]);e!==void 0&&w!=null&&b(e,["setup","systemInstruction"],Uve(vr(w)));const S=y(t,["tools"]);if(e!==void 0&&S!=null){let V=kd(S);Array.isArray(V)&&(V=V.map(D=>Wve(Ad(D)))),b(e,["setup","tools"],V)}const A=y(t,["sessionResumption"]);e!==void 0&&A!=null&&b(e,["setup","sessionResumption"],Kve(A));const C=y(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&b(e,["setup","inputAudioTranscription"],C);const U=y(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&b(e,["setup","outputAudioTranscription"],U);const M=y(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&b(e,["setup","realtimeInputConfig"],M);const F=y(t,["contextWindowCompression"]);e!==void 0&&F!=null&&b(e,["setup","contextWindowCompression"],F);const q=y(t,["proactivity"]);return e!==void 0&&q!=null&&b(e,["setup","proactivity"],q),n}function Gve(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["setup","model"],gt(t,r));const i=y(e,["config"]);return i!=null&&b(n,["config"],Hve(i,n)),n}function $ve(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const a=y(t,["fileData"]);a!=null&&b(e,["fileData"],Bve(a));const s=y(t,["functionCall"]);s!=null&&b(e,["functionCall"],jve(s));const u=y(t,["functionResponse"]);u!=null&&b(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&b(e,["inlineData"],Lve(c));const d=y(t,["text"]);d!=null&&b(e,["text"],d);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function Kve(t){const e={},n=y(t,["handle"]);if(n!=null&&b(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Wve(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const a=y(t,["fileSearch"]);a!=null&&b(e,["fileSearch"],a);const s=y(t,["codeExecution"]);if(s!=null&&b(e,["codeExecution"],s),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],zve(u));const c=y(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],qve(c));const d=y(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yve(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function Jve(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=Yve(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>s.includes(d)?`generationConfig.${d}`:d));const c=[];a&&c.push(a),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Xve extends Zo{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Fve(this.apiClient,e);a=Ce("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=Jve(u,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qve(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function Zve(t){const e={},n=y(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&Qve(r,e),e}function e0e(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function t0e(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function n0e(t){const e={},n=y(t,["parent"]);n!=null&&b(e,["_url","parent"],n);const r=y(t,["config"]);return r!=null&&t0e(r,e),e}function r0e(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),b(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i0e extends Zo{constructor(e){super(),this.apiClient=e,this.list=async n=>new Au(zo.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=e0e(e);return a=Ce("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Zve(e);i=Ce("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=n0e(e);return a=Ce("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=r0e(c),h=new Uhe;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a0e extends Zo{constructor(e,n=new i0e(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Au(zo.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Yye(e);return a=Ce("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Qye(e);return a=Ce("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Xye(e);i=Ce("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ive(e);return a=Ce("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=ave(c),h=new Vhe;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ove(e);return a=Ce("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=sve(c),h=new Fhe;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tve(e);return a=Ce("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=eve(c),h=new VS;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o0e(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function s0e(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function l0e(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function u0e(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function c0e(t,e,n){const r={};if(y(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&b(e,["displayName"],i),y(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=y(t,["epochCount"]);e!==void 0&&a!=null&&b(e,["tuningTask","hyperparameters","epochCount"],a);const s=y(t,["learningRateMultiplier"]);if(s!=null&&b(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),y(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=y(t,["batchSize"]);e!==void 0&&u!=null&&b(e,["tuningTask","hyperparameters","batchSize"],u);const c=y(t,["learningRate"]);if(e!==void 0&&c!=null&&b(e,["tuningTask","hyperparameters","learningRate"],c),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function d0e(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=y(t,["validationDataset"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec"],JO(v))}else if(i==="PREFERENCE_TUNING"){const v=y(t,["validationDataset"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec"],JO(v))}const a=y(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&b(e,["tunedModelDisplayName"],a);const s=y(t,["description"]);e!==void 0&&s!=null&&b(e,["description"],s);let u=y(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=y(t,["epochCount"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(u==="PREFERENCE_TUNING"){const v=y(t,["epochCount"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let c=y(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const v=y(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(c==="PREFERENCE_TUNING"){const v=y(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let d=y(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=y(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(d==="PREFERENCE_TUNING"){const v=y(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let h=y(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const v=y(t,["adapterSize"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(h==="PREFERENCE_TUNING"){const v=y(t,["adapterSize"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=y(t,["labels"]);e!==void 0&&p!=null&&b(e,["labels"],p);const g=y(t,["beta"]);return e!==void 0&&g!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function f0e(t,e){const n={},r=y(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const a=y(t,["trainingDataset"]);a!=null&&T0e(a);const s=y(t,["config"]);return s!=null&&c0e(s,n),n}function h0e(t,e){const n={},r=y(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const a=y(t,["trainingDataset"]);a!=null&&w0e(a,n,e);const s=y(t,["config"]);return s!=null&&d0e(s,n,e),n}function p0e(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function m0e(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function g0e(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const a=y(t,["pageToken"]);e!==void 0&&a!=null&&b(e,["_query","pageToken"],a);const s=y(t,["filter"]);return e!==void 0&&s!=null&&b(e,["_query","filter"],s),r}function y0e(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const a=y(t,["pageToken"]);e!==void 0&&a!=null&&b(e,["_query","pageToken"],a);const s=y(t,["filter"]);return e!==void 0&&s!=null&&b(e,["_query","filter"],s),r}function v0e(t,e){const n={},r=y(t,["config"]);return r!=null&&g0e(r,n),n}function b0e(t,e){const n={},r=y(t,["config"]);return r!=null&&y0e(r,n),n}function _0e(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const a=y(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>XF(u))),b(n,["tuningJobs"],s)}return n}function x0e(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const a=y(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>pT(u))),b(n,["tuningJobs"],s)}return n}function E0e(t,e){const n={},r=y(t,["name"]);r!=null&&b(n,["model"],r);const i=y(t,["name"]);return i!=null&&b(n,["endpoint"],i),n}function T0e(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),b(n,["examples","examples"],i)}return n}function w0e(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=y(t,["gcsUri"]);e!==void 0&&s!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=y(t,["gcsUri"]);e!==void 0&&s!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=y(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=y(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=y(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(y(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function XF(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const a=y(t,["state"]);a!=null&&b(n,["state"],NF(a));const s=y(t,["createTime"]);s!=null&&b(n,["createTime"],s);const u=y(t,["tuningTask","startTime"]);u!=null&&b(n,["startTime"],u);const c=y(t,["tuningTask","completeTime"]);c!=null&&b(n,["endTime"],c);const d=y(t,["updateTime"]);d!=null&&b(n,["updateTime"],d);const h=y(t,["description"]);h!=null&&b(n,["description"],h);const p=y(t,["baseModel"]);p!=null&&b(n,["baseModel"],p);const g=y(t,["_self"]);return g!=null&&b(n,["tunedModel"],E0e(g)),n}function pT(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const a=y(t,["state"]);a!=null&&b(n,["state"],NF(a));const s=y(t,["createTime"]);s!=null&&b(n,["createTime"],s);const u=y(t,["startTime"]);u!=null&&b(n,["startTime"],u);const c=y(t,["endTime"]);c!=null&&b(n,["endTime"],c);const d=y(t,["updateTime"]);d!=null&&b(n,["updateTime"],d);const h=y(t,["error"]);h!=null&&b(n,["error"],h);const p=y(t,["description"]);p!=null&&b(n,["description"],p);const g=y(t,["baseModel"]);g!=null&&b(n,["baseModel"],g);const v=y(t,["tunedModel"]);v!=null&&b(n,["tunedModel"],v);const w=y(t,["preTunedModel"]);w!=null&&b(n,["preTunedModel"],w);const S=y(t,["supervisedTuningSpec"]);S!=null&&b(n,["supervisedTuningSpec"],S);const A=y(t,["preferenceOptimizationSpec"]);A!=null&&b(n,["preferenceOptimizationSpec"],A);const C=y(t,["tuningDataStats"]);C!=null&&b(n,["tuningDataStats"],C);const U=y(t,["encryptionSpec"]);U!=null&&b(n,["encryptionSpec"],U);const M=y(t,["partnerModelTuningSpec"]);M!=null&&b(n,["partnerModelTuningSpec"],M);const F=y(t,["customBaseModel"]);F!=null&&b(n,["customBaseModel"],F);const q=y(t,["experiment"]);q!=null&&b(n,["experiment"],q);const V=y(t,["labels"]);V!=null&&b(n,["labels"],V);const D=y(t,["outputUri"]);D!=null&&b(n,["outputUri"],D);const O=y(t,["pipelineJob"]);O!=null&&b(n,["pipelineJob"],O);const L=y(t,["serviceAccount"]);L!=null&&b(n,["serviceAccount"],L);const B=y(t,["tunedModelDisplayName"]);B!=null&&b(n,["tunedModelDisplayName"],B);const P=y(t,["veoTuningSpec"]);return P!=null&&b(n,["veoTuningSpec"],P),n}function S0e(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const a=y(t,["metadata"]);a!=null&&b(n,["metadata"],a);const s=y(t,["done"]);s!=null&&b(n,["done"],s);const u=y(t,["error"]);return u!=null&&b(n,["error"],u),n}function JO(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&b(n,["validationDatasetUri"],r);const i=y(t,["vertexDatasetResource"]);return i!=null&&b(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A0e extends Zo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Au(zo.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:sT.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=m0e(e);return u=Ce("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>pT(h))}else{const d=p0e(e);return u=Ce("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>XF(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=b0e(e);return u=Ce("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=x0e(h),g=new CO;return Object.assign(g,p),g})}else{const d=v0e(e);return u=Ce("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=_0e(h),g=new CO;return Object.assign(g,p),g})}}async cancel(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=s0e(e);return u=Ce("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=u0e(h),g=new IO;return Object.assign(g,p),g})}else{const d=o0e(e);return u=Ce("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=l0e(h),g=new IO;return Object.assign(g,p),g})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=h0e(e,e);return a=Ce("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>pT(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=f0e(e);return a=Ce("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>S0e(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k0e{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const C0e=1024*1024*8,I0e=3,R0e=1e3,N0e=2,Wy="x-goog-upload-status";async function P0e(t,e,n){var r;const i=await QF(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Wy])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function M0e(t,e,n){var r;const i=await QF(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Wy])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=SF(a),u=new FS;return Object.assign(u,s),u}async function QF(t,e,n){var r,i;let a=0,s=0,u=new lT(new Response),c="upload";for(a=t.size;s<a;){const d=Math.min(C0e,a-s),h=t.slice(s,s+d);s+d>=a&&(c+=", finalize");let p=0,g=R0e;for(;p<I0e&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Wy]));)p++,await O0e(g),g=g*N0e;if(s+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Wy])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function D0e(t){return{size:t.size,type:t.type}}function O0e(t){return new Promise(e=>setTimeout(e,t))}class L0e{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await P0e(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await M0e(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await D0e(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U0e{create(e,n,r){return new V0e(e,n,r)}}class V0e{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XO="x-goog-api-key";class F0e{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(XO)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(XO,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B0e="gl-node/";class ZF{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=ghe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new F0e(this.apiKey);this.apiClient=new mve({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:B0e+"web",uploader:new L0e,downloader:new k0e}),this.models=new Dve(this.apiClient),this.live=new Cve(this.apiClient,i,new U0e),this.batches=new Gpe(this.apiClient),this.chats=new Ame(this.models,this.apiClient),this.caches=new Tme(this.apiClient),this.files=new Lme(this.apiClient),this.operations=new Ove(this.apiClient),this.authTokens=new Xve(this.apiClient),this.tunings=new A0e(this.apiClient),this.fileSearchStores=new a0e(this.apiClient)}}let RE=null;const c0=()=>{if(!RE){const t="AIzaSyBcrJ4DDSEQ4rxcnl6KdPC4b4Q3KFdJ6d0";RE=new ZF({apiKey:t})}return RE},j0e=[{name:"addTask",description:"Add a new task to the project plan. Use this when the user wants to do something new. Can include a checklist of steps.",parameters:{type:ke.OBJECT,properties:{title:{type:ke.STRING,description:"Short title of the task"},description:{type:ke.STRING,description:"Detailed description of what needs to be done"},estimatedCostMax:{type:ke.NUMBER,description:"Estimated maximum cost in SEK"},phase:{type:ke.STRING,enum:Object.values(pr),description:"Which project phase this belongs to"},priority:{type:ke.STRING,enum:Object.values(rr),description:"Priority: Hg (Safety/Legal), Medel (Function), Lg (Cosmetic)"},sprint:{type:ke.STRING,description:'Sprint Name (e.g., "Sprint 1: Besiktning" or "Helgjobb")'},subtasks:{type:ke.ARRAY,description:"List of steps/checklist items",items:{type:ke.STRING}}},required:["title","description","phase"]}},{name:"updateTask",description:"Update an existing task. Can change status, priority, sprint, title, description, or cost.",parameters:{type:ke.OBJECT,properties:{taskTitleKeywords:{type:ke.STRING,description:'Keywords to find the task (e.g., "kamrem")'},newStatus:{type:ke.STRING,enum:Object.values(_t),description:"The new status (optional)"},newPriority:{type:ke.STRING,enum:Object.values(rr),description:"The new priority (optional)"},newSprint:{type:ke.STRING,description:'Assign to a sprint (e.g., "Sprint 1") (optional)'},newTitle:{type:ke.STRING,description:"Rename the task (optional)"},newDescription:{type:ke.STRING,description:"New description (optional)"},newCost:{type:ke.NUMBER,description:"New estimated cost (optional)"}},required:["taskTitleKeywords"]}},{name:"deleteTask",description:"Permanently delete a task from the project.",parameters:{type:ke.OBJECT,properties:{taskTitleKeywords:{type:ke.STRING,description:"Keywords to find the task to delete"}},required:["taskTitleKeywords"]}},{name:"addToShoppingList",description:"Add an item to the separate shopping list (inkpslista).",parameters:{type:ke.OBJECT,properties:{name:{type:ke.STRING,description:'Name of the item (e.g. "Motorolja 10W-40")'},category:{type:ke.STRING,description:"Category: Reservdelar, Kemi & Frg, Verktyg, Inredning, vrigt"},estimatedCost:{type:ke.NUMBER,description:"Estimated cost in SEK"},quantity:{type:ke.STRING,description:'Quantity (e.g. "4 liter", "1 st")'}},required:["name"]}},{name:"registerPurchase",description:"Mark a shopping item as purchased and record the actual cost. Finds item by name.",parameters:{type:ke.OBJECT,properties:{itemNameKeywords:{type:ke.STRING,description:'Keywords to find the shopping item (e.g. "motorolja")'},actualCost:{type:ke.NUMBER,description:"The actual price paid in SEK"},store:{type:ke.STRING,description:'Where it was bought (e.g. "Biltema")'},date:{type:ke.STRING,description:"Date of purchase (YYYY-MM-DD)"}},required:["itemNameKeywords","actualCost"]}},{name:"updateShoppingItem",description:"Update details of a shopping item (rename, change quantity, change category, change cost).",parameters:{type:ke.OBJECT,properties:{itemNameKeywords:{type:ke.STRING,description:"Keywords to find the item"},newName:{type:ke.STRING,description:"New name (optional)"},newQuantity:{type:ke.STRING,description:"New quantity (optional)"},newCategory:{type:ke.STRING,description:"New category (optional)"},newCost:{type:ke.NUMBER,description:"New estimated cost (optional)"}},required:["itemNameKeywords"]}},{name:"deleteShoppingItem",description:"Permanently remove an item from the shopping list.",parameters:{type:ke.OBJECT,properties:{itemNameKeywords:{type:ke.STRING,description:"Keywords to find the item to delete"}},required:["itemNameKeywords"]}},{name:"createKnowledgeArticle",description:"Save important information, guides, or report summaries into the Knowledge Base (Kunskapsbank).",parameters:{type:ke.OBJECT,properties:{title:{type:ke.STRING,description:"Title of the article"},summary:{type:ke.STRING,description:"Short summary"},content:{type:ke.STRING,description:"Full content in Markdown format"},tags:{type:ke.ARRAY,items:{type:ke.STRING},description:"Tags like Motor, El, Guide"}},required:["title","content"]}}],eB=[{googleSearch:{}},{functionDeclarations:j0e}],z0e=(t,e)=>{let n=`

=== 3. AKTUELL PROJEKTSTATUS (DATA) ===
`;if(n+=`Hr r sanningen om projektet. Om anvndaren frgar vad som r gjort, ls hr.
`,Array.from(new Set(t.map(i=>i.phase))).forEach(i=>{const a=t.filter(s=>s.phase===i);a.length>0&&(n+=`
--- ${i.toUpperCase()} ---
`,a.forEach(s=>{const u=s.status===_t.DONE?"":s.status===_t.IN_PROGRESS?"":"";if(n+=`${u} UPPGIFT: ${s.title} (ID: ${s.id})
`,n+=`   Status: ${s.status} | Prio: ${s.priority||"Normal"} | Sprint: ${s.sprint||"Ingen"}
`,n+=`   Beskrivning: ${s.description}
`,n+=`   Ekonomi: Estimat ${s.estimatedCostMin}-${s.estimatedCostMax} kr | Spenderat ${s.actualCost} kr
`,s.subtasks&&s.subtasks.length>0){const c=s.subtasks.filter(d=>d.completed).length;n+=`   Checklista (${c}/${s.subtasks.length}):
`,s.subtasks.forEach(d=>{n+=`     [${d.completed?"X":" "}] ${d.title}
`})}s.comments&&s.comments.length>0&&(n+=`   Senaste noteringar: "${s.comments[s.comments.length-1].text}"
`),n+=`
`}))}),n+=`
=== 4. INKPSLISTA (LAGERSTATUS) ===
`,e.length===0)n+=`Listan r tom.
`;else{const i=e.filter(s=>s.checked),a=e.filter(s=>!s.checked);a.length>0&&(n+=`ATT KPA:
`,a.forEach(s=>n+=` - [ ] ${s.name} (${s.quantity}) - Est: ${s.estimatedCost}kr
`)),i.length>0&&(n+=`INKPT (Finns i garaget):
`,i.forEach(s=>n+=` - [X] ${s.name} (Kpt p ${s.store||"?"} fr ${s.actualCost}kr)
`))}return n+=`
============================================
`,n},q0e=t=>{let e=`

=== 2. KUNSKAPSBANK & RAPPORTER (FAKTA) ===
`;return e+=`Du har tillgng till fljande tekniska rapporter. DU SKA LITA P DESSA ver din generella trning.
`,ES.forEach(n=>{e+=`>>> ARTIKEL: ${n.title} (ID: ${n.id}) <<<
`,e+=`Sammanfattning: ${n.summary}
`,e+=`INNEHLL:
${n.content}
`,e+=`--------------------------------------------------
`}),e},H0e=async(t,e,n,r,i,a,s)=>{var h,p,g,v,w;const u=c0(),c="gemini-2.0-flash",d=`SYSTEM: You are "Elton", an AI assistant and Project Manager for a van renovation project.
    
    ${V5}

    

=== 1. FORDONSDATA (SPECIFIKATIONER) ===
    Detta r hrda fakta om den aktuella bilen.
    ${JSON.stringify(n,null,2)}`+q0e()+z0e(r,i)+`

=== INSTRUKTIONER FR LOGIK ===
    1. LS FRST: Innan du svarar, sk igenom avsnitt 1 (Fordon), 2 (Rapporter) och 3 (Projektstatus).
    2. VAR SPECIFIK: Om anvndaren frgar om delar, kolla rapporterna frst.
    3. HMTA DATA: Anvnd aktuell projektstatus fr att svara p vad som r gjort.
    4. SK P WEBBEN (GOOGLE): Anvnd googleSearch fr priser och produkter. Prioritera svenska butiker.
    5. HANTERA PROJEKTET: Anvnd verktygen (addTask, updateTask, addToShoppingList) proaktivt.
    
    Dina verktyg r till fr att ndra i databasen. Anvnd dem!`;try{const S=u.chats.create({model:c,config:{systemInstruction:d,tools:eB},history:t.map(U=>({role:U.role,parts:[{text:U.content}]}))}),A=await S.sendMessageStream({message:e});let C="";for await(const U of A){const M=U;M.text&&(a(M.text),C+=M.text);const F=(w=(v=(g=(p=(h=M.candidates)==null?void 0:h[0])==null?void 0:p.content)==null?void 0:g.parts)==null?void 0:v.filter(q=>q.functionCall))==null?void 0:w.map(q=>q.functionCall);if(F&&F.length>0){const q=await s(F),V=await S.sendMessageStream({message:q.map(D=>({functionResponse:{name:D.name,response:{result:D.result}}}))});for await(const D of V){const O=D;O.text&&a(O.text)}}}}catch(S){console.error("Gemini Error:",S),a(`
 Kunde inte n AI-mekanikern just nu. Kontrollera din API-nyckel.`)}},G0e=async(t,e,n)=>{const r=c0(),i="gemini-2.0-flash",a=[];e?(a.push({inlineData:{mimeType:"image/jpeg",data:e}}),a.push({text:"Analysera denna bild (kvitto, anteckning eller skrmdump). Identifiera bde uppgifter (Tasks) och inkpsbehov (ShoppingItems)."})):a.push({text:`Analysera fljande och skapa strukturerade uppgifter (med checklistor/subtasks) och inkpsvaror:

${t}`});const s={type:ke.OBJECT,properties:{tasks:{type:ke.ARRAY,items:{type:ke.OBJECT,properties:{title:{type:ke.STRING},description:{type:ke.STRING},estimatedCostMin:{type:ke.NUMBER},estimatedCostMax:{type:ke.NUMBER},weightKg:{type:ke.NUMBER},costType:{type:ke.STRING,enum:[Vr.INVESTMENT,Vr.OPERATION]},phase:{type:ke.STRING,enum:Object.values(pr)},priority:{type:ke.STRING,enum:Object.values(rr)},subtasks:{type:ke.ARRAY,items:{type:ke.OBJECT,properties:{title:{type:ke.STRING}}}},tags:{type:ke.ARRAY,items:{type:ke.STRING}}},required:["title","description","estimatedCostMin","phase"]}},shoppingItems:{type:ke.ARRAY,items:{type:ke.OBJECT,properties:{name:{type:ke.STRING},category:{type:ke.STRING,enum:["Reservdelar","Kemi & Frg","Verktyg","Inredning","vrigt"]},estimatedCost:{type:ke.NUMBER},quantity:{type:ke.STRING}},required:["name","estimatedCost"]}}}};try{const c=(await r.models.generateContent({model:i,contents:{parts:a},config:{responseMimeType:"application/json",responseSchema:s,systemInstruction:`Du r en expert p att strukturera projektdata fr en van-renovering.
        Fordonsinfo: ${n?JSON.stringify(n):"Oknd"}. 
        Bryt ner stora uppgifter i 'subtasks'. Identifiera materialbehov separat i 'shoppingItems'.`}})).text;if(!c)return{tasks:[],shoppingItems:[]};const d=JSON.parse(c);return{tasks:d.tasks||[],shoppingItems:d.shoppingItems||[]}}catch(u){return console.error("Gemini Parse Error:",u),{tasks:[],shoppingItems:[]}}},$0e=async t=>(c0(),null),K0e=async(t,e)=>{const n=c0(),r="gemini-2.0-flash",i=`Create a full Project Profile for this vehicle: "${t}".
                    
    ${e?"There is also an image attached. CHECK IT FOR A LICENSE PLATE (RegNo).":""}

    Instructions:
    1. IDENTIFY REG NO: Scan the input text and image for a Swedish registration number (format ABC 123 or ABC 12A).
    2. SWEDISH DB SEARCH: If a RegNo is found, you MUST use Google Search to query: 'site:biluppgifter.se [FOUND_REGNO]' AND 'site:car.info [FOUND_REGNO]'. 
       - Extract exact weights (Tjnstevikt, Max lastvikt), dimensions, engine power, and year model from these sources.
    3. FIND ISSUES: Search for "common problems", "buyer's guide", "rust spots" for this model.
    4. CREATE PLAN: Generate 3-5 initial maintenance tasks (Service, Inspection).
    5. CLEAN NAME: Extract a clean project name (Brand + Model) ignoring URLs and sales text.
    6. ESTIMATE COSTS: Always provide estimated costs in SEK (Swedish Kronor).
    7. DEEP ANALYSIS (IMPORTANT): Write a detailed "Detective Report" (Markdown) about this specific car model. 
       - Analyze its history/era (e.g. "Why was it built?").
       - Technical quirks (e.g. "The engine is actually an Audi engine").
       - Strategy for restoration (e.g. "Focus on rust first").
       - If RegNo found: speculations on history based on year model vs reg date.
    
    OUTPUT FORMAT:
    Return ONLY a raw JSON string (no markdown blocks) with this structure:
    {
      "projectName": "String (Clean Name)",
      "vehicleData": {
        "regNo": "ABC 123",
        "make": "Volvo",
        "model": "240",
        "year": 1988,
        "prodYear": 1988,
        "regDate": "1988-01-01",
        "status": "I trafik",
        "bodyType": "Sedan",
        "passengers": 4,
        "inspection": { "last": "", "next": "", "mileage": "" },
        "engine": { "fuel": "Bensin", "power": "115 hk", "volume": "2.3L" },
        "gearbox": "Manuell",
        "wheels": { "drive": "2WD", "tiresFront": "", "tiresRear": "", "boltPattern": "" },
        "dimensions": { "length": 0, "width": 0, "height": "", "wheelbase": 0 },
        "weights": { "curb": 0, "total": 0, "load": 0, "trailer": 0, "trailerB": 0 },
        "vin": "",
        "color": "",
        "history": { "owners": 0, "events": 0, "lastOwnerChange": "" }
      },
      "initialTasks": [ 
        { 
            "title": "Example Task", 
            "description": "...", 
            "estimatedCostMin": 100, 
            "estimatedCostMax": 200,
            "phase": "Fas 1: Akut",
            "priority": "Hg",
            "subtasks": [ { "title": "Step 1", "completed": false } ]
        } 
      ],
      "analysisReport": {
          "title": "String (e.g. 'Teknisk Analys: [Model]')",
          "summary": "String (Short summary)",
          "content": "String (Full Markdown content with headers, lists etc)"
      }
    }`;try{const a=[{text:i}];e&&a.push({inlineData:{mimeType:"image/jpeg",data:e}});let u=(await n.models.generateContent({model:r,contents:{parts:a},config:{tools:[{googleSearch:{}}]}})).text||"{}";return u.includes("```json")?u=u.split("```json")[1].split("```")[0].trim():u.includes("```")&&(u=u.split("```")[1].split("```")[0].trim()),JSON.parse(u)}catch(a){return console.error("Deep Research Error:",a),{}}},Qf=[{id:"dalmas",label:"Dala-Elton (Original)",desc:"Trygg, gubbig & bred Dalml",voiceName:"Fenrir",instruction:"Du MSTE prata SVENSKA med tydlig DALDIALEKT (DALAML). Du bor i Falun. Anvnd dialektala ord och uttryck: Sg 'int' istllet fr 'inte', 'hnna' och 'dnna'. Brja grna meningar med 'Jo men visst...' eller 'Hrru...'. Du r lite 'gubbig' och svlig."},{id:"gotlanning",label:"Gotlands-Elton",desc:'Slpig, melodis & "Raukar-lugn"',voiceName:"Charon",instruction:"Du MSTE prata SVENSKA med tydlig GOTLNDSKA. Det ska lta slpigt, sjungande och melodist. Anvnd typiska gotlndska uttryck. Sg 'di' istllet fr 'de', 'u' istllet fr 'o' ibland. Var avslappnad, som en solvarm rauk."},{id:"rikssvenska",label:"Riks-Elton",desc:"Tydlig, modern & neutral",voiceName:"Puck",instruction:"Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt. Du r saklig, korrekt och ltt att frst. Lite modernare ton."}];function W0e(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r}function Y0e(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return btoa(e)}const J0e=({onClose:t})=>{const[e,n]=R.useState(!1),[r,i]=R.useState(!0),[a,s]=R.useState(!1),[u,c]=R.useState(0),[d,h]=R.useState("Vrmer upp motorn..."),[p,g]=R.useState(!1),[v,w]=R.useState("dalmas"),[S,A]=R.useState(!1),C=R.useRef(null),U=R.useRef(null),M=R.useRef(null),F=R.useRef(null),q=R.useRef(null),V=R.useRef(0),D=R.useRef(new Set),O=R.useRef(null),L=R.useRef(null),B=R.useRef(null);R.useEffect(()=>{const K=Qf.find(ae=>ae.id===v)||Qf[0];return H(K,S),()=>X()},[S]);const P=K=>{K!==v&&(w(K),g(!1),j())},j=()=>{X();const K=Qf.find(ae=>ae.id===v)||Qf[0];h("Startar om..."),setTimeout(()=>H(K,S),500)},H=async(K,ae)=>{try{throw new Error("No API Key")}catch(me){console.error("Failed to start session:",me),h("Kunde inte starta. Kolla behrigheter.")}},de=(K,ae)=>{if(!M.current)return;const me=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),W=me.createMediaStreamSource(K),Y=me.createScriptProcessor(4096,1,1);Y.onaudioprocess=se=>{if(!r)return;const $=se.inputBuffer.getChannelData(0);let ee=0;for(let Se=0;Se<$.length;Se++)ee+=$[Se]*$[Se];c(Math.sqrt(ee/$.length));const ye=new Int16Array($.length);for(let Se=0;Se<$.length;Se++){const He=Math.max(-1,Math.min(1,$[Se]));ye[Se]=He<0?He*32768:He*32767}const _e=Y0e(ye.buffer);ae.then(Se=>{Se.sendRealtimeInput({media:{mimeType:"audio/pcm;rate=16000",data:_e}})})},W.connect(Y),Y.connect(me.destination),F.current=W,q.current=Y},te=async K=>{var me,W,Y,se,$;const ae=($=(se=(Y=(W=(me=K.serverContent)==null?void 0:me.modelTurn)==null?void 0:W.parts)==null?void 0:Y[0])==null?void 0:se.inlineData)==null?void 0:$.data;if(ae&&M.current){const ee=M.current,ye=W0e(ae),_e=new Float32Array(ye.length/2),Se=new DataView(ye.buffer);for(let Ee=0;Ee<_e.length;Ee++){const Bt=Se.getInt16(Ee*2,!0);_e[Ee]=Bt/32768}const He=ee.createBuffer(1,_e.length,24e3);He.getChannelData(0).set(_e);const fe=ee.createBufferSource();fe.buffer=He,fe.connect(ee.destination);const Ve=ee.currentTime,Ge=Math.max(Ve,V.current);fe.start(Ge),V.current=Ge+He.duration,D.current.add(fe),fe.onended=()=>D.current.delete(fe)}};R.useEffect(()=>(a&&e?O.current=window.setInterval(()=>{if(!U.current||!C.current)return;const K=U.current.getContext("2d");if(K&&C.current.videoWidth){U.current.width=C.current.videoWidth/4,U.current.height=C.current.videoHeight/4,K.drawImage(C.current,0,0,U.current.width,U.current.height);const ae=U.current.toDataURL("image/jpeg",.5).split(",")[1];B.current&&B.current.then(me=>{me.sendRealtimeInput({media:{mimeType:"image/jpeg",data:ae}})})}},1e3):O.current&&clearInterval(O.current),()=>{O.current&&clearInterval(O.current)}),[a,e]);const X=()=>{L.current&&L.current.getTracks().forEach(K=>K.stop()),q.current&&q.current.disconnect(),F.current&&F.current.disconnect(),M.current&&M.current.close(),n(!1)};return T.jsxs("div",{className:"fixed inset-0 z-50 bg-nordic-charcoal flex flex-col animate-fade-in font-sans",children:[T.jsx("canvas",{ref:U,className:"hidden"}),T.jsxs("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center",children:[a?T.jsx("video",{ref:C,className:"absolute inset-0 w-full h-full object-cover opacity-80",muted:!0,playsInline:!0}):T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-nordic-charcoal to-black flex items-center justify-center",children:T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"w-40 h-40 bg-teal-600 rounded-full blur-[50px] transition-all duration-100 ease-out absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",style:{transform:`translate(-50%, -50%) scale(${1+u*3})`}}),T.jsx("div",{className:`w-32 h-32 bg-nordic-dark-surface rounded-full flex items-center justify-center relative z-10 border-4 ${S?"border-amber-500":"border-nordic-charcoal"} shadow-2xl`,children:S?T.jsx(MM,{size:48,className:"text-amber-500 animate-pulse"}):T.jsx(nae,{size:48,className:`text-teal-500 ${e?"animate-pulse":""}`})})]})}),T.jsx("div",{className:"absolute top-10 left-0 right-0 flex justify-center z-10",children:T.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-4 py-2 rounded-full flex items-center gap-2 border border-white/10 shadow-lg",children:[e?T.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}):T.jsx(Td,{size:14,className:"text-amber-500 animate-spin"}),T.jsx("span",{className:"text-white text-xs font-medium tracking-wide",children:d})]})}),p&&T.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-20 flex items-center justify-center p-6",children:T.jsxs("div",{className:"bg-nordic-dark-surface w-full max-w-sm rounded-3xl border border-nordic-charcoal p-6 shadow-2xl",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h3",{className:"text-white font-serif font-bold text-xl",children:"Vlj Dialekt"}),T.jsx("button",{onClick:()=>g(!1),className:"p-2 bg-nordic-charcoal rounded-full text-slate-400 hover:text-white",children:T.jsx(yp,{size:20})})]}),T.jsx("div",{className:"space-y-3",children:Qf.map(K=>T.jsxs("button",{onClick:()=>P(K.id),className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all ${v===K.id?"bg-teal-600 border-teal-500 text-white":"bg-nordic-charcoal border-transparent text-slate-300 hover:bg-slate-800"}`,children:[T.jsxs("div",{className:"text-left",children:[T.jsx("span",{className:"block font-bold text-sm",children:K.label}),T.jsx("span",{className:"block text-xs opacity-70",children:K.desc})]}),v===K.id&&T.jsx(t0,{size:18})]},K.id))})]})})]}),T.jsxs("div",{className:"bg-nordic-dark-surface p-8 pb-12 border-t border-nordic-charcoal relative z-10",children:[T.jsxs("div",{className:"flex items-center justify-center gap-6 max-w-md mx-auto",children:[T.jsx("button",{onClick:()=>A(!S),className:`p-4 rounded-full transition-all ${S?"bg-amber-500 text-white shadow-lg shadow-amber-500/20":"bg-nordic-charcoal text-slate-400 hover:bg-slate-700"}`,title:"Ljud-Doktorn (Motor-diagnostik)",children:T.jsx(MM,{size:24})}),T.jsx("button",{onClick:()=>s(!a),className:`p-4 rounded-full transition-all ${a?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-white hover:bg-slate-700"}`,children:a?T.jsx(L5,{size:24}):T.jsx(Goe,{size:24})}),T.jsx("button",{onClick:t,className:"p-6 bg-rose-500 rounded-full text-white hover:bg-rose-600 hover:scale-105 transition-all shadow-lg shadow-rose-500/30",children:T.jsx(Soe,{size:32})}),T.jsx("button",{onClick:()=>i(!r),className:`p-4 rounded-full transition-all ${r?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-rose-500 hover:bg-slate-700"}`,children:r?T.jsx(goe,{size:24}):T.jsx(poe,{size:24})})]}),T.jsx("button",{onClick:()=>g(!0),className:"absolute right-8 top-1/2 -translate-y-1/2 p-3 text-slate-500 hover:text-white transition-colors",children:T.jsx(M5,{size:20})}),T.jsx("p",{className:"text-center text-slate-500 text-xs mt-6",children:'Elton "ser" via din kamera om du slr p den.'})]})]})},X0e=({vehicleData:t,tasks:e,shoppingItems:n=[],onAddTask:r,onUpdateTask:i,onDeleteTask:a,onAddShoppingItem:s,onUpdateShoppingItem:u,onDeleteShoppingItem:c,onClose:d})=>{const[h,p]=R.useState([]),[g,v]=R.useState(""),[w,S]=R.useState(!1),[A,C]=R.useState(!1),U=R.useRef(null);R.useEffect(()=>{const O=localStorage.getItem(`elton-chat-${t.regNo}`);if(O)try{p(JSON.parse(O))}catch{M()}else M()},[t.regNo]),R.useEffect(()=>{h.length>0&&localStorage.setItem(`elton-chat-${t.regNo}`,JSON.stringify(h))},[h,t.regNo]);const M=()=>{p([{role:"model",content:`Hall dr!  Det r jag som r ${t.model}. Vad ska vi hitta p?`}])},F=()=>{window.confirm("Vill du glmma vr konversation?")&&(localStorage.removeItem(`elton-chat-${t.regNo}`),M())},q=()=>{var O;(O=U.current)==null||O.scrollIntoView({behavior:"smooth"})};R.useEffect(q,[h]);const V=async O=>{if(!O||O.length===0)return[];const L=[];for(const B of O){console.log("Executing tool:",B.name,B.args);try{if(B.name==="addTask"&&r){const P=Array.isArray(B.args.tasks)?B.args.tasks:[B.args];r(P),L.push({id:B.id,result:`Added ${P.length} tasks successfully.`})}else if(B.name==="addShoppingItem"&&s){const P=Array.isArray(B.args.items)?B.args.items:[B.args];P.forEach(j=>s(j)),L.push({id:B.id,result:`Added ${P.length} shopping items.`})}else if(B.name==="updateTaskStatus"&&i){const P=e.find(j=>j.id===B.args.taskId||j.title.toLowerCase().includes(B.args.taskId.toLowerCase()));P?(i({...P,status:B.args.status}),L.push({id:B.id,result:`Updated task "${P.title}" to ${B.args.status}.`})):L.push({id:B.id,result:"Task not found."})}else L.push({id:B.id,result:"Tool not implemented or supported in this context."})}catch(P){console.error("Tool execution failed:",P),L.push({id:B.id,result:"Error executing tool."})}}return L},D=async()=>{if(!g.trim()||w)return;const O=g;v(""),p(B=>[...B,{role:"user",content:O}]),S(!0);let L="";p(B=>[...B,{role:"model",content:""}]),await H0e(h,O,t,e,n,B=>{L+=B,p(P=>{const j=[...P];return j[j.length-1].content=L,j})},V),S(!1)};return A?T.jsx(J0e,{onClose:()=>C(!1)}):T.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] bg-white dark:bg-nordic-dark-surface rounded-2xl border border-slate-200 dark:border-nordic-dark-bg shadow-sm overflow-hidden animate-fade-in",children:[T.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-4 border-b border-slate-100 dark:border-nordic-dark-bg flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[d&&T.jsx("button",{onClick:d,className:"p-2 -ml-2 text-slate-500 hover:bg-black/5 rounded-full md:hidden",children:T.jsx(w5,{size:20})}),T.jsx("div",{className:"p-2 bg-white dark:bg-nordic-dark-bg rounded-lg shadow-sm text-teal-600",children:T.jsx($1,{size:24})}),T.jsxs("div",{children:[T.jsxs("h3",{className:"font-serif font-semibold text-nordic-charcoal dark:text-nordic-ice",children:[t.make," ",t.model]}),T.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted",children:t.year})]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 transition-colors shadow-sm animate-pulse",children:[T.jsx(L5,{size:18}),T.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Ring upp"})]}),T.jsx("button",{onClick:F,className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Rensa historik",children:T.jsx(Fc,{size:18})})]})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-nordic-dark-bg/50",children:[h.map((O,L)=>T.jsx("div",{className:`flex w-full ${O.role==="user"?"justify-end":"justify-start"}`,children:T.jsxs("div",{className:`flex max-w-[85%] ${O.role==="user"?"flex-row-reverse":"flex-row"} items-end gap-2`,children:[T.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 border border-white/20 shadow-sm ${O.role==="user"?"bg-nordic-charcoal text-white":"bg-nordic-beige text-amber-900"}`,children:O.role==="user"?T.jsx(O5,{size:14}):T.jsx($1,{size:16})}),T.jsx("div",{className:`p-3.5 rounded-2xl text-sm leading-relaxed shadow-sm ${O.role==="user"?"bg-nordic-charcoal dark:bg-teal-600 text-white rounded-br-none":"bg-white dark:bg-nordic-dark-surface text-slate-700 dark:text-nordic-dark-text border border-slate-100 dark:border-nordic-charcoal rounded-bl-none"}`,children:O.role==="user"?T.jsx("p",{children:O.content}):T.jsx(lhe,{className:"prose prose-sm dark:prose-invert max-w-none prose-p:my-1 prose-headings:my-2 prose-ul:my-1 prose-li:my-0",components:{h1:({node:B,...P})=>T.jsx("h1",{className:"text-base font-bold text-nordic-charcoal dark:text-nordic-ice mt-2",...P}),h2:({node:B,...P})=>T.jsx("h2",{className:"text-sm font-bold text-teal-600 dark:text-teal-400 mt-2 uppercase tracking-wide",...P}),h3:({node:B,...P})=>T.jsx("h3",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 mt-2",...P}),ul:({node:B,...P})=>T.jsx("ul",{className:"list-disc list-outside ml-4 space-y-1 my-2",...P}),ol:({node:B,...P})=>T.jsx("ol",{className:"list-decimal list-outside ml-4 space-y-1 my-2",...P}),li:({node:B,...P})=>T.jsx("li",{className:"pl-1 marker:text-teal-500",...P}),strong:({node:B,...P})=>T.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...P}),a:({node:B,...P})=>T.jsx("a",{className:"text-teal-600 hover:underline cursor-pointer font-medium",target:"_blank",...P}),blockquote:({node:B,...P})=>T.jsx("blockquote",{className:"border-l-4 border-teal-200 pl-3 italic text-slate-500 my-2",...P})},children:O.content})})]})},L)),T.jsx("div",{ref:U})]}),T.jsx("div",{className:"p-4 bg-white dark:bg-nordic-dark-surface border-t border-slate-100 dark:border-nordic-dark-bg",children:T.jsxs("div",{className:"flex space-x-2 relative",children:[T.jsx("input",{type:"text",value:g,onChange:O=>v(O.target.value),onKeyDown:O=>O.key==="Enter"&&D(),placeholder:"Sg ngot...",className:"flex-1 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal text-slate-700 dark:text-nordic-ice text-sm rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all placeholder:text-slate-400",disabled:w}),T.jsx("button",{onClick:D,disabled:!g.trim()||w,className:"bg-nordic-charcoal dark:bg-teal-600 hover:bg-slate-800 dark:hover:bg-teal-700 disabled:bg-slate-300 dark:disabled:bg-nordic-charcoal text-white p-3 rounded-xl transition-colors shadow-sm",children:T.jsx(P5,{size:18})})]})})]})},Q0e=({onAddTasks:t,onClose:e})=>{const[n,r]=R.useState(""),[i,a]=R.useState(!1),[s,u]=R.useState([]),[c,d]=R.useState(null),h=v=>{var S;const w=(S=v.target.files)==null?void 0:S[0];if(w){const A=new FileReader;A.onloadend=()=>{d(A.result)},A.readAsDataURL(w)}},p=async()=>{if(!n&&!c)return;a(!0);const v=c?c.split(",")[1]:void 0,{tasks:w}=await G0e(n,v);u(w),a(!1)},g=()=>{t(s),u([]),r(""),d(null),e()};return T.jsxs("div",{className:"bg-white rounded-3xl border border-nordic-slate/10 shadow-xl overflow-hidden animate-fade-in relative",children:[T.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white p-6 border-b border-nordic-slate/10 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm text-teal-600",children:T.jsx(Vc,{size:24})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-serif font-bold text-nordic-charcoal",children:"The Magic Import"}),T.jsx("p",{className:"text-sm text-nordic-slate",children:"Klistra in anteckningar eller ladda upp kvitton"})]})]}),T.jsx("button",{onClick:e,className:"p-2 -mr-2 text-nordic-slate hover:bg-black/5 rounded-full transition-colors",children:T.jsx(yp,{size:24})})]}),T.jsx("div",{className:"p-6 space-y-6",children:s.length===0?T.jsxs("div",{className:"space-y-4",children:[T.jsx("textarea",{className:"w-full p-4 rounded-xl bg-nordic-ice/30 border border-nordic-slate/20 focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all min-h-[150px] placeholder:text-nordic-slate/50",placeholder:"Ex: Behver kpa 4st Nokian dck, kostar ca 5000kr. Mste ocks fixa rost i balken (akut!)...",value:n,onChange:v=>r(v.target.value)}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer px-4 py-2 rounded-xl hover:bg-nordic-ice transition-colors text-nordic-slate text-sm font-medium",children:[T.jsx(_S,{size:18}),T.jsx("span",{children:"Ladda upp bild"}),T.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:h})]}),c&&T.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Bild vald "})]}),T.jsx("button",{onClick:p,disabled:i||!n&&!c,className:"w-full py-4 bg-nordic-charcoal text-white rounded-xl font-medium hover:bg-slate-800 transition-all disabled:opacity-50 flex items-center justify-center space-x-2",children:i?T.jsxs(T.Fragment,{children:[T.jsx(Td,{size:20,className:"animate-spin"}),T.jsx("span",{children:"AI Analyserar..."})]}):T.jsxs(T.Fragment,{children:[T.jsx(Vc,{size:18}),T.jsx("span",{children:"Skapa Uppgifter"})]})})]}):T.jsxs("div",{className:"space-y-4",children:[T.jsx("h3",{className:"font-medium text-nordic-slate",children:"Frslag p uppgifter:"}),T.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:s.map((v,w)=>T.jsxs("div",{className:"p-4 rounded-xl border border-nordic-slate/10 bg-white shadow-sm flex items-start gap-4",children:[T.jsx("div",{className:`p-2 rounded-lg mt-1 shrink-0 ${v.costType==="Investering"?"bg-nordic-green":"bg-nordic-pink"}`,children:v.costType==="Investering"?"INV":"DRIFT"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h4",{className:"font-bold text-nordic-charcoal",children:v.title}),T.jsx("p",{className:"text-sm text-nordic-slate mb-2",children:v.description}),T.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[T.jsx("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:v.phase}),T.jsxs("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:[v.estimatedCostMin,"-",v.estimatedCostMax," kr"]}),v.weightKg>0&&T.jsxs("span",{className:"bg-amber-50 text-amber-700 px-2 py-1 rounded-md",children:[v.weightKg," kg"]})]})]})]},w))}),T.jsxs("div",{className:"flex space-x-3 pt-4",children:[T.jsx("button",{onClick:()=>u([]),className:"flex-1 py-3 px-4 rounded-xl border border-nordic-slate/20 text-nordic-slate hover:bg-slate-50 font-medium",children:"Avbryt"}),T.jsxs("button",{onClick:g,className:"flex-1 py-3 px-4 rounded-xl bg-nordic-charcoal text-white hover:bg-slate-800 font-medium flex items-center justify-center space-x-2 shadow-lg shadow-slate-200",children:[T.jsx(Uc,{size:18}),T.jsx("span",{children:"Lgg till allt"})]})]})]})})]})},Z0e=({vehicleData:t,tasks:e=[],serviceLog:n=[],fuelLog:r=[],onAddService:i,onAddFuel:a,onUpdateSpecs:s})=>{const[u,c]=R.useState("overview"),[d,h]=R.useState(!1),[p,g]=R.useState({description:"",date:"",mileage:"",performer:"",type:"Service"}),[v,w]=R.useState({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0}),[S,A]=R.useState({}),C=()=>{A({load:t.weights.load,curb:t.weights.curb,total:t.weights.total,trailer:t.weights.trailer,length:t.dimensions.length,width:t.dimensions.width,power:t.engine.power,fuel:t.engine.fuel,gearbox:t.gearbox,tires:t.wheels.tiresFront,mileage:t.inspection.mileage}),h(!0)},U=()=>{s&&(s({weights:{...t.weights,load:Number(S.load),curb:Number(S.curb),total:Number(S.total),trailer:Number(S.trailer)},dimensions:{...t.dimensions,length:Number(S.length),width:Number(S.width)},engine:{...t.engine,power:S.power,fuel:S.fuel},gearbox:S.gearbox,wheels:{...t.wheels,tiresFront:S.tires,tiresRear:S.tires},inspection:{...t.inspection,mileage:S.mileage}}),h(!1))},M=()=>{!p.description||!i||(i({id:Math.random().toString(36).substr(2,9),...p,type:p.type}),g({description:"",date:"",mileage:"",performer:"",type:"Service"}))},F=()=>{if(!v.liters||!a)return;const P=parseFloat(v.liters),j=parseFloat(v.pricePerLiter);a({id:Math.random().toString(36).substr(2,9),date:v.date||new Date().toISOString().split("T")[0],mileage:parseInt(v.mileage)||0,liters:P,pricePerLiter:j,totalCost:P*j,fullTank:v.full}),w({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0})},q=e.reduce((P,j)=>P+(j.weightKg||0),0),V=t.weights.load,D=V-q,O=Math.min(q/V*100,100),L=({title:P,icon:j,children:H,warning:de,onEdit:te})=>T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl p-6 border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full relative group",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("div",{className:"p-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-xl text-nordic-charcoal dark:text-nordic-ice",children:T.jsx(j,{size:20})}),T.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:P})]}),T.jsxs("div",{className:"flex gap-2",children:[de&&T.jsx(Boe,{size:18,className:"text-amber-500"}),te&&!d&&T.jsx("button",{onClick:te,className:"p-1 text-slate-300 hover:text-teal-600 opacity-0 group-hover:opacity-100 transition-all",children:T.jsx(Toe,{size:16})})]})]}),T.jsx("div",{className:"space-y-3",children:H})]}),B=({label:P,value:j,highlight:H=!1,editKey:de})=>T.jsxs("div",{className:`flex justify-between items-center py-2 border-b border-slate-50 dark:border-nordic-charcoal last:border-0 ${H?"bg-teal-50/50 dark:bg-teal-900/20 -mx-2 px-2 rounded-lg":""}`,children:[T.jsx("span",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted font-medium",children:P}),d&&de?T.jsx("input",{className:"text-sm font-bold text-right bg-white dark:bg-black/20 border border-slate-200 dark:border-nordic-charcoal rounded px-2 py-1 w-24",value:S[de],onChange:te=>A({...S,[de]:te.target.value})}):T.jsx("span",{className:`text-sm font-bold text-right ${H?"text-teal-700 dark:text-teal-400":"text-nordic-charcoal dark:text-nordic-ice"}`,children:j})]});return T.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in",children:[T.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide bg-white dark:bg-nordic-dark-surface p-2 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg sticky top-0 z-20 shadow-sm",children:[T.jsx("button",{onClick:()=>c("overview"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${u==="overview"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Garage & Data"}),T.jsx("button",{onClick:()=>c("service"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${u==="service"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Servicebok"}),T.jsx("button",{onClick:()=>c("fuel"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${u==="fuel"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Brnsle"})]}),u==="overview"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[T.jsxs("div",{className:"flex items-center justify-between mb-6",children:[T.jsxs("div",{children:[T.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[T.jsx(NM,{className:"text-teal-600"})," Viktkalkylator"]}),T.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted",children:"Hll koll p lastvikten."})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-slate-400",children:"Kvar att lasta"}),T.jsxs("p",{className:`text-3xl font-mono font-bold ${D<100?"text-rose-500":"text-teal-600"}`,children:[D," kg"]})]})]}),T.jsx("div",{className:"relative h-6 bg-slate-100 dark:bg-nordic-dark-bg rounded-full overflow-hidden mb-2",children:T.jsx("div",{className:`h-full transition-all duration-1000 ${O>90?"bg-rose-500":O>75?"bg-amber-400":"bg-teal-500"}`,style:{width:`${O}%`}})}),T.jsxs("div",{className:"flex justify-between text-xs font-mono text-slate-400",children:[T.jsx("span",{children:"0 kg"}),T.jsxs("span",{children:["Tjnstevikt: ",t.weights.curb," kg"]}),T.jsxs("span",{children:["Maxlast: ",t.weights.load," kg"]})]})]}),d&&T.jsxs("div",{className:"flex justify-end gap-2",children:[T.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-slate-500 hover:bg-white rounded-xl",children:"Avbryt"}),T.jsx("button",{onClick:U,className:"px-6 py-2 bg-teal-600 text-white rounded-xl font-bold shadow-lg hover:bg-teal-700",children:"Spara ndringar"})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[T.jsxs(L,{title:"Last & Mtt",icon:NM,onEdit:C,children:[T.jsx(B,{label:"Max Lastvikt",value:`${t.weights.load} kg`,highlight:!0,editKey:"load"}),T.jsx(B,{label:"Tjnstevikt",value:`${t.weights.curb} kg`,editKey:"curb"}),T.jsx(B,{label:"Totalvikt",value:`${t.weights.total} kg`,editKey:"total"}),T.jsx(B,{label:"Max Slpvagn",value:`${t.weights.trailer} kg`,editKey:"trailer"}),T.jsx("div",{className:"pt-2"}),T.jsx(B,{label:"Lngd",value:`${t.dimensions.length} mm`,editKey:"length"}),T.jsx(B,{label:"Bredd",value:`${t.dimensions.width} mm`,editKey:"width"})]}),T.jsxs(L,{title:"Drivlina & Hjul",icon:M5,onEdit:C,children:[T.jsx(B,{label:"Motor",value:t.engine.power,highlight:!0,editKey:"power"}),T.jsx(B,{label:"Brnsle",value:t.engine.fuel,editKey:"fuel"}),T.jsx(B,{label:"Vxellda",value:t.gearbox,editKey:"gearbox"}),T.jsx("div",{className:"pt-2"}),T.jsx(B,{label:"Dck",value:t.wheels.tiresFront,editKey:"tires"})]}),T.jsxs(L,{title:"Historik & Status",icon:bS,warning:!0,onEdit:C,children:[T.jsx(B,{label:"Mtarstllning",value:t.inspection.mileage,highlight:!0,editKey:"mileage"}),T.jsx(B,{label:"Senast Besiktigad",value:t.inspection.last}),T.jsx(B,{label:"Antal gare",value:t.history.owners}),T.jsx(B,{label:"Frsta Trafik",value:t.regDate})]})]})]}),u==="service"&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[T.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[T.jsx(Uc,{size:20})," Ny Servicehndelse"]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Beskrivning (t.ex. Oljebyte)",value:p.description,onChange:P=>g({...p,description:P.target.value})}),T.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Utfrare (t.ex. Mekonomen / Jag)",value:p.performer,onChange:P=>g({...p,performer:P.target.value})}),T.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:p.date,onChange:P=>g({...p,date:P.target.value})}),T.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtarstllning (mil)",value:p.mileage,onChange:P=>g({...p,mileage:P.target.value})})]}),T.jsx("button",{onClick:M,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara till Serviceboken"})]}),T.jsxs("div",{className:"space-y-4",children:[n.length===0&&T.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga poster n."}),n.map((P,j)=>T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:P.description}),T.jsxs("p",{className:"text-xs text-slate-500",children:[P.date,"  ",P.mileage]})]}),T.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold rounded-lg",children:P.performer})]},j))]})]}),u==="fuel"&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[T.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[T.jsx($ae,{size:20})," Logga Tankning"]}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[T.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:v.date,onChange:P=>w({...v,date:P.target.value})}),T.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Liter",type:"number",value:v.liters,onChange:P=>w({...v,liters:P.target.value})}),T.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Pris/L",type:"number",value:v.pricePerLiter,onChange:P=>w({...v,pricePerLiter:P.target.value})}),T.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtare (mil)",type:"number",value:v.mileage,onChange:P=>w({...v,mileage:P.target.value})})]}),T.jsx("button",{onClick:F,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara Tankning"})]}),T.jsxs("div",{className:"space-y-4",children:[r.length===0&&T.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga tankningar loggade."}),r.map((P,j)=>T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsxs("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[P.liters," liter"]}),T.jsxs("p",{className:"text-xs text-slate-500",children:[P.date,"  ",P.mileage," mil"]})]}),T.jsxs("div",{className:"text-right",children:[T.jsxs("p",{className:"font-mono font-bold text-teal-600",children:[Math.round(P.totalCost)," kr"]}),T.jsxs("p",{className:"text-xs text-slate-400",children:[P.pricePerLiter," kr/l"]})]})]},j))]})]})]})},ebe=({items:t,tasks:e=[],onToggle:n,onAdd:r,onUpdate:i,onDelete:a,onUploadReceipt:s})=>{const[u,c]=R.useState(""),[d,h]=R.useState(""),[p,g]=R.useState("Reservdelar"),[v,w]=R.useState("ALL"),[S,A]=R.useState(null),[C,U]=R.useState(!1),[M,F]=R.useState(""),[q,V]=R.useState(""),[D,O]=R.useState(""),[L,B]=R.useState(""),P=X=>{var K;A(X),F(((K=X.actualCost)==null?void 0:K.toString())||""),V(X.url||""),O(X.store||""),B(X.linkedTaskId||"")},j=()=>{S&&(i({...S,actualCost:parseInt(M)||void 0,url:q,store:D,linkedTaskId:L,checked:parseInt(M)>0?!0:S.checked}),A(null))},H=async X=>{var ae;const K=(ae=X.target.files)==null?void 0:ae[0];if(K&&S){U(!0);try{await s(S.id,K),A(null)}catch(me){console.error("Upload failed",me)}finally{U(!1)}}},de=["Reservdelar","Kemi & Frg","Verktyg","Inredning","vrigt"];t.reduce((X,K)=>X+(K.checked?0:K.estimatedCost),0),t.reduce((X,K)=>X+(K.actualCost||0),0);const te=v==="ALL"?de:[v];return T.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in relative",children:[T.jsx("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm"}),T.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide"}),T.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg flex flex-col md:flex-row gap-3 shadow-sm"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:te.map(X=>{const K=t.filter(ae=>ae.category===X);return K.length===0?null:T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg overflow-hidden animate-fade-in",children:[T.jsxs("div",{className:"bg-nordic-ice/50 dark:bg-nordic-charcoal/50 p-4 border-b border-nordic-ice dark:border-nordic-dark-bg flex justify-between items-center",children:[T.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm uppercase tracking-wider",children:X}),T.jsxs("span",{className:"text-xs text-slate-400 bg-white dark:bg-nordic-dark-bg px-2 py-1 rounded-md",children:[K.length," st"]})]}),T.jsx("div",{className:"divide-y divide-slate-50 dark:divide-nordic-charcoal",children:K.map(ae=>T.jsx("div",{className:`p-4 flex items-center gap-3 transition-all hover:bg-slate-50 dark:hover:bg-nordic-charcoal/30 cursor-pointer group ${ae.checked?"bg-slate-50/50 dark:bg-black/20":""}`,onClick:()=>P(ae)},ae.id))})]},X)})}),S&&T.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-md rounded-3xl shadow-xl overflow-hidden animate-fade-in",children:[T.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-nordic-dark-bg flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:S.name}),T.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wider",children:S.category})]}),T.jsx("button",{onClick:()=>A(null),className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full",children:T.jsx(yp,{size:20,className:"text-slate-500"})})]}),T.jsxs("div",{className:"p-6 space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 block mb-2",children:"Kvitto"}),S.receiptUrl?T.jsxs("div",{className:"relative rounded-xl overflow-hidden border border-slate-200 dark:border-nordic-charcoal",children:[T.jsx("a",{href:S.receiptUrl,target:"_blank",rel:"noreferrer",children:T.jsx("img",{src:S.receiptUrl,alt:"Kvitto",className:"w-full h-48 object-cover"})}),T.jsx("button",{onClick:()=>i({...S,receiptUrl:void 0}),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md text-rose-500",children:T.jsx(Fc,{size:16})})]}):T.jsx("label",{className:`border-2 border-dashed border-slate-200 dark:border-nordic-charcoal rounded-xl p-6 flex flex-col items-center justify-center text-slate-400 transition-colors ${C?"bg-slate-100":"hover:bg-slate-50 dark:hover:bg-nordic-dark-bg cursor-pointer"}`,children:C?T.jsxs(T.Fragment,{children:[T.jsx(Td,{className:"animate-spin text-teal-500",size:24}),T.jsx("span",{className:"text-sm mt-2",children:"Laddar upp..."})]}):T.jsxs(T.Fragment,{children:[T.jsx(_S,{size:24,className:"mb-2"}),T.jsx("span",{className:"text-sm",children:"Ladda upp bild"}),T.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:H,disabled:C})]})})]}),T.jsxs("button",{onClick:j,className:"w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-slate-800 dark:hover:bg-teal-700",children:[T.jsx(N5,{size:18})," Spara ndringar"]})]})]})}),t.length===0&&T.jsx("div",{className:"text-center py-20",children:T.jsx("p",{className:"text-slate-400",children:"Listan r tom."})})]})},tbe=()=>{};var QO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nbe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],u=t[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},nB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=a>>2,p=(a&3)<<4|u>>4;let g=(u&15)<<2|d>>6,v=d&63;c||(v=64,s||(g=64)),r.push(n[h],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nbe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||d==null||p==null)throw new rbe;const g=a<<2|u>>4;if(r.push(g),d!==64){const v=u<<4&240|d>>2;if(r.push(v),p!==64){const w=d<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rbe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ibe=function(t){const e=tB(t);return nB.encodeByteArray(e,!0)},Yy=function(t){return ibe(t).replace(/\./g,"")},rB=function(t){try{return nB.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function abe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const obe=()=>abe().__FIREBASE_DEFAULTS__,sbe=()=>{if(typeof process>"u"||typeof QO>"u")return;const t=QO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lbe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rB(t[1]);return e&&JSON.parse(e)},d0=()=>{try{return tbe()||obe()||sbe()||lbe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iB=t=>{var e,n;return(n=(e=d0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},aB=t=>{const e=iB(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oB=()=>{var t;return(t=d0())==null?void 0:t.config},sB=t=>{var e;return(e=d0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ube{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Yy(JSON.stringify(n)),Yy(JSON.stringify(s)),""].join(".")}const ph={};function cbe(){const t={prod:[],emulator:[]};for(const e of Object.keys(ph))ph[e]?t.emulator.push(e):t.prod.push(e);return t}function dbe(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ZO=!1;function $S(t,e){if(typeof window>"u"||typeof document>"u"||!ml(window.location.host)||ph[t]===e||ph[t]||ZO)return;ph[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=cbe().prod.length>0;function s(){const g=document.getElementById(r);g&&g.remove()}function u(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{ZO=!0,s()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=dbe(r),v=n("text"),w=document.getElementById(v)||document.createElement("span"),S=n("learnmore"),A=document.getElementById(S)||document.createElement("a"),C=n("preprendIcon"),U=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const M=g.element;u(M),h(A,S);const F=d();c(U,C),M.append(U,w,A,F),document.body.appendChild(M)}a?(w.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fbe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_r())}function hbe(){var e;const t=(e=d0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pbe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mbe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gbe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ybe(){const t=_r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vbe(){return!hbe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bbe(){try{return typeof indexedDB=="object"}catch{return!1}}function _be(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xbe="FirebaseError";class ro extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xbe,Object.setPrototypeOf(this,ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_p.prototype.create)}}class _p{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Ebe(a,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new ro(i,u,r)}}function Ebe(t,e){return t.replace(Tbe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Tbe=/\{\$([^}]+)}/g;function wbe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(eL(a)&&eL(s)){if(!pu(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function eL(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function rh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Sbe(t,e){const n=new Abe(t,e);return n.subscribe.bind(n)}class Abe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kbe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=NE),i.error===void 0&&(i.error=NE),i.complete===void 0&&(i.complete=NE);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kbe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function NE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class nl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cbe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ube;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Rbe(e))try{this.getOrInitializeService({instanceIdentifier:Ql})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ql){return this.instances.has(e)}getOptions(e=Ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ibe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ql){return this.component?this.component.multipleInstances?e:Ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ibe(t){return t===Ql?void 0:t}function Rbe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nbe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Cbe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const Pbe={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},Mbe=ot.INFO,Dbe={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},Obe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Dbe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class KS{constructor(e){this.name=e,this._logLevel=Mbe,this._logHandler=Obe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Pbe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const Lbe=(t,e)=>e.some(n=>t instanceof n);let tL,nL;function Ube(){return tL||(tL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vbe(){return nL||(nL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uB=new WeakMap,mT=new WeakMap,cB=new WeakMap,PE=new WeakMap,WS=new WeakMap;function Fbe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Ks(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&uB.set(n,t)}).catch(()=>{}),WS.set(e,t),e}function Bbe(t){if(mT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});mT.set(t,e)}let gT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cB.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jbe(t){gT=t(gT)}function zbe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ME(this),e,...n);return cB.set(r,e.sort?e.sort():[e]),Ks(r)}:Vbe().includes(t)?function(...e){return t.apply(ME(this),e),Ks(uB.get(this))}:function(...e){return Ks(t.apply(ME(this),e))}}function qbe(t){return typeof t=="function"?zbe(t):(t instanceof IDBTransaction&&Bbe(t),Lbe(t,Ube())?new Proxy(t,gT):t)}function Ks(t){if(t instanceof IDBRequest)return Fbe(t);if(PE.has(t))return PE.get(t);const e=qbe(t);return e!==t&&(PE.set(t,e),WS.set(e,t)),e}const ME=t=>WS.get(t);function Hbe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),u=Ks(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ks(s.result),c.oldVersion,c.newVersion,Ks(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const Gbe=["get","getKey","getAll","getAllKeys","count"],$be=["put","add","delete","clear"],DE=new Map;function rL(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(DE.get(e))return DE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$be.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Gbe.includes(n)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&c.done]))[0]};return DE.set(e,a),a}jbe(t=>({...t,get:(e,n,r)=>rL(e,n)||t.get(e,n,r),has:(e,n)=>!!rL(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kbe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wbe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Wbe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yT="@firebase/app",iL="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new KS("@firebase/app"),Ybe="@firebase/app-compat",Jbe="@firebase/analytics-compat",Xbe="@firebase/analytics",Qbe="@firebase/app-check-compat",Zbe="@firebase/app-check",e_e="@firebase/auth",t_e="@firebase/auth-compat",n_e="@firebase/database",r_e="@firebase/data-connect",i_e="@firebase/database-compat",a_e="@firebase/functions",o_e="@firebase/functions-compat",s_e="@firebase/installations",l_e="@firebase/installations-compat",u_e="@firebase/messaging",c_e="@firebase/messaging-compat",d_e="@firebase/performance",f_e="@firebase/performance-compat",h_e="@firebase/remote-config",p_e="@firebase/remote-config-compat",m_e="@firebase/storage",g_e="@firebase/storage-compat",y_e="@firebase/firestore",v_e="@firebase/ai",b_e="@firebase/firestore-compat",__e="firebase",x_e="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="[DEFAULT]",E_e={[yT]:"fire-core",[Ybe]:"fire-core-compat",[Xbe]:"fire-analytics",[Jbe]:"fire-analytics-compat",[Zbe]:"fire-app-check",[Qbe]:"fire-app-check-compat",[e_e]:"fire-auth",[t_e]:"fire-auth-compat",[n_e]:"fire-rtdb",[r_e]:"fire-data-connect",[i_e]:"fire-rtdb-compat",[a_e]:"fire-fn",[o_e]:"fire-fn-compat",[s_e]:"fire-iid",[l_e]:"fire-iid-compat",[u_e]:"fire-fcm",[c_e]:"fire-fcm-compat",[d_e]:"fire-perf",[f_e]:"fire-perf-compat",[h_e]:"fire-rc",[p_e]:"fire-rc-compat",[m_e]:"fire-gcs",[g_e]:"fire-gcs-compat",[y_e]:"fire-fst",[b_e]:"fire-fst-compat",[v_e]:"fire-vertex","fire-js":"fire-js",[__e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=new Map,T_e=new Map,bT=new Map;function aL(t,e){try{t.container.addComponent(e)}catch(n){qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mu(t){const e=t.name;if(bT.has(e))return qo.debug(`There were multiple attempts to register component ${e}.`),!1;bT.set(e,t);for(const n of Jy.values())aL(n,t);for(const n of T_e.values())aL(n,t);return!0}function f0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new _p("app","Firebase",w_e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_e{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=x_e;function dB(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:vT,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ws.create("bad-app-name",{appName:String(i)});if(n||(n=oB()),!n)throw Ws.create("no-options");const a=Jy.get(i);if(a){if(pu(n,a.options)&&pu(r,a.config))return a;throw Ws.create("duplicate-app",{appName:i})}const s=new Nbe(i);for(const c of bT.values())s.addComponent(c);const u=new S_e(n,r,s);return Jy.set(i,u),u}function YS(t=vT){const e=Jy.get(t);if(!e&&t===vT&&oB())return dB();if(!e)throw Ws.create("no-app",{appName:t});return e}function Ha(t,e,n){let r=E_e[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qo.warn(s.join(" "));return}mu(new nl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_e="firebase-heartbeat-database",k_e=1,Vh="firebase-heartbeat-store";let OE=null;function fB(){return OE||(OE=Hbe(A_e,k_e,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ws.create("idb-open",{originalErrorMessage:t.message})})),OE}async function C_e(t){try{const n=(await fB()).transaction(Vh),r=await n.objectStore(Vh).get(hB(t));return await n.done,r}catch(e){if(e instanceof ro)qo.warn(e.message);else{const n=Ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qo.warn(n.message)}}}async function oL(t,e){try{const r=(await fB()).transaction(Vh,"readwrite");await r.objectStore(Vh).put(e,hB(t)),await r.done}catch(n){if(n instanceof ro)qo.warn(n.message);else{const r=Ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qo.warn(r.message)}}}function hB(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_e=1024,R_e=30;class N_e{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M_e(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=sL();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>R_e){const s=D_e(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sL(),{heartbeatsToSend:r,unsentEntries:i}=P_e(this._heartbeatsCache.heartbeats),a=Yy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return qo.warn(n),""}}}function sL(){return new Date().toISOString().substring(0,10)}function P_e(t,e=I_e){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),lL(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class M_e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bbe()?_be().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C_e(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oL(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oL(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lL(t){return Yy(JSON.stringify({version:2,heartbeats:t})).length}function D_e(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_e(t){mu(new nl("platform-logger",e=>new Kbe(e),"PRIVATE")),mu(new nl("heartbeat",e=>new N_e(e),"PRIVATE")),Ha(yT,iL,t),Ha(yT,iL,"esm2020"),Ha("fire-js","")}O_e("");function pB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L_e=pB,mB=new _p("auth","Firebase",pB());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=new KS("@firebase/auth");function U_e(t,...e){Xy.logLevel<=ot.WARN&&Xy.warn(`Auth (${ku}): ${t}`,...e)}function Hg(t,...e){Xy.logLevel<=ot.ERROR&&Xy.error(`Auth (${ku}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t,...e){throw JS(t,...e)}function Ga(t,...e){return JS(t,...e)}function gB(t,e,n){const r={...L_e(),[e]:n};return new _p("auth","Firebase",r).create(e,{appName:t.name})}function $a(t){return gB(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mB.create(t,...e)}function Oe(t,e,...n){if(!t)throw JS(e,...n)}function Ro(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hg(e),new Error(e)}function Ho(t,e){t||Ro(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function V_e(){return uL()==="http:"||uL()==="https:"}function uL(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V_e()||mbe()||"connection"in navigator)?navigator.onLine:!0}function B_e(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ho(n>e,"Short delay should be less than long delay!"),this.isMobile=fbe()||gbe()}get(){return F_e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e){Ho(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ro("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ro("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ro("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_e=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q_e=new Ep(3e4,6e4);function ts(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ns(t,e,n,r,i={}){return vB(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const u=xp({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...a};return pbe()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&ml(t.emulatorConfig.host)&&(d.credentials="include"),yB.fetch()(await bB(t,t.config.apiHost,n,u),d)})}async function vB(t,e,n){t._canInitEmulator=!1;const r={...j_e,...e};try{const i=new G_e(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Cg(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cg(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Cg(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Cg(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw gB(t,h,d);la(t,h)}}catch(i){if(i instanceof ro)throw i;la(t,"network-request-failed",{message:String(i)})}}async function Tp(t,e,n,r,i={}){const a=await ns(t,e,n,r,i);return"mfaPendingCredential"in a&&la(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function bB(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?XS(t.config,i):`${t.config.apiScheme}://${i}`;return z_e.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function H_e(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class G_e{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ga(this.auth,"network-request-failed")),q_e.get())})}}function Cg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ga(t,e,r);return i.customData._tokenResponse=n,i}function cL(t){return t!==void 0&&t.enterprise!==void 0}class $_e{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return H_e(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K_e(t,e){return ns(t,"GET","/v2/recaptchaConfig",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W_e(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function Zy(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y_e(t,e=!1){const n=$t(t),r=await n.getIdToken(e),i=QS(r);Oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:mh(LE(i.auth_time)),issuedAtTime:mh(LE(i.iat)),expirationTime:mh(LE(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function LE(t){return Number(t)*1e3}function QS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hg("JWT malformed, contained fewer than 3 sections"),null;try{const i=rB(n);return i?JSON.parse(i):(Hg("Failed to decode base64 JWT payload"),null)}catch(i){return Hg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dL(t){const e=QS(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ro&&J_e(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function J_e({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mh(this.lastLoginAt),this.creationTime=mh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ev(t){var p;const e=t.auth,n=await t.getIdToken(),r=await Fh(t,Zy(e,{idToken:n}));Oe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(p=i.providerUserInfo)!=null&&p.length?_B(i.providerUserInfo):[],s=Z_e(t.providerData,a),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),d=u?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _T(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Q_e(t){const e=$t(t);await ev(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z_e(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _B(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function exe(t,e){const n=await vB(t,{},async()=>{const r=xp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await bB(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&ml(t.emulatorConfig.host)&&(c.credentials="include"),yB.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function txe(t,e){return ns(t,"POST","/v2/accounts:revokeToken",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=dL(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await exe(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new $c;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Oe(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $c,this.toJSON())}_performRefresh(){return Ro("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ia{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new X_e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _T(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Fh(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y_e(this,e)}reload(){return Q_e(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ia({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ev(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jr(this.auth.app))return Promise.reject($a(this.auth));const e=await this.getIdToken();return await Fh(this,W_e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:v,providerData:w,stsTokenManager:S}=n;Oe(p&&S,e,"internal-error");const A=$c.fromJSON(this.name,S);Oe(typeof p=="string",e,"internal-error"),Ls(r,e.name),Ls(i,e.name),Oe(typeof g=="boolean",e,"internal-error"),Oe(typeof v=="boolean",e,"internal-error"),Ls(a,e.name),Ls(s,e.name),Ls(u,e.name),Ls(c,e.name),Ls(d,e.name),Ls(h,e.name);const C=new ia({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:v,photoURL:s,phoneNumber:a,tenantId:u,stsTokenManager:A,createdAt:d,lastLoginAt:h});return w&&Array.isArray(w)&&(C.providerData=w.map(U=>({...U}))),c&&(C._redirectEventId=c),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new $c;i.updateFromServerResponse(n);const a=new ia({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ev(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Oe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?_B(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new $c;u.updateFromIdToken(r);const c=new ia({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _T(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=new Map;function No(t){Ho(t instanceof Function,"Expected a class definition");let e=fL.get(t);return e?(Ho(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fL.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xB.type="NONE";const hL=xB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t,e,n){return`firebase:${t}:${e}:${n}`}class Kc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Gg(this.userKey,i.apiKey,a),this.fullPersistenceKey=Gg("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zy(this.auth,{idToken:e}).catch(()=>{});return n?ia._fromGetAccountInfoResponse(this.auth,n,e):null}return ia._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Kc(No(hL),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||No(hL);const s=Gg(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const h=await d._get(s);if(h){let p;if(typeof h=="string"){const g=await Zy(e,{idToken:h}).catch(()=>{});if(!g)break;p=await ia._fromGetAccountInfoResponse(e,g,h)}else p=ia._fromJSON(e,h);d!==a&&(u=p),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Kc(a,e,r):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(s)}catch{}})),new Kc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kB(e))return"Blackberry";if(CB(e))return"Webos";if(TB(e))return"Safari";if((e.includes("chrome/")||wB(e))&&!e.includes("edge/"))return"Chrome";if(AB(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EB(t=_r()){return/firefox\//i.test(t)}function TB(t=_r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wB(t=_r()){return/crios\//i.test(t)}function SB(t=_r()){return/iemobile/i.test(t)}function AB(t=_r()){return/android/i.test(t)}function kB(t=_r()){return/blackberry/i.test(t)}function CB(t=_r()){return/webos/i.test(t)}function ZS(t=_r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nxe(t=_r()){var e;return ZS(t)&&!!((e=window.navigator)!=null&&e.standalone)}function rxe(){return ybe()&&document.documentMode===10}function IB(t=_r()){return ZS(t)||AB(t)||CB(t)||kB(t)||/windows phone/i.test(t)||SB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t,e=[]){let n;switch(t){case"Browser":n=pL(_r());break;case"Worker":n=`${pL(_r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ku}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ixe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function axe(t,e={}){return ns(t,"GET","/v2/passwordPolicy",ts(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oxe=6;class sxe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oxe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lxe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mL(this),this.idTokenSubscription=new mL(this),this.beforeStateQueue=new ixe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=No(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Kc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zy(this,{idToken:e}),r=await ia._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(jr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ev(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B_e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jr(this.app))return Promise.reject($a(this));const n=e?$t(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jr(this.app)?Promise.reject($a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jr(this.app)?Promise.reject($a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(No(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await axe(this),n=new sxe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _p("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await txe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&No(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await Kc.create(this,[No(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&U_e(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function gl(t){return $t(t)}class mL{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sbe(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uxe(t){h0=t}function NB(t){return h0.loadJS(t)}function cxe(){return h0.recaptchaEnterpriseScript}function dxe(){return h0.gapiScript}function fxe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class hxe{constructor(){this.enterprise=new pxe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pxe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mxe="recaptcha-enterprise",PB="NO_RECAPTCHA";class gxe{constructor(e){this.type=mxe,this.auth=gl(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,u)=>{K_e(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new $_e(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,s(d.siteKey)}}).catch(c=>{u(c)})})}function i(a,s,u){const c=window.grecaptcha;cL(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{s(d)}).catch(()=>{s(PB)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hxe().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(u=>{if(!n&&cL(window.grecaptcha))i(u,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=cxe();c.length!==0&&(c+=u),NB(c).then(()=>{i(u,a,s)}).catch(d=>{s(d)})}}).catch(u=>{s(u)})})}}async function gL(t,e,n,r=!1,i=!1){const a=new gxe(t);let s;if(i)s=PB;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function tv(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await gL(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await gL(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yxe(t,e){const n=f0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(pu(a,e??{}))return i;la(i,"already-initialized")}return n.initialize({options:e})}function vxe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(No);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bxe(t,e,n){const r=gl(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=MB(e),{host:s,port:u}=_xe(e),c=u===null?"":`:${u}`,d={url:`${a}//${s}${c}/`},h=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(pu(d,r.config.emulator)&&pu(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ml(s)?(GS(`${a}//${s}${c}`),$S("Auth",!0)):xxe()}function MB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _xe(t){const e=MB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:yL(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:yL(s)}}}function yL(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xxe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ro("not implemented")}_getIdTokenResponse(e){return Ro("not implemented")}_linkToIdToken(e,n){return Ro("not implemented")}_getReauthenticationResolver(e){return Ro("not implemented")}}async function Exe(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Txe(t,e){return Tp(t,"POST","/v1/accounts:signInWithPassword",ts(t,e))}async function wxe(t,e){return ns(t,"POST","/v1/accounts:sendOobCode",ts(t,e))}async function Sxe(t,e){return wxe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Axe(t,e){return Tp(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}async function kxe(t,e){return Tp(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends eA{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tv(e,n,"signInWithPassword",Txe);case"emailLink":return Axe(e,{email:this._email,oobCode:this._password});default:la(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tv(e,r,"signUpPassword",Exe);case"emailLink":return kxe(e,{idToken:n,email:this._email,oobCode:this._password});default:la(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t,e){return Tp(t,"POST","/v1/accounts:signInWithIdp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cxe="http://localhost";class gu extends eA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):la("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new gu(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Wc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wc(e,n)}buildRequest(){const e={requestUri:Cxe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ixe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Rxe(t){const e=nh(rh(t)).link,n=e?nh(rh(e)).deep_link_id:null,r=nh(rh(t)).deep_link_id;return(r?nh(rh(r)).link:null)||r||n||e||t}class p0{constructor(e){const n=nh(rh(e)),r=n.apiKey??null,i=n.oobCode??null,a=Ixe(n.mode??null);Oe(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Rxe(e);try{return new p0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(){this.providerId=Cu.PROVIDER_ID}static credential(e,n){return Bh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=p0.parseLink(n);return Oe(r,"argument-error"),Bh._fromEmailAndCode(e,r.code,r.tenantId)}}Cu.PROVIDER_ID="password";Cu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends DB{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends wp{constructor(){super("facebook.com")}static credential(e){return gu._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends wp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gu._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return js.credential(n,r)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends wp{constructor(){super("github.com")}static credential(e){return gu._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends wp{constructor(){super("twitter.com")}static credential(e,n){return gu._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nxe(t,e){return Tp(t,"POST","/v1/accounts:signUp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ia._fromIdTokenResponse(e,r,i),s=vL(r);return new yu({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=vL(r);return new yu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function vL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv extends ro{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,nv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new nv(e,n,r,i)}}function OB(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?nv._fromErrorAndOperation(t,a,e,r):a})}async function Pxe(t,e,n=!1){const r=await Fh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mxe(t,e,n=!1){const{auth:r}=t;if(jr(r.app))return Promise.reject($a(r));const i="reauthenticate";try{const a=await Fh(t,OB(r,i,e,t),n);Oe(a.idToken,r,"internal-error");const s=QS(a.idToken);Oe(s,r,"internal-error");const{sub:u}=s;return Oe(t.uid===u,r,"user-mismatch"),yu._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&la(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LB(t,e,n=!1){if(jr(t.app))return Promise.reject($a(t));const r="signIn",i=await OB(t,r,e),a=await yu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function UB(t,e){return LB(gl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dxe(t,e,n){var r;Oe(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),Oe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Oe(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Oe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Oe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VB(t){const e=gl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Oxe(t,e,n){if(jr(t.app))return Promise.reject($a(t));const r=gl(t),s=await tv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nxe).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&VB(t),c}),u=await yu._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(u.user),u}function Lxe(t,e,n){return jr(t.app)?Promise.reject($a(t)):UB($t(t),Cu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VB(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uxe(t,e,n){const r=gl(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(s,u){Oe(u.handleCodeInApp,r,"argument-error"),u&&Dxe(r,s,u)}a(i,n),await tv(r,i,"getOobCode",Sxe)}function Vxe(t,e){const n=p0.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Fxe(t,e,n){if(jr(t.app))return Promise.reject($a(t));const r=$t(t),i=Cu.credentialWithLink(e,n||Qy());return Oe(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),UB(r,i)}function Bxe(t,e,n,r){return $t(t).onIdTokenChanged(e,n,r)}function jxe(t,e,n){return $t(t).beforeAuthStateChanged(e,n)}function zxe(t,e,n,r){return $t(t).onAuthStateChanged(e,n,r)}function qxe(t){return $t(t).signOut()}const rv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rv,"1"),this.storage.removeItem(rv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hxe=1e3,Gxe=10;class BB extends FB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);rxe()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Gxe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Hxe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BB.type="LOCAL";const $xe=BB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB extends FB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jB.type="SESSION";const zB=jB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kxe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new m0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async d=>d(n.origin,a)),c=await Kxe(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}m0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wxe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const d=tA("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(g.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(){return window}function Yxe(t){Ka().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(){return typeof Ka().WorkerGlobalScope<"u"&&typeof Ka().importScripts=="function"}async function Jxe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xxe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Qxe(){return qB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB="firebaseLocalStorageDb",Zxe=1,iv="firebaseLocalStorage",GB="fbase_key";class Sp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function g0(t,e){return t.transaction([iv],e?"readwrite":"readonly").objectStore(iv)}function eEe(){const t=indexedDB.deleteDatabase(HB);return new Sp(t).toPromise()}function xT(){const t=indexedDB.open(HB,Zxe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(iv,{keyPath:GB})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(iv)?e(r):(r.close(),await eEe(),e(await xT()))})})}async function bL(t,e,n){const r=g0(t,!0).put({[GB]:e,value:n});return new Sp(r).toPromise()}async function tEe(t,e){const n=g0(t,!1).get(e),r=await new Sp(n).toPromise();return r===void 0?null:r.value}function _L(t,e){const n=g0(t,!0).delete(e);return new Sp(n).toPromise()}const nEe=800,rEe=3;class $B{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rEe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=m0._getInstance(Qxe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Jxe(),!this.activeServiceWorker)return;this.sender=new Wxe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xxe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xT();return await bL(e,rv,"1"),await _L(e,rv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bL(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tEe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_L(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=g0(i,!1).getAll();return new Sp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nEe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$B.type="LOCAL";const iEe=$B;new Ep(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aEe(t,e){return e?No(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA extends eA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oEe(t){return LB(t.auth,new nA(t),t.bypassAuthState)}function sEe(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),Mxe(n,new nA(t),t.bypassAuthState)}async function lEe(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),Pxe(n,new nA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oEe;case"linkViaPopup":case"linkViaRedirect":return lEe;case"reauthViaPopup":case"reauthViaRedirect":return sEe;default:la(this.auth,"internal-error")}}resolve(e){Ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uEe=new Ep(2e3,1e4);class Dc extends KB{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Dc.currentPopupAction&&Dc.currentPopupAction.cancel(),Dc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Ho(this.filter.length===1,"Popup operations only handle one event");const e=tA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ga(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ga(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ga(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uEe.get())};e()}}Dc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cEe="pendingRedirect",$g=new Map;class dEe extends KB{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$g.get(this.auth._key());if(!e){try{const r=await fEe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$g.set(this.auth._key(),e)}return this.bypassAuthState||$g.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fEe(t,e){const n=mEe(e),r=pEe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function hEe(t,e){$g.set(t._key(),e)}function pEe(t){return No(t._redirectPersistence)}function mEe(t){return Gg(cEe,t.config.apiKey,t.name)}async function gEe(t,e,n=!1){if(jr(t.app))return Promise.reject($a(t));const r=gl(t),i=aEe(r,e),s=await new dEe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yEe=600*1e3;class vEe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bEe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WB(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ga(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yEe&&this.cachedEventUids.clear(),this.cachedEventUids.has(xL(e))}saveEventToCache(e){this.cachedEventUids.add(xL(e)),this.lastProcessedEventTime=Date.now()}}function xL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bEe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Ee(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xEe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EEe=/^https?/;async function TEe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _Ee(t);for(const n of e)try{if(wEe(n))return}catch{}la(t,"unauthorized-domain")}function wEe(t){const e=Qy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!EEe.test(n))return!1;if(xEe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SEe=new Ep(3e4,6e4);function EL(){const t=Ka().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AEe(t){return new Promise((e,n)=>{var i,a,s;function r(){EL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EL(),n(Ga(t,"network-request-failed"))},timeout:SEe.get()})}if((a=(i=Ka().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=Ka().gapi)!=null&&s.load)r();else{const u=fxe("iframefcb");return Ka()[u]=()=>{gapi.load?r():n(Ga(t,"network-request-failed"))},NB(`${dxe()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Kg=null,e})}let Kg=null;function kEe(t){return Kg=Kg||AEe(t),Kg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CEe=new Ep(5e3,15e3),IEe="__/auth/iframe",REe="emulator/auth/iframe",NEe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PEe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MEe(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?XS(e,REe):`https://${t.config.authDomain}/${IEe}`,r={apiKey:e.apiKey,appName:t.name,v:ku},i=PEe.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${xp(r).slice(1)}`}async function DEe(t){const e=await kEe(t),n=Ka().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:MEe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NEe,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Ga(t,"network-request-failed"),u=Ka().setTimeout(()=>{a(s)},CEe.get());function c(){Ka().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OEe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LEe=500,UEe=600,VEe="_blank",FEe="http://localhost";class TL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BEe(t,e,n,r=LEe,i=UEe){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...OEe,width:r.toString(),height:i.toString(),top:a,left:s},d=_r().toLowerCase();n&&(u=wB(d)?VEe:n),EB(d)&&(e=e||FEe,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[v,w])=>`${g}${v}=${w},`,"");if(nxe(d)&&u!=="_self")return jEe(e||"",u),new TL(null);const p=window.open(e||"",u,h);Oe(p,t,"popup-blocked");try{p.focus()}catch{}return new TL(p)}function jEe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zEe="__/auth/handler",qEe="emulator/auth/handler",HEe=encodeURIComponent("fac");async function wL(t,e,n,r,i,a){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ku,eventId:i};if(e instanceof DB){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",wbe(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))s[h]=p}if(e instanceof wp){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),d=c?`#${HEe}=${encodeURIComponent(c)}`:"";return`${GEe(t)}?${xp(u).slice(1)}${d}`}function GEe({config:t}){return t.emulator?XS(t,qEe):`https://${t.authDomain}/${zEe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="webStorageSupport";class $Ee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zB,this._completeRedirectFn=gEe,this._overrideRedirectResult=hEe}async _openPopup(e,n,r,i){var s;Ho((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await wL(e,n,r,Qy(),i);return BEe(e,a,tA())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await wL(e,n,r,Qy(),i);return Yxe(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ho(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DEe(e),r=new vEe(e);return n.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(UE,{type:UE},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[UE];a!==void 0&&n(!!a),la(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TEe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IB()||TB()||ZS()}}const KEe=$Ee;var SL="@firebase/auth",AL="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WEe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YEe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JEe(t){mu(new nl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;Oe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RB(t)},d=new lxe(r,i,a,c);return vxe(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mu(new nl("auth-internal",e=>{const n=gl(e.getProvider("auth").getImmediate());return(r=>new WEe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ha(SL,AL,YEe(t)),Ha(SL,AL,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XEe=300,QEe=sB("authIdTokenMaxAge")||XEe;let kL=null;const ZEe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QEe)return;const i=n==null?void 0:n.token;kL!==i&&(kL=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function e1e(t=YS()){const e=f0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yxe(t,{popupRedirectResolver:KEe,persistence:[iEe,$xe,zB]}),r=sB("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=ZEe(a.toString());jxe(n,s,()=>s(n.currentUser)),Bxe(n,u=>s(u))}}const i=iB("auth");return i&&bxe(n,`http://${i}`),n}function t1e(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}uxe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ga("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",t1e().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JEe("Browser");var n1e="firebase",r1e="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ha(n1e,r1e,"app");var CL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,YB;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,O){function L(){}L.prototype=O.prototype,D.F=O.prototype,D.prototype=new L,D.prototype.constructor=D,D.D=function(B,P,j){for(var H=Array(arguments.length-2),de=2;de<arguments.length;de++)H[de-2]=arguments[de];return O.prototype[P].apply(B,H)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,O,L){L||(L=0);const B=Array(16);if(typeof O=="string")for(var P=0;P<16;++P)B[P]=O.charCodeAt(L++)|O.charCodeAt(L++)<<8|O.charCodeAt(L++)<<16|O.charCodeAt(L++)<<24;else for(P=0;P<16;++P)B[P]=O[L++]|O[L++]<<8|O[L++]<<16|O[L++]<<24;O=D.g[0],L=D.g[1],P=D.g[2];let j=D.g[3],H;H=O+(j^L&(P^j))+B[0]+3614090360&4294967295,O=L+(H<<7&4294967295|H>>>25),H=j+(P^O&(L^P))+B[1]+3905402710&4294967295,j=O+(H<<12&4294967295|H>>>20),H=P+(L^j&(O^L))+B[2]+606105819&4294967295,P=j+(H<<17&4294967295|H>>>15),H=L+(O^P&(j^O))+B[3]+3250441966&4294967295,L=P+(H<<22&4294967295|H>>>10),H=O+(j^L&(P^j))+B[4]+4118548399&4294967295,O=L+(H<<7&4294967295|H>>>25),H=j+(P^O&(L^P))+B[5]+1200080426&4294967295,j=O+(H<<12&4294967295|H>>>20),H=P+(L^j&(O^L))+B[6]+2821735955&4294967295,P=j+(H<<17&4294967295|H>>>15),H=L+(O^P&(j^O))+B[7]+4249261313&4294967295,L=P+(H<<22&4294967295|H>>>10),H=O+(j^L&(P^j))+B[8]+1770035416&4294967295,O=L+(H<<7&4294967295|H>>>25),H=j+(P^O&(L^P))+B[9]+2336552879&4294967295,j=O+(H<<12&4294967295|H>>>20),H=P+(L^j&(O^L))+B[10]+4294925233&4294967295,P=j+(H<<17&4294967295|H>>>15),H=L+(O^P&(j^O))+B[11]+2304563134&4294967295,L=P+(H<<22&4294967295|H>>>10),H=O+(j^L&(P^j))+B[12]+1804603682&4294967295,O=L+(H<<7&4294967295|H>>>25),H=j+(P^O&(L^P))+B[13]+4254626195&4294967295,j=O+(H<<12&4294967295|H>>>20),H=P+(L^j&(O^L))+B[14]+2792965006&4294967295,P=j+(H<<17&4294967295|H>>>15),H=L+(O^P&(j^O))+B[15]+1236535329&4294967295,L=P+(H<<22&4294967295|H>>>10),H=O+(P^j&(L^P))+B[1]+4129170786&4294967295,O=L+(H<<5&4294967295|H>>>27),H=j+(L^P&(O^L))+B[6]+3225465664&4294967295,j=O+(H<<9&4294967295|H>>>23),H=P+(O^L&(j^O))+B[11]+643717713&4294967295,P=j+(H<<14&4294967295|H>>>18),H=L+(j^O&(P^j))+B[0]+3921069994&4294967295,L=P+(H<<20&4294967295|H>>>12),H=O+(P^j&(L^P))+B[5]+3593408605&4294967295,O=L+(H<<5&4294967295|H>>>27),H=j+(L^P&(O^L))+B[10]+38016083&4294967295,j=O+(H<<9&4294967295|H>>>23),H=P+(O^L&(j^O))+B[15]+3634488961&4294967295,P=j+(H<<14&4294967295|H>>>18),H=L+(j^O&(P^j))+B[4]+3889429448&4294967295,L=P+(H<<20&4294967295|H>>>12),H=O+(P^j&(L^P))+B[9]+568446438&4294967295,O=L+(H<<5&4294967295|H>>>27),H=j+(L^P&(O^L))+B[14]+3275163606&4294967295,j=O+(H<<9&4294967295|H>>>23),H=P+(O^L&(j^O))+B[3]+4107603335&4294967295,P=j+(H<<14&4294967295|H>>>18),H=L+(j^O&(P^j))+B[8]+1163531501&4294967295,L=P+(H<<20&4294967295|H>>>12),H=O+(P^j&(L^P))+B[13]+2850285829&4294967295,O=L+(H<<5&4294967295|H>>>27),H=j+(L^P&(O^L))+B[2]+4243563512&4294967295,j=O+(H<<9&4294967295|H>>>23),H=P+(O^L&(j^O))+B[7]+1735328473&4294967295,P=j+(H<<14&4294967295|H>>>18),H=L+(j^O&(P^j))+B[12]+2368359562&4294967295,L=P+(H<<20&4294967295|H>>>12),H=O+(L^P^j)+B[5]+4294588738&4294967295,O=L+(H<<4&4294967295|H>>>28),H=j+(O^L^P)+B[8]+2272392833&4294967295,j=O+(H<<11&4294967295|H>>>21),H=P+(j^O^L)+B[11]+1839030562&4294967295,P=j+(H<<16&4294967295|H>>>16),H=L+(P^j^O)+B[14]+4259657740&4294967295,L=P+(H<<23&4294967295|H>>>9),H=O+(L^P^j)+B[1]+2763975236&4294967295,O=L+(H<<4&4294967295|H>>>28),H=j+(O^L^P)+B[4]+1272893353&4294967295,j=O+(H<<11&4294967295|H>>>21),H=P+(j^O^L)+B[7]+4139469664&4294967295,P=j+(H<<16&4294967295|H>>>16),H=L+(P^j^O)+B[10]+3200236656&4294967295,L=P+(H<<23&4294967295|H>>>9),H=O+(L^P^j)+B[13]+681279174&4294967295,O=L+(H<<4&4294967295|H>>>28),H=j+(O^L^P)+B[0]+3936430074&4294967295,j=O+(H<<11&4294967295|H>>>21),H=P+(j^O^L)+B[3]+3572445317&4294967295,P=j+(H<<16&4294967295|H>>>16),H=L+(P^j^O)+B[6]+76029189&4294967295,L=P+(H<<23&4294967295|H>>>9),H=O+(L^P^j)+B[9]+3654602809&4294967295,O=L+(H<<4&4294967295|H>>>28),H=j+(O^L^P)+B[12]+3873151461&4294967295,j=O+(H<<11&4294967295|H>>>21),H=P+(j^O^L)+B[15]+530742520&4294967295,P=j+(H<<16&4294967295|H>>>16),H=L+(P^j^O)+B[2]+3299628645&4294967295,L=P+(H<<23&4294967295|H>>>9),H=O+(P^(L|~j))+B[0]+4096336452&4294967295,O=L+(H<<6&4294967295|H>>>26),H=j+(L^(O|~P))+B[7]+1126891415&4294967295,j=O+(H<<10&4294967295|H>>>22),H=P+(O^(j|~L))+B[14]+2878612391&4294967295,P=j+(H<<15&4294967295|H>>>17),H=L+(j^(P|~O))+B[5]+4237533241&4294967295,L=P+(H<<21&4294967295|H>>>11),H=O+(P^(L|~j))+B[12]+1700485571&4294967295,O=L+(H<<6&4294967295|H>>>26),H=j+(L^(O|~P))+B[3]+2399980690&4294967295,j=O+(H<<10&4294967295|H>>>22),H=P+(O^(j|~L))+B[10]+4293915773&4294967295,P=j+(H<<15&4294967295|H>>>17),H=L+(j^(P|~O))+B[1]+2240044497&4294967295,L=P+(H<<21&4294967295|H>>>11),H=O+(P^(L|~j))+B[8]+1873313359&4294967295,O=L+(H<<6&4294967295|H>>>26),H=j+(L^(O|~P))+B[15]+4264355552&4294967295,j=O+(H<<10&4294967295|H>>>22),H=P+(O^(j|~L))+B[6]+2734768916&4294967295,P=j+(H<<15&4294967295|H>>>17),H=L+(j^(P|~O))+B[13]+1309151649&4294967295,L=P+(H<<21&4294967295|H>>>11),H=O+(P^(L|~j))+B[4]+4149444226&4294967295,O=L+(H<<6&4294967295|H>>>26),H=j+(L^(O|~P))+B[11]+3174756917&4294967295,j=O+(H<<10&4294967295|H>>>22),H=P+(O^(j|~L))+B[2]+718787259&4294967295,P=j+(H<<15&4294967295|H>>>17),H=L+(j^(P|~O))+B[9]+3951481745&4294967295,D.g[0]=D.g[0]+O&4294967295,D.g[1]=D.g[1]+(P+(H<<21&4294967295|H>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+j&4294967295}r.prototype.v=function(D,O){O===void 0&&(O=D.length);const L=O-this.blockSize,B=this.C;let P=this.h,j=0;for(;j<O;){if(P==0)for(;j<=L;)i(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<O;)if(B[P++]=D.charCodeAt(j++),P==this.blockSize){i(this,B),P=0;break}}else for(;j<O;)if(B[P++]=D[j++],P==this.blockSize){i(this,B),P=0;break}}this.h=P,this.o+=O},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var O=1;O<D.length-8;++O)D[O]=0;O=this.o*8;for(var L=D.length-8;L<D.length;++L)D[L]=O&255,O/=256;for(this.v(D),D=Array(16),O=0,L=0;L<4;++L)for(let B=0;B<32;B+=8)D[O++]=this.g[L]>>>B&255;return D};function a(D,O){var L=u;return Object.prototype.hasOwnProperty.call(L,D)?L[D]:L[D]=O(D)}function s(D,O){this.h=O;const L=[];let B=!0;for(let P=D.length-1;P>=0;P--){const j=D[P]|0;B&&j==O||(L[P]=j,B=!1)}this.g=L}var u={};function c(D){return-128<=D&&D<128?a(D,function(O){return new s([O|0],O<0?-1:0)}):new s([D|0],D<0?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return p;if(D<0)return A(d(-D));const O=[];let L=1;for(let B=0;D>=L;B++)O[B]=D/L|0,L*=4294967296;return new s(O,0)}function h(D,O){if(D.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(D.charAt(0)=="-")return A(h(D.substring(1),O));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=d(Math.pow(O,8));let B=p;for(let j=0;j<D.length;j+=8){var P=Math.min(8,D.length-j);const H=parseInt(D.substring(j,j+P),O);P<8?(P=d(Math.pow(O,P)),B=B.j(P).add(d(H))):(B=B.j(L),B=B.add(d(H)))}return B}var p=c(0),g=c(1),v=c(16777216);t=s.prototype,t.m=function(){if(S(this))return-A(this).m();let D=0,O=1;for(let L=0;L<this.g.length;L++){const B=this.i(L);D+=(B>=0?B:4294967296+B)*O,O*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(S(this))return"-"+A(this).toString(D);const O=d(Math.pow(D,6));var L=this;let B="";for(;;){const P=F(L,O).g;L=C(L,P.j(O));let j=((L.g.length>0?L.g[0]:L.h)>>>0).toString(D);if(L=P,w(L))return j+B;for(;j.length<6;)j="0"+j;B=j+B}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(let O=0;O<D.g.length;O++)if(D.g[O]!=0)return!1;return!0}function S(D){return D.h==-1}t.l=function(D){return D=C(this,D),S(D)?-1:w(D)?0:1};function A(D){const O=D.g.length,L=[];for(let B=0;B<O;B++)L[B]=~D.g[B];return new s(L,~D.h).add(g)}t.abs=function(){return S(this)?A(this):this},t.add=function(D){const O=Math.max(this.g.length,D.g.length),L=[];let B=0;for(let P=0;P<=O;P++){let j=B+(this.i(P)&65535)+(D.i(P)&65535),H=(j>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);B=H>>>16,j&=65535,H&=65535,L[P]=H<<16|j}return new s(L,L[L.length-1]&-2147483648?-1:0)};function C(D,O){return D.add(A(O))}t.j=function(D){if(w(this)||w(D))return p;if(S(this))return S(D)?A(this).j(A(D)):A(A(this).j(D));if(S(D))return A(this.j(A(D)));if(this.l(v)<0&&D.l(v)<0)return d(this.m()*D.m());const O=this.g.length+D.g.length,L=[];for(var B=0;B<2*O;B++)L[B]=0;for(B=0;B<this.g.length;B++)for(let P=0;P<D.g.length;P++){const j=this.i(B)>>>16,H=this.i(B)&65535,de=D.i(P)>>>16,te=D.i(P)&65535;L[2*B+2*P]+=H*te,U(L,2*B+2*P),L[2*B+2*P+1]+=j*te,U(L,2*B+2*P+1),L[2*B+2*P+1]+=H*de,U(L,2*B+2*P+1),L[2*B+2*P+2]+=j*de,U(L,2*B+2*P+2)}for(D=0;D<O;D++)L[D]=L[2*D+1]<<16|L[2*D];for(D=O;D<2*O;D++)L[D]=0;return new s(L,0)};function U(D,O){for(;(D[O]&65535)!=D[O];)D[O+1]+=D[O]>>>16,D[O]&=65535,O++}function M(D,O){this.g=D,this.h=O}function F(D,O){if(w(O))throw Error("division by zero");if(w(D))return new M(p,p);if(S(D))return O=F(A(D),O),new M(A(O.g),A(O.h));if(S(O))return O=F(D,A(O)),new M(A(O.g),O.h);if(D.g.length>30){if(S(D)||S(O))throw Error("slowDivide_ only works with positive integers.");for(var L=g,B=O;B.l(D)<=0;)L=q(L),B=q(B);var P=V(L,1),j=V(B,1);for(B=V(B,2),L=V(L,2);!w(B);){var H=j.add(B);H.l(D)<=0&&(P=P.add(L),j=H),B=V(B,1),L=V(L,1)}return O=C(D,P.j(O)),new M(P,O)}for(P=p;D.l(O)>=0;){for(L=Math.max(1,Math.floor(D.m()/O.m())),B=Math.ceil(Math.log(L)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),j=d(L),H=j.j(O);S(H)||H.l(D)>0;)L-=B,j=d(L),H=j.j(O);w(j)&&(j=g),P=P.add(j),D=C(D,H)}return new M(P,D)}t.B=function(D){return F(this,D).h},t.and=function(D){const O=Math.max(this.g.length,D.g.length),L=[];for(let B=0;B<O;B++)L[B]=this.i(B)&D.i(B);return new s(L,this.h&D.h)},t.or=function(D){const O=Math.max(this.g.length,D.g.length),L=[];for(let B=0;B<O;B++)L[B]=this.i(B)|D.i(B);return new s(L,this.h|D.h)},t.xor=function(D){const O=Math.max(this.g.length,D.g.length),L=[];for(let B=0;B<O;B++)L[B]=this.i(B)^D.i(B);return new s(L,this.h^D.h)};function q(D){const O=D.g.length+1,L=[];for(let B=0;B<O;B++)L[B]=D.i(B)<<1|D.i(B-1)>>>31;return new s(L,D.h)}function V(D,O){const L=O>>5;O%=32;const B=D.g.length-L,P=[];for(let j=0;j<B;j++)P[j]=O>0?D.i(j+L)>>>O|D.i(j+L+1)<<32-O:D.i(j+L);return new s(P,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YB=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=h,Ys=s}).apply(typeof CL<"u"?CL:typeof self<"u"?self:typeof window<"u"?window:{});var Ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JB,ih,XB,Wg,ET,QB,ZB,ej;(function(){var t,e=Object.defineProperty;function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ig=="object"&&Ig];for(var k=0;k<_.length;++k){var N=_[k];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(_,k){if(k)e:{var N=r;_=_.split(".");for(var G=0;G<_.length-1;G++){var ne=_[G];if(!(ne in N))break e;N=N[ne]}_=_[_.length-1],G=N[_],k=k(G),k!=G&&k!=null&&e(N,_,{configurable:!0,writable:!0,value:k})}}i("Symbol.dispose",function(_){return _||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(_){return _||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(_){return _||function(k){var N=[],G;for(G in k)Object.prototype.hasOwnProperty.call(k,G)&&N.push([G,k[G]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function u(_){var k=typeof _;return k=="object"&&_!=null||k=="function"}function c(_,k,N){return _.call.apply(_.bind,arguments)}function d(_,k,N){return d=c,d.apply(null,arguments)}function h(_,k){var N=Array.prototype.slice.call(arguments,1);return function(){var G=N.slice();return G.push.apply(G,arguments),_.apply(this,G)}}function p(_,k){function N(){}N.prototype=k.prototype,_.Z=k.prototype,_.prototype=new N,_.prototype.constructor=_,_.Ob=function(G,ne,le){for(var Ae=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)Ae[Je-2]=arguments[Je];return k.prototype[ne].apply(G,Ae)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?_=>_&&AsyncContext.Snapshot.wrap(_):_=>_;function v(_){const k=_.length;if(k>0){const N=Array(k);for(let G=0;G<k;G++)N[G]=_[G];return N}return[]}function w(_,k){for(let G=1;G<arguments.length;G++){const ne=arguments[G];var N=typeof ne;if(N=N!="object"?N:ne?Array.isArray(ne)?"array":N:"null",N=="array"||N=="object"&&typeof ne.length=="number"){N=_.length||0;const le=ne.length||0;_.length=N+le;for(let Ae=0;Ae<le;Ae++)_[N+Ae]=ne[Ae]}else _.push(ne)}}class S{constructor(k,N){this.i=k,this.j=N,this.h=0,this.g=null}get(){let k;return this.h>0?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function A(_){s.setTimeout(()=>{throw _},0)}function C(){var _=D;let k=null;return _.g&&(k=_.g,_.g=_.g.next,_.g||(_.h=null),k.next=null),k}class U{constructor(){this.h=this.g=null}add(k,N){const G=M.get();G.set(k,N),this.h?this.h.next=G:this.g=G,this.h=G}}var M=new S(()=>new F,_=>_.reset());class F{constructor(){this.next=this.g=this.h=null}set(k,N){this.h=k,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let q,V=!1,D=new U,O=()=>{const _=Promise.resolve(void 0);q=()=>{_.then(L)}};function L(){for(var _;_=C();){try{_.h.call(_.g)}catch(N){A(N)}var k=M;k.j(_),k.h<100&&(k.h++,_.next=k.g,k.g=_)}V=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(_,k){this.type=_,this.g=this.target=k,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var _=!1,k=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const N=()=>{};s.addEventListener("test",N,k),s.removeEventListener("test",N,k)}catch{}return _})();function H(_){return/^[\s\xa0]*$/.test(_)}function de(_,k){P.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_&&this.init(_,k)}p(de,P),de.prototype.init=function(_,k){const N=this.type=_.type,G=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;this.target=_.target||_.srcElement,this.g=k,k=_.relatedTarget,k||(N=="mouseover"?k=_.fromElement:N=="mouseout"&&(k=_.toElement)),this.relatedTarget=k,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=_.pointerType,this.state=_.state,this.i=_,_.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),X=0;function K(_,k,N,G,ne){this.listener=_,this.proxy=null,this.src=k,this.type=N,this.capture=!!G,this.ha=ne,this.key=++X,this.da=this.fa=!1}function ae(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function me(_,k,N){for(const G in _)k.call(N,_[G],G,_)}function W(_,k){for(const N in _)k.call(void 0,_[N],N,_)}function Y(_){const k={};for(const N in _)k[N]=_[N];return k}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(_,k){let N,G;for(let ne=1;ne<arguments.length;ne++){G=arguments[ne];for(N in G)_[N]=G[N];for(let le=0;le<se.length;le++)N=se[le],Object.prototype.hasOwnProperty.call(G,N)&&(_[N]=G[N])}}function ee(_){this.src=_,this.g={},this.h=0}ee.prototype.add=function(_,k,N,G,ne){const le=_.toString();_=this.g[le],_||(_=this.g[le]=[],this.h++);const Ae=_e(_,k,G,ne);return Ae>-1?(k=_[Ae],N||(k.fa=!1)):(k=new K(k,this.src,le,!!G,ne),k.fa=N,_.push(k)),k};function ye(_,k){const N=k.type;if(N in _.g){var G=_.g[N],ne=Array.prototype.indexOf.call(G,k,void 0),le;(le=ne>=0)&&Array.prototype.splice.call(G,ne,1),le&&(ae(k),_.g[N].length==0&&(delete _.g[N],_.h--))}}function _e(_,k,N,G){for(let ne=0;ne<_.length;++ne){const le=_[ne];if(!le.da&&le.listener==k&&le.capture==!!N&&le.ha==G)return ne}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),He={};function fe(_,k,N,G,ne){if(Array.isArray(k)){for(let le=0;le<k.length;le++)fe(_,k[le],N,G,ne);return null}return N=ha(N),_&&_[te]?_.J(k,N,u(G)?!!G.capture:!1,ne):Ve(_,k,N,!1,G,ne)}function Ve(_,k,N,G,ne,le){if(!k)throw Error("Invalid event type");const Ae=u(ne)?!!ne.capture:!!ne;let Je=Kt(_);if(Je||(_[Se]=Je=new ee(_)),N=Je.add(k,N,G,Ae,le),N.proxy)return N;if(G=Ge(),N.proxy=G,G.src=_,G.listener=N,_.addEventListener)j||(ne=Ae),ne===void 0&&(ne=!1),_.addEventListener(k.toString(),G,ne);else if(_.attachEvent)_.attachEvent(et(k.toString()),G);else if(_.addListener&&_.removeListener)_.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Ge(){function _(N){return k.call(_.src,_.listener,N)}const k=tn;return _}function Ee(_,k,N,G,ne){if(Array.isArray(k))for(var le=0;le<k.length;le++)Ee(_,k[le],N,G,ne);else G=u(G)?!!G.capture:!!G,N=ha(N),_&&_[te]?(_=_.i,le=String(k).toString(),le in _.g&&(k=_.g[le],N=_e(k,N,G,ne),N>-1&&(ae(k[N]),Array.prototype.splice.call(k,N,1),k.length==0&&(delete _.g[le],_.h--)))):_&&(_=Kt(_))&&(k=_.g[k.toString()],_=-1,k&&(_=_e(k,N,G,ne)),(N=_>-1?k[_]:null)&&Bt(N))}function Bt(_){if(typeof _!="number"&&_&&!_.da){var k=_.src;if(k&&k[te])ye(k.i,_);else{var N=_.type,G=_.proxy;k.removeEventListener?k.removeEventListener(N,G,_.capture):k.detachEvent?k.detachEvent(et(N),G):k.addListener&&k.removeListener&&k.removeListener(G),(N=Kt(k))?(ye(N,_),N.h==0&&(N.src=null,k[Se]=null)):ae(_)}}}function et(_){return _ in He?He[_]:He[_]="on"+_}function tn(_,k){if(_.da)_=!0;else{k=new de(k,this);const N=_.listener,G=_.ha||_.src;_.fa&&Bt(_),_=N.call(G,k)}return _}function Kt(_){return _=_[Se],_ instanceof ee?_:null}var ur="__closure_events_fn_"+(Math.random()*1e9>>>0);function ha(_){return typeof _=="function"?_:(_[ur]||(_[ur]=function(k){return _.handleEvent(k)}),_[ur])}function Qt(){B.call(this),this.i=new ee(this),this.M=this,this.G=null}p(Qt,B),Qt.prototype[te]=!0,Qt.prototype.removeEventListener=function(_,k,N,G){Ee(this,_,k,N,G)};function nn(_,k){var N,G=_.G;if(G)for(N=[];G;G=G.G)N.push(G);if(_=_.M,G=k.type||k,typeof k=="string")k=new P(k,_);else if(k instanceof P)k.target=k.target||_;else{var ne=k;k=new P(G,_),$(k,ne)}ne=!0;let le,Ae;if(N)for(Ae=N.length-1;Ae>=0;Ae--)le=k.g=N[Ae],ne=pa(le,G,!0,k)&&ne;if(le=k.g=_,ne=pa(le,G,!0,k)&&ne,ne=pa(le,G,!1,k)&&ne,N)for(Ae=0;Ae<N.length;Ae++)le=k.g=N[Ae],ne=pa(le,G,!1,k)&&ne}Qt.prototype.N=function(){if(Qt.Z.N.call(this),this.i){var _=this.i;for(const k in _.g){const N=_.g[k];for(let G=0;G<N.length;G++)ae(N[G]);delete _.g[k],_.h--}}this.G=null},Qt.prototype.J=function(_,k,N,G){return this.i.add(String(_),k,!1,N,G)},Qt.prototype.K=function(_,k,N,G){return this.i.add(String(_),k,!0,N,G)};function pa(_,k,N,G){if(k=_.i.g[String(k)],!k)return!0;k=k.concat();let ne=!0;for(let le=0;le<k.length;++le){const Ae=k[le];if(Ae&&!Ae.da&&Ae.capture==N){const Je=Ae.listener,un=Ae.ha||Ae.src;Ae.fa&&ye(_.i,Ae),ne=Je.call(un,G)!==!1&&ne}}return ne&&!G.defaultPrevented}function Ld(_,k){if(typeof _!="function")if(_&&typeof _.handleEvent=="function")_=d(_.handleEvent,_);else throw Error("Invalid listener argument");return Number(k)>2147483647?-1:s.setTimeout(_,k||0)}function Nu(_){_.g=Ld(()=>{_.g=null,_.i&&(_.i=!1,Nu(_))},_.l);const k=_.h;_.h=null,_.m.apply(null,k)}class Yn extends B{constructor(k,N){super(),this.m=k,this.l=N,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Nu(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function io(_){B.call(this),this.h=_,this.g={}}p(io,B);var pe=[];function we(_){me(_.g,function(k,N){this.g.hasOwnProperty(N)&&Bt(k)},_),_.g={}}io.prototype.N=function(){io.Z.N.call(this),we(this)},io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Be=s.JSON.stringify,tt=s.JSON.parse,ft=class{stringify(_){return s.JSON.stringify(_,void 0)}parse(_){return s.JSON.parse(_,void 0)}};function cr(){}function mi(){}var ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){P.call(this,"d")}p(Zt,P);function Vn(){P.call(this,"c")}p(Vn,P);var ut={},qi=null;function dr(){return qi=qi||new Qt}ut.Ia="serverreachability";function Up(_){P.call(this,ut.Ia,_)}p(Up,P);function ma(_){const k=dr();nn(k,new Up(k))}ut.STAT_EVENT="statevent";function _l(_,k){P.call(this,ut.STAT_EVENT,_),this.stat=k}p(_l,P);function yn(_){const k=dr();nn(k,new _l(k,_))}ut.Ja="timingevent";function ga(_,k){P.call(this,ut.Ja,_),this.size=k}p(ga,P);function ya(_,k){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){_()},k)}function Hi(){this.g=!0}Hi.prototype.ua=function(){this.g=!1};function D0(_,k,N,G,ne,le){_.info(function(){if(_.g)if(le){var Ae="",Je=le.split("&");for(let yt=0;yt<Je.length;yt++){var un=Je[yt].split("=");if(un.length>1){const Wt=un[0];un=un[1];const bi=Wt.split("_");Ae=bi.length>=2&&bi[1]=="type"?Ae+(Wt+"="+un+"&"):Ae+(Wt+"=redacted&")}}}else Ae=null;else Ae=le;return"XMLHTTP REQ ("+G+") [attempt "+ne+"]: "+k+`
`+N+`
`+Ae})}function Vp(_,k,N,G,ne,le,Ae){_.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ne+"]: "+k+`
`+N+`
`+le+" "+Ae})}function va(_,k,N,G){_.info(function(){return"XMLHTTP TEXT ("+k+"): "+O0(_,N)+(G?" "+G:"")})}function xl(_,k){_.info(function(){return"TIMEOUT: "+k})}Hi.prototype.info=function(){};function O0(_,k){if(!_.g)return k;if(!k)return null;try{const le=JSON.parse(k);if(le){for(_=0;_<le.length;_++)if(Array.isArray(le[_])){var N=le[_];if(!(N.length<2)){var G=N[1];if(Array.isArray(G)&&!(G.length<1)){var ne=G[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let Ae=1;Ae<G.length;Ae++)G[Ae]=""}}}}return Be(le)}catch{return k}}var El={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ud={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vd;function Tl(){}p(Tl,cr),Tl.prototype.g=function(){return new XMLHttpRequest},Vd=new Tl;function ao(_){return encodeURIComponent(String(_))}function Fp(_){var k=1;_=_.split(":");const N=[];for(;k>0&&_.length;)N.push(_.shift()),k--;return _.length&&N.push(_.join(":")),N}function Gi(_,k,N,G){this.j=_,this.i=k,this.l=N,this.S=G||1,this.V=new io(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $i}function $i(){this.i=null,this.g="",this.h=!1}var vn={},Fn={};function ba(_,k,N){_.M=1,_.A=wl(_n(k)),_.u=N,_.R=!0,Pu(_,null)}function Pu(_,k){_.F=Date.now(),_a(_),_.B=_n(_.A);var N=_.B,G=_.S;Array.isArray(G)||(G=[String(G)]),Lu(N.i,"t",G),_.C=0,N=_.j.L,_.h=new $i,_.g=em(_.j,N?k:null,!_.u),_.P>0&&(_.O=new Yn(d(_.Y,_,_.g),_.P)),k=_.V,N=_.g,G=_.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(pe[0]=ne.toString()),ne=pe);for(let le=0;le<ne.length;le++){const Ae=fe(N,ne[le],G||k.handleEvent,!1,k.h||k);if(!Ae)break;k.g[Ae.key]=Ae}k=_.J?Y(_.J):{},_.u?(_.v||(_.v="POST"),k["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.B,_.v,_.u,k)):(_.v="GET",_.g.ea(_.B,_.v,null,k)),ma(),D0(_.i,_.v,_.B,_.l,_.S,_.u)}Gi.prototype.ba=function(_){_=_.target;const k=this.O;k&&Yi(_)==3?k.j():this.Y(_)},Gi.prototype.Y=function(_){try{if(_==this.g)e:{const Je=Yi(this.g),un=this.g.ya(),yt=this.g.ca();if(!(Je<3)&&(Je!=3||this.g&&(this.h.h||this.g.la()||Jn(this.g)))){this.K||Je!=4||un==7||(un==8||yt<=0?ma(3):ma(2)),xa(this);var k=this.g.ca();this.X=k;var N=L0(this);if(this.o=k==200,Vp(this.i,this.v,this.B,this.l,this.S,Je,k),this.o){if(this.U&&!this.L){t:{if(this.g){var G,ne=this.g;if((G=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(G)){var le=G;break t}}le=null}if(_=le)va(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ea(this,_);else{this.o=!1,this.m=3,yn(12),Wr(this),gi(this);break e}}if(this.R){_=!0;let Wt;for(;!this.K&&this.C<N.length;)if(Wt=jp(this,N),Wt==Fn){Je==4&&(this.m=4,yn(14),_=!1),va(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==vn){this.m=4,yn(15),va(this.i,this.l,N,"[Invalid Chunk]"),_=!1;break}else va(this.i,this.l,Wt,null),Ea(this,Wt);if(Bp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||N.length!=0||this.h.h||(this.m=1,yn(16),_=!1),this.o=this.o&&_,!_)va(this.i,this.l,N,"[Invalid Chunked Response]"),Wr(this),gi(this);else if(N.length>0&&!this.W){this.W=!0;var Ae=this.j;Ae.g==this&&Ae.aa&&!Ae.P&&(Ae.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Zd(Ae),Ae.P=!0,yn(11))}}else va(this.i,this.l,N,null),Ea(this,N);Je==4&&Wr(this),this.o&&!this.K&&(Je==4?Jp(this.j,this):(this.o=!1,_a(this)))}else so(this.g),k==400&&N.indexOf("Unknown SID")>0?(this.m=3,yn(12)):(this.m=0,yn(13)),Wr(this),gi(this)}}}catch{}finally{}};function L0(_){if(!Bp(_))return _.g.la();const k=Jn(_.g);if(k==="")return"";let N="";const G=k.length,ne=Yi(_.g)==4;if(!_.h.i){if(typeof TextDecoder>"u")return Wr(_),gi(_),"";_.h.i=new s.TextDecoder}for(let le=0;le<G;le++)_.h.h=!0,N+=_.h.i.decode(k[le],{stream:!(ne&&le==G-1)});return k.length=0,_.h.g+=N,_.C=0,_.h.g}function Bp(_){return _.g?_.v=="GET"&&_.M!=2&&_.j.Aa:!1}function jp(_,k){var N=_.C,G=k.indexOf(`
`,N);return G==-1?Fn:(N=Number(k.substring(N,G)),isNaN(N)?vn:(G+=1,G+N>k.length?Fn:(k=k.slice(G,G+N),_.C=G+N,k)))}Gi.prototype.cancel=function(){this.K=!0,Wr(this)};function _a(_){_.T=Date.now()+_.H,Mu(_,_.H)}function Mu(_,k){if(_.D!=null)throw Error("WatchDog timer not null");_.D=ya(d(_.aa,_),k)}function xa(_){_.D&&(s.clearTimeout(_.D),_.D=null)}Gi.prototype.aa=function(){this.D=null;const _=Date.now();_-this.T>=0?(xl(this.i,this.B),this.M!=2&&(ma(),yn(17)),Wr(this),this.m=2,gi(this)):Mu(this,this.T-_)};function gi(_){_.j.I==0||_.K||Jp(_.j,_)}function Wr(_){xa(_);var k=_.O;k&&typeof k.dispose=="function"&&k.dispose(),_.O=null,we(_.V),_.g&&(k=_.g,_.g=null,k.abort(),k.dispose())}function Ea(_,k){try{var N=_.j;if(N.I!=0&&(N.g==_||wa(N.h,_))){if(!_.L&&wa(N.h,_)&&N.I==3){try{var G=N.Ba.g.parse(k)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ne=G;if(ne[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<_.F)ju(N),cs(N);else break e;Nl(N),yn(18)}}else N.xa=ne[1],0<N.xa-N.K&&ne[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=ya(d(N.Va,N),6e3));Ta(N.h)<=1&&N.ta&&(N.ta=void 0)}else Ra(N,11)}else if((_.L||N.g==_)&&ju(N),!H(k))for(ne=N.Ba.g.parse(k),k=0;k<ne.length;k++){let yt=ne[k];const Wt=yt[0];if(!(Wt<=N.K))if(N.K=Wt,yt=yt[1],N.I==2)if(yt[0]=="c"){N.M=yt[1],N.ba=yt[2];const bi=yt[3];bi!=null&&(N.ka=bi,N.j.info("VER="+N.ka));const Na=yt[4];Na!=null&&(N.za=Na,N.j.info("SVER="+N.za));const Ji=yt[5];Ji!=null&&typeof Ji=="number"&&Ji>0&&(G=1.5*Ji,N.O=G,N.j.info("backChannelRequestTimeoutMs_="+G)),G=N;const Xi=_.g;if(Xi){const Pl=Xi.g?Xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var le=G.h;le.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(jd(le,le.h),le.h=null))}if(G.G){const zu=Xi.g?Xi.g.getResponseHeader("X-HTTP-Session-Id"):null;zu&&(G.wa=zu,Et(G.J,G.G,zu))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-_.F,N.j.info("Handshake RTT: "+N.T+"ms")),G=N;var Ae=_;if(G.na=Zp(G,G.L?G.ba:null,G.W),Ae.L){zd(G.h,Ae);var Je=Ae,un=G.O;un&&(Je.H=un),Je.D&&(xa(Je),_a(Je)),G.g=Ae}else Wp(G);N.i.length>0&&Ia(N)}else yt[0]!="stop"&&yt[0]!="close"||Ra(N,7);else N.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?Ra(N,7):Xd(N):yt[0]!="noop"&&N.l&&N.l.qa(yt),N.A=0)}}ma(4)}catch{}}var bn=class{constructor(_,k){this.g=_,this.map=k}};function Fd(_){this.l=_||10,s.PerformanceNavigationTiming?(_=s.performance.getEntriesByType("navigation"),_=_.length>0&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bd(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Ta(_){return _.h?1:_.g?_.g.size:0}function wa(_,k){return _.h?_.h==k:_.g?_.g.has(k):!1}function jd(_,k){_.g?_.g.add(k):_.h=k}function zd(_,k){_.h&&_.h==k?_.h=null:_.g&&_.g.has(k)&&_.g.delete(k)}Fd.prototype.cancel=function(){if(this.i=qd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function qd(_){if(_.h!=null)return _.i.concat(_.h.G);if(_.g!=null&&_.g.size!==0){let k=_.i;for(const N of _.g.values())k=k.concat(N.G);return k}return v(_.i)}var zp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Du(_,k){if(_){_=_.split("&");for(let N=0;N<_.length;N++){const G=_[N].indexOf("=");let ne,le=null;G>=0?(ne=_[N].substring(0,G),le=_[N].substring(G+1)):ne=_[N],k(ne,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function Yr(_){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let k;_ instanceof Yr?(this.l=_.l,Bn(this,_.j),this.o=_.o,this.g=_.g,rs(this,_.u),this.h=_.h,Hd(this,$p(_.i)),this.m=_.m):_&&(k=String(_).match(zp))?(this.l=!1,Bn(this,k[1]||"",!0),this.o=Sa(k[2]||""),this.g=Sa(k[3]||"",!0),rs(this,k[4]),this.h=Sa(k[5]||"",!0),Hd(this,k[6]||"",!0),this.m=Sa(k[7]||"")):(this.l=!1,this.i=new as(null,this.l))}Yr.prototype.toString=function(){const _=[];var k=this.j;k&&_.push(Sl(k,Ou,!0),":");var N=this.g;return(N||k=="file")&&(_.push("//"),(k=this.o)&&_.push(Sl(k,Ou,!0),"@"),_.push(ao(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&_.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&_.push("/"),_.push(Sl(N,N.charAt(0)=="/"?Gd:qp,!0))),(N=this.i.toString())&&_.push("?",N),(N=this.m)&&_.push("#",Sl(N,Hp)),_.join("")},Yr.prototype.resolve=function(_){const k=_n(this);let N=!!_.j;N?Bn(k,_.j):N=!!_.o,N?k.o=_.o:N=!!_.g,N?k.g=_.g:N=_.u!=null;var G=_.h;if(N)rs(k,_.u);else if(N=!!_.h){if(G.charAt(0)!="/")if(this.g&&!this.h)G="/"+G;else{var ne=k.h.lastIndexOf("/");ne!=-1&&(G=k.h.slice(0,ne+1)+G)}if(ne=G,ne==".."||ne==".")G="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){G=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const le=[];for(let Ae=0;Ae<ne.length;){const Je=ne[Ae++];Je=="."?G&&Ae==ne.length&&le.push(""):Je==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),G&&Ae==ne.length&&le.push("")):(le.push(Je),G=!0)}G=le.join("/")}else G=ne}return N?k.h=G:N=_.i.toString()!=="",N?Hd(k,$p(_.i)):N=!!_.m,N&&(k.m=_.m),k};function _n(_){return new Yr(_)}function Bn(_,k,N){_.j=N?Sa(k,!0):k,_.j&&(_.j=_.j.replace(/:$/,""))}function rs(_,k){if(k){if(k=Number(k),isNaN(k)||k<0)throw Error("Bad port number "+k);_.u=k}else _.u=null}function Hd(_,k,N){k instanceof as?(_.i=k,Uu(_.i,_.l)):(N||(k=Sl(k,is)),_.i=new as(k,_.l))}function Et(_,k,N){_.i.set(k,N)}function wl(_){return Et(_,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),_}function Sa(_,k){return _?k?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Sl(_,k,N){return typeof _=="string"?(_=encodeURI(_).replace(k,Rr),N&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Rr(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Ou=/[#\/\?@]/g,qp=/[#\?:]/g,Gd=/[#\?]/g,is=/[#\?@]/g,Hp=/#/g;function as(_,k){this.h=this.g=null,this.i=_||null,this.j=!!k}function Nr(_){_.g||(_.g=new Map,_.h=0,_.i&&Du(_.i,function(k,N){_.add(decodeURIComponent(k.replace(/\+/g," ")),N)}))}t=as.prototype,t.add=function(_,k){Nr(this),this.i=null,_=os(this,_);let N=this.g.get(_);return N||this.g.set(_,N=[]),N.push(k),this.h+=1,this};function Gp(_,k){Nr(_),k=os(_,k),_.g.has(k)&&(_.i=null,_.h-=_.g.get(k).length,_.g.delete(k))}function $d(_,k){return Nr(_),k=os(_,k),_.g.has(k)}t.forEach=function(_,k){Nr(this),this.g.forEach(function(N,G){N.forEach(function(ne){_.call(k,ne,G,this)},this)},this)};function Kd(_,k){Nr(_);let N=[];if(typeof k=="string")$d(_,k)&&(N=N.concat(_.g.get(os(_,k))));else for(_=Array.from(_.g.values()),k=0;k<_.length;k++)N=N.concat(_[k]);return N}t.set=function(_,k){return Nr(this),this.i=null,_=os(this,_),$d(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[k]),this.h+=1,this},t.get=function(_,k){return _?(_=Kd(this,_),_.length>0?String(_[0]):k):k};function Lu(_,k,N){Gp(_,k),N.length>0&&(_.i=null,_.g.set(os(_,k),v(N)),_.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],k=Array.from(this.g.keys());for(let G=0;G<k.length;G++){var N=k[G];const ne=ao(N);N=Kd(this,N);for(let le=0;le<N.length;le++){let Ae=ne;N[le]!==""&&(Ae+="="+ao(N[le])),_.push(Ae)}}return this.i=_.join("&")};function $p(_){const k=new as;return k.i=_.i,_.g&&(k.g=new Map(_.g),k.h=_.h),k}function os(_,k){return k=String(k),_.j&&(k=k.toLowerCase()),k}function Uu(_,k){k&&!_.j&&(Nr(_),_.i=null,_.g.forEach(function(N,G){const ne=G.toLowerCase();G!=ne&&(Gp(this,G),Lu(this,ne,N))},_)),_.j=k}function Ki(_,k){const N=new Hi;if(s.Image){const G=new Image;G.onload=h(yi,N,"TestLoadImage: loaded",!0,k,G),G.onerror=h(yi,N,"TestLoadImage: error",!1,k,G),G.onabort=h(yi,N,"TestLoadImage: abort",!1,k,G),G.ontimeout=h(yi,N,"TestLoadImage: timeout",!1,k,G),s.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=_}else k(!1)}function Wd(_,k){const N=new Hi,G=new AbortController,ne=setTimeout(()=>{G.abort(),yi(N,"TestPingServer: timeout",!1,k)},1e4);fetch(_,{signal:G.signal}).then(le=>{clearTimeout(ne),le.ok?yi(N,"TestPingServer: ok",!0,k):yi(N,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(ne),yi(N,"TestPingServer: error",!1,k)})}function yi(_,k,N,G,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),G(N)}catch{}}function ss(){this.g=new ft}function Aa(_){this.i=_.Sb||null,this.h=_.ab||!1}p(Aa,cr),Aa.prototype.g=function(){return new Al(this.i,this.h)};function Al(_,k){Qt.call(this),this.H=_,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Al,Qt),t=Al.prototype,t.open=function(_,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=_,this.D=k,this.readyState=1,Wi(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const k={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};_&&(k.body=_),(this.H||s).fetch(new Request(this.D,k)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=0},t.Pa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vu(this)}else _.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vu(_){_.j.read().then(_.Ma.bind(_)).catch(_.ga.bind(_))}t.Ma=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var k=_.value?_.value:new Uint8Array(0);(k=this.B.decode(k,{stream:!_.done}))&&(this.response=this.responseText+=k)}_.done?ls(this):Wi(this),this.readyState==3&&Vu(this)}},t.Oa=function(_){this.g&&(this.response=this.responseText=_,ls(this))},t.Na=function(_){this.g&&(this.response=_,ls(this))},t.ga=function(){this.g&&ls(this)};function ls(_){_.readyState=4,_.l=null,_.j=null,_.B=null,Wi(_)}t.setRequestHeader=function(_,k){this.A.append(_,k)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],k=this.h.entries();for(var N=k.next();!N.done;)N=N.value,_.push(N[0]+": "+N[1]),N=k.next();return _.join(`\r
`)};function Wi(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function vi(_){let k="";return me(_,function(N,G){k+=G,k+=":",k+=N,k+=`\r
`}),k}function kl(_,k,N){e:{for(G in N){var G=!1;break e}G=!0}G||(N=vi(N),typeof _=="string"?N!=null&&ao(N):Et(_,k,N))}function Ct(_){Qt.call(this),this.headers=new Map,this.L=_||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ct,Qt);var ka=/^https?$/i,Yd=["POST","PUT"];t=Ct.prototype,t.Fa=function(_){this.H=_},t.ea=function(_,k,N,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);k=k?k.toUpperCase():"GET",this.D=_,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vd.g(),this.g.onreadystatechange=g(d(this.Ca,this));try{this.B=!0,this.g.open(k,String(_),!0),this.B=!1}catch(le){Cl(this,le);return}if(_=N||"",N=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ne in G)N.set(ne,G[ne]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const le of G.keys())N.set(le,G.get(le));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(N.keys()).find(le=>le.toLowerCase()=="content-type"),ne=s.FormData&&_ instanceof s.FormData,!(Array.prototype.indexOf.call(Yd,k,void 0)>=0)||G||ne||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Ae]of N)this.g.setRequestHeader(le,Ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(_),this.v=!1}catch(le){Cl(this,le)}};function Cl(_,k){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=k,_.o=5,Jd(_),oo(_)}function Jd(_){_.A||(_.A=!0,nn(_,"complete"),nn(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=_||7,nn(this,"complete"),nn(this,"abort"),oo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oo(this,!0)),Ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Il(this):this.Xa())},t.Xa=function(){Il(this)};function Il(_){if(_.h&&typeof a<"u"){if(_.v&&Yi(_)==4)setTimeout(_.Ca.bind(_),0);else if(nn(_,"readystatechange"),Yi(_)==4){_.h=!1;try{const le=_.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var N;if(!(N=k)){var G;if(G=le===0){let Ae=String(_.D).match(zp)[1]||null;!Ae&&s.self&&s.self.location&&(Ae=s.self.location.protocol.slice(0,-1)),G=!ka.test(Ae?Ae.toLowerCase():"")}N=G}if(N)nn(_,"complete"),nn(_,"success");else{_.o=6;try{var ne=Yi(_)>2?_.g.statusText:""}catch{ne=""}_.l=ne+" ["+_.ca()+"]",Jd(_)}}finally{oo(_)}}}}function oo(_,k){if(_.g){_.m&&(clearTimeout(_.m),_.m=null);const N=_.g;_.g=null,k||nn(_,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Yi(_){return _.g?_.g.readyState:0}t.ca=function(){try{return Yi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(_){if(this.g){var k=this.g.responseText;return _&&k.indexOf(_)==0&&(k=k.substring(_.length)),tt(k)}};function Jn(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.F){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function so(_){const k={};_=(_.g&&Yi(_)>=2&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<_.length;G++){if(H(_[G]))continue;var N=Fp(_[G]);const ne=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const le=k[ne]||[];k[ne]=le,le.push(N)}W(k,function(G){return G.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(_,k,N){return N&&N.internalChannelParams&&N.internalChannelParams[_]||k}function us(_){this.za=0,this.i=[],this.j=new Hi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ca("failFast",!1,_),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ca("baseRetryDelayMs",5e3,_),this.Za=Ca("retryDelaySeedMs",1e4,_),this.Ta=Ca("forwardChannelMaxRetries",2,_),this.va=Ca("forwardChannelRequestTimeoutMs",2e4,_),this.ma=_&&_.xmlHttpFactory||void 0,this.Ua=_&&_.Rb||void 0,this.Aa=_&&_.useFetchStreams||!1,this.O=void 0,this.L=_&&_.supportsCrossDomainXhr||!1,this.M="",this.h=new Fd(_&&_.concurrentRequestLimit),this.Ba=new ss,this.S=_&&_.fastHandshake||!1,this.R=_&&_.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=_&&_.Pb||!1,_&&_.ua&&this.j.ua(),_&&_.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&_&&_.detectBufferingProxy||!1,this.ia=void 0,_&&_.longPollingTimeout&&_.longPollingTimeout>0&&(this.ia=_.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=us.prototype,t.ka=8,t.I=1,t.connect=function(_,k,N,G){yn(0),this.W=_,this.H=k||{},N&&G!==void 0&&(this.H.OSID=N,this.H.OAID=G),this.F=this.X,this.J=Zp(this,null,this.W),Ia(this)};function Xd(_){if(Fu(_),_.I==3){var k=_.V++,N=_n(_.J);if(Et(N,"SID",_.M),Et(N,"RID",k),Et(N,"TYPE","terminate"),Rl(_,N),k=new Gi(_,_.j,k),k.M=2,k.A=wl(_n(N)),N=!1,s.navigator&&s.navigator.sendBeacon)try{N=s.navigator.sendBeacon(k.A.toString(),"")}catch{}!N&&s.Image&&(new Image().src=k.A,N=!0),N||(k.g=em(k.j,null),k.g.ea(k.A)),k.F=Date.now(),_a(k)}Qp(_)}function cs(_){_.g&&(Zd(_),_.g.cancel(),_.g=null)}function Fu(_){cs(_),_.v&&(s.clearTimeout(_.v),_.v=null),ju(_),_.h.cancel(),_.m&&(typeof _.m=="number"&&s.clearTimeout(_.m),_.m=null)}function Ia(_){if(!Bd(_.h)&&!_.m){_.m=!0;var k=_.Ea;q||O(),V||(q(),V=!0),D.add(k,_),_.D=0}}function Bu(_,k){return Ta(_.h)>=_.h.j-(_.m?1:0)?!1:_.m?(_.i=k.G.concat(_.i),!0):_.I==1||_.I==2||_.D>=(_.Sa?0:_.Ta)?!1:(_.m=ya(d(_.Ea,_,k),Xp(_,_.D)),_.D++,!0)}t.Ea=function(_){if(this.m)if(this.m=null,this.I==1){if(!_){this.V=Math.floor(Math.random()*1e5),_=this.V++;const ne=new Gi(this,this.j,_);let le=this.o;if(this.U&&(le?(le=Y(le),$(le,this.U)):le=this.U),this.u!==null||this.R||(ne.J=le,le=null),this.S)e:{for(var k=0,N=0;N<this.i.length;N++){t:{var G=this.i[N];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(k+=G,k>4096){k=N;break e}if(k===4096||N===this.i.length-1){k=N+1;break e}}k=1e3}else k=1e3;k=Kp(this,ne,k),N=_n(this.J),Et(N,"RID",_),Et(N,"CVER",22),this.G&&Et(N,"X-HTTP-Session-Id",this.G),Rl(this,N),le&&(this.R?k="headers="+ao(vi(le))+"&"+k:this.u&&kl(N,this.u,le)),jd(this.h,ne),this.Ra&&Et(N,"TYPE","init"),this.S?(Et(N,"$req",k),Et(N,"SID","null"),ne.U=!0,ba(ne,N,null)):ba(ne,N,k),this.I=2}}else this.I==3&&(_?Qd(this,_):this.i.length==0||Bd(this.h)||Qd(this))};function Qd(_,k){var N;k?N=k.l:N=_.V++;const G=_n(_.J);Et(G,"SID",_.M),Et(G,"RID",N),Et(G,"AID",_.K),Rl(_,G),_.u&&_.o&&kl(G,_.u,_.o),N=new Gi(_,_.j,N,_.D+1),_.u===null&&(N.J=_.o),k&&(_.i=k.G.concat(_.i)),k=Kp(_,N,1e3),N.H=Math.round(_.va*.5)+Math.round(_.va*.5*Math.random()),jd(_.h,N),ba(N,G,k)}function Rl(_,k){_.H&&me(_.H,function(N,G){Et(k,G,N)}),_.l&&me({},function(N,G){Et(k,G,N)})}function Kp(_,k,N){N=Math.min(_.i.length,N);const G=_.l?d(_.l.Ka,_.l,_):null;e:{var ne=_.i;let Je=-1;for(;;){const un=["count="+N];Je==-1?N>0?(Je=ne[0].g,un.push("ofs="+Je)):Je=0:un.push("ofs="+Je);let yt=!0;for(let Wt=0;Wt<N;Wt++){var le=ne[Wt].g;const bi=ne[Wt].map;if(le-=Je,le<0)Je=Math.max(0,ne[Wt].g-100),yt=!1;else try{le="req"+le+"_"||"";try{var Ae=bi instanceof Map?bi:Object.entries(bi);for(const[Na,Ji]of Ae){let Xi=Ji;u(Ji)&&(Xi=Be(Ji)),un.push(le+Na+"="+encodeURIComponent(Xi))}}catch(Na){throw un.push(le+"type="+encodeURIComponent("_badmap")),Na}}catch{G&&G(bi)}}if(yt){Ae=un.join("&");break e}}Ae=void 0}return _=_.i.splice(0,N),k.G=_,Ae}function Wp(_){if(!_.g&&!_.v){_.Y=1;var k=_.Da;q||O(),V||(q(),V=!0),D.add(k,_),_.A=0}}function Nl(_){return _.g||_.v||_.A>=3?!1:(_.Y++,_.v=ya(d(_.Da,_),Xp(_,_.A)),_.A++,!0)}t.Da=function(){if(this.v=null,Yp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var _=4*this.T;this.j.info("BP detection timer enabled: "+_),this.B=ya(d(this.Wa,this),_)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yn(10),cs(this),Yp(this))};function Zd(_){_.B!=null&&(s.clearTimeout(_.B),_.B=null)}function Yp(_){_.g=new Gi(_,_.j,"rpc",_.Y),_.u===null&&(_.g.J=_.o),_.g.P=0;var k=_n(_.na);Et(k,"RID","rpc"),Et(k,"SID",_.M),Et(k,"AID",_.K),Et(k,"CI",_.F?"0":"1"),!_.F&&_.ia&&Et(k,"TO",_.ia),Et(k,"TYPE","xmlhttp"),Rl(_,k),_.u&&_.o&&kl(k,_.u,_.o),_.O&&(_.g.H=_.O);var N=_.g;_=_.ba,N.M=1,N.A=wl(_n(k)),N.u=null,N.R=!0,Pu(N,_)}t.Va=function(){this.C!=null&&(this.C=null,cs(this),Nl(this),yn(19))};function ju(_){_.C!=null&&(s.clearTimeout(_.C),_.C=null)}function Jp(_,k){var N=null;if(_.g==k){ju(_),Zd(_),_.g=null;var G=2}else if(wa(_.h,k))N=k.G,zd(_.h,k),G=1;else return;if(_.I!=0){if(k.o)if(G==1){N=k.u?k.u.length:0,k=Date.now()-k.F;var ne=_.D;G=dr(),nn(G,new ga(G,N)),Ia(_)}else Wp(_);else if(ne=k.m,ne==3||ne==0&&k.X>0||!(G==1&&Bu(_,k)||G==2&&Nl(_)))switch(N&&N.length>0&&(k=_.h,k.i=k.i.concat(N)),ne){case 1:Ra(_,5);break;case 4:Ra(_,10);break;case 3:Ra(_,6);break;default:Ra(_,2)}}}function Xp(_,k){let N=_.Qa+Math.floor(Math.random()*_.Za);return _.isActive()||(N*=2),N*k}function Ra(_,k){if(_.j.info("Error code "+k),k==2){var N=d(_.bb,_),G=_.Ua;const ne=!G;G=new Yr(G||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Bn(G,"https"),wl(G),ne?Ki(G.toString(),N):Wd(G.toString(),N)}else yn(2);_.I=0,_.l&&_.l.pa(k),Qp(_),Fu(_)}t.bb=function(_){_?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function Qp(_){if(_.I=0,_.ja=[],_.l){const k=qd(_.h);(k.length!=0||_.i.length!=0)&&(w(_.ja,k),w(_.ja,_.i),_.h.i.length=0,v(_.i),_.i.length=0),_.l.oa()}}function Zp(_,k,N){var G=N instanceof Yr?_n(N):new Yr(N);if(G.g!="")k&&(G.g=k+"."+G.g),rs(G,G.u);else{var ne=s.location;G=ne.protocol,k=k?k+"."+ne.hostname:ne.hostname,ne=+ne.port;const le=new Yr(null);G&&Bn(le,G),k&&(le.g=k),ne&&rs(le,ne),N&&(le.h=N),G=le}return N=_.G,k=_.wa,N&&k&&Et(G,N,k),Et(G,"VER",_.ka),Rl(_,G),G}function em(_,k,N){if(k&&!_.L)throw Error("Can't create secondary domain capable XhrIo object.");return k=_.Aa&&!_.ma?new Ct(new Aa({ab:N})):new Ct(_.ma),k.Fa(_.L),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tm(){}t=tm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ds(){}ds.prototype.g=function(_,k){return new Er(_,k)};function Er(_,k){Qt.call(this),this.g=new us(k),this.l=_,this.h=k&&k.messageUrlParams||null,_=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(_?_["X-WebChannel-Content-Type"]=k.messageContentType:_={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.sa&&(_?_["X-WebChannel-Client-Profile"]=k.sa:_={"X-WebChannel-Client-Profile":k.sa}),this.g.U=_,(_=k&&k.Qb)&&!H(_)&&(this.g.u=_),this.A=k&&k.supportsCrossDomainXhr||!1,this.v=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!H(k)&&(this.g.G=k,_=this.h,_!==null&&k in _&&(_=this.h,k in _&&delete _[k])),this.j=new lo(this)}p(Er,Qt),Er.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Er.prototype.close=function(){Xd(this.g)},Er.prototype.o=function(_){var k=this.g;if(typeof _=="string"){var N={};N.__data__=_,_=N}else this.v&&(N={},N.__data__=Be(_),_=N);k.i.push(new bn(k.Ya++,_)),k.I==3&&Ia(k)},Er.prototype.N=function(){this.g.l=null,delete this.j,Xd(this.g),delete this.g,Er.Z.N.call(this)};function nm(_){Zt.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var k=_.__sm__;if(k){e:{for(const N in k){_=N;break e}_=void 0}(this.i=_)&&(_=this.i,k=k!==null&&_ in k?k[_]:void 0),this.data=k}else this.data=_}p(nm,Zt);function rm(){Vn.call(this),this.status=1}p(rm,Vn);function lo(_){this.g=_}p(lo,tm),lo.prototype.ra=function(){nn(this.g,"a")},lo.prototype.qa=function(_){nn(this.g,new nm(_))},lo.prototype.pa=function(_){nn(this.g,new rm)},lo.prototype.oa=function(){nn(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,Er.prototype.send=Er.prototype.o,Er.prototype.open=Er.prototype.m,Er.prototype.close=Er.prototype.close,ej=function(){return new ds},ZB=function(){return dr()},QB=ut,ET={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},El.NO_ERROR=0,El.TIMEOUT=8,El.HTTP_ERROR=6,Wg=El,Ud.COMPLETE="complete",XB=Ud,mi.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",Qt.prototype.listen=Qt.prototype.J,ih=mi,Ct.prototype.listenOnce=Ct.prototype.K,Ct.prototype.getLastError=Ct.prototype.Ha,Ct.prototype.getLastErrorCode=Ct.prototype.ya,Ct.prototype.getStatus=Ct.prototype.ca,Ct.prototype.getResponseJson=Ct.prototype.La,Ct.prototype.getResponseText=Ct.prototype.la,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Fa,JB=Ct}).apply(typeof Ig<"u"?Ig:typeof self<"u"?self:typeof window<"u"?window:{});const IL="@firebase/firestore",RL="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new KS("@firebase/firestore");function kc(){return vu.logLevel}function Ne(t,...e){if(vu.logLevel<=ot.DEBUG){const n=e.map(rA);vu.debug(`Firestore (${Id}): ${t}`,...n)}}function Go(t,...e){if(vu.logLevel<=ot.ERROR){const n=e.map(rA);vu.error(`Firestore (${Id}): ${t}`,...n)}}function ld(t,...e){if(vu.logLevel<=ot.WARN){const n=e.map(rA);vu.warn(`Firestore (${Id}): ${t}`,...n)}}function rA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,tj(t,r,n)}function tj(t,e,n){let r=`FIRESTORE (${Id}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Go(r),new Error(r)}function xt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||tj(e,i,r)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends ro{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i1e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gr.UNAUTHENTICATED)))}shutdown(){}}class a1e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class o1e{constructor(e){this.t=e,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Mo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Mo,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Mo)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string",31837,{l:r}),new nj(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new gr(e)}}class s1e{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l1e{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new s1e(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u1e{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xt(this.o===void 0,3512);const r=a=>{a.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Ne("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new NL(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NL(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1e(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=c1e(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function st(t,e){return t<e?-1:t>e?1:0}function TT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return VE(i)===VE(a)?st(i,a):VE(i)?1:-1}return st(t.length,e.length)}const d1e=55296,f1e=57343;function VE(t){const e=t.charCodeAt(0);return e>=d1e&&e<=f1e}function ud(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="__name__";class Ua{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ua.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ua?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ua.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return st(e.length,n.length)}static compareSegments(e,n){const r=Ua.isNumericId(e),i=Ua.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ua.extractNumericId(e).compare(Ua.extractNumericId(n)):TT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class Vt extends Ua{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Vt(n)}static emptyPath(){return new Vt([])}}const h1e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends Ua{construct(e,n,r){return new or(e,n,r)}static isValidIdentifier(e){return h1e.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PL}static keyField(){return new or([PL])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ie(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ie(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ie(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(a(),i++)}if(a(),s)throw new Ie(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new or(n)}static emptyPath(){return new or([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Vt.fromString(e))}static fromName(e){return new Ue(Vt.fromString(e).popFirst(5))}static empty(){return new Ue(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t,e,n){if(!n)throw new Ie(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function p1e(t,e,n,r){if(e===!0&&r===!0)throw new Ie(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ML(t){if(!Ue.isDocumentKey(t))throw new Ie(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DL(t){if(Ue.isDocumentKey(t))throw new Ie(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ij(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function y0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function Fi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=y0(t);throw new Ie(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ap(t,e){if(!ij(t))throw new Ie(ve.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Ie(ve.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=-62135596800,LL=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*LL);return new Gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OL)throw new Ie(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LL}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ap(e,Gt._jsonSchema))return new Gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OL;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gt._jsonSchemaVersion="firestore/timestamp/1.0",Gt._jsonSchema={type:In("string",Gt._jsonSchemaVersion),seconds:In("number"),nanoseconds:In("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Gt(0,0))}static max(){return new Ke(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=-1;function m1e(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(r===1e9?new Gt(n+1,0):new Gt(n,r));return new rl(i,Ue.empty(),e)}function g1e(t){return new rl(t.readTime,t.key,jh)}class rl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rl(Ke.min(),Ue.empty(),jh)}static max(){return new rl(Ke.max(),Ue.empty(),jh)}}function y1e(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(t.documentKey,e.documentKey),n!==0?n:st(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b1e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==v1e)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xe(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.reject(n)}static resolve(e){return new xe(((n,r)=>{n(e)}))}static reject(e){return new xe(((n,r)=>{r(e)}))}static waitFor(e){return new xe(((n,r)=>{let i=0,a=0,s=!1;e.forEach((u=>{++i,u.next((()=>{++a,s&&a===i&&n()}),(c=>r(c)))})),s=!0,a===i&&n()}))}static or(e){let n=xe.resolve(!1);for(const r of e)n=n.next((i=>i?xe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new xe(((r,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const d=c;n(e[d]).next((h=>{s[d]=h,++u,u===a&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new xe(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function _1e(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}v0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=-1;function b0(t){return t==null}function av(t){return t===0&&1/t==-1/0}function x1e(t){return typeof t=="number"&&Number.isInteger(t)&&!av(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="";function E1e(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UL(e)),e=T1e(t.get(n),e);return UL(e)}function T1e(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case aj:n+="";break;default:n+=a}}return n}function UL(t){return t+aj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){this.comparator=e,this.root=n||ar.EMPTY}insert(e,n){return new en(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rg(this.root,e,this.comparator,!0)}}class Rg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ar{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??ar.RED,this.left=i??ar.EMPTY,this.right=a??ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new ar(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ar.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FL(this.data.getIterator())}getIteratorFrom(e){return new FL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mn(this.comparator);return n.data=e,n}}class FL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(or.comparator)}static empty(){return new ui([])}unionWith(e){let n=new Mn(or.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ud(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new sj("Invalid base64 string: "+a):a}})(e);return new lr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new lr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const w1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(t){if(xt(!!t,39018),typeof t=="string"){let e=0;const n=w1e.exec(t);if(xt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hn(t.seconds),nanos:hn(t.nanos)}}function hn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function al(t){return typeof t=="string"?lr.fromBase64String(t):lr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="server_timestamp",uj="__type__",cj="__previous_value__",dj="__local_write_time__";function oA(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[uj])==null?void 0:r.stringValue)===lj}function _0(t){const e=t.mapValue.fields[cj];return oA(e)?_0(e):e}function zh(t){const e=il(t.mapValue.fields[dj].timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1e{constructor(e,n,r,i,a,s,u,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const ov="(default)";class qh{constructor(e,n){this.projectId=e,this.database=n||ov}static empty(){return new qh("","")}get isDefaultDatabase(){return this.database===ov}isEqual(e){return e instanceof qh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="__type__",A1e="__max__",Ng={mapValue:{}},hj="__vector__",sv="value";function ol(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oA(t)?4:C1e(t)?9007199254740991:k1e(t)?10:11:qe(28295,{value:t})}function no(t,e){if(t===e)return!0;const n=ol(t);if(n!==ol(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zh(t).isEqual(zh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=il(i.timestampValue),u=il(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return al(i.bytesValue).isEqual(al(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return hn(i.geoPointValue.latitude)===hn(a.geoPointValue.latitude)&&hn(i.geoPointValue.longitude)===hn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return hn(i.integerValue)===hn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=hn(i.doubleValue),u=hn(a.doubleValue);return s===u?av(s)===av(u):isNaN(s)&&isNaN(u)}return!1})(t,e);case 9:return ud(t.arrayValue.values||[],e.arrayValue.values||[],no);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(VL(s)!==VL(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!no(s[c],u[c])))return!1;return!0})(t,e);default:return qe(52216,{left:t})}}function Hh(t,e){return(t.values||[]).find((n=>no(n,e)))!==void 0}function cd(t,e){if(t===e)return 0;const n=ol(t),r=ol(e);if(n!==r)return st(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const u=hn(a.integerValue||a.doubleValue),c=hn(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return BL(t.timestampValue,e.timestampValue);case 4:return BL(zh(t),zh(e));case 5:return TT(t.stringValue,e.stringValue);case 6:return(function(a,s){const u=al(a),c=al(s);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const u=a.split("/"),c=s.split("/");for(let d=0;d<u.length&&d<c.length;d++){const h=st(u[d],c[d]);if(h!==0)return h}return st(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const u=st(hn(a.latitude),hn(s.latitude));return u!==0?u:st(hn(a.longitude),hn(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return jL(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var g,v,w,S;const u=a.fields||{},c=s.fields||{},d=(g=u[sv])==null?void 0:g.arrayValue,h=(v=c[sv])==null?void 0:v.arrayValue,p=st(((w=d==null?void 0:d.values)==null?void 0:w.length)||0,((S=h==null?void 0:h.values)==null?void 0:S.length)||0);return p!==0?p:jL(d,h)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===Ng.mapValue&&s===Ng.mapValue)return 0;if(a===Ng.mapValue)return 1;if(s===Ng.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),d=s.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=TT(c[p],h[p]);if(g!==0)return g;const v=cd(u[c[p]],d[h[p]]);if(v!==0)return v}return st(c.length,h.length)})(t.mapValue,e.mapValue);default:throw qe(23264,{he:n})}}function BL(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const n=il(t),r=il(e),i=st(n.seconds,r.seconds);return i!==0?i:st(n.nanos,r.nanos)}function jL(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=cd(n[i],r[i]);if(a)return a}return st(n.length,r.length)}function dd(t){return wT(t)}function wT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=il(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return al(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ue.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=wT(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${wT(n.fields[s])}`;return i+"}"})(t.mapValue):qe(61005,{value:t})}function Yg(t){switch(ol(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_0(t);return e?16+Yg(e):16;case 5:return 2*t.stringValue.length;case 6:return al(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Yg(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return yl(r.fields,((a,s)=>{i+=a.length+Yg(s)})),i})(t.mapValue);default:throw qe(13486,{value:t})}}function zL(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ST(t){return!!t&&"integerValue"in t}function sA(t){return!!t&&"arrayValue"in t}function qL(t){return!!t&&"nullValue"in t}function HL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jg(t){return!!t&&"mapValue"in t}function k1e(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fj])==null?void 0:r.stringValue)===hj}function gh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return yl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=gh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gh(t.arrayValue.values[n]);return e}return{...t}}function C1e(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===A1e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gh(n)}setAll(e){let n=or.emptyPath(),r={},i=[];e.forEach(((s,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=gh(s):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Jg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return no(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yl(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new zr(gh(this.value))}}function pj(t){const e=[];return yl(t.fields,((n,r)=>{const i=new or([n]);if(Jg(r)){const a=pj(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,i,a,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new yr(e,0,Ke.min(),Ke.min(),Ke.min(),zr.empty(),0)}static newFoundDocument(e,n,r,i){return new yr(e,1,n,Ke.min(),r,i,0)}static newNoDocument(e,n){return new yr(e,2,n,Ke.min(),Ke.min(),zr.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,Ke.min(),Ke.min(),zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n){this.position=e,this.inclusive=n}}function GL(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Ue.comparator(Ue.fromName(s.referenceValue),n.key):r=cd(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function $L(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!no(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n="asc"){this.field=e,this.dir=n}}function I1e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{}class Cn extends mj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new N1e(e,n,r):n==="array-contains"?new D1e(e,r):n==="in"?new O1e(e,r):n==="not-in"?new L1e(e,r):n==="array-contains-any"?new U1e(e,r):new Cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new P1e(e,r):new M1e(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cd(n,this.value)):n!==null&&ol(this.value)===ol(n)&&this.matchesComparison(cd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ua extends mj{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ua(e,n)}matches(e){return gj(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gj(t){return t.op==="and"}function yj(t){return R1e(t)&&gj(t)}function R1e(t){for(const e of t.filters)if(e instanceof ua)return!1;return!0}function AT(t){if(t instanceof Cn)return t.field.canonicalString()+t.op.toString()+dd(t.value);if(yj(t))return t.filters.map((e=>AT(e))).join(",");{const e=t.filters.map((n=>AT(n))).join(",");return`${t.op}(${e})`}}function vj(t,e){return t instanceof Cn?(function(r,i){return i instanceof Cn&&r.op===i.op&&r.field.isEqual(i.field)&&no(r.value,i.value)})(t,e):t instanceof ua?(function(r,i){return i instanceof ua&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,u)=>a&&vj(s,i.filters[u])),!0):!1})(t,e):void qe(19439)}function bj(t){return t instanceof Cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${dd(n.value)}`})(t):t instanceof ua?(function(n){return n.op.toString()+" {"+n.getFilters().map(bj).join(" ,")+"}"})(t):"Filter"}class N1e extends Cn{constructor(e,n,r){super(e,n,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class P1e extends Cn{constructor(e,n){super(e,"in",n),this.keys=_j("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class M1e extends Cn{constructor(e,n){super(e,"not-in",n),this.keys=_j("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _j(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ue.fromName(r.referenceValue)))}class D1e extends Cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sA(n)&&Hh(n.arrayValue,this.value)}}class O1e extends Cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hh(this.value.arrayValue,n)}}class L1e extends Cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hh(this.value.arrayValue,n)}}class U1e extends Cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sA(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Hh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1e{constructor(e,n=null,r=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.Te=null}}function KL(t,e=null,n=[],r=[],i=null,a=null,s=null){return new V1e(t,e,n,r,i,a,s)}function lA(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>AT(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),b0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>dd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>dd(r))).join(",")),e.Te=n}return e.Te}function uA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!I1e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$L(t.startAt,e.startAt)&&$L(t.endAt,e.endAt)}function kT(t){return Ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n=null,r=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function F1e(t,e,n,r,i,a,s,u){return new kp(t,e,n,r,i,a,s,u)}function cA(t){return new kp(t)}function WL(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xj(t){return t.collectionGroup!==null}function yh(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new Mn(or.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new uv(a,r))})),n.has(or.keyField().canonicalString())||e.Ie.push(new uv(or.keyField(),r))}return e.Ie}function Wa(t){const e=Ye(t);return e.Ee||(e.Ee=B1e(e,yh(t))),e.Ee}function B1e(t,e){if(t.limitType==="F")return KL(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new uv(i.field,a)}));const n=t.endAt?new lv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lv(t.startAt.position,t.startAt.inclusive):null;return KL(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function CT(t,e){const n=t.filters.concat([e]);return new kp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function IT(t,e,n){return new kp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function x0(t,e){return uA(Wa(t),Wa(e))&&t.limitType===e.limitType}function Ej(t){return`${lA(Wa(t))}|lt:${t.limitType}`}function Cc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>bj(i))).join(", ")}]`),b0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>dd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>dd(i))).join(",")),`Target(${r})`})(Wa(t))}; limitType=${t.limitType})`}function E0(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ue.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of yh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,u,c){const d=GL(s,u,c);return s.inclusive?d<=0:d<0})(r.startAt,yh(r),i)||r.endAt&&!(function(s,u,c){const d=GL(s,u,c);return s.inclusive?d>=0:d>0})(r.endAt,yh(r),i))})(t,e)}function j1e(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Tj(t){return(e,n)=>{let r=!1;for(const i of yh(t)){const a=z1e(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function z1e(t,e,n){const r=t.field.isKeyField()?Ue.comparator(e.key,n.key):(function(a,s,u){const c=s.data.field(a),d=u.data.field(a);return c!==null&&d!==null?cd(c,d):qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yl(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return oj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1e=new en(Ue.comparator);function $o(){return q1e}const wj=new en(Ue.comparator);function ah(...t){let e=wj;for(const n of t)e=e.insert(n.key,n);return e}function Sj(t){let e=wj;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function tu(){return vh()}function Aj(){return vh()}function vh(){return new Iu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const H1e=new en(Ue.comparator),G1e=new Mn(Ue.comparator);function lt(...t){let e=G1e;for(const n of t)e=e.add(n);return e}const $1e=new Mn(st);function K1e(){return $1e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:av(e)?"-0":e}}function kj(t){return{integerValue:""+t}}function W1e(t,e){return x1e(e)?kj(e):dA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this._=void 0}}function Y1e(t,e,n){return t instanceof cv?(function(i,a){const s={fields:{[uj]:{stringValue:lj},[dj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&oA(a)&&(a=_0(a)),a&&(s.fields[cj]=a),{mapValue:s}})(n,e):t instanceof Gh?Ij(t,e):t instanceof $h?Rj(t,e):(function(i,a){const s=Cj(i,a),u=YL(s)+YL(i.Ae);return ST(s)&&ST(i.Ae)?kj(u):dA(i.serializer,u)})(t,e)}function J1e(t,e,n){return t instanceof Gh?Ij(t,e):t instanceof $h?Rj(t,e):n}function Cj(t,e){return t instanceof dv?(function(r){return ST(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class cv extends T0{}class Gh extends T0{constructor(e){super(),this.elements=e}}function Ij(t,e){const n=Nj(e);for(const r of t.elements)n.some((i=>no(i,r)))||n.push(r);return{arrayValue:{values:n}}}class $h extends T0{constructor(e){super(),this.elements=e}}function Rj(t,e){let n=Nj(e);for(const r of t.elements)n=n.filter((i=>!no(i,r)));return{arrayValue:{values:n}}}class dv extends T0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function YL(t){return hn(t.integerValue||t.doubleValue)}function Nj(t){return sA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function X1e(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Gh&&i instanceof Gh||r instanceof $h&&i instanceof $h?ud(r.elements,i.elements,no):r instanceof dv&&i instanceof dv?no(r.Ae,i.Ae):r instanceof cv&&i instanceof cv})(t.transform,e.transform)}class Q1e{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class w0{}function Pj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new S0(t.key,kr.none()):new Cp(t.key,t.data,kr.none());{const n=t.data,r=zr.empty();let i=new Mn(or.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new vl(t.key,r,new ui(i.toArray()),kr.none())}}function Z1e(t,e,n){t instanceof Cp?(function(i,a,s){const u=i.value.clone(),c=XL(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):t instanceof vl?(function(i,a,s){if(!Xg(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=XL(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(Mj(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function bh(t,e,n,r){return t instanceof Cp?(function(a,s,u,c){if(!Xg(a.precondition,s))return u;const d=a.value.clone(),h=QL(a.fieldTransforms,c,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof vl?(function(a,s,u,c){if(!Xg(a.precondition,s))return u;const d=QL(a.fieldTransforms,c,s),h=s.data;return h.setAll(Mj(a)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,s,u){return Xg(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u})(t,e,n)}function eTe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=Cj(r.transform,i||null);a!=null&&(n===null&&(n=zr.empty()),n.set(r.field,a))}return n||null}function JL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ud(r,i,((a,s)=>X1e(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cp extends w0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vl extends w0{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Mj(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function XL(t,e,n){const r=new Map;xt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,u=e.data.field(a.field);r.set(a.field,J1e(s,u,n[i]))}return r}function QL(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,Y1e(a,s,e))}return r}class S0 extends w0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tTe extends w0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nTe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Z1e(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Aj();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=n.has(i.key)?null:u;const c=Pj(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ke.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),lt())}isEqual(e){return this.batchId===e.batchId&&ud(this.mutations,e.mutations,((n,r)=>JL(n,r)))&&ud(this.baseMutations,e.baseMutations,((n,r)=>JL(n,r)))}}class fA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return H1e})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new fA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rTe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iTe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn,dt;function aTe(t){switch(t){case ve.OK:return qe(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function Dj(t){if(t===void 0)return Go("GRPC error has no .code"),ve.UNKNOWN;switch(t){case Sn.OK:return ve.OK;case Sn.CANCELLED:return ve.CANCELLED;case Sn.UNKNOWN:return ve.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return ve.INTERNAL;case Sn.UNAVAILABLE:return ve.UNAVAILABLE;case Sn.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Sn.NOT_FOUND:return ve.NOT_FOUND;case Sn.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Sn.ABORTED:return ve.ABORTED;case Sn.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Sn.DATA_LOSS:return ve.DATA_LOSS;default:return qe(39323,{code:t})}}(dt=Sn||(Sn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oTe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sTe=new Ys([4294967295,4294967295],0);function ZL(t){const e=oTe().encode(t),n=new YB;return n.update(e),new Uint8Array(n.digest())}function e4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ys([n,r],0),new Ys([i,a],0)]}class hA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oh(`Invalid padding: ${n}`);if(r<0)throw new oh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ys.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ys.fromNumber(r)));return i.compare(sTe)===1&&(i=new Ys([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ZL(e),[r,i]=e4(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new hA(a,i,n);return r.forEach((u=>s.insert(u))),s}insert(e){if(this.ge===0)return;const n=ZL(e),[r,i]=e4(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ip.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new A0(Ke.min(),i,new en(st),$o(),lt())}}class Ip{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ip(r,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Oj{constructor(e,n){this.targetId=e,this.Ce=n}}class Lj{constructor(e,n,r=lr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class t4{constructor(){this.ve=0,this.Fe=n4(),this.Me=lr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),n=lt(),r=lt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe(38017,{changeType:a})}})),new Ip(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=n4()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lTe{constructor(e){this.Ge=e,this.ze=new Map,this.je=$o(),this.Je=Pg(),this.He=Pg(),this.Ye=new en(st)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(kT(a))if(r===0){const s=new Ue(a.path);this.et(n,s,yr.newNoDocument(s,Ke.min()))}else xt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const u=this.ut(e),c=u?this.ct(u,e,s):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,u;try{s=al(r).toUint8Array()}catch(c){if(c instanceof sj)return ld("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new hA(s,i,a)}catch(c){return ld(c instanceof oh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const s=this.Ge.ht(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,s)=>{const u=this.ot(s);if(u){if(a.current&&kT(u.target)){const c=new Ue(u.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,yr.newNoDocument(c,e))}a.Be&&(n.set(s,a.ke()),a.qe())}}));let r=lt();this.He.forEach(((a,s)=>{let u=!0;s.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new A0(e,n,this.Ye,this.je,r);return this.je=$o(),this.Je=Pg(),this.He=Pg(),this.Ye=new en(st),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new t4,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mn(st),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mn(st),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new t4),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pg(){return new en(Ue.comparator)}function n4(){return new en(Ue.comparator)}const uTe={asc:"ASCENDING",desc:"DESCENDING"},cTe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dTe={and:"AND",or:"OR"};class fTe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function RT(t,e){return t.useProto3Json||b0(e)?e:{value:e}}function fv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hTe(t,e){return fv(t,e.toTimestamp())}function Ya(t){return xt(!!t,49232),Ke.fromTimestamp((function(n){const r=il(n);return new Gt(r.seconds,r.nanos)})(t))}function pA(t,e){return NT(t,e).canonicalString()}function NT(t,e){const n=(function(i){return new Vt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Vj(t){const e=Vt.fromString(t);return xt(qj(e),10190,{key:e.toString()}),e}function PT(t,e){return pA(t.databaseId,e.path)}function FE(t,e){const n=Vj(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(Bj(n))}function Fj(t,e){return pA(t.databaseId,e)}function pTe(t){const e=Vj(t);return e.length===4?Vt.emptyPath():Bj(e)}function MT(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bj(t){return xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function r4(t,e,n){return{name:PT(t,e),fields:n.value.mapValue.fields}}function mTe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:qe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,h){return d.useProto3Json?(xt(h===void 0||typeof h=="string",58123),lr.fromBase64String(h||"")):(xt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),lr.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&(function(d){const h=d.code===void 0?ve.UNKNOWN:Dj(d.code);return new Ie(h,d.message||"")})(s);n=new Lj(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=FE(t,r.document.name),a=Ya(r.document.updateTime),s=r.document.createTime?Ya(r.document.createTime):Ke.min(),u=new zr({mapValue:{fields:r.document.fields}}),c=yr.newFoundDocument(i,a,s,u),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Qg(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=FE(t,r.document),a=r.readTime?Ya(r.readTime):Ke.min(),s=yr.newNoDocument(i,a),u=r.removedTargetIds||[];n=new Qg([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=FE(t,r.document),a=r.removedTargetIds||[];n=new Qg([],a,i,null)}else{if(!("filter"in e))return qe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new iTe(i,a),u=r.targetId;n=new Oj(u,s)}}return n}function gTe(t,e){let n;if(e instanceof Cp)n={update:r4(t,e.key,e.value)};else if(e instanceof S0)n={delete:PT(t,e.key)};else if(e instanceof vl)n={update:r4(t,e.key,e.data),updateMask:STe(e.fieldMask)};else{if(!(e instanceof tTe))return qe(16599,{Vt:e.type});n={verify:PT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const u=s.transform;if(u instanceof cv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Gh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof $h)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof dv)return{fieldPath:s.field.canonicalString(),increment:u.Ae};throw qe(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:hTe(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:qe(27497)})(t,e.precondition)),n}function yTe(t,e){return t&&t.length>0?(xt(e!==void 0,14353),t.map((n=>(function(i,a){let s=i.updateTime?Ya(i.updateTime):Ya(a);return s.isEqual(Ke.min())&&(s=Ya(a)),new Q1e(s,i.transformResults||[])})(n,e)))):[]}function vTe(t,e){return{documents:[Fj(t,e.path)]}}function bTe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Fj(t,i);const a=(function(d){if(d.length!==0)return zj(ua.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const s=(function(d){if(d.length!==0)return d.map((h=>(function(g){return{field:Ic(g.field),direction:ETe(g.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const u=RT(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function _Te(t){let e=pTe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(p){const g=jj(p);return g instanceof ua&&yj(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map((g=>(function(w){return new uv(Rc(w.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let g;return g=typeof p=="object"?p.value:p,b0(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,v=p.values||[];return new lv(v,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const g=!p.before,v=p.values||[];return new lv(v,g)})(n.endAt)),F1e(e,i,s,a,u,"F",c,d)}function xTe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jj(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rc(n.unaryFilter.field);return Cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rc(n.unaryFilter.field);return Cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Rc(n.unaryFilter.field);return Cn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Rc(n.unaryFilter.field);return Cn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Cn.create(Rc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ua.create(n.compositeFilter.filters.map((r=>jj(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(n.compositeFilter.op))})(t):qe(30097,{filter:t})}function ETe(t){return uTe[t]}function TTe(t){return cTe[t]}function wTe(t){return dTe[t]}function Ic(t){return{fieldPath:t.canonicalString()}}function Rc(t){return or.fromServerFormat(t.fieldPath)}function zj(t){return t instanceof Cn?(function(n){if(n.op==="=="){if(HL(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NAN"}};if(qL(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HL(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NOT_NAN"}};if(qL(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ic(n.field),op:TTe(n.op),value:n.value}}})(t):t instanceof ua?(function(n){const r=n.getFilters().map((i=>zj(i)));return r.length===1?r[0]:{compositeFilter:{op:wTe(n.op),filters:r}}})(t):qe(54877,{filter:t})}function STe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function qj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r,i,a=Ke.min(),s=Ke.min(),u=lr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ATe{constructor(e){this.yt=e}}function kTe(t){const e=_Te({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?IT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CTe{constructor(){this.Cn=new ITe}addToCollectionParentIndex(e,n){return this.Cn.add(n),xe.resolve()}getCollectionParents(e,n){return xe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return xe.resolve()}deleteFieldIndex(e,n){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,n){return xe.resolve()}getDocumentsMatchingTarget(e,n){return xe.resolve(null)}getIndexType(e,n){return xe.resolve(0)}getFieldIndexes(e,n){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,n){return xe.resolve(rl.min())}getMinOffsetFromCollectionGroup(e,n){return xe.resolve(rl.min())}updateCollectionGroup(e,n,r){return xe.resolve()}updateIndexEntries(e,n){return xe.resolve()}}class ITe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mn(Vt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hj=41943040;class Br{static withCacheSize(e){return new Br(e,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br.DEFAULT_COLLECTION_PERCENTILE=10,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Br.DEFAULT=new Br(Hj,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Br.DISABLED=new Br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fd(0)}static cr(){return new fd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="LruGarbageCollector",RTe=1048576;function o4([t,e],[n,r]){const i=st(t,n);return i===0?st(e,r):i}class NTe{constructor(e){this.Ir=e,this.buffer=new Mn(o4),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();o4(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PTe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ne(a4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Nd(n)?Ne(a4,"Ignoring IndexedDB error during garbage collection: ",n):await Rd(n)}await this.Vr(3e5)}))}}class MTe{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return xe.resolve(v0.ce);const r=new NTe(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(i4)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i4):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,u,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),kc()<=ot.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${a} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function DTe(t,e){return new MTe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OTe{constructor(){this.changes=new Iu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?xe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LTe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UTe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&bh(r.mutation,i,ui.empty(),Gt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,lt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=lt()){const i=tu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let s=ah();return a.forEach(((u,c)=>{s=s.insert(u,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=tu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,lt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,u)=>{n.set(s,u)}))}))}computeViews(e,n,r,i){let a=$o();const s=vh(),u=(function(){return vh()})();return n.forEach(((c,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof vl)?a=a.insert(d.key,d):h!==void 0?(s.set(d.key,h.mutation.getFieldMask()),bh(h.mutation,d,h.mutation.getFieldMask(),Gt.now())):s.set(d.key,ui.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((d,h)=>s.set(d,h))),n.forEach(((d,h)=>u.set(d,new LTe(h,s.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=vh();let i=new en(((s,u)=>s-u)),a=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const u of s)u.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||ui.empty();h=u.applyToLocalView(d,h),r.set(c,h);const p=(i.get(u.batchId)||lt()).add(c);i=i.insert(u.batchId,p)}))})).next((()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,h=c.value,p=Aj();h.forEach((g=>{if(!a.has(g)){const v=Pj(n.get(g),r.get(g));v!==null&&p.set(g,v),a=a.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return xe.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return Ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):xe.resolve(tu());let u=jh,c=a;return s.next((d=>xe.forEach(d,((h,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),a.get(h)?xe.resolve():this.remoteDocumentCache.getEntry(e,h).next((g=>{c=c.insert(h,g)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,c,d,lt()))).next((h=>({batchId:u,changes:Sj(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next((r=>{let i=ah();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=ah();return this.indexManager.getCollectionParents(e,a).next((u=>xe.forEach(u,(c=>{const d=(function(p,g){return new kp(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((p,g)=>{s=s.insert(p,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((s=>{a.forEach(((c,d)=>{const h=d.getKey();s.get(h)===null&&(s=s.insert(h,yr.newInvalidDocument(h)))}));let u=ah();return s.forEach(((c,d)=>{const h=a.get(c);h!==void 0&&bh(h.mutation,d,ui.empty(),Gt.now()),E0(n,d)&&(u=u.insert(c,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VTe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return xe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ya(i.createTime)}})(n)),xe.resolve()}getNamedQuery(e,n){return xe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:kTe(i.bundledQuery),readTime:Ya(i.readTime)}})(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FTe{constructor(){this.overlays=new en(Ue.comparator),this.qr=new Map}getOverlay(e,n){return xe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=tu();return xe.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),xe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),xe.resolve()}getOverlaysForCollection(e,n,r){const i=tu(),a=n.length+1,s=new Ue(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return xe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new en(((d,h)=>d-h));const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=a.get(d.largestBatchId);h===null&&(h=tu(),a=a.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const u=tu(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,h)=>u.set(d,h))),!(u.size()>=i)););return xe.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new rTe(n,r));let a=this.qr.get(n);a===void 0&&(a=lt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BTe{constructor(){this.sessionToken=lr.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.Qr=new Mn(Gn.$r),this.Ur=new Mn(Gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Gn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Gn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ue(new Vt([])),r=new Gn(n,e),i=new Gn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(s=>{this.Gr(s),a.push(s.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ue(new Vt([])),r=new Gn(n,e),i=new Gn(n,e+1);let a=lt();return this.Ur.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const n=new Gn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ue.comparator(e.key,n.key)||st(e.Yr,n.Yr)}static Kr(e,n){return st(e.Yr,n.Yr)||Ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jTe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mn(Gn.$r)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new nTe(a,n,r,i);this.mutationQueue.push(s);for(const u of i)this.Zr=this.Zr.add(new Gn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return xe.resolve(s)}lookupMutationBatch(e,n){return xe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return xe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?aA:this.tr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gn(n,0),i=new Gn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(s=>{const u=this.Xr(s.Yr);a.push(u)})),xe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mn(st);return n.forEach((i=>{const a=new Gn(i,0),s=new Gn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],(u=>{r=r.add(u.Yr)}))})),xe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ue.isDocumentKey(a)||(a=a.child(""));const s=new Gn(new Ue(a),0);let u=new Mn(st);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(c.Yr)),!0)}),s),xe.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return xe.forEach(n.mutations,(i=>{const a=new Gn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Gn(n,0),i=this.Zr.firstAfterOrEqual(r);return xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zTe{constructor(e){this.ri=e,this.docs=(function(){return new en(Ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return xe.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let r=$o();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():yr.newInvalidDocument(i))})),xe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=$o();const s=n.path,u=new Ue(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||y1e(g1e(h),r)<=0||(i.has(h.key)||E0(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return xe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){qe(9500)}ii(e,n){return xe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new qTe(this)}getSize(e){return xe.resolve(this.size)}}class qTe extends OTe{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),xe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HTe{constructor(e){this.persistence=e,this.si=new Iu((n=>lA(n)),uA),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.oi=0,this._i=new mA,this.targetCount=0,this.ai=fd.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),xe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,xe.resolve()}updateTargetData(e,n){return this.Pr(n),xe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),xe.waitFor(a).next((()=>i))}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return xe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),xe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),xe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),xe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return xe.resolve(r)}containsKey(e,n){return xe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n){this.ui={},this.overlays={},this.ci=new v0(0),this.li=!1,this.li=!0,this.hi=new BTe,this.referenceDelegate=e(this),this.Pi=new HTe(this),this.indexManager=new CTe,this.remoteDocumentCache=(function(i){return new zTe(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ATe(n),this.Ii=new VTe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FTe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new jTe(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new GTe(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return xe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class GTe extends b1e{constructor(e){super(),this.currentSequenceNumber=e}}class gA{constructor(e){this.persistence=e,this.Ri=new mA,this.Vi=null}static mi(e){return new gA(e)}get fi(){if(this.Vi)return this.Vi;throw qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),xe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),xe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.fi,(r=>{const i=Ue.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return xe.or([()=>xe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hv{constructor(e,n){this.persistence=e,this.pi=new Iu((r=>E1e(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=DTe(this,n)}static mi(e,n){return new hv(e,n)}Ei(){}di(e){return xe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return xe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?xe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(s=>this.br(e,s,n).next((u=>{u||(r++,a.removeEntry(s,Ke.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),xe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),xe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),xe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yg(e.data.value)),n}br(e,n,r){return xe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return xe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=lt(),i=lt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new yA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Te{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KTe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vbe()?8:_1e(_r())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new $Te;return this.Ss(e,n,s).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,s,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(kc()<=ot.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Cc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),xe.resolve()):(kc()<=ot.DEBUG&&Ne("QueryEngine","Query:",Cc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(kc()<=ot.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Cc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wa(n))):xe.resolve())}ys(e,n){if(WL(n))return xe.resolve(null);let r=Wa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=IT(n,null,"F"),r=Wa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=lt(...a);return this.ps.getDocuments(e,s).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.Ds(n,u);return this.Cs(n,d,s,c.readTime)?this.ys(e,IT(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ws(e,n,r,i){return WL(n)||i.isEqual(Ke.min())?xe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?xe.resolve(null):(kc()<=ot.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cc(n)),this.vs(e,s,n,m1e(i,jh)).next((u=>u)))}))}Ds(e,n){let r=new Mn(Tj(e));return n.forEach(((i,a)=>{E0(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return kc()<=ot.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Cc(n)),this.ps.getDocumentsMatchingQuery(e,n,rl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="LocalStore",WTe=3e8;class YTe{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new en(st),this.xs=new Iu((a=>lA(a)),uA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UTe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function JTe(t,e,n,r){return new YTe(t,e,n,r)}async function $j(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],u=[];let c=lt();for(const d of i){s.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of a){u.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ls:d,removedBatchIds:s,addedBatchIds:u})))}))}))}function XTe(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,c,d,h){const p=d.batch,g=p.keys();let v=xe.resolve();return g.forEach((w=>{v=v.next((()=>h.getEntry(c,w))).next((S=>{const A=d.docVersions.get(w);xt(A!==null,48541),S.version.compareTo(A)<0&&(p.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),h.addEntry(S)))}))})),v.next((()=>u.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=lt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Kj(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function QTe(t,e){const n=Ye(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((h,p)=>{const g=i.get(p);if(!g)return;u.push(n.Pi.removeMatchingKeys(a,h.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,h.addedDocuments,p))));let v=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(lr.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),(function(S,A,C){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=WTe?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(g,v,h)&&u.push(n.Pi.updateTargetData(a,v))}));let c=$o(),d=lt();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),u.push(ZTe(a,s,e.documentUpdates).next((h=>{c=h.ks,d=h.qs}))),!r.isEqual(Ke.min())){const h=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(h)}return xe.waitFor(u).next((()=>s.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,c,d))).next((()=>c))})).then((a=>(n.Ms=i,a)))}function ZTe(t,e,n){let r=lt(),i=lt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let s=$o();return n.forEach(((u,c)=>{const d=a.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Ke.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):Ne(vA,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)})),{ks:s,qs:i}}))}function ewe(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=aA),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function twe(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,xe.resolve(i)):n.Pi.allocateTargetId(r).next((s=>(i=new Gs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function DT(t,e,n){const r=Ye(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Nd(s))throw s;Ne(vA,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function s4(t,e,n){const r=Ye(t);let i=Ke.min(),a=lt();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,d,h){const p=Ye(c),g=p.xs.get(h);return g!==void 0?xe.resolve(p.Ms.get(g)):p.Pi.getTargetData(d,h)})(r,s,Wa(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,u.targetId).next((c=>{a=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:Ke.min(),n?a:lt()))).next((u=>(nwe(r,j1e(e),u),{documents:u,Qs:a})))))}function nwe(t,e,n){let r=t.Os.get(e)||Ke.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class l4{constructor(){this.activeTargetIds=K1e()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rwe{constructor(){this.Mo=new l4,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new l4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iwe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="ConnectivityMonitor";class c4{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ne(u4,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ne(u4,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mg=null;function OT(){return Mg===null?Mg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mg++,"0x"+Mg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="RestConnection",awe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class owe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===ov?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=OT(),u=this.zo(e,n.toUriEncodedString());Ne(BE,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:d}=new URL(u),h=ml(d);return this.Jo(e,u,c,r,h).then((p=>(Ne(BE,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw ld(BE,`RPC '${e}' ${s} failed with error: `,p,"url: ",u,"request:",r),p}))}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Id})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=awe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class swe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection";class lwe extends owe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=OT();return new Promise(((u,c)=>{const d=new JB;d.setWithCredentials(!0),d.listenOnce(XB.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Wg.NO_ERROR:const p=d.getResponseJson();Ne(hr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),u(p);break;case Wg.TIMEOUT:Ne(hr,`RPC '${e}' ${s} timed out`),c(new Ie(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Wg.HTTP_ERROR:const g=d.getStatus();if(Ne(hr,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const S=(function(C){const U=C.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(U)>=0?U:ve.UNKNOWN})(w.status);c(new Ie(S,w.message))}else c(new Ie(ve.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ie(ve.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:s,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ne(hr,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);Ne(hr,`RPC '${e}' ${s} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=OT(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ej(),u=ZB(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=a.join("");Ne(hr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=s.createWebChannel(h,c);this.I_(p);let g=!1,v=!1;const w=new swe({Yo:A=>{v?Ne(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(Ne(hr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Ne(hr,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Zo:()=>p.close()}),S=(A,C,U)=>{A.listen(C,(M=>{try{U(M)}catch(F){setTimeout((()=>{throw F}),0)}}))};return S(p,ih.EventType.OPEN,(()=>{v||(Ne(hr,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),S(p,ih.EventType.CLOSE,(()=>{v||(v=!0,Ne(hr,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(p))})),S(p,ih.EventType.ERROR,(A=>{v||(v=!0,ld(hr,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),w.a_(new Ie(ve.UNAVAILABLE,"The operation could not be completed")))})),S(p,ih.EventType.MESSAGE,(A=>{var C;if(!v){const U=A.data[0];xt(!!U,16349);const M=U,F=(M==null?void 0:M.error)||((C=M[0])==null?void 0:C.error);if(F){Ne(hr,`RPC '${e}' stream ${i} received error:`,F);const q=F.status;let V=(function(L){const B=Sn[L];if(B!==void 0)return Dj(B)})(q),D=F.message;V===void 0&&(V=ve.INTERNAL,D="Unknown error status: "+q+" with message "+F.message),v=!0,w.a_(new Ie(V,D)),p.close()}else Ne(hr,`RPC '${e}' stream ${i} received:`,U),w.u_(U)}})),S(u,QB.STAT_EVENT,(A=>{A.stat===ET.PROXY?Ne(hr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===ET.NOPROXY&&Ne(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function jE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t){return new fTe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="PersistentStream";class Yj{constructor(e,n,r,i,a,s,u,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Wj(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Go(n.toString()),Go("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ie(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ne(d4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ne(d4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uwe extends Yj{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mTe(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ke.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ke.min():s.readTime?Ya(s.readTime):Ke.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=MT(this.serializer),n.addTarget=(function(a,s){let u;const c=s.target;if(u=kT(c)?{documents:vTe(a,c)}:{query:bTe(a,c).ft},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=Uj(a,s.resumeToken);const d=RT(a,s.expectedCount);d!==null&&(u.expectedCount=d)}else if(s.snapshotVersion.compareTo(Ke.min())>0){u.readTime=fv(a,s.snapshotVersion.toTimestamp());const d=RT(a,s.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=xTe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=MT(this.serializer),n.removeTarget=e,this.q_(n)}}class cwe extends Yj{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yTe(e.writeResults,e.commitTime),r=Ya(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=MT(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>gTe(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dwe{}class fwe extends dwe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ie(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Go(e,NT(n,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(ve.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,u])=>this.connection.Ho(e,NT(n,r),i,s,u,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(ve.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hwe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Go(n),this.aa=!1):Ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu="RemoteStore";class pwe{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((s=>{r.enqueueAndForget((async()=>{Ru(this)&&(Ne(bu,"Restarting streams for network reachability change."),await(async function(c){const d=Ye(c);d.Ea.add(4),await Rp(d),d.Ra.set("Unknown"),d.Ea.delete(4),await C0(d)})(this))}))})),this.Ra=new hwe(r,i)}}async function C0(t){if(Ru(t))for(const e of t.da)await e(!0)}async function Rp(t){for(const e of t.da)await e(!1)}function Jj(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),EA(n)?xA(n):Pd(n).O_()&&_A(n,e))}function bA(t,e){const n=Ye(t),r=Pd(n);n.Ia.delete(e),r.O_()&&Xj(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ru(n)&&n.Ra.set("Unknown"))}function _A(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pd(t).Y_(e)}function Xj(t,e){t.Va.Ue(e),Pd(t).Z_(e)}function xA(t){t.Va=new lTe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pd(t).start(),t.Ra.ua()}function EA(t){return Ru(t)&&!Pd(t).x_()&&t.Ia.size>0}function Ru(t){return Ye(t).Ea.size===0}function Qj(t){t.Va=void 0}async function mwe(t){t.Ra.set("Online")}async function gwe(t){t.Ia.forEach(((e,n)=>{_A(t,e)}))}async function ywe(t,e){Qj(t),EA(t)?(t.Ra.ha(e),xA(t)):t.Ra.set("Unknown")}async function vwe(t,e,n){if(t.Ra.set("Online"),e instanceof Lj&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Ne(bu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pv(t,r)}else if(e instanceof Qg?t.Va.Ze(e):e instanceof Oj?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ke.min()))try{const r=await Kj(t.localStore);n.compareTo(r)>=0&&await(function(a,s){const u=a.Va.Tt(s);return u.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ia.get(d);h&&a.Ia.set(d,h.withResumeToken(c.resumeToken,s))}})),u.targetMismatches.forEach(((c,d)=>{const h=a.Ia.get(c);if(!h)return;a.Ia.set(c,h.withResumeToken(lr.EMPTY_BYTE_STRING,h.snapshotVersion)),Xj(a,c);const p=new Gs(h.target,c,d,h.sequenceNumber);_A(a,p)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Ne(bu,"Failed to raise snapshot:",r),await pv(t,r)}}async function pv(t,e,n){if(!Nd(e))throw e;t.Ea.add(1),await Rp(t),t.Ra.set("Offline"),n||(n=()=>Kj(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ne(bu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await C0(t)}))}function Zj(t,e){return e().catch((n=>pv(t,n,e)))}async function I0(t){const e=Ye(t),n=sl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:aA;for(;bwe(e);)try{const i=await ewe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,_we(e,i)}catch(i){await pv(e,i)}ez(e)&&tz(e)}function bwe(t){return Ru(t)&&t.Ta.length<10}function _we(t,e){t.Ta.push(e);const n=sl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ez(t){return Ru(t)&&!sl(t).x_()&&t.Ta.length>0}function tz(t){sl(t).start()}async function xwe(t){sl(t).ra()}async function Ewe(t){const e=sl(t);for(const n of t.Ta)e.ea(n.mutations)}async function Twe(t,e,n){const r=t.Ta.shift(),i=fA.from(r,e,n);await Zj(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await I0(t)}async function wwe(t,e){e&&sl(t).X_&&await(async function(r,i){if((function(s){return aTe(s)&&s!==ve.ABORTED})(i.code)){const a=r.Ta.shift();sl(r).B_(),await Zj(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await I0(r)}})(t,e),ez(t)&&tz(t)}async function f4(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Ne(bu,"RemoteStore received new credentials");const r=Ru(n);n.Ea.add(3),await Rp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await C0(n)}async function Swe(t,e){const n=Ye(t);e?(n.Ea.delete(2),await C0(n)):e||(n.Ea.add(2),await Rp(n),n.Ra.set("Unknown"))}function Pd(t){return t.ma||(t.ma=(function(n,r,i){const a=Ye(n);return a.sa(),new uwe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:mwe.bind(null,t),t_:gwe.bind(null,t),r_:ywe.bind(null,t),H_:vwe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),EA(t)?xA(t):t.Ra.set("Unknown")):(await t.ma.stop(),Qj(t))}))),t.ma}function sl(t){return t.fa||(t.fa=(function(n,r,i){const a=Ye(n);return a.sa(),new cwe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xwe.bind(null,t),r_:wwe.bind(null,t),ta:Ewe.bind(null,t),na:Twe.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await I0(t)):(await t.fa.stop(),t.Ta.length>0&&(Ne(bu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,u=new TA(e,n,s,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wA(t,e){if(Go("AsyncQueue",`${e}: ${t}`),Nd(t))return new Ie(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{static emptySet(e){return new Yc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ue.comparator(n.key,r.key):(n,r)=>Ue.comparator(n.key,r.key),this.keyedMap=ah(),this.sortedSet=new en(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.ga=new en(Ue.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):qe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class hd{constructor(e,n,r,i,a,s,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach((u=>{s.push({type:0,doc:u})})),new hd(e,n,Yc.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&x0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Awe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kwe{constructor(){this.queries=p4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ye(n),a=i.queries;i.queries=p4(),a.forEach(((s,u)=>{for(const c of u.Sa)c.onError(r)}))})(this,new Ie(ve.ABORTED,"Firestore shutting down"))}}function p4(){return new Iu((t=>Ej(t)),x0)}async function nz(t,e){const n=Ye(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new Awe,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const u=wA(s,`Initialization of query '${Cc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&SA(n)}async function rz(t,e){const n=Ye(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Cwe(t,e){const n=Ye(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const u of s.Sa)u.Fa(i)&&(r=!0);s.wa=i}}r&&SA(n)}function Iwe(t,e,n){const r=Ye(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function SA(t){t.Ca.forEach((e=>{e.next()}))}var LT,m4;(m4=LT||(LT={})).Ma="default",m4.Cache="cache";class iz{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=hd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==LT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e){this.key=e}}class oz{constructor(e){this.key=e}}class Rwe{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=lt(),this.mutatedKeys=lt(),this.eu=Tj(e),this.tu=new Yc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new h4,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const g=i.get(h),v=E0(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let A=!1;g&&v?g.data.isEqual(v.data)?w!==S&&(r.track({type:3,doc:v}),A=!0):this.su(g,v)||(r.track({type:2,doc:v}),A=!0,(c&&this.eu(v,c)>0||d&&this.eu(v,d)<0)&&(u=!0)):!g&&v?(r.track({type:0,doc:v}),A=!0):g&&!v&&(r.track({type:1,doc:g}),A=!0,(c||d)&&(u=!0)),A&&(v?(s=s.add(v),a=S?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,p)=>(function(v,w){const S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Rt:A})}};return S(v)-S(w)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,s.length!==0||d?{snapshot:new hd(this.query,e.tu,a,s,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new oz(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new az(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=lt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return hd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const AA="SyncEngine";class Nwe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Pwe{constructor(e){this.key=e,this.hu=!1}}class Mwe{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Iu((u=>Ej(u)),x0),this.Iu=new Map,this.Eu=new Set,this.du=new en(Ue.comparator),this.Au=new Map,this.Ru=new mA,this.Vu={},this.mu=new Map,this.fu=fd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Dwe(t,e,n=!0){const r=fz(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await sz(r,e,n,!0),i}async function Owe(t,e){const n=fz(t);await sz(n,e,!0,!1)}async function sz(t,e,n,r){const i=await twe(t.localStore,Wa(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await Lwe(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Jj(t.remoteStore,i),u}async function Lwe(t,e,n,r,i){t.pu=(p,g,v)=>(async function(S,A,C,U){let M=A.view.ru(C);M.Cs&&(M=await s4(S.localStore,A.query,!1).then((({documents:D})=>A.view.ru(D,M))));const F=U&&U.targetChanges.get(A.targetId),q=U&&U.targetMismatches.get(A.targetId)!=null,V=A.view.applyChanges(M,S.isPrimaryClient,F,q);return y4(S,A.targetId,V.au),V.snapshot})(t,p,g,v);const a=await s4(t.localStore,e,!0),s=new Rwe(e,a.Qs),u=s.ru(a.documents),c=Ip.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=s.applyChanges(u,t.isPrimaryClient,c);y4(t,n,d.au);const h=new Nwe(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function Uwe(t,e,n){const r=Ye(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((s=>!x0(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await DT(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bA(r.remoteStore,i.targetId),UT(r,i.targetId)})).catch(Rd)):(UT(r,i.targetId),await DT(r.localStore,i.targetId,!0))}async function Vwe(t,e){const n=Ye(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bA(n.remoteStore,r.targetId))}async function Fwe(t,e,n){const r=$we(t);try{const i=await(function(s,u){const c=Ye(s),d=Gt.now(),h=u.reduce(((v,w)=>v.add(w.key)),lt());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let w=$o(),S=lt();return c.Ns.getEntries(v,h).next((A=>{w=A,w.forEach(((C,U)=>{U.isValidDocument()||(S=S.add(C))}))})).next((()=>c.localDocuments.getOverlayedDocuments(v,w))).next((A=>{p=A;const C=[];for(const U of u){const M=eTe(U,p.get(U.key).overlayedDocument);M!=null&&C.push(new vl(U.key,M,pj(M.value.mapValue),kr.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,C,u)})).next((A=>{g=A;const C=A.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(v,A.batchId,C)}))})).then((()=>({batchId:g.batchId,changes:Sj(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,u,c){let d=s.Vu[s.currentUser.toKey()];d||(d=new en(st)),d=d.insert(u,c),s.Vu[s.currentUser.toKey()]=d})(r,i.batchId,n),await Np(r,i.changes),await I0(r.remoteStore)}catch(i){const a=wA(i,"Failed to persist write");n.reject(a)}}async function lz(t,e){const n=Ye(t);try{const r=await QTe(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=n.Au.get(a);s&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?xt(s.hu,14607):i.removedDocuments.size>0&&(xt(s.hu,42227),s.hu=!1))})),await Np(n,r,e)}catch(r){await Rd(r)}}function g4(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,s)=>{const u=s.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(s,u){const c=Ye(s);c.onlineState=u;let d=!1;c.queries.forEach(((h,p)=>{for(const g of p.Sa)g.va(u)&&(d=!0)})),d&&SA(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Bwe(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new en(Ue.comparator);s=s.insert(a,yr.newNoDocument(a,Ke.min()));const u=lt().add(a),c=new A0(Ke.min(),new Map,new en(st),s,u);await lz(r,c),r.du=r.du.remove(a),r.Au.delete(e),kA(r)}else await DT(r.localStore,e,!1).then((()=>UT(r,e,n))).catch(Rd)}async function jwe(t,e){const n=Ye(t),r=e.batch.batchId;try{const i=await XTe(n.localStore,e);cz(n,r,null),uz(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Np(n,i)}catch(i){await Rd(i)}}async function zwe(t,e,n){const r=Ye(t);try{const i=await(function(s,u){const c=Ye(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return c.mutationQueue.lookupMutationBatch(d,u).next((p=>(xt(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(d,p)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>c.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);cz(r,e,n),uz(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Np(r,i)}catch(i){await Rd(i)}}function uz(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function cz(t,e,n){const r=Ye(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function UT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||dz(t,r)}))}function dz(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(bA(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),kA(t))}function y4(t,e,n){for(const r of n)r instanceof az?(t.Ru.addReference(r.key,e),qwe(t,r)):r instanceof oz?(Ne(AA,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||dz(t,r.key)):qe(19791,{wu:r})}function qwe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ne(AA,"New document in limbo: "+n),t.Eu.add(r),kA(t))}function kA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ue(Vt.fromString(e)),r=t.fu.next();t.Au.set(r,new Pwe(n)),t.du=t.du.insert(n,r),Jj(t.remoteStore,new Gs(Wa(cA(n.path)),r,"TargetPurposeLimboResolution",v0.ce))}}async function Np(t,e,n){const r=Ye(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{s.push(r.pu(c,e,n).then((d=>{var h;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(d){i.push(d);const p=yA.As(c.targetId,d);a.push(p)}})))})),await Promise.all(s),r.Pu.H_(i),await(async function(c,d){const h=Ye(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>xe.forEach(d,(g=>xe.forEach(g.Es,(v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>xe.forEach(g.ds,(v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!Nd(p))throw p;Ne(vA,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const v=h.Ms.get(g),w=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(w);h.Ms=h.Ms.insert(g,S)}}})(r.localStore,a))}async function Hwe(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Ne(AA,"User change. New user:",e.toKey());const r=await $j(n.localStore,e);n.currentUser=e,(function(a,s){a.mu.forEach((u=>{u.forEach((c=>{c.reject(new Ie(ve.CANCELLED,s))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Np(n,r.Ls)}}function Gwe(t,e){const n=Ye(t),r=n.Au.get(e);if(r&&r.hu)return lt().add(r.key);{let i=lt();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const u=n.Tu.get(s);i=i.unionWith(u.view.nu)}return i}}function fz(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gwe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bwe.bind(null,e),e.Pu.H_=Cwe.bind(null,e.eventManager),e.Pu.yu=Iwe.bind(null,e.eventManager),e}function $we(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jwe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zwe.bind(null,e),e}class mv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=k0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JTe(this.persistence,new KTe,e.initialUser,this.serializer)}Cu(e){return new Gj(gA.mi,this.serializer)}Du(e){return new rwe}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mv.provider={build:()=>new mv};class Kwe extends mv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xt(this.persistence.referenceDelegate instanceof hv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new PTe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Br.withCacheSize(this.cacheSizeBytes):Br.DEFAULT;return new Gj((r=>hv.mi(r,n)),this.serializer)}}class VT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hwe.bind(null,this.syncEngine),await Swe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kwe})()}createDatastore(e){const n=k0(e.databaseInfo.databaseId),r=(function(a){return new lwe(a)})(e.databaseInfo);return(function(a,s,u,c){return new fwe(a,s,u,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,s,u){return new pwe(r,i,a,s,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>g4(this.syncEngine,n,0)),(function(){return c4.v()?new c4:new iwe})())}createSyncEngine(e,n){return(function(i,a,s,u,c,d,h){const p=new Mwe(i,a,s,u,c,d);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=Ye(i);Ne(bu,"RemoteStore shutting down."),a.Ea.add(5),await Rp(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}VT.provider={build:()=>new VT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Go("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="FirestoreClient";class Wwe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gr.UNAUTHENTICATED,this.clientId=iA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{Ne(ll,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(Ne(ll,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function zE(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(ll,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await $j(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function v4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ywe(t);Ne(ll,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>f4(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>f4(e.remoteStore,i))),t._onlineComponents=e}async function Ywe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(ll,"Using user provided OfflineComponentProvider");try{await zE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ld("Error using user provided cache. Falling back to memory cache: "+n),await zE(t,new mv)}}else Ne(ll,"Using default OfflineComponentProvider"),await zE(t,new Kwe(void 0));return t._offlineComponents}async function pz(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(ll,"Using user provided OnlineComponentProvider"),await v4(t,t._uninitializedComponentsProvider._online)):(Ne(ll,"Using default OnlineComponentProvider"),await v4(t,new VT))),t._onlineComponents}function Jwe(t){return pz(t).then((e=>e.syncEngine))}async function mz(t){const e=await pz(t),n=e.eventManager;return n.onListen=Dwe.bind(null,e.syncEngine),n.onUnlisten=Uwe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Owe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Vwe.bind(null,e.syncEngine),n}function Xwe(t,e,n={}){const r=new Mo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,u,c,d){const h=new hz({next:g=>{h.Nu(),s.enqueueAndForget((()=>rz(a,p)));const v=g.docs.has(u);!v&&g.fromCache?d.reject(new Ie(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&c.source==="server"?d.reject(new Ie(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new iz(cA(u.path),h,{includeMetadataChanges:!0,qa:!0});return nz(a,p)})(await mz(t),t.asyncQueue,e,n,r))),r.promise}function Qwe(t,e,n={}){const r=new Mo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,u,c,d){const h=new hz({next:g=>{h.Nu(),s.enqueueAndForget((()=>rz(a,p))),g.fromCache&&c.source==="server"?d.reject(new Ie(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new iz(u,h,{includeMetadataChanges:!0,qa:!0});return nz(a,p)})(await mz(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz="firestore.googleapis.com",_4=!0;class x4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yz,this.ssl=_4}else this.host=e.host,this.ssl=e.ssl??_4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RTe)throw new Ie(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p1e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gz(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ie(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ie(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ie(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class R0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new i1e;switch(r.type){case"firstParty":return new l1e(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=b4.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),b4.delete(n),r.terminate())})(this),Promise.resolve()}}function Zwe(t,e,n,r={}){var d;t=Fi(t,R0);const i=ml(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(GS(`https://${u}`),$S("Firestore",!0)),a.host!==yz&&a.host!==u&&ld("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:u,ssl:i,emulatorOptions:r};if(!pu(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=gr.MOCK_USER;else{h=lB(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ie(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new gr(g)}t._authCredentials=new a1e(new nj(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Md(this.firestore,e,this._query)}}class pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}toJSON(){return{type:pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ap(n,pn._jsonSchema))return new pn(e,r||null,new Ue(Vt.fromString(n.referencePath)))}}pn._jsonSchemaVersion="firestore/documentReference/1.0",pn._jsonSchema={type:In("string",pn._jsonSchemaVersion),referencePath:In("string")};class Js extends Md{constructor(e,n,r){super(e,n,cA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new Ue(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function Kh(t,e,...n){if(t=$t(t),rj("collection","path",e),t instanceof R0){const r=Vt.fromString(e,...n);return DL(r),new Js(t,null,r)}{if(!(t instanceof pn||t instanceof Js))throw new Ie(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return DL(r),new Js(t.firestore,null,r)}}function fi(t,e,...n){if(t=$t(t),arguments.length===1&&(e=iA.newId()),rj("doc","path",e),t instanceof R0){const r=Vt.fromString(e,...n);return ML(r),new pn(t,null,new Ue(r))}{if(!(t instanceof pn||t instanceof Js))throw new Ie(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return ML(r),new pn(t.firestore,t instanceof Js?t.converter:null,new Ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="AsyncQueue";class T4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Wj(this,"async_queue_retry"),this._c=()=>{const r=jE();r&&Ne(E4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=jE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Mo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nd(e))throw e;Ne(E4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Go("INTERNAL UNHANDLED ERROR: ",w4(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=TA.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&qe(47125,{Pc:w4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function w4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class bl extends R0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new T4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T4(e),this._firestoreClient=void 0,await e}}}function eSe(t,e){const n=typeof t=="object"?t:YS(),r=typeof t=="string"?t:ov,i=f0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=aB("firestore");a&&Zwe(i,...a)}return i}function N0(t){if(t._terminated)throw new Ie(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tSe(t),t._firestoreClient}function tSe(t){var r,i,a;const e=t._freezeSettings(),n=(function(u,c,d,h){return new S1e(u,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,gz(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Wwe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pi(lr.fromBase64String(e))}catch(n){throw new Ie(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pi(lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ap(e,Pi._jsonSchema))return Pi.fromBase64String(e.bytes)}}Pi._jsonSchemaVersion="firestore/bytes/1.0",Pi._jsonSchema={type:In("string",Pi._jsonSchemaVersion),bytes:In("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ja._jsonSchemaVersion}}static fromJSON(e){if(Ap(e,Ja._jsonSchema))return new Ja(e.latitude,e.longitude)}}Ja._jsonSchemaVersion="firestore/geoPoint/1.0",Ja._jsonSchema={type:In("string",Ja._jsonSchemaVersion),latitude:In("number"),longitude:In("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ap(e,Xa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Xa(e.vectorValues);throw new Ie(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xa._jsonSchemaVersion="firestore/vectorValue/1.0",Xa._jsonSchema={type:In("string",Xa._jsonSchemaVersion),vectorValues:In("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nSe=/^__.*__$/;class rSe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cp(e,this.data,n,this.fieldTransforms)}}class vz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ac:t})}}class IA{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new IA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bz(this.Ac)&&nSe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iSe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||k0(e)}Cc(e,n,r,i=!1){return new IA({Ac:e,methodName:n,Dc:r,path:or.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mp(t){const e=t._freezeSettings(),n=k0(t._databaseId);return new iSe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RA(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);NA("Data must be an object, but it was:",s,r);const u=Ez(r,s);let c,d;if(a.merge)c=new ui(s.fieldMask),d=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const g=FT(e,p,n);if(!s.contains(g))throw new Ie(ve.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);wz(h,g)||h.push(g)}c=new ui(h),d=s.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,d=s.fieldTransforms;return new rSe(new zr(u),c,d)}class P0 extends CA{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof P0}}function _z(t,e,n,r){const i=t.Cc(1,e,n);NA("Data must be an object, but it was:",i,r);const a=[],s=zr.empty();yl(r,((c,d)=>{const h=PA(e,c,n);d=$t(d);const p=i.yc(h);if(d instanceof P0)a.push(h);else{const g=Dp(d,p);g!=null&&(a.push(h),s.set(h,g))}}));const u=new ui(a);return new vz(s,u,i.fieldTransforms)}function xz(t,e,n,r,i,a){const s=t.Cc(1,e,n),u=[FT(e,r,n)],c=[i];if(a.length%2!=0)throw new Ie(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)u.push(FT(e,a[g])),c.push(a[g+1]);const d=[],h=zr.empty();for(let g=u.length-1;g>=0;--g)if(!wz(d,u[g])){const v=u[g];let w=c[g];w=$t(w);const S=s.yc(v);if(w instanceof P0)d.push(v);else{const A=Dp(w,S);A!=null&&(d.push(v),h.set(v,A))}}const p=new ui(d);return new vz(h,p,s.fieldTransforms)}function aSe(t,e,n,r=!1){return Dp(n,t.Cc(r?4:3,e))}function Dp(t,e){if(Tz(t=$t(t)))return NA("Unsupported field value:",e,t),Ez(t,e);if(t instanceof CA)return(function(r,i){if(!bz(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const u of r){let c=Dp(u,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return W1e(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Gt.fromDate(r);return{timestampValue:fv(i.serializer,a)}}if(r instanceof Gt){const a=new Gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fv(i.serializer,a)}}if(r instanceof Ja)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pi)return{bytesValue:Uj(i.serializer,r._byteString)};if(r instanceof pn){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:pA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Xa)return(function(s,u){return{mapValue:{fields:{[fj]:{stringValue:hj},[sv]:{arrayValue:{values:s.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return dA(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${y0(r)}`)})(t,e)}function Ez(t,e){const n={};return oj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yl(t,((r,i)=>{const a=Dp(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function Tz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gt||t instanceof Ja||t instanceof Pi||t instanceof pn||t instanceof CA||t instanceof Xa)}function NA(t,e,n){if(!Tz(n)||!ij(n)){const r=y0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function FT(t,e,n){if((e=$t(e))instanceof Pp)return e._internalPath;if(typeof e=="string")return PA(t,e);throw gv("Field path arguments must be of type string or ",t,!1,void 0,n)}const oSe=new RegExp("[~\\*/\\[\\]]");function PA(t,e,n){if(e.search(oSe)>=0)throw gv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pp(...e.split("."))._internalPath}catch{throw gv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gv(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Ie(ve.INVALID_ARGUMENT,u+t+c)}function wz(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sSe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(MA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sSe extends Sz{data(){return super.data()}}function MA(t,e){return typeof e=="string"?PA(t,e):e instanceof Pp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lSe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DA{}class uSe extends DA{}function cSe(t,e,...n){let r=[];e instanceof DA&&r.push(e),r=r.concat(n),(function(a){const s=a.filter((c=>c instanceof OA)).length,u=a.filter((c=>c instanceof M0)).length;if(s>1||s>0&&u>0)throw new Ie(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class M0 extends uSe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new M0(e,n,r)}_apply(e){const n=this._parse(e);return Az(e._query,n),new Md(e.firestore,e.converter,CT(e._query,n))}_parse(e){const n=Mp(e.firestore);return(function(a,s,u,c,d,h,p){let g;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ie(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){A4(p,h);const w=[];for(const S of p)w.push(S4(c,a,S));g={arrayValue:{values:w}}}else g=S4(c,a,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||A4(p,h),g=aSe(u,s,p,h==="in"||h==="not-in");return Cn.create(d,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dSe(t,e,n){const r=e,i=MA("where",t);return M0._create(i,r,n)}class OA extends DA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new OA(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ua.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let s=i;const u=a.getFlattenedFilters();for(const c of u)Az(s,c),s=CT(s,c)})(e._query,n),new Md(e.firestore,e.converter,CT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function S4(t,e,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new Ie(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xj(e)&&n.indexOf("/")!==-1)throw new Ie(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Vt.fromString(n));if(!Ue.isDocumentKey(r))throw new Ie(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zL(t,new Ue(r))}if(n instanceof pn)return zL(t,n._key);throw new Ie(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${y0(n)}.`)}function A4(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Az(t,e){const n=(function(i,a){for(const s of i)for(const u of s.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ie(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fSe{convertValue(e,n="none"){switch(ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(al(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yl(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[sv].arrayValue)==null?void 0:i.values)==null?void 0:a.map((s=>hn(s.doubleValue)));return new Xa(n)}convertGeoPoint(e){return new Ja(hn(e.latitude),hn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zh(e));default:return null}}convertTimestamp(e){const n=il(e);return new Gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vt.fromString(e);xt(qj(r),9688,{name:e});const i=new qh(r.get(1),r.get(3)),a=new Ue(r.popFirst(5));return i.isEqual(n)||Go(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class sh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class su extends Sz{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(MA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=su._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}su._jsonSchemaVersion="firestore/documentSnapshot/1.0",su._jsonSchema={type:In("string",su._jsonSchemaVersion),bundleSource:In("string","DocumentSnapshot"),bundleName:In("string"),bundle:In("string")};class Zg extends su{data(e={}){return super.data(e)}}class Jc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new sh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Zg(this._firestore,this._userDataWriter,r.key,r,new sh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((u=>{const c=new Zg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new sh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const c=new Zg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new sh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return u.type!==0&&(d=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:hSe(u.type),doc:c,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hSe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(t){t=Fi(t,pn);const e=Fi(t.firestore,bl);return Xwe(N0(e),t._key).then((n=>pSe(e,t,n)))}Jc._jsonSchemaVersion="firestore/querySnapshot/1.0",Jc._jsonSchema={type:In("string",Jc._jsonSchemaVersion),bundleSource:In("string","QuerySnapshot"),bundleName:In("string"),bundle:In("string")};class Cz extends fSe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function Wh(t){t=Fi(t,Md);const e=Fi(t.firestore,bl),n=N0(e),r=new Cz(e);return lSe(t._query),Qwe(n,t._query).then((i=>new Jc(e,r,t,i)))}function Iz(t,e,n){t=Fi(t,pn);const r=Fi(t.firestore,bl),i=LA(t.converter,e,n);return Lp(r,[RA(Mp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,kr.none())])}function Op(t,e,n,...r){t=Fi(t,pn);const i=Fi(t.firestore,bl),a=Mp(i);let s;return s=typeof(e=$t(e))=="string"||e instanceof Pp?xz(a,"updateDoc",t._key,e,n,r):_z(a,"updateDoc",t._key,e),Lp(i,[s.toMutation(t._key,kr.exists(!0))])}function Rz(t){return Lp(Fi(t.firestore,bl),[new S0(t._key,kr.none())])}function Nz(t,e){const n=Fi(t.firestore,bl),r=fi(t),i=LA(t.converter,e);return Lp(n,[RA(Mp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kr.exists(!1))]).then((()=>r))}function Lp(t,e){return(function(r,i){const a=new Mo;return r.asyncQueue.enqueueAndForget((async()=>Fwe(await Jwe(r),i,a))),a.promise})(N0(t),e)}function pSe(t,e,n){const r=n.docs.get(e._key),i=new Cz(t);return new su(t,i,e._key,r,new sh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mSe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Mp(e)}set(e,n,r){this._verifyNotCommitted();const i=qE(e,this._firestore),a=LA(i.converter,n,r),s=RA(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,kr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=qE(e,this._firestore);let s;return s=typeof(n=$t(n))=="string"||n instanceof Pp?xz(this._dataReader,"WriteBatch.update",a._key,n,r,i):_z(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=qE(e,this._firestore);return this._mutations=this._mutations.concat(new S0(n._key,kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ie(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qE(t,e){if((t=$t(t)).firestore!==e)throw new Ie(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t){return N0(t=Fi(t,bl)),new mSe(t,(e=>Lp(t,e)))}(function(e,n=!0){(function(i){Id=i})(ku),mu(new nl("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),u=new bl(new o1e(r.getProvider("auth-internal")),new u1e(s,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ie(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qh(d.options.projectId,h)})(s,i),s);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Ha(IL,RL,e),Ha(IL,RL,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz="firebasestorage.googleapis.com",Mz="storageBucket",gSe=120*1e3,ySe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn extends ro{constructor(e,n,r=0){super(HE(e),`Firebase Storage: ${n} (${HE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,sn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return HE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var on;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(on||(on={}));function HE(t){return"storage/"+t}function VA(){const t="An unknown error occurred, please check the error payload for server response.";return new sn(on.UNKNOWN,t)}function vSe(t){return new sn(on.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function bSe(t){return new sn(on.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _Se(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new sn(on.UNAUTHENTICATED,t)}function xSe(){return new sn(on.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ESe(t){return new sn(on.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function TSe(){return new sn(on.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wSe(){return new sn(on.CANCELED,"User canceled the upload/download.")}function SSe(t){return new sn(on.INVALID_URL,"Invalid URL '"+t+"'.")}function ASe(t){return new sn(on.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function kSe(){return new sn(on.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Mz+"' property when initializing the app?")}function CSe(){return new sn(on.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ISe(){return new sn(on.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function RSe(t){return new sn(on.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function BT(t){return new sn(on.INVALID_ARGUMENT,t)}function Dz(){return new sn(on.APP_DELETED,"The Firebase app was deleted.")}function NSe(t){return new sn(on.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _h(t,e){return new sn(on.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Zf(t){throw new sn(on.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ci.makeFromUrl(e,n)}catch{return new ci(e,"")}if(r.path==="")return r;throw ASe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const s="(/(.*))?$",u=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function d(F){F.path_=decodeURIComponent(F.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${h}/b/${i}/o${g}`,"i"),w={bucket:1,path:3},S=n===Pz?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",C=new RegExp(`^https?://${S}/${i}/${A}`,"i"),M=[{regex:u,indices:c,postModify:a},{regex:v,indices:w,postModify:d},{regex:C,indices:{bucket:1,path:2},postModify:d}];for(let F=0;F<M.length;F++){const q=M[F],V=q.regex.exec(e);if(V){const D=V[q.indices.bucket];let O=V[q.indices.path];O||(O=""),r=new ci(D,O),q.postModify(r);break}}if(r==null)throw SSe(e);return r}}class PSe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MSe(t,e,n){let r=1,i=null,a=null,s=!1,u=0;function c(){return u===2}let d=!1;function h(...A){d||(d=!0,e.apply(null,A))}function p(A){i=setTimeout(()=>{i=null,t(v,c())},A)}function g(){a&&clearTimeout(a)}function v(A,...C){if(d){g();return}if(A){g(),h.call(null,A,...C);return}if(c()||s){g(),h.call(null,A,...C);return}r<64&&(r*=2);let M;u===1?(u=2,M=0):M=(r+Math.random())*1e3,p(M)}let w=!1;function S(A){w||(w=!0,g(),!d&&(i!==null?(A||(u=2),clearTimeout(i),p(0)):A||(u=1)))}return p(0),a=setTimeout(()=>{s=!0,S(!0)},n),S}function DSe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OSe(t){return t!==void 0}function LSe(t){return typeof t=="object"&&!Array.isArray(t)}function FA(t){return typeof t=="string"||t instanceof String}function k4(t){return BA()&&t instanceof Blob}function BA(){return typeof Blob<"u"}function C4(t,e,n,r){if(r<e)throw BT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw BT(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Oz(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var lu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(lu||(lu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function USe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VSe{constructor(e,n,r,i,a,s,u,c,d,h,p,g=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,S)=>{this.resolve_=w,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Dg(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const u=a.getErrorCode()===lu.NO_ERROR,c=a.getStatus();if(!u||USe(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===lu.ABORT;r(!1,new Dg(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Dg(d,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());OSe(c)?a(c):a()}catch(c){s(c)}else if(u!==null){const c=VA();c.serverResponse=u.getErrorText(),this.errorCallback_?s(this.errorCallback_(u,c)):s(c)}else if(i.canceled){const c=this.appDelete_?Dz():wSe();s(c)}else{const c=TSe();s(c)}};this.canceled_?n(!1,new Dg(!1,null,!0)):this.backoffId_=MSe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&DSe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function FSe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BSe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jSe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function zSe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function qSe(t,e,n,r,i,a,s=!0,u=!1){const c=Oz(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return jSe(h,e),FSe(h,n),BSe(h,a),zSe(h,r),new VSe(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HSe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function GSe(...t){const e=HSe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(BA())return new Blob(t);throw new sn(on.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $Se(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KSe(t){if(typeof atob>"u")throw RSe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class GE{constructor(e,n){this.data=e,this.contentType=n||null}}function WSe(t,e){switch(t){case za.RAW:return new GE(Lz(e));case za.BASE64:case za.BASE64URL:return new GE(Uz(t,e));case za.DATA_URL:return new GE(JSe(e),XSe(e))}throw VA()}function Lz(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function YSe(t){let e;try{e=decodeURIComponent(t)}catch{throw _h(za.DATA_URL,"Malformed data URL.")}return Lz(e)}function Uz(t,e){switch(t){case za.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw _h(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case za.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw _h(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=KSe(e)}catch(i){throw i.message.includes("polyfill")?i:_h(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Vz{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw _h(za.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=QSe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function JSe(t){const e=new Vz(t);return e.base64?Uz(za.BASE64,e.rest):YSe(e.rest)}function XSe(t){return new Vz(t).contentType}function QSe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){let r=0,i="";k4(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(k4(this.data_)){const r=this.data_,i=$Se(r,e,n);return i===null?null:new Hs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Hs(r,!0)}}static getBlob(...e){if(BA()){const n=e.map(r=>r instanceof Hs?r.data_:r);return new Hs(GSe.apply(null,n))}else{const n=e.map(s=>FA(s)?WSe(za.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let u=0;u<s.length;u++)i[a++]=s[u]}),new Hs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(t){let e;try{e=JSON.parse(t)}catch{return null}return LSe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZSe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function eAe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Bz(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tAe(t,e){return e}class wr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||tAe}}let Og=null;function nAe(t){return!FA(t)||t.length<2?t:Bz(t)}function jz(){if(Og)return Og;const t=[];t.push(new wr("bucket")),t.push(new wr("generation")),t.push(new wr("metageneration")),t.push(new wr("name","fullPath",!0));function e(a,s){return nAe(s)}const n=new wr("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new wr("size");return i.xform=r,t.push(i),t.push(new wr("timeCreated")),t.push(new wr("updated")),t.push(new wr("md5Hash",null,!0)),t.push(new wr("cacheControl",null,!0)),t.push(new wr("contentDisposition",null,!0)),t.push(new wr("contentEncoding",null,!0)),t.push(new wr("contentLanguage",null,!0)),t.push(new wr("contentType",null,!0)),t.push(new wr("metadata","customMetadata",!0)),Og=t,Og}function rAe(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new ci(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function iAe(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return rAe(r,t),r}function zz(t,e,n){const r=Fz(e);return r===null?null:iAe(t,r,n)}function aAe(t,e,n,r){const i=Fz(e);if(i===null||!FA(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(d=>{const h=t.bucket,p=t.fullPath,g="/b/"+s(h)+"/o/"+s(p),v=jA(g,n,r),w=Oz({alt:"media",token:d});return v+w})[0]}function oAe(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class qz{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(t){if(!t)throw VA()}function sAe(t,e){function n(r,i){const a=zz(t,i,e);return Hz(a!==null),a}return n}function lAe(t,e){function n(r,i){const a=zz(t,i,e);return Hz(a!==null),aAe(a,i,t.host,t._protocol)}return n}function Gz(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=xSe():i=_Se():n.getStatus()===402?i=bSe(t.bucket):n.getStatus()===403?i=ESe(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function uAe(t){const e=Gz(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=vSe(t.path)),a.serverResponse=i.serverResponse,a}return n}function cAe(t,e,n){const r=e.fullServerUrl(),i=jA(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,u=new qz(i,a,lAe(t,n),s);return u.errorHandler=uAe(e),u}function dAe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function fAe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=dAe(null,e)),r}function hAe(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function u(){let M="";for(let F=0;F<2;F++)M=M+Math.random().toString().slice(2);return M}const c=u();s["Content-Type"]="multipart/related; boundary="+c;const d=fAe(e,r,i),h=oAe(d,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+c+"--",v=Hs.getBlob(p,r,g);if(v===null)throw CSe();const w={name:d.fullPath},S=jA(a,t.host,t._protocol),A="POST",C=t.maxUploadRetryTime,U=new qz(S,A,sAe(t,n),C);return U.urlParams=w,U.headers=s,U.body=v.uploadData(),U.errorHandler=Gz(e),U}class pAe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Zf("cannot .send() more than once");if(ml(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mAe extends pAe{initXhr(){this.xhr_.responseType="text"}}function $z(){return new mAe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this._service=e,n instanceof ci?this._location=n:this._location=ci.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _u(e,n)}get root(){const e=new ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Bz(this._location.path)}get storage(){return this._service}get parent(){const e=ZSe(this._location.path);if(e===null)return null;const n=new ci(this._location.bucket,e);return new _u(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw NSe(e)}}function gAe(t,e,n){t._throwIfRoot("uploadBytes");const r=hAe(t.storage,t._location,jz(),new Hs(e,!0),n);return t.storage.makeRequestWithTokens(r,$z).then(i=>({metadata:i,ref:t}))}function yAe(t){t._throwIfRoot("getDownloadURL");const e=cAe(t.storage,t._location,jz());return t.storage.makeRequestWithTokens(e,$z).then(n=>{if(n===null)throw ISe();return n})}function vAe(t,e){const n=eAe(t._location.path,e),r=new ci(t._location.bucket,n);return new _u(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bAe(t){return/^[A-Za-z]+:\/\//.test(t)}function _Ae(t,e){return new _u(t,e)}function Kz(t,e){if(t instanceof zA){const n=t;if(n._bucket==null)throw kSe();const r=new _u(n,n._bucket);return e!=null?Kz(r,e):r}else return e!==void 0?vAe(t,e):t}function xAe(t,e){if(e&&bAe(e)){if(t instanceof zA)return _Ae(t,e);throw BT("To use ref(service, url), the first argument must be a Storage instance.")}else return Kz(t,e)}function I4(t,e){const n=e==null?void 0:e[Mz];return n==null?null:ci.makeFromBucketSpec(n,t)}function EAe(t,e,n,r={}){t.host=`${e}:${n}`;const i=ml(e);i&&(GS(`https://${t.host}/b`),$S("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:lB(a,t.app.options.projectId))}class zA{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=Pz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gSe,this._maxUploadRetryTime=ySe,this._requests=new Set,i!=null?this._bucket=ci.makeFromBucketSpec(i,this._host):this._bucket=I4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ci.makeFromBucketSpec(this._url,e):this._bucket=I4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){C4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){C4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _u(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new PSe(Dz());{const s=qSe(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const R4="@firebase/storage",N4="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz="storage";function TAe(t,e,n){return t=$t(t),gAe(t,e,n)}function wAe(t){return t=$t(t),yAe(t)}function SAe(t,e){return t=$t(t),xAe(t,e)}function AAe(t=YS(),e){t=$t(t);const r=f0(t,Wz).getImmediate({identifier:e}),i=aB("storage");return i&&kAe(r,...i),r}function kAe(t,e,n,r={}){EAe(t,e,n,r)}function CAe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new zA(n,r,i,e,ku)}function IAe(){mu(new nl(Wz,CAe,"PUBLIC").setMultipleInstances(!0)),Ha(R4,N4,""),Ha(R4,N4,"esm2020")}IAe();const RAe={apiKey:"AIzaSyCdI_a4JK94rFbNCw8OFonvA_KTXE7Lgyw",authDomain:"eltonvanplan.firebaseapp.com",projectId:"eltonvanplan",storageBucket:"eltonvanplan.appspot.com",messagingSenderId:"329886252808",appId:"1:329886252808:web:3921c45dd741b68ef5b6bd"},qA=dB(RAe),Oi=eSe(qA),xu=e1e(qA),NAe=AAe(qA),PAe={url:typeof window<"u"?window.location.origin:"http://localhost:5173",handleCodeInApp:!0},MAe=async t=>{try{const e={...PAe,url:window.location.origin};return await Uxe(xu,t,e),window.localStorage.setItem("emailForSignIn",t),{success:!0}}catch(e){return console.error("Error sending email link",e),{success:!1,error:e.message}}},DAe=async()=>{if(Vxe(xu,window.location.href)){let t=window.localStorage.getItem("emailForSignIn");if(t||(t=window.prompt("Vnligen bekrfta din e-postadress fr att logga in:")),t)try{const e=await Fxe(xu,t,window.location.href);return window.localStorage.removeItem("emailForSignIn"),window.history.replaceState({},document.title,window.location.pathname),{success:!0,user:e.user}}catch(e){return console.error("Error signing in",e),{success:!1,error:e.message}}}return{success:!1,error:"Not a sign-in link"}},OAe=async(t,e)=>{try{return{success:!0,user:(await Lxe(xu,t,e)).user}}catch(n){console.error("Login failed",n);let r=n.message;return n.code==="auth/invalid-credential"&&(r="Fel e-post eller lsenord."),{success:!1,error:r}}},LAe=async(t,e)=>{try{return{success:!0,user:(await Oxe(xu,t,e)).user}}catch(n){console.error("Registration failed",n);let r=n.message;return n.code==="auth/email-already-in-use"&&(r="Adressen anvnds redan."),n.code==="auth/weak-password"&&(r="Lsenordet r fr svagt (minst 6 tecken)."),{success:!1,error:r}}},UAe=async()=>{await qxe(xu)},VAe=t=>zxe(xu,t);function Yz(t){return fi(Oi,"projects",t)}const Dd=t=>Kh(Oi,"projects",t,"tasks"),Od=t=>Kh(Oi,"projects",t,"shoppingList"),FAe=async(t,e)=>{const n=wg.id;console.log(`Seeding database for project ${n} and owner: ${t} (${e})...`);const r=UA(Oi),i=fi(Oi,"projects",n),a={...wg,ownerId:e,ownerEmail:t,created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!0,tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[]};r.set(i,a);const s=Dd(n);for(const c of wg.tasks){const d=fi(s,c.id);r.set(d,c)}const u=Od(n);for(const c of wg.shoppingItems){const d=fi(u,c.id);r.set(d,c)}await r.commit(),console.log("Database seeded successfully.")},BAe=async(t,e)=>{const n=fi(Oi,"users",t),r=await kz(n);if(r.exists())return r.data();{const i=e.split("@")[0],a=i.charAt(0).toUpperCase()+i.slice(1),s={uid:t,email:e,name:a};return await Iz(n,s),s}},Jz=async(t,e)=>{const n=fi(Oi,"users",t);await Op(n,e)},jAe=async t=>{const e=cSe(Kh(Oi,"projects"),dSe("ownerId","==",t)),n=await Wh(e),r=[];return n.forEach(i=>{r.push({id:i.id,...i.data()})}),r},zAe=async t=>{const e=await kz(Yz(t));return e.exists()?{id:e.id,...e.data()}:null},qAe=async(t,e,n,r,i)=>{const a=fi(Kh(Oi,"projects")),s=new Date().getFullYear();let u={make:e.split(" ")[0]||"Oknd",model:e.split(" ").slice(1).join(" ")||"Modell",year:s,prodYear:s,regNo:"",regDate:new Date().toISOString().split("T")[0],status:"I trafik",bodyType:"Skp",passengers:3,inspection:{last:"",next:"",mileage:""},engine:{fuel:"Diesel",power:"",volume:""},gearbox:"Manuell",wheels:{drive:"2WD",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:1,events:0,lastOwnerChange:""}};i!=null&&i.vehicleData&&(u={...u,...i.vehicleData});const c={id:a.id,name:t,ownerId:n,ownerEmail:r,created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!1,vehicleData:u,tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],customIcon:(i==null?void 0:i.customIcon)||null};if(await Iz(a,c),i!=null&&i.tasks&&i.tasks.length>0){const d=Kh(Oi,"projects",a.id,"tasks"),h=UA(Oi);for(const p of i.tasks){const g=fi(d),v={...p,id:g.id,priority:p.priority||"Medel",phase:p.phase||"Fas 0: Inkp & Analys"};h.set(g,v)}await h.commit()}return c},HAe=async t=>{const e=await Wh(Dd(t)),n=await Wh(Od(t)),r=UA(Oi);e.forEach(i=>r.delete(i.ref)),n.forEach(i=>r.delete(i.ref)),r.delete(Yz(t)),await r.commit()},GAe=async t=>(await Wh(Dd(t))).docs.map(n=>n.data()),$Ae=async(t,e)=>{const n=await Nz(Dd(t),e);return await Op(n,{id:n.id}),{...e,id:n.id}},KAe=async(t,e,n)=>{const r=fi(Dd(t),e);await Op(r,n)},WAe=async(t,e)=>{const n=fi(Dd(t),e);await Rz(n)},YAe=async t=>(await Wh(Od(t))).docs.map(n=>n.data()),JAe=async(t,e)=>{const n=await Nz(Od(t),e);return await Op(n,{id:n.id}),{...e,id:n.id}},XAe=async(t,e,n)=>{const r=fi(Od(t),e);await Op(r,n)},QAe=async(t,e)=>{const n=fi(Od(t),e);await Rz(n)},ZAe=({onDemo:t})=>{const[e,n]=R.useState("magic-link"),[r,i]=R.useState(""),[a,s]=R.useState(""),[u,c]=R.useState(""),[d,h]=R.useState(!1),[p,g]=R.useState(!1),[v,w]=R.useState(null),S=async()=>{if(r){w(null),h(!0);try{if(e==="magic-link"){const A=await MAe(r);A.success?g(!0):w(A.error||"Kunde inte skicka lnk.")}else if(e==="login"){const A=await OAe(r,a);A.success||w(A.error||"Inloggning misslyckades.")}else if(e==="register"){if(!u.trim()){w("Vnligen ange ditt namn."),h(!1);return}const A=await LAe(r,a);A.success&&A.user?await Jz(A.user.uid,{name:u,email:r}):w(A.error||"Registrering misslyckades.")}}catch{w("Ett ovntat fel uppstod.")}finally{h(!1)}}};return T.jsxs("div",{className:"min-h-screen bg-nordic-ice flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-teal-100 rounded-full blur-[100px] opacity-50"}),T.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-rose-100 rounded-full blur-[100px] opacity-50"}),T.jsxs("div",{className:"max-w-md w-full bg-white/80 backdrop-blur-xl p-8 rounded-[40px] shadow-2xl border border-white z-10 relative transition-all duration-300",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal mb-2",children:"The VanPlan"}),T.jsx("p",{className:"text-slate-500 text-sm tracking-wide uppercase",children:"Ditt digitala garage"})]}),p?T.jsxs("div",{className:"text-center space-y-6 py-8 animate-fade-in",children:[T.jsx("div",{className:"w-20 h-20 bg-teal-100 text-teal-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:T.jsx(t0,{size:40})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal mb-2",children:"Lnk skickad!"}),T.jsxs("p",{className:"text-slate-500",children:["Vi har skickat ett mail till ",T.jsx("span",{className:"font-bold text-nordic-charcoal",children:r}),"."]}),T.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Klicka p lnken i mailet fr att logga in. Du kan stnga denna flik om du ppnar lnken p samma enhet."})]}),T.jsx("button",{onClick:()=>g(!1),className:"text-sm text-slate-400 hover:text-nordic-charcoal underline",children:"Skickade jag fel adress?"})]}):T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex p-1 bg-slate-100 rounded-xl mb-6",children:[T.jsx("button",{onClick:()=>{n("magic-link"),w(null)},className:Ot("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e==="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Magisk Lnk"}),T.jsx("button",{onClick:()=>{n("login"),w(null)},className:Ot("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e!=="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Lsenord"})]}),T.jsxs("div",{className:"text-center mb-4",children:[T.jsxs("h2",{className:"text-lg font-bold text-nordic-charcoal",children:[e==="magic-link"&&"Lsenordsfri inloggning",e==="login"&&"Logga in",e==="register"&&"Vlkommen! Vad heter du?"]}),T.jsxs("p",{className:"text-xs text-slate-500",children:[e==="magic-link"&&"Vi skickar en inloggningslnk till din e-post.",e==="login"&&"Logga in med ditt lsenord.",e==="register"&&"Skapa ett konto fr att komma igng."]})]}),T.jsxs("div",{className:"space-y-3",children:[e==="register"&&T.jsxs("div",{className:"relative animate-fade-in",children:[T.jsx(O5,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),T.jsx("input",{type:"text",value:u,onChange:A=>c(A.target.value),placeholder:"Ditt namn",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),T.jsxs("div",{className:"relative",children:[T.jsx(RM,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),T.jsx("input",{type:"email",value:r,onChange:A=>i(A.target.value),placeholder:"din@epost.se",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),e!=="magic-link"&&T.jsxs("div",{className:"relative animate-fade-in",children:[T.jsx(xS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),T.jsx("input",{type:"password",value:a,onChange:A=>s(A.target.value),placeholder:"Lsenord",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]})]}),v&&T.jsx("div",{className:"p-3 bg-rose-50 border border-rose-100 rounded-xl animate-fade-in",children:T.jsx("p",{className:"text-xs text-rose-600 font-medium text-center",children:v})}),T.jsxs("button",{onClick:S,disabled:d||!r||e!=="magic-link"&&!a,className:"w-full py-4 bg-nordic-charcoal text-white font-bold rounded-2xl shadow-lg shadow-slate-300 hover:bg-slate-800 transition-all active:scale-95 flex items-center justify-center gap-2 mt-4 disabled:opacity-50",children:[d?T.jsx(Td,{className:"animate-spin",size:18}):e==="magic-link"?T.jsx(RM,{size:18}):T.jsx(S5,{size:18}),d?"Arbetar...":e==="magic-link"?"Skicka lnk":e==="login"?"Logga in":"Skapa konto"]}),e!=="magic-link"&&T.jsx("div",{className:"text-center mt-2",children:T.jsx("button",{onClick:()=>{n(e==="login"?"register":"login"),w(null)},className:"text-xs text-slate-400 hover:text-teal-600 font-medium transition-colors",children:e==="login"?"Inget konto? Registrera dig hr.":"Har du redan konto? Logga in."})}),T.jsxs("div",{className:"relative my-8 text-center",children:[T.jsx("div",{className:"h-px bg-slate-200 w-full absolute top-1/2"}),T.jsx("span",{className:"bg-white px-3 text-xs text-slate-400 relative z-10 font-medium",children:"ELLER"})]}),T.jsxs("button",{onClick:t,className:"w-full py-4 bg-teal-50 text-teal-800 font-bold rounded-2xl border border-teal-100 hover:bg-teal-100 transition-colors flex items-center justify-center gap-2",children:[T.jsx(jae,{size:18})," Visa Demo (Elton)"]})]}),T.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-8",children:" 2025 The VanPlan. Autentisering via Google Firebase."})]})]})},eke=({user:t,projects:e,onSelectProject:n,onCreateProject:r,onLogout:i,onDeleteProject:a,onSeed:s})=>{const[u,c]=R.useState(!1),[d,h]=R.useState(""),[p,g]=R.useState(!1),[v,w]=R.useState(0),[S,A]=R.useState(null),C=[" Analyserar fordonsmodell & Regnr..."," Hmtar tekniska specifikationer (Transportstyrelsen)..."," Letar efter vanliga fel & manualer..."," Skapar serviceplan & uppgifter..."," Skriver djuplodande detektiv-analys..."," Mlar fordonets portrtt (AI-ikon)..."," Frdigstller ditt garage..."],U=F=>{var V;const q=(V=F.target.files)==null?void 0:V[0];if(q){const D=new FileReader;D.onloadend=()=>{A(D.result)},D.readAsDataURL(q)}},M=async()=>{var q;if(!d.trim()&&!S)return;g(!0);const F=setInterval(()=>{w(V=>V<C.length-1?V+1:V)},3e3);try{const V=S?S.split(",")[1]:void 0,[D,O]=await Promise.allSettled([K0e(d,V),V?$0e(V):Promise.resolve(null)]),L=D.status==="fulfilled"?D.value:{},B=O.status==="fulfilled"?O.value:null;clearInterval(F);let P=L.projectName||d;P&&(P.length>30||P.includes("http"))&&(P=P.split(",")[0].replace(/https?:\/\/\S+/g,"").trim()),P||(P="Nytt Projekt");const j=[];L.analysisReport&&j.push({id:"initial-analysis",title:L.analysisReport.title||"Initial Fordonsanalys",summary:L.analysisReport.summary||"AI-genererad rapport vid projektstart.",content:L.analysisReport.content||"",tags:["Analys","Historik","AI"]});const H={name:P,customIcon:B||void 0,vehicleData:{...rse.vehicleData,...L.vehicleData,regNo:((q=L.vehicleData)==null?void 0:q.regNo)||"???"},knowledgeArticles:j,tasks:(L.initialTasks||[]).map(de=>{var te;return{...de,status:_t.TODO,actualCost:0,weightKg:0,costType:Vr.OPERATION,phase:de.phase||pr.PLANNING,priority:de.priority||rr.MEDIUM,tags:["AI-Genererad"],links:[],comments:[],attachments:[],subtasks:((te=de.subtasks)==null?void 0:te.map(X=>({...X,id:Math.random().toString(36).substr(2,9),completed:!1})))||[]}})};r(H),c(!1),h(""),A(null),g(!1),w(0)}catch(V){console.error("Failed to create project",V),g(!1),clearInterval(F)}};return T.jsxs("div",{className:"min-h-screen bg-nordic-ice p-6",children:[T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsxs("div",{className:"flex justify-between items-center mb-12",children:[T.jsxs("div",{children:[T.jsxs("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal",children:["Vlkommen, ",t.name]}),T.jsx("p",{className:"text-slate-500",children:"Vlj ett fordon att jobba med"})]}),T.jsxs("div",{className:"flex gap-2",children:[s&&T.jsx("button",{onClick:s,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-teal-600 transition-colors",title:"terstll Demo",children:T.jsx(Vc,{size:20})}),T.jsx("button",{onClick:i,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-rose-500 transition-colors",children:T.jsx(I5,{size:20})})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"bg-white/50 border-2 border-dashed border-slate-300 rounded-[32px] p-8 flex flex-col items-center justify-center text-center hover:bg-white hover:border-teal-400 hover:shadow-lg transition-all cursor-pointer group min-h-[250px]",onClick:()=>c(!0),children:[T.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mb-4 group-hover:scale-110 transition-transform",children:T.jsx(Uc,{size:32})}),T.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal",children:"Nytt Projekt"}),T.jsx("p",{className:"text-sm text-slate-500",children:"Lgg till en ny van"})]}),e.map(F=>{var q,V;return T.jsxs("div",{onClick:()=>n(F.id),className:"bg-white rounded-[32px] p-8 shadow-xl shadow-slate-200/50 border border-white hover:border-teal-200 hover:scale-[1.02] transition-all cursor-pointer relative overflow-hidden group min-h-[250px] flex flex-col justify-between",children:[F.isDemo&&T.jsxs("div",{className:"absolute top-4 right-4 bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:[T.jsx(xS,{size:10})," Demo"]}),!F.isDemo&&a&&T.jsx("button",{onClick:D=>{D.stopPropagation(),a(F.id)},className:"absolute top-4 right-4 p-2 bg-white rounded-full text-slate-300 hover:text-rose-500 hover:bg-rose-50 shadow-sm transition-all z-10 opacity-0 group-hover:opacity-100",title:"Radera projekt",children:T.jsx(Fc,{size:16})}),T.jsxs("div",{children:[T.jsx("div",{className:"w-16 h-16 bg-nordic-charcoal text-white rounded-2xl flex items-center justify-center mb-6 shadow-lg overflow-hidden border border-slate-100",children:F.customIcon?T.jsx("img",{src:`data:image/png;base64,${F.customIcon}`,alt:"Icon",className:"w-full h-full object-cover"}):T.jsx($1,{size:32})}),T.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1 line-clamp-2",children:F.name}),T.jsxs("p",{className:"text-slate-500 text-sm",children:[F.vehicleData.model," (",F.vehicleData.year,")"]})]}),T.jsxs("div",{className:"flex justify-between items-end mt-8",children:[T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((q=F.tasks)==null?void 0:q.filter(D=>D.status!=="Klart").length)||0," Att gra"]}),T.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((V=F.shoppingItems)==null?void 0:V.filter(D=>!D.checked).length)||0," Att kpa"]})]}),T.jsx("div",{className:"w-10 h-10 bg-nordic-ice rounded-full flex items-center justify-center text-nordic-charcoal group-hover:bg-teal-500 group-hover:text-white transition-colors",children:T.jsx(k5,{size:20})})]})]},F.id)})]})]}),u&&T.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:T.jsx("div",{className:"bg-white w-full max-w-lg p-8 rounded-[40px] shadow-2xl animate-fade-in relative overflow-hidden",children:p?T.jsxs("div",{className:"text-center py-8",children:[T.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[T.jsx("div",{className:"absolute inset-0 border-4 border-slate-100 rounded-full"}),T.jsx("div",{className:"absolute inset-0 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"}),T.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-teal-600",children:T.jsx(Y1,{size:24})})]}),T.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-2",children:"Research pgr..."}),T.jsx("p",{className:"text-slate-400 text-sm mb-8",children:"Elton letar data hos Transportstyrelsen..."}),T.jsx("div",{className:"space-y-3 text-left max-w-xs mx-auto",children:C.map((F,q)=>T.jsxs("div",{className:`flex items-center gap-3 transition-all duration-500 ${q<=v?"opacity-100":"opacity-30 translate-y-2"}`,children:[q<v?T.jsx(el,{size:20,className:"text-green-500"}):q===v?T.jsx(Td,{size:20,className:"text-teal-500 animate-spin"}):T.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-slate-200"}),T.jsx("span",{className:`font-medium ${q===v?"text-teal-700":"text-slate-600"}`,children:F})]},q))})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mx-auto mb-4",children:T.jsx(Vc,{size:32})}),T.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal mb-2",children:"Starta nytt projekt"}),T.jsx("p",{className:"text-slate-500",children:"Ange registreringsnummer fr bst resultat!"})]}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fordonsbeskrivning, Lnk eller Regnr"}),T.jsx("textarea",{className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[100px] text-lg text-nordic-charcoal placeholder:text-slate-300",placeholder:"t.ex. 'JSN398' eller 'Mercedes Sprinter 2014'...",value:d,onChange:F=>h(F.target.value)})]}),T.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-4 bg-slate-50 rounded-2xl border border-dashed border-slate-300 hover:border-teal-400 hover:bg-teal-50 transition-all",children:[T.jsx("div",{className:"p-2 bg-white rounded-xl text-slate-400",children:T.jsx(_S,{size:20})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("span",{className:"block text-sm font-bold text-nordic-charcoal",children:"Ladda upp bild"}),T.jsx("span",{className:"text-xs text-slate-400",children:"Elton kan lsa av regplten & skapa en ikon"})]}),S&&T.jsx(el,{size:20,className:"text-green-500"}),T.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:U})]}),T.jsxs("div",{className:"bg-amber-50 p-4 rounded-2xl flex gap-3 text-amber-800 text-sm border border-amber-100",children:[T.jsx(Y1,{className:"shrink-0",size:20}),T.jsxs("p",{children:[T.jsx("strong",{children:"Elton AI"})," sker upp teknisk data (Biluppgifter.se/Car.info) och skapar en serviceplan."]})]}),T.jsxs("div",{className:"flex gap-3 pt-2",children:[T.jsx("button",{onClick:()=>c(!1),className:"flex-1 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors",children:"Avbryt"}),T.jsxs("button",{onClick:M,disabled:!d.trim()&&!S,className:"flex-[2] py-4 bg-nordic-charcoal text-white font-bold rounded-2xl hover:bg-slate-800 transition-all shadow-lg shadow-slate-200 disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2",children:[T.jsx(Vc,{size:20})," Starta Research"]})]})]})]})})})]})},Sc=[{id:1,title:"Plattforms-arkitektur (SaaS)",category:"Infrastruktur",description:'Vi har byggt om appen frn en enkel "en-sidas-app" fr en bil till en plattform som hanterar Anvndare och Flera Projekt.',purpose:"Att gra det mjligt fr en anvndare att renovera flera bilar samtidigt (t.ex. en Sprinter och en gammal Volvo) eller att flera anvndare kan anvnda tjnsten. Det r grunden fr en skalbar produkt.",status:"done",tech:"Firebase Auth + Firestore (NoSQL)",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & Auth)",completed:!0},{label:"Testad (Flera projekt)",completed:!0},{label:"Lanserad",completed:!0}]},{id:16,title:"Offline-std (PWA)",category:"Infrastruktur",description:"Gr appen till en Progressive Web App (PWA) som fungerar utan ntverk. Data synkas nr ntet kommer tillbaka.",purpose:"Ett garage har ofta dlig tckning. Appen mste fungera nd.",status:"planned",tech:"Vite PWA Plugin + Firestore Persistence",checklist:[{label:"Specad",completed:!0},{label:"Konfigurerad (Vite)",completed:!1},{label:"Testad (Flygplanslge)",completed:!1},{label:"Lanserad",completed:!1}]},{id:2,title:'AI Onboarding & "Research Wizard"',category:"Plattform",description:'Nr man skapar ett nytt projekt behver man bara ange Regnr eller en lnk. En "Wizard" startar dr AI:n (Gemini) sker upp teknisk data, skapar en serviceplan och letar efter vanliga fel fr just den modellen.',purpose:'Att ta bort "tomt papper-ngesten". Anvndaren fr ett projekt som r 80% klart direkt, istllet fr att behva skriva in allt manuellt.',status:"done",tech:"Gemini 2.0 Flash + Google Search Tool",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Gemini Service)",completed:!0},{label:"Testad (Skning & Parsing)",completed:!0},{label:"Lanserad",completed:!0}]},{id:17,title:"Auto-genererad Historik & Strategianalys",category:"Plattform",description:'Vid projektstart skriver AI:n en djuplodande "Detektiv-rapport" om bilmodellen, dess historia, knda fel och en strategi fr renoveringen. Sparas som en artikel.',purpose:'Ger omedelbart expertkunskap och en "wow-knsla". AI:n frstr kontexten frn start.',status:"done",tech:"Gemini 2.0 (Prompt Engineering)",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Deep Research Prompt)",completed:!0},{label:"Testad (Generering & Spara)",completed:!0},{label:"Lanserad",completed:!0}]},{id:3,title:"Bildigenknning av Regplt",category:"AI Core",description:"I Research-guiden kan man ladda upp en bild p bilen. AI:n skannar bilden, hittar registreringsskylten, lser av den och anvnder numret fr att ska fakta.",purpose:"Extremt smidigt fr anvndaren. Man tar ett foto p sin nya bil, och appen vet direkt vad det r.",status:"done",tech:"Gemini Vision (Multimodal)",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Image Upload + OCR)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:4,title:"AI-genererad Projektikon (Nano Banana)",category:"AI Core",description:"Baserat p bilden man laddar upp, ritar AI:n en stiliserad vektor-ikon av bilen. Vi anvnder just nu bildanalys fr att matcha frger, men full bildgenerering vntar p API-std.",purpose:"Att ge varje projekt en unik, personlig och proffsig identitet. Det hjer knslan av kvalitet enormt.",status:"in-progress",tech:"Gemini Vision + Imagen 3 (Pending)",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Stub/Vision-analys)",completed:!0},{label:"Testad (Generering)",completed:!1},{label:"Lanserad (Fullstndig)",completed:!1}]},{id:5,title:"Google Search-integration",category:"AI Core",description:"AI:n har nu tillgng till Google Sk. Den kan kolla aktuella priser p reservdelar, hitta manualer och verifiera teknisk data.",purpose:'Att g frn "gissningar" till "fakta". AI:n kan nu sga "Oljefilter till Sprinter kostar 149 kr p Autodoc" istllet fr att gissa.',status:"done",tech:"Gemini Tools (Google Search)",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Tool Calling)",completed:!0},{label:"Testad (Priskoll)",completed:!0},{label:"Lanserad",completed:!0}]},{id:6,title:"Live Elton (Rst & Video)",category:"AI Core",description:'En realtids-koppling till Gemini dr man kan prata med "Elton" via mikrofon och visa saker via kameran.',purpose:'Att ha en "mekaniker-kompis" i fickan nr man ligger under bilen och inte kan skriva p tangentbordet.',status:"planned",tech:"WebRTC + Gemini Live API",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:7,title:"Dialekter & Personligheter",category:"AI Core",description:"Elton kan stllas in p att prata Dalml, Gotlndska eller Rikssvenska. Olika rstlgen (Fenrir, Charon).",purpose:"Att gra AI:n mnsklig och rolig. Det skapar en relation till bilen och gr appen mer n bara ett verktyg.",status:"planned",tech:"System Prompts",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:8,title:"Ljud-Doktorn",category:"AI Core",description:"Ett speciallge i Live-vyn dr AI:n lyssnar efter specifika motorljud (tickande ventiler, remgnissel) och ger en diagnos.",purpose:'Att utnyttja multimodal AI fr att lsa ett klassiskt problem: "Vad r det som lter?".',status:"planned",tech:"Audio Processing (Gemini)",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:10,title:"Magic Import (Text & Bild)",category:"Projektledning",description:"Man kan klistra in en rrig anteckning eller ladda upp ett foto p en handskriven lista. AI:n strukturerar om det till uppgifter och inkpsvaror.",purpose:"Att minska administrationen. Det ska vara ltt att f in data i systemet.",status:"done",tech:"Gemini Vision",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:11,title:"Smart Context & Beslutsstd",category:"Projektledning",description:'Inne p en uppgift (t.ex. "Byt dck") visar appen automatiskt relevant data (dckdimensioner) och lagersaldo (har vi kpt dck?).',purpose:'"Just-in-time information". Man ska slippa leta i papper nr man vl ska jobba.',status:"planned",tech:"Context Awareness (Frontend)",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:9,title:"Smart Inkpslista & Kvitton",category:"Ekonomi",description:"En separat vy fr inkp. Man kan fota kvitton, koppla kostnaden till en specifik uppgift (fr budgetuppfljning) och se vad som r kpt vs planerat.",purpose:"Total kontroll p ekonomin. Att veta exakt vad renoveringen kostat hittills.",status:"done",tech:"Firebase Storage + Vision",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Uppladdning & Lista)",completed:!0},{label:"Testad (Lnka kostnad)",completed:!0},{label:"Lanserad",completed:!0}]},{id:12,title:"Kunskapsbanken & Markdown-lsare",category:"Kunskap",description:"Ett bibliotek med tunga tekniska rapporter (markdown) som AI:n kan lsa och citera. UI fr att lsa artiklar snyggt.",purpose:"Att skra kvalitn. AI:n fr inte gissa om kamremsintervaller om vi har facit.",status:"done",tech:"RAG + React Markdown",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Markdown + Context)",completed:!0},{label:"Testad (Lsare)",completed:!0},{label:"Lanserad",completed:!0}]},{id:13,title:"Tidslinje & Historik",category:"Garage",description:"En visuell tidslinje som visar bilens hela liv, frn tillverkning, genom alla gare, till dagens projekt.",purpose:"Att ge perspektiv och hedra bilens historia.",status:"done",tech:"Recharts + Timeline UI",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:14,title:"Brnslelogg & Servicebok",category:"Garage",description:"Logga tankningar och service. Visualisera frbrukning och serviceintervall.",purpose:"Ett praktiskt verktyg fr det dagliga gandet, inte bara bygget.",status:"in-progress",tech:"Firestore + Recharts",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Datastruktur & Input)",completed:!0},{label:"Testad (Spara/Ladda)",completed:!0},{label:"Lanserad (Visualisering/Grafer)",completed:!1}]},{id:15,title:"Backup & Export",category:"Data",description:"Mjlighet att spara ner hela projektet som en JSON-fil och terstlla den.",purpose:"Dataskerhet och portabilitet innan vi har en riktig molndatabas.",status:"done",tech:"JSON Blob",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]}],tke=({onClose:t})=>{const[e,n]=R.useState(null),r=s=>{n(e===s?null:s)},i=({status:s})=>s==="done"?T.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-teal-100 text-teal-800 text-[10px] font-bold uppercase rounded-md border border-teal-200",children:[T.jsx(el,{size:12})," Lanserad"]}):s==="in-progress"?T.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-amber-100 text-amber-800 text-[10px] font-bold uppercase rounded-md border border-amber-200",children:[T.jsx(Dae,{size:12})," Pgr"]}):T.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-100 text-slate-500 text-[10px] font-bold uppercase rounded-md border border-slate-200",children:[T.jsx(uh,{size:12})," Planerad"]}),a=({category:s})=>{switch(s){case"AI Core":return T.jsx(Qoe,{size:16,className:"text-amber-500"});case"Plattform":return T.jsx(Yae,{size:16,className:"text-blue-500"});case"Ekonomi":return T.jsx(uh,{size:16,className:"text-green-500"});case"Garage":return T.jsx(Lae,{size:16,className:"text-slate-500"});default:return T.jsx(xoe,{size:16,className:"text-slate-400"})}};return T.jsx("div",{className:"min-h-screen bg-nordic-ice p-6 pb-24",children:T.jsxs("div",{className:"max-w-3xl mx-auto",children:[T.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[T.jsx("button",{onClick:t,className:"p-3 bg-white rounded-xl shadow-sm hover:bg-slate-50 text-slate-500 transition-colors",children:T.jsx(w5,{size:20})}),T.jsxs("div",{children:[T.jsx("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal",children:"Produkt-Roadmap"}),T.jsx("p",{className:"text-slate-500",children:"Visionen fr The VanPlan. Uppdateras lpande."})]})]}),T.jsx("div",{className:"space-y-4",children:Sc.map(s=>T.jsxs("div",{className:`bg-white rounded-2xl shadow-sm border transition-all duration-300 overflow-hidden ${s.status==="done"?"border-teal-100/50":s.status==="in-progress"?"border-amber-200 shadow-md transform scale-[1.01]":"border-slate-100 opacity-90"}`,children:[T.jsxs("div",{onClick:()=>r(s.id),className:"p-5 flex items-center justify-between cursor-pointer hover:bg-slate-50 transition-colors",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm shadow-sm ${s.status==="done"?"bg-teal-50 text-teal-600":s.status==="in-progress"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-400"}`,children:s.id}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsx(a,{category:s.category}),T.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400",children:s.category})]}),T.jsx("h3",{className:`font-bold text-nordic-charcoal ${s.status==="planned"?"text-slate-500":""}`,children:s.title}),T.jsxs("div",{className:"flex gap-2 mt-1",children:[T.jsx(i,{status:s.status}),e!==s.id&&T.jsx("span",{className:"text-xs text-slate-400 truncate max-w-[200px] hidden sm:inline border-l border-slate-200 pl-2 ml-1",children:s.description})]})]})]}),T.jsx("div",{className:"text-slate-300",children:e===s.id?T.jsx(wae,{size:20}):T.jsx(A5,{size:20})})]}),e===s.id&&T.jsx("div",{className:"p-6 pt-0 bg-slate-50/30 border-t border-slate-50",children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Beskrivning"}),T.jsx("p",{className:"text-sm text-slate-600 mb-4",children:s.description}),T.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Syfte (Varfr?)"}),T.jsxs("p",{className:"text-sm text-slate-600 italic border-l-2 border-teal-200 pl-3",children:['"',s.purpose,'"']})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Status & Checklista"}),T.jsx("div",{className:"bg-white rounded-xl border border-slate-100 p-4 space-y-2 shadow-sm",children:s.checklist.map((u,c)=>T.jsxs("div",{className:"flex items-center gap-3",children:[u.completed?T.jsx(el,{size:16,className:"text-teal-500"}):T.jsx(uh,{size:16,className:"text-slate-300"}),T.jsx("span",{className:`text-sm ${u.completed?"text-slate-700 font-medium":"text-slate-400"}`,children:u.label})]},c))}),T.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs text-slate-400",children:[T.jsx(cae,{size:14}),T.jsxs("span",{children:["Teknik: ",T.jsx("span",{className:"font-mono text-slate-600",children:s.tech})]})]})]})]})})]},s.id))}),T.jsxs("div",{className:"mt-12 text-center pb-8",children:[T.jsxs("p",{className:"text-slate-400 text-sm",children:["Totalt ",Sc.length," funktioner definierade."]}),T.jsx("div",{className:"w-full bg-slate-200 h-2 rounded-full mt-2 overflow-hidden max-w-xs mx-auto",children:T.jsx("div",{className:"bg-teal-500 h-full transition-all duration-1000",style:{width:`${Sc.filter(s=>s.status==="done").length/Sc.length*100}%`}})}),T.jsxs("p",{className:"text-teal-600 text-xs font-bold mt-1",children:[Math.round(Sc.filter(s=>s.status==="done").length/Sc.length*100),"% Klart"]})]})]})})},tr=[];for(let t=0;t<256;++t)tr.push((t+256).toString(16).slice(1));function nke(t,e=0){return(tr[t[e+0]]+tr[t[e+1]]+tr[t[e+2]]+tr[t[e+3]]+"-"+tr[t[e+4]]+tr[t[e+5]]+"-"+tr[t[e+6]]+tr[t[e+7]]+"-"+tr[t[e+8]]+tr[t[e+9]]+"-"+tr[t[e+10]]+tr[t[e+11]]+tr[t[e+12]]+tr[t[e+13]]+tr[t[e+14]]+tr[t[e+15]]).toLowerCase()}let $E;const rke=new Uint8Array(16);function ike(){if(!$E){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$E=crypto.getRandomValues.bind(crypto)}return $E(rke)}const ake=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),P4={randomUUID:ake};function oke(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??ike();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,nke(r)}function ske(t,e,n){return P4.randomUUID&&!t?P4.randomUUID():oke(t)}const lke=async(t,e,n,r)=>{if(!t)throw new Error("No file provided for upload.");const i=t.name.split(".").pop(),a=`${ske()}.${i}`,s=SAe(NAe,`receipts/${e}/${n}/${a}`),u=await TAe(s,t);return await wAe(u.ref)},uke=({className:t})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Lager_1","data-name":"Lager 1",viewBox:"0 0 500 316.64",className:t,children:[T.jsx("defs",{children:T.jsx("style",{children:".cls-5{fill:#d0ae78}"})}),T.jsx("path",{d:"M7.94 178.22c1.56-7.91 12.9-28.48 17.16-36.76 9.17-17.81 19.54-37.58 29.61-54.79 12.15-20.77 36.94-38.69 56.46-52.73 7.3-5.25 18.27-14.09 26.72-16.16 24.16-5.9 57.64-6.25 82.76-7 65.56-1.95 131.38 1.01 196.89 4.02 7.97.37 18.57-.41 26.2.59 1.25.16.88 1.26 1.42 1.39 2.12.49 4.86-.99 7.28-.73 1.27.14.64 1.28 1.93 1.46 4.86.65 6.52-1.9 11.71 1.01 3.55 1.99 2.7 2.82 3.86 5.49.36.82 1.35.78 1.44.95.12.24-.4 2.74.06 4.22.35 1.14 1.22 1.02 1.5 1.92 1.06 3.4 1.87 7.72 2.53 10.31 2.55 10.03 4.76 20.15 6.75 30.3-.88.06-1.8-.09-2.68 0-.54.05-1.86-.12-2.01 0l-1.34.67c-.44-.03-.9.02-1.34 0-.89-.03-1.79 0-2.68 0-2.93-.01-5.75.58-8.04.67-5.31.2-11.32.67-16.41.67h-19.43c-1.16 0-4.3 1.12-6.03 1.2-2.74.12-6.77-1.65-9.71.14-1.34-.01-2.68.02-4.02 0-3.52-.06-6.57.63-9.69.7-6.34.13-12.94-.66-19.12.64-5.6-.57-11.22.5-16.75.67-47.27 1.42-94.51 4.38-141.65 6.73-9.89.49-19.95-.17-29.84.64-.44 5.22 2.55 4.21 6.7 4.02-4.64 11.79-8.57 24.14-12.25 36.32-2.61 8.61-9.85 29.43-10.44 37.12-.78 10.01 1.45 25.01 1.92 35.43.09 2.1 0 4.23-.03 6.32l-17.08 2.08c-.71.21-2.31-.5-2.31-1.04v-10.72c0-.47-1.12-.9-1.68-1-4.09-.75-10.87.27-15.43.03-42.79-2.26-86.81-10.62-129.31-16.12-2.29-.84-1.88 1.38-3.63 1.35ZM207.56 15.45c-3.3-.52-5.87 2.14-8.35 4.03-12.81 9.78-26.89 21.89-39.22 32.46-3.01 2.58-6.15 5.32-8.7 8.38 3.69.67 5.06-.66 7.68-2.69 14.85-11.53 29.98-25.56 44.57-37.82 1.29-1.08 3.73-2.69 4.01-4.36Z",className:"cls-5"})]}),cke=()=>{const[t,e]=R.useState(null),[n,r]=R.useState([]),[i,a]=R.useState(null),[s,u]=R.useState(!0),[c,d]=R.useState("dashboard"),[h,p]=R.useState(!1),[g,v]=R.useState(!1),[w,S]=R.useState("ALL"),[A,C]=R.useState(!1),[U,M]=R.useState(null),[F,q]=R.useState(""),V=async ee=>{u(!0);try{const ye=await jAe(ee.uid);r(ye),ye.length===0&&a(null)}catch(ye){console.error("Error loading projects:",ye),te("Kunde inte ladda projekt","error")}u(!1)};R.useEffect(()=>{DAe().then(ye=>{ye.success&&te("Inloggad!")});const ee=VAe(async ye=>{if(ye){const _e=await BAe(ye.uid,ye.email);e(_e),q(_e.name),await V(_e)}else e(null),a(null),r([]),u(!1)});return()=>ee()},[]);const D=async ee=>{u(!0);try{const ye=await zAe(ee);if(ye){const[_e,Se]=await Promise.all([GAe(ee),YAe(ee)]);a({...ye,tasks:_e||[],shoppingItems:Se||[]}),d("dashboard")}else te("Kunde inte hitta projektet","error")}catch(ye){console.error("Error loading project details:",ye),te("Kunde inte ladda projektdata","error")}u(!1)};R.useEffect(()=>{document.documentElement.classList.toggle("dark",g)},[g]);const O=async()=>{await UAe(),C(!1)},L=async()=>{if(!(!t||!F.trim()))try{await Jz(t.uid,{name:F}),e({...t,name:F}),te("Namn uppdaterat!")}catch{te("Kunde inte spara namn","error")}},B=async ee=>{var ye;if(t){u(!0);try{const _e=await qAe(ee.name||"Nytt Projekt",((ye=ee.vehicleData)==null?void 0:ye.model)||"Oknd",t.uid,t.email,ee);await V(t),await D(_e.id),te("Nytt projekt skapat!")}catch(_e){console.error("Failed to create project:",_e),_e.code==="permission-denied"?te("tkomst nekad. Kontrollera behrigheter.","error"):te("Kunde inte skapa projekt","error")}u(!1)}},P=async ee=>{if(confirm("r du sker p att du vill radera projektet? Detta gr inte att ngra."))try{await HAe(ee),r(ye=>ye.filter(_e=>_e.id!==ee)),te("Projekt raderat")}catch(ye){console.error("Error deleting project:",ye),te("Kunde inte radera projektet","error")}},j=async()=>{if(t&&confirm("Varning! Detta kommer att skapa ett nytt demonstrationsprojekt 'Elton'. r du sker?")){u(!0);try{await FAe(t.email,t.uid),await V(t),te("Demoprojekt 'Elton' skapat!")}catch(ee){console.error(ee),te("Kunde inte skapa demoprojekt","error")}u(!1)}},H=()=>{if(!i)return;const ee=JSON.stringify(i,null,2),ye=new Blob([ee],{type:"application/json"}),_e=URL.createObjectURL(ye),Se=document.createElement("a");Se.href=_e,Se.download=`vanplan-${i.name.replace(/\s+/g,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),te("Projektdata exporterad")},de=ee=>{te("Import ej implementerad n","error")},te=(ee,ye="success")=>{M({message:ee,type:ye}),setTimeout(()=>M(null),3e3)},X=async ee=>{if(!i)return;const ye=i.tasks;a({...i,tasks:i.tasks.map(_e=>_e.id===ee.id?ee:_e)});try{await KAe(i.id,ee.id,ee)}catch{a({...i,tasks:ye}),te("Kunde inte spara uppgift","error")}},K=async ee=>{if(i)try{const ye=[];for(const _e of ee){const Se=await $Ae(i.id,_e);ye.push(Se)}a({...i,tasks:[...i.tasks,...ye]}),p(!1),te(`${ee.length} uppgifter sparade!`)}catch{te("Fel vid sparande av uppgifter","error")}},ae=async ee=>{if(!i)return;const ye=i.tasks;a({...i,tasks:i.tasks.filter(_e=>_e.id!==ee)});try{await WAe(i.id,ee),te("Uppgift raderad")}catch{a({...i,tasks:ye}),te("Kunde inte radera uppgift","error")}},me=async ee=>{if(i)try{const ye=await JAe(i.id,ee);a({...i,shoppingItems:[...i.shoppingItems,ye]}),te(`Lade till ${ee.name}`)}catch{te("Kunde inte spara vara","error")}},W=async ee=>{if(!i)return;const ye=i.shoppingItems;a({...i,shoppingItems:i.shoppingItems.filter(_e=>_e.id!==ee)});try{await QAe(i.id,ee),te("Vara raderad")}catch{a({...i,shoppingItems:ye}),te("Fel vid radering","error")}},Y=async ee=>{if(!i)return;const ye=i.shoppingItems;a({...i,shoppingItems:i.shoppingItems.map(_e=>_e.id===ee.id?ee:_e)});try{await XAe(i.id,ee.id,ee)}catch{a({...i,shoppingItems:ye}),te("Kunde inte uppdatera","error")}},se=async(ee,ye)=>{if(!(!i||!t))try{const _e=await lke(ye,t.uid,i.id,ee),Se=i.shoppingItems.find(He=>He.id===ee);if(Se){const He={...Se,receiptUrl:_e};await Y(He),te("Kvitto uppladdat!")}}catch(_e){console.error("Error uploading receipt:",_e),te("Kunde inte ladda upp kvitto","error")}};if(s&&!i)return T.jsx("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg flex items-center justify-center",children:T.jsxs("div",{className:"flex flex-col items-center gap-4",children:[T.jsx(Td,{className:"animate-spin text-slate-400 text-4xl"}),T.jsx("p",{className:"text-slate-500 font-medium",children:"Hmtar dina projekt..."})]})});if(!t)return T.jsx(ZAe,{onDemo:()=>{}});if(c==="roadmap")return T.jsx(tke,{onClose:()=>{i?d("dashboard"):a(null)}});if(!i)return T.jsx(eke,{user:t,projects:n,onSelectProject:D,onCreateProject:B,onLogout:O,onSeed:j,onDeleteProject:P});const $=({active:ee,onClick:ye,icon:_e,label:Se,count:He})=>T.jsxs("button",{onClick:ye,className:`relative flex flex-col items-center justify-center w-14 h-14 sm:w-24 sm:h-16 rounded-xl transition-all duration-300 ${ee?"bg-nordic-charcoal dark:bg-teal-600 text-white shadow-lg scale-105":"text-slate-400 hover:bg-slate-50 dark:hover:bg-nordic-dark-bg"}`,children:[T.jsx(_e,{size:20,strokeWidth:ee?2.5:2,className:"mb-1"}),T.jsx("span",{className:"text-[9px] sm:text-[10px] font-medium",children:Se}),He>0&&T.jsx("span",{className:"absolute top-1 right-3 sm:right-5 w-4 h-4 bg-rose-500 text-white text-[9px] font-bold flex items-center justify-center rounded-full",children:He})]});return T.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${g?"dark bg-nordic-dark-bg text-nordic-ice":"bg-nordic-ice text-slate-800"}`,children:[T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[T.jsxs("div",{className:"flex items-center justify-between mb-8",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-12 h-12 flex items-center justify-center p-1 overflow-hidden rounded-full bg-white dark:bg-nordic-charcoal shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:i.customIcon?T.jsx("img",{src:`data:image/png;base64,${i.customIcon}`,alt:"Project Icon",className:"w-full h-full object-cover"}):T.jsx(uke,{className:"w-full h-full"})}),T.jsxs("div",{children:[T.jsx("h1",{className:"font-serif font-bold text-2xl tracking-tight text-nordic-charcoal dark:text-nordic-ice",children:i.name}),T.jsxs("p",{className:"text-xs font-medium text-slate-500 dark:text-teal-400 uppercase tracking-widest flex items-center gap-1",children:[i.isDemo&&T.jsx(xS,{size:10})," ",i.vehicleData.model]})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("div",{className:"relative",children:[T.jsx("button",{onClick:()=>C(!A),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",children:T.jsx("div",{className:"w-6 h-6 rounded-full bg-teal-100 flex items-center justify-center text-xs font-bold text-teal-700",children:t.name.charAt(0).toUpperCase()})}),A&&T.jsxs("div",{className:"absolute right-0 top-14 w-72 bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-nordic-ice dark:border-nordic-charcoal p-4 z-50 animate-fade-in",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-slate-100 dark:border-nordic-charcoal",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-50 dark:bg-teal-900/20 flex items-center justify-center text-teal-600 dark:text-teal-400 font-bold text-lg",children:t.name.charAt(0).toUpperCase()}),T.jsxs("div",{className:"overflow-hidden flex-1",children:[T.jsx("p",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice truncate",children:t.name}),T.jsx("p",{className:"text-xs text-slate-400 truncate",children:t.email})]})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 block",children:"Ditt namn"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white",value:F,onChange:ee=>q(ee.target.value)}),T.jsx("button",{onClick:L,className:"p-2 bg-nordic-charcoal text-white rounded-lg hover:bg-slate-800",children:T.jsx(N5,{size:14})})]})]}),T.jsxs("div",{className:"space-y-1 mb-2",children:[T.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 px-3",children:"Datahantering"}),T.jsxs("button",{onClick:H,className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors",children:[T.jsx(Vae,{size:16})," Spara Backup"]}),T.jsxs("label",{className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors cursor-pointer",children:[T.jsx(zoe,{size:16})," terstll Backup",T.jsx("input",{type:"file",className:"hidden",onChange:de,accept:".json"})]})]}),T.jsxs("button",{onClick:()=>{a(null),C(!1)},className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2 border-b border-slate-100 dark:border-nordic-charcoal",children:[T.jsx(xae,{size:16})," Byt Projekt"]}),T.jsxs("button",{onClick:()=>v(!g),className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2",children:[g?T.jsx(Uoe,{size:16}):T.jsx(voe,{size:16})," ",g?"Ljust Lge":"Mrkt Lge"]}),T.jsx("div",{className:"h-px bg-slate-100 dark:bg-nordic-charcoal my-2"}),T.jsxs("button",{onClick:O,className:"w-full flex items-center gap-2 p-3 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/50 rounded-xl text-sm font-bold",children:[T.jsx(I5,{size:16})," Logga ut"]})]})]}),T.jsxs("button",{onClick:()=>p(!0),className:"p-3 rounded-xl bg-nordic-charcoal dark:bg-teal-600 shadow-sm text-white hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors flex items-center gap-2",children:[T.jsx(Vc,{size:18}),T.jsx("span",{className:"hidden sm:inline font-medium",children:"Magic Import"})]})]})]}),T.jsxs("div",{className:"pb-28 sm:pb-0",children:[c==="dashboard"&&T.jsx(Hle,{project:i,onPhaseClick:ee=>{S(ee),d("tasks")}}),c==="tasks"&&T.jsx($le,{tasks:i.tasks,shoppingItems:i.shoppingItems,vehicleData:i.vehicleData,onUpdateTask:X,initialFilter:w}),c==="ai"&&T.jsx(X0e,{vehicleData:i.vehicleData,tasks:i.tasks,shoppingItems:i.shoppingItems,onAddTask:ee=>K(ee),onUpdateTask:X,onDeleteTask:ae,onAddShoppingItem:ee=>me(ee),onUpdateShoppingItem:Y,onDeleteShoppingItem:W,onClose:()=>d("dashboard")}),c==="specs"&&T.jsx(Z0e,{vehicleData:i.vehicleData,tasks:i.tasks}),c==="shopping"&&T.jsx(ebe,{items:i.shoppingItems,tasks:i.tasks,onAdd:ee=>me(ee),onDelete:W,onToggle:ee=>{const ye=i.shoppingItems.find(_e=>_e.id===ee);ye&&Y({...ye,checked:!ye.checked})},onUpdate:Y,onUploadReceipt:se})]}),c==="dashboard"&&T.jsx("div",{className:"text-center mt-12 pb-24 opacity-60 hover:opacity-100 transition-opacity",children:T.jsxs("button",{onClick:()=>d("roadmap"),className:"inline-flex items-center gap-2 text-xs font-medium text-slate-400 hover:text-teal-600 transition-colors px-4 py-2",children:[T.jsx(uoe,{size:14}),T.jsx("span",{children:"Utforska The VanPlan Roadmap"})]})}),c!=="ai"&&T.jsxs("div",{className:"fixed bottom-4 left-4 right-4 sm:left-1/2 sm:-translate-x-1/2 sm:w-auto bg-white/70 dark:bg-nordic-charcoal/80 backdrop-blur-md border border-slate-200/50 dark:border-nordic-dark-bg p-2 rounded-2xl shadow-2xl flex justify-between sm:justify-center sm:gap-2 z-40",children:[T.jsx($,{active:c==="dashboard",onClick:()=>d("dashboard"),icon:Xae,label:"versikt"}),T.jsx($,{active:c==="tasks",onClick:()=>{d("tasks"),S("ALL")},icon:PM,label:"Att Gra",count:i.tasks.filter(ee=>ee.status!=="Klart").length}),T.jsx($,{active:c==="shopping",onClick:()=>d("shopping"),icon:D5,label:"Handla",count:i.shoppingItems.filter(ee=>!ee.checked).length}),T.jsx($,{active:c==="specs",onClick:()=>d("specs"),icon:U5,label:"Verkstad"}),T.jsx($,{active:!1,onClick:()=>d("ai"),icon:doe,label:"Elton AI"})]}),U&&T.jsxs("div",{className:`fixed bottom-24 right-4 z-50 px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 animate-fade-in ${U.type==="error"?"bg-rose-500 text-white":"bg-nordic-charcoal text-white dark:bg-teal-600"}`,children:[T.jsx(PM,{size:18}),T.jsx("span",{className:"font-medium text-sm",children:U.message})]})]}),h&&T.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:T.jsx("div",{className:"w-full max-w-2xl",children:T.jsx(Q0e,{onAddTasks:ee=>K(ee),onClose:()=>p(!1)})})})]})},Xz=document.getElementById("root");if(!Xz)throw new Error("Could not find root element to mount to");const dke=jq.createRoot(Xz);dke.render(T.jsx(M4.StrictMode,{children:T.jsx(cke,{})}));
