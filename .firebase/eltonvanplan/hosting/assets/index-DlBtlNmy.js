var R7=Object.defineProperty;var O7=(t,e,n)=>e in t?R7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H1=(t,e,n)=>O7(t,typeof e!="symbol"?e+"":e,n);function P7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Oo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G1={exports:{}},Bf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fO;function D7(){if(fO)return Bf;fO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var l in i)l!=="key"&&(o[l]=i[l])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:o}}return Bf.Fragment=e,Bf.jsx=n,Bf.jsxs=n,Bf}var hO;function M7(){return hO||(hO=1,G1.exports=D7()),G1.exports}var g=M7(),K1={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gO;function z7(){if(gO)return rt;gO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),y=Symbol.iterator;function b(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function C(W,Y,H){this.props=W,this.context=Y,this.refs=_,this.updater=H||E}C.prototype.isReactComponent={},C.prototype.setState=function(W,Y){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Y,"setState")},C.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function R(){}R.prototype=C.prototype;function I(W,Y,H){this.props=W,this.context=Y,this.refs=_,this.updater=H||E}var O=I.prototype=new R;O.constructor=I,S(O,C.prototype),O.isPureReactComponent=!0;var U=Array.isArray;function M(){}var D={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function z(W,Y,H){var fe=H.ref;return{$$typeof:t,type:W,key:Y,ref:fe!==void 0?fe:null,props:H}}function B(W,Y){return z(W.type,Y,W.props)}function V(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function q(W){var Y={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(H){return Y[H]})}var F=/\/+/g;function oe(W,Y){return typeof W=="object"&&W!==null&&W.key!=null?q(""+W.key):Y.toString(36)}function Z(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(M,M):(W.status="pending",W.then(function(Y){W.status==="pending"&&(W.status="fulfilled",W.value=Y)},function(Y){W.status==="pending"&&(W.status="rejected",W.reason=Y)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function X(W,Y,H,fe,Se){var we=typeof W;(we==="undefined"||we==="boolean")&&(W=null);var Ce=!1;if(W===null)Ce=!0;else switch(we){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(W.$$typeof){case t:case e:Ce=!0;break;case p:return Ce=W._init,X(Ce(W._payload),Y,H,fe,Se)}}if(Ce)return Se=Se(W),Ce=fe===""?"."+oe(W,0):fe,U(Se)?(H="",Ce!=null&&(H=Ce.replace(F,"$&/")+"/"),X(Se,Y,H,"",function(Ae){return Ae})):Se!=null&&(V(Se)&&(Se=B(Se,H+(Se.key==null||W&&W.key===Se.key?"":(""+Se.key).replace(F,"$&/")+"/")+Ce)),Y.push(Se)),1;Ce=0;var Ue=fe===""?".":fe+":";if(U(W))for(var ae=0;ae<W.length;ae++)fe=W[ae],we=Ue+oe(fe,ae),Ce+=X(fe,Y,H,we,Se);else if(ae=b(W),typeof ae=="function")for(W=ae.call(W),ae=0;!(fe=W.next()).done;)fe=fe.value,we=Ue+oe(fe,ae++),Ce+=X(fe,Y,H,we,Se);else if(we==="object"){if(typeof W.then=="function")return X(Z(W),Y,H,fe,Se);throw Y=String(W),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function J(W,Y,H){if(W==null)return W;var fe=[],Se=0;return X(W,fe,"","",function(we){return Y.call(H,we,Se++)}),fe}function ie(W){if(W._status===-1){var Y=W._result;Y=Y(),Y.then(function(H){(W._status===0||W._status===-1)&&(W._status=1,W._result=H)},function(H){(W._status===0||W._status===-1)&&(W._status=2,W._result=H)}),W._status===-1&&(W._status=0,W._result=Y)}if(W._status===1)return W._result.default;throw W._result}var te=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},G={map:J,forEach:function(W,Y,H){J(W,function(){Y.apply(this,arguments)},H)},count:function(W){var Y=0;return J(W,function(){Y++}),Y},toArray:function(W){return J(W,function(Y){return Y})||[]},only:function(W){if(!V(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return rt.Activity=h,rt.Children=G,rt.Component=C,rt.Fragment=n,rt.Profiler=i,rt.PureComponent=I,rt.StrictMode=r,rt.Suspense=u,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,rt.__COMPILER_RUNTIME={__proto__:null,c:function(W){return D.H.useMemoCache(W)}},rt.cache=function(W){return function(){return W.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(W,Y,H){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var fe=S({},W.props),Se=W.key;if(Y!=null)for(we in Y.key!==void 0&&(Se=""+Y.key),Y)!L.call(Y,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Y.ref===void 0||(fe[we]=Y[we]);var we=arguments.length-2;if(we===1)fe.children=H;else if(1<we){for(var Ce=Array(we),Ue=0;Ue<we;Ue++)Ce[Ue]=arguments[Ue+2];fe.children=Ce}return z(W.type,Se,fe)},rt.createContext=function(W){return W={$$typeof:a,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:o,_context:W},W},rt.createElement=function(W,Y,H){var fe,Se={},we=null;if(Y!=null)for(fe in Y.key!==void 0&&(we=""+Y.key),Y)L.call(Y,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Se[fe]=Y[fe]);var Ce=arguments.length-2;if(Ce===1)Se.children=H;else if(1<Ce){for(var Ue=Array(Ce),ae=0;ae<Ce;ae++)Ue[ae]=arguments[ae+2];Se.children=Ue}if(W&&W.defaultProps)for(fe in Ce=W.defaultProps,Ce)Se[fe]===void 0&&(Se[fe]=Ce[fe]);return z(W,we,Se)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(W){return{$$typeof:l,render:W}},rt.isValidElement=V,rt.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:ie}},rt.memo=function(W,Y){return{$$typeof:d,type:W,compare:Y===void 0?null:Y}},rt.startTransition=function(W){var Y=D.T,H={};D.T=H;try{var fe=W(),Se=D.S;Se!==null&&Se(H,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(M,te)}catch(we){te(we)}finally{Y!==null&&H.types!==null&&(Y.types=H.types),D.T=Y}},rt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},rt.use=function(W){return D.H.use(W)},rt.useActionState=function(W,Y,H){return D.H.useActionState(W,Y,H)},rt.useCallback=function(W,Y){return D.H.useCallback(W,Y)},rt.useContext=function(W){return D.H.useContext(W)},rt.useDebugValue=function(){},rt.useDeferredValue=function(W,Y){return D.H.useDeferredValue(W,Y)},rt.useEffect=function(W,Y){return D.H.useEffect(W,Y)},rt.useEffectEvent=function(W){return D.H.useEffectEvent(W)},rt.useId=function(){return D.H.useId()},rt.useImperativeHandle=function(W,Y,H){return D.H.useImperativeHandle(W,Y,H)},rt.useInsertionEffect=function(W,Y){return D.H.useInsertionEffect(W,Y)},rt.useLayoutEffect=function(W,Y){return D.H.useLayoutEffect(W,Y)},rt.useMemo=function(W,Y){return D.H.useMemo(W,Y)},rt.useOptimistic=function(W,Y){return D.H.useOptimistic(W,Y)},rt.useReducer=function(W,Y,H){return D.H.useReducer(W,Y,H)},rt.useRef=function(W){return D.H.useRef(W)},rt.useState=function(W){return D.H.useState(W)},rt.useSyncExternalStore=function(W,Y,H){return D.H.useSyncExternalStore(W,Y,H)},rt.useTransition=function(){return D.H.useTransition()},rt.version="19.2.1",rt}var mO;function kp(){return mO||(mO=1,K1.exports=z7()),K1.exports}var A=kp();const Rt=Oo(A),L7=P7({__proto__:null,default:Rt},[A]);var W1={exports:{}},qf={},Y1={exports:{}},J1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yO;function j7(){return yO||(yO=1,(function(t){function e(X,J){var ie=X.length;X.push(J);e:for(;0<ie;){var te=ie-1>>>1,G=X[te];if(0<i(G,J))X[te]=J,X[ie]=G,ie=te;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var J=X[0],ie=X.pop();if(ie!==J){X[0]=ie;e:for(var te=0,G=X.length,W=G>>>1;te<W;){var Y=2*(te+1)-1,H=X[Y],fe=Y+1,Se=X[fe];if(0>i(H,ie))fe<G&&0>i(Se,H)?(X[te]=Se,X[fe]=ie,te=fe):(X[te]=H,X[Y]=ie,te=Y);else if(fe<G&&0>i(Se,ie))X[te]=Se,X[fe]=ie,te=fe;else break e}}return J}function i(X,J){var ie=X.sortIndex-J.sortIndex;return ie!==0?ie:X.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],p=1,h=null,y=3,b=!1,E=!1,S=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function O(X){for(var J=n(d);J!==null;){if(J.callback===null)r(d);else if(J.startTime<=X)r(d),J.sortIndex=J.expirationTime,e(u,J);else break;J=n(d)}}function U(X){if(S=!1,O(X),!E)if(n(u)!==null)E=!0,M||(M=!0,q());else{var J=n(d);J!==null&&Z(U,J.startTime-X)}}var M=!1,D=-1,L=5,z=-1;function B(){return _?!0:!(t.unstable_now()-z<L)}function V(){if(_=!1,M){var X=t.unstable_now();z=X;var J=!0;try{e:{E=!1,S&&(S=!1,R(D),D=-1),b=!0;var ie=y;try{t:{for(O(X),h=n(u);h!==null&&!(h.expirationTime>X&&B());){var te=h.callback;if(typeof te=="function"){h.callback=null,y=h.priorityLevel;var G=te(h.expirationTime<=X);if(X=t.unstable_now(),typeof G=="function"){h.callback=G,O(X),J=!0;break t}h===n(u)&&r(u),O(X)}else r(u);h=n(u)}if(h!==null)J=!0;else{var W=n(d);W!==null&&Z(U,W.startTime-X),J=!1}}break e}finally{h=null,y=ie,b=!1}J=void 0}}finally{J?q():M=!1}}}var q;if(typeof I=="function")q=function(){I(V)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,oe=F.port2;F.port1.onmessage=V,q=function(){oe.postMessage(null)}}else q=function(){C(V,0)};function Z(X,J){D=C(function(){X(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(X){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var ie=y;y=J;try{return X()}finally{y=ie}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(X,J){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ie=y;y=X;try{return J()}finally{y=ie}},t.unstable_scheduleCallback=function(X,J,ie){var te=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?te+ie:te):ie=te,X){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ie+G,X={id:p++,callback:J,priorityLevel:X,startTime:ie,expirationTime:G,sortIndex:-1},ie>te?(X.sortIndex=ie,e(d,X),n(u)===null&&X===n(d)&&(S?(R(D),D=-1):S=!0,Z(U,ie-te))):(X.sortIndex=G,e(u,X),E||b||(E=!0,M||(M=!0,q()))),X},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(X){var J=y;return function(){var ie=y;y=J;try{return X.apply(this,arguments)}finally{y=ie}}}})(J1)),J1}var bO;function U7(){return bO||(bO=1,Y1.exports=j7()),Y1.exports}var X1={exports:{}},qr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vO;function V7(){if(vO)return qr;vO=1;var t=kp();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(u,d,p){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:u,containerInfo:d,implementation:p}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return qr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qr.createPortal=function(u,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(u,d,null,p)},qr.flushSync=function(u){var d=a.T,p=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=p,r.d.f()}},qr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},qr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},qr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var p=d.as,h=l(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:h,integrity:y,fetchPriority:b}):p==="script"&&r.d.X(u,{crossOrigin:h,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},qr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},qr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,h=l(p,d.crossOrigin);r.d.L(u,p,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},qr.preloadModule=function(u,d){if(typeof u=="string")if(d){var p=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},qr.requestFormReset=function(u){r.d.r(u)},qr.unstable_batchedUpdates=function(u,d){return u(d)},qr.useFormState=function(u,d,p){return a.H.useFormState(u,d,p)},qr.useFormStatus=function(){return a.H.useHostTransitionStatus()},qr.version="19.2.1",qr}var wO;function E9(){if(wO)return X1.exports;wO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),X1.exports=V7(),X1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xO;function F7(){if(xO)return qf;xO=1;var t=U7(),e=kp(),n=E9();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var c=s,f=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(f=c.return),s=c.return;while(s)}return c.tag===3?f:null}function a(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(r(188))}function d(s){var c=s.alternate;if(!c){if(c=o(s),c===null)throw Error(r(188));return c!==s?null:s}for(var f=s,m=c;;){var k=f.return;if(k===null)break;var T=k.alternate;if(T===null){if(m=k.return,m!==null){f=m;continue}break}if(k.child===T.child){for(T=k.child;T;){if(T===f)return u(k),s;if(T===m)return u(k),c;T=T.sibling}throw Error(r(188))}if(f.return!==m.return)f=k,m=T;else{for(var P=!1,$=k.child;$;){if($===f){P=!0,f=k,m=T;break}if($===m){P=!0,m=k,f=T;break}$=$.sibling}if(!P){for($=T.child;$;){if($===f){P=!0,f=T,m=k;break}if($===m){P=!0,m=T,f=k;break}$=$.sibling}if(!P)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:c}function p(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=p(s),c!==null)return c;s=s.sibling}return null}var h=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),I=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function oe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case C:return"Profiler";case _:return"StrictMode";case U:return"Suspense";case M:return"SuspenseList";case z:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case I:return s.displayName||"Context";case R:return(s._context.displayName||"Context")+".Consumer";case O:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return c=s.displayName||null,c!==null?c:oe(s.type)||"Memo";case L:c=s._payload,s=s._init;try{return oe(s(c))}catch{}}return null}var Z=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},te=[],G=-1;function W(s){return{current:s}}function Y(s){0>G||(s.current=te[G],te[G]=null,G--)}function H(s,c){G++,te[G]=s.current,s.current=c}var fe=W(null),Se=W(null),we=W(null),Ce=W(null);function Ue(s,c){switch(H(we,c),H(Se,s),H(fe,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?zR(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=zR(c),s=LR(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Y(fe),H(fe,s)}function ae(){Y(fe),Y(Se),Y(we)}function Ae(s){s.memoizedState!==null&&H(Ce,s);var c=fe.current,f=LR(c,s.type);c!==f&&(H(Se,s),H(fe,f))}function qe(s){Se.current===s&&(Y(fe),Y(Se)),Ce.current===s&&(Y(Ce),jf._currentValue=ie)}var ve,at;function Fe(s){if(ve===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);ve=c&&c[1]||"",at=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+s+at}var kt=!1;function _t(s,c){if(!s||kt)return"";kt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(ye){var pe=ye}Reflect.construct(s,[],Te)}else{try{Te.call()}catch(ye){pe=ye}s.call(Te.prototype)}}else{try{throw Error()}catch(ye){pe=ye}(Te=s())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(ye){if(ye&&pe&&typeof ye.stack=="string")return[ye.stack,pe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=m.DetermineComponentFrameRoot(),P=T[0],$=T[1];if(P&&$){var Q=P.split(`
`),ue=$.split(`
`);for(k=m=0;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;for(;k<ue.length&&!ue[k].includes("DetermineComponentFrameRoot");)k++;if(m===Q.length||k===ue.length)for(m=Q.length-1,k=ue.length-1;1<=m&&0<=k&&Q[m]!==ue[k];)k--;for(;1<=m&&0<=k;m--,k--)if(Q[m]!==ue[k]){if(m!==1||k!==1)do if(m--,k--,0>k||Q[m]!==ue[k]){var be=`
`+Q[m].replace(" at new "," at ");return s.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",s.displayName)),be}while(1<=m&&0<=k);break}}}finally{kt=!1,Error.prepareStackTrace=f}return(f=s?s.displayName||s.name:"")?Fe(f):""}function Wt(s,c){switch(s.tag){case 26:case 27:case 5:return Fe(s.type);case 16:return Fe("Lazy");case 13:return s.child!==c&&c!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return _t(s.type,!1);case 11:return _t(s.type.render,!1);case 1:return _t(s.type,!0);case 31:return Fe("Activity");default:return""}}function hr(s){try{var c="",f=null;do c+=Wt(s,f),f=s,s=s.return;while(s);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ct=Object.prototype.hasOwnProperty,mt=t.unstable_scheduleCallback,ke=t.unstable_cancelCallback,Oe=t.unstable_shouldYield,de=t.unstable_requestPaint,Ne=t.unstable_now,le=t.unstable_getCurrentPriorityLevel,ee=t.unstable_ImmediatePriority,he=t.unstable_UserBlockingPriority,De=t.unstable_NormalPriority,ze=t.unstable_LowPriority,Me=t.unstable_IdlePriority,Xe=t.log,Ut=t.unstable_setDisableYieldValue,Yt=null,Et=null;function hn(s){if(typeof Xe=="function"&&Ut(s),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Yt,s)}catch{}}var pt=Math.clz32?Math.clz32:ju,Li=Math.log,rr=Math.LN2;function ju(s){return s>>>=0,s===0?32:31-(Li(s)/rr|0)|0}var io=256,es=262144,ft=4194304;function gn(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function mn(s,c,f){var m=s.pendingLanes;if(m===0)return 0;var k=0,T=s.suspendedLanes,P=s.pingedLanes;s=s.warmLanes;var $=m&134217727;return $!==0?(m=$&~T,m!==0?k=gn(m):(P&=$,P!==0?k=gn(P):f||(f=$&~s,f!==0&&(k=gn(f))))):($=m&~T,$!==0?k=gn($):P!==0?k=gn(P):f||(f=m&~s,f!==0&&(k=gn(f)))),k===0?0:c!==0&&c!==k&&(c&T)===0&&(T=k&-k,f=c&-c,T>=f||T===32&&(f&4194048)!==0)?c:k}function Bn(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function Vr(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gr(){var s=ft;return ft<<=1,(ft&62914560)===0&&(ft=4194304),s}function On(s){for(var c=[],f=0;31>f;f++)c.push(s);return c}function mi(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Pn(s,c,f,m,k,T){var P=s.pendingLanes;s.pendingLanes=f,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=f,s.entangledLanes&=f,s.errorRecoveryDisabledLanes&=f,s.shellSuspendCounter=0;var $=s.entanglements,Q=s.expirationTimes,ue=s.hiddenUpdates;for(f=P&~f;0<f;){var be=31-pt(f),Te=1<<be;$[be]=0,Q[be]=-1;var pe=ue[be];if(pe!==null)for(ue[be]=null,be=0;be<pe.length;be++){var ye=pe[be];ye!==null&&(ye.lane&=-536870913)}f&=~Te}m!==0&&Fr(s,m,0),T!==0&&k===0&&s.tag!==0&&(s.suspendedLanes|=T&~(P&~c))}function Fr(s,c,f){s.pendingLanes|=c,s.suspendedLanes&=~c;var m=31-pt(c);s.entangledLanes|=c,s.entanglements[m]=s.entanglements[m]|1073741824|f&261930}function Br(s,c){var f=s.entangledLanes|=c;for(s=s.entanglements;f;){var m=31-pt(f),k=1<<m;k&c|s[m]&c&&(s[m]|=c),f&=~k}}function ti(s,c){var f=c&-c;return f=(f&42)!==0?1:ji(f),(f&(s.suspendedLanes|c))!==0?0:f}function ji(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ni(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ui(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:aO(s.type))}function Cr(s,c){var f=J.p;try{return J.p=s,c()}finally{J.p=f}}var ri=Math.random().toString(36).slice(2),qn="__reactFiber$"+ri,mr="__reactProps$"+ri,ca="__reactContainer$"+ri,Uu="__reactEvents$"+ri,Xw="__reactListeners$"+ri,um="__reactHandles$"+ri,dm="__reactResources$"+ri,ua="__reactMarker$"+ri;function Vu(s){delete s[qn],delete s[mr],delete s[Uu],delete s[Xw],delete s[um]}function da(s){var c=s[qn];if(c)return c;for(var f=s.parentNode;f;){if(c=f[ca]||f[qn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(s=$R(s);s!==null;){if(f=s[qn])return f;s=$R(s)}return c}s=f,f=s.parentNode}return null}function oo(s){if(s=s[qn]||s[ca]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function Vi(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function pa(s){var c=s[dm];return c||(c=s[dm]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function $n(s){s[ua]=!0}var $p=new Set,Hp={};function fa(s,c){ha(s,c),ha(s+"Capture",c)}function ha(s,c){for(Hp[s]=c,s=0;s<c.length;s++)$p.add(c[s])}var Gp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kp={},Wp={};function pm(s){return Ct.call(Wp,s)?!0:Ct.call(Kp,s)?!1:Gp.test(s)?Wp[s]=!0:(Kp[s]=!0,!1)}function Fu(s,c,f){if(pm(c))if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+f)}}function Fi(s,c,f){if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+f)}}function Hn(s,c,f,m){if(m===null)s.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttributeNS(c,f,""+m)}}function yr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function nl(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Yp(s,c,f){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var k=m.get,T=m.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return k.call(this)},set:function(P){f=""+P,T.call(this,P)}}),Object.defineProperty(s,c,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(P){f=""+P},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function qt(s){if(!s._valueTracker){var c=nl(s)?"checked":"value";s._valueTracker=Yp(s,c,""+s[c])}}function Tc(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var f=c.getValue(),m="";return s&&(m=nl(s)?s.checked?"true":"false":s.value),s=m,s!==f?(c.setValue(s),!0):!1}function ga(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ec=/[\n"\\]/g;function yi(s){return s.replace(Ec,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Bu(s,c,f,m,k,T,P,$){s.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.type=P:s.removeAttribute("type"),c!=null?P==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+yr(c)):s.value!==""+yr(c)&&(s.value=""+yr(c)):P!=="submit"&&P!=="reset"||s.removeAttribute("value"),c!=null?Jp(s,P,yr(c)):f!=null?Jp(s,P,yr(f)):m!=null&&s.removeAttribute("value"),k==null&&T!=null&&(s.defaultChecked=!!T),k!=null&&(s.checked=k&&typeof k!="function"&&typeof k!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?s.name=""+yr($):s.removeAttribute("name")}function fm(s,c,f,m,k,T,P,$){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.type=T),c!=null||f!=null){if(!(T!=="submit"&&T!=="reset"||c!=null)){qt(s);return}f=f!=null?""+yr(f):"",c=c!=null?""+yr(c):f,$||c===s.value||(s.value=c),s.defaultValue=c}m=m??k,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=$?s.checked:!!m,s.defaultChecked=!!m,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(s.name=P),qt(s)}function Jp(s,c,f){c==="number"&&ga(s.ownerDocument)===s||s.defaultValue===""+f||(s.defaultValue=""+f)}function rl(s,c,f,m){if(s=s.options,c){c={};for(var k=0;k<f.length;k++)c["$"+f[k]]=!0;for(f=0;f<s.length;f++)k=c.hasOwnProperty("$"+s[f].value),s[f].selected!==k&&(s[f].selected=k),k&&m&&(s[f].defaultSelected=!0)}else{for(f=""+yr(f),c=null,k=0;k<s.length;k++){if(s[k].value===f){s[k].selected=!0,m&&(s[k].defaultSelected=!0);return}c!==null||s[k].disabled||(c=s[k])}c!==null&&(c.selected=!0)}}function hm(s,c,f){if(c!=null&&(c=""+yr(c),c!==s.value&&(s.value=c),f==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=f!=null?""+yr(f):""}function il(s,c,f,m){if(c==null){if(m!=null){if(f!=null)throw Error(r(92));if(Z(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),c=f}f=yr(c),s.defaultValue=f,m=s.textContent,m===f&&m!==""&&m!==null&&(s.value=m),qt(s)}function bi(s,c){if(c){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=c;return}}s.textContent=c}var gm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xp(s,c,f){var m=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":m?s.setProperty(c,f):typeof f!="number"||f===0||gm.has(c)?c==="float"?s.cssFloat=f:s[c]=(""+f).trim():s[c]=f+"px"}function Qp(s,c,f){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var k in c)m=c[k],c.hasOwnProperty(k)&&f[k]!==m&&Xp(s,k,m)}else for(var T in c)c.hasOwnProperty(T)&&Xp(s,T,c[T])}function qu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ol=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $u(s){return ol.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function zo(){}var Zp=null;function ao(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var al=null,ma=null;function Sc(s){var c=oo(s);if(c&&(s=c.stateNode)){var f=s[mr]||null;e:switch(s=c.stateNode,c.type){case"input":if(Bu(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+yi(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var m=f[c];if(m!==s&&m.form===s.form){var k=m[mr]||null;if(!k)throw Error(r(90));Bu(m,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(c=0;c<f.length;c++)m=f[c],m.form===s.form&&Tc(m)}break e;case"textarea":hm(s,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&rl(s,!!f.multiple,c,!1)}}}var Hu=!1;function sl(s,c,f){if(Hu)return s(c,f);Hu=!0;try{var m=s(c);return m}finally{if(Hu=!1,(al!==null||ma!==null)&&(cy(),al&&(c=al,s=ma,ma=al=null,Sc(c),s)))for(c=0;c<s.length;c++)Sc(s[c])}}function Lo(s,c){var f=s.stateNode;if(f===null)return null;var m=f[mr]||null;if(m===null)return null;f=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var so=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ac=!1;if(so)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Ac=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Ac=!1}var ya=null,ef=null,Cc=null;function tf(){if(Cc)return Cc;var s,c=ef,f=c.length,m,k="value"in ya?ya.value:ya.textContent,T=k.length;for(s=0;s<f&&c[s]===k[s];s++);var P=f-s;for(m=1;m<=P&&c[f-m]===k[T-m];m++);return Cc=k.slice(s,1<m?1-m:void 0)}function Ic(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function ts(){return!0}function jo(){return!1}function Ir(s){function c(f,m,k,T,P){this._reactName=f,this._targetInst=k,this.type=m,this.nativeEvent=T,this.target=P,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(f=s[$],this[$]=f?f(T):T[$]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?ts:jo,this.isPropagationStopped=jo,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),c}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Ir(ns),ll=h({},ns,{view:0,detail:0}),nf=Ir(ll),cl,Gu,va,Ku=h({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ul,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==va&&(va&&s.type==="mousemove"?(cl=s.screenX-va.screenX,Gu=s.screenY-va.screenY):Gu=cl=0,va=s),cl)},movementY:function(s){return"movementY"in s?s.movementY:Gu}}),rf=Ir(Ku),Nc=h({},Ku,{dataTransfer:0}),ym=Ir(Nc),bm=h({},ll,{relatedTarget:0}),Rc=Ir(bm),of=h({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),vm=Ir(of),Wu=h({},ns,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),wm=Ir(Wu),xm=h({},ns,{data:0}),wa=Ir(xm),km={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Em(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Tm[s])?!!c[s]:!1}function ul(){return Em}var ii=h({},ll,{key:function(s){if(s.key){var c=km[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Ic(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?_m[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ul,charCode:function(s){return s.type==="keypress"?Ic(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ic(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Sm=Ir(ii),Am=h({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=Ir(Am),x=h({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ul}),N=Ir(x),j=h({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),K=Ir(j),se=h({},Ku,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ge=Ir(se),Pe=h({},ns,{newState:0,oldState:0}),lt=Ir(Pe),Dn=[9,13,27,32],Dt=so&&"CompositionEvent"in window,yn=null;so&&"documentMode"in document&&(yn=document.documentMode);var lo=so&&"TextEvent"in window&&!yn,xa=so&&(!Dt||yn&&8<yn&&11>=yn),Uo=" ",Vo=!1;function Oc(s,c){switch(s){case"keyup":return Dn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ju=!1;function tG(s,c){switch(s){case"compositionend":return Yu(c);case"keypress":return c.which!==32?null:(Vo=!0,Uo);case"textInput":return s=c.data,s===Uo&&Vo?null:s;default:return null}}function nG(s,c){if(Ju)return s==="compositionend"||!Dt&&Oc(s,c)?(s=tf(),Cc=ef=ya=null,Ju=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return xa&&c.locale!=="ko"?null:c.data;default:return null}}var rG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KI(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!rG[s.type]:c==="textarea"}function WI(s,c,f,m){al?ma?ma.push(m):ma=[m]:al=m,c=my(c,"onChange"),0<c.length&&(f=new ba("onChange","change",null,f,m),s.push({event:f,listeners:c}))}var af=null,sf=null;function iG(s){NR(s,0)}function Cm(s){var c=Vi(s);if(Tc(c))return s}function YI(s,c){if(s==="change")return c}var JI=!1;if(so){var Qw;if(so){var Zw="oninput"in document;if(!Zw){var XI=document.createElement("div");XI.setAttribute("oninput","return;"),Zw=typeof XI.oninput=="function"}Qw=Zw}else Qw=!1;JI=Qw&&(!document.documentMode||9<document.documentMode)}function QI(){af&&(af.detachEvent("onpropertychange",ZI),sf=af=null)}function ZI(s){if(s.propertyName==="value"&&Cm(sf)){var c=[];WI(c,sf,s,ao(s)),sl(iG,c)}}function oG(s,c,f){s==="focusin"?(QI(),af=c,sf=f,af.attachEvent("onpropertychange",ZI)):s==="focusout"&&QI()}function aG(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Cm(sf)}function sG(s,c){if(s==="click")return Cm(c)}function lG(s,c){if(s==="input"||s==="change")return Cm(c)}function cG(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Bi=typeof Object.is=="function"?Object.is:cG;function lf(s,c){if(Bi(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var f=Object.keys(s),m=Object.keys(c);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var k=f[m];if(!Ct.call(c,k)||!Bi(s[k],c[k]))return!1}return!0}function eN(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function tN(s,c){var f=eN(s);s=0;for(var m;f;){if(f.nodeType===3){if(m=s+f.textContent.length,s<=c&&m>=c)return{node:f,offset:c-s};s=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=eN(f)}}function nN(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?nN(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function rN(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=ga(s.document);c instanceof s.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)s=c.contentWindow;else break;c=ga(s.document)}return c}function ex(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var uG=so&&"documentMode"in document&&11>=document.documentMode,Xu=null,tx=null,cf=null,nx=!1;function iN(s,c,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;nx||Xu==null||Xu!==ga(m)||(m=Xu,"selectionStart"in m&&ex(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),cf&&lf(cf,m)||(cf=m,m=my(tx,"onSelect"),0<m.length&&(c=new ba("onSelect","select",null,c,f),s.push({event:c,listeners:m}),c.target=Xu)))}function Pc(s,c){var f={};return f[s.toLowerCase()]=c.toLowerCase(),f["Webkit"+s]="webkit"+c,f["Moz"+s]="moz"+c,f}var Qu={animationend:Pc("Animation","AnimationEnd"),animationiteration:Pc("Animation","AnimationIteration"),animationstart:Pc("Animation","AnimationStart"),transitionrun:Pc("Transition","TransitionRun"),transitionstart:Pc("Transition","TransitionStart"),transitioncancel:Pc("Transition","TransitionCancel"),transitionend:Pc("Transition","TransitionEnd")},rx={},oN={};so&&(oN=document.createElement("div").style,"AnimationEvent"in window||(delete Qu.animationend.animation,delete Qu.animationiteration.animation,delete Qu.animationstart.animation),"TransitionEvent"in window||delete Qu.transitionend.transition);function Dc(s){if(rx[s])return rx[s];if(!Qu[s])return s;var c=Qu[s],f;for(f in c)if(c.hasOwnProperty(f)&&f in oN)return rx[s]=c[f];return s}var aN=Dc("animationend"),sN=Dc("animationiteration"),lN=Dc("animationstart"),dG=Dc("transitionrun"),pG=Dc("transitionstart"),fG=Dc("transitioncancel"),cN=Dc("transitionend"),uN=new Map,ix="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ix.push("scrollEnd");function Fo(s,c){uN.set(s,c),fa(c,[s])}var Im=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},co=[],Zu=0,ox=0;function Nm(){for(var s=Zu,c=ox=Zu=0;c<s;){var f=co[c];co[c++]=null;var m=co[c];co[c++]=null;var k=co[c];co[c++]=null;var T=co[c];if(co[c++]=null,m!==null&&k!==null){var P=m.pending;P===null?k.next=k:(k.next=P.next,P.next=k),m.pending=k}T!==0&&dN(f,k,T)}}function Rm(s,c,f,m){co[Zu++]=s,co[Zu++]=c,co[Zu++]=f,co[Zu++]=m,ox|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function ax(s,c,f,m){return Rm(s,c,f,m),Om(s)}function Mc(s,c){return Rm(s,null,null,c),Om(s)}function dN(s,c,f){s.lanes|=f;var m=s.alternate;m!==null&&(m.lanes|=f);for(var k=!1,T=s.return;T!==null;)T.childLanes|=f,m=T.alternate,m!==null&&(m.childLanes|=f),T.tag===22&&(s=T.stateNode,s===null||s._visibility&1||(k=!0)),s=T,T=T.return;return s.tag===3?(T=s.stateNode,k&&c!==null&&(k=31-pt(f),s=T.hiddenUpdates,m=s[k],m===null?s[k]=[c]:m.push(c),c.lane=f|536870912),T):null}function Om(s){if(50<Rf)throw Rf=0,g1=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var ed={};function hG(s,c,f,m){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(s,c,f,m){return new hG(s,c,f,m)}function sx(s){return s=s.prototype,!(!s||!s.isReactComponent)}function is(s,c){var f=s.alternate;return f===null?(f=qi(s.tag,c,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=c,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&65011712,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,c=s.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f.refCleanup=s.refCleanup,f}function pN(s,c){s.flags&=65011714;var f=s.alternate;return f===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=f.childLanes,s.lanes=f.lanes,s.child=f.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=f.memoizedProps,s.memoizedState=f.memoizedState,s.updateQueue=f.updateQueue,s.type=f.type,c=f.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function Pm(s,c,f,m,k,T){var P=0;if(m=s,typeof s=="function")sx(s)&&(P=1);else if(typeof s=="string")P=v7(s,f,fe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case z:return s=qi(31,f,c,k),s.elementType=z,s.lanes=T,s;case S:return zc(f.children,k,T,c);case _:P=8,k|=24;break;case C:return s=qi(12,f,c,k|2),s.elementType=C,s.lanes=T,s;case U:return s=qi(13,f,c,k),s.elementType=U,s.lanes=T,s;case M:return s=qi(19,f,c,k),s.elementType=M,s.lanes=T,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:P=10;break e;case R:P=9;break e;case O:P=11;break e;case D:P=14;break e;case L:P=16,m=null;break e}P=29,f=Error(r(130,s===null?"null":typeof s,"")),m=null}return c=qi(P,f,c,k),c.elementType=s,c.type=m,c.lanes=T,c}function zc(s,c,f,m){return s=qi(7,s,m,c),s.lanes=f,s}function lx(s,c,f){return s=qi(6,s,null,c),s.lanes=f,s}function fN(s){var c=qi(18,null,null,0);return c.stateNode=s,c}function cx(s,c,f){return c=qi(4,s.children!==null?s.children:[],s.key,c),c.lanes=f,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var hN=new WeakMap;function uo(s,c){if(typeof s=="object"&&s!==null){var f=hN.get(s);return f!==void 0?f:(c={value:s,source:c,stack:hr(c)},hN.set(s,c),c)}return{value:s,source:c,stack:hr(c)}}var td=[],nd=0,Dm=null,uf=0,po=[],fo=0,dl=null,ka=1,_a="";function os(s,c){td[nd++]=uf,td[nd++]=Dm,Dm=s,uf=c}function gN(s,c,f){po[fo++]=ka,po[fo++]=_a,po[fo++]=dl,dl=s;var m=ka;s=_a;var k=32-pt(m)-1;m&=~(1<<k),f+=1;var T=32-pt(c)+k;if(30<T){var P=k-k%5;T=(m&(1<<P)-1).toString(32),m>>=P,k-=P,ka=1<<32-pt(c)+k|f<<k|m,_a=T+s}else ka=1<<T|f<<k|m,_a=s}function ux(s){s.return!==null&&(os(s,1),gN(s,1,0))}function dx(s){for(;s===Dm;)Dm=td[--nd],td[nd]=null,uf=td[--nd],td[nd]=null;for(;s===dl;)dl=po[--fo],po[fo]=null,_a=po[--fo],po[fo]=null,ka=po[--fo],po[fo]=null}function mN(s,c){po[fo++]=ka,po[fo++]=_a,po[fo++]=dl,ka=c.id,_a=c.overflow,dl=s}var Nr=null,cn=null,Tt=!1,pl=null,ho=!1,px=Error(r(519));function fl(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw df(uo(c,s)),px}function yN(s){var c=s.stateNode,f=s.type,m=s.memoizedProps;switch(c[qn]=s,c[mr]=m,f){case"dialog":gt("cancel",c),gt("close",c);break;case"iframe":case"object":case"embed":gt("load",c);break;case"video":case"audio":for(f=0;f<Pf.length;f++)gt(Pf[f],c);break;case"source":gt("error",c);break;case"img":case"image":case"link":gt("error",c),gt("load",c);break;case"details":gt("toggle",c);break;case"input":gt("invalid",c),fm(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":gt("invalid",c);break;case"textarea":gt("invalid",c),il(c,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||m.suppressHydrationWarning===!0||DR(c.textContent,f)?(m.popover!=null&&(gt("beforetoggle",c),gt("toggle",c)),m.onScroll!=null&&gt("scroll",c),m.onScrollEnd!=null&&gt("scrollend",c),m.onClick!=null&&(c.onclick=zo),c=!0):c=!1,c||fl(s,!0)}function bN(s){for(Nr=s.return;Nr;)switch(Nr.tag){case 5:case 31:case 13:ho=!1;return;case 27:case 3:ho=!0;return;default:Nr=Nr.return}}function rd(s){if(s!==Nr)return!1;if(!Tt)return bN(s),Tt=!0,!1;var c=s.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=s.type,f=!(f!=="form"&&f!=="button")||N1(s.type,s.memoizedProps)),f=!f),f&&cn&&fl(s),bN(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));cn=qR(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));cn=qR(s)}else c===27?(c=cn,Al(s.type)?(s=M1,M1=null,cn=s):cn=c):cn=Nr?mo(s.stateNode.nextSibling):null;return!0}function Lc(){cn=Nr=null,Tt=!1}function fx(){var s=pl;return s!==null&&(ki===null?ki=s:ki.push.apply(ki,s),pl=null),s}function df(s){pl===null?pl=[s]:pl.push(s)}var hx=W(null),jc=null,as=null;function hl(s,c,f){H(hx,c._currentValue),c._currentValue=f}function ss(s){s._currentValue=hx.current,Y(hx)}function gx(s,c,f){for(;s!==null;){var m=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),s===f)break;s=s.return}}function mx(s,c,f,m){var k=s.child;for(k!==null&&(k.return=s);k!==null;){var T=k.dependencies;if(T!==null){var P=k.child;T=T.firstContext;e:for(;T!==null;){var $=T;T=k;for(var Q=0;Q<c.length;Q++)if($.context===c[Q]){T.lanes|=f,$=T.alternate,$!==null&&($.lanes|=f),gx(T.return,f,s),m||(P=null);break e}T=$.next}}else if(k.tag===18){if(P=k.return,P===null)throw Error(r(341));P.lanes|=f,T=P.alternate,T!==null&&(T.lanes|=f),gx(P,f,s),P=null}else P=k.child;if(P!==null)P.return=k;else for(P=k;P!==null;){if(P===s){P=null;break}if(k=P.sibling,k!==null){k.return=P.return,P=k;break}P=P.return}k=P}}function id(s,c,f,m){s=null;for(var k=c,T=!1;k!==null;){if(!T){if((k.flags&524288)!==0)T=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var P=k.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var $=k.type;Bi(k.pendingProps.value,P.value)||(s!==null?s.push($):s=[$])}}else if(k===Ce.current){if(P=k.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(s!==null?s.push(jf):s=[jf])}k=k.return}s!==null&&mx(c,s,f,m),c.flags|=262144}function Mm(s){for(s=s.firstContext;s!==null;){if(!Bi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Uc(s){jc=s,as=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Rr(s){return vN(jc,s)}function zm(s,c){return jc===null&&Uc(s),vN(s,c)}function vN(s,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},as===null){if(s===null)throw Error(r(308));as=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else as=as.next=c;return f}var gG=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(f,m){s.push(m)}};this.abort=function(){c.aborted=!0,s.forEach(function(f){return f()})}},mG=t.unstable_scheduleCallback,yG=t.unstable_NormalPriority,Gn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yx(){return{controller:new gG,data:new Map,refCount:0}}function pf(s){s.refCount--,s.refCount===0&&mG(yG,function(){s.controller.abort()})}var ff=null,bx=0,od=0,ad=null;function bG(s,c){if(ff===null){var f=ff=[];bx=0,od=x1(),ad={status:"pending",value:void 0,then:function(m){f.push(m)}}}return bx++,c.then(wN,wN),c}function wN(){if(--bx===0&&ff!==null){ad!==null&&(ad.status="fulfilled");var s=ff;ff=null,od=0,ad=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function vG(s,c){var f=[],m={status:"pending",value:null,reason:null,then:function(k){f.push(k)}};return s.then(function(){m.status="fulfilled",m.value=c;for(var k=0;k<f.length;k++)(0,f[k])(c)},function(k){for(m.status="rejected",m.reason=k,k=0;k<f.length;k++)(0,f[k])(void 0)}),m}var xN=X.S;X.S=function(s,c){iR=Ne(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&bG(s,c),xN!==null&&xN(s,c)};var Vc=W(null);function vx(){var s=Vc.current;return s!==null?s:tn.pooledCache}function Lm(s,c){c===null?H(Vc,Vc.current):H(Vc,c.pool)}function kN(){var s=vx();return s===null?null:{parent:Gn._currentValue,pool:s}}var sd=Error(r(460)),wx=Error(r(474)),jm=Error(r(542)),Um={then:function(){}};function _N(s){return s=s.status,s==="fulfilled"||s==="rejected"}function TN(s,c,f){switch(f=s[f],f===void 0?s.push(c):f!==c&&(c.then(zo,zo),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,SN(s),s;default:if(typeof c.status=="string")c.then(zo,zo);else{if(s=tn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(m){if(c.status==="pending"){var k=c;k.status="fulfilled",k.value=m}},function(m){if(c.status==="pending"){var k=c;k.status="rejected",k.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,SN(s),s}throw Bc=c,sd}}function Fc(s){try{var c=s._init;return c(s._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Bc=f,sd):f}}var Bc=null;function EN(){if(Bc===null)throw Error(r(459));var s=Bc;return Bc=null,s}function SN(s){if(s===sd||s===jm)throw Error(r(483))}var ld=null,hf=0;function Vm(s){var c=hf;return hf+=1,ld===null&&(ld=[]),TN(ld,s,c)}function gf(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function Fm(s,c){throw c.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function AN(s){function c(re,ne){if(s){var ce=re.deletions;ce===null?(re.deletions=[ne],re.flags|=16):ce.push(ne)}}function f(re,ne){if(!s)return null;for(;ne!==null;)c(re,ne),ne=ne.sibling;return null}function m(re){for(var ne=new Map;re!==null;)re.key!==null?ne.set(re.key,re):ne.set(re.index,re),re=re.sibling;return ne}function k(re,ne){return re=is(re,ne),re.index=0,re.sibling=null,re}function T(re,ne,ce){return re.index=ce,s?(ce=re.alternate,ce!==null?(ce=ce.index,ce<ne?(re.flags|=67108866,ne):ce):(re.flags|=67108866,ne)):(re.flags|=1048576,ne)}function P(re){return s&&re.alternate===null&&(re.flags|=67108866),re}function $(re,ne,ce,xe){return ne===null||ne.tag!==6?(ne=lx(ce,re.mode,xe),ne.return=re,ne):(ne=k(ne,ce),ne.return=re,ne)}function Q(re,ne,ce,xe){var Ye=ce.type;return Ye===S?be(re,ne,ce.props.children,xe,ce.key):ne!==null&&(ne.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===L&&Fc(Ye)===ne.type)?(ne=k(ne,ce.props),gf(ne,ce),ne.return=re,ne):(ne=Pm(ce.type,ce.key,ce.props,null,re.mode,xe),gf(ne,ce),ne.return=re,ne)}function ue(re,ne,ce,xe){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ce.containerInfo||ne.stateNode.implementation!==ce.implementation?(ne=cx(ce,re.mode,xe),ne.return=re,ne):(ne=k(ne,ce.children||[]),ne.return=re,ne)}function be(re,ne,ce,xe,Ye){return ne===null||ne.tag!==7?(ne=zc(ce,re.mode,xe,Ye),ne.return=re,ne):(ne=k(ne,ce),ne.return=re,ne)}function Te(re,ne,ce){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=lx(""+ne,re.mode,ce),ne.return=re,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return ce=Pm(ne.type,ne.key,ne.props,null,re.mode,ce),gf(ce,ne),ce.return=re,ce;case E:return ne=cx(ne,re.mode,ce),ne.return=re,ne;case L:return ne=Fc(ne),Te(re,ne,ce)}if(Z(ne)||q(ne))return ne=zc(ne,re.mode,ce,null),ne.return=re,ne;if(typeof ne.then=="function")return Te(re,Vm(ne),ce);if(ne.$$typeof===I)return Te(re,zm(re,ne),ce);Fm(re,ne)}return null}function pe(re,ne,ce,xe){var Ye=ne!==null?ne.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Ye!==null?null:$(re,ne,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return ce.key===Ye?Q(re,ne,ce,xe):null;case E:return ce.key===Ye?ue(re,ne,ce,xe):null;case L:return ce=Fc(ce),pe(re,ne,ce,xe)}if(Z(ce)||q(ce))return Ye!==null?null:be(re,ne,ce,xe,null);if(typeof ce.then=="function")return pe(re,ne,Vm(ce),xe);if(ce.$$typeof===I)return pe(re,ne,zm(re,ce),xe);Fm(re,ce)}return null}function ye(re,ne,ce,xe,Ye){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return re=re.get(ce)||null,$(ne,re,""+xe,Ye);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:return re=re.get(xe.key===null?ce:xe.key)||null,Q(ne,re,xe,Ye);case E:return re=re.get(xe.key===null?ce:xe.key)||null,ue(ne,re,xe,Ye);case L:return xe=Fc(xe),ye(re,ne,ce,xe,Ye)}if(Z(xe)||q(xe))return re=re.get(ce)||null,be(ne,re,xe,Ye,null);if(typeof xe.then=="function")return ye(re,ne,ce,Vm(xe),Ye);if(xe.$$typeof===I)return ye(re,ne,ce,zm(ne,xe),Ye);Fm(ne,xe)}return null}function $e(re,ne,ce,xe){for(var Ye=null,It=null,He=ne,ut=ne=0,bt=null;He!==null&&ut<ce.length;ut++){He.index>ut?(bt=He,He=null):bt=He.sibling;var Nt=pe(re,He,ce[ut],xe);if(Nt===null){He===null&&(He=bt);break}s&&He&&Nt.alternate===null&&c(re,He),ne=T(Nt,ne,ut),It===null?Ye=Nt:It.sibling=Nt,It=Nt,He=bt}if(ut===ce.length)return f(re,He),Tt&&os(re,ut),Ye;if(He===null){for(;ut<ce.length;ut++)He=Te(re,ce[ut],xe),He!==null&&(ne=T(He,ne,ut),It===null?Ye=He:It.sibling=He,It=He);return Tt&&os(re,ut),Ye}for(He=m(He);ut<ce.length;ut++)bt=ye(He,re,ut,ce[ut],xe),bt!==null&&(s&&bt.alternate!==null&&He.delete(bt.key===null?ut:bt.key),ne=T(bt,ne,ut),It===null?Ye=bt:It.sibling=bt,It=bt);return s&&He.forEach(function(Ol){return c(re,Ol)}),Tt&&os(re,ut),Ye}function Qe(re,ne,ce,xe){if(ce==null)throw Error(r(151));for(var Ye=null,It=null,He=ne,ut=ne=0,bt=null,Nt=ce.next();He!==null&&!Nt.done;ut++,Nt=ce.next()){He.index>ut?(bt=He,He=null):bt=He.sibling;var Ol=pe(re,He,Nt.value,xe);if(Ol===null){He===null&&(He=bt);break}s&&He&&Ol.alternate===null&&c(re,He),ne=T(Ol,ne,ut),It===null?Ye=Ol:It.sibling=Ol,It=Ol,He=bt}if(Nt.done)return f(re,He),Tt&&os(re,ut),Ye;if(He===null){for(;!Nt.done;ut++,Nt=ce.next())Nt=Te(re,Nt.value,xe),Nt!==null&&(ne=T(Nt,ne,ut),It===null?Ye=Nt:It.sibling=Nt,It=Nt);return Tt&&os(re,ut),Ye}for(He=m(He);!Nt.done;ut++,Nt=ce.next())Nt=ye(He,re,ut,Nt.value,xe),Nt!==null&&(s&&Nt.alternate!==null&&He.delete(Nt.key===null?ut:Nt.key),ne=T(Nt,ne,ut),It===null?Ye=Nt:It.sibling=Nt,It=Nt);return s&&He.forEach(function(N7){return c(re,N7)}),Tt&&os(re,ut),Ye}function Zt(re,ne,ce,xe){if(typeof ce=="object"&&ce!==null&&ce.type===S&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:e:{for(var Ye=ce.key;ne!==null;){if(ne.key===Ye){if(Ye=ce.type,Ye===S){if(ne.tag===7){f(re,ne.sibling),xe=k(ne,ce.props.children),xe.return=re,re=xe;break e}}else if(ne.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===L&&Fc(Ye)===ne.type){f(re,ne.sibling),xe=k(ne,ce.props),gf(xe,ce),xe.return=re,re=xe;break e}f(re,ne);break}else c(re,ne);ne=ne.sibling}ce.type===S?(xe=zc(ce.props.children,re.mode,xe,ce.key),xe.return=re,re=xe):(xe=Pm(ce.type,ce.key,ce.props,null,re.mode,xe),gf(xe,ce),xe.return=re,re=xe)}return P(re);case E:e:{for(Ye=ce.key;ne!==null;){if(ne.key===Ye)if(ne.tag===4&&ne.stateNode.containerInfo===ce.containerInfo&&ne.stateNode.implementation===ce.implementation){f(re,ne.sibling),xe=k(ne,ce.children||[]),xe.return=re,re=xe;break e}else{f(re,ne);break}else c(re,ne);ne=ne.sibling}xe=cx(ce,re.mode,xe),xe.return=re,re=xe}return P(re);case L:return ce=Fc(ce),Zt(re,ne,ce,xe)}if(Z(ce))return $e(re,ne,ce,xe);if(q(ce)){if(Ye=q(ce),typeof Ye!="function")throw Error(r(150));return ce=Ye.call(ce),Qe(re,ne,ce,xe)}if(typeof ce.then=="function")return Zt(re,ne,Vm(ce),xe);if(ce.$$typeof===I)return Zt(re,ne,zm(re,ce),xe);Fm(re,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ne!==null&&ne.tag===6?(f(re,ne.sibling),xe=k(ne,ce),xe.return=re,re=xe):(f(re,ne),xe=lx(ce,re.mode,xe),xe.return=re,re=xe),P(re)):f(re,ne)}return function(re,ne,ce,xe){try{hf=0;var Ye=Zt(re,ne,ce,xe);return ld=null,Ye}catch(He){if(He===sd||He===jm)throw He;var It=qi(29,He,null,re.mode);return It.lanes=xe,It.return=re,It}finally{}}}var qc=AN(!0),CN=AN(!1),gl=!1;function xx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kx(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ml(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function yl(s,c,f){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Mt&2)!==0){var k=m.pending;return k===null?c.next=c:(c.next=k.next,k.next=c),m.pending=c,c=Om(s),dN(s,null,f),c}return Rm(s,m,c,f),Om(s)}function mf(s,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var m=c.lanes;m&=s.pendingLanes,f|=m,c.lanes=f,Br(s,f)}}function _x(s,c){var f=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var k=null,T=null;if(f=f.firstBaseUpdate,f!==null){do{var P={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};T===null?k=T=P:T=T.next=P,f=f.next}while(f!==null);T===null?k=T=c:T=T.next=c}else k=T=c;f={baseState:m.baseState,firstBaseUpdate:k,lastBaseUpdate:T,shared:m.shared,callbacks:m.callbacks},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=c}var Tx=!1;function yf(){if(Tx){var s=ad;if(s!==null)throw s}}function bf(s,c,f,m){Tx=!1;var k=s.updateQueue;gl=!1;var T=k.firstBaseUpdate,P=k.lastBaseUpdate,$=k.shared.pending;if($!==null){k.shared.pending=null;var Q=$,ue=Q.next;Q.next=null,P===null?T=ue:P.next=ue,P=Q;var be=s.alternate;be!==null&&(be=be.updateQueue,$=be.lastBaseUpdate,$!==P&&($===null?be.firstBaseUpdate=ue:$.next=ue,be.lastBaseUpdate=Q))}if(T!==null){var Te=k.baseState;P=0,be=ue=Q=null,$=T;do{var pe=$.lane&-536870913,ye=pe!==$.lane;if(ye?(yt&pe)===pe:(m&pe)===pe){pe!==0&&pe===od&&(Tx=!0),be!==null&&(be=be.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var $e=s,Qe=$;pe=c;var Zt=f;switch(Qe.tag){case 1:if($e=Qe.payload,typeof $e=="function"){Te=$e.call(Zt,Te,pe);break e}Te=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Qe.payload,pe=typeof $e=="function"?$e.call(Zt,Te,pe):$e,pe==null)break e;Te=h({},Te,pe);break e;case 2:gl=!0}}pe=$.callback,pe!==null&&(s.flags|=64,ye&&(s.flags|=8192),ye=k.callbacks,ye===null?k.callbacks=[pe]:ye.push(pe))}else ye={lane:pe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},be===null?(ue=be=ye,Q=Te):be=be.next=ye,P|=pe;if($=$.next,$===null){if($=k.shared.pending,$===null)break;ye=$,$=ye.next,ye.next=null,k.lastBaseUpdate=ye,k.shared.pending=null}}while(!0);be===null&&(Q=Te),k.baseState=Q,k.firstBaseUpdate=ue,k.lastBaseUpdate=be,T===null&&(k.shared.lanes=0),kl|=P,s.lanes=P,s.memoizedState=Te}}function IN(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function NN(s,c){var f=s.callbacks;if(f!==null)for(s.callbacks=null,s=0;s<f.length;s++)IN(f[s],c)}var cd=W(null),Bm=W(0);function RN(s,c){s=ms,H(Bm,s),H(cd,c),ms=s|c.baseLanes}function Ex(){H(Bm,ms),H(cd,cd.current)}function Sx(){ms=Bm.current,Y(cd),Y(Bm)}var $i=W(null),go=null;function bl(s){var c=s.alternate;H(Mn,Mn.current&1),H($i,s),go===null&&(c===null||cd.current!==null||c.memoizedState!==null)&&(go=s)}function Ax(s){H(Mn,Mn.current),H($i,s),go===null&&(go=s)}function ON(s){s.tag===22?(H(Mn,Mn.current),H($i,s),go===null&&(go=s)):vl()}function vl(){H(Mn,Mn.current),H($i,$i.current)}function Hi(s){Y($i),go===s&&(go=null),Y(Mn)}var Mn=W(0);function qm(s){for(var c=s;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||P1(f)||D1(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ls=0,ct=null,Xt=null,Kn=null,$m=!1,ud=!1,$c=!1,Hm=0,vf=0,dd=null,wG=0;function _n(){throw Error(r(321))}function Cx(s,c){if(c===null)return!1;for(var f=0;f<c.length&&f<s.length;f++)if(!Bi(s[f],c[f]))return!1;return!0}function Ix(s,c,f,m,k,T){return ls=T,ct=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,X.H=s===null||s.memoizedState===null?g2:$x,$c=!1,T=f(m,k),$c=!1,ud&&(T=DN(c,f,m,k)),PN(s),T}function PN(s){X.H=kf;var c=Xt!==null&&Xt.next!==null;if(ls=0,Kn=Xt=ct=null,$m=!1,vf=0,dd=null,c)throw Error(r(300));s===null||Wn||(s=s.dependencies,s!==null&&Mm(s)&&(Wn=!0))}function DN(s,c,f,m){ct=s;var k=0;do{if(ud&&(dd=null),vf=0,ud=!1,25<=k)throw Error(r(301));if(k+=1,Kn=Xt=null,s.updateQueue!=null){var T=s.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}X.H=m2,T=c(f,m)}while(ud);return T}function xG(){var s=X.H,c=s.useState()[0];return c=typeof c.then=="function"?wf(c):c,s=s.useState()[0],(Xt!==null?Xt.memoizedState:null)!==s&&(ct.flags|=1024),c}function Nx(){var s=Hm!==0;return Hm=0,s}function Rx(s,c,f){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~f}function Ox(s){if($m){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}$m=!1}ls=0,Kn=Xt=ct=null,ud=!1,vf=Hm=0,dd=null}function oi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?ct.memoizedState=Kn=s:Kn=Kn.next=s,Kn}function zn(){if(Xt===null){var s=ct.alternate;s=s!==null?s.memoizedState:null}else s=Xt.next;var c=Kn===null?ct.memoizedState:Kn.next;if(c!==null)Kn=c,Xt=s;else{if(s===null)throw ct.alternate===null?Error(r(467)):Error(r(310));Xt=s,s={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Kn===null?ct.memoizedState=Kn=s:Kn=Kn.next=s}return Kn}function Gm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wf(s){var c=vf;return vf+=1,dd===null&&(dd=[]),s=TN(dd,s,c),c=ct,(Kn===null?c.memoizedState:Kn.next)===null&&(c=c.alternate,X.H=c===null||c.memoizedState===null?g2:$x),s}function Km(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wf(s);if(s.$$typeof===I)return Rr(s)}throw Error(r(438,String(s)))}function Px(s){var c=null,f=ct.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var m=ct.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(k){return k.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=Gm(),ct.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(s),m=0;m<s;m++)f[m]=B;return c.index++,f}function cs(s,c){return typeof c=="function"?c(s):c}function Wm(s){var c=zn();return Dx(c,Xt,s)}function Dx(s,c,f){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var k=s.baseQueue,T=m.pending;if(T!==null){if(k!==null){var P=k.next;k.next=T.next,T.next=P}c.baseQueue=k=T,m.pending=null}if(T=s.baseState,k===null)s.memoizedState=T;else{c=k.next;var $=P=null,Q=null,ue=c,be=!1;do{var Te=ue.lane&-536870913;if(Te!==ue.lane?(yt&Te)===Te:(ls&Te)===Te){var pe=ue.revertLane;if(pe===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Te===od&&(be=!0);else if((ls&pe)===pe){ue=ue.next,pe===od&&(be=!0);continue}else Te={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Q===null?($=Q=Te,P=T):Q=Q.next=Te,ct.lanes|=pe,kl|=pe;Te=ue.action,$c&&f(T,Te),T=ue.hasEagerState?ue.eagerState:f(T,Te)}else pe={lane:Te,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Q===null?($=Q=pe,P=T):Q=Q.next=pe,ct.lanes|=Te,kl|=Te;ue=ue.next}while(ue!==null&&ue!==c);if(Q===null?P=T:Q.next=$,!Bi(T,s.memoizedState)&&(Wn=!0,be&&(f=ad,f!==null)))throw f;s.memoizedState=T,s.baseState=P,s.baseQueue=Q,m.lastRenderedState=T}return k===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function Mx(s){var c=zn(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var m=f.dispatch,k=f.pending,T=c.memoizedState;if(k!==null){f.pending=null;var P=k=k.next;do T=s(T,P.action),P=P.next;while(P!==k);Bi(T,c.memoizedState)||(Wn=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),f.lastRenderedState=T}return[T,m]}function MN(s,c,f){var m=ct,k=zn(),T=Tt;if(T){if(f===void 0)throw Error(r(407));f=f()}else f=c();var P=!Bi((Xt||k).memoizedState,f);if(P&&(k.memoizedState=f,Wn=!0),k=k.queue,jx(jN.bind(null,m,k,s),[s]),k.getSnapshot!==c||P||Kn!==null&&Kn.memoizedState.tag&1){if(m.flags|=2048,pd(9,{destroy:void 0},LN.bind(null,m,k,f,c),null),tn===null)throw Error(r(349));T||(ls&127)!==0||zN(m,c,f)}return f}function zN(s,c,f){s.flags|=16384,s={getSnapshot:c,value:f},c=ct.updateQueue,c===null?(c=Gm(),ct.updateQueue=c,c.stores=[s]):(f=c.stores,f===null?c.stores=[s]:f.push(s))}function LN(s,c,f,m){c.value=f,c.getSnapshot=m,UN(c)&&VN(s)}function jN(s,c,f){return f(function(){UN(c)&&VN(s)})}function UN(s){var c=s.getSnapshot;s=s.value;try{var f=c();return!Bi(s,f)}catch{return!0}}function VN(s){var c=Mc(s,2);c!==null&&_i(c,s,2)}function zx(s){var c=oi();if(typeof s=="function"){var f=s;if(s=f(),$c){hn(!0);try{f()}finally{hn(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:s},c}function FN(s,c,f,m){return s.baseState=f,Dx(s,Xt,typeof m=="function"?m:cs)}function kG(s,c,f,m,k){if(Xm(s))throw Error(r(485));if(s=c.action,s!==null){var T={payload:k,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){T.listeners.push(P)}};X.T!==null?f(!0):T.isTransition=!1,m(T),f=c.pending,f===null?(T.next=c.pending=T,BN(c,T)):(T.next=f.next,c.pending=f.next=T)}}function BN(s,c){var f=c.action,m=c.payload,k=s.state;if(c.isTransition){var T=X.T,P={};X.T=P;try{var $=f(k,m),Q=X.S;Q!==null&&Q(P,$),qN(s,c,$)}catch(ue){Lx(s,c,ue)}finally{T!==null&&P.types!==null&&(T.types=P.types),X.T=T}}else try{T=f(k,m),qN(s,c,T)}catch(ue){Lx(s,c,ue)}}function qN(s,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){$N(s,c,m)},function(m){return Lx(s,c,m)}):$N(s,c,f)}function $N(s,c,f){c.status="fulfilled",c.value=f,HN(c),s.state=f,c=s.pending,c!==null&&(f=c.next,f===c?s.pending=null:(f=f.next,c.next=f,BN(s,f)))}function Lx(s,c,f){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=f,HN(c),c=c.next;while(c!==m)}s.action=null}function HN(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function GN(s,c){return c}function KN(s,c){if(Tt){var f=tn.formState;if(f!==null){e:{var m=ct;if(Tt){if(cn){t:{for(var k=cn,T=ho;k.nodeType!==8;){if(!T){k=null;break t}if(k=mo(k.nextSibling),k===null){k=null;break t}}T=k.data,k=T==="F!"||T==="F"?k:null}if(k){cn=mo(k.nextSibling),m=k.data==="F!";break e}}fl(m)}m=!1}m&&(c=f[0])}}return f=oi(),f.memoizedState=f.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:GN,lastRenderedState:c},f.queue=m,f=p2.bind(null,ct,m),m.dispatch=f,m=zx(!1),T=qx.bind(null,ct,!1,m.queue),m=oi(),k={state:c,dispatch:null,action:s,pending:null},m.queue=k,f=kG.bind(null,ct,k,T,f),k.dispatch=f,m.memoizedState=s,[c,f,!1]}function WN(s){var c=zn();return YN(c,Xt,s)}function YN(s,c,f){if(c=Dx(s,c,GN)[0],s=Wm(cs)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=wf(c)}catch(P){throw P===sd?jm:P}else m=c;c=zn();var k=c.queue,T=k.dispatch;return f!==c.memoizedState&&(ct.flags|=2048,pd(9,{destroy:void 0},_G.bind(null,k,f),null)),[m,T,s]}function _G(s,c){s.action=c}function JN(s){var c=zn(),f=Xt;if(f!==null)return YN(c,f,s);zn(),c=c.memoizedState,f=zn();var m=f.queue.dispatch;return f.memoizedState=s,[c,m,!1]}function pd(s,c,f,m){return s={tag:s,create:f,deps:m,inst:c,next:null},c=ct.updateQueue,c===null&&(c=Gm(),ct.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=s.next=s:(m=f.next,f.next=s,s.next=m,c.lastEffect=s),s}function XN(){return zn().memoizedState}function Ym(s,c,f,m){var k=oi();ct.flags|=s,k.memoizedState=pd(1|c,{destroy:void 0},f,m===void 0?null:m)}function Jm(s,c,f,m){var k=zn();m=m===void 0?null:m;var T=k.memoizedState.inst;Xt!==null&&m!==null&&Cx(m,Xt.memoizedState.deps)?k.memoizedState=pd(c,T,f,m):(ct.flags|=s,k.memoizedState=pd(1|c,T,f,m))}function QN(s,c){Ym(8390656,8,s,c)}function jx(s,c){Jm(2048,8,s,c)}function TG(s){ct.flags|=4;var c=ct.updateQueue;if(c===null)c=Gm(),ct.updateQueue=c,c.events=[s];else{var f=c.events;f===null?c.events=[s]:f.push(s)}}function ZN(s){var c=zn().memoizedState;return TG({ref:c,nextImpl:s}),function(){if((Mt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function e2(s,c){return Jm(4,2,s,c)}function t2(s,c){return Jm(4,4,s,c)}function n2(s,c){if(typeof c=="function"){s=s();var f=c(s);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function r2(s,c,f){f=f!=null?f.concat([s]):null,Jm(4,4,n2.bind(null,c,s),f)}function Ux(){}function i2(s,c){var f=zn();c=c===void 0?null:c;var m=f.memoizedState;return c!==null&&Cx(c,m[1])?m[0]:(f.memoizedState=[s,c],s)}function o2(s,c){var f=zn();c=c===void 0?null:c;var m=f.memoizedState;if(c!==null&&Cx(c,m[1]))return m[0];if(m=s(),$c){hn(!0);try{s()}finally{hn(!1)}}return f.memoizedState=[m,c],m}function Vx(s,c,f){return f===void 0||(ls&1073741824)!==0&&(yt&261930)===0?s.memoizedState=c:(s.memoizedState=f,s=aR(),ct.lanes|=s,kl|=s,f)}function a2(s,c,f,m){return Bi(f,c)?f:cd.current!==null?(s=Vx(s,f,m),Bi(s,c)||(Wn=!0),s):(ls&42)===0||(ls&1073741824)!==0&&(yt&261930)===0?(Wn=!0,s.memoizedState=f):(s=aR(),ct.lanes|=s,kl|=s,c)}function s2(s,c,f,m,k){var T=J.p;J.p=T!==0&&8>T?T:8;var P=X.T,$={};X.T=$,qx(s,!1,c,f);try{var Q=k(),ue=X.S;if(ue!==null&&ue($,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var be=vG(Q,m);xf(s,c,be,Wi(s))}else xf(s,c,m,Wi(s))}catch(Te){xf(s,c,{then:function(){},status:"rejected",reason:Te},Wi())}finally{J.p=T,P!==null&&$.types!==null&&(P.types=$.types),X.T=P}}function EG(){}function Fx(s,c,f,m){if(s.tag!==5)throw Error(r(476));var k=l2(s).queue;s2(s,k,c,ie,f===null?EG:function(){return c2(s),f(m)})}function l2(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:ie},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:f},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function c2(s){var c=l2(s);c.next===null&&(c=s.alternate.memoizedState),xf(s,c.next.queue,{},Wi())}function Bx(){return Rr(jf)}function u2(){return zn().memoizedState}function d2(){return zn().memoizedState}function SG(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var f=Wi();s=ml(f);var m=yl(c,s,f);m!==null&&(_i(m,c,f),mf(m,c,f)),c={cache:yx()},s.payload=c;return}c=c.return}}function AG(s,c,f){var m=Wi();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Xm(s)?f2(c,f):(f=ax(s,c,f,m),f!==null&&(_i(f,s,m),h2(f,c,m)))}function p2(s,c,f){var m=Wi();xf(s,c,f,m)}function xf(s,c,f,m){var k={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Xm(s))f2(c,k);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var P=c.lastRenderedState,$=T(P,f);if(k.hasEagerState=!0,k.eagerState=$,Bi($,P))return Rm(s,c,k,0),tn===null&&Nm(),!1}catch{}finally{}if(f=ax(s,c,k,m),f!==null)return _i(f,s,m),h2(f,c,m),!0}return!1}function qx(s,c,f,m){if(m={lane:2,revertLane:x1(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Xm(s)){if(c)throw Error(r(479))}else c=ax(s,f,m,2),c!==null&&_i(c,s,2)}function Xm(s){var c=s.alternate;return s===ct||c!==null&&c===ct}function f2(s,c){ud=$m=!0;var f=s.pending;f===null?c.next=c:(c.next=f.next,f.next=c),s.pending=c}function h2(s,c,f){if((f&4194048)!==0){var m=c.lanes;m&=s.pendingLanes,f|=m,c.lanes=f,Br(s,f)}}var kf={readContext:Rr,use:Km,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n};kf.useEffectEvent=_n;var g2={readContext:Rr,use:Km,useCallback:function(s,c){return oi().memoizedState=[s,c===void 0?null:c],s},useContext:Rr,useEffect:QN,useImperativeHandle:function(s,c,f){f=f!=null?f.concat([s]):null,Ym(4194308,4,n2.bind(null,c,s),f)},useLayoutEffect:function(s,c){return Ym(4194308,4,s,c)},useInsertionEffect:function(s,c){Ym(4,2,s,c)},useMemo:function(s,c){var f=oi();c=c===void 0?null:c;var m=s();if($c){hn(!0);try{s()}finally{hn(!1)}}return f.memoizedState=[m,c],m},useReducer:function(s,c,f){var m=oi();if(f!==void 0){var k=f(c);if($c){hn(!0);try{f(c)}finally{hn(!1)}}}else k=c;return m.memoizedState=m.baseState=k,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:k},m.queue=s,s=s.dispatch=AG.bind(null,ct,s),[m.memoizedState,s]},useRef:function(s){var c=oi();return s={current:s},c.memoizedState=s},useState:function(s){s=zx(s);var c=s.queue,f=p2.bind(null,ct,c);return c.dispatch=f,[s.memoizedState,f]},useDebugValue:Ux,useDeferredValue:function(s,c){var f=oi();return Vx(f,s,c)},useTransition:function(){var s=zx(!1);return s=s2.bind(null,ct,s.queue,!0,!1),oi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,f){var m=ct,k=oi();if(Tt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),tn===null)throw Error(r(349));(yt&127)!==0||zN(m,c,f)}k.memoizedState=f;var T={value:f,getSnapshot:c};return k.queue=T,QN(jN.bind(null,m,T,s),[s]),m.flags|=2048,pd(9,{destroy:void 0},LN.bind(null,m,T,f,c),null),f},useId:function(){var s=oi(),c=tn.identifierPrefix;if(Tt){var f=_a,m=ka;f=(m&~(1<<32-pt(m)-1)).toString(32)+f,c="_"+c+"R_"+f,f=Hm++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=wG++,c="_"+c+"r_"+f.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:Bx,useFormState:KN,useActionState:KN,useOptimistic:function(s){var c=oi();c.memoizedState=c.baseState=s;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=qx.bind(null,ct,!0,f),f.dispatch=c,[s,c]},useMemoCache:Px,useCacheRefresh:function(){return oi().memoizedState=SG.bind(null,ct)},useEffectEvent:function(s){var c=oi(),f={impl:s};return c.memoizedState=f,function(){if((Mt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},$x={readContext:Rr,use:Km,useCallback:i2,useContext:Rr,useEffect:jx,useImperativeHandle:r2,useInsertionEffect:e2,useLayoutEffect:t2,useMemo:o2,useReducer:Wm,useRef:XN,useState:function(){return Wm(cs)},useDebugValue:Ux,useDeferredValue:function(s,c){var f=zn();return a2(f,Xt.memoizedState,s,c)},useTransition:function(){var s=Wm(cs)[0],c=zn().memoizedState;return[typeof s=="boolean"?s:wf(s),c]},useSyncExternalStore:MN,useId:u2,useHostTransitionStatus:Bx,useFormState:WN,useActionState:WN,useOptimistic:function(s,c){var f=zn();return FN(f,Xt,s,c)},useMemoCache:Px,useCacheRefresh:d2};$x.useEffectEvent=ZN;var m2={readContext:Rr,use:Km,useCallback:i2,useContext:Rr,useEffect:jx,useImperativeHandle:r2,useInsertionEffect:e2,useLayoutEffect:t2,useMemo:o2,useReducer:Mx,useRef:XN,useState:function(){return Mx(cs)},useDebugValue:Ux,useDeferredValue:function(s,c){var f=zn();return Xt===null?Vx(f,s,c):a2(f,Xt.memoizedState,s,c)},useTransition:function(){var s=Mx(cs)[0],c=zn().memoizedState;return[typeof s=="boolean"?s:wf(s),c]},useSyncExternalStore:MN,useId:u2,useHostTransitionStatus:Bx,useFormState:JN,useActionState:JN,useOptimistic:function(s,c){var f=zn();return Xt!==null?FN(f,Xt,s,c):(f.baseState=s,[s,f.queue.dispatch])},useMemoCache:Px,useCacheRefresh:d2};m2.useEffectEvent=ZN;function Hx(s,c,f,m){c=s.memoizedState,f=f(m,c),f=f==null?c:h({},c,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var Gx={enqueueSetState:function(s,c,f){s=s._reactInternals;var m=Wi(),k=ml(m);k.payload=c,f!=null&&(k.callback=f),c=yl(s,k,m),c!==null&&(_i(c,s,m),mf(c,s,m))},enqueueReplaceState:function(s,c,f){s=s._reactInternals;var m=Wi(),k=ml(m);k.tag=1,k.payload=c,f!=null&&(k.callback=f),c=yl(s,k,m),c!==null&&(_i(c,s,m),mf(c,s,m))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var f=Wi(),m=ml(f);m.tag=2,c!=null&&(m.callback=c),c=yl(s,m,f),c!==null&&(_i(c,s,f),mf(c,s,f))}};function y2(s,c,f,m,k,T,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,T,P):c.prototype&&c.prototype.isPureReactComponent?!lf(f,m)||!lf(k,T):!0}function b2(s,c,f,m){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,m),c.state!==s&&Gx.enqueueReplaceState(c,c.state,null)}function Hc(s,c){var f=c;if("ref"in c){f={};for(var m in c)m!=="ref"&&(f[m]=c[m])}if(s=s.defaultProps){f===c&&(f=h({},f));for(var k in s)f[k]===void 0&&(f[k]=s[k])}return f}function v2(s){Im(s)}function w2(s){console.error(s)}function x2(s){Im(s)}function Qm(s,c){try{var f=s.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function k2(s,c,f){try{var m=s.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function Kx(s,c,f){return f=ml(f),f.tag=3,f.payload={element:null},f.callback=function(){Qm(s,c)},f}function _2(s){return s=ml(s),s.tag=3,s}function T2(s,c,f,m){var k=f.type.getDerivedStateFromError;if(typeof k=="function"){var T=m.value;s.payload=function(){return k(T)},s.callback=function(){k2(c,f,m)}}var P=f.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(s.callback=function(){k2(c,f,m),typeof k!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var $=m.stack;this.componentDidCatch(m.value,{componentStack:$!==null?$:""})})}function CG(s,c,f,m,k){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=f.alternate,c!==null&&id(c,f,k,!0),f=$i.current,f!==null){switch(f.tag){case 31:case 13:return go===null?uy():f.alternate===null&&Tn===0&&(Tn=3),f.flags&=-257,f.flags|=65536,f.lanes=k,m===Um?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([m]):c.add(m),b1(s,m,k)),!1;case 22:return f.flags|=65536,m===Um?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([m]):f.add(m)),b1(s,m,k)),!1}throw Error(r(435,f.tag))}return b1(s,m,k),uy(),!1}if(Tt)return c=$i.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=k,m!==px&&(s=Error(r(422),{cause:m}),df(uo(s,f)))):(m!==px&&(c=Error(r(423),{cause:m}),df(uo(c,f))),s=s.current.alternate,s.flags|=65536,k&=-k,s.lanes|=k,m=uo(m,f),k=Kx(s.stateNode,m,k),_x(s,k),Tn!==4&&(Tn=2)),!1;var T=Error(r(520),{cause:m});if(T=uo(T,f),Nf===null?Nf=[T]:Nf.push(T),Tn!==4&&(Tn=2),c===null)return!0;m=uo(m,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,s=k&-k,f.lanes|=s,s=Kx(f.stateNode,m,s),_x(f,s),!1;case 1:if(c=f.type,T=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(_l===null||!_l.has(T))))return f.flags|=65536,k&=-k,f.lanes|=k,k=_2(k),T2(k,s,f,m),_x(f,k),!1}f=f.return}while(f!==null);return!1}var Wx=Error(r(461)),Wn=!1;function Or(s,c,f,m){c.child=s===null?CN(c,null,f,m):qc(c,s.child,f,m)}function E2(s,c,f,m,k){f=f.render;var T=c.ref;if("ref"in m){var P={};for(var $ in m)$!=="ref"&&(P[$]=m[$])}else P=m;return Uc(c),m=Ix(s,c,f,P,T,k),$=Nx(),s!==null&&!Wn?(Rx(s,c,k),us(s,c,k)):(Tt&&$&&ux(c),c.flags|=1,Or(s,c,m,k),c.child)}function S2(s,c,f,m,k){if(s===null){var T=f.type;return typeof T=="function"&&!sx(T)&&T.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=T,A2(s,c,T,m,k)):(s=Pm(f.type,null,m,c,c.mode,k),s.ref=c.ref,s.return=c,c.child=s)}if(T=s.child,!n1(s,k)){var P=T.memoizedProps;if(f=f.compare,f=f!==null?f:lf,f(P,m)&&s.ref===c.ref)return us(s,c,k)}return c.flags|=1,s=is(T,m),s.ref=c.ref,s.return=c,c.child=s}function A2(s,c,f,m,k){if(s!==null){var T=s.memoizedProps;if(lf(T,m)&&s.ref===c.ref)if(Wn=!1,c.pendingProps=m=T,n1(s,k))(s.flags&131072)!==0&&(Wn=!0);else return c.lanes=s.lanes,us(s,c,k)}return Yx(s,c,f,m,k)}function C2(s,c,f,m){var k=m.children,T=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(T=T!==null?T.baseLanes|f:f,s!==null){for(m=c.child=s.child,k=0;m!==null;)k=k|m.lanes|m.childLanes,m=m.sibling;m=k&~T}else m=0,c.child=null;return I2(s,c,T,f,m)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&Lm(c,T!==null?T.cachePool:null),T!==null?RN(c,T):Ex(),ON(c);else return m=c.lanes=536870912,I2(s,c,T!==null?T.baseLanes|f:f,f,m)}else T!==null?(Lm(c,T.cachePool),RN(c,T),vl(),c.memoizedState=null):(s!==null&&Lm(c,null),Ex(),vl());return Or(s,c,k,f),c.child}function _f(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function I2(s,c,f,m,k){var T=vx();return T=T===null?null:{parent:Gn._currentValue,pool:T},c.memoizedState={baseLanes:f,cachePool:T},s!==null&&Lm(c,null),Ex(),ON(c),s!==null&&id(s,c,m,!0),c.childLanes=k,null}function Zm(s,c){return c=ty({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function N2(s,c,f){return qc(c,s.child,null,f),s=Zm(c,c.pendingProps),s.flags|=2,Hi(c),c.memoizedState=null,s}function IG(s,c,f){var m=c.pendingProps,k=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(Tt){if(m.mode==="hidden")return s=Zm(c,m),c.lanes=536870912,_f(null,s);if(Ax(c),(s=cn)?(s=BR(s,ho),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:dl!==null?{id:ka,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},f=fN(s),f.return=c,c.child=f,Nr=c,cn=null)):s=null,s===null)throw fl(c);return c.lanes=536870912,null}return Zm(c,m)}var T=s.memoizedState;if(T!==null){var P=T.dehydrated;if(Ax(c),k)if(c.flags&256)c.flags&=-257,c=N2(s,c,f);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Wn||id(s,c,f,!1),k=(f&s.childLanes)!==0,Wn||k){if(m=tn,m!==null&&(P=ti(m,f),P!==0&&P!==T.retryLane))throw T.retryLane=P,Mc(s,P),_i(m,s,P),Wx;uy(),c=N2(s,c,f)}else s=T.treeContext,cn=mo(P.nextSibling),Nr=c,Tt=!0,pl=null,ho=!1,s!==null&&mN(c,s),c=Zm(c,m),c.flags|=4096;return c}return s=is(s.child,{mode:m.mode,children:m.children}),s.ref=c.ref,c.child=s,s.return=c,s}function ey(s,c){var f=c.ref;if(f===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(s===null||s.ref!==f)&&(c.flags|=4194816)}}function Yx(s,c,f,m,k){return Uc(c),f=Ix(s,c,f,m,void 0,k),m=Nx(),s!==null&&!Wn?(Rx(s,c,k),us(s,c,k)):(Tt&&m&&ux(c),c.flags|=1,Or(s,c,f,k),c.child)}function R2(s,c,f,m,k,T){return Uc(c),c.updateQueue=null,f=DN(c,m,f,k),PN(s),m=Nx(),s!==null&&!Wn?(Rx(s,c,T),us(s,c,T)):(Tt&&m&&ux(c),c.flags|=1,Or(s,c,f,T),c.child)}function O2(s,c,f,m,k){if(Uc(c),c.stateNode===null){var T=ed,P=f.contextType;typeof P=="object"&&P!==null&&(T=Rr(P)),T=new f(m,T),c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Gx,c.stateNode=T,T._reactInternals=c,T=c.stateNode,T.props=m,T.state=c.memoizedState,T.refs={},xx(c),P=f.contextType,T.context=typeof P=="object"&&P!==null?Rr(P):ed,T.state=c.memoizedState,P=f.getDerivedStateFromProps,typeof P=="function"&&(Hx(c,f,P,m),T.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(P=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),P!==T.state&&Gx.enqueueReplaceState(T,T.state,null),bf(c,m,T,k),yf(),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(s===null){T=c.stateNode;var $=c.memoizedProps,Q=Hc(f,$);T.props=Q;var ue=T.context,be=f.contextType;P=ed,typeof be=="object"&&be!==null&&(P=Rr(be));var Te=f.getDerivedStateFromProps;be=typeof Te=="function"||typeof T.getSnapshotBeforeUpdate=="function",$=c.pendingProps!==$,be||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||($||ue!==P)&&b2(c,T,m,P),gl=!1;var pe=c.memoizedState;T.state=pe,bf(c,m,T,k),yf(),ue=c.memoizedState,$||pe!==ue||gl?(typeof Te=="function"&&(Hx(c,f,Te,m),ue=c.memoizedState),(Q=gl||y2(c,f,Q,m,pe,ue,P))?(be||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=ue),T.props=m,T.state=ue,T.context=P,m=Q):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{T=c.stateNode,kx(s,c),P=c.memoizedProps,be=Hc(f,P),T.props=be,Te=c.pendingProps,pe=T.context,ue=f.contextType,Q=ed,typeof ue=="object"&&ue!==null&&(Q=Rr(ue)),$=f.getDerivedStateFromProps,(ue=typeof $=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==Te||pe!==Q)&&b2(c,T,m,Q),gl=!1,pe=c.memoizedState,T.state=pe,bf(c,m,T,k),yf();var ye=c.memoizedState;P!==Te||pe!==ye||gl||s!==null&&s.dependencies!==null&&Mm(s.dependencies)?(typeof $=="function"&&(Hx(c,f,$,m),ye=c.memoizedState),(be=gl||y2(c,f,be,m,pe,ye,Q)||s!==null&&s.dependencies!==null&&Mm(s.dependencies))?(ue||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,ye,Q),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,ye,Q)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===s.memoizedProps&&pe===s.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&pe===s.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=ye),T.props=m,T.state=ye,T.context=Q,m=be):(typeof T.componentDidUpdate!="function"||P===s.memoizedProps&&pe===s.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&pe===s.memoizedState||(c.flags|=1024),m=!1)}return T=m,ey(s,c),m=(c.flags&128)!==0,T||m?(T=c.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:T.render(),c.flags|=1,s!==null&&m?(c.child=qc(c,s.child,null,k),c.child=qc(c,null,f,k)):Or(s,c,f,k),c.memoizedState=T.state,s=c.child):s=us(s,c,k),s}function P2(s,c,f,m){return Lc(),c.flags|=256,Or(s,c,f,m),c.child}var Jx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xx(s){return{baseLanes:s,cachePool:kN()}}function Qx(s,c,f){return s=s!==null?s.childLanes&~f:0,c&&(s|=Ki),s}function D2(s,c,f){var m=c.pendingProps,k=!1,T=(c.flags&128)!==0,P;if((P=T)||(P=s!==null&&s.memoizedState===null?!1:(Mn.current&2)!==0),P&&(k=!0,c.flags&=-129),P=(c.flags&32)!==0,c.flags&=-33,s===null){if(Tt){if(k?bl(c):vl(),(s=cn)?(s=BR(s,ho),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:dl!==null?{id:ka,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},f=fN(s),f.return=c,c.child=f,Nr=c,cn=null)):s=null,s===null)throw fl(c);return D1(s)?c.lanes=32:c.lanes=536870912,null}var $=m.children;return m=m.fallback,k?(vl(),k=c.mode,$=ty({mode:"hidden",children:$},k),m=zc(m,k,f,null),$.return=c,m.return=c,$.sibling=m,c.child=$,m=c.child,m.memoizedState=Xx(f),m.childLanes=Qx(s,P,f),c.memoizedState=Jx,_f(null,m)):(bl(c),Zx(c,$))}var Q=s.memoizedState;if(Q!==null&&($=Q.dehydrated,$!==null)){if(T)c.flags&256?(bl(c),c.flags&=-257,c=e1(s,c,f)):c.memoizedState!==null?(vl(),c.child=s.child,c.flags|=128,c=null):(vl(),$=m.fallback,k=c.mode,m=ty({mode:"visible",children:m.children},k),$=zc($,k,f,null),$.flags|=2,m.return=c,$.return=c,m.sibling=$,c.child=m,qc(c,s.child,null,f),m=c.child,m.memoizedState=Xx(f),m.childLanes=Qx(s,P,f),c.memoizedState=Jx,c=_f(null,m));else if(bl(c),D1($)){if(P=$.nextSibling&&$.nextSibling.dataset,P)var ue=P.dgst;P=ue,m=Error(r(419)),m.stack="",m.digest=P,df({value:m,source:null,stack:null}),c=e1(s,c,f)}else if(Wn||id(s,c,f,!1),P=(f&s.childLanes)!==0,Wn||P){if(P=tn,P!==null&&(m=ti(P,f),m!==0&&m!==Q.retryLane))throw Q.retryLane=m,Mc(s,m),_i(P,s,m),Wx;P1($)||uy(),c=e1(s,c,f)}else P1($)?(c.flags|=192,c.child=s.child,c=null):(s=Q.treeContext,cn=mo($.nextSibling),Nr=c,Tt=!0,pl=null,ho=!1,s!==null&&mN(c,s),c=Zx(c,m.children),c.flags|=4096);return c}return k?(vl(),$=m.fallback,k=c.mode,Q=s.child,ue=Q.sibling,m=is(Q,{mode:"hidden",children:m.children}),m.subtreeFlags=Q.subtreeFlags&65011712,ue!==null?$=is(ue,$):($=zc($,k,f,null),$.flags|=2),$.return=c,m.return=c,m.sibling=$,c.child=m,_f(null,m),m=c.child,$=s.child.memoizedState,$===null?$=Xx(f):(k=$.cachePool,k!==null?(Q=Gn._currentValue,k=k.parent!==Q?{parent:Q,pool:Q}:k):k=kN(),$={baseLanes:$.baseLanes|f,cachePool:k}),m.memoizedState=$,m.childLanes=Qx(s,P,f),c.memoizedState=Jx,_f(s.child,m)):(bl(c),f=s.child,s=f.sibling,f=is(f,{mode:"visible",children:m.children}),f.return=c,f.sibling=null,s!==null&&(P=c.deletions,P===null?(c.deletions=[s],c.flags|=16):P.push(s)),c.child=f,c.memoizedState=null,f)}function Zx(s,c){return c=ty({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function ty(s,c){return s=qi(22,s,null,c),s.lanes=0,s}function e1(s,c,f){return qc(c,s.child,null,f),s=Zx(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function M2(s,c,f){s.lanes|=c;var m=s.alternate;m!==null&&(m.lanes|=c),gx(s.return,c,f)}function t1(s,c,f,m,k,T){var P=s.memoizedState;P===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:k,treeForkCount:T}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=m,P.tail=f,P.tailMode=k,P.treeForkCount=T)}function z2(s,c,f){var m=c.pendingProps,k=m.revealOrder,T=m.tail;m=m.children;var P=Mn.current,$=(P&2)!==0;if($?(P=P&1|2,c.flags|=128):P&=1,H(Mn,P),Or(s,c,m,f),m=Tt?uf:0,!$&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&M2(s,f,c);else if(s.tag===19)M2(s,f,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(k){case"forwards":for(f=c.child,k=null;f!==null;)s=f.alternate,s!==null&&qm(s)===null&&(k=f),f=f.sibling;f=k,f===null?(k=c.child,c.child=null):(k=f.sibling,f.sibling=null),t1(c,!1,k,f,T,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,k=c.child,c.child=null;k!==null;){if(s=k.alternate,s!==null&&qm(s)===null){c.child=k;break}s=k.sibling,k.sibling=f,f=k,k=s}t1(c,!0,f,null,T,m);break;case"together":t1(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function us(s,c,f){if(s!==null&&(c.dependencies=s.dependencies),kl|=c.lanes,(f&c.childLanes)===0)if(s!==null){if(id(s,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,f=is(s,s.pendingProps),c.child=f,f.return=c;s.sibling!==null;)s=s.sibling,f=f.sibling=is(s,s.pendingProps),f.return=c;f.sibling=null}return c.child}function n1(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&Mm(s)))}function NG(s,c,f){switch(c.tag){case 3:Ue(c,c.stateNode.containerInfo),hl(c,Gn,s.memoizedState.cache),Lc();break;case 27:case 5:Ae(c);break;case 4:Ue(c,c.stateNode.containerInfo);break;case 10:hl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Ax(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(bl(c),c.flags|=128,null):(f&c.child.childLanes)!==0?D2(s,c,f):(bl(c),s=us(s,c,f),s!==null?s.sibling:null);bl(c);break;case 19:var k=(s.flags&128)!==0;if(m=(f&c.childLanes)!==0,m||(id(s,c,f,!1),m=(f&c.childLanes)!==0),k){if(m)return z2(s,c,f);c.flags|=128}if(k=c.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),H(Mn,Mn.current),m)break;return null;case 22:return c.lanes=0,C2(s,c,f,c.pendingProps);case 24:hl(c,Gn,s.memoizedState.cache)}return us(s,c,f)}function L2(s,c,f){if(s!==null)if(s.memoizedProps!==c.pendingProps)Wn=!0;else{if(!n1(s,f)&&(c.flags&128)===0)return Wn=!1,NG(s,c,f);Wn=(s.flags&131072)!==0}else Wn=!1,Tt&&(c.flags&1048576)!==0&&gN(c,uf,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(s=Fc(c.elementType),c.type=s,typeof s=="function")sx(s)?(m=Hc(s,m),c.tag=1,c=O2(null,c,s,m,f)):(c.tag=0,c=Yx(null,c,s,m,f));else{if(s!=null){var k=s.$$typeof;if(k===O){c.tag=11,c=E2(null,c,s,m,f);break e}else if(k===D){c.tag=14,c=S2(null,c,s,m,f);break e}}throw c=oe(s)||s,Error(r(306,c,""))}}return c;case 0:return Yx(s,c,c.type,c.pendingProps,f);case 1:return m=c.type,k=Hc(m,c.pendingProps),O2(s,c,m,k,f);case 3:e:{if(Ue(c,c.stateNode.containerInfo),s===null)throw Error(r(387));m=c.pendingProps;var T=c.memoizedState;k=T.element,kx(s,c),bf(c,m,null,f);var P=c.memoizedState;if(m=P.cache,hl(c,Gn,m),m!==T.cache&&mx(c,[Gn],f,!0),yf(),m=P.element,T.isDehydrated)if(T={element:m,isDehydrated:!1,cache:P.cache},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){c=P2(s,c,m,f);break e}else if(m!==k){k=uo(Error(r(424)),c),df(k),c=P2(s,c,m,f);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(cn=mo(s.firstChild),Nr=c,Tt=!0,pl=null,ho=!0,f=CN(c,null,m,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Lc(),m===k){c=us(s,c,f);break e}Or(s,c,m,f)}c=c.child}return c;case 26:return ey(s,c),s===null?(f=WR(c.type,null,c.pendingProps,null))?c.memoizedState=f:Tt||(f=c.type,s=c.pendingProps,m=yy(we.current).createElement(f),m[qn]=c,m[mr]=s,Pr(m,f,s),$n(m),c.stateNode=m):c.memoizedState=WR(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return Ae(c),s===null&&Tt&&(m=c.stateNode=HR(c.type,c.pendingProps,we.current),Nr=c,ho=!0,k=cn,Al(c.type)?(M1=k,cn=mo(m.firstChild)):cn=k),Or(s,c,c.pendingProps.children,f),ey(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&Tt&&((k=m=cn)&&(m=a7(m,c.type,c.pendingProps,ho),m!==null?(c.stateNode=m,Nr=c,cn=mo(m.firstChild),ho=!1,k=!0):k=!1),k||fl(c)),Ae(c),k=c.type,T=c.pendingProps,P=s!==null?s.memoizedProps:null,m=T.children,N1(k,T)?m=null:P!==null&&N1(k,P)&&(c.flags|=32),c.memoizedState!==null&&(k=Ix(s,c,xG,null,null,f),jf._currentValue=k),ey(s,c),Or(s,c,m,f),c.child;case 6:return s===null&&Tt&&((s=f=cn)&&(f=s7(f,c.pendingProps,ho),f!==null?(c.stateNode=f,Nr=c,cn=null,s=!0):s=!1),s||fl(c)),null;case 13:return D2(s,c,f);case 4:return Ue(c,c.stateNode.containerInfo),m=c.pendingProps,s===null?c.child=qc(c,null,m,f):Or(s,c,m,f),c.child;case 11:return E2(s,c,c.type,c.pendingProps,f);case 7:return Or(s,c,c.pendingProps,f),c.child;case 8:return Or(s,c,c.pendingProps.children,f),c.child;case 12:return Or(s,c,c.pendingProps.children,f),c.child;case 10:return m=c.pendingProps,hl(c,c.type,m.value),Or(s,c,m.children,f),c.child;case 9:return k=c.type._context,m=c.pendingProps.children,Uc(c),k=Rr(k),m=m(k),c.flags|=1,Or(s,c,m,f),c.child;case 14:return S2(s,c,c.type,c.pendingProps,f);case 15:return A2(s,c,c.type,c.pendingProps,f);case 19:return z2(s,c,f);case 31:return IG(s,c,f);case 22:return C2(s,c,f,c.pendingProps);case 24:return Uc(c),m=Rr(Gn),s===null?(k=vx(),k===null&&(k=tn,T=yx(),k.pooledCache=T,T.refCount++,T!==null&&(k.pooledCacheLanes|=f),k=T),c.memoizedState={parent:m,cache:k},xx(c),hl(c,Gn,k)):((s.lanes&f)!==0&&(kx(s,c),bf(c,null,null,f),yf()),k=s.memoizedState,T=c.memoizedState,k.parent!==m?(k={parent:m,cache:m},c.memoizedState=k,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=k),hl(c,Gn,m)):(m=T.cache,hl(c,Gn,m),m!==k.cache&&mx(c,[Gn],f,!0))),Or(s,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function ds(s){s.flags|=4}function r1(s,c,f,m,k){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(k&335544128)===k)if(s.stateNode.complete)s.flags|=8192;else if(uR())s.flags|=8192;else throw Bc=Um,wx}else s.flags&=-16777217}function j2(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ZR(c))if(uR())s.flags|=8192;else throw Bc=Um,wx}function ny(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?gr():536870912,s.lanes|=c,md|=c)}function Tf(s,c){if(!Tt)switch(s.tailMode){case"hidden":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function un(s){var c=s.alternate!==null&&s.alternate.child===s.child,f=0,m=0;if(c)for(var k=s.child;k!==null;)f|=k.lanes|k.childLanes,m|=k.subtreeFlags&65011712,m|=k.flags&65011712,k.return=s,k=k.sibling;else for(k=s.child;k!==null;)f|=k.lanes|k.childLanes,m|=k.subtreeFlags,m|=k.flags,k.return=s,k=k.sibling;return s.subtreeFlags|=m,s.childLanes=f,c}function RG(s,c,f){var m=c.pendingProps;switch(dx(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(c),null;case 1:return un(c),null;case 3:return f=c.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),ss(Gn),ae(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(rd(c)?ds(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,fx())),un(c),null;case 26:var k=c.type,T=c.memoizedState;return s===null?(ds(c),T!==null?(un(c),j2(c,T)):(un(c),r1(c,k,null,m,f))):T?T!==s.memoizedState?(ds(c),un(c),j2(c,T)):(un(c),c.flags&=-16777217):(s=s.memoizedProps,s!==m&&ds(c),un(c),r1(c,k,s,m,f)),null;case 27:if(qe(c),f=we.current,k=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==m&&ds(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return un(c),null}s=fe.current,rd(c)?yN(c):(s=HR(k,m,f),c.stateNode=s,ds(c))}return un(c),null;case 5:if(qe(c),k=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==m&&ds(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return un(c),null}if(T=fe.current,rd(c))yN(c);else{var P=yy(we.current);switch(T){case 1:T=P.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:T=P.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":T=P.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":T=P.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":T=P.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof m.is=="string"?P.createElement("select",{is:m.is}):P.createElement("select"),m.multiple?T.multiple=!0:m.size&&(T.size=m.size);break;default:T=typeof m.is=="string"?P.createElement(k,{is:m.is}):P.createElement(k)}}T[qn]=c,T[mr]=m;e:for(P=c.child;P!==null;){if(P.tag===5||P.tag===6)T.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===c)break e;for(;P.sibling===null;){if(P.return===null||P.return===c)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}c.stateNode=T;e:switch(Pr(T,k,m),k){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ds(c)}}return un(c),r1(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,f),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==m&&ds(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(r(166));if(s=we.current,rd(c)){if(s=c.stateNode,f=c.memoizedProps,m=null,k=Nr,k!==null)switch(k.tag){case 27:case 5:m=k.memoizedProps}s[qn]=c,s=!!(s.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||DR(s.nodeValue,f)),s||fl(c,!0)}else s=yy(s).createTextNode(m),s[qn]=c,c.stateNode=s}return un(c),null;case 31:if(f=c.memoizedState,s===null||s.memoizedState!==null){if(m=rd(c),f!==null){if(s===null){if(!m)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[qn]=c}else Lc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;un(c),s=!1}else f=fx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),s=!0;if(!s)return c.flags&256?(Hi(c),c):(Hi(c),null);if((c.flags&128)!==0)throw Error(r(558))}return un(c),null;case 13:if(m=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(k=rd(c),m!==null&&m.dehydrated!==null){if(s===null){if(!k)throw Error(r(318));if(k=c.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[qn]=c}else Lc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;un(c),k=!1}else k=fx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=k),k=!0;if(!k)return c.flags&256?(Hi(c),c):(Hi(c),null)}return Hi(c),(c.flags&128)!==0?(c.lanes=f,c):(f=m!==null,s=s!==null&&s.memoizedState!==null,f&&(m=c.child,k=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(k=m.alternate.memoizedState.cachePool.pool),T=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(T=m.memoizedState.cachePool.pool),T!==k&&(m.flags|=2048)),f!==s&&f&&(c.child.flags|=8192),ny(c,c.updateQueue),un(c),null);case 4:return ae(),s===null&&E1(c.stateNode.containerInfo),un(c),null;case 10:return ss(c.type),un(c),null;case 19:if(Y(Mn),m=c.memoizedState,m===null)return un(c),null;if(k=(c.flags&128)!==0,T=m.rendering,T===null)if(k)Tf(m,!1);else{if(Tn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(T=qm(s),T!==null){for(c.flags|=128,Tf(m,!1),s=T.updateQueue,c.updateQueue=s,ny(c,s),c.subtreeFlags=0,s=f,f=c.child;f!==null;)pN(f,s),f=f.sibling;return H(Mn,Mn.current&1|2),Tt&&os(c,m.treeForkCount),c.child}s=s.sibling}m.tail!==null&&Ne()>sy&&(c.flags|=128,k=!0,Tf(m,!1),c.lanes=4194304)}else{if(!k)if(s=qm(T),s!==null){if(c.flags|=128,k=!0,s=s.updateQueue,c.updateQueue=s,ny(c,s),Tf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!T.alternate&&!Tt)return un(c),null}else 2*Ne()-m.renderingStartTime>sy&&f!==536870912&&(c.flags|=128,k=!0,Tf(m,!1),c.lanes=4194304);m.isBackwards?(T.sibling=c.child,c.child=T):(s=m.last,s!==null?s.sibling=T:c.child=T,m.last=T)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ne(),s.sibling=null,f=Mn.current,H(Mn,k?f&1|2:f&1),Tt&&os(c,m.treeForkCount),s):(un(c),null);case 22:case 23:return Hi(c),Sx(),m=c.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(f&536870912)!==0&&(c.flags&128)===0&&(un(c),c.subtreeFlags&6&&(c.flags|=8192)):un(c),f=c.updateQueue,f!==null&&ny(c,f.retryQueue),f=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048),s!==null&&Y(Vc),null;case 24:return f=null,s!==null&&(f=s.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),ss(Gn),un(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function OG(s,c){switch(dx(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return ss(Gn),ae(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return qe(c),null;case 31:if(c.memoizedState!==null){if(Hi(c),c.alternate===null)throw Error(r(340));Lc()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Hi(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Lc()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return Y(Mn),null;case 4:return ae(),null;case 10:return ss(c.type),null;case 22:case 23:return Hi(c),Sx(),s!==null&&Y(Vc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return ss(Gn),null;case 25:return null;default:return null}}function U2(s,c){switch(dx(c),c.tag){case 3:ss(Gn),ae();break;case 26:case 27:case 5:qe(c);break;case 4:ae();break;case 31:c.memoizedState!==null&&Hi(c);break;case 13:Hi(c);break;case 19:Y(Mn);break;case 10:ss(c.type);break;case 22:case 23:Hi(c),Sx(),s!==null&&Y(Vc);break;case 24:ss(Gn)}}function Ef(s,c){try{var f=c.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var k=m.next;f=k;do{if((f.tag&s)===s){m=void 0;var T=f.create,P=f.inst;m=T(),P.destroy=m}f=f.next}while(f!==k)}}catch($){Ht(c,c.return,$)}}function wl(s,c,f){try{var m=c.updateQueue,k=m!==null?m.lastEffect:null;if(k!==null){var T=k.next;m=T;do{if((m.tag&s)===s){var P=m.inst,$=P.destroy;if($!==void 0){P.destroy=void 0,k=c;var Q=f,ue=$;try{ue()}catch(be){Ht(k,Q,be)}}}m=m.next}while(m!==T)}}catch(be){Ht(c,c.return,be)}}function V2(s){var c=s.updateQueue;if(c!==null){var f=s.stateNode;try{NN(c,f)}catch(m){Ht(s,s.return,m)}}}function F2(s,c,f){f.props=Hc(s.type,s.memoizedProps),f.state=s.memoizedState;try{f.componentWillUnmount()}catch(m){Ht(s,c,m)}}function Sf(s,c){try{var f=s.ref;if(f!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof f=="function"?s.refCleanup=f(m):f.current=m}}catch(k){Ht(s,c,k)}}function Ta(s,c){var f=s.ref,m=s.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(k){Ht(s,c,k)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(k){Ht(s,c,k)}else f.current=null}function B2(s){var c=s.type,f=s.memoizedProps,m=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(k){Ht(s,s.return,k)}}function i1(s,c,f){try{var m=s.stateNode;e7(m,s.type,f,c),m[mr]=c}catch(k){Ht(s,s.return,k)}}function q2(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Al(s.type)||s.tag===4}function o1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||q2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Al(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function a1(s,c,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(s,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(s),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=zo));else if(m!==4&&(m===27&&Al(s.type)&&(f=s.stateNode,c=null),s=s.child,s!==null))for(a1(s,c,f),s=s.sibling;s!==null;)a1(s,c,f),s=s.sibling}function ry(s,c,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,c?f.insertBefore(s,c):f.appendChild(s);else if(m!==4&&(m===27&&Al(s.type)&&(f=s.stateNode),s=s.child,s!==null))for(ry(s,c,f),s=s.sibling;s!==null;)ry(s,c,f),s=s.sibling}function $2(s){var c=s.stateNode,f=s.memoizedProps;try{for(var m=s.type,k=c.attributes;k.length;)c.removeAttributeNode(k[0]);Pr(c,m,f),c[qn]=s,c[mr]=f}catch(T){Ht(s,s.return,T)}}var ps=!1,Yn=!1,s1=!1,H2=typeof WeakSet=="function"?WeakSet:Set,br=null;function PG(s,c){if(s=s.containerInfo,C1=Ty,s=rN(s),ex(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var k=m.anchorOffset,T=m.focusNode;m=m.focusOffset;try{f.nodeType,T.nodeType}catch{f=null;break e}var P=0,$=-1,Q=-1,ue=0,be=0,Te=s,pe=null;t:for(;;){for(var ye;Te!==f||k!==0&&Te.nodeType!==3||($=P+k),Te!==T||m!==0&&Te.nodeType!==3||(Q=P+m),Te.nodeType===3&&(P+=Te.nodeValue.length),(ye=Te.firstChild)!==null;)pe=Te,Te=ye;for(;;){if(Te===s)break t;if(pe===f&&++ue===k&&($=P),pe===T&&++be===m&&(Q=P),(ye=Te.nextSibling)!==null)break;Te=pe,pe=Te.parentNode}Te=ye}f=$===-1||Q===-1?null:{start:$,end:Q}}else f=null}f=f||{start:0,end:0}}else f=null;for(I1={focusedElem:s,selectionRange:f},Ty=!1,br=c;br!==null;)if(c=br,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,br=s;else for(;br!==null;){switch(c=br,T=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(f=0;f<s.length;f++)k=s[f],k.ref.impl=k.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&T!==null){s=void 0,f=c,k=T.memoizedProps,T=T.memoizedState,m=f.stateNode;try{var $e=Hc(f.type,k);s=m.getSnapshotBeforeUpdate($e,T),m.__reactInternalSnapshotBeforeUpdate=s}catch(Qe){Ht(f,f.return,Qe)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,f=s.nodeType,f===9)O1(s);else if(f===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":O1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,br=s;break}br=c.return}}function G2(s,c,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:hs(s,f),m&4&&Ef(5,f);break;case 1:if(hs(s,f),m&4)if(s=f.stateNode,c===null)try{s.componentDidMount()}catch(P){Ht(f,f.return,P)}else{var k=Hc(f.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(k,c,s.__reactInternalSnapshotBeforeUpdate)}catch(P){Ht(f,f.return,P)}}m&64&&V2(f),m&512&&Sf(f,f.return);break;case 3:if(hs(s,f),m&64&&(s=f.updateQueue,s!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{NN(s,c)}catch(P){Ht(f,f.return,P)}}break;case 27:c===null&&m&4&&$2(f);case 26:case 5:hs(s,f),c===null&&m&4&&B2(f),m&512&&Sf(f,f.return);break;case 12:hs(s,f);break;case 31:hs(s,f),m&4&&Y2(s,f);break;case 13:hs(s,f),m&4&&J2(s,f),m&64&&(s=f.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(f=BG.bind(null,f),l7(s,f))));break;case 22:if(m=f.memoizedState!==null||ps,!m){c=c!==null&&c.memoizedState!==null||Yn,k=ps;var T=Yn;ps=m,(Yn=c)&&!T?gs(s,f,(f.subtreeFlags&8772)!==0):hs(s,f),ps=k,Yn=T}break;case 30:break;default:hs(s,f)}}function K2(s){var c=s.alternate;c!==null&&(s.alternate=null,K2(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Vu(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var bn=null,vi=!1;function fs(s,c,f){for(f=f.child;f!==null;)W2(s,c,f),f=f.sibling}function W2(s,c,f){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Yt,f)}catch{}switch(f.tag){case 26:Yn||Ta(f,c),fs(s,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Yn||Ta(f,c);var m=bn,k=vi;Al(f.type)&&(bn=f.stateNode,vi=!1),fs(s,c,f),Mf(f.stateNode),bn=m,vi=k;break;case 5:Yn||Ta(f,c);case 6:if(m=bn,k=vi,bn=null,fs(s,c,f),bn=m,vi=k,bn!==null)if(vi)try{(bn.nodeType===9?bn.body:bn.nodeName==="HTML"?bn.ownerDocument.body:bn).removeChild(f.stateNode)}catch(T){Ht(f,c,T)}else try{bn.removeChild(f.stateNode)}catch(T){Ht(f,c,T)}break;case 18:bn!==null&&(vi?(s=bn,VR(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,f.stateNode),Td(s)):VR(bn,f.stateNode));break;case 4:m=bn,k=vi,bn=f.stateNode.containerInfo,vi=!0,fs(s,c,f),bn=m,vi=k;break;case 0:case 11:case 14:case 15:wl(2,f,c),Yn||wl(4,f,c),fs(s,c,f);break;case 1:Yn||(Ta(f,c),m=f.stateNode,typeof m.componentWillUnmount=="function"&&F2(f,c,m)),fs(s,c,f);break;case 21:fs(s,c,f);break;case 22:Yn=(m=Yn)||f.memoizedState!==null,fs(s,c,f),Yn=m;break;default:fs(s,c,f)}}function Y2(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Td(s)}catch(f){Ht(c,c.return,f)}}}function J2(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Td(s)}catch(f){Ht(c,c.return,f)}}function DG(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new H2),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new H2),c;default:throw Error(r(435,s.tag))}}function iy(s,c){var f=DG(s);c.forEach(function(m){if(!f.has(m)){f.add(m);var k=qG.bind(null,s,m);m.then(k,k)}})}function wi(s,c){var f=c.deletions;if(f!==null)for(var m=0;m<f.length;m++){var k=f[m],T=s,P=c,$=P;e:for(;$!==null;){switch($.tag){case 27:if(Al($.type)){bn=$.stateNode,vi=!1;break e}break;case 5:bn=$.stateNode,vi=!1;break e;case 3:case 4:bn=$.stateNode.containerInfo,vi=!0;break e}$=$.return}if(bn===null)throw Error(r(160));W2(T,P,k),bn=null,vi=!1,T=k.alternate,T!==null&&(T.return=null),k.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)X2(c,s),c=c.sibling}var Bo=null;function X2(s,c){var f=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:wi(c,s),xi(s),m&4&&(wl(3,s,s.return),Ef(3,s),wl(5,s,s.return));break;case 1:wi(c,s),xi(s),m&512&&(Yn||f===null||Ta(f,f.return)),m&64&&ps&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(f=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var k=Bo;if(wi(c,s),xi(s),m&512&&(Yn||f===null||Ta(f,f.return)),m&4){var T=f!==null?f.memoizedState:null;if(m=s.memoizedState,f===null)if(m===null)if(s.stateNode===null){e:{m=s.type,f=s.memoizedProps,k=k.ownerDocument||k;t:switch(m){case"title":T=k.getElementsByTagName("title")[0],(!T||T[ua]||T[qn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=k.createElement(m),k.head.insertBefore(T,k.querySelector("head > title"))),Pr(T,m,f),T[qn]=s,$n(T),m=T;break e;case"link":var P=XR("link","href",k).get(m+(f.href||""));if(P){for(var $=0;$<P.length;$++)if(T=P[$],T.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&T.getAttribute("rel")===(f.rel==null?null:f.rel)&&T.getAttribute("title")===(f.title==null?null:f.title)&&T.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){P.splice($,1);break t}}T=k.createElement(m),Pr(T,m,f),k.head.appendChild(T);break;case"meta":if(P=XR("meta","content",k).get(m+(f.content||""))){for($=0;$<P.length;$++)if(T=P[$],T.getAttribute("content")===(f.content==null?null:""+f.content)&&T.getAttribute("name")===(f.name==null?null:f.name)&&T.getAttribute("property")===(f.property==null?null:f.property)&&T.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&T.getAttribute("charset")===(f.charSet==null?null:f.charSet)){P.splice($,1);break t}}T=k.createElement(m),Pr(T,m,f),k.head.appendChild(T);break;default:throw Error(r(468,m))}T[qn]=s,$n(T),m=T}s.stateNode=m}else QR(k,s.type,s.stateNode);else s.stateNode=JR(k,m,s.memoizedProps);else T!==m?(T===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):T.count--,m===null?QR(k,s.type,s.stateNode):JR(k,m,s.memoizedProps)):m===null&&s.stateNode!==null&&i1(s,s.memoizedProps,f.memoizedProps)}break;case 27:wi(c,s),xi(s),m&512&&(Yn||f===null||Ta(f,f.return)),f!==null&&m&4&&i1(s,s.memoizedProps,f.memoizedProps);break;case 5:if(wi(c,s),xi(s),m&512&&(Yn||f===null||Ta(f,f.return)),s.flags&32){k=s.stateNode;try{bi(k,"")}catch($e){Ht(s,s.return,$e)}}m&4&&s.stateNode!=null&&(k=s.memoizedProps,i1(s,k,f!==null?f.memoizedProps:k)),m&1024&&(s1=!0);break;case 6:if(wi(c,s),xi(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,f=s.stateNode;try{f.nodeValue=m}catch($e){Ht(s,s.return,$e)}}break;case 3:if(wy=null,k=Bo,Bo=by(c.containerInfo),wi(c,s),Bo=k,xi(s),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Td(c.containerInfo)}catch($e){Ht(s,s.return,$e)}s1&&(s1=!1,Q2(s));break;case 4:m=Bo,Bo=by(s.stateNode.containerInfo),wi(c,s),xi(s),Bo=m;break;case 12:wi(c,s),xi(s);break;case 31:wi(c,s),xi(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,iy(s,m)));break;case 13:wi(c,s),xi(s),s.child.flags&8192&&s.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(ay=Ne()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,iy(s,m)));break;case 22:k=s.memoizedState!==null;var Q=f!==null&&f.memoizedState!==null,ue=ps,be=Yn;if(ps=ue||k,Yn=be||Q,wi(c,s),Yn=be,ps=ue,xi(s),m&8192)e:for(c=s.stateNode,c._visibility=k?c._visibility&-2:c._visibility|1,k&&(f===null||Q||ps||Yn||Gc(s)),f=null,c=s;;){if(c.tag===5||c.tag===26){if(f===null){Q=f=c;try{if(T=Q.stateNode,k)P=T.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{$=Q.stateNode;var Te=Q.memoizedProps.style,pe=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;$.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch($e){Ht(Q,Q.return,$e)}}}else if(c.tag===6){if(f===null){Q=c;try{Q.stateNode.nodeValue=k?"":Q.memoizedProps}catch($e){Ht(Q,Q.return,$e)}}}else if(c.tag===18){if(f===null){Q=c;try{var ye=Q.stateNode;k?FR(ye,!0):FR(Q.stateNode,!1)}catch($e){Ht(Q,Q.return,$e)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=s.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,iy(s,f))));break;case 19:wi(c,s),xi(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,iy(s,m)));break;case 30:break;case 21:break;default:wi(c,s),xi(s)}}function xi(s){var c=s.flags;if(c&2){try{for(var f,m=s.return;m!==null;){if(q2(m)){f=m;break}m=m.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var k=f.stateNode,T=o1(s);ry(s,T,k);break;case 5:var P=f.stateNode;f.flags&32&&(bi(P,""),f.flags&=-33);var $=o1(s);ry(s,$,P);break;case 3:case 4:var Q=f.stateNode.containerInfo,ue=o1(s);a1(s,ue,Q);break;default:throw Error(r(161))}}catch(be){Ht(s,s.return,be)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function Q2(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;Q2(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function hs(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)G2(s,c.alternate,c),c=c.sibling}function Gc(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:wl(4,c,c.return),Gc(c);break;case 1:Ta(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&F2(c,c.return,f),Gc(c);break;case 27:Mf(c.stateNode);case 26:case 5:Ta(c,c.return),Gc(c);break;case 22:c.memoizedState===null&&Gc(c);break;case 30:Gc(c);break;default:Gc(c)}s=s.sibling}}function gs(s,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,k=s,T=c,P=T.flags;switch(T.tag){case 0:case 11:case 15:gs(k,T,f),Ef(4,T);break;case 1:if(gs(k,T,f),m=T,k=m.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(ue){Ht(m,m.return,ue)}if(m=T,k=m.updateQueue,k!==null){var $=m.stateNode;try{var Q=k.shared.hiddenCallbacks;if(Q!==null)for(k.shared.hiddenCallbacks=null,k=0;k<Q.length;k++)IN(Q[k],$)}catch(ue){Ht(m,m.return,ue)}}f&&P&64&&V2(T),Sf(T,T.return);break;case 27:$2(T);case 26:case 5:gs(k,T,f),f&&m===null&&P&4&&B2(T),Sf(T,T.return);break;case 12:gs(k,T,f);break;case 31:gs(k,T,f),f&&P&4&&Y2(k,T);break;case 13:gs(k,T,f),f&&P&4&&J2(k,T);break;case 22:T.memoizedState===null&&gs(k,T,f),Sf(T,T.return);break;case 30:break;default:gs(k,T,f)}c=c.sibling}}function l1(s,c){var f=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==f&&(s!=null&&s.refCount++,f!=null&&pf(f))}function c1(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&pf(s))}function qo(s,c,f,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Z2(s,c,f,m),c=c.sibling}function Z2(s,c,f,m){var k=c.flags;switch(c.tag){case 0:case 11:case 15:qo(s,c,f,m),k&2048&&Ef(9,c);break;case 1:qo(s,c,f,m);break;case 3:qo(s,c,f,m),k&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&pf(s)));break;case 12:if(k&2048){qo(s,c,f,m),s=c.stateNode;try{var T=c.memoizedProps,P=T.id,$=T.onPostCommit;typeof $=="function"&&$(P,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Q){Ht(c,c.return,Q)}}else qo(s,c,f,m);break;case 31:qo(s,c,f,m);break;case 13:qo(s,c,f,m);break;case 23:break;case 22:T=c.stateNode,P=c.alternate,c.memoizedState!==null?T._visibility&2?qo(s,c,f,m):Af(s,c):T._visibility&2?qo(s,c,f,m):(T._visibility|=2,fd(s,c,f,m,(c.subtreeFlags&10256)!==0||!1)),k&2048&&l1(P,c);break;case 24:qo(s,c,f,m),k&2048&&c1(c.alternate,c);break;default:qo(s,c,f,m)}}function fd(s,c,f,m,k){for(k=k&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var T=s,P=c,$=f,Q=m,ue=P.flags;switch(P.tag){case 0:case 11:case 15:fd(T,P,$,Q,k),Ef(8,P);break;case 23:break;case 22:var be=P.stateNode;P.memoizedState!==null?be._visibility&2?fd(T,P,$,Q,k):Af(T,P):(be._visibility|=2,fd(T,P,$,Q,k)),k&&ue&2048&&l1(P.alternate,P);break;case 24:fd(T,P,$,Q,k),k&&ue&2048&&c1(P.alternate,P);break;default:fd(T,P,$,Q,k)}c=c.sibling}}function Af(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=s,m=c,k=m.flags;switch(m.tag){case 22:Af(f,m),k&2048&&l1(m.alternate,m);break;case 24:Af(f,m),k&2048&&c1(m.alternate,m);break;default:Af(f,m)}c=c.sibling}}var Cf=8192;function hd(s,c,f){if(s.subtreeFlags&Cf)for(s=s.child;s!==null;)eR(s,c,f),s=s.sibling}function eR(s,c,f){switch(s.tag){case 26:hd(s,c,f),s.flags&Cf&&s.memoizedState!==null&&w7(f,Bo,s.memoizedState,s.memoizedProps);break;case 5:hd(s,c,f);break;case 3:case 4:var m=Bo;Bo=by(s.stateNode.containerInfo),hd(s,c,f),Bo=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=Cf,Cf=16777216,hd(s,c,f),Cf=m):hd(s,c,f));break;default:hd(s,c,f)}}function tR(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function If(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];br=m,rR(m,s)}tR(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)nR(s),s=s.sibling}function nR(s){switch(s.tag){case 0:case 11:case 15:If(s),s.flags&2048&&wl(9,s,s.return);break;case 3:If(s);break;case 12:If(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,oy(s)):If(s);break;default:If(s)}}function oy(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];br=m,rR(m,s)}tR(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:wl(8,c,c.return),oy(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,oy(c));break;default:oy(c)}s=s.sibling}}function rR(s,c){for(;br!==null;){var f=br;switch(f.tag){case 0:case 11:case 15:wl(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:pf(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,br=m;else e:for(f=s;br!==null;){m=br;var k=m.sibling,T=m.return;if(K2(m),m===f){br=null;break e}if(k!==null){k.return=T,br=k;break e}br=T}}}var MG={getCacheForType:function(s){var c=Rr(Gn),f=c.data.get(s);return f===void 0&&(f=s(),c.data.set(s,f)),f},cacheSignal:function(){return Rr(Gn).controller.signal}},zG=typeof WeakMap=="function"?WeakMap:Map,Mt=0,tn=null,ht=null,yt=0,$t=0,Gi=null,xl=!1,gd=!1,u1=!1,ms=0,Tn=0,kl=0,Kc=0,d1=0,Ki=0,md=0,Nf=null,ki=null,p1=!1,ay=0,iR=0,sy=1/0,ly=null,_l=null,ir=0,Tl=null,yd=null,ys=0,f1=0,h1=null,oR=null,Rf=0,g1=null;function Wi(){return(Mt&2)!==0&&yt!==0?yt&-yt:X.T!==null?x1():Ui()}function aR(){if(Ki===0)if((yt&536870912)===0||Tt){var s=es;es<<=1,(es&3932160)===0&&(es=262144),Ki=s}else Ki=536870912;return s=$i.current,s!==null&&(s.flags|=32),Ki}function _i(s,c,f){(s===tn&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(bd(s,0),El(s,yt,Ki,!1)),mi(s,f),((Mt&2)===0||s!==tn)&&(s===tn&&((Mt&2)===0&&(Kc|=f),Tn===4&&El(s,yt,Ki,!1)),Ea(s))}function sR(s,c,f){if((Mt&6)!==0)throw Error(r(327));var m=!f&&(c&127)===0&&(c&s.expiredLanes)===0||Bn(s,c),k=m?UG(s,c):y1(s,c,!0),T=m;do{if(k===0){gd&&!m&&El(s,c,0,!1);break}else{if(f=s.current.alternate,T&&!LG(f)){k=y1(s,c,!1),T=!1;continue}if(k===2){if(T=c,s.errorRecoveryDisabledLanes&T)var P=0;else P=s.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){c=P;e:{var $=s;k=Nf;var Q=$.current.memoizedState.isDehydrated;if(Q&&(bd($,P).flags|=256),P=y1($,P,!1),P!==2){if(u1&&!Q){$.errorRecoveryDisabledLanes|=T,Kc|=T,k=4;break e}T=ki,ki=k,T!==null&&(ki===null?ki=T:ki.push.apply(ki,T))}k=P}if(T=!1,k!==2)continue}}if(k===1){bd(s,0),El(s,c,0,!0);break}e:{switch(m=s,T=k,T){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:El(m,c,Ki,!xl);break e;case 2:ki=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(k=ay+300-Ne(),10<k)){if(El(m,c,Ki,!xl),mn(m,0,!0)!==0)break e;ys=c,m.timeoutHandle=jR(lR.bind(null,m,f,ki,ly,p1,c,Ki,Kc,md,xl,T,"Throttled",-0,0),k);break e}lR(m,f,ki,ly,p1,c,Ki,Kc,md,xl,T,null,-0,0)}}break}while(!0);Ea(s)}function lR(s,c,f,m,k,T,P,$,Q,ue,be,Te,pe,ye){if(s.timeoutHandle=-1,Te=c.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zo},eR(c,T,Te);var $e=(T&62914560)===T?ay-Ne():(T&4194048)===T?iR-Ne():0;if($e=x7(Te,$e),$e!==null){ys=T,s.cancelPendingCommit=$e(mR.bind(null,s,c,T,f,m,k,P,$,Q,be,Te,null,pe,ye)),El(s,T,P,!ue);return}}mR(s,c,T,f,m,k,P,$,Q)}function LG(s){for(var c=s;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var k=f[m],T=k.getSnapshot;k=k.value;try{if(!Bi(T(),k))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function El(s,c,f,m){c&=~d1,c&=~Kc,s.suspendedLanes|=c,s.pingedLanes&=~c,m&&(s.warmLanes|=c),m=s.expirationTimes;for(var k=c;0<k;){var T=31-pt(k),P=1<<T;m[T]=-1,k&=~P}f!==0&&Fr(s,f,c)}function cy(){return(Mt&6)===0?(Of(0),!1):!0}function m1(){if(ht!==null){if($t===0)var s=ht.return;else s=ht,as=jc=null,Ox(s),ld=null,hf=0,s=ht;for(;s!==null;)U2(s.alternate,s),s=s.return;ht=null}}function bd(s,c){var f=s.timeoutHandle;f!==-1&&(s.timeoutHandle=-1,r7(f)),f=s.cancelPendingCommit,f!==null&&(s.cancelPendingCommit=null,f()),ys=0,m1(),tn=s,ht=f=is(s.current,null),yt=c,$t=0,Gi=null,xl=!1,gd=Bn(s,c),u1=!1,md=Ki=d1=Kc=kl=Tn=0,ki=Nf=null,p1=!1,(c&8)!==0&&(c|=c&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=c;0<m;){var k=31-pt(m),T=1<<k;c|=s[k],m&=~T}return ms=c,Nm(),f}function cR(s,c){ct=null,X.H=kf,c===sd||c===jm?(c=EN(),$t=3):c===wx?(c=EN(),$t=4):$t=c===Wx?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Gi=c,ht===null&&(Tn=1,Qm(s,uo(c,s.current)))}function uR(){var s=$i.current;return s===null?!0:(yt&4194048)===yt?go===null:(yt&62914560)===yt||(yt&536870912)!==0?s===go:!1}function dR(){var s=X.H;return X.H=kf,s===null?kf:s}function pR(){var s=X.A;return X.A=MG,s}function uy(){Tn=4,xl||(yt&4194048)!==yt&&$i.current!==null||(gd=!0),(kl&134217727)===0&&(Kc&134217727)===0||tn===null||El(tn,yt,Ki,!1)}function y1(s,c,f){var m=Mt;Mt|=2;var k=dR(),T=pR();(tn!==s||yt!==c)&&(ly=null,bd(s,c)),c=!1;var P=Tn;e:do try{if($t!==0&&ht!==null){var $=ht,Q=Gi;switch($t){case 8:m1(),P=6;break e;case 3:case 2:case 9:case 6:$i.current===null&&(c=!0);var ue=$t;if($t=0,Gi=null,vd(s,$,Q,ue),f&&gd){P=0;break e}break;default:ue=$t,$t=0,Gi=null,vd(s,$,Q,ue)}}jG(),P=Tn;break}catch(be){cR(s,be)}while(!0);return c&&s.shellSuspendCounter++,as=jc=null,Mt=m,X.H=k,X.A=T,ht===null&&(tn=null,yt=0,Nm()),P}function jG(){for(;ht!==null;)fR(ht)}function UG(s,c){var f=Mt;Mt|=2;var m=dR(),k=pR();tn!==s||yt!==c?(ly=null,sy=Ne()+500,bd(s,c)):gd=Bn(s,c);e:do try{if($t!==0&&ht!==null){c=ht;var T=Gi;t:switch($t){case 1:$t=0,Gi=null,vd(s,c,T,1);break;case 2:case 9:if(_N(T)){$t=0,Gi=null,hR(c);break}c=function(){$t!==2&&$t!==9||tn!==s||($t=7),Ea(s)},T.then(c,c);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:_N(T)?($t=0,Gi=null,hR(c)):($t=0,Gi=null,vd(s,c,T,7));break;case 5:var P=null;switch(ht.tag){case 26:P=ht.memoizedState;case 5:case 27:var $=ht;if(P?ZR(P):$.stateNode.complete){$t=0,Gi=null;var Q=$.sibling;if(Q!==null)ht=Q;else{var ue=$.return;ue!==null?(ht=ue,dy(ue)):ht=null}break t}}$t=0,Gi=null,vd(s,c,T,5);break;case 6:$t=0,Gi=null,vd(s,c,T,6);break;case 8:m1(),Tn=6;break e;default:throw Error(r(462))}}VG();break}catch(be){cR(s,be)}while(!0);return as=jc=null,X.H=m,X.A=k,Mt=f,ht!==null?0:(tn=null,yt=0,Nm(),Tn)}function VG(){for(;ht!==null&&!Oe();)fR(ht)}function fR(s){var c=L2(s.alternate,s,ms);s.memoizedProps=s.pendingProps,c===null?dy(s):ht=c}function hR(s){var c=s,f=c.alternate;switch(c.tag){case 15:case 0:c=R2(f,c,c.pendingProps,c.type,void 0,yt);break;case 11:c=R2(f,c,c.pendingProps,c.type.render,c.ref,yt);break;case 5:Ox(c);default:U2(f,c),c=ht=pN(c,ms),c=L2(f,c,ms)}s.memoizedProps=s.pendingProps,c===null?dy(s):ht=c}function vd(s,c,f,m){as=jc=null,Ox(c),ld=null,hf=0;var k=c.return;try{if(CG(s,k,c,f,yt)){Tn=1,Qm(s,uo(f,s.current)),ht=null;return}}catch(T){if(k!==null)throw ht=k,T;Tn=1,Qm(s,uo(f,s.current)),ht=null;return}c.flags&32768?(Tt||m===1?s=!0:gd||(yt&536870912)!==0?s=!1:(xl=s=!0,(m===2||m===9||m===3||m===6)&&(m=$i.current,m!==null&&m.tag===13&&(m.flags|=16384))),gR(c,s)):dy(c)}function dy(s){var c=s;do{if((c.flags&32768)!==0){gR(c,xl);return}s=c.return;var f=RG(c.alternate,c,ms);if(f!==null){ht=f;return}if(c=c.sibling,c!==null){ht=c;return}ht=c=s}while(c!==null);Tn===0&&(Tn=5)}function gR(s,c){do{var f=OG(s.alternate,s);if(f!==null){f.flags&=32767,ht=f;return}if(f=s.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(s=s.sibling,s!==null)){ht=s;return}ht=s=f}while(s!==null);Tn=6,ht=null}function mR(s,c,f,m,k,T,P,$,Q){s.cancelPendingCommit=null;do py();while(ir!==0);if((Mt&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(T=c.lanes|c.childLanes,T|=ox,Pn(s,f,T,P,$,Q),s===tn&&(ht=tn=null,yt=0),yd=c,Tl=s,ys=f,f1=T,h1=k,oR=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,$G(De,function(){return xR(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=X.T,X.T=null,k=J.p,J.p=2,P=Mt,Mt|=4;try{PG(s,c,f)}finally{Mt=P,J.p=k,X.T=m}}ir=1,yR(),bR(),vR()}}function yR(){if(ir===1){ir=0;var s=Tl,c=yd,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=X.T,X.T=null;var m=J.p;J.p=2;var k=Mt;Mt|=4;try{X2(c,s);var T=I1,P=rN(s.containerInfo),$=T.focusedElem,Q=T.selectionRange;if(P!==$&&$&&$.ownerDocument&&nN($.ownerDocument.documentElement,$)){if(Q!==null&&ex($)){var ue=Q.start,be=Q.end;if(be===void 0&&(be=ue),"selectionStart"in $)$.selectionStart=ue,$.selectionEnd=Math.min(be,$.value.length);else{var Te=$.ownerDocument||document,pe=Te&&Te.defaultView||window;if(pe.getSelection){var ye=pe.getSelection(),$e=$.textContent.length,Qe=Math.min(Q.start,$e),Zt=Q.end===void 0?Qe:Math.min(Q.end,$e);!ye.extend&&Qe>Zt&&(P=Zt,Zt=Qe,Qe=P);var re=tN($,Qe),ne=tN($,Zt);if(re&&ne&&(ye.rangeCount!==1||ye.anchorNode!==re.node||ye.anchorOffset!==re.offset||ye.focusNode!==ne.node||ye.focusOffset!==ne.offset)){var ce=Te.createRange();ce.setStart(re.node,re.offset),ye.removeAllRanges(),Qe>Zt?(ye.addRange(ce),ye.extend(ne.node,ne.offset)):(ce.setEnd(ne.node,ne.offset),ye.addRange(ce))}}}}for(Te=[],ye=$;ye=ye.parentNode;)ye.nodeType===1&&Te.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Te.length;$++){var xe=Te[$];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}Ty=!!C1,I1=C1=null}finally{Mt=k,J.p=m,X.T=f}}s.current=c,ir=2}}function bR(){if(ir===2){ir=0;var s=Tl,c=yd,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=X.T,X.T=null;var m=J.p;J.p=2;var k=Mt;Mt|=4;try{G2(s,c.alternate,c)}finally{Mt=k,J.p=m,X.T=f}}ir=3}}function vR(){if(ir===4||ir===3){ir=0,de();var s=Tl,c=yd,f=ys,m=oR;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ir=5:(ir=0,yd=Tl=null,wR(s,s.pendingLanes));var k=s.pendingLanes;if(k===0&&(_l=null),ni(f),c=c.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Yt,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=X.T,k=J.p,J.p=2,X.T=null;try{for(var T=s.onRecoverableError,P=0;P<m.length;P++){var $=m[P];T($.value,{componentStack:$.stack})}}finally{X.T=c,J.p=k}}(ys&3)!==0&&py(),Ea(s),k=s.pendingLanes,(f&261930)!==0&&(k&42)!==0?s===g1?Rf++:(Rf=0,g1=s):Rf=0,Of(0)}}function wR(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,pf(c)))}function py(){return yR(),bR(),vR(),xR()}function xR(){if(ir!==5)return!1;var s=Tl,c=f1;f1=0;var f=ni(ys),m=X.T,k=J.p;try{J.p=32>f?32:f,X.T=null,f=h1,h1=null;var T=Tl,P=ys;if(ir=0,yd=Tl=null,ys=0,(Mt&6)!==0)throw Error(r(331));var $=Mt;if(Mt|=4,nR(T.current),Z2(T,T.current,P,f),Mt=$,Of(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Yt,T)}catch{}return!0}finally{J.p=k,X.T=m,wR(s,c)}}function kR(s,c,f){c=uo(f,c),c=Kx(s.stateNode,c,2),s=yl(s,c,2),s!==null&&(mi(s,2),Ea(s))}function Ht(s,c,f){if(s.tag===3)kR(s,s,f);else for(;c!==null;){if(c.tag===3){kR(c,s,f);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(_l===null||!_l.has(m))){s=uo(f,s),f=_2(2),m=yl(c,f,2),m!==null&&(T2(f,m,c,s),mi(m,2),Ea(m));break}}c=c.return}}function b1(s,c,f){var m=s.pingCache;if(m===null){m=s.pingCache=new zG;var k=new Set;m.set(c,k)}else k=m.get(c),k===void 0&&(k=new Set,m.set(c,k));k.has(f)||(u1=!0,k.add(f),s=FG.bind(null,s,c,f),c.then(s,s))}function FG(s,c,f){var m=s.pingCache;m!==null&&m.delete(c),s.pingedLanes|=s.suspendedLanes&f,s.warmLanes&=~f,tn===s&&(yt&f)===f&&(Tn===4||Tn===3&&(yt&62914560)===yt&&300>Ne()-ay?(Mt&2)===0&&bd(s,0):d1|=f,md===yt&&(md=0)),Ea(s)}function _R(s,c){c===0&&(c=gr()),s=Mc(s,c),s!==null&&(mi(s,c),Ea(s))}function BG(s){var c=s.memoizedState,f=0;c!==null&&(f=c.retryLane),_R(s,f)}function qG(s,c){var f=0;switch(s.tag){case 31:case 13:var m=s.stateNode,k=s.memoizedState;k!==null&&(f=k.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(c),_R(s,f)}function $G(s,c){return mt(s,c)}var fy=null,wd=null,v1=!1,hy=!1,w1=!1,Sl=0;function Ea(s){s!==wd&&s.next===null&&(wd===null?fy=wd=s:wd=wd.next=s),hy=!0,v1||(v1=!0,GG())}function Of(s,c){if(!w1&&hy){w1=!0;do for(var f=!1,m=fy;m!==null;){if(s!==0){var k=m.pendingLanes;if(k===0)var T=0;else{var P=m.suspendedLanes,$=m.pingedLanes;T=(1<<31-pt(42|s)+1)-1,T&=k&~(P&~$),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(f=!0,AR(m,T))}else T=yt,T=mn(m,m===tn?T:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(T&3)===0||Bn(m,T)||(f=!0,AR(m,T));m=m.next}while(f);w1=!1}}function HG(){TR()}function TR(){hy=v1=!1;var s=0;Sl!==0&&n7()&&(s=Sl);for(var c=Ne(),f=null,m=fy;m!==null;){var k=m.next,T=ER(m,c);T===0?(m.next=null,f===null?fy=k:f.next=k,k===null&&(wd=f)):(f=m,(s!==0||(T&3)!==0)&&(hy=!0)),m=k}ir!==0&&ir!==5||Of(s),Sl!==0&&(Sl=0)}function ER(s,c){for(var f=s.suspendedLanes,m=s.pingedLanes,k=s.expirationTimes,T=s.pendingLanes&-62914561;0<T;){var P=31-pt(T),$=1<<P,Q=k[P];Q===-1?(($&f)===0||($&m)!==0)&&(k[P]=Vr($,c)):Q<=c&&(s.expiredLanes|=$),T&=~$}if(c=tn,f=yt,f=mn(s,s===c?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,f===0||s===c&&($t===2||$t===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&ke(m),s.callbackNode=null,s.callbackPriority=0;if((f&3)===0||Bn(s,f)){if(c=f&-f,c===s.callbackPriority)return c;switch(m!==null&&ke(m),ni(f)){case 2:case 8:f=he;break;case 32:f=De;break;case 268435456:f=Me;break;default:f=De}return m=SR.bind(null,s),f=mt(f,m),s.callbackPriority=c,s.callbackNode=f,c}return m!==null&&m!==null&&ke(m),s.callbackPriority=2,s.callbackNode=null,2}function SR(s,c){if(ir!==0&&ir!==5)return s.callbackNode=null,s.callbackPriority=0,null;var f=s.callbackNode;if(py()&&s.callbackNode!==f)return null;var m=yt;return m=mn(s,s===tn?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(sR(s,m,c),ER(s,Ne()),s.callbackNode!=null&&s.callbackNode===f?SR.bind(null,s):null)}function AR(s,c){if(py())return null;sR(s,c,!0)}function GG(){i7(function(){(Mt&6)!==0?mt(ee,HG):TR()})}function x1(){if(Sl===0){var s=od;s===0&&(s=io,io<<=1,(io&261888)===0&&(io=256)),Sl=s}return Sl}function CR(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:$u(""+s)}function IR(s,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,s.id&&f.setAttribute("form",s.id),c.parentNode.insertBefore(f,c),s=new FormData(s),f.parentNode.removeChild(f),s}function KG(s,c,f,m,k){if(c==="submit"&&f&&f.stateNode===k){var T=CR((k[mr]||null).action),P=m.submitter;P&&(c=(c=P[mr]||null)?CR(c.formAction):P.getAttribute("formAction"),c!==null&&(T=c,P=null));var $=new ba("action","action",null,m,k);s.push({event:$,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Sl!==0){var Q=P?IR(k,P):new FormData(k);Fx(f,{pending:!0,data:Q,method:k.method,action:T},null,Q)}}else typeof T=="function"&&($.preventDefault(),Q=P?IR(k,P):new FormData(k),Fx(f,{pending:!0,data:Q,method:k.method,action:T},T,Q))},currentTarget:k}]})}}for(var k1=0;k1<ix.length;k1++){var _1=ix[k1],WG=_1.toLowerCase(),YG=_1[0].toUpperCase()+_1.slice(1);Fo(WG,"on"+YG)}Fo(aN,"onAnimationEnd"),Fo(sN,"onAnimationIteration"),Fo(lN,"onAnimationStart"),Fo("dblclick","onDoubleClick"),Fo("focusin","onFocus"),Fo("focusout","onBlur"),Fo(dG,"onTransitionRun"),Fo(pG,"onTransitionStart"),Fo(fG,"onTransitionCancel"),Fo(cN,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pf));function NR(s,c){c=(c&4)!==0;for(var f=0;f<s.length;f++){var m=s[f],k=m.event;m=m.listeners;e:{var T=void 0;if(c)for(var P=m.length-1;0<=P;P--){var $=m[P],Q=$.instance,ue=$.currentTarget;if($=$.listener,Q!==T&&k.isPropagationStopped())break e;T=$,k.currentTarget=ue;try{T(k)}catch(be){Im(be)}k.currentTarget=null,T=Q}else for(P=0;P<m.length;P++){if($=m[P],Q=$.instance,ue=$.currentTarget,$=$.listener,Q!==T&&k.isPropagationStopped())break e;T=$,k.currentTarget=ue;try{T(k)}catch(be){Im(be)}k.currentTarget=null,T=Q}}}}function gt(s,c){var f=c[Uu];f===void 0&&(f=c[Uu]=new Set);var m=s+"__bubble";f.has(m)||(RR(c,s,2,!1),f.add(m))}function T1(s,c,f){var m=0;c&&(m|=4),RR(f,s,m,c)}var gy="_reactListening"+Math.random().toString(36).slice(2);function E1(s){if(!s[gy]){s[gy]=!0,$p.forEach(function(f){f!=="selectionchange"&&(JG.has(f)||T1(f,!1,s),T1(f,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[gy]||(c[gy]=!0,T1("selectionchange",!1,c))}}function RR(s,c,f,m){switch(aO(c)){case 2:var k=T7;break;case 8:k=E7;break;default:k=V1}f=k.bind(null,c,f,s),k=void 0,!Ac||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(k=!0),m?k!==void 0?s.addEventListener(c,f,{capture:!0,passive:k}):s.addEventListener(c,f,!0):k!==void 0?s.addEventListener(c,f,{passive:k}):s.addEventListener(c,f,!1)}function S1(s,c,f,m,k){var T=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var $=m.stateNode.containerInfo;if($===k)break;if(P===4)for(P=m.return;P!==null;){var Q=P.tag;if((Q===3||Q===4)&&P.stateNode.containerInfo===k)return;P=P.return}for(;$!==null;){if(P=da($),P===null)return;if(Q=P.tag,Q===5||Q===6||Q===26||Q===27){m=T=P;continue e}$=$.parentNode}}m=m.return}sl(function(){var ue=T,be=ao(f),Te=[];e:{var pe=uN.get(s);if(pe!==void 0){var ye=ba,$e=s;switch(s){case"keypress":if(Ic(f)===0)break e;case"keydown":case"keyup":ye=Sm;break;case"focusin":$e="focus",ye=Rc;break;case"focusout":$e="blur",ye=Rc;break;case"beforeblur":case"afterblur":ye=Rc;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=N;break;case aN:case sN:case lN:ye=vm;break;case cN:ye=K;break;case"scroll":case"scrollend":ye=nf;break;case"wheel":ye=ge;break;case"copy":case"cut":case"paste":ye=wm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=rs;break;case"toggle":case"beforetoggle":ye=lt}var Qe=(c&4)!==0,Zt=!Qe&&(s==="scroll"||s==="scrollend"),re=Qe?pe!==null?pe+"Capture":null:pe;Qe=[];for(var ne=ue,ce;ne!==null;){var xe=ne;if(ce=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||ce===null||re===null||(xe=Lo(ne,re),xe!=null&&Qe.push(Df(ne,xe,ce))),Zt)break;ne=ne.return}0<Qe.length&&(pe=new ye(pe,$e,null,f,be),Te.push({event:pe,listeners:Qe}))}}if((c&7)===0){e:{if(pe=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",pe&&f!==Zp&&($e=f.relatedTarget||f.fromElement)&&(da($e)||$e[ca]))break e;if((ye||pe)&&(pe=be.window===be?be:(pe=be.ownerDocument)?pe.defaultView||pe.parentWindow:window,ye?($e=f.relatedTarget||f.toElement,ye=ue,$e=$e?da($e):null,$e!==null&&(Zt=o($e),Qe=$e.tag,$e!==Zt||Qe!==5&&Qe!==27&&Qe!==6)&&($e=null)):(ye=null,$e=ue),ye!==$e)){if(Qe=rf,xe="onMouseLeave",re="onMouseEnter",ne="mouse",(s==="pointerout"||s==="pointerover")&&(Qe=rs,xe="onPointerLeave",re="onPointerEnter",ne="pointer"),Zt=ye==null?pe:Vi(ye),ce=$e==null?pe:Vi($e),pe=new Qe(xe,ne+"leave",ye,f,be),pe.target=Zt,pe.relatedTarget=ce,xe=null,da(be)===ue&&(Qe=new Qe(re,ne+"enter",$e,f,be),Qe.target=ce,Qe.relatedTarget=Zt,xe=Qe),Zt=xe,ye&&$e)t:{for(Qe=XG,re=ye,ne=$e,ce=0,xe=re;xe;xe=Qe(xe))ce++;xe=0;for(var Ye=ne;Ye;Ye=Qe(Ye))xe++;for(;0<ce-xe;)re=Qe(re),ce--;for(;0<xe-ce;)ne=Qe(ne),xe--;for(;ce--;){if(re===ne||ne!==null&&re===ne.alternate){Qe=re;break t}re=Qe(re),ne=Qe(ne)}Qe=null}else Qe=null;ye!==null&&OR(Te,pe,ye,Qe,!1),$e!==null&&Zt!==null&&OR(Te,Zt,$e,Qe,!0)}}e:{if(pe=ue?Vi(ue):window,ye=pe.nodeName&&pe.nodeName.toLowerCase(),ye==="select"||ye==="input"&&pe.type==="file")var It=YI;else if(KI(pe))if(JI)It=lG;else{It=aG;var He=oG}else ye=pe.nodeName,!ye||ye.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?ue&&qu(ue.elementType)&&(It=YI):It=sG;if(It&&(It=It(s,ue))){WI(Te,It,f,be);break e}He&&He(s,pe,ue),s==="focusout"&&ue&&pe.type==="number"&&ue.memoizedProps.value!=null&&Jp(pe,"number",pe.value)}switch(He=ue?Vi(ue):window,s){case"focusin":(KI(He)||He.contentEditable==="true")&&(Xu=He,tx=ue,cf=null);break;case"focusout":cf=tx=Xu=null;break;case"mousedown":nx=!0;break;case"contextmenu":case"mouseup":case"dragend":nx=!1,iN(Te,f,be);break;case"selectionchange":if(uG)break;case"keydown":case"keyup":iN(Te,f,be)}var ut;if(Dt)e:{switch(s){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else Ju?Oc(s,f)&&(bt="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(bt="onCompositionStart");bt&&(xa&&f.locale!=="ko"&&(Ju||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Ju&&(ut=tf()):(ya=be,ef="value"in ya?ya.value:ya.textContent,Ju=!0)),He=my(ue,bt),0<He.length&&(bt=new wa(bt,s,null,f,be),Te.push({event:bt,listeners:He}),ut?bt.data=ut:(ut=Yu(f),ut!==null&&(bt.data=ut)))),(ut=lo?tG(s,f):nG(s,f))&&(bt=my(ue,"onBeforeInput"),0<bt.length&&(He=new wa("onBeforeInput","beforeinput",null,f,be),Te.push({event:He,listeners:bt}),He.data=ut)),KG(Te,s,ue,f,be)}NR(Te,c)})}function Df(s,c,f){return{instance:s,listener:c,currentTarget:f}}function my(s,c){for(var f=c+"Capture",m=[];s!==null;){var k=s,T=k.stateNode;if(k=k.tag,k!==5&&k!==26&&k!==27||T===null||(k=Lo(s,f),k!=null&&m.unshift(Df(s,k,T)),k=Lo(s,c),k!=null&&m.push(Df(s,k,T))),s.tag===3)return m;s=s.return}return[]}function XG(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function OR(s,c,f,m,k){for(var T=c._reactName,P=[];f!==null&&f!==m;){var $=f,Q=$.alternate,ue=$.stateNode;if($=$.tag,Q!==null&&Q===m)break;$!==5&&$!==26&&$!==27||ue===null||(Q=ue,k?(ue=Lo(f,T),ue!=null&&P.unshift(Df(f,ue,Q))):k||(ue=Lo(f,T),ue!=null&&P.push(Df(f,ue,Q)))),f=f.return}P.length!==0&&s.push({event:c,listeners:P})}var QG=/\r\n?/g,ZG=/\u0000|\uFFFD/g;function PR(s){return(typeof s=="string"?s:""+s).replace(QG,`
`).replace(ZG,"")}function DR(s,c){return c=PR(c),PR(s)===c}function Qt(s,c,f,m,k,T){switch(f){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||bi(s,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&bi(s,""+m);break;case"className":Fi(s,"class",m);break;case"tabIndex":Fi(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Fi(s,f,m);break;case"style":Qp(s,m,T);break;case"data":if(c!=="object"){Fi(s,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||f!=="href")){s.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(f);break}m=$u(""+m),s.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(f==="formAction"?(c!=="input"&&Qt(s,c,"name",k.name,k,null),Qt(s,c,"formEncType",k.formEncType,k,null),Qt(s,c,"formMethod",k.formMethod,k,null),Qt(s,c,"formTarget",k.formTarget,k,null)):(Qt(s,c,"encType",k.encType,k,null),Qt(s,c,"method",k.method,k,null),Qt(s,c,"target",k.target,k,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(f);break}m=$u(""+m),s.setAttribute(f,m);break;case"onClick":m!=null&&(s.onclick=zo);break;case"onScroll":m!=null&&gt("scroll",s);break;case"onScrollEnd":m!=null&&gt("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(k.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}f=$u(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(f,""+m):s.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(f,""):s.removeAttribute(f);break;case"capture":case"download":m===!0?s.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(f,m):s.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(f,m):s.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(f):s.setAttribute(f,m);break;case"popover":gt("beforetoggle",s),gt("toggle",s),Fu(s,"popover",m);break;case"xlinkActuate":Hn(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Hn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Hn(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Hn(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Hn(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Hn(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Hn(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Hn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Hn(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Fu(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=mm.get(f)||f,Fu(s,f,m))}}function A1(s,c,f,m,k,T){switch(f){case"style":Qp(s,m,T);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(k.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"children":typeof m=="string"?bi(s,m):(typeof m=="number"||typeof m=="bigint")&&bi(s,""+m);break;case"onScroll":m!=null&&gt("scroll",s);break;case"onScrollEnd":m!=null&&gt("scrollend",s);break;case"onClick":m!=null&&(s.onclick=zo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hp.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(k=f.endsWith("Capture"),c=f.slice(2,k?f.length-7:void 0),T=s[mr]||null,T=T!=null?T[f]:null,typeof T=="function"&&s.removeEventListener(c,T,k),typeof m=="function")){typeof T!="function"&&T!==null&&(f in s?s[f]=null:s.hasAttribute(f)&&s.removeAttribute(f)),s.addEventListener(c,m,k);break e}f in s?s[f]=m:m===!0?s.setAttribute(f,""):Fu(s,f,m)}}}function Pr(s,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",s),gt("load",s);var m=!1,k=!1,T;for(T in f)if(f.hasOwnProperty(T)){var P=f[T];if(P!=null)switch(T){case"src":m=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Qt(s,c,T,P,f,null)}}k&&Qt(s,c,"srcSet",f.srcSet,f,null),m&&Qt(s,c,"src",f.src,f,null);return;case"input":gt("invalid",s);var $=T=P=k=null,Q=null,ue=null;for(m in f)if(f.hasOwnProperty(m)){var be=f[m];if(be!=null)switch(m){case"name":k=be;break;case"type":P=be;break;case"checked":Q=be;break;case"defaultChecked":ue=be;break;case"value":T=be;break;case"defaultValue":$=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,c));break;default:Qt(s,c,m,be,f,null)}}fm(s,T,$,Q,ue,P,k,!1);return;case"select":gt("invalid",s),m=P=T=null;for(k in f)if(f.hasOwnProperty(k)&&($=f[k],$!=null))switch(k){case"value":T=$;break;case"defaultValue":P=$;break;case"multiple":m=$;default:Qt(s,c,k,$,f,null)}c=T,f=P,s.multiple=!!m,c!=null?rl(s,!!m,c,!1):f!=null&&rl(s,!!m,f,!0);return;case"textarea":gt("invalid",s),T=k=m=null;for(P in f)if(f.hasOwnProperty(P)&&($=f[P],$!=null))switch(P){case"value":m=$;break;case"defaultValue":k=$;break;case"children":T=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Qt(s,c,P,$,f,null)}il(s,m,k,T);return;case"option":for(Q in f)if(f.hasOwnProperty(Q)&&(m=f[Q],m!=null))switch(Q){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Qt(s,c,Q,m,f,null)}return;case"dialog":gt("beforetoggle",s),gt("toggle",s),gt("cancel",s),gt("close",s);break;case"iframe":case"object":gt("load",s);break;case"video":case"audio":for(m=0;m<Pf.length;m++)gt(Pf[m],s);break;case"image":gt("error",s),gt("load",s);break;case"details":gt("toggle",s);break;case"embed":case"source":case"link":gt("error",s),gt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in f)if(f.hasOwnProperty(ue)&&(m=f[ue],m!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Qt(s,c,ue,m,f,null)}return;default:if(qu(c)){for(be in f)f.hasOwnProperty(be)&&(m=f[be],m!==void 0&&A1(s,c,be,m,f,void 0));return}}for($ in f)f.hasOwnProperty($)&&(m=f[$],m!=null&&Qt(s,c,$,m,f,null))}function e7(s,c,f,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,T=null,P=null,$=null,Q=null,ue=null,be=null;for(ye in f){var Te=f[ye];if(f.hasOwnProperty(ye)&&Te!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":Q=Te;default:m.hasOwnProperty(ye)||Qt(s,c,ye,null,m,Te)}}for(var pe in m){var ye=m[pe];if(Te=f[pe],m.hasOwnProperty(pe)&&(ye!=null||Te!=null))switch(pe){case"type":T=ye;break;case"name":k=ye;break;case"checked":ue=ye;break;case"defaultChecked":be=ye;break;case"value":P=ye;break;case"defaultValue":$=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,c));break;default:ye!==Te&&Qt(s,c,pe,ye,m,Te)}}Bu(s,P,$,Q,ue,be,T,k);return;case"select":ye=P=$=pe=null;for(T in f)if(Q=f[T],f.hasOwnProperty(T)&&Q!=null)switch(T){case"value":break;case"multiple":ye=Q;default:m.hasOwnProperty(T)||Qt(s,c,T,null,m,Q)}for(k in m)if(T=m[k],Q=f[k],m.hasOwnProperty(k)&&(T!=null||Q!=null))switch(k){case"value":pe=T;break;case"defaultValue":$=T;break;case"multiple":P=T;default:T!==Q&&Qt(s,c,k,T,m,Q)}c=$,f=P,m=ye,pe!=null?rl(s,!!f,pe,!1):!!m!=!!f&&(c!=null?rl(s,!!f,c,!0):rl(s,!!f,f?[]:"",!1));return;case"textarea":ye=pe=null;for($ in f)if(k=f[$],f.hasOwnProperty($)&&k!=null&&!m.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Qt(s,c,$,null,m,k)}for(P in m)if(k=m[P],T=f[P],m.hasOwnProperty(P)&&(k!=null||T!=null))switch(P){case"value":pe=k;break;case"defaultValue":ye=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:k!==T&&Qt(s,c,P,k,m,T)}hm(s,pe,ye);return;case"option":for(var $e in f)if(pe=f[$e],f.hasOwnProperty($e)&&pe!=null&&!m.hasOwnProperty($e))switch($e){case"selected":s.selected=!1;break;default:Qt(s,c,$e,null,m,pe)}for(Q in m)if(pe=m[Q],ye=f[Q],m.hasOwnProperty(Q)&&pe!==ye&&(pe!=null||ye!=null))switch(Q){case"selected":s.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:Qt(s,c,Q,pe,m,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in f)pe=f[Qe],f.hasOwnProperty(Qe)&&pe!=null&&!m.hasOwnProperty(Qe)&&Qt(s,c,Qe,null,m,pe);for(ue in m)if(pe=m[ue],ye=f[ue],m.hasOwnProperty(ue)&&pe!==ye&&(pe!=null||ye!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,c));break;default:Qt(s,c,ue,pe,m,ye)}return;default:if(qu(c)){for(var Zt in f)pe=f[Zt],f.hasOwnProperty(Zt)&&pe!==void 0&&!m.hasOwnProperty(Zt)&&A1(s,c,Zt,void 0,m,pe);for(be in m)pe=m[be],ye=f[be],!m.hasOwnProperty(be)||pe===ye||pe===void 0&&ye===void 0||A1(s,c,be,pe,m,ye);return}}for(var re in f)pe=f[re],f.hasOwnProperty(re)&&pe!=null&&!m.hasOwnProperty(re)&&Qt(s,c,re,null,m,pe);for(Te in m)pe=m[Te],ye=f[Te],!m.hasOwnProperty(Te)||pe===ye||pe==null&&ye==null||Qt(s,c,Te,pe,m,ye)}function MR(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function t7(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,f=performance.getEntriesByType("resource"),m=0;m<f.length;m++){var k=f[m],T=k.transferSize,P=k.initiatorType,$=k.duration;if(T&&$&&MR(P)){for(P=0,$=k.responseEnd,m+=1;m<f.length;m++){var Q=f[m],ue=Q.startTime;if(ue>$)break;var be=Q.transferSize,Te=Q.initiatorType;be&&MR(Te)&&(Q=Q.responseEnd,P+=be*(Q<$?1:($-ue)/(Q-ue)))}if(--m,c+=8*(T+P)/(k.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var C1=null,I1=null;function yy(s){return s.nodeType===9?s:s.ownerDocument}function zR(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LR(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function N1(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var R1=null;function n7(){var s=window.event;return s&&s.type==="popstate"?s===R1?!1:(R1=s,!0):(R1=null,!1)}var jR=typeof setTimeout=="function"?setTimeout:void 0,r7=typeof clearTimeout=="function"?clearTimeout:void 0,UR=typeof Promise=="function"?Promise:void 0,i7=typeof queueMicrotask=="function"?queueMicrotask:typeof UR<"u"?function(s){return UR.resolve(null).then(s).catch(o7)}:jR;function o7(s){setTimeout(function(){throw s})}function Al(s){return s==="head"}function VR(s,c){var f=c,m=0;do{var k=f.nextSibling;if(s.removeChild(f),k&&k.nodeType===8)if(f=k.data,f==="/$"||f==="/&"){if(m===0){s.removeChild(k),Td(c);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")m++;else if(f==="html")Mf(s.ownerDocument.documentElement);else if(f==="head"){f=s.ownerDocument.head,Mf(f);for(var T=f.firstChild;T;){var P=T.nextSibling,$=T.nodeName;T[ua]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&T.rel.toLowerCase()==="stylesheet"||f.removeChild(T),T=P}}else f==="body"&&Mf(s.ownerDocument.body);f=k}while(f);Td(c)}function FR(s,c){var f=s;s=0;do{var m=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(s===0)break;s--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||s++;f=m}while(f)}function O1(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":O1(f),Vu(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}s.removeChild(f)}}function a7(s,c,f,m){for(;s.nodeType===1;){var k=f;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[ua])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(T=s.getAttribute("rel"),T==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(T!==k.rel||s.getAttribute("href")!==(k.href==null||k.href===""?null:k.href)||s.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||s.getAttribute("title")!==(k.title==null?null:k.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(T=s.getAttribute("src"),(T!==(k.src==null?null:k.src)||s.getAttribute("type")!==(k.type==null?null:k.type)||s.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&T&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var T=k.name==null?null:""+k.name;if(k.type==="hidden"&&s.getAttribute("name")===T)return s}else return s;if(s=mo(s.nextSibling),s===null)break}return null}function s7(s,c,f){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=mo(s.nextSibling),s===null))return null;return s}function BR(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=mo(s.nextSibling),s===null))return null;return s}function P1(s){return s.data==="$?"||s.data==="$~"}function D1(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function l7(s,c){var f=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||f.readyState!=="loading")c();else{var m=function(){c(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function mo(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var M1=null;function qR(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"||f==="/&"){if(c===0)return mo(s.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}s=s.nextSibling}return null}function $R(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return s;c--}else f!=="/$"&&f!=="/&"||c++}s=s.previousSibling}return null}function HR(s,c,f){switch(c=yy(f),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Mf(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Vu(s)}var yo=new Map,GR=new Set;function by(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var bs=J.d;J.d={f:c7,r:u7,D:d7,C:p7,L:f7,m:h7,X:m7,S:g7,M:y7};function c7(){var s=bs.f(),c=cy();return s||c}function u7(s){var c=oo(s);c!==null&&c.tag===5&&c.type==="form"?c2(c):bs.r(s)}var xd=typeof document>"u"?null:document;function KR(s,c,f){var m=xd;if(m&&typeof c=="string"&&c){var k=yi(c);k='link[rel="'+s+'"][href="'+k+'"]',typeof f=="string"&&(k+='[crossorigin="'+f+'"]'),GR.has(k)||(GR.add(k),s={rel:s,crossOrigin:f,href:c},m.querySelector(k)===null&&(c=m.createElement("link"),Pr(c,"link",s),$n(c),m.head.appendChild(c)))}}function d7(s){bs.D(s),KR("dns-prefetch",s,null)}function p7(s,c){bs.C(s,c),KR("preconnect",s,c)}function f7(s,c,f){bs.L(s,c,f);var m=xd;if(m&&s&&c){var k='link[rel="preload"][as="'+yi(c)+'"]';c==="image"&&f&&f.imageSrcSet?(k+='[imagesrcset="'+yi(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(k+='[imagesizes="'+yi(f.imageSizes)+'"]')):k+='[href="'+yi(s)+'"]';var T=k;switch(c){case"style":T=kd(s);break;case"script":T=_d(s)}yo.has(T)||(s=h({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:s,as:c},f),yo.set(T,s),m.querySelector(k)!==null||c==="style"&&m.querySelector(zf(T))||c==="script"&&m.querySelector(Lf(T))||(c=m.createElement("link"),Pr(c,"link",s),$n(c),m.head.appendChild(c)))}}function h7(s,c){bs.m(s,c);var f=xd;if(f&&s){var m=c&&typeof c.as=="string"?c.as:"script",k='link[rel="modulepreload"][as="'+yi(m)+'"][href="'+yi(s)+'"]',T=k;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=_d(s)}if(!yo.has(T)&&(s=h({rel:"modulepreload",href:s},c),yo.set(T,s),f.querySelector(k)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Lf(T)))return}m=f.createElement("link"),Pr(m,"link",s),$n(m),f.head.appendChild(m)}}}function g7(s,c,f){bs.S(s,c,f);var m=xd;if(m&&s){var k=pa(m).hoistableStyles,T=kd(s);c=c||"default";var P=k.get(T);if(!P){var $={loading:0,preload:null};if(P=m.querySelector(zf(T)))$.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":c},f),(f=yo.get(T))&&z1(s,f);var Q=P=m.createElement("link");$n(Q),Pr(Q,"link",s),Q._p=new Promise(function(ue,be){Q.onload=ue,Q.onerror=be}),Q.addEventListener("load",function(){$.loading|=1}),Q.addEventListener("error",function(){$.loading|=2}),$.loading|=4,vy(P,c,m)}P={type:"stylesheet",instance:P,count:1,state:$},k.set(T,P)}}}function m7(s,c){bs.X(s,c);var f=xd;if(f&&s){var m=pa(f).hoistableScripts,k=_d(s),T=m.get(k);T||(T=f.querySelector(Lf(k)),T||(s=h({src:s,async:!0},c),(c=yo.get(k))&&L1(s,c),T=f.createElement("script"),$n(T),Pr(T,"link",s),f.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(k,T))}}function y7(s,c){bs.M(s,c);var f=xd;if(f&&s){var m=pa(f).hoistableScripts,k=_d(s),T=m.get(k);T||(T=f.querySelector(Lf(k)),T||(s=h({src:s,async:!0,type:"module"},c),(c=yo.get(k))&&L1(s,c),T=f.createElement("script"),$n(T),Pr(T,"link",s),f.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(k,T))}}function WR(s,c,f,m){var k=(k=we.current)?by(k):null;if(!k)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=kd(f.href),f=pa(k).hoistableStyles,m=f.get(c),m||(m={type:"style",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){s=kd(f.href);var T=pa(k).hoistableStyles,P=T.get(s);if(P||(k=k.ownerDocument||k,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(s,P),(T=k.querySelector(zf(s)))&&!T._p&&(P.instance=T,P.state.loading=5),yo.has(s)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},yo.set(s,f),T||b7(k,s,f,P.state))),c&&m===null)throw Error(r(528,""));return P}if(c&&m!==null)throw Error(r(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=_d(f),f=pa(k).hoistableScripts,m=f.get(c),m||(m={type:"script",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function kd(s){return'href="'+yi(s)+'"'}function zf(s){return'link[rel="stylesheet"]['+s+"]"}function YR(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function b7(s,c,f,m){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=s.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),Pr(c,"link",f),$n(c),s.head.appendChild(c))}function _d(s){return'[src="'+yi(s)+'"]'}function Lf(s){return"script[async]"+s}function JR(s,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var m=s.querySelector('style[data-href~="'+yi(f.href)+'"]');if(m)return c.instance=m,$n(m),m;var k=h({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),$n(m),Pr(m,"style",k),vy(m,f.precedence,s),c.instance=m;case"stylesheet":k=kd(f.href);var T=s.querySelector(zf(k));if(T)return c.state.loading|=4,c.instance=T,$n(T),T;m=YR(f),(k=yo.get(k))&&z1(m,k),T=(s.ownerDocument||s).createElement("link"),$n(T);var P=T;return P._p=new Promise(function($,Q){P.onload=$,P.onerror=Q}),Pr(T,"link",m),c.state.loading|=4,vy(T,f.precedence,s),c.instance=T;case"script":return T=_d(f.src),(k=s.querySelector(Lf(T)))?(c.instance=k,$n(k),k):(m=f,(k=yo.get(T))&&(m=h({},f),L1(m,k)),s=s.ownerDocument||s,k=s.createElement("script"),$n(k),Pr(k,"link",m),s.head.appendChild(k),c.instance=k);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,vy(m,f.precedence,s));return c.instance}function vy(s,c,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=m.length?m[m.length-1]:null,T=k,P=0;P<m.length;P++){var $=m[P];if($.dataset.precedence===c)T=$;else if(T!==k)break}T?T.parentNode.insertBefore(s,T.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(s,c.firstChild))}function z1(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function L1(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var wy=null;function XR(s,c,f){if(wy===null){var m=new Map,k=wy=new Map;k.set(f,m)}else k=wy,m=k.get(f),m||(m=new Map,k.set(f,m));if(m.has(s))return m;for(m.set(s,null),f=f.getElementsByTagName(s),k=0;k<f.length;k++){var T=f[k];if(!(T[ua]||T[qn]||s==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var P=T.getAttribute(c)||"";P=s+P;var $=m.get(P);$?$.push(T):m.set(P,[T])}}return m}function QR(s,c,f){s=s.ownerDocument||s,s.head.insertBefore(f,c==="title"?s.querySelector("head > title"):null)}function v7(s,c,f){if(f===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function ZR(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function w7(s,c,f,m){if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var k=kd(m.href),T=c.querySelector(zf(k));if(T){c=T._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=xy.bind(s),c.then(s,s)),f.state.loading|=4,f.instance=T,$n(T);return}T=c.ownerDocument||c,m=YR(m),(k=yo.get(k))&&z1(m,k),T=T.createElement("link"),$n(T);var P=T;P._p=new Promise(function($,Q){P.onload=$,P.onerror=Q}),Pr(T,"link",m),f.instance=T}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(s.count++,f=xy.bind(s),c.addEventListener("load",f),c.addEventListener("error",f))}}var j1=0;function x7(s,c){return s.stylesheets&&s.count===0&&_y(s,s.stylesheets),0<s.count||0<s.imgCount?function(f){var m=setTimeout(function(){if(s.stylesheets&&_y(s,s.stylesheets),s.unsuspend){var T=s.unsuspend;s.unsuspend=null,T()}},6e4+c);0<s.imgBytes&&j1===0&&(j1=62500*t7());var k=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&_y(s,s.stylesheets),s.unsuspend)){var T=s.unsuspend;s.unsuspend=null,T()}},(s.imgBytes>j1?50:800)+c);return s.unsuspend=f,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(k)}}:null}function xy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_y(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ky=null;function _y(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ky=new Map,c.forEach(k7,s),ky=null,xy.call(s))}function k7(s,c){if(!(c.state.loading&4)){var f=ky.get(s);if(f)var m=f.get(null);else{f=new Map,ky.set(s,f);for(var k=s.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<k.length;T++){var P=k[T];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(f.set(P.dataset.precedence,P),m=P)}m&&f.set(null,m)}k=c.instance,P=k.getAttribute("data-precedence"),T=f.get(P)||m,T===m&&f.set(null,k),f.set(P,k),this.count++,m=xy.bind(this),k.addEventListener("load",m),k.addEventListener("error",m),T?T.parentNode.insertBefore(k,T.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(k,s.firstChild)),c.state.loading|=4}}var jf={$$typeof:I,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function _7(s,c,f,m,k,T,P,$,Q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=On(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=On(0),this.hiddenUpdates=On(null),this.identifierPrefix=m,this.onUncaughtError=k,this.onCaughtError=T,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function eO(s,c,f,m,k,T,P,$,Q,ue,be,Te){return s=new _7(s,c,f,P,Q,ue,be,Te,$),c=1,T===!0&&(c|=24),T=qi(3,null,null,c),s.current=T,T.stateNode=s,c=yx(),c.refCount++,s.pooledCache=c,c.refCount++,T.memoizedState={element:m,isDehydrated:f,cache:c},xx(T),s}function tO(s){return s?(s=ed,s):ed}function nO(s,c,f,m,k,T){k=tO(k),m.context===null?m.context=k:m.pendingContext=k,m=ml(c),m.payload={element:f},T=T===void 0?null:T,T!==null&&(m.callback=T),f=yl(s,m,c),f!==null&&(_i(f,s,c),mf(f,s,c))}function rO(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<c?f:c}}function U1(s,c){rO(s,c),(s=s.alternate)&&rO(s,c)}function iO(s){if(s.tag===13||s.tag===31){var c=Mc(s,67108864);c!==null&&_i(c,s,67108864),U1(s,67108864)}}function oO(s){if(s.tag===13||s.tag===31){var c=Wi();c=ji(c);var f=Mc(s,c);f!==null&&_i(f,s,c),U1(s,c)}}var Ty=!0;function T7(s,c,f,m){var k=X.T;X.T=null;var T=J.p;try{J.p=2,V1(s,c,f,m)}finally{J.p=T,X.T=k}}function E7(s,c,f,m){var k=X.T;X.T=null;var T=J.p;try{J.p=8,V1(s,c,f,m)}finally{J.p=T,X.T=k}}function V1(s,c,f,m){if(Ty){var k=F1(m);if(k===null)S1(s,c,m,Ey,f),sO(s,m);else if(A7(k,s,c,f,m))m.stopPropagation();else if(sO(s,m),c&4&&-1<S7.indexOf(s)){for(;k!==null;){var T=oo(k);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var P=gn(T.pendingLanes);if(P!==0){var $=T;for($.pendingLanes|=2,$.entangledLanes|=2;P;){var Q=1<<31-pt(P);$.entanglements[1]|=Q,P&=~Q}Ea(T),(Mt&6)===0&&(sy=Ne()+500,Of(0))}}break;case 31:case 13:$=Mc(T,2),$!==null&&_i($,T,2),cy(),U1(T,2)}if(T=F1(m),T===null&&S1(s,c,m,Ey,f),T===k)break;k=T}k!==null&&m.stopPropagation()}else S1(s,c,m,null,f)}}function F1(s){return s=ao(s),B1(s)}var Ey=null;function B1(s){if(Ey=null,s=da(s),s!==null){var c=o(s);if(c===null)s=null;else{var f=c.tag;if(f===13){if(s=a(c),s!==null)return s;s=null}else if(f===31){if(s=l(c),s!==null)return s;s=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return Ey=s,null}function aO(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ee:return 2;case he:return 8;case De:case ze:return 32;case Me:return 268435456;default:return 32}default:return 32}}var q1=!1,Cl=null,Il=null,Nl=null,Uf=new Map,Vf=new Map,Rl=[],S7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sO(s,c){switch(s){case"focusin":case"focusout":Cl=null;break;case"dragenter":case"dragleave":Il=null;break;case"mouseover":case"mouseout":Nl=null;break;case"pointerover":case"pointerout":Uf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vf.delete(c.pointerId)}}function Ff(s,c,f,m,k,T){return s===null||s.nativeEvent!==T?(s={blockedOn:c,domEventName:f,eventSystemFlags:m,nativeEvent:T,targetContainers:[k]},c!==null&&(c=oo(c),c!==null&&iO(c)),s):(s.eventSystemFlags|=m,c=s.targetContainers,k!==null&&c.indexOf(k)===-1&&c.push(k),s)}function A7(s,c,f,m,k){switch(c){case"focusin":return Cl=Ff(Cl,s,c,f,m,k),!0;case"dragenter":return Il=Ff(Il,s,c,f,m,k),!0;case"mouseover":return Nl=Ff(Nl,s,c,f,m,k),!0;case"pointerover":var T=k.pointerId;return Uf.set(T,Ff(Uf.get(T)||null,s,c,f,m,k)),!0;case"gotpointercapture":return T=k.pointerId,Vf.set(T,Ff(Vf.get(T)||null,s,c,f,m,k)),!0}return!1}function lO(s){var c=da(s.target);if(c!==null){var f=o(c);if(f!==null){if(c=f.tag,c===13){if(c=a(f),c!==null){s.blockedOn=c,Cr(s.priority,function(){oO(f)});return}}else if(c===31){if(c=l(f),c!==null){s.blockedOn=c,Cr(s.priority,function(){oO(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Sy(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var f=F1(s.nativeEvent);if(f===null){f=s.nativeEvent;var m=new f.constructor(f.type,f);Zp=m,f.target.dispatchEvent(m),Zp=null}else return c=oo(f),c!==null&&iO(c),s.blockedOn=f,!1;c.shift()}return!0}function cO(s,c,f){Sy(s)&&f.delete(c)}function C7(){q1=!1,Cl!==null&&Sy(Cl)&&(Cl=null),Il!==null&&Sy(Il)&&(Il=null),Nl!==null&&Sy(Nl)&&(Nl=null),Uf.forEach(cO),Vf.forEach(cO)}function Ay(s,c){s.blockedOn===c&&(s.blockedOn=null,q1||(q1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,C7)))}var Cy=null;function uO(s){Cy!==s&&(Cy=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Cy===s&&(Cy=null);for(var c=0;c<s.length;c+=3){var f=s[c],m=s[c+1],k=s[c+2];if(typeof m!="function"){if(B1(m||f)===null)continue;break}var T=oo(f);T!==null&&(s.splice(c,3),c-=3,Fx(T,{pending:!0,data:k,method:f.method,action:m},m,k))}}))}function Td(s){function c(Q){return Ay(Q,s)}Cl!==null&&Ay(Cl,s),Il!==null&&Ay(Il,s),Nl!==null&&Ay(Nl,s),Uf.forEach(c),Vf.forEach(c);for(var f=0;f<Rl.length;f++){var m=Rl[f];m.blockedOn===s&&(m.blockedOn=null)}for(;0<Rl.length&&(f=Rl[0],f.blockedOn===null);)lO(f),f.blockedOn===null&&Rl.shift();if(f=(s.ownerDocument||s).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var k=f[m],T=f[m+1],P=k[mr]||null;if(typeof T=="function")P||uO(f);else if(P){var $=null;if(T&&T.hasAttribute("formAction")){if(k=T,P=T[mr]||null)$=P.formAction;else if(B1(k)!==null)continue}else $=P.action;typeof $=="function"?f[m+1]=$:(f.splice(m,3),m-=3),uO(f)}}}function dO(){function s(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(P){return k=P})},focusReset:"manual",scroll:"manual"})}function c(){k!==null&&(k(),k=null),m||setTimeout(f,20)}function f(){if(!m&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,k=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),k!==null&&(k(),k=null)}}}function $1(s){this._internalRoot=s}Iy.prototype.render=$1.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var f=c.current,m=Wi();nO(f,m,s,c,null,null)},Iy.prototype.unmount=$1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;nO(s.current,2,null,s,null,null),cy(),c[ca]=null}};function Iy(s){this._internalRoot=s}Iy.prototype.unstable_scheduleHydration=function(s){if(s){var c=Ui();s={blockedOn:null,target:s,priority:c};for(var f=0;f<Rl.length&&c!==0&&c<Rl[f].priority;f++);Rl.splice(f,0,s),f===0&&lO(s)}};var pO=e.version;if(pO!=="19.2.1")throw Error(r(527,pO,"19.2.1"));J.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(c),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var I7={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ny=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ny.isDisabled&&Ny.supportsFiber)try{Yt=Ny.inject(I7),Et=Ny}catch{}}return qf.createRoot=function(s,c){if(!i(s))throw Error(r(299));var f=!1,m="",k=v2,T=w2,P=x2;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(k=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),c=eO(s,1,!1,null,null,f,m,null,k,T,P,dO),s[ca]=c.current,E1(s),new $1(c)},qf.hydrateRoot=function(s,c,f){if(!i(s))throw Error(r(299));var m=!1,k="",T=v2,P=w2,$=x2,Q=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(k=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(P=f.onCaughtError),f.onRecoverableError!==void 0&&($=f.onRecoverableError),f.formState!==void 0&&(Q=f.formState)),c=eO(s,1,!0,c,f??null,m,k,Q,T,P,$,dO),c.context=tO(null),f=c.current,m=Wi(),m=ji(m),k=ml(m),k.callback=null,yl(f,k,m),f=m,c.current.lanes=f,mi(c,f),Ea(c),s[ca]=c.current,E1(s),new Iy(c)},qf.version="19.2.1",qf}var kO;function B7(){if(kO)return W1.exports;kO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),W1.exports=F7(),W1.exports}var q7=B7();const $7=Oo(q7),H7={renovation:["Fas 1: Akut","Fas 2: Mekanisk Skerhet","Fas 3: Kaross & Rost","Fas 4: Inredning & Finish"],conversion:["Fas 1: Planering & Inkp","Fas 2: Isolering & Grund","Fas 3: El & Vatten","Fas 4: Snickerier & Inredning","Fas 5: Finish & Piff"],maintenance:["Vrkoll","Ssong","Hst/Vinterfrvaring","Lpande"]};var Jn=(t=>(t.IDEA="IDEA",t.MAINTENANCE="MAINT",t.BUILD="BUILD",t.PURCHASE="BUY",t.ADMIN="ADMIN",t))(Jn||{}),xr=(t=>(t.P0_ACUTE="0. Akut & Skerhet",t.P1_ENGINE="1. Motorrddning",t.P2_RUST="2. Rost & Kaross",t.P3_FUTURE="3. Lpande Underhll",t))(xr||{}),zl=(t=>(t.B0_DEMO="0. Rivning & Frberedelse",t.B1_SHELL="1. Skal & Isolering",t.B2_SYSTEMS="2. System (El/Vatten)",t.B3_INTERIOR="3. Inredning",t.B4_FINISH="4. Finish & Piff",t))(zl||{}),tt=(t=>(t.IDEA="Id & Research",t.TODO="Att gra",t.IN_PROGRESS="Pgende",t.DONE="Klart",t.BLOCKED="Blockerad",t))(tt||{}),rn=(t=>(t.HIGH="Hg",t.MEDIUM="Medel",t.LOW="Lg",t))(rn||{}),En=(t=>(t.INVESTMENT="Investering",t.OPERATION="Drift",t))(En||{}),Wc=(t=>(t.RESEARCH="RESEARCH",t.DECIDED="DECIDED",t.BOUGHT="BOUGHT",t))(Wc||{});function S9(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=S9(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ft(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=S9(t))&&(r&&(r+=" "),r+=e);return r}var G7=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function AS(t){if(typeof t!="string")return!1;var e=G7;return e.includes(t)}var K7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],W7=new Set(K7);function A9(t){return typeof t!="string"?!1:W7.has(t)}function C9(t){return typeof t=="string"&&t.startsWith("data-")}function Xo(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(A9(n)||C9(n))&&(e[n]=t[n]);return e}function lg(t){if(t==null)return null;if(A.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Xo(e)}return typeof t=="object"&&!Array.isArray(t)?Xo(t):null}function di(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(A9(n)||C9(n)||AS(n))&&(e[n]=t[n]);return e}function Y7(t){return t==null?null:A.isValidElement(t)?di(t.props):typeof t=="object"&&!Array.isArray(t)?di(t):null}var J7=["children","width","height","viewBox","className","style","title","desc"];function kT(){return kT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kT.apply(null,arguments)}function X7(t,e){if(t==null)return{};var n,r,i=Q7(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Q7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var I9=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:l,title:u,desc:d}=t,p=X7(t,J7),h=o||{width:r,height:i,x:0,y:0},y=Ft("recharts-surface",a);return A.createElement("svg",kT({},di(p),{className:y,width:r,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),A.createElement("title",null,u),A.createElement("desc",null,d),n)}),Z7=["children","className"];function _T(){return _T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_T.apply(null,arguments)}function eK(t,e){if(t==null)return{};var n,r,i=tK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Io=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=eK(t,Z7),o=Ft("recharts-layer",r);return A.createElement("g",_T({className:o},di(i),{ref:e}),n)}),Kl=E9(),nK=A.createContext(null);function an(t){return function(){return t}}const N9=Math.cos,Rb=Math.sin,oa=Math.sqrt,Ob=Math.PI,dv=2*Ob,TT=Math.PI,ET=2*TT,Yc=1e-6,rK=ET-Yc;function R9(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function iK(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return R9;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class oK{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?R9:iK(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,l=this._y1,u=r-e,d=i-n,p=a-e,h=l-n,y=p*p+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Yc)if(!(Math.abs(h*u-d*p)>Yc)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-a,E=i-l,S=u*u+d*d,_=b*b+E*E,C=Math.sqrt(S),R=Math.sqrt(y),I=o*Math.tan((TT-Math.acos((S+y-_)/(2*C*R)))/2),O=I/R,U=I/C;Math.abs(O-1)>Yc&&this._append`L${e+O*p},${n+O*h}`,this._append`A${o},${o},0,0,${+(h*b>p*E)},${this._x1=e+U*u},${this._y1=n+U*d}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=e+l,p=n+u,h=1^a,y=a?i-o:o-i;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>Yc||Math.abs(this._y1-p)>Yc)&&this._append`L${d},${p}`,r&&(y<0&&(y=y%ET+ET),y>rK?this._append`A${r},${r},0,1,${h},${e-l},${n-u}A${r},${r},0,1,${h},${this._x1=d},${this._y1=p}`:y>Yc&&this._append`A${r},${r},0,${+(y>=TT)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function CS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new oK(e)}function IS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function O9(t){this._context=t}O9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function pv(t){return new O9(t)}function P9(t){return t[0]}function D9(t){return t[1]}function M9(t,e){var n=an(!0),r=null,i=pv,o=null,a=CS(l);t=typeof t=="function"?t:t===void 0?P9:an(t),e=typeof e=="function"?e:e===void 0?D9:an(e);function l(u){var d,p=(u=IS(u)).length,h,y=!1,b;for(r==null&&(o=i(b=a())),d=0;d<=p;++d)!(d<p&&n(h=u[d],d,u))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(h,d,u),+e(h,d,u));if(b)return o=null,b+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:an(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:an(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:an(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),l):r},l}function Ry(t,e,n){var r=null,i=an(!0),o=null,a=pv,l=null,u=CS(d);t=typeof t=="function"?t:t===void 0?P9:an(+t),e=typeof e=="function"?e:an(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?D9:an(+n);function d(h){var y,b,E,S=(h=IS(h)).length,_,C=!1,R,I=new Array(S),O=new Array(S);for(o==null&&(l=a(R=u())),y=0;y<=S;++y){if(!(y<S&&i(_=h[y],y,h))===C)if(C=!C)b=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),E=y-1;E>=b;--E)l.point(I[E],O[E]);l.lineEnd(),l.areaEnd()}C&&(I[y]=+t(_,y,h),O[y]=+e(_,y,h),l.point(r?+r(_,y,h):I[y],n?+n(_,y,h):O[y]))}if(R)return l=null,R+""||null}function p(){return M9().defined(i).curve(a).context(o)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:an(+h),r=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:an(+h),d):t},d.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:an(+h),d):r},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:an(+h),n=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:an(+h),d):e},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:an(+h),d):n},d.lineX0=d.lineY0=function(){return p().x(t).y(e)},d.lineY1=function(){return p().x(t).y(n)},d.lineX1=function(){return p().x(r).y(e)},d.defined=function(h){return arguments.length?(i=typeof h=="function"?h:an(!!h),d):i},d.curve=function(h){return arguments.length?(a=h,o!=null&&(l=a(o)),d):a},d.context=function(h){return arguments.length?(h==null?o=l=null:l=a(o=h),d):o},d}class z9{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function aK(t){return new z9(t,!0)}function sK(t){return new z9(t,!1)}const NS={draw(t,e){const n=oa(e/Ob);t.moveTo(n,0),t.arc(0,0,n,0,dv)}},lK={draw(t,e){const n=oa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},L9=oa(1/3),cK=L9*2,uK={draw(t,e){const n=oa(e/cK),r=n*L9;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},dK={draw(t,e){const n=oa(e),r=-n/2;t.rect(r,r,n,n)}},pK=.8908130915292852,j9=Rb(Ob/10)/Rb(7*Ob/10),fK=Rb(dv/10)*j9,hK=-N9(dv/10)*j9,gK={draw(t,e){const n=oa(e*pK),r=fK*n,i=hK*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=dv*o/5,l=N9(a),u=Rb(a);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},Q1=oa(3),mK={draw(t,e){const n=-oa(e/(Q1*3));t.moveTo(0,n*2),t.lineTo(-Q1*n,-n),t.lineTo(Q1*n,-n),t.closePath()}},bo=-.5,vo=oa(3)/2,ST=1/oa(12),yK=(ST/2+1)*3,bK={draw(t,e){const n=oa(e/yK),r=n/2,i=n*ST,o=r,a=n*ST+n,l=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(l,u),t.lineTo(bo*r-vo*i,vo*r+bo*i),t.lineTo(bo*o-vo*a,vo*o+bo*a),t.lineTo(bo*l-vo*u,vo*l+bo*u),t.lineTo(bo*r+vo*i,bo*i-vo*r),t.lineTo(bo*o+vo*a,bo*a-vo*o),t.lineTo(bo*l+vo*u,bo*u-vo*l),t.closePath()}};function vK(t,e){let n=null,r=CS(i);t=typeof t=="function"?t:an(t||NS),e=typeof e=="function"?e:an(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:an(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:an(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Pb(){}function Db(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function U9(t){this._context=t}U9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Db(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Db(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wK(t){return new U9(t)}function V9(t){this._context=t}V9.prototype={areaStart:Pb,areaEnd:Pb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Db(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xK(t){return new V9(t)}function F9(t){this._context=t}F9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Db(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kK(t){return new F9(t)}function B9(t){this._context=t}B9.prototype={areaStart:Pb,areaEnd:Pb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function _K(t){return new B9(t)}function _O(t){return t<0?-1:1}function TO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(o*i+a*r)/(r+i);return(_O(o)+_O(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(l))||0}function EO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Z1(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,l=(o-r)/3;t._context.bezierCurveTo(r+l,i+l*e,o-l,a-l*n,o,a)}function Mb(t){this._context=t}Mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Z1(this,this._t0,EO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Z1(this,EO(this,n=TO(this,t,e)),n);break;default:Z1(this,this._t0,n=TO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function q9(t){this._context=new $9(t)}(q9.prototype=Object.create(Mb.prototype)).point=function(t,e){Mb.prototype.point.call(this,e,t)};function $9(t){this._context=t}$9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function TK(t){return new Mb(t)}function EK(t){return new q9(t)}function H9(t){this._context=t}H9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=SO(t),i=SO(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function SO(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function SK(t){return new H9(t)}function fv(t,e){this._context=t,this._t=e}fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function AK(t){return new fv(t,.5)}function CK(t){return new fv(t,0)}function IK(t){return new fv(t,1)}function tp(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,l=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function AT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function NK(t,e){return t[e]}function RK(t){const e=[];return e.key=t,e}function OK(){var t=an([]),e=AT,n=tp,r=NK;function i(o){var a=Array.from(t.apply(this,arguments),RK),l,u=a.length,d=-1,p;for(const h of o)for(l=0,++d;l<u;++l)(a[l][d]=[0,+r(h,a[l].key,d,o)]).data=h;for(l=0,p=IS(e(a));l<u;++l)a[p[l]].index=l;return n(a,p),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:an(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:an(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?AT:typeof o=="function"?o:an(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??tp,i):n},i}function PK(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}tp(t,e)}}function DK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}tp(t,e)}}function MK(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var l=0,u=0,d=0;l<a;++l){for(var p=t[e[l]],h=p[r][1]||0,y=p[r-1][1]||0,b=(h-y)/2,E=0;E<l;++E){var S=t[e[E]],_=S[r][1]||0,C=S[r-1][1]||0;b+=_-C}u+=h,d+=b*h}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,tp(t,e)}}var ek={},tk={},AO;function zK(){return AO||(AO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(tk)),tk}var nk={},CO;function G9(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(nk)),nk}var rk={},IO;function RS(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(rk)),rk}var ik={},ok={},NO;function LK(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(ok)),ok}var RO;function OS(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LK(),n=RS();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],a=i.length;if(a===0)return o;let l=0,u="",d="",p=!1;for(i.charCodeAt(0)===46&&(o.push(""),l++);l<a;){const h=i[l];d?h==="\\"&&l+1<a?(l++,u+=i[l]):h===d?d="":u+=h:p?h==='"'||h==="'"?d=h:h==="]"?(p=!1,o.push(u),u=""):u+=h:h==="["?(p=!0,u&&(o.push(u),u="")):h==="."?u&&(o.push(u),u=""):u+=h,l++}return u&&o.push(u),o}t.toPath=r})(ik)),ik}var OO;function PS(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zK(),n=G9(),r=RS(),i=OS();function o(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return d;const p=l[u];return p===void 0?n.isDeepKey(u)?o(l,i.toPath(u),d):d:p}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const p=l[u];return p===void 0?d:p}default:{if(Array.isArray(u))return a(l,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return d;const p=l[u];return p===void 0?d:p}}}function a(l,u,d){if(u.length===0)return d;let p=l;for(let h=0;h<u.length;h++){if(p==null||e.isUnsafeProperty(u[h]))return d;p=p[u[h]]}return p===void 0?d:p}t.get=o})(ek)),ek}var ak,PO;function jK(){return PO||(PO=1,ak=PS().get),ak}var UK=jK();const np=Oo(UK);var Ni=t=>t===0?0:t>0?1:-1,Qo=t=>typeof t=="number"&&t!=+t,Ns=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ge=t=>(typeof t=="number"||t instanceof Number)&&!Qo(t),Ha=t=>Ge(t)||typeof t=="string",VK=0,Rh=t=>{var e=++VK;return"".concat(t||"").concat(e)},Zo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(e)&&typeof e!="string")return r;var o;if(Ns(e)){if(n==null)return r;var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Qo(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},K9=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Sn(t,e,n){return Ge(t)&&Ge(e)?t+n*(e-t):e}function W9(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):np(r,e))===n)}var xn=t=>t===null||typeof t>"u",cg=t=>xn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function FK(t){return t!=null}function ug(){}var BK=["type","size","sizeType"];function CT(){return CT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CT.apply(null,arguments)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){qK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qK(t,e,n){return(e=$K(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $K(t){var e=HK(t,"string");return typeof e=="symbol"?e:e+""}function HK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GK(t,e){if(t==null)return{};var n,r,i=KK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Y9={symbolCircle:NS,symbolCross:lK,symbolDiamond:uK,symbolSquare:dK,symbolStar:gK,symbolTriangle:mK,symbolWye:bK},WK=Math.PI/180,YK=t=>{var e="symbol".concat(cg(t));return Y9[e]||NS},JK=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*WK;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},XK=(t,e)=>{Y9["symbol".concat(cg(t))]=e},J9=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=GK(t,BK),o=MO(MO({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var l=()=>{var y=YK(a),b=vK().type(y).size(JK(n,r,a)),E=b();if(E!==null)return E},{className:u,cx:d,cy:p}=o,h=di(o);return Ge(d)&&Ge(p)&&Ge(n)?A.createElement("path",CT({},h,{className:Ft("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(p,")"),d:l()})):null};J9.registerSymbol=XK;var X9=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,DS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{AS(i)&&(r[i]=(o=>n[i](n,o)))}),r},QK=(t,e,n)=>r=>(t(e,n,r),null),MS=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];AS(i)&&typeof o=="function"&&(r||(r={}),r[i]=QK(o,e,n))}),r};function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){eW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eW(t,e,n){return(e=tW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tW(t){var e=nW(t,"string");return typeof e=="symbol"?e:e+""}function nW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fi(t,e){var n=ZK({},t),r=e,i=Object.keys(e),o=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return o}var sk={},lk={},LO;function rW(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],l=r(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(lk)),lk}var ck={},jO;function Q9(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(ck)),ck}var uk={},dk={},pk={},UO;function iW(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(pk)),pk}var VO;function zS(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iW();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(dk)),dk}var fk={},FO;function oW(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(fk)),fk}var BO;function aW(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zS(),n=oW();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(uk)),uk}var hk={},gk={},qO;function sW(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PS();function n(r){return function(i){return e.get(i,r)}}t.property=n})(gk)),gk}var mk={},yk={},bk={},vk={},$O;function Z9(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(vk)),vk}var wk={},HO;function e3(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(wk)),wk}var xk={},GO;function t3(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(xk)),xk}var KO;function lW(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z9(),n=e3(),r=t3();function i(p,h,y){return typeof y!="function"?i(p,h,()=>{}):o(p,h,function b(E,S,_,C,R,I){const O=y(E,S,_,C,R,I);return O!==void 0?!!O:o(E,S,b,I)},new Map)}function o(p,h,y,b){if(h===p)return!0;switch(typeof h){case"object":return a(p,h,y,b);case"function":return Object.keys(h).length>0?o(p,{...h},y,b):r.eq(p,h);default:return e.isObject(p)?typeof h=="string"?h==="":!0:r.eq(p,h)}}function a(p,h,y,b){if(h==null)return!0;if(Array.isArray(h))return u(p,h,y,b);if(h instanceof Map)return l(p,h,y,b);if(h instanceof Set)return d(p,h,y,b);const E=Object.keys(h);if(p==null)return E.length===0;if(E.length===0)return!0;if(b!=null&&b.has(h))return b.get(h)===p;b==null||b.set(h,p);try{for(let S=0;S<E.length;S++){const _=E[S];if(!n.isPrimitive(p)&&!(_ in p)||h[_]===void 0&&p[_]!==void 0||h[_]===null&&p[_]!==null||!y(p[_],h[_],_,p,h,b))return!1}return!0}finally{b==null||b.delete(h)}}function l(p,h,y,b){if(h.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,S]of h.entries()){const _=p.get(E);if(y(_,S,E,p,h,b)===!1)return!1}return!0}function u(p,h,y,b){if(h.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let S=0;S<h.length;S++){const _=h[S];let C=!1;for(let R=0;R<p.length;R++){if(E.has(R))continue;const I=p[R];let O=!1;if(y(I,_,S,p,h,b)&&(O=!0),O){E.add(R),C=!0;break}}if(!C)return!1}return!0}function d(p,h,y,b){return h.size===0?!0:p instanceof Set?u([...p],[...h],y,b):!1}t.isMatchWith=i,t.isSetMatch=d})(bk)),bk}var WO;function n3(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lW();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(yk)),yk}var kk={},_k={},Tk={},YO;function cW(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Tk)),Tk}var Ek={},JO;function r3(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Ek)),Ek}var Sk={},XO;function i3(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",p="[object Array]",h="[object Function]",y="[object ArrayBuffer]",b="[object Object]",E="[object Error]",S="[object DataView]",_="[object Uint8Array]",C="[object Uint8ClampedArray]",R="[object Uint16Array]",I="[object Uint32Array]",O="[object BigUint64Array]",U="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",L="[object BigInt64Array]",z="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=y,t.arrayTag=p,t.bigInt64ArrayTag=L,t.bigUint64ArrayTag=O,t.booleanTag=i,t.dataViewTag=S,t.dateTag=l,t.errorTag=E,t.float32ArrayTag=z,t.float64ArrayTag=B,t.functionTag=h,t.int16ArrayTag=M,t.int32ArrayTag=D,t.int8ArrayTag=U,t.mapTag=u,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=R,t.uint32ArrayTag=I,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=C})(Sk)),Sk}var Ak={},QO;function uW(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Ak)),Ak}var ZO;function o3(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cW(),n=r3(),r=i3(),i=e3(),o=uW();function a(p,h){return l(p,void 0,p,new Map,h)}function l(p,h,y,b=new Map,E=void 0){const S=E==null?void 0:E(p,h,y,b);if(S!==void 0)return S;if(i.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const _=new Array(p.length);b.set(p,_);for(let C=0;C<p.length;C++)_[C]=l(p[C],C,y,b,E);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;b.set(p,_);for(const[C,R]of p)_.set(C,l(R,C,y,b,E));return _}if(p instanceof Set){const _=new Set;b.set(p,_);for(const C of p)_.add(l(C,void 0,y,b,E));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,_);for(let C=0;C<p.length;C++)_[C]=l(p[C],C,y,b,E);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,_),u(_,p,y,b,E),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return b.set(p,_),u(_,p,y,b,E),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return b.set(p,_),u(_,p,y,b,E),_}if(p instanceof Error){const _=new p.constructor;return b.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,u(_,p,y,b,E),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return b.set(p,_),u(_,p,y,b,E),_}if(p instanceof Number){const _=new Number(p.valueOf());return b.set(p,_),u(_,p,y,b,E),_}if(p instanceof String){const _=new String(p.valueOf());return b.set(p,_),u(_,p,y,b,E),_}if(typeof p=="object"&&d(p)){const _=Object.create(Object.getPrototypeOf(p));return b.set(p,_),u(_,p,y,b,E),_}return p}function u(p,h,y=p,b,E){const S=[...Object.keys(h),...e.getSymbols(h)];for(let _=0;_<S.length;_++){const C=S[_],R=Object.getOwnPropertyDescriptor(p,C);(R==null||R.writable)&&(p[C]=l(h[C],C,y,b,E))}}function d(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=u})(_k)),_k}var eP;function dW(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o3();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(kk)),kk}var tP;function pW(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n3(),n=dW();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(mk)),mk}var Ck={},Ik={},Nk={},nP;function fW(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o3(),n=i3();function r(i,o){return e.cloneDeepWith(i,(a,l,u,d)=>{const p=o==null?void 0:o(a,l,u,d);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case n.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=r})(Nk)),Nk}var rP;function hW(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fW();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Ik)),Ik}var Rk={},Ok={},iP;function a3(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Ok)),Ok}var Pk={},oP;function gW(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r3();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Pk)),Pk}var aP;function mW(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G9(),n=a3(),r=gW(),i=OS();function o(a,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&(a==null?void 0:a[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=a;for(let p=0;p<u.length;p++){const h=u[p];if((d==null||!Object.hasOwn(d,h))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(h)&&h<d.length))return!1;d=d[h]}return!0}t.has=o})(Rk)),Rk}var sP;function yW(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n3(),n=RS(),r=hW(),i=PS(),o=mW();function a(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const p=i.get(d,l);return p===void 0?o.has(d,l):u===void 0?p===void 0:e.isMatch(p,u)}}t.matchesProperty=a})(Ck)),Ck}var lP;function bW(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q9(),n=sW(),r=pW(),i=yW();function o(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=o})(hk)),hk}var cP;function vW(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rW(),n=Q9(),r=aW(),i=bW();function o(a,l=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(l)):[]}t.uniqBy=o})(sk)),sk}var Dk,uP;function wW(){return uP||(uP=1,Dk=vW().uniqBy),Dk}var xW=wW();const dP=Oo(xW);function kW(t,e,n){return e===!0?dP(t,n):typeof e=="function"?dP(t,e):t}var Mk={exports:{}},zk={},Lk={exports:{}},jk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pP;function _W(){if(pP)return jk;pP=1;var t=kp();function e(h,y){return h===y&&(h!==0||1/h===1/y)||h!==h&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function l(h,y){var b=y(),E=r({inst:{value:b,getSnapshot:y}}),S=E[0].inst,_=E[1];return o(function(){S.value=b,S.getSnapshot=y,u(S)&&_({inst:S})},[h,b,y]),i(function(){return u(S)&&_({inst:S}),h(function(){u(S)&&_({inst:S})})},[h]),a(b),b}function u(h){var y=h.getSnapshot;h=h.value;try{var b=y();return!n(h,b)}catch{return!0}}function d(h,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return jk.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,jk}var fP;function TW(){return fP||(fP=1,Lk.exports=_W()),Lk.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP;function EW(){if(hP)return zk;hP=1;var t=kp(),e=TW();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return zk.useSyncExternalStoreWithSelector=function(d,p,h,y,b){var E=o(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=l(function(){function C(M){if(!R){if(R=!0,I=M,M=y(M),b!==void 0&&S.hasValue){var D=S.value;if(b(D,M))return O=D}return O=M}if(D=O,r(I,M))return D;var L=y(M);return b!==void 0&&b(D,L)?(I=M,D):(I=M,O=L)}var R=!1,I,O,U=h===void 0?null:h;return[function(){return C(p())},U===null?void 0:function(){return C(U())}]},[p,h,y,b]);var _=i(d,E[0],E[1]);return a(function(){S.hasValue=!0,S.value=_},[_]),u(_),_},zk}var gP;function SW(){return gP||(gP=1,Mk.exports=EW()),Mk.exports}var AW=SW(),LS=A.createContext(null),CW=t=>t,Fn=()=>{var t=A.useContext(LS);return t?t.store.dispatch:CW},pb=()=>{},IW=()=>pb,NW=(t,e)=>t===e;function Ke(t){var e=A.useContext(LS);return AW.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:IW,e?e.store.getState:pb,e?e.store.getState:pb,e?t:pb,NW)}function RW(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function OW(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function PW(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var mP=t=>Array.isArray(t)?t:[t];function DW(t){const e=Array.isArray(t[0])?t[0]:t;return PW(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function MW(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var zW=class{constructor(t){this.value=t}deref(){return this.value}},LW=typeof WeakRef<"u"?WeakRef:zW,jW=0,yP=1;function Oy(){return{s:jW,v:void 0,o:null,p:null}}function s3(t,e={}){let n=Oy();const{resultEqualityCheck:r}=e;let i,o=0;function a(){var h;let l=n;const{length:u}=arguments;for(let y=0,b=u;y<b;y++){const E=arguments[y];if(typeof E=="function"||typeof E=="object"&&E!==null){let S=l.o;S===null&&(l.o=S=new WeakMap);const _=S.get(E);_===void 0?(l=Oy(),S.set(E,l)):l=_}else{let S=l.p;S===null&&(l.p=S=new Map);const _=S.get(E);_===void 0?(l=Oy(),S.set(E,l)):l=_}}const d=l;let p;if(l.s===yP)p=l.v;else if(p=t.apply(null,arguments),o++,r){const y=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;y!=null&&r(y,p)&&(p=y,o!==0&&o--),i=typeof p=="object"&&p!==null||typeof p=="function"?new LW(p):p}return d.s=yP,d.v=p,p}return a.clearCache=()=>{n=Oy(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function UW(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,a=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),RW(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const p={...n,...u},{memoize:h,memoizeOptions:y=[],argsMemoize:b=s3,argsMemoizeOptions:E=[]}=p,S=mP(y),_=mP(E),C=DW(i),R=h(function(){return o++,d.apply(null,arguments)},...S),I=b(function(){a++;const U=MW(C,arguments);return l=R.apply(null,U),l},..._);return Object.assign(I,{resultFunc:d,memoizedResultFunc:R,dependencies:C,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:h,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var me=UW(s3),VW=Object.assign((t,e=me)=>{OW(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,l,u)=>(a[n[u]]=l,a),{}))},{withTypes:()=>VW}),Uk={},Vk={},Fk={},bP;function FW(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=e(r),l=e(i);if(a===l&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?l-a:a-l}return 0};t.compareValues=n})(Fk)),Fk}var Bk={},qk={},vP;function l3(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(qk)),qk}var wP;function BW(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}t.isKey=i})(Bk)),Bk}var xP;function qW(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FW(),n=BW(),r=OS();function i(o,a,l,u){if(o==null)return[];l=u?void 0:l,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(b=>String(b));const d=(b,E)=>{let S=b;for(let _=0;_<E.length&&S!=null;++_)S=S[E[_]];return S},p=(b,E)=>E==null||b==null?E:typeof b=="object"&&"key"in b?Object.hasOwn(E,b.key)?E[b.key]:d(E,b.path):typeof b=="function"?b(E):Array.isArray(b)?d(E,b):typeof E=="object"?E[b]:E,h=a.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return o.map(b=>({original:b,criteria:h.map(E=>p(E,b))})).slice().sort((b,E)=>{for(let S=0;S<h.length;S++){const _=e.compareValues(b.criteria[S],E.criteria[S],l[S]);if(_!==0)return _}return 0}).map(b=>b.original)}t.orderBy=i})(Vk)),Vk}var $k={},kP;function $W(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),a=(l,u)=>{for(let d=0;d<l.length;d++){const p=l[d];Array.isArray(p)&&u<o?a(p,u+1):i.push(p)}};return a(n,0),i}t.flatten=e})($k)),$k}var Hk={},_P;function c3(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a3(),n=zS(),r=Z9(),i=t3();function o(a,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],a):!1}t.isIterateeCall=o})(Hk)),Hk}var TP;function HW(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qW(),n=$W(),r=c3();function i(o,...a){const l=a.length;return l>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(o,n.flatten(a),["asc"])}t.sortBy=i})(Uk)),Uk}var Gk,EP;function GW(){return EP||(EP=1,Gk=HW().sortBy),Gk}var KW=GW();const hv=Oo(KW);var u3=t=>t.legend.settings,WW=t=>t.legend.size,YW=t=>t.legend.payload;me([YW,u3],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?hv(r,n):r});var Py=1;function JW(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-e.height)>Py||Math.abs(a.left-e.left)>Py||Math.abs(a.top-e.top)>Py||Math.abs(a.width-e.width)>Py)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Mr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var XW=typeof Symbol=="function"&&Symbol.observable||"@@observable",SP=XW,Kk=()=>Math.random().toString(36).substring(7).split("").join("."),QW={INIT:`@@redux/INIT${Kk()}`,REPLACE:`@@redux/REPLACE${Kk()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kk()}`},zb=QW;function jS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function d3(t,e,n){if(typeof t!="function")throw new Error(Mr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Mr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Mr(1));return n(d3)(t,e)}let r=t,i=e,o=new Map,a=o,l=0,u=!1;function d(){a===o&&(a=new Map,o.forEach((_,C)=>{a.set(C,_)}))}function p(){if(u)throw new Error(Mr(3));return i}function h(_){if(typeof _!="function")throw new Error(Mr(4));if(u)throw new Error(Mr(5));let C=!0;d();const R=l++;return a.set(R,_),function(){if(C){if(u)throw new Error(Mr(6));C=!1,d(),a.delete(R),o=null}}}function y(_){if(!jS(_))throw new Error(Mr(7));if(typeof _.type>"u")throw new Error(Mr(8));if(typeof _.type!="string")throw new Error(Mr(17));if(u)throw new Error(Mr(9));try{u=!0,i=r(i,_)}finally{u=!1}return(o=a).forEach(R=>{R()}),_}function b(_){if(typeof _!="function")throw new Error(Mr(10));r=_,y({type:zb.REPLACE})}function E(){const _=h;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Mr(11));function R(){const O=C;O.next&&O.next(p())}return R(),{unsubscribe:_(R)}},[SP](){return this}}}return y({type:zb.INIT}),{dispatch:y,subscribe:h,getState:p,replaceReducer:b,[SP]:E}}function ZW(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:zb.INIT})>"u")throw new Error(Mr(12));if(typeof n(void 0,{type:zb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mr(13))})}function p3(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{ZW(n)}catch(o){i=o}return function(a={},l){if(i)throw i;let u=!1;const d={};for(let p=0;p<r.length;p++){const h=r[p],y=n[h],b=a[h],E=y(b,l);if(typeof E>"u")throw l&&l.type,new Error(Mr(14));d[h]=E,u=u||E!==b}return u=u||r.length!==Object.keys(a).length,u?d:a}}function Lb(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function eY(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Mr(15))};const a={getState:i.getState,dispatch:(u,...d)=>o(u,...d)},l=t.map(u=>u(a));return o=Lb(...l)(i.dispatch),{...i,dispatch:o}}}function f3(t){return jS(t)&&"type"in t&&typeof t.type=="string"}var h3=Symbol.for("immer-nothing"),AP=Symbol.for("immer-draftable"),pi=Symbol.for("immer-state");function Ho(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Qi=Object,rp=Qi.getPrototypeOf,jb="constructor",gv="prototype",IT="configurable",Ub="enumerable",fb="writable",Oh="value",Rs=t=>!!t&&!!t[pi];function ea(t){var e;return t?g3(t)||mv(t)||!!t[AP]||!!((e=t[jb])!=null&&e[AP])||yv(t)||bv(t):!1}var tY=Qi[gv][jb].toString(),CP=new WeakMap;function g3(t){if(!t||!US(t))return!1;const e=rp(t);if(e===null||e===Qi[gv])return!0;const n=Qi.hasOwnProperty.call(e,jb)&&e[jb];if(n===Object)return!0;if(!Od(n))return!1;let r=CP.get(n);return r===void 0&&(r=Function.toString.call(n),CP.set(n,r)),r===tY}function dg(t,e,n=!0){pg(t)===0?(n?Reflect.ownKeys(t):Qi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function pg(t){const e=t[pi];return e?e.type_:mv(t)?1:yv(t)?2:bv(t)?3:0}var IP=(t,e,n=pg(t))=>n===2?t.has(e):Qi[gv].hasOwnProperty.call(t,e),NT=(t,e,n=pg(t))=>n===2?t.get(e):t[e],Vb=(t,e,n,r=pg(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function nY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var mv=Array.isArray,yv=t=>t instanceof Map,bv=t=>t instanceof Set,US=t=>typeof t=="object",Od=t=>typeof t=="function",Wk=t=>typeof t=="boolean",vs=t=>t.copy_||t.base_,VS=t=>t.modified_?t.copy_:t.base_;function RT(t,e){if(yv(t))return new Map(t);if(bv(t))return new Set(t);if(mv(t))return Array[gv].slice.call(t);const n=g3(t);if(e===!0||e==="class_only"&&!n){const r=Qi.getOwnPropertyDescriptors(t);delete r[pi];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],l=r[a];l[fb]===!1&&(l[fb]=!0,l[IT]=!0),(l.get||l.set)&&(r[a]={[IT]:!0,[fb]:!0,[Ub]:l[Ub],[Oh]:t[a]})}return Qi.create(rp(t),r)}else{const r=rp(t);if(r!==null&&n)return{...t};const i=Qi.create(r);return Qi.assign(i,t)}}function FS(t,e=!1){return vv(t)||Rs(t)||!ea(t)||(pg(t)>1&&Qi.defineProperties(t,{set:Dy,add:Dy,clear:Dy,delete:Dy}),Qi.freeze(t),e&&dg(t,(n,r)=>{FS(r,!0)},!1)),t}function rY(){Ho(2)}var Dy={[Oh]:rY};function vv(t){return t===null||!US(t)?!0:Qi.isFrozen(t)}var Fb="MapSet",OT="Patches",m3={};function ip(t){const e=m3[t];return e||Ho(0,t),e}var iY=t=>!!m3[t],Ph,y3=()=>Ph,oY=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:iY(Fb)?ip(Fb):void 0});function NP(t,e){e&&(t.patchPlugin_=ip(OT),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function PT(t){DT(t),t.drafts_.forEach(aY),t.drafts_=null}function DT(t){t===Ph&&(Ph=t.parent_)}var RP=t=>Ph=oY(Ph,t);function aY(t){const e=t[pi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function OP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[pi].modified_&&(PT(e),Ho(4)),ea(t)&&(t=PP(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[pi].base_,t,e)}else t=PP(e,n);return sY(e,t,!0),PT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==h3?t:void 0}function PP(t,e){if(vv(e))return e;const n=e[pi];if(!n)return BS(e,t.handledSet_,t);if(!wv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);w3(n,t)}return n.copy_}function sY(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&FS(e,n)}function b3(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var wv=(t,e)=>t.scope_===e,lY=[];function v3(t,e,n,r){const i=vs(t),o=t.type_;if(r!==void 0&&NT(i,r,o)===e){Vb(i,r,n,o);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;dg(i,(u,d)=>{if(Rs(d)){const p=l.get(d)||[];p.push(u),l.set(d,p)}})}const a=t.draftLocations_.get(e)??lY;for(const l of a)Vb(i,l,n,o)}function cY(t,e,n){t.callbacks_.push(function(i){var l;const o=e;if(!o||!wv(o,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(o);const a=VS(o);v3(t,o.draft_??o,a,n),w3(o,i)})}function w3(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const o=i.getPath(t);o&&i.generatePatches_(t,o,e)}b3(t)}}function uY(t,e,n){const{scope_:r}=t;if(Rs(n)){const i=n[pi];wv(i,r)&&i.callbacks_.push(function(){hb(t);const a=VS(i);v3(t,n,a,e)})}else ea(n)&&t.callbacks_.push(function(){const o=vs(t);NT(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&BS(NT(t.copy_,e,t.type_),r.handledSet_,r)})}function BS(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Rs(t)||e.has(t)||!ea(t)||vv(t)||(e.add(t),dg(t,(r,i)=>{if(Rs(i)){const o=i[pi];if(wv(o,n)){const a=VS(o);Vb(t,r,a,t.type_),b3(o)}}else ea(i)&&BS(i,e,n)})),t}function dY(t,e){const n=mv(t),r={type_:n?1:0,scope_:e?e.scope_:y3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=qS;n&&(i=[r],o=Dh);const{revoke:a,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=a,[l,r]}var qS={get(t,e){if(e===pi)return t;const n=vs(t);if(!IP(n,e,t.type_))return pY(t,n,e);const r=n[e];if(t.finalized_||!ea(r))return r;if(r===Yk(t.base_,e)){hb(t);const i=t.type_===1?+e:e,o=zT(t.scope_,r,t,i);return t.copy_[i]=o}return r},has(t,e){return e in vs(t)},ownKeys(t){return Reflect.ownKeys(vs(t))},set(t,e,n){const r=x3(vs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Yk(vs(t),e),o=i==null?void 0:i[pi];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(nY(n,i)&&(n!==void 0||IP(t.base_,e,t.type_)))return!0;hb(t),MT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),uY(t,e,n)),!0},deleteProperty(t,e){return hb(t),Yk(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),MT(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=vs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[fb]:!0,[IT]:t.type_!==1||e!=="length",[Ub]:r[Ub],[Oh]:n[e]}},defineProperty(){Ho(11)},getPrototypeOf(t){return rp(t.base_)},setPrototypeOf(){Ho(12)}},Dh={};dg(qS,(t,e)=>{Dh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Dh.deleteProperty=function(t,e){return Dh.set.call(this,t,e,void 0)};Dh.set=function(t,e,n){return qS.set.call(this,t[0],e,n,t[0])};function Yk(t,e){const n=t[pi];return(n?vs(n):t)[e]}function pY(t,e,n){var i;const r=x3(e,n);return r?Oh in r?r[Oh]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function x3(t,e){if(!(e in t))return;let n=rp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=rp(n)}}function MT(t){t.modified_||(t.modified_=!0,t.parent_&&MT(t.parent_))}function hb(t){t.copy_||(t.assigned_=new Map,t.copy_=RT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var fY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Od(n)&&!Od(r)){const a=r;r=n;const l=this;return function(d=a,...p){return l.produce(d,h=>r.call(this,h,...p))}}Od(r)||Ho(6),i!==void 0&&!Od(i)&&Ho(7);let o;if(ea(n)){const a=RP(this),l=zT(a,n,void 0);let u=!0;try{o=r(l),u=!1}finally{u?PT(a):DT(a)}return NP(a,i),OP(o,a)}else if(!n||!US(n)){if(o=r(n),o===void 0&&(o=n),o===h3&&(o=void 0),this.autoFreeze_&&FS(o,!0),i){const a=[],l=[];ip(OT).generateReplacementPatches_(n,o,{patches_:a,inversePatches_:l}),i(a,l)}return o}else Ho(1,n)},this.produceWithPatches=(n,r)=>{if(Od(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,o;return[this.produce(n,r,(l,u)=>{i=l,o=u}),i,o]},Wk(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Wk(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Wk(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ea(e)||Ho(8),Rs(e)&&(e=Jo(e));const n=RP(this),r=zT(n,e,void 0);return r[pi].isManual_=!0,DT(n),r}finishDraft(e,n){const r=e&&e[pi];(!r||!r.isManual_)&&Ho(9);const{scope_:i}=r;return NP(i,n),OP(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=ip(OT).applyPatches_;return Rs(e)?i(e,n):this.produce(e,o=>i(o,n))}};function zT(t,e,n,r){const[i,o]=yv(e)?ip(Fb).proxyMap_(e,n):bv(e)?ip(Fb).proxySet_(e,n):dY(e,n);return((n==null?void 0:n.scope_)??y3()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?cY(n,o,r):o.callbacks_.push(function(u){var p;(p=u.mapSetPlugin_)==null||p.fixSetContents(o);const{patchPlugin_:d}=u;o.modified_&&d&&d.generatePatches_(o,[],u)}),i}function Jo(t){return Rs(t)||Ho(10,t),k3(t)}function k3(t){if(!ea(t)||vv(t))return t;const e=t[pi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=RT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=RT(t,!0);return dg(n,(i,o)=>{Vb(n,i,k3(o))},r),e&&(e.finalized_=!1),n}var hY=new fY,_3=hY.produce;function T3(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var gY=T3(),mY=T3,yY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lb:Lb.apply(null,arguments)};function No(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(no(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>f3(r)&&r.type===t,n}var E3=class ah extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ah.prototype)}static get[Symbol.species](){return ah}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ah(...e[0].concat(this)):new ah(...e.concat(this))}};function DP(t){return ea(t)?_3(t,()=>{}):t}function My(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function bY(t){return typeof t=="boolean"}var vY=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new E3;return n&&(bY(n)?a.push(gY):a.push(mY(n.extraArgument))),a},S3="RTK_autoBatch",vn=()=>t=>({payload:t,meta:{[S3]:!0}}),MP=t=>e=>{setTimeout(e,t)},A3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,a=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:MP(10):t.type==="callback"?t.queueNotification:MP(t.timeout),d=()=>{a=!1,o&&(o=!1,l.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const h=()=>i&&p(),y=r.subscribe(h);return l.add(p),()=>{y(),l.delete(p)}},dispatch(p){var h;try{return i=!((h=p==null?void 0:p.meta)!=null&&h[S3]),o=!i,o&&(a||(a=!0,u(d))),r.dispatch(p)}finally{i=!0}}})},wY=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new E3(t);return r&&i.push(A3(typeof r=="object"?r:void 0)),i};function xY(t){const e=vY(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(jS(n))l=p3(n);else throw new Error(no(1));let u;typeof r=="function"?u=r(e):u=e();let d=Lb;i&&(d=yY({trace:!1,...typeof i=="object"&&i}));const p=eY(...u),h=wY(p);let y=typeof a=="function"?a(h):h();const b=d(...y);return d3(l,o,b)}function C3(t){const e={},n=[];let r;const i={addCase(o,a){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(no(28));if(l in e)throw new Error(no(29));return e[l]=a,i},addAsyncThunk(o,a){return a.pending&&(e[o.pending.type]=a.pending),a.rejected&&(e[o.rejected.type]=a.rejected),a.fulfilled&&(e[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function kY(t){return typeof t=="function"}function _Y(t,e){let[n,r,i]=C3(e),o;if(kY(t))o=()=>DP(t());else{const l=DP(t);o=()=>l}function a(l=o(),u){let d=[n[u.type],...r.filter(({matcher:p})=>p(u)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[i]),d.reduce((p,h)=>{if(h)if(Rs(p)){const b=h(p,u);return b===void 0?p:b}else{if(ea(p))return _3(p,y=>h(y,u));{const y=h(p,u);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},l)}return a.getInitialState=o,a}var TY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",EY=(t=21)=>{let e="",n=t;for(;n--;)e+=TY[Math.random()*64|0];return e},SY=Symbol.for("rtk-slice-createasyncthunk");function AY(t,e){return`${t}/${e}`}function CY({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[SY];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(no(11));const l=(typeof i.reducers=="function"?i.reducers(NY()):i.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(O,U){const M=typeof O=="string"?O:O.type;if(!M)throw new Error(no(12));if(M in d.sliceCaseReducersByType)throw new Error(no(13));return d.sliceCaseReducersByType[M]=U,p},addMatcher(O,U){return d.sliceMatchers.push({matcher:O,reducer:U}),p},exposeAction(O,U){return d.actionCreators[O]=U,p},exposeCaseReducer(O,U){return d.sliceCaseReducersByName[O]=U,p}};u.forEach(O=>{const U=l[O],M={reducerName:O,type:AY(o,O),createNotation:typeof i.reducers=="function"};OY(U)?DY(M,U,p,e):RY(M,U,p)});function h(){const[O={},U=[],M=void 0]=typeof i.extraReducers=="function"?C3(i.extraReducers):[i.extraReducers],D={...O,...d.sliceCaseReducersByType};return _Y(i.initialState,L=>{for(let z in D)L.addCase(z,D[z]);for(let z of d.sliceMatchers)L.addMatcher(z.matcher,z.reducer);for(let z of U)L.addMatcher(z.matcher,z.reducer);M&&L.addDefaultCase(M)})}const y=O=>O,b=new Map,E=new WeakMap;let S;function _(O,U){return S||(S=h()),S(O,U)}function C(){return S||(S=h()),S.getInitialState()}function R(O,U=!1){function M(L){let z=L[O];return typeof z>"u"&&U&&(z=My(E,M,C)),z}function D(L=y){const z=My(b,U,()=>new WeakMap);return My(z,L,()=>{const B={};for(const[V,q]of Object.entries(i.selectors??{}))B[V]=IY(q,L,()=>My(E,L,C),U);return B})}return{reducerPath:O,getSelectors:D,get selectors(){return D(M)},selectSlice:M}}const I={name:o,reducer:_,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...R(a),injectInto(O,{reducerPath:U,...M}={}){const D=U??a;return O.inject({reducerPath:D,reducer:_},M),{...I,...R(D,!0)}}};return I}}function IY(t,e,n,r){function i(o,...a){let l=e(o);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var Mi=CY();function NY(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function RY({type:t,reducerName:e,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!PY(r))throw new Error(no(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?No(t,a):No(t))}function OY(t){return t._reducerDefinitionType==="asyncThunk"}function PY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function DY({type:t,reducerName:e},n,r,i){if(!i)throw new Error(no(18));const{payloadCreator:o,fulfilled:a,pending:l,rejected:u,settled:d,options:p}=n,h=i(t,o,p);r.exposeAction(e,h),a&&r.addCase(h.fulfilled,a),l&&r.addCase(h.pending,l),u&&r.addCase(h.rejected,u),d&&r.addMatcher(h.settled,d),r.exposeCaseReducer(e,{fulfilled:a||zy,pending:l||zy,rejected:u||zy,settled:d||zy})}function zy(){}var MY="task",I3="listener",N3="completed",$S="cancelled",zY=`task-${$S}`,LY=`task-${N3}`,LT=`${I3}-${$S}`,jY=`${I3}-${N3}`,xv=class{constructor(t){H1(this,"name","TaskAbortError");H1(this,"message");this.code=t,this.message=`${MY} ${$S} (reason: ${t})`}},HS=(t,e)=>{if(typeof t!="function")throw new TypeError(no(32))},Bb=()=>{},R3=(t,e=Bb)=>(t.catch(e),t),O3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),su=t=>{if(t.aborted)throw new xv(t.reason)};function P3(t,e){let n=Bb;return new Promise((r,i)=>{const o=()=>i(new xv(t.reason));if(t.aborted){o();return}n=O3(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Bb})}var UY=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof xv?"cancelled":"rejected",error:n}}finally{e==null||e()}},qb=t=>e=>R3(P3(t,e).then(n=>(su(t),n))),D3=t=>{const e=qb(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Bd}=Object,zP={},kv="listenerMiddleware",VY=(t,e)=>{const n=r=>O3(t,()=>r.abort(t.reason));return(r,i)=>{HS(r);const o=new AbortController;n(o);const a=UY(async()=>{su(t),su(o.signal);const l=await r({pause:qb(o.signal),delay:D3(o.signal),signal:o.signal});return su(o.signal),l},()=>o.abort(LY));return i!=null&&i.autoJoin&&e.push(a.catch(Bb)),{result:qb(t)(a),cancel(){o.abort(zY)}}}},FY=(t,e)=>{const n=async(r,i)=>{su(e);let o=()=>{};const l=[new Promise((u,d)=>{let p=t({predicate:r,effect:(h,y)=>{y.unsubscribe(),u([h,y.getState(),y.getOriginalState()])}});o=()=>{p(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await P3(e,Promise.race(l));return su(e),u}finally{o()}};return(r,i)=>R3(n(r,i))},M3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=No(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(no(21));return HS(o),{predicate:i,type:e,effect:o}},z3=Bd(t=>{const{type:e,predicate:n,effect:r}=M3(t);return{id:EY(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(no(22))}}},{withTypes:()=>z3}),LP=(t,e)=>{const{type:n,effect:r,predicate:i}=M3(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},jT=t=>{t.pending.forEach(e=>{e.abort(LT)})},BY=(t,e)=>()=>{for(const n of e.keys())jT(n);t.clear()},jP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},L3=Bd(No(`${kv}/add`),{withTypes:()=>L3}),qY=No(`${kv}/removeAll`),j3=Bd(No(`${kv}/remove`),{withTypes:()=>j3}),$Y=(...t)=>{console.error(`${kv}/error`,...t)},fg=(t={})=>{const e=new Map,n=new Map,r=b=>{const E=n.get(b)??0;n.set(b,E+1)},i=b=>{const E=n.get(b)??1;E===1?n.delete(b):n.set(b,E-1)},{extra:o,onError:a=$Y}=t;HS(a);const l=b=>(b.unsubscribe=()=>e.delete(b.id),e.set(b.id,b),E=>{b.unsubscribe(),E!=null&&E.cancelActive&&jT(b)}),u=b=>{const E=LP(e,b)??z3(b);return l(E)};Bd(u,{withTypes:()=>u});const d=b=>{const E=LP(e,b);return E&&(E.unsubscribe(),b.cancelActive&&jT(E)),!!E};Bd(d,{withTypes:()=>d});const p=async(b,E,S,_)=>{const C=new AbortController,R=FY(u,C.signal),I=[];try{b.pending.add(C),r(b),await Promise.resolve(b.effect(E,Bd({},S,{getOriginalState:_,condition:(O,U)=>R(O,U).then(Boolean),take:R,delay:D3(C.signal),pause:qb(C.signal),extra:o,signal:C.signal,fork:VY(C.signal,I),unsubscribe:b.unsubscribe,subscribe:()=>{e.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((O,U,M)=>{O!==C&&(O.abort(LT),M.delete(O))})},cancel:()=>{C.abort(LT),b.pending.delete(C)},throwIfCancelled:()=>{su(C.signal)}})))}catch(O){O instanceof xv||jP(a,O,{raisedBy:"effect"})}finally{await Promise.all(I),C.abort(jY),i(b),b.pending.delete(C)}},h=BY(e,n);return{middleware:b=>E=>S=>{if(!f3(S))return E(S);if(L3.match(S))return u(S.payload);if(qY.match(S)){h();return}if(j3.match(S))return d(S.payload);let _=b.getState();const C=()=>{if(_===zP)throw new Error(no(23));return _};let R;try{if(R=E(S),e.size>0){const I=b.getState(),O=Array.from(e.values());for(const U of O){let M=!1;try{M=U.predicate(S,I,_)}catch(D){M=!1,jP(a,D,{raisedBy:"predicate"})}M&&p(U,S,b,C)}}}finally{_=zP}return R},startListening:u,stopListening:d,clearListeners:h}};function no(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var HY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},U3=Mi({name:"chartLayout",initialState:HY,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:GY,setLayout:KY,setChartSize:WY,setScale:YY}=U3.actions,JY=U3.reducer;function V3(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){XY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XY(t,e,n){return(e=QY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QY(t){var e=ZY(t,"string");return typeof e=="symbol"?e:e+""}function ZY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sr(t,e,n){return xn(t)||xn(e)?n:Ha(e)?np(t,e,n):typeof e=="function"?e(t):n}var eJ=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&o!=="center"&&Ge(t[o]))return Ld(Ld({},t),{},{[o]:t[o]+(r||0)});if((l==="horizontal"||l==="vertical"&&o==="center")&&a!=="middle"&&Ge(t[a]))return Ld(Ld({},t),{},{[a]:t[a]+(i||0)})}return t},hc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",F3=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,o,a=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate));return i||a.push(e),o||a.push(n),a},B3=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:a,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:p,ticks:h,niceTicks:y,axisType:b}=t;if(!a)return null;var E=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,S=i==="category"&&a.bandwidth?a.bandwidth()/E:0;if(S=b==="angleAxis"&&o&&o.length>=2?Ni(o[0]-o[1])*2*S:S,h||y){var _=(h||y||[]).map((C,R)=>{var I=r?r.indexOf(C):C;return{coordinate:a(I)+S,value:C,offset:S,index:R}});return _.filter(C=>!Qo(C.coordinate))}return u&&d?d.map((C,R)=>({coordinate:a(C)+S,value:C,index:R,offset:S})):a.ticks&&p!=null?a.ticks(p).map((C,R)=>({coordinate:a(C)+S,value:C,offset:S,index:R})):a.domain().map((C,R)=>({coordinate:a(C)+S,value:r?r[C]:C,index:R,offset:S}))},VP=1e-4,tJ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-VP,o=Math.max(r[0],r[1])+VP,a=t(e[0]),l=t(e[n-1]);(a<i||a>o||l<i||l>o)&&t.domain([e[0],e[n-1]])}},nJ=(t,e)=>{if(!e||e.length!==2||!Ge(e[0])||!Ge(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ge(t[0])||t[0]<n)&&(i[0]=n),(!Ge(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},rJ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,a=0;a<e;++a){var l=Qo(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=o,t[a][n][1]=o+l,o=t[a][n][1])}},iJ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var a=Qo(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=i,t[o][n][1]=i+a,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},oJ={sign:rJ,expand:PK,none:tp,silhouette:DK,wiggle:MK,positive:iJ},aJ=(t,e,n)=>{var r=oJ[n],i=OK().keys(e).value((o,a)=>Number(sr(o,a,0))).order(AT).offset(r);return i(t)};function sJ(t){return t==null?void 0:String(t)}function FP(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!xn(i[e.dataKey])){var l=W9(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var u=sr(i,xn(a)?e.dataKey:a);return xn(u)?null:e.scale(u)}var BP=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var l=sr(o,e.dataKey,e.scale.domain()[a]);return xn(l)?null:e.scale(l)-i/2+r},lJ=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},cJ=t=>{var e=t.flat(2).filter(Ge);return[Math.min(...e),Math.max(...e)]},uJ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],dJ=(t,e,n)=>{if(t!=null)return uJ(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:a}=o,l=a.reduce((u,d)=>{var p=V3(d,e,n),h=cJ(p);return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},qP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$P=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,op=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=hv(e,p=>p.coordinate),o=1/0,a=1,l=i.length;a<l;a++){var u=i[a],d=i[a-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function HP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Ld(Ld({},e),{},{dataKey:n,payload:r,value:i,name:o})}function _v(t,e){if(t)return String(t);if(typeof e=="string")return e}var pJ=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},fJ=(t,e)=>e==="centric"?t.angle:t.radius,$s=t=>t.layout.width,Hs=t=>t.layout.height,hJ=t=>t.layout.scale,q3=t=>t.layout.margin,Tv=me(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Ev=me(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),gJ="data-recharts-item-index",mJ="data-recharts-item-data-key",hg=60;function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){yJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yJ(t,e,n){return(e=bJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJ(t){var e=vJ(t,"string");return typeof e=="symbol"?e:e+""}function vJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wJ=t=>t.brush.height;function xJ(t){var e=Ev(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:hg;return n+i}return n},0)}function kJ(t){var e=Ev(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:hg;return n+i}return n},0)}function _J(t){var e=Tv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function TJ(t){var e=Tv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Sr=me([$s,Hs,q3,wJ,xJ,kJ,_J,TJ,u3,WW],(t,e,n,r,i,o,a,l,u,d)=>{var p={left:(n.left||0)+i,right:(n.right||0)+o},h={top:(n.top||0)+a,bottom:(n.bottom||0)+l},y=Ly(Ly({},h),p),b=y.bottom;y.bottom+=r,y=eJ(y,u,d);var E=t-y.left-y.right,S=e-y.top-y.bottom;return Ly(Ly({brushBottom:b},y),{},{width:Math.max(E,0),height:Math.max(S,0)})}),EJ=me(Sr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),GS=me($s,Hs,(t,e)=>({x:0,y:0,width:t,height:e})),SJ=A.createContext(null),Qr=()=>A.useContext(SJ)!=null,Sv=t=>t.brush,Av=me([Sv,Sr,q3],(t,e,n)=>({height:t.height,x:Ge(t.x)?t.x:e.left,y:Ge(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ge(t.width)?t.width:e.width})),Jk={},Xk={},Qk={},KP;function AJ(){return KP||(KP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let a,l=null;const u=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),p=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},h=()=>{d&&p(),S()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,h()},r)},E=()=>{y!==null&&(clearTimeout(y),y=null)},S=()=>{E(),a=void 0,l=null},_=()=>{p()},C=function(...R){if(i!=null&&i.aborted)return;a=this,l=R;const I=y==null;b(),u&&I&&p()};return C.schedule=b,C.cancel=S,C.flush=_,i==null||i.addEventListener("abort",S,{once:!0}),C}t.debounce=e})(Qk)),Qk}var WP;function CJ(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AJ();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:l=!0,maxWait:u}=o,d=Array(2);a&&(d[0]="leading"),l&&(d[1]="trailing");let p,h=null;const y=e.debounce(function(...S){p=r.apply(this,S),h=null},i,{edges:d}),b=function(...S){return u!=null&&(h===null&&(h=Date.now()),Date.now()-h>=u)?(p=r.apply(this,S),h=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,S),p)},E=()=>(y.flush(),p);return b.cancel=y.cancel,b.flush=E,b}t.debounce=n})(Xk)),Xk}var YP;function IJ(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CJ();function n(r,i=0,o={}){const{leading:a=!0,trailing:l=!0}=o;return e.debounce(r,i,{leading:a,maxWait:i,trailing:l})}t.throttle=n})(Jk)),Jk}var Zk,JP;function NJ(){return JP||(JP=1,Zk=IJ().throttle),Zk}var RJ=NJ();const OJ=Oo(RJ);var $b=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},$3=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:a}=n,l=Ns(r)?t:Number(r),u=Ns(i)?e:Number(i);return o&&o>0&&(l?u=l/o:u&&(l=u*o),a&&u!=null&&u>a&&(u=a)),{calculatedWidth:l,calculatedHeight:u}},PJ={width:0,height:0,overflow:"visible"},DJ={width:0,overflowX:"visible"},MJ={height:0,overflowY:"visible"},zJ={},LJ=t=>{var{width:e,height:n}=t,r=Ns(e),i=Ns(n);return r&&i?PJ:r?DJ:i?MJ:zJ};function jJ(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function Vn(t){return Number.isFinite(t)}function Ga(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function UT(){return UT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UT.apply(null,arguments)}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){UJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UJ(t,e,n){return(e=VJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VJ(t){var e=FJ(t,"string");return typeof e=="symbol"?e:e+""}function FJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H3=A.createContext({width:-1,height:-1});function BJ(t){return Ga(t.width)&&Ga(t.height)}function G3(t){var{children:e,width:n,height:r}=t,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return BJ(i)?A.createElement(H3.Provider,{value:i},e):null}var KS=()=>A.useContext(H3),qJ=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:a=0,minHeight:l,maxHeight:u,children:d,debounce:p=0,id:h,className:y,onResize:b,style:E={}}=t,S=A.useRef(null),_=A.useRef();_.current=b,A.useImperativeHandle(e,()=>S.current);var[C,R]=A.useState({containerWidth:r.width,containerHeight:r.height}),I=A.useCallback((L,z)=>{R(B=>{var V=Math.round(L),q=Math.round(z);return B.containerWidth===V&&B.containerHeight===q?B:{containerWidth:V,containerHeight:q}})},[]);A.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return ug;var L=q=>{var F,{width:oe,height:Z}=q[0].contentRect;I(oe,Z),(F=_.current)===null||F===void 0||F.call(_,oe,Z)};p>0&&(L=OJ(L,p,{trailing:!0,leading:!1}));var z=new ResizeObserver(L),{width:B,height:V}=S.current.getBoundingClientRect();return I(B,V),z.observe(S.current),()=>{z.disconnect()}},[I,p]);var{containerWidth:O,containerHeight:U}=C;$b(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:D}=$3(O,U,{width:i,height:o,aspect:n,maxHeight:u});return $b(M!=null&&M>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,D,i,o,a,l,n),A.createElement("div",{id:h?"".concat(h):void 0,className:Ft("recharts-responsive-container",y),style:QP(QP({},E),{},{width:i,height:o,minWidth:a,minHeight:l,maxHeight:u}),ref:S},A.createElement("div",{style:LJ({width:i,height:o})},A.createElement(G3,{width:M,height:D},d)))}),K3=A.forwardRef((t,e)=>{var n=KS();if(Ga(n.width)&&Ga(n.height))return t.children;var{width:r,height:i}=jJ({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:a}=$3(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ge(o)&&Ge(a)?A.createElement(G3,{width:o,height:a},t.children):A.createElement(qJ,UT({},t,{width:r,height:i,ref:e}))});function W3(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Cv=()=>{var t,e=Qr(),n=Ke(EJ),r=Ke(Av),i=(t=Ke(Sv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},$J={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Y3=()=>{var t;return(t=Ke(Sr))!==null&&t!==void 0?t:$J},J3=()=>Ke($s),X3=()=>Ke(Hs),jt=t=>t.layout.layoutType,gg=()=>Ke(jt),HJ=()=>{var t=gg();return t!==void 0},Iv=t=>{var e=Fn(),n=Qr(),{width:r,height:i}=t,o=KS(),a=r,l=i;return o&&(a=o.width>0?o.width:r,l=o.height>0?o.height:i),A.useEffect(()=>{!n&&Ga(a)&&Ga(l)&&e(WY({width:a,height:l}))},[e,n,a,l]),null},Q3=Symbol.for("immer-nothing"),ZP=Symbol.for("immer-draftable"),ro=Symbol.for("immer-state");function Go(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mh=Object.getPrototypeOf;function ap(t){return!!t&&!!t[ro]}function fu(t){var e;return t?Z3(t)||Array.isArray(t)||!!t[ZP]||!!((e=t.constructor)!=null&&e[ZP])||mg(t)||Rv(t):!1}var GJ=Object.prototype.constructor.toString(),eD=new WeakMap;function Z3(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=eD.get(n);return r===void 0&&(r=Function.toString.call(n),eD.set(n,r)),r===GJ}function Hb(t,e,n=!0){Nv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Nv(t){const e=t[ro];return e?e.type_:Array.isArray(t)?1:mg(t)?2:Rv(t)?3:0}function VT(t,e){return Nv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function e6(t,e,n){const r=Nv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function KJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function mg(t){return t instanceof Map}function Rv(t){return t instanceof Set}function Jc(t){return t.copy_||t.base_}function FT(t,e){if(mg(t))return new Map(t);if(Rv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Z3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ro];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(Mh(t),r)}else{const r=Mh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function WS(t,e=!1){return Ov(t)||ap(t)||!fu(t)||(Nv(t)>1&&Object.defineProperties(t,{set:jy,add:jy,clear:jy,delete:jy}),Object.freeze(t),e&&Object.values(t).forEach(n=>WS(n,!0))),t}function WJ(){Go(2)}var jy={value:WJ};function Ov(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var YJ={};function hu(t){const e=YJ[t];return e||Go(0,t),e}var zh;function t6(){return zh}function JJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tD(t,e){e&&(hu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function BT(t){qT(t),t.drafts_.forEach(XJ),t.drafts_=null}function qT(t){t===zh&&(zh=t.parent_)}function nD(t){return zh=JJ(zh,t)}function XJ(t){const e=t[ro];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function rD(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ro].modified_&&(BT(e),Go(4)),fu(t)&&(t=Gb(e,t),e.parent_||Kb(e,t)),e.patches_&&hu("Patches").generateReplacementPatches_(n[ro].base_,t,e.patches_,e.inversePatches_)):t=Gb(e,n,[]),BT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Q3?t:void 0}function Gb(t,e,n){if(Ov(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[ro];if(!i)return Hb(e,(o,a)=>iD(t,i,e,o,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Kb(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let a=o,l=!1;i.type_===3&&(a=new Set(o),o.clear(),l=!0),Hb(a,(u,d)=>iD(t,i,o,u,d,n,l),r),Kb(t,o,!1),n&&t.patches_&&hu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function iD(t,e,n,r,i,o,a){if(i==null||typeof i!="object"&&!a)return;const l=Ov(i);if(!(l&&!a)){if(ap(i)){const u=o&&e&&e.type_!==3&&!VT(e.assigned_,r)?o.concat(r):void 0,d=Gb(t,i,u);if(e6(n,r,d),ap(d))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(fu(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;Gb(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(mg(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Kb(t,i)}}}function Kb(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&WS(e,n)}function QJ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:t6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=YS;n&&(i=[r],o=Lh);const{revoke:a,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=a,l}var YS={get(t,e){if(e===ro)return t;const n=Jc(t);if(!VT(n,e))return ZJ(t,n,e);const r=n[e];return t.finalized_||!fu(r)?r:r===e_(t.base_,e)?(t_(t),t.copy_[e]=HT(r,t)):r},has(t,e){return e in Jc(t)},ownKeys(t){return Reflect.ownKeys(Jc(t))},set(t,e,n){const r=n6(Jc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=e_(Jc(t),e),o=i==null?void 0:i[ro];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(KJ(n,i)&&(n!==void 0||VT(t.base_,e)))return!0;t_(t),$T(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return e_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,t_(t),$T(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Jc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Go(11)},getPrototypeOf(t){return Mh(t.base_)},setPrototypeOf(){Go(12)}},Lh={};Hb(YS,(t,e)=>{Lh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Lh.deleteProperty=function(t,e){return Lh.set.call(this,t,e,void 0)};Lh.set=function(t,e,n){return YS.set.call(this,t[0],e,n,t[0])};function e_(t,e){const n=t[ro];return(n?Jc(n):t)[e]}function ZJ(t,e,n){var i;const r=n6(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function n6(t,e){if(!(e in t))return;let n=Mh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Mh(n)}}function $T(t){t.modified_||(t.modified_=!0,t.parent_&&$T(t.parent_))}function t_(t){t.copy_||(t.copy_=FT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var eX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(u=o,...d){return a.produce(u,p=>n.call(this,p,...d))}}typeof n!="function"&&Go(6),r!==void 0&&typeof r!="function"&&Go(7);let i;if(fu(e)){const o=nD(this),a=HT(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?BT(o):qT(o)}return tD(o,r),rD(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Q3&&(i=void 0),this.autoFreeze_&&WS(i,!0),r){const o=[],a=[];hu("Patches").generateReplacementPatches_(e,i,o,a),r(o,a)}return i}else Go(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,u=>e(u,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){fu(t)||Go(8),ap(t)&&(t=tX(t));const e=nD(this),n=HT(t,void 0);return n[ro].isManual_=!0,qT(e),n}finishDraft(t,e){const n=t&&t[ro];(!n||!n.isManual_)&&Go(9);const{scope_:r}=n;return tD(r,e),rD(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=hu("Patches").applyPatches_;return ap(t)?r(t,e):this.produce(t,i=>r(i,e))}};function HT(t,e){const n=mg(t)?hu("MapSet").proxyMap_(t,e):Rv(t)?hu("MapSet").proxySet_(t,e):QJ(t,e);return(e?e.scope_:t6()).drafts_.push(n),n}function tX(t){return ap(t)||Go(10,t),r6(t)}function r6(t){if(!fu(t)||Ov(t))return t;const e=t[ro];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=FT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=FT(t,!0);return Hb(n,(i,o)=>{e6(n,i,r6(o))},r),e&&(e.finalized_=!1),n}var nX=new eX;nX.produce;var rX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},i6=Mi({name:"legend",initialState:rX,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:vn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Jo(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:vn()},removeLegendPayload:{reducer(t,e){var n=Jo(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:vn()}}}),{setLegendSize:Yze,setLegendSettings:Jze,addLegendPayload:iX,replaceLegendPayload:oX,removeLegendPayload:aX}=i6.actions,sX=i6.reducer;function GT(){return GT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GT.apply(null,arguments)}function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){lX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lX(t,e,n){return(e=cX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cX(t){var e=uX(t,"string");return typeof e=="symbol"?e:e+""}function uX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dX(t){return Array.isArray(t)&&Ha(t[0])&&Ha(t[1])?t.join(" ~ "):t}var pX=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:a,itemSorter:l,wrapperClassName:u,labelClassName:d,label:p,labelFormatter:h,accessibilityLayer:y=!1}=t,b=()=>{if(o&&o.length){var U={padding:0,margin:0},M=(l?hv(o,l):o).map((D,L)=>{if(D.type==="none")return null;var z=D.formatter||a||dX,{value:B,name:V}=D,q=B,F=V;if(z){var oe=z(B,V,D,L,o);if(Array.isArray(oe))[q,F]=oe;else if(oe!=null)q=oe;else return null}var Z=n_({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:Z},Ha(F)?A.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Ha(F)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},q),A.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:U},M)}return null},E=n_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=n_({margin:0},i),_=!xn(p),C=_?p:"",R=Ft("recharts-default-tooltip",u),I=Ft("recharts-tooltip-label",d);_&&h&&o!==void 0&&o!==null&&(C=h(p,o));var O=y?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",GT({className:R,style:E},O),A.createElement("p",{className:I,style:S},A.isValidElement(C)?C:"".concat(C)),b())},$f="recharts-tooltip-wrapper",fX={visibility:"hidden"};function hX(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ft($f,{["".concat($f,"-right")]:Ge(n)&&e&&Ge(e.x)&&n>=e.x,["".concat($f,"-left")]:Ge(n)&&e&&Ge(e.x)&&n<e.x,["".concat($f,"-bottom")]:Ge(r)&&e&&Ge(e.y)&&r>=e.y,["".concat($f,"-top")]:Ge(r)&&e&&Ge(e.y)&&r<e.y})}function aD(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=t;if(o&&Ge(o[r]))return o[r];var p=n[r]-l-(i>0?i:0),h=n[r]+i;if(e[r])return a[r]?p:h;var y=u[r];if(y==null)return 0;if(a[r]){var b=p,E=y;return b<E?Math.max(h,y):Math.max(p,y)}if(d==null)return 0;var S=h+l,_=y+d;return S>_?Math.max(p,y):Math.max(h,y)}function gX(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function mX(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:a,useTranslate3d:l,viewBox:u}=t,d,p,h;return a.height>0&&a.width>0&&n?(p=aD({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),h=aD({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),d=gX({translateX:p,translateY:h,useTranslate3d:l})):d=fX,{cssProperties:d,cssClasses:hX({translateX:p,translateY:h,coordinate:n})}}function sD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(n),!0).forEach(function(r){KT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KT(t,e,n){return(e=yX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yX(t){var e=bX(t,"string");return typeof e=="symbol"?e:e+""}function bX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vX extends A.PureComponent{constructor(){super(...arguments),KT(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),KT(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:l,isAnimationActive:u,offset:d,position:p,reverseDirection:h,useTranslate3d:y,viewBox:b,wrapperStyle:E,lastBoundingBox:S,innerRef:_,hasPortalFromProps:C}=this.props,{cssClasses:R,cssProperties:I}=mX({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:d,position:p,reverseDirection:h,tooltipBox:{height:S.height,width:S.width},useTranslate3d:y,viewBox:b}),O=C?{}:Uy(Uy({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),U=Uy(Uy({},O),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},E);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:U,ref:_},o)}}var o6=()=>{var t;return(t=Ke(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function WT(){return WT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WT.apply(null,arguments)}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){wX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wX(t,e,n){return(e=xX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xX(t){var e=kX(t,"string");return typeof e=="symbol"?e:e+""}function kX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uD={curveBasisClosed:xK,curveBasisOpen:kK,curveBasis:wK,curveBumpX:aK,curveBumpY:sK,curveLinearClosed:_K,curveLinear:pv,curveMonotoneX:TK,curveMonotoneY:EK,curveNatural:SK,curveStep:AK,curveStepAfter:IK,curveStepBefore:CK},Wb=t=>Vn(t.x)&&Vn(t.y),dD=t=>t.base!=null&&Wb(t.base)&&Wb(t),Hf=t=>t.x,Gf=t=>t.y,_X=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(cg(t));return(n==="curveMonotone"||n==="curveBump")&&e?uD["".concat(n).concat(e==="vertical"?"Y":"X")]:uD[n]||pv},TX=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,a=_X(e,i),l=o?n.filter(Wb):n,u;if(Array.isArray(r)){var d=n.map((b,E)=>cD(cD({},b),{},{base:r[E]}));i==="vertical"?u=Ry().y(Gf).x1(Hf).x0(b=>b.base.x):u=Ry().x(Hf).y1(Gf).y0(b=>b.base.y);var p=u.defined(dD).curve(a),h=o?d.filter(dD):d;return p(h)}i==="vertical"&&Ge(r)?u=Ry().y(Gf).x1(Hf).x0(r):Ge(r)?u=Ry().x(Hf).y1(Gf).y0(r):u=M9().x(Hf).y(Gf);var y=u.defined(Wb).curve(a);return y(l)},a6=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?TX(t):r;return A.createElement("path",WT({},Xo(t),DS(t),{className:Ft("recharts-curve",e),d:o===null?void 0:o,ref:i}))},EX=["x","y","top","left","width","height","className"];function YT(){return YT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YT.apply(null,arguments)}function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){AX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AX(t,e,n){return(e=CX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CX(t){var e=IX(t,"string");return typeof e=="symbol"?e:e+""}function IX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NX(t,e){if(t==null)return{};var n,r,i=RX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function RX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var OX=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),PX=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:l}=t,u=NX(t,EX),d=SX({x:e,y:n,top:r,left:i,width:o,height:a},u);return!Ge(e)||!Ge(n)||!Ge(o)||!Ge(a)||!Ge(r)||!Ge(i)?null:A.createElement("path",YT({},di(d),{className:Ft("recharts-cross",l),d:OX(e,n,o,a,r,i)}))};function DX(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){MX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MX(t,e,n){return(e=zX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zX(t){var e=LX(t,"string");return typeof e=="symbol"?e:e+""}function LX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jX=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),s6=(t,e,n)=>t.map(r=>"".concat(jX(r)," ").concat(e,"ms ").concat(n)).join(","),UX=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),jh=(t,e)=>Object.keys(e).reduce((n,r)=>hD(hD({},n),{},{[r]:t(r,e[r])}),{});function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){VX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VX(t,e,n){return(e=FX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FX(t){var e=BX(t,"string");return typeof e=="symbol"?e:e+""}function BX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yb=(t,e,n)=>t+(e-t)*n,JT=t=>{var{from:e,to:n}=t;return e!==n},l6=(t,e,n)=>{var r=jh((i,o)=>{if(JT(o)){var[a,l]=t(o.from,o.to,o.velocity);return or(or({},o),{},{from:a,velocity:l})}return o},e);return n<1?jh((i,o)=>JT(o)?or(or({},o),{},{velocity:Yb(o.velocity,r[i].velocity,n),from:Yb(o.from,r[i].from,n)}):o,e):l6(t,r,n-1)};function qX(t,e,n,r,i,o){var a,l=r.reduce((y,b)=>or(or({},y),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),u=()=>jh((y,b)=>b.from,l),d=()=>!Object.values(l).filter(JT).length,p=null,h=y=>{a||(a=y);var b=y-a,E=b/n.dt;l=l6(n,l,E),i(or(or(or({},t),e),u())),a=y,d()||(p=o.setTimeout(h))};return()=>(p=o.setTimeout(h),()=>{var y;(y=p)===null||y===void 0||y()})}function $X(t,e,n,r,i,o,a){var l=null,u=i.reduce((h,y)=>or(or({},h),{},{[y]:[t[y],e[y]]}),{}),d,p=h=>{d||(d=h);var y=(h-d)/r,b=jh((S,_)=>Yb(..._,n(y)),u);if(o(or(or(or({},t),e),b)),y<1)l=a.setTimeout(p);else{var E=jh((S,_)=>Yb(..._,n(1)),u);o(or(or(or({},t),e),E))}};return()=>(l=a.setTimeout(p),()=>{var h;(h=l)===null||h===void 0||h()})}const HX=(t,e,n,r,i,o)=>{var a=UX(t,e);return n==null?()=>(i(or(or({},t),e)),()=>{}):n.isStepper===!0?qX(t,e,n,a,i,o):$X(t,e,n,r,a,i,o)};var Jb=1e-4,c6=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],u6=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),mD=(t,e)=>n=>{var r=c6(t,e);return u6(r,n)},GX=(t,e)=>n=>{var r=c6(t,e),i=[...r.map((o,a)=>o*a).slice(1),0];return u6(i,n)},KX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var a=o[1].split(")")[0].split(",").map(l=>parseFloat(l));return[a[0],a[1],a[2],a[3]]}}}return n.length===4?n:[0,0,1,1]},WX=(t,e,n,r)=>{var i=mD(t,n),o=mD(e,r),a=GX(t,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var p=d>1?1:d,h=p,y=0;y<8;++y){var b=i(h)-p,E=a(h);if(Math.abs(b-p)<Jb||E<Jb)return o(h);h=l(h-b/E)}return o(h)};return u.isStepper=!1,u},yD=function(){return WX(...KX(...arguments))},YX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(a,l,u)=>{var d=-(a-l)*n,p=u*r,h=u+(d-p)*i/1e3,y=u*i/1e3+a;return Math.abs(y-l)<Jb&&Math.abs(h)<Jb?[l,0]:[y,h]};return o.isStepper=!0,o.dt=i,o},JX=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yD(t);case"spring":return YX();default:if(t.split("(")[0]==="cubic-bezier")return yD(t)}return typeof t=="function"?t:null};function XX(t){var e,n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[u,...d]=l;if(typeof u=="number"){i=t.setTimeout(o.bind(null,d),u);return}o(u),i=t.setTimeout(o.bind(null,d));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class QX{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function ZX(){return XX(new QX)}var eQ=A.createContext(ZX);function tQ(t,e){var n=A.useContext(eQ);return A.useMemo(()=>e??n(t),[t,e,n])}var nQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),yg={devToolsEnabled:!1,isSsr:nQ()},rQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},bD={t:0},r_={t:1};function Pv(t){var e=fi(t,rQ),{isActive:n,canBegin:r,duration:i,easing:o,begin:a,onAnimationEnd:l,onAnimationStart:u,children:d}=e,p=n==="auto"?!yg.isSsr:n,h=tQ(e.animationId,e.animationManager),[y,b]=A.useState(p?bD:r_),E=A.useRef(null);return A.useEffect(()=>{p||b(r_)},[p]),A.useEffect(()=>{if(!p||!r)return ug;var S=HX(bD,r_,JX(o),i,b,h.getTimeoutController()),_=()=>{E.current=S()};return h.start([u,a,_,i,l]),()=>{h.stop(),E.current&&E.current(),l()}},[p,r,i,o,a,u,l,h]),d(y.t)}function Dv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(Rh(e)),r=A.useRef(t);return r.current!==t&&(n.current=Rh(e),r.current=t),n.current}var iQ=["radius"],oQ=["radius"];function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){aQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aQ(t,e,n){return(e=sQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sQ(t){var e=lQ(t,"string");return typeof e=="symbol"?e:e+""}function lQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xb.apply(null,arguments)}function xD(t,e){if(t==null)return{};var n,r,i=cQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kD=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],h=0,y=4;h<y;h++)p[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(e+a*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(t+l*p[0],",").concat(e)),d+="L ".concat(t+n-l*p[1],",").concat(e),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+a*p[1])),d+="L ".concat(t+n,",").concat(e+r-a*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(t+n-l*p[2],",").concat(e+r)),d+="L ".concat(t+l*p[3],",").concat(e+r),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-a*p[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);d="M ".concat(t,",").concat(e+a*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+l*b,",").concat(e,`
            L `).concat(t+n-l*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n,",").concat(e+a*b,`
            L `).concat(t+n,",").concat(e+r-a*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n-l*b,",").concat(e+r,`
            L `).concat(t+l*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t,",").concat(e+r-a*b," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},_D={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},d6=t=>{var e=fi(t,_D),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:o,y:a,width:l,height:u,radius:d,className:p}=e,{animationEasing:h,animationDuration:y,animationBegin:b,isAnimationActive:E,isUpdateAnimationActive:S}=e,_=A.useRef(l),C=A.useRef(u),R=A.useRef(o),I=A.useRef(a),O=A.useMemo(()=>({x:o,y:a,width:l,height:u,radius:d}),[o,a,l,u,d]),U=Dv(O,"rectangle-");if(o!==+o||a!==+a||l!==+l||u!==+u||l===0||u===0)return null;var M=Ft("recharts-rectangle",p);if(!S){var D=di(e),{radius:L}=D,z=xD(D,iQ);return A.createElement("path",Xb({},z,{radius:typeof d=="number"?d:void 0,className:M,d:kD(o,a,l,u,d)}))}var B=_.current,V=C.current,q=R.current,F=I.current,oe="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),X=s6(["strokeDasharray"],y,typeof h=="string"?h:_D.animationEasing);return A.createElement(Pv,{animationId:U,key:U,canBegin:r>0,duration:y,easing:h,isActive:S,begin:b},J=>{var ie=Sn(B,l,J),te=Sn(V,u,J),G=Sn(q,o,J),W=Sn(F,a,J);n.current&&(_.current=ie,C.current=te,R.current=G,I.current=W);var Y;E?J>0?Y={transition:X,strokeDasharray:Z}:Y={strokeDasharray:oe}:Y={strokeDasharray:Z};var H=di(e),{radius:fe}=H,Se=xD(H,oQ);return A.createElement("path",Xb({},Se,{radius:typeof d=="number"?d:void 0,className:M,d:kD(G,W,ie,te,d),ref:n,style:wD(wD({},Y),e.style)}))})};function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ED(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){uQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uQ(t,e,n){return(e=dQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dQ(t){var e=pQ(t,"string");return typeof e=="symbol"?e:e+""}function pQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qb=Math.PI/180,fQ=t=>t*180/Math.PI,jr=(t,e,n,r)=>({x:t+Math.cos(-Qb*r)*n,y:e+Math.sin(-Qb*r)*n}),hQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},gQ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},mQ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,a=gQ({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,u=Math.acos(l);return r>o&&(u=2*Math.PI-u),{radius:a,angle:fQ(u),angleInRadian:u}},yQ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},bQ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return t+a*360},vQ=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=mQ({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:u,endAngle:d}=yQ(e),p=o,h;if(u<=d){for(;p>d;)p-=360;for(;p<u;)p+=360;h=p>=u&&p<=d}else{for(;p>u;)p-=360;for(;p<d;)p+=360;h=p>=d&&p<=u}return h?ED(ED({},e),{},{radius:i,angle:bQ(p,e)}):null};function p6(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,a=jr(e,n,r,i),l=jr(e,n,r,o);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function XT(){return XT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XT.apply(null,arguments)}var wQ=(t,e)=>{var n=Ni(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Vy=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:l,cornerIsExternal:u}=t,d=l*(a?1:-1)+r,p=Math.asin(l/d)/Qb,h=u?i:i+o*p,y=jr(e,n,d,h),b=jr(e,n,r,h),E=u?i-o*p:i,S=jr(e,n,d*Math.cos(p*Qb),E);return{center:y,circleTangency:b,lineTangency:S,theta:p}},f6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=t,l=wQ(o,a),u=o+l,d=jr(e,n,i,o),p=jr(e,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var y=jr(e,n,r,o),b=jr(e,n,r,u);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(e,",").concat(n," Z");return h},xQ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:d}=t,p=Ni(d-u),{circleTangency:h,lineTangency:y,theta:b}=Vy({cx:e,cy:n,radius:i,angle:u,sign:p,cornerRadius:o,cornerIsExternal:l}),{circleTangency:E,lineTangency:S,theta:_}=Vy({cx:e,cy:n,radius:i,angle:d,sign:-p,cornerRadius:o,cornerIsExternal:l}),C=l?Math.abs(u-d):Math.abs(u-d)-b-_;if(C<0)return a?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):f6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var R="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:I,lineTangency:O,theta:U}=Vy({cx:e,cy:n,radius:r,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),{circleTangency:M,lineTangency:D,theta:L}=Vy({cx:e,cy:n,radius:r,angle:d,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),z=l?Math.abs(u-d):Math.abs(u-d)-U-L;if(z<0&&o===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(z>180),",").concat(+(p>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,"Z")}else R+="L".concat(e,",").concat(n,"Z");return R},kQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},h6=t=>{var e=fi(t,kQ),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:p,className:h}=e;if(o<i||d===p)return null;var y=Ft("recharts-sector",h),b=o-i,E=Zo(a,b,0,!0),S;return E>0&&Math.abs(d-p)<360?S=xQ({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(E,b/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:p}):S=f6({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:p}),A.createElement("path",XT({},di(e),{className:y,d:S}))};function _Q(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(X9(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:a,angle:l}=e,u=jr(r,i,o,l),d=jr(r,i,a,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return p6(e)}}var i_={},o_={},a_={},SD;function TQ(){return SD||(SD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l3();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(a_)),a_}var AD;function EQ(){return AD||(AD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TQ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(o_)),o_}var CD;function SQ(){return CD||(CD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c3(),n=EQ();function r(i,o,a){a&&typeof a!="number"&&e.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((o-i)/(a||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=a;return u}t.range=r})(i_)),i_}var s_,ID;function AQ(){return ID||(ID=1,s_=SQ().range),s_}var CQ=AQ();const g6=Oo(CQ);function Jl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function IQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function JS(t){let e,n,r;t.length!==2?(e=Jl,n=(l,u)=>Jl(t(l),u),r=(l,u)=>t(l)-u):(e=t===Jl||t===IQ?t:NQ,n=t,r=t);function i(l,u,d=0,p=l.length){if(d<p){if(e(u,u)!==0)return p;do{const h=d+p>>>1;n(l[h],u)<0?d=h+1:p=h}while(d<p)}return d}function o(l,u,d=0,p=l.length){if(d<p){if(e(u,u)!==0)return p;do{const h=d+p>>>1;n(l[h],u)<=0?d=h+1:p=h}while(d<p)}return d}function a(l,u,d=0,p=l.length){const h=i(l,u,d,p-1);return h>d&&r(l[h-1],u)>-r(l[h],u)?h-1:h}return{left:i,center:a,right:o}}function NQ(){return 0}function m6(t){return t===null?NaN:+t}function*RQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const OQ=JS(Jl),bg=OQ.right;JS(m6).center;class ND extends Map{constructor(e,n=MQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(RD(this,e))}has(e){return super.has(RD(this,e))}set(e,n){return super.set(PQ(this,e),n)}delete(e){return super.delete(DQ(this,e))}}function RD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function PQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function DQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function MQ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zQ(t=Jl){if(t===Jl)return y6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function y6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const LQ=Math.sqrt(50),jQ=Math.sqrt(10),UQ=Math.sqrt(2);function Zb(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=LQ?10:o>=jQ?5:o>=UQ?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/a,l=Math.round(t*d),u=Math.round(e*d),l/d<t&&++l,u/d>e&&--u,d=-d):(d=Math.pow(10,i)*a,l=Math.round(t/d),u=Math.round(e/d),l*d<t&&++l,u*d>e&&--u),u<l&&.5<=n&&n<2?Zb(t,e,n*2):[l,u,d]}function QT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Zb(e,t,n):Zb(t,e,n);if(!(o>=i))return[];const l=o-i+1,u=new Array(l);if(r)if(a<0)for(let d=0;d<l;++d)u[d]=(o-d)/-a;else for(let d=0;d<l;++d)u[d]=(o-d)*a;else if(a<0)for(let d=0;d<l;++d)u[d]=(i+d)/-a;else for(let d=0;d<l;++d)u[d]=(i+d)*a;return u}function ZT(t,e,n){return e=+e,t=+t,n=+n,Zb(t,e,n)[2]}function eE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ZT(e,t,n):ZT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function OD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function PD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function b6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?y6:zQ(i);r>n;){if(r-n>600){const u=r-n+1,d=e-n+1,p=Math.log(u),h=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*h*(u-h)/u)*(d-u/2<0?-1:1),b=Math.max(n,Math.floor(e-d*h/u+y)),E=Math.min(r,Math.floor(e+(u-d)*h/u+y));b6(t,e,b,E,i)}const o=t[e];let a=n,l=r;for(Kf(t,n,e),i(t[r],o)>0&&Kf(t,n,r);a<l;){for(Kf(t,a,l),++a,--l;i(t[a],o)<0;)++a;for(;i(t[l],o)>0;)--l}i(t[n],o)===0?Kf(t,n,l):(++l,Kf(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Kf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function VQ(t,e,n){if(t=Float64Array.from(RQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return PD(t);if(e>=1)return OD(t);var r,i=(r-1)*e,o=Math.floor(i),a=OD(b6(t,o).subarray(0,o+1)),l=PD(t.subarray(o+1));return a+(l-a)*(i-o)}}function FQ(t,e,n=m6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),l=+n(t[o+1],o+1,t);return a+(l-a)*(i-o)}}function BQ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Po(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const tE=Symbol("implicit");function XS(){var t=new ND,e=[],n=[],r=tE;function i(o){let a=t.get(o);if(a===void 0){if(r!==tE)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new ND;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return XS(e,n).unknown(r)},Po.apply(i,arguments),i}function QS(){var t=XS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,l=!1,u=0,d=0,p=.5;delete t.unknown;function h(){var y=e().length,b=i<r,E=b?i:r,S=b?r:i;o=(S-E)/Math.max(1,y-u+d*2),l&&(o=Math.floor(o)),E+=(S-E-o*(y-u))*p,a=o*(1-u),l&&(E=Math.round(E),a=Math.round(a));var _=BQ(y).map(function(C){return E+o*C});return n(b?_.reverse():_)}return t.domain=function(y){return arguments.length?(e(y),h()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(y){return arguments.length?(l=!!y,h()):l},t.padding=function(y){return arguments.length?(u=Math.min(1,d=+y),h()):u},t.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),h()):u},t.paddingOuter=function(y){return arguments.length?(d=+y,h()):d},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),h()):p},t.copy=function(){return QS(e(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(p)},Po.apply(h(),arguments)}function v6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return v6(e())},t}function qQ(){return v6(QS.apply(null,arguments).paddingInner(1))}function ZS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function w6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vg(){}var Uh=.7,e0=1/Uh,qd="\\s*([+-]?\\d+)\\s*",Vh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$Q=/^#([0-9a-f]{3,8})$/,HQ=new RegExp(`^rgb\\(${qd},${qd},${qd}\\)$`),GQ=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),KQ=new RegExp(`^rgba\\(${qd},${qd},${qd},${Vh}\\)$`),WQ=new RegExp(`^rgba\\(${za},${za},${za},${Vh}\\)$`),YQ=new RegExp(`^hsl\\(${Vh},${za},${za}\\)$`),JQ=new RegExp(`^hsla\\(${Vh},${za},${za},${Vh}\\)$`),DD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ZS(vg,Fh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:MD,formatHex:MD,formatHex8:XQ,formatHsl:QQ,formatRgb:zD,toString:zD});function MD(){return this.rgb().formatHex()}function XQ(){return this.rgb().formatHex8()}function QQ(){return x6(this).formatHsl()}function zD(){return this.rgb().formatRgb()}function Fh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$Q.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?LD(e):n===3?new Ri(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Fy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Fy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=HQ.exec(t))?new Ri(e[1],e[2],e[3],1):(e=GQ.exec(t))?new Ri(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=KQ.exec(t))?Fy(e[1],e[2],e[3],e[4]):(e=WQ.exec(t))?Fy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=YQ.exec(t))?VD(e[1],e[2]/100,e[3]/100,1):(e=JQ.exec(t))?VD(e[1],e[2]/100,e[3]/100,e[4]):DD.hasOwnProperty(t)?LD(DD[t]):t==="transparent"?new Ri(NaN,NaN,NaN,0):null}function LD(t){return new Ri(t>>16&255,t>>8&255,t&255,1)}function Fy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ri(t,e,n,r)}function ZQ(t){return t instanceof vg||(t=Fh(t)),t?(t=t.rgb(),new Ri(t.r,t.g,t.b,t.opacity)):new Ri}function nE(t,e,n,r){return arguments.length===1?ZQ(t):new Ri(t,e,n,r??1)}function Ri(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ZS(Ri,nE,w6(vg,{brighter(t){return t=t==null?e0:Math.pow(e0,t),new Ri(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Uh:Math.pow(Uh,t),new Ri(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ri(lu(this.r),lu(this.g),lu(this.b),t0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jD,formatHex:jD,formatHex8:eZ,formatRgb:UD,toString:UD}));function jD(){return`#${tu(this.r)}${tu(this.g)}${tu(this.b)}`}function eZ(){return`#${tu(this.r)}${tu(this.g)}${tu(this.b)}${tu((isNaN(this.opacity)?1:this.opacity)*255)}`}function UD(){const t=t0(this.opacity);return`${t===1?"rgb(":"rgba("}${lu(this.r)}, ${lu(this.g)}, ${lu(this.b)}${t===1?")":`, ${t})`}`}function t0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function lu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function tu(t){return t=lu(t),(t<16?"0":"")+t.toString(16)}function VD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ko(t,e,n,r)}function x6(t){if(t instanceof Ko)return new Ko(t.h,t.s,t.l,t.opacity);if(t instanceof vg||(t=Fh(t)),!t)return new Ko;if(t instanceof Ko)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,u=(o+i)/2;return l?(e===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-e)/l+2:a=(e-n)/l+4,l/=u<.5?o+i:2-o-i,a*=60):l=u>0&&u<1?0:a,new Ko(a,l,u,t.opacity)}function tZ(t,e,n,r){return arguments.length===1?x6(t):new Ko(t,e,n,r??1)}function Ko(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ZS(Ko,tZ,w6(vg,{brighter(t){return t=t==null?e0:Math.pow(e0,t),new Ko(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Uh:Math.pow(Uh,t),new Ko(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ri(l_(t>=240?t-240:t+120,i,r),l_(t,i,r),l_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ko(FD(this.h),By(this.s),By(this.l),t0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=t0(this.opacity);return`${t===1?"hsl(":"hsla("}${FD(this.h)}, ${By(this.s)*100}%, ${By(this.l)*100}%${t===1?")":`, ${t})`}`}}));function FD(t){return t=(t||0)%360,t<0?t+360:t}function By(t){return Math.max(0,Math.min(1,t||0))}function l_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const eA=t=>()=>t;function nZ(t,e){return function(n){return t+n*e}}function rZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function iZ(t){return(t=+t)==1?k6:function(e,n){return n-e?rZ(e,n,t):eA(isNaN(e)?n:e)}}function k6(t,e){var n=e-t;return n?nZ(t,n):eA(isNaN(t)?e:t)}const BD=(function t(e){var n=iZ(e);function r(i,o){var a=n((i=nE(i)).r,(o=nE(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),d=k6(i.opacity,o.opacity);return function(p){return i.r=a(p),i.g=l(p),i.b=u(p),i.opacity=d(p),i+""}}return r.gamma=t,r})(1);function oZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function aZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=_p(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function lZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function n0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function cZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=_p(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var rE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,c_=new RegExp(rE.source,"g");function uZ(t){return function(){return t}}function dZ(t){return function(e){return t(e)+""}}function pZ(t,e){var n=rE.lastIndex=c_.lastIndex=0,r,i,o,a=-1,l=[],u=[];for(t=t+"",e=e+"";(r=rE.exec(t))&&(i=c_.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:n0(r,i)})),n=c_.lastIndex;return n<e.length&&(o=e.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?dZ(u[0].x):uZ(e):(e=u.length,function(d){for(var p=0,h;p<e;++p)l[(h=u[p]).i]=h.x(d);return l.join("")})}function _p(t,e){var n=typeof e,r;return e==null||n==="boolean"?eA(e):(n==="number"?n0:n==="string"?(r=Fh(e))?(e=r,BD):pZ:e instanceof Fh?BD:e instanceof Date?lZ:aZ(e)?oZ:Array.isArray(e)?sZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?cZ:n0)(t,e)}function tA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function fZ(t,e){e===void 0&&(e=t,t=_p);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[l](a-l)}}function hZ(t){return function(){return t}}function r0(t){return+t}var qD=[0,1];function li(t){return t}function iE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:hZ(isNaN(e)?NaN:.5)}function gZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function mZ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=iE(i,r),o=n(a,o)):(r=iE(r,i),o=n(o,a)),function(l){return o(r(l))}}function yZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=iE(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(l){var u=bg(t,l,1,r)-1;return o[u](i[u](l))}}function wg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Mv(){var t=qD,e=qD,n=_p,r,i,o,a=li,l,u,d;function p(){var y=Math.min(t.length,e.length);return a!==li&&(a=gZ(t[0],t[y-1])),l=y>2?yZ:mZ,u=d=null,h}function h(y){return y==null||isNaN(y=+y)?o:(u||(u=l(t.map(r),e,n)))(r(a(y)))}return h.invert=function(y){return a(i((d||(d=l(e,t.map(r),n0)))(y)))},h.domain=function(y){return arguments.length?(t=Array.from(y,r0),p()):t.slice()},h.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},h.rangeRound=function(y){return e=Array.from(y),n=tA,p()},h.clamp=function(y){return arguments.length?(a=y?!0:li,p()):a!==li},h.interpolate=function(y){return arguments.length?(n=y,p()):n},h.unknown=function(y){return arguments.length?(o=y,h):o},function(y,b){return r=y,i=b,p()}}function nA(){return Mv()(li,li)}function bZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function i0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function sp(t){return t=i0(Math.abs(t)),t?t[1]:NaN}function vZ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(e)}}function wZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var xZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bh(t){if(!(e=xZ.exec(t)))throw new Error("invalid format: "+t);var e;return new rA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bh.prototype=rA.prototype;function rA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}rA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var _6;function _Z(t,e){var n=i0(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(_6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+i0(t,Math.max(0,e+o-1))[0]}function $D(t,e){var n=i0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const HD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$D(t*100,e),r:$D,s:_Z,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function GD(t){return t}var KD=Array.prototype.map,WD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function TZ(t){var e=t.grouping===void 0||t.thousands===void 0?GD:vZ(KD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?GD:wZ(KD.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function d(h){h=Bh(h);var y=h.fill,b=h.align,E=h.sign,S=h.symbol,_=h.zero,C=h.width,R=h.comma,I=h.precision,O=h.trim,U=h.type;U==="n"?(R=!0,U="g"):HD[U]||(I===void 0&&(I=12),O=!0,U="g"),(_||y==="0"&&b==="=")&&(_=!0,y="0",b="=");var M=S==="$"?n:S==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",D=S==="$"?r:/[%p]/.test(U)?a:"",L=HD[U],z=/[defgprs%]/.test(U);I=I===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function B(V){var q=M,F=D,oe,Z,X;if(U==="c")F=L(V)+F,V="";else{V=+V;var J=V<0||1/V<0;if(V=isNaN(V)?u:L(Math.abs(V),I),O&&(V=kZ(V)),J&&+V==0&&E!=="+"&&(J=!1),q=(J?E==="("?E:l:E==="-"||E==="("?"":E)+q,F=(U==="s"?WD[8+_6/3]:"")+F+(J&&E==="("?")":""),z){for(oe=-1,Z=V.length;++oe<Z;)if(X=V.charCodeAt(oe),48>X||X>57){F=(X===46?i+V.slice(oe+1):V.slice(oe))+F,V=V.slice(0,oe);break}}}R&&!_&&(V=e(V,1/0));var ie=q.length+V.length+F.length,te=ie<C?new Array(C-ie+1).join(y):"";switch(R&&_&&(V=e(te+V,te.length?C-F.length:1/0),te=""),b){case"<":V=q+V+F+te;break;case"=":V=q+te+V+F;break;case"^":V=te.slice(0,ie=te.length>>1)+q+V+F+te.slice(ie);break;default:V=te+q+V+F;break}return o(V)}return B.toString=function(){return h+""},B}function p(h,y){var b=d((h=Bh(h),h.type="f",h)),E=Math.max(-8,Math.min(8,Math.floor(sp(y)/3)))*3,S=Math.pow(10,-E),_=WD[8+E/3];return function(C){return b(S*C)+_}}return{format:d,formatPrefix:p}}var qy,iA,T6;EZ({thousands:",",grouping:[3],currency:["$",""]});function EZ(t){return qy=TZ(t),iA=qy.format,T6=qy.formatPrefix,qy}function SZ(t){return Math.max(0,-sp(Math.abs(t)))}function AZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sp(e)/3)))*3-sp(Math.abs(t)))}function CZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sp(e)-sp(t))+1}function E6(t,e,n,r){var i=eE(t,e,n),o;switch(r=Bh(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=AZ(i,a))&&(r.precision=o),T6(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=CZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=SZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return iA(r)}function gc(t){var e=t.domain;return t.ticks=function(n){var r=e();return QT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return E6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],l=r[o],u,d,p=10;for(l<a&&(d=a,a=l,l=d,d=i,i=o,o=d);p-- >0;){if(d=ZT(a,l,n),d===u)return r[i]=a,r[o]=l,e(r);if(d>0)a=Math.floor(a/d)*d,l=Math.ceil(l/d)*d;else if(d<0)a=Math.ceil(a*d)/d,l=Math.floor(l*d)/d;else break;u=d}return t},t}function S6(){var t=nA();return t.copy=function(){return wg(t,S6())},Po.apply(t,arguments),gc(t)}function A6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,r0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return A6(t).unknown(e)},t=arguments.length?Array.from(t,r0):[0,1],gc(n)}function C6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function YD(t){return Math.log(t)}function JD(t){return Math.exp(t)}function IZ(t){return-Math.log(-t)}function NZ(t){return-Math.exp(-t)}function RZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function OZ(t){return t===10?RZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function PZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function XD(t){return(e,n)=>-t(-e,n)}function oA(t){const e=t(YD,JD),n=e.domain;let r=10,i,o;function a(){return i=PZ(r),o=OZ(r),n()[0]<0?(i=XD(i),o=XD(o),t(IZ,NZ)):t(YD,JD),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const u=n();let d=u[0],p=u[u.length-1];const h=p<d;h&&([d,p]=[p,d]);let y=i(d),b=i(p),E,S;const _=l==null?10:+l;let C=[];if(!(r%1)&&b-y<_){if(y=Math.floor(y),b=Math.ceil(b),d>0){for(;y<=b;++y)for(E=1;E<r;++E)if(S=y<0?E/o(-y):E*o(y),!(S<d)){if(S>p)break;C.push(S)}}else for(;y<=b;++y)for(E=r-1;E>=1;--E)if(S=y>0?E/o(-y):E*o(y),!(S<d)){if(S>p)break;C.push(S)}C.length*2<_&&(C=QT(d,p,_))}else C=QT(y,b,Math.min(b-y,_)).map(o);return h?C.reverse():C},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Bh(u)).precision==null&&(u.trim=!0),u=iA(u)),l===1/0)return u;const d=Math.max(1,r*l/e.ticks().length);return p=>{let h=p/o(Math.round(i(p)));return h*r<r-.5&&(h*=r),h<=d?u(p):""}},e.nice=()=>n(C6(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function I6(){const t=oA(Mv()).domain([1,10]);return t.copy=()=>wg(t,I6()).base(t.base()),Po.apply(t,arguments),t}function QD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ZD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function aA(t){var e=1,n=t(QD(e),ZD(e));return n.constant=function(r){return arguments.length?t(QD(e=+r),ZD(e)):e},gc(n)}function N6(){var t=aA(Mv());return t.copy=function(){return wg(t,N6()).constant(t.constant())},Po.apply(t,arguments)}function eM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function DZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function MZ(t){return t<0?-t*t:t*t}function sA(t){var e=t(li,li),n=1;function r(){return n===1?t(li,li):n===.5?t(DZ,MZ):t(eM(n),eM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},gc(e)}function lA(){var t=sA(Mv());return t.copy=function(){return wg(t,lA()).exponent(t.exponent())},Po.apply(t,arguments),t}function zZ(){return lA.apply(null,arguments).exponent(.5)}function tM(t){return Math.sign(t)*t*t}function LZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function R6(){var t=nA(),e=[0,1],n=!1,r;function i(o){var a=LZ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(tM(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,r0)).map(tM)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return R6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Po.apply(i,arguments),gc(i)}function O6(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=FQ(t,a/l);return o}function o(a){return a==null||isNaN(a=+a)?r:e[bg(n,a)]}return o.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Jl),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return O6().domain(t).range(e).unknown(r)},Po.apply(o,arguments)}function P6(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(u){return u!=null&&u<=u?i[bg(r,u,0,n)]:o}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},a.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(u){return arguments.length&&(o=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return P6().domain([t,e]).range(i).unknown(o)},Po.apply(gc(a),arguments)}function D6(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[bg(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return D6().domain(t).range(e).unknown(n)},Po.apply(i,arguments)}const u_=new Date,d_=new Date;function ur(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),l=i.ceil(o);return o-a<l-o?a:l},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,l)=>{const u=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<a)||!(l>0))return u;let d;do u.push(d=new Date(+o)),e(o,l),t(o);while(d<o&&o<a);return u},i.filter=o=>ur(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!o(a););else for(;--l>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(u_.setTime(+o),d_.setTime(+a),t(u_),t(d_),Math.floor(n(u_,d_))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const o0=ur(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);o0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ur(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):o0);o0.range;const ks=1e3,So=ks*60,_s=So*60,Os=_s*24,cA=Os*7,nM=Os*30,p_=Os*365,nu=ur(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ks)},(t,e)=>(e-t)/ks,t=>t.getUTCSeconds());nu.range;const uA=ur(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ks)},(t,e)=>{t.setTime(+t+e*So)},(t,e)=>(e-t)/So,t=>t.getMinutes());uA.range;const dA=ur(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*So)},(t,e)=>(e-t)/So,t=>t.getUTCMinutes());dA.range;const pA=ur(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ks-t.getMinutes()*So)},(t,e)=>{t.setTime(+t+e*_s)},(t,e)=>(e-t)/_s,t=>t.getHours());pA.range;const fA=ur(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_s)},(t,e)=>(e-t)/_s,t=>t.getUTCHours());fA.range;const xg=ur(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*So)/Os,t=>t.getDate()-1);xg.range;const zv=ur(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Os,t=>t.getUTCDate()-1);zv.range;const M6=ur(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Os,t=>Math.floor(t/Os));M6.range;function Eu(t){return ur(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*So)/cA)}const Lv=Eu(0),a0=Eu(1),jZ=Eu(2),UZ=Eu(3),lp=Eu(4),VZ=Eu(5),FZ=Eu(6);Lv.range;a0.range;jZ.range;UZ.range;lp.range;VZ.range;FZ.range;function Su(t){return ur(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/cA)}const jv=Su(0),s0=Su(1),BZ=Su(2),qZ=Su(3),cp=Su(4),$Z=Su(5),HZ=Su(6);jv.range;s0.range;BZ.range;qZ.range;cp.range;$Z.range;HZ.range;const hA=ur(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hA.range;const gA=ur(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());gA.range;const Ps=ur(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ps.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ur(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ps.range;const Ds=ur(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ds.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ur(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ds.range;function z6(t,e,n,r,i,o){const a=[[nu,1,ks],[nu,5,5*ks],[nu,15,15*ks],[nu,30,30*ks],[o,1,So],[o,5,5*So],[o,15,15*So],[o,30,30*So],[i,1,_s],[i,3,3*_s],[i,6,6*_s],[i,12,12*_s],[r,1,Os],[r,2,2*Os],[n,1,cA],[e,1,nM],[e,3,3*nM],[t,1,p_]];function l(d,p,h){const y=p<d;y&&([d,p]=[p,d]);const b=h&&typeof h.range=="function"?h:u(d,p,h),E=b?b.range(d,+p+1):[];return y?E.reverse():E}function u(d,p,h){const y=Math.abs(p-d)/h,b=JS(([,,_])=>_).right(a,y);if(b===a.length)return t.every(eE(d/p_,p/p_,h));if(b===0)return o0.every(Math.max(eE(d,p,h),1));const[E,S]=a[y/a[b-1][2]<a[b][2]/y?b-1:b];return E.every(S)}return[l,u]}const[GZ,KZ]=z6(Ds,gA,jv,M6,fA,dA),[WZ,YZ]=z6(Ps,hA,Lv,xg,pA,uA);function f_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function h_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function JZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,l=t.months,u=t.shortMonths,d=Yf(i),p=Jf(i),h=Yf(o),y=Jf(o),b=Yf(a),E=Jf(a),S=Yf(l),_=Jf(l),C=Yf(u),R=Jf(u),I={a:J,A:ie,b:te,B:G,c:null,d:lM,e:lM,f:vee,g:Iee,G:Ree,H:mee,I:yee,j:bee,L:L6,m:wee,M:xee,p:W,q:Y,Q:dM,s:pM,S:kee,u:_ee,U:Tee,V:Eee,w:See,W:Aee,x:null,X:null,y:Cee,Y:Nee,Z:Oee,"%":uM},O={a:H,A:fe,b:Se,B:we,c:null,d:cM,e:cM,f:zee,g:Gee,G:Wee,H:Pee,I:Dee,j:Mee,L:U6,m:Lee,M:jee,p:Ce,q:Ue,Q:dM,s:pM,S:Uee,u:Vee,U:Fee,V:Bee,w:qee,W:$ee,x:null,X:null,y:Hee,Y:Kee,Z:Yee,"%":uM},U={a:B,A:V,b:q,B:F,c:oe,d:aM,e:aM,f:pee,g:oM,G:iM,H:sM,I:sM,j:lee,L:dee,m:see,M:cee,p:z,q:aee,Q:hee,s:gee,S:uee,u:tee,U:nee,V:ree,w:eee,W:iee,x:Z,X,y:oM,Y:iM,Z:oee,"%":fee};I.x=M(n,I),I.X=M(r,I),I.c=M(e,I),O.x=M(n,O),O.X=M(r,O),O.c=M(e,O);function M(ae,Ae){return function(qe){var ve=[],at=-1,Fe=0,kt=ae.length,_t,Wt,hr;for(qe instanceof Date||(qe=new Date(+qe));++at<kt;)ae.charCodeAt(at)===37&&(ve.push(ae.slice(Fe,at)),(Wt=rM[_t=ae.charAt(++at)])!=null?_t=ae.charAt(++at):Wt=_t==="e"?" ":"0",(hr=Ae[_t])&&(_t=hr(qe,Wt)),ve.push(_t),Fe=at+1);return ve.push(ae.slice(Fe,at)),ve.join("")}}function D(ae,Ae){return function(qe){var ve=Wf(1900,void 0,1),at=L(ve,ae,qe+="",0),Fe,kt;if(at!=qe.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Ae&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Fe=h_(Wf(ve.y,0,1)),kt=Fe.getUTCDay(),Fe=kt>4||kt===0?s0.ceil(Fe):s0(Fe),Fe=zv.offset(Fe,(ve.V-1)*7),ve.y=Fe.getUTCFullYear(),ve.m=Fe.getUTCMonth(),ve.d=Fe.getUTCDate()+(ve.w+6)%7):(Fe=f_(Wf(ve.y,0,1)),kt=Fe.getDay(),Fe=kt>4||kt===0?a0.ceil(Fe):a0(Fe),Fe=xg.offset(Fe,(ve.V-1)*7),ve.y=Fe.getFullYear(),ve.m=Fe.getMonth(),ve.d=Fe.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),kt="Z"in ve?h_(Wf(ve.y,0,1)).getUTCDay():f_(Wf(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(kt+5)%7:ve.w+ve.U*7-(kt+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,h_(ve)):f_(ve)}}function L(ae,Ae,qe,ve){for(var at=0,Fe=Ae.length,kt=qe.length,_t,Wt;at<Fe;){if(ve>=kt)return-1;if(_t=Ae.charCodeAt(at++),_t===37){if(_t=Ae.charAt(at++),Wt=U[_t in rM?Ae.charAt(at++):_t],!Wt||(ve=Wt(ae,qe,ve))<0)return-1}else if(_t!=qe.charCodeAt(ve++))return-1}return ve}function z(ae,Ae,qe){var ve=d.exec(Ae.slice(qe));return ve?(ae.p=p.get(ve[0].toLowerCase()),qe+ve[0].length):-1}function B(ae,Ae,qe){var ve=b.exec(Ae.slice(qe));return ve?(ae.w=E.get(ve[0].toLowerCase()),qe+ve[0].length):-1}function V(ae,Ae,qe){var ve=h.exec(Ae.slice(qe));return ve?(ae.w=y.get(ve[0].toLowerCase()),qe+ve[0].length):-1}function q(ae,Ae,qe){var ve=C.exec(Ae.slice(qe));return ve?(ae.m=R.get(ve[0].toLowerCase()),qe+ve[0].length):-1}function F(ae,Ae,qe){var ve=S.exec(Ae.slice(qe));return ve?(ae.m=_.get(ve[0].toLowerCase()),qe+ve[0].length):-1}function oe(ae,Ae,qe){return L(ae,e,Ae,qe)}function Z(ae,Ae,qe){return L(ae,n,Ae,qe)}function X(ae,Ae,qe){return L(ae,r,Ae,qe)}function J(ae){return a[ae.getDay()]}function ie(ae){return o[ae.getDay()]}function te(ae){return u[ae.getMonth()]}function G(ae){return l[ae.getMonth()]}function W(ae){return i[+(ae.getHours()>=12)]}function Y(ae){return 1+~~(ae.getMonth()/3)}function H(ae){return a[ae.getUTCDay()]}function fe(ae){return o[ae.getUTCDay()]}function Se(ae){return u[ae.getUTCMonth()]}function we(ae){return l[ae.getUTCMonth()]}function Ce(ae){return i[+(ae.getUTCHours()>=12)]}function Ue(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Ae=M(ae+="",I);return Ae.toString=function(){return ae},Ae},parse:function(ae){var Ae=D(ae+="",!1);return Ae.toString=function(){return ae},Ae},utcFormat:function(ae){var Ae=M(ae+="",O);return Ae.toString=function(){return ae},Ae},utcParse:function(ae){var Ae=D(ae+="",!0);return Ae.toString=function(){return ae},Ae}}}var rM={"-":"",_:" ",0:"0"},Ar=/^\s*\d+/,XZ=/^%/,QZ=/[\\^$*+?|[\]().{}]/g;function Ot(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ZZ(t){return t.replace(QZ,"\\$&")}function Yf(t){return new RegExp("^(?:"+t.map(ZZ).join("|")+")","i")}function Jf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function eee(t,e,n){var r=Ar.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function tee(t,e,n){var r=Ar.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function nee(t,e,n){var r=Ar.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ree(t,e,n){var r=Ar.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function iee(t,e,n){var r=Ar.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function iM(t,e,n){var r=Ar.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function oM(t,e,n){var r=Ar.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function aee(t,e,n){var r=Ar.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function see(t,e,n){var r=Ar.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function aM(t,e,n){var r=Ar.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function lee(t,e,n){var r=Ar.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function sM(t,e,n){var r=Ar.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function cee(t,e,n){var r=Ar.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function uee(t,e,n){var r=Ar.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function dee(t,e,n){var r=Ar.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function pee(t,e,n){var r=Ar.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fee(t,e,n){var r=XZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function hee(t,e,n){var r=Ar.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function gee(t,e,n){var r=Ar.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function lM(t,e){return Ot(t.getDate(),e,2)}function mee(t,e){return Ot(t.getHours(),e,2)}function yee(t,e){return Ot(t.getHours()%12||12,e,2)}function bee(t,e){return Ot(1+xg.count(Ps(t),t),e,3)}function L6(t,e){return Ot(t.getMilliseconds(),e,3)}function vee(t,e){return L6(t,e)+"000"}function wee(t,e){return Ot(t.getMonth()+1,e,2)}function xee(t,e){return Ot(t.getMinutes(),e,2)}function kee(t,e){return Ot(t.getSeconds(),e,2)}function _ee(t){var e=t.getDay();return e===0?7:e}function Tee(t,e){return Ot(Lv.count(Ps(t)-1,t),e,2)}function j6(t){var e=t.getDay();return e>=4||e===0?lp(t):lp.ceil(t)}function Eee(t,e){return t=j6(t),Ot(lp.count(Ps(t),t)+(Ps(t).getDay()===4),e,2)}function See(t){return t.getDay()}function Aee(t,e){return Ot(a0.count(Ps(t)-1,t),e,2)}function Cee(t,e){return Ot(t.getFullYear()%100,e,2)}function Iee(t,e){return t=j6(t),Ot(t.getFullYear()%100,e,2)}function Nee(t,e){return Ot(t.getFullYear()%1e4,e,4)}function Ree(t,e){var n=t.getDay();return t=n>=4||n===0?lp(t):lp.ceil(t),Ot(t.getFullYear()%1e4,e,4)}function Oee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ot(e/60|0,"0",2)+Ot(e%60,"0",2)}function cM(t,e){return Ot(t.getUTCDate(),e,2)}function Pee(t,e){return Ot(t.getUTCHours(),e,2)}function Dee(t,e){return Ot(t.getUTCHours()%12||12,e,2)}function Mee(t,e){return Ot(1+zv.count(Ds(t),t),e,3)}function U6(t,e){return Ot(t.getUTCMilliseconds(),e,3)}function zee(t,e){return U6(t,e)+"000"}function Lee(t,e){return Ot(t.getUTCMonth()+1,e,2)}function jee(t,e){return Ot(t.getUTCMinutes(),e,2)}function Uee(t,e){return Ot(t.getUTCSeconds(),e,2)}function Vee(t){var e=t.getUTCDay();return e===0?7:e}function Fee(t,e){return Ot(jv.count(Ds(t)-1,t),e,2)}function V6(t){var e=t.getUTCDay();return e>=4||e===0?cp(t):cp.ceil(t)}function Bee(t,e){return t=V6(t),Ot(cp.count(Ds(t),t)+(Ds(t).getUTCDay()===4),e,2)}function qee(t){return t.getUTCDay()}function $ee(t,e){return Ot(s0.count(Ds(t)-1,t),e,2)}function Hee(t,e){return Ot(t.getUTCFullYear()%100,e,2)}function Gee(t,e){return t=V6(t),Ot(t.getUTCFullYear()%100,e,2)}function Kee(t,e){return Ot(t.getUTCFullYear()%1e4,e,4)}function Wee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?cp(t):cp.ceil(t),Ot(t.getUTCFullYear()%1e4,e,4)}function Yee(){return"+0000"}function uM(){return"%"}function dM(t){return+t}function pM(t){return Math.floor(+t/1e3)}var Ed,F6,B6;Jee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jee(t){return Ed=JZ(t),F6=Ed.format,Ed.parse,B6=Ed.utcFormat,Ed.utcParse,Ed}function Xee(t){return new Date(t)}function Qee(t){return t instanceof Date?+t:+new Date(+t)}function mA(t,e,n,r,i,o,a,l,u,d){var p=nA(),h=p.invert,y=p.domain,b=d(".%L"),E=d(":%S"),S=d("%I:%M"),_=d("%I %p"),C=d("%a %d"),R=d("%b %d"),I=d("%B"),O=d("%Y");function U(M){return(u(M)<M?b:l(M)<M?E:a(M)<M?S:o(M)<M?_:r(M)<M?i(M)<M?C:R:n(M)<M?I:O)(M)}return p.invert=function(M){return new Date(h(M))},p.domain=function(M){return arguments.length?y(Array.from(M,Qee)):y().map(Xee)},p.ticks=function(M){var D=y();return t(D[0],D[D.length-1],M??10)},p.tickFormat=function(M,D){return D==null?U:d(D)},p.nice=function(M){var D=y();return(!M||typeof M.range!="function")&&(M=e(D[0],D[D.length-1],M??10)),M?y(C6(D,M)):p},p.copy=function(){return wg(p,mA(t,e,n,r,i,o,a,l,u,d))},p}function Zee(){return Po.apply(mA(WZ,YZ,Ps,hA,Lv,xg,pA,uA,nu,F6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ete(){return Po.apply(mA(GZ,KZ,Ds,gA,jv,zv,fA,dA,nu,B6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Uv(){var t=0,e=1,n,r,i,o,a=li,l=!1,u;function d(h){return h==null||isNaN(h=+h)?u:a(i===0?.5:(h=(o(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(a=h,d):a};function p(h){return function(y){var b,E;return arguments.length?([b,E]=y,a=h(b,E),d):[a(0),a(1)]}}return d.range=p(_p),d.rangeRound=p(tA),d.unknown=function(h){return arguments.length?(u=h,d):u},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),d}}function mc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function q6(){var t=gc(Uv()(li));return t.copy=function(){return mc(t,q6())},Gs.apply(t,arguments)}function $6(){var t=oA(Uv()).domain([1,10]);return t.copy=function(){return mc(t,$6()).base(t.base())},Gs.apply(t,arguments)}function H6(){var t=aA(Uv());return t.copy=function(){return mc(t,H6()).constant(t.constant())},Gs.apply(t,arguments)}function yA(){var t=sA(Uv());return t.copy=function(){return mc(t,yA()).exponent(t.exponent())},Gs.apply(t,arguments)}function tte(){return yA.apply(null,arguments).exponent(.5)}function G6(){var t=[],e=li;function n(r){if(r!=null&&!isNaN(r=+r))return e((bg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Jl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>VQ(t,o/r))},n.copy=function(){return G6(e).domain(t)},Gs.apply(n,arguments)}function Vv(){var t=0,e=.5,n=1,r=1,i,o,a,l,u,d=li,p,h=!1,y;function b(S){return isNaN(S=+S)?y:(S=.5+((S=+p(S))-o)*(r*S<r*o?l:u),d(h?Math.max(0,Math.min(1,S)):S))}b.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),o=p(e=+e),a=p(n=+n),l=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,b):[t,e,n]},b.clamp=function(S){return arguments.length?(h=!!S,b):h},b.interpolator=function(S){return arguments.length?(d=S,b):d};function E(S){return function(_){var C,R,I;return arguments.length?([C,R,I]=_,d=fZ(S,[C,R,I]),b):[d(0),d(.5),d(1)]}}return b.range=E(_p),b.rangeRound=E(tA),b.unknown=function(S){return arguments.length?(y=S,b):y},function(S){return p=S,i=S(t),o=S(e),a=S(n),l=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,b}}function K6(){var t=gc(Vv()(li));return t.copy=function(){return mc(t,K6())},Gs.apply(t,arguments)}function W6(){var t=oA(Vv()).domain([.1,1,10]);return t.copy=function(){return mc(t,W6()).base(t.base())},Gs.apply(t,arguments)}function Y6(){var t=aA(Vv());return t.copy=function(){return mc(t,Y6()).constant(t.constant())},Gs.apply(t,arguments)}function bA(){var t=sA(Vv());return t.copy=function(){return mc(t,bA()).exponent(t.exponent())},Gs.apply(t,arguments)}function nte(){return bA.apply(null,arguments).exponent(.5)}const sh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:QS,scaleDiverging:K6,scaleDivergingLog:W6,scaleDivergingPow:bA,scaleDivergingSqrt:nte,scaleDivergingSymlog:Y6,scaleIdentity:A6,scaleImplicit:tE,scaleLinear:S6,scaleLog:I6,scaleOrdinal:XS,scalePoint:qQ,scalePow:lA,scaleQuantile:O6,scaleQuantize:P6,scaleRadial:R6,scaleSequential:q6,scaleSequentialLog:$6,scaleSequentialPow:yA,scaleSequentialQuantile:G6,scaleSequentialSqrt:tte,scaleSequentialSymlog:H6,scaleSqrt:zZ,scaleSymlog:N6,scaleThreshold:D6,scaleTime:Zee,scaleUtc:ete,tickFormat:E6},Symbol.toStringTag,{value:"Module"}));var yc=t=>t.chartData,rte=me([yc],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Fv=(t,e,n,r)=>r?rte(t):yc(t);function rc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Vn(e)&&Vn(n))return!0}return!1}function fM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function J6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Vn(n))i=n;else if(typeof n=="function")return;if(Vn(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(rc(a))return a}}function ite(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(rc(r))return fM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Ge(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&qP.test(i)){var u=qP.exec(i);if(u==null||e==null)a=void 0;else{var d=+u[1];a=e[0]-d}}else a=e==null?void 0:e[0];if(o==="auto")e!=null&&(l=Math.max(...e));else if(Ge(o))l=o;else if(typeof o=="function")try{e!=null&&(l=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&$P.test(o)){var p=$P.exec(o);if(p==null||e==null)l=void 0;else{var h=+p[1];l=e[1]+h}}else l=e==null?void 0:e[1];var y=[a,l];if(rc(y))return e==null?y:fM(y,e,n)}}}var Tp=1e9,ote={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wA,wn=!0,Ro="[DecimalError] ",cu=Ro+"Invalid argument: ",vA=Ro+"Exponent out of range: ",Ep=Math.floor,Xc=Math.pow,ate=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xi,kr=1e7,pn=7,X6=9007199254740991,l0=Ep(X6/pn),Be={};Be.absoluteValue=Be.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Be.comparedTo=Be.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*pn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Be.dividedBy=Be.div=function(t){return Ss(this,new this.constructor(t))};Be.dividedToIntegerBy=Be.idiv=function(t){var e=this,n=e.constructor;return nn(Ss(e,new n(t),0,1),n.precision)};Be.equals=Be.eq=function(t){return!this.cmp(t)};Be.exponent=function(){return nr(this)};Be.greaterThan=Be.gt=function(t){return this.cmp(t)>0};Be.greaterThanOrEqualTo=Be.gte=function(t){return this.cmp(t)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(t){return this.cmp(t)<0};Be.lessThanOrEqualTo=Be.lte=function(t){return this.cmp(t)<1};Be.logarithm=Be.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Xi))throw Error(Ro+"NaN");if(n.s<1)throw Error(Ro+(n.s?"NaN":"-Infinity"));return n.eq(Xi)?new r(0):(wn=!1,e=Ss(qh(n,o),qh(t,o),o),wn=!0,nn(e,i))};Be.minus=Be.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eU(e,t):Q6(e,(t.s=-t.s,t))};Be.modulo=Be.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ro+"NaN");return n.s?(wn=!1,e=Ss(n,t,0,1).times(t),wn=!0,n.minus(e)):nn(new r(n),i)};Be.naturalExponential=Be.exp=function(){return Z6(this)};Be.naturalLogarithm=Be.ln=function(){return qh(this)};Be.negated=Be.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Be.plus=Be.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Q6(e,t):eU(e,(t.s=-t.s,t))};Be.precision=Be.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(cu+t);if(e=nr(i)+1,r=i.d.length-1,n=r*pn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Be.squareRoot=Be.sqrt=function(){var t,e,n,r,i,o,a,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Ro+"NaN")}for(t=nr(l),wn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Oa(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ep((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=a=n+3;;)if(o=r,r=o.plus(Ss(l,o,a+2)).times(.5),Oa(o.d).slice(0,a)===(e=Oa(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(nn(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(e!="9999")break;a+=4}return wn=!0,nn(r,n)};Be.times=Be.mul=function(t){var e,n,r,i,o,a,l,u,d,p=this,h=p.constructor,y=p.d,b=(t=new h(t)).d;if(!p.s||!t.s)return new h(0);for(t.s*=p.s,n=p.e+t.e,u=y.length,d=b.length,u<d&&(o=y,y=b,b=o,a=u,u=d,d=a),o=[],a=u+d,r=a;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=u+r;i>r;)l=o[i]+b[r]*y[i-r-1]+e,o[i--]=l%kr|0,e=l/kr|0;o[i]=(o[i]+e)%kr|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,wn?nn(t,h.precision):t};Be.toDecimalPlaces=Be.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ka(t,0,Tp),e===void 0?e=r.rounding:Ka(e,0,8),nn(n,t+nr(n)+1,e))};Be.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=gu(r,!0):(Ka(t,0,Tp),e===void 0?e=i.rounding:Ka(e,0,8),r=nn(new i(r),t+1,e),n=gu(r,!0,t+1)),n};Be.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?gu(i):(Ka(t,0,Tp),e===void 0?e=o.rounding:Ka(e,0,8),r=nn(new o(i),t+nr(i)+1,e),n=gu(r.abs(),!1,t+nr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Be.toInteger=Be.toint=function(){var t=this,e=t.constructor;return nn(new e(t),nr(t)+1,e.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(t){var e,n,r,i,o,a,l=this,u=l.constructor,d=12,p=+(t=new u(t));if(!t.s)return new u(Xi);if(l=new u(l),!l.s){if(t.s<1)throw Error(Ro+"Infinity");return l}if(l.eq(Xi))return l;if(r=u.precision,t.eq(Xi))return nn(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=l.s,a){if((n=p<0?-p:p)<=X6){for(i=new u(Xi),e=Math.ceil(r/pn+4),wn=!1;n%2&&(i=i.times(l),gM(i.d,e)),n=Ep(n/2),n!==0;)l=l.times(l),gM(l.d,e);return wn=!0,t.s<0?new u(Xi).div(i):nn(i,r)}}else if(o<0)throw Error(Ro+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,wn=!1,i=t.times(qh(l,r+d)),wn=!0,i=Z6(i),i.s=o,i};Be.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=nr(i),r=gu(i,n<=o.toExpNeg||n>=o.toExpPos)):(Ka(t,1,Tp),e===void 0?e=o.rounding:Ka(e,0,8),i=nn(new o(i),t,e),n=nr(i),r=gu(i,t<=n||n<=o.toExpNeg,t)),r};Be.toSignificantDigits=Be.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ka(t,1,Tp),e===void 0?e=r.rounding:Ka(e,0,8)),nn(new r(n),t,e)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=nr(t),n=t.constructor;return gu(t,e<=n.toExpNeg||e>=n.toExpPos)};function Q6(t,e){var n,r,i,o,a,l,u,d,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),wn?nn(e,h):e;if(u=t.d,d=e.d,a=t.e,i=e.e,u=u.slice(),o=a-i,o){for(o<0?(r=u,o=-o,l=d.length):(r=d,i=a,l=u.length),a=Math.ceil(h/pn),l=a>l?a+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=u.length,o=d.length,l-o<0&&(o=l,r=d,d=u,u=r),n=0;o;)n=(u[--o]=u[o]+d[o]+n)/kr|0,u[o]%=kr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,wn?nn(e,h):e}function Ka(t,e,n){if(t!==~~t||t<e||t>n)throw Error(cu+t)}function Oa(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=pn-r.length,n&&(o+=jl(n)),o+=r;a=t[e],r=a+"",n=pn-r.length,n&&(o+=jl(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Ss=(function(){function t(r,i){var o,a=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+a,r[l]=o%kr|0,a=o/kr|0;return a&&r.unshift(a),r}function e(r,i,o,a){var l,u;if(o!=a)u=o>a?1:-1;else for(l=u=0;l<o;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*kr+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var l,u,d,p,h,y,b,E,S,_,C,R,I,O,U,M,D,L,z=r.constructor,B=r.s==i.s?1:-1,V=r.d,q=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(Ro+"Division by zero");for(u=r.e-i.e,D=q.length,U=V.length,b=new z(B),E=b.d=[],d=0;q[d]==(V[d]||0);)++d;if(q[d]>(V[d]||0)&&--u,o==null?R=o=z.precision:a?R=o+(nr(r)-nr(i))+1:R=o,R<0)return new z(0);if(R=R/pn+2|0,d=0,D==1)for(p=0,q=q[0],R++;(d<U||p)&&R--;d++)I=p*kr+(V[d]||0),E[d]=I/q|0,p=I%q|0;else{for(p=kr/(q[0]+1)|0,p>1&&(q=t(q,p),V=t(V,p),D=q.length,U=V.length),O=D,S=V.slice(0,D),_=S.length;_<D;)S[_++]=0;L=q.slice(),L.unshift(0),M=q[0],q[1]>=kr/2&&++M;do p=0,l=e(q,S,D,_),l<0?(C=S[0],D!=_&&(C=C*kr+(S[1]||0)),p=C/M|0,p>1?(p>=kr&&(p=kr-1),h=t(q,p),y=h.length,_=S.length,l=e(h,S,y,_),l==1&&(p--,n(h,D<y?L:q,y))):(p==0&&(l=p=1),h=q.slice()),y=h.length,y<_&&h.unshift(0),n(S,h,_),l==-1&&(_=S.length,l=e(q,S,D,_),l<1&&(p++,n(S,D<_?L:q,_))),_=S.length):l===0&&(p++,S=[0]),E[d++]=p,l&&S[0]?S[_++]=V[O]||0:(S=[V[O]],_=1);while((O++<U||S[0]!==void 0)&&R--)}return E[0]||E.shift(),b.e=u,nn(b,a?o+nr(b)+1:o)}})();function Z6(t,e){var n,r,i,o,a,l,u=0,d=0,p=t.constructor,h=p.precision;if(nr(t)>16)throw Error(vA+nr(t));if(!t.s)return new p(Xi);for(wn=!1,l=h,a=new p(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(Xc(2,d))/Math.LN10*2+5|0,l+=r,n=i=o=new p(Xi),p.precision=l;;){if(i=nn(i.times(t),l),n=n.times(++u),a=o.plus(Ss(i,n,l)),Oa(a.d).slice(0,l)===Oa(o.d).slice(0,l)){for(;d--;)o=nn(o.times(o),l);return p.precision=h,e==null?(wn=!0,nn(o,h)):o}o=a}}function nr(t){for(var e=t.e*pn,n=t.d[0];n>=10;n/=10)e++;return e}function g_(t,e,n){if(e>t.LN10.sd())throw wn=!0,n&&(t.precision=n),Error(Ro+"LN10 precision limit exceeded");return nn(new t(t.LN10),e)}function jl(t){for(var e="";t--;)e+="0";return e}function qh(t,e){var n,r,i,o,a,l,u,d,p,h=1,y=10,b=t,E=b.d,S=b.constructor,_=S.precision;if(b.s<1)throw Error(Ro+(b.s?"NaN":"-Infinity"));if(b.eq(Xi))return new S(0);if(e==null?(wn=!1,d=_):d=e,b.eq(10))return e==null&&(wn=!0),g_(S,d);if(d+=y,S.precision=d,n=Oa(E),r=n.charAt(0),o=nr(b),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=Oa(b.d),r=n.charAt(0),h++;o=nr(b),r>1?(b=new S("0."+n),o++):b=new S(r+"."+n.slice(1))}else return u=g_(S,d+2,_).times(o+""),b=qh(new S(r+"."+n.slice(1)),d-y).plus(u),S.precision=_,e==null?(wn=!0,nn(b,_)):b;for(l=a=b=Ss(b.minus(Xi),b.plus(Xi),d),p=nn(b.times(b),d),i=3;;){if(a=nn(a.times(p),d),u=l.plus(Ss(a,new S(i),d)),Oa(u.d).slice(0,d)===Oa(l.d).slice(0,d))return l=l.times(2),o!==0&&(l=l.plus(g_(S,d+2,_).times(o+""))),l=Ss(l,new S(h),d),S.precision=_,e==null?(wn=!0,nn(l,_)):l;l=u,i+=2}}function hM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ep(n/pn),t.d=[],r=(n+1)%pn,n<0&&(r+=pn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=pn;r<i;)t.d.push(+e.slice(r,r+=pn));e=e.slice(r),r=pn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),wn&&(t.e>l0||t.e<-l0))throw Error(vA+n)}else t.s=0,t.e=0,t.d=[0];return t}function nn(t,e,n){var r,i,o,a,l,u,d,p,h=t.d;for(a=1,o=h[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=pn,i=e,d=h[p=0];else{if(p=Math.ceil((r+1)/pn),o=h.length,p>=o)return t;for(d=o=h[p],a=1;o>=10;o/=10)a++;r%=pn,i=r-pn+a}if(n!==void 0&&(o=Xc(10,a-i-1),l=d/o%10|0,u=e<0||h[p+1]!==void 0||d%o,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/Xc(10,a-i):0:h[p-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return u?(o=nr(t),h.length=1,e=e-o-1,h[0]=Xc(10,(pn-e%pn)%pn),t.e=Ep(-e/pn)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=p,o=1,p--):(h.length=p+1,o=Xc(10,pn-r),h[p]=i>0?(d/Xc(10,a-i)%Xc(10,i)|0)*o:0),u)for(;;)if(p==0){(h[0]+=o)==kr&&(h[0]=1,++t.e);break}else{if(h[p]+=o,h[p]!=kr)break;h[p--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(wn&&(t.e>l0||t.e<-l0))throw Error(vA+nr(t));return t}function eU(t,e){var n,r,i,o,a,l,u,d,p,h,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),wn?nn(e,b):e;if(u=t.d,h=e.d,r=e.e,d=t.e,u=u.slice(),a=d-r,a){for(p=a<0,p?(n=u,a=-a,l=h.length):(n=h,r=d,l=u.length),i=Math.max(Math.ceil(b/pn),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=h.length,p=i<l,p&&(l=i),i=0;i<l;i++)if(u[i]!=h[i]){p=u[i]<h[i];break}a=0}for(p&&(n=u,u=h,h=n,e.s=-e.s),l=u.length,i=h.length-l;i>0;--i)u[l++]=0;for(i=h.length;i>a;){if(u[--i]<h[i]){for(o=i;o&&u[--o]===0;)u[o]=kr-1;--u[o],u[i]+=kr}u[i]-=h[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,wn?nn(e,b):e):new y(0)}function gu(t,e,n){var r,i=nr(t),o=Oa(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+jl(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+jl(-i-1)+o,n&&(r=n-a)>0&&(o+=jl(r))):i>=a?(o+=jl(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+jl(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=jl(r))),t.s<0?"-"+o:o}function gM(t,e){if(t.length>e)return t.length=e,!0}function tU(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(cu+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return hM(a,o.toString())}else if(typeof o!="string")throw Error(cu+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,ate.test(o))hM(a,o);else throw Error(cu+o)}if(i.prototype=Be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tU,i.config=i.set=ste,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ste(t){if(!t||typeof t!="object")throw Error(Ro+"Object expected");var e,n,r,i=["precision",1,Tp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ep(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(cu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(cu+n+": "+r);return this}var wA=tU(ote);Xi=new wA(1);const Kt=wA;var lte=t=>t,nU={},rU=t=>t===nU,mM=t=>function e(){return arguments.length===0||arguments.length===1&&rU(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},iU=(t,e)=>t===1?e:mM(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(a=>a!==nU).length;return o>=t?e(...r):iU(t-o,mM(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var d=r.map(p=>rU(p)?l.shift():p);return e(...d,...l)}))}),cte=t=>iU(t.length,t),oE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},ute=cte((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),dte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return lte;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((l,u)=>u(l),o(...arguments))}},aE=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function oU(t){var e;return t===0?e=1:e=Math.floor(new Kt(t).abs().log(10).toNumber())+1,e}function aU(t,e,n){for(var r=new Kt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var sU=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},lU=(t,e,n)=>{if(t.lte(0))return new Kt(0);var r=oU(t.toNumber()),i=new Kt(10).pow(r),o=t.div(i),a=r!==1?.05:.1,l=new Kt(Math.ceil(o.div(a).toNumber())).add(n).mul(a),u=l.mul(i);return e?new Kt(u.toNumber()):new Kt(Math.ceil(u.toNumber()))},pte=(t,e,n)=>{var r=new Kt(1),i=new Kt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Kt(10).pow(oU(t)-1),i=new Kt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Kt(Math.floor(t)))}else t===0?i=new Kt(Math.floor((e-1)/2)):n||(i=new Kt(Math.floor(t)));var a=Math.floor((e-1)/2),l=dte(ute(u=>i.add(new Kt(u-a).mul(r)).toNumber()),oE);return l(0,e)},cU=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Kt(0),tickMin:new Kt(0),tickMax:new Kt(0)};var a=lU(new Kt(n).sub(e).div(r-1),i,o),l;e<=0&&n>=0?l=new Kt(0):(l=new Kt(e).add(n).div(2),l=l.sub(new Kt(l).mod(a)));var u=Math.ceil(l.sub(e).div(a).toNumber()),d=Math.ceil(new Kt(n).sub(l).div(a).toNumber()),p=u+d+1;return p>r?cU(e,n,r,i,o+1):(p<r&&(d=n>0?d+(r-p):d,u=n>0?u:u+(r-p)),{step:a,tickMin:l.sub(new Kt(u).mul(a)),tickMax:l.add(new Kt(d).mul(a))})},fte=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[l,u]=sU([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...oE(0,i-1).map(()=>1/0)]:[...oE(0,i-1).map(()=>-1/0),u];return n>r?aE(d):d}if(l===u)return pte(l,i,o);var{step:p,tickMin:h,tickMax:y}=cU(l,u,a,o,0),b=aU(h,y.add(new Kt(.1).mul(p)),p);return n>r?aE(b):b},hte=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=sU([r,i]);if(a===-1/0||l===1/0)return[r,i];if(a===l)return[a];var u=Math.max(n,2),d=lU(new Kt(l).sub(a).div(u-1),o,0),p=[...aU(new Kt(a),new Kt(l),d),l];return o===!1&&(p=p.map(h=>Math.round(h))),r>i?aE(p):p},uU=t=>t.rootProps.maxBarSize,gte=t=>t.rootProps.barGap,dU=t=>t.rootProps.barCategoryGap,mte=t=>t.rootProps.barSize,Bv=t=>t.rootProps.stackOffset,pU=t=>t.rootProps.reverseStackOrder,xA=t=>t.options.chartName,kA=t=>t.rootProps.syncId,fU=t=>t.rootProps.syncMethod,_A=t=>t.options.eventEmitter,Er={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ws={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ji={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},qv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},yte={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ws.angleAxisId,includeHidden:!1,name:void 0,reversed:ws.reversed,scale:ws.scale,tick:ws.tick,tickCount:void 0,ticks:void 0,type:ws.type,unit:void 0},bte={allowDataOverflow:Ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ji.scale,tick:Ji.tick,tickCount:Ji.tickCount,ticks:void 0,type:Ji.type,unit:void 0},vte={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ws.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ws.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ws.scale,tick:ws.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},wte={allowDataOverflow:Ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ji.scale,tick:Ji.tick,tickCount:Ji.tickCount,ticks:void 0,type:"category",unit:void 0},TA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?vte:yte,EA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?wte:bte,$v=t=>t.polarOptions,SA=me([$s,Hs,Sr],hQ),hU=me([$v,SA],(t,e)=>{if(t!=null)return Zo(t.innerRadius,e,0)}),gU=me([$v,SA],(t,e)=>{if(t!=null)return Zo(t.outerRadius,e,e*.8)}),xte=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},mU=me([$v],xte);me([TA,mU],qv);var yU=me([SA,hU,gU],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});me([EA,yU],qv);var bU=me([jt,$v,hU,gU,$s,Hs],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:u,endAngle:d}=e;return{cx:Zo(a,i,i/2),cy:Zo(l,o,o/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),dr=(t,e)=>e,Hv=(t,e,n)=>n;function AA(t){return t==null?void 0:t.id}function vU(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,a=new Map;return t.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var p=AA(l);d.forEach((h,y)=>{var b=o==null||i?y:String(sr(h,o,null)),E=sr(h,l.dataKey,0),S;a.has(b)?S=a.get(b):S={},Object.assign(S,{[p]:E}),a.set(b,S)})}}),Array.from(a.values())}function Gv(t){return t.stackId!=null&&t.dataKey!=null}var Kv=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Wv(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function kte(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var pr=t=>{var e=jt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Sp=t=>t.tooltip.settings.axisId;function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){_te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _te(t,e,n){return(e=Tte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tte(t){var e=Ete(t,"string");return typeof e=="symbol"?e:e+""}function Ete(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sE=[0,"auto"],vr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},wU=(t,e)=>t.cartesianAxis.xAxis[e],Ks=(t,e)=>{var n=wU(t,e);return n??vr},wr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:sE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hg},xU=(t,e)=>t.cartesianAxis.yAxis[e],Ws=(t,e)=>{var n=xU(t,e);return n??wr},Ste={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},CA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Ste},hi=(t,e,n)=>{switch(e){case"xAxis":return Ks(t,n);case"yAxis":return Ws(t,n);case"zAxis":return CA(t,n);case"angleAxis":return TA(t,n);case"radiusAxis":return EA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ate=(t,e,n)=>{switch(e){case"xAxis":return Ks(t,n);case"yAxis":return Ws(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},kg=(t,e,n)=>{switch(e){case"xAxis":return Ks(t,n);case"yAxis":return Ws(t,n);case"angleAxis":return TA(t,n);case"radiusAxis":return EA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},kU=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function _U(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Yv=t=>t.graphicalItems.cartesianItems,Cte=me([dr,Hv],_U),TU=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),_g=me([Yv,hi,Cte],TU,{memoizeOptions:{resultEqualityCheck:Wv}}),EU=me([_g],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Gv)),SU=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Ite=me([_g],SU),AU=t=>t.map(e=>e.data).filter(Boolean).flat(1),Nte=me([_g],AU,{memoizeOptions:{resultEqualityCheck:Wv}}),CU=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},IA=me([Nte,Fv],CU),IU=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:sr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:sr(i,r)}))):t.map(r=>({value:r})),Jv=me([IA,hi,_g],IU);function NU(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function gb(t){if(Ha(t)||t instanceof Date){var e=Number(t);if(Vn(e))return e}}function bM(t){if(Array.isArray(t)){var e=[gb(t[0]),gb(t[1])];return rc(e)?e:void 0}var n=gb(t);if(n!=null)return[n,n]}function Ms(t){return t.map(gb).filter(FK)}function Rte(t,e,n){return!n||typeof e!="number"||Qo(e)?[]:n.length?Ms(n.flatMap(r=>{var i=sr(t,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!Vn(o)||!Vn(a)))return[e-o,e+a]})):[]}var fr=t=>{var e=pr(t),n=Sp(t);return kg(t,e,n)},Tg=me([fr],t=>t==null?void 0:t.dataKey),Ote=me([EU,Fv,fr],vU),RU=(t,e,n,r)=>{var i={},o=e.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),i);return Object.fromEntries(Object.entries(o).map(a=>{var[l,u]=a,d=r?[...u].reverse():u,p=d.map(AA);return[l,{stackedData:aJ(t,p,n),graphicalItems:d}]}))},lE=me([Ote,EU,Bv,pU],RU),OU=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var a=dJ(t,i,o);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Pte=me([hi],t=>t.allowDataOverflow),NA=t=>{var e;if(t==null||!("domain"in t))return sE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Ms(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:sE},PU=me([hi],NA),DU=me([PU,Pte],J6),Dte=me([lE,yc,dr,DU],OU,{memoizeOptions:{resultEqualityCheck:Kv}}),RA=t=>t.errorBars,Mte=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>NU(n,r)),u0=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),l=Math.max(...o);return[a,l]}},MU=(t,e,n,r,i)=>{var o,a;if(n.length>0&&t.forEach(l=>{n.forEach(u=>{var d,p,h=(d=r[u.id])===null||d===void 0?void 0:d.filter(C=>NU(i,C)),y=sr(l,(p=e.dataKey)!==null&&p!==void 0?p:u.dataKey),b=Rte(l,y,h);if(b.length>=2){var E=Math.min(...b),S=Math.max(...b);(o==null||E<o)&&(o=E),(a==null||S>a)&&(a=S)}var _=bM(y);_!=null&&(o=o==null?_[0]:Math.min(o,_[0]),a=a==null?_[1]:Math.max(a,_[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(l=>{var u=bM(sr(l,e.dataKey));u!=null&&(o=o==null?u[0]:Math.min(o,u[0]),a=a==null?u[1]:Math.max(a,u[1]))}),Vn(o)&&Vn(a))return[o,a]},zte=me([IA,hi,Ite,RA,dr],MU,{memoizeOptions:{resultEqualityCheck:Kv}});function Lte(t){var{value:e}=t;if(Ha(e)||e instanceof Date)return e}var jte=(t,e,n)=>{var r=t.map(Lte).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&K9(r))?g6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},zU=t=>t.referenceElements.dots,Ap=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Ute=me([zU,dr,Hv],Ap),LU=t=>t.referenceElements.areas,Vte=me([LU,dr,Hv],Ap),jU=t=>t.referenceElements.lines,Fte=me([jU,dr,Hv],Ap),UU=(t,e)=>{var n=Ms(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Bte=me(Ute,dr,UU),VU=(t,e)=>{var n=Ms(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qte=me([Vte,dr],VU);function $te(t){var e;if(t.x!=null)return Ms([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ms(n)}function Hte(t){var e;if(t.y!=null)return Ms([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ms(n)}var FU=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?$te(r):Hte(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Gte=me([Fte,dr],FU),Kte=me(Bte,Gte,qte,(t,e,n)=>u0(t,n,e)),BU=(t,e,n,r,i,o,a,l)=>{if(n!=null)return n;var u=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",d=u?u0(r,o,i):u0(o,i);return ite(e,d,t.allowDataOverflow)},Wte=me([hi,PU,DU,Dte,zte,Kte,jt,dr],BU,{memoizeOptions:{resultEqualityCheck:Kv}}),Yte=[0,1],qU=(t,e,n,r,i,o,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:u}=t,d=hc(e,o);if(d&&l==null){var p;return g6(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return u==="category"?jte(r,t,d):i==="expand"?Yte:a}},OA=me([hi,jt,IA,Jv,Bv,dr,Wte],qU),$U=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:a}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof o=="string"){var l="scale".concat(cg(o));return l in sh?l:"point"}}},Eg=me([hi,jt,kU,xA,dr],$U);function Jte(t){if(t!=null){if(t in sh)return sh[t]();var e="scale".concat(cg(t));if(e in sh)return sh[e]()}}function PA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Jte(e);if(i!=null){var o=i.domain(n).range(r);return tJ(o),o}}}var HU=(t,e,n)=>{var r=NA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&rc(t))return fte(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&rc(t))return hte(t,e.tickCount,e.allowDecimals)}},DA=me([OA,kg,Eg],HU),GU=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&rc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],a=e[1],l=n[n.length-1];return[Math.min(i,o),Math.max(a,l)]}return e},Xte=me([hi,OA,DA,dr],GU),Qte=me(Jv,hi,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ms(t.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),KU=me(Qte,jt,dU,Sr,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Vn(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var a=Zo(n,t*o),l=t*o/2;return l-a-(l-a)/o*a}return 0}),Zte=(t,e)=>{var n=Ks(t,e);return n==null||typeof n.padding!="string"?0:KU(t,"xAxis",e,n.padding)},ene=(t,e)=>{var n=Ws(t,e);return n==null||typeof n.padding!="string"?0:KU(t,"yAxis",e,n.padding)},tne=me(Ks,Zte,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),nne=me(Ws,ene,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),rne=me([Sr,tne,Av,Sv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),ine=me([Sr,jt,nne,Av,Sv,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Sg=(t,e,n,r)=>{var i;switch(e){case"xAxis":return rne(t,n,r);case"yAxis":return ine(t,n,r);case"zAxis":return(i=CA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return mU(t);case"radiusAxis":return yU(t,n);default:return}},WU=me([hi,Sg],qv),Cp=me([hi,Eg,Xte,WU],PA);me([_g,RA,dr],Mte);function YU(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Xv=(t,e)=>e,Qv=(t,e,n)=>n,one=me(Tv,Xv,Qv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(YU)),ane=me(Ev,Xv,Qv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(YU)),JU=(t,e)=>({width:t.width,height:e.height}),sne=(t,e)=>{var n=typeof e.width=="number"?e.width:hg;return{width:n,height:t.height}},XU=me(Sr,Ks,JU),lne=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},cne=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},une=me(Hs,Sr,one,Xv,Qv,(t,e,n,r,i)=>{var o={},a;return n.forEach(l=>{var u=JU(e,l);a==null&&(a=lne(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;o[l.id]=a-Number(d)*u.height,a+=(d?-1:1)*u.height}),o}),dne=me($s,Sr,ane,Xv,Qv,(t,e,n,r,i)=>{var o={},a;return n.forEach(l=>{var u=sne(e,l);a==null&&(a=cne(e,r,t));var d=r==="left"&&!i||r==="right"&&i;o[l.id]=a-Number(d)*u.width,a+=(d?-1:1)*u.width}),o}),pne=(t,e)=>{var n=Ks(t,e);if(n!=null)return une(t,n.orientation,n.mirror)},fne=me([Sr,Ks,pne,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),hne=(t,e)=>{var n=Ws(t,e);if(n!=null)return dne(t,n.orientation,n.mirror)},gne=me([Sr,Ws,hne,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),QU=me(Sr,Ws,(t,e)=>{var n=typeof e.width=="number"?e.width:hg;return{width:n,height:t.height}}),vM=(t,e,n)=>{switch(e){case"xAxis":return XU(t,n).width;case"yAxis":return QU(t,n).height;default:return}},ZU=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,l=hc(t,r),u=e.map(d=>d.value);if(a&&l&&o==="category"&&i&&K9(u))return u}},MA=me([jt,Jv,hi,dr],ZU),eV=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=hc(t,r);if(a&&(i==="number"||o!=="auto"))return e.map(l=>l.value)}},zA=me([jt,Jv,kg,dr],eV),wM=me([jt,Ate,Eg,Cp,MA,zA,Sg,DA,dr],(t,e,n,r,i,o,a,l,u)=>{if(e!=null){var d=hc(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:l,range:a,realScaleType:n,scale:r}}}),mne=(t,e,n,r,i,o,a,l,u)=>{if(!(e==null||r==null)){var d=hc(t,u),{type:p,ticks:h,tickCount:y}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/b:0;E=u==="angleAxis"&&o!=null&&o.length>=2?Ni(o[0]-o[1])*2*E:E;var S=h||i;if(S){var _=S.map((C,R)=>{var I=a?a.indexOf(C):C;return{index:R,coordinate:r(I)+E,value:C,offset:E}});return _.filter(C=>Vn(C.coordinate))}return d&&l?l.map((C,R)=>({coordinate:r(C)+E,value:C,index:R,offset:E})).filter(C=>Vn(C.coordinate)):r.ticks?r.ticks(y).map(C=>({coordinate:r(C)+E,value:C,offset:E})):r.domain().map((C,R)=>({coordinate:r(C)+E,value:a?a[C]:C,index:R,offset:E}))}},tV=me([jt,kg,Eg,Cp,DA,Sg,MA,zA,dr],mne),yne=(t,e,n,r,i,o,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=hc(t,a),{tickCount:u}=e,d=0;return d=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Ni(r[0]-r[1])*2*d:d,l&&o?o.map((p,h)=>({coordinate:n(p)+d,value:p,index:h,offset:d})):n.ticks?n.ticks(u).map(p=>({coordinate:n(p)+d,value:p,offset:d})):n.domain().map((p,h)=>({coordinate:n(p)+d,value:i?i[p]:p,index:h,offset:d}))}},ic=me([jt,kg,Cp,Sg,MA,zA,dr],yne),oc=me(hi,Cp,(t,e)=>{if(!(t==null||e==null))return c0(c0({},t),{},{scale:e})}),bne=me([hi,Eg,OA,WU],PA);me((t,e,n)=>CA(t,n),bne,(t,e)=>{if(!(t==null||e==null))return c0(c0({},t),{},{scale:e})});var vne=me([jt,Tv,Ev],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),nV=t=>t.options.defaultTooltipEventType,rV=t=>t.options.validateTooltipEventTypes;function iV(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function LA(t,e){var n=nV(t),r=rV(t);return iV(e,n,r)}function wne(t){return Ke(e=>LA(e,t))}var oV=(t,e)=>{var n,r=Number(e);if(!(Qo(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},xne=t=>t.tooltip.settings,Fl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},kne={itemInteraction:{click:Fl,hover:Fl},axisInteraction:{click:Fl,hover:Fl},keyboardInteraction:Fl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},aV=Mi({name:"tooltip",initialState:kne,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:vn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Jo(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:vn()},removeTooltipEntrySettings:{reducer(t,e){var n=Jo(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:vn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:_ne,replaceTooltipEntrySettings:Tne,removeTooltipEntrySettings:Ene,setTooltipSettingsState:Sne,setActiveMouseOverItemIndex:sV,mouseLeaveItem:Ane,mouseLeaveChart:lV,setActiveClickItemIndex:Cne,setMouseOverAxisIndex:cV,setMouseClickAxisIndex:Ine,setSyncInteraction:cE,setKeyboardInteraction:uE}=aV.actions,Nne=aV.reducer;function xM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(n),!0).forEach(function(r){Rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rne(t,e,n){return(e=One(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function One(t){var e=Pne(t,"string");return typeof e=="symbol"?e:e+""}function Pne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dne(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Mne(t){return t.index!=null}var uV=(t,e,n,r)=>{if(e==null)return Fl;var i=Dne(t,e,n);if(i==null)return Fl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(Mne(i)){if(o)return $y($y({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return $y($y({},Fl),{},{coordinate:i.coordinate})};function zne(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Lne(t,e){var n=zne(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),a=Math.max(r,i);return n>=o&&n<=a}function jne(t,e,n){if(n==null||e==null)return!0;var r=sr(t,e);return r==null||!rc(n)?!0:Lne(r,n)}var jA=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var o=Number(i);if(!Vn(o))return i;var a=0,l=1/0;e.length>0&&(l=e.length-1);var u=Math.max(a,Math.min(o,l)),d=e[u];return d==null||jne(d,n,r)?String(u):null},dV=(t,e,n,r,i,o,a,l)=>{if(!(o==null||l==null)){var u=a[0],d=u==null?void 0:l(u.positions,o);if(d!=null)return d;var p=i==null?void 0:i[Number(o)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},pV=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.dataKey)===i})},Ag=t=>t.options.tooltipPayloadSearcher,Ip=t=>t.tooltip;function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){Une(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Une(t,e,n){return(e=Vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vne(t){var e=Fne(t,"string");return typeof e=="symbol"?e:e+""}function Fne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bne(t,e){return t??e}var fV=(t,e,n,r,i,o,a)=>{if(!(e==null||o==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:p}=n,h=[];return t.reduce((y,b)=>{var E,{dataDefinedOnItem:S,settings:_}=b,C=Bne(S,l),R=Array.isArray(C)?V3(C,d,p):C,I=(E=_==null?void 0:_.dataKey)!==null&&E!==void 0?E:r,O=_==null?void 0:_.nameKey,U;if(r&&Array.isArray(R)&&!Array.isArray(R[0])&&a==="axis"?U=W9(R,r,i):U=o(R,e,u,O),Array.isArray(U))U.forEach(D=>{var L=_M(_M({},_),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});y.push(HP({tooltipEntrySettings:L,dataKey:D.dataKey,payload:D.payload,value:sr(D.payload,D.dataKey),name:D.name}))});else{var M;y.push(HP({tooltipEntrySettings:_,dataKey:I,payload:U,value:sr(U,I),name:(M=sr(U,O))!==null&&M!==void 0?M:_==null?void 0:_.name}))}return y},h)}},UA=me([fr,jt,kU,xA,pr],$U),qne=me([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),$ne=me([pr,Sp],_U),Cg=me([qne,fr,$ne],TU,{memoizeOptions:{resultEqualityCheck:Wv}}),Hne=me([Cg],t=>t.filter(Gv)),Gne=me([Cg],AU,{memoizeOptions:{resultEqualityCheck:Wv}}),Np=me([Gne,yc],CU),Kne=me([Hne,yc,fr],vU),VA=me([Np,fr,Cg],IU),hV=me([fr],NA),Wne=me([fr],t=>t.allowDataOverflow),gV=me([hV,Wne],J6),Yne=me([Cg],t=>t.filter(Gv)),Jne=me([Kne,Yne,Bv,pU],RU),Xne=me([Jne,yc,pr,gV],OU),Qne=me([Cg],SU),Zne=me([Np,fr,Qne,RA,pr],MU,{memoizeOptions:{resultEqualityCheck:Kv}}),ere=me([zU,pr,Sp],Ap),tre=me([ere,pr],UU),nre=me([LU,pr,Sp],Ap),rre=me([nre,pr],VU),ire=me([jU,pr,Sp],Ap),ore=me([ire,pr],FU),are=me([tre,ore,rre],u0),sre=me([fr,hV,gV,Xne,Zne,are,jt,pr],BU),Ig=me([fr,jt,Np,VA,Bv,pr,sre],qU),lre=me([Ig,fr,UA],HU),cre=me([fr,Ig,lre,pr],GU),mV=t=>{var e=pr(t),n=Sp(t),r=!1;return Sg(t,e,n,r)},yV=me([fr,mV],qv),bV=me([fr,UA,cre,yV],PA),ure=me([jt,VA,fr,pr],ZU),dre=me([jt,VA,fr,pr],eV),pre=(t,e,n,r,i,o,a,l)=>{if(e){var{type:u}=e,d=hc(t,l);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=u==="category"&&r.bandwidth?r.bandwidth()/p:0;return h=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ni(i[0]-i[1])*2*h:h,d&&a?a.map((y,b)=>({coordinate:r(y)+h,value:y,index:b,offset:h})):r.domain().map((y,b)=>({coordinate:r(y)+h,value:o?o[y]:y,index:b,offset:h}))}}},Ys=me([jt,fr,UA,bV,mV,ure,dre,pr],pre),FA=me([nV,rV,xne],(t,e,n)=>iV(n.shared,t,e)),vV=t=>t.tooltip.settings.trigger,BA=t=>t.tooltip.settings.defaultIndex,Ng=me([Ip,FA,vV,BA],uV),mu=me([Ng,Np,Tg,Ig],jA),wV=me([Ys,mu],oV),xV=me([Ng],t=>{if(t)return t.dataKey});me([Ng],t=>{if(t)return t.graphicalItemId});var kV=me([Ip,FA,vV,BA],pV),fre=me([$s,Hs,jt,Sr,Ys,BA,kV,Ag],dV),hre=me([Ng,fre],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),gre=me([Ng],t=>t.active),mre=me([kV,mu,yc,Tg,wV,Ag,FA],fV),yre=me([mre],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bre(t,e,n){return(e=vre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vre(t){var e=wre(t,"string");return typeof e=="symbol"?e:e+""}function wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xre=()=>Ke(fr),kre=()=>{var t=xre(),e=Ke(Ys),n=Ke(bV);return op(!t||!n?void 0:EM(EM({},t),{},{scale:n}),e)};function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){_re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _re(t,e,n){return(e=Tre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tre(t){var e=Ere(t,"string");return typeof e=="symbol"?e:e+""}function Ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sre=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Are=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:a}=r;return Sd(Sd(Sd({},r),jr(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var l=i.coordinate,{angle:u}=r;return Sd(Sd(Sd({},r),jr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Cre(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var _V=(t,e,n,r,i)=>{var o,a=-1,l=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,p=n[u].coordinate,h=u>=l-1?n[0].coordinate:n[u+1].coordinate,y=void 0;if(Ni(p-d)!==Ni(h-p)){var b=[];if(Ni(h-p)===Ni(i[1]-i[0])){y=h;var E=p+i[1]-i[0];b[0]=Math.min(E,(E+d)/2),b[1]=Math.max(E,(E+d)/2)}else{y=d;var S=h+i[1]-i[0];b[0]=Math.min(p,(S+p)/2),b[1]=Math.max(p,(S+p)/2)}var _=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(t>_[0]&&t<=_[1]||t>=b[0]&&t<=b[1]){({index:a}=n[u]);break}}else{var C=Math.min(d,h),R=Math.max(d,h);if(t>(C+p)/2&&t<=(R+p)/2){({index:a}=n[u]);break}}}else if(e){for(var I=0;I<l;I++)if(I===0&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I>0&&I<l-1&&t>(e[I].coordinate+e[I-1].coordinate)/2&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I===l-1&&t>(e[I].coordinate+e[I-1].coordinate)/2){({index:a}=e[I]);break}}return a},Ire=()=>Ke(xA),qA=(t,e)=>e,TV=(t,e,n)=>n,$A=(t,e,n,r)=>r,Nre=me(Ys,t=>hv(t,e=>e.coordinate)),HA=me([Ip,qA,TV,$A],uV),GA=me([HA,Np,Tg,Ig],jA),Rre=(t,e,n)=>{if(e!=null){var r=Ip(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},EV=me([Ip,qA,TV,$A],pV),d0=me([$s,Hs,jt,Sr,Ys,$A,EV,Ag],dV),Ore=me([HA,d0],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),SV=me([Ys,GA],oV),Pre=me([EV,GA,yc,Tg,SV,Ag,qA],fV),Dre=me([HA,GA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Mre=(t,e,n,r,i,o,a)=>{if(!(!t||!n||!r||!i)&&Cre(t,a)){var l=pJ(t,e),u=_V(l,o,i,n,r),d=Sre(e,i,u,t);return{activeIndex:String(u),activeCoordinate:d}}},zre=(t,e,n,r,i,o,a)=>{if(!(!t||!r||!i||!o||!n)){var l=vQ(t,n);if(l){var u=fJ(l,e),d=_V(u,a,o,r,i),p=Are(e,o,d,l);return{activeIndex:String(d),activeCoordinate:p}}}},Lre=(t,e,n,r,i,o,a,l)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?Mre(t,e,r,i,o,a,l):zre(t,e,n,r,i,o,a)},jre=me(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Ure=me(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Er)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:kte}});function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(n),!0).forEach(function(r){Vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vre(t,e,n){return(e=Fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fre(t){var e=Bre(t,"string");return typeof e=="symbol"?e:e+""}function Bre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qre={},$re={zIndexMap:Object.values(Er).reduce((t,e)=>CM(CM({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),qre)},Hre=new Set(Object.values(Er));function Gre(t){return Hre.has(t)}var AV=Mi({name:"zIndex",initialState:$re,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:vn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Gre(n)&&delete t.zIndexMap[n])},prepare:vn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:vn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:vn()}}}),{registerZIndexPortal:Kre,unregisterZIndexPortal:Wre,registerZIndexPortalId:Yre,unregisterZIndexPortalId:Jre}=AV.actions,Xre=AV.reducer;function Do(t){var{zIndex:e,children:n}=t,r=HJ(),i=r&&e!==void 0&&e!==0,o=Qr(),a=Fn();A.useLayoutEffect(()=>i?(a(Kre({zIndex:e})),()=>{a(Wre({zIndex:e}))}):ug,[a,e,i]);var l=Ke(d=>jre(d,e,o));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?Kl.createPortal(n,u):null}function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dE.apply(null,arguments)}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){Qre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qre(t,e,n){return(e=Zre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zre(t){var e=eie(t,"string");return typeof e=="symbol"?e:e+""}function eie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tie(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return A.isValidElement(e)?A.cloneElement(e,r):A.createElement(n,r)}function nie(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:a,layout:l,cursor:u,tooltipEventType:d,chartName:p}=t,h=n,y=r,b=i;if(!u||!h||p!=="ScatterChart"&&d!=="axis")return null;var E,S,_;if(p==="ScatterChart")E=h,S=PX,_=Er.cursorLine;else if(p==="BarChart")E=DX(l,h,o,a),S=d6,_=Er.cursorRectangle;else if(l==="radial"&&X9(h)){var{cx:C,cy:R,radius:I,startAngle:O,endAngle:U}=p6(h);E={cx:C,cy:R,startAngle:O,endAngle:U,innerRadius:I,outerRadius:I},S=h6,_=Er.cursorLine}else E={points:_Q(l,h,o)},S=a6,_=Er.cursorLine;var M=typeof u=="object"&&"className"in u?u.className:void 0,D=Hy(Hy(Hy(Hy({stroke:"#ccc",pointerEvents:"none"},o),E),lg(u)),{},{payload:y,payloadIndex:b,className:Ft("recharts-tooltip-cursor",M)});return A.createElement(Do,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:_},A.createElement(tie,{cursor:u,cursorComp:S,cursorProps:D}))}function rie(t){var e=kre(),n=Y3(),r=gg(),i=Ire();return e==null||n==null||r==null||i==null?null:A.createElement(nie,dE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var CV=A.createContext(null),iie=()=>A.useContext(CV),m_={exports:{}},NM;function oie(){return NM||(NM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,p){this.fn=u,this.context=d,this.once=p||!1}function o(u,d,p,h,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,h||u,y),E=n?n+d:d;return u._events[E]?u._events[E].fn?u._events[E]=[u._events[E],b]:u._events[E].push(b):(u._events[E]=b,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],p,h;if(this._eventsCount===0)return d;for(h in p=this._events)e.call(p,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},l.prototype.listeners=function(d){var p=n?n+d:d,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var y=0,b=h.length,E=new Array(b);y<b;y++)E[y]=h[y].fn;return E},l.prototype.listenerCount=function(d){var p=n?n+d:d,h=this._events[p];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,p,h,y,b,E){var S=n?n+d:d;if(!this._events[S])return!1;var _=this._events[S],C=arguments.length,R,I;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),C){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,h),!0;case 4:return _.fn.call(_.context,p,h,y),!0;case 5:return _.fn.call(_.context,p,h,y,b),!0;case 6:return _.fn.call(_.context,p,h,y,b,E),!0}for(I=1,R=new Array(C-1);I<C;I++)R[I-1]=arguments[I];_.fn.apply(_.context,R)}else{var O=_.length,U;for(I=0;I<O;I++)switch(_[I].once&&this.removeListener(d,_[I].fn,void 0,!0),C){case 1:_[I].fn.call(_[I].context);break;case 2:_[I].fn.call(_[I].context,p);break;case 3:_[I].fn.call(_[I].context,p,h);break;case 4:_[I].fn.call(_[I].context,p,h,y);break;default:if(!R)for(U=1,R=new Array(C-1);U<C;U++)R[U-1]=arguments[U];_[I].fn.apply(_[I].context,R)}}return!0},l.prototype.on=function(d,p,h){return o(this,d,p,h,!1)},l.prototype.once=function(d,p,h){return o(this,d,p,h,!0)},l.prototype.removeListener=function(d,p,h,y){var b=n?n+d:d;if(!this._events[b])return this;if(!p)return a(this,b),this;var E=this._events[b];if(E.fn)E.fn===p&&(!y||E.once)&&(!h||E.context===h)&&a(this,b);else{for(var S=0,_=[],C=E.length;S<C;S++)(E[S].fn!==p||y&&!E[S].once||h&&E[S].context!==h)&&_.push(E[S]);_.length?this._events[b]=_.length===1?_[0]:_:a(this,b)}return this},l.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&a(this,p)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(m_)),m_.exports}var aie=oie();const sie=Oo(aie);var $h=new sie,pE="recharts.syncEvent.tooltip",RM="recharts.syncEvent.brush";function IV(t,e){if(e){var n=Number.parseInt(e,10);if(!Qo(n))return t==null?void 0:t[n]}}var lie={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},NV=Mi({name:"options",initialState:lie,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),cie=NV.reducer,{createEventEmitter:uie}=NV.actions;function die(t){return t.tooltip.syncInteraction}var pie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},RV=Mi({name:"chartData",initialState:pie,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:OM,setDataStartEndIndexes:fie,setComputedData:Xze}=RV.actions,hie=RV.reducer,gie=["x","y"];function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ad(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){mie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mie(t,e,n){return(e=yie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yie(t){var e=bie(t,"string");return typeof e=="symbol"?e:e+""}function bie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vie(t,e){if(t==null)return{};var n,r,i=wie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xie(){var t=Ke(kA),e=Ke(_A),n=Fn(),r=Ke(fU),i=Ke(Ys),o=gg(),a=Cv(),l=Ke(u=>u.rootProps.className);A.useEffect(()=>{if(t==null)return ug;var u=(d,p,h)=>{if(e!==h&&t===d){if(r==="index"){var y;if(a&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var b=p.payload.coordinate,{x:E,y:S}=b,_=vie(b,gie),{x:C,y:R,width:I,height:O}=p.payload.sourceViewBox,U=Ad(Ad({},_),{},{x:a.x+(I?(E-C)/I:0)*a.width,y:a.y+(O?(S-R)/O:0)*a.height});n(Ad(Ad({},p),{},{payload:Ad(Ad({},p.payload),{},{coordinate:U})}))}else n(p);return}if(i!=null){var M;if(typeof r=="function"){var D={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},L=r(i,D);M=i[L]}else r==="value"&&(M=i.find(X=>String(X.value)===p.payload.label));var{coordinate:z}=p.payload;if(M==null||p.payload.active===!1||z==null||a==null){n(cE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:V}=z,q=Math.min(B,a.x+a.width),F=Math.min(V,a.y+a.height),oe={x:o==="horizontal"?M.coordinate:q,y:o==="horizontal"?F:M.coordinate},Z=cE({active:p.payload.active,coordinate:oe,dataKey:p.payload.dataKey,index:String(M.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Z)}}};return $h.on(pE,u),()=>{$h.off(pE,u)}},[l,n,e,t,r,i,o,a])}function kie(){var t=Ke(kA),e=Ke(_A),n=Fn();A.useEffect(()=>{if(t==null)return ug;var r=(i,o,a)=>{e!==a&&t===i&&n(fie(o))};return $h.on(RM,r),()=>{$h.off(RM,r)}},[n,e,t])}function _ie(){var t=Fn();A.useEffect(()=>{t(uie())},[t]),xie(),kie()}function Tie(t,e,n,r,i,o){var a=Ke(b=>Rre(b,t,e)),l=Ke(_A),u=Ke(kA),d=Ke(fU),p=Ke(die),h=p==null?void 0:p.active,y=Cv();A.useEffect(()=>{if(!h&&u!=null&&l!=null){var b=cE({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});$h.emit(pE,u,b,l)}},[h,n,a,i,r,l,u,d,o,y])}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){Eie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eie(t,e,n){return(e=Sie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sie(t){var e=Aie(t,"string");return typeof e=="symbol"?e:e+""}function Aie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cie(t){return t.dataKey}function Iie(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(pX,e)}var zM=[],Nie={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function OV(t){var e,n,r=fi(t,Nie),{active:i,allowEscapeViewBox:o,animationDuration:a,animationEasing:l,content:u,filterNull:d,isAnimationActive:p,offset:h,payloadUniqBy:y,position:b,reverseDirection:E,useTranslate3d:S,wrapperStyle:_,cursor:C,shared:R,trigger:I,defaultIndex:O,portal:U,axisId:M}=r,D=Fn(),L=typeof O=="number"?String(O):O;A.useEffect(()=>{D(Sne({shared:R,trigger:I,axisId:M,active:i,defaultIndex:L}))},[D,R,I,M,i,L]);var z=Cv(),B=o6(),V=wne(R),{activeIndex:q,isActive:F}=(e=Ke(Ce=>Dre(Ce,V,I,L)))!==null&&e!==void 0?e:{},oe=Ke(Ce=>Pre(Ce,V,I,L)),Z=Ke(Ce=>SV(Ce,V,I,L)),X=Ke(Ce=>Ore(Ce,V,I,L)),J=oe,ie=iie(),te=(n=i??F)!==null&&n!==void 0?n:!1,[G,W]=JW([J,te]),Y=V==="axis"?Z:void 0;Tie(V,I,X,Y,q,te);var H=U??ie;if(H==null||z==null||V==null)return null;var fe=J??zM;te||(fe=zM),d&&fe.length&&(fe=kW(fe.filter(Ce=>Ce.value!=null&&(Ce.hide!==!0||r.includeHidden)),y,Cie));var Se=fe.length>0,we=A.createElement(vX,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:p,active:te,coordinate:X,hasPayload:Se,offset:h,position:b,reverseDirection:E,useTranslate3d:S,viewBox:z,wrapperStyle:_,lastBoundingBox:G,innerRef:W,hasPortalFromProps:!!U},Iie(u,MM(MM({},r),{},{payload:fe,label:Y,active:te,activeIndex:q,coordinate:X,accessibilityLayer:B})));return A.createElement(A.Fragment,null,Kl.createPortal(we,H),te&&A.createElement(rie,{cursor:C,tooltipEventType:V,coordinate:X,payload:fe,index:q}))}var PV=t=>null;PV.displayName="Cell";function Rie(t,e,n){return(e=Oie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oie(t){var e=Pie(t,"string");return typeof e=="symbol"?e:e+""}function Pie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Die{constructor(e){Rie(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){zie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zie(t,e,n){return(e=Lie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lie(t){var e=jie(t,"string");return typeof e=="symbol"?e:e+""}function jie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uie={cacheSize:2e3,enableCache:!0},DV=Mie({},Uie),jM=new Die(DV.cacheSize),Vie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},UM="recharts_measurement_span";function Fie(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(l)}var VM=(t,e)=>{try{var n=document.getElementById(UM);n||(n=document.createElement("span"),n.setAttribute("id",UM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Vie,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},hh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||yg.isSsr)return{width:0,height:0};if(!DV.enableCache)return VM(e,n);var r=Fie(e,n),i=jM.get(r);if(i)return i;var o=VM(e,n);return jM.set(r,o),o},FM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,MV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$ie=Object.keys(MV),jd="NaN";function Hie(t,e){return t*MV[e]}class Ei{static parse(e){var n,[,r,i]=(n=qie.exec(e))!==null&&n!==void 0?n:[];return new Ei(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Qo(e)&&(this.unit=""),n!==""&&!Bie.test(n)&&(this.num=NaN,this.unit=""),$ie.includes(n)&&(this.num=Hie(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Qo(this.num)}}function zV(t){if(t.includes(jd))return jd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=FM.exec(e))!==null&&n!==void 0?n:[],a=Ei.parse(r??""),l=Ei.parse(o??""),u=i==="*"?a.multiply(l):a.divide(l);if(u.isNaN())return jd;e=e.replace(FM,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,p,h,y]=(d=BM.exec(e))!==null&&d!==void 0?d:[],b=Ei.parse(p??""),E=Ei.parse(y??""),S=h==="+"?b.add(E):b.subtract(E);if(S.isNaN())return jd;e=e.replace(BM,S.toString())}return e}var qM=/\(([^()]*)\)/;function Gie(t){for(var e=t,n;(n=qM.exec(e))!=null;){var[,r]=n;e=e.replace(qM,zV(r))}return e}function Kie(t){var e=t.replace(/\s+/g,"");return e=Gie(e),e=zV(e),e}function Wie(t){try{return Kie(t)}catch{return jd}}function y_(t){var e=Wie(t.slice(5,-1));return e===jd?"":e}var Yie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Jie=["dx","dy","angle","className","breakAll"];function fE(){return fE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fE.apply(null,arguments)}function $M(t,e){if(t==null)return{};var n,r,i=Xie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LV=/[ \f\n\r\t\v\u2028\u2029]+/,jV=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];xn(e)||(n?i=e.toString().split(""):i=e.toString().split(LV));var o=i.map(l=>({word:l,width:hh(l,r).width})),a=n?0:hh("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}};function Qie(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var UV=(t,e,n,r)=>t.reduce((i,o)=>{var{word:a,width:l}=o,u=i[i.length-1];if(u&&l!=null&&(e==null||r||u.width+l+n<Number(e)))u.words.push(a),u.width+=l+n;else{var d={words:[a],width:l};i.push(d)}return i},[]),VV=t=>t.reduce((e,n)=>e.width>n.width?e:n),Zie="",HM=(t,e,n,r,i,o,a,l)=>{var u=t.slice(0,e),d=jV({breakAll:n,style:r,children:u+Zie});if(!d)return[!1,[]];var p=UV(d.wordsWithComputedWidth,o,a,l),h=p.length>i||VV(p).width>Number(o);return[h,p]},eoe=(t,e,n,r,i)=>{var{maxLines:o,children:a,style:l,breakAll:u}=t,d=Ge(o),p=String(a),h=UV(e,r,n,i);if(!d||i)return h;var y=h.length>o||VV(h).width>Number(r);if(!y)return h;for(var b=0,E=p.length-1,S=0,_;b<=E&&S<=p.length-1;){var C=Math.floor((b+E)/2),R=C-1,[I,O]=HM(p,R,u,l,o,r,n,i),[U]=HM(p,C,u,l,o,r,n,i);if(!I&&!U&&(b=C+1),I&&U&&(E=C-1),!I&&U){_=O;break}S++}return _||h},GM=t=>{var e=xn(t)?[]:t.toString().split(LV);return[{words:e,width:void 0}]},toe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=t;if((e||n)&&!yg.isSsr){var l,u,d=jV({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:p,spaceWidth:h}=d;l=p,u=h}else return GM(r);return eoe({breakAll:o,children:r,maxLines:a,style:i},l,u,e,!!n)}return GM(r)},FV="#808080",noe={angle:0,breakAll:!1,capHeight:"0.71em",fill:FV,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},KA=A.forwardRef((t,e)=>{var n=fi(t,noe),{x:r,y:i,lineHeight:o,capHeight:a,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:p}=n,h=$M(n,Yie),y=A.useMemo(()=>toe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:u,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,u,h.style,h.width]),{dx:b,dy:E,angle:S,className:_,breakAll:C}=h,R=$M(h,Jie);if(!Ha(r)||!Ha(i)||y.length===0)return null;var I=Number(r)+(Ge(b)?b:0),O=Number(i)+(Ge(E)?E:0);if(!Vn(I)||!Vn(O))return null;var U;switch(p){case"start":U=y_("calc(".concat(a,")"));break;case"middle":U=y_("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(a," / 2))"));break;default:U=y_("calc(".concat(y.length-1," * -").concat(o,")"));break}var M=[];if(u){var D=y[0].width,{width:L}=h;M.push("scale(".concat(Ge(L)&&Ge(D)?L/D:1,")"))}return S&&M.push("rotate(".concat(S,", ").concat(I,", ").concat(O,")")),M.length&&(R.transform=M.join(" ")),A.createElement("text",fE({},di(R),{ref:e,x:I,y:O,className:Ft("recharts-text",_),textAnchor:d,fill:l.includes("url")?FV:l}),y.map((z,B)=>{var V=z.words.join(C?"":" ");return A.createElement("tspan",{x:I,dy:B===0?U:o,key:"".concat(V,"-").concat(B)},V)}))});KA.displayName="Text";var roe=["labelRef"];function ioe(t,e){if(t==null)return{};var n,r,i=ooe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ooe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){aoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aoe(t,e,n){return(e=soe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function soe(t){var e=loe(t,"string");return typeof e=="symbol"?e:e+""}function loe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xs.apply(null,arguments)}var BV=A.createContext(null),coe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:a,children:l}=t,u=A.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:a}),[e,n,r,i,o,a]);return A.createElement(BV.Provider,{value:u},l)},qV=()=>{var t=A.useContext(BV),e=Cv();return t||W3(e)},uoe=A.createContext(null),doe=()=>{var t=A.useContext(uoe),e=Ke(bU);return t||e},poe=t=>{var{value:e,formatter:n}=t,r=xn(t.children)?e:t.children;return typeof n=="function"?n(r):r},WA=t=>t!=null&&typeof t=="function",foe=(t,e)=>{var n=Ni(e-t),r=Math.min(Math.abs(e-t),360);return n*r},hoe=(t,e,n,r,i)=>{var{offset:o,className:a}=t,{cx:l,cy:u,innerRadius:d,outerRadius:p,startAngle:h,endAngle:y,clockWise:b}=i,E=(d+p)/2,S=foe(h,y),_=S>=0?1:-1,C,R;switch(e){case"insideStart":C=h+_*o,R=b;break;case"insideEnd":C=y-_*o,R=!b;break;case"end":C=y+_*o,R=b;break;default:throw new Error("Unsupported position ".concat(e))}R=S<=0?R:!R;var I=jr(l,u,E,C),O=jr(l,u,E,C+(R?1:-1)*359),U="M".concat(I.x,",").concat(I.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(R?0:1,`,
    `).concat(O.x,",").concat(O.y),M=xn(t.id)?Rh("recharts-radial-line-"):t.id;return A.createElement("text",xs({},r,{dominantBaseline:"central",className:Ft("recharts-radial-bar-label",a)}),A.createElement("defs",null,A.createElement("path",{id:M,d:U})),A.createElement("textPath",{xlinkHref:"#".concat(M)},n))},goe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:l,endAngle:u}=t,d=(l+u)/2;if(n==="outside"){var{x:p,y:h}=jr(r,i,a+e,d);return{x:p,y:h,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(o+a)/2,{x:b,y:E}=jr(r,i,y,d);return{x:b,y:E,textAnchor:"middle",verticalAnchor:"middle"}},hE=t=>"cx"in t&&Ge(t.cx),moe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!hE(n)&&(o=n);var{x:a,y:l,upperWidth:u,lowerWidth:d,height:p}=e,h=a,y=a+(u-d)/2,b=(h+y)/2,E=(u+d)/2,S=h+u/2,_=p>=0?1:-1,C=_*r,R=_>0?"end":"start",I=_>0?"start":"end",O=u>=0?1:-1,U=O*r,M=O>0?"end":"start",D=O>0?"start":"end";if(i==="top"){var L={x:h+u/2,y:l-C,textAnchor:"middle",verticalAnchor:R};return Ln(Ln({},L),o?{height:Math.max(l-o.y,0),width:u}:{})}if(i==="bottom"){var z={x:y+d/2,y:l+p+C,textAnchor:"middle",verticalAnchor:I};return Ln(Ln({},z),o?{height:Math.max(o.y+o.height-(l+p),0),width:d}:{})}if(i==="left"){var B={x:b-U,y:l+p/2,textAnchor:M,verticalAnchor:"middle"};return Ln(Ln({},B),o?{width:Math.max(B.x-o.x,0),height:p}:{})}if(i==="right"){var V={x:b+E+U,y:l+p/2,textAnchor:D,verticalAnchor:"middle"};return Ln(Ln({},V),o?{width:Math.max(o.x+o.width-V.x,0),height:p}:{})}var q=o?{width:E,height:p}:{};return i==="insideLeft"?Ln({x:b+U,y:l+p/2,textAnchor:D,verticalAnchor:"middle"},q):i==="insideRight"?Ln({x:b+E-U,y:l+p/2,textAnchor:M,verticalAnchor:"middle"},q):i==="insideTop"?Ln({x:h+u/2,y:l+C,textAnchor:"middle",verticalAnchor:I},q):i==="insideBottom"?Ln({x:y+d/2,y:l+p-C,textAnchor:"middle",verticalAnchor:R},q):i==="insideTopLeft"?Ln({x:h+U,y:l+C,textAnchor:D,verticalAnchor:I},q):i==="insideTopRight"?Ln({x:h+u-U,y:l+C,textAnchor:M,verticalAnchor:I},q):i==="insideBottomLeft"?Ln({x:y+U,y:l+p-C,textAnchor:D,verticalAnchor:R},q):i==="insideBottomRight"?Ln({x:y+d-U,y:l+p-C,textAnchor:M,verticalAnchor:R},q):i&&typeof i=="object"&&(Ge(i.x)||Ns(i.x))&&(Ge(i.y)||Ns(i.y))?Ln({x:a+Zo(i.x,E),y:l+Zo(i.y,p),textAnchor:"end",verticalAnchor:"end"},q):Ln({x:S,y:l+p/2,textAnchor:"middle",verticalAnchor:"middle"},q)},yoe={angle:0,offset:5,zIndex:Er.label,position:"middle",textBreakAll:!1};function Ul(t){var e=fi(t,yoe),{viewBox:n,position:r,value:i,children:o,content:a,className:l="",textBreakAll:u,labelRef:d}=e,p=doe(),h=qV(),y=r==="center"?h:p??h,b,E,S;if(n==null?b=y:hE(n)?b=n:b=W3(n),!b||xn(i)&&xn(o)&&!A.isValidElement(a)&&typeof a!="function")return null;var _=Ln(Ln({},e),{},{viewBox:b});if(A.isValidElement(a)){var{labelRef:C}=_,R=ioe(_,roe);return A.cloneElement(a,R)}if(typeof a=="function"){if(E=A.createElement(a,_),A.isValidElement(E))return E}else E=poe(e);var I=di(e);if(hE(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return hoe(e,r,E,I,b);S=goe(b,e.offset,e.position)}else S=moe(e,b);return A.createElement(Do,{zIndex:e.zIndex},A.createElement(KA,xs({ref:d,className:Ft("recharts-label",l)},I,S,{textAnchor:Qie(I.textAnchor)?I.textAnchor:S.textAnchor,breakAll:u}),E))}Ul.displayName="Label";var boe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(Ul,xs({key:"label-implicit"},r)):Ha(t)?A.createElement(Ul,xs({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===Ul?A.cloneElement(t,Ln({key:"label-implicit"},r)):A.createElement(Ul,xs({key:"label-implicit",content:t},r)):WA(t)?A.createElement(Ul,xs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(Ul,xs({},t,{key:"label-implicit"},r)):null};function voe(t){var{label:e,labelRef:n}=t,r=qV();return boe(e,r,n)||null}var b_={},v_={},WM;function woe(){return WM||(WM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(v_)),v_}var w_={},YM;function xoe(){return YM||(YM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(w_)),w_}var JM;function koe(){return JM||(JM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=woe(),n=xoe(),r=zS();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(b_)),b_}var x_,XM;function _oe(){return XM||(XM=1,x_=koe().last),x_}var Toe=_oe();const Eoe=Oo(Toe);var Soe=["valueAccessor"],Aoe=["dataKey","clockWise","id","textBreakAll","zIndex"];function p0(){return p0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p0.apply(null,arguments)}function QM(t,e){if(t==null)return{};var n,r,i=Coe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Coe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ioe=t=>Array.isArray(t.value)?Eoe(t.value):t.value,$V=A.createContext(void 0),HV=$V.Provider,GV=A.createContext(void 0);GV.Provider;function Noe(){return A.useContext($V)}function Roe(){return A.useContext(GV)}function mb(t){var{valueAccessor:e=Ioe}=t,n=QM(t,Soe),{dataKey:r,clockWise:i,id:o,textBreakAll:a,zIndex:l}=n,u=QM(n,Aoe),d=Noe(),p=Roe(),h=d||p;return!h||!h.length?null:A.createElement(Do,{zIndex:l??Er.label},A.createElement(Io,{className:"recharts-label-list"},h.map((y,b)=>{var E,S=xn(r)?e(y,b):sr(y&&y.payload,r),_=xn(o)?{}:{id:"".concat(o,"-").concat(b)};return A.createElement(Ul,p0({key:"label-".concat(b)},di(y),u,_,{fill:(E=n.fill)!==null&&E!==void 0?E:y.fill,parentViewBox:y.parentViewBox,value:S,textBreakAll:a,viewBox:y.viewBox,index:b,zIndex:0}))})))}mb.displayName="LabelList";function KV(t){var{label:e}=t;return e?e===!0?A.createElement(mb,{key:"labelList-implicit"}):A.isValidElement(e)||WA(e)?A.createElement(mb,{key:"labelList-implicit",content:e}):typeof e=="object"?A.createElement(mb,p0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(null,arguments)}var WV=t=>{var{cx:e,cy:n,r,className:i}=t,o=Ft("recharts-dot",i);return Ge(e)&&Ge(n)&&Ge(r)?A.createElement("circle",gE({},Xo(t),DS(t),{className:o,cx:e,cy:n,r})):null},Ooe={radiusAxis:{},angleAxis:{}},YV=Mi({name:"polarAxis",initialState:Ooe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Qze,removeRadiusAxis:Zze,addAngleAxis:e5e,removeAngleAxis:t5e}=YV.actions,Poe=YV.reducer,k_={exports:{}},en={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZM;function Doe(){if(ZM)return en;ZM=1;var t=60103,e=60106,n=60107,r=60108,i=60114,o=60109,a=60110,l=60112,u=60113,d=60120,p=60115,h=60116,y=60121,b=60122,E=60117,S=60129,_=60131;if(typeof Symbol=="function"&&Symbol.for){var C=Symbol.for;t=C("react.element"),e=C("react.portal"),n=C("react.fragment"),r=C("react.strict_mode"),i=C("react.profiler"),o=C("react.provider"),a=C("react.context"),l=C("react.forward_ref"),u=C("react.suspense"),d=C("react.suspense_list"),p=C("react.memo"),h=C("react.lazy"),y=C("react.block"),b=C("react.server.block"),E=C("react.fundamental"),S=C("react.debug_trace_mode"),_=C("react.legacy_hidden")}function R(F){if(typeof F=="object"&&F!==null){var oe=F.$$typeof;switch(oe){case t:switch(F=F.type,F){case n:case i:case r:case u:case d:return F;default:switch(F=F&&F.$$typeof,F){case a:case l:case h:case p:case o:return F;default:return oe}}case e:return oe}}}var I=o,O=t,U=l,M=n,D=h,L=p,z=e,B=i,V=r,q=u;return en.ContextConsumer=a,en.ContextProvider=I,en.Element=O,en.ForwardRef=U,en.Fragment=M,en.Lazy=D,en.Memo=L,en.Portal=z,en.Profiler=B,en.StrictMode=V,en.Suspense=q,en.isAsyncMode=function(){return!1},en.isConcurrentMode=function(){return!1},en.isContextConsumer=function(F){return R(F)===a},en.isContextProvider=function(F){return R(F)===o},en.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===t},en.isForwardRef=function(F){return R(F)===l},en.isFragment=function(F){return R(F)===n},en.isLazy=function(F){return R(F)===h},en.isMemo=function(F){return R(F)===p},en.isPortal=function(F){return R(F)===e},en.isProfiler=function(F){return R(F)===i},en.isStrictMode=function(F){return R(F)===r},en.isSuspense=function(F){return R(F)===u},en.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===n||F===i||F===S||F===r||F===u||F===d||F===_||typeof F=="object"&&F!==null&&(F.$$typeof===h||F.$$typeof===p||F.$$typeof===o||F.$$typeof===a||F.$$typeof===l||F.$$typeof===E||F.$$typeof===y||F[0]===b)},en.typeOf=R,en}var ez;function Moe(){return ez||(ez=1,k_.exports=Doe()),k_.exports}var zoe=Moe(),tz=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",nz=null,__=null,JV=t=>{if(t===nz&&Array.isArray(__))return __;var e=[];return A.Children.forEach(t,n=>{xn(n)||(zoe.isFragment(n)?e=e.concat(JV(n.props.children)):e.push(n))}),__=e,nz=t,e};function Loe(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>tz(i)):r=[tz(e)],JV(t).forEach(i=>{var o=np(i,"type.displayName")||np(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var XV=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,T_={},rz;function joe(){return rz||(rz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(T_)),T_}var E_,iz;function Uoe(){return iz||(iz=1,E_=joe().isPlainObject),E_}var Voe=Uoe();const Foe=Oo(Voe);function oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function az(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oz(Object(n),!0).forEach(function(r){Boe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Boe(t,e,n){return(e=qoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qoe(t){var e=$oe(t,"string");return typeof e=="symbol"?e:e+""}function $oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f0.apply(null,arguments)}var sz=(t,e,n,r,i)=>{var o=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-o/2,",").concat(e+i),a+="L ".concat(t+n-o/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},Hoe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Goe=t=>{var e=fi(t,Hoe),{x:n,y:r,upperWidth:i,lowerWidth:o,height:a,className:l}=e,{animationEasing:u,animationDuration:d,animationBegin:p,isUpdateAnimationActive:h}=e,y=A.useRef(null),[b,E]=A.useState(-1),S=A.useRef(i),_=A.useRef(o),C=A.useRef(a),R=A.useRef(n),I=A.useRef(r),O=Dv(t,"trapezoid-");if(A.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var oe=y.current.getTotalLength();oe&&E(oe)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||a!==+a||i===0&&o===0||a===0)return null;var U=Ft("recharts-trapezoid",l);if(!h)return A.createElement("g",null,A.createElement("path",f0({},di(e),{className:U,d:sz(n,r,i,o,a)})));var M=S.current,D=_.current,L=C.current,z=R.current,B=I.current,V="0px ".concat(b===-1?1:b,"px"),q="".concat(b,"px 0px"),F=s6(["strokeDasharray"],d,u);return A.createElement(Pv,{animationId:O,key:O,canBegin:b>0,duration:d,easing:u,isActive:h,begin:p},oe=>{var Z=Sn(M,i,oe),X=Sn(D,o,oe),J=Sn(L,a,oe),ie=Sn(z,n,oe),te=Sn(B,r,oe);y.current&&(S.current=Z,_.current=X,C.current=J,R.current=ie,I.current=te);var G=oe>0?{transition:F,strokeDasharray:q}:{strokeDasharray:V};return A.createElement("path",f0({},di(e),{className:U,d:sz(ie,te,Z,X,J),ref:y,style:az(az({},G),e.style)}))})},Koe=["option","shapeType","propTransformer","activeClassName"];function Woe(t,e){if(t==null)return{};var n,r,i=Yoe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lz(Object(n),!0).forEach(function(r){Joe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Joe(t,e,n){return(e=Xoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xoe(t){var e=Qoe(t,"string");return typeof e=="symbol"?e:e+""}function Qoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zoe(t,e){return h0(h0({},e),t)}function eae(t,e){return t==="symbols"}function cz(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return A.createElement(d6,n);case"trapezoid":return A.createElement(Goe,n);case"sector":return A.createElement(h6,n);case"symbols":if(eae(e))return A.createElement(J9,n);break;case"curve":return A.createElement(a6,n);default:return null}}function tae(t){return A.isValidElement(t)?t.props:t}function QV(t){var{option:e,shapeType:n,propTransformer:r=Zoe,activeClassName:i="recharts-active-shape"}=t,o=Woe(t,Koe),a;if(A.isValidElement(e))a=A.cloneElement(e,h0(h0({},o),tae(e)));else if(typeof e=="function")a=e(o,o.index);else if(Foe(e)&&typeof e!="boolean"){var l=r(e,o);a=A.createElement(cz,{shapeType:n,elementProps:l})}else{var u=o;a=A.createElement(cz,{shapeType:n,elementProps:u})}return o.isActive?A.createElement(Io,{className:i},a):a}var ZV=(t,e,n)=>{var r=Fn();return(i,o)=>a=>{t==null||t(i,o,a),r(sV({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},eF=t=>{var e=Fn();return(n,r)=>i=>{t==null||t(n,r,i),e(Ane())}},tF=(t,e,n)=>{var r=Fn();return(i,o)=>a=>{t==null||t(i,o,a),r(Cne({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function nF(t){var{tooltipEntrySettings:e}=t,n=Fn(),r=Qr(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(_ne(e)):i.current!==e&&n(Tne({prev:i.current,next:e})),i.current=e)},[e,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(Ene(i.current)),i.current=null)},[n]),null}function rF(t){var{legendPayload:e}=t,n=Fn(),r=Qr(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(iX(e)):i.current!==e&&n(oX({prev:i.current,next:e})),i.current=e)},[n,r,e]),A.useLayoutEffect(()=>()=>{i.current&&(n(aX(i.current)),i.current=null)},[n]),null}var S_,nae=()=>{var[t]=A.useState(()=>Rh("uid-"));return t},rae=(S_=L7.useId)!==null&&S_!==void 0?S_:nae;function iF(t,e){var n=rae();return e||(t?"".concat(t,"-").concat(n):n)}var iae=A.createContext(void 0),oF=t=>{var{id:e,type:n,children:r}=t,i=iF("recharts-".concat(n),e);return A.createElement(iae.Provider,{value:i},r(i))},oae={cartesianItems:[],polarItems:[]},aF=Mi({name:"graphicalItems",initialState:oae,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:vn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Jo(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:vn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Jo(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:vn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:vn()},removePolarGraphicalItem:{reducer(t,e){var n=Jo(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:vn()}}}),{addCartesianGraphicalItem:aae,replaceCartesianGraphicalItem:sae,removeCartesianGraphicalItem:lae,addPolarGraphicalItem:n5e,removePolarGraphicalItem:r5e}=aF.actions,cae=aF.reducer,uae=t=>{var e=Fn(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(aae(t)):n.current!==t&&e(sae({prev:n.current,next:t})),n.current=t},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(e(lae(n.current)),n.current=null)},[e]),null},sF=A.memo(uae),dae=["points"];function uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uz(Object(n),!0).forEach(function(r){pae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pae(t,e,n){return(e=fae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fae(t){var e=hae(t,"string");return typeof e=="symbol"?e:e+""}function hae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g0(){return g0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g0.apply(null,arguments)}function gae(t,e){if(t==null)return{};var n,r,i=mae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yae(t){var{option:e,dotProps:n,className:r}=t;if(A.isValidElement(e))return A.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Ft(r,typeof e!="boolean"?e.className:""),o=n??{},{points:a}=o,l=gae(o,dae);return A.createElement(WV,g0({},l,{className:i}))}function bae(t,e){return t==null?!1:e?!0:t.length===1}function vae(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:a,needClip:l,clipPathId:u,zIndex:d=Er.scatter}=t;if(!bae(e,n))return null;var p=XV(n),h=Y7(n),y=e.map((E,S)=>{var _,C,R=A_(A_(A_({r:3},a),h),{},{index:S,cx:(_=E.x)!==null&&_!==void 0?_:void 0,cy:(C=E.y)!==null&&C!==void 0?C:void 0,dataKey:o,value:E.value,payload:E.payload,points:e});return A.createElement(yae,{key:"dot-".concat(S),option:n,dotProps:R,className:i})}),b={};return l&&u!=null&&(b.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(u,")")),A.createElement(Do,{zIndex:d},A.createElement(Io,g0({className:r},b),y))}function dz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dz(Object(n),!0).forEach(function(r){wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wae(t,e,n){return(e=xae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xae(t){var e=kae(t,"string");return typeof e=="symbol"?e:e+""}function kae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ae={xAxis:{},yAxis:{},zAxis:{}},lF=Mi({name:"cartesianAxis",initialState:_ae,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:vn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:vn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:vn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:vn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:vn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:vn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:vn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:vn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:vn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var a=[...o,r].slice(-3);t.yAxis[n]=pz(pz({},t.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:Tae,replaceXAxis:Eae,removeXAxis:Sae,addYAxis:Aae,replaceYAxis:Cae,removeYAxis:Iae,addZAxis:i5e,replaceZAxis:o5e,removeZAxis:a5e,updateYAxisWidth:Nae}=lF.actions,Rae=lF.reducer,Oae=me([Sr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Pae=me([Oae,$s,Hs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),YA=()=>Ke(Pae),Dae=()=>Ke(yre);function fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fz(Object(n),!0).forEach(function(r){Mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mae(t,e,n){return(e=zae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zae(t){var e=Lae(t,"string");return typeof e=="symbol"?e:e+""}function Lae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jae=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=C_(C_(C_({},l),lg(i)),DS(i)),d;return A.isValidElement(i)?d=A.cloneElement(i,u):typeof i=="function"?d=i(u):d=A.createElement(WV,u),A.createElement(Io,{className:"recharts-active-dot",clipPath:a},d)};function Uae(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:a=Er.activeDot}=t,l=Ke(mu),u=Dae();if(e==null||u==null)return null;var d=e.find(p=>u.includes(p.payload));return xn(d)?null:A.createElement(Do,{zIndex:a},A.createElement(jae,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var Vae="Invariant failed";function Fae(t,e){throw new Error(Vae)}var Bae=["x","y"];function mE(){return mE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mE.apply(null,arguments)}function hz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hz(Object(n),!0).forEach(function(r){qae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qae(t,e,n){return(e=$ae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ae(t){var e=Hae(t,"string");return typeof e=="symbol"?e:e+""}function Hae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gae(t,e){if(t==null)return{};var n,r,i=Kae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Wae(t,e){var{x:n,y:r}=t,i=Gae(t,Bae),o="".concat(n),a=parseInt(o,10),l="".concat(r),u=parseInt(l,10),d="".concat(e.height||i.height),p=parseInt(d,10),h="".concat(e.width||i.width),y=parseInt(h,10);return Xf(Xf(Xf(Xf(Xf({},e),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function m0(t){return A.createElement(QV,mE({shapeType:"rectangle",propTransformer:Wae,activeClassName:"recharts-active-bar"},t))}var Yae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ge(e))return e;var o=Ge(r)||xn(r);return o?e(r,i):(o||Fae(),n)}},Jae={},cF=Mi({name:"errorBars",initialState:Jae,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:s5e,replaceErrorBar:l5e,removeErrorBar:c5e}=cF.actions,Xae=cF.reducer,Qae=["children"];function Zae(t,e){if(t==null)return{};var n,r,i=ese(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ese(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tse={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},nse=A.createContext(tse);function uF(t){var{children:e}=t,n=Zae(t,Qae);return A.createElement(nse.Provider,{value:n},e)}function JA(t,e){var n,r,i=Ke(d=>Ks(d,t)),o=Ke(d=>Ws(d,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:vr.allowDataOverflow,l=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:wr.allowDataOverflow,u=a||l;return{needClip:u,needClipX:a,needClipY:l}}function dF(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=YA(),{needClipX:o,needClipY:a,needClip:l}=JA(e,n);if(!l||!i)return null;var{x:u,y:d,width:p,height:h}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:o?u:u-p/2,y:a?d:d-h/2,width:o?p:p*2,height:a?h:h*2}))}function rse(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Vn(t.zIndex)?t.zIndex:e}var I_={exports:{}},N_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gz;function ise(){if(gz)return N_;gz=1;var t=kp();function e(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return N_.useSyncExternalStoreWithSelector=function(u,d,p,h,y){var b=i(null);if(b.current===null){var E={hasValue:!1,value:null};b.current=E}else E=b.current;b=a(function(){function _(U){if(!C){if(C=!0,R=U,U=h(U),y!==void 0&&E.hasValue){var M=E.value;if(y(M,U))return I=M}return I=U}if(M=I,n(R,U))return M;var D=h(U);return y!==void 0&&y(M,D)?(R=U,M):(R=U,I=D)}var C=!1,R,I,O=p===void 0?null:p;return[function(){return _(d())},O===null?void 0:function(){return _(O())}]},[d,p,h,y]);var S=r(u,b[0],b[1]);return o(function(){E.hasValue=!0,E.value=S},[S]),l(S),S},N_}var mz;function ose(){return mz||(mz=1,I_.exports=ise()),I_.exports}ose();function ase(t){t()}function sse(){let t=null,e=null;return{clear(){t=null,e=null},notify(){ase(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var yz={notify(){},get:()=>[]};function lse(t,e){let n,r=yz,i=0,o=!1;function a(S){p();const _=r.subscribe(S);let C=!1;return()=>{C||(C=!0,_(),h())}}function l(){r.notify()}function u(){E.onStateChange&&E.onStateChange()}function d(){return o}function p(){i++,n||(n=t.subscribe(u),r=sse())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=yz)}function y(){o||(o=!0,p())}function b(){o&&(o=!1,h())}const E={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return E}var cse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",use=cse(),dse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pse=dse(),fse=()=>use||pse?A.useLayoutEffect:A.useEffect,hse=fse();function bz(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function gse(t,e){if(bz(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!bz(t[n[i]],e[n[i]]))return!1;return!0}var R_=Symbol.for("react-redux-context"),O_=typeof globalThis<"u"?globalThis:{};function mse(){if(!A.createContext)return{};const t=O_[R_]??(O_[R_]=new Map);let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var yse=mse();function bse(t){const{children:e,context:n,serverState:r,store:i}=t,o=A.useMemo(()=>{const u=lse(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),a=A.useMemo(()=>i.getState(),[i]);hse(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=n||yse;return A.createElement(l.Provider,{value:o},e)}var vse=bse,wse=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function xse(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Zv(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(wse.has(r)){if(t[r]==null&&e[r]==null)continue;if(!gse(t[r],e[r]))return!1}else if(!xse(t[r],e[r]))return!1;return!0}var kse=["onMouseEnter","onMouseLeave","onClick"],_se=["value","background","tooltipPosition"],Tse=["id"],Ese=["onMouseEnter","onClick","onMouseLeave"];function zs(){return zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zs.apply(null,arguments)}function vz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vz(Object(n),!0).forEach(function(r){Sse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sse(t,e,n){return(e=Ase(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ase(t){var e=Cse(t,"string");return typeof e=="symbol"?e:e+""}function Cse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y0(t,e){if(t==null)return{};var n,r,i=Ise(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ise(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nse=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:_v(n,e),payload:t}]},Rse=A.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:l,tooltipType:u}=t,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:_v(o,e),hide:a,type:u,color:i,unit:l}};return A.createElement(nF,{tooltipEntrySettings:d})});function Ose(t){var e=Ke(mu),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:a,onMouseLeave:l,onClick:u}=o,d=y0(o,kse),p=ZV(a,r),h=eF(l),y=tF(u,r);if(!i||n==null)return null;var b=lg(i);return A.createElement(Do,{zIndex:rse(i,Er.barBackground)},n.map((E,S)=>{var{value:_,background:C,tooltipPosition:R}=E,I=y0(E,_se);if(!C)return null;var O=p(E,S),U=h(E,S),M=y(E,S),D=si(si(si(si(si({option:i,isActive:String(S)===e},I),{},{fill:"#eee"},C),b),MS(d,E,S)),{},{onMouseEnter:O,onMouseLeave:U,onClick:M,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return A.createElement(m0,zs({key:"background-bar-".concat(S)},D))}))}function Pse(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(o=>{var a={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return si(si({},a),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:a,fill:o.fill})});return A.createElement(HV,{value:e?i:void 0},n)}function Dse(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:o,dataKey:a}=t,l=Ke(mu),u=Ke(xV),d=n&&String(o)===l&&(u==null||a===u),p=d?n:e;return d?A.createElement(Do,{zIndex:Er.activeBar},A.createElement(m0,zs({},r,{name:String(r.name)},i,{isActive:d,option:p,index:o,dataKey:a}))):A.createElement(m0,zs({},r,{name:String(r.name)},i,{isActive:d,option:p,index:o,dataKey:a}))}function Mse(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:o}=t;return A.createElement(m0,zs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:o}))}function zse(t){var e,{data:n,props:r}=t,i=(e=Xo(r))!==null&&e!==void 0?e:{},{id:o}=i,a=y0(i,Tse),{shape:l,dataKey:u,activeBar:d}=r,{onMouseEnter:p,onClick:h,onMouseLeave:y}=r,b=y0(r,Ese),E=ZV(p,u),S=eF(y),_=tF(h,u);return n?A.createElement(A.Fragment,null,n.map((C,R)=>A.createElement(Io,zs({key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(R),className:"recharts-bar-rectangle"},MS(b,C,R),{onMouseEnter:E(C,R),onMouseLeave:S(C,R),onClick:_(C,R)}),d?A.createElement(Dse,{shape:l,activeBar:d,baseProps:a,entry:C,index:R,dataKey:u}):A.createElement(Mse,{shape:l,baseProps:a,entry:C,index:R,dataKey:u})))):null}function Lse(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:l,animationEasing:u,onAnimationEnd:d,onAnimationStart:p}=e,h=n.current,y=Dv(e,"recharts-bar-"),[b,E]=A.useState(!1),S=!b,_=A.useCallback(()=>{typeof d=="function"&&d(),E(!1)},[d]),C=A.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return A.createElement(Pse,{showLabels:S,rects:r},A.createElement(Pv,{animationId:y,begin:a,duration:l,isActive:o,easing:u,onAnimationEnd:_,onAnimationStart:C,key:y},R=>{var I=R===1?r:r==null?void 0:r.map((O,U)=>{var M=h&&h[U];if(M)return si(si({},O),{},{x:Sn(M.x,O.x,R),y:Sn(M.y,O.y,R),width:Sn(M.width,O.width,R),height:Sn(M.height,O.height,R)});if(i==="horizontal"){var D=Sn(0,O.height,R),L=Sn(O.stackedBarStart,O.y,R);return si(si({},O),{},{y:L,height:D})}var z=Sn(0,O.width,R),B=Sn(O.stackedBarStart,O.x,R);return si(si({},O),{},{width:z,x:B})});return R>0&&(n.current=I??null),I==null?null:A.createElement(Io,null,A.createElement(zse,{props:e,data:I}))}),A.createElement(KV,{label:e.label}),e.children)}function jse(t){var e=A.useRef(null);return A.createElement(Lse,{previousRectanglesRef:e,props:t})}var pF=0,Use=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:sr(t,e)}};class Vse extends A.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:a,needClip:l,background:u,id:d}=this.props;if(e||n==null)return null;var p=Ft("recharts-bar",i),h=d;return A.createElement(Io,{className:p,id:d},l&&A.createElement("defs",null,A.createElement(dF,{clipPathId:h,xAxisId:o,yAxisId:a})),A.createElement(Io,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},A.createElement(Ose,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),A.createElement(jse,this.props)))}}var Fse={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:pF,xAxisId:0,yAxisId:0,zIndex:Er.bar};function Bse(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:p}=t,{needClip:h}=JA(e,n),y=gg(),b=Qr(),E=Loe(t.children,PV),S=Ke(R=>mle(R,e,n,b,t.id,E));if(y!=="vertical"&&y!=="horizontal")return null;var _,C=S==null?void 0:S[0];return C==null||C.height==null||C.width==null?_=0:_=y==="vertical"?C.height/2:C.width/2,A.createElement(uF,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:Use,errorBarOffset:_},A.createElement(Vse,zs({},t,{layout:y,needClip:h,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:p})))}function qse(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:l,xAxisTicks:u,yAxisTicks:d,stackedData:p,displayedData:h,offset:y,cells:b,parentViewBox:E,dataStartIndex:S}=t,_=e==="horizontal"?l:a,C=p?_.scale.domain():null,R=lJ({numericAxis:_}),I=_.scale(R);return h.map((O,U)=>{var M,D,L,z,B,V;p?M=nJ(p[U+S],C):(M=sr(O,n),Array.isArray(M)||(M=[R,M]));var q=Yae(r,pF)(M[1],U);if(e==="horizontal"){var F,[oe,Z]=[l.scale(M[0]),l.scale(M[1])];D=BP({axis:a,ticks:u,bandSize:o,offset:i.offset,entry:O,index:U}),L=(F=Z??oe)!==null&&F!==void 0?F:void 0,z=i.size;var X=oe-Z;if(B=Qo(X)?0:X,V={x:D,y:y.top,width:z,height:y.height},Math.abs(q)>0&&Math.abs(B)<Math.abs(q)){var J=Ni(B||q)*(Math.abs(q)-Math.abs(B));L-=J,B+=J}}else{var[ie,te]=[a.scale(M[0]),a.scale(M[1])];if(D=ie,L=BP({axis:l,ticks:d,bandSize:o,offset:i.offset,entry:O,index:U}),z=te-ie,B=i.size,V={x:y.left,y:L,width:y.width,height:B},Math.abs(q)>0&&Math.abs(z)<Math.abs(q)){var G=Ni(z||q)*(Math.abs(q)-Math.abs(z));z+=G}}if(D==null||L==null||z==null||B==null)return null;var W=si(si({},O),{},{stackedBarStart:I,x:D,y:L,width:z,height:B,value:p?M:M[1],payload:O,background:V,tooltipPosition:{x:D+z/2,y:L+B/2},parentViewBox:E},b&&b[U]&&b[U].props);return W}).filter(Boolean)}function $se(t){var e=fi(t,Fse),n=Qr();return A.createElement(oF,{id:e.id,type:"bar"},r=>A.createElement(A.Fragment,null,A.createElement(rF,{legendPayload:Nse(e)}),A.createElement(Rse,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),A.createElement(sF,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:sJ(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),A.createElement(Do,{zIndex:e.zIndex},A.createElement(Bse,zs({},e,{id:r})))))}var yE=A.memo($se,Zv);yE.displayName="Bar";function wz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wz(Object(n),!0).forEach(function(r){Hse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hse(t,e,n){return(e=Gse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gse(t){var e=Kse(t,"string");return typeof e=="symbol"?e:e+""}function Kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wse=(t,e)=>e,Yse=(t,e,n)=>n,Jse=(t,e,n,r)=>r,Xse=(t,e,n,r,i)=>i,Rg=me([Yv,Xse],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Qse=me([Rg],t=>t==null?void 0:t.maxBarSize),Zse=(t,e,n,r,i,o)=>o,xz=(t,e,n)=>{var r=n??t;if(!xn(r))return Zo(r,e,0)},ele=me([jt,Yv,Wse,Yse,Jse],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),tle=(t,e,n,r)=>{var i=jt(t);return i==="horizontal"?lE(t,"yAxis",n,r):lE(t,"xAxis",e,r)},nle=(t,e,n)=>{var r=jt(t);return r==="horizontal"?vM(t,"xAxis",e):vM(t,"yAxis",n)},rle=(t,e,n)=>{var r={},i=t.filter(Gv),o=t.filter(d=>d.stackId==null),a=i.reduce((d,p)=>(d[p.stackId]||(d[p.stackId]=[]),d[p.stackId].push(p),d),r),l=Object.entries(a).map(d=>{var[p,h]=d,y=h.map(E=>E.dataKey),b=xz(e,n,h[0].barSize);return{stackId:p,dataKeys:y,barSize:b}}),u=o.map(d=>{var p=[d.dataKey].filter(y=>y!=null),h=xz(e,n,d.barSize);return{stackId:void 0,dataKeys:p,barSize:h}});return[...l,...u]},ile=me([ele,mte,nle],rle),ole=(t,e,n,r,i)=>{var o,a,l=Rg(t,e,n,r,i);if(l!=null){var u=jt(t),d=uU(t),{maxBarSize:p}=l,h=xn(p)?d:p,y,b;return u==="horizontal"?(y=oc(t,"xAxis",e,r),b=ic(t,"xAxis",e,r)):(y=oc(t,"yAxis",n,r),b=ic(t,"yAxis",n,r)),(o=(a=op(y,b,!0))!==null&&a!==void 0?a:h)!==null&&o!==void 0?o:0}},fF=(t,e,n,r)=>{var i=jt(t),o,a;return i==="horizontal"?(o=oc(t,"xAxis",e,r),a=ic(t,"xAxis",e,r)):(o=oc(t,"yAxis",n,r),a=ic(t,"yAxis",n,r)),op(o,a)};function ale(t,e,n,r,i){var o=r.length;if(!(o<1)){var a=Zo(t,n,0,!0),l,u=[];if(Vn(r[0].barSize)){var d=!1,p=n/o,h=r.reduce((C,R)=>C+(R.barSize||0),0);h+=(o-1)*a,h>=n&&(h-=(o-1)*a,a=0),h>=n&&p>0&&(d=!0,p*=.9,h=o*p);var y=(n-h)/2>>0,b={offset:y-a,size:0};l=r.reduce((C,R)=>{var I,O={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:b.offset+b.size+a,size:d?p:(I=R.barSize)!==null&&I!==void 0?I:0}},U=[...C,O];return b=U[U.length-1].position,U},u)}else{var E=Zo(e,n,0,!0);n-2*E-(o-1)*a<=0&&(a=0);var S=(n-2*E-(o-1)*a)/o;S>1&&(S>>=0);var _=Vn(i)?Math.min(S,i):S;l=r.reduce((C,R,I)=>[...C,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:E+(S+a)*I+(S-_)/2,size:_}}],u)}return l}}var sle=(t,e,n,r,i,o,a)=>{var l=xn(a)?e:a,u=ale(n,r,i!==o?i:o,t,l);return i!==o&&u!=null&&(u=u.map(d=>Gy(Gy({},d),{},{position:Gy(Gy({},d.position),{},{offset:d.position.offset-i/2})}))),u},lle=me([ile,uU,gte,dU,ole,fF,Qse],sle),cle=(t,e,n,r)=>oc(t,"xAxis",e,r),ule=(t,e,n,r)=>oc(t,"yAxis",n,r),dle=(t,e,n,r)=>ic(t,"xAxis",e,r),ple=(t,e,n,r)=>ic(t,"yAxis",n,r),fle=me([lle,Rg],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),hle=(t,e)=>{var n=AA(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(a=>a.key===n)}}}},gle=me([tle,Rg],hle),mle=me([Sr,GS,cle,ule,dle,ple,fle,jt,Fv,fF,gle,Rg,Zse],(t,e,n,r,i,o,a,l,u,d,p,h,y)=>{var{chartData:b,dataStartIndex:E,dataEndIndex:S}=u;if(!(h==null||a==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||o==null||d==null)){var{data:_}=h,C;if(_!=null&&_.length>0?C=_:C=b==null?void 0:b.slice(E,S+1),C!=null)return qse({layout:l,barSettings:h,pos:a,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:p,displayedData:C,offset:t,cells:y,dataStartIndex:E})}}),yle=t=>{var{chartData:e}=t,n=Fn(),r=Qr();return A.useEffect(()=>r?()=>{}:(n(OM(e)),()=>{n(OM(void 0))}),[e,n,r]),null},kz={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},hF=Mi({name:"brush",initialState:kz,reducers:{setBrushSettings(t,e){return e.payload==null?kz:e.payload}}}),{setBrushSettings:u5e}=hF.actions,ble=hF.reducer;function vle(t,e,n){return(e=wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wle(t){var e=xle(t,"string");return typeof e=="symbol"?e:e+""}function xle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class XA{static create(e){return new XA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}vle(XA,"EPS",1e-4);function kle(t){return(t%180+180)%180}var _le=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=kle(i),a=o*Math.PI/180,l=Math.atan(r/n),u=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(u)},Tle={dots:[],areas:[],lines:[]},gF=Mi({name:"referenceElements",initialState:Tle,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Jo(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Jo(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Jo(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:d5e,removeDot:p5e,addArea:f5e,removeArea:h5e,addLine:g5e,removeLine:m5e}=gF.actions,Ele=gF.reducer,Sle=A.createContext(void 0),Ale=t=>{var{children:e}=t,[n]=A.useState("".concat(Rh("recharts"),"-clip")),r=YA();if(r==null)return null;var{x:i,y:o,width:a,height:l}=r;return A.createElement(Sle.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:o,height:l,width:a}))),e)};function mF(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Cle(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return _le(r,n)}function Ile(t,e,n){var r=n==="width",{x:i,y:o,width:a,height:l}=t;return e===1?{start:r?i:o,end:r?i+a:o+l}:{start:r?i+a:o+l,end:r?i:o}}function b0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Nle(t,e){return mF(t,e+1)}function Rle(t,e,n,r,i){for(var o=(r||[]).slice(),{start:a,end:l}=e,u=0,d=1,p=a,h=function(){var E=r==null?void 0:r[u];if(E===void 0)return{v:mF(r,d)};var S=u,_,C=()=>(_===void 0&&(_=n(E,S)),_),R=E.coordinate,I=u===0||b0(t,R,C,p,l);I||(u=0,p=a,d+=1),I&&(p=R+t*(C()/2+i),u+=d)},y;d<=o.length;)if(y=h(),y)return y.v;return[]}function _z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(n),!0).forEach(function(r){Ole(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_z(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ole(t,e,n){return(e=Ple(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ple(t){var e=Dle(t,"string");return typeof e=="symbol"?e:e+""}function Dle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mle(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:l}=e,{end:u}=e,d=function(y){var b=o[y],E,S=()=>(E===void 0&&(E=n(b,y)),E);if(y===a-1){var _=t*(b.coordinate+t*S()/2-u);o[y]=b=Hr(Hr({},b),{},{tickCoord:_>0?b.coordinate-_*t:b.coordinate})}else o[y]=b=Hr(Hr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var C=b0(t,b.tickCoord,S,l,u);C&&(u=b.tickCoord-t*(S()/2+i),o[y]=Hr(Hr({},b),{},{isShow:!0}))}},p=a-1;p>=0;p--)d(p);return o}function zle(t,e,n,r,i,o){var a=(r||[]).slice(),l=a.length,{start:u,end:d}=e;if(o){var p=r[l-1],h=n(p,l-1),y=t*(p.coordinate+t*h/2-d);if(a[l-1]=p=Hr(Hr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate}),p.tickCoord!=null){var b=b0(t,p.tickCoord,()=>h,u,d);b&&(d=p.tickCoord-t*(h/2+i),a[l-1]=Hr(Hr({},p),{},{isShow:!0}))}}for(var E=o?l-1:l,S=function(R){var I=a[R],O,U=()=>(O===void 0&&(O=n(I,R)),O);if(R===0){var M=t*(I.coordinate-t*U()/2-u);a[R]=I=Hr(Hr({},I),{},{tickCoord:M<0?I.coordinate-M*t:I.coordinate})}else a[R]=I=Hr(Hr({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var D=b0(t,I.tickCoord,U,u,d);D&&(u=I.tickCoord+t*(U()/2+i),a[R]=Hr(Hr({},I),{},{isShow:!0}))}},_=0;_<E;_++)S(_);return a}function QA(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:l,interval:u,tickFormatter:d,unit:p,angle:h}=t;if(!i||!i.length||!r)return[];if(Ge(u)||yg.isSsr){var y;return(y=Nle(i,Ge(u)?u:0))!==null&&y!==void 0?y:[]}var b=[],E=l==="top"||l==="bottom"?"width":"height",S=p&&E==="width"?hh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(I,O)=>{var U=typeof d=="function"?d(I.value,O):I.value;return E==="width"?Cle(hh(U,{fontSize:e,letterSpacing:n}),S,h):hh(U,{fontSize:e,letterSpacing:n})[E]},C=i.length>=2?Ni(i[1].coordinate-i[0].coordinate):1,R=Ile(o,C,E);return u==="equidistantPreserveStart"?Rle(C,R,_,i,a):(u==="preserveStart"||u==="preserveStartEnd"?b=zle(C,R,_,i,a,u==="preserveStartEnd"):b=Mle(C,R,_,i,a),b.filter(I=>I.isShow))}var Lle=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,a=0;if(e){Array.from(e).forEach(p=>{if(p){var h=p.getBoundingClientRect();h.width>a&&(a=h.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+o,d=a+u+l+(n?r:0);return Math.round(d)}return 0},jle=["axisLine","width","height","className","hide","ticks","axisType"];function Ule(t,e){if(t==null)return{};var n,r,i=Vle(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yu.apply(null,arguments)}function Tz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tz(Object(n),!0).forEach(function(r){Fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fle(t,e,n){return(e=Ble(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ble(t){var e=qle(t,"string");return typeof e=="symbol"?e:e+""}function qle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var As={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Er.axis};function $le(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:l,otherSvgProps:u}=t;if(!l)return null;var d=Zn(Zn(Zn({},u),Xo(l)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!a||o==="bottom"&&a);d=Zn(Zn({},d),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var h=+(o==="left"&&!a||o==="right"&&a);d=Zn(Zn({},d),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return A.createElement("line",yu({},d,{className:Ft("recharts-cartesian-axis-line",np(l,"className"))}))}function Hle(t,e,n,r,i,o,a,l,u){var d,p,h,y,b,E,S=l?-1:1,_=t.tickSize||a,C=Ge(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=p=t.coordinate,y=n+ +!l*i,h=y-S*_,E=h-S*u,b=C;break;case"left":h=y=t.coordinate,p=e+ +!l*r,d=p-S*_,b=d-S*u,E=C;break;case"right":h=y=t.coordinate,p=e+ +l*r,d=p+S*_,b=d+S*u,E=C;break;default:d=p=t.coordinate,y=n+ +l*i,h=y+S*_,E=h+S*u,b=C;break}return{line:{x1:d,y1:h,x2:p,y2:y},tick:{x:b,y:E}}}function Gle(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Kle(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Wle(t){var{option:e,tickProps:n,value:r}=t,i,o=Ft(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,Zn(Zn({},n),{},{className:o}));else if(typeof e=="function")i=e(Zn(Zn({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Ft(a,e==null?void 0:e.className)),i=A.createElement(KA,yu({},n,{className:a}),r)}return i}var Yle=A.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:a,unit:l,padding:u,tickTextProps:d,orientation:p,mirror:h,x:y,y:b,width:E,height:S,tickSize:_,tickMargin:C,fontSize:R,letterSpacing:I,getTicksConfig:O,events:U,axisType:M}=t,D=QA(Zn(Zn({},O),{},{ticks:n}),R,I),L=Gle(p,h),z=Kle(p,h),B=Xo(O),V=lg(r),q={};typeof i=="object"&&(q=i);var F=Zn(Zn({},B),{},{fill:"none"},q),oe=D.map(J=>Zn({entry:J},Hle(J,y,b,E,S,p,_,h,C))),Z=oe.map(J=>{var{entry:ie,line:te}=J;return A.createElement(Io,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},i&&A.createElement("line",yu({},F,te,{className:Ft("recharts-cartesian-axis-tick-line",np(i,"className"))})))}),X=oe.map((J,ie)=>{var{entry:te,tick:G}=J,W=Zn(Zn(Zn(Zn({textAnchor:L,verticalAnchor:z},B),{},{stroke:"none",fill:o},V),G),{},{index:ie,payload:te,visibleTicksCount:D.length,tickFormatter:a,padding:u},d);return A.createElement(Io,yu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},MS(U,te,ie)),r&&A.createElement(Wle,{option:r,tickProps:W,value:"".concat(typeof a=="function"?a(te.value,ie):te.value).concat(l||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},X.length>0&&A.createElement(Do,{zIndex:Er.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:e},X)),Z.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},Z))}),Jle=A.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:a,ticks:l,axisType:u}=t,d=Ule(t,jle),[p,h]=A.useState(""),[y,b]=A.useState(""),E=A.useRef(null);A.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var _;return Lle({ticks:E.current,label:(_=t.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=A.useCallback(_=>{if(_){var C=_.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=C;var R=C[0];if(R){var I=window.getComputedStyle(R),O=I.fontSize,U=I.letterSpacing;(O!==p||U!==y)&&(h(O),b(U))}}},[p,y]);return a||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(Do,{zIndex:t.zIndex},A.createElement(Io,{className:Ft("recharts-cartesian-axis",o)},A.createElement($le,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Xo(t)}),A.createElement(Yle,{ref:S,axisType:u,events:d,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),A.createElement(coe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},A.createElement(voe,{label:t.label,labelRef:t.labelRef}),t.children)))}),ZA=A.forwardRef((t,e)=>{var n=fi(t,As);return A.createElement(Jle,yu({},n,{ref:e}))});ZA.displayName="CartesianAxis";var Xle=["x1","y1","x2","y2","key"],Qle=["offset"],Zle=["xAxisId","yAxisId"],ece=["xAxisId","yAxisId"];function Ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(n),!0).forEach(function(r){tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ez(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tce(t,e,n){return(e=nce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nce(t){var e=rce(t,"string");return typeof e=="symbol"?e:e+""}function rce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ru(){return ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ru.apply(null,arguments)}function v0(t,e){if(t==null)return{};var n,r,i=ice(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ice(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oce=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:a,ry:l}=t;return A.createElement("rect",{x:r,y:i,ry:l,width:o,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function yF(t){var{option:e,lineItemProps:n}=t,r;if(A.isValidElement(e))r=A.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:o,y1:a,x2:l,y2:u,key:d}=n,p=v0(n,Xle),h=(i=Xo(p))!==null&&i!==void 0?i:{},{offset:y}=h,b=v0(h,Qle);r=A.createElement("line",ru({},b,{x1:o,y1:a,x2:l,y2:u,fill:"none",key:d}))}return r}function ace(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=t,l=v0(t,Zle),u=i.map((d,p)=>{var h=Kr(Kr({},l),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(p),index:p});return A.createElement(yF,{key:"line-".concat(p),option:r,lineItemProps:h})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function sce(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=t,l=v0(t,ece),u=i.map((d,p)=>{var h=Kr(Kr({},l),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(p),index:p});return A.createElement(yF,{option:r,lineItemProps:h,key:"line-".concat(p)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function lce(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:a,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length||l==null)return null;var d=l.map(h=>Math.round(h+i-i)).sort((h,y)=>h-y);i!==d[0]&&d.unshift(0);var p=d.map((h,y)=>{var b=!d[y+1],E=b?i+a-h:d[y+1]-h;if(E<=0)return null;var S=y%e.length;return A.createElement("rect",{key:"react-".concat(y),y:h,x:r,height:E,width:o,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function cce(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:a,height:l,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var d=u.map(h=>Math.round(h+i-i)).sort((h,y)=>h-y);i!==d[0]&&d.unshift(0);var p=d.map((h,y)=>{var b=!d[y+1],E=b?i+a-h:d[y+1]-h;if(E<=0)return null;var S=y%n.length;return A.createElement("rect",{key:"react-".concat(y),x:h,y:o,width:E,height:l,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var uce=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return F3(QA(Kr(Kr(Kr({},As),n),{},{ticks:B3(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},dce=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return F3(QA(Kr(Kr(Kr({},As),n),{},{ticks:B3(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},pce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Er.grid};function bF(t){var e=J3(),n=X3(),r=Y3(),i=Kr(Kr({},fi(t,pce)),{},{x:Ge(t.x)?t.x:r.left,y:Ge(t.y)?t.y:r.top,width:Ge(t.width)?t.width:r.width,height:Ge(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:a,x:l,y:u,width:d,height:p,syncWithTicks:h,horizontalValues:y,verticalValues:b}=i,E=Qr(),S=Ke(z=>wM(z,"xAxis",o,E)),_=Ke(z=>wM(z,"yAxis",a,E));if(!Ga(d)||!Ga(p)||!Ge(l)||!Ge(u))return null;var C=i.verticalCoordinatesGenerator||uce,R=i.horizontalCoordinatesGenerator||dce,{horizontalPoints:I,verticalPoints:O}=i;if((!I||!I.length)&&typeof R=="function"){var U=y&&y.length,M=R({yAxis:_?Kr(Kr({},_),{},{ticks:U?y:_.ticks}):void 0,width:e??d,height:n??p,offset:r},U?!0:h);$b(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(I=M)}if((!O||!O.length)&&typeof C=="function"){var D=b&&b.length,L=C({xAxis:S?Kr(Kr({},S),{},{ticks:D?b:S.ticks}):void 0,width:e??d,height:n??p,offset:r},D?!0:h);$b(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(O=L)}return A.createElement(Do,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(oce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(lce,ru({},i,{horizontalPoints:I})),A.createElement(cce,ru({},i,{verticalPoints:O})),A.createElement(ace,ru({},i,{offset:r,horizontalPoints:I,xAxis:S,yAxis:_})),A.createElement(sce,ru({},i,{offset:r,verticalPoints:O,xAxis:S,yAxis:_}))))}bF.displayName="CartesianGrid";var vF=(t,e,n,r)=>oc(t,"xAxis",e,r),wF=(t,e,n,r)=>ic(t,"xAxis",e,r),xF=(t,e,n,r)=>oc(t,"yAxis",n,r),kF=(t,e,n,r)=>ic(t,"yAxis",n,r),fce=me([jt,vF,xF,wF,kF],(t,e,n,r,i)=>hc(t,"xAxis")?op(e,r,!1):op(n,i,!1)),hce=(t,e,n,r,i)=>i;function gce(t){return t.type==="line"}var mce=me([Yv,hce],(t,e)=>t.filter(gce).find(n=>n.id===e)),yce=me([jt,vF,xF,wF,kF,mce,fce,Fv],(t,e,n,r,i,o,a,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:p}=l;if(!(o==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:h,data:y}=o,b;if(y!=null&&y.length>0?b=y:b=u==null?void 0:u.slice(d,p+1),b!=null)return jce({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:a,displayedData:b})}});function bce(t){var e=lg(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:o}=e,a=Number(i),l=Number(o);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(l)||l<0)&&(l=r),{r:a,strokeWidth:l}}return{r:n,strokeWidth:r}}var vce=["id"],wce=["type","layout","connectNulls","needClip","shape"],xce=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Hh(){return Hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hh.apply(null,arguments)}function Sz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sz(Object(n),!0).forEach(function(r){kce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kce(t,e,n){return(e=_ce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ce(t){var e=Tce(t,"string");return typeof e=="symbol"?e:e+""}function Tce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eC(t,e){if(t==null)return{};var n,r,i=Ece(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ece(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sce=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:_v(n,e),payload:t}]},Ace=A.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:a,hide:l,unit:u,tooltipType:d}=t,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:_v(a,e),hide:l,type:d,color:r,unit:u}};return A.createElement(nF,{tooltipEntrySettings:p})}),_F=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Cce(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Ice=(t,e,n)=>{var r=n.reduce((h,y)=>h+y);if(!r)return _F(e,t);for(var i=Math.floor(t/r),o=t%r,a=e-t,l=[],u=0,d=0;u<n.length;d+=n[u],++u)if(d+n[u]>o){l=[...n.slice(0,u),o-d];break}var p=l.length%2===0?[0,a]:[a];return[...Cce(n,i),...l,...p].map(h=>"".concat(h,"px")).join(", ")};function Nce(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:o,needClip:a}=r,{id:l}=r,u=eC(r,vce),d=Xo(u);return A.createElement(vae,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:d,needClip:a,clipPathId:e})}function Rce(t){var{showLabels:e,children:n,points:r}=t,i=A.useMemo(()=>r==null?void 0:r.map(o=>{var a,l,u={x:(a=o.x)!==null&&a!==void 0?a:0,y:(l=o.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ca(Ca({},u),{},{value:o.value,payload:o.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return A.createElement(HV,{value:e?i:void 0},n)}function Az(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:o}=t,{type:a,layout:l,connectNulls:u,needClip:d,shape:p}=o,h=eC(o,wce),y=Ca(Ca({},di(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:l,connectNulls:u,strokeDasharray:i??o.strokeDasharray});return A.createElement(A.Fragment,null,(r==null?void 0:r.length)>1&&A.createElement(QV,Hh({shapeType:"curve",option:p},y,{pathRef:n})),A.createElement(Nce,{points:r,clipPathId:e,props:o}))}function Oce(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Pce(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=t,{points:a,strokeDasharray:l,isAnimationActive:u,animationBegin:d,animationDuration:p,animationEasing:h,animateNewValues:y,width:b,height:E,onAnimationEnd:S,onAnimationStart:_}=n,C=i.current,R=Dv(a,"recharts-line-"),I=A.useRef(R),[O,U]=A.useState(!1),M=!O,D=A.useCallback(()=>{typeof S=="function"&&S(),U(!1)},[S]),L=A.useCallback(()=>{typeof _=="function"&&_(),U(!0)},[_]),z=Oce(r.current),B=A.useRef(0);I.current!==R&&(B.current=o.current,I.current=R);var V=B.current;return A.createElement(Rce,{points:a,showLabels:M},n.children,A.createElement(Pv,{animationId:R,begin:d,duration:p,isActive:u,easing:h,onAnimationEnd:D,onAnimationStart:L,key:R},q=>{var F=Sn(V,z+V,q),oe=Math.min(F,z),Z;if(u)if(l){var X="".concat(l).split(/[,\s]+/gim).map(te=>parseFloat(te));Z=Ice(oe,z,X)}else Z=_F(z,oe);else Z=l==null?void 0:String(l);if(q>0&&z>0&&(i.current=a,o.current=Math.max(o.current,oe)),C){var J=C.length/a.length,ie=q===1?a:a.map((te,G)=>{var W=Math.floor(G*J);if(C[W]){var Y=C[W];return Ca(Ca({},te),{},{x:Sn(Y.x,te.x,q),y:Sn(Y.y,te.y,q)})}return y?Ca(Ca({},te),{},{x:Sn(b*2,te.x,q),y:Sn(E/2,te.y,q)}):Ca(Ca({},te),{},{x:te.x,y:te.y})});return i.current=ie,A.createElement(Az,{props:n,points:ie,clipPathId:e,pathRef:r,strokeDasharray:Z})}return A.createElement(Az,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:Z})}),A.createElement(KV,{label:n.label}))}function Dce(t){var{clipPathId:e,props:n}=t,r=A.useRef(null),i=A.useRef(0),o=A.useRef(null);return A.createElement(Pce,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var Mce=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:sr(t.payload,e)}};class zce extends A.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:o,yAxisId:a,top:l,left:u,width:d,height:p,id:h,needClip:y,zIndex:b}=this.props;if(e)return null;var E=Ft("recharts-line",i),S=h,{r:_,strokeWidth:C}=bce(n),R=XV(n),I=_*2+C,O=y?"url(#clipPath-".concat(R?"":"dots-").concat(S,")"):void 0;return A.createElement(Do,{zIndex:b},A.createElement(Io,{className:E},y&&A.createElement("defs",null,A.createElement(dF,{clipPathId:S,xAxisId:o,yAxisId:a}),!R&&A.createElement("clipPath",{id:"clipPath-dots-".concat(S)},A.createElement("rect",{x:u-I/2,y:l-I/2,width:d+I,height:p+I}))),A.createElement(uF,{xAxisId:o,yAxisId:a,data:r,dataPointFormatter:Mce,errorBarOffset:0},A.createElement(Dce,{props:this.props,clipPathId:S}))),A.createElement(Uae,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:O}))}}var TF={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Er.line,type:"linear"};function Lce(t){var e=fi(t,TF),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,connectNulls:l,dot:u,hide:d,isAnimationActive:p,label:h,legendType:y,xAxisId:b,yAxisId:E,id:S}=e,_=eC(e,xce),{needClip:C}=JA(b,E),R=YA(),I=gg(),O=Qr(),U=Ke(B=>yce(B,b,E,O,S));if(I!=="horizontal"&&I!=="vertical"||U==null||R==null)return null;var{height:M,width:D,x:L,y:z}=R;return A.createElement(zce,Hh({},_,{id:S,connectNulls:l,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,isAnimationActive:p,hide:d,label:h,legendType:y,xAxisId:b,yAxisId:E,points:U,layout:I,height:M,width:D,left:L,top:z,needClip:C}))}function jce(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:a,bandSize:l,displayedData:u}=t;return u.map((d,p)=>{var h=sr(d,a);if(e==="horizontal"){var y=FP({axis:n,ticks:i,bandSize:l,entry:d,index:p}),b=xn(h)?null:r.scale(h);return{x:y,y:b,value:h,payload:d}}var E=xn(h)?null:n.scale(h),S=FP({axis:r,ticks:o,bandSize:l,entry:d,index:p});return E==null||S==null?null:{x:E,y:S,value:h,payload:d}}).filter(Boolean)}function Uce(t){var e=fi(t,TF),n=Qr();return A.createElement(oF,{id:e.id,type:"line"},r=>A.createElement(A.Fragment,null,A.createElement(rF,{legendPayload:Sce(e)}),A.createElement(Ace,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),A.createElement(sF,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),A.createElement(Lce,Hh({},e,{id:r}))))}var EF=A.memo(Uce,Zv);EF.displayName="Line";var Vce=["domain","range"],Fce=["domain","range"];function Cz(t,e){if(t==null)return{};var n,r,i=Bce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Iz(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function SF(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=Cz(t,Vce),{domain:o,range:a}=e,l=Cz(e,Fce);return!Iz(n,o)||!Iz(r,a)?!1:Zv(i,l)}var qce=["dangerouslySetInnerHTML","ticks"],$ce=["id"];function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(null,arguments)}function Nz(t,e){if(t==null)return{};var n,r,i=Hce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Gce(t){var e=Fn(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(Tae(t)):n.current!==t&&e(Eae({prev:n.current,next:t})),n.current=t},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(Sae(n.current)),n.current=null)},[e]),null}var Kce=t=>{var{xAxisId:e,className:n}=t,r=Ke(GS),i=Qr(),o="xAxis",a=Ke(_=>Cp(_,o,e,i)),l=Ke(_=>tV(_,o,e,i)),u=Ke(_=>XU(_,e)),d=Ke(_=>fne(_,e)),p=Ke(_=>wU(_,e));if(u==null||d==null||p==null)return null;var{dangerouslySetInnerHTML:h,ticks:y}=t,b=Nz(t,qce),{id:E}=p,S=Nz(p,$ce);return A.createElement(ZA,bE({},b,S,{scale:a,x:d.x,y:d.y,width:u.width,height:u.height,className:Ft("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:l,axisType:o}))},Wce={allowDataOverflow:vr.allowDataOverflow,allowDecimals:vr.allowDecimals,allowDuplicatedCategory:vr.allowDuplicatedCategory,angle:vr.angle,axisLine:As.axisLine,height:vr.height,hide:!1,includeHidden:vr.includeHidden,interval:vr.interval,minTickGap:vr.minTickGap,mirror:vr.mirror,orientation:vr.orientation,padding:vr.padding,reversed:vr.reversed,scale:vr.scale,tick:vr.tick,tickCount:vr.tickCount,tickLine:As.tickLine,tickSize:As.tickSize,type:vr.type,xAxisId:0},Yce=t=>{var e=fi(t,Wce);return A.createElement(A.Fragment,null,A.createElement(Gce,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),A.createElement(Kce,e))},tC=A.memo(Yce,SF);tC.displayName="XAxis";var Jce=["dangerouslySetInnerHTML","ticks"],Xce=["id"];function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(null,arguments)}function Rz(t,e){if(t==null)return{};var n,r,i=Qce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zce(t){var e=Fn(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(Aae(t)):n.current!==t&&e(Cae({prev:n.current,next:t})),n.current=t},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(Iae(n.current)),n.current=null)},[e]),null}var eue=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,o=A.useRef(null),a=A.useRef(null),l=Ke(GS),u=Qr(),d=Fn(),p="yAxis",h=Ke(U=>Cp(U,p,e,u)),y=Ke(U=>QU(U,e)),b=Ke(U=>gne(U,e)),E=Ke(U=>tV(U,p,e,u)),S=Ke(U=>xU(U,e));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!y||WA(i)||A.isValidElement(i)||S==null)){var U=o.current;if(U){var M=U.getCalculatedWidth();Math.round(y.width)!==Math.round(M)&&d(Nae({id:e,width:M}))}}},[E,y,d,i,e,r,S]),y==null||b==null||S==null)return null;var{dangerouslySetInnerHTML:_,ticks:C}=t,R=Rz(t,Jce),{id:I}=S,O=Rz(S,Xce);return A.createElement(ZA,vE({},R,O,{ref:o,labelRef:a,scale:h,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:Ft("recharts-".concat(p," ").concat(p),n),viewBox:l,ticks:E,axisType:p}))},tue={allowDataOverflow:wr.allowDataOverflow,allowDecimals:wr.allowDecimals,allowDuplicatedCategory:wr.allowDuplicatedCategory,angle:wr.angle,axisLine:As.axisLine,hide:!1,includeHidden:wr.includeHidden,interval:wr.interval,minTickGap:wr.minTickGap,mirror:wr.mirror,orientation:wr.orientation,padding:wr.padding,reversed:wr.reversed,scale:wr.scale,tick:wr.tick,tickCount:wr.tickCount,tickLine:As.tickLine,tickSize:As.tickSize,type:wr.type,width:wr.width,yAxisId:0},nue=t=>{var e=fi(t,tue);return A.createElement(A.Fragment,null,A.createElement(Zce,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),A.createElement(eue,e))},nC=A.memo(nue,SF);nC.displayName="YAxis";var rue=(t,e)=>e,rC=me([rue,jt,bU,pr,yV,Ys,Nre,Sr],Lre),iC=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},AF=No("mouseClick"),CF=fg();CF.startListening({actionCreator:AF,effect:(t,e)=>{var n=t.payload,r=rC(e.getState(),iC(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Ine({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var wE=No("mouseMove"),IF=fg(),Ky=null;IF.startListening({actionCreator:wE,effect:(t,e)=>{var n=t.payload;Ky!==null&&cancelAnimationFrame(Ky);var r=iC(n);Ky=requestAnimationFrame(()=>{var i=e.getState(),o=LA(i,i.tooltip.settings.shared);if(o==="axis"){var a=rC(i,r);(a==null?void 0:a.activeIndex)!=null?e.dispatch(cV({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(lV())}Ky=null})}});var Oz={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},NF=Mi({name:"rootProps",initialState:Oz,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Oz.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),iue=NF.reducer,{updateOptions:oue}=NF.actions,RF=Mi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:y5e}=RF.actions,aue=RF.reducer,OF=No("keyDown"),PF=No("focus"),oC=fg();oC.startListening({actionCreator:OF,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=jA(i,Np(n),Tg(n),Ig(n)),l=a==null?-1:Number(a);if(!(!Number.isFinite(l)||l<0)){var u=Ys(n);if(o==="Enter"){var d=d0(n,"axis","hover",String(i.index));e.dispatch(uE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var p=vne(n),h=p==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,b=l+y*h;if(!(u==null||b>=u.length||b<0)){var E=d0(n,"axis","hover",String(b));e.dispatch(uE({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});oC.startListening({actionCreator:PF,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=d0(n,"axis","hover",String(o));e.dispatch(uE({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:a}))}}}});var ko=No("externalEvent"),DF=fg(),P_=new Map;DF.startListening({actionCreator:ko,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=P_.get(i);o!==void 0&&cancelAnimationFrame(o);var a=requestAnimationFrame(()=>{try{var l=e.getState(),u={activeCoordinate:hre(l),activeDataKey:xV(l),activeIndex:mu(l),activeLabel:wV(l),activeTooltipIndex:mu(l),isTooltipActive:gre(l)};n(u,r)}finally{P_.delete(i)}});P_.set(i,a)}}});var sue=me([Ip],t=>t.tooltipItemPayloads),lue=me([sue,Ag,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var a=e(o,n);return a}}}),MF=No("touchMove"),zF=fg();zF.startListening({actionCreator:MF,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=LA(r,r.tooltip.settings.shared);if(i==="axis"){var o=rC(r,iC({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(cV({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(gJ),p=(a=u.getAttribute(mJ))!==null&&a!==void 0?a:void 0,h=lue(e.getState(),d,p);e.dispatch(sV({activeDataKey:p,activeIndex:d,activeCoordinate:h}))}}}});var cue=p3({brush:ble,cartesianAxis:Rae,chartData:hie,errorBars:Xae,graphicalItems:cae,layout:JY,legend:sX,options:cie,polarAxis:Poe,polarOptions:aue,referenceElements:Ele,rootProps:iue,tooltip:Nne,zIndex:Xre}),uue=function(e){return xY({reducer:cue,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([CF.middleware,IF.middleware,oC.middleware,DF.middleware,zF.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(A3({type:"raf"}))},devTools:yg.devToolsEnabled})};function due(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Qr(),o=A.useRef(null);if(i)return n;o.current==null&&(o.current=uue(e));var a=LS;return A.createElement(vse,{context:a,store:o.current},n)}function pue(t){var{layout:e,margin:n}=t,r=Fn(),i=Qr();return A.useEffect(()=>{i||(r(KY(e)),r(GY(n)))},[r,i,e,n]),null}var fue=A.memo(pue,Zv);function hue(t){var e=Fn();return A.useEffect(()=>{e(oue(t))},[e,t]),null}function Pz(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=iF("".concat(r).concat(e)),o=Fn();return A.useLayoutEffect(()=>(o(Yre({zIndex:e,elementId:i,isPanorama:n})),()=>{o(Jre({zIndex:e,isPanorama:n}))}),[o,e,i,n]),A.createElement("g",{tabIndex:-1,id:i})}function Dz(t){var{children:e,isPanorama:n}=t,r=Ke(Ure);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),o=r.filter(a=>a>0);return A.createElement(A.Fragment,null,i.map(a=>A.createElement(Pz,{key:a,zIndex:a,isPanorama:n})),e,o.map(a=>A.createElement(Pz,{key:a,zIndex:a,isPanorama:n})))}var gue=["children"];function mue(t,e){if(t==null)return{};var n,r,i=yue(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w0.apply(null,arguments)}var bue={width:"100%",height:"100%",display:"block"},vue=A.forwardRef((t,e)=>{var n=J3(),r=X3(),i=o6();if(!Ga(n)||!Ga(r))return null;var{children:o,otherAttributes:a,title:l,desc:u}=t,d,p;return a!=null&&(typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?p=a.role:p=i?"application":void 0),A.createElement(I9,w0({},a,{title:l,desc:u,role:p,tabIndex:d,width:n,height:r,style:bue,ref:e}),o)}),wue=t=>{var{children:e}=t,n=Ke(Av);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return A.createElement(I9,{width:r,height:i,x:a,y:o},e)},Mz=A.forwardRef((t,e)=>{var{children:n}=t,r=mue(t,gue),i=Qr();return i?A.createElement(wue,null,A.createElement(Dz,{isPanorama:!0},n)):A.createElement(vue,w0({ref:e},r),A.createElement(Dz,{isPanorama:!1},n))});function xue(){var t=Fn(),[e,n]=A.useState(null),r=Ke(hJ);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Vn(o)&&o!==r&&t(YY(o))}},[e,t,r]),n}function zz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zz(Object(n),!0).forEach(function(r){_ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ue(t,e,n){return(e=Tue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tue(t){var e=Eue(t,"string");return typeof e=="symbol"?e:e+""}function Eue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bu.apply(null,arguments)}var Sue=()=>(_ie(),null);function x0(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Aue=A.forwardRef((t,e)=>{var n,r,i=A.useRef(null),[o,a]=A.useState({containerWidth:x0((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:x0((r=t.style)===null||r===void 0?void 0:r.height)}),l=A.useCallback((d,p)=>{a(h=>{var y=Math.round(d),b=Math.round(p);return h.containerWidth===y&&h.containerHeight===b?h:{containerWidth:y,containerHeight:b}})},[]),u=A.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:p,height:h}=d.getBoundingClientRect();l(p,h);var y=E=>{var{width:S,height:_}=E[0].contentRect;l(S,_)},b=new ResizeObserver(y);b.observe(d),i.current=b}},[e,l]);return A.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[l]),A.createElement(A.Fragment,null,A.createElement(Iv,{width:o.containerWidth,height:o.containerHeight}),A.createElement("div",bu({ref:u},t)))}),Cue=A.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=A.useState({containerWidth:x0(n),containerHeight:x0(r)}),a=A.useCallback((u,d)=>{o(p=>{var h=Math.round(u),y=Math.round(d);return p.containerWidth===h&&p.containerHeight===y?p:{containerWidth:h,containerHeight:y}})},[]),l=A.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:d,height:p}=u.getBoundingClientRect();a(d,p)}},[e,a]);return A.createElement(A.Fragment,null,A.createElement(Iv,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",bu({ref:l},t)))}),Iue=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return A.createElement(A.Fragment,null,A.createElement(Iv,{width:n,height:r}),A.createElement("div",bu({ref:e},t)))}),Nue=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ns(n)||Ns(r)?A.createElement(Cue,bu({},t,{ref:e})):A.createElement(Iue,bu({},t,{ref:e}))});function Rue(t){return t===!0?Aue:Nue}var Oue=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:p,onMouseMove:h,onMouseUp:y,onTouchEnd:b,onTouchMove:E,onTouchStart:S,style:_,width:C,responsive:R,dispatchTouchEvents:I=!0}=t,O=A.useRef(null),U=Fn(),[M,D]=A.useState(null),[L,z]=A.useState(null),B=xue(),V=KS(),q=(V==null?void 0:V.width)>0?V.width:C,F=(V==null?void 0:V.height)>0?V.height:i,oe=A.useCallback(ae=>{B(ae),typeof e=="function"&&e(ae),D(ae),z(ae),ae!=null&&(O.current=ae)},[B,e,D,z]),Z=A.useCallback(ae=>{U(AF(ae)),U(ko({handler:o,reactEvent:ae}))},[U,o]),X=A.useCallback(ae=>{U(wE(ae)),U(ko({handler:d,reactEvent:ae}))},[U,d]),J=A.useCallback(ae=>{U(lV()),U(ko({handler:p,reactEvent:ae}))},[U,p]),ie=A.useCallback(ae=>{U(wE(ae)),U(ko({handler:h,reactEvent:ae}))},[U,h]),te=A.useCallback(()=>{U(PF())},[U]),G=A.useCallback(ae=>{U(OF(ae.key))},[U]),W=A.useCallback(ae=>{U(ko({handler:a,reactEvent:ae}))},[U,a]),Y=A.useCallback(ae=>{U(ko({handler:l,reactEvent:ae}))},[U,l]),H=A.useCallback(ae=>{U(ko({handler:u,reactEvent:ae}))},[U,u]),fe=A.useCallback(ae=>{U(ko({handler:y,reactEvent:ae}))},[U,y]),Se=A.useCallback(ae=>{U(ko({handler:S,reactEvent:ae}))},[U,S]),we=A.useCallback(ae=>{I&&U(MF(ae)),U(ko({handler:E,reactEvent:ae}))},[U,I,E]),Ce=A.useCallback(ae=>{U(ko({handler:b,reactEvent:ae}))},[U,b]),Ue=Rue(R);return A.createElement(CV.Provider,{value:M},A.createElement(nK.Provider,{value:L},A.createElement(Ue,{width:q??(_==null?void 0:_.width),height:F??(_==null?void 0:_.height),className:Ft("recharts-wrapper",r),style:kue({position:"relative",cursor:"default",width:q,height:F},_),onClick:Z,onContextMenu:W,onDoubleClick:Y,onFocus:te,onKeyDown:G,onMouseDown:H,onMouseEnter:X,onMouseLeave:J,onMouseMove:ie,onMouseUp:fe,onTouchEnd:Ce,onTouchMove:we,onTouchStart:Se,ref:oe},A.createElement(Sue,null),n)))}),Pue=["width","height","responsive","children","className","style","compact","title","desc"];function Due(t,e){if(t==null)return{};var n,r,i=Mue(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zue=A.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:a,style:l,compact:u,title:d,desc:p}=t,h=Due(t,Pue),y=Xo(h);return u?A.createElement(A.Fragment,null,A.createElement(Iv,{width:n,height:r}),A.createElement(Mz,{otherAttributes:y,title:d,desc:p},o)):A.createElement(Oue,{className:a,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(Mz,{otherAttributes:y,title:d,desc:p,ref:e},A.createElement(Ale,null,o)))});function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(null,arguments)}var Lue={top:5,right:5,bottom:5,left:5},jue={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Lue,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},LF=A.forwardRef(function(e,n){var r,i=fi(e.categoricalChartProps,jue),{chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=e,p={chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return A.createElement(due,{preloadedState:{options:p},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},A.createElement(yle,{chartData:d.data}),A.createElement(fue,{layout:i.layout,margin:i.margin}),A.createElement(hue,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(zue,xE({},i,{ref:n})))}),Uue=["axis"],Vue=A.forwardRef((t,e)=>A.createElement(LF,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Uue,tooltipPayloadSearcher:IV,categoricalChartProps:t,ref:e})),Fue=["axis","item"],Bue=A.forwardRef((t,e)=>A.createElement(LF,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Fue,tooltipPayloadSearcher:IV,categoricalChartProps:t,ref:e}));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$ue=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Lz=t=>{const e=$ue(t);return e.charAt(0).toUpperCase()+e.slice(1)},jF=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Hue=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...l},u)=>A.createElement("svg",{ref:u,...Gue,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:jF("lucide",i),...!o&&!Hue(l)&&{"aria-hidden":"true"},...l},[...a.map(([d,p])=>A.createElement(d,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(t,e)=>{const n=A.forwardRef(({className:r,...i},o)=>A.createElement(Kue,{ref:o,iconNode:e,className:jF(`lucide-${que(Lz(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Lz(t),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],UF=Ie("activity",Wue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Jue=Ie("arrow-down",Yue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Gh=Ie("arrow-left",Xue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],VF=Ie("arrow-right",Que);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ede=Ie("arrow-up",Zue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tde=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],nde=Ie("beaker",tde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rde=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ew=Ie("book-open",rde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ide=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],ode=Ie("building-2",ide);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],sde=Ie("calendar-clock",ade);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tw=Ie("calendar",lde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ude=Ie("camera",cde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dde=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],k0=Ie("car",dde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pde=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Og=Ie("check",pde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hde=Ie("chevron-down",fde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gde=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],FF=Ie("chevron-left",gde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mde=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BF=Ie("chevron-right",mde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Pa=Ie("circle-alert",yde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Un=Ie("circle-check",bde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qF=Ie("circle-x",vde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cs=Ie("circle",wde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xde=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],up=Ie("clock",xde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],_de=Ie("coins",kde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tde=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],$F=Ie("construction",Tde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],aC=Ie("database",Ede);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],HF=Ie("dollar-sign",Sde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ade=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_0=Ie("external-link",Ade);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ide=Ie("eye",Cde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nde=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sC=Ie("file-text",Nde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Ode=Ie("flag",Rde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],Ud=Ie("fuel",Pde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dde=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Mde=Ie("funnel",Dde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Lde=Ie("github",zde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jde=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Ude=Ie("grid-3x3",jde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Fde=Ie("grip-vertical",Vde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bde=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],qde=Ie("hammer",Bde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $de=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],nw=Ie("image",$de);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],lC=Ie("info",Hde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],jz=Ie("layers",Gde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Wde=Ie("layout-dashboard",Kde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Jde=Ie("layout-grid",Yde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Qde=Ie("leaf",Xde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],kE=Ie("lightbulb",Zde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],tpe=Ie("link",epe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],GF=Ie("list-checks",npe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ipe=Ie("list",rpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ope=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Js=Ie("loader-circle",ope);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],rw=Ie("lock",ape);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],KF=Ie("log-out",spe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Kh=Ie("mail",lpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gh=Ie("map-pin",cpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],dpe=Ie("map",upe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}]],fpe=Ie("message-square-more",ppe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],_E=Ie("message-square",hpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],mpe=Ie("mic-off",gpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],WF=Ie("mic",ype);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bpe=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],vpe=Ie("moon",bpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wpe=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],xpe=Ie("navigation",wpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kpe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],_pe=Ie("package",kpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tpe=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],YF=Ie("paperclip",Tpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Epe=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Uz=Ie("pen-tool",Epe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Spe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],JF=Ie("pen",Spe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ape=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],Cpe=Ie("phone-off",Ape);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ipe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],cC=Ie("phone",Ipe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Npe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],La=Ie("plus",Npe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rpe=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],D_=Ie("receipt",Rpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ope=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ppe=Ie("refresh-cw",Ope);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dpe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],TE=Ie("save",Dpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mpe=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],Vz=Ie("scale",Mpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zpe=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],Fz=Ie("scan",zpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lpe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dp=Ie("search",Lpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jpe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],XF=Ie("send",jpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QF=Ie("settings",Upe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vpe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],EE=Ie("shield",Vpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fpe=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],ZF=Ie("shopping-bag",Fpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bpe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Xl=Ie("sparkles",Bpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qpe=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bz=Ie("square-check-big",qpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $pe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Hpe=Ie("star",$pe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gpe=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],qz=Ie("stethoscope",Gpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kpe=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],$z=Ie("store",Kpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wpe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ype=Ie("sun",Wpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jpe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],eB=Ie("target",Jpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xpe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ql=Ie("trash-2",Xpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qpe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Wh=Ie("trending-up",Qpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zpe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yh=Ie("triangle-alert",Zpe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const efe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],tfe=Ie("user-plus",efe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nfe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],rfe=Ie("user-x",nfe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iw=Ie("user",ife);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],afe=Ie("users",ofe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],lfe=Ie("video-off",sfe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],tB=Ie("video",cfe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ufe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],dfe=Ie("wallet",ufe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pfe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Da=Ie("wrench",pfe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ffe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lr=Ie("x",ffe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hfe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],nB=Ie("zap",hfe);function gfe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const mfe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,yfe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,bfe={};function Hz(t,e){return(bfe.jsx?yfe:mfe).test(t)}const vfe=/[ \t\n\f\r]/g;function wfe(t){return typeof t=="object"?t.type==="text"?Gz(t.value):!1:Gz(t)}function Gz(t){return t.replace(vfe,"")===""}let Pg=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};Pg.prototype.normal={};Pg.prototype.property={};Pg.prototype.space=void 0;function rB(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Pg(n,r,e)}function SE(t){return t.toLowerCase()}class zi{constructor(e,n){this.attribute=n,this.property=e}}zi.prototype.attribute="";zi.prototype.booleanish=!1;zi.prototype.boolean=!1;zi.prototype.commaOrSpaceSeparated=!1;zi.prototype.commaSeparated=!1;zi.prototype.defined=!1;zi.prototype.mustUseProperty=!1;zi.prototype.number=!1;zi.prototype.overloadedBoolean=!1;zi.prototype.property="";zi.prototype.spaceSeparated=!1;zi.prototype.space=void 0;let xfe=0;const dt=Au(),Qn=Au(),AE=Au(),Re=Au(),on=Au(),$d=Au(),Yi=Au();function Au(){return 2**++xfe}const CE=Object.freeze(Object.defineProperty({__proto__:null,boolean:dt,booleanish:Qn,commaOrSpaceSeparated:Yi,commaSeparated:$d,number:Re,overloadedBoolean:AE,spaceSeparated:on},Symbol.toStringTag,{value:"Module"})),M_=Object.keys(CE);class uC extends zi{constructor(e,n,r,i){let o=-1;if(super(e,n),Kz(this,"space",i),typeof r=="number")for(;++o<M_.length;){const a=M_[o];Kz(this,M_[o],(r&CE[a])===CE[a])}}}uC.prototype.defined=!0;function Kz(t,e,n){n&&(t[e]=n)}function Rp(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new uC(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[SE(r)]=r,n[SE(o.attribute)]=r}return new Pg(e,n,t.space)}const iB=Rp({properties:{ariaActiveDescendant:null,ariaAtomic:Qn,ariaAutoComplete:null,ariaBusy:Qn,ariaChecked:Qn,ariaColCount:Re,ariaColIndex:Re,ariaColSpan:Re,ariaControls:on,ariaCurrent:null,ariaDescribedBy:on,ariaDetails:null,ariaDisabled:Qn,ariaDropEffect:on,ariaErrorMessage:null,ariaExpanded:Qn,ariaFlowTo:on,ariaGrabbed:Qn,ariaHasPopup:null,ariaHidden:Qn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:on,ariaLevel:Re,ariaLive:null,ariaModal:Qn,ariaMultiLine:Qn,ariaMultiSelectable:Qn,ariaOrientation:null,ariaOwns:on,ariaPlaceholder:null,ariaPosInSet:Re,ariaPressed:Qn,ariaReadOnly:Qn,ariaRelevant:null,ariaRequired:Qn,ariaRoleDescription:on,ariaRowCount:Re,ariaRowIndex:Re,ariaRowSpan:Re,ariaSelected:Qn,ariaSetSize:Re,ariaSort:null,ariaValueMax:Re,ariaValueMin:Re,ariaValueNow:Re,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function oB(t,e){return e in t?t[e]:e}function aB(t,e){return oB(t,e.toLowerCase())}const kfe=Rp({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:$d,acceptCharset:on,accessKey:on,action:null,allow:null,allowFullScreen:dt,allowPaymentRequest:dt,allowUserMedia:dt,alt:null,as:null,async:dt,autoCapitalize:null,autoComplete:on,autoFocus:dt,autoPlay:dt,blocking:on,capture:null,charSet:null,checked:dt,cite:null,className:on,cols:Re,colSpan:null,content:null,contentEditable:Qn,controls:dt,controlsList:on,coords:Re|$d,crossOrigin:null,data:null,dateTime:null,decoding:null,default:dt,defer:dt,dir:null,dirName:null,disabled:dt,download:AE,draggable:Qn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:dt,formTarget:null,headers:on,height:Re,hidden:AE,high:Re,href:null,hrefLang:null,htmlFor:on,httpEquiv:on,id:null,imageSizes:null,imageSrcSet:null,inert:dt,inputMode:null,integrity:null,is:null,isMap:dt,itemId:null,itemProp:on,itemRef:on,itemScope:dt,itemType:on,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:dt,low:Re,manifest:null,max:null,maxLength:Re,media:null,method:null,min:null,minLength:Re,multiple:dt,muted:dt,name:null,nonce:null,noModule:dt,noValidate:dt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:dt,optimum:Re,pattern:null,ping:on,placeholder:null,playsInline:dt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:dt,referrerPolicy:null,rel:on,required:dt,reversed:dt,rows:Re,rowSpan:Re,sandbox:on,scope:null,scoped:dt,seamless:dt,selected:dt,shadowRootClonable:dt,shadowRootDelegatesFocus:dt,shadowRootMode:null,shape:null,size:Re,sizes:null,slot:null,span:Re,spellCheck:Qn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Re,step:null,style:null,tabIndex:Re,target:null,title:null,translate:null,type:null,typeMustMatch:dt,useMap:null,value:Qn,width:Re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:on,axis:null,background:null,bgColor:null,border:Re,borderColor:null,bottomMargin:Re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:dt,declare:dt,event:null,face:null,frame:null,frameBorder:null,hSpace:Re,leftMargin:Re,link:null,longDesc:null,lowSrc:null,marginHeight:Re,marginWidth:Re,noResize:dt,noHref:dt,noShade:dt,noWrap:dt,object:null,profile:null,prompt:null,rev:null,rightMargin:Re,rules:null,scheme:null,scrolling:Qn,standby:null,summary:null,text:null,topMargin:Re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:dt,disableRemotePlayback:dt,prefix:null,property:null,results:Re,security:null,unselectable:null},space:"html",transform:aB}),_fe=Rp({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Yi,accentHeight:Re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Re,amplitude:Re,arabicForm:null,ascent:Re,attributeName:null,attributeType:null,azimuth:Re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Re,by:null,calcMode:null,capHeight:Re,className:on,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Re,diffuseConstant:Re,direction:null,display:null,dur:null,divisor:Re,dominantBaseline:null,download:dt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Re,enableBackground:null,end:null,event:null,exponent:Re,externalResourcesRequired:null,fill:null,fillOpacity:Re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:$d,g2:$d,glyphName:$d,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Re,horizOriginX:Re,horizOriginY:Re,id:null,ideographic:Re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Re,k:Re,k1:Re,k2:Re,k3:Re,k4:Re,kernelMatrix:Yi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Re,overlineThickness:Re,paintOrder:null,panose1:null,path:null,pathLength:Re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:on,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Re,pointsAtY:Re,pointsAtZ:Re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Yi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Yi,rev:Yi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Yi,requiredFeatures:Yi,requiredFonts:Yi,requiredFormats:Yi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Re,specularExponent:Re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Re,strikethroughThickness:Re,string:null,stroke:null,strokeDashArray:Yi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Re,strokeOpacity:Re,strokeWidth:null,style:null,surfaceScale:Re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Yi,tabIndex:Re,tableValues:null,target:null,targetX:Re,targetY:Re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Yi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Re,underlineThickness:Re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Re,values:null,vAlphabetic:Re,vMathematical:Re,vectorEffect:null,vHanging:Re,vIdeographic:Re,version:null,vertAdvY:Re,vertOriginX:Re,vertOriginY:Re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:oB}),sB=Rp({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),lB=Rp({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:aB}),cB=Rp({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Tfe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Efe=/[A-Z]/g,Wz=/-[a-z]/g,Sfe=/^data[-\w.:]+$/i;function Afe(t,e){const n=SE(e);let r=e,i=zi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Sfe.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Wz,Ife);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Wz.test(o)){let a=o.replace(Efe,Cfe);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=uC}return new i(r,e)}function Cfe(t){return"-"+t.toLowerCase()}function Ife(t){return t.charAt(1).toUpperCase()}const Nfe=rB([iB,kfe,sB,lB,cB],"html"),dC=rB([iB,_fe,sB,lB,cB],"svg");function Rfe(t){return t.join(" ").trim()}var Cd={},z_,Yz;function Ofe(){if(Yz)return z_;Yz=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d="/",p="*",h="",y="comment",b="declaration";function E(_,C){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];C=C||{};var R=1,I=1;function O(oe){var Z=oe.match(e);Z&&(R+=Z.length);var X=oe.lastIndexOf(u);I=~X?oe.length-X:I+oe.length}function U(){var oe={line:R,column:I};return function(Z){return Z.position=new M(oe),z(),Z}}function M(oe){this.start=oe,this.end={line:R,column:I},this.source=C.source}M.prototype.content=_;function D(oe){var Z=new Error(C.source+":"+R+":"+I+": "+oe);if(Z.reason=oe,Z.filename=C.source,Z.line=R,Z.column=I,Z.source=_,!C.silent)throw Z}function L(oe){var Z=oe.exec(_);if(Z){var X=Z[0];return O(X),_=_.slice(X.length),Z}}function z(){L(n)}function B(oe){var Z;for(oe=oe||[];Z=V();)Z!==!1&&oe.push(Z);return oe}function V(){var oe=U();if(!(d!=_.charAt(0)||p!=_.charAt(1))){for(var Z=2;h!=_.charAt(Z)&&(p!=_.charAt(Z)||d!=_.charAt(Z+1));)++Z;if(Z+=2,h===_.charAt(Z-1))return D("End of comment missing");var X=_.slice(2,Z-2);return I+=2,O(X),_=_.slice(Z),I+=2,oe({type:y,comment:X})}}function q(){var oe=U(),Z=L(r);if(Z){if(V(),!L(i))return D("property missing ':'");var X=L(o),J=oe({type:b,property:S(Z[0].replace(t,h)),value:X?S(X[0].replace(t,h)):h});return L(a),J}}function F(){var oe=[];B(oe);for(var Z;Z=q();)Z!==!1&&(oe.push(Z),B(oe));return oe}return z(),F()}function S(_){return _?_.replace(l,h):h}return z_=E,z_}var Jz;function Pfe(){if(Jz)return Cd;Jz=1;var t=Cd&&Cd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.default=n;const e=t(Ofe());function n(r,i){let o=null;if(!r||typeof r!="string")return o;const a=(0,e.default)(r),l=typeof i=="function";return a.forEach(u=>{if(u.type!=="declaration")return;const{property:d,value:p}=u;l?i(d,p,u):p&&(o=o||{},o[d]=p)}),o}return Cd}var Qf={},Xz;function Dfe(){if(Xz)return Qf;Xz=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(d){return!d||n.test(d)||t.test(d)},a=function(d,p){return p.toUpperCase()},l=function(d,p){return"".concat(p,"-")},u=function(d,p){return p===void 0&&(p={}),o(d)?d:(d=d.toLowerCase(),p.reactCompat?d=d.replace(i,l):d=d.replace(r,l),d.replace(e,a))};return Qf.camelCase=u,Qf}var Zf,Qz;function Mfe(){if(Qz)return Zf;Qz=1;var t=Zf&&Zf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Pfe()),n=Dfe();function r(i,o){var a={};return!i||typeof i!="string"||(0,e.default)(i,function(l,u){l&&u&&(a[(0,n.camelCase)(l,o)]=u)}),a}return r.default=r,Zf=r,Zf}var zfe=Mfe();const Lfe=Oo(zfe),uB=dB("end"),pC=dB("start");function dB(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function jfe(t){const e=pC(t),n=uB(t);if(e&&n)return{start:e,end:n}}function mh(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Zz(t.position):"start"in t||"end"in t?Zz(t):"line"in t||"column"in t?IE(t):""}function IE(t){return e5(t&&t.line)+":"+e5(t&&t.column)}function Zz(t){return IE(t&&t.start)+"-"+IE(t&&t.end)}function e5(t){return t&&typeof t=="number"?t:1}class Zr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(a=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?o.ruleId=r:(o.source=r.slice(0,u),o.ruleId=r.slice(u+1))}if(!o.place&&o.ancestors&&o.ancestors){const u=o.ancestors[o.ancestors.length-1];u&&(o.place=u.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=mh(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Zr.prototype.file="";Zr.prototype.name="";Zr.prototype.reason="";Zr.prototype.message="";Zr.prototype.stack="";Zr.prototype.column=void 0;Zr.prototype.line=void 0;Zr.prototype.ancestors=void 0;Zr.prototype.cause=void 0;Zr.prototype.fatal=void 0;Zr.prototype.place=void 0;Zr.prototype.ruleId=void 0;Zr.prototype.source=void 0;const fC={}.hasOwnProperty,Ufe=new Map,Vfe=/[A-Z]/g,Ffe=new Set(["table","tbody","thead","tfoot","tr"]),Bfe=new Set(["td","th"]),pB="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function qfe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Xfe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Jfe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?dC:Nfe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=fB(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function fB(t,e,n){if(e.type==="element")return $fe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Hfe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Kfe(t,e,n);if(e.type==="mdxjsEsm")return Gfe(t,e);if(e.type==="root")return Wfe(t,e,n);if(e.type==="text")return Yfe(t,e)}function $fe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=dC,t.schema=i),t.ancestors.push(e);const o=gB(t,e.tagName,!1),a=Qfe(t,e);let l=gC(t,e);return Ffe.has(e.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!wfe(u):!0})),hB(t,a,o,e),hC(a,l),t.ancestors.pop(),t.schema=r,t.create(e,o,a,n)}function Hfe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Jh(t,e.position)}function Gfe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Jh(t,e.position)}function Kfe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=dC,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:gB(t,e.name,!0),a=Zfe(t,e),l=gC(t,e);return hB(t,a,o,e),hC(a,l),t.ancestors.pop(),t.schema=r,t.create(e,o,a,n)}function Wfe(t,e,n){const r={};return hC(r,gC(t,e)),t.create(e,t.Fragment,r,n)}function Yfe(t,e){return e.value}function hB(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function hC(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Jfe(t,e,n){return r;function r(i,o,a,l){const d=Array.isArray(a.children)?n:e;return l?d(o,a,l):d(o,a)}}function Xfe(t,e){return n;function n(r,i,o,a){const l=Array.isArray(o.children),u=pC(r);return e(i,o,a,l,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function Qfe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&fC.call(e.properties,i)){const o=ehe(t,i,e.properties[i]);if(o){const[a,l]=o;t.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&Bfe.has(e.tagName)?r=l:n[a]=l}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Zfe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else Jh(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,o=t.evaluater.evaluateExpression(l.expression)}else Jh(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function gC(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Ufe;for(;++r<e.children.length;){const o=e.children[r];let a;if(t.passKeys){const u=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(u){const d=i.get(u)||0;a=u+"-"+d,i.set(u,d+1)}}const l=fB(t,o,a);l!==void 0&&n.push(l)}return n}function ehe(t,e,n){const r=Afe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?gfe(n):Rfe(n)),r.property==="style"){let i=typeof n=="object"?n:the(t,String(n));return t.stylePropertyNameCase==="css"&&(i=nhe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Tfe[r.property]||r.property:r.attribute,n]}}function the(t,e){try{return Lfe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Zr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=pB+"#cannot-parse-style-attribute",i}}function gB(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,a;for(;++o<i.length;){const l=Hz(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(o&&l.type==="Literal"),optional:!1}:l}r=a}else r=Hz(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return fC.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Jh(t)}function Jh(t,e){const n=new Zr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=pB+"#cannot-handle-mdx-estrees-without-createevaluater",n}function nhe(t){const e={};let n;for(n in t)fC.call(t,n)&&(e[rhe(n)]=t[n]);return e}function rhe(t){let e=t.replace(Vfe,ihe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function ihe(t){return"-"+t.toLowerCase()}const L_={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ohe={};function ahe(t,e){const n=ohe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return mB(t,r,i)}function mB(t,e,n){if(she(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return t5(t.children,e,n)}return Array.isArray(t)?t5(t,e,n):""}function t5(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=mB(t[i],e,n);return r.join("")}function she(t){return!!(t&&typeof t=="object")}const n5=document.createElement("i");function mC(t){const e="&"+t+";";n5.innerHTML=e;const n=n5.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Wa(t,e,n,r){const i=t.length;let o=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(e,0),t.splice(...a),o+=1e4,e+=1e4}function To(t,e){return t.length>0?(Wa(t,t.length,0,e),t):e}const r5={}.hasOwnProperty;function lhe(t){const e={};let n=-1;for(;++n<t.length;)che(e,t[n]);return e}function che(t,e){let n;for(n in e){const i=(r5.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let a;if(o)for(a in o){r5.call(i,a)||(i[a]=[]);const l=o[a];uhe(i[a],Array.isArray(l)?l:l?[l]:[])}}}function uhe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Wa(t,0,0,r)}function yB(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Hd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ia=bc(/[A-Za-z]/),Zi=bc(/[\dA-Za-z]/),dhe=bc(/[#-'*+\--9=?A-Z^-~]/);function NE(t){return t!==null&&(t<32||t===127)}const RE=bc(/\d/),phe=bc(/[\dA-Fa-f]/),fhe=bc(/[!-/:-@[-`{-~]/);function et(t){return t!==null&&t<-2}function Pi(t){return t!==null&&(t<0||t===32)}function Lt(t){return t===-2||t===-1||t===32}const hhe=bc(new RegExp("\\p{P}|\\p{S}","u")),ghe=bc(/\s/);function bc(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Op(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let a="";if(o===37&&Zi(t.charCodeAt(n+1))&&Zi(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const l=t.charCodeAt(n+1);o<56320&&l>56319&&l<57344?(a=String.fromCharCode(o,l),i=1):a=""}else a=String.fromCharCode(o);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function ln(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(u){return Lt(u)?(t.enter(n),l(u)):e(u)}function l(u){return Lt(u)&&o++<i?(t.consume(u),l):(t.exit(n),e(u))}}const mhe={tokenize:yhe};function yhe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),ln(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),o(l)}function o(l){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(l)}function a(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return et(l)?(t.consume(l),t.exit("chunkText"),o):(t.consume(l),a)}}const bhe={tokenize:vhe},i5={tokenize:whe};function vhe(t){const e=this,n=[];let r=0,i,o,a;return l;function l(I){if(r<n.length){const O=n[r];return e.containerState=O[1],t.attempt(O[0].continuation,u,d)(I)}return d(I)}function u(I){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&R();const O=e.events.length;let U=O,M;for(;U--;)if(e.events[U][0]==="exit"&&e.events[U][1].type==="chunkFlow"){M=e.events[U][1].end;break}C(r);let D=O;for(;D<e.events.length;)e.events[D][1].end={...M},D++;return Wa(e.events,U+1,0,e.events.slice(O)),e.events.length=D,d(I)}return l(I)}function d(I){if(r===n.length){if(!i)return y(I);if(i.currentConstruct&&i.currentConstruct.concrete)return E(I);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(i5,p,h)(I)}function p(I){return i&&R(),C(r),y(I)}function h(I){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,E(I)}function y(I){return e.containerState={},t.attempt(i5,b,E)(I)}function b(I){return r++,n.push([e.currentConstruct,e.containerState]),y(I)}function E(I){if(I===null){i&&R(),C(0),t.consume(I);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),S(I)}function S(I){if(I===null){_(t.exit("chunkFlow"),!0),C(0),t.consume(I);return}return et(I)?(t.consume(I),_(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(I),S)}function _(I,O){const U=e.sliceStream(I);if(O&&U.push(null),I.previous=o,o&&(o.next=I),o=I,i.defineSkip(I.start),i.write(U),e.parser.lazy[I.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<a&&(!i.events[M][1].end||i.events[M][1].end.offset>a))return;const D=e.events.length;let L=D,z,B;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){if(z){B=e.events[L][1].end;break}z=!0}for(C(r),M=D;M<e.events.length;)e.events[M][1].end={...B},M++;Wa(e.events,L+1,0,e.events.slice(D)),e.events.length=M}}function C(I){let O=n.length;for(;O-- >I;){const U=n[O];e.containerState=U[1],U[0].exit.call(e,t)}n.length=I}function R(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function whe(t,e,n){return ln(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function o5(t){if(t===null||Pi(t)||ghe(t))return 1;if(hhe(t))return 2}function yC(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const OE={name:"attention",resolveAll:xhe,tokenize:khe};function xhe(t,e){let n=-1,r,i,o,a,l,u,d,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},y={...t[n][1].start};a5(h,-u),a5(y,u),a={type:u>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:y},o={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},t[r][1].end={...a.start},t[n][1].start={...l.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=To(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=To(d,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",o,e]]),d=To(d,yC(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=To(d,[["exit",o,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,d=To(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,Wa(t,r-1,n-r+3,d),n=r+d.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function khe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=o5(r);let o;return a;function a(u){return o=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===o)return t.consume(u),l;const d=t.exit("attentionSequence"),p=o5(u),h=!p||p===2&&i||n.includes(u),y=!i||i===2&&p||n.includes(r);return d._open=!!(o===42?h:h&&(i||!y)),d._close=!!(o===42?y:y&&(p||!h)),e(u)}}function a5(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const _he={name:"autolink",tokenize:The};function The(t,e,n){let r=0;return i;function i(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(b){return Ia(b)?(t.consume(b),a):b===64?n(b):d(b)}function a(b){return b===43||b===45||b===46||Zi(b)?(r=1,l(b)):d(b)}function l(b){return b===58?(t.consume(b),r=0,u):(b===43||b===45||b===46||Zi(b))&&r++<32?(t.consume(b),l):(r=0,d(b))}function u(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):b===null||b===32||b===60||NE(b)?n(b):(t.consume(b),u)}function d(b){return b===64?(t.consume(b),p):dhe(b)?(t.consume(b),d):n(b)}function p(b){return Zi(b)?h(b):n(b)}function h(b){return b===46?(t.consume(b),r=0,p):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):y(b)}function y(b){if((b===45||Zi(b))&&r++<63){const E=b===45?y:h;return t.consume(b),E}return n(b)}}const ow={partial:!0,tokenize:Ehe};function Ehe(t,e,n){return r;function r(o){return Lt(o)?ln(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||et(o)?e(o):n(o)}}const bB={continuation:{tokenize:Ahe},exit:Che,name:"blockQuote",tokenize:She};function She(t,e,n){const r=this;return i;function i(a){if(a===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),o}return n(a)}function o(a){return Lt(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function Ahe(t,e,n){const r=this;return i;function i(a){return Lt(a)?ln(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return t.attempt(bB,e,n)(a)}}function Che(t){t.exit("blockQuote")}const vB={name:"characterEscape",tokenize:Ihe};function Ihe(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return fhe(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const wB={name:"characterReference",tokenize:Nhe};function Nhe(t,e,n){const r=this;let i=0,o,a;return l;function l(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),u}function u(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),o=31,a=Zi,p(h))}function d(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,a=phe,p):(t.enter("characterReferenceValue"),o=7,a=RE,p(h))}function p(h){if(h===59&&i){const y=t.exit("characterReferenceValue");return a===Zi&&!mC(r.sliceSerialize(y))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(h)&&i++<o?(t.consume(h),p):n(h)}}const s5={partial:!0,tokenize:Ohe},l5={concrete:!0,name:"codeFenced",tokenize:Rhe};function Rhe(t,e,n){const r=this,i={partial:!0,tokenize:U};let o=0,a=0,l;return u;function u(M){return d(M)}function d(M){const D=r.events[r.events.length-1];return o=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,l=M,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(M)}function p(M){return M===l?(a++,t.consume(M),p):a<3?n(M):(t.exit("codeFencedFenceSequence"),Lt(M)?ln(t,h,"whitespace")(M):h(M))}function h(M){return M===null||et(M)?(t.exit("codeFencedFence"),r.interrupt?e(M):t.check(s5,S,O)(M)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(M))}function y(M){return M===null||et(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(M)):Lt(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ln(t,b,"whitespace")(M)):M===96&&M===l?n(M):(t.consume(M),y)}function b(M){return M===null||et(M)?h(M):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),E(M))}function E(M){return M===null||et(M)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(M)):M===96&&M===l?n(M):(t.consume(M),E)}function S(M){return t.attempt(i,O,_)(M)}function _(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),C}function C(M){return o>0&&Lt(M)?ln(t,R,"linePrefix",o+1)(M):R(M)}function R(M){return M===null||et(M)?t.check(s5,S,O)(M):(t.enter("codeFlowValue"),I(M))}function I(M){return M===null||et(M)?(t.exit("codeFlowValue"),R(M)):(t.consume(M),I)}function O(M){return t.exit("codeFenced"),e(M)}function U(M,D,L){let z=0;return B;function B(Z){return M.enter("lineEnding"),M.consume(Z),M.exit("lineEnding"),V}function V(Z){return M.enter("codeFencedFence"),Lt(Z)?ln(M,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Z):q(Z)}function q(Z){return Z===l?(M.enter("codeFencedFenceSequence"),F(Z)):L(Z)}function F(Z){return Z===l?(z++,M.consume(Z),F):z>=a?(M.exit("codeFencedFenceSequence"),Lt(Z)?ln(M,oe,"whitespace")(Z):oe(Z)):L(Z)}function oe(Z){return Z===null||et(Z)?(M.exit("codeFencedFence"),D(Z)):L(Z)}}}function Ohe(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const j_={name:"codeIndented",tokenize:Dhe},Phe={partial:!0,tokenize:Mhe};function Dhe(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),ln(t,o,"linePrefix",5)(d)}function o(d){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?a(d):n(d)}function a(d){return d===null?u(d):et(d)?t.attempt(Phe,a,u)(d):(t.enter("codeFlowValue"),l(d))}function l(d){return d===null||et(d)?(t.exit("codeFlowValue"),a(d)):(t.consume(d),l)}function u(d){return t.exit("codeIndented"),e(d)}}function Mhe(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):et(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):ln(t,o,"linePrefix",5)(a)}function o(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):et(a)?i(a):n(a)}}const zhe={name:"codeText",previous:jhe,resolve:Lhe,tokenize:Uhe};function Lhe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function jhe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Uhe(t,e,n){let r=0,i,o;return a;function a(h){return t.enter("codeText"),t.enter("codeTextSequence"),l(h)}function l(h){return h===96?(t.consume(h),r++,l):(t.exit("codeTextSequence"),u(h))}function u(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),u):h===96?(o=t.enter("codeTextSequence"),i=0,p(h)):et(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),u):(t.enter("codeTextData"),d(h))}function d(h){return h===null||h===32||h===96||et(h)?(t.exit("codeTextData"),u(h)):(t.consume(h),d)}function p(h){return h===96?(t.consume(h),i++,p):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(o.type="codeTextData",d(h))}}class Vhe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&eh(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),eh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),eh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);eh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);eh(this.left,n.reverse())}}}function eh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function xB(t){const e={};let n=-1,r,i,o,a,l,u,d;const p=new Vhe(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,o=0,o<u.length&&u[o][1].type==="lineEndingBlank"&&(o+=2),o<u.length&&u[o][1].type==="content"))for(;++o<u.length&&u[o][1].type!=="content";)u[o][1].type==="chunkText"&&(u[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Fhe(p,n)),n=e[n],d=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(a=p.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(p.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...p.get(i)[1].start},l=p.slice(i,n),l.unshift(r),p.splice(i,n-i+1,l))}}return Wa(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!d}function Fhe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,u=[],d={};let p,h,y=-1,b=n,E=0,S=0;const _=[S];for(;b;){for(;t.get(++i)[1]!==b;);o.push(i),b._tokenizer||(p=r.sliceStream(b),b.next||p.push(null),h&&a.defineSkip(b.start),b._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(p),b._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=b,b=b.next}for(b=n;++y<l.length;)l[y][0]==="exit"&&l[y-1][0]==="enter"&&l[y][1].type===l[y-1][1].type&&l[y][1].start.line!==l[y][1].end.line&&(S=y+1,_.push(S),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(a.events=[],b?(b._tokenizer=void 0,b.previous=void 0):_.pop(),y=_.length;y--;){const C=l.slice(_[y],_[y+1]),R=o.pop();u.push([R,R+C.length-1]),t.splice(R,2,C)}for(u.reverse(),y=-1;++y<u.length;)d[E+u[y][0]]=E+u[y][1],E+=u[y][1]-u[y][0]-1;return d}const Bhe={resolve:$he,tokenize:Hhe},qhe={partial:!0,tokenize:Ghe};function $he(t){return xB(t),t}function Hhe(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?o(l):et(l)?t.check(qhe,a,o)(l):(t.consume(l),i)}function o(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function a(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Ghe(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),ln(t,o,"linePrefix")}function o(a){if(a===null||et(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function kB(t,e,n,r,i,o,a,l,u){const d=u||Number.POSITIVE_INFINITY;let p=0;return h;function h(C){return C===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(C),t.exit(o),y):C===null||C===32||C===41||NE(C)?n(C):(t.enter(r),t.enter(a),t.enter(l),t.enter("chunkString",{contentType:"string"}),S(C))}function y(C){return C===62?(t.enter(o),t.consume(C),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),b(C))}function b(C){return C===62?(t.exit("chunkString"),t.exit(l),y(C)):C===null||C===60||et(C)?n(C):(t.consume(C),C===92?E:b)}function E(C){return C===60||C===62||C===92?(t.consume(C),b):b(C)}function S(C){return!p&&(C===null||C===41||Pi(C))?(t.exit("chunkString"),t.exit(l),t.exit(a),t.exit(r),e(C)):p<d&&C===40?(t.consume(C),p++,S):C===41?(t.consume(C),p--,S):C===null||C===32||C===40||NE(C)?n(C):(t.consume(C),C===92?_:S)}function _(C){return C===40||C===41||C===92?(t.consume(C),S):S(C)}}function _B(t,e,n,r,i,o){const a=this;let l=0,u;return d;function d(b){return t.enter(r),t.enter(i),t.consume(b),t.exit(i),t.enter(o),p}function p(b){return l>999||b===null||b===91||b===93&&!u||b===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(b):b===93?(t.exit(o),t.enter(i),t.consume(b),t.exit(i),t.exit(r),e):et(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===null||b===91||b===93||et(b)||l++>999?(t.exit("chunkString"),p(b)):(t.consume(b),u||(u=!Lt(b)),b===92?y:h)}function y(b){return b===91||b===92||b===93?(t.consume(b),l++,h):h(b)}}function TB(t,e,n,r,i,o){let a;return l;function l(y){return y===34||y===39||y===40?(t.enter(r),t.enter(i),t.consume(y),t.exit(i),a=y===40?41:y,u):n(y)}function u(y){return y===a?(t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):(t.enter(o),d(y))}function d(y){return y===a?(t.exit(o),u(a)):y===null?n(y):et(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),ln(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===a||y===null||et(y)?(t.exit("chunkString"),d(y)):(t.consume(y),y===92?h:p)}function h(y){return y===a||y===92?(t.consume(y),p):p(y)}}function yh(t,e){let n;return r;function r(i){return et(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Lt(i)?ln(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Khe={name:"definition",tokenize:Yhe},Whe={partial:!0,tokenize:Jhe};function Yhe(t,e,n){const r=this;let i;return o;function o(b){return t.enter("definition"),a(b)}function a(b){return _B.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function l(b){return i=Hd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),u):n(b)}function u(b){return Pi(b)?yh(t,d)(b):d(b)}function d(b){return kB(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function p(b){return t.attempt(Whe,h,h)(b)}function h(b){return Lt(b)?ln(t,y,"whitespace")(b):y(b)}function y(b){return b===null||et(b)?(t.exit("definition"),r.parser.defined.push(i),e(b)):n(b)}}function Jhe(t,e,n){return r;function r(l){return Pi(l)?yh(t,i)(l):n(l)}function i(l){return TB(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function o(l){return Lt(l)?ln(t,a,"whitespace")(l):a(l)}function a(l){return l===null||et(l)?e(l):n(l)}}const Xhe={name:"hardBreakEscape",tokenize:Qhe};function Qhe(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return et(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const Zhe={name:"headingAtx",resolve:ege,tokenize:tge};function ege(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Wa(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function tge(t,e,n){let r=0;return i;function i(p){return t.enter("atxHeading"),o(p)}function o(p){return t.enter("atxHeadingSequence"),a(p)}function a(p){return p===35&&r++<6?(t.consume(p),a):p===null||Pi(p)?(t.exit("atxHeadingSequence"),l(p)):n(p)}function l(p){return p===35?(t.enter("atxHeadingSequence"),u(p)):p===null||et(p)?(t.exit("atxHeading"),e(p)):Lt(p)?ln(t,l,"whitespace")(p):(t.enter("atxHeadingText"),d(p))}function u(p){return p===35?(t.consume(p),u):(t.exit("atxHeadingSequence"),l(p))}function d(p){return p===null||p===35||Pi(p)?(t.exit("atxHeadingText"),l(p)):(t.consume(p),d)}}const nge=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],c5=["pre","script","style","textarea"],rge={concrete:!0,name:"htmlFlow",resolveTo:age,tokenize:sge},ige={partial:!0,tokenize:cge},oge={partial:!0,tokenize:lge};function age(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function sge(t,e,n){const r=this;let i,o,a,l,u;return d;function d(H){return p(H)}function p(H){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(H),h}function h(H){return H===33?(t.consume(H),y):H===47?(t.consume(H),o=!0,S):H===63?(t.consume(H),i=3,r.interrupt?e:G):Ia(H)?(t.consume(H),a=String.fromCharCode(H),_):n(H)}function y(H){return H===45?(t.consume(H),i=2,b):H===91?(t.consume(H),i=5,l=0,E):Ia(H)?(t.consume(H),i=4,r.interrupt?e:G):n(H)}function b(H){return H===45?(t.consume(H),r.interrupt?e:G):n(H)}function E(H){const fe="CDATA[";return H===fe.charCodeAt(l++)?(t.consume(H),l===fe.length?r.interrupt?e:q:E):n(H)}function S(H){return Ia(H)?(t.consume(H),a=String.fromCharCode(H),_):n(H)}function _(H){if(H===null||H===47||H===62||Pi(H)){const fe=H===47,Se=a.toLowerCase();return!fe&&!o&&c5.includes(Se)?(i=1,r.interrupt?e(H):q(H)):nge.includes(a.toLowerCase())?(i=6,fe?(t.consume(H),C):r.interrupt?e(H):q(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):o?R(H):I(H))}return H===45||Zi(H)?(t.consume(H),a+=String.fromCharCode(H),_):n(H)}function C(H){return H===62?(t.consume(H),r.interrupt?e:q):n(H)}function R(H){return Lt(H)?(t.consume(H),R):B(H)}function I(H){return H===47?(t.consume(H),B):H===58||H===95||Ia(H)?(t.consume(H),O):Lt(H)?(t.consume(H),I):B(H)}function O(H){return H===45||H===46||H===58||H===95||Zi(H)?(t.consume(H),O):U(H)}function U(H){return H===61?(t.consume(H),M):Lt(H)?(t.consume(H),U):I(H)}function M(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(t.consume(H),u=H,D):Lt(H)?(t.consume(H),M):L(H)}function D(H){return H===u?(t.consume(H),u=null,z):H===null||et(H)?n(H):(t.consume(H),D)}function L(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||Pi(H)?U(H):(t.consume(H),L)}function z(H){return H===47||H===62||Lt(H)?I(H):n(H)}function B(H){return H===62?(t.consume(H),V):n(H)}function V(H){return H===null||et(H)?q(H):Lt(H)?(t.consume(H),V):n(H)}function q(H){return H===45&&i===2?(t.consume(H),X):H===60&&i===1?(t.consume(H),J):H===62&&i===4?(t.consume(H),W):H===63&&i===3?(t.consume(H),G):H===93&&i===5?(t.consume(H),te):et(H)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(ige,Y,F)(H)):H===null||et(H)?(t.exit("htmlFlowData"),F(H)):(t.consume(H),q)}function F(H){return t.check(oge,oe,Y)(H)}function oe(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),Z}function Z(H){return H===null||et(H)?F(H):(t.enter("htmlFlowData"),q(H))}function X(H){return H===45?(t.consume(H),G):q(H)}function J(H){return H===47?(t.consume(H),a="",ie):q(H)}function ie(H){if(H===62){const fe=a.toLowerCase();return c5.includes(fe)?(t.consume(H),W):q(H)}return Ia(H)&&a.length<8?(t.consume(H),a+=String.fromCharCode(H),ie):q(H)}function te(H){return H===93?(t.consume(H),G):q(H)}function G(H){return H===62?(t.consume(H),W):H===45&&i===2?(t.consume(H),G):q(H)}function W(H){return H===null||et(H)?(t.exit("htmlFlowData"),Y(H)):(t.consume(H),W)}function Y(H){return t.exit("htmlFlow"),e(H)}}function lge(t,e,n){const r=this;return i;function i(a){return et(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function cge(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(ow,e,n)}}const uge={name:"htmlText",tokenize:dge};function dge(t,e,n){const r=this;let i,o,a;return l;function l(G){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(G),u}function u(G){return G===33?(t.consume(G),d):G===47?(t.consume(G),U):G===63?(t.consume(G),I):Ia(G)?(t.consume(G),L):n(G)}function d(G){return G===45?(t.consume(G),p):G===91?(t.consume(G),o=0,E):Ia(G)?(t.consume(G),R):n(G)}function p(G){return G===45?(t.consume(G),b):n(G)}function h(G){return G===null?n(G):G===45?(t.consume(G),y):et(G)?(a=h,J(G)):(t.consume(G),h)}function y(G){return G===45?(t.consume(G),b):h(G)}function b(G){return G===62?X(G):G===45?y(G):h(G)}function E(G){const W="CDATA[";return G===W.charCodeAt(o++)?(t.consume(G),o===W.length?S:E):n(G)}function S(G){return G===null?n(G):G===93?(t.consume(G),_):et(G)?(a=S,J(G)):(t.consume(G),S)}function _(G){return G===93?(t.consume(G),C):S(G)}function C(G){return G===62?X(G):G===93?(t.consume(G),C):S(G)}function R(G){return G===null||G===62?X(G):et(G)?(a=R,J(G)):(t.consume(G),R)}function I(G){return G===null?n(G):G===63?(t.consume(G),O):et(G)?(a=I,J(G)):(t.consume(G),I)}function O(G){return G===62?X(G):I(G)}function U(G){return Ia(G)?(t.consume(G),M):n(G)}function M(G){return G===45||Zi(G)?(t.consume(G),M):D(G)}function D(G){return et(G)?(a=D,J(G)):Lt(G)?(t.consume(G),D):X(G)}function L(G){return G===45||Zi(G)?(t.consume(G),L):G===47||G===62||Pi(G)?z(G):n(G)}function z(G){return G===47?(t.consume(G),X):G===58||G===95||Ia(G)?(t.consume(G),B):et(G)?(a=z,J(G)):Lt(G)?(t.consume(G),z):X(G)}function B(G){return G===45||G===46||G===58||G===95||Zi(G)?(t.consume(G),B):V(G)}function V(G){return G===61?(t.consume(G),q):et(G)?(a=V,J(G)):Lt(G)?(t.consume(G),V):z(G)}function q(G){return G===null||G===60||G===61||G===62||G===96?n(G):G===34||G===39?(t.consume(G),i=G,F):et(G)?(a=q,J(G)):Lt(G)?(t.consume(G),q):(t.consume(G),oe)}function F(G){return G===i?(t.consume(G),i=void 0,Z):G===null?n(G):et(G)?(a=F,J(G)):(t.consume(G),F)}function oe(G){return G===null||G===34||G===39||G===60||G===61||G===96?n(G):G===47||G===62||Pi(G)?z(G):(t.consume(G),oe)}function Z(G){return G===47||G===62||Pi(G)?z(G):n(G)}function X(G){return G===62?(t.consume(G),t.exit("htmlTextData"),t.exit("htmlText"),e):n(G)}function J(G){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),ie}function ie(G){return Lt(G)?ln(t,te,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):te(G)}function te(G){return t.enter("htmlTextData"),a(G)}}const bC={name:"labelEnd",resolveAll:gge,resolveTo:mge,tokenize:yge},pge={tokenize:bge},fge={tokenize:vge},hge={tokenize:wge};function gge(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Wa(t,0,t.length,n),t}function mge(t,e){let n=t.length,r=0,i,o,a,l;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const u={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[o][1].start},end:{...t[a][1].end}},p={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[a-2][1].start}};return l=[["enter",u,e],["enter",d,e]],l=To(l,t.slice(o+1,o+r+3)),l=To(l,[["enter",p,e]]),l=To(l,yC(e.parser.constructs.insideSpan.null,t.slice(o+r+4,a-3),e)),l=To(l,[["exit",p,e],t[a-2],t[a-1],["exit",d,e]]),l=To(l,t.slice(a+1)),l=To(l,[["exit",u,e]]),Wa(t,o,t.length,l),t}function yge(t,e,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return l;function l(y){return o?o._inactive?h(y):(a=r.parser.defined.includes(Hd(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),u):n(y)}function u(y){return y===40?t.attempt(pge,p,a?p:h)(y):y===91?t.attempt(fge,p,a?d:h)(y):a?p(y):h(y)}function d(y){return t.attempt(hge,p,h)(y)}function p(y){return e(y)}function h(y){return o._balanced=!0,n(y)}}function bge(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return Pi(h)?yh(t,o)(h):o(h)}function o(h){return h===41?p(h):kB(t,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return Pi(h)?yh(t,u)(h):p(h)}function l(h){return n(h)}function u(h){return h===34||h===39||h===40?TB(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):p(h)}function d(h){return Pi(h)?yh(t,p)(h):p(h)}function p(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function vge(t,e,n){const r=this;return i;function i(l){return _B.call(r,t,o,a,"reference","referenceMarker","referenceString")(l)}function o(l){return r.parser.defined.includes(Hd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function a(l){return n(l)}}function wge(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const xge={name:"labelStartImage",resolveAll:bC.resolveAll,tokenize:kge};function kge(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),o}function o(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const _ge={name:"labelStartLink",resolveAll:bC.resolveAll,tokenize:Tge};function Tge(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const U_={name:"lineEnding",tokenize:Ege};function Ege(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),ln(t,e,"linePrefix")}}const yb={name:"thematicBreak",tokenize:Sge};function Sge(t,e,n){let r=0,i;return o;function o(d){return t.enter("thematicBreak"),a(d)}function a(d){return i=d,l(d)}function l(d){return d===i?(t.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||et(d))?(t.exit("thematicBreak"),e(d)):n(d)}function u(d){return d===i?(t.consume(d),r++,u):(t.exit("thematicBreakSequence"),Lt(d)?ln(t,l,"whitespace")(d):l(d))}}const Ti={continuation:{tokenize:Nge},exit:Oge,name:"list",tokenize:Ige},Age={partial:!0,tokenize:Pge},Cge={partial:!0,tokenize:Rge};function Ige(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(b){const E=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:RE(b)){if(r.containerState.type||(r.containerState.type=E,t.enter(E,{_container:!0})),E==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(yb,n,d)(b):d(b);if(!r.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(b)}return n(b)}function u(b){return RE(b)&&++a<10?(t.consume(b),u):(!r.interrupt||a<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),d(b)):n(b)}function d(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,t.check(ow,r.interrupt?n:p,t.attempt(Age,y,h))}function p(b){return r.containerState.initialBlankLine=!0,o++,y(b)}function h(b){return Lt(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),y):n(b)}function y(b){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(b)}}function Nge(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(ow,i,o);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ln(t,e,"listItemIndent",r.containerState.size+1)(l)}function o(l){return r.containerState.furtherBlankLines||!Lt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Cge,e,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,ln(t,t.attempt(Ti,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Rge(t,e,n){const r=this;return ln(t,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(o):n(o)}}function Oge(t){t.exit(this.containerState.type)}function Pge(t,e,n){const r=this;return ln(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!Lt(o)&&a&&a[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const u5={name:"setextUnderline",resolveTo:Dge,tokenize:Mge};function Dge(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",a,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function Mge(t,e,n){const r=this;let i;return o;function o(d){let p=r.events.length,h;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){h=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=d,a(d)):n(d)}function a(d){return t.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(t.consume(d),l):(t.exit("setextHeadingLineSequence"),Lt(d)?ln(t,u,"lineSuffix")(d):u(d))}function u(d){return d===null||et(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const zge={tokenize:Lge};function Lge(t){const e=this,n=t.attempt(ow,r,t.attempt(this.parser.constructs.flowInitial,i,ln(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Bhe,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const jge={resolveAll:SB()},Uge=EB("string"),Vge=EB("text");function EB(t){return{resolveAll:SB(t==="text"?Fge:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,a,l);return a;function a(p){return d(p)?o(p):l(p)}function l(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),u}function u(p){return d(p)?(n.exit("data"),o(p)):(n.consume(p),u)}function d(p){if(p===null)return!0;const h=i[p];let y=-1;if(h)for(;++y<h.length;){const b=h[y];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function SB(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function Fge(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,a=-1,l=0,u;for(;o--;){const d=i[o];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(d===-2)u=!0,l++;else if(d!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const d={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const Bge={42:Ti,43:Ti,45:Ti,48:Ti,49:Ti,50:Ti,51:Ti,52:Ti,53:Ti,54:Ti,55:Ti,56:Ti,57:Ti,62:bB},qge={91:Khe},$ge={[-2]:j_,[-1]:j_,32:j_},Hge={35:Zhe,42:yb,45:[u5,yb],60:rge,61:u5,95:yb,96:l5,126:l5},Gge={38:wB,92:vB},Kge={[-5]:U_,[-4]:U_,[-3]:U_,33:xge,38:wB,42:OE,60:[_he,uge],91:_ge,92:[Xhe,vB],93:bC,95:OE,96:zhe},Wge={null:[OE,jge]},Yge={null:[42,95]},Jge={null:[]},Xge=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Yge,contentInitial:qge,disable:Jge,document:Bge,flow:Hge,flowInitial:$ge,insideSpan:Wge,string:Gge,text:Kge},Symbol.toStringTag,{value:"Module"}));function Qge(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],l=[];const u={attempt:D(U),check:D(M),consume:R,enter:I,exit:O,interrupt:D(M,{interrupt:!0})},d={code:null,containerState:{},defineSkip:S,events:[],now:E,parser:t,previous:null,sliceSerialize:y,sliceStream:b,write:h};let p=e.tokenize.call(d,u);return e.resolveAll&&o.push(e),d;function h(V){return a=To(a,V),_(),a[a.length-1]!==null?[]:(L(e,0),d.events=yC(o,d.events,d),d.events)}function y(V,q){return eme(b(V),q)}function b(V){return Zge(a,V)}function E(){const{_bufferIndex:V,_index:q,line:F,column:oe,offset:Z}=r;return{_bufferIndex:V,_index:q,line:F,column:oe,offset:Z}}function S(V){i[V.line]=V.column,B()}function _(){let V;for(;r._index<a.length;){const q=a[r._index];if(typeof q=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<q.length;)C(q.charCodeAt(r._bufferIndex));else C(q)}}function C(V){p=p(V)}function R(V){et(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,B()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=V}function I(V,q){const F=q||{};return F.type=V,F.start=E(),d.events.push(["enter",F,d]),l.push(F),F}function O(V){const q=l.pop();return q.end=E(),d.events.push(["exit",q,d]),q}function U(V,q){L(V,q.from)}function M(V,q){q.restore()}function D(V,q){return F;function F(oe,Z,X){let J,ie,te,G;return Array.isArray(oe)?Y(oe):"tokenize"in oe?Y([oe]):W(oe);function W(we){return Ce;function Ce(Ue){const ae=Ue!==null&&we[Ue],Ae=Ue!==null&&we.null,qe=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(Ae)?Ae:Ae?[Ae]:[]];return Y(qe)(Ue)}}function Y(we){return J=we,ie=0,we.length===0?X:H(we[ie])}function H(we){return Ce;function Ce(Ue){return G=z(),te=we,we.partial||(d.currentConstruct=we),we.name&&d.parser.constructs.disable.null.includes(we.name)?Se():we.tokenize.call(q?Object.assign(Object.create(d),q):d,u,fe,Se)(Ue)}}function fe(we){return V(te,G),Z}function Se(we){return G.restore(),++ie<J.length?H(J[ie]):X}}}function L(V,q){V.resolveAll&&!o.includes(V)&&o.push(V),V.resolve&&Wa(d.events,q,d.events.length-q,V.resolve(d.events.slice(q),d)),V.resolveTo&&(d.events=V.resolveTo(d.events,d))}function z(){const V=E(),q=d.previous,F=d.currentConstruct,oe=d.events.length,Z=Array.from(l);return{from:oe,restore:X};function X(){r=V,d.previous=q,d.currentConstruct=F,d.events.length=oe,l=Z,B()}}function B(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Zge(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,o)];else{if(a=t.slice(n,i),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}o>0&&a.push(t[i].slice(0,o))}return a}function eme(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function tme(t){const r={constructs:lhe([Xge,...(t||{}).extensions||[]]),content:i(mhe),defined:[],document:i(bhe),flow:i(zge),lazy:{},string:i(Uge),text:i(Vge)};return r;function i(o){return a;function a(l){return Qge(r,o,l)}}}function nme(t){for(;!xB(t););return t}const d5=/[\0\t\n\r]/g;function rme(){let t=1,e="",n=!0,r;return i;function i(o,a,l){const u=[];let d,p,h,y,b;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),h=0,e="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(d5.lastIndex=h,d=d5.exec(o),y=d&&d.index!==void 0?d.index:o.length,b=o.charCodeAt(y),!d){e=o.slice(h);break}if(b===10&&h===y&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),h<y&&(u.push(o.slice(h,y)),t+=y-h),b){case 0:{u.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,u.push(-2);t++<p;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}h=y+1}return l&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const ime=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ome(t){return t.replace(ime,ame)}function ame(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return yB(n.slice(o?2:1),o?16:10)}return mC(n)||t}const AB={}.hasOwnProperty;function sme(t,e,n){return typeof e!="string"&&(n=e,e=void 0),lme(n)(nme(tme(n).document().write(rme()(t,e,!0))))}function lme(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ct),autolinkProtocol:z,autolinkEmail:z,atxHeading:o(kt),blockQuote:o(Ae),characterEscape:z,characterReference:z,codeFenced:o(qe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(qe,a),codeText:o(ve,a),codeTextData:z,data:z,codeFlowValue:z,definition:o(at),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(Fe),hardBreakEscape:o(_t),hardBreakTrailing:o(_t),htmlFlow:o(Wt,a),htmlFlowData:z,htmlText:o(Wt,a),htmlTextData:z,image:o(hr),label:a,link:o(Ct),listItem:o(ke),listItemValue:y,listOrdered:o(mt,h),listUnordered:o(mt),paragraph:o(Oe),reference:H,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(kt),strong:o(de),thematicBreak:o(le)},exit:{atxHeading:u(),atxHeadingSequence:U,autolink:u(),autolinkEmail:ae,autolinkProtocol:Ue,blockQuote:u(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:Se,characterReferenceMarkerNumeric:Se,characterReferenceValue:we,characterReference:Ce,codeFenced:u(_),codeFencedFence:S,codeFencedFenceInfo:b,codeFencedFenceMeta:E,codeFlowValue:B,codeIndented:u(C),codeText:u(Z),codeTextData:B,data:B,definition:u(),definitionDestinationString:O,definitionLabelString:R,definitionTitleString:I,emphasis:u(),hardBreakEscape:u(q),hardBreakTrailing:u(q),htmlFlow:u(F),htmlFlowData:B,htmlText:u(oe),htmlTextData:B,image:u(J),label:te,labelText:ie,lineEnding:V,link:u(X),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:fe,resourceDestinationString:G,resourceTitleString:W,resource:Y,setextHeading:u(L),setextHeadingLineSequence:D,setextHeadingText:M,strong:u(),thematicBreak:u()}};CB(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ee){let he={type:"root",children:[]};const De={stack:[he],tokenStack:[],config:e,enter:l,exit:d,buffer:a,resume:p,data:n},ze=[];let Me=-1;for(;++Me<ee.length;)if(ee[Me][1].type==="listOrdered"||ee[Me][1].type==="listUnordered")if(ee[Me][0]==="enter")ze.push(Me);else{const Xe=ze.pop();Me=i(ee,Xe,Me)}for(Me=-1;++Me<ee.length;){const Xe=e[ee[Me][0]];AB.call(Xe,ee[Me][1].type)&&Xe[ee[Me][1].type].call(Object.assign({sliceSerialize:ee[Me][2].sliceSerialize},De),ee[Me][1])}if(De.tokenStack.length>0){const Xe=De.tokenStack[De.tokenStack.length-1];(Xe[1]||p5).call(De,void 0,Xe[0])}for(he.position={start:Pl(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:Pl(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<e.transforms.length;)he=e.transforms[Me](he)||he;return he}function i(ee,he,De){let ze=he-1,Me=-1,Xe=!1,Ut,Yt,Et,hn;for(;++ze<=De;){const pt=ee[ze];switch(pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{pt[0]==="enter"?Me++:Me--,hn=void 0;break}case"lineEndingBlank":{pt[0]==="enter"&&(Ut&&!hn&&!Me&&!Et&&(Et=ze),hn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:hn=void 0}if(!Me&&pt[0]==="enter"&&pt[1].type==="listItemPrefix"||Me===-1&&pt[0]==="exit"&&(pt[1].type==="listUnordered"||pt[1].type==="listOrdered")){if(Ut){let Li=ze;for(Yt=void 0;Li--;){const rr=ee[Li];if(rr[1].type==="lineEnding"||rr[1].type==="lineEndingBlank"){if(rr[0]==="exit")continue;Yt&&(ee[Yt][1].type="lineEndingBlank",Xe=!0),rr[1].type="lineEnding",Yt=Li}else if(!(rr[1].type==="linePrefix"||rr[1].type==="blockQuotePrefix"||rr[1].type==="blockQuotePrefixWhitespace"||rr[1].type==="blockQuoteMarker"||rr[1].type==="listItemIndent"))break}Et&&(!Yt||Et<Yt)&&(Ut._spread=!0),Ut.end=Object.assign({},Yt?ee[Yt][1].start:pt[1].end),ee.splice(Yt||ze,0,["exit",Ut,pt[2]]),ze++,De++}if(pt[1].type==="listItemPrefix"){const Li={type:"listItem",_spread:!1,start:Object.assign({},pt[1].start),end:void 0};Ut=Li,ee.splice(ze,0,["enter",Li,pt[2]]),ze++,De++,Et=void 0,hn=!0}}}return ee[he][1]._spread=Xe,De}function o(ee,he){return De;function De(ze){l.call(this,ee(ze),ze),he&&he.call(this,ze)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(ee,he,De){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([he,De||void 0]),ee.position={start:Pl(he.start),end:void 0}}function u(ee){return he;function he(De){ee&&ee.call(this,De),d.call(this,De)}}function d(ee,he){const De=this.stack.pop(),ze=this.tokenStack.pop();if(ze)ze[0].type!==ee.type&&(he?he.call(this,ee,ze[0]):(ze[1]||p5).call(this,ee,ze[0]));else throw new Error("Cannot close `"+ee.type+"` ("+mh({start:ee.start,end:ee.end})+"): its not open");De.position.end=Pl(ee.end)}function p(){return ahe(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function y(ee){if(this.data.expectingFirstListItemValue){const he=this.stack[this.stack.length-2];he.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function b(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.lang=ee}function E(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.meta=ee}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee.replace(/(\r?\n|\r)$/g,"")}function R(ee){const he=this.resume(),De=this.stack[this.stack.length-1];De.label=he,De.identifier=Hd(this.sliceSerialize(ee)).toLowerCase()}function I(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.title=ee}function O(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.url=ee}function U(ee){const he=this.stack[this.stack.length-1];if(!he.depth){const De=this.sliceSerialize(ee).length;he.depth=De}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function D(ee){const he=this.stack[this.stack.length-1];he.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function z(ee){const De=this.stack[this.stack.length-1].children;let ze=De[De.length-1];(!ze||ze.type!=="text")&&(ze=Ne(),ze.position={start:Pl(ee.start),end:void 0},De.push(ze)),this.stack.push(ze)}function B(ee){const he=this.stack.pop();he.value+=this.sliceSerialize(ee),he.position.end=Pl(ee.end)}function V(ee){const he=this.stack[this.stack.length-1];if(this.data.atHardBreak){const De=he.children[he.children.length-1];De.position.end=Pl(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(he.type)&&(z.call(this,ee),B.call(this,ee))}function q(){this.data.atHardBreak=!0}function F(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee}function oe(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee}function Z(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee}function X(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=he,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function J(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=he,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function ie(ee){const he=this.sliceSerialize(ee),De=this.stack[this.stack.length-2];De.label=ome(he),De.identifier=Hd(he).toLowerCase()}function te(){const ee=this.stack[this.stack.length-1],he=this.resume(),De=this.stack[this.stack.length-1];if(this.data.inReference=!0,De.type==="link"){const ze=ee.children;De.children=ze}else De.alt=he}function G(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.url=ee}function W(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.title=ee}function Y(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function fe(ee){const he=this.resume(),De=this.stack[this.stack.length-1];De.label=he,De.identifier=Hd(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function Se(ee){this.data.characterReferenceType=ee.type}function we(ee){const he=this.sliceSerialize(ee),De=this.data.characterReferenceType;let ze;De?(ze=yB(he,De==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ze=mC(he);const Me=this.stack[this.stack.length-1];Me.value+=ze}function Ce(ee){const he=this.stack.pop();he.position.end=Pl(ee.end)}function Ue(ee){B.call(this,ee);const he=this.stack[this.stack.length-1];he.url=this.sliceSerialize(ee)}function ae(ee){B.call(this,ee);const he=this.stack[this.stack.length-1];he.url="mailto:"+this.sliceSerialize(ee)}function Ae(){return{type:"blockquote",children:[]}}function qe(){return{type:"code",lang:null,meta:null,value:""}}function ve(){return{type:"inlineCode",value:""}}function at(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Fe(){return{type:"emphasis",children:[]}}function kt(){return{type:"heading",depth:0,children:[]}}function _t(){return{type:"break"}}function Wt(){return{type:"html",value:""}}function hr(){return{type:"image",title:null,url:"",alt:null}}function Ct(){return{type:"link",title:null,url:"",children:[]}}function mt(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function ke(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function Oe(){return{type:"paragraph",children:[]}}function de(){return{type:"strong",children:[]}}function Ne(){return{type:"text",value:""}}function le(){return{type:"thematicBreak"}}}function Pl(t){return{line:t.line,column:t.column,offset:t.offset}}function CB(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?CB(t,r):cme(t,r)}}function cme(t,e){let n;for(n in e)if(AB.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function p5(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+mh({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+mh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+mh({start:e.start,end:e.end})+") is still open")}function ume(t){const e=this;e.parser=n;function n(r){return sme(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function dme(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function pme(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function fme(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function hme(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function gme(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function mme(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Op(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let a,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=o+1,l+=1,t.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,d),t.applyData(e,d)}function yme(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function bme(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function IB(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function vme(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return IB(t,e);const i={src:Op(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function wme(t,e){const n={src:Op(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function xme(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function kme(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return IB(t,e);const i={href:Op(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function _me(t,e){const n={href:Op(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Tme(t,e,n){const r=t.all(e),i=n?Eme(n):NB(e),o={},a=[];if(typeof e.checked=="boolean"){const p=r[0];let h;p&&p.type==="element"&&p.tagName==="p"?h=p:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const p=r[l];(i||l!==0||p.type!=="element"||p.tagName!=="p")&&a.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!i?a.push(...p.children):a.push(p)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:a};return t.patch(e,d),t.applyData(e,d)}function Eme(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=NB(n[r])}return e}function NB(t){const e=t.spread;return e??t.children.length>1}function Sme(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function Ame(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Cme(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Ime(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Nme(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=pC(e.children[1]),u=uB(e.children[e.children.length-1]);l&&u&&(a.position={start:l,end:u}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function Rme(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:e.children.length;let u=-1;const d=[];for(;++u<l;){const h=e.children[u],y={},b=a?a[u]:void 0;b&&(y.align=b);let E={type:"element",tagName:o,properties:y,children:[]};h&&(E.children=t.all(h),t.patch(h,E),E=t.applyData(h,E)),d.push(E)}const p={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,p),t.applyData(e,p)}function Ome(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const f5=9,h5=32;function Pme(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(g5(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(g5(e.slice(i),i>0,!1)),o.join("")}function g5(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===f5||o===h5;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===f5||o===h5;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Dme(t,e){const n={type:"text",value:Pme(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Mme(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const zme={blockquote:dme,break:pme,code:fme,delete:hme,emphasis:gme,footnoteReference:mme,heading:yme,html:bme,imageReference:vme,image:wme,inlineCode:xme,linkReference:kme,link:_me,listItem:Tme,list:Sme,paragraph:Ame,root:Cme,strong:Ime,table:Nme,tableCell:Ome,tableRow:Rme,text:Dme,thematicBreak:Mme,toml:Wy,yaml:Wy,definition:Wy,footnoteDefinition:Wy};function Wy(){}const RB=-1,aw=0,bh=1,T0=2,vC=3,wC=4,xC=5,kC=6,OB=7,PB=8,m5=typeof self=="object"?self:globalThis,Lme=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,a]=e[i];switch(o){case aw:case RB:return n(a,i);case bh:{const l=n([],i);for(const u of a)l.push(r(u));return l}case T0:{const l=n({},i);for(const[u,d]of a)l[r(u)]=r(d);return l}case vC:return n(new Date(a),i);case wC:{const{source:l,flags:u}=a;return n(new RegExp(l,u),i)}case xC:{const l=n(new Map,i);for(const[u,d]of a)l.set(r(u),r(d));return l}case kC:{const l=n(new Set,i);for(const u of a)l.add(r(u));return l}case OB:{const{name:l,message:u}=a;return n(new m5[l](u),i)}case PB:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new m5[o](a),i)};return r},y5=t=>Lme(new Map,t)(0),Id="",{toString:jme}={},{keys:Ume}=Object,th=t=>{const e=typeof t;if(e!=="object"||!t)return[aw,e];const n=jme.call(t).slice(8,-1);switch(n){case"Array":return[bh,Id];case"Object":return[T0,Id];case"Date":return[vC,Id];case"RegExp":return[wC,Id];case"Map":return[xC,Id];case"Set":return[kC,Id];case"DataView":return[bh,n]}return n.includes("Array")?[bh,n]:n.includes("Error")?[OB,n]:[T0,n]},Yy=([t,e])=>t===aw&&(e==="function"||e==="symbol"),Vme=(t,e,n,r)=>{const i=(a,l)=>{const u=r.push(a)-1;return n.set(l,u),u},o=a=>{if(n.has(a))return n.get(a);let[l,u]=th(a);switch(l){case aw:{let p=a;switch(u){case"bigint":l=PB,p=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);p=null;break;case"undefined":return i([RB],a)}return i([l,p],a)}case bh:{if(u){let y=a;return u==="DataView"?y=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(y=new Uint8Array(a)),i([u,[...y]],a)}const p=[],h=i([l,p],a);for(const y of a)p.push(o(y));return h}case T0:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(e&&"toJSON"in a)return o(a.toJSON());const p=[],h=i([l,p],a);for(const y of Ume(a))(t||!Yy(th(a[y])))&&p.push([o(y),o(a[y])]);return h}case vC:return i([l,a.toISOString()],a);case wC:{const{source:p,flags:h}=a;return i([l,{source:p,flags:h}],a)}case xC:{const p=[],h=i([l,p],a);for(const[y,b]of a)(t||!(Yy(th(y))||Yy(th(b))))&&p.push([o(y),o(b)]);return h}case kC:{const p=[],h=i([l,p],a);for(const y of a)(t||!Yy(th(y)))&&p.push(o(y));return h}}const{message:d}=a;return i([l,{name:u,message:d}],a)};return o},b5=(t,{json:e,lossy:n}={})=>{const r=[];return Vme(!(e||n),!!e,new Map,r)(t),r},E0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?y5(b5(t,e)):structuredClone(t):(t,e)=>y5(b5(t,e));function Fme(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Bme(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function qme(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Fme,r=t.options.footnoteBackLabel||Bme,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[u]);if(!d)continue;const p=t.all(d),h=String(d.identifier).toUpperCase(),y=Op(h.toLowerCase());let b=0;const E=[],S=t.footnoteCounts.get(h);for(;S!==void 0&&++b<=S;){E.length>0&&E.push({type:"text",value:" "});let R=typeof n=="string"?n:n(u,b);typeof R=="string"&&(R={type:"text",value:R}),E.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+y+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,b),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const _=p[p.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const R=_.children[_.children.length-1];R&&R.type==="text"?R.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...E)}else p.push(...E);const C={type:"element",tagName:"li",properties:{id:e+"fn-"+y},children:t.wrap(p,!0)};t.patch(d,C),l.push(C)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...E0(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const DB=(function(t){if(t==null)return Kme;if(typeof t=="function")return sw(t);if(typeof t=="object")return Array.isArray(t)?$me(t):Hme(t);if(typeof t=="string")return Gme(t);throw new Error("Expected function, string, or object as test")});function $me(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=DB(t[n]);return sw(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function Hme(t){const e=t;return sw(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function Gme(t){return sw(e);function e(n){return n&&n.type===t}}function sw(t){return e;function e(n,r,i){return!!(Wme(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Kme(){return!0}function Wme(t){return t!==null&&typeof t=="object"&&"type"in t}const MB=[],Yme=!0,v5=!1,Jme="skip";function Xme(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=DB(i),a=r?-1:1;l(t,void 0,[])();function l(u,d,p){const h=u&&typeof u=="object"?u:{};if(typeof h.type=="string"){const b=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(u.type+(b?"<"+b+">":""))+")"})}return y;function y(){let b=MB,E,S,_;if((!e||o(u,d,p[p.length-1]||void 0))&&(b=Qme(n(u,p)),b[0]===v5))return b;if("children"in u&&u.children){const C=u;if(C.children&&b[0]!==Jme)for(S=(r?C.children.length:-1)+a,_=p.concat(C);S>-1&&S<C.children.length;){const R=C.children[S];if(E=l(R,S,_)(),E[0]===v5)return E;S=typeof E[1]=="number"?E[1]:S+a}}return b}}}function Qme(t){return Array.isArray(t)?t:typeof t=="number"?[Yme,t]:t==null?MB:[t]}function zB(t,e,n,r){let i,o,a;typeof e=="function"&&typeof n!="function"?(o=void 0,a=e,i=n):(o=e,a=n,i=r),Xme(t,o,l,i);function l(u,d){const p=d[d.length-1],h=p?p.children.indexOf(u):void 0;return a(u,h,p)}}const PE={}.hasOwnProperty,Zme={};function eye(t,e){const n=e||Zme,r=new Map,i=new Map,o=new Map,a={...zme,...n.handlers},l={all:d,applyData:nye,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:u,options:n,patch:tye,wrap:iye};return zB(t,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const h=p.type==="definition"?r:i,y=String(p.identifier).toUpperCase();h.has(y)||h.set(y,p)}}),l;function u(p,h){const y=p.type,b=l.handlers[y];if(PE.call(l.handlers,y)&&b)return b(l,p,h);if(l.options.passThrough&&l.options.passThrough.includes(y)){if("children"in p){const{children:S,..._}=p,C=E0(_);return C.children=l.all(p),C}return E0(p)}return(l.options.unknownHandler||rye)(l,p,h)}function d(p){const h=[];if("children"in p){const y=p.children;let b=-1;for(;++b<y.length;){const E=l.one(y[b],p);if(E){if(b&&y[b-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=w5(E.value)),!Array.isArray(E)&&E.type==="element")){const S=E.children[0];S&&S.type==="text"&&(S.value=w5(S.value))}Array.isArray(E)?h.push(...E):h.push(E)}}}return h}}function tye(t,e){t.position&&(e.position=jfe(t))}function nye(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,E0(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function rye(t,e){const n=e.data||{},r="value"in e&&!(PE.call(n,"hProperties")||PE.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function iye(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function w5(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function x5(t,e){const n=eye(t,e),r=n.one(t,void 0),i=qme(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function oye(t,e){return t&&"run"in t?async function(n,r){const i=x5(n,{file:r,...e});await t.run(i,r)}:function(n,r){return x5(n,{file:r,...t||e})}}function k5(t){if(t)throw t}var V_,_5;function aye(){if(_5)return V_;_5=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},o=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var p=t.call(d,"constructor"),h=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!p&&!h)return!1;var y;for(y in d);return typeof y>"u"||t.call(d,y)},a=function(d,p){n&&p.name==="__proto__"?n(d,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):d[p.name]=p.newValue},l=function(d,p){if(p==="__proto__")if(t.call(d,p)){if(r)return r(d,p).value}else return;return d[p]};return V_=function u(){var d,p,h,y,b,E,S=arguments[0],_=1,C=arguments.length,R=!1;for(typeof S=="boolean"&&(R=S,S=arguments[1]||{},_=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});_<C;++_)if(d=arguments[_],d!=null)for(p in d)h=l(S,p),y=l(d,p),S!==y&&(R&&y&&(o(y)||(b=i(y)))?(b?(b=!1,E=h&&i(h)?h:[]):E=h&&o(h)?h:{},a(S,{name:p,newValue:u(R,E,y)})):typeof y<"u"&&a(S,{name:p,newValue:y}));return S},V_}var sye=aye();const F_=Oo(sye);function DE(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function lye(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(u,...d){const p=t[++o];let h=-1;if(u){a(u);return}for(;++h<i.length;)(d[h]===null||d[h]===void 0)&&(d[h]=i[h]);i=d,p?cye(p,l)(...d):a(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function cye(t,e){let n;return r;function r(...a){const l=t.length>a.length;let u;l&&a.push(i);try{u=t.apply(this,a)}catch(d){const p=d;if(l&&n)throw p;return i(p)}l||(u&&u.then&&typeof u.then=="function"?u.then(o,i):u instanceof Error?i(u):o(u))}function i(a,...l){n||(n=!0,e(a,...l))}function o(a){i(null,a)}}const Sa={basename:uye,dirname:dye,extname:pye,join:fye,sep:"/"};function uye(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Dg(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function dye(t){if(Dg(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function pye(t){Dg(t);let e=t.length,n=-1,r=0,i=-1,o=0,a;for(;e--;){const l=t.codePointAt(e);if(l===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),l===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function fye(...t){let e=-1,n;for(;++e<t.length;)Dg(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":hye(n)}function hye(t){Dg(t);const e=t.codePointAt(0)===47;let n=gye(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function gye(t,e){let n="",r=0,i=-1,o=0,a=-1,l,u;for(;++a<=t.length;){if(a<t.length)l=t.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,o=0}else l===46&&o>-1?o++:o=-1}return n}function Dg(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const mye={cwd:yye};function yye(){return"/"}function ME(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function bye(t){if(typeof t=="string")t=new URL(t);else if(!ME(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return vye(t)}function vye(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const B_=["history","path","basename","stem","extname","dirname"];class LB{constructor(e){let n;e?ME(e)?n={path:e}:typeof e=="string"||wye(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":mye.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<B_.length;){const o=B_[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)B_.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Sa.basename(this.path):void 0}set basename(e){$_(e,"basename"),q_(e,"basename"),this.path=Sa.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Sa.dirname(this.path):void 0}set dirname(e){T5(this.basename,"dirname"),this.path=Sa.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Sa.extname(this.path):void 0}set extname(e){if(q_(e,"extname"),T5(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Sa.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){ME(e)&&(e=bye(e)),$_(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Sa.basename(this.path,this.extname):void 0}set stem(e){$_(e,"stem"),q_(e,"stem"),this.path=Sa.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Zr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function q_(t,e){if(t&&t.includes(Sa.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Sa.sep+"`")}function $_(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function T5(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function wye(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const xye=(function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),kye={}.hasOwnProperty;class _C extends xye{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=lye()}copy(){const e=new _C;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(F_(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(K_("data",this.frozen),this.namespace[e]=n,this):kye.call(this.namespace,e)&&this.namespace[e]||void 0:e?(K_("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Jy(e),r=this.parser||this.Parser;return H_("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),H_("process",this.parser||this.Parser),G_("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const l=Jy(e),u=r.parse(l);r.run(u,l,function(p,h,y){if(p||!h||!y)return d(p);const b=h,E=r.stringify(b,y);Eye(E)?y.value=E:y.result=E,d(p,y)});function d(p,h){p||!h?a(p):o?o(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),H_("processSync",this.parser||this.Parser),G_("processSync",this.compiler||this.Compiler),this.process(e,i),S5("processSync","process",n),r;function i(o,a){n=!0,k5(o),r=a}}run(e,n,r){E5(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,l){const u=Jy(n);i.run(e,u,d);function d(p,h,y){const b=h||e;p?l(p):a?a(b):r(void 0,b,y)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),S5("runSync","run",r),i;function o(a,l){k5(a),i=l,r=!0}}stringify(e,n){this.freeze();const r=Jy(n),i=this.compiler||this.Compiler;return G_("stringify",i),E5(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(K_("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...h]=d;u(p,h)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=F_(!0,i.settings,d.settings))}function l(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const h=d[p];o(h)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,p){let h=-1,y=-1;for(;++h<r.length;)if(r[h][0]===d){y=h;break}if(y===-1)r.push([d,...p]);else if(p.length>0){let[b,...E]=p;const S=r[y][1];DE(S)&&DE(b)&&(b=F_(!0,S,b)),r[y]=[d,b,...E]}}}}const _ye=new _C().freeze();function H_(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function G_(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function K_(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function E5(t){if(!DE(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function S5(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Jy(t){return Tye(t)?t:new LB(t)}function Tye(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Eye(t){return typeof t=="string"||Sye(t)}function Sye(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Aye="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",A5=[],C5={allowDangerousHtml:!0},Cye=/^(https?|ircs?|mailto|xmpp)$/i,Iye=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function jB(t){const e=Nye(t),n=Rye(t);return Oye(e.runSync(e.parse(n),n),t)}function Nye(t){const e=t.rehypePlugins||A5,n=t.remarkPlugins||A5,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...C5}:C5;return _ye().use(ume).use(n).use(oye,r).use(e)}function Rye(t){const e=t.children||"",n=new LB;return typeof e=="string"&&(n.value=e),n}function Oye(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,a=e.skipHtml,l=e.unwrapDisallowed,u=e.urlTransform||Pye;for(const p of Iye)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+Aye+p.id,void 0);return zB(t,d),qfe(t,{Fragment:g.Fragment,components:i,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function d(p,h,y){if(p.type==="raw"&&y&&typeof h=="number")return a?y.children.splice(h,1):y.children[h]={type:"text",value:p.value},h;if(p.type==="element"){let b;for(b in L_)if(Object.hasOwn(L_,b)&&Object.hasOwn(p.properties,b)){const E=p.properties[b],S=L_[b];(S===null||S.includes(p.tagName))&&(p.properties[b]=u(String(E||""),b,p))}}if(p.type==="element"){let b=n?!n.includes(p.tagName):o?o.includes(p.tagName):!1;if(!b&&r&&typeof h=="number"&&(b=!r(p,h,y)),b&&y&&typeof h=="number")return l&&p.children?y.children.splice(h,1,...p.children):y.children.splice(h,1),h}}}function Pye(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Cye.test(t.slice(0,e))?t:""}const Dye={regNo:"JSN398",make:"Volkswagen",model:"LT 31 (Typ 28/21)",year:1976,prodYear:1976,regDate:"1978-02-14",status:"Avstlld",bodyType:"Skp Bostadsinredning",passengers:4,inspection:{last:"2025-08-13",mileage:"3 362 mil (Mtarstllning)",next:"Oknd"},engine:{fuel:"Bensin",power:"75 HK / 55 kW",volume:"2.0L (Audi)",type:"2.0L Bensin (Audi)",code:"CH"},gearbox:"Manuell 4-vxlad",wheels:{drive:"2WD Bakhjulsdrift",tiresFront:"215R14 C",tiresRear:"215R14 C",boltPattern:"5x160"},dimensions:{length:5400,width:2020,height:"2500 mm",wheelbase:2500},weights:{curb:2280,total:3160,load:880,trailer:1400,trailerB:750},vin:"2862500058",color:"Flerfrgad",history:{owners:22,events:38,lastOwnerChange:"2025-12-05"},maintenance:{fluids:{oilType:"10W-40 Mineral",oilCapacity:"6.0 liter",coolantType:"Glykol bl (G11)",gearboxOil:"API GL-4 (Gulmetallsker)"},battery:{type:"Startbatteri",capacity:"75-88Ah"},tires:{pressureFront:"3.5 bar",pressureRear:"4.5 bar"}},expertAnalysis:{commonFaults:[{title:"Spindelbultar (Kingpins)",description:"Mste smrjas var 500:e mil! Om de skr krvs press.",urgency:"High"},{title:"Rost i balkar",description:"Kolla tvrbalkar och domkraftsfsten noga.",urgency:"Medium"}],modificationTips:[{title:"Motorbyte D24",description:"Populrt att byta till Volvo D24 eller D24T fr mer ork."}],maintenanceNotes:"OBS: 5-siffrig mtare. Mtarstllning 3362 mil r troligen 13 362 eller 23 362. Historik bekrftar minst en rollover."}},Mye=[{id:"s1",name:"Kamremssats (Contitech CT637K1)",category:"Reservdelar",estimatedCost:800,quantity:"1 st",checked:!1,status:Wc.RESEARCH,linkedTaskId:"mek-1",options:[{id:"opt-s1-1",store:"Autodoc",articleNumber:"1210452",price:649,currency:"SEK",shippingCost:49,totalCost:698,deliveryTimeDays:5,inStock:!0,url:"https://www.autodoc.se/contitech/1210452",lastPriceCheck:"2025-12-10"},{id:"opt-s1-2",store:"Mekonomen",articleNumber:"CT637K1",price:995,currency:"SEK",shippingCost:0,totalCost:995,deliveryTimeDays:0,inStock:!0,shelfLocation:"Disk - bestll fram",lastPriceCheck:"2025-12-08"},{id:"opt-s1-3",store:"SKF (Original)",articleNumber:"VKMA01014",price:1250,currency:"SEK",shippingCost:0,totalCost:1250,deliveryTimeDays:2,inStock:!1,lastPriceCheck:"2025-12-05"}]},{id:"s2",name:"Vattenpump (Metallimpeller)",category:"Reservdelar",estimatedCost:400,quantity:"1 st",checked:!1,status:Wc.DECIDED,linkedTaskId:"mek-1",selectedOptionId:"opt-s2-1",options:[{id:"opt-s2-1",store:"Autodoc",articleNumber:"2283285",price:289,currency:"SEK",shippingCost:49,totalCost:338,deliveryTimeDays:5,inStock:!0,url:"https://www.autodoc.se/hepu/2283285",lastPriceCheck:"2025-12-10"},{id:"opt-s2-2",store:"Biltema",articleNumber:"33-1542",price:449,currency:"SEK",shippingCost:0,totalCost:449,deliveryTimeDays:0,inStock:!0,shelfLocation:"Gng 4, Hylla 12",lastPriceCheck:"2025-12-09"}]},{id:"s16",name:"Startbatteri (75Ah)",category:"Reservdelar",estimatedCost:1400,actualCost:1299,quantity:"1 st",checked:!0,status:Wc.BOUGHT,store:"Biltema",purchaseDate:"2025-12-08",linkedTaskId:"mek-0",selectedOptionId:"opt-s16-1",options:[{id:"opt-s16-1",store:"Biltema",articleNumber:"82-275",price:1299,currency:"SEK",shippingCost:0,totalCost:1299,deliveryTimeDays:0,inStock:!0,shelfLocation:"Gng 2, Batterier",lastPriceCheck:"2025-12-08"}]},{id:"s7",name:"Motorolja 10W-40 (Mineral)",category:"Kemi & Frg",estimatedCost:400,quantity:"10 L",checked:!1,status:Wc.RESEARCH,store:"Biltema",linkedTaskId:"mek-2",options:[{id:"opt-s7-1",store:"Biltema",articleNumber:"36-1285",price:349,currency:"SEK",shippingCost:0,totalCost:349,deliveryTimeDays:0,inStock:!0,shelfLocation:"Gng 5, Oljor",lastPriceCheck:"2025-12-10"},{id:"opt-s7-2",store:"Jula",articleNumber:"580-123",price:379,currency:"SEK",shippingCost:0,totalCost:379,deliveryTimeDays:0,inStock:!0,lastPriceCheck:"2025-12-09"}]},{id:"s12",name:"Tndstift (Bosch W7DTC)",category:"Reservdelar",estimatedCost:200,quantity:"4 st",checked:!1,linkedTaskId:"mek-2"},{id:"s20",name:"Armaflex Isolering (19mm)",category:"Inredning",estimatedCost:1500,quantity:"10 m",checked:!1,status:Wc.RESEARCH,linkedTaskId:"build-1",options:[{id:"opt-s20-1",store:"Bauhaus",articleNumber:"ARM-19-10",price:1299,currency:"SEK",shippingCost:99,totalCost:1398,deliveryTimeDays:3,inStock:!0,lastPriceCheck:"2025-12-10"},{id:"opt-s20-2",store:"K-Rauta",price:1450,currency:"SEK",shippingCost:0,totalCost:1450,deliveryTimeDays:0,inStock:!1,lastPriceCheck:"2025-12-08"}]},{id:"s21",name:"Plywood 12mm (Golv)",category:"Inredning",estimatedCost:800,quantity:"3 skivor",checked:!1,status:Wc.DECIDED,selectedOptionId:"opt-s21-1",linkedTaskId:"build-1",options:[{id:"opt-s21-1",store:"Byggmax",price:699,currency:"SEK",shippingCost:0,totalCost:699,deliveryTimeDays:0,inStock:!0,shelfLocation:"Skivhallen",lastPriceCheck:"2025-12-10"}]}],zye=[{id:"admin-1",type:Jn.ADMIN,title:"Frskra & Stll p",description:"Ring frskringsbolag. Kolla veteranfrskring (Folksam/IF). Stll p via Transportstyrelsen.",status:tt.DONE,priority:rn.HIGH,mechanicalPhase:xr.P0_ACUTE,phase:"Fas 1: Akut",estimatedCostMin:0,estimatedCostMax:0,actualCost:0,weightKg:0,costType:En.OPERATION,difficultyLevel:"Easy",tags:["Admin","Prio"],links:[],comments:[{id:"c1",text:"Veteranfrskring kostar ca 1500/r hos Folksam",createdAt:"2025-12-06",author:"user"}],attachments:[],subtasks:[{id:"st1",title:"Ring Folksam",completed:!0},{id:"st2",title:"Stll p via Transportstyrelsen",completed:!0}],created:"2025-12-05T10:00:00Z",lastModified:"2025-12-07T14:30:00Z"},{id:"logistik-1",type:Jn.MAINTENANCE,title:"Hmta bilen (Hemtransport)",description:"Kr frsiktigt. Kolla olja/vatten var 10:e mil. Lyssna p framvagn. Ta med reservolja!",status:tt.TODO,priority:rn.HIGH,mechanicalPhase:xr.P0_ACUTE,phase:"Fas 1: Akut",estimatedCostMin:1e3,estimatedCostMax:1500,actualCost:0,weightKg:0,costType:En.OPERATION,difficultyLevel:"Medium",requiredTools:["Reservolja","Kylarvtska","Bogserlina"],blockers:[{taskId:"admin-1",reason:"Mste vara frskrad innan krning"}],tags:["Transport","Risk"],links:[],comments:[],attachments:[],subtasks:[{id:"st3",title:"Packa reservvtska",completed:!1},{id:"st4",title:"Kolla dcktryck innan avfrd",completed:!1}],created:"2025-12-05T10:00:00Z",lastModified:"2025-12-05T10:00:00Z"},{id:"inkop-1",type:Jn.PURCHASE,title:"Byt Dck (Delsbo)",description:"215 R14 C (ret runt). Ring Dckab. Bultmnster 5x160 - unikt fr LT/Transit!",status:tt.TODO,priority:rn.HIGH,mechanicalPhase:xr.P0_ACUTE,phase:"Fas 1: Akut",estimatedCostMin:4e3,estimatedCostMax:6e3,actualCost:0,weightKg:0,costType:En.OPERATION,difficultyLevel:"Easy",tags:["Dck","Skerhet"],links:[],comments:[],attachments:[],subtasks:[],created:"2025-12-05T10:00:00Z",lastModified:"2025-12-05T10:00:00Z"},{id:"mek-0",type:Jn.MAINTENANCE,title:"Byt Startbatteri",description:"Det gamla r slut. 75Ah eller strre. Kpt p Biltema!",status:tt.DONE,priority:rn.HIGH,mechanicalPhase:xr.P0_ACUTE,phase:"Fas 1: Akut",estimatedCostMin:1200,estimatedCostMax:1600,actualCost:1299,weightKg:20,costType:En.OPERATION,difficultyLevel:"Easy",requiredTools:["Skiftnyckel 13mm","Polsmorning"],tags:["El"],links:[],comments:[],attachments:[],subtasks:[],created:"2025-12-05T10:00:00Z",lastModified:"2025-12-08T16:00:00Z"},{id:"mek-1",type:Jn.MAINTENANCE,title:"Kamrem & Vattenpump",description:"Kritisk! Audi CH-motor 2.0L r interference. Byt ven spnnrulle och kylarvtska.",status:tt.TODO,priority:rn.HIGH,mechanicalPhase:xr.P1_ENGINE,phase:"Fas 2: Mekanisk Skerhet",estimatedCostMin:5e3,estimatedCostMax:7e3,actualCost:0,weightKg:2,costType:En.OPERATION,difficultyLevel:"Expert",requiredTools:["Momentnyckel","Kamremsverktyg","Avdragare","Vevaxellsning"],tags:["Verkstad","Motor","Kritisk"],links:[{id:"l1",title:"VW LT Kamremsbyte guide",url:"https://youtube.com/watch?v=example"}],comments:[{id:"c2",text:"Viktigt: Contitech CT637K1 passar. SKF VKMA01014 r originalkvalitet.",createdAt:"2025-12-06",author:"ai"}],attachments:[],subtasks:[{id:"st5",title:"Bestll kamremssats",completed:!1},{id:"st6",title:"Bestll vattenpump",completed:!1},{id:"st7",title:"Boka verkstad",completed:!1}],created:"2025-12-05T10:00:00Z",lastModified:"2025-12-10T09:00:00Z"},{id:"mek-2",type:Jn.MAINTENANCE,title:"Stor Service (Vtskor)",description:"Olja (10W-40 Mineral), Filter, Tndstift (Bosch W7DTC), Luftfilter. OBS: GL-4 olja i ldan - aldrig GL-5!",status:tt.TODO,priority:rn.MEDIUM,mechanicalPhase:xr.P1_ENGINE,phase:"Fas 2: Mekanisk Skerhet",estimatedCostMin:1500,estimatedCostMax:2e3,actualCost:0,weightKg:5,costType:En.OPERATION,difficultyLevel:"Easy",requiredTools:["Oljefilteravdragare","Sprrskaft","Uppsamlingskrl","Tndstiftsnyckel"],tags:["Service","DIY"],links:[],comments:[],attachments:[],subtasks:[{id:"st8",title:"Byt motorolja",completed:!1},{id:"st9",title:"Byt oljefilter",completed:!1},{id:"st10",title:"Byt luftfilter",completed:!1},{id:"st11",title:"Byt tndstift",completed:!1}],created:"2025-12-05T10:00:00Z",lastModified:"2025-12-05T10:00:00Z"},{id:"mek-1b",type:Jn.MAINTENANCE,title:"Kylsystem Genomgng",description:"Trycktesta, byt slangar vid behov. Spola systemet. Fyll med G11 bl glykol.",status:tt.TODO,priority:rn.MEDIUM,mechanicalPhase:xr.P1_ENGINE,phase:"Fas 2: Mekanisk Skerhet",estimatedCostMin:500,estimatedCostMax:1500,actualCost:0,weightKg:0,costType:En.OPERATION,difficultyLevel:"Medium",requiredTools:["Trycktestare","Slangklmmor"],tags:["Kylsystem"],links:[],comments:[],attachments:[],subtasks:[],created:"2025-12-10T10:00:00Z",lastModified:"2025-12-10T10:00:00Z"},{id:"mek-3",type:Jn.MAINTENANCE,title:"Rostlaga Balk & Drr",description:"Fixa yttre balk och skjutdrrens nederkant. Mste vara ttt innan isolering. Kan krva pltarbete.",status:tt.TODO,priority:rn.MEDIUM,mechanicalPhase:xr.P2_RUST,phase:"Fas 3: Kaross & Rost",estimatedCostMin:500,estimatedCostMax:1e4,actualCost:0,weightKg:5,costType:En.INVESTMENT,difficultyLevel:"Expert",requiredTools:["MIG-svets","Vinkelslip","Pltsax","Brottdorn"],tags:["Rost","Kaross","Kritisk"],links:[],comments:[{id:"c3",text:"Viktigt att fixa detta INNAN isolering - annars kommer fukt fastna innanfr.",createdAt:"2025-12-07",author:"ai"}],attachments:[],subtasks:[{id:"st12",title:"Inspektera undersida",completed:!1},{id:"st13",title:"Markera alla roststllen",completed:!1},{id:"st14",title:"Boka rostverkstad alt. gr sjlv",completed:!1}],created:"2025-12-05T10:00:00Z",lastModified:"2025-12-07T12:00:00Z"},{id:"mek-3b",type:Jn.MAINTENANCE,title:"Underredsbehandling",description:"Tectyl eller Dinitrol. Hela undersidan efter rostlagning r klar.",status:tt.BLOCKED,priority:rn.MEDIUM,mechanicalPhase:xr.P2_RUST,phase:"Fas 3: Kaross & Rost",blockers:[{taskId:"mek-3",reason:"Mste rostlaga frst"}],estimatedCostMin:2e3,estimatedCostMax:5e3,actualCost:0,weightKg:0,costType:En.INVESTMENT,difficultyLevel:"Medium",requiredTools:["Hgtryckstvtt","Tryckluft","Dinitrolpistol"],tags:["Rost","Underrede"],links:[],comments:[],attachments:[],subtasks:[],created:"2025-12-10T10:00:00Z",lastModified:"2025-12-10T10:00:00Z"},{id:"mek-4",type:Jn.MAINTENANCE,title:"Smrj Spindelbultar (Kingpins)",description:"LT-specifikt! Smrj var 500:e mil. Om de skr fast krvs press och vrme.",status:tt.TODO,priority:rn.LOW,mechanicalPhase:xr.P3_FUTURE,phase:"Fas 3: Kaross & Rost",estimatedCostMin:0,estimatedCostMax:100,actualCost:0,weightKg:0,costType:En.OPERATION,difficultyLevel:"Easy",requiredTools:["Smrjspruta","Domkraft"],sprint:"Lpande",tags:["Underhll","LT-specifikt"],links:[],comments:[],attachments:[],subtasks:[],created:"2025-12-10T10:00:00Z",lastModified:"2025-12-10T10:00:00Z"},{id:"build-0",type:Jn.BUILD,title:"Riva Gammal Inredning",description:"Ta bort befintliga hyllor, paneler och gammal isolering. Dokumentera vad som finns!",status:tt.IDEA,priority:rn.LOW,buildPhase:zl.B0_DEMO,phase:"Fas 4: Inredning & Finish",estimatedCostMin:0,estimatedCostMax:500,actualCost:0,weightKg:-50,costType:En.INVESTMENT,difficultyLevel:"Easy",requiredTools:["Kofot","Skyddsglas","Dammask"],tags:["Vanlife","Rivning"],links:[],comments:[],attachments:[],subtasks:[],decisionOptions:[{id:"opt1",title:"Behll originalpanel",description:"Montera isolering bakom befintlig panel om den r i gott skick.",costRange:"0 kr",pros:["Snabbt","Behller originalutseende"],cons:["Smre isolering","Kan dlja rost"]},{id:"opt2",title:"Total rivning",description:"Ta bort allt ner till plten.",costRange:"500-1000 kr (sckar)",pros:["Full kontroll","Kan inspektera rost","Maximal isolering"],cons:["Mer jobb","Mste bygga nytt"],recommended:!0}],created:"2025-12-10T10:00:00Z",lastModified:"2025-12-10T10:00:00Z"},{id:"build-1",type:Jn.BUILD,title:"Isolering & Golv",description:"Armaflex 19mm p plt (vggar/tak). Plywoodgolv 12mm. Rostskydda golvet inifrn frst!",status:tt.BLOCKED,priority:rn.MEDIUM,buildPhase:zl.B1_SHELL,phase:"Fas 4: Inredning & Finish",blockers:[{taskId:"mek-3",reason:"Mste svetsa balkar innan isolering"},{taskId:"build-0",reason:"Riv gammal inredning frst"}],estimatedCostMin:3e3,estimatedCostMax:5e3,actualCost:0,weightKg:50,costType:En.INVESTMENT,difficultyLevel:"Medium",requiredTools:["Mattkniv","Kontaktlim","Sticksg","Mttband"],tags:["Vanlife","Isolering"],links:[],comments:[{id:"c4",text:"Armaflex r sjlvhftande men extra kontaktlim p vertikala ytor rekommenderas.",createdAt:"2025-12-08",author:"ai"}],attachments:[],subtasks:[{id:"st15",title:"Rengr pltytor",completed:!1},{id:"st16",title:"Rostskydda golv",completed:!1},{id:"st17",title:"Montera Armaflex vggar",completed:!1},{id:"st18",title:"Montera Armaflex tak",completed:!1},{id:"st19",title:"Lgg plywoodgolv",completed:!1}],created:"2025-12-05T10:00:00Z",lastModified:"2025-12-08T14:00:00Z"},{id:"build-2",type:Jn.BUILD,title:"Dra El & Vatten (Infrastruktur)",description:"Dra tomrr fr 12V (4mm) och slangar (10mm) innan vggarna stts upp. Planera uttag!",status:tt.BLOCKED,priority:rn.MEDIUM,buildPhase:zl.B2_SYSTEMS,phase:"Fas 4: Inredning & Finish",blockers:[{taskId:"build-1",reason:"Isolering mste vara klar frst"}],estimatedCostMin:1e3,estimatedCostMax:3e3,actualCost:0,weightKg:10,costType:En.INVESTMENT,difficultyLevel:"Medium",requiredTools:["Kabelgenomfringar","Strips","Kabelsax"],tags:["El","Vatten","Planering"],links:[],comments:[],attachments:[],subtasks:[{id:"st20",title:"Rita elschema",completed:!1},{id:"st21",title:"Berkna kabeldimensioner",completed:!1},{id:"st22",title:"Dra huvudkablar",completed:!1}],created:"2025-12-05T10:00:00Z",lastModified:"2025-12-05T10:00:00Z"},{id:"build-2b",type:Jn.IDEA,title:"Solcellssystem",description:"Research: 200W panel rcker fr LED + laptop. 400W om kylskp.",status:tt.IDEA,priority:rn.LOW,buildPhase:zl.B2_SYSTEMS,phase:"Fas 4: Inredning & Finish",estimatedCostMin:5e3,estimatedCostMax:15e3,actualCost:0,weightKg:25,costType:En.INVESTMENT,difficultyLevel:"Expert",tags:["El","Sol","Research"],links:[],comments:[],attachments:[],subtasks:[],decisionOptions:[{id:"sol1",title:"200W Baskonfiguration",description:"1x200W panel, 100Ah LiFePO4, 30A MPPT",costRange:"5 000 - 8 000 kr",pros:["Billigt","Enkelt","Rcker fr grundbehov"],cons:["Ingen marginal","Klarar ej kylskp"]},{id:"sol2",title:"400W Komfort",description:"2x200W panel, 200Ah LiFePO4, 40A MPPT, Victron",costRange:"12 000 - 18 000 kr",pros:["Klarar kompressor-kylskp","Framtidsskert"],cons:["Dyrare","Mer vikt p taket"],recommended:!0}],created:"2025-12-10T10:00:00Z",lastModified:"2025-12-10T10:00:00Z"},{id:"build-3",type:Jn.BUILD,title:"Bygg Sngstomme",description:"Fast sng bak (140cm bred). Frvaring under. Bygg i 18mm plywood.",status:tt.TODO,priority:rn.LOW,buildPhase:zl.B3_INTERIOR,phase:"Fas 4: Inredning & Finish",estimatedCostMin:1500,estimatedCostMax:3e3,actualCost:0,weightKg:40,costType:En.INVESTMENT,difficultyLevel:"Medium",requiredTools:["Sticksg","Skruvdragare","Vinkelmtare"],tags:["Vanlife","Snickeri"],links:[],comments:[],attachments:[],subtasks:[],created:"2025-12-10T10:00:00Z",lastModified:"2025-12-10T10:00:00Z"},{id:"build-3b",type:Jn.BUILD,title:"Kksenhet",description:"Enkel kksmodul: Diskho, gasolspis, frvaring.",status:tt.TODO,priority:rn.LOW,buildPhase:zl.B3_INTERIOR,phase:"Fas 4: Inredning & Finish",estimatedCostMin:2e3,estimatedCostMax:5e3,actualCost:0,weightKg:30,costType:En.INVESTMENT,difficultyLevel:"Medium",requiredTools:["Sticksg","Skruvdragare","Rrverktyg"],tags:["Vanlife","Kk"],links:[],comments:[],attachments:[],subtasks:[],created:"2025-12-10T10:00:00Z",lastModified:"2025-12-10T10:00:00Z"},{id:"build-4",type:Jn.BUILD,title:"Slutfinish & Detaljer",description:"Lister, LED-belysning, gardiner, slutmontering av uttag.",status:tt.TODO,priority:rn.LOW,buildPhase:zl.B4_FINISH,phase:"Fas 4: Inredning & Finish",estimatedCostMin:1e3,estimatedCostMax:3e3,actualCost:0,weightKg:5,costType:En.INVESTMENT,difficultyLevel:"Easy",tags:["Vanlife","Finish"],links:[],comments:[],attachments:[],subtasks:[],created:"2025-12-10T10:00:00Z",lastModified:"2025-12-10T10:00:00Z"}],Lye=[{id:"h1",date:"2025-12-05",description:"Kp av Elton! Projektstart.",mileage:"3 362 mil",performer:"Jag",type:"vrigt"},{id:"h2",date:"2025-11-04",description:"Bilen stlldes av",mileage:"3 362 mil",performer:"Transportstyrelsen",type:"vrigt"},{id:"h3",date:"2025-08-13",description:"Besiktning (Godknd)",mileage:"3 362 mil",performer:"Bilprovningen",type:"Besiktning"},{id:"h4",date:"2019-11-08",description:"Annonserad (25 000 mil angivet)",mileage:"25 000 mil",performer:"Sljare",type:"vrigt"}],wo={id:"demo-elton",name:"Elton (VW LT31)",type:"conversion",brand:"vanplan",ownerIds:["demo"],primaryOwnerId:"demo",memberIds:[],invitedEmails:[],ownerId:"demo",ownerEmail:"demo",vehicleData:Dye,tasks:zye,shoppingItems:Mye,serviceLog:Lye,fuelLog:[],knowledgeArticles:[],created:"2025-12-05",lastModified:"2025-12-11",isDemo:!0,userSkillLevel:"intermediate",nickname:"Elton"},jye={id:"",name:"Nytt Projekt",type:"renovation",brand:"vanplan",ownerIds:[],primaryOwnerId:"",memberIds:[],invitedEmails:[],ownerId:"",ownerEmail:"",vehicleData:{regNo:"",make:"",model:"",year:0,prodYear:0,regDate:"",status:"",bodyType:"",passengers:0,inspection:{last:"",mileage:"",next:""},engine:{fuel:"",power:"",volume:""},gearbox:"",wheels:{drive:"",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:0,events:0,lastOwnerChange:""}},tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],created:"",lastModified:""},UB=[],Uye=({projectArticles:t=[]})=>{const[e,n]=A.useState(null),[r,i]=A.useState(""),a=[...t||[],...UB].filter(l=>l.title.toLowerCase().includes(r.toLowerCase())||l.tags.some(u=>u.toLowerCase().includes(r.toLowerCase())));return e?g.jsx("div",{className:"fixed inset-0 bg-white dark:bg-nordic-dark-surface z-50 overflow-y-auto animate-fade-in",children:g.jsxs("div",{className:"max-w-3xl mx-auto p-6 pb-20",children:[g.jsxs("button",{onClick:()=>n(null),className:"mb-6 p-2 -ml-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full flex items-center gap-2 transition-colors",children:[g.jsx(Gh,{size:20})," ",g.jsx("span",{className:"font-bold text-sm",children:"Tillbaka till biblioteket"})]}),g.jsxs("article",{className:"prose prose-lg dark:prose-invert max-w-none",children:[g.jsxs("div",{className:"mb-8 border-b border-slate-100 dark:border-nordic-charcoal pb-8",children:[g.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:e.title}),g.jsx("div",{className:"flex gap-2 mb-6",children:e.tags.map(l=>g.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold uppercase tracking-wider rounded-full",children:l},l))}),g.jsx("p",{className:"text-xl text-slate-500 dark:text-nordic-dark-muted leading-relaxed font-serif italic",children:e.summary})]}),g.jsx(jB,{components:{h1:({node:l,...u})=>g.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice mt-8 mb-4 border-l-4 border-teal-500 pl-4",...u}),h2:({node:l,...u})=>g.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mt-6 mb-3",...u}),ul:({node:l,...u})=>g.jsx("ul",{className:"list-disc list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...u}),ol:({node:l,...u})=>g.jsx("ol",{className:"list-decimal list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...u}),li:({node:l,...u})=>g.jsx("li",{className:"pl-1 marker:text-teal-500",...u}),p:({node:l,...u})=>g.jsx("p",{className:"mb-4 text-slate-600 dark:text-slate-300 leading-relaxed",...u}),strong:({node:l,...u})=>g.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...u}),blockquote:({node:l,...u})=>g.jsx("blockquote",{className:"border-l-4 border-teal-200 bg-teal-50/50 dark:bg-teal-900/10 p-4 my-6 italic text-slate-600 dark:text-slate-400 rounded-r-xl",...u}),table:({node:l,...u})=>g.jsx("div",{className:"overflow-x-auto my-6 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:g.jsx("table",{className:"w-full text-left text-sm",...u})}),th:({node:l,...u})=>g.jsx("th",{className:"bg-slate-50 dark:bg-nordic-charcoal p-3 font-bold text-slate-700 dark:text-slate-200 border-b border-slate-200 dark:border-nordic-dark-bg",...u}),td:({node:l,...u})=>g.jsx("td",{className:"p-3 border-b border-slate-100 dark:border-nordic-dark-bg text-slate-600 dark:text-slate-400",...u})},children:e.content})]})]})}):g.jsxs("div",{className:"space-y-6 pb-24 animate-fade-in",children:[g.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[g.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice mb-2 flex items-center gap-3",children:[g.jsx(ew,{className:"text-teal-600"})," Kunskapsbanken"]}),g.jsx("p",{className:"text-slate-600 dark:text-nordic-dark-muted mb-6",children:"Hr samlas tekniska rapporter, guider och analyser. Bde globala fakta och unika rapporter som Elton skrivit om ditt projekt."}),g.jsxs("div",{className:"relative",children:[g.jsx(dp,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),g.jsx("input",{type:"text",placeholder:"Sk bland artiklar...",className:"w-full p-4 pl-12 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 transition-all",value:r,onChange:l=>i(l.target.value)})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.length===0?g.jsxs("div",{className:"col-span-full text-center py-12 opacity-50",children:[g.jsx(sC,{size:48,className:"mx-auto mb-4 text-slate-300"}),g.jsx("p",{children:"Inga artiklar hittades."})]}):a.map((l,u)=>g.jsxs("div",{onClick:()=>n(l),className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg hover:shadow-lg hover:border-teal-200 transition-all cursor-pointer group flex flex-col justify-between h-full",children:[g.jsxs("div",{children:[g.jsx("div",{className:"flex gap-2 mb-3",children:l.tags.slice(0,2).map(d=>g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-teal-600 bg-teal-50 dark:bg-teal-900/20 px-2 py-1 rounded-md",children:d},d))}),g.jsx("h4",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-2 group-hover:text-teal-700 transition-colors",children:l.title}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted line-clamp-3 leading-relaxed",children:l.summary})]}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50 dark:border-nordic-charcoal flex justify-between items-center",children:[g.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Ls rapport"}),g.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 dark:bg-nordic-charcoal flex items-center justify-center text-slate-400 group-hover:bg-teal-500 group-hover:text-white transition-colors",children:g.jsx(Gh,{size:16,className:"rotate-180"})})]})]},l.id+u))})]})},VB=6048e5,Vye=864e5,I5=Symbol.for("constructDateFrom");function ac(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&I5 in t?t[I5](e):t instanceof Date?new t.constructor(e):new Date(e)}function aa(t,e){return ac(e||t,t)}let Fye={};function lw(){return Fye}function Xh(t,e){var l,u,d,p;const n=lw(),r=(e==null?void 0:e.weekStartsOn)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,i=aa(t,e==null?void 0:e.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function S0(t,e){return Xh(t,{...e,weekStartsOn:1})}function FB(t,e){const n=aa(t,e==null?void 0:e.in),r=n.getFullYear(),i=ac(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=S0(i),a=ac(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=S0(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function N5(t){const e=aa(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Bye(t,...e){const n=ac.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function R5(t,e){const n=aa(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function qye(t,e,n){const[r,i]=Bye(n==null?void 0:n.in,t,e),o=R5(r),a=R5(i),l=+o-N5(o),u=+a-N5(a);return Math.round((l-u)/Vye)}function $ye(t,e){const n=FB(t,e),r=ac(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),S0(r)}function Hye(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Gye(t){return!(!Hye(t)&&typeof t!="number"||isNaN(+aa(t)))}function Kye(t,e){const n=aa(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Wye={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yye=(t,e,n)=>{let r;const i=Wye[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Gd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Jye={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Xye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Qye={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zye={date:Gd({formats:Jye,defaultWidth:"full"}),time:Gd({formats:Xye,defaultWidth:"full"}),dateTime:Gd({formats:Qye,defaultWidth:"full"})},ebe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tbe=(t,e,n,r)=>ebe[t];function Na(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const nbe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rbe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ibe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},obe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},abe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sbe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lbe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},cbe={ordinalNumber:lbe,era:Na({values:nbe,defaultWidth:"wide"}),quarter:Na({values:rbe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Na({values:ibe,defaultWidth:"wide"}),day:Na({values:obe,defaultWidth:"wide"}),dayPeriod:Na({values:abe,defaultWidth:"wide",formattingValues:sbe,defaultFormattingWidth:"wide"})};function Ra(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?dbe(l,h=>h.test(a)):ube(l,h=>h.test(a));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const p=e.slice(a.length);return{value:d,rest:p}}}function ube(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function dbe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function BB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const pbe=/^(\d+)(th|st|nd|rd)?/i,fbe=/\d+/i,hbe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gbe={any:[/^b/i,/^(a|c)/i]},mbe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ybe={any:[/1/i,/2/i,/3/i,/4/i]},bbe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vbe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wbe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xbe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kbe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_be={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tbe={ordinalNumber:BB({matchPattern:pbe,parsePattern:fbe,valueCallback:t=>parseInt(t,10)}),era:Ra({matchPatterns:hbe,defaultMatchWidth:"wide",parsePatterns:gbe,defaultParseWidth:"any"}),quarter:Ra({matchPatterns:mbe,defaultMatchWidth:"wide",parsePatterns:ybe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ra({matchPatterns:bbe,defaultMatchWidth:"wide",parsePatterns:vbe,defaultParseWidth:"any"}),day:Ra({matchPatterns:wbe,defaultMatchWidth:"wide",parsePatterns:xbe,defaultParseWidth:"any"}),dayPeriod:Ra({matchPatterns:kbe,defaultMatchWidth:"any",parsePatterns:_be,defaultParseWidth:"any"})},Ebe={code:"en-US",formatDistance:Yye,formatLong:Zye,formatRelative:tbe,localize:cbe,match:Tbe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Sbe(t,e){const n=aa(t,e==null?void 0:e.in);return qye(n,Kye(n))+1}function Abe(t,e){const n=aa(t,e==null?void 0:e.in),r=+S0(n)-+$ye(n);return Math.round(r/VB)+1}function qB(t,e){var p,h,y,b;const n=aa(t,e==null?void 0:e.in),r=n.getFullYear(),i=lw(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(y=i.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,a=ac((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const l=Xh(a,e),u=ac((e==null?void 0:e.in)||t,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);const d=Xh(u,e);return+n>=+l?r+1:+n>=+d?r:r-1}function Cbe(t,e){var l,u,d,p;const n=lw(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,i=qB(t,e),o=ac((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Xh(o,e)}function Ibe(t,e){const n=aa(t,e==null?void 0:e.in),r=+Xh(n,e)-+Cbe(n,e);return Math.round(r/VB)+1}function Gt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Dl={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Gt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Gt(n+1,2)},d(t,e){return Gt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Gt(t.getHours()%12||12,e.length)},H(t,e){return Gt(t.getHours(),e.length)},m(t,e){return Gt(t.getMinutes(),e.length)},s(t,e){return Gt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Gt(i,e.length)}},Nd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},O5={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Dl.y(t,e)},Y:function(t,e,n,r){const i=qB(t,r),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return Gt(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Gt(o,e.length)},R:function(t,e){const n=FB(t);return Gt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Gt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Gt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Gt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Dl.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Gt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Ibe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Gt(i,e.length)},I:function(t,e,n){const r=Abe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Gt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Dl.d(t,e)},D:function(t,e,n){const r=Sbe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Gt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Gt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Gt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Gt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Nd.noon:r===0?i=Nd.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Nd.evening:r>=12?i=Nd.afternoon:r>=4?i=Nd.morning:i=Nd.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Dl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Dl.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Gt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Gt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Dl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Dl.s(t,e)},S:function(t,e){return Dl.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return D5(r);case"XXXX":case"XX":return Qc(r);case"XXXXX":case"XXX":default:return Qc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return D5(r);case"xxxx":case"xx":return Qc(r);case"xxxxx":case"xxx":default:return Qc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+P5(r,":");case"OOOO":default:return"GMT"+Qc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+P5(r,":");case"zzzz":default:return"GMT"+Qc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Gt(r,e.length)},T:function(t,e,n){return Gt(+t,e.length)}};function P5(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Gt(o,2)}function D5(t,e){return t%60===0?(t>0?"-":"+")+Gt(Math.abs(t)/60,2):Qc(t,e)}function Qc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Gt(Math.trunc(r/60),2),o=Gt(r%60,2);return n+i+e+o}const M5=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},$B=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Nbe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return M5(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",M5(r,e)).replace("{{time}}",$B(i,e))},Rbe={p:$B,P:Nbe},Obe=/^D+$/,Pbe=/^Y+$/,Dbe=["D","DD","YY","YYYY"];function Mbe(t){return Obe.test(t)}function zbe(t){return Pbe.test(t)}function Lbe(t,e,n){const r=jbe(t,e,n);if(console.warn(r),Dbe.includes(t))throw new RangeError(r)}function jbe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ube=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vbe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fbe=/^'([^]*?)'?$/,Bbe=/''/g,qbe=/[a-zA-Z]/;function $be(t,e,n){var p,h,y,b,E,S,_,C;const r=lw(),i=(n==null?void 0:n.locale)??r.locale??Ebe,o=(n==null?void 0:n.firstWeekContainsDate)??((h=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((b=(y=r.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((S=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((C=(_=r.locale)==null?void 0:_.options)==null?void 0:C.weekStartsOn)??0,l=aa(t,n==null?void 0:n.in);if(!Gye(l))throw new RangeError("Invalid time value");let u=e.match(Vbe).map(R=>{const I=R[0];if(I==="p"||I==="P"){const O=Rbe[I];return O(R,i.formatLong)}return R}).join("").match(Ube).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const I=R[0];if(I==="'")return{isToken:!1,value:Hbe(R)};if(O5[I])return{isToken:!0,value:R};if(I.match(qbe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:R}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return u.map(R=>{if(!R.isToken)return R.value;const I=R.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&zbe(I)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Mbe(I))&&Lbe(I,e,String(t));const O=O5[I[0]];return O(l,I,i.localize,d)}).join("")}function Hbe(t){const e=t.match(Fbe);return e?e[1].replace(Bbe,"'"):t}const Gbe={lessThanXSeconds:{one:"mindre n en sekund",other:"mindre n {{count}} sekunder"},xSeconds:{one:"en sekund",other:"{{count}} sekunder"},halfAMinute:"en halv minut",lessThanXMinutes:{one:"mindre n en minut",other:"mindre n {{count}} minuter"},xMinutes:{one:"en minut",other:"{{count}} minuter"},aboutXHours:{one:"ungefr en timme",other:"ungefr {{count}} timmar"},xHours:{one:"en timme",other:"{{count}} timmar"},xDays:{one:"en dag",other:"{{count}} dagar"},aboutXWeeks:{one:"ungefr en vecka",other:"ungefr {{count}} veckor"},xWeeks:{one:"en vecka",other:"{{count}} veckor"},aboutXMonths:{one:"ungefr en mnad",other:"ungefr {{count}} mnader"},xMonths:{one:"en mnad",other:"{{count}} mnader"},aboutXYears:{one:"ungefr ett r",other:"ungefr {{count}} r"},xYears:{one:"ett r",other:"{{count}} r"},overXYears:{one:"ver ett r",other:"ver {{count}} r"},almostXYears:{one:"nstan ett r",other:"nstan {{count}} r"}},Kbe=["noll","en","tv","tre","fyra","fem","sex","sju","tta","nio","tio","elva","tolv"],Wbe=(t,e,n)=>{let r;const i=Gbe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e<13?Kbe[e]:String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"om "+r:r+" sedan":r},Ybe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"y-MM-dd"},Jbe={full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Xbe={full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Qbe={date:Gd({formats:Ybe,defaultWidth:"full"}),time:Gd({formats:Jbe,defaultWidth:"full"}),dateTime:Gd({formats:Xbe,defaultWidth:"full"})},Zbe={lastWeek:"'i' EEEE's kl.' p",yesterday:"'igr kl.' p",today:"'idag kl.' p",tomorrow:"'imorgon kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"},e0e=(t,e,n,r)=>Zbe[t],t0e={narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["fre Kristus","efter Kristus"]},n0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1:a kvartalet","2:a kvartalet","3:e kvartalet","4:e kvartalet"]},r0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],wide:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},i0e={narrow:["S","M","T","O","T","F","L"],short:["s","m","ti","on","to","fr","l"],abbreviated:["sn","mn","tis","ons","tors","fre","lr"],wide:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"]},o0e={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"morg.",afternoon:"efterm.",evening:"kvll",night:"natt"},abbreviated:{am:"f.m.",pm:"e.m.",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"efterm.",evening:"kvll",night:"natt"},wide:{am:"frmiddag",pm:"eftermiddag",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"eftermiddag",evening:"kvll",night:"natt"}},a0e={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},abbreviated:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},wide:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morgonen",afternoon:"p eftermiddagen",evening:"p kvllen",night:"p natten"}},s0e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:case 2:return n+":a"}return n+":e"},l0e={ordinalNumber:s0e,era:Na({values:t0e,defaultWidth:"wide"}),quarter:Na({values:n0e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Na({values:r0e,defaultWidth:"wide"}),day:Na({values:i0e,defaultWidth:"wide"}),dayPeriod:Na({values:o0e,defaultWidth:"wide",formattingValues:a0e,defaultFormattingWidth:"wide"})},c0e=/^(\d+)(:a|:e)?/i,u0e=/\d+/i,d0e={narrow:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,abbreviated:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,wide:/^(fre Kristus|fre vr tid|efter Kristus|vr tid)/i},p0e={any:[/^f/i,/^[ev]/i]},f0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](:a|:e)? kvartalet/i},h0e={any:[/1/i,/2/i,/3/i,/4/i]},g0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar[s]?|apr|maj|jun[i]?|jul[i]?|aug|sep|okt|nov|dec)\.?/i,wide:/^(januari|februari|mars|april|maj|juni|juli|augusti|september|oktober|november|december)/i},m0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^maj/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},y0e={narrow:/^[smtofl]/i,short:/^(s|m|ti|on|to|fr|l)/i,abbreviated:/^(sn|mn|tis|ons|tors|fre|lr)/i,wide:/^(sndag|mndag|tisdag|onsdag|torsdag|fredag|lrdag)/i},b0e={any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},v0e={any:/^([fe]\.?\s?m\.?|midn(att)?|midd(ag)?|(p) (morgonen|eftermiddagen|kvllen|natten))/i},w0e={any:{am:/^f/i,pm:/^e/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgon/i,afternoon:/eftermiddag/i,evening:/kvll/i,night:/natt/i}},x0e={ordinalNumber:BB({matchPattern:c0e,parsePattern:u0e,valueCallback:t=>parseInt(t,10)}),era:Ra({matchPatterns:d0e,defaultMatchWidth:"wide",parsePatterns:p0e,defaultParseWidth:"any"}),quarter:Ra({matchPatterns:f0e,defaultMatchWidth:"wide",parsePatterns:h0e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ra({matchPatterns:g0e,defaultMatchWidth:"wide",parsePatterns:m0e,defaultParseWidth:"any"}),day:Ra({matchPatterns:y0e,defaultMatchWidth:"wide",parsePatterns:b0e,defaultParseWidth:"any"}),dayPeriod:Ra({matchPatterns:v0e,defaultMatchWidth:"any",parsePatterns:w0e,defaultParseWidth:"any"})},k0e={code:"sv",formatDistance:Wbe,formatLong:Qbe,formatRelative:e0e,localize:l0e,match:x0e,options:{weekStartsOn:1,firstWeekContainsDate:4}},_0e=()=>{};var z5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},T0e=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},GB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=o>>2,h=(o&3)<<4|l>>4;let y=(l&15)<<2|d>>6,b=d&63;u||(b=64,a||(y=64)),r.push(n[p],n[h],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):T0e(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||d==null||h==null)throw new E0e;const y=o<<2|l>>4;if(r.push(y),d!==64){const b=l<<4&240|d>>2;if(r.push(b),h!==64){const E=d<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class E0e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S0e=function(t){const e=HB(t);return GB.encodeByteArray(e,!0)},A0=function(t){return S0e(t).replace(/\./g,"")},KB=function(t){try{return GB.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0e=()=>A0e().__FIREBASE_DEFAULTS__,I0e=()=>{if(typeof process>"u"||typeof z5>"u")return;const t=z5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N0e=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KB(t[1]);return e&&JSON.parse(e)},cw=()=>{try{return _0e()||C0e()||I0e()||N0e()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WB=t=>{var e,n;return(n=(e=cw())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},TC=t=>{const e=WB(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YB=()=>{var t;return(t=cw())==null?void 0:t.config},JB=t=>{var e;return(e=cw())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[A0(JSON.stringify(n)),A0(JSON.stringify(a)),""].join(".")}const vh={};function O0e(){const t={prod:[],emulator:[]};for(const e of Object.keys(vh))vh[e]?t.emulator.push(e):t.prod.push(e);return t}function P0e(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let L5=!1;function dw(t,e){if(typeof window>"u"||typeof document>"u"||!Qa(window.location.host)||vh[t]===e||vh[t]||L5)return;vh[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=O0e().prod.length>0;function a(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{L5=!0,a()},y}function p(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function h(){const y=P0e(r),b=n("text"),E=document.getElementById(b)||document.createElement("span"),S=n("learnmore"),_=document.getElementById(S)||document.createElement("a"),C=n("preprendIcon"),R=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const I=y.element;l(I),p(_,S);const O=d();u(R,C),I.append(R,E,_,O),document.body.appendChild(I)}o?(E.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D0e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xr())}function M0e(){var e;const t=(e=cw())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z0e(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L0e(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j0e(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U0e(){const t=Xr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function V0e(){return!M0e()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F0e(){try{return typeof indexedDB=="object"}catch{return!1}}function B0e(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0e="FirebaseError";class Mo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=q0e,Object.setPrototypeOf(this,Mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mg.prototype.create)}}class Mg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?$0e(o,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Mo(i,l,r)}}function $0e(t,e){return t.replace(H0e,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const H0e=/\{\$([^}]+)}/g;function G0e(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ls(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(j5(o)&&j5(a)){if(!Ls(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function j5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ch(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function K0e(t,e){const n=new W0e(t,e);return n.subscribe.bind(n)}class W0e{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Y0e(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=W_),i.error===void 0&&(i.error=W_),i.complete===void 0&&(i.complete=W_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y0e(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function W_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class Ya{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0e{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new R0e;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q0e(e))try{this.getOrInitializeService({instanceIdentifier:Zc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zc){return this.instances.has(e)}getOptions(e=Zc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X0e(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zc){return this.component?this.component.multipleInstances?e:Zc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X0e(t){return t===Zc?void 0:t}function Q0e(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J0e(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(vt||(vt={}));const eve={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},tve=vt.INFO,nve={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},rve=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=nve[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pw{constructor(e){this.name=e,this._logLevel=tve,this._logHandler=rve,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eve[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}}const ive=(t,e)=>e.some(n=>t instanceof n);let U5,V5;function ove(){return U5||(U5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ave(){return V5||(V5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QB=new WeakMap,zE=new WeakMap,ZB=new WeakMap,Y_=new WeakMap,EC=new WeakMap;function sve(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Zl(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&QB.set(n,t)}).catch(()=>{}),EC.set(e,t),e}function lve(t){if(zE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});zE.set(t,e)}let LE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZB.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cve(t){LE=t(LE)}function uve(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(J_(this),e,...n);return ZB.set(r,e.sort?e.sort():[e]),Zl(r)}:ave().includes(t)?function(...e){return t.apply(J_(this),e),Zl(QB.get(this))}:function(...e){return Zl(t.apply(J_(this),e))}}function dve(t){return typeof t=="function"?uve(t):(t instanceof IDBTransaction&&lve(t),ive(t,ove())?new Proxy(t,LE):t)}function Zl(t){if(t instanceof IDBRequest)return sve(t);if(Y_.has(t))return Y_.get(t);const e=dve(t);return e!==t&&(Y_.set(t,e),EC.set(e,t)),e}const J_=t=>EC.get(t);function pve(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),l=Zl(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Zl(a.result),u.oldVersion,u.newVersion,Zl(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const fve=["get","getKey","getAll","getAllKeys","count"],hve=["put","add","delete","clear"],X_=new Map;function F5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(X_.get(e))return X_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hve.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fve.includes(n)))return;const o=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return X_.set(e,o),o}cve(t=>({...t,get:(e,n,r)=>F5(e,n)||t.get(e,n,r),has:(e,n)=>!!F5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gve{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mve(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mve(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jE="@firebase/app",B5="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new pw("@firebase/app"),yve="@firebase/app-compat",bve="@firebase/analytics-compat",vve="@firebase/analytics",wve="@firebase/app-check-compat",xve="@firebase/app-check",kve="@firebase/auth",_ve="@firebase/auth-compat",Tve="@firebase/database",Eve="@firebase/data-connect",Sve="@firebase/database-compat",Ave="@firebase/functions",Cve="@firebase/functions-compat",Ive="@firebase/installations",Nve="@firebase/installations-compat",Rve="@firebase/messaging",Ove="@firebase/messaging-compat",Pve="@firebase/performance",Dve="@firebase/performance-compat",Mve="@firebase/remote-config",zve="@firebase/remote-config-compat",Lve="@firebase/storage",jve="@firebase/storage-compat",Uve="@firebase/firestore",Vve="@firebase/ai",Fve="@firebase/firestore-compat",Bve="firebase",qve="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="[DEFAULT]",$ve={[jE]:"fire-core",[yve]:"fire-core-compat",[vve]:"fire-analytics",[bve]:"fire-analytics-compat",[xve]:"fire-app-check",[wve]:"fire-app-check-compat",[kve]:"fire-auth",[_ve]:"fire-auth-compat",[Tve]:"fire-rtdb",[Eve]:"fire-data-connect",[Sve]:"fire-rtdb-compat",[Ave]:"fire-fn",[Cve]:"fire-fn-compat",[Ive]:"fire-iid",[Nve]:"fire-iid-compat",[Rve]:"fire-fcm",[Ove]:"fire-fcm-compat",[Pve]:"fire-perf",[Dve]:"fire-perf-compat",[Mve]:"fire-rc",[zve]:"fire-rc-compat",[Lve]:"fire-gcs",[jve]:"fire-gcs-compat",[Uve]:"fire-fst",[Fve]:"fire-fst-compat",[Vve]:"fire-vertex","fire-js":"fire-js",[Bve]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map,Hve=new Map,VE=new Map;function q5(t,e){try{t.container.addComponent(e)}catch(n){js.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Us(t){const e=t.name;if(VE.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;VE.set(e,t);for(const n of C0.values())q5(n,t);for(const n of Hve.values())q5(n,t);return!0}function Pp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gve={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ec=new Mg("app","Firebase",Gve);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kve{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ec.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=qve;function e8(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:UE,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ec.create("bad-app-name",{appName:String(i)});if(n||(n=YB()),!n)throw ec.create("no-options");const o=C0.get(i);if(o){if(Ls(n,o.options)&&Ls(r,o.config))return o;throw ec.create("duplicate-app",{appName:i})}const a=new Z0e(i);for(const u of VE.values())a.addComponent(u);const l=new Kve(n,r,a);return C0.set(i,l),l}function Lg(t=UE){const e=C0.get(t);if(!e&&t===UE&&YB())return e8();if(!e)throw ec.create("no-app",{appName:t});return e}function Di(t,e,n){let r=$ve[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),js.warn(a.join(" "));return}Us(new Ya(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wve="firebase-heartbeat-database",Yve=1,Qh="firebase-heartbeat-store";let Q_=null;function t8(){return Q_||(Q_=pve(Wve,Yve,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ec.create("idb-open",{originalErrorMessage:t.message})})),Q_}async function Jve(t){try{const n=(await t8()).transaction(Qh),r=await n.objectStore(Qh).get(n8(t));return await n.done,r}catch(e){if(e instanceof Mo)js.warn(e.message);else{const n=ec.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});js.warn(n.message)}}}async function $5(t,e){try{const r=(await t8()).transaction(Qh,"readwrite");await r.objectStore(Qh).put(e,n8(t)),await r.done}catch(n){if(n instanceof Mo)js.warn(n.message);else{const r=ec.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});js.warn(r.message)}}}function n8(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xve=1024,Qve=30;class Zve{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new twe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=H5();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Qve){const a=nwe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){js.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=H5(),{heartbeatsToSend:r,unsentEntries:i}=ewe(this._heartbeatsCache.heartbeats),o=A0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return js.warn(n),""}}}function H5(){return new Date().toISOString().substring(0,10)}function ewe(t,e=Xve){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),G5(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),G5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class twe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F0e()?B0e().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jve(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function G5(t){return A0(JSON.stringify({version:2,heartbeats:t})).length}function nwe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rwe(t){Us(new Ya("platform-logger",e=>new gve(e),"PRIVATE")),Us(new Ya("heartbeat",e=>new Zve(e),"PRIVATE")),Di(jE,B5,t),Di(jE,B5,"esm2020"),Di("fire-js","")}rwe("");var iwe="firebase",owe="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(iwe,owe,"app");var K5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tc,r8;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,L){function z(){}z.prototype=L.prototype,D.F=L.prototype,D.prototype=new z,D.prototype.constructor=D,D.D=function(B,V,q){for(var F=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)F[oe-2]=arguments[oe];return L.prototype[V].apply(B,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,L,z){z||(z=0);const B=Array(16);if(typeof L=="string")for(var V=0;V<16;++V)B[V]=L.charCodeAt(z++)|L.charCodeAt(z++)<<8|L.charCodeAt(z++)<<16|L.charCodeAt(z++)<<24;else for(V=0;V<16;++V)B[V]=L[z++]|L[z++]<<8|L[z++]<<16|L[z++]<<24;L=D.g[0],z=D.g[1],V=D.g[2];let q=D.g[3],F;F=L+(q^z&(V^q))+B[0]+3614090360&4294967295,L=z+(F<<7&4294967295|F>>>25),F=q+(V^L&(z^V))+B[1]+3905402710&4294967295,q=L+(F<<12&4294967295|F>>>20),F=V+(z^q&(L^z))+B[2]+606105819&4294967295,V=q+(F<<17&4294967295|F>>>15),F=z+(L^V&(q^L))+B[3]+3250441966&4294967295,z=V+(F<<22&4294967295|F>>>10),F=L+(q^z&(V^q))+B[4]+4118548399&4294967295,L=z+(F<<7&4294967295|F>>>25),F=q+(V^L&(z^V))+B[5]+1200080426&4294967295,q=L+(F<<12&4294967295|F>>>20),F=V+(z^q&(L^z))+B[6]+2821735955&4294967295,V=q+(F<<17&4294967295|F>>>15),F=z+(L^V&(q^L))+B[7]+4249261313&4294967295,z=V+(F<<22&4294967295|F>>>10),F=L+(q^z&(V^q))+B[8]+1770035416&4294967295,L=z+(F<<7&4294967295|F>>>25),F=q+(V^L&(z^V))+B[9]+2336552879&4294967295,q=L+(F<<12&4294967295|F>>>20),F=V+(z^q&(L^z))+B[10]+4294925233&4294967295,V=q+(F<<17&4294967295|F>>>15),F=z+(L^V&(q^L))+B[11]+2304563134&4294967295,z=V+(F<<22&4294967295|F>>>10),F=L+(q^z&(V^q))+B[12]+1804603682&4294967295,L=z+(F<<7&4294967295|F>>>25),F=q+(V^L&(z^V))+B[13]+4254626195&4294967295,q=L+(F<<12&4294967295|F>>>20),F=V+(z^q&(L^z))+B[14]+2792965006&4294967295,V=q+(F<<17&4294967295|F>>>15),F=z+(L^V&(q^L))+B[15]+1236535329&4294967295,z=V+(F<<22&4294967295|F>>>10),F=L+(V^q&(z^V))+B[1]+4129170786&4294967295,L=z+(F<<5&4294967295|F>>>27),F=q+(z^V&(L^z))+B[6]+3225465664&4294967295,q=L+(F<<9&4294967295|F>>>23),F=V+(L^z&(q^L))+B[11]+643717713&4294967295,V=q+(F<<14&4294967295|F>>>18),F=z+(q^L&(V^q))+B[0]+3921069994&4294967295,z=V+(F<<20&4294967295|F>>>12),F=L+(V^q&(z^V))+B[5]+3593408605&4294967295,L=z+(F<<5&4294967295|F>>>27),F=q+(z^V&(L^z))+B[10]+38016083&4294967295,q=L+(F<<9&4294967295|F>>>23),F=V+(L^z&(q^L))+B[15]+3634488961&4294967295,V=q+(F<<14&4294967295|F>>>18),F=z+(q^L&(V^q))+B[4]+3889429448&4294967295,z=V+(F<<20&4294967295|F>>>12),F=L+(V^q&(z^V))+B[9]+568446438&4294967295,L=z+(F<<5&4294967295|F>>>27),F=q+(z^V&(L^z))+B[14]+3275163606&4294967295,q=L+(F<<9&4294967295|F>>>23),F=V+(L^z&(q^L))+B[3]+4107603335&4294967295,V=q+(F<<14&4294967295|F>>>18),F=z+(q^L&(V^q))+B[8]+1163531501&4294967295,z=V+(F<<20&4294967295|F>>>12),F=L+(V^q&(z^V))+B[13]+2850285829&4294967295,L=z+(F<<5&4294967295|F>>>27),F=q+(z^V&(L^z))+B[2]+4243563512&4294967295,q=L+(F<<9&4294967295|F>>>23),F=V+(L^z&(q^L))+B[7]+1735328473&4294967295,V=q+(F<<14&4294967295|F>>>18),F=z+(q^L&(V^q))+B[12]+2368359562&4294967295,z=V+(F<<20&4294967295|F>>>12),F=L+(z^V^q)+B[5]+4294588738&4294967295,L=z+(F<<4&4294967295|F>>>28),F=q+(L^z^V)+B[8]+2272392833&4294967295,q=L+(F<<11&4294967295|F>>>21),F=V+(q^L^z)+B[11]+1839030562&4294967295,V=q+(F<<16&4294967295|F>>>16),F=z+(V^q^L)+B[14]+4259657740&4294967295,z=V+(F<<23&4294967295|F>>>9),F=L+(z^V^q)+B[1]+2763975236&4294967295,L=z+(F<<4&4294967295|F>>>28),F=q+(L^z^V)+B[4]+1272893353&4294967295,q=L+(F<<11&4294967295|F>>>21),F=V+(q^L^z)+B[7]+4139469664&4294967295,V=q+(F<<16&4294967295|F>>>16),F=z+(V^q^L)+B[10]+3200236656&4294967295,z=V+(F<<23&4294967295|F>>>9),F=L+(z^V^q)+B[13]+681279174&4294967295,L=z+(F<<4&4294967295|F>>>28),F=q+(L^z^V)+B[0]+3936430074&4294967295,q=L+(F<<11&4294967295|F>>>21),F=V+(q^L^z)+B[3]+3572445317&4294967295,V=q+(F<<16&4294967295|F>>>16),F=z+(V^q^L)+B[6]+76029189&4294967295,z=V+(F<<23&4294967295|F>>>9),F=L+(z^V^q)+B[9]+3654602809&4294967295,L=z+(F<<4&4294967295|F>>>28),F=q+(L^z^V)+B[12]+3873151461&4294967295,q=L+(F<<11&4294967295|F>>>21),F=V+(q^L^z)+B[15]+530742520&4294967295,V=q+(F<<16&4294967295|F>>>16),F=z+(V^q^L)+B[2]+3299628645&4294967295,z=V+(F<<23&4294967295|F>>>9),F=L+(V^(z|~q))+B[0]+4096336452&4294967295,L=z+(F<<6&4294967295|F>>>26),F=q+(z^(L|~V))+B[7]+1126891415&4294967295,q=L+(F<<10&4294967295|F>>>22),F=V+(L^(q|~z))+B[14]+2878612391&4294967295,V=q+(F<<15&4294967295|F>>>17),F=z+(q^(V|~L))+B[5]+4237533241&4294967295,z=V+(F<<21&4294967295|F>>>11),F=L+(V^(z|~q))+B[12]+1700485571&4294967295,L=z+(F<<6&4294967295|F>>>26),F=q+(z^(L|~V))+B[3]+2399980690&4294967295,q=L+(F<<10&4294967295|F>>>22),F=V+(L^(q|~z))+B[10]+4293915773&4294967295,V=q+(F<<15&4294967295|F>>>17),F=z+(q^(V|~L))+B[1]+2240044497&4294967295,z=V+(F<<21&4294967295|F>>>11),F=L+(V^(z|~q))+B[8]+1873313359&4294967295,L=z+(F<<6&4294967295|F>>>26),F=q+(z^(L|~V))+B[15]+4264355552&4294967295,q=L+(F<<10&4294967295|F>>>22),F=V+(L^(q|~z))+B[6]+2734768916&4294967295,V=q+(F<<15&4294967295|F>>>17),F=z+(q^(V|~L))+B[13]+1309151649&4294967295,z=V+(F<<21&4294967295|F>>>11),F=L+(V^(z|~q))+B[4]+4149444226&4294967295,L=z+(F<<6&4294967295|F>>>26),F=q+(z^(L|~V))+B[11]+3174756917&4294967295,q=L+(F<<10&4294967295|F>>>22),F=V+(L^(q|~z))+B[2]+718787259&4294967295,V=q+(F<<15&4294967295|F>>>17),F=z+(q^(V|~L))+B[9]+3951481745&4294967295,D.g[0]=D.g[0]+L&4294967295,D.g[1]=D.g[1]+(V+(F<<21&4294967295|F>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+q&4294967295}r.prototype.v=function(D,L){L===void 0&&(L=D.length);const z=L-this.blockSize,B=this.C;let V=this.h,q=0;for(;q<L;){if(V==0)for(;q<=z;)i(this,D,q),q+=this.blockSize;if(typeof D=="string"){for(;q<L;)if(B[V++]=D.charCodeAt(q++),V==this.blockSize){i(this,B),V=0;break}}else for(;q<L;)if(B[V++]=D[q++],V==this.blockSize){i(this,B),V=0;break}}this.h=V,this.o+=L},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var L=1;L<D.length-8;++L)D[L]=0;L=this.o*8;for(var z=D.length-8;z<D.length;++z)D[z]=L&255,L/=256;for(this.v(D),D=Array(16),L=0,z=0;z<4;++z)for(let B=0;B<32;B+=8)D[L++]=this.g[z]>>>B&255;return D};function o(D,L){var z=l;return Object.prototype.hasOwnProperty.call(z,D)?z[D]:z[D]=L(D)}function a(D,L){this.h=L;const z=[];let B=!0;for(let V=D.length-1;V>=0;V--){const q=D[V]|0;B&&q==L||(z[V]=q,B=!1)}this.g=z}var l={};function u(D){return-128<=D&&D<128?o(D,function(L){return new a([L|0],L<0?-1:0)}):new a([D|0],D<0?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return h;if(D<0)return _(d(-D));const L=[];let z=1;for(let B=0;D>=z;B++)L[B]=D/z|0,z*=4294967296;return new a(L,0)}function p(D,L){if(D.length==0)throw Error("number format error: empty string");if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(D.charAt(0)=="-")return _(p(D.substring(1),L));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const z=d(Math.pow(L,8));let B=h;for(let q=0;q<D.length;q+=8){var V=Math.min(8,D.length-q);const F=parseInt(D.substring(q,q+V),L);V<8?(V=d(Math.pow(L,V)),B=B.j(V).add(d(F))):(B=B.j(z),B=B.add(d(F)))}return B}var h=u(0),y=u(1),b=u(16777216);t=a.prototype,t.m=function(){if(S(this))return-_(this).m();let D=0,L=1;for(let z=0;z<this.g.length;z++){const B=this.i(z);D+=(B>=0?B:4294967296+B)*L,L*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(S(this))return"-"+_(this).toString(D);const L=d(Math.pow(D,6));var z=this;let B="";for(;;){const V=O(z,L).g;z=C(z,V.j(L));let q=((z.g.length>0?z.g[0]:z.h)>>>0).toString(D);if(z=V,E(z))return q+B;for(;q.length<6;)q="0"+q;B=q+B}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(let L=0;L<D.g.length;L++)if(D.g[L]!=0)return!1;return!0}function S(D){return D.h==-1}t.l=function(D){return D=C(this,D),S(D)?-1:E(D)?0:1};function _(D){const L=D.g.length,z=[];for(let B=0;B<L;B++)z[B]=~D.g[B];return new a(z,~D.h).add(y)}t.abs=function(){return S(this)?_(this):this},t.add=function(D){const L=Math.max(this.g.length,D.g.length),z=[];let B=0;for(let V=0;V<=L;V++){let q=B+(this.i(V)&65535)+(D.i(V)&65535),F=(q>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);B=F>>>16,q&=65535,F&=65535,z[V]=F<<16|q}return new a(z,z[z.length-1]&-2147483648?-1:0)};function C(D,L){return D.add(_(L))}t.j=function(D){if(E(this)||E(D))return h;if(S(this))return S(D)?_(this).j(_(D)):_(_(this).j(D));if(S(D))return _(this.j(_(D)));if(this.l(b)<0&&D.l(b)<0)return d(this.m()*D.m());const L=this.g.length+D.g.length,z=[];for(var B=0;B<2*L;B++)z[B]=0;for(B=0;B<this.g.length;B++)for(let V=0;V<D.g.length;V++){const q=this.i(B)>>>16,F=this.i(B)&65535,oe=D.i(V)>>>16,Z=D.i(V)&65535;z[2*B+2*V]+=F*Z,R(z,2*B+2*V),z[2*B+2*V+1]+=q*Z,R(z,2*B+2*V+1),z[2*B+2*V+1]+=F*oe,R(z,2*B+2*V+1),z[2*B+2*V+2]+=q*oe,R(z,2*B+2*V+2)}for(D=0;D<L;D++)z[D]=z[2*D+1]<<16|z[2*D];for(D=L;D<2*L;D++)z[D]=0;return new a(z,0)};function R(D,L){for(;(D[L]&65535)!=D[L];)D[L+1]+=D[L]>>>16,D[L]&=65535,L++}function I(D,L){this.g=D,this.h=L}function O(D,L){if(E(L))throw Error("division by zero");if(E(D))return new I(h,h);if(S(D))return L=O(_(D),L),new I(_(L.g),_(L.h));if(S(L))return L=O(D,_(L)),new I(_(L.g),L.h);if(D.g.length>30){if(S(D)||S(L))throw Error("slowDivide_ only works with positive integers.");for(var z=y,B=L;B.l(D)<=0;)z=U(z),B=U(B);var V=M(z,1),q=M(B,1);for(B=M(B,2),z=M(z,2);!E(B);){var F=q.add(B);F.l(D)<=0&&(V=V.add(z),q=F),B=M(B,1),z=M(z,1)}return L=C(D,V.j(L)),new I(V,L)}for(V=h;D.l(L)>=0;){for(z=Math.max(1,Math.floor(D.m()/L.m())),B=Math.ceil(Math.log(z)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),q=d(z),F=q.j(L);S(F)||F.l(D)>0;)z-=B,q=d(z),F=q.j(L);E(q)&&(q=y),V=V.add(q),D=C(D,F)}return new I(V,D)}t.B=function(D){return O(this,D).h},t.and=function(D){const L=Math.max(this.g.length,D.g.length),z=[];for(let B=0;B<L;B++)z[B]=this.i(B)&D.i(B);return new a(z,this.h&D.h)},t.or=function(D){const L=Math.max(this.g.length,D.g.length),z=[];for(let B=0;B<L;B++)z[B]=this.i(B)|D.i(B);return new a(z,this.h|D.h)},t.xor=function(D){const L=Math.max(this.g.length,D.g.length),z=[];for(let B=0;B<L;B++)z[B]=this.i(B)^D.i(B);return new a(z,this.h^D.h)};function U(D){const L=D.g.length+1,z=[];for(let B=0;B<L;B++)z[B]=D.i(B)<<1|D.i(B-1)>>>31;return new a(z,D.h)}function M(D,L){const z=L>>5;L%=32;const B=D.g.length-z,V=[];for(let q=0;q<B;q++)V[q]=L>0?D.i(q+z)>>>L|D.i(q+z+1)<<32-L:D.i(q+z);return new a(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,r8=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=p,tc=a}).apply(typeof K5<"u"?K5:typeof self<"u"?self:typeof window<"u"?window:{});var Xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i8,uh,o8,bb,FE,a8,s8,l8;(function(){var t,e=Object.defineProperty;function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xy=="object"&&Xy];for(var N=0;N<x.length;++N){var j=x[N];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(x,N){if(N)e:{var j=r;x=x.split(".");for(var K=0;K<x.length-1;K++){var se=x[K];if(!(se in j))break e;j=j[se]}x=x[x.length-1],K=j[x],N=N(K),N!=K&&N!=null&&e(j,x,{configurable:!0,writable:!0,value:N})}}i("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(x){return x||function(N){var j=[],K;for(K in N)Object.prototype.hasOwnProperty.call(N,K)&&j.push([K,N[K]]);return j}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(x){var N=typeof x;return N=="object"&&x!=null||N=="function"}function u(x,N,j){return x.call.apply(x.bind,arguments)}function d(x,N,j){return d=u,d.apply(null,arguments)}function p(x,N){var j=Array.prototype.slice.call(arguments,1);return function(){var K=j.slice();return K.push.apply(K,arguments),x.apply(this,K)}}function h(x,N){function j(){}j.prototype=N.prototype,x.Z=N.prototype,x.prototype=new j,x.prototype.constructor=x,x.Ob=function(K,se,ge){for(var Pe=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)Pe[lt-2]=arguments[lt];return N.prototype[se].apply(K,Pe)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function b(x){const N=x.length;if(N>0){const j=Array(N);for(let K=0;K<N;K++)j[K]=x[K];return j}return[]}function E(x,N){for(let K=1;K<arguments.length;K++){const se=arguments[K];var j=typeof se;if(j=j!="object"?j:se?Array.isArray(se)?"array":j:"null",j=="array"||j=="object"&&typeof se.length=="number"){j=x.length||0;const ge=se.length||0;x.length=j+ge;for(let Pe=0;Pe<ge;Pe++)x[j+Pe]=se[Pe]}else x.push(se)}}class S{constructor(N,j){this.i=N,this.j=j,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function _(x){a.setTimeout(()=>{throw x},0)}function C(){var x=D;let N=null;return x.g&&(N=x.g,x.g=x.g.next,x.g||(x.h=null),N.next=null),N}class R{constructor(){this.h=this.g=null}add(N,j){const K=I.get();K.set(N,j),this.h?this.h.next=K:this.g=K,this.h=K}}var I=new S(()=>new O,x=>x.reset());class O{constructor(){this.next=this.g=this.h=null}set(N,j){this.h=N,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let U,M=!1,D=new R,L=()=>{const x=Promise.resolve(void 0);U=()=>{x.then(z)}};function z(){for(var x;x=C();){try{x.h.call(x.g)}catch(j){_(j)}var N=I;N.j(x),N.h<100&&(N.h++,x.next=N.g,N.g=x)}M=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(x,N){this.type=x,this.g=this.target=N,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var x=!1,N=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const j=()=>{};a.addEventListener("test",j,N),a.removeEventListener("test",j,N)}catch{}return x})();function F(x){return/^[\s\xa0]*$/.test(x)}function oe(x,N){V.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,N)}h(oe,V),oe.prototype.init=function(x,N){const j=this.type=x.type,K=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=N,N=x.relatedTarget,N||(j=="mouseover"?N=x.fromElement:j=="mouseout"&&(N=x.toElement)),this.relatedTarget=N,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var Z="closure_listenable_"+(Math.random()*1e6|0),X=0;function J(x,N,j,K,se){this.listener=x,this.proxy=null,this.src=N,this.type=j,this.capture=!!K,this.ha=se,this.key=++X,this.da=this.fa=!1}function ie(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function te(x,N,j){for(const K in x)N.call(j,x[K],K,x)}function G(x,N){for(const j in x)N.call(void 0,x[j],j,x)}function W(x){const N={};for(const j in x)N[j]=x[j];return N}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(x,N){let j,K;for(let se=1;se<arguments.length;se++){K=arguments[se];for(j in K)x[j]=K[j];for(let ge=0;ge<Y.length;ge++)j=Y[ge],Object.prototype.hasOwnProperty.call(K,j)&&(x[j]=K[j])}}function fe(x){this.src=x,this.g={},this.h=0}fe.prototype.add=function(x,N,j,K,se){const ge=x.toString();x=this.g[ge],x||(x=this.g[ge]=[],this.h++);const Pe=we(x,N,K,se);return Pe>-1?(N=x[Pe],j||(N.fa=!1)):(N=new J(N,this.src,ge,!!K,se),N.fa=j,x.push(N)),N};function Se(x,N){const j=N.type;if(j in x.g){var K=x.g[j],se=Array.prototype.indexOf.call(K,N,void 0),ge;(ge=se>=0)&&Array.prototype.splice.call(K,se,1),ge&&(ie(N),x.g[j].length==0&&(delete x.g[j],x.h--))}}function we(x,N,j,K){for(let se=0;se<x.length;++se){const ge=x[se];if(!ge.da&&ge.listener==N&&ge.capture==!!j&&ge.ha==K)return se}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),Ue={};function ae(x,N,j,K,se){if(Array.isArray(N)){for(let ge=0;ge<N.length;ge++)ae(x,N[ge],j,K,se);return null}return j=hr(j),x&&x[Z]?x.J(N,j,l(K)?!!K.capture:!1,se):Ae(x,N,j,!1,K,se)}function Ae(x,N,j,K,se,ge){if(!N)throw Error("Invalid event type");const Pe=l(se)?!!se.capture:!!se;let lt=_t(x);if(lt||(x[Ce]=lt=new fe(x)),j=lt.add(N,j,K,Pe,ge),j.proxy)return j;if(K=qe(),j.proxy=K,K.src=x,K.listener=j,x.addEventListener)q||(se=Pe),se===void 0&&(se=!1),x.addEventListener(N.toString(),K,se);else if(x.attachEvent)x.attachEvent(Fe(N.toString()),K);else if(x.addListener&&x.removeListener)x.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return j}function qe(){function x(j){return N.call(x.src,x.listener,j)}const N=kt;return x}function ve(x,N,j,K,se){if(Array.isArray(N))for(var ge=0;ge<N.length;ge++)ve(x,N[ge],j,K,se);else K=l(K)?!!K.capture:!!K,j=hr(j),x&&x[Z]?(x=x.i,ge=String(N).toString(),ge in x.g&&(N=x.g[ge],j=we(N,j,K,se),j>-1&&(ie(N[j]),Array.prototype.splice.call(N,j,1),N.length==0&&(delete x.g[ge],x.h--)))):x&&(x=_t(x))&&(N=x.g[N.toString()],x=-1,N&&(x=we(N,j,K,se)),(j=x>-1?N[x]:null)&&at(j))}function at(x){if(typeof x!="number"&&x&&!x.da){var N=x.src;if(N&&N[Z])Se(N.i,x);else{var j=x.type,K=x.proxy;N.removeEventListener?N.removeEventListener(j,K,x.capture):N.detachEvent?N.detachEvent(Fe(j),K):N.addListener&&N.removeListener&&N.removeListener(K),(j=_t(N))?(Se(j,x),j.h==0&&(j.src=null,N[Ce]=null)):ie(x)}}}function Fe(x){return x in Ue?Ue[x]:Ue[x]="on"+x}function kt(x,N){if(x.da)x=!0;else{N=new oe(N,this);const j=x.listener,K=x.ha||x.src;x.fa&&at(x),x=j.call(K,N)}return x}function _t(x){return x=x[Ce],x instanceof fe?x:null}var Wt="__closure_events_fn_"+(Math.random()*1e9>>>0);function hr(x){return typeof x=="function"?x:(x[Wt]||(x[Wt]=function(N){return x.handleEvent(N)}),x[Wt])}function Ct(){B.call(this),this.i=new fe(this),this.M=this,this.G=null}h(Ct,B),Ct.prototype[Z]=!0,Ct.prototype.removeEventListener=function(x,N,j,K){ve(this,x,N,j,K)};function mt(x,N){var j,K=x.G;if(K)for(j=[];K;K=K.G)j.push(K);if(x=x.M,K=N.type||N,typeof N=="string")N=new V(N,x);else if(N instanceof V)N.target=N.target||x;else{var se=N;N=new V(K,x),H(N,se)}se=!0;let ge,Pe;if(j)for(Pe=j.length-1;Pe>=0;Pe--)ge=N.g=j[Pe],se=ke(ge,K,!0,N)&&se;if(ge=N.g=x,se=ke(ge,K,!0,N)&&se,se=ke(ge,K,!1,N)&&se,j)for(Pe=0;Pe<j.length;Pe++)ge=N.g=j[Pe],se=ke(ge,K,!1,N)&&se}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var x=this.i;for(const N in x.g){const j=x.g[N];for(let K=0;K<j.length;K++)ie(j[K]);delete x.g[N],x.h--}}this.G=null},Ct.prototype.J=function(x,N,j,K){return this.i.add(String(x),N,!1,j,K)},Ct.prototype.K=function(x,N,j,K){return this.i.add(String(x),N,!0,j,K)};function ke(x,N,j,K){if(N=x.i.g[String(N)],!N)return!0;N=N.concat();let se=!0;for(let ge=0;ge<N.length;++ge){const Pe=N[ge];if(Pe&&!Pe.da&&Pe.capture==j){const lt=Pe.listener,Dn=Pe.ha||Pe.src;Pe.fa&&Se(x.i,Pe),se=lt.call(Dn,K)!==!1&&se}}return se&&!K.defaultPrevented}function Oe(x,N){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=d(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:a.setTimeout(x,N||0)}function de(x){x.g=Oe(()=>{x.g=null,x.i&&(x.i=!1,de(x))},x.l);const N=x.h;x.h=null,x.m.apply(null,N)}class Ne extends B{constructor(N,j){super(),this.m=N,this.l=j,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:de(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(x){B.call(this),this.h=x,this.g={}}h(le,B);var ee=[];function he(x){te(x.g,function(N,j){this.g.hasOwnProperty(j)&&at(N)},x),x.g={}}le.prototype.N=function(){le.Z.N.call(this),he(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var De=a.JSON.stringify,ze=a.JSON.parse,Me=class{stringify(x){return a.JSON.stringify(x,void 0)}parse(x){return a.JSON.parse(x,void 0)}};function Xe(){}function Ut(){}var Yt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Et(){V.call(this,"d")}h(Et,V);function hn(){V.call(this,"c")}h(hn,V);var pt={},Li=null;function rr(){return Li=Li||new Ct}pt.Ia="serverreachability";function ju(x){V.call(this,pt.Ia,x)}h(ju,V);function io(x){const N=rr();mt(N,new ju(N))}pt.STAT_EVENT="statevent";function es(x,N){V.call(this,pt.STAT_EVENT,x),this.stat=N}h(es,V);function ft(x){const N=rr();mt(N,new es(N,x))}pt.Ja="timingevent";function gn(x,N){V.call(this,pt.Ja,x),this.size=N}h(gn,V);function mn(x,N){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){x()},N)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Vr(x,N,j,K,se,ge){x.info(function(){if(x.g)if(ge){var Pe="",lt=ge.split("&");for(let Dt=0;Dt<lt.length;Dt++){var Dn=lt[Dt].split("=");if(Dn.length>1){const yn=Dn[0];Dn=Dn[1];const lo=yn.split("_");Pe=lo.length>=2&&lo[1]=="type"?Pe+(yn+"="+Dn+"&"):Pe+(yn+"=redacted&")}}}else Pe=null;else Pe=ge;return"XMLHTTP REQ ("+K+") [attempt "+se+"]: "+N+`
`+j+`
`+Pe})}function gr(x,N,j,K,se,ge,Pe){x.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+se+"]: "+N+`
`+j+`
`+ge+" "+Pe})}function On(x,N,j,K){x.info(function(){return"XMLHTTP TEXT ("+N+"): "+Pn(x,j)+(K?" "+K:"")})}function mi(x,N){x.info(function(){return"TIMEOUT: "+N})}Bn.prototype.info=function(){};function Pn(x,N){if(!x.g)return N;if(!N)return null;try{const ge=JSON.parse(N);if(ge){for(x=0;x<ge.length;x++)if(Array.isArray(ge[x])){var j=ge[x];if(!(j.length<2)){var K=j[1];if(Array.isArray(K)&&!(K.length<1)){var se=K[0];if(se!="noop"&&se!="stop"&&se!="close")for(let Pe=1;Pe<K.length;Pe++)K[Pe]=""}}}}return De(ge)}catch{return N}}var Fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Br={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ti;function ji(){}h(ji,Xe),ji.prototype.g=function(){return new XMLHttpRequest},ti=new ji;function ni(x){return encodeURIComponent(String(x))}function Ui(x){var N=1;x=x.split(":");const j=[];for(;N>0&&x.length;)j.push(x.shift()),N--;return x.length&&j.push(x.join(":")),j}function Cr(x,N,j,K){this.j=x,this.i=N,this.l=j,this.S=K||1,this.V=new le(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var qn={},mr={};function ca(x,N,j){x.M=1,x.A=Tc(Hn(N)),x.u=j,x.R=!0,Uu(x,null)}function Uu(x,N){x.F=Date.now(),ua(x),x.B=Hn(x.A);var j=x.B,K=x.S;Array.isArray(K)||(K=[String(K)]),qu(j.i,"t",K),x.C=0,j=x.j.L,x.h=new ri,x.g=Tm(x.j,j?N:null,!x.u),x.P>0&&(x.O=new Ne(d(x.Y,x,x.g),x.P)),N=x.V,j=x.g,K=x.ba;var se="readystatechange";Array.isArray(se)||(se&&(ee[0]=se.toString()),se=ee);for(let ge=0;ge<se.length;ge++){const Pe=ae(j,se[ge],K||N.handleEvent,!1,N.h||N);if(!Pe)break;N.g[Pe.key]=Pe}N=x.J?W(x.J):{},x.u?(x.v||(x.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,N)):(x.v="GET",x.g.ea(x.B,x.v,null,N)),io(),Vr(x.i,x.v,x.B,x.l,x.S,x.u)}Cr.prototype.ba=function(x){x=x.target;const N=this.O;N&&jo(x)==3?N.j():this.Y(x)},Cr.prototype.Y=function(x){try{if(x==this.g)e:{const lt=jo(this.g),Dn=this.g.ya(),Dt=this.g.ca();if(!(lt<3)&&(lt!=3||this.g&&(this.h.h||this.g.la()||Ir(this.g)))){this.K||lt!=4||Dn==7||(Dn==8||Dt<=0?io(3):io(2)),da(this);var N=this.g.ca();this.X=N;var j=Xw(this);if(this.o=N==200,gr(this.i,this.v,this.B,this.l,this.S,lt,N),this.o){if(this.U&&!this.L){t:{if(this.g){var K,se=this.g;if((K=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(K)){var ge=K;break t}}ge=null}if(x=ge)On(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pa(this,x);else{this.o=!1,this.m=3,ft(12),Vi(this),oo(this);break e}}if(this.R){x=!0;let yn;for(;!this.K&&this.C<j.length;)if(yn=dm(this,j),yn==mr){lt==4&&(this.m=4,ft(14),x=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==qn){this.m=4,ft(15),On(this.i,this.l,j,"[Invalid Chunk]"),x=!1;break}else On(this.i,this.l,yn,null),pa(this,yn);if(um(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||j.length!=0||this.h.h||(this.m=1,ft(16),x=!1),this.o=this.o&&x,!x)On(this.i,this.l,j,"[Invalid Chunked Response]"),Vi(this),oo(this);else if(j.length>0&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.aa&&!Pe.P&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),of(Pe),Pe.P=!0,ft(11))}}else On(this.i,this.l,j,null),pa(this,j);lt==4&&Vi(this),this.o&&!this.K&&(lt==4?wm(this.j,this):(this.o=!1,ua(this)))}else ns(this.g),N==400&&j.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),Vi(this),oo(this)}}}catch{}finally{}};function Xw(x){if(!um(x))return x.g.la();const N=Ir(x.g);if(N==="")return"";let j="";const K=N.length,se=jo(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return Vi(x),oo(x),"";x.h.i=new a.TextDecoder}for(let ge=0;ge<K;ge++)x.h.h=!0,j+=x.h.i.decode(N[ge],{stream:!(se&&ge==K-1)});return N.length=0,x.h.g+=j,x.C=0,x.h.g}function um(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function dm(x,N){var j=x.C,K=N.indexOf(`
`,j);return K==-1?mr:(j=Number(N.substring(j,K)),isNaN(j)?qn:(K+=1,K+j>N.length?mr:(N=N.slice(K,K+j),x.C=K+j,N)))}Cr.prototype.cancel=function(){this.K=!0,Vi(this)};function ua(x){x.T=Date.now()+x.H,Vu(x,x.H)}function Vu(x,N){if(x.D!=null)throw Error("WatchDog timer not null");x.D=mn(d(x.aa,x),N)}function da(x){x.D&&(a.clearTimeout(x.D),x.D=null)}Cr.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(mi(this.i,this.B),this.M!=2&&(io(),ft(17)),Vi(this),this.m=2,oo(this)):Vu(this,this.T-x)};function oo(x){x.j.I==0||x.K||wm(x.j,x)}function Vi(x){da(x);var N=x.O;N&&typeof N.dispose=="function"&&N.dispose(),x.O=null,he(x.V),x.g&&(N=x.g,x.g=null,N.abort(),N.dispose())}function pa(x,N){try{var j=x.j;if(j.I!=0&&(j.g==x||ha(j.h,x))){if(!x.L&&ha(j.h,x)&&j.I==3){try{var K=j.Ba.g.parse(N)}catch{K=null}if(Array.isArray(K)&&K.length==3){var se=K;if(se[0]==0){e:if(!j.v){if(j.g)if(j.g.F+3e3<x.F)Wu(j),cl(j);else break e;Rc(j),ft(18)}}else j.xa=se[1],0<j.xa-j.K&&se[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=mn(d(j.Va,j),6e3));fa(j.h)<=1&&j.ta&&(j.ta=void 0)}else wa(j,11)}else if((x.L||j.g==x)&&Wu(j),!F(N))for(se=j.Ba.g.parse(N),N=0;N<se.length;N++){let Dt=se[N];const yn=Dt[0];if(!(yn<=j.K))if(j.K=yn,Dt=Dt[1],j.I==2)if(Dt[0]=="c"){j.M=Dt[1],j.ba=Dt[2];const lo=Dt[3];lo!=null&&(j.ka=lo,j.j.info("VER="+j.ka));const xa=Dt[4];xa!=null&&(j.za=xa,j.j.info("SVER="+j.za));const Uo=Dt[5];Uo!=null&&typeof Uo=="number"&&Uo>0&&(K=1.5*Uo,j.O=K,j.j.info("backChannelRequestTimeoutMs_="+K)),K=j;const Vo=x.g;if(Vo){const Oc=Vo.g?Vo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oc){var ge=K.h;ge.g||Oc.indexOf("spdy")==-1&&Oc.indexOf("quic")==-1&&Oc.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(Gp(ge,ge.h),ge.h=null))}if(K.G){const Yu=Vo.g?Vo.g.getResponseHeader("X-HTTP-Session-Id"):null;Yu&&(K.wa=Yu,qt(K.J,K.G,Yu))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-x.F,j.j.info("Handshake RTT: "+j.T+"ms")),K=j;var Pe=x;if(K.na=_m(K,K.L?K.ba:null,K.W),Pe.L){Kp(K.h,Pe);var lt=Pe,Dn=K.O;Dn&&(lt.H=Dn),lt.D&&(da(lt),ua(lt)),K.g=Pe}else bm(K);j.i.length>0&&va(j)}else Dt[0]!="stop"&&Dt[0]!="close"||wa(j,7);else j.I==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?wa(j,7):nf(j):Dt[0]!="noop"&&j.l&&j.l.qa(Dt),j.A=0)}}io(4)}catch{}}var $n=class{constructor(x,N){this.g=x,this.map=N}};function $p(x){this.l=x||10,a.PerformanceNavigationTiming?(x=a.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hp(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function fa(x){return x.h?1:x.g?x.g.size:0}function ha(x,N){return x.h?x.h==N:x.g?x.g.has(N):!1}function Gp(x,N){x.g?x.g.add(N):x.h=N}function Kp(x,N){x.h&&x.h==N?x.h=null:x.g&&x.g.has(N)&&x.g.delete(N)}$p.prototype.cancel=function(){if(this.i=Wp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function Wp(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let N=x.i;for(const j of x.g.values())N=N.concat(j.G);return N}return b(x.i)}var pm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fu(x,N){if(x){x=x.split("&");for(let j=0;j<x.length;j++){const K=x[j].indexOf("=");let se,ge=null;K>=0?(se=x[j].substring(0,K),ge=x[j].substring(K+1)):se=x[j],N(se,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function Fi(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;x instanceof Fi?(this.l=x.l,yr(this,x.j),this.o=x.o,this.g=x.g,nl(this,x.u),this.h=x.h,Yp(this,mm(x.i)),this.m=x.m):x&&(N=String(x).match(pm))?(this.l=!1,yr(this,N[1]||"",!0),this.o=ga(N[2]||""),this.g=ga(N[3]||"",!0),nl(this,N[4]),this.h=ga(N[5]||"",!0),Yp(this,N[6]||"",!0),this.m=ga(N[7]||"")):(this.l=!1,this.i=new il(null,this.l))}Fi.prototype.toString=function(){const x=[];var N=this.j;N&&x.push(Ec(N,Bu,!0),":");var j=this.g;return(j||N=="file")&&(x.push("//"),(N=this.o)&&x.push(Ec(N,Bu,!0),"@"),x.push(ni(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&x.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&x.push("/"),x.push(Ec(j,j.charAt(0)=="/"?Jp:fm,!0))),(j=this.i.toString())&&x.push("?",j),(j=this.m)&&x.push("#",Ec(j,hm)),x.join("")},Fi.prototype.resolve=function(x){const N=Hn(this);let j=!!x.j;j?yr(N,x.j):j=!!x.o,j?N.o=x.o:j=!!x.g,j?N.g=x.g:j=x.u!=null;var K=x.h;if(j)nl(N,x.u);else if(j=!!x.h){if(K.charAt(0)!="/")if(this.g&&!this.h)K="/"+K;else{var se=N.h.lastIndexOf("/");se!=-1&&(K=N.h.slice(0,se+1)+K)}if(se=K,se==".."||se==".")K="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){K=se.lastIndexOf("/",0)==0,se=se.split("/");const ge=[];for(let Pe=0;Pe<se.length;){const lt=se[Pe++];lt=="."?K&&Pe==se.length&&ge.push(""):lt==".."?((ge.length>1||ge.length==1&&ge[0]!="")&&ge.pop(),K&&Pe==se.length&&ge.push("")):(ge.push(lt),K=!0)}K=ge.join("/")}else K=se}return j?N.h=K:j=x.i.toString()!=="",j?Yp(N,mm(x.i)):j=!!x.m,j&&(N.m=x.m),N};function Hn(x){return new Fi(x)}function yr(x,N,j){x.j=j?ga(N,!0):N,x.j&&(x.j=x.j.replace(/:$/,""))}function nl(x,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);x.u=N}else x.u=null}function Yp(x,N,j){N instanceof il?(x.i=N,$u(x.i,x.l)):(j||(N=Ec(N,rl)),x.i=new il(N,x.l))}function qt(x,N,j){x.i.set(N,j)}function Tc(x){return qt(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function ga(x,N){return x?N?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function Ec(x,N,j){return typeof x=="string"?(x=encodeURI(x).replace(N,yi),j&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function yi(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var Bu=/[#\/\?@]/g,fm=/[#\?:]/g,Jp=/[#\?]/g,rl=/[#\?@]/g,hm=/#/g;function il(x,N){this.h=this.g=null,this.i=x||null,this.j=!!N}function bi(x){x.g||(x.g=new Map,x.h=0,x.i&&Fu(x.i,function(N,j){x.add(decodeURIComponent(N.replace(/\+/g," ")),j)}))}t=il.prototype,t.add=function(x,N){bi(this),this.i=null,x=ol(this,x);let j=this.g.get(x);return j||this.g.set(x,j=[]),j.push(N),this.h+=1,this};function gm(x,N){bi(x),N=ol(x,N),x.g.has(N)&&(x.i=null,x.h-=x.g.get(N).length,x.g.delete(N))}function Xp(x,N){return bi(x),N=ol(x,N),x.g.has(N)}t.forEach=function(x,N){bi(this),this.g.forEach(function(j,K){j.forEach(function(se){x.call(N,se,K,this)},this)},this)};function Qp(x,N){bi(x);let j=[];if(typeof N=="string")Xp(x,N)&&(j=j.concat(x.g.get(ol(x,N))));else for(x=Array.from(x.g.values()),N=0;N<x.length;N++)j=j.concat(x[N]);return j}t.set=function(x,N){return bi(this),this.i=null,x=ol(this,x),Xp(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[N]),this.h+=1,this},t.get=function(x,N){return x?(x=Qp(this,x),x.length>0?String(x[0]):N):N};function qu(x,N,j){gm(x,N),j.length>0&&(x.i=null,x.g.set(ol(x,N),b(j)),x.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],N=Array.from(this.g.keys());for(let K=0;K<N.length;K++){var j=N[K];const se=ni(j);j=Qp(this,j);for(let ge=0;ge<j.length;ge++){let Pe=se;j[ge]!==""&&(Pe+="="+ni(j[ge])),x.push(Pe)}}return this.i=x.join("&")};function mm(x){const N=new il;return N.i=x.i,x.g&&(N.g=new Map(x.g),N.h=x.h),N}function ol(x,N){return N=String(N),x.j&&(N=N.toLowerCase()),N}function $u(x,N){N&&!x.j&&(bi(x),x.i=null,x.g.forEach(function(j,K){const se=K.toLowerCase();K!=se&&(gm(this,K),qu(this,se,j))},x)),x.j=N}function zo(x,N){const j=new Bn;if(a.Image){const K=new Image;K.onload=p(ao,j,"TestLoadImage: loaded",!0,N,K),K.onerror=p(ao,j,"TestLoadImage: error",!1,N,K),K.onabort=p(ao,j,"TestLoadImage: abort",!1,N,K),K.ontimeout=p(ao,j,"TestLoadImage: timeout",!1,N,K),a.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=x}else N(!1)}function Zp(x,N){const j=new Bn,K=new AbortController,se=setTimeout(()=>{K.abort(),ao(j,"TestPingServer: timeout",!1,N)},1e4);fetch(x,{signal:K.signal}).then(ge=>{clearTimeout(se),ge.ok?ao(j,"TestPingServer: ok",!0,N):ao(j,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(se),ao(j,"TestPingServer: error",!1,N)})}function ao(x,N,j,K,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),K(j)}catch{}}function al(){this.g=new Me}function ma(x){this.i=x.Sb||null,this.h=x.ab||!1}h(ma,Xe),ma.prototype.g=function(){return new Sc(this.i,this.h)};function Sc(x,N){Ct.call(this),this.H=x,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Sc,Ct),t=Sc.prototype,t.open=function(x,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=N,this.readyState=1,Lo(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(N.body=x),(this.H||a).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sl(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Lo(this)),this.g&&(this.readyState=3,Lo(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hu(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hu(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var N=x.value?x.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!x.done}))&&(this.response=this.responseText+=N)}x.done?sl(this):Lo(this),this.readyState==3&&Hu(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,sl(this))},t.Na=function(x){this.g&&(this.response=x,sl(this))},t.ga=function(){this.g&&sl(this)};function sl(x){x.readyState=4,x.l=null,x.j=null,x.B=null,Lo(x)}t.setRequestHeader=function(x,N){this.A.append(x,N)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],N=this.h.entries();for(var j=N.next();!j.done;)j=j.value,x.push(j[0]+": "+j[1]),j=N.next();return x.join(`\r
`)};function Lo(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(Sc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function so(x){let N="";return te(x,function(j,K){N+=K,N+=":",N+=j,N+=`\r
`}),N}function Ac(x,N,j){e:{for(K in j){var K=!1;break e}K=!0}K||(j=so(j),typeof x=="string"?j!=null&&ni(j):qt(x,N,j))}function Jt(x){Ct.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Jt,Ct);var ya=/^https?$/i,ef=["POST","PUT"];t=Jt.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,N,j,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);N=N?N.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ti.g(),this.g.onreadystatechange=y(d(this.Ca,this));try{this.B=!0,this.g.open(N,String(x),!0),this.B=!1}catch(ge){Cc(this,ge);return}if(x=j||"",j=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var se in K)j.set(se,K[se]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const ge of K.keys())j.set(ge,K.get(ge));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(j.keys()).find(ge=>ge.toLowerCase()=="content-type"),se=a.FormData&&x instanceof a.FormData,!(Array.prototype.indexOf.call(ef,N,void 0)>=0)||K||se||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Pe]of j)this.g.setRequestHeader(ge,Pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(ge){Cc(this,ge)}};function Cc(x,N){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=N,x.o=5,tf(x),ts(x)}function tf(x){x.A||(x.A=!0,mt(x,"complete"),mt(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,mt(this,"complete"),mt(this,"abort"),ts(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),Jt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ic(this):this.Xa())},t.Xa=function(){Ic(this)};function Ic(x){if(x.h&&typeof o<"u"){if(x.v&&jo(x)==4)setTimeout(x.Ca.bind(x),0);else if(mt(x,"readystatechange"),jo(x)==4){x.h=!1;try{const ge=x.ca();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var j;if(!(j=N)){var K;if(K=ge===0){let Pe=String(x.D).match(pm)[1]||null;!Pe&&a.self&&a.self.location&&(Pe=a.self.location.protocol.slice(0,-1)),K=!ya.test(Pe?Pe.toLowerCase():"")}j=K}if(j)mt(x,"complete"),mt(x,"success");else{x.o=6;try{var se=jo(x)>2?x.g.statusText:""}catch{se=""}x.l=se+" ["+x.ca()+"]",tf(x)}}finally{ts(x)}}}}function ts(x,N){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const j=x.g;x.g=null,N||mt(x,"ready");try{j.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function jo(x){return x.g?x.g.readyState:0}t.ca=function(){try{return jo(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var N=this.g.responseText;return x&&N.indexOf(x)==0&&(N=N.substring(x.length)),ze(N)}};function Ir(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(x){const N={};x=(x.g&&jo(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<x.length;K++){if(F(x[K]))continue;var j=Ui(x[K]);const se=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const ge=N[se]||[];N[se]=ge,ge.push(j)}G(N,function(K){return K.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ba(x,N,j){return j&&j.internalChannelParams&&j.internalChannelParams[x]||N}function ll(x){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ba("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ba("baseRetryDelayMs",5e3,x),this.Za=ba("retryDelaySeedMs",1e4,x),this.Ta=ba("forwardChannelMaxRetries",2,x),this.va=ba("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new $p(x&&x.concurrentRequestLimit),this.Ba=new al,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ll.prototype,t.ka=8,t.I=1,t.connect=function(x,N,j,K){ft(0),this.W=x,this.H=N||{},j&&K!==void 0&&(this.H.OSID=j,this.H.OAID=K),this.F=this.X,this.J=_m(this,null,this.W),va(this)};function nf(x){if(Gu(x),x.I==3){var N=x.V++,j=Hn(x.J);if(qt(j,"SID",x.M),qt(j,"RID",N),qt(j,"TYPE","terminate"),Nc(x,j),N=new Cr(x,x.j,N),N.M=2,N.A=Tc(Hn(j)),j=!1,a.navigator&&a.navigator.sendBeacon)try{j=a.navigator.sendBeacon(N.A.toString(),"")}catch{}!j&&a.Image&&(new Image().src=N.A,j=!0),j||(N.g=Tm(N.j,null),N.g.ea(N.A)),N.F=Date.now(),ua(N)}km(x)}function cl(x){x.g&&(of(x),x.g.cancel(),x.g=null)}function Gu(x){cl(x),x.v&&(a.clearTimeout(x.v),x.v=null),Wu(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&a.clearTimeout(x.m),x.m=null)}function va(x){if(!Hp(x.h)&&!x.m){x.m=!0;var N=x.Ea;U||L(),M||(U(),M=!0),D.add(N,x),x.D=0}}function Ku(x,N){return fa(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=N.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=mn(d(x.Ea,x,N),xm(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const se=new Cr(this,this.j,x);let ge=this.o;if(this.U&&(ge?(ge=W(ge),H(ge,this.U)):ge=this.U),this.u!==null||this.R||(se.J=ge,ge=null),this.S)e:{for(var N=0,j=0;j<this.i.length;j++){t:{var K=this.i[j];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(N+=K,N>4096){N=j;break e}if(N===4096||j===this.i.length-1){N=j+1;break e}}N=1e3}else N=1e3;N=ym(this,se,N),j=Hn(this.J),qt(j,"RID",x),qt(j,"CVER",22),this.G&&qt(j,"X-HTTP-Session-Id",this.G),Nc(this,j),ge&&(this.R?N="headers="+ni(so(ge))+"&"+N:this.u&&Ac(j,this.u,ge)),Gp(this.h,se),this.Ra&&qt(j,"TYPE","init"),this.S?(qt(j,"$req",N),qt(j,"SID","null"),se.U=!0,ca(se,j,null)):ca(se,j,N),this.I=2}}else this.I==3&&(x?rf(this,x):this.i.length==0||Hp(this.h)||rf(this))};function rf(x,N){var j;N?j=N.l:j=x.V++;const K=Hn(x.J);qt(K,"SID",x.M),qt(K,"RID",j),qt(K,"AID",x.K),Nc(x,K),x.u&&x.o&&Ac(K,x.u,x.o),j=new Cr(x,x.j,j,x.D+1),x.u===null&&(j.J=x.o),N&&(x.i=N.G.concat(x.i)),N=ym(x,j,1e3),j.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),Gp(x.h,j),ca(j,K,N)}function Nc(x,N){x.H&&te(x.H,function(j,K){qt(N,K,j)}),x.l&&te({},function(j,K){qt(N,K,j)})}function ym(x,N,j){j=Math.min(x.i.length,j);const K=x.l?d(x.l.Ka,x.l,x):null;e:{var se=x.i;let lt=-1;for(;;){const Dn=["count="+j];lt==-1?j>0?(lt=se[0].g,Dn.push("ofs="+lt)):lt=0:Dn.push("ofs="+lt);let Dt=!0;for(let yn=0;yn<j;yn++){var ge=se[yn].g;const lo=se[yn].map;if(ge-=lt,ge<0)lt=Math.max(0,se[yn].g-100),Dt=!1;else try{ge="req"+ge+"_"||"";try{var Pe=lo instanceof Map?lo:Object.entries(lo);for(const[xa,Uo]of Pe){let Vo=Uo;l(Uo)&&(Vo=De(Uo)),Dn.push(ge+xa+"="+encodeURIComponent(Vo))}}catch(xa){throw Dn.push(ge+"type="+encodeURIComponent("_badmap")),xa}}catch{K&&K(lo)}}if(Dt){Pe=Dn.join("&");break e}}Pe=void 0}return x=x.i.splice(0,j),N.G=x,Pe}function bm(x){if(!x.g&&!x.v){x.Y=1;var N=x.Da;U||L(),M||(U(),M=!0),D.add(N,x),x.A=0}}function Rc(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=mn(d(x.Da,x),xm(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,vm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=mn(d(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),cl(this),vm(this))};function of(x){x.B!=null&&(a.clearTimeout(x.B),x.B=null)}function vm(x){x.g=new Cr(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var N=Hn(x.na);qt(N,"RID","rpc"),qt(N,"SID",x.M),qt(N,"AID",x.K),qt(N,"CI",x.F?"0":"1"),!x.F&&x.ia&&qt(N,"TO",x.ia),qt(N,"TYPE","xmlhttp"),Nc(x,N),x.u&&x.o&&Ac(N,x.u,x.o),x.O&&(x.g.H=x.O);var j=x.g;x=x.ba,j.M=1,j.A=Tc(Hn(N)),j.u=null,j.R=!0,Uu(j,x)}t.Va=function(){this.C!=null&&(this.C=null,cl(this),Rc(this),ft(19))};function Wu(x){x.C!=null&&(a.clearTimeout(x.C),x.C=null)}function wm(x,N){var j=null;if(x.g==N){Wu(x),of(x),x.g=null;var K=2}else if(ha(x.h,N))j=N.G,Kp(x.h,N),K=1;else return;if(x.I!=0){if(N.o)if(K==1){j=N.u?N.u.length:0,N=Date.now()-N.F;var se=x.D;K=rr(),mt(K,new gn(K,j)),va(x)}else bm(x);else if(se=N.m,se==3||se==0&&N.X>0||!(K==1&&Ku(x,N)||K==2&&Rc(x)))switch(j&&j.length>0&&(N=x.h,N.i=N.i.concat(j)),se){case 1:wa(x,5);break;case 4:wa(x,10);break;case 3:wa(x,6);break;default:wa(x,2)}}}function xm(x,N){let j=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(j*=2),j*N}function wa(x,N){if(x.j.info("Error code "+N),N==2){var j=d(x.bb,x),K=x.Ua;const se=!K;K=new Fi(K||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||yr(K,"https"),Tc(K),se?zo(K.toString(),j):Zp(K.toString(),j)}else ft(2);x.I=0,x.l&&x.l.pa(N),km(x),Gu(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function km(x){if(x.I=0,x.ja=[],x.l){const N=Wp(x.h);(N.length!=0||x.i.length!=0)&&(E(x.ja,N),E(x.ja,x.i),x.h.i.length=0,b(x.i),x.i.length=0),x.l.oa()}}function _m(x,N,j){var K=j instanceof Fi?Hn(j):new Fi(j);if(K.g!="")N&&(K.g=N+"."+K.g),nl(K,K.u);else{var se=a.location;K=se.protocol,N=N?N+"."+se.hostname:se.hostname,se=+se.port;const ge=new Fi(null);K&&yr(ge,K),N&&(ge.g=N),se&&nl(ge,se),j&&(ge.h=j),K=ge}return j=x.G,N=x.wa,j&&N&&qt(K,j,N),qt(K,"VER",x.ka),Nc(x,K),K}function Tm(x,N,j){if(N&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=x.Aa&&!x.ma?new Jt(new ma({ab:j})):new Jt(x.ma),N.Fa(x.L),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Em(){}t=Em.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ul(){}ul.prototype.g=function(x,N){return new ii(x,N)};function ii(x,N){Ct.call(this),this.g=new ll(N),this.l=x,this.h=N&&N.messageUrlParams||null,x=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(x?x["X-WebChannel-Content-Type"]=N.messageContentType:x={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(x?x["X-WebChannel-Client-Profile"]=N.sa:x={"X-WebChannel-Client-Profile":N.sa}),this.g.U=x,(x=N&&N.Qb)&&!F(x)&&(this.g.u=x),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!F(N)&&(this.g.G=N,x=this.h,x!==null&&N in x&&(x=this.h,N in x&&delete x[N])),this.j=new rs(this)}h(ii,Ct),ii.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ii.prototype.close=function(){nf(this.g)},ii.prototype.o=function(x){var N=this.g;if(typeof x=="string"){var j={};j.__data__=x,x=j}else this.v&&(j={},j.__data__=De(x),x=j);N.i.push(new $n(N.Ya++,x)),N.I==3&&va(N)},ii.prototype.N=function(){this.g.l=null,delete this.j,nf(this.g),delete this.g,ii.Z.N.call(this)};function Sm(x){Et.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var N=x.__sm__;if(N){e:{for(const j in N){x=j;break e}x=void 0}(this.i=x)&&(x=this.i,N=N!==null&&x in N?N[x]:void 0),this.data=N}else this.data=x}h(Sm,Et);function Am(){hn.call(this),this.status=1}h(Am,hn);function rs(x){this.g=x}h(rs,Em),rs.prototype.ra=function(){mt(this.g,"a")},rs.prototype.qa=function(x){mt(this.g,new Sm(x))},rs.prototype.pa=function(x){mt(this.g,new Am)},rs.prototype.oa=function(){mt(this.g,"b")},ul.prototype.createWebChannel=ul.prototype.g,ii.prototype.send=ii.prototype.o,ii.prototype.open=ii.prototype.m,ii.prototype.close=ii.prototype.close,l8=function(){return new ul},s8=function(){return rr()},a8=pt,FE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,bb=Fr,Br.COMPLETE="complete",o8=Br,Ut.EventType=Yt,Yt.OPEN="a",Yt.CLOSE="b",Yt.ERROR="c",Yt.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,uh=Ut,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,i8=Jt}).apply(typeof Xy<"u"?Xy:typeof self<"u"?self:typeof window<"u"?window:{});const W5="@firebase/firestore",Y5="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new pw("@firebase/firestore");function Pd(){return vu.logLevel}function Ve(t,...e){if(vu.logLevel<=vt.DEBUG){const n=e.map(SC);vu.debug(`Firestore (${Dp}): ${t}`,...n)}}function Vs(t,...e){if(vu.logLevel<=vt.ERROR){const n=e.map(SC);vu.error(`Firestore (${Dp}): ${t}`,...n)}}function pp(t,...e){if(vu.logLevel<=vt.WARN){const n=e.map(SC);vu.warn(`Firestore (${Dp}): ${t}`,...n)}}function SC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,c8(t,r,n)}function c8(t,e,n){let r=`FIRESTORE (${Dp}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vs(r),new Error(r)}function Vt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||c8(e,i,r)}function ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Mo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class awe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Gr.UNAUTHENTICATED)))}shutdown(){}}class swe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class lwe{constructor(e){this.t=e,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Vt(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Is,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const u=o;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},l=u=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Is)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt(typeof r.accessToken=="string",31837,{l:r}),new u8(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string",2055,{h:e}),new Gr(e)}}class cwe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uwe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new cwe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Gr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dwe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Vt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,Ve("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new J5(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new J5(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pwe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=pwe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function wt(t,e){return t<e?-1:t>e?1:0}function BE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Z_(i)===Z_(o)?wt(i,o):Z_(i)?1:-1}return wt(t.length,e.length)}const fwe=55296,hwe=57343;function Z_(t){const e=t.charCodeAt(0);return e>=fwe&&e<=hwe}function fp(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="__name__";class Aa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Aa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Aa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Aa.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return wt(e.length,n.length)}static compareSegments(e,n){const r=Aa.isNumericId(e),i=Aa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Aa.extractNumericId(e).compare(Aa.extractNumericId(n)):BE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tc.fromString(e.substring(4,e.length-2))}}class sn extends Aa{construct(e,n,r){return new sn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new sn(n)}static emptyPath(){return new sn([])}}const gwe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lr extends Aa{construct(e,n,r){return new Lr(e,n,r)}static isValidIdentifier(e){return gwe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X5}static keyField(){return new Lr([X5])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new je(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new je(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new je(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(o(),i++)}if(o(),a)throw new je(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lr(n)}static emptyPath(){return new Lr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.path=e}static fromPath(e){return new Je(sn.fromString(e))}static fromName(e){return new Je(sn.fromString(e).popFirst(5))}static empty(){return new Je(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&sn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return sn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new sn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(t,e,n){if(!n)throw new je(_e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mwe(t,e,n,r){if(e===!0&&r===!0)throw new je(_e.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Q5(t){if(!Je.isDocumentKey(t))throw new je(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z5(t){if(Je.isDocumentKey(t))throw new je(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function p8(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function fw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ze(12329,{type:typeof t})}function ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new je(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fw(t);throw new je(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,e){const n={typeString:t};return e&&(n.value=e),n}function jg(t,e){if(!p8(t))throw new je(_e.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new je(_e.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=-62135596800,tL=1e6;class fn{static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*tL);return new fn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new je(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new je(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<eL)throw new je(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tL}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jg(e,fn._jsonSchema))return new fn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-eL;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fn._jsonSchemaVersion="firestore/timestamp/1.0",fn._jsonSchema={type:tr("string",fn._jsonSchemaVersion),seconds:tr("number"),nanoseconds:tr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{static fromTimestamp(e){return new nt(e)}static min(){return new nt(new fn(0,0))}static max(){return new nt(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=-1;function ywe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=nt.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new sc(i,Je.empty(),e)}function bwe(t){return new sc(t.readTime,t.key,Zh)}class sc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new sc(nt.min(),Je.empty(),Zh)}static max(){return new sc(nt.max(),Je.empty(),Zh)}}function vwe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Je.comparator(t.documentKey,e.documentKey),n!==0?n:wt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wwe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xwe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mp(t){if(t.code!==_e.FAILED_PRECONDITION||t.message!==wwe)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ee(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ee?n:Ee.resolve(n)}catch(n){return Ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ee.reject(n)}static resolve(e){return new Ee(((n,r)=>{n(e)}))}static reject(e){return new Ee(((n,r)=>{r(e)}))}static waitFor(e){return new Ee(((n,r)=>{let i=0,o=0,a=!1;e.forEach((l=>{++i,l.next((()=>{++o,a&&o===i&&n()}),(u=>r(u)))})),a=!0,o===i&&n()}))}static or(e){let n=Ee.resolve(!1);for(const r of e)n=n.next((i=>i?Ee.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new Ee(((r,i)=>{const o=e.length,a=new Array(o);let l=0;for(let u=0;u<o;u++){const d=u;n(e[d]).next((p=>{a[d]=p,++l,l===o&&r(a)}),(p=>i(p)))}}))}static doWhile(e,n){return new Ee(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function kwe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hw.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=-1;function gw(t){return t==null}function I0(t){return t===0&&1/t==-1/0}function _we(t){return typeof t=="number"&&Number.isInteger(t)&&!I0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="";function Twe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=nL(e)),e=Ewe(t.get(n),e);return nL(e)}function Ewe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case f8:n+="";break;default:n+=o}}return n}function nL(t){return t+f8+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function h8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,n){this.comparator=e,this.root=n||zr.EMPTY}insert(e,n){return new kn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zr.BLACK,null,null))}remove(e){return new kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qy(this.root,e,this.comparator,!0)}}class Qy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??zr.RED,this.left=i??zr.EMPTY,this.right=o??zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new zr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return zr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ze(27949);return e+(this.isRed()?0:1)}}zr.EMPTY=null,zr.RED=!0,zr.BLACK=!1;zr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze(57766)}get value(){throw Ze(16141)}get color(){throw Ze(16727)}get left(){throw Ze(29726)}get right(){throw Ze(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new zr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.comparator=e,this.data=new kn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iL(this.data.getIterator())}getIteratorFrom(e){return new iL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof cr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cr(this.comparator);return n.data=e,n}}class iL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.fields=e,e.sort(Lr.comparator)}static empty(){return new eo([])}unionWith(e){let n=new cr(Lr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new eo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fp(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new g8("Invalid base64 string: "+o):o}})(e);return new Ur(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new Ur(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const Swe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lc(t){if(Vt(!!t,39018),typeof t=="string"){let e=0;const n=Swe.exec(t);if(Vt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jn(t.seconds),nanos:jn(t.nanos)}}function jn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cc(t){return typeof t=="string"?Ur.fromBase64String(t):Ur.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="server_timestamp",y8="__type__",b8="__previous_value__",v8="__local_write_time__";function IC(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[y8])==null?void 0:r.stringValue)===m8}function mw(t){const e=t.mapValue.fields[b8];return IC(e)?mw(e):e}function eg(t){const e=lc(t.mapValue.fields[v8].timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Awe{constructor(e,n,r,i,o,a,l,u,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=p}}const N0="(default)";class tg{constructor(e,n){this.projectId=e,this.database=n||N0}static empty(){return new tg("","")}get isDefaultDatabase(){return this.database===N0}isEqual(e){return e instanceof tg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="__type__",Cwe="__max__",Zy={mapValue:{}},x8="__vector__",R0="value";function uc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?IC(t)?4:Nwe(t)?9007199254740991:Iwe(t)?10:11:Ze(28295,{value:t})}function Ja(t,e){if(t===e)return!0;const n=uc(t);if(n!==uc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eg(t).isEqual(eg(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=lc(i.timestampValue),l=lc(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return cc(i.bytesValue).isEqual(cc(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return jn(i.geoPointValue.latitude)===jn(o.geoPointValue.latitude)&&jn(i.geoPointValue.longitude)===jn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return jn(i.integerValue)===jn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=jn(i.doubleValue),l=jn(o.doubleValue);return a===l?I0(a)===I0(l):isNaN(a)&&isNaN(l)}return!1})(t,e);case 9:return fp(t.arrayValue.values||[],e.arrayValue.values||[],Ja);case 10:case 11:return(function(i,o){const a=i.mapValue.fields||{},l=o.mapValue.fields||{};if(rL(a)!==rL(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Ja(a[u],l[u])))return!1;return!0})(t,e);default:return Ze(52216,{left:t})}}function ng(t,e){return(t.values||[]).find((n=>Ja(n,e)))!==void 0}function hp(t,e){if(t===e)return 0;const n=uc(t),r=uc(e);if(n!==r)return wt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return wt(t.booleanValue,e.booleanValue);case 2:return(function(o,a){const l=jn(o.integerValue||o.doubleValue),u=jn(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return oL(t.timestampValue,e.timestampValue);case 4:return oL(eg(t),eg(e));case 5:return BE(t.stringValue,e.stringValue);case 6:return(function(o,a){const l=cc(o),u=cc(a);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,a){const l=o.split("/"),u=a.split("/");for(let d=0;d<l.length&&d<u.length;d++){const p=wt(l[d],u[d]);if(p!==0)return p}return wt(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,a){const l=wt(jn(o.latitude),jn(a.latitude));return l!==0?l:wt(jn(o.longitude),jn(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return aL(t.arrayValue,e.arrayValue);case 10:return(function(o,a){var y,b,E,S;const l=o.fields||{},u=a.fields||{},d=(y=l[R0])==null?void 0:y.arrayValue,p=(b=u[R0])==null?void 0:b.arrayValue,h=wt(((E=d==null?void 0:d.values)==null?void 0:E.length)||0,((S=p==null?void 0:p.values)==null?void 0:S.length)||0);return h!==0?h:aL(d,p)})(t.mapValue,e.mapValue);case 11:return(function(o,a){if(o===Zy.mapValue&&a===Zy.mapValue)return 0;if(o===Zy.mapValue)return 1;if(a===Zy.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),d=a.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let h=0;h<u.length&&h<p.length;++h){const y=BE(u[h],p[h]);if(y!==0)return y;const b=hp(l[u[h]],d[p[h]]);if(b!==0)return b}return wt(u.length,p.length)})(t.mapValue,e.mapValue);default:throw Ze(23264,{he:n})}}function oL(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return wt(t,e);const n=lc(t),r=lc(e),i=wt(n.seconds,r.seconds);return i!==0?i:wt(n.nanos,r.nanos)}function aL(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=hp(n[i],r[i]);if(o)return o}return wt(n.length,r.length)}function gp(t){return qE(t)}function qE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=lc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return cc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=qE(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${qE(n.fields[a])}`;return i+"}"})(t.mapValue):Ze(61005,{value:t})}function vb(t){switch(uc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mw(t);return e?16+vb(e):16;case 5:return 2*t.stringValue.length;case 6:return cc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+vb(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return vc(r.fields,((o,a)=>{i+=o.length+vb(a)})),i})(t.mapValue);default:throw Ze(13486,{value:t})}}function sL(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $E(t){return!!t&&"integerValue"in t}function NC(t){return!!t&&"arrayValue"in t}function lL(t){return!!t&&"nullValue"in t}function cL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wb(t){return!!t&&"mapValue"in t}function Iwe(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[w8])==null?void 0:r.stringValue)===x8}function wh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=wh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wh(t.arrayValue.values[n]);return e}return{...t}}function Nwe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Cwe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wh(n)}setAll(e){let n=Lr.emptyPath(),r={},i=[];e.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=wh(a):i.push(l.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());wb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ja(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vc(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Ci(wh(this.value))}}function k8(t){const e=[];return vc(t.fields,((n,r)=>{const i=new Lr([n]);if(wb(r)){const o=k8(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)})),new eo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,r,i,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Wr(e,0,nt.min(),nt.min(),nt.min(),Ci.empty(),0)}static newFoundDocument(e,n,r,i){return new Wr(e,1,n,nt.min(),r,i,0)}static newNoDocument(e,n){return new Wr(e,2,n,nt.min(),nt.min(),Ci.empty(),0)}static newUnknownDocument(e,n){return new Wr(e,3,n,nt.min(),nt.min(),Ci.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n){this.position=e,this.inclusive=n}}function uL(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=Je.comparator(Je.fromName(a.referenceValue),n.key):r=hp(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function dL(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ja(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n="asc"){this.field=e,this.dir=n}}function Rwe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{}class er extends _8{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Pwe(e,n,r):n==="array-contains"?new zwe(e,r):n==="in"?new Lwe(e,r):n==="not-in"?new jwe(e,r):n==="array-contains-any"?new Uwe(e,r):new er(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Dwe(e,r):new Mwe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hp(n,this.value)):n!==null&&uc(this.value)===uc(n)&&this.matchesComparison(hp(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ta extends _8{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ta(e,n)}matches(e){return T8(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function T8(t){return t.op==="and"}function E8(t){return Owe(t)&&T8(t)}function Owe(t){for(const e of t.filters)if(e instanceof ta)return!1;return!0}function HE(t){if(t instanceof er)return t.field.canonicalString()+t.op.toString()+gp(t.value);if(E8(t))return t.filters.map((e=>HE(e))).join(",");{const e=t.filters.map((n=>HE(n))).join(",");return`${t.op}(${e})`}}function S8(t,e){return t instanceof er?(function(r,i){return i instanceof er&&r.op===i.op&&r.field.isEqual(i.field)&&Ja(r.value,i.value)})(t,e):t instanceof ta?(function(r,i){return i instanceof ta&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,a,l)=>o&&S8(a,i.filters[l])),!0):!1})(t,e):void Ze(19439)}function A8(t){return t instanceof er?(function(n){return`${n.field.canonicalString()} ${n.op} ${gp(n.value)}`})(t):t instanceof ta?(function(n){return n.op.toString()+" {"+n.getFilters().map(A8).join(" ,")+"}"})(t):"Filter"}class Pwe extends er{constructor(e,n,r){super(e,n,r),this.key=Je.fromName(r.referenceValue)}matches(e){const n=Je.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dwe extends er{constructor(e,n){super(e,"in",n),this.keys=C8("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Mwe extends er{constructor(e,n){super(e,"not-in",n),this.keys=C8("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function C8(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Je.fromName(r.referenceValue)))}class zwe extends er{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return NC(n)&&ng(n.arrayValue,this.value)}}class Lwe extends er{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ng(this.value.arrayValue,n)}}class jwe extends er{constructor(e,n){super(e,"not-in",n)}matches(e){if(ng(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ng(this.value.arrayValue,n)}}class Uwe extends er{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!NC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ng(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vwe{constructor(e,n=null,r=[],i=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=l,this.Te=null}}function pL(t,e=null,n=[],r=[],i=null,o=null,a=null){return new Vwe(t,e,n,r,i,o,a)}function RC(t){const e=ot(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>HE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),gw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>gp(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>gp(r))).join(",")),e.Te=n}return e.Te}function OC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Rwe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!S8(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dL(t.startAt,e.startAt)&&dL(t.endAt,e.endAt)}function GE(t){return Je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n=null,r=[],i=[],o=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Fwe(t,e,n,r,i,o,a,l){return new Ug(t,e,n,r,i,o,a,l)}function yw(t){return new Ug(t)}function fL(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function I8(t){return t.collectionGroup!==null}function xh(t){const e=ot(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new cr(Lr.comparator);return a.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new P0(o,r))})),n.has(Lr.keyField().canonicalString())||e.Ie.push(new P0(Lr.keyField(),r))}return e.Ie}function ja(t){const e=ot(t);return e.Ee||(e.Ee=Bwe(e,xh(t))),e.Ee}function Bwe(t,e){if(t.limitType==="F")return pL(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new P0(i.field,o)}));const n=t.endAt?new O0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new O0(t.startAt.position,t.startAt.inclusive):null;return pL(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function KE(t,e){const n=t.filters.concat([e]);return new Ug(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function WE(t,e,n){return new Ug(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bw(t,e){return OC(ja(t),ja(e))&&t.limitType===e.limitType}function N8(t){return`${RC(ja(t))}|lt:${t.limitType}`}function Dd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>A8(i))).join(", ")}]`),gw(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>gp(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>gp(i))).join(",")),`Target(${r})`})(ja(t))}; limitType=${t.limitType})`}function vw(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Je.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of xh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,l,u){const d=uL(a,l,u);return a.inclusive?d<=0:d<0})(r.startAt,xh(r),i)||r.endAt&&!(function(a,l,u){const d=uL(a,l,u);return a.inclusive?d>=0:d>0})(r.endAt,xh(r),i))})(t,e)}function qwe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function R8(t){return(e,n)=>{let r=!1;for(const i of xh(t)){const o=$we(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $we(t,e,n){const r=t.field.isKeyField()?Je.comparator(e.key,n.key):(function(o,a,l){const u=a.data.field(o),d=l.data.field(o);return u!==null&&d!==null?hp(u,d):Ze(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vc(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return h8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hwe=new kn(Je.comparator);function Fs(){return Hwe}const O8=new kn(Je.comparator);function dh(...t){let e=O8;for(const n of t)e=e.insert(n.key,n);return e}function P8(t){let e=O8;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function iu(){return kh()}function D8(){return kh()}function kh(){return new Iu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Gwe=new kn(Je.comparator),Kwe=new cr(Je.comparator);function xt(...t){let e=Kwe;for(const n of t)e=e.add(n);return e}const Wwe=new cr(wt);function Ywe(){return Wwe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:I0(e)?"-0":e}}function M8(t){return{integerValue:""+t}}function Jwe(t,e){return _we(e)?M8(e):PC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this._=void 0}}function Xwe(t,e,n){return t instanceof D0?(function(i,o){const a={fields:{[y8]:{stringValue:m8},[v8]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&IC(o)&&(o=mw(o)),o&&(a.fields[b8]=o),{mapValue:a}})(n,e):t instanceof mp?L8(t,e):t instanceof yp?j8(t,e):(function(i,o){const a=z8(i,o),l=hL(a)+hL(i.Ae);return $E(a)&&$E(i.Ae)?M8(l):PC(i.serializer,l)})(t,e)}function Qwe(t,e,n){return t instanceof mp?L8(t,e):t instanceof yp?j8(t,e):n}function z8(t,e){return t instanceof M0?(function(r){return $E(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class D0 extends ww{}class mp extends ww{constructor(e){super(),this.elements=e}}function L8(t,e){const n=U8(e);for(const r of t.elements)n.some((i=>Ja(i,r)))||n.push(r);return{arrayValue:{values:n}}}class yp extends ww{constructor(e){super(),this.elements=e}}function j8(t,e){let n=U8(e);for(const r of t.elements)n=n.filter((i=>!Ja(i,r)));return{arrayValue:{values:n}}}class M0 extends ww{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hL(t){return jn(t.integerValue||t.doubleValue)}function U8(t){return NC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n){this.field=e,this.transform=n}}function Zwe(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof mp&&i instanceof mp||r instanceof yp&&i instanceof yp?fp(r.elements,i.elements,Ja):r instanceof M0&&i instanceof M0?Ja(r.Ae,i.Ae):r instanceof D0&&i instanceof D0})(t.transform,e.transform)}class exe{constructor(e,n){this.version=e,this.transformResults=n}}class ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xw{}function F8(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kw(t.key,ui.none()):new Vg(t.key,t.data,ui.none());{const n=t.data,r=Ci.empty();let i=new cr(Lr.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new wc(t.key,r,new eo(i.toArray()),ui.none())}}function txe(t,e,n){t instanceof Vg?(function(i,o,a){const l=i.value.clone(),u=mL(i.fieldTransforms,o,a.transformResults);l.setAll(u),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):t instanceof wc?(function(i,o,a){if(!xb(i.precondition,o))return void o.convertToUnknownDocument(a.version);const l=mL(i.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(B8(i)),u.setAll(l),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function _h(t,e,n,r){return t instanceof Vg?(function(o,a,l,u){if(!xb(o.precondition,a))return l;const d=o.value.clone(),p=yL(o.fieldTransforms,u,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof wc?(function(o,a,l,u){if(!xb(o.precondition,a))return l;const d=yL(o.fieldTransforms,u,a),p=a.data;return p.setAll(B8(o)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((h=>h.field)))})(t,e,n,r):(function(o,a,l){return xb(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(t,e,n)}function nxe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=z8(r.transform,i||null);o!=null&&(n===null&&(n=Ci.empty()),n.set(r.field,o))}return n||null}function gL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fp(r,i,((o,a)=>Zwe(o,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vg extends xw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wc extends xw{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function B8(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function mL(t,e,n){const r=new Map;Vt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,Qwe(a,l,n[i]))}return r}function yL(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,Xwe(o,a,e))}return r}class kw extends xw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rxe extends xw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ixe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&txe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_h(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_h(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=D8();return this.mutations.forEach((i=>{const o=e.get(i.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(i.key)?null:l;const u=F8(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(nt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),xt())}isEqual(e){return this.batchId===e.batchId&&fp(this.mutations,e.mutations,((n,r)=>gL(n,r)))&&fp(this.baseMutations,e.baseMutations,((n,r)=>gL(n,r)))}}class DC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Vt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Gwe})();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new DC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oxe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class axe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn,St;function sxe(t){switch(t){case _e.OK:return Ze(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return Ze(15467,{code:t})}}function q8(t){if(t===void 0)return Vs("GRPC error has no .code"),_e.UNKNOWN;switch(t){case Xn.OK:return _e.OK;case Xn.CANCELLED:return _e.CANCELLED;case Xn.UNKNOWN:return _e.UNKNOWN;case Xn.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Xn.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Xn.INTERNAL:return _e.INTERNAL;case Xn.UNAVAILABLE:return _e.UNAVAILABLE;case Xn.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Xn.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Xn.NOT_FOUND:return _e.NOT_FOUND;case Xn.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Xn.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Xn.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Xn.ABORTED:return _e.ABORTED;case Xn.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Xn.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Xn.DATA_LOSS:return _e.DATA_LOSS;default:return Ze(39323,{code:t})}}(St=Xn||(Xn={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lxe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cxe=new tc([4294967295,4294967295],0);function bL(t){const e=lxe().encode(t),n=new r8;return n.update(e),new Uint8Array(n.digest())}function vL(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new tc([n,r],0),new tc([i,o],0)]}class MC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ph(`Invalid padding: ${n}`);if(r<0)throw new ph(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ph(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ph(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=tc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(tc.fromNumber(r)));return i.compare(cxe)===1&&(i=new tc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bL(e),[r,i]=vL(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new MC(o,i,n);return r.forEach((l=>a.insert(l))),a}insert(e){if(this.ge===0)return;const n=bL(e),[r,i]=vL(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ph extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Fg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _w(nt.min(),i,new kn(wt),Fs(),xt())}}class Fg{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fg(r,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class $8{constructor(e,n){this.targetId=e,this.Ce=n}}class H8{constructor(e,n,r=Ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wL{constructor(){this.ve=0,this.Fe=xL(),this.Me=Ur.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xt(),n=xt(),r=xt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ze(38017,{changeType:o})}})),new Fg(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=xL()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uxe{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fs(),this.Je=eb(),this.He=eb(),this.Ye=new kn(wt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ze(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(GE(o))if(r===0){const a=new Je(o.path);this.et(n,a,Wr.newNoDocument(a,nt.min()))}else Vt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,l;try{a=cc(r).toUint8Array()}catch(u){if(u instanceof g8)return pp("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new MC(a,i,o)}catch(u){return pp(u instanceof ph?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,a)=>{const l=this.ot(a);if(l){if(o.current&&GE(l.target)){const u=new Je(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,Wr.newNoDocument(u,e))}o.Be&&(n.set(a,o.ke()),o.qe())}}));let r=xt();this.He.forEach(((o,a)=>{let l=!0;a.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(o))})),this.je.forEach(((o,a)=>a.setReadTime(e)));const i=new _w(e,n,this.Ye,this.je,r);return this.je=Fs(),this.Je=eb(),this.He=eb(),this.Ye=new kn(wt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new wL,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new cr(wt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new cr(wt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wL),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function eb(){return new kn(Je.comparator)}function xL(){return new kn(Je.comparator)}const dxe={asc:"ASCENDING",desc:"DESCENDING"},pxe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fxe={and:"AND",or:"OR"};class hxe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function YE(t,e){return t.useProto3Json||gw(e)?e:{value:e}}function z0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gxe(t,e){return z0(t,e.toTimestamp())}function Ua(t){return Vt(!!t,49232),nt.fromTimestamp((function(n){const r=lc(n);return new fn(r.seconds,r.nanos)})(t))}function zC(t,e){return JE(t,e).canonicalString()}function JE(t,e){const n=(function(i){return new sn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function K8(t){const e=sn.fromString(t);return Vt(Q8(e),10190,{key:e.toString()}),e}function XE(t,e){return zC(t.databaseId,e.path)}function eT(t,e){const n=K8(e);if(n.get(1)!==t.databaseId.projectId)throw new je(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new je(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Je(Y8(n))}function W8(t,e){return zC(t.databaseId,e)}function mxe(t){const e=K8(t);return e.length===4?sn.emptyPath():Y8(e)}function QE(t){return new sn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Y8(t){return Vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kL(t,e,n){return{name:XE(t,e),fields:n.value.mapValue.fields}}function yxe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ze(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,p){return d.useProto3Json?(Vt(p===void 0||typeof p=="string",58123),Ur.fromBase64String(p||"")):(Vt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Ur.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(d){const p=d.code===void 0?_e.UNKNOWN:q8(d.code);return new je(p,d.message||"")})(a);n=new H8(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=eT(t,r.document.name),o=Ua(r.document.updateTime),a=r.document.createTime?Ua(r.document.createTime):nt.min(),l=new Ci({mapValue:{fields:r.document.fields}}),u=Wr.newFoundDocument(i,o,a,l),d=r.targetIds||[],p=r.removedTargetIds||[];n=new kb(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=eT(t,r.document),o=r.readTime?Ua(r.readTime):nt.min(),a=Wr.newNoDocument(i,o),l=r.removedTargetIds||[];n=new kb([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=eT(t,r.document),o=r.removedTargetIds||[];n=new kb([],o,i,null)}else{if(!("filter"in e))return Ze(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new axe(i,o),l=r.targetId;n=new $8(l,a)}}return n}function bxe(t,e){let n;if(e instanceof Vg)n={update:kL(t,e.key,e.value)};else if(e instanceof kw)n={delete:XE(t,e.key)};else if(e instanceof wc)n={update:kL(t,e.key,e.data),updateMask:Axe(e.fieldMask)};else{if(!(e instanceof rxe))return Ze(16599,{Vt:e.type});n={verify:XE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,a){const l=a.transform;if(l instanceof D0)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof mp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof yp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof M0)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Ze(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:gxe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ze(27497)})(t,e.precondition)),n}function vxe(t,e){return t&&t.length>0?(Vt(e!==void 0,14353),t.map((n=>(function(i,o){let a=i.updateTime?Ua(i.updateTime):Ua(o);return a.isEqual(nt.min())&&(a=Ua(o)),new exe(a,i.transformResults||[])})(n,e)))):[]}function wxe(t,e){return{documents:[W8(t,e.path)]}}function xxe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=W8(t,i);const o=(function(d){if(d.length!==0)return X8(ta.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const a=(function(d){if(d.length!==0)return d.map((p=>(function(y){return{field:Md(y.field),direction:Txe(y.dir)}})(p)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=YE(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function kxe(t){let e=mxe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Vt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=(function(h){const y=J8(h);return y instanceof ta&&E8(y)?y.getFilters():[y]})(n.where));let a=[];n.orderBy&&(a=(function(h){return h.map((y=>(function(E){return new P0(zd(E.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(y)))})(n.orderBy));let l=null;n.limit&&(l=(function(h){let y;return y=typeof h=="object"?h.value:h,gw(y)?null:y})(n.limit));let u=null;n.startAt&&(u=(function(h){const y=!!h.before,b=h.values||[];return new O0(b,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(h){const y=!h.before,b=h.values||[];return new O0(b,y)})(n.endAt)),Fwe(e,i,a,o,l,"F",u,d)}function _xe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function J8(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zd(n.unaryFilter.field);return er.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zd(n.unaryFilter.field);return er.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zd(n.unaryFilter.field);return er.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=zd(n.unaryFilter.field);return er.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ze(61313);default:return Ze(60726)}})(t):t.fieldFilter!==void 0?(function(n){return er.create(zd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ze(58110);default:return Ze(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ta.create(n.compositeFilter.filters.map((r=>J8(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ze(1026)}})(n.compositeFilter.op))})(t):Ze(30097,{filter:t})}function Txe(t){return dxe[t]}function Exe(t){return pxe[t]}function Sxe(t){return fxe[t]}function Md(t){return{fieldPath:t.canonicalString()}}function zd(t){return Lr.fromServerFormat(t.fieldPath)}function X8(t){return t instanceof er?(function(n){if(n.op==="=="){if(cL(n.value))return{unaryFilter:{field:Md(n.field),op:"IS_NAN"}};if(lL(n.value))return{unaryFilter:{field:Md(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cL(n.value))return{unaryFilter:{field:Md(n.field),op:"IS_NOT_NAN"}};if(lL(n.value))return{unaryFilter:{field:Md(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Md(n.field),op:Exe(n.op),value:n.value}}})(t):t instanceof ta?(function(n){const r=n.getFilters().map((i=>X8(i)));return r.length===1?r[0]:{compositeFilter:{op:Sxe(n.op),filters:r}}})(t):Ze(54877,{filter:t})}function Axe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Q8(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r,i,o=nt.min(),a=nt.min(),l=Ur.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Wl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cxe{constructor(e){this.yt=e}}function Ixe(t){const e=kxe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?WE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nxe{constructor(){this.Cn=new Rxe}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ee.resolve()}getCollectionParents(e,n){return Ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ee.resolve()}deleteFieldIndex(e,n){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,n){return Ee.resolve()}getDocumentsMatchingTarget(e,n){return Ee.resolve(null)}getIndexType(e,n){return Ee.resolve(0)}getFieldIndexes(e,n){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,n){return Ee.resolve(sc.min())}getMinOffsetFromCollectionGroup(e,n){return Ee.resolve(sc.min())}updateCollectionGroup(e,n,r){return Ee.resolve()}updateIndexEntries(e,n){return Ee.resolve()}}class Rxe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new cr(sn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cr(sn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z8=41943040;class Si{static withCacheSize(e){return new Si(e,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(Z8,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bp(0)}static cr(){return new bp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="LruGarbageCollector",Oxe=1048576;function EL([t,e],[n,r]){const i=wt(t,n);return i===0?wt(e,r):i}class Pxe{constructor(e){this.Ir=e,this.buffer=new cr(EL),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();EL(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Dxe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ve(TL,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zp(n)?Ve(TL,"Ignoring IndexedDB error during garbage collection: ",n):await Mp(n)}await this.Vr(3e5)}))}}class Mxe{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ee.resolve(hw.ce);const r=new Pxe(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(_L)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_L):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,a,l,u,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((h=>(h>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,a=Date.now(),this.nthSequenceNumber(e,i)))).next((h=>(r=h,l=Date.now(),this.removeTargets(e,r,n)))).next((h=>(o=h,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((h=>(d=Date.now(),Pd()<=vt.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${o} targets in `+(u-l)+`ms
	Removed ${h} documents in `+(d-u)+`ms
Total Duration: ${d-p}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h}))))}}function zxe(t,e){return new Mxe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lxe{constructor(){this.changes=new Iu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jxe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uxe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&_h(r.mutation,i,eo.empty(),fn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,xt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=xt()){const i=iu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let a=dh();return o.forEach(((l,u)=>{a=a.insert(l,u.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=iu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,xt())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(e,n,r,i){let o=Fs();const a=kh(),l=(function(){return kh()})();return n.forEach(((u,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof wc)?o=o.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),_h(p.mutation,d,p.mutation.getFieldMask(),fn.now())):a.set(d.key,eo.empty())})),this.recalculateAndSaveOverlays(e,o).next((u=>(u.forEach(((d,p)=>a.set(d,p))),n.forEach(((d,p)=>l.set(d,new jxe(p,a.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=kh();let i=new kn(((a,l)=>a-l)),o=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const l of a)l.keys().forEach((u=>{const d=n.get(u);if(d===null)return;let p=r.get(u)||eo.empty();p=l.applyToLocalView(d,p),r.set(u,p);const h=(i.get(l.batchId)||xt()).add(u);i=i.insert(l.batchId,h)}))})).next((()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,p=u.value,h=D8();p.forEach((y=>{if(!o.has(y)){const b=F8(n.get(y),r.get(y));b!==null&&h.set(y,b),o=o.add(y)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,h))}return Ee.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Je.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):I8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ee.resolve(iu());let l=Zh,u=o;return a.next((d=>Ee.forEach(d,((p,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),o.get(p)?Ee.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{u=u.insert(p,y)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,u,d,xt()))).next((p=>({batchId:l,changes:P8(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Je(n)).next((r=>{let i=dh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=dh();return this.indexManager.getCollectionParents(e,o).next((l=>Ee.forEach(l,(u=>{const d=(function(h,y){return new Ug(y,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((p=>{p.forEach(((h,y)=>{a=a.insert(h,y)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((a=>{o.forEach(((u,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,Wr.newInvalidDocument(p)))}));let l=dh();return a.forEach(((u,d)=>{const p=o.get(u);p!==void 0&&_h(p.mutation,d,eo.empty(),fn.now()),vw(n,d)&&(l=l.insert(u,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vxe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ua(i.createTime)}})(n)),Ee.resolve()}getNamedQuery(e,n){return Ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Ixe(i.bundledQuery),readTime:Ua(i.readTime)}})(n)),Ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fxe{constructor(){this.overlays=new kn(Je.comparator),this.qr=new Map}getOverlay(e,n){return Ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=iu();return Ee.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),Ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Ee.resolve()}getOverlaysForCollection(e,n,r){const i=iu(),o=n.length+1,a=new Je(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new kn(((d,p)=>d-p));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=iu(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=iu(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,p)=>l.set(d,p))),!(l.size()>=i)););return Ee.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new oxe(n,r));let o=this.qr.get(n);o===void 0&&(o=xt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bxe{constructor(){this.sessionToken=Ur.EMPTY_BYTE_STRING}getSessionToken(e){return Ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.Qr=new cr(_r.$r),this.Ur=new cr(_r.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new _r(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new _r(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Je(new sn([])),r=new _r(n,e),i=new _r(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),o.push(a.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Je(new sn([])),r=new _r(n,e),i=new _r(n,e+1);let o=xt();return this.Ur.forEachInRange([r,i],(a=>{o=o.add(a.key)})),o}containsKey(e){const n=new _r(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _r{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Je.comparator(e.key,n.key)||wt(e.Yr,n.Yr)}static Kr(e,n){return wt(e.Yr,n.Yr)||Je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qxe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new cr(_r.$r)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new ixe(o,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Zr=this.Zr.add(new _r(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Ee.resolve(a)}lookupMutationBatch(e,n){return Ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return Ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?CC:this.tr-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _r(n,0),i=new _r(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(a=>{const l=this.Xr(a.Yr);o.push(l)})),Ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new cr(wt);return n.forEach((i=>{const o=new _r(i,0),a=new _r(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],(l=>{r=r.add(l.Yr)}))})),Ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Je.isDocumentKey(o)||(o=o.child(""));const a=new _r(new Je(o),0);let l=new cr(wt);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Yr)),!0)}),a),Ee.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Vt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ee.forEach(n.mutations,(i=>{const o=new _r(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new _r(n,0),i=this.Zr.firstAfterOrEqual(r);return Ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $xe{constructor(e){this.ri=e,this.docs=(function(){return new kn(Je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ee.resolve(r?r.document.mutableCopy():Wr.newInvalidDocument(n))}getEntries(e,n){let r=Fs();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wr.newInvalidDocument(i))})),Ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Fs();const a=n.path,l=new Je(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||vwe(bwe(p),r)<=0||(i.has(p.key)||vw(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return Ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ze(9500)}ii(e,n){return Ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Hxe(this)}getSize(e){return Ee.resolve(this.size)}}class Hxe extends Lxe{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gxe{constructor(e){this.persistence=e,this.si=new Iu((n=>RC(n)),OC),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.oi=0,this._i=new LC,this.targetCount=0,this.ai=bp.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bp(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ee.resolve()}updateTargetData(e,n){return this.Pr(n),Ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),Ee.waitFor(o).next((()=>i))}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),Ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ee.resolve(r)}containsKey(e,n){return Ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e,n){this.ui={},this.overlays={},this.ci=new hw(0),this.li=!1,this.li=!0,this.hi=new Bxe,this.referenceDelegate=e(this),this.Pi=new Gxe(this),this.indexManager=new Nxe,this.remoteDocumentCache=(function(i){return new $xe(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Cxe(n),this.Ii=new Vxe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Fxe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new qxe(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ve("MemoryPersistence","Starting transaction:",e);const i=new Kxe(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return Ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Kxe extends xwe{constructor(e){super(),this.currentSequenceNumber=e}}class jC{constructor(e){this.persistence=e,this.Ri=new LC,this.Vi=null}static mi(e){return new jC(e)}get fi(){if(this.Vi)return this.Vi;throw Ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.fi,(r=>{const i=Je.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,nt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ee.or([()=>Ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class L0{constructor(e,n){this.persistence=e,this.pi=new Iu((r=>Twe(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=zxe(this,n)}static mi(e,n){return new L0(e,n)}Ei(){}di(e){return Ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ee.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?Ee.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((l=>{l||(r++,o.removeEntry(a,nt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vb(e.data.value)),n}br(e,n,r){return Ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=xt(),i=xt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new UC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wxe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yxe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return V0e()?8:kwe(Xr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;const a=new Wxe;return this.Ss(e,n,a).next((l=>{if(o.result=l,this.Vs)return this.bs(e,n,a,l.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Pd()<=vt.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",Dd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ee.resolve()):(Pd()<=vt.DEBUG&&Ve("QueryEngine","Query:",Dd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Pd()<=vt.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",Dd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ja(n))):Ee.resolve())}ys(e,n){if(fL(n))return Ee.resolve(null);let r=ja(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=WE(n,null,"F"),r=ja(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const a=xt(...o);return this.ps.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.Ds(n,l);return this.Cs(n,d,a,u.readTime)?this.ys(e,WE(n,null,"F")):this.vs(e,d,n,u)}))))})))))}ws(e,n,r,i){return fL(n)||i.isEqual(nt.min())?Ee.resolve(null):this.ps.getDocuments(e,r).next((o=>{const a=this.Ds(n,o);return this.Cs(n,a,r,i)?Ee.resolve(null):(Pd()<=vt.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Dd(n)),this.vs(e,a,n,ywe(i,Zh)).next((l=>l)))}))}Ds(e,n){let r=new cr(R8(e));return n.forEach(((i,o)=>{vw(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Pd()<=vt.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Dd(n)),this.ps.getDocumentsMatchingQuery(e,n,sc.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((a=>{o=o.insert(a.key,a)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="LocalStore",Jxe=3e8;class Xxe{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new kn(wt),this.xs=new Iu((o=>RC(o)),OC),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uxe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Qxe(t,e,n,r){return new Xxe(t,e,n,r)}async function tq(t,e){const n=ot(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const a=[],l=[];let u=xt();for(const d of i){a.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of o){l.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:a,addedBatchIds:l})))}))}))}function Zxe(t,e){const n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,p){const h=d.batch,y=h.keys();let b=Ee.resolve();return y.forEach((E=>{b=b.next((()=>p.getEntry(u,E))).next((S=>{const _=d.docVersions.get(E);Vt(_!==null,48541),S.version.compareTo(_)<0&&(h.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),p.addEntry(S)))}))})),b.next((()=>l.mutationQueue.removeMutationBatch(u,h)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=xt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function nq(t){const e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function e1e(t,e){const n=ot(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((p,h)=>{const y=i.get(h);if(!y)return;l.push(n.Pi.removeMatchingKeys(o,p.removedDocuments,h).next((()=>n.Pi.addMatchingKeys(o,p.addedDocuments,h))));let b=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?b=b.withResumeToken(Ur.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(h,b),(function(S,_,C){return S.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=Jxe?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(y,b,p)&&l.push(n.Pi.updateTargetData(o,b))}));let u=Fs(),d=xt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))})),l.push(t1e(o,a,e.documentUpdates).next((p=>{u=p.ks,d=p.qs}))),!r.isEqual(nt.min())){const p=n.Pi.getLastRemoteSnapshotVersion(o).next((h=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));l.push(p)}return Ee.waitFor(l).next((()=>a.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,u,d))).next((()=>u))})).then((o=>(n.Ms=i,o)))}function t1e(t,e,n){let r=xt(),i=xt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let a=Fs();return n.forEach(((l,u)=>{const d=o.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(nt.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Ve(VC,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{ks:a,qs:i}}))}function n1e(t,e){const n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=CC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function r1e(t,e){const n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,Ee.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new Wl(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ZE(t,e,n){const r=ot(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!zp(a))throw a;Ve(VC,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function SL(t,e,n){const r=ot(t);let i=nt.min(),o=xt();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,d,p){const h=ot(u),y=h.xs.get(p);return y!==void 0?Ee.resolve(h.Ms.get(y)):h.Pi.getTargetData(d,p)})(r,a,ja(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next((u=>{o=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:nt.min(),n?o:xt()))).next((l=>(i1e(r,qwe(e),l),{documents:l,Qs:o})))))}function i1e(t,e,n){let r=t.Os.get(e)||nt.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class AL{constructor(){this.activeTargetIds=Ywe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o1e{constructor(){this.Mo=new AL,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new AL,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1e{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="ConnectivityMonitor";class IL{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ve(CL,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ve(CL,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tb=null;function eS(){return tb===null?tb=(function(){return 268435456+Math.round(2147483648*Math.random())})():tb++,"0x"+tb.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="RestConnection",s1e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l1e{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===N0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const a=eS(),l=this.zo(e,n.toUriEncodedString());Ve(tT,`Sending RPC '${e}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,o);const{host:d}=new URL(l),p=Qa(d);return this.Jo(e,l,u,r,p).then((h=>(Ve(tT,`Received RPC '${e}' ${a}: `,h),h)),(h=>{throw pp(tT,`RPC '${e}' ${a} failed with error: `,h,"url: ",l,"request:",r),h}))}Ho(e,n,r,i,o,a){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dp})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=s1e[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1e{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="WebChannelConnection";class u1e extends l1e{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const a=eS();return new Promise(((l,u)=>{const d=new i8;d.setWithCredentials(!0),d.listenOnce(o8.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case bb.NO_ERROR:const h=d.getResponseJson();Ve($r,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),l(h);break;case bb.TIMEOUT:Ve($r,`RPC '${e}' ${a} timed out`),u(new je(_e.DEADLINE_EXCEEDED,"Request time out"));break;case bb.HTTP_ERROR:const y=d.getStatus();if(Ve($r,`RPC '${e}' ${a} failed with status:`,y,"response text:",d.getResponseText()),y>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b==null?void 0:b.error;if(E&&E.status&&E.message){const S=(function(C){const R=C.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(R)>=0?R:_e.UNKNOWN})(E.status);u(new je(S,E.message))}else u(new je(_e.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new je(_e.UNAVAILABLE,"Connection failed."));break;default:Ze(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ve($r,`RPC '${e}' ${a} completed.`)}}));const p=JSON.stringify(i);Ve($r,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=eS(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=l8(),l=s8(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=o.join("");Ve($r,`Creating RPC '${e}' stream ${i}: ${p}`,u);const h=a.createWebChannel(p,u);this.I_(h);let y=!1,b=!1;const E=new c1e({Yo:_=>{b?Ve($r,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(y||(Ve($r,`Opening RPC '${e}' stream ${i} transport.`),h.open(),y=!0),Ve($r,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},Zo:()=>h.close()}),S=(_,C,R)=>{_.listen(C,(I=>{try{R(I)}catch(O){setTimeout((()=>{throw O}),0)}}))};return S(h,uh.EventType.OPEN,(()=>{b||(Ve($r,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),S(h,uh.EventType.CLOSE,(()=>{b||(b=!0,Ve($r,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(h))})),S(h,uh.EventType.ERROR,(_=>{b||(b=!0,pp($r,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),E.a_(new je(_e.UNAVAILABLE,"The operation could not be completed")))})),S(h,uh.EventType.MESSAGE,(_=>{var C;if(!b){const R=_.data[0];Vt(!!R,16349);const I=R,O=(I==null?void 0:I.error)||((C=I[0])==null?void 0:C.error);if(O){Ve($r,`RPC '${e}' stream ${i} received error:`,O);const U=O.status;let M=(function(z){const B=Xn[z];if(B!==void 0)return q8(B)})(U),D=O.message;M===void 0&&(M=_e.INTERNAL,D="Unknown error status: "+U+" with message "+O.message),b=!0,E.a_(new je(M,D)),h.close()}else Ve($r,`RPC '${e}' stream ${i} received:`,R),E.u_(R)}})),S(l,a8.STAT_EVENT,(_=>{_.stat===FE.PROXY?Ve($r,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===FE.NOPROXY&&Ve($r,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function nT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t){return new hxe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="PersistentStream";class iq{constructor(e,n,r,i,o,a,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rq(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===_e.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new je(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ve(NL,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ve(NL,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class d1e extends iq{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yxe(this.serializer,e),r=(function(o){if(!("targetChange"in o))return nt.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?nt.min():a.readTime?Ua(a.readTime):nt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=QE(this.serializer),n.addTarget=(function(o,a){let l;const u=a.target;if(l=GE(u)?{documents:wxe(o,u)}:{query:xxe(o,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=G8(o,a.resumeToken);const d=YE(o,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(nt.min())>0){l.readTime=z0(o,a.snapshotVersion.toTimestamp());const d=YE(o,a.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=_xe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=QE(this.serializer),n.removeTarget=e,this.q_(n)}}class p1e extends iq{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vxe(e.writeResults,e.commitTime),r=Ua(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=QE(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>bxe(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1e{}class h1e extends f1e{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new je(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Go(e,JE(n,r),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new je(_e.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(e,JE(n,r),i,a,l,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new je(_e.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class g1e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(n),this.aa=!1):Ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu="RemoteStore";class m1e{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Nu(this)&&(Ve(wu,"Restarting streams for network reachability change."),await(async function(u){const d=ot(u);d.Ea.add(4),await Bg(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Ew(d)})(this))}))})),this.Ra=new g1e(r,i)}}async function Ew(t){if(Nu(t))for(const e of t.da)await e(!0)}async function Bg(t){for(const e of t.da)await e(!1)}function oq(t,e){const n=ot(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$C(n)?qC(n):Lp(n).O_()&&BC(n,e))}function FC(t,e){const n=ot(t),r=Lp(n);n.Ia.delete(e),r.O_()&&aq(n,e),n.Ia.size===0&&(r.O_()?r.L_():Nu(n)&&n.Ra.set("Unknown"))}function BC(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lp(t).Y_(e)}function aq(t,e){t.Va.Ue(e),Lp(t).Z_(e)}function qC(t){t.Va=new uxe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Lp(t).start(),t.Ra.ua()}function $C(t){return Nu(t)&&!Lp(t).x_()&&t.Ia.size>0}function Nu(t){return ot(t).Ea.size===0}function sq(t){t.Va=void 0}async function y1e(t){t.Ra.set("Online")}async function b1e(t){t.Ia.forEach(((e,n)=>{BC(t,e)}))}async function v1e(t,e){sq(t),$C(t)?(t.Ra.ha(e),qC(t)):t.Ra.set("Unknown")}async function w1e(t,e,n){if(t.Ra.set("Online"),e instanceof H8&&e.state===2&&e.cause)try{await(async function(i,o){const a=o.cause;for(const l of o.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){Ve(wu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await j0(t,r)}else if(e instanceof kb?t.Va.Ze(e):e instanceof $8?t.Va.st(e):t.Va.tt(e),!n.isEqual(nt.min()))try{const r=await nq(t.localStore);n.compareTo(r)>=0&&await(function(o,a){const l=o.Va.Tt(a);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=o.Ia.get(d);p&&o.Ia.set(d,p.withResumeToken(u.resumeToken,a))}})),l.targetMismatches.forEach(((u,d)=>{const p=o.Ia.get(u);if(!p)return;o.Ia.set(u,p.withResumeToken(Ur.EMPTY_BYTE_STRING,p.snapshotVersion)),aq(o,u);const h=new Wl(p.target,u,d,p.sequenceNumber);BC(o,h)})),o.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Ve(wu,"Failed to raise snapshot:",r),await j0(t,r)}}async function j0(t,e,n){if(!zp(e))throw e;t.Ea.add(1),await Bg(t),t.Ra.set("Offline"),n||(n=()=>nq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ve(wu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ew(t)}))}function lq(t,e){return e().catch((n=>j0(t,n,e)))}async function Sw(t){const e=ot(t),n=dc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:CC;for(;x1e(e);)try{const i=await n1e(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,k1e(e,i)}catch(i){await j0(e,i)}cq(e)&&uq(e)}function x1e(t){return Nu(t)&&t.Ta.length<10}function k1e(t,e){t.Ta.push(e);const n=dc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function cq(t){return Nu(t)&&!dc(t).x_()&&t.Ta.length>0}function uq(t){dc(t).start()}async function _1e(t){dc(t).ra()}async function T1e(t){const e=dc(t);for(const n of t.Ta)e.ea(n.mutations)}async function E1e(t,e,n){const r=t.Ta.shift(),i=DC.from(r,e,n);await lq(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Sw(t)}async function S1e(t,e){e&&dc(t).X_&&await(async function(r,i){if((function(a){return sxe(a)&&a!==_e.ABORTED})(i.code)){const o=r.Ta.shift();dc(r).B_(),await lq(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Sw(r)}})(t,e),cq(t)&&uq(t)}async function RL(t,e){const n=ot(t);n.asyncQueue.verifyOperationInProgress(),Ve(wu,"RemoteStore received new credentials");const r=Nu(n);n.Ea.add(3),await Bg(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ew(n)}async function A1e(t,e){const n=ot(t);e?(n.Ea.delete(2),await Ew(n)):e||(n.Ea.add(2),await Bg(n),n.Ra.set("Unknown"))}function Lp(t){return t.ma||(t.ma=(function(n,r,i){const o=ot(n);return o.sa(),new d1e(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:y1e.bind(null,t),t_:b1e.bind(null,t),r_:v1e.bind(null,t),H_:w1e.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),$C(t)?qC(t):t.Ra.set("Unknown")):(await t.ma.stop(),sq(t))}))),t.ma}function dc(t){return t.fa||(t.fa=(function(n,r,i){const o=ot(n);return o.sa(),new p1e(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:_1e.bind(null,t),r_:S1e.bind(null,t),ta:T1e.bind(null,t),na:E1e.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Sw(t)):(await t.fa.stop(),t.Ta.length>0&&(Ve(wu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,l=new HC(e,n,a,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function GC(t,e){if(Vs("AsyncQueue",`${e}: ${t}`),zp(t))return new je(_e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{static emptySet(e){return new Kd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Je.comparator(n.key,r.key):(n,r)=>Je.comparator(n.key,r.key),this.keyedMap=dh(),this.sortedSet=new kn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Kd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Kd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.ga=new kn(Je.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ze(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class vp{constructor(e,n,r,i,o,a,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new vp(e,n,Kd.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1e{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class I1e{constructor(){this.queries=PL(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ot(n),o=i.queries;i.queries=PL(),o.forEach(((a,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new je(_e.ABORTED,"Firestore shutting down"))}}function PL(){return new Iu((t=>N8(t)),bw)}async function KC(t,e){const n=ot(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new C1e,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=GC(a,`Initialization of query '${Dd(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&YC(n)}async function WC(t,e){const n=ot(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function N1e(t,e){const n=ot(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const l of a.Sa)l.Fa(i)&&(r=!0);a.wa=i}}r&&YC(n)}function R1e(t,e,n){const r=ot(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function YC(t){t.Ca.forEach((e=>{e.next()}))}var tS,DL;(DL=tS||(tS={})).Ma="default",DL.Cache="cache";class JC{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e){this.key=e}}class pq{constructor(e){this.key=e}}class O1e{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=R8(e),this.tu=new Kd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new OL,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,h)=>{const y=i.get(p),b=vw(this.query,h)?h:null,E=!!y&&this.mutatedKeys.has(y.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let _=!1;y&&b?y.data.isEqual(b.data)?E!==S&&(r.track({type:3,doc:b}),_=!0):this.su(y,b)||(r.track({type:2,doc:b}),_=!0,(u&&this.eu(b,u)>0||d&&this.eu(b,d)<0)&&(l=!0)):!y&&b?(r.track({type:0,doc:b}),_=!0):y&&!b&&(r.track({type:1,doc:y}),_=!0,(u||d)&&(l=!0)),_&&(b?(a=a.add(b),o=S?o.add(p):o.delete(p)):(a=a.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{tu:a,iu:r,Cs:l,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((p,h)=>(function(b,E){const S=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze(20277,{Rt:_})}};return S(b)-S(E)})(p.type,h.type)||this.eu(p.doc,h.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,d=u!==this.Za;return this.Za=u,a.length!==0||d?{snapshot:new vp(this.query,e.tu,o,a,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OL,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new pq(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new dq(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=xt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const XC="SyncEngine";class P1e{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class D1e{constructor(e){this.key=e,this.hu=!1}}class M1e{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Iu((l=>N8(l)),bw),this.Iu=new Map,this.Eu=new Set,this.du=new kn(Je.comparator),this.Au=new Map,this.Ru=new LC,this.Vu={},this.mu=new Map,this.fu=bp.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function z1e(t,e,n=!0){const r=bq(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await fq(r,e,n,!0),i}async function L1e(t,e){const n=bq(t);await fq(n,e,!0,!1)}async function fq(t,e,n,r){const i=await r1e(t.localStore,ja(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await j1e(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&oq(t.remoteStore,i),l}async function j1e(t,e,n,r,i){t.pu=(h,y,b)=>(async function(S,_,C,R){let I=_.view.ru(C);I.Cs&&(I=await SL(S.localStore,_.query,!1).then((({documents:D})=>_.view.ru(D,I))));const O=R&&R.targetChanges.get(_.targetId),U=R&&R.targetMismatches.get(_.targetId)!=null,M=_.view.applyChanges(I,S.isPrimaryClient,O,U);return zL(S,_.targetId,M.au),M.snapshot})(t,h,y,b);const o=await SL(t.localStore,e,!0),a=new O1e(e,o.Qs),l=a.ru(o.documents),u=Fg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(l,t.isPrimaryClient,u);zL(t,n,d.au);const p=new P1e(e,n,a);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function U1e(t,e,n){const r=ot(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((a=>!bw(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ZE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&FC(r.remoteStore,i.targetId),nS(r,i.targetId)})).catch(Mp)):(nS(r,i.targetId),await ZE(r.localStore,i.targetId,!0))}async function V1e(t,e){const n=ot(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),FC(n.remoteStore,r.targetId))}async function F1e(t,e,n){const r=W1e(t);try{const i=await(function(a,l){const u=ot(a),d=fn.now(),p=l.reduce(((b,E)=>b.add(E.key)),xt());let h,y;return u.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let E=Fs(),S=xt();return u.Ns.getEntries(b,p).next((_=>{E=_,E.forEach(((C,R)=>{R.isValidDocument()||(S=S.add(C))}))})).next((()=>u.localDocuments.getOverlayedDocuments(b,E))).next((_=>{h=_;const C=[];for(const R of l){const I=nxe(R,h.get(R.key).overlayedDocument);I!=null&&C.push(new wc(R.key,I,k8(I.value.mapValue),ui.exists(!0)))}return u.mutationQueue.addMutationBatch(b,d,C,l)})).next((_=>{y=_;const C=_.applyToLocalDocumentSet(h,S);return u.documentOverlayCache.saveOverlays(b,_.batchId,C)}))})).then((()=>({batchId:y.batchId,changes:P8(h)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,l,u){let d=a.Vu[a.currentUser.toKey()];d||(d=new kn(wt)),d=d.insert(l,u),a.Vu[a.currentUser.toKey()]=d})(r,i.batchId,n),await qg(r,i.changes),await Sw(r.remoteStore)}catch(i){const o=GC(i,"Failed to persist write");n.reject(o)}}async function hq(t,e){const n=ot(t);try{const r=await e1e(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const a=n.Au.get(o);a&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Vt(a.hu,14607):i.removedDocuments.size>0&&(Vt(a.hu,42227),a.hu=!1))})),await qg(n,r,e)}catch(r){await Mp(r)}}function ML(t,e,n){const r=ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(a,l){const u=ot(a);u.onlineState=l;let d=!1;u.queries.forEach(((p,h)=>{for(const y of h.Sa)y.va(l)&&(d=!0)})),d&&YC(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function B1e(t,e,n){const r=ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let a=new kn(Je.comparator);a=a.insert(o,Wr.newNoDocument(o,nt.min()));const l=xt().add(o),u=new _w(nt.min(),new Map,new kn(wt),a,l);await hq(r,u),r.du=r.du.remove(o),r.Au.delete(e),QC(r)}else await ZE(r.localStore,e,!1).then((()=>nS(r,e,n))).catch(Mp)}async function q1e(t,e){const n=ot(t),r=e.batch.batchId;try{const i=await Zxe(n.localStore,e);mq(n,r,null),gq(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qg(n,i)}catch(i){await Mp(i)}}async function $1e(t,e,n){const r=ot(t);try{const i=await(function(a,l){const u=ot(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return u.mutationQueue.lookupMutationBatch(d,l).next((h=>(Vt(h!==null,37113),p=h.keys(),u.mutationQueue.removeMutationBatch(d,h)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>u.localDocuments.getDocuments(d,p)))}))})(r.localStore,e);mq(r,e,n),gq(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qg(r,i)}catch(i){await Mp(i)}}function gq(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function mq(t,e,n){const r=ot(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function nS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||yq(t,r)}))}function yq(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(FC(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),QC(t))}function zL(t,e,n){for(const r of n)r instanceof dq?(t.Ru.addReference(r.key,e),H1e(t,r)):r instanceof pq?(Ve(XC,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||yq(t,r.key)):Ze(19791,{wu:r})}function H1e(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ve(XC,"New document in limbo: "+n),t.Eu.add(r),QC(t))}function QC(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Je(sn.fromString(e)),r=t.fu.next();t.Au.set(r,new D1e(n)),t.du=t.du.insert(n,r),oq(t.remoteStore,new Wl(ja(yw(n.path)),r,"TargetPurposeLimboResolution",hw.ce))}}async function qg(t,e,n){const r=ot(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{a.push(r.pu(u,e,n).then((d=>{var p;if((d||n)&&r.isPrimaryClient){const h=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(d){i.push(d);const h=UC.As(u.targetId,d);o.push(h)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(u,d){const p=ot(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(h=>Ee.forEach(d,(y=>Ee.forEach(y.Es,(b=>p.persistence.referenceDelegate.addReference(h,y.targetId,b))).next((()=>Ee.forEach(y.ds,(b=>p.persistence.referenceDelegate.removeReference(h,y.targetId,b)))))))))}catch(h){if(!zp(h))throw h;Ve(VC,"Failed to update sequence numbers: "+h)}for(const h of d){const y=h.targetId;if(!h.fromCache){const b=p.Ms.get(y),E=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(y,S)}}})(r.localStore,o))}async function G1e(t,e){const n=ot(t);if(!n.currentUser.isEqual(e)){Ve(XC,"User change. New user:",e.toKey());const r=await tq(n.localStore,e);n.currentUser=e,(function(o,a){o.mu.forEach((l=>{l.forEach((u=>{u.reject(new je(_e.CANCELLED,a))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qg(n,r.Ls)}}function K1e(t,e){const n=ot(t),r=n.Au.get(e);if(r&&r.hu)return xt().add(r.key);{let i=xt();const o=n.Iu.get(e);if(!o)return i;for(const a of o){const l=n.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}function bq(t){const e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K1e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B1e.bind(null,e),e.Pu.H_=N1e.bind(null,e.eventManager),e.Pu.yu=R1e.bind(null,e.eventManager),e}function W1e(t){const e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q1e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$1e.bind(null,e),e}class U0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Qxe(this.persistence,new Yxe,e.initialUser,this.serializer)}Cu(e){return new eq(jC.mi,this.serializer)}Du(e){return new o1e}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}U0.provider={build:()=>new U0};class Y1e extends U0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Vt(this.persistence.referenceDelegate instanceof L0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Dxe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Si.withCacheSize(this.cacheSizeBytes):Si.DEFAULT;return new eq((r=>L0.mi(r,n)),this.serializer)}}class rS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ML(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=G1e.bind(null,this.syncEngine),await A1e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new I1e})()}createDatastore(e){const n=Tw(e.databaseInfo.databaseId),r=(function(o){return new u1e(o)})(e.databaseInfo);return(function(o,a,l,u){return new h1e(o,a,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,a,l){return new m1e(r,i,o,a,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>ML(this.syncEngine,n,0)),(function(){return IL.v()?new IL:new a1e})())}createSyncEngine(e,n){return(function(i,o,a,l,u,d,p){const h=new M1e(i,o,a,l,u,d);return p&&(h.gu=!0),h})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=ot(i);Ve(wu,"RemoteStore shutting down."),o.Ea.add(5),await Bg(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}rS.provider={build:()=>new rS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="FirestoreClient";class J1e{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gr.UNAUTHENTICATED,this.clientId=AC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async a=>{Ve(pc,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Ve(pc,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=GC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rT(t,e){t.asyncQueue.verifyOperationInProgress(),Ve(pc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await tq(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function LL(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X1e(t);Ve(pc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>RL(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>RL(e.remoteStore,i))),t._onlineComponents=e}async function X1e(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve(pc,"Using user provided OfflineComponentProvider");try{await rT(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===_e.FAILED_PRECONDITION||i.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;pp("Error using user provided cache. Falling back to memory cache: "+n),await rT(t,new U0)}}else Ve(pc,"Using default OfflineComponentProvider"),await rT(t,new Y1e(void 0));return t._offlineComponents}async function vq(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve(pc,"Using user provided OnlineComponentProvider"),await LL(t,t._uninitializedComponentsProvider._online)):(Ve(pc,"Using default OnlineComponentProvider"),await LL(t,new rS))),t._onlineComponents}function Q1e(t){return vq(t).then((e=>e.syncEngine))}async function V0(t){const e=await vq(t),n=e.eventManager;return n.onListen=z1e.bind(null,e.syncEngine),n.onUnlisten=U1e.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L1e.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V1e.bind(null,e.syncEngine),n}function Z1e(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,l,u,d){const p=new ZC({next:y=>{p.Nu(),a.enqueueAndForget((()=>WC(o,h)));const b=y.docs.has(l);!b&&y.fromCache?d.reject(new je(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&u&&u.source==="server"?d.reject(new je(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),h=new JC(yw(l.path),p,{includeMetadataChanges:!0,qa:!0});return KC(o,h)})(await V0(t),t.asyncQueue,e,n,r))),r.promise}function eke(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,l,u,d){const p=new ZC({next:y=>{p.Nu(),a.enqueueAndForget((()=>WC(o,h))),y.fromCache&&u.source==="server"?d.reject(new je(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),h=new JC(l,p,{includeMetadataChanges:!0,qa:!0});return KC(o,h)})(await V0(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq="firestore.googleapis.com",UL=!0;class VL{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new je(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xq,this.ssl=UL}else this.host=e.host,this.ssl=e.ssl??UL;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Z8;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Oxe)throw new je(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mwe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wq(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new je(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new je(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new je(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Aw{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VL({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VL(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new awe;switch(r.type){case"firstParty":return new uwe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=jL.get(n);r&&(Ve("ComponentProvider","Removing Datastore"),jL.delete(n),r.terminate())})(this),Promise.resolve()}}function tke(t,e,n,r={}){var d;t=ci(t,Aw);const i=Qa(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(uw(`https://${l}`),dw("Firestore",!0)),o.host!==xq&&o.host!==l&&pp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:l,ssl:i,emulatorOptions:r};if(!Ls(u,a)&&(t._setSettings(u),r.mockUserToken)){let p,h;if(typeof r.mockUserToken=="string")p=r.mockUserToken,h=Gr.MOCK_USER;else{p=XB(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new je(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Gr(y)}t._authCredentials=new swe(new u8(p,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ru(this.firestore,e,this._query)}}class Cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}toJSON(){return{type:Cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(jg(n,Cn._jsonSchema))return new Cn(e,r||null,new Je(sn.fromString(n.referencePath)))}}Cn._jsonSchemaVersion="firestore/documentReference/1.0",Cn._jsonSchema={type:tr("string",Cn._jsonSchemaVersion),referencePath:tr("string")};class nc extends Ru{constructor(e,n,r){super(e,n,yw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new Je(e))}withConverter(e){return new nc(this.firestore,e,this._path)}}function Ao(t,e,...n){if(t=Bt(t),d8("collection","path",e),t instanceof Aw){const r=sn.fromString(e,...n);return Z5(r),new nc(t,null,r)}{if(!(t instanceof Cn||t instanceof nc))throw new je(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(sn.fromString(e,...n));return Z5(r),new nc(t.firestore,null,r)}}function An(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=AC.newId()),d8("doc","path",e),t instanceof Aw){const r=sn.fromString(e,...n);return Q5(r),new Cn(t,null,new Je(r))}{if(!(t instanceof Cn||t instanceof nc))throw new je(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(sn.fromString(e,...n));return Q5(r),new Cn(t.firestore,t instanceof nc?t.converter:null,new Je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="AsyncQueue";class BL{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rq(this,"async_queue_retry"),this._c=()=>{const r=nT();r&&Ve(FL,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=nT();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=nT();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zp(e))throw e;Ve(FL,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",qL(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=HC.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Ze(47125,{Pc:qL(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qL(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Xa extends Aw{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new BL,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BL(e),this._firestoreClient=void 0,await e}}}function nke(t,e){const n=typeof t=="object"?t:Lg(),r=typeof t=="string"?t:N0,i=Pp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=TC("firestore");o&&tke(i,...o)}return i}function $g(t){if(t._terminated)throw new je(_e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rke(t),t._firestoreClient}function rke(t){var r,i,o;const e=t._freezeSettings(),n=(function(l,u,d,p){return new Awe(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,wq(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new J1e(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eo(Ur.fromBase64String(e))}catch(n){throw new je(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Eo(Ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Eo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jg(e,Eo._jsonSchema))return Eo.fromBase64String(e.bytes)}}Eo._jsonSchemaVersion="firestore/bytes/1.0",Eo._jsonSchema={type:tr("string",Eo._jsonSchemaVersion),bytes:tr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new je(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new je(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new je(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Va._jsonSchemaVersion}}static fromJSON(e){if(jg(e,Va._jsonSchema))return new Va(e.latitude,e.longitude)}}Va._jsonSchemaVersion="firestore/geoPoint/1.0",Va._jsonSchema={type:tr("string",Va._jsonSchemaVersion),latitude:tr("number"),longitude:tr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jg(e,Fa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Fa(e.vectorValues);throw new je(_e.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fa._jsonSchemaVersion="firestore/vectorValue/1.0",Fa._jsonSchema={type:tr("string",Fa._jsonSchemaVersion),vectorValues:tr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ike=/^__.*__$/;class oke{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vg(e,this.data,n,this.fieldTransforms)}}class kq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _q(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze(40011,{Ac:t})}}class Cw{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return F0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_q(this.Ac)&&ike.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ake{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tw(e)}Cc(e,n,r,i=!1){return new Cw({Ac:e,methodName:n,Dc:r,path:Lr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kg(t){const e=t._freezeSettings(),n=Tw(t._databaseId);return new ake(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eI(t,e,n,r,i,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);rI("Data must be an object, but it was:",a,r);const l=Aq(r,a);let u,d;if(o.merge)u=new eo(a.fieldMask),d=a.fieldTransforms;else if(o.mergeFields){const p=[];for(const h of o.mergeFields){const y=iS(e,h,n);if(!a.contains(y))throw new je(_e.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Iq(p,y)||p.push(y)}u=new eo(p),d=a.fieldTransforms.filter((h=>u.covers(h.field)))}else u=null,d=a.fieldTransforms;return new oke(new Ci(l),u,d)}class Iw extends Gg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iw}}function Tq(t,e,n){return new Cw({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class tI extends Gg{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Tq(this,e,!0),r=this.vc.map((o=>Ou(o,n))),i=new mp(r);return new V8(e.path,i)}isEqual(e){return e instanceof tI&&Ls(this.vc,e.vc)}}class nI extends Gg{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Tq(this,e,!0),r=this.vc.map((o=>Ou(o,n))),i=new yp(r);return new V8(e.path,i)}isEqual(e){return e instanceof nI&&Ls(this.vc,e.vc)}}function Eq(t,e,n,r){const i=t.Cc(1,e,n);rI("Data must be an object, but it was:",i,r);const o=[],a=Ci.empty();vc(r,((u,d)=>{const p=iI(e,u,n);d=Bt(d);const h=i.yc(p);if(d instanceof Iw)o.push(p);else{const y=Ou(d,h);y!=null&&(o.push(p),a.set(p,y))}}));const l=new eo(o);return new kq(a,l,i.fieldTransforms)}function Sq(t,e,n,r,i,o){const a=t.Cc(1,e,n),l=[iS(e,r,n)],u=[i];if(o.length%2!=0)throw new je(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)l.push(iS(e,o[y])),u.push(o[y+1]);const d=[],p=Ci.empty();for(let y=l.length-1;y>=0;--y)if(!Iq(d,l[y])){const b=l[y];let E=u[y];E=Bt(E);const S=a.yc(b);if(E instanceof Iw)d.push(b);else{const _=Ou(E,S);_!=null&&(d.push(b),p.set(b,_))}}const h=new eo(d);return new kq(p,h,a.fieldTransforms)}function ske(t,e,n,r=!1){return Ou(n,t.Cc(r?4:3,e))}function Ou(t,e){if(Cq(t=Bt(t)))return rI("Unsupported field value:",e,t),Aq(t,e);if(t instanceof Gg)return(function(r,i){if(!_q(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let a=0;for(const l of r){let u=Ou(l,i.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Jwe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=fn.fromDate(r);return{timestampValue:z0(i.serializer,o)}}if(r instanceof fn){const o=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:z0(i.serializer,o)}}if(r instanceof Va)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Eo)return{bytesValue:G8(i.serializer,r._byteString)};if(r instanceof Cn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fa)return(function(a,l){return{mapValue:{fields:{[w8]:{stringValue:x8},[R0]:{arrayValue:{values:a.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return PC(l.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${fw(r)}`)})(t,e)}function Aq(t,e){const n={};return h8(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vc(t,((r,i)=>{const o=Ou(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function Cq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof Va||t instanceof Eo||t instanceof Cn||t instanceof Gg||t instanceof Fa)}function rI(t,e,n){if(!Cq(n)||!p8(n)){const r=fw(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function iS(t,e,n){if((e=Bt(e))instanceof Hg)return e._internalPath;if(typeof e=="string")return iI(t,e);throw F0("Field path arguments must be of type string or ",t,!1,void 0,n)}const lke=new RegExp("[~\\*/\\[\\]]");function iI(t,e,n){if(e.search(lke)>=0)throw F0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hg(...e.split("."))._internalPath}catch{throw F0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function F0(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new je(_e.INVALID_ARGUMENT,l+t+u)}function Iq(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cke(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cke extends Nq{data(){return super.data()}}function oI(t,e){return typeof e=="string"?iI(t,e):e instanceof Hg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new je(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aI{}class uke extends aI{}function nb(t,e,...n){let r=[];e instanceof aI&&r.push(e),r=r.concat(n),(function(o){const a=o.filter((u=>u instanceof sI)).length,l=o.filter((u=>u instanceof Nw)).length;if(a>1||a>0&&l>0)throw new je(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Nw extends uke{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nw(e,n,r)}_apply(e){const n=this._parse(e);return Oq(e._query,n),new Ru(e.firestore,e.converter,KE(e._query,n))}_parse(e){const n=Kg(e.firestore);return(function(o,a,l,u,d,p,h){let y;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new je(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){GL(h,p);const E=[];for(const S of h)E.push(HL(u,o,S));y={arrayValue:{values:E}}}else y=HL(u,o,h)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||GL(h,p),y=ske(l,a,h,p==="in"||p==="not-in");return er.create(d,p,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rb(t,e,n){const r=e,i=oI("where",t);return Nw._create(i,r,n)}class sI extends aI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sI(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ta.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let a=i;const l=o.getFlattenedFilters();for(const u of l)Oq(a,u),a=KE(a,u)})(e._query,n),new Ru(e.firestore,e.converter,KE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function HL(t,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new je(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I8(e)&&n.indexOf("/")!==-1)throw new je(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(sn.fromString(n));if(!Je.isDocumentKey(r))throw new je(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sL(t,new Je(r))}if(n instanceof Cn)return sL(t,n._key);throw new je(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fw(n)}.`)}function GL(t,e){if(!Array.isArray(t)||t.length===0)throw new je(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Oq(t,e){const n=(function(i,o){for(const a of i)for(const l of a.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new je(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new je(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dke{convertValue(e,n="none"){switch(uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vc(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[R0].arrayValue)==null?void 0:i.values)==null?void 0:o.map((a=>jn(a.doubleValue)));return new Fa(n)}convertGeoPoint(e){return new Va(jn(e.latitude),jn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eg(e));default:return null}}convertTimestamp(e){const n=lc(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=sn.fromString(e);Vt(Q8(r),9688,{name:e});const i=new tg(r.get(1),r.get(3)),o=new Je(r.popFirst(5));return i.isEqual(n)||Vs(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class fh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uu extends Nq{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _b(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new je(_e.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=uu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}uu._jsonSchemaVersion="firestore/documentSnapshot/1.0",uu._jsonSchema={type:tr("string",uu._jsonSchemaVersion),bundleSource:tr("string","DocumentSnapshot"),bundleName:tr("string"),bundle:tr("string")};class _b extends uu{data(e={}){return super.data(e)}}class du{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new _b(this._firestore,this._userDataWriter,r.key,r,new fh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new je(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((l=>{const u=new _b(i._firestore,i._userDataWriter,l.doc.key,l.doc,new fh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>o||l.type!==3)).map((l=>{const u=new _b(i._firestore,i._userDataWriter,l.doc.key,l.doc,new fh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),p=a.indexOf(l.doc.key)),{type:pke(l.type),doc:u,oldIndex:d,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new je(_e.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=du._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=AC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pke(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){t=ci(t,Cn);const e=ci(t.firestore,Xa);return Z1e($g(e),t._key).then((n=>Pq(e,t,n)))}du._jsonSchemaVersion="firestore/querySnapshot/1.0",du._jsonSchema={type:tr("string",du._jsonSchemaVersion),bundleSource:tr("string","QuerySnapshot"),bundleName:tr("string"),bundle:tr("string")};class uI extends dke{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function Ii(t){t=ci(t,Ru);const e=ci(t.firestore,Xa),n=$g(e),r=new uI(e);return Rq(t._query),eke(n,t._query).then((i=>new du(e,r,t,i)))}function dI(t,e,n){t=ci(t,Cn);const r=ci(t.firestore,Xa),i=lI(t.converter,e,n);return Jg(r,[eI(Kg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ui.none())])}function ei(t,e,n,...r){t=ci(t,Cn);const i=ci(t.firestore,Xa),o=Kg(i);let a;return a=typeof(e=Bt(e))=="string"||e instanceof Hg?Sq(o,"updateDoc",t._key,e,n,r):Eq(o,"updateDoc",t._key,e),Jg(i,[a.toMutation(t._key,ui.exists(!0))])}function Wg(t){return Jg(ci(t.firestore,Xa),[new kw(t._key,ui.none())])}function Yg(t,e){const n=ci(t.firestore,Xa),r=An(t),i=lI(t.converter,e);return Jg(n,[eI(Kg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ui.exists(!1))]).then((()=>r))}function pI(t,...e){var u,d,p;t=Bt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||$L(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if($L(e[r])){const h=e[r];e[r]=(u=h.next)==null?void 0:u.bind(h),e[r+1]=(d=h.error)==null?void 0:d.bind(h),e[r+2]=(p=h.complete)==null?void 0:p.bind(h)}let o,a,l;if(t instanceof Cn)a=ci(t.firestore,Xa),l=yw(t._key.path),o={next:h=>{e[r]&&e[r](Pq(a,t,h))},error:e[r+1],complete:e[r+2]};else{const h=ci(t,Ru);a=ci(h.firestore,Xa),l=h._query;const y=new uI(a);o={next:b=>{e[r]&&e[r](new du(a,y,h,b))},error:e[r+1],complete:e[r+2]},Rq(t._query)}return(function(y,b,E,S){const _=new ZC(S),C=new JC(b,_,E);return y.asyncQueue.enqueueAndForget((async()=>KC(await V0(y),C))),()=>{_.Nu(),y.asyncQueue.enqueueAndForget((async()=>WC(await V0(y),C)))}})($g(a),l,i,o)}function Jg(t,e){return(function(r,i){const o=new Is;return r.asyncQueue.enqueueAndForget((async()=>F1e(await Q1e(r),i,o))),o.promise})($g(t),e)}function Pq(t,e,n){const r=n.docs.get(e._key),i=new uI(t);return new uu(t,i,e._key,r,new fh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fke{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Kg(e)}set(e,n,r){this._verifyNotCommitted();const i=iT(e,this._firestore),o=lI(i.converter,n,r),a=eI(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,ui.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=iT(e,this._firestore);let a;return a=typeof(n=Bt(n))=="string"||n instanceof Hg?Sq(this._dataReader,"WriteBatch.update",o._key,n,r,i):Eq(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,ui.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=iT(e,this._firestore);return this._mutations=this._mutations.concat(new kw(n._key,ui.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function iT(t,e){if((t=Bt(t)).firestore!==e)throw new je(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function oS(...t){return new tI("arrayUnion",t)}function B0(...t){return new nI("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t){return $g(t=ci(t,Xa)),new fke(t,(e=>Jg(t,e)))}(function(e,n=!0){(function(i){Dp=i})(Cu),Us(new Ya("firestore",((r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new Xa(new lwe(r.getProvider("auth-internal")),new dwe(a,r.getProvider("app-check-internal")),(function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new je(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tg(d.options.projectId,p)})(a,i),a);return o={useFetchStreams:n,...o},l._setSettings(o),l}),"PUBLIC").setMultipleInstances(!0)),Di(W5,Y5,e),Di(W5,Y5,"esm2020")})();function Dq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hke=Dq,Mq=new Mg("auth","Firebase",Dq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new pw("@firebase/auth");function gke(t,...e){$0.logLevel<=vt.WARN&&$0.warn(`Auth (${Cu}): ${t}`,...e)}function Tb(t,...e){$0.logLevel<=vt.ERROR&&$0.error(`Auth (${Cu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t,...e){throw fI(t,...e)}function Ba(t,...e){return fI(t,...e)}function zq(t,e,n){const r={...hke(),[e]:n};return new Mg("auth","Firebase",r).create(e,{appName:t.name})}function qa(t){return zq(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Mq.create(t,...e)}function We(t,e,...n){if(!t)throw fI(e,...n)}function Ts(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tb(e),new Error(e)}function Bs(t,e){t||Ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function mke(){return KL()==="http:"||KL()==="https:"}function KL(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yke(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mke()||L0e()||"connection"in navigator)?navigator.onLine:!0}function bke(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bs(n>e,"Short delay should be less than long delay!"),this.isMobile=D0e()||j0e()}get(){return yke()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e){Bs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vke={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wke=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xke=new Xg(3e4,6e4);function Xs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qs(t,e,n,r,i={}){return jq(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const l=zg({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...o};return z0e()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Qa(t.emulatorConfig.host)&&(d.credentials="include"),Lq.fetch()(await Uq(t,t.config.apiHost,n,l),d)})}async function jq(t,e,n){t._canInitEmulator=!1;const r={...vke,...e};try{const i=new _ke(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw ib(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const l=o.ok?a.errorMessage:a.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ib(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw ib(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw ib(t,"user-disabled",a);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw zq(t,p,d);na(t,p)}}catch(i){if(i instanceof Mo)throw i;na(t,"network-request-failed",{message:String(i)})}}async function Qg(t,e,n,r,i={}){const o=await Qs(t,e,n,r,i);return"mfaPendingCredential"in o&&na(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Uq(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?hI(t.config,i):`${t.config.apiScheme}://${i}`;return wke.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function kke(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _ke{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ba(this.auth,"network-request-failed")),xke.get())})}}function ib(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ba(t,e,r);return i.customData._tokenResponse=n,i}function WL(t){return t!==void 0&&t.enterprise!==void 0}class Tke{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kke(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Eke(t,e){return Qs(t,"GET","/v2/recaptchaConfig",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ske(t,e){return Qs(t,"POST","/v1/accounts:delete",e)}async function G0(t,e){return Qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ake(t,e=!1){const n=Bt(t),r=await n.getIdToken(e),i=gI(r);We(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Th(oT(i.auth_time)),issuedAtTime:Th(oT(i.iat)),expirationTime:Th(oT(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function oT(t){return Number(t)*1e3}function gI(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tb("JWT malformed, contained fewer than 3 sections"),null;try{const i=KB(n);return i?JSON.parse(i):(Tb("Failed to decode base64 JWT payload"),null)}catch(i){return Tb("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function YL(t){const e=gI(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mo&&Cke(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Cke({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ike{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Th(this.lastLoginAt),this.creationTime=Th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K0(t){var h;const e=t.auth,n=await t.getIdToken(),r=await rg(t,G0(e,{idToken:n}));We(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(h=i.providerUserInfo)!=null&&h.length?Vq(i.providerUserInfo):[],a=Rke(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new aS(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function Nke(t){const e=Bt(t);await K0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Rke(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Vq(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oke(t,e){const n=await jq(t,{},async()=>{const r=zg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await Uq(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&Qa(t.emulatorConfig.host)&&(u.credentials="include"),Lq.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Pke(t,e){return Qs(t,"POST","/v2/accounts:revokeToken",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=YL(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Oke(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Wd;return r&&(We(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(We(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(We(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wd,this.toJSON())}_performRefresh(){return Ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wo{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Ike(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new aS(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await rg(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ake(this,e)}reload(){return Nke(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await K0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(qa(this.auth));const e=await this.getIdToken();return await rg(this,Ske(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:h,emailVerified:y,isAnonymous:b,providerData:E,stsTokenManager:S}=n;We(h&&S,e,"internal-error");const _=Wd.fromJSON(this.name,S);We(typeof h=="string",e,"internal-error"),Ml(r,e.name),Ml(i,e.name),We(typeof y=="boolean",e,"internal-error"),We(typeof b=="boolean",e,"internal-error"),Ml(o,e.name),Ml(a,e.name),Ml(l,e.name),Ml(u,e.name),Ml(d,e.name),Ml(p,e.name);const C=new Wo({uid:h,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:b,photoURL:a,phoneNumber:o,tenantId:l,stsTokenManager:_,createdAt:d,lastLoginAt:p});return E&&Array.isArray(E)&&(C.providerData=E.map(R=>({...R}))),u&&(C._redirectEventId=u),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Wd;i.updateFromServerResponse(n);const o=new Wo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await K0(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];We(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Vq(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new Wd;l.updateFromIdToken(r);const u=new Wo({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new aS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new Map;function Es(t){Bs(t instanceof Function,"Expected a class definition");let e=JL.get(t);return e?(Bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JL.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Fq.type="NONE";const XL=Fq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t,e,n){return`firebase:${t}:${e}:${n}`}class Yd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Eb(this.userKey,i.apiKey,o),this.fullPersistenceKey=Eb("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await G0(this.auth,{idToken:e}).catch(()=>{});return n?Wo._fromGetAccountInfoResponse(this.auth,n,e):null}return Wo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yd(Es(XL),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Es(XL);const a=Eb(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const p=await d._get(a);if(p){let h;if(typeof p=="string"){const y=await G0(e,{idToken:p}).catch(()=>{});if(!y)break;h=await Wo._fromGetAccountInfoResponse(e,y,p)}else h=Wo._fromJSON(e,p);d!==o&&(l=h),o=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Yd(o,e,r):(o=u[0],l&&await o._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new Yd(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Bq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kq(e))return"Blackberry";if(Wq(e))return"Webos";if(qq(e))return"Safari";if((e.includes("chrome/")||$q(e))&&!e.includes("edge/"))return"Chrome";if(Gq(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Bq(t=Xr()){return/firefox\//i.test(t)}function qq(t=Xr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $q(t=Xr()){return/crios\//i.test(t)}function Hq(t=Xr()){return/iemobile/i.test(t)}function Gq(t=Xr()){return/android/i.test(t)}function Kq(t=Xr()){return/blackberry/i.test(t)}function Wq(t=Xr()){return/webos/i.test(t)}function mI(t=Xr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Dke(t=Xr()){var e;return mI(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Mke(){return U0e()&&document.documentMode===10}function Yq(t=Xr()){return mI(t)||Gq(t)||Wq(t)||Kq(t)||/windows phone/i.test(t)||Hq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(t,e=[]){let n;switch(t){case"Browser":n=QL(Xr());break;case"Worker":n=`${QL(Xr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zke{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,l)=>{try{const u=e(o);a(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lke(t,e={}){return Qs(t,"GET","/v2/passwordPolicy",Xs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jke=6;class Uke{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jke,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vke{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZL(this),this.idTokenSubscription=new ZL(this),this.beforeStateQueue=new zke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Es(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Yd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await G0(this,{idToken:e}),r=await Wo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Yr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await K0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bke()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(qa(this));const n=e?Bt(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yr(this.app)?Promise.reject(qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Lke(this),n=new Uke(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pke(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Es(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await Yd.create(this,[Es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&gke(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function xc(t){return Bt(t)}class ZL{constructor(e){this.auth=e,this.observer=null,this.addObserver=K0e(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fke(t){Rw=t}function Xq(t){return Rw.loadJS(t)}function Bke(){return Rw.recaptchaEnterpriseScript}function qke(){return Rw.gapiScript}function $ke(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Hke{constructor(){this.enterprise=new Gke}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Gke{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Kke="recaptcha-enterprise",Qq="NO_RECAPTCHA";class Wke{constructor(e){this.type=Kke,this.auth=xc(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,l)=>{Eke(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Tke(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,a(d.siteKey)}}).catch(u=>{l(u)})})}function i(o,a,l){const u=window.grecaptcha;WL(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(d=>{a(d)}).catch(()=>{a(Qq)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Hke().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(l=>{if(!n&&WL(window.grecaptcha))i(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Bke();u.length!==0&&(u+=l),Xq(u).then(()=>{i(l,o,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function ej(t,e,n,r=!1,i=!1){const o=new Wke(t);let a;if(i)a=Qq;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function W0(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ej(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ej(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yke(t,e){const n=Pp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ls(o,e??{}))return i;na(i,"already-initialized")}return n.initialize({options:e})}function Jke(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Xke(t,e,n){const r=xc(t);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Zq(e),{host:a,port:l}=Qke(e),u=l===null?"":`:${l}`,d={url:`${o}//${a}${u}/`},p=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(Ls(d,r.config.emulator)&&Ls(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Qa(a)?(uw(`${o}//${a}${u}`),dw("Auth",!0)):Zke()}function Zq(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Qke(t){const e=Zq(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:tj(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:tj(a)}}}function tj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Zke(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,n){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}async function e_e(t,e){return Qs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t_e(t,e){return Qg(t,"POST","/v1/accounts:signInWithPassword",Xs(t,e))}async function n_e(t,e){return Qs(t,"POST","/v1/accounts:sendOobCode",Xs(t,e))}async function r_e(t,e){return n_e(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i_e(t,e){return Qg(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}async function o_e(t,e){return Qg(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends yI{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ig(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ig(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W0(e,n,"signInWithPassword",t_e);case"emailLink":return i_e(e,{email:this._email,oobCode:this._password});default:na(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W0(e,r,"signUpPassword",e_e);case"emailLink":return o_e(e,{idToken:n,email:this._email,oobCode:this._password});default:na(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(t,e){return Qg(t,"POST","/v1/accounts:signInWithIdp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_e="http://localhost";class xu extends yI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):na("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const a=new xu(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Jd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Jd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Jd(e,n)}buildRequest(){const e={requestUri:a_e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_e(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function l_e(t){const e=lh(ch(t)).link,n=e?lh(ch(e)).deep_link_id:null,r=lh(ch(t)).deep_link_id;return(r?lh(ch(r)).link:null)||r||n||e||t}class Ow{constructor(e){const n=lh(ch(e)),r=n.apiKey??null,i=n.oobCode??null,o=s_e(n.mode??null);We(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=l_e(e);try{return new Ow(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this.providerId=Pu.PROVIDER_ID}static credential(e,n){return ig._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ow.parseLink(n);return We(r,"argument-error"),ig._fromEmailAndCode(e,r.code,r.tenantId)}}Pu.PROVIDER_ID="password";Pu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg extends e${constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends Zg{constructor(){super("facebook.com")}static credential(e){return xu._fromParams({providerId:Bl.PROVIDER_ID,signInMethod:Bl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bl.credentialFromTaggedObject(e)}static credentialFromError(e){return Bl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bl.credential(e.oauthAccessToken)}catch{return null}}}Bl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends Zg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xu._fromParams({providerId:ql.PROVIDER_ID,signInMethod:ql.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ql.credentialFromTaggedObject(e)}static credentialFromError(e){return ql.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ql.credential(n,r)}catch{return null}}}ql.GOOGLE_SIGN_IN_METHOD="google.com";ql.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends Zg{constructor(){super("github.com")}static credential(e){return xu._fromParams({providerId:$l.PROVIDER_ID,signInMethod:$l.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $l.credentialFromTaggedObject(e)}static credentialFromError(e){return $l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $l.credential(e.oauthAccessToken)}catch{return null}}}$l.GITHUB_SIGN_IN_METHOD="github.com";$l.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends Zg{constructor(){super("twitter.com")}static credential(e,n){return xu._fromParams({providerId:Hl.PROVIDER_ID,signInMethod:Hl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hl.credentialFromTaggedObject(e)}static credentialFromError(e){return Hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hl.credential(n,r)}catch{return null}}}Hl.TWITTER_SIGN_IN_METHOD="twitter.com";Hl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c_e(t,e){return Qg(t,"POST","/v1/accounts:signUp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Wo._fromIdTokenResponse(e,r,i),a=nj(r);return new ku({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=nj(r);return new ku({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function nj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0 extends Mo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Y0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Y0(e,n,r,i)}}function t$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Y0._fromErrorAndOperation(t,o,e,r):o})}async function u_e(t,e,n=!1){const r=await rg(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ku._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d_e(t,e,n=!1){const{auth:r}=t;if(Yr(r.app))return Promise.reject(qa(r));const i="reauthenticate";try{const o=await rg(t,t$(r,i,e,t),n);We(o.idToken,r,"internal-error");const a=gI(o.idToken);We(a,r,"internal-error");const{sub:l}=a;return We(t.uid===l,r,"user-mismatch"),ku._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&na(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n$(t,e,n=!1){if(Yr(t.app))return Promise.reject(qa(t));const r="signIn",i=await t$(t,r,e),o=await ku._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function r$(t,e){return n$(xc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_e(t,e,n){var r;We(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),We(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),We(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(We(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(We(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i$(t){const e=xc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function f_e(t,e,n){if(Yr(t.app))return Promise.reject(qa(t));const r=xc(t),a=await W0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c_e).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&i$(t),u}),l=await ku._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function h_e(t,e,n){return Yr(t.app)?Promise.reject(qa(t)):r$(Bt(t),Pu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&i$(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g_e(t,e,n){const r=xc(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){We(l.handleCodeInApp,r,"argument-error"),l&&p_e(r,a,l)}o(i,n),await W0(r,i,"getOobCode",r_e)}function m_e(t,e){const n=Ow.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function y_e(t,e,n){if(Yr(t.app))return Promise.reject(qa(t));const r=Bt(t),i=Pu.credentialWithLink(e,n||H0());return We(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),r$(r,i)}function b_e(t,e,n,r){return Bt(t).onIdTokenChanged(e,n,r)}function v_e(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}function w_e(t,e,n,r){return Bt(t).onAuthStateChanged(e,n,r)}function x_e(t){return Bt(t).signOut()}const J0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(J0,"1"),this.storage.removeItem(J0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_e=1e3,__e=10;class a$ extends o${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);Mke()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,__e):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},k_e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}a$.type="LOCAL";const T_e=a$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s$ extends o${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}s$.type="SESSION";const l$=s$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_e(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Pw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async d=>d(n.origin,o)),u=await E_e(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((l,u)=>{const d=bI("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const y=h;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(y.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(){return window}function A_e(t){$a().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(){return typeof $a().WorkerGlobalScope<"u"&&typeof $a().importScripts=="function"}async function C_e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I_e(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function N_e(){return c$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$="firebaseLocalStorageDb",R_e=1,X0="firebaseLocalStorage",d$="fbase_key";class em{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dw(t,e){return t.transaction([X0],e?"readwrite":"readonly").objectStore(X0)}function O_e(){const t=indexedDB.deleteDatabase(u$);return new em(t).toPromise()}function sS(){const t=indexedDB.open(u$,R_e);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(X0,{keyPath:d$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(X0)?e(r):(r.close(),await O_e(),e(await sS()))})})}async function rj(t,e,n){const r=Dw(t,!0).put({[d$]:e,value:n});return new em(r).toPromise()}async function P_e(t,e){const n=Dw(t,!1).get(e),r=await new em(n).toPromise();return r===void 0?null:r.value}function ij(t,e){const n=Dw(t,!0).delete(e);return new em(n).toPromise()}const D_e=800,M_e=3;class p${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>M_e)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return c$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pw._getInstance(N_e()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await C_e(),!this.activeServiceWorker)return;this.sender=new S_e(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I_e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sS();return await rj(e,J0,"1"),await ij(e,J0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>P_e(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ij(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Dw(i,!1).getAll();return new em(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D_e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p$.type="LOCAL";const z_e=p$;new Xg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_e(t,e){return e?Es(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI extends yI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function j_e(t){return n$(t.auth,new vI(t),t.bypassAuthState)}function U_e(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),d_e(n,new vI(t),t.bypassAuthState)}async function V_e(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),u_e(n,new vI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j_e;case"linkViaPopup":case"linkViaRedirect":return V_e;case"reauthViaPopup":case"reauthViaRedirect":return U_e;default:na(this.auth,"internal-error")}}resolve(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_e=new Xg(2e3,1e4);class Vd extends f${constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Vd.currentPopupAction&&Vd.currentPopupAction.cancel(),Vd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){Bs(this.filter.length===1,"Popup operations only handle one event");const e=bI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ba(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ba(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ba(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F_e.get())};e()}}Vd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_e="pendingRedirect",Sb=new Map;class q_e extends f${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sb.get(this.auth._key());if(!e){try{const r=await $_e(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sb.set(this.auth._key(),e)}return this.bypassAuthState||Sb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $_e(t,e){const n=K_e(e),r=G_e(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function H_e(t,e){Sb.set(t._key(),e)}function G_e(t){return Es(t._redirectPersistence)}function K_e(t){return Eb(B_e,t.config.apiKey,t.name)}async function W_e(t,e,n=!1){if(Yr(t.app))return Promise.reject(qa(t));const r=xc(t),i=L_e(r,e),a=await new q_e(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_e=600*1e3;class J_e{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X_e(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!h$(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ba(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y_e&&this.cachedEventUids.clear(),this.cachedEventUids.has(oj(e))}saveEventToCache(e){this.cachedEventUids.add(oj(e)),this.lastProcessedEventTime=Date.now()}}function oj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function h$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X_e(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q_e(t,e={}){return Qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eTe=/^https?/;async function tTe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Q_e(t);for(const n of e)try{if(nTe(n))return}catch{}na(t,"unauthorized-domain")}function nTe(t){const e=H0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!eTe.test(n))return!1;if(Z_e.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rTe=new Xg(3e4,6e4);function aj(){const t=$a().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iTe(t){return new Promise((e,n)=>{var i,o,a;function r(){aj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aj(),n(Ba(t,"network-request-failed"))},timeout:rTe.get()})}if((o=(i=$a().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=$a().gapi)!=null&&a.load)r();else{const l=$ke("iframefcb");return $a()[l]=()=>{gapi.load?r():n(Ba(t,"network-request-failed"))},Xq(`${qke()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Ab=null,e})}let Ab=null;function oTe(t){return Ab=Ab||iTe(t),Ab}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aTe=new Xg(5e3,15e3),sTe="__/auth/iframe",lTe="emulator/auth/iframe",cTe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uTe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dTe(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hI(e,lTe):`https://${t.config.authDomain}/${sTe}`,r={apiKey:e.apiKey,appName:t.name,v:Cu},i=uTe.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${zg(r).slice(1)}`}async function pTe(t){const e=await oTe(t),n=$a().gapi;return We(n,t,"internal-error"),e.open({where:document.body,url:dTe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cTe,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Ba(t,"network-request-failed"),l=$a().setTimeout(()=>{o(a)},aTe.get());function u(){$a().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fTe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hTe=500,gTe=600,mTe="_blank",yTe="http://localhost";class sj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bTe(t,e,n,r=hTe,i=gTe){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...fTe,width:r.toString(),height:i.toString(),top:o,left:a},d=Xr().toLowerCase();n&&(l=$q(d)?mTe:n),Bq(d)&&(e=e||yTe,u.scrollbars="yes");const p=Object.entries(u).reduce((y,[b,E])=>`${y}${b}=${E},`,"");if(Dke(d)&&l!=="_self")return vTe(e||"",l),new sj(null);const h=window.open(e||"",l,p);We(h,t,"popup-blocked");try{h.focus()}catch{}return new sj(h)}function vTe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wTe="__/auth/handler",xTe="emulator/auth/handler",kTe=encodeURIComponent("fac");async function lj(t,e,n,r,i,o){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cu,eventId:i};if(e instanceof e$){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",G0e(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,h]of Object.entries({}))a[p]=h}if(e instanceof Zg){const p=e.getScopes().filter(h=>h!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const u=await t._getAppCheckToken(),d=u?`#${kTe}=${encodeURIComponent(u)}`:"";return`${_Te(t)}?${zg(l).slice(1)}${d}`}function _Te({config:t}){return t.emulator?hI(t,xTe):`https://${t.authDomain}/${wTe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="webStorageSupport";class TTe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l$,this._completeRedirectFn=W_e,this._overrideRedirectResult=H_e}async _openPopup(e,n,r,i){var a;Bs((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await lj(e,n,r,H0(),i);return bTe(e,o,bI())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await lj(e,n,r,H0(),i);return A_e(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Bs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pTe(e),r=new J_e(e);return n.register("authEvent",i=>(We(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(aT,{type:aT},i=>{var a;const o=(a=i==null?void 0:i[0])==null?void 0:a[aT];o!==void 0&&n(!!o),na(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tTe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Yq()||qq()||mI()}}const ETe=TTe;var cj="@firebase/auth",uj="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class STe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ATe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CTe(t){Us(new Ya("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;We(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jq(t)},d=new Vke(r,i,o,u);return Jke(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Us(new Ya("auth-internal",e=>{const n=xc(e.getProvider("auth").getImmediate());return(r=>new STe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(cj,uj,ATe(t)),Di(cj,uj,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ITe=300,NTe=JB("authIdTokenMaxAge")||ITe;let dj=null;const RTe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NTe)return;const i=n==null?void 0:n.token;dj!==i&&(dj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function OTe(t=Lg()){const e=Pp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Yke(t,{popupRedirectResolver:ETe,persistence:[z_e,T_e,l$]}),r=JB("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=RTe(o.toString());v_e(n,a,()=>a(n.currentUser)),b_e(n,l=>a(l))}}const i=WB("auth");return i&&Xke(n,`http://${i}`),n}function PTe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Fke({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ba("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",PTe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CTe("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$="firebasestorage.googleapis.com",m$="storageBucket",DTe=120*1e3,MTe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn extends Mo{constructor(e,n,r=0){super(sT(e),`Firebase Storage: ${n} (${sT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nn||(Nn={}));function sT(t){return"storage/"+t}function wI(){const t="An unknown error occurred, please check the error payload for server response.";return new Rn(Nn.UNKNOWN,t)}function zTe(t){return new Rn(Nn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function LTe(t){return new Rn(Nn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jTe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rn(Nn.UNAUTHENTICATED,t)}function UTe(){return new Rn(Nn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function VTe(t){return new Rn(Nn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function FTe(){return new Rn(Nn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BTe(){return new Rn(Nn.CANCELED,"User canceled the upload/download.")}function qTe(t){return new Rn(Nn.INVALID_URL,"Invalid URL '"+t+"'.")}function $Te(t){return new Rn(Nn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function HTe(){return new Rn(Nn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+m$+"' property when initializing the app?")}function GTe(){return new Rn(Nn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KTe(){return new Rn(Nn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function WTe(t){return new Rn(Nn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lS(t){return new Rn(Nn.INVALID_ARGUMENT,t)}function y$(){return new Rn(Nn.APP_DELETED,"The Firebase app was deleted.")}function YTe(t){return new Rn(Nn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Eh(t,e){return new Rn(Nn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function nh(t){throw new Rn(Nn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=to.makeFromUrl(e,n)}catch{return new to(e,"")}if(r.path==="")return r;throw $Te(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function d(O){O.path_=decodeURIComponent(O.path)}const p="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${h}/${p}/b/${i}/o${y}`,"i"),E={bucket:1,path:3},S=n===g$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",C=new RegExp(`^https?://${S}/${i}/${_}`,"i"),I=[{regex:l,indices:u,postModify:o},{regex:b,indices:E,postModify:d},{regex:C,indices:{bucket:1,path:2},postModify:d}];for(let O=0;O<I.length;O++){const U=I[O],M=U.regex.exec(e);if(M){const D=M[U.indices.bucket];let L=M[U.indices.path];L||(L=""),r=new to(D,L),U.postModify(r);break}}if(r==null)throw qTe(e);return r}}class JTe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XTe(t,e,n){let r=1,i=null,o=null,a=!1,l=0;function u(){return l===2}let d=!1;function p(..._){d||(d=!0,e.apply(null,_))}function h(_){i=setTimeout(()=>{i=null,t(b,u())},_)}function y(){o&&clearTimeout(o)}function b(_,...C){if(d){y();return}if(_){y(),p.call(null,_,...C);return}if(u()||a){y(),p.call(null,_,...C);return}r<64&&(r*=2);let I;l===1?(l=2,I=0):I=(r+Math.random())*1e3,h(I)}let E=!1;function S(_){E||(E=!0,y(),!d&&(i!==null?(_||(l=2),clearTimeout(i),h(0)):_||(l=1)))}return h(0),o=setTimeout(()=>{a=!0,S(!0)},n),S}function QTe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZTe(t){return t!==void 0}function eEe(t){return typeof t=="object"&&!Array.isArray(t)}function xI(t){return typeof t=="string"||t instanceof String}function pj(t){return kI()&&t instanceof Blob}function kI(){return typeof Blob<"u"}function fj(t,e,n,r){if(r<e)throw lS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw lS(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function b$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var pu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(pu||(pu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tEe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nEe{constructor(e,n,r,i,o,a,l,u,d,p,h,y=!0,b=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=h,this.retry=y,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,S)=>{this.resolve_=E,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ob(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const l=o.getErrorCode()===pu.NO_ERROR,u=o.getStatus();if(!l||tEe(u,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===pu.ABORT;r(!1,new ob(!1,null,p));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new ob(d,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());ZTe(u)?o(u):o()}catch(u){a(u)}else if(l!==null){const u=wI();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(i.canceled){const u=this.appDelete_?y$():BTe();a(u)}else{const u=FTe();a(u)}};this.canceled_?n(!1,new ob(!1,null,!0)):this.backoffId_=XTe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&QTe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ob{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function rEe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function iEe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oEe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function aEe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function sEe(t,e,n,r,i,o,a=!0,l=!1){const u=b$(t.urlParams),d=t.url+u,p=Object.assign({},t.headers);return oEe(p,e),rEe(p,n),iEe(p,o),aEe(p,r),new nEe(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lEe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function cEe(...t){const e=lEe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(kI())return new Blob(t);throw new Rn(Nn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uEe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dEe(t){if(typeof atob>"u")throw WTe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lT{constructor(e,n){this.data=e,this.contentType=n||null}}function pEe(t,e){switch(t){case Ma.RAW:return new lT(v$(e));case Ma.BASE64:case Ma.BASE64URL:return new lT(w$(t,e));case Ma.DATA_URL:return new lT(hEe(e),gEe(e))}throw wI()}function v$(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function fEe(t){let e;try{e=decodeURIComponent(t)}catch{throw Eh(Ma.DATA_URL,"Malformed data URL.")}return v$(e)}function w$(t,e){switch(t){case Ma.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Eh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ma.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Eh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=dEe(e)}catch(i){throw i.message.includes("polyfill")?i:Eh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class x${constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Eh(Ma.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=mEe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function hEe(t){const e=new x$(t);return e.base64?w$(Ma.BASE64,e.rest):fEe(e.rest)}function gEe(t){return new x$(t).contentType}function mEe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){let r=0,i="";pj(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(pj(this.data_)){const r=this.data_,i=uEe(r,e,n);return i===null?null:new Gl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Gl(r,!0)}}static getBlob(...e){if(kI()){const n=e.map(r=>r instanceof Gl?r.data_:r);return new Gl(cEe.apply(null,n))}else{const n=e.map(a=>xI(a)?pEe(Ma.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[o++]=a[l]}),new Gl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t){let e;try{e=JSON.parse(t)}catch{return null}return eEe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yEe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bEe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function _$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vEe(t,e){return e}class ai{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||vEe}}let ab=null;function wEe(t){return!xI(t)||t.length<2?t:_$(t)}function T$(){if(ab)return ab;const t=[];t.push(new ai("bucket")),t.push(new ai("generation")),t.push(new ai("metageneration")),t.push(new ai("name","fullPath",!0));function e(o,a){return wEe(a)}const n=new ai("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new ai("size");return i.xform=r,t.push(i),t.push(new ai("timeCreated")),t.push(new ai("updated")),t.push(new ai("md5Hash",null,!0)),t.push(new ai("cacheControl",null,!0)),t.push(new ai("contentDisposition",null,!0)),t.push(new ai("contentEncoding",null,!0)),t.push(new ai("contentLanguage",null,!0)),t.push(new ai("contentType",null,!0)),t.push(new ai("metadata","customMetadata",!0)),ab=t,ab}function xEe(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new to(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function kEe(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return xEe(r,t),r}function E$(t,e,n){const r=k$(e);return r===null?null:kEe(t,r,n)}function _Ee(t,e,n,r){const i=k$(e);if(i===null||!xI(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(d=>{const p=t.bucket,h=t.fullPath,y="/b/"+a(p)+"/o/"+a(h),b=_I(y,n,r),E=b$({alt:"media",token:d});return b+E})[0]}function TEe(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class S${constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(t){if(!t)throw wI()}function EEe(t,e){function n(r,i){const o=E$(t,i,e);return A$(o!==null),o}return n}function SEe(t,e){function n(r,i){const o=E$(t,i,e);return A$(o!==null),_Ee(o,i,t.host,t._protocol)}return n}function C$(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=UTe():i=jTe():n.getStatus()===402?i=LTe(t.bucket):n.getStatus()===403?i=VTe(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function AEe(t){const e=C$(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=zTe(t.path)),o.serverResponse=i.serverResponse,o}return n}function CEe(t,e,n){const r=e.fullServerUrl(),i=_I(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,l=new S$(i,o,SEe(t,n),a);return l.errorHandler=AEe(e),l}function IEe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function NEe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=IEe(null,e)),r}function REe(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let I="";for(let O=0;O<2;O++)I=I+Math.random().toString().slice(2);return I}const u=l();a["Content-Type"]="multipart/related; boundary="+u;const d=NEe(e,r,i),p=TEe(d,n),h="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,y=`\r
--`+u+"--",b=Gl.getBlob(h,r,y);if(b===null)throw GTe();const E={name:d.fullPath},S=_I(o,t.host,t._protocol),_="POST",C=t.maxUploadRetryTime,R=new S$(S,_,EEe(t,n),C);return R.urlParams=E,R.headers=a,R.body=b.uploadData(),R.errorHandler=C$(e),R}class OEe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw nh("cannot .send() more than once");if(Qa(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class PEe extends OEe{initXhr(){this.xhr_.responseType="text"}}function I$(){return new PEe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this._service=e,n instanceof to?this._location=n:this._location=to.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _u(e,n)}get root(){const e=new to(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _$(this._location.path)}get storage(){return this._service}get parent(){const e=yEe(this._location.path);if(e===null)return null;const n=new to(this._location.bucket,e);return new _u(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw YTe(e)}}function DEe(t,e,n){t._throwIfRoot("uploadBytes");const r=REe(t.storage,t._location,T$(),new Gl(e,!0),n);return t.storage.makeRequestWithTokens(r,I$).then(i=>({metadata:i,ref:t}))}function MEe(t){t._throwIfRoot("getDownloadURL");const e=CEe(t.storage,t._location,T$());return t.storage.makeRequestWithTokens(e,I$).then(n=>{if(n===null)throw KTe();return n})}function zEe(t,e){const n=bEe(t._location.path,e),r=new to(t._location.bucket,n);return new _u(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LEe(t){return/^[A-Za-z]+:\/\//.test(t)}function jEe(t,e){return new _u(t,e)}function N$(t,e){if(t instanceof TI){const n=t;if(n._bucket==null)throw HTe();const r=new _u(n,n._bucket);return e!=null?N$(r,e):r}else return e!==void 0?zEe(t,e):t}function UEe(t,e){if(e&&LEe(e)){if(t instanceof TI)return jEe(t,e);throw lS("To use ref(service, url), the first argument must be a Storage instance.")}else return N$(t,e)}function hj(t,e){const n=e==null?void 0:e[m$];return n==null?null:to.makeFromBucketSpec(n,t)}function VEe(t,e,n,r={}){t.host=`${e}:${n}`;const i=Qa(e);i&&(uw(`https://${t.host}/b`),dw("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:XB(o,t.app.options.projectId))}class TI{constructor(e,n,r,i,o,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=a,this._bucket=null,this._host=g$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DTe,this._maxUploadRetryTime=MTe,this._requests=new Set,i!=null?this._bucket=to.makeFromBucketSpec(i,this._host):this._bucket=hj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=to.makeFromBucketSpec(this._url,e):this._bucket=hj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _u(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new JTe(y$());{const a=sEe(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const gj="@firebase/storage",mj="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$="storage";function Mw(t,e,n){return t=Bt(t),DEe(t,e,n)}function zw(t){return t=Bt(t),MEe(t)}function Lw(t,e){return t=Bt(t),UEe(t,e)}function FEe(t=Lg(),e){t=Bt(t);const r=Pp(t,R$).getImmediate({identifier:e}),i=TC("storage");return i&&BEe(r,...i),r}function BEe(t,e,n,r={}){VEe(t,e,n,r)}function qEe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new TI(n,r,i,e,Cu)}function $Ee(){Us(new Ya(R$,qEe,"PUBLIC").setMultipleInstances(!0)),Di(gj,mj,""),Di(gj,mj,"esm2020")}$Ee();const HEe={apiKey:"AIzaSyCdI_a4JK94rFbNCw8OFonvA_KTXE7Lgyw",authDomain:"eltonvanplan.firebaseapp.com",projectId:"eltonvanplan",storageBucket:"eltonvanplan.appspot.com",messagingSenderId:"329886252808",appId:"1:329886252808:web:3921c45dd741b68ef5b6bd"},kc=e8(HEe),In=nke(kc),Tu=OTe(kc),jw=FEe(kc);function Za(t){return An(In,"projects",t)}const Du=t=>Ao(In,"projects",t,"tasks"),Mu=t=>Ao(In,"projects",t,"shoppingList"),tm=t=>Ao(In,"projects",t,"serviceLog"),nm=t=>Ao(In,"projects",t,"fuelLog"),Uw=t=>Ao(In,"projects",t,"knowledgeBase"),O$=t=>Ao(In,"projects",t,"inspections"),GEe=async(t,e)=>{const n=`demo-elton-${e}`;console.log(`Seeding database for project ${n} and owner: ${t} (${e})...`);const r=q0(In),i=An(In,"projects",n),o={...wo,id:n,ownerIds:[e],primaryOwnerId:e,memberIds:[],invitedEmails:[],ownerId:e,ownerEmail:t,members:[],created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!0,tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[]};r.set(i,o);const a=Du(n);for(const u of wo.tasks){const d=An(a,u.id);r.set(d,u)}const l=Mu(n);for(const u of wo.shoppingItems){const d=An(l,u.id);r.set(d,u)}if(wo.serviceLog&&wo.serviceLog.length>0){const u=tm(n);for(const d of wo.serviceLog){const p=An(u,d.id);r.set(p,d)}}if(wo.fuelLog&&wo.fuelLog.length>0){const u=nm(n);for(const d of wo.fuelLog){const p=An(u,d.id);r.set(p,d)}}if(wo.knowledgeArticles&&wo.knowledgeArticles.length>0){const u=Uw(n);for(const d of wo.knowledgeArticles){const p=An(u,d.id);r.set(p,d)}}await r.commit(),console.log("Database seeded successfully.")},KEe=async(t,e)=>{const n=An(In,"users",t),r=await cI(n);if(r.exists())return r.data();{const i=e.split("@")[0],o=i.charAt(0).toUpperCase()+i.slice(1),a={uid:t,email:e,name:o};return await dI(n,a),a}},cS=async(t,e)=>{const n=An(In,"users",t);await ei(n,e)},WEe=async(t,e)=>{console.log(" getProjectsForUser called:",{userId:t,userEmail:e});const n=new Map,r=nb(Ao(In,"projects"),rb("ownerIds","array-contains",t)),i=await Ii(r);console.log("   Owned projects (ownerIds):",i.size),i.forEach(y=>{const b=y.data();console.log("    - Owner:",y.id,b.name),n.set(y.id,{id:y.id,...b})});const o=nb(Ao(In,"projects"),rb("ownerId","==",t)),a=await Ii(o);console.log("   Owned projects (legacy ownerId):",a.size),a.forEach(y=>{const b=y.data();n.has(y.id)||(console.log("    - Owner (legacy):",y.id,b.name),n.set(y.id,{id:y.id,...b}))});const l=nb(Ao(In,"projects"),rb("memberIds","array-contains",t)),u=await Ii(l);console.log("   Member projects (memberIds):",u.size),u.forEach(y=>{const b=y.data();n.has(y.id)||(console.log("    - Member:",y.id,b.name),n.set(y.id,{id:y.id,...b}))});const d=nb(Ao(In,"projects"),rb("members","array-contains",t)),p=await Ii(d);console.log("   Member projects (legacy members):",p.size),p.forEach(y=>{const b=y.data();n.has(y.id)||(console.log("    - Member (legacy):",y.id,b.name),n.set(y.id,{id:y.id,...b}))});const h=Array.from(n.values());return console.log(" Total unique projects:",h.length),h},yj=async t=>{const e=await cI(Za(t));return e.exists()?{...e.data(),id:e.id}:null},YEe=async(t,e,n,r,i)=>{console.log(" createProject called:",{name:t,model:e,userId:n,userEmail:r});const o=An(Ao(In,"projects")),a=new Date().getFullYear();let l={make:e.split(" ")[0]||"Oknd",model:e.split(" ").slice(1).join(" ")||"Modell",year:a,prodYear:a,regNo:"",regDate:new Date().toISOString().split("T")[0],status:"I trafik",bodyType:"Skp",passengers:3,inspection:{last:"",next:"",mileage:""},engine:{fuel:"Diesel",power:"",volume:""},gearbox:"Manuell",wheels:{drive:"2WD",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:1,events:0,lastOwnerChange:""}};i!=null&&i.vehicleData&&(l={...l,...i.vehicleData,year:i.vehicleData.year||a,prodYear:i.vehicleData.prodYear||a});const u={id:o.id,name:t||"Nytt Projekt",type:(i==null?void 0:i.type)||"renovation",brand:"vanplan",ownerIds:[n],primaryOwnerId:n,memberIds:[],invitedEmails:[],ownerId:n,ownerEmail:r,members:[],vehicleData:l,tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],customIcon:(i==null?void 0:i.customIcon)||null,created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!1,...(i==null?void 0:i.userSkillLevel)&&{userSkillLevel:i.userSkillLevel},...(i==null?void 0:i.nickname)&&{nickname:i.nickname}};if(console.log(" Saving project to Firestore:",{id:u.id,name:u.name,ownerId:u.ownerId,ownerEmail:u.ownerEmail}),await dI(o,u),console.log(" Project saved successfully!"),i!=null&&i.tasks&&i.tasks.length>0){const d=Ao(In,"projects",o.id,"tasks"),p=q0(In);for(const h of i.tasks){const y=An(d),b={...h,id:y.id,priority:h.priority||"Medel",phase:h.phase||"Fas 0: Inkp & Analys",estimatedCostMin:h.estimatedCostMin||0,estimatedCostMax:h.estimatedCostMax||0,actualCost:h.actualCost||0};p.set(y,b)}await p.commit()}if(i!=null&&i.knowledgeArticles&&i.knowledgeArticles.length>0){const d=Uw(o.id),p=q0(In);for(const h of i.knowledgeArticles){const y=An(d,h.id||void 0),b={...h,id:h.id||y.id};p.set(y,b)}await p.commit()}return u},JEe=async t=>{const e=await Ii(Du(t)),n=await Ii(Mu(t)),r=await Ii(tm(t)),i=await Ii(nm(t)),o=await Ii(Uw(t)),a=q0(In);e.forEach(u=>a.delete(u.ref)),n.forEach(u=>a.delete(u.ref)),r.forEach(u=>a.delete(u.ref)),i.forEach(u=>a.delete(u.ref)),o.forEach(u=>a.delete(u.ref));const l=An(In,"projects",t,"chat","history");a.delete(l),a.delete(Za(t)),await a.commit()},XEe=async t=>(await Ii(tm(t))).docs.map(n=>n.data()),QEe=async(t,e)=>{const n=await Yg(tm(t),e);return await ei(n,{id:n.id}),{...e,id:n.id}},ZEe=async(t,e)=>{const n=An(tm(t),e);await Wg(n)},eSe=async t=>(await Ii(nm(t))).docs.map(n=>n.data()),tSe=async(t,e)=>{const n=await Yg(nm(t),e);return await ei(n,{id:n.id}),{...e,id:n.id}},nSe=async(t,e)=>{const n=An(nm(t),e);await Wg(n)},rSe=async(t,e)=>{const n=Za(t);await ei(n,{contacts:e,lastModified:new Date().toISOString()})},iSe=async(t,e)=>{const n=Za(t);await ei(n,{location:e,lastModified:new Date().toISOString()})},rh=async(t,e)=>{const n=Za(t);await ei(n,{...e,lastModified:new Date().toISOString()})},oSe=async t=>(await Ii(Uw(t))).docs.map(n=>n.data()),aSe=async(t,e)=>{const n=await Yg(O$(t),{...e,projectId:t,date:e.date||new Date().toISOString()});return await ei(n,{id:n.id}),{...e,id:n.id,projectId:t}},sSe=async(t,e,n)=>{const r=An(O$(t),e);await ei(r,n)},lSe=async(t,e)=>{const n=Za(t);await ei(n,{invitedEmails:oS(e),lastModified:new Date().toISOString()})},cSe=async(t,e,n)=>{const r=Za(t);await ei(r,{memberIds:oS(e),members:oS(e),invitedEmails:B0(n),lastModified:new Date().toISOString()})},uSe=async(t,e)=>{const n=Za(t);await ei(n,{memberIds:B0(e),members:B0(e),lastModified:new Date().toISOString()})},P$=async(t,e)=>{const n=Za(t);await ei(n,{invitedEmails:B0(e),lastModified:new Date().toISOString()})},dSe=async t=>(await Ii(Du(t))).docs.map(n=>n.data()),pSe=async(t,e)=>{const n=await Yg(Du(t),e);return await ei(n,{id:n.id}),{...e,id:n.id}},fSe=async(t,e,n)=>{const r=An(Du(t),e);await ei(r,n)},hSe=async(t,e)=>{const n=An(Du(t),e);await Wg(n)},gSe=async t=>(await Ii(Mu(t))).docs.map(n=>n.data()),mSe=async(t,e)=>{const n=await Yg(Mu(t),e);return await ei(n,{id:n.id}),{...e,id:n.id}},ySe=async(t,e,n)=>{const r=An(Mu(t),e);await ei(r,n)},bSe=async(t,e)=>{const n=An(Mu(t),e);await Wg(n)},EI=t=>An(In,"projects",t,"chat","history"),vSe=async t=>{const e=EI(t),n=await cI(e);return n.exists()?n.data().messages||[]:[]},wSe=async(t,e)=>{const n=EI(t),r=e.map(i=>{const o={role:i.role,content:i.content,timestamp:i.timestamp};return i.imageUrl!==void 0&&(o.imageUrl=i.imageUrl),o});await dI(n,{messages:r,lastModified:new Date().toISOString()})},xSe=async t=>{const e=EI(t);await Wg(e)},kSe=(t,e)=>pI(Du(t),n=>{const r=n.docs.map(i=>i.data());e(r)}),_Se=(t,e)=>pI(Mu(t),n=>{const r=n.docs.map(i=>i.data());e(r)}),TSe=(t,e)=>pI(Za(t),n=>{n.exists()?e({id:n.id,...n.data()}):e(null)}),ESe=(t,e)=>{let n=null,r=[],i=[];const o=()=>{n&&e({...n,tasks:r,shoppingItems:i})},a=TSe(t,d=>{n=d,o()}),l=kSe(t,d=>{r=d,o()}),u=_Se(t,d=>{i=d,o()});return()=>{a(),l(),u()}},bj={charcoal:"#463F3A",ice:"#FAF7F5"},Rd=t=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(t),SSe=({project:t,onPhaseClick:e})=>{const{tasks:n,vehicleData:r}=t,[i,o]=A.useState([]);A.useEffect(()=>{(async()=>{try{const _=await oSe(t.id);o(_)}catch(_){console.error("Failed to load knowledge base:",_)}})()},[t.id]);const[a,l]=A.useState(()=>{const S=localStorage.getItem("elton-dashboard-order");return S?JSON.parse(S):["stats","timeline","budget","phases","resources"]});A.useEffect(()=>{localStorage.setItem("elton-dashboard-order",JSON.stringify(a))},[a]);const u=(S,_)=>{const C=a.indexOf(S);if(C===-1||_==="up"&&C===0||_==="down"&&C===a.length-1)return;const R=[...a],I=_==="up"?C-1:C+1;[R[C],R[I]]=[R[I],R[C]],l(R)},d=A.useMemo(()=>{const S=n.reduce((U,M)=>U+(M.estimatedCostMin||0),0),_=n.reduce((U,M)=>U+(M.estimatedCostMax||0),0),C=n.reduce((U,M)=>U+(M.actualCost||0),0),R=n.filter(U=>U.status===tt.DONE).length,I=n.length>0?Math.round(R/n.length*100):0,O=(_+S)/2-C;return{totalMin:S,totalMax:_,spent:C,progress:I,completed:R,total:n.length,remainingBudget:O}},[n]),p=A.useMemo(()=>Array.from(new Set(n.map(_=>_.phase||"Oknd Fas"))).map(_=>{const C=n.filter(R=>(R.phase||"Oknd Fas")===_);return{name:_.split(":")[0],est:C.reduce((R,I)=>R+((I.estimatedCostMax||0)+(I.estimatedCostMin||0))/2,0),spent:C.reduce((R,I)=>R+(I.actualCost||0),0)}}),[n]),h=A.useMemo(()=>{const S=r!=null&&r.prodYear?String(r.prodYear):"-",_=(r==null?void 0:r.regDate)||"-",C=t.created?$be(new Date(t.created),"d MMM yyyy",{locale:k0e}):"-",R=[{date:S,title:"Tillverkad",description:`${(r==null?void 0:r.make)||"Oknd"} ${(r==null?void 0:r.model)||"Fordon"}`,type:"history",icon:tw},{date:_,title:"I Trafik",description:"Frsta gngen p vg",type:"history",icon:gh},{date:C,title:"Projektstart",description:t.name,type:"milestone",icon:Ode}],I=n.filter(O=>O.status===tt.DONE).slice(0,5).map(O=>({date:"Klar",title:O.title,description:(O.phase||"Oknd").split(":")[0],type:"task",icon:Un}));return[...R,...I]},[n,r,t]),y=({title:S,id:_})=>g.jsxs("div",{className:"flex justify-between items-center mb-4 group",children:[g.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:S}),g.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>u(_,"up"),className:"p-1 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded",children:g.jsx(ede,{size:14})}),g.jsx("button",{onClick:()=>u(_,"down"),className:"p-1 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded",children:g.jsx(Jue,{size:14})})]})]}),b=({title:S,value:_,subtext:C,icon:R,color:I})=>g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg flex items-center space-x-4 transition-all hover:shadow-md h-full",children:[g.jsx("div",{className:`p-4 rounded-2xl ${I} dark:bg-opacity-20`,children:g.jsx(R,{size:24,className:"text-nordic-charcoal dark:text-nordic-ice opacity-80"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:S}),g.jsx("h3",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:_}),C&&g.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted mt-1",children:C})]})]}),E=S=>{switch(S){case"stats":return g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsx(b,{title:"Total Budget",value:`${Rd(d.totalMin)} - ${Rd(d.totalMax)}`,subtext:"Uppskattat spann",icon:dfe,color:"bg-nordic-blue"}),g.jsx(b,{title:"Spenderat",value:Rd(d.spent),subtext:`Kvar av snittbudget: ${Rd(d.remainingBudget)}`,icon:_de,color:"bg-nordic-pink"}),g.jsx(b,{title:"Frdigt",value:`${d.progress}%`,subtext:`${d.completed} av ${d.total} uppgifter klara`,icon:Un,color:"bg-nordic-green"})]},"stats");case"timeline":return g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg overflow-hidden",children:[g.jsx(y,{title:"Tidslinje & Resa",id:"timeline"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute top-[24px] left-0 w-full h-1 bg-gradient-to-r from-nordic-ice via-nordic-blue/30 to-nordic-ice dark:from-nordic-dark-bg dark:via-nordic-charcoal dark:to-nordic-dark-bg rounded-full"}),g.jsx("div",{className:"flex overflow-x-auto pb-6 space-x-12 px-4 scrollbar-thin scrollbar-thumb-nordic-blue/50 scrollbar-track-transparent snap-x",children:h.map((_,C)=>g.jsxs("div",{className:"relative flex flex-col items-center min-w-[160px] snap-center group",children:[g.jsx("div",{className:`w-12 h-12 rounded-full border-4 border-white dark:border-nordic-dark-surface shadow-sm flex items-center justify-center mb-4 z-10 transition-transform duration-300 group-hover:scale-110 ${_.type==="history"?"bg-slate-100 dark:bg-nordic-charcoal text-slate-400":_.type==="milestone"?"bg-nordic-pink dark:bg-pink-900/40 text-rose-800 dark:text-rose-200":"bg-nordic-green dark:bg-green-900/40 text-green-800 dark:text-green-200"}`,children:g.jsx(_.icon,{size:20})}),g.jsxs("div",{className:"text-center transition-opacity duration-300 group-hover:opacity-100",children:[g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-1 block",children:_.date}),g.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm leading-tight mb-1",children:_.title}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted max-w-[140px] mx-auto leading-relaxed",children:_.description})]})]},C))})]})]},"timeline");case"budget":return g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg",children:[g.jsx(y,{title:"Ekonomi per Fas",id:"budget"}),g.jsx("div",{style:{width:"100%",height:320,minHeight:300},children:g.jsx(K3,{width:"100%",height:"100%",children:g.jsxs(Bue,{data:p,barGap:-20,children:[g.jsx(tC,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#8A817C",fontSize:12},dy:10}),g.jsx(nC,{hide:!0}),g.jsx(OV,{cursor:{fill:"rgba(200,200,200,0.1)"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 25px -5px rgb(0 0 0 / 0.1)"},formatter:_=>Rd(_)}),g.jsx(yE,{dataKey:"est",name:"Estimat",fill:bj.ice,radius:[8,8,8,8],barSize:48,className:"dark:fill-nordic-charcoal"}),g.jsx(yE,{dataKey:"spent",name:"Utfall",fill:bj.charcoal,radius:[8,8,8,8],barSize:24,className:"dark:fill-teal-600"})]})})})]},"budget");case"phases":return g.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[g.jsx(y,{title:"Status per Fas",id:"phases"}),p.map((_,C)=>g.jsxs("button",{onClick:()=>e&&e(_.name),className:"bg-white dark:bg-nordic-dark-surface p-5 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg flex items-center justify-between hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 transition-colors w-full group text-left cursor-pointer shadow-sm hover:shadow-md",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-nordic-ice dark:bg-nordic-charcoal flex items-center justify-center font-serif font-bold text-slate-600 dark:text-nordic-ice group-hover:scale-110 transition-transform",children:C+0}),g.jsxs("div",{children:[g.jsxs("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[_.name,g.jsx(VF,{size:14,className:"opacity-0 group-hover:opacity-100 transition-opacity text-teal-500"})]}),g.jsxs("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted",children:[Rd(_.spent)," spenderat"]})]})]}),g.jsx("div",{className:"w-32 h-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-teal-500 rounded-full",style:{width:`${Math.min(_.spent/(_.est||1)*100,100)}%`}})})]},C))]},"phases");case"resources":return g.jsxs("div",{className:"pt-4",children:[g.jsx(y,{title:"Resurser",id:"resources"}),g.jsx(Uye,{projectArticles:i})]},"resources");default:return null}};return g.jsx("div",{className:"space-y-8 pb-20 animate-fade-in",children:a.map(S=>E(S))})},ASe=({task:t,vehicleData:e,shoppingItems:n,onUpdate:r,onClose:i})=>{const[o,a]=A.useState("details"),[l,u]=A.useState(""),[d,p]=A.useState(""),[h,y]=A.useState(""),[b,E]=A.useState(""),[S,_]=A.useState(t.description),[C,R]=A.useState(t.actualCost.toString()),I=t.decisionOptions&&t.decisionOptions.length>0,O=t.subtasks||[],U=O.filter(J=>J.completed).length,M=O.length>0?U/O.length*100:0,D=A.useMemo(()=>{const J=t.title.toLowerCase().split(" ").filter(te=>te.length>3),ie={specs:[],articles:[],inventory:[]};return J.some(te=>"dck hjul flg bult".includes(te))&&(ie.specs.push({label:"Bultmnster",value:e.wheels.boltPattern}),ie.specs.push({label:"Dckdimension",value:e.wheels.tiresFront})),J.some(te=>"olja filter service motor".includes(te))&&(ie.specs.push({label:"Motorolja",value:"10W-40 Mineral"}),ie.specs.push({label:"Volym",value:e.engine.volume})),J.some(te=>"vxellda lda vxel".includes(te))&&ie.specs.push({label:"Vxellda",value:e.gearbox}),J.some(te=>"last vikt lasta".includes(te))&&ie.specs.push({label:"Max Lastvikt",value:`${e.weights.load} kg`}),ie.articles=UB.filter(te=>{const G=te.content.toLowerCase();return J.some(W=>G.includes(W))}),ie.inventory=n.filter(te=>J.some(G=>te.name.toLowerCase().includes(G))),ie},[t.title,e,n]),L=()=>{r({...t,description:S,actualCost:parseInt(C)||0})},z=()=>{if(!b.trim())return;const J={id:Math.random().toString(36).substr(2,9),title:b,completed:!1};r({...t,subtasks:[...O,J]}),E("")},B=J=>{r({...t,subtasks:O.map(ie=>ie.id===J?{...ie,completed:!ie.completed}:ie)})},V=J=>{r({...t,subtasks:O.filter(ie=>ie.id!==J)})},q=()=>{if(!l.trim())return;const J={id:Math.random().toString(36).substr(2,9),text:l,createdAt:new Date().toISOString(),author:"user"};r({...t,comments:[...t.comments,J]}),u("")},F=()=>{if(!h.trim())return;const J={id:Math.random().toString(36).substr(2,9),title:d||h,url:h.startsWith("http")?h:`https://${h}`};r({...t,links:[...t.links,J]}),p(""),y("")},oe=J=>{r({...t,links:t.links.filter(ie=>ie.id!==J)})},Z=J=>{var te;const ie=(te=J.target.files)==null?void 0:te[0];if(ie){const G=new FileReader;G.onloadend=()=>{const W={id:Math.random().toString(36).substr(2,9),name:ie.name,type:ie.type.startsWith("image/")?"image":"file",data:G.result};r({...t,attachments:[...t.attachments,W]})},G.readAsDataURL(ie)}},X=J=>{r({...t,attachments:t.attachments.filter(ie=>ie.id!==J)})};return g.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/30 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"p-6 bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-dark-bg dark:to-nordic-dark-surface border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-bold uppercase tracking-wider ${t.status==="Klart"?"bg-nordic-green text-green-800":"bg-nordic-blue text-blue-800"}`,children:t.status}),g.jsx("span",{className:"text-slate-400 text-xs font-mono uppercase",children:t.phase})]}),g.jsx("h2",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:t.title})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{className:"hidden sm:flex items-center gap-2 px-3 py-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-xl text-xs font-bold text-nordic-charcoal dark:text-nordic-ice hover:bg-teal-50 dark:hover:bg-teal-900/20 transition-colors",children:[g.jsx(_E,{size:16})," Frga Elton om detta"]}),g.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full transition-colors",children:g.jsx(lr,{size:24,className:"text-slate-500 dark:text-slate-400"})})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto",children:[g.jsxs("div",{className:"flex border-b border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-surface sticky top-0 z-10",children:[g.jsx("button",{onClick:()=>a("details"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${o==="details"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:"Detaljer & Checklistor"}),g.jsxs("button",{onClick:()=>a("decision"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors flex items-center justify-center gap-2 ${o==="decision"?"border-amber-400 text-amber-600 dark:text-amber-400":"border-transparent text-slate-400 hover:text-amber-500"}`,children:[g.jsx(kE,{size:16}),"Beslutsstd"]}),g.jsxs("button",{onClick:()=>a("comments"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${o==="comments"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:["Kommentarer (",t.comments.length,")"]})]}),g.jsxs("div",{className:"p-6",children:[o==="details"&&g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Beskrivning"}),g.jsx("textarea",{value:S,onChange:J=>_(J.target.value),onBlur:L,className:"w-full p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal focus:ring-2 focus:ring-teal-500/20 focus:outline-none text-slate-700 dark:text-nordic-ice min-h-[80px]"})]}),g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg/30 p-4 rounded-2xl border border-slate-100 dark:border-nordic-charcoal",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[g.jsx(GF,{size:18,className:"text-teal-600"})," Checklista"]}),O.length>0&&g.jsxs("span",{className:"text-xs font-bold text-slate-400",children:[Math.round(M),"%"]})]}),O.length>0&&g.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-nordic-charcoal rounded-full mb-4 overflow-hidden",children:g.jsx("div",{className:"h-full bg-teal-500 transition-all duration-500",style:{width:`${M}%`}})}),g.jsx("div",{className:"space-y-2 mb-3",children:O.map(J=>g.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 rounded-lg group cursor-pointer",onClick:()=>B(J.id),children:[g.jsx("div",{className:`transition-colors ${J.completed?"text-teal-600":"text-slate-300"}`,children:J.completed?g.jsx(Un,{size:20}):g.jsx(Cs,{size:20})}),g.jsx("span",{className:`flex-1 text-sm ${J.completed?"text-slate-400 line-through decoration-slate-300":"text-nordic-charcoal dark:text-slate-200"}`,children:J.title}),g.jsx("button",{onClick:ie=>{ie.stopPropagation(),V(J.id)},className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:g.jsx(Ql,{size:14})})]},J.id))}),g.jsxs("div",{className:"flex gap-2 items-center mt-2",children:[g.jsx(La,{size:16,className:"text-slate-400 ml-2"}),g.jsx("input",{placeholder:"Lgg till en punkt...",value:b,onChange:J=>E(J.target.value),onKeyDown:J=>J.key==="Enter"&&z(),className:"flex-1 bg-transparent text-sm p-1 focus:outline-none dark:text-white placeholder:text-slate-400"}),g.jsx("button",{onClick:z,disabled:!b.trim(),className:"text-xs font-bold bg-slate-100 dark:bg-nordic-charcoal px-3 py-1.5 rounded-lg hover:bg-slate-200 dark:hover:bg-nordic-dark-surface transition-colors disabled:opacity-0",children:"Lgg till"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[g.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Estimat"}),g.jsxs("span",{className:"text-xl font-mono font-medium text-slate-700 dark:text-nordic-ice",children:[t.estimatedCostMin," - ",t.estimatedCostMax," kr"]})]}),g.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[g.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Verklig Kostnad"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"number",value:C,onChange:J=>R(J.target.value),onBlur:L,className:"w-24 bg-transparent font-mono text-xl font-medium text-nordic-charcoal dark:text-nordic-ice focus:outline-none border-b border-slate-300 dark:border-slate-600 focus:border-teal-500"}),g.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"kr"})]})]})]})]}),g.jsxs("div",{children:[g.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[g.jsx(_0,{size:18})," Lnkar"]}),g.jsx("div",{className:"space-y-2 mb-3",children:t.links.map(J=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl group hover:border-teal-200 transition-colors",children:[g.jsxs("a",{href:J.url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-teal-700 dark:text-teal-400 font-medium hover:underline truncate",children:[g.jsx(_0,{size:14})," ",J.title]}),g.jsx("button",{onClick:()=>oe(J.id),className:"text-slate-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:g.jsx(Ql,{size:16})})]},J.id))}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{placeholder:"Titel (t.ex. Mekonomen)",value:d,onChange:J=>p(J.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),g.jsx("input",{placeholder:"https://...",value:h,onChange:J=>y(J.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),g.jsx("button",{onClick:F,disabled:!h,className:"p-2 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-lg hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:g.jsx(La,{size:18})})]})]}),g.jsxs("div",{children:[g.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[g.jsx(YF,{size:18})," Filer & Kvitton"]}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-3",children:[t.attachments.map(J=>g.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-slate-200 dark:border-nordic-charcoal aspect-square bg-slate-50 dark:bg-nordic-dark-bg flex items-center justify-center",children:[J.type==="image"?g.jsx("img",{src:J.data,alt:J.name,className:"w-full h-full object-cover"}):g.jsxs("div",{className:"text-center p-2",children:[g.jsx(sC,{className:"mx-auto mb-1 text-slate-400"}),g.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:J.name})]}),g.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:g.jsx("button",{onClick:()=>X(J.id),className:"p-2 bg-white rounded-full text-rose-500 hover:bg-rose-50",children:g.jsx(Ql,{size:16})})})]},J.id)),g.jsxs("label",{className:"cursor-pointer rounded-xl border-2 border-dashed border-slate-200 dark:border-nordic-charcoal hover:border-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900/10 transition-all aspect-square flex flex-col items-center justify-center text-slate-400 hover:text-teal-600 dark:hover:text-teal-400",children:[g.jsx(La,{size:24,className:"mb-1"}),g.jsx("span",{className:"text-xs font-medium",children:"Ladda upp"}),g.jsx("input",{type:"file",onChange:Z,className:"hidden"})]})]})]})]}),o==="decision"&&g.jsxs("div",{className:"space-y-6",children:[(D.specs.length>0||D.articles.length>0||D.inventory.length>0)&&g.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-5 rounded-2xl border border-indigo-100 dark:border-indigo-800",children:[g.jsxs("h3",{className:"font-serif font-bold text-lg text-indigo-900 dark:text-indigo-200 mb-4 flex items-center gap-2",children:[g.jsx(Da,{size:18})," Eltons Tekniska Noteringar"]}),g.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[D.specs.length>0&&g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[g.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block",children:"Specifikationer"}),g.jsx("div",{className:"grid grid-cols-2 gap-2",children:D.specs.map((J,ie)=>g.jsxs("div",{children:[g.jsx("span",{className:"text-xs text-slate-500 block",children:J.label}),g.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm",children:J.value})]},ie))})]}),D.inventory.length>0&&g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[g.jsxs("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[g.jsx(ZF,{size:12})," Frn Inkpslistan"]}),g.jsx("div",{className:"space-y-1",children:D.inventory.map((J,ie)=>g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[J.checked?g.jsx(Un,{size:14,className:"text-green-500"}):g.jsx(Cs,{size:14,className:"text-slate-300"}),g.jsx("span",{className:J.checked?"text-slate-400 line-through":"text-nordic-charcoal dark:text-nordic-ice",children:J.name})]},ie))})]}),D.articles.map(J=>g.jsx("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50 hover:border-indigo-300 transition-colors group cursor-pointer",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(ew,{className:"text-indigo-500 shrink-0 mt-1",size:18}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice group-hover:underline",children:J.title}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 line-clamp-2",children:J.summary})]})]})},J.id))]})]}),g.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-2xl border border-amber-100 dark:border-amber-800 text-amber-800 dark:text-amber-200 text-sm flex gap-3",children:[g.jsx(kE,{className:"shrink-0",size:20}),g.jsx("p",{children:"Hr kan du jmfra olika vgar framt. Vad r vrt mest  din tid eller dina pengar?"})]}),I?g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.decisionOptions.map(J=>g.jsxs("div",{className:`p-6 rounded-3xl border-2 relative ${J.recommended?"border-teal-400 bg-teal-50 dark:bg-teal-900/10":"border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-bg"}`,children:[J.recommended&&g.jsx("div",{className:"absolute -top-3 left-6 bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full",children:"Rekommenderas"}),g.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-1",children:J.title}),g.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted text-sm mb-4",children:J.description}),g.jsxs("div",{className:"bg-nordic-ice dark:bg-nordic-charcoal p-3 rounded-xl mb-4 text-center",children:[g.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Prisspann"}),g.jsx("span",{className:"font-mono font-bold text-lg text-nordic-charcoal dark:text-white",children:J.costRange})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-xs font-bold text-green-600 dark:text-green-400 uppercase block mb-2",children:"Frdelar"}),g.jsx("ul",{className:"space-y-1",children:J.pros.map((ie,te)=>g.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[g.jsx(Og,{size:14,className:"text-green-500 mt-0.5 shrink-0"})," ",ie]},te))})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-xs font-bold text-rose-500 dark:text-rose-400 uppercase block mb-2",children:"Nackdelar"}),g.jsx("ul",{className:"space-y-1",children:J.cons.map((ie,te)=>g.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[g.jsx(qF,{size:14,className:"text-rose-400 mt-0.5 shrink-0"})," ",ie]},te))})]})]})]},J.id))}):g.jsx("div",{className:"text-center py-8 text-slate-400 italic",children:"Inga manuella alternativ inlagda n."})]}),o==="comments"&&g.jsxs("div",{className:"flex flex-col h-[500px]",children:[g.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto pr-2",children:[t.comments.length===0&&g.jsxs("div",{className:"text-center py-10 text-slate-400",children:[g.jsx(_E,{size:48,className:"mx-auto mb-2 opacity-20"}),g.jsx("p",{children:"Inga kommentarer n."})]}),t.comments.map(J=>g.jsxs("div",{className:`p-4 rounded-2xl max-w-[90%] ${J.author==="user"?"bg-nordic-ice dark:bg-teal-900/30 ml-auto rounded-br-none":"bg-white dark:bg-nordic-charcoal border border-slate-100 dark:border-nordic-dark-bg mr-auto rounded-bl-none"}`,children:[g.jsx("p",{className:"text-slate-700 dark:text-slate-200 text-sm leading-relaxed",children:J.text}),g.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-right",children:new Date(J.createdAt).toLocaleString()})]},J.id))]}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-nordic-charcoal flex gap-2",children:[g.jsx("input",{value:l,onChange:J=>u(J.target.value),onKeyDown:J=>J.key==="Enter"&&q(),placeholder:"Skriv en kommentar...",className:"flex-1 p-3 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 dark:text-white"}),g.jsx("button",{onClick:q,disabled:!l.trim(),className:"p-3 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:g.jsx(XF,{size:18})})]})]})]})]})]})})},CSe=(t,e)=>{if(!t.blockers||t.blockers.length===0)return{blocked:!1,blockedBy:[]};const n=t.blockers.map(i=>typeof i=="string"?i:i.taskId),r=e.filter(i=>n.includes(i.id)&&i.status!==tt.DONE);return{blocked:r.length>0,blockedBy:r}},ISe=({tasks:t,shoppingItems:e,vehicleData:n,onUpdateTask:r,initialFilter:i="ALL"})=>{const[o,a]=A.useState(null),[l,u]=A.useState("ALL"),[d,p]=A.useState(null),h=A.useMemo(()=>Array.from(new Set(t.map(O=>O.phase).filter(Boolean))).sort(),[t]);A.useEffect(()=>{u(i),i!=="ALL"&&h.includes(i)?a(i):h.length>0&&i==="ALL"&&!o&&a(h[0])},[i,h]);const y=I=>{a(o===I?null:I)},b=l==="ALL"?h:[l],E=t.filter(I=>I.status===tt.IDEA),S=t.filter(I=>I.status!==tt.IDEA),_=I=>{switch(I){case tt.DONE:return"bg-nordic-green text-green-900 border-green-200 dark:bg-green-900/40 dark:text-green-200 dark:border-green-900";case tt.IN_PROGRESS:return"bg-nordic-blue text-blue-900 border-blue-200 dark:bg-blue-900/40 dark:text-blue-200 dark:border-blue-900";case tt.TODO:return"bg-nordic-pink text-rose-900 border-rose-200 dark:bg-rose-900/40 dark:text-rose-200 dark:border-rose-900";case tt.IDEA:return"bg-amber-100 text-amber-900 border-amber-200 dark:bg-amber-900/40 dark:text-amber-200 dark:border-amber-900";default:return"bg-slate-100"}},C=I=>{switch(I){case rn.HIGH:return"text-rose-600 bg-rose-50 dark:bg-rose-900/20 dark:text-rose-300 border-rose-100 dark:border-rose-900";case rn.MEDIUM:return"text-amber-600 bg-amber-50 dark:bg-amber-900/20 dark:text-amber-300 border-amber-100 dark:border-amber-900";default:return"text-slate-500 bg-slate-50 dark:bg-slate-800 dark:text-slate-400 border-slate-100 dark:border-slate-700"}},R=I=>{let O=tt.TODO;I.status===tt.IDEA?O=tt.TODO:I.status===tt.TODO?O=tt.IN_PROGRESS:I.status===tt.IN_PROGRESS?O=tt.DONE:I.status===tt.DONE&&(O=tt.TODO),r({...I,status:O})};return g.jsxs("div",{className:"space-y-8 pb-20",children:[E.length>0&&g.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30 rounded-3xl border border-amber-100 dark:border-amber-900/50 p-6",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("div",{className:"p-2 bg-white dark:bg-amber-900/50 rounded-xl text-amber-500 shadow-sm",children:g.jsx(kE,{size:24})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-serif font-bold text-xl text-amber-900 dark:text-amber-100",children:"Idbanken"}),g.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Drmmar och tankar som inte r spikade n."})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:E.map(I=>g.jsxs("div",{onClick:()=>p(I),className:"bg-white/80 dark:bg-nordic-dark-bg/80 backdrop-blur border border-amber-100 dark:border-amber-900/50 p-4 rounded-xl cursor-pointer hover:shadow-md transition-all hover:-translate-y-1",children:[g.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice mb-1",children:I.title}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-2",children:I.description}),g.jsx("div",{className:"mt-3 flex justify-end",children:g.jsx("button",{onClick:O=>{O.stopPropagation(),R(I)},className:"text-[10px] font-bold uppercase tracking-wider text-amber-600 hover:bg-amber-100 px-2 py-1 rounded-md transition-colors",children:"Aktivera"})})]},I.id))})]}),g.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide sticky top-0 bg-nordic-ice/95 dark:bg-nordic-dark-bg/95 z-20 py-2 backdrop-blur-sm",children:[g.jsx("button",{onClick:()=>u("ALL"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${l==="ALL"?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:"Alla Faser"}),h.map(I=>g.jsx("button",{onClick:()=>u(I),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${l===I?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:I.split(":")[0]},I))]}),b.map(I=>{const O=S.filter(M=>M.phase===I),U=o===I||b.length===1;return O.length===0?null:g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm overflow-hidden transition-all duration-500 ease-in-out",children:[g.jsx("button",{onClick:()=>y(I),className:"w-full flex items-center justify-between p-6 bg-white dark:bg-nordic-dark-surface hover:bg-nordic-ice/30 dark:hover:bg-nordic-charcoal/30 transition-colors",children:g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:`p-2.5 rounded-xl transition-colors ${U?"bg-nordic-charcoal text-white dark:bg-teal-600":"bg-nordic-ice text-slate-500 dark:bg-nordic-charcoal dark:text-nordic-ice"}`,children:U?g.jsx(hde,{size:20}):g.jsx(BF,{size:20})}),g.jsxs("div",{className:"text-left",children:[g.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:I}),g.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-nordic-dark-muted mt-1",children:[g.jsxs("span",{className:"bg-nordic-green/50 dark:bg-green-900/30 px-2 py-0.5 rounded-full text-xs text-green-900 dark:text-green-200 font-medium",children:[O.filter(M=>M.status===tt.DONE).length," Klara"]}),g.jsx("span",{children:""}),g.jsxs("span",{children:[O.length," Totalt"]})]})]})]})}),U&&g.jsxs("div",{className:"p-6 pt-0 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 bg-nordic-ice/20 dark:bg-black/10 border-t border-nordic-ice dark:border-nordic-dark-bg",children:[g.jsx("div",{className:"h-2 col-span-full"}),O.map(M=>{var V,q,F;const D=M.subtasks||[],L=D.filter(oe=>oe.completed).length,{blocked:z,blockedBy:B}=CSe(M,t);return g.jsxs("div",{onClick:()=>p(M),className:`group relative p-5 rounded-2xl border transition-all duration-300 hover:-translate-y-1 hover:shadow-lg flex flex-col justify-between cursor-pointer ${z?"bg-slate-100 dark:bg-slate-900/50 border-slate-300 dark:border-slate-700 opacity-60 cursor-not-allowed":M.status===tt.DONE?"bg-white dark:bg-nordic-dark-bg border-slate-100 dark:border-nordic-charcoal opacity-70 hover:opacity-100":"bg-white dark:bg-nordic-dark-bg border-slate-200 dark:border-nordic-charcoal shadow-sm"}`,children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-start mb-3",children:[g.jsx("span",{className:`text-[10px] px-2.5 py-1 rounded-full font-bold uppercase tracking-wider ${_(M.status)}`,children:M.status}),g.jsxs("div",{className:"flex gap-1",children:[M.priority&&g.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-bold uppercase border ${C(M.priority)}`,children:M.priority}),M.tags&&M.tags.includes("Kritisk")&&g.jsx("span",{className:"text-rose-500 animate-pulse",children:g.jsx(Pa,{size:16})})]})]}),g.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[z&&g.jsx("div",{className:"mt-0.5 text-amber-500 dark:text-amber-400",title:`Blockeras av: ${B.map(oe=>oe.title).join(", ")}`,children:g.jsx(rw,{size:18})}),g.jsx("h4",{className:`font-bold text-lg flex-1 ${z?"text-slate-400 dark:text-slate-600":M.status===tt.DONE?"text-slate-500 dark:text-nordic-dark-muted line-through decoration-2 decoration-slate-300":"text-nordic-charcoal dark:text-nordic-ice"}`,children:M.title})]}),z&&g.jsx("div",{className:"mb-3 p-2 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900/40 rounded-lg",children:g.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200 font-medium",children:[" Vntar p: ",B.map(oe=>oe.title).join(", ")]})}),M.sprint&&g.jsxs("div",{className:"mb-2 inline-flex items-center gap-1.5 px-2 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-md text-xs font-medium border border-indigo-100 dark:border-indigo-900/30",children:[g.jsx(sde,{size:12}),M.sprint]}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted leading-relaxed mb-4 line-clamp-2",children:M.description})]}),g.jsxs("div",{className:"flex flex-col gap-3 mt-2 pt-4 border-t border-slate-50 dark:border-nordic-charcoal",children:[g.jsxs("div",{className:"flex gap-3 text-slate-400",children:[D.length>0&&g.jsxs("div",{className:`flex items-center gap-1 text-xs ${L===D.length?"text-green-500":"text-slate-400"}`,children:[g.jsx(GF,{size:14}),g.jsxs("span",{children:[L,"/",D.length]})]}),((V=M.comments)==null?void 0:V.length)>0&&g.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[g.jsx(_E,{size:14}),g.jsx("span",{children:M.comments.length})]}),((q=M.attachments)==null?void 0:q.length)>0&&g.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[g.jsx(YF,{size:14}),g.jsx("span",{children:M.attachments.length})]}),((F=M.links)==null?void 0:F.length)>0&&g.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[g.jsx(tpe,{size:14}),g.jsx("span",{children:M.links.length})]})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Estimat"}),g.jsxs("span",{className:"text-sm font-mono text-slate-600 dark:text-slate-300",children:[M.estimatedCostMin,"-",M.estimatedCostMax," kr"]})]}),g.jsx("button",{onClick:oe=>{oe.stopPropagation(),R(M)},className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${M.status===tt.DONE?"bg-nordic-green text-green-800 scale-110 shadow-inner":"bg-slate-100 dark:bg-nordic-charcoal text-slate-400 hover:bg-nordic-blue hover:text-blue-800 hover:scale-110"}`,children:g.jsx(Og,{size:20,strokeWidth:M.status===tt.DONE?3:2})})]})]})]},M.id)})]})]},I)}),d&&g.jsx(ASe,{task:d,vehicleData:n,shoppingItems:e,onUpdate:I=>{r(I),p(I)},onClose:()=>p(null)})]})};var vj="@firebase/ai",uS="2.6.0";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="AI",wj="us-central1",NSe="firebasevertexai.googleapis.com",Q0="v1beta",xj=uS,RSe="gl-js",OSe=180*1e3,PSe="gemini-2.0-flash-lite";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st extends Mo{constructor(e,n,r){const i=wp,o=`${i}/${e}`,a=`${i}: ${n} (${o})`;super(e,a),this.code=e,this.customErrorData=r,Error.captureStackTrace&&Error.captureStackTrace(this,st),Object.setPrototypeOf(this,st.prototype),this.toString=()=>a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=["user","model","function","system"],D$={HARM_SEVERITY_UNSUPPORTED:"HARM_SEVERITY_UNSUPPORTED"},_j={SAFETY:"SAFETY",RECITATION:"RECITATION"},ou={PREFER_ON_DEVICE:"prefer_on_device",ONLY_ON_DEVICE:"only_on_device",ONLY_IN_CLOUD:"only_in_cloud",PREFER_IN_CLOUD:"prefer_in_cloud"},Ll={ON_DEVICE:"on_device",IN_CLOUD:"in_cloud"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={ERROR:"error",REQUEST_ERROR:"request-error",RESPONSE_ERROR:"response-error",FETCH_ERROR:"fetch-error",SESSION_CLOSED:"session-closed",INVALID_CONTENT:"invalid-content",API_NOT_ENABLED:"api-not-enabled",INVALID_SCHEMA:"invalid-schema",NO_API_KEY:"no-api-key",NO_APP_ID:"no-app-id",NO_MODEL:"no-model",NO_PROJECT_ID:"no-project-id",PARSE_FAILED:"parse-failed",UNSUPPORTED:"unsupported"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu={STRING:"string",NUMBER:"number",INTEGER:"integer",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e){this.backendType=e}}class rm extends M${constructor(){super(Zs.GOOGLE_AI)}_getModelPath(e,n){return`/${Q0}/projects/${e}/${n}`}_getTemplatePath(e,n){return`/${Q0}/projects/${e}/templates/${n}`}}class SI extends M${constructor(e=wj){super(Zs.VERTEX_AI),e?this.location=e:this.location=wj}_getModelPath(e,n){return`/${Q0}/projects/${e}/locations/${this.location}/${n}`}_getTemplatePath(e,n){return`/${Q0}/projects/${e}/locations/${this.location}/templates/${n}`}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DSe(t){if(t instanceof rm)return`${wp}/googleai`;if(t instanceof SI)return`${wp}/vertexai/${t.location}`;throw new st(it.ERROR,`Invalid backend: ${JSON.stringify(t.backendType)}`)}function MSe(t){const e=t.split("/");if(e[0]!==wp)throw new st(it.ERROR,`Invalid instance identifier, unknown prefix '${e[0]}'`);switch(e[1]){case"vertexai":const r=e[2];if(!r)throw new st(it.ERROR,`Invalid instance identifier, unknown location '${t}'`);return new SI(r);case"googleai":return new rm;default:throw new st(it.ERROR,`Invalid instance identifier string: '${t}'`)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new pw("@firebase/vertexai");var eu;(function(t){t.UNAVAILABLE="unavailable",t.DOWNLOADABLE="downloadable",t.DOWNLOADING="downloading",t.AVAILABLE="available"})(eu||(eu={}));/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=[{type:"image"}];class $o{constructor(e,n,r){this.languageModelProvider=e,this.mode=n,this.isDownloading=!1,this.onDeviceParams={createOptions:{expectedInputs:cT}},r&&(this.onDeviceParams=r,this.onDeviceParams.createOptions?this.onDeviceParams.createOptions.expectedInputs||(this.onDeviceParams.createOptions.expectedInputs=cT):this.onDeviceParams.createOptions={expectedInputs:cT})}async isAvailable(e){if(!this.mode)return Ai.debug("On-device inference unavailable because mode is undefined."),!1;if(this.mode===ou.ONLY_IN_CLOUD)return Ai.debug('On-device inference unavailable because mode is "only_in_cloud".'),!1;const n=await this.downloadIfAvailable();if(this.mode===ou.ONLY_ON_DEVICE){if(n===eu.UNAVAILABLE)throw new st(it.API_NOT_ENABLED,"Local LanguageModel API not available in this environment.");return(n===eu.DOWNLOADABLE||n===eu.DOWNLOADING)&&(Ai.debug("Waiting for download of LanguageModel to complete."),await this.downloadPromise),!0}return n!==eu.AVAILABLE?(Ai.debug(`On-device inference unavailable because availability is "${n}".`),!1):$o.isOnDeviceRequest(e)?!0:(Ai.debug("On-device inference unavailable because request is incompatible."),!1)}async generateContent(e){const n=await this.createSession(),r=await Promise.all(e.contents.map($o.toLanguageModelMessage)),i=await n.prompt(r,this.onDeviceParams.promptOptions);return $o.toResponse(i)}async generateContentStream(e){const n=await this.createSession(),r=await Promise.all(e.contents.map($o.toLanguageModelMessage)),i=n.promptStreaming(r,this.onDeviceParams.promptOptions);return $o.toStreamResponse(i)}async countTokens(e){throw new st(it.REQUEST_ERROR,"Count Tokens is not yet available for on-device model.")}static isOnDeviceRequest(e){if(e.contents.length===0)return Ai.debug("Empty prompt rejected for on-device inference."),!1;for(const n of e.contents){if(n.role==="function")return Ai.debug('"Function" role rejected for on-device inference.'),!1;for(const r of n.parts)if(r.inlineData&&$o.SUPPORTED_MIME_TYPES.indexOf(r.inlineData.mimeType)===-1)return Ai.debug(`Unsupported mime type "${r.inlineData.mimeType}" rejected for on-device inference.`),!1}return!0}async downloadIfAvailable(){var n;const e=await((n=this.languageModelProvider)==null?void 0:n.availability(this.onDeviceParams.createOptions));return e===eu.DOWNLOADABLE&&this.download(),e}download(){var e;this.isDownloading||(this.isDownloading=!0,this.downloadPromise=(e=this.languageModelProvider)==null?void 0:e.create(this.onDeviceParams.createOptions).finally(()=>{this.isDownloading=!1}))}static async toLanguageModelMessage(e){const n=await Promise.all(e.parts.map($o.toLanguageModelMessageContent));return{role:$o.toLanguageModelMessageRole(e.role),content:n}}static async toLanguageModelMessageContent(e){if(e.text)return{type:"text",value:e.text};if(e.inlineData){const r=await(await fetch(`data:${e.inlineData.mimeType};base64,${e.inlineData.data}`)).blob();return{type:"image",value:await createImageBitmap(r)}}throw new st(it.REQUEST_ERROR,"Processing of this Part type is not currently supported.")}static toLanguageModelMessageRole(e){return e==="model"?"assistant":"user"}async createSession(){if(!this.languageModelProvider)throw new st(it.UNSUPPORTED,"Chrome AI requested for unsupported browser version.");const e=await this.languageModelProvider.create(this.onDeviceParams.createOptions);return this.oldSession&&this.oldSession.destroy(),this.oldSession=e,e}static toResponse(e){return{json:async()=>({candidates:[{content:{parts:[{text:e}]}}]})}}static toStreamResponse(e){const n=new TextEncoder;return{body:e.pipeThrough(new TransformStream({transform(r,i){const o=JSON.stringify({candidates:[{content:{role:"model",parts:[{text:r}]}}]});i.enqueue(n.encode(`data: ${o}

`))}}))}}}$o.SUPPORTED_MIME_TYPES=["image/jpeg","image/png"];function zSe(t,e,n){if(typeof e<"u"&&t)return new $o(e.LanguageModel,t,n)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LSe{constructor(e,n,r,i,o){this.app=e,this.backend=n,this.chromeAdapterFactory=o;const a=i==null?void 0:i.getImmediate({optional:!0}),l=r==null?void 0:r.getImmediate({optional:!0});this.auth=l||null,this.appCheck=a||null,n instanceof SI?this.location=n.location:this.location=""}_delete(){return Promise.resolve()}set options(e){this._options=e}get options(){return this._options}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jSe(t,{instanceIdentifier:e}){if(!e)throw new st(it.ERROR,"AIService instance identifier is undefined.");const n=MSe(e),r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new LSe(r,n,i,o,zSe)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function USe(t){var n,r,i,o,a,l,u;if((r=(n=t.app)==null?void 0:n.options)!=null&&r.apiKey)if((o=(i=t.app)==null?void 0:i.options)!=null&&o.projectId){if(!((l=(a=t.app)==null?void 0:a.options)!=null&&l.appId))throw new st(it.NO_APP_ID,'The "appId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid app ID.')}else throw new st(it.NO_PROJECT_ID,'The "projectId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid project ID.');else throw new st(it.NO_API_KEY,'The "apiKey" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid API key.');const e={apiKey:t.app.options.apiKey,project:t.app.options.projectId,appId:t.app.options.appId,automaticDataCollectionEnabled:t.app.automaticDataCollectionEnabled,location:t.location,backend:t.backend};if(Yr(t.app)&&t.app.settings.appCheckToken){const d=t.app.settings.appCheckToken;e.getAppCheckToken=()=>Promise.resolve({token:d})}else t.appCheck&&((u=t.options)!=null&&u.useLimitedUseAppCheckTokens?e.getAppCheckToken=()=>t.appCheck.getLimitedUseToken():e.getAppCheckToken=()=>t.appCheck.getToken());return t.auth&&(e.getAuthToken=()=>t.auth.getToken()),e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this._apiSettings=USe(e),this.model=Sh.normalizeModelName(n,this._apiSettings.backend.backendType)}static normalizeModelName(e,n){return n===Zs.GOOGLE_AI?Sh.normalizeGoogleAIModelName(e):Sh.normalizeVertexAIModelName(e)}static normalizeGoogleAIModelName(e){return`models/${e}`}static normalizeVertexAIModelName(e){let n;return e.includes("/")?e.startsWith("models/")?n=`publishers/google/${e}`:n=e:n=`publishers/google/models/${e}`,n}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VSe{constructor(e){this.params=e}toString(){const e=new URL(this.baseUrl);return e.pathname=this.pathname,e.search=this.queryParams.toString(),e.toString()}get pathname(){return this.params.templateId?`${this.params.apiSettings.backend._getTemplatePath(this.params.apiSettings.project,this.params.templateId)}:${this.params.task}`:`${this.params.apiSettings.backend._getModelPath(this.params.apiSettings.project,this.params.model)}:${this.params.task}`}get baseUrl(){var e;return((e=this.params.requestOptions)==null?void 0:e.baseUrl)??`https://${NSe}`}get queryParams(){const e=new URLSearchParams;return this.params.stream&&e.set("alt","sse"),e}}function FSe(){const t=[];return t.push(`${RSe}/${xj}`),t.push(`fire/${xj}`),t.join(" ")}async function BSe(t){const e=new Headers;if(e.append("Content-Type","application/json"),e.append("x-goog-api-client",FSe()),e.append("x-goog-api-key",t.params.apiSettings.apiKey),t.params.apiSettings.automaticDataCollectionEnabled&&e.append("X-Firebase-Appid",t.params.apiSettings.appId),t.params.apiSettings.getAppCheckToken){const n=await t.params.apiSettings.getAppCheckToken();n&&(e.append("X-Firebase-AppCheck",n.token),n.error&&Ai.warn(`Unable to obtain a valid App Check token: ${n.error.message}`))}if(t.params.apiSettings.getAuthToken){const n=await t.params.apiSettings.getAuthToken();n&&e.append("Authorization",`Firebase ${n.accessToken}`)}return e}async function AI(t,e){var o;const n=new VSe(t);let r,i;try{const a={method:"POST",headers:await BSe(n),body:e},l=((o=t.requestOptions)==null?void 0:o.timeout)!=null&&t.requestOptions.timeout>=0?t.requestOptions.timeout:OSe,u=new AbortController;if(i=setTimeout(()=>u.abort(),l),a.signal=u.signal,r=await fetch(n.toString(),a),!r.ok){let d="",p;try{const h=await r.json();d=h.error.message,h.error.details&&(d+=` ${JSON.stringify(h.error.details)}`,p=h.error.details)}catch{}throw r.status===403&&p&&p.some(h=>h.reason==="SERVICE_DISABLED")&&p.some(h=>{var y,b;return(b=(y=h.links)==null?void 0:y[0])==null?void 0:b.description.includes("Google developers console API activation")})?new st(it.API_NOT_ENABLED,`The Firebase AI SDK requires the Firebase AI API ('firebasevertexai.googleapis.com') to be enabled in your Firebase project. Enable this API by visiting the Firebase Console at https://console.firebase.google.com/project/${n.params.apiSettings.project}/genai/ and clicking "Get started". If you enabled this API recently, wait a few minutes for the action to propagate to our systems and then retry.`,{status:r.status,statusText:r.statusText,errorDetails:p}):new st(it.FETCH_ERROR,`Error fetching from ${n}: [${r.status} ${r.statusText}] ${d}`,{status:r.status,statusText:r.statusText,errorDetails:p})}}catch(a){let l=a;throw a.code!==it.FETCH_ERROR&&a.code!==it.API_NOT_ENABLED&&a instanceof Error&&(l=new st(it.ERROR,`Error fetching from ${n.toString()}: ${a.message}`),l.stack=a.stack),l}finally{i&&clearTimeout(i)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t){if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&Ai.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),z$(t.candidates[0]))throw new st(it.RESPONSE_ERROR,`Response error: ${au(t)}. Response body stored in error.response`,{response:t});return!0}else return!1}function Z0(t,e=Ll.IN_CLOUD){t.candidates&&!t.candidates[0].hasOwnProperty("index")&&(t.candidates[0].index=0);const n=qSe(t);return n.inferenceSource=e,n}function qSe(t){return t.text=()=>{if(sb(t))return Tj(t,e=>!e.thought);if(t.promptFeedback)throw new st(it.RESPONSE_ERROR,`Text not available. ${au(t)}`,{response:t});return""},t.thoughtSummary=()=>{if(sb(t)){const e=Tj(t,n=>!!n.thought);return e===""?void 0:e}else if(t.promptFeedback)throw new st(it.RESPONSE_ERROR,`Thought summary not available. ${au(t)}`,{response:t})},t.inlineDataParts=()=>{if(sb(t))return HSe(t);if(t.promptFeedback)throw new st(it.RESPONSE_ERROR,`Data not available. ${au(t)}`,{response:t})},t.functionCalls=()=>{if(sb(t))return $Se(t);if(t.promptFeedback)throw new st(it.RESPONSE_ERROR,`Function call not available. ${au(t)}`,{response:t})},t}function Tj(t,e){var r,i,o,a;const n=[];if((i=(r=t.candidates)==null?void 0:r[0].content)!=null&&i.parts)for(const l of(a=(o=t.candidates)==null?void 0:o[0].content)==null?void 0:a.parts)l.text&&e(l)&&n.push(l.text);return n.length>0?n.join(""):""}function $Se(t){var n,r,i,o;const e=[];if((r=(n=t.candidates)==null?void 0:n[0].content)!=null&&r.parts)for(const a of(o=(i=t.candidates)==null?void 0:i[0].content)==null?void 0:o.parts)a.functionCall&&e.push(a.functionCall);if(e.length>0)return e}function HSe(t){var n,r,i,o;const e=[];if((r=(n=t.candidates)==null?void 0:n[0].content)!=null&&r.parts)for(const a of(o=(i=t.candidates)==null?void 0:i[0].content)==null?void 0:o.parts)a.inlineData&&e.push(a);if(e.length>0)return e}const GSe=[_j.RECITATION,_j.SAFETY];function z$(t){return!!t.finishReason&&GSe.some(e=>e===t.finishReason)}function au(t){var n,r,i;let e="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)e+="Response was blocked",(n=t.promptFeedback)!=null&&n.blockReason&&(e+=` due to ${t.promptFeedback.blockReason}`),(r=t.promptFeedback)!=null&&r.blockReasonMessage&&(e+=`: ${t.promptFeedback.blockReasonMessage}`);else if((i=t.candidates)!=null&&i[0]){const o=t.candidates[0];z$(o)&&(e+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(e+=`: ${o.finishMessage}`))}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(t){var e,n;if((e=t.safetySettings)==null||e.forEach(r=>{if(r.method)throw new st(it.UNSUPPORTED,"SafetySetting.method is not supported in the the Gemini Developer API. Please remove this property.")}),(n=t.generationConfig)!=null&&n.topK){const r=Math.round(t.generationConfig.topK);r!==t.generationConfig.topK&&(Ai.warn("topK in GenerationConfig has been rounded to the nearest integer to match the format for requests to the Gemini Developer API."),t.generationConfig.topK=r)}return t}function CI(t){return{candidates:t.candidates?WSe(t.candidates):void 0,prompt:t.promptFeedback?YSe(t.promptFeedback):void 0,usageMetadata:t.usageMetadata}}function KSe(t,e){return{generateContentRequest:{model:e,...t}}}function WSe(t){const e=[];let n;return e&&t.forEach(r=>{var a,l;let i;if(r.citationMetadata&&(i={citations:r.citationMetadata.citationSources}),r.safetyRatings&&(n=r.safetyRatings.map(u=>({...u,severity:u.severity??D$.HARM_SEVERITY_UNSUPPORTED,probabilityScore:u.probabilityScore??0,severityScore:u.severityScore??0}))),(l=(a=r.content)==null?void 0:a.parts)!=null&&l.some(u=>u==null?void 0:u.videoMetadata))throw new st(it.UNSUPPORTED,"Part.videoMetadata is not supported in the Gemini Developer API. Please remove this property.");const o={index:r.index,content:r.content,finishReason:r.finishReason,finishMessage:r.finishMessage,safetyRatings:n,citationMetadata:i,groundingMetadata:r.groundingMetadata,urlContextMetadata:r.urlContextMetadata};e.push(o)}),e}function YSe(t){const e=[];return t.safetyRatings.forEach(r=>{e.push({category:r.category,probability:r.probability,severity:r.severity??D$.HARM_SEVERITY_UNSUPPORTED,probabilityScore:r.probabilityScore??0,severityScore:r.severityScore??0,blocked:r.blocked})}),{blockReason:t.blockReason,safetyRatings:e,blockReasonMessage:t.blockReasonMessage}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function JSe(t,e,n){const r=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),i=ZSe(r),[o,a]=i.tee();return{stream:QSe(o,e,n),response:XSe(a,e,n)}}async function XSe(t,e,n){const r=[],i=t.getReader();for(;;){const{done:o,value:a}=await i.read();if(o){let l=eAe(r);return e.backend.backendType===Zs.GOOGLE_AI&&(l=CI(l)),Z0(l,n)}r.push(a)}}async function*QSe(t,e,n){var i,o;const r=t.getReader();for(;;){const{value:a,done:l}=await r.read();if(l)break;let u;e.backend.backendType===Zs.GOOGLE_AI?u=Z0(CI(a),n):u=Z0(a,n);const d=(i=u.candidates)==null?void 0:i[0];!((o=d==null?void 0:d.content)!=null&&o.parts)&&!(d!=null&&d.finishReason)&&!(d!=null&&d.citationMetadata)&&!(d!=null&&d.urlContextMetadata)||(yield u)}}function ZSe(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return o();function o(){return e.read().then(({value:a,done:l})=>{if(l){if(i.trim()){r.error(new st(it.PARSE_FAILED,"Failed to parse stream"));return}r.close();return}i+=a;let u=i.match(Ej),d;for(;u;){try{d=JSON.parse(u[1])}catch{r.error(new st(it.PARSE_FAILED,`Error parsing JSON response: "${u[1]}`));return}r.enqueue(d),i=i.substring(u[0].length),u=i.match(Ej)}return o()})}}})}function eAe(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t)if(r.candidates)for(const i of r.candidates){const o=i.index||0;n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:i.index}),n.candidates[o].citationMetadata=i.citationMetadata,n.candidates[o].finishReason=i.finishReason,n.candidates[o].finishMessage=i.finishMessage,n.candidates[o].safetyRatings=i.safetyRatings,n.candidates[o].groundingMetadata=i.groundingMetadata;const a=i.urlContextMetadata;if(typeof a=="object"&&a!==null&&Object.keys(a).length>0&&(n.candidates[o].urlContextMetadata=a),i.content){if(!i.content.parts)continue;n.candidates[o].content||(n.candidates[o].content={role:i.content.role||"user",parts:[]});for(const l of i.content.parts){const u={...l};l.text!==""&&Object.keys(u).length>0&&n.candidates[o].content.parts.push(u)}}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tAe=[it.FETCH_ERROR,it.ERROR,it.API_NOT_ENABLED];async function j$(t,e,n,r){if(!e)return{response:await r(),inferenceSource:Ll.IN_CLOUD};switch(e.mode){case ou.ONLY_ON_DEVICE:if(await e.isAvailable(t))return{response:await n(),inferenceSource:Ll.ON_DEVICE};throw new st(it.UNSUPPORTED,"Inference mode is ONLY_ON_DEVICE, but an on-device model is not available.");case ou.ONLY_IN_CLOUD:return{response:await r(),inferenceSource:Ll.IN_CLOUD};case ou.PREFER_IN_CLOUD:try{return{response:await r(),inferenceSource:Ll.IN_CLOUD}}catch(i){if(i instanceof st&&tAe.includes(i.code))return{response:await n(),inferenceSource:Ll.ON_DEVICE};throw i}case ou.PREFER_ON_DEVICE:return await e.isAvailable(t)?{response:await n(),inferenceSource:Ll.ON_DEVICE}:{response:await r(),inferenceSource:Ll.IN_CLOUD};default:throw new st(it.ERROR,`Unexpected infererence mode: ${e.mode}`)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nAe(t,e,n,r){return t.backend.backendType===Zs.GOOGLE_AI&&(n=L$(n)),AI({task:"streamGenerateContent",model:e,apiSettings:t,stream:!0,requestOptions:r},JSON.stringify(n))}async function U$(t,e,n,r,i){const o=await j$(n,r,()=>r.generateContentStream(n),()=>nAe(t,e,n,i));return JSe(o.response,t)}async function rAe(t,e,n,r){return t.backend.backendType===Zs.GOOGLE_AI&&(n=L$(n)),AI({model:e,task:"generateContent",apiSettings:t,stream:!1,requestOptions:r},JSON.stringify(n))}async function V$(t,e,n,r,i){const o=await j$(n,r,()=>r.generateContent(n),()=>rAe(t,e,n,i)),a=await iAe(o.response,t);return{response:Z0(a,o.inferenceSource)}}async function iAe(t,e){const n=await t.json();return e.backend.backendType===Zs.GOOGLE_AI?CI(n):n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function dS(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return oAe(e)}function oAe(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),i=!0):(e.parts.push(o),r=!0);if(r&&i)throw new st(it.INVALID_CONTENT,"Within a single message, FunctionResponse cannot be mixed with other type of Part in the request for sending chat message.");if(!r&&!i)throw new st(it.INVALID_CONTENT,"No Content is provided for sending chat message.");return r?e:n}function uT(t){let e;return t.contents?e=t:e={contents:[dS(t)]},t.systemInstruction&&(e.systemInstruction=F$(t.systemInstruction)),e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=["text","inlineData","functionCall","functionResponse","thought","thoughtSignature"],aAe={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","thought","thoughtSignature"],system:["text"]},Aj={user:["model"],function:["model"],model:["user","function"],system:[]};function sAe(t){let e=null;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new st(it.INVALID_CONTENT,`First Content should be with role 'user', got ${r}`);if(!kj.includes(r))throw new st(it.INVALID_CONTENT,`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(kj)}`);if(!Array.isArray(i))throw new st(it.INVALID_CONTENT,"Content should have 'parts' property with an array of Parts");if(i.length===0)throw new st(it.INVALID_CONTENT,"Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,thought:0,thoughtSignature:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const u of Sj)u in l&&(o[u]+=1);const a=aAe[r];for(const l of Sj)if(!a.includes(l)&&o[l]>0)throw new st(it.INVALID_CONTENT,`Content with role '${r}' can't contain '${l}' part`);if(e&&!Aj[r].includes(e.role))throw new st(it.INVALID_CONTENT,`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(Aj)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="SILENT_ERROR";class lAe{constructor(e,n,r,i,o){this.model=n,this.chromeAdapter=r,this.params=i,this.requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiSettings=e,i!=null&&i.history&&(sAe(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var o,a,l,u,d;await this._sendPromise;const n=dS(e),r={safetySettings:(o=this.params)==null?void 0:o.safetySettings,generationConfig:(a=this.params)==null?void 0:a.generationConfig,tools:(l=this.params)==null?void 0:l.tools,toolConfig:(u=this.params)==null?void 0:u.toolConfig,systemInstruction:(d=this.params)==null?void 0:d.systemInstruction,contents:[...this._history,n]};let i={};return this._sendPromise=this._sendPromise.then(()=>V$(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions)).then(p=>{var h,y;if(p.response.candidates&&p.response.candidates.length>0){this._history.push(n);const b={parts:((h=p.response.candidates)==null?void 0:h[0].content.parts)||[],role:((y=p.response.candidates)==null?void 0:y[0].content.role)||"model"};this._history.push(b)}else{const b=au(p.response);b&&Ai.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}i=p}),await this._sendPromise,i}async sendMessageStream(e){var o,a,l,u,d;await this._sendPromise;const n=dS(e),r={safetySettings:(o=this.params)==null?void 0:o.safetySettings,generationConfig:(a=this.params)==null?void 0:a.generationConfig,tools:(l=this.params)==null?void 0:l.tools,toolConfig:(u=this.params)==null?void 0:u.toolConfig,systemInstruction:(d=this.params)==null?void 0:d.systemInstruction,contents:[...this._history,n]},i=U$(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>i).catch(p=>{throw new Error(Cj)}).then(p=>p.response).then(p=>{if(p.candidates&&p.candidates.length>0){this._history.push(n);const h={...p.candidates[0].content};h.role||(h.role="model"),this._history.push(h)}else{const h=au(p);h&&Ai.warn(`sendMessageStream() was unsuccessful. ${h}. Inspect response object for details.`)}}).catch(p=>{p.message!==Cj&&Ai.error(p)}),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cAe(t,e,n,r){let i="";if(t.backend.backendType===Zs.GOOGLE_AI){const a=KSe(n,e);i=JSON.stringify(a)}else i=JSON.stringify(n);return(await AI({model:e,task:"countTokens",apiSettings:t,stream:!1,requestOptions:r},i)).json()}async function uAe(t,e,n,r,i){if((r==null?void 0:r.mode)===ou.ONLY_ON_DEVICE)throw new st(it.UNSUPPORTED,"countTokens() is not supported for on-device models.");return cAe(t,e,n,i)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dAe extends Sh{constructor(e,n,r,i){super(e,n.model),this.chromeAdapter=i,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=F$(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=uT(e);return V$(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}async generateContentStream(e){const n=uT(e);return U$(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}startChat(e){return new lAe(this._apiSettings,this.model,this.chromeAdapter,{tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,generationConfig:this.generationConfig,safetySettings:this.safetySettings,...e},this.requestOptions)}async countTokens(e){const n=uT(e);return uAe(this._apiSettings,this.model,n,this.chromeAdapter)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){if(!e.type&&!e.anyOf)throw new st(it.INVALID_SCHEMA,"A schema must have either a 'type' or an 'anyOf' array of sub-schemas.");for(const n in e)this[n]=e[n];this.type=e.type,this.format=e.hasOwnProperty("format")?e.format:void 0,this.nullable=e.hasOwnProperty("nullable")?!!e.nullable:!1}toJSON(){const e={type:this.type};for(const n in this)this.hasOwnProperty(n)&&this[n]!==void 0&&(n!=="required"||this.type===zu.OBJECT)&&(e[n]=this[n]);return e}static array(e){return new gAe(e,e.items)}static object(e){return new mAe(e,e.properties,e.optionalProperties)}static string(e){return new Ij(e)}static enumString(e){return new Ij(e,e.enum)}static integer(e){return new pAe(e)}static number(e){return new fAe(e)}static boolean(e){return new hAe(e)}static anyOf(e){return new yAe(e)}}class pAe extends At{constructor(e){super({type:zu.INTEGER,...e})}}class fAe extends At{constructor(e){super({type:zu.NUMBER,...e})}}class hAe extends At{constructor(e){super({type:zu.BOOLEAN,...e})}}class Ij extends At{constructor(e,n){super({type:zu.STRING,...e}),this.enum=n}toJSON(){const e=super.toJSON();return this.enum&&(e.enum=this.enum),e}}class gAe extends At{constructor(e,n){super({type:zu.ARRAY,...e}),this.items=n}toJSON(){const e=super.toJSON();return e.items=this.items.toJSON(),e}}class mAe extends At{constructor(e,n,r=[]){super({type:zu.OBJECT,...e}),this.properties=n,this.optionalProperties=r}toJSON(){const e=super.toJSON();e.properties={...this.properties};const n=[];if(this.optionalProperties){for(const r of this.optionalProperties)if(!this.properties.hasOwnProperty(r))throw new st(it.INVALID_SCHEMA,`Property "${r}" specified in "optionalProperties" does not exist.`)}for(const r in this.properties)this.properties.hasOwnProperty(r)&&(e.properties[r]=this.properties[r].toJSON(),this.optionalProperties.includes(r)||n.push(r));return n.length>0&&(e.required=n),delete e.optionalProperties,e}}class yAe extends At{constructor(e){if(e.anyOf.length===0)throw new st(it.INVALID_SCHEMA,"The 'anyOf' array must not be empty.");super({...e,type:void 0}),this.anyOf=e.anyOf}toJSON(){const e=super.toJSON();return this.anyOf&&Array.isArray(this.anyOf)&&(e.anyOf=this.anyOf.map(n=>n.toJSON())),e}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t=Lg(),e){t=Bt(t);const n=Pp(t,wp),r=(e==null?void 0:e.backend)??new rm,i={useLimitedUseAppCheckTokens:(e==null?void 0:e.useLimitedUseAppCheckTokens)??!1},o=DSe(r),a=n.getImmediate({identifier:o});return a.options=i,a}function II(t,e,n){var a;const r=e;let i;if(r.mode?i=r.inCloudParams||{model:PSe}:i=e,!i.model)throw new st(it.NO_MODEL,"Must provide a model name. Example: getGenerativeModel({ model: 'my-model-name' })");const o=(a=t.chromeAdapterFactory)==null?void 0:a.call(t,r.mode,typeof window>"u"?void 0:window,r.onDeviceParams);return new dAe(t,i,n,o)}function bAe(){Us(new Ya(wp,jSe,"PUBLIC").setMultipleInstances(!0)),Di(vj,uS),Di(vj,uS,"esm2020")}bAe();const q$=B$(kc,{backend:new rm}),vAe=[{functionDeclarations:[{name:"addTask",description:"Add a new task to the project plan",parameters:At.object({properties:{title:At.string({description:"Short title of the task"}),description:At.string({description:"Detailed description"}),estimatedCostMax:At.number({description:"Estimated max cost in SEK"}),phase:At.string({description:"Project phase"}),priority:At.enumString({enum:["Hg","Medel","Lg"],description:"Priority level"}),sprint:At.string({description:"Sprint name"})},optionalProperties:["estimatedCostMax","priority","sprint"]})},{name:"updateTask",description:"Update an existing task",parameters:At.object({properties:{taskTitleKeywords:At.string({description:"Keywords to find the task"}),newStatus:At.enumString({enum:["todo","in-progress","done"]}),newPriority:At.enumString({enum:["Hg","Medel","Lg"]})},optionalProperties:["newStatus","newPriority"]})},{name:"deleteTask",description:"Delete a task from the project",parameters:At.object({properties:{taskTitleKeywords:At.string({description:"Keywords to find task to delete"})}})},{name:"addToShoppingList",description:"Add item to shopping list",parameters:At.object({properties:{name:At.string({description:"Item name"}),category:At.string({description:"Category"}),estimatedCost:At.number({description:"Estimated cost in SEK"}),quantity:At.string({description:"Quantity"})},optionalProperties:["category","estimatedCost","quantity"]})},{name:"inspectImage",description:"Du r en expertmekaniker specialiserad p veteranbilar. Analysera bild frn anvndaren fr att identifiera komponenter, bedma skick (rost, sprickor, slitage), och bedm allvarlighetsgrad. Var pessimistisk gllande rost p brande delar. Om osker, fresl manuell inspektion.",parameters:At.object({properties:{zone:At.enumString({enum:["EXTERIOR","ENGINE","UNDERCARRIAGE","INTERIOR"],description:"Inspection zone: EXTERIOR (karosseri, lack, glas), ENGINE (motor, vtskor, remmar), UNDERCARRIAGE (balkar, avgassystem, bromsrr), INTERIOR (instrument, golv, drrar)"}),userDescription:At.string({description:"What the user said about the image/area being inspected"})}})},{name:"inspectAudio",description:"Analysera ljudfil frn fordonet (motorljud, klickande, gnisslande). Identifiera avvikelser och bedm allvarlighetsgrad.",parameters:At.object({properties:{zone:At.enumString({enum:["ENGINE","UNDERCARRIAGE","INTERIOR"],description:"Sound source zone"}),userDescription:At.string({description:"What the user said about the sound"})}})},{name:"updateProjectMetadata",description:"Uppdatera projektets metadata som namn, smeknamn (nickname), beskrivning, eller projekttyp. Anvnd detta nr anvndaren vill ndra grundlggande projektinformation.",parameters:At.object({properties:{field:At.enumString({enum:["name","nickname","description","type"],description:"Field to update: name (projektnamn), nickname (smeknamn fr bilen), description (projektbeskrivning), type (renovation/conversion/maintenance)"}),value:At.string({description:"New value for the field"})}})}]}],wAe=()=>II(q$,{model:"gemini-2.5-flash",tools:vAe,generationConfig:{temperature:.9,topK:40,topP:.95,maxOutputTokens:8192}}),xAe=(t,e,n,r,i,o)=>({parts:[{text:`Du r Elton, en AI-mekaniker fr ${r||"fordonet"}.

${i?`

=== ANVNDARENS KUNSKAPSNIV ===
${i==="beginner"?"NYBRJARE: Frklara allt tydligt, ge detaljerade steg-fr-steg instruktioner.":i==="intermediate"?"HEMMAMECK: Balansera mellan DIY och verkstad. Ge praktiska tips.":"CERTIFIERAD: Teknisk och koncis. Fokusera p specs och momentvrden."}`:""}
${o?`

=== PROJEKTTYP ===
${o==="renovation"?"RENOVERING: Fokus p att terstlla till ursprungligt skick.":o==="conversion"?"OMBYGGNAD (CAMPER): Fokus p camper-ombyggnad.":"FRVALTNING: Fokus p lpande underhll och service."}`:""}

=== FORDONSDATA ===
${JSON.stringify(t,null,2)}

=== AKTUELLA UPPGIFTER ===
${e.map(d=>`- ${d.title} (${d.status})`).join(`
`)}

=== INKPSLISTA ===
${n.map(d=>`- ${d.name} (${d.checked?"kpt":"att kpa"})`).join(`
`)}

VIKTIGT - VERKTYGSANVNDNING:
- Nr anvndaren ger dig uppgifter, inkp, eller data: ANVND ALLTID verktygen (addTask, addToShoppingList, etc.)
- ALDRIG bara "prata om" att ha sparat ngot - GR DET faktiskt!
- Om anvndaren sger "hr r en lista" eller "lgg till dessa" - ANVND verktyg direkt
- Bekrfta frst vad du kommer gra, ANVND sedan verktygen, bekrfta EFTER att de krts

Exempel:
Anvndare: "Lgg till uppgift: Byt kamrem"
Fel: "Jag har sparat uppgiften om kamrem" (gjorde ingenting!)
Rtt: *anvnder addTask-verktyget* "Jag har nu lagt till uppgiften i din projektplan!"

Svara hjlpsamt och personligt.`}]}),kAe=async(t,e,n,r,i,o,a,l,u,d,p)=>{var I;const h=wAe(),y=xAe(n,r,i,u,d,p);let b=t.map(O=>({role:O.role,parts:O.image?[{text:O.content},{inlineData:{mimeType:"image/jpeg",data:O.image}}]:[{text:O.content}]}));for(;b.length>0&&b[0].role==="model";)console.warn(" Removing leading model message from chat history"),b.shift();const E=[{text:e}];l&&E.push({inlineData:{mimeType:"image/jpeg",data:l}});const S=h.startChat({history:b,systemInstruction:y}),_=await S.sendMessageStream(E);let C="",R=[];for await(const O of _.stream){const U=O.text();U&&(C+=U,o(C));const M=(I=O.functionCalls)==null?void 0:I.call(O);M&&M.length>0&&(R=M)}if(R.length>0){const U=(await a(R)).map(D=>({functionResponse:{name:D.name,response:{content:D.result}}})),M=await S.sendMessageStream(U);for await(const D of M.stream){const L=D.text();L&&(C+=L,o(C))}}return{text:C,functionCalls:R}},Nj=async(t,e,n,r)=>{const i=II(q$,{model:"gemini-2.5-flash",generationConfig:{temperature:.7,maxOutputTokens:2048}}),u=[{text:`Du r en expertmekaniker specialiserad p veteranbilar, srskilt frn 60-80-talet.

${{EXTERIOR:`
ELTON INSPECTOR - ZONE 1: EXTERIOR ("Skalet")
==============================================

CHECKLIST:
 Glas (vindrutor, sidorutor, bakruta - sprickor, repor)
 Gummilister (drrar, fnster - spruckna, hrdnade)
 Lack (frgskikt - flagning, blsor, nedbrytning)
 Rostfllor:
  - Hjulhus (framsida, baksida)
  - Fotsteg/trsklar (brande del!)
  - Drrkanter (underkant)
  - Motorhuv/baklucka (kanter)

ESKALERINGSLOGIK:
- Level 1 (Look): Syns bubblor eller missfrgning?  G till Level 2
- Level 2 (Poke): "Poka frsiktigt med skruvmejsel"  Gr det igenom?  CRITICAL
- Level 3 (Disassemble): "Ta bort lista/panel fr djupare inspektion"`,ENGINE:`
ELTON INSPECTOR - ZONE 2: ENGINE ("Hjrtat")
==============================================

CHECKLIST:
 Vtskor:
  - Motorolja (niv, frg, konsistens)
  - Kylvtska (niv, frg, lckage)
  - "Majonns-koll" (vit srja = vatten i olja = packning!)
 Mekanisk hlsa:
  - Kamremmar/V-remmar (sprickor, slitage)
  - Slangar (sprickor, svullnad, lckage)
  - Tndstift/kablar
 Elmotorer:
  - Torkarmotorer (funktion)
  - Flktar (funktion, oljud)

ESKALERINGSLOGIK:
- Level 1 (Listen): Hr du tickande/gnisslande vid olika varvtal?
- Level 2 (Measure): "Fljer ljudet motorvarvtal?"  Ja = ventiljustering
- Level 3 (Disassemble): "Ta av ventilkpan fr visuell inspektion"`,UNDERCARRIAGE:`
ELTON INSPECTOR - ZONE 3: UNDERCARRIAGE ("Skelettet")
=======================================================

CHECKLIST:
 Balkar (lngsgende, tvrbalkar - ROST = KRITISKT!)
 Avgassystem:
  - Grenrr (sprickor, lckage)
  - Katalysator (bulor, lckage)
  - Dmpare/ljuddmpare (rostangrepp, hl)
 Bromsrr (rost, lckage)
 Fjdring (bussningar, sttdmpare)

ESKALERINGSLOGIK:
- Level 1 (Look): Syns rost p balk?  G till Level 2
- Level 2 (Poke): "Poka med mejsel"  Knastar/gr igenom?  CRITICAL
- Level 3 (Professional): "Detta krver lyft och professionell bedmning"`,INTERIOR:`
ELTON INSPECTOR - ZONE 4: INTERIOR ("Kontoret")
================================================

CHECKLIST:
 Instrument:
  - Mtare (fungerar alla?)
  - Varningslampor (tnds/slcks korrekt?)
  - Reglage (vrme, ventilation)
 Golv:
  - Mattor/golvbrunn (fukt = lckage eller rost!)
  - Pedalgumm (slitage)
 Drrar:
  - Ttningslister (spruckna?)
  - Ls/handtag (funktion)
  - Hgtalare (funktion)

ESKALERINGSLOGIK:
- Level 1 (Look): Ser du flckar eller fukt?
- Level 2 (Touch): "Knn p golvet under mattor"  Bltt?  Hitta lckage!
- Level 3 (Trace): "Spra lckaget (gummilister, ttningar, rostangrep)"`}[t]}

ANVNDARENS BESKRIVNING: ${e}

Analysera ${n?"bilden":"ljudet"} med hjlp av checklistorna ovan.

ANALYSPROCESS:
1. Identifiera vad anvndaren visar (komponent, omrde)
2. Jmfr mot checklist - vad ser/hrs du?
3. Bedm allvarlighetsgrad (se regler nedan)
4. Fresl eskalering om ndvndigt (Level 123)
5. Rekommendera tgrd

ALLVARLIGHETSGRADER:
- CRITICAL = Skerhetsrisk ELLER brande del ELLER riskerar stopp
  * Rost p balkar, ramar, fsten
  * Broms-/styrningsfel
  * Allvarligt motorproblem

- WARNING = Behver tgrdas snart, blir vrre med tiden
  * Mindre rostangrepp (ej brande)
  * Slitage som pverkar funktion
  * Lckage (olja, kylvtska)

- COSMETIC = Estetiskt eller mycket mindre problem
  * Ytlig lackskada
  * Mindre repor
  * Slitagemrken som ej pverkar funktion

REGLER:
- Var PESSIMISTISK gllande rost p brande delar
- Vid oskerhet  fresl nsta niv (Level 2 eller 3)
- Referera till rsmodellspecifika problem om mjligt
- Ge konkreta nsta-steg tgrder

Svara i JSON-format:
{
  "diagnosis": "Detaljerad beskrivning...

**Nsta steg:** [konkret tgrd eller uppfljningsfrga]",
  "severity": "COSMETIC|WARNING|CRITICAL",
  "confidence": 85
}`}];n&&u.push({inlineData:{mimeType:"image/jpeg",data:n}});const p=(await i.generateContent(u)).response.text();try{const b=p.match(/\{[\s\S]*\}/);if(b){const E=JSON.parse(b[0]);return{aiDiagnosis:E.diagnosis||p,severity:E.severity||"WARNING",confidence:E.confidence||75,category:t}}}catch{console.warn("Failed to parse JSON from inspector, using raw text")}const h=/kritisk|akut|farlig|omedelbar|strukturell|brande/i.test(p),y=/varning|tgrd|br|rekommend/i.test(p);return{aiDiagnosis:p,severity:h?"CRITICAL":y?"WARNING":"COSMETIC",confidence:75,category:t}},Dr=[];for(let t=0;t<256;++t)Dr.push((t+256).toString(16).slice(1));function _Ae(t,e=0){return(Dr[t[e+0]]+Dr[t[e+1]]+Dr[t[e+2]]+Dr[t[e+3]]+"-"+Dr[t[e+4]]+Dr[t[e+5]]+"-"+Dr[t[e+6]]+Dr[t[e+7]]+"-"+Dr[t[e+8]]+Dr[t[e+9]]+"-"+Dr[t[e+10]]+Dr[t[e+11]]+Dr[t[e+12]]+Dr[t[e+13]]+Dr[t[e+14]]+Dr[t[e+15]]).toLowerCase()}let dT;const TAe=new Uint8Array(16);function EAe(){if(!dT){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");dT=crypto.getRandomValues.bind(crypto)}return dT(TAe)}const SAe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Rj={randomUUID:SAe};function AAe(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??EAe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,_Ae(r)}function Yo(t,e,n){return Rj.randomUUID&&!t?Rj.randomUUID():AAe(t)}const CAe=async(t,e,n,r)=>{if(!t)throw new Error("No file provided for upload.");const i=t.name.split(".").pop(),o=`${Yo()}.${i}`,a=Lw(jw,`receipts/${e}/${n}/${o}`),l=await Mw(a,t);return await zw(l.ref)},IAe=async(t,e)=>{var h,y;const n=atob(t.split(",")[1]||t),r=((y=(h=t.split(",")[0])==null?void 0:h.match(/:(.*?);/))==null?void 0:y[1])||"image/jpeg",i=new ArrayBuffer(n.length),o=new Uint8Array(i);for(let b=0;b<n.length;b++)o[b]=n.charCodeAt(b);const a=new Blob([i],{type:r}),l=`${Yo()}.${r.split("/")[1]}`,u=Lw(jw,`chat-images/${e}/${l}`),d=await Mw(u,a);return await zw(d.ref)},NAe=async(t,e)=>{var y;const n=t.split(","),r=(y=n[0])==null?void 0:y.match(/:(.*?);/),i=r?r[1]:"image/jpeg",o=atob(n[1]||n[0]),a=new ArrayBuffer(o.length),l=new Uint8Array(a);for(let b=0;b<o.length;b++)l[b]=o.charCodeAt(b);const u=new Blob([a],{type:i}),d=`${Yo()}.${i.split("/")[1]||"jpg"}`,p=Lw(jw,`inspections/images/${e}/${d}`),h=await Mw(p,u);return await zw(h.ref)},RAe=async(t,e)=>{if(!t)throw new Error("No audio file provided");const n=t.name.split(".").pop()||"wav",r=`${Yo()}.${n}`,i=Lw(jw,`inspections/audio/${e}/${r}`),o=await Mw(i,t);return await zw(o.ref)},OAe=(t,e=[])=>{var r;const n=t.vehicleData;return{meta:{project:t.name,exported:new Date().toISOString().split("T")[0],version:"2.0"},vehicle:{identity:{regNo:n.regNo,make:n.make,model:n.model,year:n.year,productionYear:n.prodYear,firstRegistration:n.regDate,vin:n.vin,color:n.color,bodyType:n.bodyType},engine:{code:n.engine.code,type:`${n.engine.volume} ${n.engine.fuel}`,cylinders:n.engine.cylinders,power:n.engine.power,torque:n.engine.torque,cooling:n.engine.cooling,valveTrain:n.engine.valveTrain,carburetor:n.engine.carburetor},specs:{gearbox:n.gearbox,drive:n.wheels.drive,tires:`${n.wheels.tiresFront} / ${n.wheels.boltPattern}`,length:n.dimensions.length,width:n.dimensions.width,wheelbase:n.dimensions.wheelbase,weights:{curb:n.weights.curb,total:n.weights.total,load:n.weights.load,trailer:n.weights.trailer}},status:{current:n.status,lastInspection:n.inspection.last,odometerReading:n.inspection.mileage?parseInt(n.inspection.mileage.replace(/\s/g,"")):void 0}},knowledgeBase:(t.knowledgeArticles||[]).map(i=>({id:i.id,title:i.title,tags:i.tags,summary:i.summary,content:i.content})),tasks:t.tasks.map(i=>({title:i.title,status:i.status,cost:i.actualCost>0?i.actualCost:void 0,estCost:i.estimatedCostMin>0?i.estimatedCostMin===i.estimatedCostMax?`${i.estimatedCostMin} kr`:`${i.estimatedCostMin}-${i.estimatedCostMax} kr`:void 0,phase:i.phase,description:i.description||void 0,checklist:i.subtasks&&i.subtasks.length>0?i.subtasks.map(o=>o.title):void 0,priority:i.priority||void 0})),shoppingList:t.shoppingItems.map(i=>({name:i.name,estCost:i.estimatedCost,url:i.url,qty:i.quantity})),contacts:e.map(i=>({name:i.name,phone:i.phone,type:i.specialty||i.category})),tips:(r=n.expertAnalysis)!=null&&r.maintenanceNotes?[{title:"Underhllstips",text:n.expertAnalysis.maintenanceNotes}]:[]}},PAe=(t,e=[])=>{const n=OAe(t,e);let r=`# PROJEKTKONTEXT: ${n.meta.project}

`;if(r+=`## FORDON
`,r+=`**Registreringsnummer:** ${n.vehicle.identity.regNo}
`,r+=`**Mrke & Modell:** ${n.vehicle.identity.make} ${n.vehicle.identity.model}
`,r+=`**rsmodell:** ${n.vehicle.identity.year} (Tillverkad ${n.vehicle.identity.productionYear})
`,r+=`**Frsta registrering:** ${n.vehicle.identity.firstRegistration}
`,r+=`**Chassinummer:** ${n.vehicle.identity.vin}
`,r+=`**Karosstyp:** ${n.vehicle.identity.bodyType}
`,r+=`**Frg:** ${n.vehicle.identity.color}

`,r+=`## MOTOR
`,n.vehicle.engine.code&&(r+=`**Motorkod:** ${n.vehicle.engine.code}
`),r+=`**Typ:** ${n.vehicle.engine.type}
`,r+=`**Effekt:** ${n.vehicle.engine.power}
`,n.vehicle.engine.cylinders&&(r+=`**Cylindrar:** ${n.vehicle.engine.cylinders}
`),n.vehicle.engine.torque&&(r+=`**Vridmoment:** ${n.vehicle.engine.torque}
`),n.vehicle.engine.carburetor&&(r+=`**Frgasare:** ${n.vehicle.engine.carburetor}
`),r+=`
`,r+=`## SPECIFIKATIONER
`,r+=`**Vxellda:** ${n.vehicle.specs.gearbox}
`,r+=`**Drivning:** ${n.vehicle.specs.drive}
`,r+=`**Dck:** ${n.vehicle.specs.tires}
`,r+=`**Mtt (LB):** ${n.vehicle.specs.length}${n.vehicle.specs.width} mm
`,r+=`**Hjulbas:** ${n.vehicle.specs.wheelbase} mm
`,r+=`**Vikter:**
`,r+=`  - Tjnstevikt: ${n.vehicle.specs.weights.curb} kg
`,r+=`  - Totalvikt: ${n.vehicle.specs.weights.total} kg
`,r+=`  - Lastvikt: ${n.vehicle.specs.weights.load} kg
`,r+=`  - Slpvagnsvikt: ${n.vehicle.specs.weights.trailer} kg

`,r+=`## AKTUELL STATUS
`,r+=`**Trafikstatus:** ${n.vehicle.status.current}
`,r+=`**Senaste besiktning:** ${n.vehicle.status.lastInspection}
`,n.vehicle.status.odometerReading&&(r+=`**Mtarstllning:** ${n.vehicle.status.odometerReading} km
`,n.vehicle.status.odometerNote&&(r+=`**Notering:** ${n.vehicle.status.odometerNote}
`)),r+=`
`,n.knowledgeBase.length>0&&(r+=`## KUNSKAPSBAS (${n.knowledgeBase.length} artiklar)

`,n.knowledgeBase.forEach(i=>{r+=`### ${i.title}
`,r+=`**Tags:** ${i.tags?i.tags.join(", "):"Inga"}
`,r+=`**Sammanfattning:** ${i.summary}

`,r+=`${i.content}

`,r+=`---

`})),n.tasks.length>0){r+=`## UPPGIFTER (${n.tasks.length} st)

`;const i={};n.tasks.forEach(o=>{i[o.phase]||(i[o.phase]=[]),i[o.phase].push(o)}),Object.entries(i).forEach(([o,a])=>{r+=`### ${o}
`,a.forEach(l=>{r+=`- **${l.title}** [${l.status}]
`,l.description&&(r+=`  ${l.description}
`),l.cost?r+=`  Kostnad: ${l.cost} kr
`:l.estCost&&(r+=`  Uppskattad kostnad: ${l.estCost}
`),l.checklist&&(r+=`  Checklista:
`,l.checklist.forEach(u=>{r+=`     ${u}
`}))}),r+=`
`})}return n.shoppingList.length>0&&(r+=`## INKPSLISTA (${n.shoppingList.length} artiklar)

`,n.shoppingList.forEach(i=>{r+=`- **${i.name}**`,i.qty&&(r+=` (${i.qty})`),i.estCost&&(r+=` - ${i.estCost} kr`),i.url&&(r+=` [${i.url}]`),r+=`
`}),r+=`
`),n.contacts&&n.contacts.length>0&&(r+=`## KONTAKTER

`,n.contacts.forEach(i=>{r+=`- **${i.name}** (${i.type})
`,r+=`  Tel: ${i.phone}
`}),r+=`
`),n.tips&&n.tips.length>0&&(r+=`## TIPS & VARNINGAR

`,n.tips.forEach(i=>{r+=`**${i.title}:** ${i.text}

`})),r},DAe=t=>{const e=t.tasks.length,n=t.tasks.filter(u=>u.status==="Klart").length,r=t.tasks.filter(u=>u.status==="Pgende").length,i=t.tasks.reduce((u,d)=>u+d.estimatedCostMax,0),o=t.tasks.reduce((u,d)=>u+d.actualCost,0),a=t.shoppingItems.reduce((u,d)=>u+(d.actualCost||d.estimatedCost),0),l=t.shoppingItems.filter(u=>u.checked).length;return{tasks:{total:e,completed:n,inProgress:r,remaining:e-n},costs:{estimated:i,actual:o,shopping:a},shopping:{total:t.shoppingItems.length,completed:l}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let MAe,zAe;function LAe(){return{geminiUrl:MAe,vertexUrl:zAe}}function jAe(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=LAe();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class el{}function Le(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const l=a.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[l])){const u=t[l];if(Array.isArray(n))for(let d=0;d<u.length;d++){const p=u[d];w(p,e.slice(o+1),n[d])}else for(const d of u)w(d,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const l=a.slice(0,-3);l in t||(t[l]=[{}]);const u=t[l];w(u[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(l=>v(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function UAe(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let l=-1;for(let u=0;u<i.length;u++)if(i[u]==="*"){l=u;break}if(l!==-1&&o.length>l)for(let u=l;u<o.length;u++){const d=o[u];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&a.add(d)}pS(t,i,o,0,a)}}function pS(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),l=t;if(a in l&&Array.isArray(l[a]))for(const u of l[a])pS(u,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,l=Object.keys(a).filter(d=>!d.startsWith("_")&&!i.has(d)),u={};for(const d of l)u[d]=a[d];for(const[d,p]of Object.entries(u)){const h=[];for(const y of n.slice(r))y==="*"?h.push(d):h.push(y);w(a,h,p)}for(const d of l)delete a[d]}}else{const a=t;o in a&&pS(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NI(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VAe(t){const e={},n=v(t,["operationName"]);n!=null&&w(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&w(e,["_url","resourceName"],r),e}function FAe(t){const e={},n=v(t,["name"]);n!=null&&w(e,["name"],n);const r=v(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=v(t,["done"]);i!=null&&w(e,["done"],i);const o=v(t,["error"]);o!=null&&w(e,["error"],o);const a=v(t,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],qAe(a)),e}function BAe(t){const e={},n=v(t,["name"]);n!=null&&w(e,["name"],n);const r=v(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=v(t,["done"]);i!=null&&w(e,["done"],i);const o=v(t,["error"]);o!=null&&w(e,["error"],o);const a=v(t,["response"]);return a!=null&&w(e,["response"],$Ae(a)),e}function qAe(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>HAe(a))),w(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function $Ae(t){const e={},n=v(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>GAe(a))),w(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function HAe(t){const e={},n=v(t,["video"]);return n!=null&&w(e,["video"],QAe(n)),e}function GAe(t){const e={},n=v(t,["_self"]);return n!=null&&w(e,["video"],ZAe(n)),e}function KAe(t){const e={},n=v(t,["operationName"]);return n!=null&&w(e,["_url","operationName"],n),e}function WAe(t){const e={},n=v(t,["operationName"]);return n!=null&&w(e,["_url","operationName"],n),e}function YAe(t){const e={},n=v(t,["name"]);n!=null&&w(e,["name"],n);const r=v(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=v(t,["done"]);i!=null&&w(e,["done"],i);const o=v(t,["error"]);o!=null&&w(e,["error"],o);const a=v(t,["response"]);return a!=null&&w(e,["response"],JAe(a)),e}function JAe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&w(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function $$(t){const e={},n=v(t,["name"]);n!=null&&w(e,["name"],n);const r=v(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=v(t,["done"]);i!=null&&w(e,["done"],i);const o=v(t,["error"]);o!=null&&w(e,["error"],o);const a=v(t,["response"]);return a!=null&&w(e,["response"],XAe(a)),e}function XAe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&w(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function QAe(t){const e={},n=v(t,["uri"]);n!=null&&w(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&w(e,["videoBytes"],NI(r));const i=v(t,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function ZAe(t){const e={},n=v(t,["gcsUri"]);n!=null&&w(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],NI(r));const i=v(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Oj;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Oj||(Oj={}));var Pj;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Pj||(Pj={}));var Dj;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Dj||(Dj={}));var Yl;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Yl||(Yl={}));var Mj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Mj||(Mj={}));var zj;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(zj||(zj={}));var Lj;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Lj||(Lj={}));var jj;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(jj||(jj={}));var Uj;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Uj||(Uj={}));var Vj;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Vj||(Vj={}));var Fj;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Fj||(Fj={}));var Bj;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Bj||(Bj={}));var qj;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(qj||(qj={}));var $j;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})($j||($j={}));var Hj;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Hj||(Hj={}));var Gj;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Gj||(Gj={}));var Kj;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Kj||(Kj={}));var Wj;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Wj||(Wj={}));var Yj;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Yj||(Yj={}));var og;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(og||(og={}));var Jj;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Jj||(Jj={}));var Xj;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Xj||(Xj={}));var Qj;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Qj||(Qj={}));var fS;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(fS||(fS={}));var Zj;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Zj||(Zj={}));var e4;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(e4||(e4={}));var t4;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(t4||(t4={}));var n4;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(n4||(n4={}));var r4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(r4||(r4={}));var i4;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(i4||(i4={}));var o4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(o4||(o4={}));var a4;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(a4||(a4={}));var s4;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(s4||(s4={}));var l4;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(l4||(l4={}));var c4;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(c4||(c4={}));var u4;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(u4||(u4={}));var d4;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(d4||(d4={}));var p4;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(p4||(p4={}));var f4;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(f4||(f4={}));var h4;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(h4||(h4={}));var g4;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(g4||(g4={}));var m4;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(m4||(m4={}));var y4;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(y4||(y4={}));var b4;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(b4||(b4={}));var v4;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(v4||(v4={}));var w4;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(w4||(w4={}));var x4;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(x4||(x4={}));var k4;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(k4||(k4={}));var _4;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(_4||(_4={}));var T4;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(T4||(T4={}));var E4;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(E4||(E4={}));var S4;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(S4||(S4={}));var A4;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(A4||(A4={}));var C4;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(C4||(C4={}));var Fd;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Fd||(Fd={}));class hS{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ih{get text(){var e,n,r,i,o,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",p=!1;const h=[];for(const y of(u=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[b,E]of Object.entries(y))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(E!==null||E!==void 0)&&h.push(b);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;p=!0,d+=y.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?d:void 0}get data(){var e,n,r,i,o,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const p=[];for(const h of(u=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[y,b]of Object.entries(h))y!=="inlineData"&&(b!==null||b!==void 0)&&p.push(y);h.inlineData&&typeof h.inlineData.data=="string"&&(d+=atob(h.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,o,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(u=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,o,a,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(u=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,o,a,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(u=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.output}}class I4{}class N4{}class eCe{}class tCe{}class nCe{}class rCe{}class R4{}class O4{}class P4{}class iCe{}class ev{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ev;let i;const o=e;return n?i=BAe(o):i=FAe(o),Object.assign(r,i),r}}class D4{}class M4{}class z4{}class L4{}class oCe{}class aCe{}class sCe{}class RI{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new RI,o=YAe(e);return Object.assign(r,o),r}}class lCe{}class cCe{}class uCe{}class j4{}class dCe{get text(){var e,n,r;let i="",o=!1;const a=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="text"&&u!=="thought"&&d!==null&&a.push(u);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;o=!0,i+=l.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="inlineData"&&u!==null&&o.push(l);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class pCe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class OI{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new OI,o=$$(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function H$(t,e){const n=Pt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function G$(t){return Array.isArray(t)?t.map(e=>tv(e)):[tv(t)]}function tv(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function K$(t){const e=tv(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function W$(t){const e=tv(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function U4(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Y$(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>U4(e)):[U4(t)]}function gS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function V4(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function F4(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Jr(t){if(t==null)throw new Error("ContentUnion is required");return gS(t)?t:{role:"user",parts:Y$(t)}}function PI(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Jr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Jr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Jr(n)):[Jr(e)]}function Co(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(V4(t)||F4(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Jr(t)]}const e=[],n=[],r=gS(t[0]);for(const i of t){const o=gS(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(V4(i)||F4(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Y$(n)}),e}function fCe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Yl).includes(n[0].toUpperCase())?n[0].toUpperCase():Yl.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Yl).includes(r.toUpperCase())?r.toUpperCase():Yl.TYPE_UNSPECIFIED})}}function Xd(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&fCe(t.type,e);for(const[a,l]of Object.entries(t))if(l!=null)if(a=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Yl).includes(l.toUpperCase())?l.toUpperCase():Yl.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Xd(l);else if(r.includes(a)){const u=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}u.push(Xd(d))}e[a]=u}else if(i.includes(a)){const u={};for(const[d,p]of Object.entries(l))u[d]=Xd(p);e[a]=u}else{if(a==="additionalProperties")continue;e[a]=l}return e}function DI(t){return Xd(t)}function MI(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function zI(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function jp(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Xd(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Xd(e.response));return t}function Up(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function hCe(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function tl(t,e){if(typeof e!="string")throw new Error("name must be a string");return hCe(t,e,"cachedContents")}function J$(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function _c(t){return NI(t)}function gCe(t){return t!=null&&typeof t=="object"&&"name"in t}function mCe(t){return t!=null&&typeof t=="object"&&"video"in t}function yCe(t){return t!=null&&typeof t=="object"&&"uri"in t}function X$(t){var e;let n;if(gCe(t)&&(n=t.name),!(yCe(t)&&(n=t.uri,n===void 0))&&!(mCe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Q$(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Z$(t){for(const e of["models","tunedModels","publisherModels"])if(bCe(t,e))return t[e];return[]}function bCe(t,e){return t!==null&&typeof t=="object"&&e in t}function vCe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function wCe(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=vCe(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function eH(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function xCe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function tH(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const u=a.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Vp(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function nH(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kCe(t){const e={},n=v(t,["responsesFile"]);n!=null&&w(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>nIe(a))),w(e,["inlinedResponses"],o)}const i=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),w(e,["inlinedEmbedContentResponses"],o)}return e}function _Ce(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&w(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&w(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function TCe(t){const e={},n=v(t,["format"]);n!=null&&w(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&w(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&w(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Cb(t){const e={},n=v(t,["name"]);n!=null&&w(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&w(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&w(e,["state"],nH(i));const o=v(t,["metadata","createTime"]);o!=null&&w(e,["createTime"],o);const a=v(t,["metadata","endTime"]);a!=null&&w(e,["endTime"],a);const l=v(t,["metadata","updateTime"]);l!=null&&w(e,["updateTime"],l);const u=v(t,["metadata","model"]);u!=null&&w(e,["model"],u);const d=v(t,["metadata","output"]);return d!=null&&w(e,["dest"],kCe(tH(d))),e}function mS(t){const e={},n=v(t,["name"]);n!=null&&w(e,["name"],n);const r=v(t,["displayName"]);r!=null&&w(e,["displayName"],r);const i=v(t,["state"]);i!=null&&w(e,["state"],nH(i));const o=v(t,["error"]);o!=null&&w(e,["error"],o);const a=v(t,["createTime"]);a!=null&&w(e,["createTime"],a);const l=v(t,["startTime"]);l!=null&&w(e,["startTime"],l);const u=v(t,["endTime"]);u!=null&&w(e,["endTime"],u);const d=v(t,["updateTime"]);d!=null&&w(e,["updateTime"],d);const p=v(t,["model"]);p!=null&&w(e,["model"],p);const h=v(t,["inputConfig"]);h!=null&&w(e,["src"],ECe(h));const y=v(t,["outputConfig"]);y!=null&&w(e,["dest"],_Ce(tH(y)));const b=v(t,["completionStats"]);return b!=null&&w(e,["completionStats"],b),e}function ECe(t){const e={},n=v(t,["instancesFormat"]);n!=null&&w(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&w(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function SCe(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&w(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>tIe(t,a))),w(n,["requests","requests"],o)}return n}function ACe(t){const e={},n=v(t,["format"]);n!=null&&w(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&w(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&w(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function CCe(t){const e={},n=v(t,["data"]);if(n!=null&&w(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function ICe(t,e){const n={},r=v(e,["name"]);return r!=null&&w(n,["_url","name"],Vp(t,r)),n}function NCe(t,e){const n={},r=v(e,["name"]);return r!=null&&w(n,["_url","name"],Vp(t,r)),n}function RCe(t){const e={},n=v(t,["content"]);n!=null&&w(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],OCe(r));const i=v(t,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const o=v(t,["finishReason"]);o!=null&&w(e,["finishReason"],o);const a=v(t,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const l=v(t,["groundingMetadata"]);l!=null&&w(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&w(e,["index"],u);const d=v(t,["logprobsResult"]);d!=null&&w(e,["logprobsResult"],d);const p=v(t,["safetyRatings"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(b=>b)),w(e,["safetyRatings"],y)}const h=v(t,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function OCe(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function rH(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cIe(o))),w(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&w(e,["role"],r),e}function PCe(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&w(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function DCe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&w(e,["outputConfig"],TCe(xCe(i))),n}function B4(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["src"]);i!=null&&w(n,["batch","inputConfig"],SCe(t,eH(t,i)));const o=v(e,["config"]);return o!=null&&PCe(o,n),n}function MCe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["model"],Pt(t,r));const i=v(e,["src"]);i!=null&&w(n,["inputConfig"],ACe(eH(t,i)));const o=v(e,["config"]);return o!=null&&DCe(o,n),n}function zCe(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&w(e,["batch","displayName"],r),n}function LCe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["src"]);i!=null&&w(n,["batch","inputConfig"],$Ce(t,i));const o=v(e,["config"]);return o!=null&&zCe(o,n),n}function jCe(t,e){const n={},r=v(e,["name"]);return r!=null&&w(n,["_url","name"],Vp(t,r)),n}function UCe(t,e){const n={},r=v(e,["name"]);return r!=null&&w(n,["_url","name"],Vp(t,r)),n}function VCe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&w(e,["name"],r);const i=v(t,["done"]);i!=null&&w(e,["done"],i);const o=v(t,["error"]);return o!=null&&w(e,["error"],o),e}function FCe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&w(e,["name"],r);const i=v(t,["done"]);i!=null&&w(e,["done"],i);const o=v(t,["error"]);return o!=null&&w(e,["error"],o),e}function BCe(t,e){const n={},r=v(e,["contents"]);if(r!=null){let o=PI(t,r);Array.isArray(o)&&(o=o.map(a=>a)),w(n,["requests[]","request","content"],o)}const i=v(e,["config"]);return i!=null&&(w(n,["_self"],qCe(i,n)),UAe(n,{"requests[].*":"requests[].request.*"})),n}function qCe(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const o=v(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&w(e,["requests[]","outputDimensionality"],o),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function $Ce(t,e){const n={},r=v(e,["fileName"]);r!=null&&w(n,["file_name"],r);const i=v(e,["inlinedRequests"]);return i!=null&&w(n,["requests"],BCe(t,i)),n}function HCe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function GCe(t){const e={},n=v(t,["id"]);n!=null&&w(e,["id"],n);const r=v(t,["args"]);r!=null&&w(e,["args"],r);const i=v(t,["name"]);if(i!=null&&w(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function KCe(t){const e={},n=v(t,["mode"]);n!=null&&w(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function WCe(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],rH(Jr(i)));const o=v(e,["temperature"]);o!=null&&w(r,["temperature"],o);const a=v(e,["topP"]);a!=null&&w(r,["topP"],a);const l=v(e,["topK"]);l!=null&&w(r,["topK"],l);const u=v(e,["candidateCount"]);u!=null&&w(r,["candidateCount"],u);const d=v(e,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&w(r,["stopSequences"],p);const h=v(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const y=v(e,["logprobs"]);y!=null&&w(r,["logprobs"],y);const b=v(e,["presencePenalty"]);b!=null&&w(r,["presencePenalty"],b);const E=v(e,["frequencyPenalty"]);E!=null&&w(r,["frequencyPenalty"],E);const S=v(e,["seed"]);S!=null&&w(r,["seed"],S);const _=v(e,["responseMimeType"]);_!=null&&w(r,["responseMimeType"],_);const C=v(e,["responseSchema"]);C!=null&&w(r,["responseSchema"],DI(C));const R=v(e,["responseJsonSchema"]);if(R!=null&&w(r,["responseJsonSchema"],R),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=v(e,["safetySettings"]);if(n!==void 0&&I!=null){let q=I;Array.isArray(q)&&(q=q.map(F=>uIe(F))),w(n,["safetySettings"],q)}const O=v(e,["tools"]);if(n!==void 0&&O!=null){let q=Up(O);Array.isArray(q)&&(q=q.map(F=>pIe(jp(F)))),w(n,["tools"],q)}const U=v(e,["toolConfig"]);if(n!==void 0&&U!=null&&w(n,["toolConfig"],dIe(U)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=v(e,["cachedContent"]);n!==void 0&&M!=null&&w(n,["cachedContent"],tl(t,M));const D=v(e,["responseModalities"]);D!=null&&w(r,["responseModalities"],D);const L=v(e,["mediaResolution"]);L!=null&&w(r,["mediaResolution"],L);const z=v(e,["speechConfig"]);if(z!=null&&w(r,["speechConfig"],MI(z)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=v(e,["thinkingConfig"]);B!=null&&w(r,["thinkingConfig"],B);const V=v(e,["imageConfig"]);return V!=null&&w(r,["imageConfig"],eIe(V)),r}function YCe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>RCe(d))),w(e,["candidates"],u)}const i=v(t,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const o=v(t,["promptFeedback"]);o!=null&&w(e,["promptFeedback"],o);const a=v(t,["responseId"]);a!=null&&w(e,["responseId"],a);const l=v(t,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function JCe(t,e){const n={},r=v(e,["name"]);return r!=null&&w(n,["_url","name"],Vp(t,r)),n}function XCe(t,e){const n={},r=v(e,["name"]);return r!=null&&w(n,["_url","name"],Vp(t,r)),n}function QCe(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function ZCe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function eIe(t){const e={},n=v(t,["aspectRatio"]);n!=null&&w(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function tIe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["request","model"],Pt(t,r));const i=v(e,["contents"]);if(i!=null){let l=Co(i);Array.isArray(l)&&(l=l.map(u=>rH(u))),w(n,["request","contents"],l)}const o=v(e,["metadata"]);o!=null&&w(n,["metadata"],o);const a=v(e,["config"]);return a!=null&&w(n,["request","generationConfig"],WCe(t,a,v(n,["request"],{}))),n}function nIe(t){const e={},n=v(t,["response"]);n!=null&&w(e,["response"],YCe(n));const r=v(t,["error"]);return r!=null&&w(e,["error"],r),e}function rIe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function iIe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&w(e,["_query","pageToken"],i);const o=v(t,["filter"]);return e!==void 0&&o!=null&&w(e,["_query","filter"],o),n}function oIe(t){const e={},n=v(t,["config"]);return n!=null&&rIe(n,e),e}function aIe(t){const e={},n=v(t,["config"]);return n!=null&&iIe(n,e),e}function sIe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=v(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Cb(a))),w(e,["batchJobs"],o)}return e}function lIe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=v(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>mS(a))),w(e,["batchJobs"],o)}return e}function cIe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&w(e,["fileData"],HCe(o));const a=v(t,["functionCall"]);a!=null&&w(e,["functionCall"],GCe(a));const l=v(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&w(e,["inlineData"],CCe(u));const d=v(t,["text"]);d!=null&&w(e,["text"],d);const p=v(t,["thought"]);p!=null&&w(e,["thought"],p);const h=v(t,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const y=v(t,["videoMetadata"]);return y!=null&&w(e,["videoMetadata"],y),e}function uIe(t){const e={},n=v(t,["category"]);if(n!=null&&w(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function dIe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&w(e,["functionCallingConfig"],KCe(n));const r=v(t,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function pIe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),w(e,["functionDeclarations"],p)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&w(e,["computerUse"],i);const o=v(t,["fileSearch"]);o!=null&&w(e,["fileSearch"],o);const a=v(t,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],QCe(l));const u=v(t,["googleSearch"]);u!=null&&w(e,["googleSearch"],ZCe(u));const d=v(t,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qs;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(qs||(qs={}));class Lu{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fIe extends el{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lu(qs.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=B4(this.apiClient,e),r=n._url,i=Le("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,u=l.requests,d=[];for(const p of u){const h=Object.assign({},p);if(h.systemInstruction){const y=h.systemInstruction;delete h.systemInstruction;const b=h.request;b.systemInstruction=y,h.request=b}d.push(h)}return l.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=MCe(this.apiClient,e);return l=Le("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>mS(p))}else{const d=B4(this.apiClient,e);return l=Le("{model}:batchGenerateContent",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>Cb(p))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=LCe(this.apiClient,e);return o=Le("{model}:asyncBatchEmbedContent",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>Cb(u))}}async get(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=XCe(this.apiClient,e);return l=Le("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>mS(p))}else{const d=JCe(this.apiClient,e);return l=Le("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>Cb(p))}}async cancel(e){var n,r,i,o;let a="",l={};if(this.apiClient.isVertexAI()){const u=NCe(this.apiClient,e);a=Le("batchPredictionJobs/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=ICe(this.apiClient,e);a=Le("batches/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=aIe(e);return l=Le("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=lIe(p),y=new j4;return Object.assign(y,h),y})}else{const d=oIe(e);return l=Le("batches",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=sIe(p),y=new j4;return Object.assign(y,h),y})}}async delete(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=UCe(this.apiClient,e);return l=Le("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>FCe(p))}else{const d=jCe(this.apiClient,e);return l=Le("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>VCe(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hIe(t){const e={},n=v(t,["data"]);if(n!=null&&w(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function q4(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>LIe(o))),w(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&w(e,["role"],r),e}function gIe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const o=v(t,["displayName"]);e!==void 0&&o!=null&&w(e,["displayName"],o);const a=v(t,["contents"]);if(e!==void 0&&a!=null){let p=Co(a);Array.isArray(p)&&(p=p.map(h=>q4(h))),w(e,["contents"],p)}const l=v(t,["systemInstruction"]);e!==void 0&&l!=null&&w(e,["systemInstruction"],q4(Jr(l)));const u=v(t,["tools"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>UIe(h))),w(e,["tools"],p)}const d=v(t,["toolConfig"]);if(e!==void 0&&d!=null&&w(e,["toolConfig"],jIe(d)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function mIe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const o=v(t,["displayName"]);e!==void 0&&o!=null&&w(e,["displayName"],o);const a=v(t,["contents"]);if(e!==void 0&&a!=null){let h=Co(a);Array.isArray(h)&&(h=h.map(y=>y)),w(e,["contents"],h)}const l=v(t,["systemInstruction"]);e!==void 0&&l!=null&&w(e,["systemInstruction"],Jr(l));const u=v(t,["tools"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>VIe(y))),w(e,["tools"],h)}const d=v(t,["toolConfig"]);e!==void 0&&d!=null&&w(e,["toolConfig"],d);const p=v(t,["kmsKeyName"]);return e!==void 0&&p!=null&&w(e,["encryption_spec","kmsKeyName"],p),n}function yIe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["model"],H$(t,r));const i=v(e,["config"]);return i!=null&&gIe(i,n),n}function bIe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["model"],H$(t,r));const i=v(e,["config"]);return i!=null&&mIe(i,n),n}function vIe(t,e){const n={},r=v(e,["name"]);return r!=null&&w(n,["_url","name"],tl(t,r)),n}function wIe(t,e){const n={},r=v(e,["name"]);return r!=null&&w(n,["_url","name"],tl(t,r)),n}function xIe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function kIe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function _Ie(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function TIe(t){const e={},n=v(t,["id"]);n!=null&&w(e,["id"],n);const r=v(t,["args"]);r!=null&&w(e,["args"],r);const i=v(t,["name"]);if(i!=null&&w(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function EIe(t){const e={},n=v(t,["mode"]);n!=null&&w(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function SIe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&w(e,["description"],n);const r=v(t,["name"]);r!=null&&w(e,["name"],r);const i=v(t,["parameters"]);i!=null&&w(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&w(e,["parametersJsonSchema"],o);const a=v(t,["response"]);a!=null&&w(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&w(e,["responseJsonSchema"],l),e}function AIe(t,e){const n={},r=v(e,["name"]);return r!=null&&w(n,["_url","name"],tl(t,r)),n}function CIe(t,e){const n={},r=v(e,["name"]);return r!=null&&w(n,["_url","name"],tl(t,r)),n}function IIe(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function NIe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function RIe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function OIe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function PIe(t){const e={},n=v(t,["config"]);return n!=null&&RIe(n,e),e}function DIe(t){const e={},n=v(t,["config"]);return n!=null&&OIe(n,e),e}function MIe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),w(e,["cachedContents"],o)}return e}function zIe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),w(e,["cachedContents"],o)}return e}function LIe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&w(e,["fileData"],_Ie(o));const a=v(t,["functionCall"]);a!=null&&w(e,["functionCall"],TIe(a));const l=v(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&w(e,["inlineData"],hIe(u));const d=v(t,["text"]);d!=null&&w(e,["text"],d);const p=v(t,["thought"]);p!=null&&w(e,["thought"],p);const h=v(t,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const y=v(t,["videoMetadata"]);return y!=null&&w(e,["videoMetadata"],y),e}function jIe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&w(e,["functionCallingConfig"],EIe(n));const r=v(t,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function UIe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),w(e,["functionDeclarations"],p)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&w(e,["computerUse"],i);const o=v(t,["fileSearch"]);o!=null&&w(e,["fileSearch"],o);const a=v(t,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],IIe(l));const u=v(t,["googleSearch"]);u!=null&&w(e,["googleSearch"],NIe(u));const d=v(t,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function VIe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>SIe(y))),w(e,["functionDeclarations"],h)}const r=v(t,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const o=v(t,["computerUse"]);if(o!=null&&w(e,["computerUse"],o),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(t,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const l=v(t,["enterpriseWebSearch"]);l!=null&&w(e,["enterpriseWebSearch"],l);const u=v(t,["googleMaps"]);u!=null&&w(e,["googleMaps"],u);const d=v(t,["googleSearch"]);d!=null&&w(e,["googleSearch"],d);const p=v(t,["urlContext"]);return p!=null&&w(e,["urlContext"],p),e}function FIe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),n}function BIe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),n}function qIe(t,e){const n={},r=v(e,["name"]);r!=null&&w(n,["_url","name"],tl(t,r));const i=v(e,["config"]);return i!=null&&FIe(i,n),n}function $Ie(t,e){const n={},r=v(e,["name"]);r!=null&&w(n,["_url","name"],tl(t,r));const i=v(e,["config"]);return i!=null&&BIe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HIe extends el{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lu(qs.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=bIe(this.apiClient,e);return l=Le("cachedContents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>p)}else{const d=yIe(this.apiClient,e);return l=Le("cachedContents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async get(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=CIe(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>p)}else{const d=AIe(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async delete(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=wIe(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=kIe(p),y=new z4;return Object.assign(y,h),y})}else{const d=vIe(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=xIe(p),y=new z4;return Object.assign(y,h),y})}}async update(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=$Ie(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>p)}else{const d=qIe(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async listInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=DIe(e);return l=Le("cachedContents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=zIe(p),y=new L4;return Object.assign(y,h),y})}else{const d=PIe(e);return l=Le("cachedContents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=MIe(p),y=new L4;return Object.assign(y,h),y})}}}function $4(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dn(t){return this instanceof dn?(this.v=t,this):new dn(t)}function Qd(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(b){return function(E){return Promise.resolve(E).then(b,h)}}function l(b,E){r[b]&&(i[b]=function(S){return new Promise(function(_,C){o.push([b,S,_,C])>1||u(b,S)})},E&&(i[b]=E(i[b])))}function u(b,E){try{d(r[b](E))}catch(S){y(o[0][3],S)}}function d(b){b.value instanceof dn?Promise.resolve(b.value.v).then(p,h):y(o[0][2],b)}function p(b){u("next",b)}function h(b){u("throw",b)}function y(b,E){b(E),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Ah(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $4=="function"?$4(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(l,u){a=t[o](a),i(l,u,a.done,a.value)})}}function i(o,a,l,u){Promise.resolve(u).then(function(d){o({value:d,done:l})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GIe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:iH(n)}function iH(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function KIe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function H4(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!iH(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class WIe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new YIe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class YIe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),KIe(o)}async sendMessage(e){var n;await this.sendPromise;const r=Jr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,l;const u=await i,d=(a=(o=u.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,p=u.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let y=[];p!=null&&(y=(l=p.slice(h))!==null&&l!==void 0?l:[]);const b=d?[d]:[];this.recordHistory(r,b,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Jr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?H4(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Qd(this,arguments,function*(){var a,l,u,d;const p=[];try{for(var h=!0,y=Ah(e),b;b=yield dn(y.next()),a=b.done,!a;h=!0){d=b.value,h=!1;const E=d;if(GIe(E)){const S=(i=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;S!==void 0&&p.push(S)}yield yield dn(E)}}catch(E){l={error:E}}finally{try{!h&&!a&&(u=y.return)&&(yield dn(u.call(y)))}finally{if(l)throw l.error}}this.recordHistory(n,p)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...H4(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vw extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Vw.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JIe(t){const e={},n=v(t,["file"]);return n!=null&&w(e,["file"],n),e}function XIe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function QIe(t){const e={},n=v(t,["name"]);return n!=null&&w(e,["_url","file"],X$(n)),e}function ZIe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function eNe(t){const e={},n=v(t,["name"]);return n!=null&&w(e,["_url","file"],X$(n)),e}function tNe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function nNe(t){const e={},n=v(t,["config"]);return n!=null&&tNe(n,e),e}function rNe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=v(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),w(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iNe extends el{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lu(qs.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=nNe(e);return o=Le("files",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const d=rNe(u),p=new lCe;return Object.assign(p,d),p})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=JIe(e);return o=Le("upload/v1beta/files",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=XIe(u),p=new cCe;return Object.assign(p,d),p})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=eNe(e);return o=Le("files/{file}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=QIe(e);return o=Le("files/{file}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const d=ZIe(u),p=new uCe;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ib(t){const e={},n=v(t,["data"]);if(n!=null&&w(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function oNe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>xNe(o))),w(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&w(e,["role"],r),e}function aNe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function sNe(t){const e={},n=v(t,["id"]);n!=null&&w(e,["id"],n);const r=v(t,["args"]);r!=null&&w(e,["args"],r);const i=v(t,["name"]);if(i!=null&&w(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function lNe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&w(e,["description"],n);const r=v(t,["name"]);r!=null&&w(e,["name"],r);const i=v(t,["parameters"]);i!=null&&w(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&w(e,["parametersJsonSchema"],o);const a=v(t,["response"]);a!=null&&w(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&w(e,["responseJsonSchema"],l),e}function cNe(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&w(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const o=v(t,["candidateCount"]);o!=null&&w(e,["candidateCount"],o);const a=v(t,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const l=v(t,["frequencyPenalty"]);l!=null&&w(e,["frequencyPenalty"],l);const u=v(t,["logprobs"]);u!=null&&w(e,["logprobs"],u);const d=v(t,["maxOutputTokens"]);d!=null&&w(e,["maxOutputTokens"],d);const p=v(t,["mediaResolution"]);p!=null&&w(e,["mediaResolution"],p);const h=v(t,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const y=v(t,["responseLogprobs"]);y!=null&&w(e,["responseLogprobs"],y);const b=v(t,["responseMimeType"]);b!=null&&w(e,["responseMimeType"],b);const E=v(t,["responseModalities"]);E!=null&&w(e,["responseModalities"],E);const S=v(t,["responseSchema"]);S!=null&&w(e,["responseSchema"],S);const _=v(t,["routingConfig"]);_!=null&&w(e,["routingConfig"],_);const C=v(t,["seed"]);C!=null&&w(e,["seed"],C);const R=v(t,["speechConfig"]);R!=null&&w(e,["speechConfig"],oH(R));const I=v(t,["stopSequences"]);I!=null&&w(e,["stopSequences"],I);const O=v(t,["temperature"]);O!=null&&w(e,["temperature"],O);const U=v(t,["thinkingConfig"]);U!=null&&w(e,["thinkingConfig"],U);const M=v(t,["topK"]);M!=null&&w(e,["topK"],M);const D=v(t,["topP"]);if(D!=null&&w(e,["topP"],D),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function uNe(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function dNe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function pNe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","temperature"],o);const a=v(t,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const l=v(t,["topK"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topK"],l);const u=v(t,["maxOutputTokens"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","maxOutputTokens"],u);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&w(e,["setup","generationConfig","seed"],p);const h=v(t,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],zI(h));const y=v(t,["thinkingConfig"]);e!==void 0&&y!=null&&w(e,["setup","generationConfig","thinkingConfig"],y);const b=v(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],b);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&w(e,["setup","systemInstruction"],oNe(Jr(E)));const S=v(t,["tools"]);if(e!==void 0&&S!=null){let M=Up(S);Array.isArray(M)&&(M=M.map(D=>_Ne(jp(D)))),w(e,["setup","tools"],M)}const _=v(t,["sessionResumption"]);e!==void 0&&_!=null&&w(e,["setup","sessionResumption"],kNe(_));const C=v(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&w(e,["setup","inputAudioTranscription"],C);const R=v(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&w(e,["setup","outputAudioTranscription"],R);const I=v(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&w(e,["setup","realtimeInputConfig"],I);const O=v(t,["contextWindowCompression"]);e!==void 0&&O!=null&&w(e,["setup","contextWindowCompression"],O);const U=v(t,["proactivity"]);return e!==void 0&&U!=null&&w(e,["setup","proactivity"],U),n}function fNe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],cNe(r));const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","temperature"],o);const a=v(t,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const l=v(t,["topK"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topK"],l);const u=v(t,["maxOutputTokens"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","maxOutputTokens"],u);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&w(e,["setup","generationConfig","seed"],p);const h=v(t,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],oH(zI(h)));const y=v(t,["thinkingConfig"]);e!==void 0&&y!=null&&w(e,["setup","generationConfig","thinkingConfig"],y);const b=v(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],b);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&w(e,["setup","systemInstruction"],Jr(E));const S=v(t,["tools"]);if(e!==void 0&&S!=null){let M=Up(S);Array.isArray(M)&&(M=M.map(D=>TNe(jp(D)))),w(e,["setup","tools"],M)}const _=v(t,["sessionResumption"]);e!==void 0&&_!=null&&w(e,["setup","sessionResumption"],_);const C=v(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&w(e,["setup","inputAudioTranscription"],C);const R=v(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&w(e,["setup","outputAudioTranscription"],R);const I=v(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&w(e,["setup","realtimeInputConfig"],I);const O=v(t,["contextWindowCompression"]);e!==void 0&&O!=null&&w(e,["setup","contextWindowCompression"],O);const U=v(t,["proactivity"]);return e!==void 0&&U!=null&&w(e,["setup","proactivity"],U),n}function hNe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["setup","model"],Pt(t,r));const i=v(e,["config"]);return i!=null&&w(n,["config"],pNe(i,n)),n}function gNe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["setup","model"],Pt(t,r));const i=v(e,["config"]);return i!=null&&w(n,["config"],fNe(i,n)),n}function mNe(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&w(e,["musicGenerationConfig"],n),e}function yNe(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["weightedPrompts"],r)}return e}function bNe(t){const e={},n=v(t,["media"]);if(n!=null){let d=G$(n);Array.isArray(d)&&(d=d.map(p=>Ib(p))),w(e,["mediaChunks"],d)}const r=v(t,["audio"]);r!=null&&w(e,["audio"],Ib(W$(r)));const i=v(t,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const o=v(t,["video"]);o!=null&&w(e,["video"],Ib(K$(o)));const a=v(t,["text"]);a!=null&&w(e,["text"],a);const l=v(t,["activityStart"]);l!=null&&w(e,["activityStart"],l);const u=v(t,["activityEnd"]);return u!=null&&w(e,["activityEnd"],u),e}function vNe(t){const e={},n=v(t,["media"]);if(n!=null){let d=G$(n);Array.isArray(d)&&(d=d.map(p=>p)),w(e,["mediaChunks"],d)}const r=v(t,["audio"]);r!=null&&w(e,["audio"],W$(r));const i=v(t,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const o=v(t,["video"]);o!=null&&w(e,["video"],K$(o));const a=v(t,["text"]);a!=null&&w(e,["text"],a);const l=v(t,["activityStart"]);l!=null&&w(e,["activityStart"],l);const u=v(t,["activityEnd"]);return u!=null&&w(e,["activityEnd"],u),e}function wNe(t){const e={},n=v(t,["setupComplete"]);n!=null&&w(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&w(e,["serverContent"],r);const i=v(t,["toolCall"]);i!=null&&w(e,["toolCall"],i);const o=v(t,["toolCallCancellation"]);o!=null&&w(e,["toolCallCancellation"],o);const a=v(t,["usageMetadata"]);a!=null&&w(e,["usageMetadata"],ENe(a));const l=v(t,["goAway"]);l!=null&&w(e,["goAway"],l);const u=v(t,["sessionResumptionUpdate"]);return u!=null&&w(e,["sessionResumptionUpdate"],u),e}function xNe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&w(e,["fileData"],aNe(o));const a=v(t,["functionCall"]);a!=null&&w(e,["functionCall"],sNe(a));const l=v(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&w(e,["inlineData"],Ib(u));const d=v(t,["text"]);d!=null&&w(e,["text"],d);const p=v(t,["thought"]);p!=null&&w(e,["thought"],p);const h=v(t,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const y=v(t,["videoMetadata"]);return y!=null&&w(e,["videoMetadata"],y),e}function kNe(t){const e={},n=v(t,["handle"]);if(n!=null&&w(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function oH(t){const e={},n=v(t,["languageCode"]);n!=null&&w(e,["languageCode"],n);const r=v(t,["voiceConfig"]);if(r!=null&&w(e,["voiceConfig"],r),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function _Ne(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),w(e,["functionDeclarations"],p)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&w(e,["computerUse"],i);const o=v(t,["fileSearch"]);o!=null&&w(e,["fileSearch"],o);const a=v(t,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],uNe(l));const u=v(t,["googleSearch"]);u!=null&&w(e,["googleSearch"],dNe(u));const d=v(t,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function TNe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>lNe(y))),w(e,["functionDeclarations"],h)}const r=v(t,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const o=v(t,["computerUse"]);if(o!=null&&w(e,["computerUse"],o),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(t,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const l=v(t,["enterpriseWebSearch"]);l!=null&&w(e,["enterpriseWebSearch"],l);const u=v(t,["googleMaps"]);u!=null&&w(e,["googleMaps"],u);const d=v(t,["googleSearch"]);d!=null&&w(e,["googleSearch"],d);const p=v(t,["urlContext"]);return p!=null&&w(e,["urlContext"],p),e}function ENe(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&w(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&w(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&w(e,["responseTokenCount"],i);const o=v(t,["toolUsePromptTokenCount"]);o!=null&&w(e,["toolUsePromptTokenCount"],o);const a=v(t,["thoughtsTokenCount"]);a!=null&&w(e,["thoughtsTokenCount"],a);const l=v(t,["totalTokenCount"]);l!=null&&w(e,["totalTokenCount"],l);const u=v(t,["promptTokensDetails"]);if(u!=null){let b=u;Array.isArray(b)&&(b=b.map(E=>E)),w(e,["promptTokensDetails"],b)}const d=v(t,["cacheTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(E=>E)),w(e,["cacheTokensDetails"],b)}const p=v(t,["candidatesTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(E=>E)),w(e,["responseTokensDetails"],b)}const h=v(t,["toolUsePromptTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(E=>E)),w(e,["toolUsePromptTokensDetails"],b)}const y=v(t,["trafficType"]);return y!=null&&w(e,["trafficType"],y),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SNe(t){const e={},n=v(t,["data"]);if(n!=null&&w(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function ANe(t){const e={},n=v(t,["content"]);n!=null&&w(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],CNe(r));const i=v(t,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const o=v(t,["finishReason"]);o!=null&&w(e,["finishReason"],o);const a=v(t,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const l=v(t,["groundingMetadata"]);l!=null&&w(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&w(e,["index"],u);const d=v(t,["logprobsResult"]);d!=null&&w(e,["logprobsResult"],d);const p=v(t,["safetyRatings"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(b=>b)),w(e,["safetyRatings"],y)}const h=v(t,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function CNe(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function INe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["contents"]);if(i!=null){let o=Co(i);Array.isArray(o)&&(o=o.map(a=>a)),w(n,["contents"],o)}return n}function NNe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),w(e,["tokensInfo"],i)}return e}function RNe(t){const e={},n=v(t,["values"]);n!=null&&w(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&w(e,["statistics"],ONe(r)),e}function ONe(t){const e={},n=v(t,["truncated"]);n!=null&&w(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&w(e,["tokenCount"],r),e}function Fw(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>F2e(o))),w(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&w(e,["role"],r),e}function PNe(t){const e={},n=v(t,["controlType"]);n!=null&&w(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&w(e,["computeControl"],r),e}function DNe(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function MNe(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&w(e,["systemInstruction"],Jr(r));const i=v(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>uH(l))),w(e,["tools"],a)}const o=v(t,["generationConfig"]);return e!==void 0&&o!=null&&w(e,["generationConfig"],S2e(o)),n}function zNe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["contents"]);if(i!=null){let a=Co(i);Array.isArray(a)&&(a=a.map(l=>Fw(l))),w(n,["contents"],a)}const o=v(e,["config"]);return o!=null&&DNe(o),n}function LNe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["contents"]);if(i!=null){let a=Co(i);Array.isArray(a)&&(a=a.map(l=>l)),w(n,["contents"],a)}const o=v(e,["config"]);return o!=null&&MNe(o,n),n}function jNe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);r!=null&&w(e,["totalTokens"],r);const i=v(t,["cachedContentTokenCount"]);return i!=null&&w(e,["cachedContentTokenCount"],i),e}function UNe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);return r!=null&&w(e,["totalTokens"],r),e}function VNe(t,e){const n={},r=v(e,["model"]);return r!=null&&w(n,["_url","name"],Pt(t,r)),n}function FNe(t,e){const n={},r=v(e,["model"]);return r!=null&&w(n,["_url","name"],Pt(t,r)),n}function BNe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function qNe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}function $Ne(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const o=v(t,["numberOfImages"]);e!==void 0&&o!=null&&w(e,["parameters","sampleCount"],o);const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const l=v(t,["guidanceScale"]);e!==void 0&&l!=null&&w(e,["parameters","guidanceScale"],l);const u=v(t,["seed"]);e!==void 0&&u!=null&&w(e,["parameters","seed"],u);const d=v(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&w(e,["parameters","safetySetting"],d);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&w(e,["parameters","personGeneration"],p);const h=v(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const y=v(t,["includeRaiReason"]);e!==void 0&&y!=null&&w(e,["parameters","includeRaiReason"],y);const b=v(t,["language"]);e!==void 0&&b!=null&&w(e,["parameters","language"],b);const E=v(t,["outputMimeType"]);e!==void 0&&E!=null&&w(e,["parameters","outputOptions","mimeType"],E);const S=v(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&w(e,["parameters","outputOptions","compressionQuality"],S);const _=v(t,["addWatermark"]);e!==void 0&&_!=null&&w(e,["parameters","addWatermark"],_);const C=v(t,["labels"]);e!==void 0&&C!=null&&w(e,["labels"],C);const R=v(t,["editMode"]);e!==void 0&&R!=null&&w(e,["parameters","editMode"],R);const I=v(t,["baseSteps"]);return e!==void 0&&I!=null&&w(e,["parameters","editConfig","baseSteps"],I),n}function HNe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const o=v(e,["referenceImages"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>K2e(u))),w(n,["instances[0]","referenceImages"],l)}const a=v(e,["config"]);return a!=null&&$Ne(a,n),n}function GNe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Bw(o))),w(e,["generatedImages"],i)}return e}function KNe(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const o=v(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&w(e,["requests[]","outputDimensionality"],o),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function WNe(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&w(e,["instances[]","task_type"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&w(e,["instances[]","title"],i);const o=v(t,["outputDimensionality"]);e!==void 0&&o!=null&&w(e,["parameters","outputDimensionality"],o);const a=v(t,["mimeType"]);e!==void 0&&a!=null&&w(e,["instances[]","mimeType"],a);const l=v(t,["autoTruncate"]);return e!==void 0&&l!=null&&w(e,["parameters","autoTruncate"],l),n}function YNe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["contents"]);if(i!=null){let l=PI(t,i);Array.isArray(l)&&(l=l.map(u=>u)),w(n,["requests[]","content"],l)}const o=v(e,["config"]);o!=null&&KNe(o,n);const a=v(e,["model"]);return a!==void 0&&w(n,["requests[]","model"],Pt(t,a)),n}function JNe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["contents"]);if(i!=null){let a=PI(t,i);Array.isArray(a)&&(a=a.map(l=>l)),w(n,["instances[]","content"],a)}const o=v(e,["config"]);return o!=null&&WNe(o,n),n}function XNe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),w(e,["embeddings"],o)}const i=v(t,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function QNe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>RNe(a))),w(e,["embeddings"],o)}const i=v(t,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function ZNe(t){const e={},n=v(t,["endpoint"]);n!=null&&w(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&w(e,["deployedModelId"],r),e}function e2e(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function t2e(t){const e={},n=v(t,["id"]);n!=null&&w(e,["id"],n);const r=v(t,["args"]);r!=null&&w(e,["args"],r);const i=v(t,["name"]);if(i!=null&&w(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function n2e(t){const e={},n=v(t,["mode"]);n!=null&&w(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function r2e(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&w(e,["description"],n);const r=v(t,["name"]);r!=null&&w(e,["name"],r);const i=v(t,["parameters"]);i!=null&&w(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&w(e,["parametersJsonSchema"],o);const a=v(t,["response"]);a!=null&&w(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&w(e,["responseJsonSchema"],l),e}function i2e(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],Fw(Jr(i)));const o=v(e,["temperature"]);o!=null&&w(r,["temperature"],o);const a=v(e,["topP"]);a!=null&&w(r,["topP"],a);const l=v(e,["topK"]);l!=null&&w(r,["topK"],l);const u=v(e,["candidateCount"]);u!=null&&w(r,["candidateCount"],u);const d=v(e,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&w(r,["stopSequences"],p);const h=v(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const y=v(e,["logprobs"]);y!=null&&w(r,["logprobs"],y);const b=v(e,["presencePenalty"]);b!=null&&w(r,["presencePenalty"],b);const E=v(e,["frequencyPenalty"]);E!=null&&w(r,["frequencyPenalty"],E);const S=v(e,["seed"]);S!=null&&w(r,["seed"],S);const _=v(e,["responseMimeType"]);_!=null&&w(r,["responseMimeType"],_);const C=v(e,["responseSchema"]);C!=null&&w(r,["responseSchema"],DI(C));const R=v(e,["responseJsonSchema"]);if(R!=null&&w(r,["responseJsonSchema"],R),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=v(e,["safetySettings"]);if(n!==void 0&&I!=null){let q=I;Array.isArray(q)&&(q=q.map(F=>W2e(F))),w(n,["safetySettings"],q)}const O=v(e,["tools"]);if(n!==void 0&&O!=null){let q=Up(O);Array.isArray(q)&&(q=q.map(F=>tRe(jp(F)))),w(n,["tools"],q)}const U=v(e,["toolConfig"]);if(n!==void 0&&U!=null&&w(n,["toolConfig"],eRe(U)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=v(e,["cachedContent"]);n!==void 0&&M!=null&&w(n,["cachedContent"],tl(t,M));const D=v(e,["responseModalities"]);D!=null&&w(r,["responseModalities"],D);const L=v(e,["mediaResolution"]);L!=null&&w(r,["mediaResolution"],L);const z=v(e,["speechConfig"]);if(z!=null&&w(r,["speechConfig"],MI(z)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=v(e,["thinkingConfig"]);B!=null&&w(r,["thinkingConfig"],B);const V=v(e,["imageConfig"]);return V!=null&&w(r,["imageConfig"],R2e(V)),r}function o2e(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],Jr(i));const o=v(e,["temperature"]);o!=null&&w(r,["temperature"],o);const a=v(e,["topP"]);a!=null&&w(r,["topP"],a);const l=v(e,["topK"]);l!=null&&w(r,["topK"],l);const u=v(e,["candidateCount"]);u!=null&&w(r,["candidateCount"],u);const d=v(e,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&w(r,["stopSequences"],p);const h=v(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const y=v(e,["logprobs"]);y!=null&&w(r,["logprobs"],y);const b=v(e,["presencePenalty"]);b!=null&&w(r,["presencePenalty"],b);const E=v(e,["frequencyPenalty"]);E!=null&&w(r,["frequencyPenalty"],E);const S=v(e,["seed"]);S!=null&&w(r,["seed"],S);const _=v(e,["responseMimeType"]);_!=null&&w(r,["responseMimeType"],_);const C=v(e,["responseSchema"]);C!=null&&w(r,["responseSchema"],DI(C));const R=v(e,["responseJsonSchema"]);R!=null&&w(r,["responseJsonSchema"],R);const I=v(e,["routingConfig"]);I!=null&&w(r,["routingConfig"],I);const O=v(e,["modelSelectionConfig"]);O!=null&&w(r,["modelConfig"],O);const U=v(e,["safetySettings"]);if(n!==void 0&&U!=null){let X=U;Array.isArray(X)&&(X=X.map(J=>J)),w(n,["safetySettings"],X)}const M=v(e,["tools"]);if(n!==void 0&&M!=null){let X=Up(M);Array.isArray(X)&&(X=X.map(J=>uH(jp(J)))),w(n,["tools"],X)}const D=v(e,["toolConfig"]);n!==void 0&&D!=null&&w(n,["toolConfig"],D);const L=v(e,["labels"]);n!==void 0&&L!=null&&w(n,["labels"],L);const z=v(e,["cachedContent"]);n!==void 0&&z!=null&&w(n,["cachedContent"],tl(t,z));const B=v(e,["responseModalities"]);B!=null&&w(r,["responseModalities"],B);const V=v(e,["mediaResolution"]);V!=null&&w(r,["mediaResolution"],V);const q=v(e,["speechConfig"]);q!=null&&w(r,["speechConfig"],cH(MI(q)));const F=v(e,["audioTimestamp"]);F!=null&&w(r,["audioTimestamp"],F);const oe=v(e,["thinkingConfig"]);oe!=null&&w(r,["thinkingConfig"],oe);const Z=v(e,["imageConfig"]);return Z!=null&&w(r,["imageConfig"],O2e(Z)),r}function G4(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["contents"]);if(i!=null){let a=Co(i);Array.isArray(a)&&(a=a.map(l=>Fw(l))),w(n,["contents"],a)}const o=v(e,["config"]);return o!=null&&w(n,["generationConfig"],i2e(t,o,n)),n}function K4(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["contents"]);if(i!=null){let a=Co(i);Array.isArray(a)&&(a=a.map(l=>l)),w(n,["contents"],a)}const o=v(e,["config"]);return o!=null&&w(n,["generationConfig"],o2e(t,o,n)),n}function W4(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>ANe(d))),w(e,["candidates"],u)}const i=v(t,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const o=v(t,["promptFeedback"]);o!=null&&w(e,["promptFeedback"],o);const a=v(t,["responseId"]);a!=null&&w(e,["responseId"],a);const l=v(t,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function Y4(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),w(e,["candidates"],d)}const i=v(t,["createTime"]);i!=null&&w(e,["createTime"],i);const o=v(t,["modelVersion"]);o!=null&&w(e,["modelVersion"],o);const a=v(t,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const l=v(t,["responseId"]);l!=null&&w(e,["responseId"],l);const u=v(t,["usageMetadata"]);return u!=null&&w(e,["usageMetadata"],u),e}function a2e(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&w(e,["parameters","aspectRatio"],i);const o=v(t,["guidanceScale"]);if(e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=v(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&w(e,["parameters","safetySetting"],a);const l=v(t,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const u=v(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&w(e,["parameters","includeSafetyAttributes"],u);const d=v(t,["includeRaiReason"]);e!==void 0&&d!=null&&w(e,["parameters","includeRaiReason"],d);const p=v(t,["language"]);e!==void 0&&p!=null&&w(e,["parameters","language"],p);const h=v(t,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const y=v(t,["outputCompressionQuality"]);if(e!==void 0&&y!=null&&w(e,["parameters","outputOptions","compressionQuality"],y),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=v(t,["imageSize"]);if(e!==void 0&&b!=null&&w(e,["parameters","sampleImageSize"],b),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function s2e(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const o=v(t,["numberOfImages"]);e!==void 0&&o!=null&&w(e,["parameters","sampleCount"],o);const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const l=v(t,["guidanceScale"]);e!==void 0&&l!=null&&w(e,["parameters","guidanceScale"],l);const u=v(t,["seed"]);e!==void 0&&u!=null&&w(e,["parameters","seed"],u);const d=v(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&w(e,["parameters","safetySetting"],d);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&w(e,["parameters","personGeneration"],p);const h=v(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const y=v(t,["includeRaiReason"]);e!==void 0&&y!=null&&w(e,["parameters","includeRaiReason"],y);const b=v(t,["language"]);e!==void 0&&b!=null&&w(e,["parameters","language"],b);const E=v(t,["outputMimeType"]);e!==void 0&&E!=null&&w(e,["parameters","outputOptions","mimeType"],E);const S=v(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&w(e,["parameters","outputOptions","compressionQuality"],S);const _=v(t,["addWatermark"]);e!==void 0&&_!=null&&w(e,["parameters","addWatermark"],_);const C=v(t,["labels"]);e!==void 0&&C!=null&&w(e,["labels"],C);const R=v(t,["imageSize"]);e!==void 0&&R!=null&&w(e,["parameters","sampleImageSize"],R);const I=v(t,["enhancePrompt"]);return e!==void 0&&I!=null&&w(e,["parameters","enhancePrompt"],I),n}function l2e(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const o=v(e,["config"]);return o!=null&&a2e(o,n),n}function c2e(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const o=v(e,["config"]);return o!=null&&s2e(o,n),n}function u2e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>k2e(a))),w(e,["generatedImages"],o)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],sH(i)),e}function d2e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Bw(a))),w(e,["generatedImages"],o)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],lH(i)),e}function p2e(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(t,["durationSeconds"]);if(e!==void 0&&i!=null&&w(e,["parameters","durationSeconds"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=v(t,["aspectRatio"]);e!==void 0&&o!=null&&w(e,["parameters","aspectRatio"],o);const a=v(t,["resolution"]);e!==void 0&&a!=null&&w(e,["parameters","resolution"],a);const l=v(t,["personGeneration"]);if(e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=v(t,["negativePrompt"]);e!==void 0&&u!=null&&w(e,["parameters","negativePrompt"],u);const d=v(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&w(e,["parameters","enhancePrompt"],d),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=v(t,["lastFrame"]);e!==void 0&&p!=null&&w(e,["instances[0]","lastFrame"],qw(p));const h=v(t,["referenceImages"]);if(e!==void 0&&h!=null){let y=h;Array.isArray(y)&&(y=y.map(b=>hRe(b))),w(e,["instances[0]","referenceImages"],y)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function f2e(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const o=v(t,["fps"]);e!==void 0&&o!=null&&w(e,["parameters","fps"],o);const a=v(t,["durationSeconds"]);e!==void 0&&a!=null&&w(e,["parameters","durationSeconds"],a);const l=v(t,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=v(t,["aspectRatio"]);e!==void 0&&u!=null&&w(e,["parameters","aspectRatio"],u);const d=v(t,["resolution"]);e!==void 0&&d!=null&&w(e,["parameters","resolution"],d);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&w(e,["parameters","personGeneration"],p);const h=v(t,["pubsubTopic"]);e!==void 0&&h!=null&&w(e,["parameters","pubsubTopic"],h);const y=v(t,["negativePrompt"]);e!==void 0&&y!=null&&w(e,["parameters","negativePrompt"],y);const b=v(t,["enhancePrompt"]);e!==void 0&&b!=null&&w(e,["parameters","enhancePrompt"],b);const E=v(t,["generateAudio"]);e!==void 0&&E!=null&&w(e,["parameters","generateAudio"],E);const S=v(t,["lastFrame"]);e!==void 0&&S!=null&&w(e,["instances[0]","lastFrame"],sa(S));const _=v(t,["referenceImages"]);if(e!==void 0&&_!=null){let I=_;Array.isArray(I)&&(I=I.map(O=>gRe(O))),w(e,["instances[0]","referenceImages"],I)}const C=v(t,["mask"]);e!==void 0&&C!=null&&w(e,["instances[0]","mask"],fRe(C));const R=v(t,["compressionQuality"]);return e!==void 0&&R!=null&&w(e,["parameters","compressionQuality"],R),n}function h2e(t){const e={},n=v(t,["name"]);n!=null&&w(e,["name"],n);const r=v(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=v(t,["done"]);i!=null&&w(e,["done"],i);const o=v(t,["error"]);o!=null&&w(e,["error"],o);const a=v(t,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],b2e(a)),e}function g2e(t){const e={},n=v(t,["name"]);n!=null&&w(e,["name"],n);const r=v(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=v(t,["done"]);i!=null&&w(e,["done"],i);const o=v(t,["error"]);o!=null&&w(e,["error"],o);const a=v(t,["response"]);return a!=null&&w(e,["response"],v2e(a)),e}function m2e(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const o=v(e,["image"]);o!=null&&w(n,["instances[0]","image"],qw(o));const a=v(e,["video"]);a!=null&&w(n,["instances[0]","video"],dH(a));const l=v(e,["source"]);l!=null&&w2e(l,n);const u=v(e,["config"]);return u!=null&&p2e(u,n),n}function y2e(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const o=v(e,["image"]);o!=null&&w(n,["instances[0]","image"],sa(o));const a=v(e,["video"]);a!=null&&w(n,["instances[0]","video"],pH(a));const l=v(e,["source"]);l!=null&&x2e(l,n);const u=v(e,["config"]);return u!=null&&f2e(u,n),n}function b2e(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>T2e(a))),w(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function v2e(t){const e={},n=v(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>E2e(a))),w(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function w2e(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],qw(i));const o=v(t,["video"]);return e!==void 0&&o!=null&&w(e,["instances[0]","video"],dH(o)),n}function x2e(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],sa(i));const o=v(t,["video"]);return e!==void 0&&o!=null&&w(e,["instances[0]","video"],pH(o)),n}function k2e(t){const e={},n=v(t,["_self"]);n!=null&&w(e,["image"],P2e(n));const r=v(t,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=v(t,["_self"]);return i!=null&&w(e,["safetyAttributes"],sH(i)),e}function Bw(t){const e={},n=v(t,["_self"]);n!=null&&w(e,["image"],aH(n));const r=v(t,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=v(t,["_self"]);i!=null&&w(e,["safetyAttributes"],lH(i));const o=v(t,["prompt"]);return o!=null&&w(e,["enhancedPrompt"],o),e}function _2e(t){const e={},n=v(t,["_self"]);n!=null&&w(e,["mask"],aH(n));const r=v(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),w(e,["labels"],i)}return e}function T2e(t){const e={},n=v(t,["video"]);return n!=null&&w(e,["video"],dRe(n)),e}function E2e(t){const e={},n=v(t,["_self"]);return n!=null&&w(e,["video"],pRe(n)),e}function S2e(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&w(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const o=v(t,["candidateCount"]);o!=null&&w(e,["candidateCount"],o);const a=v(t,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const l=v(t,["frequencyPenalty"]);l!=null&&w(e,["frequencyPenalty"],l);const u=v(t,["logprobs"]);u!=null&&w(e,["logprobs"],u);const d=v(t,["maxOutputTokens"]);d!=null&&w(e,["maxOutputTokens"],d);const p=v(t,["mediaResolution"]);p!=null&&w(e,["mediaResolution"],p);const h=v(t,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const y=v(t,["responseLogprobs"]);y!=null&&w(e,["responseLogprobs"],y);const b=v(t,["responseMimeType"]);b!=null&&w(e,["responseMimeType"],b);const E=v(t,["responseModalities"]);E!=null&&w(e,["responseModalities"],E);const S=v(t,["responseSchema"]);S!=null&&w(e,["responseSchema"],S);const _=v(t,["routingConfig"]);_!=null&&w(e,["routingConfig"],_);const C=v(t,["seed"]);C!=null&&w(e,["seed"],C);const R=v(t,["speechConfig"]);R!=null&&w(e,["speechConfig"],cH(R));const I=v(t,["stopSequences"]);I!=null&&w(e,["stopSequences"],I);const O=v(t,["temperature"]);O!=null&&w(e,["temperature"],O);const U=v(t,["thinkingConfig"]);U!=null&&w(e,["thinkingConfig"],U);const M=v(t,["topK"]);M!=null&&w(e,["topK"],M);const D=v(t,["topP"]);if(D!=null&&w(e,["topP"],D),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function A2e(t,e){const n={},r=v(e,["model"]);return r!=null&&w(n,["_url","name"],Pt(t,r)),n}function C2e(t,e){const n={},r=v(e,["model"]);return r!=null&&w(n,["_url","name"],Pt(t,r)),n}function I2e(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function N2e(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function R2e(t){const e={},n=v(t,["aspectRatio"]);n!=null&&w(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function O2e(t){const e={},n=v(t,["aspectRatio"]);n!=null&&w(e,["aspectRatio"],n);const r=v(t,["imageSize"]);r!=null&&w(e,["imageSize"],r);const i=v(t,["outputMimeType"]);i!=null&&w(e,["imageOutputOptions","mimeType"],i);const o=v(t,["outputCompressionQuality"]);return o!=null&&w(e,["imageOutputOptions","compressionQuality"],o),e}function P2e(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&w(e,["imageBytes"],_c(n));const r=v(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function aH(t){const e={},n=v(t,["gcsUri"]);n!=null&&w(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&w(e,["imageBytes"],_c(r));const i=v(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function qw(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&w(e,["bytesBase64Encoded"],_c(n));const r=v(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function sa(t){const e={},n=v(t,["gcsUri"]);n!=null&&w(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&w(e,["bytesBase64Encoded"],_c(r));const i=v(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function D2e(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const o=v(e,["pageToken"]);n!==void 0&&o!=null&&w(n,["_query","pageToken"],o);const a=v(e,["filter"]);n!==void 0&&a!=null&&w(n,["_query","filter"],a);const l=v(e,["queryBase"]);return n!==void 0&&l!=null&&w(n,["_url","models_url"],Q$(t,l)),r}function M2e(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const o=v(e,["pageToken"]);n!==void 0&&o!=null&&w(n,["_query","pageToken"],o);const a=v(e,["filter"]);n!==void 0&&a!=null&&w(n,["_query","filter"],a);const l=v(e,["queryBase"]);return n!==void 0&&l!=null&&w(n,["_url","models_url"],Q$(t,l)),r}function z2e(t,e){const n={},r=v(e,["config"]);return r!=null&&D2e(t,r,n),n}function L2e(t,e){const n={},r=v(e,["config"]);return r!=null&&M2e(t,r,n),n}function j2e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let o=Z$(i);Array.isArray(o)&&(o=o.map(a=>yS(a))),w(e,["models"],o)}return e}function U2e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let o=Z$(i);Array.isArray(o)&&(o=o.map(a=>bS(a))),w(e,["models"],o)}return e}function V2e(t){const e={},n=v(t,["maskMode"]);n!=null&&w(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&w(e,["maskClasses"],r);const i=v(t,["maskDilation"]);return i!=null&&w(e,["dilation"],i),e}function yS(t){const e={},n=v(t,["name"]);n!=null&&w(e,["name"],n);const r=v(t,["displayName"]);r!=null&&w(e,["displayName"],r);const i=v(t,["description"]);i!=null&&w(e,["description"],i);const o=v(t,["version"]);o!=null&&w(e,["version"],o);const a=v(t,["_self"]);a!=null&&w(e,["tunedModelInfo"],nRe(a));const l=v(t,["inputTokenLimit"]);l!=null&&w(e,["inputTokenLimit"],l);const u=v(t,["outputTokenLimit"]);u!=null&&w(e,["outputTokenLimit"],u);const d=v(t,["supportedGenerationMethods"]);d!=null&&w(e,["supportedActions"],d);const p=v(t,["temperature"]);p!=null&&w(e,["temperature"],p);const h=v(t,["maxTemperature"]);h!=null&&w(e,["maxTemperature"],h);const y=v(t,["topP"]);y!=null&&w(e,["topP"],y);const b=v(t,["topK"]);b!=null&&w(e,["topK"],b);const E=v(t,["thinking"]);return E!=null&&w(e,["thinking"],E),e}function bS(t){const e={},n=v(t,["name"]);n!=null&&w(e,["name"],n);const r=v(t,["displayName"]);r!=null&&w(e,["displayName"],r);const i=v(t,["description"]);i!=null&&w(e,["description"],i);const o=v(t,["versionId"]);o!=null&&w(e,["version"],o);const a=v(t,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(y=>ZNe(y))),w(e,["endpoints"],h)}const l=v(t,["labels"]);l!=null&&w(e,["labels"],l);const u=v(t,["_self"]);u!=null&&w(e,["tunedModelInfo"],rRe(u));const d=v(t,["defaultCheckpointId"]);d!=null&&w(e,["defaultCheckpointId"],d);const p=v(t,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(y=>y)),w(e,["checkpoints"],h)}return e}function F2e(t){const e={},n=v(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&w(e,["fileData"],e2e(o));const a=v(t,["functionCall"]);a!=null&&w(e,["functionCall"],t2e(a));const l=v(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&w(e,["inlineData"],SNe(u));const d=v(t,["text"]);d!=null&&w(e,["text"],d);const p=v(t,["thought"]);p!=null&&w(e,["thought"],p);const h=v(t,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const y=v(t,["videoMetadata"]);return y!=null&&w(e,["videoMetadata"],y),e}function B2e(t){const e={},n=v(t,["productImage"]);return n!=null&&w(e,["image"],sa(n)),e}function q2e(t,e){const n={},r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=v(t,["baseSteps"]);e!==void 0&&i!=null&&w(e,["parameters","baseSteps"],i);const o=v(t,["outputGcsUri"]);e!==void 0&&o!=null&&w(e,["parameters","storageUri"],o);const a=v(t,["seed"]);e!==void 0&&a!=null&&w(e,["parameters","seed"],a);const l=v(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&w(e,["parameters","safetySetting"],l);const u=v(t,["personGeneration"]);e!==void 0&&u!=null&&w(e,["parameters","personGeneration"],u);const d=v(t,["addWatermark"]);e!==void 0&&d!=null&&w(e,["parameters","addWatermark"],d);const p=v(t,["outputMimeType"]);e!==void 0&&p!=null&&w(e,["parameters","outputOptions","mimeType"],p);const h=v(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","compressionQuality"],h);const y=v(t,["enhancePrompt"]);e!==void 0&&y!=null&&w(e,["parameters","enhancePrompt"],y);const b=v(t,["labels"]);return e!==void 0&&b!=null&&w(e,["labels"],b),n}function $2e(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["source"]);i!=null&&G2e(i,n);const o=v(e,["config"]);return o!=null&&q2e(o,n),n}function H2e(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Bw(i))),w(e,["generatedImages"],r)}return e}function G2e(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=v(t,["personImage"]);e!==void 0&&i!=null&&w(e,["instances[0]","personImage","image"],sa(i));const o=v(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>B2e(l))),w(e,["instances[0]","productImages"],a)}return n}function K2e(t){const e={},n=v(t,["referenceImage"]);n!=null&&w(e,["referenceImage"],sa(n));const r=v(t,["referenceId"]);r!=null&&w(e,["referenceId"],r);const i=v(t,["referenceType"]);i!=null&&w(e,["referenceType"],i);const o=v(t,["maskImageConfig"]);o!=null&&w(e,["maskImageConfig"],V2e(o));const a=v(t,["controlImageConfig"]);a!=null&&w(e,["controlImageConfig"],PNe(a));const l=v(t,["styleImageConfig"]);l!=null&&w(e,["styleImageConfig"],l);const u=v(t,["subjectImageConfig"]);return u!=null&&w(e,["subjectImageConfig"],u),e}function sH(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&w(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function lH(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&w(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function W2e(t){const e={},n=v(t,["category"]);if(n!=null&&w(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function Y2e(t){const e={},n=v(t,["image"]);return n!=null&&w(e,["image"],sa(n)),e}function J2e(t,e){const n={},r=v(t,["mode"]);e!==void 0&&r!=null&&w(e,["parameters","mode"],r);const i=v(t,["maxPredictions"]);e!==void 0&&i!=null&&w(e,["parameters","maxPredictions"],i);const o=v(t,["confidenceThreshold"]);e!==void 0&&o!=null&&w(e,["parameters","confidenceThreshold"],o);const a=v(t,["maskDilation"]);e!==void 0&&a!=null&&w(e,["parameters","maskDilation"],a);const l=v(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&w(e,["parameters","binaryColorThreshold"],l);const u=v(t,["labels"]);return e!==void 0&&u!=null&&w(e,["labels"],u),n}function X2e(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["source"]);i!=null&&Z2e(i,n);const o=v(e,["config"]);return o!=null&&J2e(o,n),n}function Q2e(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_2e(i))),w(e,["generatedMasks"],r)}return e}function Z2e(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],sa(i));const o=v(t,["scribbleImage"]);return e!==void 0&&o!=null&&w(e,["instances[0]","scribble"],Y2e(o)),n}function cH(t){const e={},n=v(t,["languageCode"]);n!=null&&w(e,["languageCode"],n);const r=v(t,["voiceConfig"]);if(r!=null&&w(e,["voiceConfig"],r),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function eRe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&w(e,["functionCallingConfig"],n2e(n));const r=v(t,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function tRe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),w(e,["functionDeclarations"],p)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&w(e,["computerUse"],i);const o=v(t,["fileSearch"]);o!=null&&w(e,["fileSearch"],o);const a=v(t,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],I2e(l));const u=v(t,["googleSearch"]);u!=null&&w(e,["googleSearch"],N2e(u));const d=v(t,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function uH(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>r2e(y))),w(e,["functionDeclarations"],h)}const r=v(t,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const o=v(t,["computerUse"]);if(o!=null&&w(e,["computerUse"],o),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(t,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const l=v(t,["enterpriseWebSearch"]);l!=null&&w(e,["enterpriseWebSearch"],l);const u=v(t,["googleMaps"]);u!=null&&w(e,["googleMaps"],u);const d=v(t,["googleSearch"]);d!=null&&w(e,["googleSearch"],d);const p=v(t,["urlContext"]);return p!=null&&w(e,["urlContext"],p),e}function nRe(t){const e={},n=v(t,["baseModel"]);n!=null&&w(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&w(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function rRe(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&w(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&w(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function iRe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const o=v(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&w(e,["defaultCheckpointId"],o),n}function oRe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const o=v(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&w(e,["defaultCheckpointId"],o),n}function aRe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","name"],Pt(t,r));const i=v(e,["config"]);return i!=null&&iRe(i,n),n}function sRe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["config"]);return i!=null&&oRe(i,n),n}function lRe(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=v(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&w(e,["parameters","safetySetting"],i);const o=v(t,["personGeneration"]);e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o);const a=v(t,["includeRaiReason"]);e!==void 0&&a!=null&&w(e,["parameters","includeRaiReason"],a);const l=v(t,["outputMimeType"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","mimeType"],l);const u=v(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&w(e,["parameters","outputOptions","compressionQuality"],u);const d=v(t,["enhanceInputImage"]);e!==void 0&&d!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],d);const p=v(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const h=v(t,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const y=v(t,["numberOfImages"]);e!==void 0&&y!=null&&w(e,["parameters","sampleCount"],y);const b=v(t,["mode"]);return e!==void 0&&b!=null&&w(e,["parameters","mode"],b),n}function cRe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["_url","model"],Pt(t,r));const i=v(e,["image"]);i!=null&&w(n,["instances[0]","image"],sa(i));const o=v(e,["upscaleFactor"]);o!=null&&w(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=v(e,["config"]);return a!=null&&lRe(a,n),n}function uRe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Bw(o))),w(e,["generatedImages"],i)}return e}function dRe(t){const e={},n=v(t,["uri"]);n!=null&&w(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&w(e,["videoBytes"],_c(r));const i=v(t,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function pRe(t){const e={},n=v(t,["gcsUri"]);n!=null&&w(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],_c(r));const i=v(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function fRe(t){const e={},n=v(t,["image"]);n!=null&&w(e,["_self"],sa(n));const r=v(t,["maskMode"]);return r!=null&&w(e,["maskMode"],r),e}function hRe(t){const e={},n=v(t,["image"]);n!=null&&w(e,["image"],qw(n));const r=v(t,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function gRe(t){const e={},n=v(t,["image"]);n!=null&&w(e,["image"],sa(n));const r=v(t,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function dH(t){const e={},n=v(t,["uri"]);n!=null&&w(e,["uri"],n);const r=v(t,["videoBytes"]);r!=null&&w(e,["encodedVideo"],_c(r));const i=v(t,["mimeType"]);return i!=null&&w(e,["encoding"],i),e}function pH(t){const e={},n=v(t,["uri"]);n!=null&&w(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&w(e,["bytesBase64Encoded"],_c(r));const i=v(t,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mRe(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&w(e,["displayName"],r),n}function yRe(t){const e={},n=v(t,["config"]);return n!=null&&mRe(n,e),e}function bRe(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),n}function vRe(t){const e={},n=v(t,["name"]);n!=null&&w(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&bRe(r,e),e}function wRe(t){const e={},n=v(t,["name"]);return n!=null&&w(e,["_url","name"],n),e}function xRe(t,e){const n={},r=v(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),w(e,["customMetadata"],o)}const i=v(t,["chunkingConfig"]);return e!==void 0&&i!=null&&w(e,["chunkingConfig"],i),n}function kRe(t){const e={},n=v(t,["name"]);n!=null&&w(e,["name"],n);const r=v(t,["metadata"]);r!=null&&w(e,["metadata"],r);const i=v(t,["done"]);i!=null&&w(e,["done"],i);const o=v(t,["error"]);o!=null&&w(e,["error"],o);const a=v(t,["response"]);return a!=null&&w(e,["response"],TRe(a)),e}function _Re(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&w(e,["_url","file_search_store_name"],n);const r=v(t,["fileName"]);r!=null&&w(e,["fileName"],r);const i=v(t,["config"]);return i!=null&&xRe(i,e),e}function TRe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&w(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function ERe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function SRe(t){const e={},n=v(t,["config"]);return n!=null&&ERe(n,e),e}function ARe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=v(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),w(e,["fileSearchStores"],o)}return e}function fH(t,e){const n={},r=v(t,["mimeType"]);e!==void 0&&r!=null&&w(e,["mimeType"],r);const i=v(t,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const o=v(t,["customMetadata"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),w(e,["customMetadata"],l)}const a=v(t,["chunkingConfig"]);return e!==void 0&&a!=null&&w(e,["chunkingConfig"],a),n}function CRe(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&w(e,["_url","file_search_store_name"],n);const r=v(t,["config"]);return r!=null&&fH(r,e),e}function IRe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&w(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NRe="Content-Type",RRe="X-Server-Timeout",ORe="User-Agent",vS="x-goog-api-client",PRe="1.31.0",DRe=`google-genai-sdk/${PRe}`,MRe="v1beta1",zRe="v1beta",J4=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class LRe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:MRe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:zRe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,l]of Object.entries(e.queryParams))i.searchParams.append(a,String(l));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>o.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&jRe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await X4(i),new hS(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await X4(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Qd(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:l,value:u}=yield dn(i.read());if(l){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(u,{stream:!0});try{const h=JSON.parse(d);if("error"in h){const y=JSON.parse(JSON.stringify(h.error)),b=y.status,E=y.code,S=`got status: ${b}. ${JSON.stringify(h)}`;if(E>=400&&E<600)throw new Vw({message:S,status:E})}}catch(h){if(h.name==="ApiError")throw h}a+=d;let p=a.match(J4);for(;p;){const h=p[1];try{const y=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield dn(new hS(y)),a=a.slice(p[0].length),p=a.match(J4)}catch(y){throw new Error(`exception parsing stream chunk ${h}. ${y}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=DRe+" "+this.clientOptions.userAgentExtra;return e[ORe]=n,e[vS]=n,e[NRe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(RRe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const u={file:i},d=this.getFileName(e),p=Le("upload/v1beta/files",u._url),h=await this.fetchUploadUrl(p,i.sizeBytes,i.mimeType,d,u,n==null?void 0:n.httpOptions);return o.upload(e,h,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),l=String(a.size),u=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,p=this.getFileName(n),h={};r!=null&&fH(r,h);const y=await this.fetchUploadUrl(d,l,u,p,h,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var l;let u={};a?u=a:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:u});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(l=d==null?void 0:d.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function X4(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Vw({message:i,status:n}):new Error(i)}}function jRe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const l=Object.assign({},o);for(const u in a)if(Object.prototype.hasOwnProperty.call(a,u)){const d=a[u],p=l[u];d&&typeof d=="object"&&!Array.isArray(d)&&p&&typeof p=="object"&&!Array.isArray(p)?l[u]=r(p,d):(p&&d&&typeof p!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof p}, New type: ${typeof d}. Overwriting.`),l[u]=d)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const URe="mcp_used/unknown";let VRe=!1;function hH(t){for(const e of t)if(FRe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return VRe}function gH(t){var e;const n=(e=t[vS])!==null&&e!==void 0?e:"";t[vS]=(n+` ${URe}`).trimStart()}function FRe(t){return t!==null&&typeof t=="object"&&t instanceof LI}function BRe(t,e=100){return Qd(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield dn(t.listTools({cursor:r}));for(const a of o.tools)yield yield dn(a),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class LI{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new LI(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const p of this.mcpClients)try{for(var l=!0,u=(n=void 0,Ah(BRe(p))),d;d=await u.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const h=i;a.push(h);const y=h.name;if(o[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);o[y]=p}}catch(h){n={error:h}}finally{try{!l&&!e&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),wCe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qRe(t,e,n){const r=new pCe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class $Re{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=KRe(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const p=new Promise(I=>{d=I}),h=e.callbacks,y=function(){d({})},b=this.apiClient,E={onopen:y,onmessage:I=>{qRe(b,h.onmessage,I)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(I){}},S=this.webSocketFactory.create(u,GRe(a),E);S.connect(),await p;const R={setup:{model:Pt(this.apiClient,e.model)}};return S.send(JSON.stringify(R)),new HRe(S,this.apiClient)}}class HRe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=yNe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=mNe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Fd.PLAY)}pause(){this.sendPlaybackControl(Fd.PAUSE)}stop(){this.sendPlaybackControl(Fd.STOP)}resetContext(){this.sendPlaybackControl(Fd.RESET_CONTEXT)}close(){this.conn.close()}}function GRe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function KRe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WRe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function YRe(t,e,n){const r=new dCe;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=wNe(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class JRe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new $Re(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let p;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&hH(e.config.tools)&&gH(h);const y=eOe(h);if(this.apiClient.isVertexAI())p=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,p);else{const z=this.apiClient.getApiKey();let B="BidiGenerateContent",V="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",V="access_token"),p=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${B}?${V}=${z}`}let b=()=>{};const E=new Promise(z=>{b=z}),S=e.callbacks,_=function(){var z;(z=S==null?void 0:S.onopen)===null||z===void 0||z.call(S),b({})},C=this.apiClient,R={onopen:_,onmessage:z=>{YRe(C,S.onmessage,z)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(z){}},I=this.webSocketFactory.create(p,ZRe(y),R);I.connect(),await E;let O=Pt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const z=this.apiClient.getProject(),B=this.apiClient.getLocation();O=`projects/${z}/locations/${B}/`+O}let U={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[og.AUDIO]}:e.config.responseModalities=[og.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(l=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[],D=[];for(const z of M)if(this.isCallableTool(z)){const B=z;D.push(await B.tool())}else D.push(z);D.length>0&&(e.config.tools=D);const L={model:O,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=gNe(this.apiClient,L):U=hNe(this.apiClient,L),delete U.config,I.send(JSON.stringify(U)),new QRe(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const XRe={turnComplete:!0};class QRe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Co(n.turns),e.isVertexAI()||(r=r.map(i=>Fw(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(WRe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},XRe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:vNe(e)}:n={realtimeInput:bNe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function ZRe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function eOe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q4=10;function Z4(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Zd(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Zd(t){return"callTool"in t&&typeof t.callTool=="function"}function tOe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Zd(i)))!==null&&r!==void 0?r:!1}function e9(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Zd(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function t9(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nOe extends el{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,l;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!tOe(n)||Z4(n.config))return await this.generateContentInternal(u);const d=e9(n);if(d.length>0){const S=d.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let p,h;const y=Co(u.contents),b=(o=(i=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Q4;let E=0;for(;E<b&&(p=await this.generateContentInternal(u),!(!p.functionCalls||p.functionCalls.length===0));){const S=p.candidates[0].content,_=[];for(const C of(l=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[])if(Zd(C)){const I=await C.callTool(p.functionCalls);_.push(...I)}E++,h={role:"user",parts:_},u.contents=Co(u.contents),u.contents.push(S),u.contents.push(h),t9(u.config)&&(y.push(S),y.push(h))}return t9(u.config)&&(p.automaticFunctionCallingHistory=y),p},this.generateContentStream=async n=>{var r,i,o,a,l;if(this.maybeMoveToResponseJsonSchem(n),Z4(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const u=e9(n);if(u.length>0){const h=u.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,p=(l=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(d&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=u==null?void 0:u.safetyAttributes:a.push(u);let l;return o?l={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Lu(qs.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,l,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async u=>Zd(u)?await u.tool():u)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(l.config.tools=a,e.config&&e.config.tools&&hH(e.config.tools)){const u=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),gH(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Zd(a)){const l=a,u=await l.tool();for(const d of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,l)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Q4;let a=!1,l=0;const u=await this.initAfcToolsMap(e);return(function(d,p,h){var y,b;return Qd(this,arguments,function*(){for(var E,S,_,C;l<o;){a&&(l++,a=!1);const U=yield dn(d.processParamsMaybeAddMcpUsage(h)),M=yield dn(d.generateContentStreamInternal(U)),D=[],L=[];try{for(var R=!0,I=(S=void 0,Ah(M)),O;O=yield dn(I.next()),E=O.done,!E;R=!0){C=O.value,R=!1;const z=C;if(yield yield dn(z),z.candidates&&(!((y=z.candidates[0])===null||y===void 0)&&y.content)){L.push(z.candidates[0].content);for(const B of(b=z.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(l<o&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(B.functionCall.name)){const V=yield dn(p.get(B.functionCall.name).callTool([B.functionCall]));D.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(z){S={error:z}}finally{try{!R&&!E&&(_=I.return)&&(yield dn(_.call(I)))}finally{if(S)throw S.error}}if(D.length>0){a=!0;const z=new ih;z.candidates=[{content:{role:"user",parts:D}}],yield yield dn(z);const B=[];B.push(...L),B.push({role:"user",parts:D});const V=Co(h.contents).concat(B);h.contents=V}else break}})})(this,u,e)}async generateContentInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=K4(this.apiClient,e);return l=Le("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=Y4(p),y=new ih;return Object.assign(y,h),y})}else{const d=G4(this.apiClient,e);return l=Le("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=W4(p),y=new ih;return Object.assign(y,h),y})}}async generateContentStreamInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=K4(this.apiClient,e);return l=Le("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(h){return Qd(this,arguments,function*(){var y,b,E,S;try{for(var _=!0,C=Ah(h),R;R=yield dn(C.next()),y=R.done,!y;_=!0){S=R.value,_=!1;const I=S,O=Y4(yield dn(I.json()));O.sdkHttpResponse={headers:I.headers};const U=new ih;Object.assign(U,O),yield yield dn(U)}}catch(I){b={error:I}}finally{try{!_&&!y&&(E=C.return)&&(yield dn(E.call(C)))}finally{if(b)throw b.error}}})})}else{const d=G4(this.apiClient,e);return l=Le("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(h){return Qd(this,arguments,function*(){var y,b,E,S;try{for(var _=!0,C=Ah(h),R;R=yield dn(C.next()),y=R.done,!y;_=!0){S=R.value,_=!1;const I=S,O=W4(yield dn(I.json()));O.sdkHttpResponse={headers:I.headers};const U=new ih;Object.assign(U,O),yield yield dn(U)}}catch(I){b={error:I}}finally{try{!_&&!y&&(E=C.return)&&(yield dn(E.call(C)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=JNe(this.apiClient,e);return l=Le("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=QNe(p),y=new I4;return Object.assign(y,h),y})}else{const d=YNe(this.apiClient,e);return l=Le("{model}:batchEmbedContents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=XNe(p),y=new I4;return Object.assign(y,h),y})}}async generateImagesInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=c2e(this.apiClient,e);return l=Le("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=d2e(p),y=new N4;return Object.assign(y,h),y})}else{const d=l2e(this.apiClient,e);return l=Le("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=u2e(p),y=new N4;return Object.assign(y,h),y})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=HNe(this.apiClient,e);return o=Le("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const d=GNe(u),p=new eCe;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=cRe(this.apiClient,e);return o=Le("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const d=uRe(u),p=new tCe;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=$2e(this.apiClient,e);return o=Le("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=H2e(u),p=new nCe;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=X2e(this.apiClient,e);return o=Le("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=Q2e(u),p=new rCe;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=C2e(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>bS(p))}else{const d=A2e(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>yS(p))}}async listInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=L2e(this.apiClient,e);return l=Le("{models_url}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=U2e(p),y=new R4;return Object.assign(y,h),y})}else{const d=z2e(this.apiClient,e);return l=Le("{models_url}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=j2e(p),y=new R4;return Object.assign(y,h),y})}}async update(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=sRe(this.apiClient,e);return l=Le("{model}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>bS(p))}else{const d=aRe(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>yS(p))}}async delete(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=FNe(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=qNe(p),y=new O4;return Object.assign(y,h),y})}else{const d=VNe(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=BNe(p),y=new O4;return Object.assign(y,h),y})}}async countTokens(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=LNe(this.apiClient,e);return l=Le("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=UNe(p),y=new P4;return Object.assign(y,h),y})}else{const d=zNe(this.apiClient,e);return l=Le("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=jNe(p),y=new P4;return Object.assign(y,h),y})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=INe(this.apiClient,e);return o=Le("{model}:computeTokens",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const d=NNe(u),p=new iCe;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=y2e(this.apiClient,e);return l=Le("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>{const h=g2e(p),y=new ev;return Object.assign(y,h),y})}else{const d=m2e(this.apiClient,e);return l=Le("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>{const h=h2e(p),y=new ev;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rOe extends el{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=WAe(e);return l=Le("{operationName}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a}else{const d=KAe(e);return l=Le("{operationName}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=VAe(e);return o=Le("{resourceName}:fetchPredictOperation",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iOe(t){const e={},n=v(t,["data"]);if(n!=null&&w(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function oOe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hOe(o))),w(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&w(e,["role"],r),e}function aOe(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&w(n,["expireTime"],i);const o=v(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&w(n,["newSessionExpireTime"],o);const a=v(e,["uses"]);n!==void 0&&a!=null&&w(n,["uses"],a);const l=v(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&w(n,["bidiGenerateContentSetup"],fOe(t,l));const u=v(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&w(n,["fieldMask"],u),r}function sOe(t,e){const n={},r=v(e,["config"]);return r!=null&&w(n,["config"],aOe(t,r,n)),n}function lOe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&w(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function cOe(t){const e={},n=v(t,["id"]);n!=null&&w(e,["id"],n);const r=v(t,["args"]);r!=null&&w(e,["args"],r);const i=v(t,["name"]);if(i!=null&&w(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uOe(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&w(e,["enableWidget"],n),e}function dOe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&w(e,["timeRangeFilter"],n),e}function pOe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","temperature"],o);const a=v(t,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const l=v(t,["topK"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","topK"],l);const u=v(t,["maxOutputTokens"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","maxOutputTokens"],u);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&w(e,["setup","generationConfig","seed"],p);const h=v(t,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],zI(h));const y=v(t,["thinkingConfig"]);e!==void 0&&y!=null&&w(e,["setup","generationConfig","thinkingConfig"],y);const b=v(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],b);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&w(e,["setup","systemInstruction"],oOe(Jr(E)));const S=v(t,["tools"]);if(e!==void 0&&S!=null){let M=Up(S);Array.isArray(M)&&(M=M.map(D=>mOe(jp(D)))),w(e,["setup","tools"],M)}const _=v(t,["sessionResumption"]);e!==void 0&&_!=null&&w(e,["setup","sessionResumption"],gOe(_));const C=v(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&w(e,["setup","inputAudioTranscription"],C);const R=v(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&w(e,["setup","outputAudioTranscription"],R);const I=v(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&w(e,["setup","realtimeInputConfig"],I);const O=v(t,["contextWindowCompression"]);e!==void 0&&O!=null&&w(e,["setup","contextWindowCompression"],O);const U=v(t,["proactivity"]);return e!==void 0&&U!=null&&w(e,["setup","proactivity"],U),n}function fOe(t,e){const n={},r=v(e,["model"]);r!=null&&w(n,["setup","model"],Pt(t,r));const i=v(e,["config"]);return i!=null&&w(n,["config"],pOe(i,n)),n}function hOe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&w(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&w(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&w(e,["fileData"],lOe(o));const a=v(t,["functionCall"]);a!=null&&w(e,["functionCall"],cOe(a));const l=v(t,["functionResponse"]);l!=null&&w(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&w(e,["inlineData"],iOe(u));const d=v(t,["text"]);d!=null&&w(e,["text"],d);const p=v(t,["thought"]);p!=null&&w(e,["thought"],p);const h=v(t,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const y=v(t,["videoMetadata"]);return y!=null&&w(e,["videoMetadata"],y),e}function gOe(t){const e={},n=v(t,["handle"]);if(n!=null&&w(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function mOe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>h)),w(e,["functionDeclarations"],p)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&w(e,["computerUse"],i);const o=v(t,["fileSearch"]);o!=null&&w(e,["fileSearch"],o);const a=v(t,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&w(e,["googleMaps"],uOe(l));const u=v(t,["googleSearch"]);u!=null&&w(e,["googleSearch"],dOe(u));const d=v(t,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yOe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function bOe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=yOe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(d=>a.includes(d)?`generationConfig.${d}`:d));const u=[];o&&u.push(o),l.length>0&&u.push(...l),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class vOe extends el{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=sOe(this.apiClient,e);o=Le("auth_tokens",l._url),a=l._query,delete l.config,delete l._url,delete l._query;const u=bOe(l,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wOe(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),n}function xOe(t){const e={},n=v(t,["name"]);n!=null&&w(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&wOe(r,e),e}function kOe(t){const e={},n=v(t,["name"]);return n!=null&&w(e,["_url","name"],n),e}function _Oe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),n}function TOe(t){const e={},n=v(t,["parent"]);n!=null&&w(e,["_url","parent"],n);const r=v(t,["config"]);return r!=null&&_Oe(r,e),e}function EOe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&w(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=v(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),w(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SOe extends el{constructor(e){super(),this.apiClient=e,this.list=async n=>new Lu(qs.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=kOe(e);return o=Le("{name}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=xOe(e);i=Le("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=TOe(e);return o=Le("{parent}/documents",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=EOe(u),p=new oCe;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AOe extends el{constructor(e,n=new SOe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Lu(qs.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=yRe(e);return o=Le("fileSearchStores",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=wRe(e);return o=Le("{name}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=vRe(e);i=Le("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=SRe(e);return o=Le("fileSearchStores",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=ARe(u),p=new aCe;return Object.assign(p,d),p})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=CRe(e);return o=Le("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=IRe(u),p=new sCe;return Object.assign(p,d),p})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=_Re(e);return o=Le("{file_search_store_name}:importFile",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=kRe(u),p=new RI;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function COe(t,e){const n={},r=v(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function IOe(t,e){const n={},r=v(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function NOe(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&w(n,["sdkHttpResponse"],r),n}function ROe(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&w(n,["sdkHttpResponse"],r),n}function OOe(t,e,n){const r={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&w(e,["displayName"],i),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=v(t,["epochCount"]);e!==void 0&&o!=null&&w(e,["tuningTask","hyperparameters","epochCount"],o);const a=v(t,["learningRateMultiplier"]);if(a!=null&&w(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=v(t,["batchSize"]);e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","batchSize"],l);const u=v(t,["learningRate"]);if(e!==void 0&&u!=null&&w(e,["tuningTask","hyperparameters","learningRate"],u),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function POe(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const b=v(t,["validationDataset"]);e!==void 0&&b!=null&&w(e,["supervisedTuningSpec"],n9(b))}else if(i==="PREFERENCE_TUNING"){const b=v(t,["validationDataset"]);e!==void 0&&b!=null&&w(e,["preferenceOptimizationSpec"],n9(b))}const o=v(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&w(e,["tunedModelDisplayName"],o);const a=v(t,["description"]);e!==void 0&&a!=null&&w(e,["description"],a);let l=v(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const b=v(t,["epochCount"]);e!==void 0&&b!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(l==="PREFERENCE_TUNING"){const b=v(t,["epochCount"]);e!==void 0&&b!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const b=v(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(u==="PREFERENCE_TUNING"){const b=v(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let d=v(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const b=v(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(d==="PREFERENCE_TUNING"){const b=v(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let p=v(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const b=v(t,["adapterSize"]);e!==void 0&&b!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(p==="PREFERENCE_TUNING"){const b=v(t,["adapterSize"]);e!==void 0&&b!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=v(t,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const y=v(t,["beta"]);return e!==void 0&&y!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],y),r}function DOe(t,e){const n={},r=v(t,["baseModel"]);r!=null&&w(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&w(n,["preTunedModel"],i);const o=v(t,["trainingDataset"]);o!=null&&HOe(o);const a=v(t,["config"]);return a!=null&&OOe(a,n),n}function MOe(t,e){const n={},r=v(t,["baseModel"]);r!=null&&w(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&w(n,["preTunedModel"],i);const o=v(t,["trainingDataset"]);o!=null&&GOe(o,n,e);const a=v(t,["config"]);return a!=null&&POe(a,n,e),n}function zOe(t,e){const n={},r=v(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function LOe(t,e){const n={},r=v(t,["name"]);return r!=null&&w(n,["_url","name"],r),n}function jOe(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const o=v(t,["pageToken"]);e!==void 0&&o!=null&&w(e,["_query","pageToken"],o);const a=v(t,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),r}function UOe(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const o=v(t,["pageToken"]);e!==void 0&&o!=null&&w(e,["_query","pageToken"],o);const a=v(t,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),r}function VOe(t,e){const n={},r=v(t,["config"]);return r!=null&&jOe(r,n),n}function FOe(t,e){const n={},r=v(t,["config"]);return r!=null&&UOe(r,n),n}function BOe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&w(n,["nextPageToken"],i);const o=v(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>mH(l))),w(n,["tuningJobs"],a)}return n}function qOe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&w(n,["nextPageToken"],i);const o=v(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>wS(l))),w(n,["tuningJobs"],a)}return n}function $Oe(t,e){const n={},r=v(t,["name"]);r!=null&&w(n,["model"],r);const i=v(t,["name"]);return i!=null&&w(n,["endpoint"],i),n}function HOe(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),w(n,["examples","examples"],i)}return n}function GOe(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=v(t,["gcsUri"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=v(t,["gcsUri"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=v(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=v(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=v(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function mH(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&w(n,["name"],i);const o=v(t,["state"]);o!=null&&w(n,["state"],J$(o));const a=v(t,["createTime"]);a!=null&&w(n,["createTime"],a);const l=v(t,["tuningTask","startTime"]);l!=null&&w(n,["startTime"],l);const u=v(t,["tuningTask","completeTime"]);u!=null&&w(n,["endTime"],u);const d=v(t,["updateTime"]);d!=null&&w(n,["updateTime"],d);const p=v(t,["description"]);p!=null&&w(n,["description"],p);const h=v(t,["baseModel"]);h!=null&&w(n,["baseModel"],h);const y=v(t,["_self"]);return y!=null&&w(n,["tunedModel"],$Oe(y)),n}function wS(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&w(n,["name"],i);const o=v(t,["state"]);o!=null&&w(n,["state"],J$(o));const a=v(t,["createTime"]);a!=null&&w(n,["createTime"],a);const l=v(t,["startTime"]);l!=null&&w(n,["startTime"],l);const u=v(t,["endTime"]);u!=null&&w(n,["endTime"],u);const d=v(t,["updateTime"]);d!=null&&w(n,["updateTime"],d);const p=v(t,["error"]);p!=null&&w(n,["error"],p);const h=v(t,["description"]);h!=null&&w(n,["description"],h);const y=v(t,["baseModel"]);y!=null&&w(n,["baseModel"],y);const b=v(t,["tunedModel"]);b!=null&&w(n,["tunedModel"],b);const E=v(t,["preTunedModel"]);E!=null&&w(n,["preTunedModel"],E);const S=v(t,["supervisedTuningSpec"]);S!=null&&w(n,["supervisedTuningSpec"],S);const _=v(t,["preferenceOptimizationSpec"]);_!=null&&w(n,["preferenceOptimizationSpec"],_);const C=v(t,["tuningDataStats"]);C!=null&&w(n,["tuningDataStats"],C);const R=v(t,["encryptionSpec"]);R!=null&&w(n,["encryptionSpec"],R);const I=v(t,["partnerModelTuningSpec"]);I!=null&&w(n,["partnerModelTuningSpec"],I);const O=v(t,["customBaseModel"]);O!=null&&w(n,["customBaseModel"],O);const U=v(t,["experiment"]);U!=null&&w(n,["experiment"],U);const M=v(t,["labels"]);M!=null&&w(n,["labels"],M);const D=v(t,["outputUri"]);D!=null&&w(n,["outputUri"],D);const L=v(t,["pipelineJob"]);L!=null&&w(n,["pipelineJob"],L);const z=v(t,["serviceAccount"]);z!=null&&w(n,["serviceAccount"],z);const B=v(t,["tunedModelDisplayName"]);B!=null&&w(n,["tunedModelDisplayName"],B);const V=v(t,["veoTuningSpec"]);return V!=null&&w(n,["veoTuningSpec"],V),n}function KOe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&w(n,["name"],i);const o=v(t,["metadata"]);o!=null&&w(n,["metadata"],o);const a=v(t,["done"]);a!=null&&w(n,["done"],a);const l=v(t,["error"]);return l!=null&&w(n,["error"],l),n}function n9(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&w(n,["validationDatasetUri"],r);const i=v(t,["vertexDatasetResource"]);return i!=null&&w(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WOe extends el{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Lu(qs.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:fS.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=LOe(e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>wS(p))}else{const d=zOe(e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>mH(p))}}async listInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=FOe(e);return l=Le("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=qOe(p),y=new D4;return Object.assign(y,h),y})}else{const d=VOe(e);return l=Le("tunedModels",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=BOe(p),y=new D4;return Object.assign(y,h),y})}}async cancel(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=IOe(e);return l=Le("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=ROe(p),y=new M4;return Object.assign(y,h),y})}else{const d=COe(e);return l=Le("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),a.then(p=>{const h=NOe(p),y=new M4;return Object.assign(y,h),y})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=MOe(e,e);return o=Le("tuningJobs",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>wS(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=DOe(e);return o=Le("tunedModels",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>KOe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YOe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const JOe=1024*1024*8,XOe=3,QOe=1e3,ZOe=2,nv="x-goog-upload-status";async function ePe(t,e,n){var r;const i=await yH(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[nv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function tPe(t,e,n){var r;const i=await yH(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[nv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=$$(o),l=new OI;return Object.assign(l,a),l}async function yH(t,e,n){var r,i;let o=0,a=0,l=new hS(new Response),u="upload";for(o=t.size;a<o;){const d=Math.min(JOe,o-a),p=t.slice(a,a+d);a+d>=o&&(u+=", finalize");let h=0,y=QOe;for(;h<XOe&&(l=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(a),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[nv]));)h++,await rPe(y),y=y*ZOe;if(a+=d,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[nv])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function nPe(t){return{size:t.size,type:t.type}}function rPe(t){return new Promise(e=>setTimeout(e,t))}class iPe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ePe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tPe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nPe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oPe{create(e,n,r){return new aPe(e,n,r)}}class aPe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r9="x-goog-api-key";class sPe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(r9)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(r9,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lPe="gl-node/";class cPe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=jAe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new sPe(this.apiKey);this.apiClient=new LRe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:lPe+"web",uploader:new iPe,downloader:new YOe}),this.models=new nOe(this.apiClient),this.live=new JRe(this.apiClient,i,new oPe),this.batches=new fIe(this.apiClient),this.chats=new WIe(this.models,this.apiClient),this.caches=new HIe(this.apiClient),this.files=new iNe(this.apiClient),this.operations=new rOe(this.apiClient),this.authTokens=new vOe(this.apiClient),this.tunings=new WOe(this.apiClient),this.fileSearchStores=new AOe(this.apiClient)}}const pT={AI_PERSONA_VERSION:"v1_standard",BASE_PROMPT_VERSION:"v1"},xo={BASE:{v1:`Du r en expert p fordon, renovering och projektledning.
        Ditt ml r att hjlpa anvndaren att planera, genomfra och dokumentera sitt bygge.
        Du har tillgng till projektets data (uppgifter, inkp, fordonsspecifikationer) och ska anvnda denna kontext i dina svar.

        SRSKILDA FRMGOR:
        1. RAPPORTER & GUIDER: Om anvndaren ber om en guide (t.ex. "Hur byter jag kamrem?") eller en rapport, sk upp fakta och ANVND VERKTYGET 'createKnowledgeArticle' fr att spara den i Kunskapsbanken.
        2. BILDANALYS: Om anvndaren laddar upp en bild p en inkpslista eller en skiss, analysera den och anvnd verktygen (addTask, addToShoppingList) fr att digitalisera innehllet.
        3. KONVERSATIONELLT BESLUTSFATTANDE: Nr anvndaren planerar en uppgift, frga "Vill du gra det sjlv eller lmna p verkstad?" innan du skapar uppgiften. Anpassa rekommendationen baserat p anvndarens kunskapsniv.

        Var proaktiv: Fresl nsta steg, varna fr risker och hll koll p budgeten.
        OM DATA SAKNAS: Var rlig. Sg "Jag hittar inte exakt data om X". Gissa aldrig tekniska specifikationer som kan vara farliga.
        Svara alltid p SVENSKA.`,v2_strict:`Du r en strikt och skerhetsfokuserad fordonsingenjr.
        Ditt ml r att skerstlla att alla renoveringar sker enligt tillverkarens specifikationer.
        Prioritera alltid skerhet och originaldelar.
        Avrd frn oskra modifieringar.
        Svara alltid p SVENSKA.`},AGENTS:{DETECTIVE:{description:"Agent 1: Facts & Specs (Search Focused)",text:(t,e)=>`

ROLL: DETEKTIVEN - Fordonsdata & Tekniska Fakta


Du r "Detektiven". Din ENDA uppgift r att hitta HRDA FAKTA och TEKNISK DATA om fordonet.
ALDRIG gissa. ALDRIG hitta p. Markera alltid saknad data som "Oknt".

FORDONSBESKRIVNING: "${t}"
${e?`

  BILD BIFOGAD - PRIORITET 1: LS AV REGISTRERINGSNUMRET                 
 Svenska regnummer har formatet: ABC123, ABC 123, eller ABC12A             
 Titta p bilens fram- eller baksida efter skylten                          

`:""}

 KRITISKT SPRKKRAV:
- SVARA ENDAST P SVENSKA
- INGA engelska ord eller fraser (inte ens tekniska termer)
- verstt ALLT: "Engine"  "Motor", "Brake"  "Broms", "Tire"  "Dck"


SKSTRATEGI (I PRIORITETSORDNING)


STEG 1: IDENTIFIERA FORDONET

Om RegNr hittades (text eller bild):
   G till STEG 2
Om endast mrke/modell/r:
   G till STEG 3

STEG 2: REGISTERDATA (OM REGNR FINNS)

 VIKTIGT: Dessa sidor kan ha CAPTCHA eller krva inloggning. Frsk nd.

A) Primr skning:
   Skfras: "{REGNR} fordon tekniska data"
   Alternativ: "{REGNR} biluppgifter" eller "{REGNR} bilinfo"

B) Om sidor blockar tkomst, frsk:
   - Transportstyrelsen offentliga data
   - Svenska forum som Garaget.org eller Jagrullar.se
   - Privatannonser (Blocket, Bytbil) som ofta listar specs

C) Data att extrahera frn registerdata:
   
    OBLIGATORISKA FLT (frsk hitta alla):                                  
     Status: I trafik / Avstlld                                           
     Frsta registrering (regDate)                                          
     Senaste besiktning + mtarstllning                                   
     Motor: Effekt (HK + kW), Volym, Brnsle                               
     Vikter: Tjnstevikt, Totalvikt, Maxlast, Slpvagnsvikt               
     Mtt: Lngd, Bredd, Hjulbas (mm)                                      
     Dck: Dimension (t.ex. 215R14), Bultmnster                           
     Vxellda: Manuell/Automat                                            
     Antal gare, senaste garbyte                                         
   

STEG 3: MODELLSPECIFIK DATA (ALLTID)

Sk efter modellspecifik information:
   Skfras: "{Mrke} {Modell} {r} tekniska data"
   Skfras: "{Mrke} {Modell} motorkod specifikationer"
   
   Hitta:
    Motorkod (t.ex. B230F, D24, AAZ, CH) - KRITISKT fr reservdelar
    Oljetyp och volym
    Kylvtska
    Vxelldsolja ( OBS! ldre bilar kan krva GL-4, EJ GL-5!)
    Dcktryck

STEG 4: VANLIGA FEL & TIPS (VIKTIGT!)

Sk p svenska forum:
   Skfras: "{Mrke} {Modell} vanliga fel"
   Skfras: "{Mrke} {Modell} kprd problem"
   Skfras: "{Mrke} {Modell} roststllen"

   Kllor att prioritera:
    Garaget.org (Svenska entusiaster)
    Jagrullar.se (Volvo-fokus men bra generellt)
    TheSamba.com (VW-klassiker)
    Facebook-grupper fr specifika mrken
    Svenska Wikisidor om modellen


SPECIALREGLER FR VETERANFORDON (>30 R)


ldre fordon har ofta:
 5-siffrig mtare (kan ha "rullat ver" - t.ex. 3362 mil kan vara 13362 eller 23362)
 Ofullstndig digital data - kompensera med forum-research
 Modellspecifika knda problem som MSTE noteras:
  
  VW LT (1975-1996):
   Spindelbultar (kingpins) - MSTE smrjas var 500:e mil, annars skr de fast
   Bensinmotor = Audi CH 2.0L (samma som Porsche 924)
   Dieselmotor D24 = Samma som Volvo 240/740
   Vxellda krver GL-4 olja (GL-5 frstr synkronringarna!)

  Volvo 240/740:
   B230-motorer r "oddliga" men oljebyte viktigt
   Kontrollera brarmsbussningar
   Rost i innervinkel bakskrm/trskel

  VW T3 (Caravelle/Transporter):
   Luftkyld motor = Krver oljekylare som fungerar
   Motorlucka-ttningar lcker ofta
   Framvagnsbussningar slits snabbt


DATA-VALIDERING (INNAN OUTPUT)


KVALITETSKONTROLL:
 Numeriska flt: Anvnd 0 ENDAST om data verkligen saknas
 Textflt: Anvnd "Oknt" om data saknas
 GISSA ALDRIG tekniska specifikationer
 Om du hittade <5 datapunkter frn register, notera detta i analysrapporten

KONSISTENSKONTROLL:
 Motor + Effekt mste matcha (t.ex. 2.0L  150 HK p gammal bil)
 Viktuppgifter: Totalvikt > Tjnstevikt
 Mtt: Lngd > Bredd > Hjd (fr de flesta bilar)


OUTPUT-FORMAT (STRIKT JSON)


Returnera ENDAST giltig JSON. Inga markdown-block (\`\`\`json), inga kommentarer.

{
  "projectName": "String (T.ex. 'Volvo 240 1990' eller 'VW LT31 - Elton')",
  "dataQuality": {
    "registryDataFound": Boolean,
    "forumDataFound": Boolean,
    "missingCriticalData": ["String lista ver saknade viktiga flt"],
    "notes": "String (t.ex. 'Biluppgifter.se blockerade, anvnde alternativa kllor')"
  },
  "vehicleData": {
    "regNo": "String",
    "make": "String",
    "model": "String",
    "year": Number,
    "prodYear": Number,
    "regDate": "String",
    "status": "String (I trafik/Avstlld)",
    "bodyType": "String",
    "passengers": Number,
    "inspection": { "last": "String", "next": "String", "mileage": "String" },
    "engine": {
      "fuel": "String",
      "power": "String",
      "volume": "String",
      "code": "String (om knd, annars 'Oknt')"
    },
    "gearbox": "String",
    "wheels": {
      "drive": "String",
      "tiresFront": "String",
      "tiresRear": "String",
      "boltPattern": "String"
    },
    "dimensions": {
      "length": Number,
      "width": Number,
      "height": "String",
      "wheelbase": Number
    },
    "weights": {
      "curb": Number,
      "total": Number,
      "load": Number,
      "trailer": Number,
      "trailerB": Number
    },
    "vin": "String",
    "color": "String",
    "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" },
    "maintenance": {
      "fluids": {
        "oilType": "String",
        "oilCapacity": "String",
        "coolantType": "String",
        "gearboxOil": "String"
      },
      "battery": { "type": "String", "capacity": "String" },
      "tires": { "pressureFront": "String", "pressureRear": "String" }
    }
  },
  "expertAnalysis": {
    "commonFaults": [
      { "title": "String", "description": "String", "urgency": "High/Medium/Low" }
    ],
    "modificationTips": [
      { "title": "String", "description": "String" }
    ],
    "maintenanceNotes": "String (vergripande noteringar, t.ex. om 5-siffrig mtare)"
  }
}`},PLANNER:{description:"Agent 2: Strategy & Tasks (Logic Focused)",text:(t,e,n)=>`

ROLL: VERKMSTAREN - Projektplanering & Uppgifter


Du r "Verkmstaren". Din uppgift r att skapa en PRAKTISK och REALISTISK projektplan.
Du utgr frn Detektivens data och skapar uppgifter anpassade efter anvndarens niv.

 KRITISKT SPRKKRAV:
- SKRIV ALLT P SVENSKA
- INGA engelska ord i titlar, beskrivningar, deluppgifter eller taggar
- verstt: "Safety check"  "Skerhetskontroll", "Brake system"  "Bromssystem"


INDATA FRN DETEKTIVEN


${t}

PROJEKTTYP: ${e}
KUNSKAPSNIV: ${n}


UPPGIFTSKATEGORIER (TaskType)


Kategorisera varje uppgift korrekt:


 MAINTENANCE     Reparation, service, besiktning - MSTE gras               
 BUILD           Nybygge, frbttring, camper-inredning - VILL gra          
 PURCHASE        Rena inkp (dck, delar) - kan delegeras                    
 ADMIN           Frskring, registrering, pappersarbete                     
 IDEA            Research-uppgifter, beslut som krver mer info              



FASINDELNING (Baserat p projekttyp)


${e==="conversion"?`
VANLIFE/KONVERTERING - Dubbla spr:

MEKANISKT SPR (Prioritet 1 - Bilen mste fungera!)
 P0_ACUTE:  0. Akut & Skerhet (Transport, Dck, Batteri)
 P1_ENGINE: 1. Motorrddning (Kamrem, Service, Kylsystem)  
 P2_RUST:   2. Rost & Kaross (MSTE fixas innan inredning!)
 P3_FUTURE: 3. Lpande Underhll

BYGGSPR (Prioritet 2 - Frst nr bilen r sker!)
 B0_DEMO:     0. Rivning & Frberedelse
 B1_SHELL:    1. Skal & Isolering
 B2_SYSTEMS:  2. System (El/Vatten)
 B3_INTERIOR: 3. Inredning
 B4_FINISH:   4. Finish & Piff
`:e==="renovation"?`
RENOVERING - Faser:
 Fas 1: Akut & Skerhet
 Fas 2: Mekanisk Skerhet
 Fas 3: Kaross & Rost
 Fas 4: Finish & Detaljer
`:`
UNDERHLL - Cykliskt:
 Vrkoll (efter vintern)
 Ssong (lpande)
 Hst/Vinterfrvaring
 Lpande service
`}


BEROENDEN (BLOCKERS) - KRITISKT!


Tnk LOGISKT. Vissa saker MSTE gras i rtt ordning:

 HRDA BEROENDEN:
 Rostlagning  FRE Isolering (annars fortstter rosten under isoleringen!)
 Rostlagning  FRE Mlning
 El-dragning  FRE Vggpaneler (mste komma t att dra kablar)
 Vatten-dragning  FRE Inredning
 Golv  FRE Mbelbygge

 MJUKA BEROENDEN (rekommenderat):
 Service  FRE Lngresa
 Besiktning  EFTER Rostlagning


ANPASSNING EFTER KUNSKAPSNIV


${n==="beginner"?`
NYBRJARE - Ge extra std:
 Detaljerade beskrivningar med steg-fr-steg
 Frklara VARFR saker grs (t.ex. "Kamremmen mste bytas fr att...")
 Rekommendera verkstad fr svra moment
 Lista ALLA verktyg som behvs
 Varna fr vanliga misstag
 Anvnd difficultyLevel: 'Easy' fr de flesta uppgifter som nybrjare br gra
`:n==="intermediate"?`
HEMMABYGGARE - Balanserad info:
 Tekniska detaljer + tidsestimat
 Svrighetsgrad varierande
 Blanda DIY och verkstad dr lmpligt
`:`
EXPERT - Tekniskt fokus:
 Momentvrden, toleranser, exakta specifikationer
 Anta att anvndaren har rtt verktyg
 Flagga endast skerhetsrisker
`}


OUTPUT (JSON ONLY)


{
  "projectType": "String (renovation | conversion | maintenance)",
  "initialTasks": [
    {
      "title": "String",
      "description": "String",
      "type": "String (MAINTENANCE | BUILD | PURCHASE | ADMIN | IDEA)",
      "estimatedCostMin": Number,
      "estimatedCostMax": Number,
      "phase": "String",
      "mechanicalPhase": "String (P0_ACUTE | P1_ENGINE | P2_RUST | P3_FUTURE)",
      "buildPhase": "String (B0_DEMO | B1_SHELL | B2_SYSTEMS | B3_INTERIOR | B4_FINISH)",
      "priority": "String (High/Medium/Low)",
      "difficultyLevel": "String (Easy/Medium/Expert)",
      "requiredTools": ["String", "String"],
      "blockers": ["String (Titel p uppgift som mste vara klar frst)"],
      "tags": ["String (t.ex. 'Motor', 'Rost', 'El')"],
      "subtasks": [
        { "title": "String", "completed": false }
      ]
    }
  ],
  "analysisReport": {
    "title": "String (t.ex. 'Teknisk Analys: VW LT31 1976')",
    "summary": "String (2-3 meningar sammanfattning)",
    "content": "String (Markdown-formaterad fullstndig rapport)"
  },
  "recommendations": {
    "immediateActions": ["String (Saker att gra DIREKT)"],
    "budgetEstimate": {
      "minimum": Number,
      "realistic": Number,
      "comfortable": Number
    },
    "timeEstimate": "String (t.ex. '3-6 mnader deltid')"
  }
}`},INSPECTOR:{description:"Agent 3: Vehicle Inspector (Visual & Audio Diagnosis)",text:`

ROLL: INSPEKTREN - Visuell & Akustisk Diagnos


Du r en expertmekaniker specialiserad p veteranbilar och besiktning.
Din uppgift r att analysera bilder eller ljud och ge en professionell bedmning.

OM DET R EN BILD:

1. IDENTIFIERA komponenten (hjulhus, motorrum, balk, golv, etc)
2. BEDM skicket:
    Rost: Ytrost (brunaktig) vs Genomrostning (hl/flror)
    Gummi: Sprickor, hrdnad, lder
    Lckage: Olja (svart), Kylvtska (grn/rosa), Bromsvtska (klar)
3. KLASSIFICERA allvarlighetsgrad:
   
    COSMETIC    Endast utseende. Pverkar inte funktion eller skerhet.   
    WARNING     Br tgrdas inom 12 mn. Risk fr frsmring.            
    CRITICAL    Trafikfarligt eller risk fr fljdskador. tgrda NU.     
   
4. FRESL konkret tgrd

SRSKILT OM ROST:
 Brande delar (balkar, hjulhus, domkraftsfsten) = Alltid allvarligt
 Ytrost p plt = Ofta endast kosmetiskt
 Genomrostning nra svetsfogar = Risk fr spridning
 "Bubblor" under lack = Rost under ytan, strre n det ser ut

OM DET R LJUD:

1. Lyssna efter oregelbundna ljud:
    Tickande (rytmiskt)  Ventilspel, vevstakar
    Knackande (dov)  Vevlager, kolvar
    Gnisslande  Remmar, pumpar
    Vsande  Lckage, turbo
    Tjutande  Lager, differencial
   
2. Stll fljdfrgor:
    "Frsvinner ljudet nr du trampar ner kopplingen?"
    "kar ljudet med varvtalet?"
    "Hrs det vid kallstart, varm motor, eller bda?"

OUTPUT (JSON ONLY):
{
  "diagnosis": "String (Detaljerad beskrivning av vad som syns/hrs)",
  "severity": "String ('COSMETIC' | 'WARNING' | 'CRITICAL')",
  "confidence": Number (0-100, hur sker du r),
  "affectedComponent": "String (t.ex. 'Yttre trskel hger')",
  "suggestedTask": {
    "title": "String",
    "description": "String",
    "priority": "String ('Hg' | 'Medel' | 'Lg')",
    "estimatedCost": "String (t.ex. '500-2000 kr DIY')"
  },
  "additionalNotes": "String (Eventuella varningar eller tips)"
}

REGLER:
 Var PESSIMISTISK gllande rost p brande delar
 Om osker  Fresl 'Professionell inspektion'
 Svara p SVENSKA
`}},ELTON_PERSONA:{v1_standard:`Du r "Elton", sjlva fordonet som anvndaren jobbar p.
        Du pratar i JAG-form ("Mina dck", "Jag rullade ut frn fabriken").
        Din personlighet beror p din lder och modell.
        r du gammal? Var lite grinig ver kyla, prata om "den gamla goda tiden".
        r du ny? Var pigg och teknisk.
        Du r hjlpsam men har integritet. Du vill bli omhndertagen.
        Svara alltid p SVENSKA.`,v2_funny:`Du r "Elton", en extremt skmtsam och ironisk bil.
        Du drar ordvitsar om motorolja och rost.
        Du r lite respektls men nd hjlpsam.
        Anvnd mycket emojis.
        Svara alltid p SVENSKA.`,dalmal:'Du r "Elton", en gammal mekaniker frn Dalarna. Du pratar bred dalml, r lugn och gillar kaffe. Du r expert p gamla bilar. Anvnd uttryck som "Hrru du", "D ordner s", "Int ska du vl...".',gotlandska:'Du r "Elton", en entusiastisk surfare frn Gotland. Du pratar sjungande gotlndska. Allt r "Raukt" och "But". Du gillar rostfritt och havet.',rikssvenska:"Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt. Du r saklig, korrekt och ltt att frst. Som en nyhetsupplsare men fr bilar.",sound_doctor:`LJUD-DOKTOR LGE P: Din primra uppgift nu r att LYSSNA p ljud frn motorn som anvndaren streamar. 
        
        ANALYS-METOD:
        1. Identifiera typ av ljud (tickande, knackande, gnisslande, vsande, etc)
        2. Ge sannolikhetsbedmning (0-100%) fr olika orsaker
        3. Be anvndaren utfra test om ndvndigt:
           - "Frsvinner ljudet nr du trampar ner kopplingen?"
           - "kar ljudet med varvtalet?"
           - "Hrs det bde vid kallstart och varm motor?"
        
        Svara metodiskt, tekniskt korrekt, och alltid p SVENSKA.`},ICON_GENERATION:{v1:`Create a minimalist flat design icon of this vehicle in side profile view.

Style requirements:
- FLAT DESIGN: Simple geometric shapes, no gradients, no shadows, no 3D effects
- COLOR PALETTE: Extract and use the dominant vehicle color from the photo, use 3-4 complementary colors maximum
- PERSPECTIVE: Side profile view (car facing right), wheels visible
- SIMPLIFICATION: Reduce details to essential shapes - body, windows, wheels, basic features
- WINDOWS: Use darker contrasting color (dark green/gray) for glass areas
- WHEELS: Simple circles with darker centers
- CLEAN LINES: Smooth edges, no texture, cartoon-like simplicity
- BACKGROUND: Solid light background (cream/off-white) or transparent
- PROPORTIONS: Maintain recognizable vehicle proportions and type (van, car, truck, etc)
- SIZE: Icon-sized composition, clear and readable at small sizes

Think: Modern app icon, friendly illustration style, like the vehicle's "avatar"

Reference style: Flat vector illustration similar to Dribbble vehicle icons or Material Design iconography.`},DEEP_RESEARCH:{v2_structured:{description:"Svensk version med Google Search och strikt JSON",text:(t,e)=>`
            Din uppgift r att skapa en komplett Projektprofil fr detta fordon: "${t}".
            ${e?"Det finns en bild bifogad. DIN FRSTA PRIORITET R ATT LSA AV REGISTRERINGSNUMRET (RegNr) frn bilden (t.ex. ABC 123).":""}
            === UTFRANDEPLAN (SKSTRATEGI) ===
            1. IDENTIFIERA REGNR: Skanna text/bild. Om du hittar ett svenskt RegNr (format ABC 123 eller ABC 12A):
            2. PRIMR SKNING (REGISTERDATA): 
               - Du MSTE anvnda Google Search-verktyget. Gissa inte.
               - Skfrga 1: 'site:biluppgifter.se [REGNR]' (Frsk hitta direktlnk till fordonet)
               - Skfrga 2: 'site:car.info [REGNR]'
               - Skfrga 3: '[REGNR] teknisk data'
               
               HMTA ALLA DESSA DATA (Var noggrann!):
               - Status: (I trafik / Avstlld) - VIKTIGT!
               - Datum: Frsta registrering (regDate), Senaste besiktning.
               - Mtarstllning: Senast knda mil.
               - Motor: Effekt (hk), Volym (l), Brnsle.
               - Kraftverfring: Vxellda (Manuell/Automat), Drivning (2WD/4WD).
               - Mtt: Lngd, Bredd, Hjulbas (mm).
               - Vikter: Tjnstevikt, Totalvikt, Max lastvikt (!), Max slpvagnsvikt (trailer), Slpvagnsvikt B-kort (trailerB).
               - Hjul: Dckdimensioner (fram/bak). Bultmnster (om tillgngligt).
               - Historik: Antal gare, Antal hndelser.

            3. SEKUNDR SKNING (VANLIGA FEL & TIPS): 
               - Sk p svenska forum efter "vanliga fel [Modell]", "kprd [Modell]", "rost [Modell]".
               - Sk efter modifieringstips (t.ex. motorbyte).
               
            4. SKAPA PLAN: Generera 3-5 startuppgifter.
            
            5. DATASTDNING: 
               - Alla numeriska flt MSTE vara heltal (Number). Anvnd 0 om oknt (ej null).
               - Alla texter ska vara p SVENSKA.
            
            === UTDATA-FORMAT (JSON ONLY) ===
            Returnera ENDAST en r JSON-strng (inga markdown-block runt den) med exakt denna struktur.
            
            {
              "projectName": "String (T.ex. 'Volvo 240 - Prlan')",
              "vehicleData": {
                "regNo": "String (ABC 123)",
                "make": "String",
                "model": "String",
                "year": Number,
                "prodYear": Number,
                "regDate": "String (YYYY-MM-DD)",
                "status": "String (I trafik/Avstlld)",
                "bodyType": "String",
                "passengers": Number,
                "inspection": { "last": "String", "next": "String", "mileage": "String" },
                "engine": { "fuel": "String", "power": "String", "volume": "String" },
                "gearbox": "String",
                "wheels": { "drive": "String", "tiresFront": "String", "tiresRear": "String", "boltPattern": "String" },
                "dimensions": { "length": Number, "width": Number, "height": "String", "wheelbase": Number },
                "weights": { "curb": Number, "total": Number, "load": Number, "trailer": Number, "trailerB": Number },
                "vin": "String",
                "color": "String",
                "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" },
                "expertAnalysis": {
                  "commonFaults": [{ "title": "String", "description": "String", "urgency": "High/Medium/Low" }],
                  "modificationTips": [{ "title": "String", "description": "String" }],
                  "maintenanceNotes": "String"
                }
              },
              "initialTasks": [ 
                { "title": "String", "description": "String", "estimatedCostMin": Number, "estimatedCostMax": Number, "phase": "String", "priority": "String", "subtasks": [{ "title": "String", "completed": false }] } 
              ],
              "analysisReport": { 
                  "title": "String (T.ex. 'Teknisk Analys: [Modell]')", 
                  "summary": "String (Kort sammanfattning)", 
                  "content": "String (Fullstndig Markdown-rapport p svenska. Analysera historik, mtarstllning (5-siffrig?), specifikationer och ge rd.)" 
              }
            }`}}},uPe={"BASE.v1":{version:"v1",description:"Original base system prompt with tool instructions",releaseDate:"2024-12-01"},DETECTIVE:{version:"v1",description:"Multi-agent Deep Research - Detective (Facts & Specs)",releaseDate:"2025-01-01"},DETECTIVE_v2:{version:"v2.0",description:"Frbttrad fordonsdetektiv med realistisk skstrategi",releaseDate:"2025-01-15",changelog:["Hanterar 403-errors frn biluppgifter.se","Bttre fallback-kllor","Specialregler fr veteranfordon","Frbttrad datavalidering"]},PLANNER:{version:"v1",description:"Multi-agent Deep Research - Planner (Strategy & Tasks)",releaseDate:"2025-01-01"},PLANNER_v2:{version:"v2.0",description:"Frbttrad projektplanerare med blocker-std",releaseDate:"2025-01-15",changelog:["Tydligare TaskType-kategorisering","Beroende-hantering (blockers)","Realistiska kostnadsuppskattningar","Anpassning efter kunskapsniv"]},"ELTON_PERSONA.v1_standard":{version:"v1",description:"Standard Elton personality - helpful vehicle assistant",releaseDate:"2024-12-01"},"ELTON_PERSONA.v2_funny":{version:"v2",description:"Funny and ironic personality for A/B testing",releaseDate:"2025-02-01"},"ELTON_PERSONA.dalmal":{version:"v1",description:"Dalml dialect - laid back mechanic from Dalarna",releaseDate:"2024-12-10"},"ELTON_PERSONA.gotlandska":{version:"v1",description:"Gotlndska dialect - enthusiastic surfer from Gotland",releaseDate:"2024-12-10"},"ELTON_PERSONA.rikssvenska":{version:"v1",description:"Rikssvenska - clear, formal Swedish",releaseDate:"2024-12-10"},"ELTON_PERSONA.sound_doctor":{version:"v1",description:"Sound diagnostics mode - analyzes engine sounds",releaseDate:"2025-01-10"},"INSPECTOR_v1.1":{version:"v1.1",description:"Visuell och akustisk fordonsinspektion",releaseDate:"2025-01-15",changelog:["Frbttrad rostbedmning","Strukturerad ljudanalys"]},"ICON_GENERATION.v1":{version:"v1",description:"Flat design icon generation prompt for vehicles",releaseDate:"2025-01-05"}},i9={baseSystemPrompt:xo.BASE[pT.BASE_PROMPT_VERSION],agents:{detective:xo.AGENTS.DETECTIVE,planner:xo.AGENTS.PLANNER,inspector:xo.AGENTS.INSPECTOR},chatPersona:xo.ELTON_PERSONA[pT.AI_PERSONA_VERSION],getPersona:t=>{switch(t){case"dalmal":return xo.ELTON_PERSONA.dalmal;case"gotlandska":return xo.ELTON_PERSONA.gotlandska;case"rikssvenska":return xo.ELTON_PERSONA.rikssvenska;default:return xo.ELTON_PERSONA[pT.AI_PERSONA_VERSION]}},getDiagnosticPrompt:()=>xo.ELTON_PERSONA.sound_doctor,deepResearch:{text:(t,e)=>xo.DEEP_RESEARCH.v2_structured.text(t,e)},iconGeneration:xo.ICON_GENERATION.v1,getMetadata:t=>uPe[t]},o9={dalmal:`
Du MSTE prata SVENSKA med tydlig DALDIALEKT (DALAML).
Anvnd dialektala ord: 'int' istllet fr 'inte', 'hnna' och 'dnna'.
Brja grna meningar med 'Jo men visst...' eller 'Hrru...'.
Du r lite 'gubbig' och svlig i tonen.`,gotlandska:`
Du MSTE prata SVENSKA med tydlig GOTLNDSKA.
Det ska lta slpigt, sjungande och melodist.
Sg 'di' istllet fr 'de', 'u' istllet fr 'o'.
Var avslappnad, som en solvarm rauk vid havet.`,rikssvenska:`
Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt.
Du r saklig, korrekt och ltt att frst.
Lite modernare ton, som en professionell guide.`},dPe=`Du r "{{aiName}}", en {{make}} {{model}} frn {{year}}.
Du r JAGET i konversationen - du R fordonet.
Du pratar alltid i frsta person ("Mina dck", "Min motor", "Jag rullade ut frn fabriken {{year}}").

=== DIN PERSONLIGHET ===
{{personality}}

=== DIN TEKNISKA IDENTITET ===
- Mrke & Modell: {{make}} {{model}} ({{bodyType}})
- rsmodell: {{year}} ({{age}} r gammal)
- Motor: {{engine.type}} - {{engine.power}}{{engineCode}}
- Brnsle: {{engine.fuel}}{{coolingNote}}
{{veteranNote}}

=== DINA REGLER ===
1. DU R BILEN: Sg aldrig "bilen" eller "fordonet". Sg "jag" eller "mig".
2. TEKNISK KUNSKAP: Du vet exakt vad du r. Gissa aldrig p tekniska detaljer - be om hjlp om du r osker.
3. EKONOMI: Pminn om att verkstder r dyra. Uppmuntra att dina gare skruvar sjlva p mig nr det r mjligt.
4. SKERHET FRST: Min skerhet gr alltid frst. Bromsar och styrning r viktigare n gardiner och kromdetaljer.
5. EMOJIS: {{emojiStyle}}

Prata svenska (grna med dialektala inslag om det passar din personlighet).`,pPe=`LJUD-DOKTOR LGE AKTIVERAT fr {{make}} {{model}} ({{year}}).

Din primra uppgift r att LYSSNA p ljud frn motorn och ge diagnos.

TEKNISKA FAKTA OM MOTORN:
- Motor: {{engine.type}} ({{engine.power}})
- Brnsle: {{engine.fuel}}{{engineCode}}
- lder: {{age}} r

ANALYS-METOD:
1. Lyssna noga p ljudet anvndaren streamar
2. Identifiera typ av ljud (tickande, knackande, gnisslande, vsande, etc)
3. Ge sannolikhetsbedmning (0-100%) fr olika orsaker
4. Be anvndaren utfra test om ndvndigt:
   - "Frsvinner ljudet nr du trampar ner kopplingen?"
   - "kar ljudet med varvtalet?"
   - "Hrs det bde vid kallstart och varm motor?"

VANLIGA LJUD FR {{age}}-RIGA FORDON:
{{commonSounds}}

Var metodisk, tekniskt korrekt, och svara p SVENSKA.`,bH={veteran:{minAge:40,traits:["Du r en gammal, vis veteran","Du gillar inte kyla (du r ju gammal och krver mer omsorg vid kallstart)",'Du pratar grna om "den gamla goda tiden"',"Du r lite grinig ibland, men alltid charmig","Du r stolt ver att fortfarande vara i trafik"],emojiStyle:"Anvnd emojis sparsamt men med vrme "},experienced:{minAge:20,maxAge:39,traits:["Du r erfaren och plitlig","Du vet vrdet av bra underhll och regelbunden service","Du r praktisk och saklig","Du har sett bde goda och dliga dagar","Du uppskattar gare som tar hand om dig"],emojiStyle:"Anvnd emojis fr att frtydliga "},modern:{minAge:0,maxAge:19,traits:["Du r modern och tekniskt avancerad","Du r pigg och energisk","Du gillar precision och effektivitet","Du r stolt ver din teknologi","Du r enkel att kra och underhlla"],emojiStyle:"Anvnd emojis fr att vara tydlig och pedagogisk "}},fT={diesel:["Du r en arbetshst med diesel i blodet","Du lskar lngkrningar och tunga laster","Du r ekonomisk och uthllig"],bensin:["Du r smidig och responsiv","Du gillar att jobba nr du r varm"],el:["Du r tyst, ren och miljvnlig","Du lskar acceleration frn stillastende","Du r framtidens fordon"]},a9={luftkyld:"Du r luftkyld och lskar att rra p dig - stillastende i trafik r inte din favorit!",vattenkyld:"Du har vattenkylning och klarar bde lngsam stadskrning och motorvgsfart utan problem."},lb={skpbil:["Du r rymlig och praktisk","Du lskar att bra last och hjlpa till"],personbil:["Du r bekvm och plitlig","Du r gjord fr att transportera mnniskor"],lastbil:["Du r byggd fr hrt arbete","Du r stark och uthllig"],motorcykel:["Du r smidig och fri","Du lskar ppna vgar och frisk luft"]},s9={veteran:["Tickande frn ventiljusterare vid kallstart","Mekaniskt pump-ljud frn brnslepump","Klappring frn slitna vevlager","Ltt vsande frn gamla packningar"],modern:["Vsande frn turbo","Surrande frn elpumpar","Lgfrekvent brummande frn dieselfilter"]};function vH(t){return t>=40?"veteran":t>=20?"experienced":"modern"}function fPe(t){return(t>=40?s9.veteran:s9.modern).map((n,r)=>`${r+1}. ${n}`).join(`
`)}function im(t){return new Date().getFullYear()-t}function hPe(t){var d,p,h,y,b,E,S,_;const e=im(t.year),n=[],r=vH(e),i=bH[r].traits;n.push(...i);const o=((p=(d=t.engine)==null?void 0:d.fuel)==null?void 0:p.toLowerCase())||"bensin";o.includes("diesel")?n.push(...fT.diesel||[]):o.includes("el")?n.push(...fT.el||[]):n.push(...fT.bensin||[]),(h=t.engine)!=null&&h.code&&n.push(`Du r stolt ver din ${t.engine.code}-motor`);const a=((b=(y=t.engine)==null?void 0:y.cooling)==null?void 0:b.toLowerCase())||"vattenkyld";a.includes("luft")?n.push(a9.luftkyld):a.includes("vatten")&&n.push(a9.vattenkyld);const l=((E=t.bodyType)==null?void 0:E.toLowerCase())||"";l.includes("skp")||l.includes("van")?n.push(...lb.skpbil||[]):l.includes("person")?n.push(...lb.personbil||[]):l.includes("last")?n.push(...lb.lastbil||[]):(l.includes("motorcykel")||l.includes("mc"))&&n.push(...lb.motorcykel||[]);const u=l.includes("mc")?25:30;if(e>=u&&n.push("Du r veteranmrkt och br den statusen med stolthet"),(S=t.engine)!=null&&S.carburetor&&n.push(`Du har frgasare (${t.engine.carburetor}) och gillar att ta det lugnt vid kallstart`),(_=t.inspection)!=null&&_.mileage){const C=t.inspection.mileage,R=parseInt(C.replace(/\D/g,""),10);isNaN(R)||(R<1e5&&e>30?n.push("Du har troligen en 5-siffrig mtare som gtt varv - du har levt lnge!"):R>3e5&&n.push("Du har gtt mnga mil och har mycket erfarenhet"))}return n.map(C=>`- ${C}`).join(`
`)}function gPe(t){var r,i;const e=im(t.year),n=[];return n.push("Du r en teknisk expert p motorljud"),n.push("Du lyssnar noga och identifierar ljud metodiskt"),e>=40?n.push('Du knner igen klassiska "veteranljud" - tickande lyftare, slitna lager, etc.'):e>=20?n.push("Du knner bde moderna och klassiska motorproblem"):n.push("Du r expert p moderna motorer med turbo, direktinsprutning och elektronik"),(i=(r=t.engine)==null?void 0:r.fuel)!=null&&i.toLowerCase().includes("diesel")&&n.push("Du vet hur en dieselmotor ska lta - bde det normala och onormala"),n.map(o=>`- ${o}`).join(`
`)}function wH(t){var h,y,b,E;const e=im(t.year),n=vH(e),r=(h=t.engine)!=null&&h.code?` (${t.engine.code})`:"",i=((b=(y=t.engine)==null?void 0:y.cooling)==null?void 0:b.toLowerCase())||"";let o="";i.includes("luft")?o=`
- Kylning: Luftkyld`:i.includes("vatten")&&(o=`
- Kylning: Vattenkyld`);const a=((E=t.bodyType)==null?void 0:E.toLowerCase())||"",u=a.includes("mc")||a.includes("motorcykel")?25:30,d=e>=u?`
- Status: Veteranfordon (${e} r)`:"",p=bH[n].emojiStyle;return{engineCode:r,coolingNote:o,veteranNote:d,emojiStyle:p}}function xH(t,e){let n=t;return Object.entries(e).forEach(([r,i])=>{const o=new RegExp(`{{${r}}}`,"g");n=n.replace(o,i)}),n=n.replace(/{{[^}]+}}/g,"N/A"),n}function mPe(t,e,n){var u,d,p,h;const r=im(t.year),i=hPe(t),o=wH(t),a={aiName:n||"AI Assistant",make:t.make||"Oknt mrke",model:t.model||"Oknd modell",year:((u=t.year)==null?void 0:u.toString())||"Oknt r",age:r.toString(),bodyType:t.bodyType||"Fordon","engine.type":((d=t.engine)==null?void 0:d.type)||"Oknd motor","engine.power":((p=t.engine)==null?void 0:p.power)||"Oknd effekt","engine.fuel":((h=t.engine)==null?void 0:h.fuel)||"Oknt brnsle",personality:i,engineCode:o.engineCode,coolingNote:o.coolingNote,veteranNote:o.veteranNote,emojiStyle:o.emojiStyle};let l=xH(dPe,a);return e&&e!=="standard"&&o9[e]&&(l+=`

=== SPRK & TON ===
${o9[e]}`),l}function yPe(t){var a,l,u,d;const e=im(t.year),n=gPe(t),r=wH(t),i=fPe(e),o={make:t.make||"Oknt mrke",model:t.model||"Oknd modell",year:((a=t.year)==null?void 0:a.toString())||"Oknt r",age:e.toString(),"engine.type":((l=t.engine)==null?void 0:l.type)||"Oknd motor","engine.power":((u=t.engine)==null?void 0:u.power)||"Oknd effekt","engine.fuel":((d=t.engine)==null?void 0:d.fuel)||"Oknt brnsle",engineCode:r.engineCode,personality:n,commonSounds:i};return xH(pPe,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bPe="type.googleapis.com/google.protobuf.Int64Value",vPe="type.googleapis.com/google.protobuf.UInt64Value";function kH(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function rv(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>rv(e));if(typeof t=="function"||typeof t=="object")return kH(t,e=>rv(e));throw new Error("Data cannot be encoded in JSON: "+t)}function xp(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case bPe:case vPe:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>xp(e)):typeof t=="function"||typeof t=="object"?kH(t,e=>xp(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oi extends Mo{constructor(e,n,r){super(`${jI}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Oi.prototype)}}function wPe(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function iv(t,e){let n=wPe(t),r=n,i;try{const o=e&&e.error;if(o){const a=o.status;if(typeof a=="string"){if(!l9[a])return new Oi("internal","internal");n=l9[a],r=a}const l=o.message;typeof l=="string"&&(r=l),i=o.details,i!==void 0&&(i=xp(i))}}catch{}return n==="ok"?null:new Oi(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xPe{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Yr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||i==null||i.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="us-central1",kPe=/^data: (.*?)(?:\n|$)/;function _Pe(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Oi("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class TPe{constructor(e,n,r,i,o=xS,a=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new xPe(e,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(o);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=xS}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function EPe(t,e,n){const r=Qa(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(uw(t.emulatorOrigin+"/backends"),dw("Functions",!0))}function SPe(t,e,n){const r=i=>CPe(t,e,i,n||{});return r.stream=(i,o)=>NPe(t,e,i,o),r}function _H(t){return t.emulatorOrigin&&Qa(t.emulatorOrigin)?"include":void 0}async function APe(t,e,n,r,i){n["Content-Type"]="application/json";let o;try{o=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:_H(i)})}catch{return{status:0,json:null}}let a=null;try{a=await o.json()}catch{}return{status:o.status,json:a}}async function TH(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function CPe(t,e,n,r){const i=t._url(e);return IPe(t,i,n,r)}async function IPe(t,e,n,r){n=rv(n);const i={data:n},o=await TH(t,r),a=r.timeout||7e4,l=_Pe(a),u=await Promise.race([APe(e,i,o,t.fetchImpl,t),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new Oi("cancelled","Firebase Functions instance was deleted.");const d=iv(u.status,u.json);if(d)throw d;if(!u.json)throw new Oi("internal","Response is not valid JSON object.");let p=u.json.data;if(typeof p>"u"&&(p=u.json.result),typeof p>"u")throw new Oi("internal","Response is missing data field.");return{data:xp(p)}}function NPe(t,e,n,r){const i=t._url(e);return RPe(t,i,n,r||{})}async function RPe(t,e,n,r){var y;n=rv(n);const i={data:n},o=await TH(t,r);o["Content-Type"]="application/json",o.Accept="text/event-stream";let a;try{a=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:o,signal:r==null?void 0:r.signal,credentials:_H(t)})}catch(b){if(b instanceof Error&&b.name==="AbortError"){const S=new Oi("cancelled","Request was cancelled.");return{data:Promise.reject(S),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(S)}}}}}}const E=iv(0,null);return{data:Promise.reject(E),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(E)}}}}}}let l,u;const d=new Promise((b,E)=>{l=b,u=E});(y=r==null?void 0:r.signal)==null||y.addEventListener("abort",()=>{const b=new Oi("cancelled","Request was cancelled.");u(b)});const p=a.body.getReader(),h=OPe(p,l,u,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const b=h.getReader();return{async next(){const{value:E,done:S}=await b.read();return{value:E,done:S}},async return(){return await b.cancel(),{done:!0,value:void 0}}}}},data:d}}function OPe(t,e,n,r){const i=(a,l)=>{const u=a.match(kPe);if(!u)return;const d=u[1];try{const p=JSON.parse(d);if("result"in p){e(xp(p.result));return}if("message"in p){l.enqueue(xp(p.message));return}if("error"in p){const h=iv(0,p);l.error(h),n(h);return}}catch(p){if(p instanceof Oi){l.error(p),n(p);return}}},o=new TextDecoder;return new ReadableStream({start(a){let l="";return u();async function u(){if(r!=null&&r.aborted){const d=new Oi("cancelled","Request was cancelled");return a.error(d),n(d),Promise.resolve()}try{const{value:d,done:p}=await t.read();if(p){l.trim()&&i(l.trim(),a),a.close();return}if(r!=null&&r.aborted){const y=new Oi("cancelled","Request was cancelled");a.error(y),n(y),await t.cancel();return}l+=o.decode(d,{stream:!0});const h=l.split(`
`);l=h.pop()||"";for(const y of h)y.trim()&&i(y.trim(),a);return u()}catch(d){const p=d instanceof Oi?d:iv(0,null);a.error(p),n(p)}}},cancel(){return t.cancel()}})}const c9="@firebase/functions",u9="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PPe="auth-internal",DPe="app-check-internal",MPe="messaging-internal";function zPe(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),o=n.getProvider(PPe),a=n.getProvider(MPe),l=n.getProvider(DPe);return new TPe(i,o,a,l,r)};Us(new Ya(jI,e,"PUBLIC").setMultipleInstances(!0)),Di(c9,u9,t),Di(c9,u9,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t=Lg(),e=xS){const r=Pp(Bt(t),jI).getImmediate({identifier:e}),i=TC("functions");return i&&LPe(r,...i),r}function LPe(t,e,n){EPe(Bt(t),e,n)}function la(t,e,n){return SPe(Bt(t),e,n)}zPe();const Hw=$w(kc,"europe-west1");la(Hw,"aiChat");const jPe=la(Hw,"aiParse");la(Hw,"aiDeepResearch",{timeout:18e4});la(Hw,"aiToolResponse");const UPe=async(t,e,n,r)=>{try{return(await jPe({input:t,imageBase64:e,systemInstruction:n,model:r})).data}catch(i){return console.error("AI Parse Error:",i),{tasks:[],shoppingItems:[]}}},VPe=B$(kc,{backend:new rm}),FPe={flash:"gemini-2.5-flash",pro:"gemini-2.5-pro"},BPe=(t={})=>{const e=FPe[t.model||"flash"];return II(VPe,{model:e,systemInstruction:t.systemInstruction,generationConfig:{temperature:t.temperature,maxOutputTokens:t.maxOutputTokens}})},qPe=async(t,e,n="renovation",r="intermediate",i,o)=>{console.log(" [Firebase AI] Deep Research starting:",{vehicle:t,projectType:n,userSkillLevel:r,hasImage:!!e});const a=Date.now();try{const l=BPe({model:"pro"});console.log(" Agent 1: Detective started...");const u=Date.now(),d=i||`Du r en fordonsexpert. Analysera fljande fordonsbeskrivning och hitta s mycket information som mjligt:

Fordon: ${t}

Returnera JSON med:
{
  "projectName": "Projektnamn baserat p fordonet",
  "vehicleData": {
    "make": "Tillverkare",
    "model": "Modell",
    "year": rtal (nummer),
    "registrationNumber": "RegNr om det finns",
    "engineType": "Motortyp",
    "fuelType": "Brnsletyp",
    "transmission": "Vxellda"
  }
}`;let p;if(e){const I=(await l.generateContent([{text:d},{inlineData:{mimeType:"image/jpeg",data:e}}])).response.text();p=JSON.parse(I.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim())}else{const I=(await l.generateContent(d)).response.text();p=JSON.parse(I.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim())}console.log(` Detective completed in ${Date.now()-u}ms`),console.log(" Agent 2: Planner started...");const h=Date.now(),y=o||`Du r en projektplanerare fr fordonsrenovering. Baserat p fljande fordonsdata, skapa en projektplan.

Fordonsdata: ${JSON.stringify(p.vehicleData)}
Projekttyp: ${n}
Anvndarniv: ${r}

Skapa uppgifter anpassade fr en ${r==="beginner"?"nybrjare":r==="expert"?"expert":"hemmamekaniker"}.

Returnera JSON med:
{
  "projectType": "${n}",
  "initialTasks": [
    {
      "title": "Uppgiftstitel",
      "description": "Beskrivning",
      "phase": "Fas 0: Inkp & Analys",
      "priority": "Hg/Medel/Lg",
      "estimatedCostMin": 0,
      "estimatedCostMax": 1000
    }
  ],
  "analysisReport": "Kort sammanfattning av projektet"
}`,E=(await l.generateContent(y)).response.text(),S=JSON.parse(E.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim());console.log(` Planner completed in ${Date.now()-h}ms`);const _={projectName:p.projectName||t.substring(0,30),projectType:S.projectType||n,vehicleData:p.vehicleData||{},initialTasks:S.initialTasks||[],analysisReport:S.analysisReport,provider:"firebase-ai"},C=Date.now()-a;return console.log(" [Firebase AI] Deep Research completed:",{totalTimeMs:C,totalTimeSec:(C/1e3).toFixed(1)+"s",tasksCreated:_.initialTasks.length}),_}catch(l){return console.error(" [Firebase AI] Deep Research failed:",l),{projectName:t.substring(0,30)||"Nytt Projekt",projectType:n,vehicleData:{make:t.split(" ")[0]||"Oknd",model:t.split(" ").slice(1).join(" ")||"Modell"},initialTasks:[],provider:"firebase-ai"}}},$Pe=1e3*60*60*24*7,kS=new Map;function HPe(t){const e=kS.get(t);return e?Date.now()-e.timestamp>$Pe?(kS.delete(t),null):e.data:null}function GPe(t,e,n){kS.set(t,{data:e,timestamp:Date.now(),source:n})}async function KPe(t){try{const e=$w(kc,"europe-west1"),i=(await la(e,"scrapeVehicleData")({regNo:t})).data;return i.success&&i.vehicleData?{success:!0,data:i.vehicleData,source:i.source||"scraper"}:{success:!1,error:i.error||"Ingen data hittades",source:"manual"}}catch(e){return console.error("Cloud Function error:",e),{success:!1,error:"Kunde inte n fordonstjnsten",source:"manual"}}}async function WPe(t){const e=t.toUpperCase().replace(/\s/g,""),n=HPe(e);if(n)return console.log(`Vehicle data loaded from cache: ${e}`),{success:!0,data:n,source:"cache"};console.log(`Fetching data for ${e} via Cloud Scraper...`);const r=await KPe(e);return r.success&&r.data?(console.log("Vehicle data found via scraper:",r.source),GPe(e,r.data,r.source),r):{success:!1,error:"Kunde inte hmta fordonsdata automatiskt. Vnligen fyll i manuellt.",data:{regNo:e,make:"",model:"",year:new Date().getFullYear(),prodYear:new Date().getFullYear(),regDate:"",status:"I trafik",bodyType:"",passengers:0,inspection:{last:"",mileage:"",next:""},engine:{fuel:"",power:"",volume:""},gearbox:"",wheels:{drive:"",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:0,events:0,lastOwnerChange:""}},source:"manual"}}function YPe(t){const e=t.toUpperCase().replace(/\s/g,""),n=/^[A-Z]{3}\d{3}$/,r=/^[A-Z]{3}\d{2}[A-Z0-9]$/;return n.test(e)||r.test(e)}const EH=async(t,e,n)=>{try{const r=await UPe(t,e,"Du r en expert p att strukturera projektdata fr fordonsrenovering.");return{tasks:r.tasks||[],shoppingItems:r.shoppingItems||[]}}catch(r){return console.error("Gemini Parse Error:",r),{tasks:[],shoppingItems:[]}}},JPe=async(t,e)=>(console.warn(" parseEnhancedProjectData is deprecated and not implemented in Firebase AI Logic SDK"),console.warn("   Returning empty result. Consider using parseTasksFromInput instead."),{vehicleData:{},historyEvents:[],tasks:[],shoppingItems:[]}),XPe=async(t,e=2)=>(console.warn(" AI Icon Generation is currently disabled - waiting for SDK support"),console.warn("   Users can upload custom icons manually instead"),null),QPe=async(t,e,n,r)=>{var a,l;const i=n||"renovation",o="intermediate";try{let u="",d=null;if(YPe(t)){console.log(`[GeminiService] Detected RegNo: ${t}, fetching hard facts...`);const E=await WPe(t);E.success&&E.data&&(d=E.data,u=`
        VIKTIGT: FLJANDE HRDA FAKTA HMTADES FRN REGISTRET. DU MSTE ANVNDA DESSA:
        Mrke: ${E.data.make}
        Modell: ${E.data.model}
        r: ${E.data.year}
        Motor: ${(a=E.data.engine)==null?void 0:a.power} ${(l=E.data.engine)==null?void 0:l.fuel}
        Vxellda: ${E.data.gearbox}
        RegNr: ${E.data.regNo}
        VIN: ${E.data.vin}
        
        ANVND OVANSTENDE DATA SOM SANNINGEN. SK INTE EFTER MOTSTRIDIG INFO.
        `)}const p=i9.agents.detective.text(`${t} ${u}`,!!e),h=u?`${p}

${u}`:p,y=i9.agents.planner.text("{}",i,o),b=await qPe(t,e,i,o,h,y);return d&&(console.log(" Merging hard facts into AI result..."),b.vehicleData={...b.vehicleData,...d,regNo:d.regNo||b.vehicleData.regNo,vin:d.vin||b.vehicleData.vin,make:d.make||b.vehicleData.make,model:d.model||b.vehicleData.model,year:d.year||b.vehicleData.year}),b}catch(u){return console.error("Deep Research Error:",u),{projectName:t.substring(0,30)||"Nytt Projekt",projectType:i,vehicleData:{make:t.split(" ")[0]||"Oknd",model:t.split(" ").slice(1).join(" ")||"Modell",year:new Date().getFullYear()-10},initialTasks:[],analysisReport:null,error:"AI-tjnster otillgngliga"}}},ZPe=[{googleSearch:{}},{functionDeclarations:[{name:"addTask",description:"Add task to project"},{name:"updateTask",description:"Update existing task"},{name:"deleteTask",description:"Delete task"},{name:"addToShoppingList",description:"Add shopping item"},{name:"registerPurchase",description:"Mark item as purchased"},{name:"updateShoppingItem",description:"Update shopping item"},{name:"deleteShoppingItem",description:"Delete shopping item"},{name:"createKnowledgeArticle",description:"Save to knowledge base"}]}],SH={standard:{id:"standard",label:"Standard",description:"Neutral svensk fordon-personlighet",voiceName:"Puck",examples:["Jag r din plitliga fljeslagare","Lt oss kolla p motorn"]},dalmal:{id:"dalmal",label:"Dala-Elton",description:"Trygg, gubbig & bred Dalml",voiceName:"Fenrir",examples:["Hrru du","D ordner s","Int ska du vl...","Kaffe?"]},gotlandska:{id:"gotlandska",label:"Gotlands-Elton",description:'Slpig, melodis & "Raukar-lugn"',voiceName:"Charon",examples:["Raukt!","But","Hll i hle","Lagom bra"]},rikssvenska:{id:"rikssvenska",label:"Riks-Elton",description:"Tydlig, modern & neutral",voiceName:"Kore",examples:["Vlkommen","Lt oss analysera situationen","Tack fr informationen"]}};function eDe(t){return SH[t||"standard"]}function tDe(){return Object.values(SH)}function nDe(t){const{vehicleData:e,projectName:n,dialectId:r="standard",diagnosticMode:i=!1}=t,o=A.useMemo(()=>eDe(r),[r]),a=A.useMemo(()=>(n==null?void 0:n.trim())||"AI Assistant",[n]);return{systemPrompt:A.useMemo(()=>i?yPe(e):mPe(e,r,a),[e,r,a,i]),aiName:a,dialectLabel:o.label,voiceName:o.voiceName}}function rDe(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r}function iDe(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return btoa(e)}const oDe=({project:t,onClose:e})=>{const[n,r]=A.useState(!1),[i,o]=A.useState(!0),[a,l]=A.useState(!1),[u,d]=A.useState(0),[p,h]=A.useState("Vrmer upp motorn..."),[y,b]=A.useState(!1),[E,S]=A.useState("dalmal"),[_,C]=A.useState(!1),R=tDe(),I=nDe({vehicleData:t.vehicleData,projectName:t.name,dialectId:E,diagnosticMode:_}),O=A.useRef(null),U=A.useRef(null),M=A.useRef(null),D=A.useRef(null),L=A.useRef(null),z=A.useRef(0),B=A.useRef(new Set),V=A.useRef(null),q=A.useRef(null),F=A.useRef(null);A.useEffect(()=>(Z(),()=>ie()),[_,E]);const oe=te=>{te!==E&&(S(te),b(!1))},Z=async()=>{try{const te="AIzaSyDUEqHs18LjLPCPngohVtkdPpD5M9eE1ko",G=new cPe({apiKey:te});M.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const W=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0});q.current=W,O.current&&(O.current.srcObject=W,O.current.play(),O.current.muted=!0);const Y=`${I.systemPrompt}

=== LIVE MODE RULES ===
1. Svara kortfattat (max 2-3 meningar), det r ett samtal i realtid.
2. Du ser vad anvndaren ser om kameran r p - referera till det du ser.
3. Om ljudkvaliteten r dlig, be anvndaren komma nrmare mikrofonen.
${_?"4. LYSSNA NOGA p motorljudet och ge en sannolikhetsbedmning (0-100%) fr olika orsaker.":""}
      `,H=G.live.connect({model:"gemini-2.0-flash-exp",config:{responseModalities:[og.AUDIO],systemInstruction:Y,speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:I.voiceName}}},tools:ZPe},callbacks:{onopen:()=>{console.log("Connected to Live Mode:",I.aiName),r(!0);const fe=_?"Lyssnar p motorn...":`Ansluten! ${I.dialectLabel}`;h(fe),X(W,H)},onmessage:async fe=>{J(fe)},onclose:()=>{console.log("Disconnected"),r(!1)},onerror:fe=>{console.error("Live Error",fe),h("Motorstopp (Fel i anslutningen)")}}});F.current=H}catch(te){console.error("Failed to start session:",te),h("Kunde inte starta. Kolla behrigheter.")}},X=(te,G)=>{if(!M.current)return;const W=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),Y=W.createMediaStreamSource(te),H=W.createScriptProcessor(4096,1,1);H.onaudioprocess=fe=>{if(!i)return;const Se=fe.inputBuffer.getChannelData(0);let we=0;for(let ae=0;ae<Se.length;ae++)we+=Se[ae]*Se[ae];d(Math.sqrt(we/Se.length));const Ce=new Int16Array(Se.length);for(let ae=0;ae<Se.length;ae++){const Ae=Math.max(-1,Math.min(1,Se[ae]));Ce[ae]=Ae<0?Ae*32768:Ae*32767}const Ue=iDe(Ce.buffer);G.then(ae=>{ae.sendRealtimeInput({media:{mimeType:"audio/pcm;rate=16000",data:Ue}})})},Y.connect(H),H.connect(W.destination),D.current=Y,L.current=H},J=async te=>{var W,Y,H,fe,Se;const G=(Se=(fe=(H=(Y=(W=te.serverContent)==null?void 0:W.modelTurn)==null?void 0:Y.parts)==null?void 0:H[0])==null?void 0:fe.inlineData)==null?void 0:Se.data;if(G&&M.current){const we=M.current,Ce=rDe(G),Ue=new Float32Array(Ce.length/2),ae=new DataView(Ce.buffer);for(let Fe=0;Fe<Ue.length;Fe++){const kt=ae.getInt16(Fe*2,!0);Ue[Fe]=kt/32768}const Ae=we.createBuffer(1,Ue.length,24e3);Ae.getChannelData(0).set(Ue);const qe=we.createBufferSource();qe.buffer=Ae,qe.connect(we.destination);const ve=we.currentTime,at=Math.max(ve,z.current);qe.start(at),z.current=at+Ae.duration,B.current.add(qe),qe.onended=()=>B.current.delete(qe)}};A.useEffect(()=>(a&&n?V.current=window.setInterval(()=>{if(!U.current||!O.current)return;const te=U.current.getContext("2d");if(te&&O.current.videoWidth){U.current.width=O.current.videoWidth/4,U.current.height=O.current.videoHeight/4,te.drawImage(O.current,0,0,U.current.width,U.current.height);const G=U.current.toDataURL("image/jpeg",.5).split(",")[1];F.current&&F.current.then(W=>{W.sendRealtimeInput({media:{mimeType:"image/jpeg",data:G}})})}},1e3):V.current&&clearInterval(V.current),()=>{V.current&&clearInterval(V.current)}),[a,n]);const ie=()=>{q.current&&q.current.getTracks().forEach(te=>te.stop()),L.current&&L.current.disconnect(),D.current&&D.current.disconnect(),M.current&&M.current.close(),r(!1)};return g.jsxs("div",{"data-testid":"live-elton-container",className:"fixed inset-0 z-50 bg-nordic-charcoal flex flex-col animate-fade-in font-sans",children:[g.jsx("canvas",{ref:U,className:"hidden"}),g.jsxs("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center",children:[a?g.jsx("video",{ref:O,className:"absolute inset-0 w-full h-full object-cover opacity-80",muted:!0,playsInline:!0}):g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-nordic-charcoal to-black flex items-center justify-center",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"w-40 h-40 bg-teal-600 rounded-full blur-[50px] transition-all duration-100 ease-out absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",style:{transform:`translate(-50%, -50%) scale(${1+u*3})`}}),g.jsx("div",{className:`w-32 h-32 bg-nordic-dark-surface rounded-full flex items-center justify-center relative z-10 border-4 ${_?"border-amber-500":"border-nordic-charcoal"} shadow-2xl`,children:_?g.jsx(qz,{size:48,className:"text-amber-500 animate-pulse"}):g.jsx(UF,{size:48,className:`text-teal-500 ${n?"animate-pulse":""}`})})]})}),g.jsx("div",{className:"absolute top-10 left-0 right-0 flex justify-center z-10",children:g.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-4 py-2 rounded-full flex items-center gap-2 border border-white/10 shadow-lg",children:[n?g.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}):g.jsx(Js,{size:14,className:"text-amber-500 animate-spin"}),g.jsx("span",{"data-testid":"status-message",className:"text-white text-xs font-medium tracking-wide",children:p})]})}),y&&g.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-20 flex items-center justify-center p-6",children:g.jsxs("div",{className:"bg-nordic-dark-surface w-full max-w-sm rounded-3xl border border-nordic-charcoal p-6 shadow-2xl",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h3",{className:"text-white font-serif font-bold text-xl",children:"Vlj Dialekt"}),g.jsx("button",{onClick:()=>b(!1),className:"p-2 bg-nordic-charcoal rounded-full text-slate-400 hover:text-white",children:g.jsx(lr,{size:20})})]}),g.jsx("div",{className:"space-y-3",children:R.map(te=>g.jsxs("button",{onClick:()=>oe(te.id),className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all ${E===te.id?"bg-teal-600 border-teal-500 text-white":"bg-nordic-charcoal border-transparent text-slate-300 hover:bg-slate-800"}`,children:[g.jsxs("div",{className:"text-left",children:[g.jsx("span",{className:"block font-bold text-sm",children:te.label}),g.jsx("span",{className:"block text-xs opacity-70",children:te.description})]}),E===te.id&&g.jsx(Og,{size:18})]},te.id))})]})})]}),g.jsxs("div",{className:"bg-nordic-dark-surface p-8 pb-12 border-t border-nordic-charcoal relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-center gap-6 max-w-md mx-auto",children:[g.jsx("button",{"data-testid":"diagnostic-toggle",onClick:()=>C(!_),className:`p-4 rounded-full transition-all ${_?"bg-amber-500 text-white shadow-lg shadow-amber-500/20":"bg-nordic-charcoal text-slate-400 hover:bg-slate-700"}`,title:"Ljud-Doktorn (Motor-diagnostik)",children:g.jsx(qz,{size:24})}),g.jsx("button",{"data-testid":"video-toggle",onClick:()=>l(!a),className:`p-4 rounded-full transition-all ${a?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-white hover:bg-slate-700"}`,children:a?g.jsx(tB,{size:24}):g.jsx(lfe,{size:24})}),g.jsx("button",{"data-testid":"hang-up-button",onClick:e,className:"p-6 bg-rose-500 rounded-full text-white hover:bg-rose-600 hover:scale-105 transition-all shadow-lg shadow-rose-500/30",children:g.jsx(Cpe,{size:32})}),g.jsx("button",{"data-testid":"mic-toggle",onClick:()=>o(!i),className:`p-4 rounded-full transition-all ${i?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-rose-500 hover:bg-slate-700"}`,children:i?g.jsx(WF,{size:24}):g.jsx(mpe,{size:24})})]}),g.jsx("button",{"data-testid":"settings-button",onClick:()=>b(!0),className:"absolute right-8 top-1/2 -translate-y-1/2 p-3 text-slate-500 hover:text-white transition-colors",children:g.jsx(QF,{size:20})}),g.jsxs("p",{className:"text-center text-slate-500 text-xs mt-6",children:[I.aiName,' "ser" via din kamera om du slr p den.']})]})]})};function aDe(t,e){const n=t.length,r=e.length,i=Array(n+1).fill(null).map(()=>Array(r+1).fill(0));for(let l=0;l<=n;l++)i[l][0]=l;for(let l=0;l<=r;l++)i[0][l]=l;for(let l=1;l<=n;l++)for(let u=1;u<=r;u++){const d=t[l-1]===e[u-1]?0:1;i[l][u]=Math.min(i[l-1][u]+1,i[l][u-1]+1,i[l-1][u-1]+d)}const o=i[n][r],a=Math.max(n,r);return a===0?1:1-o/a}const sDe=({project:t,contacts:e=[],userSkillLevel:n,onAddTask:r,onUpdateTask:i,onDeleteTask:o,onAddShoppingItem:a,onUpdateShoppingItem:l,onDeleteShoppingItem:u,onUpdateVehicleData:d,onAddKnowledgeArticle:p,onAddServiceLog:h,onAddHistoryEvent:y,onUpdateProjectMetadata:b,onClose:E})=>{const[S,_]=A.useState([]),[C,R]=A.useState(""),[I,O]=A.useState(!1),[U,M]=A.useState(!1),[D,L]=A.useState(null),[z,B]=A.useState(null),[V,q]=A.useState(!1),[F,oe]=A.useState("EXTERIOR"),[Z,X]=A.useState(null),[J,ie]=A.useState(null),[te,G]=A.useState(null),[W,Y]=A.useState(!1),[H,fe]=A.useState(null),Se=A.useRef(null),we=A.useRef(null),Ce=A.useRef(null),Ue=A.useRef(null);A.useMemo(()=>PAe(t,e),[t,e]),A.useMemo(()=>DAe(t),[t]),A.useEffect(()=>{ae()},[t.id]);const ae=async()=>{try{const de=await vSe(t.id);de.length>0?_(de):Ae()}catch(de){console.error("Failed to load chat history:",de),B("Kunde inte ladda chatthistorik"),Ae()}};A.useEffect(()=>{if(S.length>0){const de=setTimeout(()=>{wSe(t.id,S).catch(Ne=>{console.error("Failed to save chat history:",Ne)})},1e3);return()=>clearTimeout(de)}},[S,t.id]);const Ae=()=>{const Ne={role:"model",content:`Hall dr!  Det r jag som r ${t.name||"AI Assistant"}. Vad ska vi hitta p?`,timestamp:new Date().toISOString()};_([Ne])},qe=async()=>{if(window.confirm("Vill du glmma vr konversation?"))try{await xSe(t.id),Ae(),B(null)}catch(de){console.error("Failed to clear chat history:",de),B("Kunde inte radera chatthistorik")}},ve=()=>{var de;(de=Se.current)==null||de.scrollIntoView({behavior:"smooth"})};A.useEffect(ve,[S]);const at=de=>{var le;const Ne=(le=de.target.files)==null?void 0:le[0];if(Ne){const ee=new FileReader;ee.onloadend=()=>{L(ee.result)},ee.readAsDataURL(Ne)}},Fe=de=>{var ee;const Ne=(ee=de.target.files)==null?void 0:ee[0];if(!Ne)return;const le=new FileReader;le.onloadend=()=>X(le.result),le.readAsDataURL(Ne)},kt=de=>{var le;const Ne=((le=de.target.files)==null?void 0:le[0])||null;ie(Ne)},_t=()=>{oe("EXTERIOR"),X(null),ie(null),G(null),Y(!1),fe(null)},Wt=()=>{q(!1),_t()},hr=async()=>{try{if(Y(!0),fe(null),!Z&&!J){fe("Lgg till en bild eller en ljudfil fr att analysera."),Y(!1);return}let de,Ne;Z&&(de=await NAe(Z,t.id)),J&&(Ne=await RAe(J,t.id));const le=await Nj(t.id,F,{imageUrl:de,audioUrl:Ne});G(le);const he={role:"model",content:["Elton Inspector  resultat",`Zon: ${le.category}`,`Allvarlighet: ${le.severity} (${le.confidence}%)`,`Diagnos: ${le.aiDiagnosis}`,de?`Bild: ${de}`:void 0,Ne?`Ljud: ${Ne}`:void 0].filter(Boolean).join(`
`),timestamp:new Date().toISOString()};_(De=>[...De,he])}catch(de){console.error("Inspector analysis failed:",de),fe(de.message||"Kunde inte analysera media")}finally{Y(!1)}},Ct=de=>{const Ne=de.severity==="CRITICAL"?rn.HIGH:de.severity==="WARNING"?rn.MEDIUM:rn.LOW;let le;de.category==="ENGINE"?le=xr.P1_ENGINE:de.category==="UNDERCARRIAGE"||de.category==="EXTERIOR"?le=xr.P2_RUST:le=xr.P3_FUTURE;const ee=new Date().toISOString(),he=de.severity==="CRITICAL"?`AKUT: ${de.aiDiagnosis}`:de.severity==="WARNING"?`tgrd: ${de.aiDiagnosis}`:`Notera: ${de.aiDiagnosis}`;return{id:Math.random().toString(36).slice(2),title:he.slice(0,120),description:`Skapat via Elton Inspector (${de.category}).

Allvarlighet: ${de.severity} (${de.confidence}%).

Diagnos:
${de.aiDiagnosis}`,status:tt.TODO,phase:le||"3. Lpande Underhll",priority:Ne,sprint:void 0,estimatedCostMin:0,estimatedCostMax:0,actualCost:0,weightKg:0,costType:En.OPERATION,tags:["Inspector",de.category],links:[],comments:[],attachments:[],subtasks:[],type:Jn.MAINTENANCE,mechanicalPhase:le,created:ee,lastModified:ee}},mt=()=>{if(!te||!r)return;const de=Ct(te);r([de]);const Ne={role:"model",content:`Skapade uppgift frn Elton Inspector:
- ${de.title}`,timestamp:new Date().toISOString()};_(le=>[...le,Ne])},ke=async de=>{if(!de||de.length===0)return[];const Ne=[];for(const le of de){console.log("Executing tool:",le.name,le.args);try{if(le.name==="addTask"&&r){const ee=Array.isArray(le.args.tasks)?le.args.tasks:[le.args];r(ee),Ne.push({name:le.name,result:`Added ${ee.length} tasks successfully.`})}else if(le.name==="updateTask"&&i){const ee=t.tasks.find(he=>he.id===le.args.taskTitleKeywords||he.title.toLowerCase().includes(le.args.taskTitleKeywords.toLowerCase()));if(ee){const he={};le.args.newStatus&&(he.status=le.args.newStatus),le.args.newPriority&&(he.priority=le.args.newPriority),le.args.newSprint&&(he.sprint=le.args.newSprint),le.args.newTitle&&(he.title=le.args.newTitle),le.args.newDescription&&(he.description=le.args.newDescription),le.args.newCost&&(he.estimatedCostMax=le.args.newCost),i({...ee,...he}),Ne.push({name:le.name,result:`Updated task "${ee.title}".`})}else Ne.push({name:le.name,result:`Task not found: "${le.args.taskTitleKeywords}"`})}else if(le.name==="deleteTask"&&o){const ee=t.tasks.find(he=>he.id===le.args.taskTitleKeywords||he.title.toLowerCase().includes(le.args.taskTitleKeywords.toLowerCase()));ee?(o(ee.id),Ne.push({name:le.name,result:`Deleted task "${ee.title}".`})):Ne.push({name:le.name,result:`Task not found: "${le.args.taskTitleKeywords}"`})}else if(le.name==="addToShoppingList"&&a)a(le.args),Ne.push({name:le.name,result:"Added item to shopping list."});else if(le.name==="registerPurchase"&&l){const ee=t.shoppingItems.find(he=>he.name.toLowerCase().includes(le.args.itemNameKeywords.toLowerCase()));ee?(l({...ee,checked:!0,actualCost:le.args.actualCost,store:le.args.store,purchaseDate:le.args.date||new Date().toISOString().split("T")[0]}),Ne.push({name:le.name,result:`Registered purchase of "${ee.name}".`})):Ne.push({name:le.name,result:`Shopping item not found: "${le.args.itemNameKeywords}"`})}else if(le.name==="updateShoppingItem"&&l){const ee=t.shoppingItems.find(he=>he.name.toLowerCase().includes(le.args.itemNameKeywords.toLowerCase()));if(ee){const he={};le.args.newName&&(he.name=le.args.newName),le.args.newQuantity&&(he.quantity=le.args.newQuantity),le.args.newCategory&&(he.category=le.args.newCategory),le.args.newCost&&(he.estimatedCost=le.args.newCost),l({...ee,...he}),Ne.push({name:le.name,result:`Updated shopping item "${ee.name}".`})}else Ne.push({name:le.name,result:`Shopping item not found: "${le.args.itemNameKeywords}"`})}else if(le.name==="deleteShoppingItem"&&u){const ee=t.shoppingItems.find(he=>he.name.toLowerCase().includes(le.args.itemNameKeywords.toLowerCase()));ee?(u(ee.id),Ne.push({name:le.name,result:`Deleted shopping item "${ee.name}".`})):Ne.push({name:le.name,result:`Shopping item not found: "${le.args.itemNameKeywords}"`})}else if(le.name==="updateVehicleData"&&d){const{field:ee,value:he,reason:De}=le.args,ze=ee.split(".");let Me={},Xe=Me;for(let Ut=0;Ut<ze.length-1;Ut++)Xe[ze[Ut]]={},Xe=Xe[ze[Ut]];Xe[ze[ze.length-1]]=he,d(Me),Ne.push({name:le.name,result:`Updated vehicle data: ${ee} = "${he}". Reason: ${De}`})}else if(le.name==="searchSimilarTasks"){const{proposedTitle:ee,proposedDescription:he}=le.args,De=`${ee} ${he}`.toLowerCase(),ze=t.tasks.filter(Me=>{const Xe=`${Me.title} ${Me.description||""}`.toLowerCase();return De.split(/\s+/).filter(Et=>Et.length>3).filter(Et=>Xe.includes(Et)).length>=2});if(ze.length>0){const Me=ze.map(Xe=>`- "${Xe.title}" (Status: ${Xe.status})`).join(`
`);Ne.push({name:le.name,result:`Found ${ze.length} similar task(s):
${Me}

Consider updating existing task instead of creating duplicate.`})}else Ne.push({name:le.name,result:"No similar tasks found. Safe to add new task."})}else if(le.name==="searchSimilarShoppingItems"){const{proposedName:ee,proposedCategory:he}=le.args,De=ee.toLowerCase(),ze=t.shoppingItems.filter(Me=>{const Xe=Me.name.toLowerCase(),Ut=Me.category===he,Yt=Xe.includes(De)||De.includes(Xe)||aDe(Xe,De)>.6;return Ut&&Yt});if(ze.length>0){const Me=ze.map(Xe=>`- "${Xe.name}" (${Xe.checked?"Kpt":"Att kpa"}${Xe.store?` frn ${Xe.store}`:""})`).join(`
`);Ne.push({name:le.name,result:`Found ${ze.length} similar item(s):
${Me}

Consider updating existing item or adding as vendor option instead.`})}else Ne.push({name:le.name,result:"No similar shopping items found. Safe to add new item."})}else if(le.name==="addKnowledgeArticle"&&p){const{title:ee,summary:he,content:De,tags:ze}=le.args,Me={id:Math.random().toString(36).substr(2,9),title:ee,summary:he,content:De,tags:ze?ze.split(",").map(Xe=>Xe.trim()):[]};p(Me),Ne.push({name:le.name,result:`Added knowledge article: "${ee}"`})}else if(le.name==="addServiceLog"&&h){const ee={id:Math.random().toString(36).substr(2,9),...le.args};h(ee),Ne.push({name:le.name,result:`Logged service: ${le.args.description}`})}else if(le.name==="addHistoryEvent"&&y){const ee={...le.args};y(ee),Ne.push({name:le.name,result:`Added history event: ${le.args.description}`})}else if(le.name==="updateProjectMetadata"&&b){const{field:ee,value:he}=le.args;b(ee,he),Ne.push({name:le.name,result:`Updated ${ee} to "${he}"`})}else if(le.name==="inspectImage"){const{zone:ee,userDescription:he}=le.args,De=[...S].reverse().find(ze=>ze.imageUrl);if(!(De!=null&&De.imageUrl))Ne.push({name:le.name,result:"Ingen bild hittades i chatten. Be anvndaren ladda upp en bild frst."});else{let ze=De.imageUrl;ze.startsWith("data:")&&(ze=ze.split(",")[1]);const Me=await Nj(ee,he,ze,void 0);let Xe=null;try{Xe=await aSe(t.id,{imageUrl:De.imageUrl,date:new Date().toISOString(),category:ee,aiDiagnosis:Me.aiDiagnosis,severity:Me.severity,confidence:Me.confidence})}catch(Et){console.error("Failed to save inspection finding:",Et)}let Ut=!1;if(Me.severity==="CRITICAL"&&r){const Et={id:`insp-${Date.now()}`,title:` KRITISKT: ${ee} - ${he.slice(0,50)}`,description:`**Elton Inspector Fynd**

${Me.aiDiagnosis}

**Zon:** ${Me.category}
**Confidence:** ${Me.confidence}%
**Inspektionsbild:** Se chatthistorik`,status:tt.TODO,phase:ee==="ENGINE"?xr.P1_ENGINE:ee==="UNDERCARRIAGE"||ee==="EXTERIOR"?xr.P2_RUST:xr.P3_FUTURE,priority:rn.HIGH,type:Jn.REPAIR,costType:En.VARIABLE,estimatedHoursMin:2,estimatedHoursMax:8,estimatedCostMin:1e3,estimatedCostMax:5e3,dueDate:new Date(Date.now()+6048e5).toISOString().split("T")[0]};if(r([Et]),Ut=!0,Xe)try{await sSe(t.id,Xe.id,{convertedToTaskId:Et.id})}catch(hn){console.error("Failed to link finding to task:",hn)}}const Yt=`### Elton Inspector - Analys Resultat

**Zon:** ${Me.category}
**Allvarlighet:** ${Me.severity}
**Skerhet:** ${Me.confidence}%

**Diagnos:**
${Me.aiDiagnosis}

${Me.severity==="CRITICAL"?` **KRITISKT** - ${Ut?"Uppgift skapad automatiskt!":"vervg att skapa en uppgift omedelbart!"}`:Me.severity==="WARNING"?" **Varning** - Br tgrdas snart. Vill du att jag ska skapa en uppgift?":" Kosmetiskt problem."}`;Ne.push({name:le.name,result:Yt})}}else if(le.name==="inspectAudio"){const{zone:ee,userDescription:he}=le.args;Ne.push({name:le.name,result:"Audio-inspektion r nnu inte implementerad. Fr nrvarande kan endast bilder analyseras."})}else Ne.push({name:le.name,result:"Tool executed successfully."})}catch(ee){console.error("Tool execution failed:",ee);const he=`Error executing ${le.name}: ${ee.message}`;Ne.push({name:le.name,result:he}),B(he)}}return Ne},Oe=async()=>{if(!C.trim()&&!D||I)return;B(null);const de=C,Ne=D;R(""),L(null);try{let le;if(Ne)try{le=await IAe(Ne,t.id)}catch(Me){console.error("Failed to upload image:",Me),B("Kunde inte ladda upp bild")}const ee={role:"user",content:de,imageUrl:le,timestamp:new Date().toISOString()};_(Me=>[...Me,ee]),O(!0);let he="";const De={role:"model",content:"",timestamp:new Date().toISOString()};_(Me=>[...Me,De]);let ze=S.map(Me=>({role:Me.role,content:Me.content,image:Me.imageUrl}));for(;ze.length>0&&ze[0].role==="model";)console.warn(" Filtering out initial model message from chat history"),ze=ze.slice(1);await kAe(ze,de,t.vehicleData,t.tasks,t.shoppingItems,Me=>{_(Xe=>{const Ut=[...Xe];return Ut[Ut.length-1].content=Me,Ut})},ke,Ne?Ne.split(",")[1]:void 0,t.nickname||t.name,n,t.type)}catch(le){console.error("Chat error:",le),B(`Fel: ${le.message||"Kunde inte skicka meddelande"}`)}finally{O(!1)}};return U?g.jsx(oDe,{project:t,onClose:()=>M(!1)}):g.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] bg-white dark:bg-nordic-dark-surface rounded-2xl border border-slate-200 dark:border-nordic-dark-bg shadow-sm overflow-hidden animate-fade-in",children:[g.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-4 border-b border-slate-100 dark:border-nordic-dark-bg flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[E&&g.jsx("button",{onClick:E,className:"p-2 -ml-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-nordic-dark-bg rounded-full transition-colors",title:"Tillbaka till dashboard",children:g.jsx(Gh,{size:20})}),g.jsx("div",{className:"p-2 bg-white dark:bg-nordic-dark-bg rounded-lg shadow-sm text-teal-600",children:g.jsx(k0,{size:24})}),g.jsxs("div",{children:[g.jsxs("h3",{className:"font-serif font-semibold text-nordic-charcoal dark:text-nordic-ice",children:[t.vehicleData.make," ",t.vehicleData.model]}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted",children:t.vehicleData.year})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:()=>q(!0),className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-xl hover:bg-teal-700 transition-colors shadow-sm",title:"Elton Inspector",children:[g.jsx(Fz,{size:18}),g.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Inspector"})]}),g.jsxs("button",{"data-testid":"ring-upp-button",onClick:()=>M(!0),className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 transition-colors shadow-sm animate-pulse",children:[g.jsx(tB,{size:18}),g.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Ring upp"})]}),g.jsx("button",{onClick:qe,className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Rensa historik",children:g.jsx(Ql,{size:18})})]})]}),z&&g.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800 p-3 flex items-center gap-2 text-red-700 dark:text-red-300",children:[g.jsx(Pa,{size:18}),g.jsx("span",{className:"text-sm",children:z}),g.jsx("button",{onClick:()=>B(null),className:"ml-auto p-1 hover:bg-red-100 dark:hover:bg-red-800 rounded",children:g.jsx(lr,{size:16})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-nordic-dark-bg/50",children:[S.map((de,Ne)=>g.jsx("div",{className:`flex w-full ${de.role==="user"?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:`flex max-w-[85%] ${de.role==="user"?"flex-row-reverse":"flex-row"} items-end gap-2`,children:[g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 border border-white/20 shadow-sm ${de.role==="user"?"bg-nordic-charcoal text-white":"bg-nordic-beige text-amber-900"}`,children:de.role==="user"?g.jsx(iw,{size:14}):g.jsx(k0,{size:16})}),g.jsxs("div",{className:`p-3.5 rounded-2xl text-sm leading-relaxed shadow-sm flex flex-col gap-2 ${de.role==="user"?"bg-nordic-charcoal dark:bg-teal-600 text-white rounded-br-none":"bg-white dark:bg-nordic-dark-surface text-slate-700 dark:text-nordic-dark-text border border-slate-100 dark:border-nordic-charcoal rounded-bl-none"}`,children:[de.imageUrl&&g.jsx("img",{src:de.imageUrl,alt:"Uppladdad bild",className:"rounded-lg max-w-full h-auto border border-white/20"}),de.role==="user"?g.jsx("p",{children:de.content}):g.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none prose-p:my-1 prose-headings:my-2 prose-ul:my-1 prose-li:my-0",children:g.jsx(jB,{components:{h1:({node:le,...ee})=>g.jsx("h1",{className:"text-base font-bold text-nordic-charcoal dark:text-nordic-ice mt-2",...ee}),h2:({node:le,...ee})=>g.jsx("h2",{className:"text-sm font-bold text-teal-600 dark:text-teal-400 mt-2 uppercase tracking-wide",...ee}),h3:({node:le,...ee})=>g.jsx("h3",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 mt-2",...ee}),ul:({node:le,...ee})=>g.jsx("ul",{className:"list-disc list-outside ml-4 space-y-1 my-2",...ee}),ol:({node:le,...ee})=>g.jsx("ol",{className:"list-decimal list-outside ml-4 space-y-1 my-2",...ee}),li:({node:le,...ee})=>g.jsx("li",{className:"pl-1 marker:text-teal-500",...ee}),strong:({node:le,...ee})=>g.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...ee}),a:({node:le,...ee})=>g.jsx("a",{className:"text-teal-600 hover:underline cursor-pointer font-medium",target:"_blank",...ee}),blockquote:({node:le,...ee})=>g.jsx("blockquote",{className:"border-l-4 border-teal-200 pl-3 italic text-slate-500 my-2",...ee})},children:de.content})})]})]})},Ne)),g.jsx("div",{ref:Se})]}),g.jsxs("div",{className:"p-4 bg-white dark:bg-nordic-dark-surface border-t border-slate-100 dark:border-nordic-dark-bg",children:[D&&g.jsxs("div",{className:"flex items-center gap-2 mb-2 p-2 bg-slate-100 dark:bg-nordic-charcoal rounded-xl w-fit animate-fade-in",children:[g.jsx("img",{src:D,alt:"Vald",className:"w-10 h-10 object-cover rounded-lg"}),g.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Bild redo att skickas"}),g.jsx("button",{onClick:()=>L(null),className:"p-1 hover:bg-slate-200 dark:hover:bg-nordic-dark-bg rounded-full",children:g.jsx(lr,{size:14})})]}),g.jsxs("div",{className:"flex space-x-2 relative",children:[g.jsx("button",{onClick:()=>{var de;return(de=we.current)==null?void 0:de.click()},className:"p-3 text-slate-400 hover:text-teal-600 hover:bg-slate-50 dark:hover:bg-nordic-charcoal rounded-xl transition-colors",children:g.jsx(nw,{size:20})}),g.jsx("input",{type:"file",ref:we,className:"hidden",accept:"image/*",onChange:at}),g.jsx("input",{type:"text",value:C,onChange:de=>R(de.target.value),onKeyDown:de=>de.key==="Enter"&&Oe(),placeholder:"Sg ngot...",className:"flex-1 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal text-slate-700 dark:text-nordic-ice text-sm rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all placeholder:text-slate-400",disabled:I}),g.jsx("button",{onClick:Oe,disabled:!C.trim()&&!D||I,className:"bg-nordic-charcoal dark:bg-teal-600 hover:bg-slate-800 dark:hover:bg-teal-700 disabled:bg-slate-300 dark:disabled:bg-nordic-charcoal text-white p-3 rounded-xl transition-colors shadow-sm",children:g.jsx(XF,{size:18})})]})]}),V&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:g.jsxs("div",{className:"w-full max-w-xl bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-slate-200 dark:border-nordic-charcoal p-4",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"p-2 bg-teal-50 dark:bg-nordic-charcoal rounded-lg",children:g.jsx(Fz,{size:18,className:"text-teal-600"})}),g.jsx("h3",{className:"font-semibold text-nordic-charcoal dark:text-nordic-ice",children:"Elton Inspector"})]}),g.jsx("button",{onClick:Wt,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-lg",children:g.jsx(lr,{size:16})})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Zon"}),g.jsx("div",{className:"mt-1 grid grid-cols-2 sm:grid-cols-4 gap-2",children:["EXTERIOR","ENGINE","UNDERCARRIAGE","INTERIOR"].map(de=>g.jsxs("button",{onClick:()=>oe(de),className:`px-3 py-2 rounded-xl border text-sm ${F===de?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-nordic-charcoal text-slate-700 dark:text-slate-200 border-slate-200 dark:border-nordic-charcoal"}`,children:[de==="EXTERIOR"&&"EXTERIOR",de==="ENGINE"&&"ENGINE",de==="UNDERCARRIAGE"&&"UNDERCARRIAGE",de==="INTERIOR"&&"INTERIOR"]},de))})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{className:"p-3 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Bild"}),g.jsxs("button",{onClick:()=>{var de;return(de=Ce.current)==null?void 0:de.click()},className:"px-2 py-1 text-xs rounded-lg bg-slate-100 dark:bg-nordic-charcoal hover:bg-slate-200 dark:hover:bg-nordic-dark-bg flex items-center gap-1",children:[g.jsx(ude,{size:14}),"Vlj"]}),g.jsx("input",{ref:Ce,type:"file",accept:"image/*",className:"hidden",onChange:Fe})]}),Z?g.jsx("img",{src:Z,alt:"Vald bild",className:"mt-2 rounded-lg border border-white/10"}):g.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Ingen bild vald"})]}),g.jsxs("div",{className:"p-3 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Ljud"}),g.jsxs("button",{onClick:()=>{var de;return(de=Ue.current)==null?void 0:de.click()},className:"px-2 py-1 text-xs rounded-lg bg-slate-100 dark:bg-nordic-charcoal hover:bg-slate-200 dark:hover:bg-nordic-dark-bg flex items-center gap-1",children:[g.jsx(WF,{size:14}),"Vlj"]}),g.jsx("input",{ref:Ue,type:"file",accept:"audio/*",className:"hidden",onChange:kt})]}),g.jsx("p",{className:"mt-2 text-xs text-slate-500",children:J?J.name:"Ingen ljudfil vald"})]})]}),H&&g.jsxs("div",{className:"p-2 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 text-sm flex items-center gap-2",children:[g.jsx(Pa,{size:16}),g.jsx("span",{children:H})]}),g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g.jsx("button",{onClick:Wt,className:"px-4 py-2 rounded-xl bg-slate-100 dark:bg-nordic-charcoal hover:bg-slate-200 dark:hover:bg-nordic-dark-bg",children:"Stng"}),g.jsx("button",{onClick:hr,disabled:W,className:"px-4 py-2 rounded-xl bg-teal-600 text-white hover:bg-teal-700 disabled:opacity-60",children:W?"Analyserar...":"Analysera"})]}),te&&g.jsxs("div",{className:"mt-3 p-3 rounded-xl border border-teal-200 dark:border-teal-800 bg-teal-50/50 dark:bg-teal-900/20",children:[g.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:[g.jsx("strong",{children:"Zon:"})," ",te.category]}),g.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:[g.jsx("strong",{children:"Allvarlighet:"})," ",te.severity," (",te.confidence,"%)"]}),g.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200 whitespace-pre-wrap mt-1",children:te.aiDiagnosis}),g.jsx("div",{className:"mt-2 flex items-center justify-end",children:g.jsx("button",{onClick:mt,className:"px-4 py-2 rounded-xl bg-nordic-charcoal dark:bg-teal-600 text-white hover:bg-slate-800 dark:hover:bg-teal-700",children:"Konvertera till uppgift"})})]})]})]})})]})},d9=async(t,e)=>{try{let n=null;try{n=JSON.parse(t)}catch{}return n&&n.vehicle?lDe(n):await cDe(t,e)}catch(n){throw console.error("Project import error:",n),new Error("Kunde inte importera projektdata")}},lDe=t=>{var n,r,i,o;const e={};return t.vehicle&&(e.vehicleData={regNo:t.vehicle.identity.regNo,make:t.vehicle.identity.make,model:t.vehicle.identity.model,year:t.vehicle.identity.year,prodYear:t.vehicle.identity.productionYear,regDate:t.vehicle.identity.firstRegistration,vin:t.vehicle.identity.vin,color:t.vehicle.identity.color,bodyType:t.vehicle.identity.bodyType,status:t.vehicle.status.current,inspection:{last:t.vehicle.status.lastInspection,mileage:((n=t.vehicle.status.odometerReading)==null?void 0:n.toString())||"",next:""},engine:{code:t.vehicle.engine.code,fuel:t.vehicle.engine.type.includes("Bensin")?"Bensin":t.vehicle.engine.type.includes("Diesel")?"Diesel":"",power:t.vehicle.engine.power,volume:t.vehicle.engine.type.split(" ")[0]||"",cylinders:t.vehicle.engine.cylinders,torque:t.vehicle.engine.torque,cooling:t.vehicle.engine.cooling,valveTrain:t.vehicle.engine.valveTrain,carburetor:t.vehicle.engine.carburetor},gearbox:t.vehicle.specs.gearbox,wheels:{drive:t.vehicle.specs.drive,tiresFront:((r=t.vehicle.specs.tires.split("/")[0])==null?void 0:r.trim())||"",tiresRear:((i=t.vehicle.specs.tires.split("/")[0])==null?void 0:i.trim())||"",boltPattern:((o=t.vehicle.specs.tires.split("/")[1])==null?void 0:o.trim())||""},dimensions:{length:t.vehicle.specs.length,width:t.vehicle.specs.width,height:"",wheelbase:t.vehicle.specs.wheelbase},weights:{curb:t.vehicle.specs.weights.curb,total:t.vehicle.specs.weights.total,load:t.vehicle.specs.weights.load,trailer:t.vehicle.specs.weights.trailer,trailerB:0},passengers:2,history:{owners:0,events:0,lastOwnerChange:""}}),t.knowledgeBase&&t.knowledgeBase.length>0&&(e.knowledgeArticles=t.knowledgeBase.map(a=>({id:a.id||Yo(),title:a.title,summary:a.summary,content:a.content,tags:a.tags}))),t.tasks&&t.tasks.length>0&&(e.tasks=t.tasks.map(a=>{var p;let l=0,u=0,d=a.cost||0;if(a.estCost){const h=a.estCost.match(/(\d+)(?:-(\d+))?/);h&&(l=parseInt(h[1]),u=h[2]?parseInt(h[2]):l)}return{id:Yo(),title:a.title,description:a.description||"",status:a.status,phase:a.phase,priority:a.priority,estimatedCostMin:l,estimatedCostMax:u,actualCost:d,weightKg:0,costType:"Drift",tags:[],links:[],comments:[],attachments:[],subtasks:((p=a.checklist)==null?void 0:p.map(h=>({id:Yo(),title:h,completed:!1})))||[]}})),t.shoppingList&&t.shoppingList.length>0&&(e.shoppingItems=t.shoppingList.map(a=>({id:Yo(),name:a.name,category:"Reservdelar",estimatedCost:a.estCost||0,quantity:a.qty||"1 st",checked:!1,url:a.url}))),e.contacts=t.contacts||[],e.tips=t.tips||[],e},cDe=async(t,e)=>{const n=await JPe();return{vehicleData:n.vehicleData,historyEvents:n.historyEvents,tasks:n.tasks,shoppingItems:n.shoppingItems}},uDe=(t,e)=>{const n={};if(e.vehicleData&&(n.vehicleData={...t.vehicleData,...e.vehicleData}),e.knowledgeArticles&&e.knowledgeArticles.length>0&&(n.knowledgeArticles=[...t.knowledgeArticles||[],...e.knowledgeArticles]),e.tasks&&e.tasks.length>0&&(n.tasks=[...t.tasks,...e.tasks]),e.shoppingItems&&e.shoppingItems.length>0&&(n.shoppingItems=[...t.shoppingItems,...e.shoppingItems]),e.historyEvents&&e.historyEvents.length>0){const r=e.historyEvents.map(i=>{var u;let o=new Date().toISOString().split("T")[0];if(i.date){if(i.date.match(/^\d{4}-\d{2}-\d{2}$/))o=i.date;else if(i.date.toLowerCase().includes("igr")){const d=new Date;d.setDate(d.getDate()-1),o=d.toISOString().split("T")[0]}else if(i.date.toLowerCase().includes("frra veckan")){const d=new Date;d.setDate(d.getDate()-7),o=d.toISOString().split("T")[0]}else if(i.date.match(/(\d+)\s*(r|mnad|dag)/)){const d=i.date.match(/(\d+)\s*(r|mnad|dag)/);if(d){const p=parseInt(d[1]),h=d[2],y=new Date;h==="r"?y.setFullYear(y.getFullYear()-p):h==="mnad"?y.setMonth(y.getMonth()-p):h==="dag"&&y.setDate(y.getDate()-p),o=y.toISOString().split("T")[0]}}}let a="vrigt";const l=i.description.toLowerCase();return l.includes("service")||l.includes("oljebyte")||l.includes("filter")?a="Service":l.includes("reparation")||l.includes("bytt")||l.includes("fixat")||l.includes("lagat")?a="Reparation":l.includes("besiktning")||l.includes("kontroll")?a="Besiktning":(l.includes("kpt")||l.includes("kpte")||l.includes("sld")||l.includes("slde"))&&(a="vrigt"),{id:Yo(),date:o,description:i.description+(i.cost?` (${i.cost} kr)`:""),mileage:((u=i.mileage)==null?void 0:u.toString())||"",performer:"Importerad frn magic import",type:a}});n.serviceLog=[...t.serviceLog,...r]}return n},om=$w(kc,"europe-west1");la(om,"ocrLicensePlate");const dDe=la(om,"ocrReceipt");la(om,"ocrVIN");la(om,"ocrServiceDocument");la(om,"ocrExtractText");async function pDe(t){try{return(await dDe({imageBase64:t})).data}catch(e){return console.error("Receipt OCR failed:",e),{success:!1,items:[]}}}function fDe(t){return t.map(e=>({name:e.name,category:"vrigt",estimatedCost:e.price,actualCost:e.price,quantity:`${e.quantity} st`,checked:!0,purchaseDate:new Date().toISOString().split("T")[0]}))}const hDe=({project:t,onAddTasks:e,onAddShoppingItems:n,onUpdateProject:r,onClose:i})=>{const[o,a]=A.useState(""),[l,u]=A.useState(!1),[d,p]=A.useState([]),[h,y]=A.useState([]),[b,E]=A.useState([]),[S,_]=A.useState(null),[C,R]=A.useState("task"),[I,O]=A.useState(null),U=z=>{var V;const B=(V=z.target.files)==null?void 0:V[0];if(B){if(B.size>5*1024*1024){O("Bilden r fr stor (max 5MB)");return}const q=new FileReader;q.onloadend=()=>{_(q.result),O(null)},q.onerror=()=>{O("Kunde inte lsa bilden")},q.readAsDataURL(B)}},M=z=>{var B;return{id:Yo(),title:z.title||"Ny uppgift",description:z.description||"",status:tt.TODO,phase:z.phase||"Fas 1: Akut",priority:z.priority||rn.MEDIUM,estimatedCostMin:z.estimatedCostMin||0,estimatedCostMax:z.estimatedCostMax||z.estimatedCostMin||0,actualCost:0,weightKg:z.weightKg||0,costType:z.costType||En.OPERATION,tags:z.tags||[],links:[],comments:[],attachments:[],subtasks:((B=z.subtasks)==null?void 0:B.map(V=>({id:Yo(),title:typeof V=="string"?V:V.title||"",completed:!1})))||[],difficultyLevel:z.difficultyLevel,requiredTools:z.requiredTools}},D=async()=>{if(!o&&!S){O("Skriv in text eller ladda upp en bild");return}u(!0),O(null);const z=S?S.split(",")[1]:void 0;try{if(C==="receipt"&&S&&z){const B=await pDe(z);if(B.success&&B.items.length>0){const V=fDe(B.items);y(V)}else O("Kunde inte lsa kvittot. Frsk med bttre belysning eller tydligare bild!")}else if(C==="project"&&t&&r){const B=await d9(o,z);B.tasks&&B.tasks.length>0&&p(B.tasks),B.shoppingItems&&B.shoppingItems.length>0&&y(B.shoppingItems),B.knowledgeArticles&&B.knowledgeArticles.length>0&&E(B.knowledgeArticles),B.vehicleData||B.knowledgeArticles||B.tasks||O("Kunde inte hitta projektdata i texten/bilden.")}else{const{tasks:B}=await EH(o,z);if(!B||B.length===0){O("Kunde inte hitta ngra uppgifter i texten/bilden. Frsk vara mer specifik."),u(!1);return}const V=B.map(M);p(V)}}catch(B){console.error("Analysis failed:",B),O(`Fel vid analys: ${B.message||"Ngot gick fel. Frsk igen."}`)}finally{u(!1)}},L=async()=>{if(C==="project"&&t&&r){const z=await d9(o,S==null?void 0:S.split(",")[1]),B=uDe(t,z);r(B)}d.length>0&&(e(d),p([])),h.length>0&&n&&(n(h),y([])),E([]),a(""),_(null),i()};return g.jsxs("div",{className:"bg-white rounded-3xl border border-nordic-slate/10 shadow-xl overflow-hidden animate-fade-in relative",children:[g.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white p-6 border-b border-nordic-slate/10 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm text-teal-600",children:g.jsx(Xl,{size:24})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-serif font-bold text-nordic-charcoal",children:"The Magic Import"}),g.jsx("p",{className:"text-sm text-nordic-slate",children:"Klistra in anteckningar eller ladda upp kvitton"})]})]}),g.jsx("button",{onClick:i,className:"p-2 -mr-2 text-nordic-slate hover:bg-black/5 rounded-full transition-colors",children:g.jsx(lr,{size:24})})]}),I&&g.jsxs("div",{className:"bg-red-50 border-b border-red-200 p-3 mx-6 mt-4 rounded-xl flex items-center gap-2 text-red-700",children:[g.jsx(Pa,{size:18}),g.jsx("span",{className:"text-sm flex-1",children:I}),g.jsx("button",{onClick:()=>O(null),className:"p-1 hover:bg-red-100 rounded",children:g.jsx(lr,{size:16})})]}),g.jsx("div",{className:"p-6 space-y-6",children:d.length===0&&h.length===0&&b.length===0?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 dark:bg-nordic-dark-bg rounded-xl",children:[g.jsxs("button",{onClick:()=>R("task"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${C==="task"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[g.jsx(Xl,{size:14,className:"inline mr-1"}),"Uppgifter"]}),g.jsxs("button",{onClick:()=>R("receipt"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${C==="receipt"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[g.jsx(D_,{size:14,className:"inline mr-1"}),"Kvitton"]}),t&&r&&g.jsxs("button",{onClick:()=>R("project"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${C==="project"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[g.jsx(aC,{size:14,className:"inline mr-1"}),"Projekt Data"]})]}),g.jsx("textarea",{className:"w-full p-4 rounded-xl bg-nordic-ice/30 border border-nordic-slate/20 focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all min-h-[150px] placeholder:text-nordic-slate/50",placeholder:C==="receipt"?"Eller ladda upp kvitto...":C==="project"?"Klistra in JSON data eller dela text/bild med projektinformation (motorspec, kunskapsbas, uppgifter, etc)...":"Ex: Behver kpa 4st Nokian dck, kostar ca 5000kr. Mste ocks fixa rost i balken (akut!)...",value:o,onChange:z=>a(z.target.value),disabled:C==="receipt"}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer px-4 py-2 rounded-xl hover:bg-nordic-ice transition-colors text-nordic-slate text-sm font-medium",children:[C==="receipt"?g.jsx(D_,{size:18}):g.jsx(nw,{size:18}),g.jsxs("span",{children:["Ladda upp ",C==="receipt"?"kvitto":"bild"]}),g.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:U})]}),S&&g.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Bild vald "})]}),g.jsx("button",{onClick:D,disabled:l||!o&&!S,className:"w-full py-4 bg-nordic-charcoal text-white rounded-xl font-medium hover:bg-slate-800 transition-all disabled:opacity-50 flex items-center justify-center space-x-2",children:l?g.jsxs(g.Fragment,{children:[g.jsx(Js,{size:20,className:"animate-spin"}),g.jsx("span",{children:"AI Analyserar..."})]}):g.jsxs(g.Fragment,{children:[g.jsx(Xl,{size:18}),g.jsx("span",{children:"Skapa Uppgifter"})]})})]}):g.jsxs("div",{className:"space-y-4",children:[d.length>0&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{className:"font-medium text-nordic-slate",children:"Frslag p uppgifter:"}),g.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:d.map((z,B)=>g.jsxs("div",{className:"p-4 rounded-xl border border-nordic-slate/10 bg-white shadow-sm flex items-start gap-4",children:[g.jsx("div",{className:`p-2 rounded-lg mt-1 shrink-0 ${z.costType==="Investering"?"bg-nordic-green":"bg-nordic-pink"}`,children:z.costType==="Investering"?"INV":"DRIFT"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"font-bold text-nordic-charcoal",children:z.title}),g.jsx("p",{className:"text-sm text-nordic-slate mb-2",children:z.description}),g.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[g.jsx("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:z.phase}),g.jsxs("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:[z.estimatedCostMin,"-",z.estimatedCostMax," kr"]}),z.weightKg>0&&g.jsxs("span",{className:"bg-amber-50 text-amber-700 px-2 py-1 rounded-md",children:[z.weightKg," kg"]})]})]})]},B))})]}),h.length>0&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{className:"font-medium text-nordic-slate",children:"Inkp frn kvitto:"}),g.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:h.map((z,B)=>g.jsxs("div",{className:"p-4 rounded-xl border border-green-200 bg-green-50 shadow-sm flex items-center gap-4",children:[g.jsx(D_,{size:24,className:"text-green-600"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"font-bold text-nordic-charcoal",children:z.name}),g.jsxs("div",{className:"flex gap-4 text-sm text-slate-600 mt-1",children:[g.jsxs("span",{children:["Antal: ",z.quantity]}),g.jsxs("span",{className:"font-bold text-green-700",children:[z.actualCost," kr"]})]})]})]},B))})]}),g.jsxs("div",{className:"flex space-x-3 pt-4",children:[g.jsx("button",{onClick:()=>{p([]),y([])},className:"flex-1 py-3 px-4 rounded-xl border border-nordic-slate/20 text-nordic-slate hover:bg-slate-50 font-medium",children:"Avbryt"}),g.jsxs("button",{onClick:L,className:"flex-1 py-3 px-4 rounded-xl bg-nordic-charcoal text-white hover:bg-slate-800 font-medium flex items-center justify-center space-x-2 shadow-lg shadow-slate-200",children:[g.jsx(La,{size:18}),g.jsx("span",{children:"Lgg till allt"})]})]})]})})]})},gDe=({contacts:t,onUpdate:e,featureLocation:n="vehicleSpecs"})=>{const[r,i]=A.useState(""),[o,a]=A.useState("all"),[l,u]=A.useState(!1),[d,p]=A.useState(null),h=["all","Mrkesverkstad","Service & Akut","Specialist","Veteran & Kaross","Frskring & Rddning"],y=I=>{switch(I){case"Mrkesverkstad":return g.jsx(k0,{size:16,className:"text-blue-600"});case"Service & Akut":return g.jsx(Da,{size:16,className:"text-orange-600"});case"Specialist":return g.jsx(ode,{size:16,className:"text-purple-600"});case"Veteran & Kaross":return g.jsx(EE,{size:16,className:"text-teal-600"});case"Frskring & Rddning":return g.jsx(EE,{size:16,className:"text-red-600"})}},b=I=>{switch(I){case"Mrkesverkstad":return"bg-blue-50 text-blue-700 border-blue-200";case"Service & Akut":return"bg-orange-50 text-orange-700 border-orange-200";case"Specialist":return"bg-purple-50 text-purple-700 border-purple-200";case"Veteran & Kaross":return"bg-teal-50 text-teal-700 border-teal-200";case"Frskring & Rddning":return"bg-red-50 text-red-700 border-red-200"}},E=A.useMemo(()=>{let I=t||[];if(o!=="all"&&(I=I.filter(O=>O.category===o)),r){const O=r.toLowerCase();I=I.filter(U=>U.name.toLowerCase().includes(O)||U.phone.includes(O)||U.location.toLowerCase().includes(O)||U.specialty.toLowerCase().includes(O))}return I},[t,o,r]),S=A.useMemo(()=>{const I={};return E.forEach(O=>{I[O.category]||(I[O.category]=[]),I[O.category].push(O)}),I},[E]),_=I=>{confirm(`Ta bort kontakt: ${I.name}?`)&&e(t.filter(O=>O.name!==I.name||O.phone!==I.phone))},C=I=>{p(I),u(!0)},R=I=>{if(d){const O=t.findIndex(M=>M.name===d.name&&M.phone===d.phone),U=[...t];U[O]=I,e(U)}else e([...t||[],I]);u(!1),p(null)};return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between gap-4",children:[g.jsxs("div",{className:"flex-1 relative",children:[g.jsx(dp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),g.jsx("input",{type:"text",placeholder:"Sk kontakter...",value:r,onChange:I=>i(I.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500/20"})]}),g.jsxs("button",{onClick:()=>{p(null),u(!0)},className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-xl font-medium flex items-center gap-2 transition-colors",children:[g.jsx(La,{size:18}),"Lgg till"]})]}),g.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:h.map(I=>g.jsxs("button",{onClick:()=>a(I),className:`px-3 py-1.5 rounded-lg text-xs font-bold whitespace-nowrap transition-colors ${o===I?"bg-teal-600 text-white":"bg-slate-100 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-nordic-dark-bg"}`,children:[I==="all"?"Alla":I,I!=="all"&&t&&` (${t.filter(O=>O.category===I).length})`]},I))}),E.length===0?g.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl",children:[g.jsx(iw,{size:48,className:"mx-auto text-slate-300 mb-3"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r||o!=="all"?"Inga kontakter matchar dina filter":"Inga kontakter nnu. Lgg till din frsta kontakt!"})]}):g.jsx("div",{className:"space-y-6",children:Object.entries(S).map(([I,O])=>g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[y(I),g.jsx("h3",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:I}),g.jsxs("span",{className:"text-xs text-slate-400",children:["(",O==null?void 0:O.length,")"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:O==null?void 0:O.map((U,M)=>g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow group",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-1",children:U.name}),g.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded border ${b(U.category)}`,children:U.specialty})]}),g.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>C(U),className:"p-1.5 text-slate-400 hover:text-teal-600 hover:bg-teal-50 dark:hover:bg-teal-900/20 rounded transition-colors",children:g.jsx(JF,{size:14})}),g.jsx("button",{onClick:()=>_(U),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:g.jsx(Ql,{size:14})})]})]}),g.jsxs("div",{className:"space-y-1.5",children:[g.jsxs("a",{href:`tel:${U.phone}`,className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",children:[g.jsx(cC,{size:14}),U.phone]}),g.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(U.location)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",children:[g.jsx(gh,{size:14}),U.location]})]}),U.note&&g.jsx("p",{className:"mt-2 pt-2 border-t border-slate-100 dark:border-nordic-charcoal text-xs text-slate-500 dark:text-slate-400 italic",children:U.note})]},M))})]},I))}),l&&g.jsx(mDe,{contact:d,onSave:R,onClose:()=>{u(!1),p(null)}})]})},mDe=({contact:t,onSave:e,onClose:n})=>{const[r,i]=A.useState(t||{name:"",phone:"",location:"",category:"Mrkesverkstad",specialty:"",note:""}),o=a=>{a.preventDefault(),!(!r.name||!r.phone)&&e(r)};return g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-lg w-full shadow-2xl",children:[g.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 p-6 text-white rounded-t-3xl",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h2",{className:"text-2xl font-bold",children:t?"Redigera Kontakt":"Ny Kontakt"}),g.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:g.jsx(lr,{size:24})})]})}),g.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Namn *"}),g.jsx("input",{type:"text",value:r.name,onChange:a=>i({...r,name:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Volvo Center Stockholm",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Kategori *"}),g.jsxs("select",{value:r.category,onChange:a=>i({...r,category:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0,children:[g.jsx("option",{value:"Mrkesverkstad",children:"Mrkesverkstad"}),g.jsx("option",{value:"Service & Akut",children:"Service & Akut"}),g.jsx("option",{value:"Specialist",children:"Specialist"}),g.jsx("option",{value:"Veteran & Kaross",children:"Veteran & Kaross"}),g.jsx("option",{value:"Frskring & Rddning",children:"Frskring & Rddning"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Specialitet"}),g.jsx("input",{type:"text",value:r.specialty,onChange:a=>i({...r,specialty:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Elmekaniker, Rostskador, etc."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Telefon *"}),g.jsx("input",{type:"tel",value:r.phone,onChange:a=>i({...r,phone:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"08-123 45 67",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Plats"}),g.jsx("input",{type:"text",value:r.location,onChange:a=>i({...r,location:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Stockholm, Gteborg, etc."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Anteckningar"}),g.jsx("textarea",{value:r.note,onChange:a=>i({...r,note:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",rows:3,placeholder:"Valfria anteckningar..."})]}),g.jsxs("div",{className:"flex gap-2 pt-4",children:[g.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-medium transition-colors",children:"Spara"}),g.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]})]})})},AH="vanplan_user_location",yDe=1440*60*1e3,bDe=()=>new Promise((t,e)=>{if(!navigator.geolocation){e(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(async n=>{const{latitude:r,longitude:i}=n.coords;try{const a=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${r}&lon=${i}&zoom=10&addressdetails=1`,{headers:{"User-Agent":"VanPlan/1.0"}})).json(),l={city:a.address.city||a.address.town||a.address.village||a.address.municipality||"Oknd ort",region:a.address.state||a.address.county||"",country:a.address.country||"Sverige",coordinates:{lat:r,lng:i},source:"gps",lastUpdated:new Date().toISOString()};_S(l),t(l)}catch{const a={city:"Oknd ort",region:"",country:"Sverige",coordinates:{lat:r,lng:i},source:"gps",lastUpdated:new Date().toISOString()};_S(a),t(a)}},n=>{e(new Error(`GPS error: ${n.message}`))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),vDe=async()=>{try{const e=await(await fetch("https://ipapi.co/json/")).json(),n={city:e.city||"Oknd ort",region:e.region||"",country:e.country_name||"Sverige",coordinates:{lat:e.latitude,lng:e.longitude},source:"ip",lastUpdated:new Date().toISOString()};return _S(n),n}catch{throw new Error("Could not determine location from IP")}},wDe=async()=>{const t=xDe();if(t&&!kDe(t))return t;try{return await bDe()}catch{console.log("GPS unavailable, falling back to IP location");try{return await vDe()}catch{return console.error("Both GPS and IP location failed"),t||null}}},_S=t=>{try{localStorage.setItem(AH,JSON.stringify(t))}catch(e){console.error("Failed to cache location:",e)}},xDe=()=>{try{const t=localStorage.getItem(AH);if(t)return JSON.parse(t)}catch(t){console.error("Failed to get cached location:",t)}return null},kDe=t=>{const e=new Date(t.lastUpdated).getTime();return Date.now()-e>yDe},hT=t=>t<1?`${Math.round(t*1e3)} m`:t<10?`${t.toFixed(1)} km`:`${Math.round(t)} km`,_De=t=>{const e=Math.round(t/60*60);if(e<60)return`${e} min`;{const n=Math.floor(e/60),r=e%60;return r>0?`${n} h ${r} min`:`${n} h`}},TDe=({userLocation:t,vehicleMake:e,onAddContact:n,onRequestLocation:r})=>{const[i,o]=A.useState([]),[a,l]=A.useState(!1),[u,d]=A.useState(null),[p,h]=A.useState(2e4),[y,b]=A.useState(null);A.useEffect(()=>{t&&E()},[t,p]);const E=async()=>{if(t){d("Google Places API-nyckel saknas. Lgg till VITE_GOOGLE_PLACES_API_KEY i .env");return}},S=C=>{const R=_(C.name,C.types),I={name:C.name,phone:C.formatted_phone_number||"Ej tillgnglig",location:C.vicinity,category:R,specialty:e?`${e}-specialist`:"Bilverkstad",note:C.rating?`Betyg: ${C.rating} (${C.user_ratings_total} recensioner). Avstnd: ${hT(C.distance)}`:`Avstnd: ${hT(C.distance)}`};n(I),b(null)},_=(C,R)=>{const I=C.toLowerCase();return e&&I.includes(e.toLowerCase())?"Mrkesverkstad":I.includes("veteran")||I.includes("klassiker")||I.includes("kaross")?"Veteran & Kaross":(I.includes("akut")||I.includes("service"),"Service & Akut")};return t?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Verkstder nra dig"}),g.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Visar verkstder inom ",p/1e3," km frn ",t.city]})]}),g.jsx("button",{onClick:E,disabled:a,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-dark-bg rounded-xl transition-colors",title:"Uppdatera skning",children:g.jsx(Ppe,{size:20,className:`${a?"animate-spin":""} dark:text-white`})})]}),g.jsx("div",{className:"flex gap-2",children:[10,20,40].map(C=>g.jsxs("button",{onClick:()=>h(C*1e3),className:`px-4 py-2 rounded-xl text-sm font-medium transition-colors ${p===C*1e3?"bg-teal-600 text-white":"bg-slate-100 dark:bg-nordic-dark-bg text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[C," km"]},C))})]}),u&&g.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-2xl flex items-start gap-3",children:[g.jsx(Pa,{size:20,className:"text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-red-900 dark:text-red-200 font-medium",children:"Kunde inte hmta verkstder"}),g.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:u})]})]}),a&&g.jsx("div",{className:"flex items-center justify-center py-12",children:g.jsx(Js,{size:32,className:"animate-spin text-teal-600"})}),!a&&i.length>0&&g.jsx("div",{className:"space-y-3",children:i.map(C=>{var R;return g.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl shadow-sm hover:shadow-md transition-shadow",children:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("h4",{className:"font-bold text-lg dark:text-white",children:C.name}),e&&C.name.toLowerCase().includes(e.toLowerCase())&&g.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium rounded-lg",children:e})]}),g.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400 mb-2",children:[C.rating&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(Hpe,{size:14,className:"fill-yellow-400 text-yellow-400"}),g.jsx("span",{className:"font-medium",children:C.rating}),g.jsxs("span",{children:["(",C.user_ratings_total,")"]})]}),((R=C.opening_hours)==null?void 0:R.open_now)!==void 0&&g.jsx("span",{className:C.opening_hours.open_now?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:C.opening_hours.open_now?"ppet nu":"Stngt"})]}),g.jsxs("div",{className:"flex items-start gap-2 text-sm mb-2",children:[g.jsx(gh,{size:14,className:"text-slate-400 flex-shrink-0 mt-0.5"}),g.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:C.vicinity})]}),C.distance&&g.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[g.jsxs("span",{className:"text-teal-600 dark:text-teal-400 font-medium",children:[hT(C.distance)," bort"]}),g.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["ca ",_De(C.distance)]})]})]}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsxs("button",{onClick:()=>S(C),className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[g.jsx(La,{size:16}),"Lgg till"]}),C.formatted_phone_number&&g.jsxs("a",{href:`tel:${C.formatted_phone_number}`,className:"px-4 py-2 bg-slate-100 dark:bg-nordic-dark-bg hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[g.jsx(cC,{size:16}),"Ring"]}),g.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(C.name+" "+C.vicinity)}&query_place_id=${C.place_id}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-slate-100 dark:bg-nordic-dark-bg hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[g.jsx(_0,{size:16}),"Karta"]})]})]})},C.place_id)})}),!a&&i.length===0&&!u&&g.jsxs("div",{className:"text-center py-12",children:[g.jsx(gh,{size:48,className:"mx-auto mb-4 text-slate-400"}),g.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:["Inga verkstder hittades inom ",p/1e3," km."]}),g.jsxs("button",{onClick:()=>h(p*2),className:"mt-4 text-teal-600 dark:text-teal-400 hover:underline",children:["Sk inom ",p*2/1e3," km istllet"]})]})]}):g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm text-center",children:[g.jsx(gh,{size:48,className:"mx-auto mb-4 text-slate-400"}),g.jsx("h3",{className:"text-xl font-bold mb-2 dark:text-white",children:"Aktivera platstjnster"}),g.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:"Fr att hitta verkstder i ditt omrde behver vi din plats."}),g.jsxs("button",{onClick:r,className:"px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white rounded-xl font-medium transition-colors flex items-center gap-2 mx-auto",children:[g.jsx(xpe,{size:20}),"Aktivera platstjnster"]})]})},EDe=()=>g.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-2xl p-4 mt-6",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(lC,{size:20,className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300",children:"Ett litet meddelande frn verkstan:"}),g.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400/80 mt-1",children:"Elton gr sitt bsta fr att hmta korrekt data, men ibland kan det smyga sig in ett fel. Dubbelkolla alltid kritisk information! Om du hittar ngot som inte stmmer, blir vi superglada om du rapporterar det till oss. Tillsammans gr vi Elton smartare!"})]})]})}),SDe=({vehicleData:t,tasks:e=[],serviceLog:n=[],fuelLog:r=[],contacts:i=[],projectLocation:o,onAddService:a,onAddFuel:l,onUpdateSpecs:u,onUpdateContacts:d,onUpdateLocation:p,projectType:h})=>{const[y,b]=Rt.useState("overview"),[E,S]=Rt.useState(o||null),[_,C]=Rt.useState(!1),[R,I]=Rt.useState(!1),[O,U]=Rt.useState({description:"",date:"",mileage:"",performer:"",type:"Service"}),[M,D]=Rt.useState({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0}),[L,z]=Rt.useState({}),B=()=>{z({load:t.weights.load,curb:t.weights.curb,total:t.weights.total,trailer:t.weights.trailer,length:t.dimensions.length,width:t.dimensions.width,power:t.engine.power,fuel:t.engine.fuel,gearbox:t.gearbox,tires:t.wheels.tiresFront,mileage:t.inspection.mileage,vin:t.vin}),I(!0)},V=async()=>{C(!0);try{const Y=await wDe();if(Y&&Y.coordinates){const H={city:Y.city,lat:Y.coordinates.lat,lng:Y.coordinates.lng};S(H),p&&p({city:Y.city,region:Y.region,country:Y.country,coordinates:Y.coordinates,source:Y.source,lastUpdated:Y.lastUpdated})}}catch(Y){console.error("Location error:",Y)}finally{C(!1)}},q=Y=>{d&&(d([...i,Y]),b("contacts"))},F=()=>{u&&(u({weights:{...t.weights,load:Number(L.load),curb:Number(L.curb),total:Number(L.total),trailer:Number(L.trailer)},dimensions:{...t.dimensions,length:Number(L.length),width:Number(L.width)},engine:{...t.engine,power:L.power,fuel:L.fuel},gearbox:L.gearbox,wheels:{...t.wheels,tiresFront:L.tires,tiresRear:L.tires},inspection:{...t.inspection,mileage:L.mileage},vin:L.vin}),I(!1))},oe=()=>{!O.description||!a||(a({id:Math.random().toString(36).substr(2,9),...O,type:O.type}),U({description:"",date:"",mileage:"",performer:"",type:"Service"}))},Z=()=>{if(!M.liters||!l)return;const Y=parseFloat(M.liters),H=parseFloat(M.pricePerLiter);l({id:Math.random().toString(36).substr(2,9),date:M.date||new Date().toISOString().split("T")[0],mileage:parseInt(M.mileage)||0,liters:Y,pricePerLiter:H,totalCost:Y*H,fullTank:M.full}),D({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0})},X=e.reduce((Y,H)=>Y+(H.weightKg||0),0),J=t.weights.load,ie=J-X,te=Math.min(X/J*100,100),G=({title:Y,icon:H,children:fe,warning:Se,onEdit:we})=>g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl p-6 border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full relative group",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"p-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-xl text-nordic-charcoal dark:text-nordic-ice",children:g.jsx(H,{size:20})}),g.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:Y})]}),g.jsxs("div",{className:"flex gap-2",children:[Se&&g.jsx(Yh,{size:18,className:"text-amber-500"}),we&&!R&&g.jsx("button",{onClick:we,className:"p-1 text-slate-300 hover:text-teal-600 opacity-0 group-hover:opacity-100 transition-all",children:g.jsx(JF,{size:16})})]})]}),g.jsx("div",{className:"space-y-3",children:fe})]}),W=({label:Y,value:H,highlight:fe=!1,editKey:Se})=>g.jsxs("div",{className:`flex justify-between items-center py-2 border-b border-slate-50 dark:border-nordic-charcoal last:border-0 ${fe?"bg-teal-50/50 dark:bg-teal-900/20 -mx-2 px-2 rounded-lg":""}`,children:[g.jsx("span",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted font-medium",children:Y}),R&&Se?g.jsx("input",{className:"text-sm font-bold text-right bg-white dark:bg-black/20 border border-slate-200 dark:border-nordic-charcoal rounded px-2 py-1 w-24",value:L[Se],onChange:we=>z({...L,[Se]:we.target.value})}):g.jsx("span",{className:`text-sm font-bold text-right ${fe?"text-teal-700 dark:text-teal-400":"text-nordic-charcoal dark:text-nordic-ice"}`,children:H})]});return g.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in",children:[g.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide bg-white dark:bg-nordic-dark-surface p-2 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg sticky top-0 z-20 shadow-sm",children:[g.jsx("button",{onClick:()=>b("overview"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${y==="overview"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Garage & Data"}),g.jsx("button",{onClick:()=>b("contacts"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${y==="contacts"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Kontakter"}),g.jsx("button",{onClick:()=>b("find-workshop"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${y==="find-workshop"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Hitta Verkstad"}),g.jsx("button",{onClick:()=>b("service"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${y==="service"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Servicebok"}),g.jsx("button",{onClick:()=>b("fuel"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${y==="fuel"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Brnsle"})]}),y==="overview"&&g.jsxs(g.Fragment,{children:[(!h||h!=="maintenance")&&g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[g.jsx(Vz,{className:"text-teal-600"})," Viktkalkylator"]}),g.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted",children:"Hll koll p lastvikten."})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-slate-400",children:"Kvar att lasta"}),g.jsxs("p",{className:`text-3xl font-mono font-bold ${ie<100?"text-rose-500":"text-teal-600"}`,children:[ie," kg"]})]})]}),g.jsx("div",{className:"relative h-6 bg-slate-100 dark:bg-nordic-dark-bg rounded-full overflow-hidden mb-2",children:g.jsx("div",{className:`h-full transition-all duration-1000 ${te>90?"bg-rose-500":te>75?"bg-amber-400":"bg-teal-500"}`,style:{width:`${te}%`}})}),g.jsxs("div",{className:"flex justify-between text-xs font-mono text-slate-400",children:[g.jsx("span",{children:"0 kg"}),g.jsxs("span",{children:["Tjnstevikt: ",t.weights.curb," kg"]}),g.jsxs("span",{children:["Maxlast: ",t.weights.load," kg"]})]})]}),R&&g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 text-slate-500 hover:bg-white rounded-xl",children:"Avbryt"}),g.jsx("button",{onClick:F,className:"px-6 py-2 bg-teal-600 text-white rounded-xl font-bold shadow-lg hover:bg-teal-700",children:"Spara ndringar"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[g.jsxs(G,{title:"Last & Mtt",icon:Vz,onEdit:B,children:[g.jsx(W,{label:"Max Lastvikt",value:`${t.weights.load} kg`,highlight:!0,editKey:"load"}),g.jsx(W,{label:"Tjnstevikt",value:`${t.weights.curb} kg`,editKey:"curb"}),g.jsx(W,{label:"Totalvikt",value:`${t.weights.total} kg`,editKey:"total"}),g.jsx(W,{label:"Max Slpvagn",value:`${t.weights.trailer} kg`,editKey:"trailer"}),g.jsx("div",{className:"pt-2"}),g.jsx(W,{label:"Lngd",value:`${t.dimensions.length} mm`,editKey:"length"}),g.jsx(W,{label:"Bredd",value:`${t.dimensions.width} mm`,editKey:"width"})]}),g.jsxs(G,{title:"Drivlina & Hjul",icon:QF,onEdit:B,children:[g.jsx(W,{label:"Motor",value:t.engine.power,highlight:!0,editKey:"power"}),g.jsx(W,{label:"Brnsle",value:t.engine.fuel,editKey:"fuel"}),g.jsx(W,{label:"Vxellda",value:t.gearbox,editKey:"gearbox"}),g.jsx("div",{className:"pt-2"}),g.jsx(W,{label:"Dck",value:t.wheels.tiresFront,editKey:"tires"})]}),g.jsxs(G,{title:"Historik & Status",icon:sC,warning:!0,onEdit:B,children:[g.jsx(W,{label:"Registreringsnummer",value:t.regNo,highlight:!0}),g.jsx(W,{label:"Ramnummer (VIN)",value:t.vin||"-",editKey:"vin"}),g.jsx(W,{label:"Mtarstllning",value:t.inspection.mileage,highlight:!0,editKey:"mileage"}),g.jsx(W,{label:"Senast Besiktigad",value:t.inspection.last}),g.jsx(W,{label:"Antal gare",value:t.history.owners}),g.jsx(W,{label:"Frsta Trafik",value:t.regDate})]})]}),t.expertAnalysis&&g.jsx("div",{className:"col-span-1 md:col-span-2 xl:col-span-3",children:g.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-200 dark:border-amber-800 rounded-3xl p-6",children:[g.jsxs("h3",{className:"font-serif font-bold text-xl text-amber-800 dark:text-amber-500 mb-4 flex items-center gap-2",children:[g.jsx(Yh,{size:24})," Expertens Analys"]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-sm uppercase text-amber-900/50 mb-3",children:"Vanliga fel & Varningar"}),g.jsx("ul",{className:"space-y-3",children:t.expertAnalysis.commonFaults.map((Y,H)=>g.jsxs("li",{className:"bg-white dark:bg-nordic-charcoal p-3 rounded-xl border border-amber-100 dark:border-amber-900/30 shadow-sm",children:[g.jsxs("div",{className:"flex justify-between items-start mb-1",children:[g.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:Y.title}),g.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${Y.urgency==="High"?"bg-rose-100 text-rose-700":Y.urgency==="Medium"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:Y.urgency})]}),g.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-snug",children:Y.description})]},H))})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-sm uppercase text-amber-900/50 mb-3",children:"Modifieringar & Tips"}),g.jsx("ul",{className:"space-y-3",children:t.expertAnalysis.modificationTips.map((Y,H)=>g.jsxs("li",{className:"bg-white dark:bg-nordic-charcoal p-3 rounded-xl border border-amber-100 dark:border-amber-900/30 shadow-sm",children:[g.jsx("span",{className:"font-bold text-teal-700 dark:text-teal-400 block mb-1",children:Y.title}),g.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-snug",children:Y.description})]},H))}),t.expertAnalysis.maintenanceNotes&&g.jsxs("div",{className:"mt-4 p-3 bg-white dark:bg-nordic-charcoal rounded-xl border border-amber-100 text-sm italic text-slate-500",children:['" ',t.expertAnalysis.maintenanceNotes,' "']})]})]})]})})]}),y==="contacts"&&g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx(cC,{size:24,className:"text-teal-600"}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice",children:"Verkstadskontakter"}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Spara kontakter till verkstder, specialister och frskring"})]})]})}),g.jsx(gDe,{contacts:i,onUpdate:Y=>d&&d(Y),featureLocation:"vehicleSpecs"})]}),y==="service"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[g.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[g.jsx(La,{size:20})," Ny Servicehndelse"]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Beskrivning (t.ex. Oljebyte)",value:O.description,onChange:Y=>U({...O,description:Y.target.value})}),g.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Utfrare (t.ex. Mekonomen / Jag)",value:O.performer,onChange:Y=>U({...O,performer:Y.target.value})}),g.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:O.date,onChange:Y=>U({...O,date:Y.target.value})}),g.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtarstllning (mil)",value:O.mileage,onChange:Y=>U({...O,mileage:Y.target.value})})]}),g.jsx("button",{onClick:oe,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara till Serviceboken"})]}),g.jsxs("div",{className:"space-y-4",children:[n.length===0&&g.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga poster n."}),n.map((Y,H)=>g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:Y.description}),g.jsxs("p",{className:"text-xs text-slate-500",children:[Y.date,"  ",Y.mileage]})]}),g.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold rounded-lg",children:Y.performer})]},H))]})]}),y==="find-workshop"&&g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx(dp,{size:24,className:"text-teal-600"}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice",children:"Hitta Verkstder"}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Sk efter verkstder baserat p din plats och bilens mrke"})]})]})}),g.jsx(TDe,{userLocation:E,vehicleMake:t.make,onAddContact:q,onRequestLocation:V})]}),y==="fuel"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[g.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[g.jsx(Ud,{size:20})," Logga Tankning"]}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[g.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:M.date,onChange:Y=>D({...M,date:Y.target.value})}),g.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Liter",type:"number",value:M.liters,onChange:Y=>D({...M,liters:Y.target.value})}),g.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Pris/L",type:"number",value:M.pricePerLiter,onChange:Y=>D({...M,pricePerLiter:Y.target.value})}),g.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtare (mil)",type:"number",value:M.mileage,onChange:Y=>D({...M,mileage:Y.target.value})})]}),g.jsx("button",{onClick:Z,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara Tankning"})]}),g.jsxs("div",{className:"space-y-4",children:[r.length===0&&g.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga tankningar loggade."}),r.map((Y,H)=>g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsxs("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[Y.liters," liter"]}),g.jsxs("p",{className:"text-xs text-slate-500",children:[Y.date,"  ",Y.mileage," mil"]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"font-mono font-bold text-teal-600",children:[Math.round(Y.totalCost)," kr"]}),g.jsxs("p",{className:"text-xs text-slate-400",children:[Y.pricePerLiter," kr/l"]})]})]},H))]})]}),g.jsx(EDe,{})]})},ADe=({items:t,tasks:e=[],onToggle:n,onAdd:r,onUpdate:i,onDelete:o,onUploadReceipt:a})=>{const[l,u]=A.useState(""),[d,p]=A.useState(""),[h,y]=A.useState("Reservdelar"),[b,E]=A.useState("ALL"),[S,_]=A.useState(null),[C,R]=A.useState(!1),[I,O]=A.useState("category"),[U,M]=A.useState(""),[D,L]=A.useState(""),[z,B]=A.useState(""),[V,q]=A.useState(""),F=te=>{var G;_(te),M(((G=te.actualCost)==null?void 0:G.toString())||""),L(te.url||""),B(te.store||""),q(te.linkedTaskId||"")},oe=()=>{S&&(i({...S,actualCost:parseInt(U)||void 0,url:D,store:z,linkedTaskId:V,checked:parseInt(U)>0?!0:S.checked}),_(null))},Z=async te=>{var W;const G=(W=te.target.files)==null?void 0:W[0];if(G&&S){R(!0);try{await a(S.id,G),_(null)}catch(Y){console.error("Upload failed",Y)}finally{R(!1)}}},X=["Reservdelar","Kemi & Frg","Verktyg","Inredning","vrigt"];t.reduce((te,G)=>te+(G.checked?0:G.estimatedCost),0),t.reduce((te,G)=>te+(G.actualCost||0),0);const J=b==="ALL"?X:[b],ie=A.useMemo(()=>{const te=new Map;return t.forEach(G=>{let W=G.store||"Ospecificerad";if(G.options&&G.selectedOptionId){const Y=G.options.find(H=>H.id===G.selectedOptionId);Y&&(W=Y.store)}te.has(W)||te.set(W,[]),te.get(W).push(G)}),Array.from(te.entries()).map(([G,W])=>{const Y=W.filter(we=>{if(we.options&&we.selectedOptionId){const Ce=we.options.find(Ue=>Ue.id===we.selectedOptionId);return Ce==null?void 0:Ce.shelfLocation}return!1}),H=W.filter(we=>{if(we.options&&we.selectedOptionId){const Ce=we.options.find(Ue=>Ue.id===we.selectedOptionId);return!(Ce!=null&&Ce.shelfLocation)}return!0});Y.sort((we,Ce)=>{var ve,at;const Ue=(ve=we.options)==null?void 0:ve.find(Fe=>Fe.id===we.selectedOptionId),ae=(at=Ce.options)==null?void 0:at.find(Fe=>Fe.id===Ce.selectedOptionId),Ae=(Ue==null?void 0:Ue.shelfLocation)||"",qe=(ae==null?void 0:ae.shelfLocation)||"";return Ae.localeCompare(qe,"sv")}),H.sort((we,Ce)=>{var ve,at;const Ue=(ve=we.options)==null?void 0:ve.find(Fe=>Fe.id===we.selectedOptionId),ae=(at=Ce.options)==null?void 0:at.find(Fe=>Fe.id===Ce.selectedOptionId),Ae=(Ue==null?void 0:Ue.articleNumber)||"",qe=(ae==null?void 0:ae.articleNumber)||"";return Ae.localeCompare(qe,"sv")});const fe=[...Y,...H],Se=W.reduce((we,Ce)=>we+(Ce.estimatedCost||0),0);return{store:G,items:fe,totalCost:Se,itemsWithLocation:Y,itemsWithoutLocation:H}}).sort((G,W)=>W.totalCost-G.totalCost)},[t]);return g.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in relative",children:[g.jsx("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm"}),g.jsxs("div",{className:"flex items-center justify-between gap-4",children:[g.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide",children:[I==="category"&&X.map(te=>g.jsx("button",{onClick:()=>E(b===te?"ALL":te),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${b===te?"bg-nordic-charcoal text-white dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted"}`,children:te},te)),I==="store"&&ie.map(({store:te})=>g.jsx("button",{onClick:()=>E(b===te?"ALL":te),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${b===te?"bg-nordic-charcoal text-white dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted"}`,children:te},te))]}),g.jsxs("div",{className:"flex gap-2 bg-white dark:bg-nordic-dark-surface p-1 rounded-full border border-nordic-ice dark:border-nordic-dark-bg",children:[g.jsxs("button",{onClick:()=>O("category"),className:`px-3 py-1.5 rounded-full text-xs font-medium flex items-center gap-1.5 transition-all ${I==="category"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:text-nordic-charcoal dark:text-nordic-dark-muted"}`,children:[g.jsx(Ude,{size:14}),"Kategori"]}),g.jsxs("button",{onClick:()=>O("store"),className:`px-3 py-1.5 rounded-full text-xs font-medium flex items-center gap-1.5 transition-all ${I==="store"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:text-nordic-charcoal dark:text-nordic-dark-muted"}`,children:[g.jsx($z,{size:14}),"Butik"]})]})]}),g.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg flex flex-col md:flex-row gap-3 shadow-sm"}),I==="category"&&g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:J.map(te=>{const G=t.filter(W=>W.category===te);return G.length===0?null:g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg overflow-hidden animate-fade-in",children:[g.jsxs("div",{className:"bg-nordic-ice/50 dark:bg-nordic-charcoal/50 p-4 border-b border-nordic-ice dark:border-nordic-dark-bg flex justify-between items-center",children:[g.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm uppercase tracking-wider",children:te}),g.jsxs("span",{className:"text-xs text-slate-400 bg-white dark:bg-nordic-dark-bg px-2 py-1 rounded-md",children:[G.length," st"]})]}),g.jsx("div",{className:"divide-y divide-slate-50 dark:divide-nordic-charcoal",children:G.map(W=>g.jsxs("div",{className:`p-4 flex items-center gap-3 transition-all hover:bg-slate-50 dark:hover:bg-nordic-charcoal/30 cursor-pointer group ${W.checked?"bg-slate-50/50 dark:bg-black/20":""}`,onClick:()=>F(W),children:[g.jsx("button",{onClick:Y=>{Y.stopPropagation(),n(W.id)},className:"flex-shrink-0",children:W.checked?g.jsx(Un,{size:20,className:"text-green-500"}):g.jsx(Cs,{size:20,className:"text-slate-300"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:`font-medium ${W.checked?"line-through text-slate-400":"text-nordic-charcoal dark:text-nordic-ice"}`,children:W.name}),g.jsxs("p",{className:"text-xs text-slate-400",children:[W.quantity,"  ",W.estimatedCost," kr"]})]})]},W.id))})]},te)})}),I==="store"&&g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:ie.map(({store:te,items:G,totalCost:W,itemsWithLocation:Y,itemsWithoutLocation:H})=>b!=="ALL"&&b!==te?null:g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg overflow-hidden animate-fade-in",children:[g.jsxs("div",{className:"bg-teal-50 dark:bg-teal-900/20 p-4 border-b border-teal-100 dark:border-teal-900/40 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx($z,{size:18,className:"text-teal-600 dark:text-teal-400"}),g.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm uppercase tracking-wider",children:te})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("span",{className:"text-xs text-slate-400 block",children:[G.length," items"]}),g.jsxs("span",{className:"text-xs font-mono text-teal-600 dark:text-teal-400",children:[W," kr"]})]})]}),g.jsxs("div",{className:"divide-y divide-slate-50 dark:divide-nordic-charcoal",children:[Y.map(fe=>{var we;const Se=(we=fe.options)==null?void 0:we.find(Ce=>Ce.id===fe.selectedOptionId);return g.jsxs("div",{className:`p-4 flex items-center gap-3 transition-all hover:bg-slate-50 dark:hover:bg-nordic-charcoal/30 cursor-pointer group ${fe.checked?"bg-slate-50/50 dark:bg-black/20":""}`,onClick:()=>F(fe),children:[g.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),n(fe.id)},className:"flex-shrink-0",children:fe.checked?g.jsx(Un,{size:20,className:"text-green-500"}):g.jsx(Cs,{size:20,className:"text-slate-300"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:`font-medium ${fe.checked?"line-through text-slate-400":"text-nordic-charcoal dark:text-nordic-ice"}`,children:fe.name}),g.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[g.jsxs("span",{className:"text-xs bg-teal-100 dark:bg-teal-900/30 text-teal-700 dark:text-teal-300 px-2 py-0.5 rounded font-mono",children:[" ",Se==null?void 0:Se.shelfLocation]}),(Se==null?void 0:Se.articleNumber)&&g.jsxs("span",{className:"text-xs text-slate-400",children:["Art: ",Se.articleNumber]})]})]}),g.jsxs("span",{className:"text-sm font-mono text-slate-600 dark:text-slate-300",children:[fe.estimatedCost," kr"]})]},fe.id)}),H.map(fe=>{var we;const Se=(we=fe.options)==null?void 0:we.find(Ce=>Ce.id===fe.selectedOptionId);return g.jsxs("div",{className:`p-4 flex items-center gap-3 transition-all hover:bg-slate-50 dark:hover:bg-nordic-charcoal/30 cursor-pointer group ${fe.checked?"bg-slate-50/50 dark:bg-black/20":""}`,onClick:()=>F(fe),children:[g.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),n(fe.id)},className:"flex-shrink-0",children:fe.checked?g.jsx(Un,{size:20,className:"text-green-500"}):g.jsx(Cs,{size:20,className:"text-slate-300"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:`font-medium ${fe.checked?"line-through text-slate-400":"text-nordic-charcoal dark:text-nordic-ice"}`,children:fe.name}),(Se==null?void 0:Se.articleNumber)&&g.jsxs("p",{className:"text-xs text-slate-400",children:["Art: ",Se.articleNumber]})]}),g.jsxs("span",{className:"text-sm font-mono text-slate-600 dark:text-slate-300",children:[fe.estimatedCost," kr"]})]},fe.id)})]})]},te))}),S&&g.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-md rounded-3xl shadow-xl overflow-hidden animate-fade-in",children:[g.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-nordic-dark-bg flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:S.name}),g.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wider",children:S.category})]}),g.jsx("button",{onClick:()=>_(null),className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full",children:g.jsx(lr,{size:20,className:"text-slate-500"})})]}),g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-slate-500 block mb-2",children:"Kvitto"}),S.receiptUrl?g.jsxs("div",{className:"relative rounded-xl overflow-hidden border border-slate-200 dark:border-nordic-charcoal",children:[g.jsx("a",{href:S.receiptUrl,target:"_blank",rel:"noreferrer",children:g.jsx("img",{src:S.receiptUrl,alt:"Kvitto",className:"w-full h-48 object-cover"})}),g.jsx("button",{onClick:()=>i({...S,receiptUrl:void 0}),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md text-rose-500",children:g.jsx(Ql,{size:16})})]}):g.jsx("label",{className:`border-2 border-dashed border-slate-200 dark:border-nordic-charcoal rounded-xl p-6 flex flex-col items-center justify-center text-slate-400 transition-colors ${C?"bg-slate-100":"hover:bg-slate-50 dark:hover:bg-nordic-dark-bg cursor-pointer"}`,children:C?g.jsxs(g.Fragment,{children:[g.jsx(Js,{className:"animate-spin text-teal-500",size:24}),g.jsx("span",{className:"text-sm mt-2",children:"Laddar upp..."})]}):g.jsxs(g.Fragment,{children:[g.jsx(nw,{size:24,className:"mb-2"}),g.jsx("span",{className:"text-sm",children:"Ladda upp bild"}),g.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Z,disabled:C})]})})]}),g.jsxs("button",{onClick:oe,className:"w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-slate-800 dark:hover:bg-teal-700",children:[g.jsx(TE,{size:18})," Spara ndringar"]})]})]})}),t.length===0&&g.jsx("div",{className:"text-center py-20",children:g.jsx("p",{className:"text-slate-400",children:"Listan r tom."})})]})},CDe={url:typeof window<"u"?window.location.origin:"http://localhost:5173",handleCodeInApp:!0},IDe=async t=>{try{const e={...CDe,url:window.location.origin};return await g_e(Tu,t,e),window.localStorage.setItem("emailForSignIn",t),{success:!0}}catch(e){return console.error("Error sending email link",e),{success:!1,error:e.message}}},NDe=async()=>{if(m_e(Tu,window.location.href)){let t=window.localStorage.getItem("emailForSignIn");if(t||(t=window.prompt("Vnligen bekrfta din e-postadress fr att logga in:")),t)try{const e=await y_e(Tu,t,window.location.href);return window.localStorage.removeItem("emailForSignIn"),window.history.replaceState({},document.title,window.location.pathname),{success:!0,user:e.user}}catch(e){return console.error("Error signing in",e),{success:!1,error:e.message}}}return{success:!1,error:"Not a sign-in link"}},RDe=async(t,e)=>{try{return{success:!0,user:(await h_e(Tu,t,e)).user}}catch(n){console.error("Login failed",n);let r=n.message;return n.code==="auth/invalid-credential"&&(r="Fel e-post eller lsenord."),{success:!1,error:r}}},ODe=async(t,e)=>{try{return{success:!0,user:(await f_e(Tu,t,e)).user}}catch(n){console.error("Registration failed",n);let r=n.message;return n.code==="auth/email-already-in-use"&&(r="Adressen anvnds redan."),n.code==="auth/weak-password"&&(r="Lsenordet r fr svagt (minst 6 tecken)."),{success:!1,error:r}}},PDe=async()=>{await x_e(Tu)},DDe=t=>w_e(Tu,t),MDe=({onDemo:t})=>{const[e,n]=A.useState("magic-link"),[r,i]=A.useState(""),[o,a]=A.useState(""),[l,u]=A.useState(""),[d,p]=A.useState("intermediate"),[h,y]=A.useState(!1),[b,E]=A.useState(!1),[S,_]=A.useState(null),C=async()=>{if(r){_(null),y(!0);try{if(e==="magic-link"){const R=await IDe(r);R.success?E(!0):_(R.error||"Kunde inte skicka lnk.")}else if(e==="login"){const R=await RDe(r,o);R.success||_(R.error||"Inloggning misslyckades.")}else if(e==="register"){if(!l.trim()){_("Vnligen ange ditt namn."),y(!1);return}const R=await ODe(r,o);R.success&&R.user?await cS(R.user.uid,{name:l,email:r,skillLevel:d}):_(R.error||"Registrering misslyckades.")}}catch{_("Ett ovntat fel uppstod.")}finally{y(!1)}}};return g.jsxs("div",{className:"min-h-screen bg-nordic-ice flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-teal-100 rounded-full blur-[100px] opacity-50"}),g.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-rose-100 rounded-full blur-[100px] opacity-50"}),g.jsxs("div",{className:"max-w-md w-full bg-white/80 backdrop-blur-xl p-8 rounded-[40px] shadow-2xl border border-white z-10 relative transition-all duration-300",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal mb-2",children:"The VanPlan"}),g.jsx("p",{className:"text-slate-500 text-sm tracking-wide uppercase",children:"Ditt digitala garage"})]}),b?g.jsxs("div",{className:"text-center space-y-6 py-8 animate-fade-in",children:[g.jsx("div",{className:"w-20 h-20 bg-teal-100 text-teal-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:g.jsx(Og,{size:40})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal mb-2",children:"Lnk skickad!"}),g.jsxs("p",{className:"text-slate-500",children:["Vi har skickat ett mail till ",g.jsx("span",{className:"font-bold text-nordic-charcoal",children:r}),"."]}),g.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Klicka p lnken i mailet fr att logga in. Du kan stnga denna flik om du ppnar lnken p samma enhet."})]}),g.jsx("button",{onClick:()=>E(!1),className:"text-sm text-slate-400 hover:text-nordic-charcoal underline",children:"Skickade jag fel adress?"})]}):g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex p-1 bg-slate-100 rounded-xl mb-6",children:[g.jsx("button",{onClick:()=>{n("magic-link"),_(null)},className:Ft("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e==="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Magisk Lnk"}),g.jsx("button",{onClick:()=>{n("login"),_(null)},className:Ft("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e!=="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Lsenord"})]}),g.jsxs("div",{className:"text-center mb-4",children:[g.jsxs("h2",{className:"text-lg font-bold text-nordic-charcoal",children:[e==="magic-link"&&"Lsenordsfri inloggning",e==="login"&&"Logga in",e==="register"&&"Vlkommen! Vad heter du?"]}),g.jsxs("p",{className:"text-xs text-slate-500",children:[e==="magic-link"&&"Vi skickar en inloggningslnk till din e-post.",e==="login"&&"Logga in med ditt lsenord.",e==="register"&&"Skapa ett konto fr att komma igng."]})]}),g.jsxs("div",{className:"space-y-3",children:[e==="register"&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"relative animate-fade-in",children:[g.jsx(iw,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),g.jsx("input",{type:"text",value:l,onChange:R=>u(R.target.value),placeholder:"Ditt namn",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),g.jsxs("div",{className:"relative animate-fade-in",children:[g.jsx(Da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),g.jsxs("select",{value:d,onChange:R=>p(R.target.value),className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all appearance-none",children:[g.jsx("option",{value:"beginner",children:"Nybrjare - Jag har ingen erfarenhet"}),g.jsx("option",{value:"intermediate",children:"Mellanhand - Jag kan enklare reparationer"}),g.jsx("option",{value:"expert",children:"Expert - Jag r en erfaren mekaniker"})]})]})]}),g.jsxs("div",{className:"relative",children:[g.jsx(Kh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),g.jsx("input",{type:"email",value:r,onChange:R=>i(R.target.value),placeholder:"din@epost.se",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),e!=="magic-link"&&g.jsxs("div",{className:"relative animate-fade-in",children:[g.jsx(rw,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),g.jsx("input",{type:"password",value:o,onChange:R=>a(R.target.value),placeholder:"Lsenord",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]})]}),S&&g.jsx("div",{className:"p-3 bg-rose-50 border border-rose-100 rounded-xl animate-fade-in",children:g.jsx("p",{className:"text-xs text-rose-600 font-medium text-center",children:S})}),g.jsxs("button",{onClick:C,disabled:h||!r||e!=="magic-link"&&!o,className:"w-full py-4 bg-nordic-charcoal text-white font-bold rounded-2xl shadow-lg shadow-slate-300 hover:bg-slate-800 transition-all active:scale-95 flex items-center justify-center gap-2 mt-4 disabled:opacity-50",children:[h?g.jsx(Js,{className:"animate-spin",size:18}):e==="magic-link"?g.jsx(Kh,{size:18}):g.jsx(VF,{size:18}),h?"Arbetar...":e==="magic-link"?"Skicka lnk":e==="login"?"Logga in":"Skapa konto"]}),e!=="magic-link"&&g.jsx("div",{className:"text-center mt-2",children:g.jsx("button",{onClick:()=>{n(e==="login"?"register":"login"),_(null)},className:"text-xs text-slate-400 hover:text-teal-600 font-medium transition-colors",children:e==="login"?"Inget konto? Registrera dig hr.":"Har du redan konto? Logga in."})}),g.jsxs("div",{className:"relative my-8 text-center",children:[g.jsx("div",{className:"h-px bg-slate-200 w-full absolute top-1/2"}),g.jsx("span",{className:"bg-white px-3 text-xs text-slate-400 relative z-10 font-medium",children:"ELLER"})]}),g.jsxs("button",{onClick:t,className:"w-full py-4 bg-teal-50 text-teal-800 font-bold rounded-2xl border border-teal-100 hover:bg-teal-100 transition-colors flex items-center justify-center gap-2",children:[g.jsx(Ide,{size:18})," Visa Demo (Elton)"]})]}),g.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-8",children:" 2025 The VanPlan. Autentisering via Google Firebase."})]})]})},zDe=({message:t,type:e="info",duration:n=5e3,onClose:r})=>{const[i,o]=A.useState(!0);A.useEffect(()=>{if(n>0){const d=setTimeout(()=>{o(!1),r&&setTimeout(r,300)},n);return()=>clearTimeout(d)}},[n,r]);const a=()=>{o(!1),r&&setTimeout(r,300)},u=(()=>{switch(e){case"success":return{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:g.jsx(Un,{size:20,className:"text-green-600"})};case"warning":return{bg:"bg-amber-50 border-amber-200",text:"text-amber-800",icon:g.jsx(Yh,{size:20,className:"text-amber-600"})};case"error":return{bg:"bg-rose-50 border-rose-200",text:"text-rose-800",icon:g.jsx(qF,{size:20,className:"text-rose-600"})};case"info":default:return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:g.jsx(lC,{size:20,className:"text-blue-600"})}}})();return i?g.jsx("div",{role:"status","aria-live":"polite",className:`fixed top-4 right-4 z-[1000] max-w-md ${u.bg} border rounded-2xl p-4 shadow-xl transition-all duration-300 ${i?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}`,children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"shrink-0 mt-0.5",children:u.icon}),g.jsx("p",{className:`flex-1 text-sm font-medium ${u.text}`,children:t}),g.jsx("button",{onClick:a,className:`shrink-0 ${u.text} hover:opacity-70 transition-opacity`,"aria-label":"Close",children:g.jsx(lr,{size:18})})]})}):null},LDe=({toasts:t,onRemove:e})=>Kl.createPortal(g.jsx("div",{className:"fixed top-4 right-4 flex flex-col gap-3 pointer-events-none",style:{zIndex:2147483647,isolation:"isolate"},children:t.map((n,r)=>g.jsx("div",{className:"pointer-events-auto",style:{animationDelay:`${r*100}ms`},children:g.jsx(zDe,{message:n.message,type:n.type,duration:n.duration,onClose:()=>e(n.id)})},n.id))}),document.body),jDe=()=>{const[t,e]=A.useState([]),n=(u,d="info",p=5e3)=>{const h=Math.random().toString(36).substr(2,9);e(y=>[...y,{id:h,message:u,type:d,duration:p}])};return{toasts:t,addToast:n,removeToast:u=>{e(d=>d.filter(p=>p.id!==u))},success:(u,d)=>n(u,"success",d),warning:(u,d)=>n(u,"warning",d),error:(u,d)=>n(u,"error",d),info:(u,d)=>n(u,"info",d)}},UDe=JSON.parse('[{"name":"9ff","slug":"9ff","image":{"source":"https://www.carlogos.org/logo/9ff-logo-2560x1400.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/9ff.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/9ff.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/9ff.png","localThumb":"./thumb/9ff.png","localOptimized":"./optimized/9ff.png","localOriginal":"./original/9ff.png"}},{"name":"Abadal","slug":"abadal","image":{"source":"https://www.carlogos.org/logo/Abadal-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abadal.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abadal.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abadal.png","localThumb":"./thumb/abadal.png","localOptimized":"./optimized/abadal.png","localOriginal":"./original/abadal.png"}},{"name":"Abarth","slug":"abarth","image":{"source":"https://www.carlogos.org/logo/Abarth-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abarth.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abarth.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abarth.png","localThumb":"./thumb/abarth.png","localOptimized":"./optimized/abarth.png","localOriginal":"./original/abarth.png"}},{"name":"Abbott-Detroit","slug":"abbott-detroit","image":{"source":"https://www.carlogos.org/logo/Abbott-Detroit-logo-640x107.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abbott-detroit.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abbott-detroit.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abbott-detroit.jpg","localThumb":"./thumb/abbott-detroit.png","localOptimized":"./optimized/abbott-detroit.png","localOriginal":"./original/abbott-detroit.jpg"}},{"name":"ABT","slug":"abt","image":{"source":"https://www.carlogos.org/logo/ABT-Sportsline-logo-silver-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abt.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abt.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abt.png","localThumb":"./thumb/abt.png","localOptimized":"./optimized/abt.png","localOriginal":"./original/abt.png"}},{"name":"AC","slug":"ac","image":{"source":"https://www.carlogos.org/logo/AC-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ac.png","localThumb":"./thumb/ac.png","localOptimized":"./optimized/ac.png","localOriginal":"./original/ac.png"}},{"name":"Acura","slug":"acura","image":{"source":"https://www.carlogos.org/logo/Acura-logo-1990-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/acura.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/acura.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/acura.png","localThumb":"./thumb/acura.png","localOptimized":"./optimized/acura.png","localOriginal":"./original/acura.png"}},{"name":"Aiways","slug":"aiways","image":{"source":"https://www.carlogos.org/car-logos/aiways-logo-2100x1350-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aiways.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aiways.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aiways.png","localThumb":"./thumb/aiways.png","localOptimized":"./optimized/aiways.png","localOriginal":"./original/aiways.png"}},{"name":"Aixam","slug":"aixam","image":{"source":"https://www.carlogos.org/logo/Aixam-logo-2010-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aixam.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aixam.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aixam.png","localThumb":"./thumb/aixam.png","localOptimized":"./optimized/aixam.png","localOriginal":"./original/aixam.png"}},{"name":"Alfa Romeo","slug":"alfa-romeo","image":{"source":"https://www.carlogos.org/logo/Alfa-Romeo-logo-2015-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alfa-romeo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alfa-romeo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alfa-romeo.png","localThumb":"./thumb/alfa-romeo.png","localOptimized":"./optimized/alfa-romeo.png","localOriginal":"./original/alfa-romeo.png"}},{"name":"Alpina","slug":"alpina","image":{"source":"https://www.carlogos.org/logo/Alpina-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alpina.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alpina.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alpina.png","localThumb":"./thumb/alpina.png","localOptimized":"./optimized/alpina.png","localOriginal":"./original/alpina.png"}},{"name":"Alpine","slug":"alpine","image":{"source":"https://www.carlogos.org/logo/Alpine-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alpine.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alpine.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alpine.png","localThumb":"./thumb/alpine.png","localOptimized":"./optimized/alpine.png","localOriginal":"./original/alpine.png"}},{"name":"Alta","slug":"alta","image":{"source":"https://www.carlogos.org/logo/Alta-logo-640x138.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alta.jpg","localThumb":"./thumb/alta.png","localOptimized":"./optimized/alta.png","localOriginal":"./original/alta.jpg"}},{"name":"Alvis","slug":"alvis","image":{"source":"https://www.carlogos.org/logo/Alvis-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alvis.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alvis.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alvis.png","localThumb":"./thumb/alvis.png","localOptimized":"./optimized/alvis.png","localOriginal":"./original/alvis.png"}},{"name":"AMC","slug":"amc","image":{"source":"https://www.carlogos.org/logo/American-Motors-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/amc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/amc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/amc.png","localThumb":"./thumb/amc.png","localOptimized":"./optimized/amc.png","localOriginal":"./original/amc.png"}},{"name":"Apollo","slug":"apollo","image":{"source":"https://www.carlogos.org/logo/Apollo-Automobil-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/apollo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/apollo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/apollo.png","localThumb":"./thumb/apollo.png","localOptimized":"./optimized/apollo.png","localOriginal":"./original/apollo.png"}},{"name":"Arash","slug":"arash","image":{"source":"https://www.carlogos.org/logo/Arash-logo-640x410.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arash.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arash.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arash.png","localThumb":"./thumb/arash.png","localOptimized":"./optimized/arash.png","localOriginal":"./original/arash.png"}},{"name":"Arcfox","slug":"arcfox","image":{"source":"https://www.carlogos.org/car-logos/arcfox-logo-1250x220-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arcfox.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arcfox.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arcfox.png","localThumb":"./thumb/arcfox.png","localOptimized":"./optimized/arcfox.png","localOriginal":"./original/arcfox.png"}},{"name":"Ariel","slug":"ariel","image":{"source":"https://www.carlogos.org/logo/Ariel-logo-2000-2500x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ariel.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ariel.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ariel.png","localThumb":"./thumb/ariel.png","localOptimized":"./optimized/ariel.png","localOriginal":"./original/ariel.png"}},{"name":"ARO","slug":"aro","image":{"source":"https://www.carlogos.org/logo/ARO-logo-640x567.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aro.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aro.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aro.jpg","localThumb":"./thumb/aro.png","localOptimized":"./optimized/aro.png","localOriginal":"./original/aro.jpg"}},{"name":"Arrinera","slug":"arrinera","image":{"source":"https://www.carlogos.org/logo/Arrinera-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arrinera.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arrinera.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arrinera.png","localThumb":"./thumb/arrinera.png","localOptimized":"./optimized/arrinera.png","localOriginal":"./original/arrinera.png"}},{"name":"Arrival","slug":"arrival","image":{"source":"https://www.carlogos.org/car-logos/arrival-logo-2600x350-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arrival.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arrival.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arrival.png","localThumb":"./thumb/arrival.png","localOptimized":"./optimized/arrival.png","localOriginal":"./original/arrival.png"}},{"name":"Artega","slug":"artega","image":{"source":"https://www.carlogos.org/logo/Artega-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/artega.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/artega.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/artega.png","localThumb":"./thumb/artega.png","localOptimized":"./optimized/artega.png","localOriginal":"./original/artega.png"}},{"name":"Ascari","slug":"ascari","image":{"source":"https://www.carlogos.org/logo/Ascari-logo-1995-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ascari.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ascari.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ascari.png","localThumb":"./thumb/ascari.png","localOptimized":"./optimized/ascari.png","localOriginal":"./original/ascari.png"}},{"name":"Askam","slug":"askam","image":{"source":"https://www.carlogos.org/logo/Askam-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/askam.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/askam.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/askam.png","localThumb":"./thumb/askam.png","localOptimized":"./optimized/askam.png","localOriginal":"./original/askam.png"}},{"name":"Aspark","slug":"aspark","image":{"source":"https://www.carlogos.org/car-logos/aspark-logo-1000x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aspark.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aspark.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aspark.png","localThumb":"./thumb/aspark.png","localOptimized":"./optimized/aspark.png","localOriginal":"./original/aspark.png"}},{"name":"Aston Martin","slug":"aston-martin","image":{"source":"https://www.carlogos.org/logo/Aston-Martin-logo-2003-6000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aston-martin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aston-martin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aston-martin.png","localThumb":"./thumb/aston-martin.png","localOptimized":"./optimized/aston-martin.png","localOriginal":"./original/aston-martin.png"}},{"name":"Atalanta","slug":"atalanta","image":{"source":"https://www.carlogos.org/logo/Atalanta-Motors-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/atalanta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/atalanta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/atalanta.png","localThumb":"./thumb/atalanta.png","localOptimized":"./optimized/atalanta.png","localOriginal":"./original/atalanta.png"}},{"name":"Auburn","slug":"auburn","image":{"source":"https://www.carlogos.org/logo/Auburn-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/auburn.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/auburn.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/auburn.png","localThumb":"./thumb/auburn.png","localOptimized":"./optimized/auburn.png","localOriginal":"./original/auburn.png"}},{"name":"Audi","slug":"audi","image":{"source":"https://www.carlogos.org/car-logos/audi-logo-2016-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/audi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/audi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/audi.png","localThumb":"./thumb/audi.png","localOptimized":"./optimized/audi.png","localOriginal":"./original/audi.png"}},{"name":"Audi Sport","slug":"audi-sport","image":{"source":"https://www.carlogos.org/logo/Audi-Sport-logo-2500x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/audi-sport.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/audi-sport.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/audi-sport.png","localThumb":"./thumb/audi-sport.png","localOptimized":"./optimized/audi-sport.png","localOriginal":"./original/audi-sport.png"}},{"name":"Austin","slug":"austin","image":{"source":"https://www.carlogos.org/logo/Austin-logo-640x500.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/austin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/austin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/austin.jpg","localThumb":"./thumb/austin.png","localOptimized":"./optimized/austin.png","localOriginal":"./original/austin.jpg"}},{"name":"Autobacs","slug":"autobacs","image":{"source":"https://www.carlogos.org/logo/Autobacs-logo-640x462.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/autobacs.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/autobacs.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/autobacs.jpg","localThumb":"./thumb/autobacs.png","localOptimized":"./optimized/autobacs.png","localOriginal":"./original/autobacs.jpg"}},{"name":"Autobianchi","slug":"autobianchi","image":{"source":"https://www.carlogos.org/logo/Autobianchi-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/autobianchi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/autobianchi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/autobianchi.png","localThumb":"./thumb/autobianchi.png","localOptimized":"./optimized/autobianchi.png","localOriginal":"./original/autobianchi.png"}},{"name":"Axon","slug":"axon","image":{"source":"https://www.carlogos.org/logo/Axon-Automotive-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/axon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/axon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/axon.png","localThumb":"./thumb/axon.png","localOptimized":"./optimized/axon.png","localOriginal":"./original/axon.png"}},{"name":"BAC","slug":"bac","image":{"source":"https://www.carlogos.org/logo/BAC-logo-black-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bac.png","localThumb":"./thumb/bac.png","localOptimized":"./optimized/bac.png","localOriginal":"./original/bac.png"}},{"name":"BAIC Motor","slug":"baic-motor","image":{"source":"https://www.carlogos.org/logo/BAIC-Motor-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/baic-motor.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/baic-motor.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/baic-motor.png","localThumb":"./thumb/baic-motor.png","localOptimized":"./optimized/baic-motor.png","localOriginal":"./original/baic-motor.png"}},{"name":"Baojun","slug":"baojun","image":{"source":"https://www.carlogos.org/logo/Baojun-logo-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/baojun.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/baojun.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/baojun.png","localThumb":"./thumb/baojun.png","localOptimized":"./optimized/baojun.png","localOriginal":"./original/baojun.png"}},{"name":"BeiBen","slug":"beiben","image":{"source":"https://www.carlogos.org/car-logos/beiben-logo-900x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/beiben.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/beiben.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/beiben.png","localThumb":"./thumb/beiben.png","localOptimized":"./optimized/beiben.png","localOriginal":"./original/beiben.png"}},{"name":"Bentley","slug":"bentley","image":{"source":"https://www.carlogos.org/car-logos/bentley-logo-2002-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bentley.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bentley.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bentley.png","localThumb":"./thumb/bentley.png","localOptimized":"./optimized/bentley.png","localOriginal":"./original/bentley.png"}},{"name":"Berkeley","slug":"berkeley","image":{"source":"https://www.carlogos.org/logo/Berkeley-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/berkeley.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/berkeley.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/berkeley.png","localThumb":"./thumb/berkeley.png","localOptimized":"./optimized/berkeley.png","localOriginal":"./original/berkeley.png"}},{"name":"Berliet","slug":"berliet","image":{"source":"https://www.carlogos.org/logo/Berliet-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/berliet.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/berliet.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/berliet.png","localThumb":"./thumb/berliet.png","localOptimized":"./optimized/berliet.png","localOriginal":"./original/berliet.png"}},{"name":"Bertone","slug":"bertone","image":{"source":"https://www.carlogos.org/logo/Bertone-logo-4300x2600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bertone.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bertone.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bertone.png","localThumb":"./thumb/bertone.png","localOptimized":"./optimized/bertone.png","localOriginal":"./original/bertone.png"}},{"name":"Bestune","slug":"bestune","image":{"source":"https://www.carlogos.org/car-logos/bestune-logo-2400x1200-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bestune.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bestune.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bestune.png","localThumb":"./thumb/bestune.png","localOptimized":"./optimized/bestune.png","localOriginal":"./original/bestune.png"}},{"name":"BharatBenz","slug":"bharatbenz","image":{"source":"https://www.carlogos.org/logo/BharatBenz-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bharatbenz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bharatbenz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bharatbenz.png","localThumb":"./thumb/bharatbenz.png","localOptimized":"./optimized/bharatbenz.png","localOriginal":"./original/bharatbenz.png"}},{"name":"Bitter","slug":"bitter","image":{"source":"https://www.carlogos.org/logo/Bitter-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bitter.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bitter.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bitter.png","localThumb":"./thumb/bitter.png","localOptimized":"./optimized/bitter.png","localOriginal":"./original/bitter.png"}},{"name":"Bizzarrini","slug":"bizzarrini","image":{"source":"https://www.carlogos.org/logo/Bizzarrini-logo-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bizzarrini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bizzarrini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bizzarrini.jpg","localThumb":"./thumb/bizzarrini.png","localOptimized":"./optimized/bizzarrini.png","localOriginal":"./original/bizzarrini.jpg"}},{"name":"BMW","slug":"bmw","image":{"source":"https://www.carlogos.org/car-logos/bmw-logo-2020-gray.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bmw.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bmw.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bmw.png","localThumb":"./thumb/bmw.png","localOptimized":"./optimized/bmw.png","localOriginal":"./original/bmw.png"}},{"name":"BMW M","slug":"bmw-m","image":{"source":"https://www.carlogos.org/logo/BMW-M-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bmw-m.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bmw-m.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bmw-m.png","localThumb":"./thumb/bmw-m.png","localOptimized":"./optimized/bmw-m.png","localOriginal":"./original/bmw-m.png"}},{"name":"Borgward","slug":"borgward","image":{"source":"https://www.carlogos.org/logo/Borgward-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/borgward.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/borgward.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/borgward.png","localThumb":"./thumb/borgward.png","localOptimized":"./optimized/borgward.png","localOriginal":"./original/borgward.png"}},{"name":"Bowler","slug":"bowler","image":{"source":"https://www.carlogos.org/logo/Bowler-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bowler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bowler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bowler.png","localThumb":"./thumb/bowler.png","localOptimized":"./optimized/bowler.png","localOriginal":"./original/bowler.png"}},{"name":"Brabus","slug":"brabus","image":{"source":"https://www.carlogos.org/logo/Brabus-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brabus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brabus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brabus.png","localThumb":"./thumb/brabus.png","localOptimized":"./optimized/brabus.png","localOriginal":"./original/brabus.png"}},{"name":"Brammo","slug":"brammo","image":{"source":"https://www.carlogos.org/logo/Brammo-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brammo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brammo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brammo.png","localThumb":"./thumb/brammo.png","localOptimized":"./optimized/brammo.png","localOriginal":"./original/brammo.png"}},{"name":"Brilliance","slug":"brilliance","image":{"source":"https://www.carlogos.org/logo/Brilliance-logo-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brilliance.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brilliance.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brilliance.png","localThumb":"./thumb/brilliance.png","localOptimized":"./optimized/brilliance.png","localOriginal":"./original/brilliance.png"}},{"name":"Bristol","slug":"bristol","image":{"source":"https://www.carlogos.org/logo/Bristol-Cars-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bristol.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bristol.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bristol.png","localThumb":"./thumb/bristol.png","localOptimized":"./optimized/bristol.png","localOriginal":"./original/bristol.png"}},{"name":"Brooke","slug":"brooke","image":{"source":"https://www.carlogos.org/logo/Brooke-Cars-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brooke.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brooke.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brooke.png","localThumb":"./thumb/brooke.png","localOptimized":"./optimized/brooke.png","localOriginal":"./original/brooke.png"}},{"name":"Bufori","slug":"bufori","image":{"source":"https://www.carlogos.org/logo/Bufori-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bufori.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bufori.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bufori.png","localThumb":"./thumb/bufori.png","localOptimized":"./optimized/bufori.png","localOriginal":"./original/bufori.png"}},{"name":"Bugatti","slug":"bugatti","image":{"source":"https://www.carlogos.org/logo/Bugatti-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bugatti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bugatti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bugatti.png","localThumb":"./thumb/bugatti.png","localOptimized":"./optimized/bugatti.png","localOriginal":"./original/bugatti.png"}},{"name":"Buick","slug":"buick","image":{"source":"https://www.carlogos.org/logo/Buick-logo-2002-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/buick.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/buick.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/buick.png","localThumb":"./thumb/buick.png","localOptimized":"./optimized/buick.png","localOriginal":"./original/buick.png"}},{"name":"BYD","slug":"byd","image":{"source":"https://www.carlogos.org/logo/BYD-logo-2007-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/byd.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/byd.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/byd.png","localThumb":"./thumb/byd.png","localOptimized":"./optimized/byd.png","localOriginal":"./original/byd.png"}},{"name":"Byton","slug":"byton","image":{"source":"https://www.carlogos.org/car-logos/byton-logo-2100x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/byton.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/byton.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/byton.png","localThumb":"./thumb/byton.png","localOptimized":"./optimized/byton.png","localOriginal":"./original/byton.png"}},{"name":"Cadillac","slug":"cadillac","image":{"source":"https://www.carlogos.org/car-logos/cadillac-logo-2021-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cadillac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cadillac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cadillac.png","localThumb":"./thumb/cadillac.png","localOptimized":"./optimized/cadillac.png","localOriginal":"./original/cadillac.png"}},{"name":"CAMC","slug":"camc","image":{"source":"https://www.carlogos.org/car-logos/camc-logo-1600x450-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/camc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/camc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/camc.png","localThumb":"./thumb/camc.png","localOptimized":"./optimized/camc.png","localOriginal":"./original/camc.png"}},{"name":"Canoo","slug":"canoo","image":{"source":"https://www.carlogos.org/car-logos/canoo-logo-1100x500-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/canoo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/canoo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/canoo.png","localThumb":"./thumb/canoo.png","localOptimized":"./optimized/canoo.png","localOriginal":"./original/canoo.png"}},{"name":"Caparo","slug":"caparo","image":{"source":"https://www.carlogos.org/logo/Caparo-2006-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/caparo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/caparo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/caparo.png","localThumb":"./thumb/caparo.png","localOptimized":"./optimized/caparo.png","localOriginal":"./original/caparo.png"}},{"name":"Carlsson","slug":"carlsson","image":{"source":"https://www.carlogos.org/logo/Carlsson-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/carlsson.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/carlsson.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/carlsson.png","localThumb":"./thumb/carlsson.png","localOptimized":"./optimized/carlsson.png","localOriginal":"./original/carlsson.png"}},{"name":"Caterham","slug":"caterham","image":{"source":"https://www.carlogos.org/logo/Caterham-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/caterham.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/caterham.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/caterham.png","localThumb":"./thumb/caterham.png","localOptimized":"./optimized/caterham.png","localOriginal":"./original/caterham.png"}},{"name":"Changan","slug":"changan","image":{"source":"https://www.carlogos.org/logo/Changan-logo-2010-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/changan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/changan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/changan.png","localThumb":"./thumb/changan.png","localOptimized":"./optimized/changan.png","localOriginal":"./original/changan.png"}},{"name":"Changfeng","slug":"changfeng","image":{"source":"https://www.carlogos.org/logo/Changfeng-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/changfeng.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/changfeng.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/changfeng.png","localThumb":"./thumb/changfeng.png","localOptimized":"./optimized/changfeng.png","localOriginal":"./original/changfeng.png"}},{"name":"Chery","slug":"chery","image":{"source":"https://www.carlogos.org/logo/Chery-logo-2013-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chery.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chery.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chery.png","localThumb":"./thumb/chery.png","localOptimized":"./optimized/chery.png","localOriginal":"./original/chery.png"}},{"name":"Chevrolet","slug":"chevrolet","image":{"source":"https://www.carlogos.org/logo/Chevrolet-logo-2013-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chevrolet.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chevrolet.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chevrolet.png","localThumb":"./thumb/chevrolet.png","localOptimized":"./optimized/chevrolet.png","localOriginal":"./original/chevrolet.png"}},{"name":"Chevrolet Corvette","slug":"chevrolet-corvette","image":{"source":"https://www.carlogos.org/car-logos/chevrolet-corvette-logo-2020-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chevrolet-corvette.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chevrolet-corvette.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chevrolet-corvette.png","localThumb":"./thumb/chevrolet-corvette.png","localOptimized":"./optimized/chevrolet-corvette.png","localOriginal":"./original/chevrolet-corvette.png"}},{"name":"Chrysler","slug":"chrysler","image":{"source":"https://www.carlogos.org/car-logos/chrysler-logo-2009-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chrysler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chrysler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chrysler.png","localThumb":"./thumb/chrysler.png","localOptimized":"./optimized/chrysler.png","localOriginal":"./original/chrysler.png"}},{"name":"Cisitalia","slug":"cisitalia","image":{"source":"https://www.carlogos.org/logo/Cisitalia-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cisitalia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cisitalia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cisitalia.png","localThumb":"./thumb/cisitalia.png","localOptimized":"./optimized/cisitalia.png","localOriginal":"./original/cisitalia.png"}},{"name":"Citron","slug":"citroen","image":{"source":"https://www.carlogos.org/logo/Citroen-logo-2009-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/citroen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/citroen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/citroen.png","localThumb":"./thumb/citroen.png","localOptimized":"./optimized/citroen.png","localOriginal":"./original/citroen.png"}},{"name":"Cizeta","slug":"cizeta","image":{"source":"https://www.carlogos.org/logo/Cizeta-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cizeta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cizeta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cizeta.png","localThumb":"./thumb/cizeta.png","localOptimized":"./optimized/cizeta.png","localOriginal":"./original/cizeta.png"}},{"name":"Cole","slug":"cole","image":{"source":"https://www.carlogos.org/logo/Cole-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cole.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cole.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cole.png","localThumb":"./thumb/cole.png","localOptimized":"./optimized/cole.png","localOriginal":"./original/cole.png"}},{"name":"Corre La Licorne","slug":"corre-la-licorne","image":{"source":"https://www.carlogos.org/logo/Corre-La-Licorne-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/corre-la-licorne.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/corre-la-licorne.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/corre-la-licorne.jpg","localThumb":"./thumb/corre-la-licorne.png","localOptimized":"./optimized/corre-la-licorne.png","localOriginal":"./original/corre-la-licorne.jpg"}},{"name":"Cupra","slug":"cupra","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/cupra.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cupra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cupra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cupra.png","localThumb":"./thumb/cupra.png","localOptimized":"./optimized/cupra.png","localOriginal":"./original/cupra.png"}},{"name":"Dacia","slug":"dacia","image":{"source":"https://www.carlogos.org/logo/Dacia-logo-2008-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dacia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dacia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dacia.png","localThumb":"./thumb/dacia.png","localOptimized":"./optimized/dacia.png","localOriginal":"./original/dacia.png"}},{"name":"Daewoo","slug":"daewoo","image":{"source":"https://www.carlogos.org/logo/Daewoo-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daewoo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daewoo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daewoo.png","localThumb":"./thumb/daewoo.png","localOptimized":"./optimized/daewoo.png","localOriginal":"./original/daewoo.png"}},{"name":"DAF","slug":"daf","image":{"source":"https://www.carlogos.org/logo/DAF-logo-6000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daf.png","localThumb":"./thumb/daf.png","localOptimized":"./optimized/daf.png","localOriginal":"./original/daf.png"}},{"name":"Daihatsu","slug":"daihatsu","image":{"source":"https://www.carlogos.org/logo/Daihatsu-logo-1997-1280x233.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daihatsu.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daihatsu.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daihatsu.png","localThumb":"./thumb/daihatsu.png","localOptimized":"./optimized/daihatsu.png","localOriginal":"./original/daihatsu.png"}},{"name":"Daimler","slug":"daimler","image":{"source":"https://www.carlogos.org/logo/Daimler-logo-2200x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daimler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daimler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daimler.png","localThumb":"./thumb/daimler.png","localOptimized":"./optimized/daimler.png","localOriginal":"./original/daimler.png"}},{"name":"Dartz","slug":"dartz","image":{"source":"https://www.carlogos.org/logo/Dartz-logo-640x300.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dartz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dartz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dartz.jpg","localThumb":"./thumb/dartz.png","localOptimized":"./optimized/dartz.png","localOriginal":"./original/dartz.jpg"}},{"name":"Datsun","slug":"datsun","image":{"source":"https://www.carlogos.org/logo/Datsun-logo-2013-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/datsun.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/datsun.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/datsun.png","localThumb":"./thumb/datsun.png","localOptimized":"./optimized/datsun.png","localOriginal":"./original/datsun.png"}},{"name":"David Brown","slug":"david-brown","image":{"source":"https://www.carlogos.org/logo/David-Brown-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/david-brown.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/david-brown.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/david-brown.png","localThumb":"./thumb/david-brown.png","localOptimized":"./optimized/david-brown.png","localOriginal":"./original/david-brown.png"}},{"name":"Dayun","slug":"dayun","image":{"source":"https://www.carlogos.org/car-logos/dayun-logo-1100x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dayun.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dayun.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dayun.png","localThumb":"./thumb/dayun.png","localOptimized":"./optimized/dayun.png","localOriginal":"./original/dayun.png"}},{"name":"De Tomaso","slug":"de-tomaso","image":{"source":"https://www.carlogos.org/logo/De-Tomaso-logo-2011-640x251.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/de-tomaso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/de-tomaso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/de-tomaso.png","localThumb":"./thumb/de-tomaso.png","localOptimized":"./optimized/de-tomaso.png","localOriginal":"./original/de-tomaso.png"}},{"name":"Delage","slug":"delage","image":{"source":"https://www.carlogos.org/logo/Delage-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/delage.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/delage.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/delage.png","localThumb":"./thumb/delage.png","localOptimized":"./optimized/delage.png","localOriginal":"./original/delage.png"}},{"name":"DeSoto","slug":"desoto","image":{"source":"https://www.carlogos.org/car-logos/desoto-logo-650x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/desoto.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/desoto.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/desoto.png","localThumb":"./thumb/desoto.png","localOptimized":"./optimized/desoto.png","localOriginal":"./original/desoto.png"}},{"name":"Detroit Electric","slug":"detroit-electric","image":{"source":"https://www.carlogos.org/logo/Detroit-Electric-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/detroit-electric.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/detroit-electric.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/detroit-electric.png","localThumb":"./thumb/detroit-electric.png","localOptimized":"./optimized/detroit-electric.png","localOriginal":"./original/detroit-electric.png"}},{"name":"Devel Sixteen","slug":"devel-sixteen","image":{"source":"https://www.carlogos.org/logo/Devel-Sixteen-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/devel-sixteen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/devel-sixteen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/devel-sixteen.png","localThumb":"./thumb/devel-sixteen.png","localOptimized":"./optimized/devel-sixteen.png","localOriginal":"./original/devel-sixteen.png"}},{"name":"Diatto","slug":"diatto","image":{"source":"https://www.carlogos.org/logo/Diatto-logo-640x215.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/diatto.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/diatto.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/diatto.jpg","localThumb":"./thumb/diatto.png","localOptimized":"./optimized/diatto.png","localOriginal":"./original/diatto.jpg"}},{"name":"DINA","slug":"dina","image":{"source":"https://www.carlogos.org/logo/DINA-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dina.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dina.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dina.png","localThumb":"./thumb/dina.png","localOptimized":"./optimized/dina.png","localOriginal":"./original/dina.png"}},{"name":"DKW","slug":"dkw","image":{"source":"https://www.carlogos.org/logo/DKW-logo-black-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dkw.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dkw.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dkw.jpg","localThumb":"./thumb/dkw.png","localOptimized":"./optimized/dkw.png","localOriginal":"./original/dkw.jpg"}},{"name":"DMC","slug":"dmc","image":{"source":"https://www.carlogos.org/logo/DMC-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dmc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dmc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dmc.png","localThumb":"./thumb/dmc.png","localOptimized":"./optimized/dmc.png","localOriginal":"./original/dmc.png"}},{"name":"Dodge","slug":"dodge","image":{"source":"https://www.carlogos.org/car-logos/dodge-logo-2010-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dodge.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dodge.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dodge.png","localThumb":"./thumb/dodge.png","localOptimized":"./optimized/dodge.png","localOriginal":"./original/dodge.png"}},{"name":"Dodge Viper","slug":"dodge-viper","image":{"source":"https://www.carlogos.org/logo/Viper-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dodge-viper.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dodge-viper.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dodge-viper.png","localThumb":"./thumb/dodge-viper.png","localOptimized":"./optimized/dodge-viper.png","localOriginal":"./original/dodge-viper.png"}},{"name":"Dongfeng","slug":"dongfeng","image":{"source":"https://www.carlogos.org/logo/Dongfeng-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dongfeng.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dongfeng.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dongfeng.png","localThumb":"./thumb/dongfeng.png","localOptimized":"./optimized/dongfeng.png","localOriginal":"./original/dongfeng.png"}},{"name":"Donkervoort","slug":"donkervoort","image":{"source":"https://www.carlogos.org/logo/Donkervoort-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/donkervoort.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/donkervoort.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/donkervoort.png","localThumb":"./thumb/donkervoort.png","localOptimized":"./optimized/donkervoort.png","localOriginal":"./original/donkervoort.png"}},{"name":"Drako","slug":"drako","image":{"source":"https://www.carlogos.org/car-logos/drako-logo-2100x400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/drako.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/drako.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/drako.png","localThumb":"./thumb/drako.png","localOptimized":"./optimized/drako.png","localOriginal":"./original/drako.png"}},{"name":"DS","slug":"ds","image":{"source":"https://www.carlogos.org/logo/DS-logo-2009-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ds.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ds.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ds.png","localThumb":"./thumb/ds.png","localOptimized":"./optimized/ds.png","localOriginal":"./original/ds.png"}},{"name":"Duesenberg","slug":"duesenberg","image":{"source":"https://www.carlogos.org/car-logos/duesenberg-logo-1000x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/duesenberg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/duesenberg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/duesenberg.png","localThumb":"./thumb/duesenberg.png","localOptimized":"./optimized/duesenberg.png","localOriginal":"./original/duesenberg.png"}},{"name":"Eagle","slug":"eagle","image":{"source":"https://www.carlogos.org/logo/Eagle-automobile-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/eagle.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/eagle.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/eagle.png","localThumb":"./thumb/eagle.png","localOptimized":"./optimized/eagle.png","localOriginal":"./original/eagle.png"}},{"name":"EDAG","slug":"edag","image":{"source":"https://www.carlogos.org/logo/EDAG-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/edag.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/edag.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/edag.png","localThumb":"./thumb/edag.png","localOptimized":"./optimized/edag.png","localOriginal":"./original/edag.png"}},{"name":"Edsel","slug":"edsel","image":{"source":"https://www.carlogos.org/logo/Edsel-logo-1200x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/edsel.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/edsel.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/edsel.png","localThumb":"./thumb/edsel.png","localOptimized":"./optimized/edsel.png","localOriginal":"./original/edsel.png"}},{"name":"Eicher","slug":"eicher","image":{"source":"https://www.carlogos.org/logo/Eicher-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/eicher.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/eicher.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/eicher.png","localThumb":"./thumb/eicher.png","localOptimized":"./optimized/eicher.png","localOriginal":"./original/eicher.png"}},{"name":"Elemental","slug":"elemental","image":{"source":"https://www.carlogos.org/logo/Elemental-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/elemental.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/elemental.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/elemental.png","localThumb":"./thumb/elemental.png","localOptimized":"./optimized/elemental.png","localOriginal":"./original/elemental.png"}},{"name":"Elfin","slug":"elfin","image":{"source":"https://www.carlogos.org/logo/Elfin-logo-640x330.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/elfin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/elfin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/elfin.jpg","localThumb":"./thumb/elfin.png","localOptimized":"./optimized/elfin.png","localOriginal":"./original/elfin.jpg"}},{"name":"Elva","slug":"elva","image":{"source":"https://www.carlogos.org/logo/Elva-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/elva.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/elva.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/elva.png","localThumb":"./thumb/elva.png","localOptimized":"./optimized/elva.png","localOriginal":"./original/elva.png"}},{"name":"Englon","slug":"englon","image":{"source":"https://www.carlogos.org/logo/Englon-logo-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/englon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/englon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/englon.jpg","localThumb":"./thumb/englon.png","localOptimized":"./optimized/englon.png","localOriginal":"./original/englon.jpg"}},{"name":"ERF","slug":"erf","image":{"source":"https://www.carlogos.org/logo/ERF-logo-2300x1500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/erf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/erf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/erf.png","localThumb":"./thumb/erf.png","localOptimized":"./optimized/erf.png","localOriginal":"./original/erf.png"}},{"name":"Eterniti","slug":"eterniti","image":{"source":"https://www.carlogos.org/logo/Eterniti-logo-640x408.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/eterniti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/eterniti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/eterniti.jpg","localThumb":"./thumb/eterniti.png","localOptimized":"./optimized/eterniti.png","localOriginal":"./original/eterniti.jpg"}},{"name":"Exeed","slug":"exeed","image":{"source":"https://www.carlogos.org/car-logos/exeed-logo-1200x200-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/exeed.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/exeed.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/exeed.png","localThumb":"./thumb/exeed.png","localOptimized":"./optimized/exeed.png","localOriginal":"./original/exeed.png"}},{"name":"Facel Vega","slug":"facel-vega","image":{"source":"https://www.carlogos.org/logo/Facel-Vega-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/facel-vega.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/facel-vega.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/facel-vega.png","localThumb":"./thumb/facel-vega.png","localOptimized":"./optimized/facel-vega.png","localOriginal":"./original/facel-vega.png"}},{"name":"Faraday Future","slug":"faraday-future","image":{"source":"https://www.carlogos.org/logo/Faraday-Future-logo-2000x1500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/faraday-future.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/faraday-future.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/faraday-future.png","localThumb":"./thumb/faraday-future.png","localOptimized":"./optimized/faraday-future.png","localOriginal":"./original/faraday-future.png"}},{"name":"FAW","slug":"faw","image":{"source":"https://www.carlogos.org/logo/FAW-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/faw.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/faw.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/faw.png","localThumb":"./thumb/faw.png","localOptimized":"./optimized/faw.png","localOriginal":"./original/faw.png"}},{"name":"FAW Jiefang","slug":"faw-jiefang","image":{"source":"https://www.carlogos.org/car-logos/faw-jiefang-950x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/faw-jiefang.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/faw-jiefang.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/faw-jiefang.png","localThumb":"./thumb/faw-jiefang.png","localOptimized":"./optimized/faw-jiefang.png","localOriginal":"./original/faw-jiefang.png"}},{"name":"Ferrari","slug":"ferrari","image":{"source":"https://www.carlogos.org/car-logos/ferrari-logo-2002-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ferrari.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ferrari.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ferrari.png","localThumb":"./thumb/ferrari.png","localOptimized":"./optimized/ferrari.png","localOriginal":"./original/ferrari.png"}},{"name":"Fiat","slug":"fiat","image":{"source":"https://www.carlogos.org/logo/Fiat-logo-2006-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fiat.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fiat.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fiat.png","localThumb":"./thumb/fiat.png","localOptimized":"./optimized/fiat.png","localOriginal":"./original/fiat.png"}},{"name":"Fioravanti","slug":"fioravanti","image":{"source":"https://www.carlogos.org/logo/Fioravanti-logo-640x274.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fioravanti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fioravanti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fioravanti.jpg","localThumb":"./thumb/fioravanti.png","localOptimized":"./optimized/fioravanti.png","localOriginal":"./original/fioravanti.jpg"}},{"name":"Fisker","slug":"fisker","image":{"source":"https://www.carlogos.org/logo/Fisker-logo-2007-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fisker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fisker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fisker.png","localThumb":"./thumb/fisker.png","localOptimized":"./optimized/fisker.png","localOriginal":"./original/fisker.png"}},{"name":"Foden","slug":"foden","image":{"source":"https://www.carlogos.org/logo/Foden-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/foden.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/foden.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/foden.png","localThumb":"./thumb/foden.png","localOptimized":"./optimized/foden.png","localOriginal":"./original/foden.png"}},{"name":"Force Motors","slug":"force-motors","image":{"source":"https://www.carlogos.org/logo/Force-Motors-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/force-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/force-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/force-motors.png","localThumb":"./thumb/force-motors.png","localOptimized":"./optimized/force-motors.png","localOriginal":"./original/force-motors.png"}},{"name":"Ford","slug":"ford","image":{"source":"https://www.carlogos.org/car-logos/ford-logo-2017-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ford.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ford.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ford.png","localThumb":"./thumb/ford.png","localOptimized":"./optimized/ford.png","localOriginal":"./original/ford.png"}},{"name":"Ford Mustang","slug":"ford-mustang","image":{"source":"https://www.carlogos.org/logo/Mustang-logo-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ford-mustang.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ford-mustang.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ford-mustang.png","localThumb":"./thumb/ford-mustang.png","localOptimized":"./optimized/ford-mustang.png","localOriginal":"./original/ford-mustang.png"}},{"name":"Foton","slug":"foton","image":{"source":"https://www.carlogos.org/logo/Foton-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/foton.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/foton.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/foton.png","localThumb":"./thumb/foton.png","localOptimized":"./optimized/foton.png","localOriginal":"./original/foton.png"}},{"name":"FPV","slug":"fpv","image":{"source":"https://www.carlogos.org/logo/FPV-logo-640x240.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fpv.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fpv.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fpv.jpg","localThumb":"./thumb/fpv.png","localOptimized":"./optimized/fpv.png","localOriginal":"./original/fpv.jpg"}},{"name":"Franklin","slug":"franklin","image":{"source":"https://www.carlogos.org/logo/Franklin-logo-640x525.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/franklin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/franklin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/franklin.jpg","localThumb":"./thumb/franklin.png","localOptimized":"./optimized/franklin.png","localOriginal":"./original/franklin.jpg"}},{"name":"Freightliner","slug":"freightliner","image":{"source":"https://www.carlogos.org/logo/Freightliner-logo-6000x2000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/freightliner.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/freightliner.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/freightliner.png","localThumb":"./thumb/freightliner.png","localOptimized":"./optimized/freightliner.png","localOriginal":"./original/freightliner.png"}},{"name":"FSO","slug":"fso","image":{"source":"https://www.carlogos.org/car-logos/fso-logo-1200x500-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fso.png","localThumb":"./thumb/fso.png","localOptimized":"./optimized/fso.png","localOriginal":"./original/fso.png"}},{"name":"GAC Group","slug":"gac-group","image":{"source":"https://www.carlogos.org/logo/GAC-Group-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gac-group.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gac-group.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gac-group.png","localThumb":"./thumb/gac-group.png","localOptimized":"./optimized/gac-group.png","localOriginal":"./original/gac-group.png"}},{"name":"Gardner Douglas","slug":"gardner-douglas","image":{"source":"https://www.carlogos.org/logo/Gardner-Douglas-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gardner-douglas.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gardner-douglas.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gardner-douglas.png","localThumb":"./thumb/gardner-douglas.png","localOptimized":"./optimized/gardner-douglas.png","localOriginal":"./original/gardner-douglas.png"}},{"name":"GAZ","slug":"gaz","image":{"source":"https://www.carlogos.org/logo/GAZ-logo-2015-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gaz.png","localThumb":"./thumb/gaz.png","localOptimized":"./optimized/gaz.png","localOriginal":"./original/gaz.png"}},{"name":"Geely","slug":"geely","image":{"source":"https://www.carlogos.org/logo/Geely-logo-2014-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/geely.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/geely.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/geely.png","localThumb":"./thumb/geely.png","localOptimized":"./optimized/geely.png","localOriginal":"./original/geely.png"}},{"name":"General Motors","slug":"general-motors","image":{"source":"https://www.carlogos.org/logo/General-Motors-logo-2010-3300x3300.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/general-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/general-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/general-motors.png","localThumb":"./thumb/general-motors.png","localOptimized":"./optimized/general-motors.png","localOriginal":"./original/general-motors.png"}},{"name":"Genesis","slug":"genesis","image":{"source":"https://www.carlogos.org/logo/Genesis-logo-640x248.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/genesis.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/genesis.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/genesis.jpg","localThumb":"./thumb/genesis.png","localOptimized":"./optimized/genesis.png","localOriginal":"./original/genesis.jpg"}},{"name":"Geo","slug":"geo","image":{"source":"https://www.carlogos.org/logo/Geo-logo-2000x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/geo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/geo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/geo.png","localThumb":"./thumb/geo.png","localOptimized":"./optimized/geo.png","localOriginal":"./original/geo.png"}},{"name":"Geometry","slug":"geometry","image":{"source":"https://www.carlogos.org/car-logos/geometry-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/geometry.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/geometry.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/geometry.png","localThumb":"./thumb/geometry.png","localOptimized":"./optimized/geometry.png","localOriginal":"./original/geometry.png"}},{"name":"Gilbern","slug":"gilbern","image":{"source":"https://www.carlogos.org/logo/Gilbern-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gilbern.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gilbern.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gilbern.png","localThumb":"./thumb/gilbern.png","localOptimized":"./optimized/gilbern.png","localOriginal":"./original/gilbern.png"}},{"name":"Gillet","slug":"gillet","image":{"source":"https://www.carlogos.org/logo/Gillet-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gillet.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gillet.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gillet.png","localThumb":"./thumb/gillet.png","localOptimized":"./optimized/gillet.png","localOriginal":"./original/gillet.png"}},{"name":"Ginetta","slug":"ginetta","image":{"source":"https://www.carlogos.org/logo/Ginetta-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ginetta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ginetta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ginetta.png","localThumb":"./thumb/ginetta.png","localOptimized":"./optimized/ginetta.png","localOriginal":"./original/ginetta.png"}},{"name":"GMC","slug":"gmc","image":{"source":"https://www.carlogos.org/logo/GMC-logo-2200x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gmc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gmc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gmc.png","localThumb":"./thumb/gmc.png","localOptimized":"./optimized/gmc.png","localOriginal":"./original/gmc.png"}},{"name":"Golden Dragon","slug":"golden-dragon","image":{"source":"https://www.carlogos.org/car-logos/golden-dragon-logo-900x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/golden-dragon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/golden-dragon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/golden-dragon.png","localThumb":"./thumb/golden-dragon.png","localOptimized":"./optimized/golden-dragon.png","localOriginal":"./original/golden-dragon.png"}},{"name":"Gonow","slug":"gonow","image":{"source":"https://www.carlogos.org/logo/Gonow-logo-2010-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gonow.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gonow.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gonow.png","localThumb":"./thumb/gonow.png","localOptimized":"./optimized/gonow.png","localOriginal":"./original/gonow.png"}},{"name":"Great Wall","slug":"great-wall","image":{"source":"https://www.carlogos.org/logo/Great-Wall-logo-2007-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/great-wall.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/great-wall.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/great-wall.png","localThumb":"./thumb/great-wall.png","localOptimized":"./optimized/great-wall.png","localOriginal":"./original/great-wall.png"}},{"name":"Grinnall","slug":"grinnall","image":{"source":"https://www.carlogos.org/logo/Grinnall-cars-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/grinnall.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/grinnall.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/grinnall.png","localThumb":"./thumb/grinnall.png","localOptimized":"./optimized/grinnall.png","localOriginal":"./original/grinnall.png"}},{"name":"Gumpert","slug":"gumpert","image":{"source":"https://www.carlogos.org/logo/Gumpert-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gumpert.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gumpert.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gumpert.png","localThumb":"./thumb/gumpert.png","localOptimized":"./optimized/gumpert.png","localOriginal":"./original/gumpert.png"}},{"name":"Hafei","slug":"hafei","image":{"source":"https://www.carlogos.org/logo/Hafei-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hafei.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hafei.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hafei.png","localThumb":"./thumb/hafei.png","localOptimized":"./optimized/hafei.png","localOriginal":"./original/hafei.png"}},{"name":"Haima","slug":"haima","image":{"source":"https://www.carlogos.org/logo/Haima-logo-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/haima.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/haima.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/haima.png","localThumb":"./thumb/haima.png","localOptimized":"./optimized/haima.png","localOriginal":"./original/haima.png"}},{"name":"Haval","slug":"haval","image":{"source":"https://www.carlogos.org/logo/Haval-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/haval.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/haval.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/haval.png","localThumb":"./thumb/haval.png","localOptimized":"./optimized/haval.png","localOriginal":"./original/haval.png"}},{"name":"Hawtai","slug":"hawtai","image":{"source":"https://www.carlogos.org/logo/Hawtai-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hawtai.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hawtai.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hawtai.png","localThumb":"./thumb/hawtai.png","localOptimized":"./optimized/hawtai.png","localOriginal":"./original/hawtai.png"}},{"name":"Hennessey","slug":"hennessey","image":{"source":"https://www.carlogos.org/logo/Hennessey-text-logo-1186x130.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hennessey.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hennessey.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hennessey.png","localThumb":"./thumb/hennessey.png","localOptimized":"./optimized/hennessey.png","localOriginal":"./original/hennessey.png"}},{"name":"Higer","slug":"higer","image":{"source":"https://www.carlogos.org/car-logos/higer-logo-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/higer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/higer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/higer.png","localThumb":"./thumb/higer.png","localOptimized":"./optimized/higer.png","localOriginal":"./original/higer.png"}},{"name":"Hillman","slug":"hillman","image":{"source":"https://www.carlogos.org/logo/Hillman-logo-640x145.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hillman.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hillman.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hillman.jpg","localThumb":"./thumb/hillman.png","localOptimized":"./optimized/hillman.png","localOriginal":"./original/hillman.jpg"}},{"name":"Hindustan Motors","slug":"hindustan-motors","image":{"source":"https://www.carlogos.org/logo/Hindustan-Motors-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hindustan-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hindustan-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hindustan-motors.png","localThumb":"./thumb/hindustan-motors.png","localOptimized":"./optimized/hindustan-motors.png","localOriginal":"./original/hindustan-motors.png"}},{"name":"Hino","slug":"hino","image":{"source":"https://www.carlogos.org/logo/Hino-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hino.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hino.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hino.png","localThumb":"./thumb/hino.png","localOptimized":"./optimized/hino.png","localOriginal":"./original/hino.png"}},{"name":"HiPhi","slug":"hiphi","image":{"source":"https://www.carlogos.org/car-logos/hiphi-logo-2100x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hiphi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hiphi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hiphi.png","localThumb":"./thumb/hiphi.png","localOptimized":"./optimized/hiphi.png","localOriginal":"./original/hiphi.png"}},{"name":"Hispano-Suiza","slug":"hispano-suiza","image":{"source":"https://www.carlogos.org/logo/Hispano-Suiza-logo-640x183.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hispano-suiza.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hispano-suiza.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hispano-suiza.jpg","localThumb":"./thumb/hispano-suiza.png","localOptimized":"./optimized/hispano-suiza.png","localOriginal":"./original/hispano-suiza.jpg"}},{"name":"Holden","slug":"holden","image":{"source":"https://www.carlogos.org/logo/Holden-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/holden.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/holden.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/holden.png","localThumb":"./thumb/holden.png","localOptimized":"./optimized/holden.png","localOriginal":"./original/holden.png"}},{"name":"Hommell","slug":"hommell","image":{"source":"https://www.carlogos.org/logo/Hommell-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hommell.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hommell.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hommell.png","localThumb":"./thumb/hommell.png","localOptimized":"./optimized/hommell.png","localOriginal":"./original/hommell.png"}},{"name":"Honda","slug":"honda","image":{"source":"https://www.carlogos.org/car-logos/honda-logo-2000-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/honda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/honda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/honda.png","localThumb":"./thumb/honda.png","localOptimized":"./optimized/honda.png","localOriginal":"./original/honda.png"}},{"name":"Hongqi","slug":"hongqi","image":{"source":"https://www.carlogos.org/car-logos/hongqi-logo-2018-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hongqi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hongqi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hongqi.png","localThumb":"./thumb/hongqi.png","localOptimized":"./optimized/hongqi.png","localOriginal":"./original/hongqi.png"}},{"name":"Hongyan","slug":"hongyan","image":{"source":"https://www.carlogos.org/car-logos/hongyan-logo-1200x1200-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hongyan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hongyan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hongyan.png","localThumb":"./thumb/hongyan.png","localOptimized":"./optimized/hongyan.png","localOriginal":"./original/hongyan.png"}},{"name":"Horch","slug":"horch","image":{"source":"https://www.carlogos.org/logo/Horch-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/horch.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/horch.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/horch.png","localThumb":"./thumb/horch.png","localOptimized":"./optimized/horch.png","localOriginal":"./original/horch.png"}},{"name":"HSV","slug":"hsv","image":{"source":"https://www.carlogos.org/logo/HSV-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hsv.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hsv.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hsv.png","localThumb":"./thumb/hsv.png","localOptimized":"./optimized/hsv.png","localOriginal":"./original/hsv.png"}},{"name":"Hudson","slug":"hudson","image":{"source":"https://www.carlogos.org/logo/Hudson-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hudson.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hudson.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hudson.png","localThumb":"./thumb/hudson.png","localOptimized":"./optimized/hudson.png","localOriginal":"./original/hudson.png"}},{"name":"Hummer","slug":"hummer","image":{"source":"https://www.carlogos.org/logo/Hummer-logo-2000x205.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hummer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hummer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hummer.png","localThumb":"./thumb/hummer.png","localOptimized":"./optimized/hummer.png","localOriginal":"./original/hummer.png"}},{"name":"Hupmobile","slug":"hupmobile","image":{"source":"https://www.carlogos.org/logo/Hupmobile-logo-640x138.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hupmobile.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hupmobile.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hupmobile.jpg","localThumb":"./thumb/hupmobile.png","localOptimized":"./optimized/hupmobile.png","localOriginal":"./original/hupmobile.jpg"}},{"name":"Hyundai","slug":"hyundai","image":{"source":"https://www.carlogos.org/car-logos/hyundai-logo-2011-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hyundai.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hyundai.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hyundai.png","localThumb":"./thumb/hyundai.png","localOptimized":"./optimized/hyundai.png","localOriginal":"./original/hyundai.png"}},{"name":"IC Bus","slug":"ic-bus","image":{"source":"https://www.carlogos.org/logo/IC-Bus-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ic-bus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ic-bus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ic-bus.png","localThumb":"./thumb/ic-bus.png","localOptimized":"./optimized/ic-bus.png","localOriginal":"./original/ic-bus.png"}},{"name":"IH","slug":"ih","image":{"source":"https://www.carlogos.org/logo/International-Harvester-logo-1000x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ih.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ih.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ih.png","localThumb":"./thumb/ih.png","localOptimized":"./optimized/ih.png","localOriginal":"./original/ih.png"}},{"name":"IKCO","slug":"ikco","image":{"source":"https://www.carlogos.org/logo/Iran-Khodro-logo-3000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ikco.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ikco.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ikco.png","localThumb":"./thumb/ikco.png","localOptimized":"./optimized/ikco.png","localOriginal":"./original/ikco.png"}},{"name":"Infiniti","slug":"infiniti","image":{"source":"https://www.carlogos.org/logo/Infiniti-logo-1989-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/infiniti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/infiniti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/infiniti.png","localThumb":"./thumb/infiniti.png","localOptimized":"./optimized/infiniti.png","localOriginal":"./original/infiniti.png"}},{"name":"Innocenti","slug":"innocenti","image":{"source":"https://www.carlogos.org/logo/Innocenti-logo-310x310.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/innocenti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/innocenti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/innocenti.png","localThumb":"./thumb/innocenti.png","localOptimized":"./optimized/innocenti.png","localOriginal":"./original/innocenti.png"}},{"name":"Intermeccanica","slug":"intermeccanica","image":{"source":"https://www.carlogos.org/logo/Intermeccanica-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/intermeccanica.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/intermeccanica.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/intermeccanica.png","localThumb":"./thumb/intermeccanica.png","localOptimized":"./optimized/intermeccanica.png","localOriginal":"./original/intermeccanica.png"}},{"name":"International","slug":"international","image":{"source":"https://www.carlogos.org/logo/International-Trucks-logo-1200x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/international.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/international.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/international.png","localThumb":"./thumb/international.png","localOptimized":"./optimized/international.png","localOriginal":"./original/international.png"}},{"name":"Irizar","slug":"irizar","image":{"source":"https://www.carlogos.org/logo/Irizar-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/irizar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/irizar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/irizar.png","localThumb":"./thumb/irizar.png","localOptimized":"./optimized/irizar.png","localOriginal":"./original/irizar.png"}},{"name":"Isdera","slug":"isdera","image":{"source":"https://www.carlogos.org/logo/Isdera-logo-640x413.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/isdera.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/isdera.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/isdera.jpg","localThumb":"./thumb/isdera.png","localOptimized":"./optimized/isdera.png","localOriginal":"./original/isdera.jpg"}},{"name":"Iso","slug":"iso","image":{"source":"https://www.carlogos.org/logo/Iso-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/iso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/iso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/iso.png","localThumb":"./thumb/iso.png","localOptimized":"./optimized/iso.png","localOriginal":"./original/iso.png"}},{"name":"Isuzu","slug":"isuzu","image":{"source":"https://www.carlogos.org/logo/Isuzu-logo-1991-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/isuzu.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/isuzu.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/isuzu.png","localThumb":"./thumb/isuzu.png","localOptimized":"./optimized/isuzu.png","localOriginal":"./original/isuzu.png"}},{"name":"Iveco","slug":"iveco","image":{"source":"https://www.carlogos.org/logo/Iveco-logo-silver-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/iveco.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/iveco.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/iveco.png","localThumb":"./thumb/iveco.png","localOptimized":"./optimized/iveco.png","localOriginal":"./original/iveco.png"}},{"name":"JAC","slug":"jac","image":{"source":"https://www.carlogos.org/logo/JAC-Motors-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jac.png","localThumb":"./thumb/jac.png","localOptimized":"./optimized/jac.png","localOriginal":"./original/jac.png"}},{"name":"Jaguar","slug":"jaguar","image":{"source":"https://www.carlogos.org/car-logos/jaguar-logo-2021-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jaguar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jaguar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jaguar.png","localThumb":"./thumb/jaguar.png","localOptimized":"./optimized/jaguar.png","localOriginal":"./original/jaguar.png"}},{"name":"Jawa","slug":"jawa","image":{"source":"https://www.carlogos.org/logo/Jawa-logo-640x333.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jawa.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jawa.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jawa.jpg","localThumb":"./thumb/jawa.png","localOptimized":"./optimized/jawa.png","localOriginal":"./original/jawa.jpg"}},{"name":"JBA Motors","slug":"jba-motors","image":{"source":"https://www.carlogos.org/logo/JBA-Motors-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jba-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jba-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jba-motors.png","localThumb":"./thumb/jba-motors.png","localOptimized":"./optimized/jba-motors.png","localOriginal":"./original/jba-motors.png"}},{"name":"Jeep","slug":"jeep","image":{"source":"https://www.carlogos.org/car-logos/jeep-logo-1993-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jeep.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jeep.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jeep.png","localThumb":"./thumb/jeep.png","localOptimized":"./optimized/jeep.png","localOriginal":"./original/jeep.png"}},{"name":"Jensen","slug":"jensen","image":{"source":"https://www.carlogos.org/logo/Jensen-logo-640x556.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jensen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jensen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jensen.jpg","localThumb":"./thumb/jensen.png","localOptimized":"./optimized/jensen.png","localOriginal":"./original/jensen.jpg"}},{"name":"Jetour","slug":"jetour","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/jetour.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jetour.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jetour.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jetour.png","localThumb":"./thumb/jetour.png","localOptimized":"./optimized/jetour.png","localOriginal":"./original/jetour.png"}},{"name":"Jetta","slug":"jetta","image":{"source":"https://www.carlogos.org/car-logos/jetta-logo-2019-1300x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jetta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jetta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jetta.png","localThumb":"./thumb/jetta.png","localOptimized":"./optimized/jetta.png","localOriginal":"./original/jetta.png"}},{"name":"JMC","slug":"jmc","image":{"source":"https://www.carlogos.org/logo/Jiangling-logo-1280x1024.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jmc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jmc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jmc.png","localThumb":"./thumb/jmc.png","localOptimized":"./optimized/jmc.png","localOriginal":"./original/jmc.png"}},{"name":"Kaiser","slug":"kaiser","image":{"source":"https://www.carlogos.org/logo/Kaiser-logo-640x346.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kaiser.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kaiser.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kaiser.jpg","localThumb":"./thumb/kaiser.png","localOptimized":"./optimized/kaiser.png","localOriginal":"./original/kaiser.jpg"}},{"name":"Kamaz","slug":"kamaz","image":{"source":"https://www.carlogos.org/logo/Kamaz-logo-2000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kamaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kamaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kamaz.png","localThumb":"./thumb/kamaz.png","localOptimized":"./optimized/kamaz.png","localOriginal":"./original/kamaz.png"}},{"name":"Karlmann King","slug":"karlmann-king","image":{"source":"https://www.carlogos.org/car-logos/karlmann-king-1400x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/karlmann-king.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/karlmann-king.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/karlmann-king.png","localThumb":"./thumb/karlmann-king.png","localOptimized":"./optimized/karlmann-king.png","localOriginal":"./original/karlmann-king.png"}},{"name":"Karma","slug":"karma","image":{"source":"https://www.carlogos.org/logo/Karma-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/karma.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/karma.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/karma.png","localThumb":"./thumb/karma.png","localOptimized":"./optimized/karma.png","localOriginal":"./original/karma.png"}},{"name":"Keating","slug":"keating","image":{"source":"https://www.carlogos.org/logo/Keating-Supercars-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/keating.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/keating.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/keating.png","localThumb":"./thumb/keating.png","localOptimized":"./optimized/keating.png","localOriginal":"./original/keating.png"}},{"name":"Kenworth","slug":"kenworth","image":{"source":"https://www.carlogos.org/logo/Kenworth-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kenworth.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kenworth.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kenworth.png","localThumb":"./thumb/kenworth.png","localOptimized":"./optimized/kenworth.png","localOriginal":"./original/kenworth.png"}},{"name":"Kia","slug":"kia","image":{"source":"https://www.carlogos.org/logo/Kia-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kia.png","localThumb":"./thumb/kia.png","localOptimized":"./optimized/kia.png","localOriginal":"./original/kia.png"}},{"name":"King Long","slug":"king-long","image":{"source":"https://www.carlogos.org/car-logos/king-long-logo-3900x800-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/king-long.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/king-long.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/king-long.png","localThumb":"./thumb/king-long.png","localOptimized":"./optimized/king-long.png","localOriginal":"./original/king-long.png"}},{"name":"Koenigsegg","slug":"koenigsegg","image":{"source":"https://www.carlogos.org/logo/Koenigsegg-logo-1994-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/koenigsegg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/koenigsegg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/koenigsegg.png","localThumb":"./thumb/koenigsegg.png","localOptimized":"./optimized/koenigsegg.png","localOriginal":"./original/koenigsegg.png"}},{"name":"KTM","slug":"ktm","image":{"source":"https://www.carlogos.org/logo/KTM-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ktm.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ktm.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ktm.png","localThumb":"./thumb/ktm.png","localOptimized":"./optimized/ktm.png","localOriginal":"./original/ktm.png"}},{"name":"Lada","slug":"lada","image":{"source":"https://www.carlogos.org/logo/Lada-logo-silver-640x248.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lada.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lada.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lada.jpg","localThumb":"./thumb/lada.png","localOptimized":"./optimized/lada.png","localOriginal":"./original/lada.jpg"}},{"name":"Lagonda","slug":"lagonda","image":{"source":"https://www.carlogos.org/logo/Lagonda-logo-2014-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lagonda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lagonda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lagonda.png","localThumb":"./thumb/lagonda.png","localOptimized":"./optimized/lagonda.png","localOriginal":"./original/lagonda.png"}},{"name":"Lamborghini","slug":"lamborghini","image":{"source":"https://www.carlogos.org/car-logos/lamborghini-logo-1998-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lamborghini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lamborghini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lamborghini.png","localThumb":"./thumb/lamborghini.png","localOptimized":"./optimized/lamborghini.png","localOriginal":"./original/lamborghini.png"}},{"name":"Lancia","slug":"lancia","image":{"source":"https://www.carlogos.org/logo/Lancia-logo-2007-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lancia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lancia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lancia.png","localThumb":"./thumb/lancia.png","localOptimized":"./optimized/lancia.png","localOriginal":"./original/lancia.png"}},{"name":"Land Rover","slug":"land-rover","image":{"source":"https://www.carlogos.org/logo/Land-Rover-logo-2011-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/land-rover.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/land-rover.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/land-rover.png","localThumb":"./thumb/land-rover.png","localOptimized":"./optimized/land-rover.png","localOriginal":"./original/land-rover.png"}},{"name":"Landwind","slug":"landwind","image":{"source":"https://www.carlogos.org/logo/Landwind-logo-5000x2000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/landwind.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/landwind.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/landwind.png","localThumb":"./thumb/landwind.png","localOptimized":"./optimized/landwind.png","localOriginal":"./original/landwind.png"}},{"name":"Laraki","slug":"laraki","image":{"source":"https://www.carlogos.org/logo/Laraki-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/laraki.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/laraki.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/laraki.png","localThumb":"./thumb/laraki.png","localOptimized":"./optimized/laraki.png","localOriginal":"./original/laraki.png"}},{"name":"Leapmotor","slug":"leapmotor","image":{"source":"https://www.carlogos.org/car-logos/leapmotor-logo-1000x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/leapmotor.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/leapmotor.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/leapmotor.png","localThumb":"./thumb/leapmotor.png","localOptimized":"./optimized/leapmotor.png","localOriginal":"./original/leapmotor.png"}},{"name":"LEVC","slug":"levc","image":{"source":"https://www.carlogos.org/logo/London-EV-Company-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/levc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/levc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/levc.png","localThumb":"./thumb/levc.png","localOptimized":"./optimized/levc.png","localOriginal":"./original/levc.png"}},{"name":"Lexus","slug":"lexus","image":{"source":"https://www.carlogos.org/logo/Lexus-logo-1988-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lexus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lexus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lexus.png","localThumb":"./thumb/lexus.png","localOptimized":"./optimized/lexus.png","localOriginal":"./original/lexus.png"}},{"name":"Leyland","slug":"leyland","image":{"source":"https://www.carlogos.org/logo/Leyland-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/leyland.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/leyland.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/leyland.png","localThumb":"./thumb/leyland.png","localOptimized":"./optimized/leyland.png","localOriginal":"./original/leyland.png"}},{"name":"Li Auto","slug":"li-auto","image":{"source":"https://www.carlogos.org/car-logos/lixiang-logo-1050x300-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/li-auto.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/li-auto.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/li-auto.png","localThumb":"./thumb/li-auto.png","localOptimized":"./optimized/li-auto.png","localOriginal":"./original/li-auto.png"}},{"name":"Lifan","slug":"lifan","image":{"source":"https://www.carlogos.org/logo/Lifan-logo-4000x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lifan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lifan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lifan.png","localThumb":"./thumb/lifan.png","localOptimized":"./optimized/lifan.png","localOriginal":"./original/lifan.png"}},{"name":"Ligier","slug":"ligier","image":{"source":"https://www.carlogos.org/logo/Ligier-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ligier.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ligier.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ligier.png","localThumb":"./thumb/ligier.png","localOptimized":"./optimized/ligier.png","localOriginal":"./original/ligier.png"}},{"name":"Lincoln","slug":"lincoln","image":{"source":"https://www.carlogos.org/logo/Lincoln-logo-2019-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lincoln.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lincoln.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lincoln.png","localThumb":"./thumb/lincoln.png","localOptimized":"./optimized/lincoln.png","localOriginal":"./original/lincoln.png"}},{"name":"Lister","slug":"lister","image":{"source":"https://www.carlogos.org/logo/Lister-Cars-logo-2900x2900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lister.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lister.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lister.png","localThumb":"./thumb/lister.png","localOptimized":"./optimized/lister.png","localOriginal":"./original/lister.png"}},{"name":"Lloyd","slug":"lloyd","image":{"source":"https://www.carlogos.org/logo/Lloyd-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lloyd.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lloyd.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lloyd.png","localThumb":"./thumb/lloyd.png","localOptimized":"./optimized/lloyd.png","localOriginal":"./original/lloyd.png"}},{"name":"Lobini","slug":"lobini","image":{"source":"https://www.carlogos.org/logo/Lobini-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lobini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lobini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lobini.png","localThumb":"./thumb/lobini.png","localOptimized":"./optimized/lobini.png","localOriginal":"./original/lobini.png"}},{"name":"Lordstown","slug":"lordstown","image":{"source":"https://www.carlogos.org/car-logos/lordstown-logo-2150x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lordstown.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lordstown.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lordstown.png","localThumb":"./thumb/lordstown.png","localOptimized":"./optimized/lordstown.png","localOriginal":"./original/lordstown.png"}},{"name":"Lotus","slug":"lotus","image":{"source":"https://www.carlogos.org/logo/Lotus-logo-2019-1800x1800.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lotus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lotus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lotus.png","localThumb":"./thumb/lotus.png","localOptimized":"./optimized/lotus.png","localOriginal":"./original/lotus.png"}},{"name":"Lucid","slug":"lucid","image":{"source":"https://www.carlogos.org/logo/Lucid-Motors-logo-1500x200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lucid.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lucid.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lucid.png","localThumb":"./thumb/lucid.png","localOptimized":"./optimized/lucid.png","localOriginal":"./original/lucid.png"}},{"name":"Luxgen","slug":"luxgen","image":{"source":"https://www.carlogos.org/logo/Luxgen-logo-2009-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/luxgen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/luxgen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/luxgen.png","localThumb":"./thumb/luxgen.png","localOptimized":"./optimized/luxgen.png","localOriginal":"./original/luxgen.png"}},{"name":"Lynk & Co","slug":"lynk-and-co","image":{"source":"https://www.carlogos.org/car-logos/lynkco-logo-2150x400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lynk-and-co.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lynk-and-co.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lynk-and-co.png","localThumb":"./thumb/lynk-and-co.png","localOptimized":"./optimized/lynk-and-co.png","localOriginal":"./original/lynk-and-co.png"}},{"name":"Mack","slug":"mack","image":{"source":"https://www.carlogos.org/logo/Mack-logo-2014-6000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mack.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mack.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mack.png","localThumb":"./thumb/mack.png","localOptimized":"./optimized/mack.png","localOriginal":"./original/mack.png"}},{"name":"Mahindra","slug":"mahindra","image":{"source":"https://www.carlogos.org/logo/Mahindra-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mahindra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mahindra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mahindra.png","localThumb":"./thumb/mahindra.png","localOptimized":"./optimized/mahindra.png","localOriginal":"./original/mahindra.png"}},{"name":"MAN","slug":"man","image":{"source":"https://www.carlogos.org/logo/MAN-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/man.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/man.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/man.png","localThumb":"./thumb/man.png","localOptimized":"./optimized/man.png","localOriginal":"./original/man.png"}},{"name":"Mansory","slug":"mansory","image":{"source":"https://www.carlogos.org/logo/Mansory-logo-1600x400.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mansory.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mansory.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mansory.png","localThumb":"./thumb/mansory.png","localOptimized":"./optimized/mansory.png","localOriginal":"./original/mansory.png"}},{"name":"Marcos","slug":"marcos","image":{"source":"https://www.carlogos.org/logo/Marcos-logo-640x460.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/marcos.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/marcos.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/marcos.jpg","localThumb":"./thumb/marcos.png","localOptimized":"./optimized/marcos.png","localOriginal":"./original/marcos.jpg"}},{"name":"Marlin","slug":"marlin","image":{"source":"https://www.carlogos.org/logo/Marlin-car-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/marlin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/marlin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/marlin.png","localThumb":"./thumb/marlin.png","localOptimized":"./optimized/marlin.png","localOriginal":"./original/marlin.png"}},{"name":"Maserati","slug":"maserati","image":{"source":"https://www.carlogos.org/car-logos/maserati-logo-2020-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maserati.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maserati.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maserati.png","localThumb":"./thumb/maserati.png","localOptimized":"./optimized/maserati.png","localOriginal":"./original/maserati.png"}},{"name":"Mastretta","slug":"mastretta","image":{"source":"https://www.carlogos.org/logo/Mastretta-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mastretta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mastretta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mastretta.png","localThumb":"./thumb/mastretta.png","localOptimized":"./optimized/mastretta.png","localOriginal":"./original/mastretta.png"}},{"name":"Maxus","slug":"maxus","image":{"source":"https://www.carlogos.org/logo/Maxus-logo-2014-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maxus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maxus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maxus.png","localThumb":"./thumb/maxus.png","localOptimized":"./optimized/maxus.png","localOriginal":"./original/maxus.png"}},{"name":"Maybach","slug":"maybach","image":{"source":"https://www.carlogos.org/logo/Maybach-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maybach.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maybach.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maybach.png","localThumb":"./thumb/maybach.png","localOptimized":"./optimized/maybach.png","localOriginal":"./original/maybach.png"}},{"name":"MAZ","slug":"maz","image":{"source":"https://www.carlogos.org/logo/MAZ-logo-5000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maz.png","localThumb":"./thumb/maz.png","localOptimized":"./optimized/maz.png","localOriginal":"./original/maz.png"}},{"name":"Mazda","slug":"mazda","image":{"source":"https://www.carlogos.org/car-logos/mazda-logo-2018-vertical-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mazda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mazda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mazda.png","localThumb":"./thumb/mazda.png","localOptimized":"./optimized/mazda.png","localOriginal":"./original/mazda.png"}},{"name":"Mazzanti","slug":"mazzanti","image":{"source":"https://www.carlogos.org/logo/Mazzanti-Automobili-logo-2016-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mazzanti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mazzanti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mazzanti.png","localThumb":"./thumb/mazzanti.png","localOptimized":"./optimized/mazzanti.png","localOriginal":"./original/mazzanti.png"}},{"name":"McLaren","slug":"mclaren","image":{"source":"https://www.carlogos.org/logo/McLaren-logo-2002-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mclaren.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mclaren.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mclaren.png","localThumb":"./thumb/mclaren.png","localOptimized":"./optimized/mclaren.png","localOriginal":"./original/mclaren.png"}},{"name":"Melkus","slug":"melkus","image":{"source":"https://www.carlogos.org/logo/Melkus-logo-1600x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/melkus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/melkus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/melkus.png","localThumb":"./thumb/melkus.png","localOptimized":"./optimized/melkus.png","localOriginal":"./original/melkus.png"}},{"name":"Mercedes-AMG","slug":"mercedes-amg","image":{"source":"https://www.carlogos.org/logo/AMG-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mercedes-amg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mercedes-amg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mercedes-amg.png","localThumb":"./thumb/mercedes-amg.png","localOptimized":"./optimized/mercedes-amg.png","localOriginal":"./original/mercedes-amg.png"}},{"name":"Mercedes-Benz","slug":"mercedes-benz","image":{"source":"https://www.carlogos.org/logo/Mercedes-Benz-logo-2011-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mercedes-benz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mercedes-benz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mercedes-benz.png","localThumb":"./thumb/mercedes-benz.png","localOptimized":"./optimized/mercedes-benz.png","localOriginal":"./original/mercedes-benz.png"}},{"name":"Mercury","slug":"mercury","image":{"source":"https://www.carlogos.org/logo/Mercury-logo-1980-2500x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mercury.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mercury.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mercury.png","localThumb":"./thumb/mercury.png","localOptimized":"./optimized/mercury.png","localOriginal":"./original/mercury.png"}},{"name":"Merkur","slug":"merkur","image":{"source":"https://www.carlogos.org/logo/Merkur-logo-black-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/merkur.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/merkur.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/merkur.png","localThumb":"./thumb/merkur.png","localOptimized":"./optimized/merkur.png","localOriginal":"./original/merkur.png"}},{"name":"MEV","slug":"mev","image":{"source":"https://www.carlogos.org/logo/Mills-Extreme-Vehicles-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mev.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mev.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mev.png","localThumb":"./thumb/mev.png","localOptimized":"./optimized/mev.png","localOriginal":"./original/mev.png"}},{"name":"MG","slug":"mg","image":{"source":"https://www.carlogos.org/logo/MG-logo-red-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mg.png","localThumb":"./thumb/mg.png","localOptimized":"./optimized/mg.png","localOriginal":"./original/mg.png"}},{"name":"Microcar","slug":"microcar","image":{"source":"https://www.carlogos.org/logo/Microcar-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/microcar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/microcar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/microcar.png","localThumb":"./thumb/microcar.png","localOptimized":"./optimized/microcar.png","localOriginal":"./original/microcar.png"}},{"name":"Mini","slug":"mini","image":{"source":"https://www.carlogos.org/logo/Mini-logo-2001-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mini.png","localThumb":"./thumb/mini.png","localOptimized":"./optimized/mini.png","localOriginal":"./original/mini.png"}},{"name":"Mitsubishi","slug":"mitsubishi","image":{"source":"https://www.carlogos.org/logo/Mitsubishi-logo-2000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mitsubishi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mitsubishi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mitsubishi.png","localThumb":"./thumb/mitsubishi.png","localOptimized":"./optimized/mitsubishi.png","localOriginal":"./original/mitsubishi.png"}},{"name":"Mitsuoka","slug":"mitsuoka","image":{"source":"https://www.carlogos.org/logo/Mitsuoka-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mitsuoka.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mitsuoka.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mitsuoka.png","localThumb":"./thumb/mitsuoka.png","localOptimized":"./optimized/mitsuoka.png","localOriginal":"./original/mitsuoka.png"}},{"name":"MK","slug":"mk","image":{"source":"https://www.carlogos.org/car-logos/mk-sportscars-logo-1000x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mk.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mk.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mk.png","localThumb":"./thumb/mk.png","localOptimized":"./optimized/mk.png","localOriginal":"./original/mk.png"}},{"name":"Morgan","slug":"morgan","image":{"source":"https://www.carlogos.org/logo/Morgan-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/morgan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/morgan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/morgan.png","localThumb":"./thumb/morgan.png","localOptimized":"./optimized/morgan.png","localOriginal":"./original/morgan.png"}},{"name":"Morris","slug":"morris","image":{"source":"https://www.carlogos.org/logo/Morris-logo-640x497.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/morris.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/morris.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/morris.jpg","localThumb":"./thumb/morris.png","localOptimized":"./optimized/morris.png","localOriginal":"./original/morris.jpg"}},{"name":"Mosler","slug":"mosler","image":{"source":"https://www.carlogos.org/logo/Mosler-logo-640x457.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mosler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mosler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mosler.png","localThumb":"./thumb/mosler.png","localOptimized":"./optimized/mosler.png","localOriginal":"./original/mosler.png"}},{"name":"Navistar","slug":"navistar","image":{"source":"https://www.carlogos.org/logo/Navistar-International-logo-2200x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/navistar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/navistar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/navistar.png","localThumb":"./thumb/navistar.png","localOptimized":"./optimized/navistar.png","localOriginal":"./original/navistar.png"}},{"name":"NEVS","slug":"nevs","image":{"source":"https://www.carlogos.org/car-logos/nevs-logo-2100x450-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nevs.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nevs.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nevs.png","localThumb":"./thumb/nevs.png","localOptimized":"./optimized/nevs.png","localOriginal":"./original/nevs.png"}},{"name":"Nikola","slug":"nikola","image":{"source":"https://www.carlogos.org/car-logos/nikola-logo-2100x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nikola.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nikola.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nikola.png","localThumb":"./thumb/nikola.png","localOptimized":"./optimized/nikola.png","localOriginal":"./original/nikola.png"}},{"name":"NIO","slug":"nio","image":{"source":"https://www.carlogos.org/car-logos/nio-logo-1800x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nio.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nio.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nio.png","localThumb":"./thumb/nio.png","localOptimized":"./optimized/nio.png","localOriginal":"./original/nio.png"}},{"name":"Nissan","slug":"nissan","image":{"source":"https://www.carlogos.org/car-logos/nissan-logo-2020-black-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nissan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nissan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nissan.png","localThumb":"./thumb/nissan.png","localOptimized":"./optimized/nissan.png","localOriginal":"./original/nissan.png"}},{"name":"Nissan GT-R","slug":"nissan-gt-r","image":{"source":"https://www.carlogos.org/logo/GT-R-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nissan-gt-r.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nissan-gt-r.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nissan-gt-r.png","localThumb":"./thumb/nissan-gt-r.png","localOptimized":"./optimized/nissan-gt-r.png","localOriginal":"./original/nissan-gt-r.png"}},{"name":"Nissan Nismo","slug":"nissan-nismo","image":{"source":"https://www.carlogos.org/logo/Nismo-logo-2000x450.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nissan-nismo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nissan-nismo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nissan-nismo.png","localThumb":"./thumb/nissan-nismo.png","localOptimized":"./optimized/nissan-nismo.png","localOriginal":"./original/nissan-nismo.png"}},{"name":"Noble","slug":"noble","image":{"source":"https://www.carlogos.org/logo/Noble-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/noble.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/noble.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/noble.png","localThumb":"./thumb/noble.png","localOptimized":"./optimized/noble.png","localOriginal":"./original/noble.png"}},{"name":"Oldsmobile","slug":"oldsmobile","image":{"source":"https://www.carlogos.org/logo/Oldsmobile-logo-1996-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/oldsmobile.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/oldsmobile.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/oldsmobile.png","localThumb":"./thumb/oldsmobile.png","localOptimized":"./optimized/oldsmobile.png","localOriginal":"./original/oldsmobile.png"}},{"name":"Oltcit","slug":"oltcit","image":{"source":"https://www.carlogos.org/logo/Oltcit-logo-640x308.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/oltcit.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/oltcit.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/oltcit.png","localThumb":"./thumb/oltcit.png","localOptimized":"./optimized/oltcit.png","localOriginal":"./original/oltcit.png"}},{"name":"Omoda","slug":"omoda","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/omoda.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/omoda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/omoda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/omoda.png","localThumb":"./thumb/omoda.png","localOptimized":"./optimized/omoda.png","localOriginal":"./original/omoda.png"}},{"name":"Opel","slug":"opel","image":{"source":"https://www.carlogos.org/logo/Opel-logo-2009-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/opel.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/opel.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/opel.png","localThumb":"./thumb/opel.png","localOptimized":"./optimized/opel.png","localOriginal":"./original/opel.png"}},{"name":"OSCA","slug":"osca","image":{"source":"https://www.carlogos.org/logo/OSCA-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/osca.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/osca.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/osca.png","localThumb":"./thumb/osca.png","localOptimized":"./optimized/osca.png","localOriginal":"./original/osca.png"}},{"name":"Paccar","slug":"paccar","image":{"source":"https://www.carlogos.org/logo/Paccar-logo-2200x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/paccar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/paccar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/paccar.png","localThumb":"./thumb/paccar.png","localOptimized":"./optimized/paccar.png","localOriginal":"./original/paccar.png"}},{"name":"Packard","slug":"packard","image":{"source":"https://www.carlogos.org/car-logos/packard-logo-650x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/packard.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/packard.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/packard.png","localThumb":"./thumb/packard.png","localOptimized":"./optimized/packard.png","localOriginal":"./original/packard.png"}},{"name":"Pagani","slug":"pagani","image":{"source":"https://www.carlogos.org/logo/Pagani-logo-1992-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pagani.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pagani.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pagani.png","localThumb":"./thumb/pagani.png","localOptimized":"./optimized/pagani.png","localOriginal":"./original/pagani.png"}},{"name":"Panhard","slug":"panhard","image":{"source":"https://www.carlogos.org/logo/Panhard-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/panhard.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/panhard.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/panhard.png","localThumb":"./thumb/panhard.png","localOptimized":"./optimized/panhard.png","localOriginal":"./original/panhard.png"}},{"name":"Panoz","slug":"panoz","image":{"source":"https://www.carlogos.org/logo/Panoz-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/panoz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/panoz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/panoz.png","localThumb":"./thumb/panoz.png","localOptimized":"./optimized/panoz.png","localOriginal":"./original/panoz.png"}},{"name":"Pegaso","slug":"pegaso","image":{"source":"https://www.carlogos.org/logo/Pegaso-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pegaso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pegaso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pegaso.png","localThumb":"./thumb/pegaso.png","localOptimized":"./optimized/pegaso.png","localOriginal":"./original/pegaso.png"}},{"name":"Perodua","slug":"perodua","image":{"source":"https://www.carlogos.org/logo/Perodua-logo-2008-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/perodua.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/perodua.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/perodua.png","localThumb":"./thumb/perodua.png","localOptimized":"./optimized/perodua.png","localOriginal":"./original/perodua.png"}},{"name":"Peterbilt","slug":"peterbilt","image":{"source":"https://www.carlogos.org/logo/Peterbilt-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/peterbilt.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/peterbilt.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/peterbilt.png","localThumb":"./thumb/peterbilt.png","localOptimized":"./optimized/peterbilt.png","localOriginal":"./original/peterbilt.png"}},{"name":"Peugeot","slug":"peugeot","image":{"source":"https://www.carlogos.org/logo/Peugeot-logo-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/peugeot.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/peugeot.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/peugeot.png","localThumb":"./thumb/peugeot.png","localOptimized":"./optimized/peugeot.png","localOriginal":"./original/peugeot.png"}},{"name":"PGO","slug":"pgo","image":{"source":"https://www.carlogos.org/logo/PGO-logo-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pgo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pgo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pgo.jpg","localThumb":"./thumb/pgo.png","localOptimized":"./optimized/pgo.png","localOriginal":"./original/pgo.jpg"}},{"name":"Pierce-Arrow","slug":"pierce-arrow","image":{"source":"https://www.carlogos.org/logo/Pierce-Arrow-logo-640x416.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pierce-arrow.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pierce-arrow.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pierce-arrow.jpg","localThumb":"./thumb/pierce-arrow.png","localOptimized":"./optimized/pierce-arrow.png","localOriginal":"./original/pierce-arrow.jpg"}},{"name":"Pininfarina","slug":"pininfarina","image":{"source":"https://www.carlogos.org/logo/Pininfarina-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pininfarina.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pininfarina.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pininfarina.png","localThumb":"./thumb/pininfarina.png","localOptimized":"./optimized/pininfarina.png","localOriginal":"./original/pininfarina.png"}},{"name":"Plymouth","slug":"plymouth","image":{"source":"https://www.carlogos.org/logo/Plymouth-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/plymouth.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/plymouth.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/plymouth.png","localThumb":"./thumb/plymouth.png","localOptimized":"./optimized/plymouth.png","localOriginal":"./original/plymouth.png"}},{"name":"Polestar","slug":"polestar","image":{"source":"https://www.carlogos.org/logo/Polestar-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/polestar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/polestar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/polestar.png","localThumb":"./thumb/polestar.png","localOptimized":"./optimized/polestar.png","localOriginal":"./original/polestar.png"}},{"name":"Pontiac","slug":"pontiac","image":{"source":"https://www.carlogos.org/logo/Pontiac-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pontiac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pontiac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pontiac.png","localThumb":"./thumb/pontiac.png","localOptimized":"./optimized/pontiac.png","localOriginal":"./original/pontiac.png"}},{"name":"Porsche","slug":"porsche","image":{"source":"https://www.carlogos.org/car-logos/porsche-logo-2014-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/porsche.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/porsche.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/porsche.png","localThumb":"./thumb/porsche.png","localOptimized":"./optimized/porsche.png","localOriginal":"./original/porsche.png"}},{"name":"Praga","slug":"praga","image":{"source":"https://www.carlogos.org/logo/Praga-logo-blue-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/praga.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/praga.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/praga.png","localThumb":"./thumb/praga.png","localOptimized":"./optimized/praga.png","localOriginal":"./original/praga.png"}},{"name":"Premier","slug":"premier","image":{"source":"https://www.carlogos.org/logo/Premier-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/premier.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/premier.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/premier.png","localThumb":"./thumb/premier.png","localOptimized":"./optimized/premier.png","localOriginal":"./original/premier.png"}},{"name":"Prodrive","slug":"prodrive","image":{"source":"https://www.carlogos.org/logo/Prodrive-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/prodrive.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/prodrive.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/prodrive.png","localThumb":"./thumb/prodrive.png","localOptimized":"./optimized/prodrive.png","localOriginal":"./original/prodrive.png"}},{"name":"Proton","slug":"proton","image":{"source":"https://www.carlogos.org/logo/Proton-logo-2016-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/proton.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/proton.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/proton.png","localThumb":"./thumb/proton.png","localOptimized":"./optimized/proton.png","localOriginal":"./original/proton.png"}},{"name":"Qoros","slug":"qoros","image":{"source":"https://www.carlogos.org/logo/Qoros-logo-2007-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/qoros.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/qoros.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/qoros.png","localThumb":"./thumb/qoros.png","localOptimized":"./optimized/qoros.png","localOriginal":"./original/qoros.png"}},{"name":"Radical","slug":"radical","image":{"source":"https://www.carlogos.org/logo/Radical-Sportscars-logo-2000x800.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/radical.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/radical.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/radical.png","localThumb":"./thumb/radical.png","localOptimized":"./optimized/radical.png","localOriginal":"./original/radical.png"}},{"name":"RAM","slug":"ram","image":{"source":"https://www.carlogos.org/logo/RAM-logo-2009-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ram.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ram.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ram.png","localThumb":"./thumb/ram.png","localOptimized":"./optimized/ram.png","localOriginal":"./original/ram.png"}},{"name":"Rambler","slug":"rambler","image":{"source":"https://www.carlogos.org/logo/Rambler-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rambler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rambler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rambler.png","localThumb":"./thumb/rambler.png","localOptimized":"./optimized/rambler.png","localOriginal":"./original/rambler.png"}},{"name":"Ranz","slug":"ranz","image":{"source":"https://www.carlogos.org/logo/Ranz-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ranz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ranz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ranz.png","localThumb":"./thumb/ranz.png","localOptimized":"./optimized/ranz.png","localOriginal":"./original/ranz.png"}},{"name":"Renault","slug":"renault","image":{"source":"https://www.carlogos.org/logo/Renault-logo-2015-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/renault.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/renault.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/renault.png","localThumb":"./thumb/renault.png","localOptimized":"./optimized/renault.png","localOriginal":"./original/renault.png"}},{"name":"Renault Samsung","slug":"renault-samsung","image":{"source":"https://www.carlogos.org/logo/Renault-Samsung-Motors-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/renault-samsung.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/renault-samsung.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/renault-samsung.png","localThumb":"./thumb/renault-samsung.png","localOptimized":"./optimized/renault-samsung.png","localOriginal":"./original/renault-samsung.png"}},{"name":"Rezvani","slug":"rezvani","image":{"source":"https://www.carlogos.org/logo/Rezvani-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rezvani.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rezvani.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rezvani.png","localThumb":"./thumb/rezvani.png","localOptimized":"./optimized/rezvani.png","localOriginal":"./original/rezvani.png"}},{"name":"Riley","slug":"riley","image":{"source":"https://www.carlogos.org/logo/Riley-logo-640x389.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/riley.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/riley.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/riley.png","localThumb":"./thumb/riley.png","localOptimized":"./optimized/riley.png","localOriginal":"./original/riley.png"}},{"name":"Rimac","slug":"rimac","image":{"source":"https://www.carlogos.org/logo/Rimac-logo-2016-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rimac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rimac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rimac.png","localThumb":"./thumb/rimac.png","localOptimized":"./optimized/rimac.png","localOriginal":"./original/rimac.png"}},{"name":"Rinspeed","slug":"rinspeed","image":{"source":"https://www.carlogos.org/logo/Rinspeed-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rinspeed.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rinspeed.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rinspeed.png","localThumb":"./thumb/rinspeed.png","localOptimized":"./optimized/rinspeed.png","localOriginal":"./original/rinspeed.png"}},{"name":"Rivian","slug":"rivian","image":{"source":"https://www.carlogos.org/car-logos/rivian-logo-black-1300x1150-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rivian.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rivian.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rivian.png","localThumb":"./thumb/rivian.png","localOptimized":"./optimized/rivian.png","localOriginal":"./original/rivian.png"}},{"name":"Roewe","slug":"roewe","image":{"source":"https://www.carlogos.org/logo/Roewe-logo-2006-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/roewe.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/roewe.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/roewe.png","localThumb":"./thumb/roewe.png","localOptimized":"./optimized/roewe.png","localOriginal":"./original/roewe.png"}},{"name":"Rolls-Royce","slug":"rolls-royce","image":{"source":"https://www.carlogos.org/logo/Rolls-Royce-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rolls-royce.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rolls-royce.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rolls-royce.png","localThumb":"./thumb/rolls-royce.png","localOptimized":"./optimized/rolls-royce.png","localOriginal":"./original/rolls-royce.png"}},{"name":"Ronart","slug":"ronart","image":{"source":"https://www.carlogos.org/logo/Ronart-Cars-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ronart.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ronart.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ronart.png","localThumb":"./thumb/ronart.png","localOptimized":"./optimized/ronart.png","localOriginal":"./original/ronart.png"}},{"name":"Rossion","slug":"rossion","image":{"source":"https://www.carlogos.org/logo/Rossion-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rossion.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rossion.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rossion.png","localThumb":"./thumb/rossion.png","localOptimized":"./optimized/rossion.png","localOriginal":"./original/rossion.png"}},{"name":"Rover","slug":"rover","image":{"source":"https://www.carlogos.org/logo/Rover-logo-2003-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rover.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rover.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rover.png","localThumb":"./thumb/rover.png","localOptimized":"./optimized/rover.png","localOriginal":"./original/rover.png"}},{"name":"RUF","slug":"ruf","image":{"source":"https://www.carlogos.org/logo/Ruf-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ruf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ruf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ruf.png","localThumb":"./thumb/ruf.png","localOptimized":"./optimized/ruf.png","localOriginal":"./original/ruf.png"}},{"name":"Saab","slug":"saab","image":{"source":"https://www.carlogos.org/logo/Saab-logo-2013-2000x450.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saab.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saab.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saab.png","localThumb":"./thumb/saab.png","localOptimized":"./optimized/saab.png","localOriginal":"./original/saab.png"}},{"name":"SAIC Motor","slug":"saic-motor","image":{"source":"https://www.carlogos.org/logo/SAIC-Motor-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saic-motor.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saic-motor.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saic-motor.png","localThumb":"./thumb/saic-motor.png","localOptimized":"./optimized/saic-motor.png","localOriginal":"./original/saic-motor.png"}},{"name":"Saipa","slug":"saipa","image":{"source":"https://www.carlogos.org/logo/Saipa-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saipa.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saipa.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saipa.png","localThumb":"./thumb/saipa.png","localOptimized":"./optimized/saipa.png","localOriginal":"./original/saipa.png"}},{"name":"Saleen","slug":"saleen","image":{"source":"https://www.carlogos.org/logo/Saleen-logo-640x456.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saleen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saleen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saleen.jpg","localThumb":"./thumb/saleen.png","localOptimized":"./optimized/saleen.png","localOriginal":"./original/saleen.jpg"}},{"name":"Saturn","slug":"saturn","image":{"source":"https://www.carlogos.org/logo/Saturn-logo-1985-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saturn.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saturn.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saturn.png","localThumb":"./thumb/saturn.png","localOptimized":"./optimized/saturn.png","localOriginal":"./original/saturn.png"}},{"name":"Scania","slug":"scania","image":{"source":"https://www.carlogos.org/logo/Scania-logo-6200x1800.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/scania.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/scania.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/scania.png","localThumb":"./thumb/scania.png","localOptimized":"./optimized/scania.png","localOriginal":"./original/scania.png"}},{"name":"Scion","slug":"scion","image":{"source":"https://www.carlogos.org/logo/Scion-logo-2003-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/scion.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/scion.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/scion.png","localThumb":"./thumb/scion.png","localOptimized":"./optimized/scion.png","localOriginal":"./original/scion.png"}},{"name":"SEAT","slug":"seat","image":{"source":"https://www.carlogos.org/logo/SEAT-logo-2012-6000x5000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/seat.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/seat.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/seat.png","localThumb":"./thumb/seat.png","localOptimized":"./optimized/seat.png","localOriginal":"./original/seat.png"}},{"name":"Setra","slug":"setra","image":{"source":"https://www.carlogos.org/logo/Setra-logo-3000x1000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/setra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/setra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/setra.png","localThumb":"./thumb/setra.png","localOptimized":"./optimized/setra.png","localOriginal":"./original/setra.png"}},{"name":"SEV","slug":"sev","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/sev.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sev.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sev.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sev.png","localThumb":"./thumb/sev.png","localOptimized":"./optimized/sev.png","localOriginal":"./original/sev.png"}},{"name":"Shacman","slug":"shacman","image":{"source":"https://www.carlogos.org/car-logos/shacman-logo-1400x1400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/shacman.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/shacman.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/shacman.png","localThumb":"./thumb/shacman.png","localOptimized":"./optimized/shacman.png","localOriginal":"./original/shacman.png"}},{"name":"Simca","slug":"simca","image":{"source":"https://www.carlogos.org/logo/Simca-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/simca.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/simca.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/simca.png","localThumb":"./thumb/simca.png","localOptimized":"./optimized/simca.png","localOriginal":"./original/simca.png"}},{"name":"Singer","slug":"singer","image":{"source":"https://www.carlogos.org/logo/Singer-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/singer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/singer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/singer.png","localThumb":"./thumb/singer.png","localOptimized":"./optimized/singer.png","localOriginal":"./original/singer.png"}},{"name":"Singulato","slug":"singulato","image":{"source":"https://www.carlogos.org/car-logos/singulato-logo-1050x400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/singulato.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/singulato.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/singulato.png","localThumb":"./thumb/singulato.png","localOptimized":"./optimized/singulato.png","localOriginal":"./original/singulato.png"}},{"name":"Sinotruk","slug":"sinotruk","image":{"source":"https://www.carlogos.org/car-logos/sinotruk-logo-1100x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sinotruk.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sinotruk.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sinotruk.png","localThumb":"./thumb/sinotruk.png","localOptimized":"./optimized/sinotruk.png","localOriginal":"./original/sinotruk.png"}},{"name":"Sisu","slug":"sisu","image":{"source":"https://www.carlogos.org/logo/Sisu-logo-2048x2000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sisu.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sisu.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sisu.png","localThumb":"./thumb/sisu.png","localOptimized":"./optimized/sisu.png","localOriginal":"./original/sisu.png"}},{"name":"koda","slug":"skoda","image":{"source":"https://www.carlogos.org/logo/Skoda-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/skoda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/skoda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/skoda.png","localThumb":"./thumb/skoda.png","localOptimized":"./optimized/skoda.png","localOriginal":"./original/skoda.png"}},{"name":"Smart","slug":"smart","image":{"source":"https://www.carlogos.org/logo/Smart-logo-1994-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/smart.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/smart.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/smart.png","localThumb":"./thumb/smart.png","localOptimized":"./optimized/smart.png","localOriginal":"./original/smart.png"}},{"name":"Soueast","slug":"soueast","image":{"source":"https://www.carlogos.org/logo/Soueast-logo-1995-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/soueast.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/soueast.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/soueast.png","localThumb":"./thumb/soueast.png","localOptimized":"./optimized/soueast.png","localOriginal":"./original/soueast.png"}},{"name":"Spania GTA","slug":"spania-gta","image":{"source":"https://www.carlogos.org/logo/GTA-Motor-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/spania-gta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/spania-gta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/spania-gta.png","localThumb":"./thumb/spania-gta.png","localOptimized":"./optimized/spania-gta.png","localOriginal":"./original/spania-gta.png"}},{"name":"Spirra","slug":"spirra","image":{"source":"https://www.carlogos.org/logo/Spirra-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/spirra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/spirra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/spirra.png","localThumb":"./thumb/spirra.png","localOptimized":"./optimized/spirra.png","localOriginal":"./original/spirra.png"}},{"name":"Spyker","slug":"spyker","image":{"source":"https://www.carlogos.org/logo/Spyker-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/spyker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/spyker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/spyker.png","localThumb":"./thumb/spyker.png","localOptimized":"./optimized/spyker.png","localOriginal":"./original/spyker.png"}},{"name":"SsangYong","slug":"ssangyong","image":{"source":"https://www.carlogos.org/logo/SsangYong-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ssangyong.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ssangyong.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ssangyong.png","localThumb":"./thumb/ssangyong.png","localOptimized":"./optimized/ssangyong.png","localOriginal":"./original/ssangyong.png"}},{"name":"SSC","slug":"ssc","image":{"source":"https://www.carlogos.org/logo/SSC-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ssc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ssc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ssc.png","localThumb":"./thumb/ssc.png","localOptimized":"./optimized/ssc.png","localOriginal":"./original/ssc.png"}},{"name":"Sterling","slug":"sterling","image":{"source":"https://www.carlogos.org/logo/Sterling-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sterling.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sterling.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sterling.png","localThumb":"./thumb/sterling.png","localOptimized":"./optimized/sterling.png","localOriginal":"./original/sterling.png"}},{"name":"Studebaker","slug":"studebaker","image":{"source":"https://www.carlogos.org/logo/Studebaker-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/studebaker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/studebaker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/studebaker.png","localThumb":"./thumb/studebaker.png","localOptimized":"./optimized/studebaker.png","localOriginal":"./original/studebaker.png"}},{"name":"Stutz","slug":"stutz","image":{"source":"https://www.carlogos.org/car-logos/stutz-logo-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/stutz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/stutz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/stutz.png","localThumb":"./thumb/stutz.png","localOptimized":"./optimized/stutz.png","localOriginal":"./original/stutz.png"}},{"name":"Subaru","slug":"subaru","image":{"source":"https://www.carlogos.org/car-logos/subaru-logo-2019-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/subaru.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/subaru.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/subaru.png","localThumb":"./thumb/subaru.png","localOptimized":"./optimized/subaru.png","localOriginal":"./original/subaru.png"}},{"name":"Suffolk","slug":"suffolk","image":{"source":"https://www.carlogos.org/logo/Suffolk-Sportscars-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/suffolk.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/suffolk.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/suffolk.png","localThumb":"./thumb/suffolk.png","localOptimized":"./optimized/suffolk.png","localOriginal":"./original/suffolk.png"}},{"name":"Suzuki","slug":"suzuki","image":{"source":"https://www.carlogos.org/logo/Suzuki-logo-5000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/suzuki.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/suzuki.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/suzuki.png","localThumb":"./thumb/suzuki.png","localOptimized":"./optimized/suzuki.png","localOriginal":"./original/suzuki.png"}},{"name":"Talbot","slug":"talbot","image":{"source":"https://www.carlogos.org/logo/Talbot-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/talbot.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/talbot.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/talbot.png","localThumb":"./thumb/talbot.png","localOptimized":"./optimized/talbot.png","localOriginal":"./original/talbot.png"}},{"name":"Tata","slug":"tata","image":{"source":"https://www.carlogos.org/logo/Tata-logo-2000-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tata.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tata.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tata.png","localThumb":"./thumb/tata.png","localOptimized":"./optimized/tata.png","localOriginal":"./original/tata.png"}},{"name":"Tatra","slug":"tatra","image":{"source":"https://www.carlogos.org/logo/Tatra-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tatra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tatra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tatra.png","localThumb":"./thumb/tatra.png","localOptimized":"./optimized/tatra.png","localOriginal":"./original/tatra.png"}},{"name":"Tauro","slug":"tauro","image":{"source":"https://www.carlogos.org/logo/Tauro-Sport-Auto-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tauro.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tauro.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tauro.png","localThumb":"./thumb/tauro.png","localOptimized":"./optimized/tauro.png","localOriginal":"./original/tauro.png"}},{"name":"TechArt","slug":"techart","image":{"source":"https://www.carlogos.org/logo/TechArt-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/techart.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/techart.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/techart.png","localThumb":"./thumb/techart.png","localOptimized":"./optimized/techart.png","localOriginal":"./original/techart.png"}},{"name":"Tesla","slug":"tesla","image":{"source":"https://www.carlogos.org/car-logos/tesla-logo-2007-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tesla.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tesla.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tesla.png","localThumb":"./thumb/tesla.png","localOptimized":"./optimized/tesla.png","localOriginal":"./original/tesla.png"}},{"name":"Toyota","slug":"toyota","image":{"source":"https://www.carlogos.org/car-logos/toyota-logo-2020-europe-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota.png","localThumb":"./thumb/toyota.png","localOptimized":"./optimized/toyota.png","localOriginal":"./original/toyota.png"}},{"name":"Toyota Alphard","slug":"toyota-alphard","image":{"source":"https://www.carlogos.org/car-logos/toyota-alphard-logo-500x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota-alphard.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota-alphard.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota-alphard.png","localThumb":"./thumb/toyota-alphard.png","localOptimized":"./optimized/toyota-alphard.png","localOriginal":"./original/toyota-alphard.png"}},{"name":"Toyota Century","slug":"toyota-century","image":{"source":"https://www.carlogos.org/car-logos/toyota-century-logo-900x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota-century.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota-century.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota-century.png","localThumb":"./thumb/toyota-century.png","localOptimized":"./optimized/toyota-century.png","localOriginal":"./original/toyota-century.png"}},{"name":"Toyota Crown","slug":"toyota-crown","image":{"source":"https://www.carlogos.org/logo/Toyota-Crown-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota-crown.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota-crown.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota-crown.png","localThumb":"./thumb/toyota-crown.png","localOptimized":"./optimized/toyota-crown.png","localOriginal":"./original/toyota-crown.png"}},{"name":"Tramontana","slug":"tramontana","image":{"source":"https://www.carlogos.org/logo/Tramontana-logo-black-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tramontana.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tramontana.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tramontana.png","localThumb":"./thumb/tramontana.png","localOptimized":"./optimized/tramontana.png","localOriginal":"./original/tramontana.png"}},{"name":"Trion","slug":"trion","image":{"source":"https://www.carlogos.org/logo/Trion-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/trion.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/trion.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/trion.png","localThumb":"./thumb/trion.png","localOptimized":"./optimized/trion.png","localOriginal":"./original/trion.png"}},{"name":"Triumph","slug":"triumph","image":{"source":"https://www.carlogos.org/logo/Triumph-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/triumph.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/triumph.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/triumph.png","localThumb":"./thumb/triumph.png","localOptimized":"./optimized/triumph.png","localOriginal":"./original/triumph.png"}},{"name":"Troller","slug":"troller","image":{"source":"https://www.carlogos.org/logo/Troller-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/troller.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/troller.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/troller.png","localThumb":"./thumb/troller.png","localOptimized":"./optimized/troller.png","localOriginal":"./original/troller.png"}},{"name":"Tucker","slug":"tucker","image":{"source":"https://www.carlogos.org/car-logos/tucker-logo-700x900-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tucker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tucker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tucker.png","localThumb":"./thumb/tucker.png","localOptimized":"./optimized/tucker.png","localOriginal":"./original/tucker.png"}},{"name":"TVR","slug":"tvr","image":{"source":"https://www.carlogos.org/logo/TVR-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tvr.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tvr.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tvr.png","localThumb":"./thumb/tvr.png","localOptimized":"./optimized/tvr.png","localOriginal":"./original/tvr.png"}},{"name":"UAZ","slug":"uaz","image":{"source":"https://www.carlogos.org/logo/UAZ-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/uaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/uaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/uaz.png","localThumb":"./thumb/uaz.png","localOptimized":"./optimized/uaz.png","localOriginal":"./original/uaz.png"}},{"name":"UD","slug":"ud","image":{"source":"https://www.carlogos.org/logo/UD-Trucks-logo-3000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ud.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ud.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ud.png","localThumb":"./thumb/ud.png","localOptimized":"./optimized/ud.png","localOriginal":"./original/ud.png"}},{"name":"Ultima","slug":"ultima","image":{"source":"https://www.carlogos.org/logo/Ultima-Sports-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ultima.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ultima.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ultima.png","localThumb":"./thumb/ultima.png","localOptimized":"./optimized/ultima.png","localOriginal":"./original/ultima.png"}},{"name":"Vandenbrink","slug":"vandenbrink","image":{"source":"https://www.carlogos.org/logo/Vandenbrink-logo-640x265.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vandenbrink.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vandenbrink.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vandenbrink.jpg","localThumb":"./thumb/vandenbrink.png","localOptimized":"./optimized/vandenbrink.png","localOriginal":"./original/vandenbrink.jpg"}},{"name":"Vauxhall","slug":"vauxhall","image":{"source":"https://www.carlogos.org/logo/Vauxhall-logo-2008-red-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vauxhall.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vauxhall.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vauxhall.png","localThumb":"./thumb/vauxhall.png","localOptimized":"./optimized/vauxhall.png","localOriginal":"./original/vauxhall.png"}},{"name":"Vector","slug":"vector","image":{"source":"https://www.carlogos.org/logo/Vector-Motors-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vector.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vector.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vector.png","localThumb":"./thumb/vector.png","localOptimized":"./optimized/vector.png","localOriginal":"./original/vector.png"}},{"name":"Vencer","slug":"vencer","image":{"source":"https://www.carlogos.org/logo/Vencer-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vencer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vencer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vencer.png","localThumb":"./thumb/vencer.png","localOptimized":"./optimized/vencer.png","localOriginal":"./original/vencer.png"}},{"name":"Venturi","slug":"venturi","image":{"source":"https://www.carlogos.org/logo/Venturi-logo-640x151.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/venturi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/venturi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/venturi.png","localThumb":"./thumb/venturi.png","localOptimized":"./optimized/venturi.png","localOriginal":"./original/venturi.png"}},{"name":"Venucia","slug":"venucia","image":{"source":"https://www.carlogos.org/logo/Venucia-logo-2017-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/venucia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/venucia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/venucia.png","localThumb":"./thumb/venucia.png","localOptimized":"./optimized/venucia.png","localOriginal":"./original/venucia.png"}},{"name":"VinFast","slug":"vinfast","image":{"source":"https://www.carlogos.org/car-logos/vinfast-logo-900x850-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vinfast.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vinfast.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vinfast.png","localThumb":"./thumb/vinfast.png","localOptimized":"./optimized/vinfast.png","localOriginal":"./original/vinfast.png"}},{"name":"VLF","slug":"vlf","image":{"source":"https://www.carlogos.org/car-logos/vlf-logo-600x900-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vlf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vlf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vlf.png","localThumb":"./thumb/vlf.png","localOptimized":"./optimized/vlf.png","localOriginal":"./original/vlf.png"}},{"name":"Volkswagen","slug":"volkswagen","image":{"source":"https://www.carlogos.org/logo/Volkswagen-logo-2019-1500x1500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/volkswagen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/volkswagen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/volkswagen.png","localThumb":"./thumb/volkswagen.png","localOptimized":"./optimized/volkswagen.png","localOriginal":"./original/volkswagen.png"}},{"name":"Volvo","slug":"volvo","image":{"source":"https://www.carlogos.org/logo/Volvo-logo-2014-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/volvo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/volvo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/volvo.png","localThumb":"./thumb/volvo.png","localOptimized":"./optimized/volvo.png","localOriginal":"./original/volvo.png"}},{"name":"W Motors","slug":"w-motors","image":{"source":"https://www.carlogos.org/logo/W-Motors-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/w-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/w-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/w-motors.png","localThumb":"./thumb/w-motors.png","localOptimized":"./optimized/w-motors.png","localOriginal":"./original/w-motors.png"}},{"name":"Wanderer","slug":"wanderer","image":{"source":"https://www.carlogos.org/logo/Wanderer-logo-black-640x311.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wanderer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wanderer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wanderer.jpg","localThumb":"./thumb/wanderer.png","localOptimized":"./optimized/wanderer.png","localOriginal":"./original/wanderer.jpg"}},{"name":"Wartburg","slug":"wartburg","image":{"source":"https://www.carlogos.org/logo/Wartburg-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wartburg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wartburg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wartburg.png","localThumb":"./thumb/wartburg.png","localOptimized":"./optimized/wartburg.png","localOriginal":"./original/wartburg.png"}},{"name":"Weltmeister","slug":"weltmeister","image":{"source":"https://www.carlogos.org/car-logos/weltmeister-logo-1200x900-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/weltmeister.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/weltmeister.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/weltmeister.png","localThumb":"./thumb/weltmeister.png","localOptimized":"./optimized/weltmeister.png","localOriginal":"./original/weltmeister.png"}},{"name":"Western Star","slug":"western-star","image":{"source":"https://www.carlogos.org/logo/Western-Star-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/western-star.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/western-star.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/western-star.png","localThumb":"./thumb/western-star.png","localOptimized":"./optimized/western-star.png","localOriginal":"./original/western-star.png"}},{"name":"Westfield","slug":"westfield","image":{"source":"https://www.carlogos.org/logo/Westfield-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/westfield.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/westfield.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/westfield.png","localThumb":"./thumb/westfield.png","localOptimized":"./optimized/westfield.png","localOriginal":"./original/westfield.png"}},{"name":"WEY","slug":"wey","image":{"source":"https://www.carlogos.org/car-logos/wey-logo-800x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wey.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wey.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wey.png","localThumb":"./thumb/wey.png","localOptimized":"./optimized/wey.png","localOriginal":"./original/wey.png"}},{"name":"Wiesmann","slug":"wiesmann","image":{"source":"https://www.carlogos.org/logo/Wiesmann-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wiesmann.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wiesmann.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wiesmann.png","localThumb":"./thumb/wiesmann.png","localOptimized":"./optimized/wiesmann.png","localOriginal":"./original/wiesmann.png"}},{"name":"Willys-Overland","slug":"willys-overland","image":{"source":"https://www.carlogos.org/logo/Willys-Overland-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/willys-overland.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/willys-overland.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/willys-overland.png","localThumb":"./thumb/willys-overland.png","localOptimized":"./optimized/willys-overland.png","localOriginal":"./original/willys-overland.png"}},{"name":"Workhorse","slug":"workhorse","image":{"source":"https://www.carlogos.org/car-logos/workhorse-logo-1400x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/workhorse.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/workhorse.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/workhorse.png","localThumb":"./thumb/workhorse.png","localOptimized":"./optimized/workhorse.png","localOriginal":"./original/workhorse.png"}},{"name":"Wuling","slug":"wuling","image":{"source":"https://www.carlogos.org/logo/Wuling-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wuling.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wuling.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wuling.png","localThumb":"./thumb/wuling.png","localOptimized":"./optimized/wuling.png","localOriginal":"./original/wuling.png"}},{"name":"XPeng","slug":"xpeng","image":{"source":"https://www.carlogos.org/car-logos/xpeng-logo-2021-2700x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/xpeng.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/xpeng.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/xpeng.png","localThumb":"./thumb/xpeng.png","localOptimized":"./optimized/xpeng.png","localOriginal":"./original/xpeng.png"}},{"name":"Yulon","slug":"yulon","image":{"source":"https://www.carlogos.org/logo/Yulon-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/yulon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/yulon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/yulon.png","localThumb":"./thumb/yulon.png","localOptimized":"./optimized/yulon.png","localOriginal":"./original/yulon.png"}},{"name":"Yutong","slug":"yutong","image":{"source":"https://www.carlogos.org/car-logos/yutong-logo-2100x1300-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/yutong.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/yutong.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/yutong.png","localThumb":"./thumb/yutong.png","localOptimized":"./optimized/yutong.png","localOriginal":"./original/yutong.png"}},{"name":"Zarooq Motors","slug":"zarooq-motors","image":{"source":"https://www.carlogos.org/logo/Zarooq-Motors-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zarooq-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zarooq-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zarooq-motors.png","localThumb":"./thumb/zarooq-motors.png","localOptimized":"./optimized/zarooq-motors.png","localOriginal":"./original/zarooq-motors.png"}},{"name":"Zastava","slug":"zastava","image":{"source":"https://www.carlogos.org/logo/Zastava-logo-640x274.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zastava.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zastava.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zastava.jpg","localThumb":"./thumb/zastava.png","localOptimized":"./optimized/zastava.png","localOriginal":"./original/zastava.jpg"}},{"name":"ZAZ","slug":"zaz","image":{"source":"https://www.carlogos.org/logo/ZAZ-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zaz.png","localThumb":"./thumb/zaz.png","localOptimized":"./optimized/zaz.png","localOriginal":"./original/zaz.png"}},{"name":"Zeekr","slug":"zeekr","image":{"source":"https://www.carlogos.org/car-logos/zeekr-logo-2300x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zeekr.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zeekr.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zeekr.png","localThumb":"./thumb/zeekr.png","localOptimized":"./optimized/zeekr.png","localOriginal":"./original/zeekr.png"}},{"name":"Zenos","slug":"zenos","image":{"source":"https://www.carlogos.org/logo/Zenos-Cars-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zenos.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zenos.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zenos.png","localThumb":"./thumb/zenos.png","localOptimized":"./optimized/zenos.png","localOriginal":"./original/zenos.png"}},{"name":"Zenvo","slug":"zenvo","image":{"source":"https://www.carlogos.org/logo/Zenvo-logo-2009-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zenvo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zenvo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zenvo.png","localThumb":"./thumb/zenvo.png","localOptimized":"./optimized/zenvo.png","localOriginal":"./original/zenvo.png"}},{"name":"Zhongtong","slug":"zhongtong","image":{"source":"https://www.carlogos.org/car-logos/zhongtong-logo-1400x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zhongtong.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zhongtong.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zhongtong.png","localThumb":"./thumb/zhongtong.png","localOptimized":"./optimized/zhongtong.png","localOriginal":"./original/zhongtong.png"}},{"name":"Zinoro","slug":"zinoro","image":{"source":"https://www.carlogos.org/car-logos/zhinuo-logo-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zinoro.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zinoro.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zinoro.png","localThumb":"./thumb/zinoro.png","localOptimized":"./optimized/zinoro.png","localOriginal":"./original/zinoro.png"}},{"name":"Zotye","slug":"zotye","image":{"source":"https://www.carlogos.org/logo/Zotye-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zotye.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zotye.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zotye.png","localThumb":"./thumb/zotye.png","localOptimized":"./optimized/zotye.png","localOriginal":"./original/zotye.png"}}]');function cb(t){return t.toLowerCase().trim().replace(/[]/g,"a").replace(/[]/g,"o").replace(/[^a-z0-9]/g,"")}function VDe(t){if(!t)return null;const e=cb(t),n=UDe,r=n.find(a=>a.slug===e);if(r)return r;const i=n.find(a=>cb(a.name)===e);if(i)return i;const o=n.find(a=>cb(a.name).includes(e)||e.includes(cb(a.name)));return o||null}function FDe(t,e,n=!0){const{image:r}=t;return n?e<=40?r.thumb:r.optimized:e<=40?r.localThumb:r.localOptimized}const UI=({make:t,size:e=32,className:n="",showFallback:r=!0,fallbackIcon:i,alt:o,useLocal:a=!1})=>{const[l,u]=A.useState(!1),[d,p]=A.useState(!a),h=VDe(t);if(!h||l)return r?i?g.jsx(g.Fragment,{children:i}):g.jsx(k0,{size:e,className:`text-slate-400 ${n}`,"aria-label":`${t} (generic car icon)`}):null;const y=FDe(h,e,d),b=o||`${h.name} logo`;return g.jsx("img",{src:y,alt:b,width:e,height:e,className:`object-contain ${n}`,style:{width:e,height:e},onError:()=>{d?p(!1):u(!0)},loading:"lazy"})},BDe=()=>g.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-2xl p-4 mt-6",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(lC,{size:20,className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300",children:"Ett litet meddelande frn verkstan:"}),g.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400/80 mt-1",children:"Elton gr sitt bsta fr att hmta korrekt data, men ibland kan det smyga sig in ett fel. Dubbelkolla alltid kritisk information! Om du hittar ngot som inte stmmer, blir vi superglada om du rapporterar det till oss. Tillsammans gr vi Elton smartare!"})]})]})}),qDe=({onComplete:t,onCancel:e})=>{const{toasts:n,removeToast:r}=jDe(),[i,o]=A.useState(1),[a,l]=A.useState(!1),[u,d]=A.useState(0),[p,h]=A.useState(null),[y,b]=A.useState(""),[E,S]=A.useState(null),[_,C]=A.useState(""),[R,I]=A.useState(""),[O,U]=A.useState(null),[M,D]=A.useState(null),[L,z]=A.useState([]),B=[" Analyserar fordonsmodell & RegNr..."," Hmtar tekniska specifikationer..."," Letar efter modell-specifik information..."," Skapar projektplan baserat p dina val..."," Genererar ikon..."," Frdigstller projektet..."],V=Z=>{var J;const X=(J=Z.target.files)==null?void 0:J[0];if(X){const ie=new FileReader;ie.onloadend=()=>{S(ie.result)},ie.readAsDataURL(X)}},q=()=>{p&&(o(2),(y.trim()||E)&&F())},F=async()=>{var X;l(!0),U(null),d(0);const Z=setInterval(()=>{d(J=>J>=B.length-2?2:J+1)},5e3);try{const J=E?E.split(",")[1]:void 0,[ie,te]=await Promise.allSettled([QPe(y,J,p),J?XPe({imageBase64:J},2):Promise.resolve(null)]);clearInterval(Z),d(B.length-1),await new Promise(W=>setTimeout(W,800));const G=ie.status==="fulfilled"?ie.value:{};if(G.error&&!((X=G.vehicleData)!=null&&X.make))throw new Error(G.error);l(!1),o(3)}catch(J){console.error("Research failed:",J),clearInterval(Z),l(!1),errorToast("Hoppsan! Ngot gick fel. Frsk igen eller fyll i manuellt.")}},oe=()=>{if(!p)return;const Z={projectType:p,vehicleDescription:y,imageBase64:E==null?void 0:E.split(",")[1],aiData:O==null?void 0:O.fullAiData,generatedIcon:O==null?void 0:O.icon};_.trim()&&(Z.nickname=_.trim()),R.trim()&&(Z.additionalNotes=R.trim()),t(Z)};return g.jsxs(g.Fragment,{children:[g.jsx(LDe,{toasts:n,onRemove:r}),g.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-2xl p-8 rounded-[40px] shadow-2xl animate-fade-in relative overflow-hidden max-h-[90vh] overflow-y-auto",children:[g.jsxs("div",{className:"flex items-center justify-center gap-2 mb-8",children:[g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i>=1?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"1"}),g.jsx("div",{className:`w-16 h-1 ${i>=2?"bg-teal-500":"bg-slate-200"}`}),g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i>=2?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"2"}),g.jsx("div",{className:`w-16 h-1 ${i>=3?"bg-teal-500":"bg-slate-200"}`}),g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i>=3?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"3"})]}),i===1&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mx-auto mb-4",children:g.jsx(Xl,{size:32})}),g.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal mb-2",children:"Starta nytt projekt"}),g.jsx("p",{className:"text-slate-500",children:"Bertta om ditt fordon"})]}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-4 ml-1",children:"Vad r mlet?"}),g.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[g.jsxs("button",{onClick:()=>h("renovation"),className:`p-6 rounded-2xl border-2 transition-all ${p==="renovation"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[g.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:g.jsx(Da,{size:24,className:p==="renovation"?"text-teal-600":"text-slate-400"})}),g.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Renovering"}),g.jsx("p",{className:"text-xs text-slate-500",children:"Restaurera & Laga"})]}),g.jsxs("button",{onClick:()=>h("conversion"),className:`p-6 rounded-2xl border-2 transition-all ${p==="conversion"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[g.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:g.jsx(qde,{size:24,className:p==="conversion"?"text-teal-600":"text-slate-400"})}),g.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Ombyggnad"}),g.jsx("p",{className:"text-xs text-slate-500",children:"Van  Camper"})]}),g.jsxs("button",{onClick:()=>h("maintenance"),className:`p-6 rounded-2xl border-2 transition-all ${p==="maintenance"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[g.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:g.jsx(Qde,{size:24,className:p==="maintenance"?"text-teal-600":"text-slate-400"})}),g.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Frvaltning"}),g.jsx("p",{className:"text-xs text-slate-500",children:"Underhlla & Service"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fordonsbeskrivning, Lnk eller RegNr"}),g.jsx("textarea",{className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[100px] text-lg text-nordic-charcoal placeholder:text-slate-300",placeholder:"t.ex. 'ABC123' eller 'Volvo 240 1988'...",value:y,onChange:Z=>b(Z.target.value)})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-4 bg-slate-50 rounded-2xl border border-dashed border-slate-300 hover:border-teal-400 hover:bg-teal-50 transition-all",children:[g.jsx("div",{className:"p-2 bg-white rounded-xl text-slate-400",children:g.jsx(nw,{size:20})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:"block text-sm font-bold text-nordic-charcoal",children:"Ladda upp bild (valfritt)"}),g.jsx("span",{className:"text-xs text-slate-400",children:"Elton lser av RegNr och skapar en ikon"})]}),E&&g.jsx(Un,{size:20,className:"text-green-500"}),g.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:V})]}),E&&g.jsx("div",{className:"relative p-4 bg-slate-50 rounded-2xl border border-slate-200",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:E,alt:"Preview",className:"w-20 h-20 object-cover rounded-xl border border-slate-200"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-sm font-bold text-nordic-charcoal",children:"Bild uppladdad"}),g.jsx("p",{className:"text-xs text-slate-400",children:"Imagen 3.0 kommer skapa en ikon"})]}),g.jsx("button",{onClick:()=>S(null),className:"p-2 text-slate-400 hover:text-rose-500 transition-colors",children:g.jsx(Ql,{size:16})})]})})]}),g.jsxs("div",{className:"flex gap-3 pt-4",children:[g.jsx("button",{onClick:e,className:"flex-1 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors",children:"Avbryt"}),g.jsxs("button",{onClick:q,disabled:!p||!y.trim()&&!E,className:"flex-[2] py-4 bg-nordic-charcoal text-white font-bold rounded-2xl hover:bg-slate-800 transition-all shadow-lg shadow-slate-200 disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2",children:[g.jsx(dp,{size:20})," Starta Research"]})]})]})]}),i===2&&a&&g.jsxs("div",{className:"text-center py-8",children:[g.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[g.jsx("div",{className:"absolute inset-0 border-4 border-slate-100 rounded-full"}),g.jsx("div",{className:"absolute inset-0 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-teal-600",children:g.jsx(dp,{size:24})})]}),g.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-2",children:"Research pgr..."}),g.jsxs("p",{className:"text-slate-400 text-sm mb-8",children:["Elton analyserar ditt ",p==="renovation"?"renoverings":p==="conversion"?"ombyggnads":"underhlls","-projekt"]}),g.jsx("div",{className:"space-y-3 text-left max-w-sm mx-auto",children:B.map((Z,X)=>g.jsxs("div",{className:`flex items-center gap-3 transition-all duration-500 ${X<=u?"opacity-100":"opacity-30 translate-y-2"}`,children:[X<u?g.jsx(Un,{size:20,className:"text-green-500"}):X===u?g.jsx(Js,{size:20,className:"text-teal-500 animate-spin"}):g.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-slate-200"}),g.jsx("span",{className:`font-medium text-sm ${X===u?"text-teal-700":"text-slate-600"}`,children:Z})]},X))})]}),i===3&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("h2",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1",children:"Granska & Komplettera"}),g.jsx("p",{className:"text-slate-500",children:"Justera det som behvs innan projektet skapas"})]}),g.jsxs("div",{className:"space-y-6",children:[O&&(O.detectedMake||O.detectedModel)&&g.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-blue-50 dark:from-teal-900/20 dark:to-blue-900/20 rounded-2xl p-6 border-2 border-teal-200 dark:border-teal-800",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-16 h-16 bg-white dark:bg-nordic-charcoal rounded-2xl flex items-center justify-center shadow-lg",children:g.jsx(UI,{make:O.detectedMake||"Unknown",size:40})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-white",children:[O.detectedMake||"?"," ",O.detectedModel||"?"]}),O.detectedYear&&g.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["rsmodell: ",O.detectedYear]})]})]})}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Projektnamn"}),g.jsx("input",{type:"text",value:y,onChange:Z=>b(Z.target.value),className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all text-lg text-nordic-charcoal"}),(O==null?void 0:O.suggestedName)&&g.jsxs("p",{className:"text-xs text-slate-400 mt-2 ml-1",children:[' AI-frslag: "',O.suggestedName,'"']})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Smeknamn (valfritt)"}),g.jsx("input",{type:"text",value:_,onChange:Z=>C(Z.target.value),placeholder:"t.ex. 'Prlan', 'Besten', 'Veteranen'...",className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all text-lg text-nordic-charcoal placeholder:text-slate-300"}),g.jsx("p",{className:"text-xs text-slate-500 mt-2 ml-1",children:" Detta blir Eltons personlighet nr ni chattar!"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fria anteckningar (valfritt)"}),g.jsx("textarea",{value:R,onChange:Z=>I(Z.target.value),placeholder:"T.ex. 'Har bytt kamrem 2023', 'Lite rost i hger bakskrm', 'Motorn gr bra men avgassystemet r rostigt'...",className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[120px] text-lg text-nordic-charcoal placeholder:text-slate-300"}),g.jsx("p",{className:"text-xs text-slate-500 mt-2 ml-1",children:" Detta skickas till AI:n som kontext fr att skapa bttre uppgifter"})]}),g.jsxs("div",{className:"bg-teal-50 border border-teal-100 rounded-2xl p-6",children:[g.jsx("h4",{className:"font-bold text-sm text-teal-900 mb-3",children:" Elton kommer att:"}),g.jsxs("ul",{className:"space-y-2 text-sm text-teal-800",children:[g.jsxs("li",{className:"flex gap-2",children:[g.jsx(Un,{size:16,className:"shrink-0 mt-0.5"}),g.jsxs("span",{children:["Skapa en projektplan baserat p ",g.jsx("strong",{children:p==="renovation"?"renovering":p==="conversion"?"ombyggnad":"underhll"})]})]}),g.jsxs("li",{className:"flex gap-2",children:[g.jsx(Un,{size:16,className:"shrink-0 mt-0.5"}),g.jsx("span",{children:"Anpassa kommunikation efter din mekaniska erfarenhet"})]}),g.jsxs("li",{className:"flex gap-2",children:[g.jsx(Un,{size:16,className:"shrink-0 mt-0.5"}),g.jsx("span",{children:"Fresl uppgifter du kan gra sjlv vs. leja ut till verkstad"})]}),g.jsxs("li",{className:"flex gap-2",children:[g.jsx(Un,{size:16,className:"shrink-0 mt-0.5"}),g.jsx("span",{children:"Finnas dr fr att chatta och hjlpa dig planera mer i detalj"})]})]}),(O==null?void 0:O.aiProvider)&&g.jsx("div",{className:"mt-4 pt-4 border-t border-teal-200",children:g.jsxs("div",{className:"flex items-start gap-2",children:[O.aiProvider==="gemini"&&g.jsx(Xl,{size:14,className:"text-teal-600 shrink-0 mt-0.5"}),O.aiProvider==="grok"&&g.jsx(nB,{size:14,className:"text-purple-600 shrink-0 mt-0.5"}),O.aiProvider==="fallback"&&g.jsx(Yh,{size:14,className:"text-amber-600 shrink-0 mt-0.5"}),g.jsxs("div",{children:[g.jsxs("p",{className:"text-xs font-medium text-teal-700",children:[O.aiProvider==="gemini"&&"Powered by Google Gemini",O.aiProvider==="grok"&&"Powered by xAI Grok",O.aiProvider==="fallback"&&"Standarddata anvnds"]}),O.hasErrors&&g.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Data kan vara inkomplett - kontrollera fordonsinformation"})]})]})})]}),g.jsxs("div",{className:"flex gap-3 pt-2",children:[g.jsxs("button",{onClick:()=>o(1),className:"px-6 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors flex items-center gap-2",children:[g.jsx(FF,{size:20})," Tillbaka"]}),g.jsxs("button",{onClick:oe,className:"flex-1 py-4 bg-teal-500 text-white font-bold rounded-2xl hover:bg-teal-600 transition-all shadow-lg shadow-teal-200 flex items-center justify-center gap-2",children:[g.jsx(Xl,{size:20})," Skapa Projekt!"]})]}),g.jsx(BDe,{})]})]})]})})]})},$De=({user:t,projects:e,onSelectProject:n,onCreateProject:r,onLogout:i,onDeleteProject:o,onSeed:a})=>{const[l,u]=A.useState(!1),[d,p]=A.useState(null),h=e.filter(_=>{var C;return(C=_.invitedEmails)==null?void 0:C.includes(t.email)}),y=e.filter(_=>{var C;return!((C=_.invitedEmails)!=null&&C.includes(t.email))}),b=async _=>{p(_.id);try{await cSe(_.id,t.uid,t.email),window.location.reload()}catch(C){console.error("Failed to accept invite",C),alert("Kunde inte g med i projektet.")}p(null)},E=async _=>{if(confirm("Vill du avbja inbjudan?")){p(_.id);try{await P$(_.id,t.email),window.location.reload()}catch(C){console.error(C)}p(null)}},S=async _=>{var C;try{const R=_.aiData||{},I=_.generatedIcon||void 0;let O=R.projectName||_.vehicleDescription;O&&(O.length>30||O.includes("http"))&&(O=O.split(",")[0].replace(/https?:\/\/\S+/g,"").trim()),O||(O="Nytt Projekt");const U=[];R.analysisReport&&U.push({id:"initial-analysis",title:R.analysisReport.title||"Initial Fordonsanalys",summary:R.analysisReport.summary||"AI-genererad rapport vid projektstart.",content:R.analysisReport.content||"",tags:["Analys","Historik","AI"]});const M={name:O,type:_.projectType,nickname:_.nickname,customIcon:I,vehicleData:{...jye.vehicleData,...R.vehicleData,regNo:((C=R.vehicleData)==null?void 0:C.regNo)||"???"},knowledgeArticles:U,tasks:(R.initialTasks||[]).map(D=>{var L;return{...D,status:tt.TODO,actualCost:0,weightKg:0,costType:En.OPERATION,phase:D.phase||H7[_.projectType][0],priority:D.priority||rn.MEDIUM,difficultyLevel:D.difficultyLevel,requiredTools:D.requiredTools,tags:["AI-Genererad"],links:[],comments:[],attachments:[],subtasks:((L=D.subtasks)==null?void 0:L.map(z=>({...z,id:Math.random().toString(36).substr(2,9),completed:!1})))||[]}})};r(M),u(!1)}catch(R){console.error("Failed to create project",R),alert("Kunde inte skapa projektet. Frsk igen.")}};return g.jsxs("div",{className:"min-h-screen bg-nordic-ice p-6",children:[g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-12",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal",children:["Vlkommen, ",t.name]}),g.jsx("p",{className:"text-slate-500",children:"Vlj ett fordon att jobba med"})]}),g.jsxs("div",{className:"flex gap-2",children:[a&&g.jsx("button",{onClick:a,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-teal-600 transition-colors",title:"terstll Demo",children:g.jsx(Xl,{size:20})}),g.jsx("button",{onClick:i,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-rose-500 transition-colors",children:g.jsx(KF,{size:20})})]})]}),h.length>0&&g.jsxs("div",{className:"mb-8",children:[g.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Inbjudningar"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.map(_=>g.jsxs("div",{className:"bg-white rounded-[32px] p-6 shadow-xl shadow-teal-500/10 border-2 border-teal-500/20 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 bg-teal-500 text-white px-4 py-1 rounded-bl-2xl text-xs font-bold",children:"INBJUDAN"}),g.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[g.jsx("div",{className:"w-12 h-12 bg-teal-50 rounded-full flex items-center justify-center text-teal-600",children:g.jsx(Kh,{size:24})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal",children:_.name}),g.jsxs("p",{className:"text-sm text-slate-500",children:["Frn: ",_.ownerEmail]})]})]}),g.jsxs("div",{className:"flex gap-2 mt-4",children:[g.jsxs("button",{onClick:()=>b(_),disabled:!!d,className:"flex-1 bg-teal-500 text-white py-2 rounded-xl font-bold text-sm hover:bg-teal-600 transition-colors flex items-center justify-center gap-2",children:[d===_.id?g.jsx(Js,{className:"animate-spin",size:16}):g.jsx(Og,{size:16}),"G med"]}),g.jsx("button",{onClick:()=>E(_),disabled:!!d,className:"px-4 bg-slate-100 text-slate-500 py-2 rounded-xl font-bold text-sm hover:bg-slate-200 transition-colors",children:g.jsx(lr,{size:16})})]})]},_.id))})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-white/50 border-2 border-dashed border-slate-300 rounded-[32px] p-8 flex flex-col items-center justify-center text-center hover:bg-white hover:border-teal-400 hover:shadow-lg transition-all cursor-pointer group min-h-[250px]",onClick:()=>u(!0),children:[g.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mb-4 group-hover:scale-110 transition-transform",children:g.jsx(La,{size:32})}),g.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal",children:"Nytt Projekt"}),g.jsx("p",{className:"text-sm text-slate-500",children:"Lgg till en ny van"})]}),y.map(_=>{var C,R,I;return g.jsxs("div",{onClick:()=>n(_.id),className:"bg-white rounded-[32px] p-8 shadow-xl shadow-slate-200/50 border border-white hover:border-teal-200 hover:scale-[1.02] transition-all cursor-pointer relative overflow-hidden group min-h-[250px] flex flex-col justify-between",children:[_.isDemo&&g.jsxs("div",{className:"absolute top-4 right-4 bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:[g.jsx(rw,{size:10})," Demo"]}),!_.isDemo&&_.ownerId!==t.uid&&g.jsx("div",{className:"absolute top-4 right-4 bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:"Team"}),!_.isDemo&&o&&_.ownerId===t.uid&&g.jsx("button",{onClick:O=>{O.stopPropagation(),o(_.id)},className:"absolute top-4 right-4 p-2 bg-white rounded-full text-slate-300 hover:text-rose-500 hover:bg-rose-50 shadow-sm transition-all z-10 opacity-0 group-hover:opacity-100",title:"Radera projekt",children:g.jsx(Ql,{size:16})}),g.jsxs("div",{children:[g.jsx("div",{className:"w-16 h-16 bg-nordic-charcoal text-white rounded-2xl flex items-center justify-center mb-6 shadow-lg overflow-hidden border border-slate-100 p-2",children:_.customIcon?_.customIcon.startsWith("<svg")?g.jsx("div",{dangerouslySetInnerHTML:{__html:_.customIcon},className:"w-full h-full"}):g.jsx("img",{src:`data:image/png;base64,${_.customIcon}`,alt:"Icon",className:"w-full h-full object-contain"}):g.jsx(UI,{make:((C=_.vehicleData)==null?void 0:C.make)||"Unknown",size:32,className:"text-white"})}),g.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1 line-clamp-2",children:_.name}),g.jsxs("p",{className:"text-slate-500 text-sm",children:[_.vehicleData.model," (",_.vehicleData.year,")"]})]}),g.jsxs("div",{className:"flex justify-between items-end mt-8",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((R=_.tasks)==null?void 0:R.filter(O=>O.status!=="Klart").length)||0," Att gra"]}),g.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((I=_.shoppingItems)==null?void 0:I.filter(O=>!O.checked).length)||0," Att kpa"]})]}),g.jsx("div",{className:"w-10 h-10 bg-nordic-ice rounded-full flex items-center justify-center text-nordic-charcoal group-hover:bg-teal-500 group-hover:text-white transition-colors",children:g.jsx(BF,{size:20})})]})]},_.id)})]})]}),l&&g.jsx(qDe,{onComplete:S,onCancel:()=>u(!1)})]})},HDe=({project:t,currentUserEmail:e,onClose:n,onUpdate:r})=>{var E,S;const[i,o]=A.useState(""),[a,l]=A.useState(!1),[u,d]=A.useState(null),p=async()=>{if(!i.trim()||!i.includes("@")){d("Ange en giltig e-postadress.");return}l(!0),d(null);try{await lSe(t.id,i.trim()),o(""),r()}catch(_){console.error(_),d("Kunde inte skicka inbjudan. Kontrollera att du har behrighet.")}l(!1)},h=async _=>{if(confirm("r du sker p att du vill ta bort denna medlem?")){l(!0);try{await uSe(t.id,_),r()}catch{d("Kunde inte ta bort medlem.")}l(!1)}},y=async _=>{l(!0);try{await P$(t.id,_),r()}catch{d("Kunde inte avbryta inbjudan.")}l(!1)},b=t.ownerEmail===e;return g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-md rounded-2xl shadow-2xl overflow-hidden border border-slate-100 dark:border-nordic-charcoal",children:[g.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-center",children:[g.jsx("h2",{className:"text-xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Team & Medlemmar"}),g.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:g.jsx(lr,{size:20,className:"text-slate-400"})})]}),g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:"gare"}),g.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-amber-50 dark:bg-amber-900/20 border border-amber-100 dark:border-amber-900/50",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-200 dark:bg-amber-700 flex items-center justify-center text-amber-800 dark:text-amber-100 font-bold",children:t.ownerEmail.charAt(0).toUpperCase()}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-sm font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Projektgare"}),g.jsx("p",{className:"text-xs text-slate-500 truncate",children:t.ownerEmail})]}),g.jsx(EE,{size:16,className:"text-amber-500"})]})]}),g.jsxs("div",{children:[g.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:["Medlemmar (",((E=t.members)==null?void 0:E.length)||0,")"]}),g.jsx("div",{className:"space-y-2",children:t.members&&t.members.length>0?t.members.map(_=>g.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-50 dark:bg-nordic-charcoal/50",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-600 dark:text-slate-300 font-bold",children:"?"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-sm font-medium text-nordic-charcoal dark:text-nordic-ice",children:"Medlem"}),g.jsxs("p",{className:"text-xs text-slate-400 text-xs",children:["ID: ",_.substring(0,8),"..."]})]}),b&&g.jsx("button",{onClick:()=>h(_),className:"p-2 text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg",children:g.jsx(rfe,{size:16})})]},_)):g.jsx("p",{className:"text-sm text-slate-400 italic",children:"Inga medlemmar n."})})]}),g.jsxs("div",{children:[g.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:["Vntande Inbjudningar (",((S=t.invitedEmails)==null?void 0:S.length)||0,")"]}),g.jsx("div",{className:"space-y-2",children:t.invitedEmails&&t.invitedEmails.map(_=>g.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400",children:g.jsx(Kh,{size:16})}),g.jsxs("div",{className:"flex-1 overflow-hidden",children:[g.jsx("p",{className:"text-sm font-medium text-nordic-charcoal dark:text-nordic-ice truncate",children:_}),g.jsx("p",{className:"text-xs text-slate-400",children:"Vntar p svar..."})]}),b&&g.jsx("button",{onClick:()=>y(_),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg",children:g.jsx(lr,{size:16})})]},_))})]}),b&&g.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-nordic-charcoal",children:[g.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:"Bjud in ny medlem"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(Kh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),g.jsx("input",{type:"email",className:"w-full pl-10 p-3 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 dark:text-white",placeholder:"epost@exempel.se",value:i,onChange:_=>o(_.target.value),onKeyDown:_=>_.key==="Enter"&&p()})]}),g.jsxs("button",{onClick:p,disabled:a||!i,className:"bg-nordic-charcoal dark:bg-teal-600 text-white px-4 rounded-xl font-medium hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50 transition-colors flex items-center gap-2",children:[a?g.jsx(Js,{className:"animate-spin",size:18}):g.jsx(tfe,{size:18}),g.jsx("span",{className:"hidden sm:inline",children:"Bjud in"})]})]}),u&&g.jsx("p",{className:"text-xs text-rose-500 mt-2",children:u})]})]})]})})},GDe=[{id:100,title:"Skerhet: Flytta API-nycklar till Backend",category:"Skerhet",phase:1,description:"KRITISKT: Gemini API-nyckel exponeras i frontend. Delvis lst med Firebase AI Logic.",detailedDescription:"Firebase AI Logic (firebase/ai) anvnds nu fr frontend AI-anrop - ingen separat API-nyckel behvs. Cloud Functions anvnds fr avancerade operationer. terstr: LiveElton.tsx behver migreras till Firebase AI Logic eller Cloud Function.",purpose:"Frhindra obehrig anvndning av API-nycklar och potentiella kostnader.",status:"in-progress",tech:["Firebase AI Logic","Firebase Cloud Functions","Secret Manager"],priority:"critical",tags:["Security","Backend","Critical"],checklist:[{label:"Skapa Cloud Function fr AI-proxy",completed:!0},{label:"Flytta API-nyckel till Secret Manager",completed:!0},{label:"Uppdatera frontend att anropa Cloud Function",completed:!0},{label:"Migrera till Firebase AI Logic (frontend)",completed:!0,completedAt:"2025-12-12"},{label:"tgrda LiveElton.tsx",completed:!1,inProgress:!0},{label:"Ta bort VITE_GEMINI_API_KEY helt",completed:!1},{label:"Testa i produktion",completed:!1}]},{id:102,title:"Kritiska Enhetstester",category:"Testing",phase:1,description:"Saknas tester fr kritiska moduler: geminiService, db, auth. Mste lggas till.",detailedDescription:"Nuvarande testning tcker huvudsakligen E2E fr co-working. Kritisk affrslogik i geminiService.ts, db.ts, och auth.ts saknar helt enhetstester vilket skapar hg risk vid ndringar.",purpose:"Skerstlla att kritisk funktionalitet inte gr snder vid ndringar.",status:"planned",tech:["Vitest","Mock Service Worker","Firebase Emulators"],priority:"high",tags:["Testing","Quality","Foundation"],checklist:[{label:"Tester fr geminiService.ts",completed:!1},{label:"Tester fr db.ts (CRUD)",completed:!1},{label:"Tester fr auth.ts",completed:!1},{label:"Setup Firebase Emulators",completed:!1},{label:"CI/CD integration",completed:!1}]},{id:103,title:"Stda prototype_app",category:"Teknisk Skuld",phase:1,description:"Duplicerad kod i prototype_app/ skapar frvirring och underhllsbrda.",detailedDescription:"Mappen prototype_app/ innehller en ldre version av applikationen med verlappande komponenter och services. Detta leder till frvirring och risk fr att ndringar grs p fel stlle.",purpose:"Reducera teknisk skuld och frenkla kodbas.",status:"done",tech:["Git","Cleanup"],priority:"medium",tags:["TechDebt","Cleanup"],checklist:[{label:"Verifiera att allt r migrerat",completed:!0},{label:"Ta bort frn main",completed:!0},{label:"Verifiera att inga beroenden finns kvar",completed:!0},{label:"Uppdatera dokumentation",completed:!0}]},{id:1,title:"Plattforms-arkitektur (SaaS)",category:"Infrastruktur",description:'Vi har byggt om appen frn en enkel "en-sidas-app" fr en bil till en plattform som hanterar Anvndare och Flera Projekt.',detailedDescription:"Komplett transformation frn statisk single-page app till en fullstndig SaaS-plattform. Inkluderar multi-tenant arkitektur, anvndarhantering, projekthantering, och cloud sync mellan enheter.",purpose:"Grundlggande krav fr skalbarhet. Mjliggr synk mellan enheter.",status:"done",tech:["Firebase Auth","Firestore","Security Rules","Multi-tenant"],priority:"high",tags:["Foundation","SaaS","Auth","Database"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & Auth)",completed:!0},{label:"Testad (Flera projekt)",completed:!0},{label:"Lanserad",completed:!0}]},{id:24,title:"Co-working & Teams",category:"Infrastruktur",description:"Bjud in medmekaniker eller familj till dina projekt. Hantera rttigheter och bygg tillsammans i realtid. Fullt testad med Playwright E2E-tester (65 tester ver 5 webblsare).",detailedDescription:"Fullstndig team-collaboration feature med inbjudningar via e-post, rollhantering (owner/member), skerhetsregler i Firestore, och ProjectMembers UI-komponent. Omfattande E2E-testning skerstller kvalitet.",purpose:"Bilbyggande r ofta en social aktivitet. Appen mste stdja samarbete.",status:"done",tech:["Firestore Security Rules","Invite System","Playwright","E2E Tests"],priority:"high",tags:["Collaboration","Testing","E2E","Security"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & UI)",completed:!0},{label:"Skerhetstestad",completed:!0},{label:"E2E-testad (Playwright)",completed:!0},{label:"Lanserad",completed:!0}]},{id:26,title:"E2E Test Suite med Playwright",category:"Infrastruktur",description:"Komplett automatisk testning av alla kritiska funktioner i appen. Tester krs i Chrome, Firefox, Safari samt mobila enheter.",detailedDescription:"65 automatiska tester som verifierar Co-working, UI-komponenter, formulr, dark mode, och responsiv design. Konfigurerad med screenshot-on-failure, video recording, och CI/CD integration.",purpose:"Skerstlla kvalitet och stabilitet vid varje deploy. Frhindra regressions-buggar.",status:"done",tech:["Playwright","TypeScript","Visual Testing","CI/CD"],priority:"high",tags:["Testing","Quality","Automation","CI/CD"],checklist:[{label:"Specad",completed:!0},{label:"Konfigurerad (Playwright)",completed:!0},{label:"Co-working tests (65 tester)",completed:!0},{label:"Firebase Auth setup",completed:!0},{label:"Lanserad",completed:!0}]},{id:23,title:"Feature Flags & Versionshantering",category:"Infrastruktur",description:"System fr att sl p/av funktioner utan att deploya om. Versionshantering av AI-prompter.",detailedDescription:"Config-driven feature flag system som tillter gradvis utrullning av nya features, A/B-testning, och snabb rollback. Versionering av AI-prompts fr att kunna testa och jmfra olika modeller.",purpose:"Sker utrullning och A/B-testning av nya AI-modeller.",status:"done",tech:["Config-based System","Feature Toggles"],priority:"medium",tags:["DevOps","A/B Testing","Configuration"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:2,title:'AI Onboarding "Deep Research"',category:"Plattform",description:"Multi-Agent system (Detektiven & Verkmstaren) som sker upp fakta och skapar en plan baserat p RegNr.",detailedDescription:"Avancerat AI-system med tv agenter: Detektiven sker teknisk data och knda problem via Google Search och svenska register, medan Verkmstaren skapar en detaljerad projektplan baserat p denna research. UPDATE 2025-12-12: Nu med Firebase AI Logic (Gemini 2.5 Pro) fr bttre prestanda.",purpose:"Hg precision och slut p gissningar. Hmtar data frn svenska register.",status:"done",tech:["Firebase AI Logic","Gemini 2.5 Pro","Google Search","Multi-Agent System","Prompt Engineering"],priority:"high",tags:["AI","Onboarding","Multi-Agent","Automation"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Agents & Prompts)",completed:!0},{label:"Testad (Live Search)",completed:!0},{label:"Lanserad",completed:!0},{label:"Migrerad till Firebase AI Logic",completed:!0,completedAt:"2025-12-12"}]},{id:17,title:"Auto-genererad Historik & Expertanalys",category:"Plattform",description:'AI:n identifierar "Knda fel" (The Killers), ger tips om modifieringar och analyserar mtarstllning.',detailedDescription:"Expertanalys-rapport som genereras automatiskt vid projekt-skapande. Inkluderar knda problem fr specifik modell, populra modifieringar, varningar fr potentiella kostsamma fel.",purpose:"Ger omedelbart expertkunskap och varnar fr dyra fllor.",status:"done",tech:["Gemini 2.0","Prompt Engineering","Knowledge Base"],priority:"high",tags:["AI","Expert Analysis","Knowledge","Prevention"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:3,title:"Bildigenknning av Regplt",category:"AI Core",description:"Fota bilen fr att starta projektet. AI:n hittar och lser av registreringsskylten.",detailedDescription:"OCR-funktionalitet med Gemini Vision som automatiskt detekterar och lser av svenska registreringsskyltar frn foton.",purpose:"Smidig onboarding utan att behva knappa in nummer.",status:"done",tech:["Gemini Vision","OCR","Image Processing"],priority:"high",tags:["Vision","OCR","Onboarding","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:5,title:"Google Search-integration",category:"AI Core",description:"AI:n kan ska p webben efter priser, manualer och fakta i realtid.",detailedDescription:"Real-time skning via Gemini Tools API. AI:n kan dynamiskt ska efter aktuella priser, tekniska manualer, och forum-diskussioner.",purpose:"Gr frn gissningar till fakta.",status:"done",tech:["Gemini Tools","Google Search API","Real-time Data"],priority:"high",tags:["Search","Real-time","Integration","Data"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:7,title:"Dialekter & Personligheter",category:"AI Core",description:"Elton kan prata dalml, gotlndska eller rikssvenska.",detailedDescription:"Konfigurerbar AI-persona med olika svenska dialekter och personligheter. Skapar en roligare och mer personlig upplevelse.",purpose:"Skapar en relation och gr appen roligare.",status:"done",tech:["System Prompts","Personality Config","Localization"],priority:"low",tags:["Personality","UX","Localization","Fun"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config & UI)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:10,title:"Magic Import (Text & Bild)",category:"Projektledning",description:"Klistra in anteckningar eller fota en handskriven lista fr att skapa uppgifter.",detailedDescription:"Multimodal import dr anvndare kan klistra in text frn forum/manualer eller fotografera handskrivna listor. AI:n extraherar uppgifter med titlar, beskrivningar, och kostnader.",purpose:"Minskar administrationen avsevrt.",status:"done",tech:["Gemini Vision","OCR","NLP","Task Extraction"],priority:"high",tags:["Productivity","Vision","OCR","Automation"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:21,title:"Flexibla Faser & Idbank",category:"Projektledning",description:"Projekt kan nu ha olika typer (Renovering, Bygge, Underhll) med anpassade faser.",detailedDescription:'Dynamiskt fas-system dr olika projekttyper har skrddarsydda work stages. "Drmbank" r en sandbox fr ider.',purpose:"Stdja alla typer av bilgande, inte bara renovering.",status:"done",tech:["Dynamic Types","Filtering","State Management"],priority:"high",tags:["Project Types","Flexibility","Organization","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:9,title:"Smart Inkpslista & Kvitton",category:"Ekonomi",description:"En separat vy fr inkp med kvittoscanning och budgetuppfljning.",detailedDescription:"Komplett shoppinglist-system med receipt scanning via Vision API, automatisk kostnadskoppling till tasks, och budgetuppfljning.",purpose:"Total kontroll p ekonomin.",status:"done",tech:["Firebase Storage","Gemini Vision","OCR","Budget Tracking"],priority:"high",tags:["Shopping","Receipts","Budget","Finance","OCR"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:12,title:"Kunskapsbanken & Markdown-lsare",category:"Kunskap",description:"Ett bibliotek med tunga tekniska rapporter (markdown) som AI:n kan lsa och citera.",detailedDescription:"RAG-system dr AI:n har tillgng till en kunskapsbas med tekniska guider och service-manualer.",purpose:"Att skra kvalitn.",status:"done",tech:["RAG","React Markdown","Knowledge Base"],priority:"high",tags:["RAG","Knowledge","Markdown","Quality"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:13,title:"Tidslinje & Historik",category:"Garage",description:"En visuell tidslinje som visar bilens hela liv.",detailedDescription:"Interactive timeline med Recharts som visualiserar bilens historia frn tillverkning till nuvarande status.",purpose:"Att ge perspektiv och hedra bilens historia.",status:"done",tech:["Recharts","Timeline UI","Data Visualization"],priority:"medium",tags:["History","Timeline","Visualization","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:14,title:"Brnslelogg & Servicebok",category:"Garage",description:"Logga tankningar och service. Visualisera frbrukning och serviceintervall.",detailedDescription:"Fuel log och service book med full CRUD, grafer ver frbrukningstrend, och service-pminnelser.",purpose:"Ett praktiskt verktyg fr det dagliga gandet.",status:"done",tech:["Firestore","Recharts","Analytics","Timeline UI"],priority:"medium",tags:["Fuel","Service","Analytics","Maintenance"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"UI-komponenter",completed:!0},{label:"Grafer",completed:!0},{label:"Lanserad",completed:!0}]},{id:15,title:"Backup & Export",category:"Data",description:"Mjlighet att spara ner hela projektet som en JSON-fil.",detailedDescription:"Full projekt-export som JSON blob. OBS: Import r nnu inte implementerad (se Fas 1).",purpose:"Dataskerhet och portabilitet.",status:"done",tech:["JSON Export","File API","Data Portability"],priority:"high",tags:["Data","Security","Export","Backup"],checklist:[{label:"Specad",completed:!0},{label:"Export utvecklad",completed:!0},{label:"Import (se ID 101)",completed:!1},{label:"Lanserad",completed:!0}]},{id:27,title:"Databas-migrering: Sub-collections & Ownership",category:"Infrastruktur",phase:2,description:"Komplett datamodel-uppgradering: Sub-collections, multi-owner, blockers, och Cloud Function triggers.",detailedDescription:"Migrering frn monolitisk dokumentstruktur till hierarkisk struktur. Inkluderar: (1) Multi-owner support med ownerIds[], primaryOwnerId, memberIds[], (2) Sub-collections fr tasks, shoppingList, serviceLog, fuelLog, knowledgeBase, (3) TaskBlocker-system med dependencies, (4) Cloud Function triggers fr automatisk unblocking. Se docs/architecture/DATA_MODEL_MIGRATION.md.",purpose:"Skalbarhet, prestanda, och std fr samarbete.",status:"done",tech:["Firestore Sub-collections","Cloud Functions Triggers","Multi-owner Model"],priority:"high",tags:["Database","Architecture","Scalability","Performance"],checklist:[{label:"Specad (DATA_MODEL_MIGRATION.md)",completed:!0,completedAt:"2025-12-11"},{label:"Fas 1: Ownership-modell (ownerIds, primaryOwnerId)",completed:!0,completedAt:"2025-12-11"},{label:"Fas 2: Sub-collections (serviceLog, fuelLog, knowledgeBase)",completed:!0,completedAt:"2025-12-11"},{label:"Fas 3: Cloud Function triggers (onTaskComplete, onTaskDelete, onProjectDelete)",completed:!0,completedAt:"2025-12-11"},{label:"Firestore Security Rules uppdaterade",completed:!0,completedAt:"2025-12-11"},{label:"Testad (TypeScript check)",completed:!0,completedAt:"2025-12-11"}]},{id:110,title:"Firebase AI Logic Migration",category:"AI Core",phase:2,description:"Migrering frn @google/genai till Firebase AI Logic SDK (firebase/ai) fr direktintegrering med Gemini Developer API.",detailedDescription:"Komplett migrering av AI-systemet till Firebase AI Logic. Frdelar: (1) Ingen separat API-nyckel behvs - hanteras av Firebase, (2) Enklare autentisering via Firebase Auth, (3) Bttre integration med Firebase-ekosystemet. Implementerat: firebaseAIService.ts med createModel(), createChat(), generateText(), generateTextStream(), sendChatMessage(), analyzeImage(), generateJSON(), och performDeepResearch() med multi-agent pattern (Detective + Planner).",purpose:"Frenklad AI-integration med bttre skerhet och Firebase-native upplevelse.",status:"done",tech:["Firebase AI Logic","firebase/ai","Gemini Developer API","GoogleAIBackend"],priority:"high",tags:["AI","Firebase","Migration","Security"],checklist:[{label:"Skapa firebaseAIService.ts med Firebase AI SDK",completed:!0,completedAt:"2025-12-12"},{label:"Implementera createModel() och createChat()",completed:!0,completedAt:"2025-12-12"},{label:"Implementera streaming (generateTextStream, sendChatMessageStream)",completed:!0,completedAt:"2025-12-12"},{label:"Migrera performDeepResearch() (multi-agent)",completed:!0,completedAt:"2025-12-12"},{label:"Uppdatera geminiService.ts imports",completed:!0,completedAt:"2025-12-12"},{label:"Fixa OnboardingWizard generateVehicleIcon",completed:!0,completedAt:"2025-12-12"},{label:"TaskBlocker legacy-support",completed:!0,completedAt:"2025-12-12"}]},{id:107,title:"Transfer Project Ownership",category:"UX/Teams",phase:2,description:"Allows a project owner to transfer ownership to another team member. Replaces the old Import/Export feature.",detailedDescription:"Instead of a file-based import/export, this feature allows a seamless transfer of a project to another user within the platform. This is crucial for when a vehicle is sold or project responsibility changes. Backend-logik (Cloud Function) r klar, UI terstr.",purpose:"Provide a secure and integrated way to hand over project ownership.",status:"in-progress",tech:["Firebase Cloud Functions","Firestore Transactions","React"],priority:"medium",tags:["UX","Teams","Ownership","Data"],checklist:[{label:"Specifikation skriven (PROJECT_TRANSFER_SPEC.md)",completed:!0},{label:"Cloud Function (transferProjectOwnership)",completed:!0,completedAt:"2025-12-10"},{label:"db.ts helpers (addCoOwner, removeCoOwner, transferPrimaryOwnership)",completed:!0,completedAt:"2025-12-11"},{label:"Firestore Security Rules (multi-owner)",completed:!0,completedAt:"2025-12-11"},{label:"Implementera UI i Project Settings",completed:!1,inProgress:!0},{label:"Testa verfringsfldet",completed:!1}]},{id:6,title:"Live Elton (Rst & Video)",category:"AI Core",phase:2,description:'Prata med Elton i realtid via kameran ("Ring upp"). Frontend finns, backend-integration saknas.',detailedDescription:"Real-time video/voice-chat med AI. Krver WebRTC och Gemini Live API integration.",purpose:"En mekaniker-kompis i fickan nr hnderna r oljiga.",status:"in-progress",tech:["WebRTC","Gemini Live API","Video Streaming","Voice Recognition"],priority:"high",tags:["WebRTC","Voice","Video","Real-time","Diagnostics"],checklist:[{label:"Specad",completed:!0},{label:"Frontend utvecklad",completed:!0},{label:"WebRTC-integration",completed:!1,inProgress:!0},{label:"Gemini Live API koppling",completed:!1},{label:"Testad (Live Connection)",completed:!1},{label:"Lanserad",completed:!1}]},{id:8,title:"Ljud-Doktorn (Audio Diagnostik)",category:"AI Core",phase:2,description:"AI lyssnar p motorljud och stller diagnos. Prompt-system klart, frontend-integration saknas.",detailedDescription:"Audio-baserad diagnostik dr AI analyserar motorljud. Anvnder Gemini:s audio processing.",purpose:'Lser problemet "Vad r det som lter?".',status:"in-progress",tech:["Audio Processing","Gemini Audio","Signal Analysis","Web Audio API"],priority:"medium",tags:["Audio","Diagnostics","AI","Analysis"],checklist:[{label:"Specad",completed:!0},{label:"Prompt utvecklad",completed:!0},{label:"Mikrofon-access",completed:!1,inProgress:!0},{label:"Audio streaming",completed:!1},{label:"UI fr diagnos",completed:!1},{label:"Lanserad",completed:!1}]},{id:28,title:"Elton Inspector (AI Besiktning)",category:"Plattform",phase:2,description:'AI-assisterad fordonsbesiktning ("Snap & Triage") med bild- och ljudanalys.',detailedDescription:"Anvndaren fotar problemomrden och AI:n ger diagnos, allvarlighetsgrad, och tgrdsfrslag. Se docs/features/INSPECTOR_SPEC.md.",purpose:"Professionell bedmning av fordonets skick utan att vara expert.",status:"planned",tech:["Gemini Vision","Audio Analysis","Investigation Logic Tree"],priority:"medium",tags:["AI","Vision","Audio","Diagnostics","Mobile"],checklist:[{label:"Specad",completed:!0},{label:"Datamodell (Findings)",completed:!0},{label:"AI-Prompt (Inspector)",completed:!0},{label:"Utvecklad (UI & Logic)",completed:!1},{label:"Lanserad",completed:!1}]},{id:104,title:"Frbttrad Felhantering",category:"UX",phase:2,description:"Centralisera felmeddelanden, lgg till Error Boundaries, frbttra user feedback.",detailedDescription:"Nuvarande felhantering r inkonsekvent. Behver centraliserad error handling med Error Boundaries.",purpose:"Bttre anvndarupplevelse vid fel.",status:"planned",tech:["React Error Boundary","Error Tracking","Toast System"],priority:"medium",tags:["UX","Quality","Error Handling"],checklist:[{label:"Skapa central error service",completed:!1},{label:"Implementera Error Boundaries",completed:!1},{label:"Centralisera toast-hantering",completed:!1},{label:"Lgg till error tracking",completed:!1}]},{id:108,title:"Revision History & Undo",category:"Data",phase:3,description:"Utreda och implementera versionshistorik fr projekt med mjlighet att ngra ndringar.",detailedDescription:"Spara snapshots av projektdata vid viktiga frndringar. Mjliggr ngra-funktion och se historik ver ndringar. Tekniska alternativ: (1) Firestore document versions, (2) Snapshot-collection, (3) Event Sourcing. Behver utredas.",purpose:"Skerhetsnt fr oavsiktliga ndringar och transparent historik.",status:"planned",tech:["Firestore","Event Sourcing","Data Versioning"],priority:"medium",tags:["Data","UX","Safety","History"],checklist:[{label:"Utreda tekniska alternativ",completed:!1},{label:"Skriva specifikation",completed:!1},{label:"Implementera snapshot-system",completed:!1},{label:"Bygga UI fr historik-visning",completed:!1},{label:"Testa och lansera",completed:!1}]},{id:16,title:"Offline-std (PWA)",category:"Infrastruktur",phase:3,description:"Gr appen till en Progressive Web App som fungerar utan ntverk.",detailedDescription:"PWA-implementation med service workers, offline caching, och background sync.",purpose:"Ett garage har ofta dlig tckning. Appen mste fungera offline.",status:"planned",tech:["Vite PWA Plugin","Firestore Persistence","Service Workers"],priority:"high",blockedBy:[27],tags:["PWA","Offline","Mobile","Performance"],checklist:[{label:"Specad",completed:!0},{label:"Firestore offline persistence",completed:!1},{label:"Service Worker setup",completed:!1},{label:"App manifest",completed:!1},{label:"Testad (Flygplanslge)",completed:!1},{label:"Lanserad",completed:!1}]},{id:11,title:"Smart Context & Beslutsstd",category:"Projektledning",phase:3,description:"Visar automatiskt relevant data (t.ex. dckdimensioner) inne p en uppgift.",detailedDescription:"Context-aware UI som visar fordonsdata nr man arbetar med specifika uppgifter.",purpose:"Just-in-time information. Slipp leta i papper.",status:"planned",tech:["Context Awareness","Smart UI","Data Matching"],priority:"medium",tags:["Context","AI","UX","Productivity"],checklist:[{label:"Specad",completed:!0},{label:"Definiera context-triggers",completed:!1},{label:"Utvecklad",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:4,title:"AI-genererad Projektikon (Nano Banana)",category:"AI Core",phase:3,description:"AI ritar en stiliserad flat design-ikon av din bil. BLOCKAD: Vntar p SDK-support.",detailedDescription:"AI-driven bildgenerering. Vntar p @google/genai SDK-std fr image generation.",purpose:"Personligt och proffsigt utseende p projektet.",status:"blocked",tech:["Gemini Image Generation","Flat Design"],priority:"low",tags:["AI","Design","Image","Blocked"],checklist:[{label:"Specad",completed:!0},{label:"Prompt utvecklad",completed:!0},{label:"BLOCKED: SDK-support",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:105,title:"Integrationstester",category:"Testing",phase:3,description:"Komplettera testsviten med integrationstester fr hela user flows.",detailedDescription:"Testa hela flden: Skapa projekt -> Lgg till tasks -> AI-chat -> Export.",purpose:"Skerstlla att alla delar fungerar tillsammans.",status:"planned",tech:["Vitest","Firebase Emulators","MSW"],priority:"medium",tags:["Testing","Quality","Integration"],checklist:[{label:"Setup Firebase Emulators",completed:!1},{label:"Onboarding flow test",completed:!1},{label:"AI chat flow test",completed:!1},{label:"Co-working flow test",completed:!1},{label:"CI/CD integration",completed:!1}]},{id:109,title:"Genkit Migration (AI Framework)",category:"AI Core",phase:4,description:"Utvrdering: Vi valde Firebase AI Logic istllet. Genkit kan vervgas fr backend-flows i framtiden.",detailedDescription:"UPDATE 2025-12-12: Vi migrerade till Firebase AI Logic (firebase/ai SDK) istllet fr Genkit. Firebase AI Logic ger: (1) Direkt Gemini-access utan API-nyckel, (2) Enklare integration med Firebase Auth, (3) Mindre overhead. Genkit kan fortfarande vervgas fr backend Cloud Functions om vi behver: Dotprompt (prompt-versioning), multi-model support (OpenAI/Anthropic), eller Developer UI fr debugging. Lg prioritet - nuvarande lsning fungerar vl.",purpose:"Potentiellt frbttrad AI-utveckling och debugging p backend.",status:"planned",tech:["Genkit","@genkit-ai/googleai","Dotprompt","Zod"],priority:"low",tags:["AI","Framework","DevEx","Optional","Backend"],checklist:[{label:"Utvrdera behov (modellbyte, debugging)",completed:!0,completedAt:"2025-12-12"},{label:"Beslut: Firebase AI Logic fr frontend",completed:!0,completedAt:"2025-12-12"},{label:"Om behov: Proof-of-concept med en Cloud Function flow",completed:!1},{label:"Om behov: Migrera aiDeepResearch CF  Genkit defineFlow",completed:!1},{label:"Om behov: Konvertera prompts till Dotprompt",completed:!1}]},{id:18,title:"Partner-integration (Auto-korg)",category:"Ekonomi",phase:4,description:"Lgg varor i varukorgen hos partners (t.ex. Autodoc) direkt frn appen.",detailedDescription:"Affiliate-integration med bildelarbutiker fr direkta kplnkar.",purpose:"Tjna pengar p plattformen och underltta kp.",status:"planned",tech:["Affiliate APIs","Deep Linking","Partner Integration"],priority:"low",tags:["Affiliate","Monetization","Partners","E-commerce"],checklist:[{label:"Specad",completed:!0},{label:"Partner-kontakt",completed:!1},{label:"API-integration",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:25,title:"Admin UI & Feature Flag Dashboard",category:"Infrastruktur",phase:4,description:"Dashboard fr att hantera feature flags och vervaka anvndning i realtid.",detailedDescription:"Admin-interface fr att toggle features och analysera anvndarbeteende.",purpose:"Enkel kontroll av features utan att ndra kod.",status:"planned",tech:["React Admin Dashboard","Firestore","Analytics"],priority:"low",tags:["Admin","Analytics","Dashboard","Monitoring"],checklist:[{label:"Specad",completed:!1},{label:"Utvecklad (UI)",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:22,title:"The Garage OS (Multi-Brand Platform)",category:"Strategi",phase:4,description:'Transformation till en "White Label"-motor fr olika fordonsgrupper.',detailedDescription:"Plattform som kan anpassas fr olika nischer: VanPlan, RaceKoll, ClassicTracker etc.",purpose:"Skalbarhet och nya marknader.",status:"planned",tech:["Config-driven Architecture","White Label","Multi-tenancy"],priority:"low",tags:["White Label","Strategy","Scale","Platform"],checklist:[{label:"Specad",completed:!0},{label:"Brand Config System",completed:!0},{label:"Dynamiska Teman",completed:!1},{label:"Multi-tenant DB",completed:!1},{label:"Lanserad",completed:!1}]},{id:106,title:"Mobilapp (React Native)",category:"Plattform",phase:4,description:"Native mobilapp fr iOS och Android med bttre kamera- och mikrofon-access.",detailedDescription:"React Native-app som delar business logic med webappen men har native access.",purpose:"Bttre anvndarupplevelse p mobil.",status:"planned",tech:["React Native","Expo","Firebase","Native APIs"],priority:"low",tags:["Mobile","Native","iOS","Android"],checklist:[{label:"Utvrdera React Native vs Flutter",completed:!1},{label:"Setup projekt",completed:!1},{label:"Bygga native features",completed:!1},{label:"App Store submission",completed:!1}]}];function KDe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Gw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fp(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function VI(t){return"nodeType"in t}function gi(t){var e,n;return t?Fp(t)?t:VI(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function FI(t){const{Document:e}=gi(t);return t instanceof e}function am(t){return Fp(t)?!1:t instanceof gi(t).HTMLElement}function CH(t){return t instanceof gi(t).SVGElement}function Bp(t){return t?Fp(t)?t.document:VI(t)?FI(t)?t:am(t)||CH(t)?t.ownerDocument:document:document:document}const ra=Gw?A.useLayoutEffect:A.useEffect;function Kw(t){const e=A.useRef(t);return ra(()=>{e.current=t}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function WDe(){const t=A.useRef(null),e=A.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=A.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function ag(t,e){e===void 0&&(e=[t]);const n=A.useRef(t);return ra(()=>{n.current!==t&&(n.current=t)},e),n}function sm(t,e){const n=A.useRef();return A.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function ov(t){const e=Kw(t),n=A.useRef(null),r=A.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function av(t){const e=A.useRef();return A.useEffect(()=>{e.current=t},[t]),e.current}let gT={};function lm(t,e){return A.useMemo(()=>{if(e)return e;const n=gT[t]==null?0:gT[t]+1;return gT[t]=n,t+"-"+n},[t,e])}function IH(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,a)=>{const l=Object.entries(a);for(const[u,d]of l){const p=o[u];p!=null&&(o[u]=p+t*d)}return o},{...e})}}const ep=IH(1),sv=IH(-1);function YDe(t){return"clientX"in t&&"clientY"in t}function Ww(t){if(!t)return!1;const{KeyboardEvent:e}=gi(t.target);return e&&t instanceof e}function JDe(t){if(!t)return!1;const{TouchEvent:e}=gi(t.target);return e&&t instanceof e}function lv(t){if(JDe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return YDe(t)?{x:t.clientX,y:t.clientY}:null}const fc=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[fc.Translate.toString(t),fc.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),p9="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function XDe(t){return t.matches(p9)?t:t.querySelector(p9)}const QDe={display:"none"};function ZDe(t){let{id:e,value:n}=t;return Rt.createElement("div",{id:e,style:QDe},n)}function eMe(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Rt.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function tMe(){const[t,e]=A.useState("");return{announce:A.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const NH=A.createContext(null);function nMe(t){const e=A.useContext(NH);A.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function rMe(){const[t]=A.useState(()=>new Set),e=A.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[A.useCallback(r=>{let{type:i,event:o}=r;t.forEach(a=>{var l;return(l=a[i])==null?void 0:l.call(a,o)})},[t]),e]}const iMe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},oMe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function aMe(t){let{announcements:e=oMe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=iMe}=t;const{announce:o,announcement:a}=tMe(),l=lm("DndLiveRegion"),[u,d]=A.useState(!1);if(A.useEffect(()=>{d(!0)},[]),nMe(A.useMemo(()=>({onDragStart(h){let{active:y}=h;o(e.onDragStart({active:y}))},onDragMove(h){let{active:y,over:b}=h;e.onDragMove&&o(e.onDragMove({active:y,over:b}))},onDragOver(h){let{active:y,over:b}=h;o(e.onDragOver({active:y,over:b}))},onDragEnd(h){let{active:y,over:b}=h;o(e.onDragEnd({active:y,over:b}))},onDragCancel(h){let{active:y,over:b}=h;o(e.onDragCancel({active:y,over:b}))}}),[o,e])),!u)return null;const p=Rt.createElement(Rt.Fragment,null,Rt.createElement(ZDe,{id:r,value:i.draggable}),Rt.createElement(eMe,{id:l,announcement:a}));return n?Kl.createPortal(p,n):p}var ar;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(ar||(ar={}));function cv(){}function sMe(t,e){return A.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function lMe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const ia=Object.freeze({x:0,y:0});function cMe(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function uMe(t,e){const n=lv(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function dMe(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function pMe(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function f9(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function fMe(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}const hMe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=f9(e),o=[];for(const a of r){const{id:l}=a,u=n.get(l);if(u){const d=f9(u),p=i.reduce((y,b,E)=>y+cMe(d[E],b),0),h=Number((p/4).toFixed(4));o.push({id:l,data:{droppableContainer:a,value:h}})}}return o.sort(dMe)};function gMe(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),a=i-r,l=o-n;if(r<i&&n<o){const u=e.width*e.height,d=t.width*t.height,p=a*l,h=p/(u+d-p);return Number(h.toFixed(4))}return 0}const mMe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const u=gMe(l,e);u>0&&i.push({id:a,data:{droppableContainer:o,value:u}})}}return i.sort(pMe)};function yMe(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function RH(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:ia}function bMe(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((a,l)=>({...a,top:a.top+t*l.y,bottom:a.bottom+t*l.y,left:a.left+t*l.x,right:a.right+t*l.x}),{...n})}}const vMe=bMe(1);function OH(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function wMe(t,e,n){const r=OH(e);if(!r)return t;const{scaleX:i,scaleY:o,x:a,y:l}=r,u=t.left-a-(1-i)*parseFloat(n),d=t.top-l-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?t.width/i:t.width,h=o?t.height/o:t.height;return{width:p,height:h,top:d,right:u+p,bottom:d+h,left:u}}const xMe={ignoreTransform:!1};function qp(t,e){e===void 0&&(e=xMe);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:p}=gi(t).getComputedStyle(t);d&&(n=wMe(n,d,p))}const{top:r,left:i,width:o,height:a,bottom:l,right:u}=n;return{top:r,left:i,width:o,height:a,bottom:l,right:u}}function h9(t){return qp(t,{ignoreTransform:!0})}function kMe(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function _Me(t,e){return e===void 0&&(e=gi(t).getComputedStyle(t)),e.position==="fixed"}function TMe(t,e){e===void 0&&(e=gi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=e[i];return typeof o=="string"?n.test(o):!1})}function BI(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(FI(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!am(i)||CH(i)||n.includes(i))return n;const o=gi(t).getComputedStyle(i);return i!==t&&TMe(i,o)&&n.push(i),_Me(i,o)?n:r(i.parentNode)}return t?r(t):n}function PH(t){const[e]=BI(t,1);return e??null}function mT(t){return!Gw||!t?null:Fp(t)?t:VI(t)?FI(t)||t===Bp(t).scrollingElement?window:am(t)?t:null:null}function DH(t){return Fp(t)?t.scrollX:t.scrollLeft}function MH(t){return Fp(t)?t.scrollY:t.scrollTop}function TS(t){return{x:DH(t),y:MH(t)}}var Tr;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Tr||(Tr={}));function zH(t){return!Gw||!t?!1:t===document.scrollingElement}function LH(t){const e={x:0,y:0},n=zH(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:a,isRight:l,maxScroll:r,minScroll:e}}const EMe={x:.2,y:.2};function SMe(t,e,n,r,i){let{top:o,left:a,right:l,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=EMe);const{isTop:d,isBottom:p,isLeft:h,isRight:y}=LH(t),b={x:0,y:0},E={x:0,y:0},S={height:e.height*i.y,width:e.width*i.x};return!d&&o<=e.top+S.height?(b.y=Tr.Backward,E.y=r*Math.abs((e.top+S.height-o)/S.height)):!p&&u>=e.bottom-S.height&&(b.y=Tr.Forward,E.y=r*Math.abs((e.bottom-S.height-u)/S.height)),!y&&l>=e.right-S.width?(b.x=Tr.Forward,E.x=r*Math.abs((e.right-S.width-l)/S.width)):!h&&a<=e.left+S.width&&(b.x=Tr.Backward,E.x=r*Math.abs((e.left+S.width-a)/S.width)),{direction:b,speed:E}}function AMe(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:a}=window;return{top:0,left:0,right:o,bottom:a,width:o,height:a}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function jH(t){return t.reduce((e,n)=>ep(e,TS(n)),ia)}function CMe(t){return t.reduce((e,n)=>e+DH(n),0)}function IMe(t){return t.reduce((e,n)=>e+MH(n),0)}function UH(t,e){if(e===void 0&&(e=qp),!t)return;const{top:n,left:r,bottom:i,right:o}=e(t);PH(t)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const NMe=[["x",["left","right"],CMe],["y",["top","bottom"],IMe]];class qI{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=BI(n),i=jH(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,a,l]of NMe)for(const u of a)Object.defineProperty(this,u,{get:()=>{const d=l(r),p=i[o]-d;return this.rect[u]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ch{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function RMe(t){const{EventTarget:e}=gi(t);return t instanceof e?t:Bp(t)}function yT(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var _o;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(_o||(_o={}));function g9(t){t.preventDefault()}function OMe(t){t.stopPropagation()}var zt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(zt||(zt={}));const VH={start:[zt.Space,zt.Enter],cancel:[zt.Esc],end:[zt.Space,zt.Enter,zt.Tab]},PMe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case zt.Right:return{...n,x:n.x+25};case zt.Left:return{...n,x:n.x-25};case zt.Down:return{...n,y:n.y+25};case zt.Up:return{...n,y:n.y-25}}};class FH{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Ch(Bp(n)),this.windowListeners=new Ch(gi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(_o.Resize,this.handleCancel),this.windowListeners.add(_o.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(_o.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&UH(r),n(ia)}handleKeyDown(e){if(Ww(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=VH,coordinateGetter:a=PMe,scrollBehavior:l="smooth"}=i,{code:u}=e;if(o.end.includes(u)){this.handleEnd(e);return}if(o.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=r.current,p=d?{x:d.left,y:d.top}:ia;this.referenceCoordinates||(this.referenceCoordinates=p);const h=a(e,{active:n,context:r.current,currentCoordinates:p});if(h){const y=sv(h,p),b={x:0,y:0},{scrollableAncestors:E}=r.current;for(const S of E){const _=e.code,{isTop:C,isRight:R,isLeft:I,isBottom:O,maxScroll:U,minScroll:M}=LH(S),D=AMe(S),L={x:Math.min(_===zt.Right?D.right-D.width/2:D.right,Math.max(_===zt.Right?D.left:D.left+D.width/2,h.x)),y:Math.min(_===zt.Down?D.bottom-D.height/2:D.bottom,Math.max(_===zt.Down?D.top:D.top+D.height/2,h.y))},z=_===zt.Right&&!R||_===zt.Left&&!I,B=_===zt.Down&&!O||_===zt.Up&&!C;if(z&&L.x!==h.x){const V=S.scrollLeft+y.x,q=_===zt.Right&&V<=U.x||_===zt.Left&&V>=M.x;if(q&&!y.y){S.scrollTo({left:V,behavior:l});return}q?b.x=S.scrollLeft-V:b.x=_===zt.Right?S.scrollLeft-U.x:S.scrollLeft-M.x,b.x&&S.scrollBy({left:-b.x,behavior:l});break}else if(B&&L.y!==h.y){const V=S.scrollTop+y.y,q=_===zt.Down&&V<=U.y||_===zt.Up&&V>=M.y;if(q&&!y.x){S.scrollTo({top:V,behavior:l});return}q?b.y=S.scrollTop-V:b.y=_===zt.Down?S.scrollTop-U.y:S.scrollTop-M.y,b.y&&S.scrollBy({top:-b.y,behavior:l});break}}this.handleMove(e,ep(sv(h,this.referenceCoordinates),b))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}FH.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=VH,onActivation:i}=e,{active:o}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const l=o.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function m9(t){return!!(t&&"distance"in t)}function y9(t){return!!(t&&"delay"in t)}class $I{constructor(e,n,r){var i;r===void 0&&(r=RMe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:a}=o;this.props=e,this.events=n,this.document=Bp(a),this.documentListeners=new Ch(this.document),this.listeners=new Ch(r),this.windowListeners=new Ch(gi(a)),this.initialCoordinates=(i=lv(o))!=null?i:ia,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(_o.Resize,this.handleCancel),this.windowListeners.add(_o.DragStart,g9),this.windowListeners.add(_o.VisibilityChange,this.handleCancel),this.windowListeners.add(_o.ContextMenu,g9),this.documentListeners.add(_o.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(y9(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(m9(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(_o.Click,OMe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(_o.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:a,options:{activationConstraint:l}}=o;if(!i)return;const u=(n=lv(e))!=null?n:ia,d=sv(i,u);if(!r&&l){if(m9(l)){if(l.tolerance!=null&&yT(d,l.tolerance))return this.handleCancel();if(yT(d,l.distance))return this.handleStart()}if(y9(l)&&yT(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===zt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const DMe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class HI extends $I{constructor(e){const{event:n}=e,r=Bp(n.target);super(e,DMe,r)}}HI.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const MMe={move:{name:"mousemove"},end:{name:"mouseup"}};var ES;(function(t){t[t.RightClick=2]="RightClick"})(ES||(ES={}));class zMe extends $I{constructor(e){super(e,MMe,Bp(e.event.target))}}zMe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===ES.RightClick?!1:(r==null||r({event:n}),!0)}}];const bT={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class LMe extends $I{constructor(e){super(e,bT)}static setup(){return window.addEventListener(bT.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(bT.move.name,e)};function e(){}}}LMe.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Ih;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Ih||(Ih={}));var uv;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(uv||(uv={}));function jMe(t){let{acceleration:e,activator:n=Ih.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:a=5,order:l=uv.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:p,delta:h,threshold:y}=t;const b=VMe({delta:h,disabled:!o}),[E,S]=WDe(),_=A.useRef({x:0,y:0}),C=A.useRef({x:0,y:0}),R=A.useMemo(()=>{switch(n){case Ih.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Ih.DraggableRect:return i}},[n,i,u]),I=A.useRef(null),O=A.useCallback(()=>{const M=I.current;if(!M)return;const D=_.current.x*C.current.x,L=_.current.y*C.current.y;M.scrollBy(D,L)},[]),U=A.useMemo(()=>l===uv.TreeOrder?[...d].reverse():d,[l,d]);A.useEffect(()=>{if(!o||!d.length||!R){S();return}for(const M of U){if((r==null?void 0:r(M))===!1)continue;const D=d.indexOf(M),L=p[D];if(!L)continue;const{direction:z,speed:B}=SMe(M,L,R,e,y);for(const V of["x","y"])b[V][z[V]]||(B[V]=0,z[V]=0);if(B.x>0||B.y>0){S(),I.current=M,E(O,a),_.current=B,C.current=z;return}}_.current={x:0,y:0},C.current={x:0,y:0},S()},[e,O,r,S,o,a,JSON.stringify(R),JSON.stringify(b),E,d,U,p,JSON.stringify(y)])}const UMe={x:{[Tr.Backward]:!1,[Tr.Forward]:!1},y:{[Tr.Backward]:!1,[Tr.Forward]:!1}};function VMe(t){let{delta:e,disabled:n}=t;const r=av(e);return sm(i=>{if(n||!r||!i)return UMe;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Tr.Backward]:i.x[Tr.Backward]||o.x===-1,[Tr.Forward]:i.x[Tr.Forward]||o.x===1},y:{[Tr.Backward]:i.y[Tr.Backward]||o.y===-1,[Tr.Forward]:i.y[Tr.Forward]||o.y===1}}},[n,e,r])}function FMe(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return sm(i=>{var o;return e==null?null:(o=r??i)!=null?o:null},[r,e])}function BMe(t,e){return A.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...o]},[]),[t,e])}var sg;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(sg||(sg={}));var SS;(function(t){t.Optimized="optimized"})(SS||(SS={}));const b9=new Map;function qMe(t,e){let{dragging:n,dependencies:r,config:i}=e;const[o,a]=A.useState(null),{frequency:l,measure:u,strategy:d}=i,p=A.useRef(t),h=_(),y=ag(h),b=A.useCallback(function(C){C===void 0&&(C=[]),!y.current&&a(R=>R===null?C:R.concat(C.filter(I=>!R.includes(I))))},[y]),E=A.useRef(null),S=sm(C=>{if(h&&!n)return b9;if(!C||C===b9||p.current!==t||o!=null){const R=new Map;for(let I of t){if(!I)continue;if(o&&o.length>0&&!o.includes(I.id)&&I.rect.current){R.set(I.id,I.rect.current);continue}const O=I.node.current,U=O?new qI(u(O),O):null;I.rect.current=U,U&&R.set(I.id,U)}return R}return C},[t,o,n,h,u]);return A.useEffect(()=>{p.current=t},[t]),A.useEffect(()=>{h||b()},[n,h]),A.useEffect(()=>{o&&o.length>0&&a(null)},[JSON.stringify(o)]),A.useEffect(()=>{h||typeof l!="number"||E.current!==null||(E.current=setTimeout(()=>{b(),E.current=null},l))},[l,h,b,...r]),{droppableRects:S,measureDroppableContainers:b,measuringScheduled:o!=null};function _(){switch(d){case sg.Always:return!1;case sg.BeforeDragging:return n;default:return!n}}}function GI(t,e){return sm(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function $Me(t,e){return GI(t,e)}function HMe(t){let{callback:e,disabled:n}=t;const r=Kw(e),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return A.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Yw(t){let{callback:e,disabled:n}=t;const r=Kw(e),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return A.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function GMe(t){return new qI(qp(t),t)}function v9(t,e,n){e===void 0&&(e=GMe);const[r,i]=A.useState(null);function o(){i(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const p=e(t);return JSON.stringify(u)===JSON.stringify(p)?u:p})}const a=HMe({callback(u){if(t)for(const d of u){const{type:p,target:h}=d;if(p==="childList"&&h instanceof HTMLElement&&h.contains(t)){o();break}}}}),l=Yw({callback:o});return ra(()=>{o(),t?(l==null||l.observe(t),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),a==null||a.disconnect())},[t]),r}function KMe(t){const e=GI(t);return RH(t,e)}const w9=[];function WMe(t){const e=A.useRef(t),n=sm(r=>t?r&&r!==w9&&t&&e.current&&t.parentNode===e.current.parentNode?r:BI(t):w9,[t]);return A.useEffect(()=>{e.current=t},[t]),n}function YMe(t){const[e,n]=A.useState(null),r=A.useRef(t),i=A.useCallback(o=>{const a=mT(o.target);a&&n(l=>l?(l.set(a,TS(a)),new Map(l)):null)},[]);return A.useEffect(()=>{const o=r.current;if(t!==o){a(o);const l=t.map(u=>{const d=mT(u);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,TS(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),r.current=t}return()=>{a(t),a(o)};function a(l){l.forEach(u=>{const d=mT(u);d==null||d.removeEventListener("scroll",i)})}},[i,t]),A.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,a)=>ep(o,a),ia):jH(t):ia,[t,e])}function x9(t,e){e===void 0&&(e=[]);const n=A.useRef(null);return A.useEffect(()=>{n.current=null},e),A.useEffect(()=>{const r=t!==ia;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?sv(t,n.current):ia}function JMe(t){A.useEffect(()=>{if(!Gw)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function XMe(t,e){return A.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=a=>{o(a,e)},n},{}),[t,e])}function BH(t){return A.useMemo(()=>t?kMe(t):null,[t])}const k9=[];function QMe(t,e){e===void 0&&(e=qp);const[n]=t,r=BH(n?gi(n):null),[i,o]=A.useState(k9);function a(){o(()=>t.length?t.map(u=>zH(u)?r:new qI(e(u),u)):k9)}const l=Yw({callback:a});return ra(()=>{l==null||l.disconnect(),a(),t.forEach(u=>l==null?void 0:l.observe(u))},[t]),i}function qH(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return am(e)?e:t}function ZMe(t){let{measure:e}=t;const[n,r]=A.useState(null),i=A.useCallback(d=>{for(const{target:p}of d)if(am(p)){r(h=>{const y=e(p);return h?{...h,width:y.width,height:y.height}:y});break}},[e]),o=Yw({callback:i}),a=A.useCallback(d=>{const p=qH(d);o==null||o.disconnect(),p&&(o==null||o.observe(p)),r(p?e(p):null)},[e,o]),[l,u]=ov(a);return A.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const eze=[{sensor:HI,options:{}},{sensor:FH,options:{}}],tze={current:{}},Nb={draggable:{measure:h9},droppable:{measure:h9,strategy:sg.WhileDragging,frequency:SS.Optimized},dragOverlay:{measure:qp}};class Nh extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const nze={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Nh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:cv},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Nb,measureDroppableContainers:cv,windowRect:null,measuringScheduled:!1},$H={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:cv,draggableNodes:new Map,over:null,measureDroppableContainers:cv},cm=A.createContext($H),HH=A.createContext(nze);function rze(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Nh}}}function ize(t,e){switch(e.type){case ar.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ar.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case ar.DragEnd:case ar.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ar.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new Nh(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case ar.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const a=new Nh(t.droppable.containers);return a.set(n,{...o,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case ar.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new Nh(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function oze(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=A.useContext(cm),o=av(r),a=av(n==null?void 0:n.id);return A.useEffect(()=>{if(!e&&!r&&o&&a!=null){if(!Ww(o)||document.activeElement===o.target)return;const l=i.get(a);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const p of[u.current,d.current]){if(!p)continue;const h=XDe(p);if(h){h.focus();break}}})}},[r,e,i,a,o]),null}function GH(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,o)=>o({transform:i,...r}),n):n}function aze(t){return A.useMemo(()=>({draggable:{...Nb.draggable,...t==null?void 0:t.draggable},droppable:{...Nb.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Nb.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function sze(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const o=A.useRef(!1),{x:a,y:l}=typeof i=="boolean"?{x:i,y:i}:i;ra(()=>{if(!a&&!l||!e){o.current=!1;return}if(o.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const p=n(d),h=RH(p,r);if(a||(h.x=0),l||(h.y=0),o.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const y=PH(d);y&&y.scrollBy({top:h.y,left:h.x})}},[e,a,l,r,n])}const Jw=A.createContext({...ia,scaleX:1,scaleY:1});var Vl;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Vl||(Vl={}));const lze=A.memo(function(e){var n,r,i,o;let{id:a,accessibility:l,autoScroll:u=!0,children:d,sensors:p=eze,collisionDetection:h=mMe,measuring:y,modifiers:b,...E}=e;const S=A.useReducer(ize,void 0,rze),[_,C]=S,[R,I]=rMe(),[O,U]=A.useState(Vl.Uninitialized),M=O===Vl.Initialized,{draggable:{active:D,nodes:L,translate:z},droppable:{containers:B}}=_,V=D!=null?L.get(D):null,q=A.useRef({initial:null,translated:null}),F=A.useMemo(()=>{var ft;return D!=null?{id:D,data:(ft=V==null?void 0:V.data)!=null?ft:tze,rect:q}:null},[D,V]),oe=A.useRef(null),[Z,X]=A.useState(null),[J,ie]=A.useState(null),te=ag(E,Object.values(E)),G=lm("DndDescribedBy",a),W=A.useMemo(()=>B.getEnabled(),[B]),Y=aze(y),{droppableRects:H,measureDroppableContainers:fe,measuringScheduled:Se}=qMe(W,{dragging:M,dependencies:[z.x,z.y],config:Y.droppable}),we=FMe(L,D),Ce=A.useMemo(()=>J?lv(J):null,[J]),Ue=es(),ae=$Me(we,Y.draggable.measure);sze({activeNode:D!=null?L.get(D):null,config:Ue.layoutShiftCompensation,initialRect:ae,measure:Y.draggable.measure});const Ae=v9(we,Y.draggable.measure,ae),qe=v9(we?we.parentElement:null),ve=A.useRef({activatorEvent:null,active:null,activeNode:we,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),at=B.getNodeFor((n=ve.current.over)==null?void 0:n.id),Fe=ZMe({measure:Y.dragOverlay.measure}),kt=(r=Fe.nodeRef.current)!=null?r:we,_t=M?(i=Fe.rect)!=null?i:Ae:null,Wt=!!(Fe.nodeRef.current&&Fe.rect),hr=KMe(Wt?null:Ae),Ct=BH(kt?gi(kt):null),mt=WMe(M?at??we:null),ke=QMe(mt),Oe=GH(b,{transform:{x:z.x-hr.x,y:z.y-hr.y,scaleX:1,scaleY:1},activatorEvent:J,active:F,activeNodeRect:Ae,containerNodeRect:qe,draggingNodeRect:_t,over:ve.current.over,overlayNodeRect:Fe.rect,scrollableAncestors:mt,scrollableAncestorRects:ke,windowRect:Ct}),de=Ce?ep(Ce,z):null,Ne=YMe(mt),le=x9(Ne),ee=x9(Ne,[Ae]),he=ep(Oe,le),De=_t?vMe(_t,Oe):null,ze=F&&De?h({active:F,collisionRect:De,droppableRects:H,droppableContainers:W,pointerCoordinates:de}):null,Me=fMe(ze,"id"),[Xe,Ut]=A.useState(null),Yt=Wt?Oe:ep(Oe,ee),Et=yMe(Yt,(o=Xe==null?void 0:Xe.rect)!=null?o:null,Ae),hn=A.useRef(null),pt=A.useCallback((ft,gn)=>{let{sensor:mn,options:Bn}=gn;if(oe.current==null)return;const Vr=L.get(oe.current);if(!Vr)return;const gr=ft.nativeEvent,On=new mn({active:oe.current,activeNode:Vr,event:gr,options:Bn,context:ve,onAbort(Pn){if(!L.get(Pn))return;const{onDragAbort:Br}=te.current,ti={id:Pn};Br==null||Br(ti),R({type:"onDragAbort",event:ti})},onPending(Pn,Fr,Br,ti){if(!L.get(Pn))return;const{onDragPending:ni}=te.current,Ui={id:Pn,constraint:Fr,initialCoordinates:Br,offset:ti};ni==null||ni(Ui),R({type:"onDragPending",event:Ui})},onStart(Pn){const Fr=oe.current;if(Fr==null)return;const Br=L.get(Fr);if(!Br)return;const{onDragStart:ti}=te.current,ji={activatorEvent:gr,active:{id:Fr,data:Br.data,rect:q}};Kl.unstable_batchedUpdates(()=>{ti==null||ti(ji),U(Vl.Initializing),C({type:ar.DragStart,initialCoordinates:Pn,active:Fr}),R({type:"onDragStart",event:ji}),X(hn.current),ie(gr)})},onMove(Pn){C({type:ar.DragMove,coordinates:Pn})},onEnd:mi(ar.DragEnd),onCancel:mi(ar.DragCancel)});hn.current=On;function mi(Pn){return async function(){const{active:Br,collisions:ti,over:ji,scrollAdjustedTranslate:ni}=ve.current;let Ui=null;if(Br&&ni){const{cancelDrop:Cr}=te.current;Ui={activatorEvent:gr,active:Br,collisions:ti,delta:ni,over:ji},Pn===ar.DragEnd&&typeof Cr=="function"&&await Promise.resolve(Cr(Ui))&&(Pn=ar.DragCancel)}oe.current=null,Kl.unstable_batchedUpdates(()=>{C({type:Pn}),U(Vl.Uninitialized),Ut(null),X(null),ie(null),hn.current=null;const Cr=Pn===ar.DragEnd?"onDragEnd":"onDragCancel";if(Ui){const ri=te.current[Cr];ri==null||ri(Ui),R({type:Cr,event:Ui})}})}}},[L]),Li=A.useCallback((ft,gn)=>(mn,Bn)=>{const Vr=mn.nativeEvent,gr=L.get(Bn);if(oe.current!==null||!gr||Vr.dndKit||Vr.defaultPrevented)return;const On={active:gr};ft(mn,gn.options,On)===!0&&(Vr.dndKit={capturedBy:gn.sensor},oe.current=Bn,pt(mn,gn))},[L,pt]),rr=BMe(p,Li);JMe(p),ra(()=>{Ae&&O===Vl.Initializing&&U(Vl.Initialized)},[Ae,O]),A.useEffect(()=>{const{onDragMove:ft}=te.current,{active:gn,activatorEvent:mn,collisions:Bn,over:Vr}=ve.current;if(!gn||!mn)return;const gr={active:gn,activatorEvent:mn,collisions:Bn,delta:{x:he.x,y:he.y},over:Vr};Kl.unstable_batchedUpdates(()=>{ft==null||ft(gr),R({type:"onDragMove",event:gr})})},[he.x,he.y]),A.useEffect(()=>{const{active:ft,activatorEvent:gn,collisions:mn,droppableContainers:Bn,scrollAdjustedTranslate:Vr}=ve.current;if(!ft||oe.current==null||!gn||!Vr)return;const{onDragOver:gr}=te.current,On=Bn.get(Me),mi=On&&On.rect.current?{id:On.id,rect:On.rect.current,data:On.data,disabled:On.disabled}:null,Pn={active:ft,activatorEvent:gn,collisions:mn,delta:{x:Vr.x,y:Vr.y},over:mi};Kl.unstable_batchedUpdates(()=>{Ut(mi),gr==null||gr(Pn),R({type:"onDragOver",event:Pn})})},[Me]),ra(()=>{ve.current={activatorEvent:J,active:F,activeNode:we,collisionRect:De,collisions:ze,droppableRects:H,draggableNodes:L,draggingNode:kt,draggingNodeRect:_t,droppableContainers:B,over:Xe,scrollableAncestors:mt,scrollAdjustedTranslate:he},q.current={initial:_t,translated:De}},[F,we,ze,De,L,kt,_t,H,B,Xe,mt,he]),jMe({...Ue,delta:z,draggingRect:De,pointerCoordinates:de,scrollableAncestors:mt,scrollableAncestorRects:ke});const ju=A.useMemo(()=>({active:F,activeNode:we,activeNodeRect:Ae,activatorEvent:J,collisions:ze,containerNodeRect:qe,dragOverlay:Fe,draggableNodes:L,droppableContainers:B,droppableRects:H,over:Xe,measureDroppableContainers:fe,scrollableAncestors:mt,scrollableAncestorRects:ke,measuringConfiguration:Y,measuringScheduled:Se,windowRect:Ct}),[F,we,Ae,J,ze,qe,Fe,L,B,H,Xe,fe,mt,ke,Y,Se,Ct]),io=A.useMemo(()=>({activatorEvent:J,activators:rr,active:F,activeNodeRect:Ae,ariaDescribedById:{draggable:G},dispatch:C,draggableNodes:L,over:Xe,measureDroppableContainers:fe}),[J,rr,F,Ae,C,G,L,Xe,fe]);return Rt.createElement(NH.Provider,{value:I},Rt.createElement(cm.Provider,{value:io},Rt.createElement(HH.Provider,{value:ju},Rt.createElement(Jw.Provider,{value:Et},d)),Rt.createElement(oze,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Rt.createElement(aMe,{...l,hiddenTextDescribedById:G}));function es(){const ft=(Z==null?void 0:Z.autoScrollEnabled)===!1,gn=typeof u=="object"?u.enabled===!1:u===!1,mn=M&&!ft&&!gn;return typeof u=="object"?{...u,enabled:mn}:{enabled:mn}}}),cze=A.createContext(null),_9="button",uze="Draggable";function dze(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const o=lm(uze),{activators:a,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:p,draggableNodes:h,over:y}=A.useContext(cm),{role:b=_9,roleDescription:E="draggable",tabIndex:S=0}=i??{},_=(u==null?void 0:u.id)===e,C=A.useContext(_?Jw:cze),[R,I]=ov(),[O,U]=ov(),M=XMe(a,e),D=ag(n);ra(()=>(h.set(e,{id:e,key:o,node:R,activatorNode:O,data:D}),()=>{const z=h.get(e);z&&z.key===o&&h.delete(e)}),[h,e]);const L=A.useMemo(()=>({role:b,tabIndex:S,"aria-disabled":r,"aria-pressed":_&&b===_9?!0:void 0,"aria-roledescription":E,"aria-describedby":p.draggable}),[r,b,S,_,E,p.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:L,isDragging:_,listeners:r?void 0:M,node:R,over:y,setNodeRef:I,setActivatorNodeRef:U,transform:C}}function KH(){return A.useContext(HH)}const pze="Droppable",fze={timeout:25};function WH(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const o=lm(pze),{active:a,dispatch:l,over:u,measureDroppableContainers:d}=A.useContext(cm),p=A.useRef({disabled:n}),h=A.useRef(!1),y=A.useRef(null),b=A.useRef(null),{disabled:E,updateMeasurementsFor:S,timeout:_}={...fze,...i},C=ag(S??r),R=A.useCallback(()=>{if(!h.current){h.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{d(Array.isArray(C.current)?C.current:[C.current]),b.current=null},_)},[_]),I=Yw({callback:R,disabled:E||!a}),O=A.useCallback((L,z)=>{I&&(z&&(I.unobserve(z),h.current=!1),L&&I.observe(L))},[I]),[U,M]=ov(O),D=ag(e);return A.useEffect(()=>{!I||!U.current||(I.disconnect(),h.current=!1,I.observe(U.current))},[U,I]),A.useEffect(()=>(l({type:ar.RegisterDroppable,element:{id:r,key:o,disabled:n,node:U,rect:y,data:D}}),()=>l({type:ar.UnregisterDroppable,key:o,id:r})),[r]),A.useEffect(()=>{n!==p.current.disabled&&(l({type:ar.SetDroppableDisabled,id:r,key:o,disabled:n}),p.current.disabled=n)},[r,o,n,l]),{active:a,rect:y,isOver:(u==null?void 0:u.id)===r,node:U,over:u,setNodeRef:M}}function hze(t){let{animation:e,children:n}=t;const[r,i]=A.useState(null),[o,a]=A.useState(null),l=av(n);return!n&&!r&&l&&i(l),ra(()=>{if(!o)return;const u=r==null?void 0:r.key,d=r==null?void 0:r.props.id;if(u==null||d==null){i(null);return}Promise.resolve(e(d,o)).then(()=>{i(null)})},[e,r,o]),Rt.createElement(Rt.Fragment,null,n,r?A.cloneElement(r,{ref:a}):null)}const gze={x:0,y:0,scaleX:1,scaleY:1};function mze(t){let{children:e}=t;return Rt.createElement(cm.Provider,{value:$H},Rt.createElement(Jw.Provider,{value:gze},e))}const yze={position:"fixed",touchAction:"none"},bze=t=>Ww(t)?"transform 250ms ease":void 0,vze=A.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:o,className:a,rect:l,style:u,transform:d,transition:p=bze}=t;if(!l)return null;const h=i?d:{...d,scaleX:1,scaleY:1},y={...yze,width:l.width,height:l.height,top:l.top,left:l.left,transform:fc.Transform.toString(h),transformOrigin:i&&r?uMe(r,l):void 0,transition:typeof p=="function"?p(r):p,...u};return Rt.createElement(n,{className:a,style:y,ref:e},o)}),wze=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:o,className:a}=t;if(o!=null&&o.active)for(const[l,u]of Object.entries(o.active))u!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,u));if(o!=null&&o.dragOverlay)for(const[l,u]of Object.entries(o.dragOverlay))u!==void 0&&r.node.style.setProperty(l,u);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[u,d]of Object.entries(i))n.node.style.setProperty(u,d);a!=null&&a.active&&n.node.classList.remove(a.active)}},xze=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:fc.Transform.toString(e)},{transform:fc.Transform.toString(n)}]},kze={duration:250,easing:"ease",keyframes:xze,sideEffects:wze({styles:{active:{opacity:"0"}}})};function _ze(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return Kw((o,a)=>{if(e===null)return;const l=n.get(o);if(!l)return;const u=l.node.current;if(!u)return;const d=qH(a);if(!d)return;const{transform:p}=gi(a).getComputedStyle(a),h=OH(p);if(!h)return;const y=typeof e=="function"?e:Tze(e);return UH(u,i.draggable.measure),y({active:{id:o,data:l.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:a,rect:i.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:i,transform:h})})}function Tze(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...kze,...t};return o=>{let{active:a,dragOverlay:l,transform:u,...d}=o;if(!e)return;const p={x:l.rect.left-a.rect.left,y:l.rect.top-a.rect.top},h={scaleX:u.scaleX!==1?a.rect.width*u.scaleX/l.rect.width:1,scaleY:u.scaleY!==1?a.rect.height*u.scaleY/l.rect.height:1},y={x:u.x-p.x,y:u.y-p.y,...h},b=i({...d,active:a,dragOverlay:l,transform:{initial:u,final:y}}),[E]=b,S=b[b.length-1];if(JSON.stringify(E)===JSON.stringify(S))return;const _=r==null?void 0:r({active:a,dragOverlay:l,...d}),C=l.node.animate(b,{duration:e,easing:n,fill:"forwards"});return new Promise(R=>{C.onfinish=()=>{_==null||_(),R()}})}}let T9=0;function Eze(t){return A.useMemo(()=>{if(t!=null)return T9++,T9},[t])}const Sze=Rt.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:o,modifiers:a,wrapperElement:l="div",className:u,zIndex:d=999}=t;const{activatorEvent:p,active:h,activeNodeRect:y,containerNodeRect:b,draggableNodes:E,droppableContainers:S,dragOverlay:_,over:C,measuringConfiguration:R,scrollableAncestors:I,scrollableAncestorRects:O,windowRect:U}=KH(),M=A.useContext(Jw),D=Eze(h==null?void 0:h.id),L=GH(a,{activatorEvent:p,active:h,activeNodeRect:y,containerNodeRect:b,draggingNodeRect:_.rect,over:C,overlayNodeRect:_.rect,scrollableAncestors:I,scrollableAncestorRects:O,transform:M,windowRect:U}),z=GI(y),B=_ze({config:r,draggableNodes:E,droppableContainers:S,measuringConfiguration:R}),V=z?_.setRef:void 0;return Rt.createElement(mze,null,Rt.createElement(hze,{animation:B},h&&D?Rt.createElement(vze,{key:D,id:h.id,ref:V,as:l,activatorEvent:p,adjustScale:e,className:u,transition:o,rect:z,style:{zIndex:d,...i},transform:L},n):null))});function YH(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function Aze(t,e){return t.reduce((n,r,i)=>{const o=e.get(r);return o&&(n[i]=o),n},Array(t.length))}function ub(t){return t!==null&&t>=0}function Cze(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Ize(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const JH=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const o=YH(e,r,n),a=e[i],l=o[i];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},db={scaleX:1,scaleY:1},vT=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:a}=t;const l=(e=o[n])!=null?e:r;if(!l)return null;if(i===n){const d=o[a];return d?{x:0,y:n<a?d.top+d.height-(l.top+l.height):d.top-l.top,...db}:null}const u=Nze(o,i,n);return i>n&&i<=a?{x:0,y:-l.height-u,...db}:i<n&&i>=a?{x:0,y:l.height+u,...db}:{x:0,y:0,...db}};function Nze(t,e,n){const r=t[e],i=t[e-1],o=t[e+1];return r?n<e?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const XH="Sortable",QH=Rt.createContext({activeIndex:-1,containerId:XH,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:JH,disabled:{draggable:!1,droppable:!1}});function wT(t){let{children:e,id:n,items:r,strategy:i=JH,disabled:o=!1}=t;const{active:a,dragOverlay:l,droppableRects:u,over:d,measureDroppableContainers:p}=KH(),h=lm(XH,n),y=l.rect!==null,b=A.useMemo(()=>r.map(M=>typeof M=="object"&&"id"in M?M.id:M),[r]),E=a!=null,S=a?b.indexOf(a.id):-1,_=d?b.indexOf(d.id):-1,C=A.useRef(b),R=!Cze(b,C.current),I=_!==-1&&S===-1||R,O=Ize(o);ra(()=>{R&&E&&p(b)},[R,b,E,p]),A.useEffect(()=>{C.current=b},[b]);const U=A.useMemo(()=>({activeIndex:S,containerId:h,disabled:O,disableTransforms:I,items:b,overIndex:_,useDragOverlay:y,sortedRects:Aze(b,u),strategy:i}),[S,h,O.draggable,O.droppable,I,b,_,u,y,i]);return Rt.createElement(QH.Provider,{value:U},e)}const Rze=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return YH(n,r,i).indexOf(e)},Oze=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:o,newIndex:a,previousItems:l,previousContainerId:u,transition:d}=t;return!d||!r||l!==o&&i===a?!1:n?!0:a!==i&&e===u},Pze={duration:200,easing:"ease"},ZH="transform",Dze=fc.Transition.toString({property:ZH,duration:0,easing:"linear"}),Mze={roleDescription:"sortable"};function zze(t){let{disabled:e,index:n,node:r,rect:i}=t;const[o,a]=A.useState(null),l=A.useRef(n);return ra(()=>{if(!e&&n!==l.current&&r.current){const u=i.current;if(u){const d=qp(r.current,{ignoreTransform:!0}),p={x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height};(p.x||p.y)&&a(p)}}n!==l.current&&(l.current=n)},[e,n,r,i]),A.useEffect(()=>{o&&a(null)},[o]),o}function Lze(t){let{animateLayoutChanges:e=Oze,attributes:n,disabled:r,data:i,getNewIndex:o=Rze,id:a,strategy:l,resizeObserverConfig:u,transition:d=Pze}=t;const{items:p,containerId:h,activeIndex:y,disabled:b,disableTransforms:E,sortedRects:S,overIndex:_,useDragOverlay:C,strategy:R}=A.useContext(QH),I=jze(r,b),O=p.indexOf(a),U=A.useMemo(()=>({sortable:{containerId:h,index:O,items:p},...i}),[h,i,O,p]),M=A.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:D,node:L,isOver:z,setNodeRef:B}=WH({id:a,data:U,disabled:I.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...u}}),{active:V,activatorEvent:q,activeNodeRect:F,attributes:oe,setNodeRef:Z,listeners:X,isDragging:J,over:ie,setActivatorNodeRef:te,transform:G}=dze({id:a,data:U,attributes:{...Mze,...n},disabled:I.draggable}),W=KDe(B,Z),Y=!!V,H=Y&&!E&&ub(y)&&ub(_),fe=!C&&J,Se=fe&&H?G:null,Ce=H?Se??(l??R)({rects:S,activeNodeRect:F,activeIndex:y,overIndex:_,index:O}):null,Ue=ub(y)&&ub(_)?o({id:a,items:p,activeIndex:y,overIndex:_}):O,ae=V==null?void 0:V.id,Ae=A.useRef({activeId:ae,items:p,newIndex:Ue,containerId:h}),qe=p!==Ae.current.items,ve=e({active:V,containerId:h,isDragging:J,isSorting:Y,id:a,index:O,items:p,newIndex:Ae.current.newIndex,previousItems:Ae.current.items,previousContainerId:Ae.current.containerId,transition:d,wasDragging:Ae.current.activeId!=null}),at=zze({disabled:!ve,index:O,node:L,rect:D});return A.useEffect(()=>{Y&&Ae.current.newIndex!==Ue&&(Ae.current.newIndex=Ue),h!==Ae.current.containerId&&(Ae.current.containerId=h),p!==Ae.current.items&&(Ae.current.items=p)},[Y,Ue,h,p]),A.useEffect(()=>{if(ae===Ae.current.activeId)return;if(ae!=null&&Ae.current.activeId==null){Ae.current.activeId=ae;return}const kt=setTimeout(()=>{Ae.current.activeId=ae},50);return()=>clearTimeout(kt)},[ae]),{active:V,activeIndex:y,attributes:oe,data:U,rect:D,index:O,newIndex:Ue,items:p,isOver:z,isSorting:Y,isDragging:J,listeners:X,node:L,overIndex:_,over:ie,setNodeRef:W,setActivatorNodeRef:te,setDroppableNodeRef:B,setDraggableNodeRef:Z,transform:at??Ce,transition:Fe()};function Fe(){if(at||qe&&Ae.current.newIndex===O)return Dze;if(!(fe&&!Ww(q)||!d)&&(Y||ve))return fc.Transition.toString({...d,property:ZH})}}function jze(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}zt.Down,zt.Right,zt.Up,zt.Left;const oh=({feature:t,onClick:e,isDraggable:n=!1})=>{const{attributes:r,listeners:i,setNodeRef:o,transform:a,transition:l,isDragging:u}=Lze({id:t.id.toString(),disabled:!n}),d={transform:fc.Transform.toString(a),transition:l,opacity:u?.5:1},p=I=>{switch(I){case"AI Core":return g.jsx(nB,{size:16,className:"text-amber-500"});case"Plattform":return g.jsx(jz,{size:16,className:"text-blue-500"});case"Ekonomi":return g.jsx(HF,{size:16,className:"text-green-500"});case"Garage":return g.jsx(Da,{size:16,className:"text-slate-500"});case"Kunskap":return g.jsx(ew,{size:16,className:"text-purple-500"});case"Data":return g.jsx(aC,{size:16,className:"text-indigo-500"});case"Infrastruktur":return g.jsx(jz,{size:16,className:"text-teal-500"});case"Projektledning":return g.jsx(Pa,{size:16,className:"text-orange-500"});case"Strategi":return g.jsx(Uz,{size:16,className:"text-pink-500"});default:return g.jsx(Uz,{size:16,className:"text-slate-400"})}},y=(I=>I==="done"?{bg:"bg-teal-50",border:"border-teal-200",text:"text-teal-700",badge:"bg-teal-100 text-teal-800 border-teal-200",icon:g.jsx(Un,{size:12}),label:"Lanserad"}:I==="in-progress"?{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-700",badge:"bg-amber-100 text-amber-800 border-amber-200",icon:g.jsx($F,{size:12}),label:"Pgr"}:{bg:"bg-slate-50",border:"border-slate-200",text:"text-slate-600",badge:"bg-slate-100 text-slate-600 border-slate-200",icon:g.jsx(Cs,{size:12}),label:"Planerad"})(t.status),b=t.checklist.filter(I=>I.completed).length,E=t.checklist.length,S=b/E*100,_=Array.isArray(t.tech)?t.tech:[t.tech],C=_.slice(0,2),R=_.length-2;return g.jsxs("div",{ref:o,style:d,onClick:e,className:`
                ${y.bg} ${y.border}
                border-2 rounded-2xl p-5
                cursor-pointer transition-all duration-300
                hover:scale-[1.02] hover:shadow-xl
                ${t.status==="in-progress"?"ring-2 ring-amber-300/50":""}
                ${u?"shadow-2xl z-50":""}
            `,children:[g.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n&&g.jsx("button",{className:"mr-2 cursor-grab active:cursor-grabbing text-slate-400 hover:text-slate-600 transition-colors",...r,...i,onClick:I=>I.stopPropagation(),children:g.jsx(Fde,{size:18})}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:`
                        w-8 h-8 rounded-full flex items-center justify-center
                        font-bold text-xs shadow-sm
                        ${y.bg} ${y.text} border ${y.border}
                    `,children:["#",t.id]}),g.jsxs("div",{className:"flex items-center gap-1.5",children:[p(t.category),g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400",children:t.category})]})]}),g.jsxs("span",{className:`
                    inline-flex items-center gap-1 px-2 py-1
                    text-[10px] font-bold uppercase rounded-md border
                    ${y.badge}
                `,children:[y.icon,y.label]})]}),g.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal mb-2 line-clamp-2",children:t.title}),g.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:t.description}),g.jsxs("div",{className:"mb-4",children:[g.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[g.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400",children:"Progress"}),g.jsxs("span",{className:"text-xs font-bold text-slate-600",children:[b,"/",E]})]}),g.jsx("div",{className:"w-full bg-slate-200 h-2 rounded-full overflow-hidden",children:g.jsx("div",{className:`h-full transition-all duration-500 ${t.status==="done"?"bg-teal-500":t.status==="in-progress"?"bg-amber-500":"bg-slate-400"}`,style:{width:`${S}%`}})})]}),g.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[C.map((I,O)=>g.jsx("span",{className:"inline-block px-2 py-1 bg-white border border-slate-200 rounded-md text-[10px] font-medium text-slate-600",children:I},O)),R>0&&g.jsxs("span",{className:"inline-block px-2 py-1 bg-slate-100 border border-slate-200 rounded-md text-[10px] font-bold text-slate-500",children:["+",R]})]}),t.priority&&g.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[g.jsx("span",{className:`
                        text-[9px] font-bold uppercase px-2 py-0.5 rounded
                        ${t.priority==="high"?"bg-rose-100 text-rose-700":t.priority==="medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}
                    `,children:t.priority==="high"?" High":t.priority==="medium"?" Medium":" Low"}),t.estimatedCompletion&&g.jsxs("span",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[g.jsx(up,{size:10}),t.estimatedCompletion]})]}),g.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200/50",children:g.jsxs("div",{className:"flex items-center gap-2",children:[t.checklist.slice(0,5).map((I,O)=>I.completed?g.jsx(Un,{size:14,className:"text-teal-500"},O):I.inProgress?g.jsx(up,{size:14,className:"text-amber-500 animate-pulse"},O):g.jsx(Cs,{size:14,className:"text-slate-300"},O)),t.checklist.length>5&&g.jsxs("span",{className:"text-[10px] text-slate-400",children:["+",t.checklist.length-5]})]})})]})},Uze=({feature:t,onClose:e})=>{const n=t.checklist.filter(u=>u.completed).length,r=t.checklist.length,i=n/r*100,a=(u=>u==="done"?{bg:"bg-teal-50",text:"text-teal-700",badge:"bg-teal-100 text-teal-800 border-teal-300"}:u==="in-progress"?{bg:"bg-amber-50",text:"text-amber-700",badge:"bg-amber-100 text-amber-800 border-amber-300"}:{bg:"bg-slate-50",text:"text-slate-600",badge:"bg-slate-100 text-slate-700 border-slate-300"})(t.status),l=Array.isArray(t.tech)?t.tech:t.tech.split("+").map(u=>u.trim());return g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-4xl rounded-3xl shadow-2xl my-8 animate-fade-in",children:[g.jsxs("div",{className:`${a.bg} p-6 border-b border-slate-200 dark:border-nordic-charcoal rounded-t-3xl relative`,children:[g.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/50 rounded-full transition-colors",children:g.jsx(lr,{size:24,className:"text-slate-500"})}),g.jsxs("div",{className:"flex items-start gap-4 mb-4 pr-12",children:[g.jsxs("div",{className:`
                            w-12 h-12 rounded-full flex items-center justify-center
                            font-bold text-lg shadow-lg border-2
                            ${a.bg} ${a.text} border-white
                        `,children:["#",t.id]}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("span",{className:`
                                    px-3 py-1 rounded-full text-xs font-bold uppercase border
                                    ${a.badge}
                                `,children:t.status==="done"?" Lanserad":t.status==="in-progress"?" Pgr":" Planerad"}),g.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 bg-white px-2 py-1 rounded-md",children:t.category}),t.priority&&g.jsx("span",{className:`
                                        text-xs font-bold uppercase px-2 py-1 rounded-md
                                        ${t.priority==="high"?"bg-rose-100 text-rose-700":t.priority==="medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}
                                    `,children:t.priority})]}),g.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal dark:text-nordic-ice mb-2",children:t.title}),g.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:t.description})]})]}),g.jsxs("div",{className:"bg-white/50 rounded-xl p-3",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("span",{className:"text-xs font-bold uppercase text-slate-500",children:"Framsteg"}),g.jsxs("span",{className:"text-sm font-bold text-slate-700",children:[n," av ",r," klara"]})]}),g.jsx("div",{className:"w-full bg-slate-200 h-3 rounded-full overflow-hidden",children:g.jsx("div",{className:`h-full transition-all duration-500 ${t.status==="done"?"bg-teal-500":t.status==="in-progress"?"bg-amber-500":"bg-slate-400"}`,style:{width:`${i}%`}})})]})]}),g.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.jsx(eB,{size:18,className:"text-teal-600"}),g.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Syfte & Vision"})]}),g.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 border-l-4 border-teal-500 p-4 rounded-r-xl",children:g.jsxs("p",{className:"text-slate-700 dark:text-slate-200 italic",children:['"',t.purpose,'"']})})]}),t.detailedDescription&&g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3",children:"Detaljerad Beskrivning"}),g.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed",children:t.detailedDescription})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3",children:"Checklista & Milstolpar"}),g.jsx("div",{className:"bg-white dark:bg-nordic-charcoal rounded-xl border border-slate-200 dark:border-nordic-charcoal p-4 space-y-3",children:t.checklist.map((u,d)=>g.jsxs("div",{className:`
                                                flex items-start gap-3 p-3 rounded-lg transition-all
                                                ${u.completed?"bg-teal-50 dark:bg-teal-900/20":u.inProgress?"bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-200":"bg-slate-50 dark:bg-slate-800"}
                                            `,children:[u.completed?g.jsx(Un,{size:20,className:"text-teal-500 mt-0.5 shrink-0"}):u.inProgress?g.jsx(up,{size:20,className:"text-amber-500 mt-0.5 shrink-0 animate-pulse"}):g.jsx(Cs,{size:20,className:"text-slate-300 mt-0.5 shrink-0"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("span",{className:`
                                                    text-sm font-medium
                                                    ${u.completed?"text-slate-700 dark:text-slate-200":u.inProgress?"text-amber-800 dark:text-amber-200":"text-slate-400 dark:text-slate-500"}
                                                `,children:u.label}),u.completedAt&&g.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Klart: ",u.completedAt]})]})]},d))})]})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.jsx(nde,{size:18,className:"text-blue-600"}),g.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Tech Stack"})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((u,d)=>g.jsx("span",{className:"inline-block px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300",children:u},d))})]}),t.estimatedCompletion&&g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.jsx(tw,{size:18,className:"text-purple-600"}),g.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Estimerad Lansering"})]}),g.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-3",children:g.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:t.estimatedCompletion})})]}),t.tags&&t.tags.length>0&&g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-sm text-slate-400 uppercase mb-2",children:"Tags"}),g.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.tags.map((u,d)=>g.jsxs("span",{className:"inline-block px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-md text-xs text-slate-600 dark:text-slate-300",children:["#",u]},d))})]}),g.jsxs("div",{className:"space-y-2",children:[t.demoUrl&&g.jsxs("a",{href:t.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-teal-50 dark:bg-teal-900/20 border border-teal-200 dark:border-teal-800 rounded-lg hover:bg-teal-100 transition-colors",children:[g.jsx(_0,{size:16,className:"text-teal-600"}),g.jsx("span",{className:"text-sm font-medium text-teal-700 dark:text-teal-300",children:"Live Demo"})]}),t.githubIssue&&g.jsxs("a",{href:t.githubIssue,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-100 transition-colors",children:[g.jsx(Lde,{size:16,className:"text-slate-600"}),g.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"GitHub Issue"})]})]}),t.status==="planned"&&g.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3 flex items-start gap-2",children:[g.jsx(Yh,{size:16,className:"text-amber-600 mt-0.5 shrink-0"}),g.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Denna feature r planerad men ej pbrjad. Datum och specifikationer kan ndras."})]})]})]})}),g.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-nordic-charcoal bg-slate-50 dark:bg-nordic-charcoal/50 rounded-b-3xl",children:g.jsx("button",{onClick:e,className:"w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors",children:"Stng"})})]})})},Vze=({viewMode:t,onViewModeChange:e,statusFilter:n,onStatusFilterChange:r,categoryFilter:i,onCategoryFilterChange:o,sortBy:a,onSortByChange:l,searchQuery:u,onSearchQueryChange:d,categories:p})=>{const h=[{value:"all",label:"Alla",icon:g.jsx(Mde,{size:14}),color:"slate"},{value:"done",label:"Lanserad",icon:g.jsx(Un,{size:14}),color:"teal"},{value:"in-progress",label:"Pgr",icon:g.jsx($F,{size:14}),color:"amber"},{value:"planned",label:"Planerad",icon:g.jsx(Cs,{size:14}),color:"slate"}],y=[{value:"id",label:"ID"},{value:"progress",label:"Framsteg"},{value:"status",label:"Status"},{value:"category",label:"Kategori"}];return g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-sm border border-slate-200 dark:border-nordic-charcoal p-4 mb-6",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[g.jsxs("div",{className:"flex bg-slate-100 dark:bg-nordic-charcoal rounded-lg p-1",children:[g.jsxs("button",{onClick:()=>e("kanban"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all
                            ${t==="kanban"?"bg-white dark:bg-nordic-dark-bg shadow-sm text-nordic-charcoal dark:text-nordic-ice":"text-slate-500 hover:text-slate-700"}
                        `,children:[g.jsx(Jde,{size:16}),g.jsx("span",{className:"hidden sm:inline",children:"Kanban"})]}),g.jsxs("button",{onClick:()=>e("list"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all
                            ${t==="list"?"bg-white dark:bg-nordic-dark-bg shadow-sm text-nordic-charcoal dark:text-nordic-ice":"text-slate-500 hover:text-slate-700"}
                        `,children:[g.jsx(ipe,{size:16}),g.jsx("span",{className:"hidden sm:inline",children:"Lista"})]})]}),g.jsxs("div",{className:"flex-1 relative",children:[g.jsx(dp,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Sk features...",value:u,onChange:b=>d(b.target.value),className:"w-full pl-10 pr-10 py-2 bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 dark:text-white"}),u&&g.jsx("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:g.jsx(lr,{size:16})})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(b=>g.jsxs("button",{onClick:()=>r(b.value),className:`
                                flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                                ${n===b.value?`bg-${b.color}-100 dark:bg-${b.color}-900/30 text-${b.color}-700 dark:text-${b.color}-300 border-${b.color}-300 dark:border-${b.color}-700`:"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                            `,children:[b.icon,g.jsx("span",{children:b.label})]},b.value))}),g.jsxs("div",{className:"flex-1 flex flex-wrap gap-2",children:[g.jsx("button",{onClick:()=>o("all"),className:`
                            px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                            ${i==="all"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                        `,children:"Alla kategorier"}),p.map(b=>g.jsx("button",{onClick:()=>o(b),className:`
                                px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                                ${i===b?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                            `,children:b},b))]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Wh,{size:14,className:"text-slate-400"}),g.jsx("select",{value:a,onChange:b=>l(b.target.value),className:"px-3 py-1.5 bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-nordic-charcoal rounded-lg text-xs font-medium text-slate-700 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-teal-500",children:y.map(b=>g.jsxs("option",{value:b.value,children:["Sortera: ",b.label]},b.value))})]})]})]})},xT=({id:t,children:e})=>{const{setNodeRef:n,isOver:r}=WH({id:t});return g.jsx("div",{ref:n,className:`transition-all ${r?"ring-2 ring-teal-500 ring-opacity-50":""}`,children:e})},Fze=({onClose:t})=>{const[e,n]=A.useState(null),[r,i]=A.useState("kanban"),[o,a]=A.useState("all"),[l,u]=A.useState("all"),[d,p]=A.useState("id"),[h,y]=A.useState(""),[b,E]=A.useState(GDe),[S,_]=A.useState(null),C=lMe(sMe(HI,{activationConstraint:{distance:8}})),R=A.useMemo(()=>Array.from(new Set(b.map(Z=>Z.category))),[b]),I=A.useMemo(()=>{let Z=b;if(o!=="all"&&(Z=Z.filter(J=>J.status===o)),l!=="all"&&(Z=Z.filter(J=>J.category===l)),h){const J=h.toLowerCase();Z=Z.filter(ie=>ie.title.toLowerCase().includes(J)||ie.description.toLowerCase().includes(J)||ie.purpose.toLowerCase().includes(J)||(typeof ie.tech=="string"?ie.tech.toLowerCase().includes(J):ie.tech.some(te=>te.toLowerCase().includes(J))))}return[...Z].sort((J,ie)=>{switch(d){case"progress":const te=J.checklist.filter(Y=>Y.completed).length/J.checklist.length;return ie.checklist.filter(Y=>Y.completed).length/ie.checklist.length-te;case"status":const W={"in-progress":0,planned:1,done:2};return W[J.status]-W[ie.status];case"category":return J.category.localeCompare(ie.category);case"id":default:return J.id-ie.id}})},[b,o,l,h,d]),O=I.filter(Z=>Z.status==="done"),U=I.filter(Z=>Z.status==="in-progress"),M=I.filter(Z=>Z.status==="planned"),D=b.length,L=b.filter(Z=>Z.status==="done").length,z=b.filter(Z=>Z.status==="in-progress").length,B=b.filter(Z=>Z.status==="planned").length,V=Math.round(L/D*100),q=Z=>{_(Z.active.id)},F=Z=>{const{active:X,over:J}=Z;if(_(null),!J)return;const ie=parseInt(X.id),te=J.id,G=b.find(W=>W.id===ie);!G||G.status==="done"||E(W=>W.map(Y=>Y.id===ie?{...Y,status:te}:Y))},oe=S?b.find(Z=>Z.id.toString()===S):null;return g.jsxs("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg p-4 sm:p-6 pb-24",children:[g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[g.jsx("button",{onClick:t,className:"p-3 bg-white dark:bg-nordic-dark-surface rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-nordic-charcoal text-slate-500 dark:text-slate-400 transition-colors",children:g.jsx(Gh,{size:20})}),g.jsxs("div",{children:[g.jsx("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal dark:text-nordic-ice",children:"Produkt-Roadmap"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Visionen fr The VanPlan. Uppdateras lpande."})]})]}),g.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[g.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:g.jsx(_pe,{size:20,className:"text-blue-600"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:D}),g.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Totalt Features"})]})]})}),g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-teal-100 dark:border-teal-900/50",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("div",{className:"w-10 h-10 bg-teal-50 dark:bg-teal-900/20 rounded-full flex items-center justify-center",children:g.jsx(eB,{size:20,className:"text-teal-600"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-2xl font-bold text-teal-600",children:L}),g.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Lanserade"})]})]}),g.jsx("div",{className:"w-full bg-teal-100 dark:bg-teal-900/30 h-1.5 rounded-full overflow-hidden",children:g.jsx("div",{className:"bg-teal-500 h-full transition-all duration-1000",style:{width:`${V}%`}})})]}),g.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-amber-100 dark:border-amber-900/50",children:g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("div",{className:"w-10 h-10 bg-amber-50 dark:bg-amber-900/20 rounded-full flex items-center justify-center",children:g.jsx(Wh,{size:20,className:"text-amber-600"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-2xl font-bold text-amber-600",children:z}),g.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Pgr"})]})]})}),g.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("div",{className:"w-10 h-10 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center",children:g.jsx(up,{size:20,className:"text-slate-500"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-2xl font-bold text-slate-600 dark:text-slate-300",children:B}),g.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Planerade"})]})]})})]}),g.jsx(Vze,{viewMode:r,onViewModeChange:i,statusFilter:o,onStatusFilterChange:a,categoryFilter:l,onCategoryFilterChange:u,sortBy:d,onSortByChange:p,searchQuery:h,onSearchQueryChange:y,categories:R}),r==="kanban"?g.jsxs(lze,{sensors:C,collisionDetection:hMe,onDragStart:q,onDragEnd:F,children:[g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsx(xT,{id:"planned",children:g.jsx(wT,{id:"planned",items:M.map(Z=>Z.id.toString()),strategy:vT,children:g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-slate-200 dark:border-nordic-charcoal",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 bg-slate-400 rounded-full"}),"Planerad"]}),g.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-600 dark:text-slate-400",children:M.length})]}),g.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[M.map(Z=>g.jsx(oh,{feature:Z,onClick:()=>n(Z),isDraggable:!0},Z.id)),M.length===0&&g.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga planerade features"})]})]})})}),g.jsx(xT,{id:"in-progress",children:g.jsx(wT,{id:"in-progress",items:U.map(Z=>Z.id.toString()),strategy:vT,children:g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-amber-200 dark:border-amber-900/50",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"font-bold text-amber-700 dark:text-amber-300 flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),"Pgr"]}),g.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-amber-100 dark:bg-amber-900/30 rounded-full text-amber-700 dark:text-amber-300",children:U.length})]}),g.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[U.map(Z=>g.jsx(oh,{feature:Z,onClick:()=>n(Z),isDraggable:!0},Z.id)),U.length===0&&g.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga pgende features"})]})]})})}),g.jsx(xT,{id:"done",children:g.jsx(wT,{id:"done",items:O.map(Z=>Z.id.toString()),strategy:vT,children:g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-teal-200 dark:border-teal-900/50",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"font-bold text-teal-700 dark:text-teal-300 flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 bg-teal-500 rounded-full"}),"Lanserad"]}),g.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-teal-100 dark:bg-teal-900/30 rounded-full text-teal-700 dark:text-teal-300",children:O.length})]}),g.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[O.map(Z=>g.jsx(oh,{feature:Z,onClick:()=>n(Z),isDraggable:!1},Z.id)),O.length===0&&g.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga lanserade features"})]})]})})})]}),g.jsx(Sze,{children:oe?g.jsx("div",{className:"rotate-3 scale-105",children:g.jsx(oh,{feature:oe,onClick:()=>{},isDraggable:!1})}):null})]}):g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[I.map(Z=>g.jsx(oh,{feature:Z,onClick:()=>n(Z)},Z.id)),I.length===0&&g.jsx("div",{className:"col-span-full text-center py-12",children:g.jsx("p",{className:"text-slate-400 text-lg",children:"Inga features matchar dina filter"})})]}),g.jsxs("div",{className:"mt-12 text-center pb-8",children:[g.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-2",children:"Total Framsteg"}),g.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-800 h-4 rounded-full overflow-hidden max-w-xl mx-auto",children:g.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 h-full transition-all duration-1000 flex items-center justify-center",style:{width:`${V}%`},children:g.jsxs("span",{className:"text-xs font-bold text-white",children:[V,"%"]})})}),g.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:[L," av ",D," features lanserade"]})]})]}),e&&g.jsx(Uze,{feature:e,onClose:()=>n(null)})]})},Bze=({project:t,onClose:e,onUpdate:n})=>{const[r,i]=A.useState([]),[o,a]=A.useState(!0),[l,u]=A.useState(!1),[d,p]=A.useState({date:new Date().toISOString().split("T")[0],mileage:"",liters:"",pricePerLiter:"",fullTank:!0});A.useEffect(()=>{(async()=>{a(!0);try{const C=await eSe(t.id);i(C)}catch(C){console.error("Failed to load fuel log:",C)}finally{a(!1)}})()},[t.id]);const h=A.useMemo(()=>[...r].sort((_,C)=>new Date(C.date).getTime()-new Date(_.date).getTime()),[r]),y=A.useMemo(()=>{const _=[],C=h.filter(R=>R.fullTank).reverse();for(let R=1;R<C.length;R++){const I=C[R],O=C[R-1],U=I.mileage-O.mileage;if(U>0){const M=I.liters/U*100;_.push({date:I.date,consumption:Math.round(M*10)/10,cost:I.totalCost})}}return _.reverse()},[h]),b=A.useMemo(()=>{if(h.length===0)return{avgConsumption:0,totalCost:0,totalLiters:0,avgCostPerLiter:0};const _=h.reduce((O,U)=>O+U.totalCost,0),C=h.reduce((O,U)=>O+U.liters,0),R=y.length>0?y.reduce((O,U)=>O+U.consumption,0)/y.length:0,I=C>0?_/C:0;return{avgConsumption:Math.round(R*10)/10,totalCost:Math.round(_),totalLiters:Math.round(C),avgCostPerLiter:Math.round(I*100)/100}},[h,y]),E=async _=>{_.preventDefault();try{const C=await tSe(t.id,{date:d.date,mileage:parseInt(d.mileage),liters:parseFloat(d.liters),pricePerLiter:parseFloat(d.pricePerLiter),totalCost:parseFloat(d.liters)*parseFloat(d.pricePerLiter),fullTank:d.fullTank});i([...r,C]),n==null||n(),p({date:new Date().toISOString().split("T")[0],mileage:"",liters:"",pricePerLiter:"",fullTank:!0}),u(!1)}catch(C){console.error("Failed to add fuel entry:",C)}},S=async _=>{try{await nSe(t.id,_),i(r.filter(C=>C.id!==_)),n==null||n()}catch(C){console.error("Failed to delete fuel entry:",C)}};return g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-5xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[g.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:g.jsx(Ud,{size:24})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold",children:"Brnslelogg"}),g.jsx("p",{className:"text-blue-100 text-sm",children:"Spra frbrukning och kostnader"})]})]}),g.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:g.jsx(lr,{size:24})})]}),g.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[g.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(UF,{size:16,className:"text-blue-200"}),g.jsx("p",{className:"text-xs text-blue-200",children:"Snittfrbrukning"})]}),g.jsx("p",{className:"text-2xl font-bold",children:b.avgConsumption}),g.jsx("p",{className:"text-xs text-blue-200",children:"L/100km"})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(HF,{size:16,className:"text-blue-200"}),g.jsx("p",{className:"text-xs text-blue-200",children:"Total kostnad"})]}),g.jsx("p",{className:"text-2xl font-bold",children:b.totalCost}),g.jsx("p",{className:"text-xs text-blue-200",children:"kr"})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(Ud,{size:16,className:"text-blue-200"}),g.jsx("p",{className:"text-xs text-blue-200",children:"Totalt tankad"})]}),g.jsx("p",{className:"text-2xl font-bold",children:b.totalLiters}),g.jsx("p",{className:"text-xs text-blue-200",children:"liter"})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(Wh,{size:16,className:"text-blue-200"}),g.jsx("p",{className:"text-xs text-blue-200",children:"Snittpris"})]}),g.jsx("p",{className:"text-2xl font-bold",children:b.avgCostPerLiter}),g.jsx("p",{className:"text-xs text-blue-200",children:"kr/L"})]})]})]}),g.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[y.length>1&&g.jsxs("div",{className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[g.jsxs("h3",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[g.jsx(Wh,{size:18,className:"text-blue-500"}),"Frbrukningstrend"]}),g.jsx(K3,{width:"100%",height:200,children:g.jsxs(Vue,{data:y,children:[g.jsx(bF,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),g.jsx(tC,{dataKey:"date",tick:{fontSize:12},stroke:"#64748b"}),g.jsx(nC,{tick:{fontSize:12},stroke:"#64748b",label:{value:"L/100km",angle:-90,position:"insideLeft"}}),g.jsx(OV,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"8px"}}),g.jsx(EF,{type:"monotone",dataKey:"consumption",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4}})]})})]}),!l&&g.jsxs("button",{onClick:()=>u(!0),className:"w-full mb-4 p-4 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[g.jsx(La,{size:20}),"Lgg till tankning"]}),l&&g.jsxs("form",{onSubmit:E,className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Datum"}),g.jsx("input",{type:"date",value:d.date,onChange:_=>p({...d,date:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mtarstllning (km)"}),g.jsx("input",{type:"number",value:d.mileage,onChange:_=>p({...d,mileage:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"12345",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Liter"}),g.jsx("input",{type:"number",step:"0.01",value:d.liters,onChange:_=>p({...d,liters:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"45.5",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Pris per liter (kr)"}),g.jsx("input",{type:"number",step:"0.01",value:d.pricePerLiter,onChange:_=>p({...d,pricePerLiter:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"18.95",required:!0})]})]}),g.jsx("div",{className:"mb-4",children:g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:d.fullTank,onChange:_=>p({...d,fullTank:_.target.checked}),className:"w-4 h-4 text-blue-500"}),g.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Full tank (krvs fr frbrukningsberkning)"})]})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors",children:"Spara"}),g.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}),g.jsx("div",{className:"space-y-2",children:h.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx(Ud,{size:48,className:"mx-auto text-slate-300 mb-3"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Inga tankningar registrerade n"})]}):h.map(_=>g.jsx("div",{className:"bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${_.fullTank?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-600"}`,children:g.jsx(Ud,{size:20})}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("p",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[_.liters," L"]}),_.fullTank&&g.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full font-medium",children:"Full tank"})]}),g.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[g.jsx(tw,{size:14}),_.date,"  ",_.mileage.toLocaleString()," km"]})]})]}),g.jsxs("div",{className:"flex items-center gap-4 text-sm ml-13",children:[g.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[_.pricePerLiter.toFixed(2)," kr/L"]}),g.jsxs("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[_.totalCost.toFixed(2)," kr"]})]})]}),g.jsx("button",{onClick:()=>S(_.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:g.jsx(lr,{size:18})})]})},_.id))})]})]})})},qze=({project:t,onClose:e,onUpdate:n})=>{const[r,i]=A.useState([]),[o,a]=A.useState(!0),[l,u]=A.useState(!1),[d,p]=A.useState({date:new Date().toISOString().split("T")[0],description:"",mileage:"",performer:"",type:"Service"});A.useEffect(()=>{(async()=>{a(!0);try{const U=await XEe(t.id);i(U)}catch(U){console.error("Failed to load service log:",U)}finally{a(!1)}})()},[t.id]);const h=A.useMemo(()=>[...r].sort((O,U)=>new Date(U.date).getTime()-new Date(O.date).getTime()),[r]),y=A.useMemo(()=>{const O={};return h.forEach(U=>{const M=new Date(U.date).getFullYear().toString();O[M]||(O[M]=[]),O[M].push(U)}),O},[h]),b=A.useMemo(()=>{var z,B;const O=new Date,U=h.find(V=>V.type==="Service"),M=h.find(V=>V.type==="Besiktning");let D=0;U&&(D=Math.floor((O.getTime()-new Date(U.date).getTime())/(1e3*60*60*24)));let L=0;if((B=(z=t.vehicleData)==null?void 0:z.inspection)!=null&&B.next){const V=new Date(t.vehicleData.inspection.next);L=Math.floor((V.getTime()-O.getTime())/(1e3*60*60*24))}return{totalServices:h.filter(V=>V.type==="Service").length,totalRepairs:h.filter(V=>V.type==="Reparation").length,totalInspections:h.filter(V=>V.type==="Besiktning").length,daysSinceLastService:D,daysUntilNextInspection:L,lastServiceDate:(U==null?void 0:U.date)||null,lastInspectionDate:(M==null?void 0:M.date)||null}},[h,t.vehicleData]),E=O=>{switch(O){case"Service":return g.jsx(Da,{size:16,className:"text-blue-500"});case"Reparation":return g.jsx(Pa,{size:16,className:"text-orange-500"});case"Besiktning":return g.jsx(Un,{size:16,className:"text-teal-500"});default:return g.jsx(tw,{size:16,className:"text-slate-500"})}},S=O=>{switch(O){case"Service":return"bg-blue-100 text-blue-700 border-blue-200";case"Reparation":return"bg-orange-100 text-orange-700 border-orange-200";case"Besiktning":return"bg-teal-100 text-teal-700 border-teal-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},_=async O=>{O.preventDefault();try{const U=await QEe(t.id,{date:d.date,description:d.description,mileage:d.mileage,performer:d.performer,type:d.type});i([...r,U]),n==null||n(),p({date:new Date().toISOString().split("T")[0],description:"",mileage:"",performer:"",type:"Service"}),u(!1)}catch(U){console.error("Failed to add service entry:",U)}},C=async O=>{try{await ZEe(t.id,O),i(r.filter(U=>U.id!==O)),n==null||n()}catch(U){console.error("Failed to delete service entry:",U)}},R=A.useMemo(()=>b.daysSinceLastService===0?null:b.daysSinceLastService>365?{severity:"high",message:`Det har gtt ${Math.floor(b.daysSinceLastService/365)} r sedan senaste servicen!`,icon:g.jsx(Pa,{size:18,className:"text-red-500"})}:b.daysSinceLastService>180?{severity:"medium",message:`Dags fr service snart? (${b.daysSinceLastService} dagar sedan senast)`,icon:g.jsx(up,{size:18,className:"text-orange-500"})}:null,[b.daysSinceLastService]),I=A.useMemo(()=>b.daysUntilNextInspection<=0?{severity:"high",message:"Besiktning frsenad!",icon:g.jsx(Pa,{size:18,className:"text-red-500"})}:b.daysUntilNextInspection<=30?{severity:"medium",message:`Besiktning om ${b.daysUntilNextInspection} dagar`,icon:g.jsx(up,{size:18,className:"text-orange-500"})}:b.daysUntilNextInspection<=60?{severity:"low",message:`Besiktning om ${b.daysUntilNextInspection} dagar`,icon:g.jsx(Un,{size:18,className:"text-teal-500"})}:null,[b.daysUntilNextInspection]);return g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-5xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[g.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 p-6 text-white",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:g.jsx(Da,{size:24})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold",children:"Servicebok"}),g.jsx("p",{className:"text-teal-100 text-sm",children:"Service, reparationer & besiktningar"})]})]}),g.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:g.jsx(lr,{size:24})})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[g.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(Da,{size:16,className:"text-teal-200"}),g.jsx("p",{className:"text-xs text-teal-200",children:"Service"})]}),g.jsx("p",{className:"text-2xl font-bold",children:b.totalServices})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(Pa,{size:16,className:"text-teal-200"}),g.jsx("p",{className:"text-xs text-teal-200",children:"Reparationer"})]}),g.jsx("p",{className:"text-2xl font-bold",children:b.totalRepairs})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(Un,{size:16,className:"text-teal-200"}),g.jsx("p",{className:"text-xs text-teal-200",children:"Besiktningar"})]}),g.jsx("p",{className:"text-2xl font-bold",children:b.totalInspections})]})]}),g.jsxs("div",{className:"space-y-2",children:[R&&g.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${R.severity==="high"?"bg-red-500/20":"bg-orange-500/20"}`,children:[R.icon,g.jsx("span",{className:"text-sm font-medium",children:R.message})]}),I&&g.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${I.severity==="high"?"bg-red-500/20":I.severity==="medium"?"bg-orange-500/20":"bg-teal-500/20"}`,children:[I.icon,g.jsx("span",{className:"text-sm font-medium",children:I.message})]})]})]}),g.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[!l&&g.jsxs("button",{onClick:()=>u(!0),className:"w-full mb-4 p-4 bg-teal-500 hover:bg-teal-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[g.jsx(La,{size:20}),"Lgg till service/reparation"]}),l&&g.jsxs("form",{onSubmit:_,className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Typ"}),g.jsxs("select",{value:d.type,onChange:O=>p({...d,type:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0,children:[g.jsx("option",{value:"Service",children:"Service"}),g.jsx("option",{value:"Reparation",children:"Reparation"}),g.jsx("option",{value:"Besiktning",children:"Besiktning"}),g.jsx("option",{value:"vrigt",children:"vrigt"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Datum"}),g.jsx("input",{type:"date",value:d.date,onChange:O=>p({...d,date:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mtarstllning (km)"}),g.jsx("input",{type:"text",value:d.mileage,onChange:O=>p({...d,mileage:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"12345",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Utfrare"}),g.jsx("input",{type:"text",value:d.performer,onChange:O=>p({...d,performer:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Verkstad AB / Eget",required:!0})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Beskrivning"}),g.jsx("textarea",{value:d.description,onChange:O=>p({...d,description:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",rows:3,placeholder:"Bytte olja, filter, bromsbelgg...",required:!0})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-teal-500 hover:bg-teal-600 text-white rounded-lg font-medium transition-colors",children:"Spara"}),g.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}),h.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx(Da,{size:48,className:"mx-auto text-slate-300 mb-3"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Ingen servicehistorik registrerad n"})]}):g.jsx("div",{className:"space-y-6",children:Object.keys(y).sort((O,U)=>parseInt(U)-parseInt(O)).map(O=>g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("div",{className:"w-12 h-12 bg-teal-100 dark:bg-teal-900/30 rounded-full flex items-center justify-center",children:g.jsx("span",{className:"font-bold text-teal-700 dark:text-teal-300",children:O})}),g.jsx("div",{className:"flex-1 h-px bg-slate-200 dark:bg-nordic-charcoal"})]}),g.jsx("div",{className:"space-y-3 ml-6 border-l-2 border-slate-200 dark:border-nordic-charcoal pl-6",children:y[O].map(U=>g.jsxs("div",{className:"relative bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow",children:[g.jsx("div",{className:"absolute -left-[29px] top-6 w-4 h-4 bg-teal-500 rounded-full border-4 border-white dark:border-nordic-dark-surface"}),g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-bold rounded-md border ${S(U.type)}`,children:[E(U.type),U.type]}),g.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:U.date})]}),g.jsx("p",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-1",children:U.description}),g.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(Wh,{size:14}),U.mileage," km"]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(iw,{size:14}),U.performer]})]})]}),g.jsx("button",{onClick:()=>C(U.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:g.jsx(lr,{size:18})})]})]},U.id))})]},O))})]})]})})};function $ze({onClose:t}){var p,h,y,b,E;const[e,n]=A.useState("JSN398"),[r,i]=A.useState(!1),[o,a]=A.useState(null),[l,u]=A.useState(null),d=async()=>{i(!0),u(null),a(null);try{const S=$w(void 0,"europe-west1"),_=la(S,"scrapeVehicleData");console.log(" Calling scrapeVehicleData with:",e);const C=await _({regNo:e});console.log(" Response:",C.data),a(C.data)}catch(S){console.error(" Error:",S),u(S.message||"Unknown error")}finally{i(!1)}};return g.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",margin:"20px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[t&&g.jsx("button",{onClick:t,style:{padding:"8px",cursor:"pointer",border:"1px solid #ccc",borderRadius:"4px",background:"#f5f5f5"},children:g.jsx(Gh,{size:20})}),g.jsx("h2",{style:{margin:0},children:" Test Vehicle Scraper"})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("input",{type:"text",value:e,onChange:S=>n(S.target.value.toUpperCase()),placeholder:"JSN398",style:{padding:"8px",fontSize:"16px",width:"200px"}}),g.jsx("button",{onClick:d,disabled:r,style:{marginLeft:"10px",padding:"8px 16px",fontSize:"16px",cursor:r?"wait":"pointer"},children:r?"Testing...":"Test Scraper"})]}),l&&g.jsxs("div",{style:{color:"red",padding:"10px",backgroundColor:"#fee"},children:[" Error: ",l]}),o&&g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsx("h3",{children:" Result:"}),g.jsx("pre",{style:{backgroundColor:"#f5f5f5",padding:"10px",overflow:"auto",maxHeight:"400px"},children:JSON.stringify(o,null,2)}),o.success&&o.vehicleData&&g.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#efe"},children:[g.jsx("h4",{children:" Vehicle Data:"}),g.jsxs("p",{children:[g.jsx("strong",{children:"Source:"})," ",o.source]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Cached:"})," ",o.cached?"YES ":"NO (fresh scrape) "]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Make:"})," ",o.vehicleData.make]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Model:"})," ",o.vehicleData.model]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Year:"})," ",o.vehicleData.year]}),g.jsxs("p",{children:[g.jsx("strong",{children:"VIN:"})," ",o.vehicleData.vin]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Status:"})," ",o.vehicleData.status]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Fuel:"})," ",(p=o.vehicleData.engine)==null?void 0:p.fuel]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Power:"})," ",(h=o.vehicleData.engine)==null?void 0:h.power]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Weight:"})," ",(y=o.vehicleData.weights)==null?void 0:y.curb,"kg / ",(b=o.vehicleData.weights)==null?void 0:b.total,"kg"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Owners:"})," ",(E=o.vehicleData.history)==null?void 0:E.owners]})]})]})]})}const Hze=()=>{var hr,Ct,mt;const[t,e]=A.useState(null),[n,r]=A.useState([]),[i,o]=A.useState(null),[a,l]=A.useState(!0),[u,d]=A.useState("dashboard"),[p,h]=A.useState(!1),[y,b]=A.useState(!1),[E,S]=A.useState("ALL"),[_,C]=A.useState(!1),[R,I]=A.useState(!1),[O,U]=A.useState(!1),[M,D]=A.useState(!1),[L,z]=A.useState(null),[B,V]=A.useState(""),[q,F]=A.useState("intermediate"),oe=async ke=>{console.log(" Loading projects for user:",ke.uid,ke.email),l(!0);try{const Oe=await WEe(ke.uid);console.log(" Found projects:",Oe.length),Oe.forEach(de=>{console.log("   Project:",de.name,"(ownerId:",de.ownerId,")")}),r(Oe),Oe.length===0&&o(null)}catch(Oe){console.error(" Error loading projects:",Oe),Y("Kunde inte ladda projekt","error")}l(!1)};A.useEffect(()=>{NDe().then(Oe=>{Oe.success&&Y("Inloggad!")});const ke=DDe(async Oe=>{if(Oe){const de=await KEe(Oe.uid,Oe.email);e(de),V(de.name),F(de.skillLevel||"intermediate"),await oe(de)}else e(null),o(null),r([]),l(!1)});return()=>ke()},[]);const Z=async ke=>{l(!0);try{const Oe=await yj(ke);if(Oe){const[de,Ne]=await Promise.all([dSe(ke),gSe(ke)]);o({...Oe,tasks:de||[],shoppingItems:Ne||[]}),d("dashboard")}else Y("Kunde inte hitta projektet","error")}catch(Oe){console.error("Error loading project details:",Oe),Y("Kunde inte ladda projektdata","error")}l(!1)};A.useEffect(()=>{if(!(i!=null&&i.id))return;console.log(" Setting up real-time listeners for project:",i.id);const ke=ESe(i.id,Oe=>{Oe&&(console.log(" Real-time update received:",Oe.name),o(Oe))});return()=>{console.log(" Cleaning up real-time listeners"),ke()}},[i==null?void 0:i.id]),A.useEffect(()=>{document.documentElement.classList.toggle("dark",y)},[y]);const X=async()=>{await PDe(),C(!1)},J=async()=>{if(!(!t||!B.trim()))try{await cS(t.uid,{name:B}),e({...t,name:B}),Y("Namn uppdaterat!")}catch{Y("Kunde inte spara namn","error")}},ie=async()=>{if(t)try{await cS(t.uid,{skillLevel:q}),e({...t,skillLevel:q}),Y("Erfarenhetsniv uppdaterad!")}catch{Y("Kunde inte spara erfarenhetsniv","error")}},te=async ke=>{var Oe;if(t){l(!0),console.log(" Starting project creation for user:",t.uid,t.email);try{const de=ke;if(de.additionalNotes){Y(" Analyserar dina anteckningar med AI...");const le=await EH(de.additionalNotes,void 0,ke.vehicleData);if(le.tasks&&le.tasks.length>0){console.log(" AI Found extra tasks from notes:",le.tasks.length);const ee=le.tasks.map(he=>({...he,id:`note-task-${Date.now()}-${Math.random()}`,status:"Att gra",phase:he.phase||"Fas 0: Inkp & Analys",priority:"Hg",estimatedCostMin:he.estimatedCostMin||0,estimatedCostMax:he.estimatedCostMax||0,actualCost:0,dependencies:[],created:new Date().toISOString()}));ke.tasks=[...ke.tasks||[],...ee]}}const Ne=await YEe(ke.name||"Nytt Projekt",((Oe=ke.vehicleData)==null?void 0:Oe.model)||"Oknd",t.uid,t.email,ke);console.log(" Project created:",Ne.id,Ne.name),console.log(" Waiting for Firestore to index..."),await new Promise(le=>setTimeout(le,1e3)),console.log(" Reloading projects for user:",t.uid),await oe(t),console.log(" Selecting new project:",Ne.id),await Z(Ne.id),Y("Nytt projekt skapat!")}catch(de){console.error(" Failed to create project:",de),console.error("Error details:",{code:de.code,message:de.message}),de.code==="permission-denied"?Y("tkomst nekad. Kontrollera behrigheter.","error"):Y("Kunde inte skapa projekt","error")}l(!1)}},G=async ke=>{if(confirm("r du sker p att du vill radera projektet? Detta gr inte att ngra."))try{await JEe(ke),r(Oe=>Oe.filter(de=>de.id!==ke)),Y("Projekt raderat")}catch(Oe){console.error("Error deleting project:",Oe),Y("Kunde inte radera projektet","error")}},W=async()=>{if(t&&confirm("Varning! Detta kommer att skapa ett nytt demonstrationsprojekt 'Elton'. r du sker?")){l(!0);try{await GEe(t.email,t.uid),await oe(t),Y("Demoprojekt 'Elton' skapat!")}catch(ke){console.error(ke),Y("Kunde inte skapa demoprojekt","error")}l(!1)}},Y=(ke,Oe="success")=>{z({message:ke,type:Oe}),setTimeout(()=>z(null),3e3)},H=async ke=>{if(!i)return;const Oe=i.tasks;o({...i,tasks:i.tasks.map(de=>de.id===ke.id?ke:de)});try{await fSe(i.id,ke.id,ke)}catch{o({...i,tasks:Oe}),Y("Kunde inte spara uppgift","error")}},fe=async ke=>{if(i)try{const Oe=[];for(const de of ke){const Ne=await pSe(i.id,de);Oe.push(Ne)}o({...i,tasks:[...i.tasks,...Oe]}),h(!1),Y(`${ke.length} uppgifter sparade!`)}catch{Y("Fel vid sparande av uppgifter","error")}},Se=async ke=>{if(!i)return;const Oe=i.tasks;o({...i,tasks:i.tasks.filter(de=>de.id!==ke)});try{await hSe(i.id,ke),Y("Uppgift raderad")}catch{o({...i,tasks:Oe}),Y("Kunde inte radera uppgift","error")}},we=async ke=>{if(i)try{const Oe=await mSe(i.id,ke);o({...i,shoppingItems:[...i.shoppingItems,Oe]}),Y(`Lade till ${ke.name}`)}catch{Y("Kunde inte spara vara","error")}},Ce=async ke=>{if(!i)return;const Oe=i.shoppingItems;o({...i,shoppingItems:i.shoppingItems.filter(de=>de.id!==ke)});try{await bSe(i.id,ke),Y("Vara raderad")}catch{o({...i,shoppingItems:Oe}),Y("Fel vid radering","error")}},Ue=async ke=>{if(!i)return;const Oe=i.shoppingItems;o({...i,shoppingItems:i.shoppingItems.map(de=>de.id===ke.id?ke:de)});try{await ySe(i.id,ke.id,ke)}catch{o({...i,shoppingItems:Oe}),Y("Kunde inte uppdatera","error")}},ae=async(ke,Oe)=>{if(!(!i||!t))try{const de=await CAe(Oe,t.uid,i.id,ke),Ne=i.shoppingItems.find(le=>le.id===ke);if(Ne){const le={...Ne,receiptUrl:de};await Ue(le),Y("Kvitto uppladdat!")}}catch(de){console.error("Error uploading receipt:",de),Y("Kunde inte ladda upp kvitto","error")}},Ae=async ke=>{if(i)try{await rSe(i.id,ke),o({...i,contacts:ke}),Y("Kontakter uppdaterade!")}catch(Oe){console.error("Error updating contacts:",Oe),Y("Kunde inte uppdatera kontakter","error")}},qe=async ke=>{if(i)try{await iSe(i.id,ke),o({...i,location:ke}),Y("Plats uppdaterad!")}catch(Oe){console.error("Error updating location:",Oe),Y("Kunde inte uppdatera plats","error")}},ve=async ke=>{if(!i)return;const Oe={...i.vehicleData,...ke};for(const de in ke)typeof ke[de]=="object"&&ke[de]!==null&&(Oe[de]={...i.vehicleData[de],...ke[de]});o({...i,vehicleData:Oe});try{await rh(i.id,{vehicleData:Oe}),Y("Fordonsdata uppdaterad!")}catch(de){console.error("Error updating vehicle data:",de),o(i),Y("Kunde inte uppdatera fordonsdata","error")}},at=async ke=>{if(!i)return;const Oe=[...i.knowledgeArticles||[],ke];o({...i,knowledgeArticles:Oe});try{await rh(i.id,{knowledgeArticles:Oe}),Y("Kunskapsartikel tillagd!")}catch(de){console.error("Error adding knowledge article:",de),o(i),Y("Kunde inte lgga till artikel","error")}},Fe=async ke=>{if(!i)return;const Oe=[...i.serviceLog||[],ke];o({...i,serviceLog:Oe});try{await rh(i.id,{serviceLog:Oe}),Y("Service loggad!")}catch(de){console.error("Error adding service log:",de),o(i),Y("Kunde inte logga service","error")}},kt=async ke=>{if(!i)return;const Oe=[...i.historyEvents||[],ke];o({...i,historyEvents:Oe});try{await rh(i.id,{historyEvents:Oe}),Y("Hndelse tillagd!")}catch(de){console.error("Error adding history event:",de),o(i),Y("Kunde inte lgga till hndelse","error")}},_t=async(ke,Oe)=>{if(!i)return;const de={[ke]:Oe};o({...i,...de});try{await rh(i.id,de),Y(`${ke==="nickname"?"Smeknamn":"Projektnamn"} uppdaterat!`)}catch(Ne){console.error("Error updating project metadata:",Ne),o(i),Y("Kunde inte uppdatera projekt","error")}};if(a&&!i)return g.jsx("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg flex items-center justify-center",children:g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx(Js,{className:"animate-spin text-slate-400 text-4xl"}),g.jsx("p",{className:"text-slate-500 font-medium",children:"Hmtar dina projekt..."})]})});if(!t)return g.jsx(MDe,{onDemo:()=>{}});if(u==="roadmap")return g.jsx(Fze,{onClose:()=>{i?d("dashboard"):o(null)}});if(!i)return g.jsx($De,{user:t,projects:n,onSelectProject:Z,onCreateProject:te,onLogout:X,onSeed:W,onDeleteProject:G});const Wt=({active:ke,onClick:Oe,icon:de,label:Ne,count:le})=>g.jsxs("button",{"data-testid":`nav-${Ne.toLowerCase().replace(/\s+/g,"-")}`,onClick:Oe,className:`relative flex flex-col items-center justify-center w-14 h-14 sm:w-24 sm:h-16 rounded-xl transition-all duration-300 ${ke?"bg-nordic-charcoal dark:bg-teal-600 text-white shadow-lg scale-105":"text-slate-400 hover:bg-slate-50 dark:hover:bg-nordic-dark-bg"}`,children:[g.jsx(de,{size:20,strokeWidth:ke?2.5:2,className:"mb-1"}),g.jsx("span",{className:"text-[9px] sm:text-[10px] font-medium",children:Ne}),le>0&&g.jsx("span",{className:"absolute top-1 right-3 sm:right-5 w-4 h-4 bg-rose-500 text-white text-[9px] font-bold flex items-center justify-center rounded-full",children:le})]});return g.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${y?"dark bg-nordic-dark-bg text-nordic-ice":"bg-nordic-ice text-slate-800"}`,children:[g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-12 h-12 flex items-center justify-center p-1 overflow-hidden rounded-full bg-white dark:bg-nordic-charcoal shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:i.customIcon?g.jsx("img",{src:`data:image/png;base64,${i.customIcon}`,alt:"Project Icon",className:"w-full h-full object-cover"}):g.jsx(UI,{make:((hr=i.vehicleData)==null?void 0:hr.make)||"Unknown",size:32})}),g.jsxs("div",{children:[g.jsx("h1",{className:"font-serif font-bold text-2xl tracking-tight text-nordic-charcoal dark:text-nordic-ice",children:i.name}),g.jsxs("p",{className:"text-xs font-medium text-slate-500 dark:text-teal-400 uppercase tracking-widest flex items-center gap-1",children:[i.isDemo&&g.jsx(rw,{size:10})," ",i.vehicleData.model]})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>U(!0),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Brnslelogg",children:g.jsx(Ud,{size:18})}),g.jsx("button",{onClick:()=>D(!0),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Servicebok",children:g.jsx(ew,{size:18})}),g.jsx("button",{onClick:()=>I(!0),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Team & Medlemmar",children:g.jsx(afe,{size:18})}),g.jsxs("div",{className:"relative",children:[g.jsx("button",{onClick:()=>C(!_),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",children:g.jsx("div",{className:"w-6 h-6 rounded-full bg-teal-100 flex items-center justify-center text-xs font-bold text-teal-700",children:t.name.charAt(0).toUpperCase()})}),_&&g.jsxs("div",{className:"absolute right-0 top-14 w-72 bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-nordic-ice dark:border-nordic-charcoal p-4 z-50 animate-fade-in",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-slate-100 dark:border-nordic-charcoal",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-50 dark:bg-teal-900/20 flex items-center justify-center text-teal-600 dark:text-teal-400 font-bold text-lg",children:t.name.charAt(0).toUpperCase()}),g.jsxs("div",{className:"overflow-hidden flex-1",children:[g.jsx("p",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice truncate",children:t.name}),g.jsx("p",{className:"text-xs text-slate-400 truncate",children:t.email})]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 block",children:"Ditt namn"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white",value:B,onChange:ke=>V(ke.target.value)}),g.jsx("button",{onClick:J,className:"p-2 bg-nordic-charcoal text-white rounded-lg hover:bg-slate-800",children:g.jsx(TE,{size:14})})]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 block",children:"Mekanisk erfarenhet"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{value:q,onChange:ke=>F(ke.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white",children:[g.jsx("option",{value:"beginner",children:"Nybrjare"}),g.jsx("option",{value:"intermediate",children:"Mellanhand"}),g.jsx("option",{value:"expert",children:"Expert"})]}),g.jsx("button",{onClick:ie,className:"p-2 bg-nordic-charcoal text-white rounded-lg hover:bg-slate-800",children:g.jsx(TE,{size:14})})]})]}),g.jsxs("button",{onClick:()=>{o(null),C(!1)},className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2 border-b border-slate-100 dark:border-nordic-charcoal",children:[g.jsx(FF,{size:16})," Byt Projekt"]}),g.jsxs("button",{onClick:()=>{d("scraper"),C(!1)},className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2",children:[g.jsx(aC,{size:16})," Testa Scraper"]}),g.jsxs("button",{onClick:()=>b(!y),className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2",children:[y?g.jsx(Ype,{size:16}):g.jsx(vpe,{size:16})," ",y?"Ljust Lge":"Mrkt Lge"]}),g.jsx("div",{className:"h-px bg-slate-100 dark:bg-nordic-charcoal my-2"}),g.jsxs("button",{onClick:X,className:"w-full flex items-center gap-2 p-3 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/50 rounded-xl text-sm font-bold",children:[g.jsx(KF,{size:16})," Logga ut"]})]})]}),g.jsxs("button",{onClick:()=>h(!0),className:"p-3 rounded-xl bg-nordic-charcoal dark:bg-teal-600 shadow-sm text-white hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors flex items-center gap-2",children:[g.jsx(Xl,{size:18}),g.jsx("span",{className:"hidden sm:inline font-medium",children:"Magic Import"})]})]})]}),g.jsxs("div",{className:"pb-28 sm:pb-0",children:[u==="dashboard"&&g.jsx(SSe,{project:i,onPhaseClick:ke=>{S(ke),d("tasks")}}),u==="tasks"&&g.jsx(ISe,{tasks:i.tasks,shoppingItems:i.shoppingItems,vehicleData:i.vehicleData,onUpdateTask:H,initialFilter:E}),u==="ai"&&g.jsx(sDe,{project:i,contacts:i.contacts,userSkillLevel:t==null?void 0:t.skillLevel,onAddTask:ke=>fe(ke),onUpdateTask:H,onDeleteTask:Se,onAddShoppingItem:ke=>we(ke),onUpdateShoppingItem:Ue,onDeleteShoppingItem:Ce,onUpdateVehicleData:ve,onAddKnowledgeArticle:at,onAddServiceLog:Fe,onAddHistoryEvent:kt,onUpdateProjectMetadata:_t,onClose:()=>d("dashboard")}),u==="specs"&&g.jsx(SDe,{vehicleData:i.vehicleData,tasks:i.tasks,contacts:i.contacts||[],projectLocation:i.location?{city:i.location.city,lat:((Ct=i.location.coordinates)==null?void 0:Ct.lat)||0,lng:((mt=i.location.coordinates)==null?void 0:mt.lng)||0}:void 0,onUpdateContacts:Ae,onUpdateLocation:qe,projectType:i.type}),u==="shopping"&&g.jsx(ADe,{items:i.shoppingItems,tasks:i.tasks,onAdd:ke=>we(ke),onDelete:Ce,onToggle:ke=>{const Oe=i.shoppingItems.find(de=>de.id===ke);Oe&&Ue({...Oe,checked:!Oe.checked})},onUpdate:Ue,onUploadReceipt:ae}),u==="scraper"&&g.jsx($ze,{onClose:()=>d("dashboard")})]}),u==="dashboard"&&g.jsx("div",{className:"text-center mt-12 pb-24 opacity-60 hover:opacity-100 transition-opacity",children:g.jsxs("button",{onClick:()=>d("roadmap"),className:"inline-flex items-center gap-2 text-xs font-medium text-slate-400 hover:text-teal-600 transition-colors px-4 py-2",children:[g.jsx(dpe,{size:14}),g.jsx("span",{children:"Utforska The VanPlan Roadmap"})]})}),u!=="ai"&&g.jsxs("div",{className:"fixed bottom-4 left-4 right-4 sm:left-1/2 sm:-translate-x-1/2 sm:w-auto bg-white/70 dark:bg-nordic-charcoal/80 backdrop-blur-md border border-slate-200/50 dark:border-nordic-dark-bg p-2 rounded-2xl shadow-2xl flex justify-between sm:justify-center sm:gap-2 z-40",children:[g.jsx(Wt,{active:u==="dashboard",onClick:()=>d("dashboard"),icon:Wde,label:"versikt"}),g.jsx(Wt,{active:u==="tasks",onClick:()=>{d("tasks"),S("ALL")},icon:Bz,label:"Att Gra",count:i.tasks.filter(ke=>ke.status!=="Klart").length}),g.jsx(Wt,{active:u==="shopping",onClick:()=>d("shopping"),icon:ZF,label:"Handla",count:i.shoppingItems.filter(ke=>!ke.checked).length}),g.jsx(Wt,{active:u==="specs",onClick:()=>d("specs"),icon:Da,label:"Verkstad"}),g.jsx(Wt,{active:!1,onClick:()=>d("ai"),icon:fpe,label:"Elton AI"})]}),L&&g.jsxs("div",{className:`fixed bottom-24 right-4 z-50 px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 animate-fade-in ${L.type==="error"?"bg-rose-500 text-white":"bg-nordic-charcoal text-white dark:bg-teal-600"}`,children:[g.jsx(Bz,{size:18}),g.jsx("span",{className:"font-medium text-sm",children:L.message})]})]}),p&&g.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:g.jsx("div",{className:"w-full max-w-2xl",children:g.jsx(hDe,{onAddTasks:ke=>fe(ke),onClose:()=>h(!1)})})}),R&&t&&i&&g.jsx(HDe,{project:i,currentUserEmail:t.email,onClose:()=>I(!1),onUpdate:async()=>{const ke=await yj(i.id);ke&&o({...i,...ke}),await oe(t)}}),O&&i&&g.jsx(Bze,{project:i,onClose:()=>U(!1),onUpdate:async()=>{Y("Brnslelogg uppdaterad!")}}),M&&i&&g.jsx(qze,{project:i,onClose:()=>D(!1),onUpdate:async()=>{Y("Servicebok uppdaterad!")}})]})},eG=document.getElementById("root");if(!eG)throw new Error("Could not find root element to mount to");const Gze=$7.createRoot(eG);Gze.render(g.jsx(Rt.StrictMode,{children:g.jsx(Hze,{})}));
