var eW=Object.defineProperty;var tW=(t,e,n)=>e in t?eW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var x1=(t,e,n)=>tW(t,typeof e!="symbol"?e+"":e,n);function nW(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Lo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w1={exports:{}},ih={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO;function rW(){if(rO)return ih;rO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var l in i)l!=="key"&&(o[l]=i[l])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:o}}return ih.Fragment=e,ih.jsx=n,ih.jsxs=n,ih}var iO;function iW(){return iO||(iO=1,w1.exports=rW()),w1.exports}var h=iW(),k1={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oO;function oW(){if(oO)return nt;oO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),m=Symbol.iterator;function b(G){return G===null||typeof G!="object"?null:(G=m&&G[m]||G["@@iterator"],typeof G=="function"?G:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,_={};function C(G,J,$){this.props=G,this.context=J,this.refs=_,this.updater=$||E}C.prototype.isReactComponent={},C.prototype.setState=function(G,J){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,J,"setState")},C.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function N(){}N.prototype=C.prototype;function I(G,J,$){this.props=G,this.context=J,this.refs=_,this.updater=$||E}var D=I.prototype=new N;D.constructor=I,A(D,C.prototype),D.isPureReactComponent=!0;var L=Array.isArray;function M(){}var P={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function U(G,J,$){var be=$.ref;return{$$typeof:t,type:G,key:J,ref:be!==void 0?be:null,props:$}}function q(G,J){return U(G.type,J,G.props)}function V(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function B(G){var J={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function($){return J[$]})}var F=/\/+/g;function ne(G,J){return typeof G=="object"&&G!==null&&G.key!=null?B(""+G.key):J.toString(36)}function W(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(M,M):(G.status="pending",G.then(function(J){G.status==="pending"&&(G.status="fulfilled",G.value=J)},function(J){G.status==="pending"&&(G.status="rejected",G.reason=J)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function X(G,J,$,be,_e){var Te=typeof G;(Te==="undefined"||Te==="boolean")&&(G=null);var je=!1;if(G===null)je=!0;else switch(Te){case"bigint":case"string":case"number":je=!0;break;case"object":switch(G.$$typeof){case t:case e:je=!0;break;case p:return je=G._init,X(je(G._payload),J,$,be,_e)}}if(je)return _e=_e(G),je=be===""?"."+ne(G,0):be,L(_e)?($="",je!=null&&($=je.replace(F,"$&/")+"/"),X(_e,J,$,"",function(Ae){return Ae})):_e!=null&&(V(_e)&&(_e=q(_e,$+(_e.key==null||G&&G.key===_e.key?"":(""+_e.key).replace(F,"$&/")+"/")+je)),J.push(_e)),1;je=0;var Ye=be===""?".":be+":";if(L(G))for(var ue=0;ue<G.length;ue++)be=G[ue],Te=Ye+ne(be,ue),je+=X(be,J,$,Te,_e);else if(ue=b(G),typeof ue=="function")for(G=ue.call(G),ue=0;!(be=G.next()).done;)be=be.value,Te=Ye+ne(be,ue++),je+=X(be,J,$,Te,_e);else if(Te==="object"){if(typeof G.then=="function")return X(W(G),J,$,be,_e);throw J=String(G),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return je}function Z(G,J,$){if(G==null)return G;var be=[],_e=0;return X(G,be,"","",function(Te){return J.call($,Te,_e++)}),be}function oe(G){if(G._status===-1){var J=G._result;J=J(),J.then(function($){(G._status===0||G._status===-1)&&(G._status=1,G._result=$)},function($){(G._status===0||G._status===-1)&&(G._status=2,G._result=$)}),G._status===-1&&(G._status=0,G._result=J)}if(G._status===1)return G._result.default;throw G._result}var fe=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Y={map:Z,forEach:function(G,J,$){Z(G,function(){J.apply(this,arguments)},$)},count:function(G){var J=0;return Z(G,function(){J++}),J},toArray:function(G){return Z(G,function(J){return J})||[]},only:function(G){if(!V(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return nt.Activity=g,nt.Children=Y,nt.Component=C,nt.Fragment=n,nt.Profiler=i,nt.PureComponent=I,nt.StrictMode=r,nt.Suspense=u,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,nt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return P.H.useMemoCache(G)}},nt.cache=function(G){return function(){return G.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(G,J,$){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var be=A({},G.props),_e=G.key;if(J!=null)for(Te in J.key!==void 0&&(_e=""+J.key),J)!z.call(J,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&J.ref===void 0||(be[Te]=J[Te]);var Te=arguments.length-2;if(Te===1)be.children=$;else if(1<Te){for(var je=Array(Te),Ye=0;Ye<Te;Ye++)je[Ye]=arguments[Ye+2];be.children=je}return U(G.type,_e,be)},nt.createContext=function(G){return G={$$typeof:a,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},nt.createElement=function(G,J,$){var be,_e={},Te=null;if(J!=null)for(be in J.key!==void 0&&(Te=""+J.key),J)z.call(J,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(_e[be]=J[be]);var je=arguments.length-2;if(je===1)_e.children=$;else if(1<je){for(var Ye=Array(je),ue=0;ue<je;ue++)Ye[ue]=arguments[ue+2];_e.children=Ye}if(G&&G.defaultProps)for(be in je=G.defaultProps,je)_e[be]===void 0&&(_e[be]=je[be]);return U(G,Te,_e)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(G){return{$$typeof:l,render:G}},nt.isValidElement=V,nt.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:oe}},nt.memo=function(G,J){return{$$typeof:d,type:G,compare:J===void 0?null:J}},nt.startTransition=function(G){var J=P.T,$={};P.T=$;try{var be=G(),_e=P.S;_e!==null&&_e($,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(M,fe)}catch(Te){fe(Te)}finally{J!==null&&$.types!==null&&(J.types=$.types),P.T=J}},nt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},nt.use=function(G){return P.H.use(G)},nt.useActionState=function(G,J,$){return P.H.useActionState(G,J,$)},nt.useCallback=function(G,J){return P.H.useCallback(G,J)},nt.useContext=function(G){return P.H.useContext(G)},nt.useDebugValue=function(){},nt.useDeferredValue=function(G,J){return P.H.useDeferredValue(G,J)},nt.useEffect=function(G,J){return P.H.useEffect(G,J)},nt.useEffectEvent=function(G){return P.H.useEffectEvent(G)},nt.useId=function(){return P.H.useId()},nt.useImperativeHandle=function(G,J,$){return P.H.useImperativeHandle(G,J,$)},nt.useInsertionEffect=function(G,J){return P.H.useInsertionEffect(G,J)},nt.useLayoutEffect=function(G,J){return P.H.useLayoutEffect(G,J)},nt.useMemo=function(G,J){return P.H.useMemo(G,J)},nt.useOptimistic=function(G,J){return P.H.useOptimistic(G,J)},nt.useReducer=function(G,J,$){return P.H.useReducer(G,J,$)},nt.useRef=function(G){return P.H.useRef(G)},nt.useState=function(G){return P.H.useState(G)},nt.useSyncExternalStore=function(G,J,$){return P.H.useSyncExternalStore(G,J,$)},nt.useTransition=function(){return P.H.useTransition()},nt.version="19.2.1",nt}var aO;function Ip(){return aO||(aO=1,k1.exports=oW()),k1.exports}var T=Ip();const Ct=Lo(T),aW=nW({__proto__:null,default:Ct},[T]);var E1={exports:{}},oh={},_1={exports:{}},T1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sO;function sW(){return sO||(sO=1,(function(t){function e(X,Z){var oe=X.length;X.push(Z);e:for(;0<oe;){var fe=oe-1>>>1,Y=X[fe];if(0<i(Y,Z))X[fe]=Z,X[oe]=Y,oe=fe;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var Z=X[0],oe=X.pop();if(oe!==Z){X[0]=oe;e:for(var fe=0,Y=X.length,G=Y>>>1;fe<G;){var J=2*(fe+1)-1,$=X[J],be=J+1,_e=X[be];if(0>i($,oe))be<Y&&0>i(_e,$)?(X[fe]=_e,X[be]=oe,fe=be):(X[fe]=$,X[J]=oe,fe=J);else if(be<Y&&0>i(_e,oe))X[fe]=_e,X[be]=oe,fe=be;else break e}}return Z}function i(X,Z){var oe=X.sortIndex-Z.sortIndex;return oe!==0?oe:X.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],p=1,g=null,m=3,b=!1,E=!1,A=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function D(X){for(var Z=n(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=X)r(d),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(d)}}function L(X){if(A=!1,D(X),!E)if(n(u)!==null)E=!0,M||(M=!0,B());else{var Z=n(d);Z!==null&&W(L,Z.startTime-X)}}var M=!1,P=-1,z=5,U=-1;function q(){return _?!0:!(t.unstable_now()-U<z)}function V(){if(_=!1,M){var X=t.unstable_now();U=X;var Z=!0;try{e:{E=!1,A&&(A=!1,N(P),P=-1),b=!0;var oe=m;try{t:{for(D(X),g=n(u);g!==null&&!(g.expirationTime>X&&q());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,m=g.priorityLevel;var Y=fe(g.expirationTime<=X);if(X=t.unstable_now(),typeof Y=="function"){g.callback=Y,D(X),Z=!0;break t}g===n(u)&&r(u),D(X)}else r(u);g=n(u)}if(g!==null)Z=!0;else{var G=n(d);G!==null&&W(L,G.startTime-X),Z=!1}}break e}finally{g=null,m=oe,b=!1}Z=void 0}}finally{Z?B():M=!1}}}var B;if(typeof I=="function")B=function(){I(V)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ne=F.port2;F.port1.onmessage=V,B=function(){ne.postMessage(null)}}else B=function(){C(V,0)};function W(X,Z){P=C(function(){X(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(X){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var oe=m;m=Z;try{return X()}finally{m=oe}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(X,Z){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var oe=m;m=X;try{return Z()}finally{m=oe}},t.unstable_scheduleCallback=function(X,Z,oe){var fe=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?fe+oe:fe):oe=fe,X){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=oe+Y,X={id:p++,callback:Z,priorityLevel:X,startTime:oe,expirationTime:Y,sortIndex:-1},oe>fe?(X.sortIndex=oe,e(d,X),n(u)===null&&X===n(d)&&(A?(N(P),P=-1):A=!0,W(L,oe-fe))):(X.sortIndex=Y,e(u,X),E||b||(E=!0,M||(M=!0,B()))),X},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(X){var Z=m;return function(){var oe=m;m=Z;try{return X.apply(this,arguments)}finally{m=oe}}}})(T1)),T1}var lO;function lW(){return lO||(lO=1,_1.exports=sW()),_1.exports}var S1={exports:{}},Vr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cO;function cW(){if(cO)return Vr;cO=1;var t=Ip();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(u,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:u,containerInfo:d,implementation:p}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Vr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Vr.createPortal=function(u,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(u,d,null,p)},Vr.flushSync=function(u){var d=a.T,p=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=p,r.d.f()}},Vr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Vr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Vr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var p=d.as,g=l(p,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:b}):p==="script"&&r.d.X(u,{crossOrigin:g,integrity:m,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Vr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Vr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=l(p,d.crossOrigin);r.d.L(u,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Vr.preloadModule=function(u,d){if(typeof u=="string")if(d){var p=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Vr.requestFormReset=function(u){r.d.r(u)},Vr.unstable_batchedUpdates=function(u,d){return u(d)},Vr.useFormState=function(u,d,p){return a.H.useFormState(u,d,p)},Vr.useFormStatus=function(){return a.H.useHostTransitionStatus()},Vr.version="19.2.1",Vr}var uO;function k3(){if(uO)return S1.exports;uO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),S1.exports=cW(),S1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dO;function uW(){if(dO)return oh;dO=1;var t=lW(),e=Ip(),n=k3();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var c=s,f=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(f=c.return),s=c.return;while(s)}return c.tag===3?f:null}function a(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(r(188))}function d(s){var c=s.alternate;if(!c){if(c=o(s),c===null)throw Error(r(188));return c!==s?null:s}for(var f=s,y=c;;){var k=f.return;if(k===null)break;var S=k.alternate;if(S===null){if(y=k.return,y!==null){f=y;continue}break}if(k.child===S.child){for(S=k.child;S;){if(S===f)return u(k),s;if(S===y)return u(k),c;S=S.sibling}throw Error(r(188))}if(f.return!==y.return)f=k,y=S;else{for(var O=!1,H=k.child;H;){if(H===f){O=!0,f=k,y=S;break}if(H===y){O=!0,y=k,f=S;break}H=H.sibling}if(!O){for(H=S.child;H;){if(H===f){O=!0,f=S,y=k;break}if(H===y){O=!0,y=S,f=k;break}H=H.sibling}if(!O)throw Error(r(189))}}if(f.alternate!==y)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:c}function p(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=p(s),c!==null)return c;s=s.sibling}return null}var g=Object.assign,m=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),I=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function ne(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case C:return"Profiler";case _:return"StrictMode";case L:return"Suspense";case M:return"SuspenseList";case U:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case I:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case D:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return c=s.displayName||null,c!==null?c:ne(s.type)||"Memo";case z:c=s._payload,s=s._init;try{return ne(s(c))}catch{}}return null}var W=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},fe=[],Y=-1;function G(s){return{current:s}}function J(s){0>Y||(s.current=fe[Y],fe[Y]=null,Y--)}function $(s,c){Y++,fe[Y]=s.current,s.current=c}var be=G(null),_e=G(null),Te=G(null),je=G(null);function Ye(s,c){switch($(Te,c),$(_e,s),$(be,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?SP(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=SP(c),s=AP(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}J(be),$(be,s)}function ue(){J(be),J(_e),J(Te)}function Ae(s){s.memoizedState!==null&&$(je,s);var c=be.current,f=AP(c,s.type);c!==f&&($(_e,s),$(be,f))}function ae(s){_e.current===s&&(J(be),J(_e)),je.current===s&&(J(je),eh._currentValue=oe)}var le,qe;function Be(s){if(le===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);le=c&&c[1]||"",qe=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+s+qe}var pt=!1;function _t(s,c){if(!s||pt)return"";pt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(c){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(ye){var pe=ye}Reflect.construct(s,[],ke)}else{try{ke.call()}catch(ye){pe=ye}s.call(ke.prototype)}}else{try{throw Error()}catch(ye){pe=ye}(ke=s())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(ye){if(ye&&pe&&typeof ye.stack=="string")return[ye.stack,pe.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=y.DetermineComponentFrameRoot(),O=S[0],H=S[1];if(O&&H){var Q=O.split(`
`),ce=H.split(`
`);for(k=y=0;y<Q.length&&!Q[y].includes("DetermineComponentFrameRoot");)y++;for(;k<ce.length&&!ce[k].includes("DetermineComponentFrameRoot");)k++;if(y===Q.length||k===ce.length)for(y=Q.length-1,k=ce.length-1;1<=y&&0<=k&&Q[y]!==ce[k];)k--;for(;1<=y&&0<=k;y--,k--)if(Q[y]!==ce[k]){if(y!==1||k!==1)do if(y--,k--,0>k||Q[y]!==ce[k]){var ve=`
`+Q[y].replace(" at new "," at ");return s.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",s.displayName)),ve}while(1<=y&&0<=k);break}}}finally{pt=!1,Error.prepareStackTrace=f}return(f=s?s.displayName||s.name:"")?Be(f):""}function _n(s,c){switch(s.tag){case 26:case 27:case 5:return Be(s.type);case 16:return Be("Lazy");case 13:return s.child!==c&&c!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return _t(s.type,!1);case 11:return _t(s.type.render,!1);case 1:return _t(s.type,!0);case 31:return Be("Activity");default:return""}}function Xr(s){try{var c="",f=null;do c+=_n(s,f),f=s,s=s.return;while(s);return c}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var Vt=Object.prototype.hasOwnProperty,Tt=t.unstable_scheduleCallback,Er=t.unstable_cancelCallback,ji=t.unstable_shouldYield,Ce=t.unstable_requestPaint,Pe=t.unstable_now,de=t.unstable_getCurrentPriorityLevel,ee=t.unstable_ImmediatePriority,ge=t.unstable_UserBlockingPriority,Re=t.unstable_NormalPriority,De=t.unstable_LowPriority,Oe=t.unstable_IdlePriority,Je=t.log,zt=t.unstable_setDisableYieldValue,Wt=null,kt=null;function fn(s){if(typeof Je=="function"&&zt(s),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Wt,s)}catch{}}var dt=Math.clz32?Math.clz32:qu,Li=Math.log,Zn=Math.LN2;function qu(s){return s>>>=0,s===0?32:31-(Li(s)/Zn|0)|0}var lo=256,rs=262144,ft=4194304;function hn(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function gn(s,c,f){var y=s.pendingLanes;if(y===0)return 0;var k=0,S=s.suspendedLanes,O=s.pingedLanes;s=s.warmLanes;var H=y&134217727;return H!==0?(y=H&~S,y!==0?k=hn(y):(O&=H,O!==0?k=hn(O):f||(f=H&~s,f!==0&&(k=hn(f))))):(H=y&~S,H!==0?k=hn(H):O!==0?k=hn(O):f||(f=y&~s,f!==0&&(k=hn(f)))),k===0?0:c!==0&&c!==k&&(c&S)===0&&(S=k&-k,f=c&-c,S>=f||S===32&&(f&4194048)!==0)?c:k}function Un(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function jr(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cr(){var s=ft;return ft<<=1,(ft&62914560)===0&&(ft=4194304),s}function Rn(s){for(var c=[],f=0;31>f;f++)c.push(s);return c}function mi(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Pn(s,c,f,y,k,S){var O=s.pendingLanes;s.pendingLanes=f,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=f,s.entangledLanes&=f,s.errorRecoveryDisabledLanes&=f,s.shellSuspendCounter=0;var H=s.entanglements,Q=s.expirationTimes,ce=s.hiddenUpdates;for(f=O&~f;0<f;){var ve=31-dt(f),ke=1<<ve;H[ve]=0,Q[ve]=-1;var pe=ce[ve];if(pe!==null)for(ce[ve]=null,ve=0;ve<pe.length;ve++){var ye=pe[ve];ye!==null&&(ye.lane&=-536870913)}f&=~ke}y!==0&&Lr(s,y,0),S!==0&&k===0&&s.tag!==0&&(s.suspendedLanes|=S&~(O&~c))}function Lr(s,c,f){s.pendingLanes|=c,s.suspendedLanes&=~c;var y=31-dt(c);s.entangledLanes|=c,s.entanglements[y]=s.entanglements[y]|1073741824|f&261930}function Ur(s,c){var f=s.entangledLanes|=c;for(s=s.entanglements;f;){var y=31-dt(f),k=1<<y;k&c|s[y]&c&&(s[y]|=c),f&=~k}}function Qr(s,c){var f=c&-c;return f=(f&42)!==0?1:Ui(f),(f&(s.suspendedLanes|c))!==0?0:f}function Ui(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Zr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Vi(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:JP(s.type))}function _r(s,c){var f=Z.p;try{return Z.p=s,c()}finally{Z.p=f}}var ei=Math.random().toString(36).slice(2),Vn="__reactFiber$"+ei,ur="__reactProps$"+ei,ga="__reactContainer$"+ei,Hu="__reactEvents$"+ei,Sw="__reactListeners$"+ei,Am="__reactHandles$"+ei,Cm="__reactResources$"+ei,ma="__reactMarker$"+ei;function Gu(s){delete s[Vn],delete s[ur],delete s[Hu],delete s[Sw],delete s[Am]}function ya(s){var c=s[Vn];if(c)return c;for(var f=s.parentNode;f;){if(c=f[ga]||f[Vn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(s=DP(s);s!==null;){if(f=s[Vn])return f;s=DP(s)}return c}s=f,f=s.parentNode}return null}function co(s){if(s=s[Vn]||s[ga]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function Fi(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function ba(s){var c=s[Cm];return c||(c=s[Cm]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Fn(s){s[ma]=!0}var sf=new Set,lf={};function va(s,c){xa(s,c),xa(s+"Capture",c)}function xa(s,c){for(lf[s]=c,s=0;s<c.length;s++)sf.add(c[s])}var cf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uf={},df={};function Im(s){return Vt.call(df,s)?!0:Vt.call(uf,s)?!1:cf.test(s)?df[s]=!0:(uf[s]=!0,!1)}function Ku(s,c,f){if(Im(c))if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var y=c.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+f)}}function Bi(s,c,f){if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+f)}}function Bn(s,c,f,y){if(y===null)s.removeAttribute(f);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttributeNS(c,f,""+y)}}function dr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function cl(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function pf(s,c,f){var y=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var k=y.get,S=y.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return k.call(this)},set:function(O){f=""+O,S.call(this,O)}}),Object.defineProperty(s,c,{enumerable:y.enumerable}),{getValue:function(){return f},setValue:function(O){f=""+O},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Ft(s){if(!s._valueTracker){var c=cl(s)?"checked":"value";s._valueTracker=pf(s,c,""+s[c])}}function Nc(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var f=c.getValue(),y="";return s&&(y=cl(s)?s.checked?"true":"false":s.value),s=y,s!==f?(c.setValue(s),!0):!1}function wa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Rc=/[\n"\\]/g;function yi(s){return s.replace(Rc,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Wu(s,c,f,y,k,S,O,H){s.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.type=O:s.removeAttribute("type"),c!=null?O==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+dr(c)):s.value!==""+dr(c)&&(s.value=""+dr(c)):O!=="submit"&&O!=="reset"||s.removeAttribute("value"),c!=null?ff(s,O,dr(c)):f!=null?ff(s,O,dr(f)):y!=null&&s.removeAttribute("value"),k==null&&S!=null&&(s.defaultChecked=!!S),k!=null&&(s.checked=k&&typeof k!="function"&&typeof k!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?s.name=""+dr(H):s.removeAttribute("name")}function Nm(s,c,f,y,k,S,O,H){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.type=S),c!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||c!=null)){Ft(s);return}f=f!=null?""+dr(f):"",c=c!=null?""+dr(c):f,H||c===s.value||(s.value=c),s.defaultValue=c}y=y??k,y=typeof y!="function"&&typeof y!="symbol"&&!!y,s.checked=H?s.checked:!!y,s.defaultChecked=!!y,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.name=O),Ft(s)}function ff(s,c,f){c==="number"&&wa(s.ownerDocument)===s||s.defaultValue===""+f||(s.defaultValue=""+f)}function ul(s,c,f,y){if(s=s.options,c){c={};for(var k=0;k<f.length;k++)c["$"+f[k]]=!0;for(f=0;f<s.length;f++)k=c.hasOwnProperty("$"+s[f].value),s[f].selected!==k&&(s[f].selected=k),k&&y&&(s[f].defaultSelected=!0)}else{for(f=""+dr(f),c=null,k=0;k<s.length;k++){if(s[k].value===f){s[k].selected=!0,y&&(s[k].defaultSelected=!0);return}c!==null||s[k].disabled||(c=s[k])}c!==null&&(c.selected=!0)}}function Rm(s,c,f){if(c!=null&&(c=""+dr(c),c!==s.value&&(s.value=c),f==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=f!=null?""+dr(f):""}function dl(s,c,f,y){if(c==null){if(y!=null){if(f!=null)throw Error(r(92));if(W(y)){if(1<y.length)throw Error(r(93));y=y[0]}f=y}f==null&&(f=""),c=f}f=dr(c),s.defaultValue=f,y=s.textContent,y===f&&y!==""&&y!==null&&(s.value=y),Ft(s)}function bi(s,c){if(c){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=c;return}}s.textContent=c}var Pm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hf(s,c,f){var y=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?y?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":y?s.setProperty(c,f):typeof f!="number"||f===0||Pm.has(c)?c==="float"?s.cssFloat=f:s[c]=(""+f).trim():s[c]=f+"px"}function gf(s,c,f){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,f!=null){for(var y in f)!f.hasOwnProperty(y)||c!=null&&c.hasOwnProperty(y)||(y.indexOf("--")===0?s.setProperty(y,""):y==="float"?s.cssFloat="":s[y]="");for(var k in c)y=c[k],c.hasOwnProperty(k)&&f[k]!==y&&hf(s,k,y)}else for(var S in c)c.hasOwnProperty(S)&&hf(s,S,c[S])}function Yu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ju(s){return pl.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function qo(){}var mf=null;function uo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fl=null,ka=null;function Pc(s){var c=co(s);if(c&&(s=c.stateNode)){var f=s[ur]||null;e:switch(s=c.stateNode,c.type){case"input":if(Wu(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+yi(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var y=f[c];if(y!==s&&y.form===s.form){var k=y[ur]||null;if(!k)throw Error(r(90));Wu(y,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(c=0;c<f.length;c++)y=f[c],y.form===s.form&&Nc(y)}break e;case"textarea":Rm(s,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&ul(s,!!f.multiple,c,!1)}}}var Xu=!1;function hl(s,c,f){if(Xu)return s(c,f);Xu=!0;try{var y=s(c);return y}finally{if(Xu=!1,(fl!==null||ka!==null)&&(Sy(),fl&&(c=fl,s=ka,ka=fl=null,Pc(c),s)))for(c=0;c<s.length;c++)Pc(s[c])}}function Ho(s,c){var f=s.stateNode;if(f===null)return null;var y=f[ur]||null;if(y===null)return null;f=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oc=!1;if(po)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{Oc=!1}var Ea=null,yf=null,Dc=null;function bf(){if(Dc)return Dc;var s,c=yf,f=c.length,y,k="value"in Ea?Ea.value:Ea.textContent,S=k.length;for(s=0;s<f&&c[s]===k[s];s++);var O=f-s;for(y=1;y<=O&&c[f-y]===k[S-y];y++);return Dc=k.slice(s,1<y?1-y:void 0)}function Mc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function is(){return!0}function Go(){return!1}function Tr(s){function c(f,y,k,S,O){this._reactName=f,this._targetInst=k,this.type=y,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var H in s)s.hasOwnProperty(H)&&(f=s[H],this[H]=f?f(S):S[H]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?is:Go,this.isPropagationStopped=Go,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),c}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=Tr(os),gl=g({},os,{view:0,detail:0}),vf=Tr(gl),ml,Qu,Ta,Zu=g({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ta&&(Ta&&s.type==="mousemove"?(ml=s.screenX-Ta.screenX,Qu=s.screenY-Ta.screenY):Qu=ml=0,Ta=s),ml)},movementY:function(s){return"movementY"in s?s.movementY:Qu}}),xf=Tr(Zu),zc=g({},Zu,{dataTransfer:0}),Dm=Tr(zc),Mm=g({},gl,{relatedTarget:0}),jc=Tr(Mm),wf=g({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),zm=Tr(wf),ed=g({},os,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),jm=Tr(ed),Lm=g({},os,{data:0}),Sa=Tr(Lm),Um={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bm(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Fm[s])?!!c[s]:!1}function yl(){return Bm}var ti=g({},gl,{key:function(s){if(s.key){var c=Um[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Mc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Vm[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(s){return s.type==="keypress"?Mc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Mc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),$m=Tr(ti),qm=g({},Zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=Tr(qm),w=g({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),R=Tr(w),j=g({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),K=Tr(j),ie=g({},Zu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),he=Tr(ie),Ne=g({},os,{newState:0,oldState:0}),at=Tr(Ne),On=[9,13,27,32],Pt=po&&"CompositionEvent"in window,mn=null;po&&"documentMode"in document&&(mn=document.documentMode);var fo=po&&"TextEvent"in window&&!mn,Aa=po&&(!Pt||mn&&8<mn&&11>=mn),Ko=" ",Wo=!1;function Lc(s,c){switch(s){case"keyup":return On.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function td(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var nd=!1;function _G(s,c){switch(s){case"compositionend":return td(c);case"keypress":return c.which!==32?null:(Wo=!0,Ko);case"textInput":return s=c.data,s===Ko&&Wo?null:s;default:return null}}function TG(s,c){if(nd)return s==="compositionend"||!Pt&&Lc(s,c)?(s=bf(),Dc=yf=Ea=null,nd=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Aa&&c.locale!=="ko"?null:c.data;default:return null}}var SG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jN(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!SG[s.type]:c==="textarea"}function LN(s,c,f,y){fl?ka?ka.push(y):ka=[y]:fl=y,c=Oy(c,"onChange"),0<c.length&&(f=new _a("onChange","change",null,f,y),s.push({event:f,listeners:c}))}var kf=null,Ef=null;function AG(s){xP(s,0)}function Hm(s){var c=Fi(s);if(Nc(c))return s}function UN(s,c){if(s==="change")return c}var VN=!1;if(po){var Aw;if(po){var Cw="oninput"in document;if(!Cw){var FN=document.createElement("div");FN.setAttribute("oninput","return;"),Cw=typeof FN.oninput=="function"}Aw=Cw}else Aw=!1;VN=Aw&&(!document.documentMode||9<document.documentMode)}function BN(){kf&&(kf.detachEvent("onpropertychange",$N),Ef=kf=null)}function $N(s){if(s.propertyName==="value"&&Hm(Ef)){var c=[];LN(c,Ef,s,uo(s)),hl(AG,c)}}function CG(s,c,f){s==="focusin"?(BN(),kf=c,Ef=f,kf.attachEvent("onpropertychange",$N)):s==="focusout"&&BN()}function IG(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hm(Ef)}function NG(s,c){if(s==="click")return Hm(c)}function RG(s,c){if(s==="input"||s==="change")return Hm(c)}function PG(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var $i=typeof Object.is=="function"?Object.is:PG;function _f(s,c){if($i(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var f=Object.keys(s),y=Object.keys(c);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var k=f[y];if(!Vt.call(c,k)||!$i(s[k],c[k]))return!1}return!0}function qN(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function HN(s,c){var f=qN(s);s=0;for(var y;f;){if(f.nodeType===3){if(y=s+f.textContent.length,s<=c&&y>=c)return{node:f,offset:c-s};s=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=qN(f)}}function GN(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?GN(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function KN(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=wa(s.document);c instanceof s.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)s=c.contentWindow;else break;c=wa(s.document)}return c}function Iw(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var OG=po&&"documentMode"in document&&11>=document.documentMode,rd=null,Nw=null,Tf=null,Rw=!1;function WN(s,c,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Rw||rd==null||rd!==wa(y)||(y=rd,"selectionStart"in y&&Iw(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Tf&&_f(Tf,y)||(Tf=y,y=Oy(Nw,"onSelect"),0<y.length&&(c=new _a("onSelect","select",null,c,f),s.push({event:c,listeners:y}),c.target=rd)))}function Uc(s,c){var f={};return f[s.toLowerCase()]=c.toLowerCase(),f["Webkit"+s]="webkit"+c,f["Moz"+s]="moz"+c,f}var id={animationend:Uc("Animation","AnimationEnd"),animationiteration:Uc("Animation","AnimationIteration"),animationstart:Uc("Animation","AnimationStart"),transitionrun:Uc("Transition","TransitionRun"),transitionstart:Uc("Transition","TransitionStart"),transitioncancel:Uc("Transition","TransitionCancel"),transitionend:Uc("Transition","TransitionEnd")},Pw={},YN={};po&&(YN=document.createElement("div").style,"AnimationEvent"in window||(delete id.animationend.animation,delete id.animationiteration.animation,delete id.animationstart.animation),"TransitionEvent"in window||delete id.transitionend.transition);function Vc(s){if(Pw[s])return Pw[s];if(!id[s])return s;var c=id[s],f;for(f in c)if(c.hasOwnProperty(f)&&f in YN)return Pw[s]=c[f];return s}var JN=Vc("animationend"),XN=Vc("animationiteration"),QN=Vc("animationstart"),DG=Vc("transitionrun"),MG=Vc("transitionstart"),zG=Vc("transitioncancel"),ZN=Vc("transitionend"),e2=new Map,Ow="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ow.push("scrollEnd");function Yo(s,c){e2.set(s,c),va(c,[s])}var Gm=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ho=[],od=0,Dw=0;function Km(){for(var s=od,c=Dw=od=0;c<s;){var f=ho[c];ho[c++]=null;var y=ho[c];ho[c++]=null;var k=ho[c];ho[c++]=null;var S=ho[c];if(ho[c++]=null,y!==null&&k!==null){var O=y.pending;O===null?k.next=k:(k.next=O.next,O.next=k),y.pending=k}S!==0&&t2(f,k,S)}}function Wm(s,c,f,y){ho[od++]=s,ho[od++]=c,ho[od++]=f,ho[od++]=y,Dw|=y,s.lanes|=y,s=s.alternate,s!==null&&(s.lanes|=y)}function Mw(s,c,f,y){return Wm(s,c,f,y),Ym(s)}function Fc(s,c){return Wm(s,null,null,c),Ym(s)}function t2(s,c,f){s.lanes|=f;var y=s.alternate;y!==null&&(y.lanes|=f);for(var k=!1,S=s.return;S!==null;)S.childLanes|=f,y=S.alternate,y!==null&&(y.childLanes|=f),S.tag===22&&(s=S.stateNode,s===null||s._visibility&1||(k=!0)),s=S,S=S.return;return s.tag===3?(S=s.stateNode,k&&c!==null&&(k=31-dt(f),s=S.hiddenUpdates,y=s[k],y===null?s[k]=[c]:y.push(c),c.lane=f|536870912),S):null}function Ym(s){if(50<Kf)throw Kf=0,qk=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var ad={};function jG(s,c,f,y){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(s,c,f,y){return new jG(s,c,f,y)}function zw(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ss(s,c){var f=s.alternate;return f===null?(f=qi(s.tag,c,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=c,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&65011712,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,c=s.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f.refCleanup=s.refCleanup,f}function n2(s,c){s.flags&=65011714;var f=s.alternate;return f===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=f.childLanes,s.lanes=f.lanes,s.child=f.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=f.memoizedProps,s.memoizedState=f.memoizedState,s.updateQueue=f.updateQueue,s.type=f.type,c=f.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function Jm(s,c,f,y,k,S){var O=0;if(y=s,typeof s=="function")zw(s)&&(O=1);else if(typeof s=="string")O=BK(s,f,be.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case U:return s=qi(31,f,c,k),s.elementType=U,s.lanes=S,s;case A:return Bc(f.children,k,S,c);case _:O=8,k|=24;break;case C:return s=qi(12,f,c,k|2),s.elementType=C,s.lanes=S,s;case L:return s=qi(13,f,c,k),s.elementType=L,s.lanes=S,s;case M:return s=qi(19,f,c,k),s.elementType=M,s.lanes=S,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:O=10;break e;case N:O=9;break e;case D:O=11;break e;case P:O=14;break e;case z:O=16,y=null;break e}O=29,f=Error(r(130,s===null?"null":typeof s,"")),y=null}return c=qi(O,f,c,k),c.elementType=s,c.type=y,c.lanes=S,c}function Bc(s,c,f,y){return s=qi(7,s,y,c),s.lanes=f,s}function jw(s,c,f){return s=qi(6,s,null,c),s.lanes=f,s}function r2(s){var c=qi(18,null,null,0);return c.stateNode=s,c}function Lw(s,c,f){return c=qi(4,s.children!==null?s.children:[],s.key,c),c.lanes=f,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var i2=new WeakMap;function go(s,c){if(typeof s=="object"&&s!==null){var f=i2.get(s);return f!==void 0?f:(c={value:s,source:c,stack:Xr(c)},i2.set(s,c),c)}return{value:s,source:c,stack:Xr(c)}}var sd=[],ld=0,Xm=null,Sf=0,mo=[],yo=0,bl=null,Ca=1,Ia="";function ls(s,c){sd[ld++]=Sf,sd[ld++]=Xm,Xm=s,Sf=c}function o2(s,c,f){mo[yo++]=Ca,mo[yo++]=Ia,mo[yo++]=bl,bl=s;var y=Ca;s=Ia;var k=32-dt(y)-1;y&=~(1<<k),f+=1;var S=32-dt(c)+k;if(30<S){var O=k-k%5;S=(y&(1<<O)-1).toString(32),y>>=O,k-=O,Ca=1<<32-dt(c)+k|f<<k|y,Ia=S+s}else Ca=1<<S|f<<k|y,Ia=s}function Uw(s){s.return!==null&&(ls(s,1),o2(s,1,0))}function Vw(s){for(;s===Xm;)Xm=sd[--ld],sd[ld]=null,Sf=sd[--ld],sd[ld]=null;for(;s===bl;)bl=mo[--yo],mo[yo]=null,Ia=mo[--yo],mo[yo]=null,Ca=mo[--yo],mo[yo]=null}function a2(s,c){mo[yo++]=Ca,mo[yo++]=Ia,mo[yo++]=bl,Ca=c.id,Ia=c.overflow,bl=s}var Sr=null,sn=null,wt=!1,vl=null,bo=!1,Fw=Error(r(519));function xl(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Af(go(c,s)),Fw}function s2(s){var c=s.stateNode,f=s.type,y=s.memoizedProps;switch(c[Vn]=s,c[ur]=y,f){case"dialog":gt("cancel",c),gt("close",c);break;case"iframe":case"object":case"embed":gt("load",c);break;case"video":case"audio":for(f=0;f<Yf.length;f++)gt(Yf[f],c);break;case"source":gt("error",c);break;case"img":case"image":case"link":gt("error",c),gt("load",c);break;case"details":gt("toggle",c);break;case"input":gt("invalid",c),Nm(c,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":gt("invalid",c);break;case"textarea":gt("invalid",c),dl(c,y.value,y.defaultValue,y.children)}f=y.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||y.suppressHydrationWarning===!0||_P(c.textContent,f)?(y.popover!=null&&(gt("beforetoggle",c),gt("toggle",c)),y.onScroll!=null&&gt("scroll",c),y.onScrollEnd!=null&&gt("scrollend",c),y.onClick!=null&&(c.onclick=qo),c=!0):c=!1,c||xl(s,!0)}function l2(s){for(Sr=s.return;Sr;)switch(Sr.tag){case 5:case 31:case 13:bo=!1;return;case 27:case 3:bo=!0;return;default:Sr=Sr.return}}function cd(s){if(s!==Sr)return!1;if(!wt)return l2(s),wt=!0,!1;var c=s.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=s.type,f=!(f!=="form"&&f!=="button")||o1(s.type,s.memoizedProps)),f=!f),f&&sn&&xl(s),l2(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));sn=OP(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));sn=OP(s)}else c===27?(c=sn,Dl(s.type)?(s=u1,u1=null,sn=s):sn=c):sn=Sr?xo(s.stateNode.nextSibling):null;return!0}function $c(){sn=Sr=null,wt=!1}function Bw(){var s=vl;return s!==null&&(ki===null?ki=s:ki.push.apply(ki,s),vl=null),s}function Af(s){vl===null?vl=[s]:vl.push(s)}var $w=G(null),qc=null,cs=null;function wl(s,c,f){$($w,c._currentValue),c._currentValue=f}function us(s){s._currentValue=$w.current,J($w)}function qw(s,c,f){for(;s!==null;){var y=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),s===f)break;s=s.return}}function Hw(s,c,f,y){var k=s.child;for(k!==null&&(k.return=s);k!==null;){var S=k.dependencies;if(S!==null){var O=k.child;S=S.firstContext;e:for(;S!==null;){var H=S;S=k;for(var Q=0;Q<c.length;Q++)if(H.context===c[Q]){S.lanes|=f,H=S.alternate,H!==null&&(H.lanes|=f),qw(S.return,f,s),y||(O=null);break e}S=H.next}}else if(k.tag===18){if(O=k.return,O===null)throw Error(r(341));O.lanes|=f,S=O.alternate,S!==null&&(S.lanes|=f),qw(O,f,s),O=null}else O=k.child;if(O!==null)O.return=k;else for(O=k;O!==null;){if(O===s){O=null;break}if(k=O.sibling,k!==null){k.return=O.return,O=k;break}O=O.return}k=O}}function ud(s,c,f,y){s=null;for(var k=c,S=!1;k!==null;){if(!S){if((k.flags&524288)!==0)S=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var O=k.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var H=k.type;$i(k.pendingProps.value,O.value)||(s!==null?s.push(H):s=[H])}}else if(k===je.current){if(O=k.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(s!==null?s.push(eh):s=[eh])}k=k.return}s!==null&&Hw(c,s,f,y),c.flags|=262144}function Qm(s){for(s=s.firstContext;s!==null;){if(!$i(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Hc(s){qc=s,cs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ar(s){return c2(qc,s)}function Zm(s,c){return qc===null&&Hc(s),c2(s,c)}function c2(s,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},cs===null){if(s===null)throw Error(r(308));cs=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else cs=cs.next=c;return f}var LG=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(f,y){s.push(y)}};this.abort=function(){c.aborted=!0,s.forEach(function(f){return f()})}},UG=t.unstable_scheduleCallback,VG=t.unstable_NormalPriority,$n={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gw(){return{controller:new LG,data:new Map,refCount:0}}function Cf(s){s.refCount--,s.refCount===0&&UG(VG,function(){s.controller.abort()})}var If=null,Kw=0,dd=0,pd=null;function FG(s,c){if(If===null){var f=If=[];Kw=0,dd=Jk(),pd={status:"pending",value:void 0,then:function(y){f.push(y)}}}return Kw++,c.then(u2,u2),c}function u2(){if(--Kw===0&&If!==null){pd!==null&&(pd.status="fulfilled");var s=If;If=null,dd=0,pd=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function BG(s,c){var f=[],y={status:"pending",value:null,reason:null,then:function(k){f.push(k)}};return s.then(function(){y.status="fulfilled",y.value=c;for(var k=0;k<f.length;k++)(0,f[k])(c)},function(k){for(y.status="rejected",y.reason=k,k=0;k<f.length;k++)(0,f[k])(void 0)}),y}var d2=X.S;X.S=function(s,c){WR=Pe(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&FG(s,c),d2!==null&&d2(s,c)};var Gc=G(null);function Ww(){var s=Gc.current;return s!==null?s:en.pooledCache}function ey(s,c){c===null?$(Gc,Gc.current):$(Gc,c.pool)}function p2(){var s=Ww();return s===null?null:{parent:$n._currentValue,pool:s}}var fd=Error(r(460)),Yw=Error(r(474)),ty=Error(r(542)),ny={then:function(){}};function f2(s){return s=s.status,s==="fulfilled"||s==="rejected"}function h2(s,c,f){switch(f=s[f],f===void 0?s.push(c):f!==c&&(c.then(qo,qo),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,m2(s),s;default:if(typeof c.status=="string")c.then(qo,qo);else{if(s=en,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(y){if(c.status==="pending"){var k=c;k.status="fulfilled",k.value=y}},function(y){if(c.status==="pending"){var k=c;k.status="rejected",k.reason=y}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,m2(s),s}throw Wc=c,fd}}function Kc(s){try{var c=s._init;return c(s._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Wc=f,fd):f}}var Wc=null;function g2(){if(Wc===null)throw Error(r(459));var s=Wc;return Wc=null,s}function m2(s){if(s===fd||s===ty)throw Error(r(483))}var hd=null,Nf=0;function ry(s){var c=Nf;return Nf+=1,hd===null&&(hd=[]),h2(hd,s,c)}function Rf(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function iy(s,c){throw c.$$typeof===m?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function y2(s){function c(re,te){if(s){var se=re.deletions;se===null?(re.deletions=[te],re.flags|=16):se.push(te)}}function f(re,te){if(!s)return null;for(;te!==null;)c(re,te),te=te.sibling;return null}function y(re){for(var te=new Map;re!==null;)re.key!==null?te.set(re.key,re):te.set(re.index,re),re=re.sibling;return te}function k(re,te){return re=ss(re,te),re.index=0,re.sibling=null,re}function S(re,te,se){return re.index=se,s?(se=re.alternate,se!==null?(se=se.index,se<te?(re.flags|=67108866,te):se):(re.flags|=67108866,te)):(re.flags|=1048576,te)}function O(re){return s&&re.alternate===null&&(re.flags|=67108866),re}function H(re,te,se,xe){return te===null||te.tag!==6?(te=jw(se,re.mode,xe),te.return=re,te):(te=k(te,se),te.return=re,te)}function Q(re,te,se,xe){var Ke=se.type;return Ke===A?ve(re,te,se.props.children,xe,se.key):te!==null&&(te.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===z&&Kc(Ke)===te.type)?(te=k(te,se.props),Rf(te,se),te.return=re,te):(te=Jm(se.type,se.key,se.props,null,re.mode,xe),Rf(te,se),te.return=re,te)}function ce(re,te,se,xe){return te===null||te.tag!==4||te.stateNode.containerInfo!==se.containerInfo||te.stateNode.implementation!==se.implementation?(te=Lw(se,re.mode,xe),te.return=re,te):(te=k(te,se.children||[]),te.return=re,te)}function ve(re,te,se,xe,Ke){return te===null||te.tag!==7?(te=Bc(se,re.mode,xe,Ke),te.return=re,te):(te=k(te,se),te.return=re,te)}function ke(re,te,se){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=jw(""+te,re.mode,se),te.return=re,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case b:return se=Jm(te.type,te.key,te.props,null,re.mode,se),Rf(se,te),se.return=re,se;case E:return te=Lw(te,re.mode,se),te.return=re,te;case z:return te=Kc(te),ke(re,te,se)}if(W(te)||B(te))return te=Bc(te,re.mode,se,null),te.return=re,te;if(typeof te.then=="function")return ke(re,ry(te),se);if(te.$$typeof===I)return ke(re,Zm(re,te),se);iy(re,te)}return null}function pe(re,te,se,xe){var Ke=te!==null?te.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Ke!==null?null:H(re,te,""+se,xe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case b:return se.key===Ke?Q(re,te,se,xe):null;case E:return se.key===Ke?ce(re,te,se,xe):null;case z:return se=Kc(se),pe(re,te,se,xe)}if(W(se)||B(se))return Ke!==null?null:ve(re,te,se,xe,null);if(typeof se.then=="function")return pe(re,te,ry(se),xe);if(se.$$typeof===I)return pe(re,te,Zm(re,se),xe);iy(re,se)}return null}function ye(re,te,se,xe,Ke){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return re=re.get(se)||null,H(te,re,""+xe,Ke);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:return re=re.get(xe.key===null?se:xe.key)||null,Q(te,re,xe,Ke);case E:return re=re.get(xe.key===null?se:xe.key)||null,ce(te,re,xe,Ke);case z:return xe=Kc(xe),ye(re,te,se,xe,Ke)}if(W(xe)||B(xe))return re=re.get(se)||null,ve(te,re,xe,Ke,null);if(typeof xe.then=="function")return ye(re,te,se,ry(xe),Ke);if(xe.$$typeof===I)return ye(re,te,se,Zm(te,xe),Ke);iy(te,xe)}return null}function Fe(re,te,se,xe){for(var Ke=null,St=null,$e=te,ct=te=0,yt=null;$e!==null&&ct<se.length;ct++){$e.index>ct?(yt=$e,$e=null):yt=$e.sibling;var At=pe(re,$e,se[ct],xe);if(At===null){$e===null&&($e=yt);break}s&&$e&&At.alternate===null&&c(re,$e),te=S(At,te,ct),St===null?Ke=At:St.sibling=At,St=At,$e=yt}if(ct===se.length)return f(re,$e),wt&&ls(re,ct),Ke;if($e===null){for(;ct<se.length;ct++)$e=ke(re,se[ct],xe),$e!==null&&(te=S($e,te,ct),St===null?Ke=$e:St.sibling=$e,St=$e);return wt&&ls(re,ct),Ke}for($e=y($e);ct<se.length;ct++)yt=ye($e,re,ct,se[ct],xe),yt!==null&&(s&&yt.alternate!==null&&$e.delete(yt.key===null?ct:yt.key),te=S(yt,te,ct),St===null?Ke=yt:St.sibling=yt,St=yt);return s&&$e.forEach(function(Ul){return c(re,Ul)}),wt&&ls(re,ct),Ke}function Xe(re,te,se,xe){if(se==null)throw Error(r(151));for(var Ke=null,St=null,$e=te,ct=te=0,yt=null,At=se.next();$e!==null&&!At.done;ct++,At=se.next()){$e.index>ct?(yt=$e,$e=null):yt=$e.sibling;var Ul=pe(re,$e,At.value,xe);if(Ul===null){$e===null&&($e=yt);break}s&&$e&&Ul.alternate===null&&c(re,$e),te=S(Ul,te,ct),St===null?Ke=Ul:St.sibling=Ul,St=Ul,$e=yt}if(At.done)return f(re,$e),wt&&ls(re,ct),Ke;if($e===null){for(;!At.done;ct++,At=se.next())At=ke(re,At.value,xe),At!==null&&(te=S(At,te,ct),St===null?Ke=At:St.sibling=At,St=At);return wt&&ls(re,ct),Ke}for($e=y($e);!At.done;ct++,At=se.next())At=ye($e,re,ct,At.value,xe),At!==null&&(s&&At.alternate!==null&&$e.delete(At.key===null?ct:At.key),te=S(At,te,ct),St===null?Ke=At:St.sibling=At,St=At);return s&&$e.forEach(function(ZK){return c(re,ZK)}),wt&&ls(re,ct),Ke}function Qt(re,te,se,xe){if(typeof se=="object"&&se!==null&&se.type===A&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case b:e:{for(var Ke=se.key;te!==null;){if(te.key===Ke){if(Ke=se.type,Ke===A){if(te.tag===7){f(re,te.sibling),xe=k(te,se.props.children),xe.return=re,re=xe;break e}}else if(te.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===z&&Kc(Ke)===te.type){f(re,te.sibling),xe=k(te,se.props),Rf(xe,se),xe.return=re,re=xe;break e}f(re,te);break}else c(re,te);te=te.sibling}se.type===A?(xe=Bc(se.props.children,re.mode,xe,se.key),xe.return=re,re=xe):(xe=Jm(se.type,se.key,se.props,null,re.mode,xe),Rf(xe,se),xe.return=re,re=xe)}return O(re);case E:e:{for(Ke=se.key;te!==null;){if(te.key===Ke)if(te.tag===4&&te.stateNode.containerInfo===se.containerInfo&&te.stateNode.implementation===se.implementation){f(re,te.sibling),xe=k(te,se.children||[]),xe.return=re,re=xe;break e}else{f(re,te);break}else c(re,te);te=te.sibling}xe=Lw(se,re.mode,xe),xe.return=re,re=xe}return O(re);case z:return se=Kc(se),Qt(re,te,se,xe)}if(W(se))return Fe(re,te,se,xe);if(B(se)){if(Ke=B(se),typeof Ke!="function")throw Error(r(150));return se=Ke.call(se),Xe(re,te,se,xe)}if(typeof se.then=="function")return Qt(re,te,ry(se),xe);if(se.$$typeof===I)return Qt(re,te,Zm(re,se),xe);iy(re,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,te!==null&&te.tag===6?(f(re,te.sibling),xe=k(te,se),xe.return=re,re=xe):(f(re,te),xe=jw(se,re.mode,xe),xe.return=re,re=xe),O(re)):f(re,te)}return function(re,te,se,xe){try{Nf=0;var Ke=Qt(re,te,se,xe);return hd=null,Ke}catch($e){if($e===fd||$e===ty)throw $e;var St=qi(29,$e,null,re.mode);return St.lanes=xe,St.return=re,St}finally{}}}var Yc=y2(!0),b2=y2(!1),kl=!1;function Jw(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xw(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function El(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function _l(s,c,f){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(Ot&2)!==0){var k=y.pending;return k===null?c.next=c:(c.next=k.next,k.next=c),y.pending=c,c=Ym(s),t2(s,null,f),c}return Wm(s,y,c,f),Ym(s)}function Pf(s,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var y=c.lanes;y&=s.pendingLanes,f|=y,c.lanes=f,Ur(s,f)}}function Qw(s,c){var f=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var k=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var O={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?k=S=O:S=S.next=O,f=f.next}while(f!==null);S===null?k=S=c:S=S.next=c}else k=S=c;f={baseState:y.baseState,firstBaseUpdate:k,lastBaseUpdate:S,shared:y.shared,callbacks:y.callbacks},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=c}var Zw=!1;function Of(){if(Zw){var s=pd;if(s!==null)throw s}}function Df(s,c,f,y){Zw=!1;var k=s.updateQueue;kl=!1;var S=k.firstBaseUpdate,O=k.lastBaseUpdate,H=k.shared.pending;if(H!==null){k.shared.pending=null;var Q=H,ce=Q.next;Q.next=null,O===null?S=ce:O.next=ce,O=Q;var ve=s.alternate;ve!==null&&(ve=ve.updateQueue,H=ve.lastBaseUpdate,H!==O&&(H===null?ve.firstBaseUpdate=ce:H.next=ce,ve.lastBaseUpdate=Q))}if(S!==null){var ke=k.baseState;O=0,ve=ce=Q=null,H=S;do{var pe=H.lane&-536870913,ye=pe!==H.lane;if(ye?(mt&pe)===pe:(y&pe)===pe){pe!==0&&pe===dd&&(Zw=!0),ve!==null&&(ve=ve.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Fe=s,Xe=H;pe=c;var Qt=f;switch(Xe.tag){case 1:if(Fe=Xe.payload,typeof Fe=="function"){ke=Fe.call(Qt,ke,pe);break e}ke=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Xe.payload,pe=typeof Fe=="function"?Fe.call(Qt,ke,pe):Fe,pe==null)break e;ke=g({},ke,pe);break e;case 2:kl=!0}}pe=H.callback,pe!==null&&(s.flags|=64,ye&&(s.flags|=8192),ye=k.callbacks,ye===null?k.callbacks=[pe]:ye.push(pe))}else ye={lane:pe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},ve===null?(ce=ve=ye,Q=ke):ve=ve.next=ye,O|=pe;if(H=H.next,H===null){if(H=k.shared.pending,H===null)break;ye=H,H=ye.next,ye.next=null,k.lastBaseUpdate=ye,k.shared.pending=null}}while(!0);ve===null&&(Q=ke),k.baseState=Q,k.firstBaseUpdate=ce,k.lastBaseUpdate=ve,S===null&&(k.shared.lanes=0),Il|=O,s.lanes=O,s.memoizedState=ke}}function v2(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function x2(s,c){var f=s.callbacks;if(f!==null)for(s.callbacks=null,s=0;s<f.length;s++)v2(f[s],c)}var gd=G(null),oy=G(0);function w2(s,c){s=vs,$(oy,s),$(gd,c),vs=s|c.baseLanes}function ek(){$(oy,vs),$(gd,gd.current)}function tk(){vs=oy.current,J(gd),J(oy)}var Hi=G(null),vo=null;function Tl(s){var c=s.alternate;$(Dn,Dn.current&1),$(Hi,s),vo===null&&(c===null||gd.current!==null||c.memoizedState!==null)&&(vo=s)}function nk(s){$(Dn,Dn.current),$(Hi,s),vo===null&&(vo=s)}function k2(s){s.tag===22?($(Dn,Dn.current),$(Hi,s),vo===null&&(vo=s)):Sl()}function Sl(){$(Dn,Dn.current),$(Hi,Hi.current)}function Gi(s){J(Hi),vo===s&&(vo=null),J(Dn)}var Dn=G(0);function ay(s){for(var c=s;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||l1(f)||c1(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ds=0,st=null,Jt=null,qn=null,sy=!1,md=!1,Jc=!1,ly=0,Mf=0,yd=null,$G=0;function Tn(){throw Error(r(321))}function rk(s,c){if(c===null)return!1;for(var f=0;f<c.length&&f<s.length;f++)if(!$i(s[f],c[f]))return!1;return!0}function ik(s,c,f,y,k,S){return ds=S,st=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,X.H=s===null||s.memoizedState===null?oR:vk,Jc=!1,S=f(y,k),Jc=!1,md&&(S=_2(c,f,y,k)),E2(s),S}function E2(s){X.H=Lf;var c=Jt!==null&&Jt.next!==null;if(ds=0,qn=Jt=st=null,sy=!1,Mf=0,yd=null,c)throw Error(r(300));s===null||Hn||(s=s.dependencies,s!==null&&Qm(s)&&(Hn=!0))}function _2(s,c,f,y){st=s;var k=0;do{if(md&&(yd=null),Mf=0,md=!1,25<=k)throw Error(r(301));if(k+=1,qn=Jt=null,s.updateQueue!=null){var S=s.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}X.H=aR,S=c(f,y)}while(md);return S}function qG(){var s=X.H,c=s.useState()[0];return c=typeof c.then=="function"?zf(c):c,s=s.useState()[0],(Jt!==null?Jt.memoizedState:null)!==s&&(st.flags|=1024),c}function ok(){var s=ly!==0;return ly=0,s}function ak(s,c,f){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~f}function sk(s){if(sy){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}sy=!1}ds=0,qn=Jt=st=null,md=!1,Mf=ly=0,yd=null}function ni(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?st.memoizedState=qn=s:qn=qn.next=s,qn}function Mn(){if(Jt===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=Jt.next;var c=qn===null?st.memoizedState:qn.next;if(c!==null)qn=c,Jt=s;else{if(s===null)throw st.alternate===null?Error(r(467)):Error(r(310));Jt=s,s={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},qn===null?st.memoizedState=qn=s:qn=qn.next=s}return qn}function cy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zf(s){var c=Mf;return Mf+=1,yd===null&&(yd=[]),s=h2(yd,s,c),c=st,(qn===null?c.memoizedState:qn.next)===null&&(c=c.alternate,X.H=c===null||c.memoizedState===null?oR:vk),s}function uy(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return zf(s);if(s.$$typeof===I)return Ar(s)}throw Error(r(438,String(s)))}function lk(s){var c=null,f=st.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var y=st.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(c={data:y.data.map(function(k){return k.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=cy(),st.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(s),y=0;y<s;y++)f[y]=q;return c.index++,f}function ps(s,c){return typeof c=="function"?c(s):c}function dy(s){var c=Mn();return ck(c,Jt,s)}function ck(s,c,f){var y=s.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=f;var k=s.baseQueue,S=y.pending;if(S!==null){if(k!==null){var O=k.next;k.next=S.next,S.next=O}c.baseQueue=k=S,y.pending=null}if(S=s.baseState,k===null)s.memoizedState=S;else{c=k.next;var H=O=null,Q=null,ce=c,ve=!1;do{var ke=ce.lane&-536870913;if(ke!==ce.lane?(mt&ke)===ke:(ds&ke)===ke){var pe=ce.revertLane;if(pe===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),ke===dd&&(ve=!0);else if((ds&pe)===pe){ce=ce.next,pe===dd&&(ve=!0);continue}else ke={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Q===null?(H=Q=ke,O=S):Q=Q.next=ke,st.lanes|=pe,Il|=pe;ke=ce.action,Jc&&f(S,ke),S=ce.hasEagerState?ce.eagerState:f(S,ke)}else pe={lane:ke,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Q===null?(H=Q=pe,O=S):Q=Q.next=pe,st.lanes|=ke,Il|=ke;ce=ce.next}while(ce!==null&&ce!==c);if(Q===null?O=S:Q.next=H,!$i(S,s.memoizedState)&&(Hn=!0,ve&&(f=pd,f!==null)))throw f;s.memoizedState=S,s.baseState=O,s.baseQueue=Q,y.lastRenderedState=S}return k===null&&(y.lanes=0),[s.memoizedState,y.dispatch]}function uk(s){var c=Mn(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var y=f.dispatch,k=f.pending,S=c.memoizedState;if(k!==null){f.pending=null;var O=k=k.next;do S=s(S,O.action),O=O.next;while(O!==k);$i(S,c.memoizedState)||(Hn=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),f.lastRenderedState=S}return[S,y]}function T2(s,c,f){var y=st,k=Mn(),S=wt;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=c();var O=!$i((Jt||k).memoizedState,f);if(O&&(k.memoizedState=f,Hn=!0),k=k.queue,fk(C2.bind(null,y,k,s),[s]),k.getSnapshot!==c||O||qn!==null&&qn.memoizedState.tag&1){if(y.flags|=2048,bd(9,{destroy:void 0},A2.bind(null,y,k,f,c),null),en===null)throw Error(r(349));S||(ds&127)!==0||S2(y,c,f)}return f}function S2(s,c,f){s.flags|=16384,s={getSnapshot:c,value:f},c=st.updateQueue,c===null?(c=cy(),st.updateQueue=c,c.stores=[s]):(f=c.stores,f===null?c.stores=[s]:f.push(s))}function A2(s,c,f,y){c.value=f,c.getSnapshot=y,I2(c)&&N2(s)}function C2(s,c,f){return f(function(){I2(c)&&N2(s)})}function I2(s){var c=s.getSnapshot;s=s.value;try{var f=c();return!$i(s,f)}catch{return!0}}function N2(s){var c=Fc(s,2);c!==null&&Ei(c,s,2)}function dk(s){var c=ni();if(typeof s=="function"){var f=s;if(s=f(),Jc){fn(!0);try{f()}finally{fn(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:s},c}function R2(s,c,f,y){return s.baseState=f,ck(s,Jt,typeof y=="function"?y:ps)}function HG(s,c,f,y,k){if(hy(s))throw Error(r(485));if(s=c.action,s!==null){var S={payload:k,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){S.listeners.push(O)}};X.T!==null?f(!0):S.isTransition=!1,y(S),f=c.pending,f===null?(S.next=c.pending=S,P2(c,S)):(S.next=f.next,c.pending=f.next=S)}}function P2(s,c){var f=c.action,y=c.payload,k=s.state;if(c.isTransition){var S=X.T,O={};X.T=O;try{var H=f(k,y),Q=X.S;Q!==null&&Q(O,H),O2(s,c,H)}catch(ce){pk(s,c,ce)}finally{S!==null&&O.types!==null&&(S.types=O.types),X.T=S}}else try{S=f(k,y),O2(s,c,S)}catch(ce){pk(s,c,ce)}}function O2(s,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(y){D2(s,c,y)},function(y){return pk(s,c,y)}):D2(s,c,f)}function D2(s,c,f){c.status="fulfilled",c.value=f,M2(c),s.state=f,c=s.pending,c!==null&&(f=c.next,f===c?s.pending=null:(f=f.next,c.next=f,P2(s,f)))}function pk(s,c,f){var y=s.pending;if(s.pending=null,y!==null){y=y.next;do c.status="rejected",c.reason=f,M2(c),c=c.next;while(c!==y)}s.action=null}function M2(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function z2(s,c){return c}function j2(s,c){if(wt){var f=en.formState;if(f!==null){e:{var y=st;if(wt){if(sn){t:{for(var k=sn,S=bo;k.nodeType!==8;){if(!S){k=null;break t}if(k=xo(k.nextSibling),k===null){k=null;break t}}S=k.data,k=S==="F!"||S==="F"?k:null}if(k){sn=xo(k.nextSibling),y=k.data==="F!";break e}}xl(y)}y=!1}y&&(c=f[0])}}return f=ni(),f.memoizedState=f.baseState=c,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z2,lastRenderedState:c},f.queue=y,f=nR.bind(null,st,y),y.dispatch=f,y=dk(!1),S=bk.bind(null,st,!1,y.queue),y=ni(),k={state:c,dispatch:null,action:s,pending:null},y.queue=k,f=HG.bind(null,st,k,S,f),k.dispatch=f,y.memoizedState=s,[c,f,!1]}function L2(s){var c=Mn();return U2(c,Jt,s)}function U2(s,c,f){if(c=ck(s,c,z2)[0],s=dy(ps)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var y=zf(c)}catch(O){throw O===fd?ty:O}else y=c;c=Mn();var k=c.queue,S=k.dispatch;return f!==c.memoizedState&&(st.flags|=2048,bd(9,{destroy:void 0},GG.bind(null,k,f),null)),[y,S,s]}function GG(s,c){s.action=c}function V2(s){var c=Mn(),f=Jt;if(f!==null)return U2(c,f,s);Mn(),c=c.memoizedState,f=Mn();var y=f.queue.dispatch;return f.memoizedState=s,[c,y,!1]}function bd(s,c,f,y){return s={tag:s,create:f,deps:y,inst:c,next:null},c=st.updateQueue,c===null&&(c=cy(),st.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=s.next=s:(y=f.next,f.next=s,s.next=y,c.lastEffect=s),s}function F2(){return Mn().memoizedState}function py(s,c,f,y){var k=ni();st.flags|=s,k.memoizedState=bd(1|c,{destroy:void 0},f,y===void 0?null:y)}function fy(s,c,f,y){var k=Mn();y=y===void 0?null:y;var S=k.memoizedState.inst;Jt!==null&&y!==null&&rk(y,Jt.memoizedState.deps)?k.memoizedState=bd(c,S,f,y):(st.flags|=s,k.memoizedState=bd(1|c,S,f,y))}function B2(s,c){py(8390656,8,s,c)}function fk(s,c){fy(2048,8,s,c)}function KG(s){st.flags|=4;var c=st.updateQueue;if(c===null)c=cy(),st.updateQueue=c,c.events=[s];else{var f=c.events;f===null?c.events=[s]:f.push(s)}}function $2(s){var c=Mn().memoizedState;return KG({ref:c,nextImpl:s}),function(){if((Ot&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function q2(s,c){return fy(4,2,s,c)}function H2(s,c){return fy(4,4,s,c)}function G2(s,c){if(typeof c=="function"){s=s();var f=c(s);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function K2(s,c,f){f=f!=null?f.concat([s]):null,fy(4,4,G2.bind(null,c,s),f)}function hk(){}function W2(s,c){var f=Mn();c=c===void 0?null:c;var y=f.memoizedState;return c!==null&&rk(c,y[1])?y[0]:(f.memoizedState=[s,c],s)}function Y2(s,c){var f=Mn();c=c===void 0?null:c;var y=f.memoizedState;if(c!==null&&rk(c,y[1]))return y[0];if(y=s(),Jc){fn(!0);try{s()}finally{fn(!1)}}return f.memoizedState=[y,c],y}function gk(s,c,f){return f===void 0||(ds&1073741824)!==0&&(mt&261930)===0?s.memoizedState=c:(s.memoizedState=f,s=JR(),st.lanes|=s,Il|=s,f)}function J2(s,c,f,y){return $i(f,c)?f:gd.current!==null?(s=gk(s,f,y),$i(s,c)||(Hn=!0),s):(ds&42)===0||(ds&1073741824)!==0&&(mt&261930)===0?(Hn=!0,s.memoizedState=f):(s=JR(),st.lanes|=s,Il|=s,c)}function X2(s,c,f,y,k){var S=Z.p;Z.p=S!==0&&8>S?S:8;var O=X.T,H={};X.T=H,bk(s,!1,c,f);try{var Q=k(),ce=X.S;if(ce!==null&&ce(H,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ve=BG(Q,y);jf(s,c,ve,Yi(s))}else jf(s,c,y,Yi(s))}catch(ke){jf(s,c,{then:function(){},status:"rejected",reason:ke},Yi())}finally{Z.p=S,O!==null&&H.types!==null&&(O.types=H.types),X.T=O}}function WG(){}function mk(s,c,f,y){if(s.tag!==5)throw Error(r(476));var k=Q2(s).queue;X2(s,k,c,oe,f===null?WG:function(){return Z2(s),f(y)})}function Q2(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:oe},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:f},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function Z2(s){var c=Q2(s);c.next===null&&(c=s.alternate.memoizedState),jf(s,c.next.queue,{},Yi())}function yk(){return Ar(eh)}function eR(){return Mn().memoizedState}function tR(){return Mn().memoizedState}function YG(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var f=Yi();s=El(f);var y=_l(c,s,f);y!==null&&(Ei(y,c,f),Pf(y,c,f)),c={cache:Gw()},s.payload=c;return}c=c.return}}function JG(s,c,f){var y=Yi();f={lane:y,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},hy(s)?rR(c,f):(f=Mw(s,c,f,y),f!==null&&(Ei(f,s,y),iR(f,c,y)))}function nR(s,c,f){var y=Yi();jf(s,c,f,y)}function jf(s,c,f,y){var k={lane:y,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(hy(s))rR(c,k);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var O=c.lastRenderedState,H=S(O,f);if(k.hasEagerState=!0,k.eagerState=H,$i(H,O))return Wm(s,c,k,0),en===null&&Km(),!1}catch{}finally{}if(f=Mw(s,c,k,y),f!==null)return Ei(f,s,y),iR(f,c,y),!0}return!1}function bk(s,c,f,y){if(y={lane:2,revertLane:Jk(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},hy(s)){if(c)throw Error(r(479))}else c=Mw(s,f,y,2),c!==null&&Ei(c,s,2)}function hy(s){var c=s.alternate;return s===st||c!==null&&c===st}function rR(s,c){md=sy=!0;var f=s.pending;f===null?c.next=c:(c.next=f.next,f.next=c),s.pending=c}function iR(s,c,f){if((f&4194048)!==0){var y=c.lanes;y&=s.pendingLanes,f|=y,c.lanes=f,Ur(s,f)}}var Lf={readContext:Ar,use:uy,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useLayoutEffect:Tn,useInsertionEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useSyncExternalStore:Tn,useId:Tn,useHostTransitionStatus:Tn,useFormState:Tn,useActionState:Tn,useOptimistic:Tn,useMemoCache:Tn,useCacheRefresh:Tn};Lf.useEffectEvent=Tn;var oR={readContext:Ar,use:uy,useCallback:function(s,c){return ni().memoizedState=[s,c===void 0?null:c],s},useContext:Ar,useEffect:B2,useImperativeHandle:function(s,c,f){f=f!=null?f.concat([s]):null,py(4194308,4,G2.bind(null,c,s),f)},useLayoutEffect:function(s,c){return py(4194308,4,s,c)},useInsertionEffect:function(s,c){py(4,2,s,c)},useMemo:function(s,c){var f=ni();c=c===void 0?null:c;var y=s();if(Jc){fn(!0);try{s()}finally{fn(!1)}}return f.memoizedState=[y,c],y},useReducer:function(s,c,f){var y=ni();if(f!==void 0){var k=f(c);if(Jc){fn(!0);try{f(c)}finally{fn(!1)}}}else k=c;return y.memoizedState=y.baseState=k,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:k},y.queue=s,s=s.dispatch=JG.bind(null,st,s),[y.memoizedState,s]},useRef:function(s){var c=ni();return s={current:s},c.memoizedState=s},useState:function(s){s=dk(s);var c=s.queue,f=nR.bind(null,st,c);return c.dispatch=f,[s.memoizedState,f]},useDebugValue:hk,useDeferredValue:function(s,c){var f=ni();return gk(f,s,c)},useTransition:function(){var s=dk(!1);return s=X2.bind(null,st,s.queue,!0,!1),ni().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,f){var y=st,k=ni();if(wt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),en===null)throw Error(r(349));(mt&127)!==0||S2(y,c,f)}k.memoizedState=f;var S={value:f,getSnapshot:c};return k.queue=S,B2(C2.bind(null,y,S,s),[s]),y.flags|=2048,bd(9,{destroy:void 0},A2.bind(null,y,S,f,c),null),f},useId:function(){var s=ni(),c=en.identifierPrefix;if(wt){var f=Ia,y=Ca;f=(y&~(1<<32-dt(y)-1)).toString(32)+f,c="_"+c+"R_"+f,f=ly++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=$G++,c="_"+c+"r_"+f.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:yk,useFormState:j2,useActionState:j2,useOptimistic:function(s){var c=ni();c.memoizedState=c.baseState=s;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=bk.bind(null,st,!0,f),f.dispatch=c,[s,c]},useMemoCache:lk,useCacheRefresh:function(){return ni().memoizedState=YG.bind(null,st)},useEffectEvent:function(s){var c=ni(),f={impl:s};return c.memoizedState=f,function(){if((Ot&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},vk={readContext:Ar,use:uy,useCallback:W2,useContext:Ar,useEffect:fk,useImperativeHandle:K2,useInsertionEffect:q2,useLayoutEffect:H2,useMemo:Y2,useReducer:dy,useRef:F2,useState:function(){return dy(ps)},useDebugValue:hk,useDeferredValue:function(s,c){var f=Mn();return J2(f,Jt.memoizedState,s,c)},useTransition:function(){var s=dy(ps)[0],c=Mn().memoizedState;return[typeof s=="boolean"?s:zf(s),c]},useSyncExternalStore:T2,useId:eR,useHostTransitionStatus:yk,useFormState:L2,useActionState:L2,useOptimistic:function(s,c){var f=Mn();return R2(f,Jt,s,c)},useMemoCache:lk,useCacheRefresh:tR};vk.useEffectEvent=$2;var aR={readContext:Ar,use:uy,useCallback:W2,useContext:Ar,useEffect:fk,useImperativeHandle:K2,useInsertionEffect:q2,useLayoutEffect:H2,useMemo:Y2,useReducer:uk,useRef:F2,useState:function(){return uk(ps)},useDebugValue:hk,useDeferredValue:function(s,c){var f=Mn();return Jt===null?gk(f,s,c):J2(f,Jt.memoizedState,s,c)},useTransition:function(){var s=uk(ps)[0],c=Mn().memoizedState;return[typeof s=="boolean"?s:zf(s),c]},useSyncExternalStore:T2,useId:eR,useHostTransitionStatus:yk,useFormState:V2,useActionState:V2,useOptimistic:function(s,c){var f=Mn();return Jt!==null?R2(f,Jt,s,c):(f.baseState=s,[s,f.queue.dispatch])},useMemoCache:lk,useCacheRefresh:tR};aR.useEffectEvent=$2;function xk(s,c,f,y){c=s.memoizedState,f=f(y,c),f=f==null?c:g({},c,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var wk={enqueueSetState:function(s,c,f){s=s._reactInternals;var y=Yi(),k=El(y);k.payload=c,f!=null&&(k.callback=f),c=_l(s,k,y),c!==null&&(Ei(c,s,y),Pf(c,s,y))},enqueueReplaceState:function(s,c,f){s=s._reactInternals;var y=Yi(),k=El(y);k.tag=1,k.payload=c,f!=null&&(k.callback=f),c=_l(s,k,y),c!==null&&(Ei(c,s,y),Pf(c,s,y))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var f=Yi(),y=El(f);y.tag=2,c!=null&&(y.callback=c),c=_l(s,y,f),c!==null&&(Ei(c,s,f),Pf(c,s,f))}};function sR(s,c,f,y,k,S,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,S,O):c.prototype&&c.prototype.isPureReactComponent?!_f(f,y)||!_f(k,S):!0}function lR(s,c,f,y){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,y),c.state!==s&&wk.enqueueReplaceState(c,c.state,null)}function Xc(s,c){var f=c;if("ref"in c){f={};for(var y in c)y!=="ref"&&(f[y]=c[y])}if(s=s.defaultProps){f===c&&(f=g({},f));for(var k in s)f[k]===void 0&&(f[k]=s[k])}return f}function cR(s){Gm(s)}function uR(s){console.error(s)}function dR(s){Gm(s)}function gy(s,c){try{var f=s.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(y){setTimeout(function(){throw y})}}function pR(s,c,f){try{var y=s.onCaughtError;y(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function kk(s,c,f){return f=El(f),f.tag=3,f.payload={element:null},f.callback=function(){gy(s,c)},f}function fR(s){return s=El(s),s.tag=3,s}function hR(s,c,f,y){var k=f.type.getDerivedStateFromError;if(typeof k=="function"){var S=y.value;s.payload=function(){return k(S)},s.callback=function(){pR(c,f,y)}}var O=f.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(s.callback=function(){pR(c,f,y),typeof k!="function"&&(Nl===null?Nl=new Set([this]):Nl.add(this));var H=y.stack;this.componentDidCatch(y.value,{componentStack:H!==null?H:""})})}function XG(s,c,f,y,k){if(f.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(c=f.alternate,c!==null&&ud(c,f,k,!0),f=Hi.current,f!==null){switch(f.tag){case 31:case 13:return vo===null?Ay():f.alternate===null&&Sn===0&&(Sn=3),f.flags&=-257,f.flags|=65536,f.lanes=k,y===ny?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([y]):c.add(y),Kk(s,y,k)),!1;case 22:return f.flags|=65536,y===ny?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([y])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([y]):f.add(y)),Kk(s,y,k)),!1}throw Error(r(435,f.tag))}return Kk(s,y,k),Ay(),!1}if(wt)return c=Hi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=k,y!==Fw&&(s=Error(r(422),{cause:y}),Af(go(s,f)))):(y!==Fw&&(c=Error(r(423),{cause:y}),Af(go(c,f))),s=s.current.alternate,s.flags|=65536,k&=-k,s.lanes|=k,y=go(y,f),k=kk(s.stateNode,y,k),Qw(s,k),Sn!==4&&(Sn=2)),!1;var S=Error(r(520),{cause:y});if(S=go(S,f),Gf===null?Gf=[S]:Gf.push(S),Sn!==4&&(Sn=2),c===null)return!0;y=go(y,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,s=k&-k,f.lanes|=s,s=kk(f.stateNode,y,s),Qw(f,s),!1;case 1:if(c=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Nl===null||!Nl.has(S))))return f.flags|=65536,k&=-k,f.lanes|=k,k=fR(k),hR(k,s,f,y),Qw(f,k),!1}f=f.return}while(f!==null);return!1}var Ek=Error(r(461)),Hn=!1;function Cr(s,c,f,y){c.child=s===null?b2(c,null,f,y):Yc(c,s.child,f,y)}function gR(s,c,f,y,k){f=f.render;var S=c.ref;if("ref"in y){var O={};for(var H in y)H!=="ref"&&(O[H]=y[H])}else O=y;return Hc(c),y=ik(s,c,f,O,S,k),H=ok(),s!==null&&!Hn?(ak(s,c,k),fs(s,c,k)):(wt&&H&&Uw(c),c.flags|=1,Cr(s,c,y,k),c.child)}function mR(s,c,f,y,k){if(s===null){var S=f.type;return typeof S=="function"&&!zw(S)&&S.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=S,yR(s,c,S,y,k)):(s=Jm(f.type,null,y,c,c.mode,k),s.ref=c.ref,s.return=c,c.child=s)}if(S=s.child,!Rk(s,k)){var O=S.memoizedProps;if(f=f.compare,f=f!==null?f:_f,f(O,y)&&s.ref===c.ref)return fs(s,c,k)}return c.flags|=1,s=ss(S,y),s.ref=c.ref,s.return=c,c.child=s}function yR(s,c,f,y,k){if(s!==null){var S=s.memoizedProps;if(_f(S,y)&&s.ref===c.ref)if(Hn=!1,c.pendingProps=y=S,Rk(s,k))(s.flags&131072)!==0&&(Hn=!0);else return c.lanes=s.lanes,fs(s,c,k)}return _k(s,c,f,y,k)}function bR(s,c,f,y){var k=y.children,S=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((c.flags&128)!==0){if(S=S!==null?S.baseLanes|f:f,s!==null){for(y=c.child=s.child,k=0;y!==null;)k=k|y.lanes|y.childLanes,y=y.sibling;y=k&~S}else y=0,c.child=null;return vR(s,c,S,f,y)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&ey(c,S!==null?S.cachePool:null),S!==null?w2(c,S):ek(),k2(c);else return y=c.lanes=536870912,vR(s,c,S!==null?S.baseLanes|f:f,f,y)}else S!==null?(ey(c,S.cachePool),w2(c,S),Sl(),c.memoizedState=null):(s!==null&&ey(c,null),ek(),Sl());return Cr(s,c,k,f),c.child}function Uf(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function vR(s,c,f,y,k){var S=Ww();return S=S===null?null:{parent:$n._currentValue,pool:S},c.memoizedState={baseLanes:f,cachePool:S},s!==null&&ey(c,null),ek(),k2(c),s!==null&&ud(s,c,y,!0),c.childLanes=k,null}function my(s,c){return c=by({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function xR(s,c,f){return Yc(c,s.child,null,f),s=my(c,c.pendingProps),s.flags|=2,Gi(c),c.memoizedState=null,s}function QG(s,c,f){var y=c.pendingProps,k=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(wt){if(y.mode==="hidden")return s=my(c,y),c.lanes=536870912,Uf(null,s);if(nk(c),(s=sn)?(s=PP(s,bo),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:bl!==null?{id:Ca,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},f=r2(s),f.return=c,c.child=f,Sr=c,sn=null)):s=null,s===null)throw xl(c);return c.lanes=536870912,null}return my(c,y)}var S=s.memoizedState;if(S!==null){var O=S.dehydrated;if(nk(c),k)if(c.flags&256)c.flags&=-257,c=xR(s,c,f);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Hn||ud(s,c,f,!1),k=(f&s.childLanes)!==0,Hn||k){if(y=en,y!==null&&(O=Qr(y,f),O!==0&&O!==S.retryLane))throw S.retryLane=O,Fc(s,O),Ei(y,s,O),Ek;Ay(),c=xR(s,c,f)}else s=S.treeContext,sn=xo(O.nextSibling),Sr=c,wt=!0,vl=null,bo=!1,s!==null&&a2(c,s),c=my(c,y),c.flags|=4096;return c}return s=ss(s.child,{mode:y.mode,children:y.children}),s.ref=c.ref,c.child=s,s.return=c,s}function yy(s,c){var f=c.ref;if(f===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(s===null||s.ref!==f)&&(c.flags|=4194816)}}function _k(s,c,f,y,k){return Hc(c),f=ik(s,c,f,y,void 0,k),y=ok(),s!==null&&!Hn?(ak(s,c,k),fs(s,c,k)):(wt&&y&&Uw(c),c.flags|=1,Cr(s,c,f,k),c.child)}function wR(s,c,f,y,k,S){return Hc(c),c.updateQueue=null,f=_2(c,y,f,k),E2(s),y=ok(),s!==null&&!Hn?(ak(s,c,S),fs(s,c,S)):(wt&&y&&Uw(c),c.flags|=1,Cr(s,c,f,S),c.child)}function kR(s,c,f,y,k){if(Hc(c),c.stateNode===null){var S=ad,O=f.contextType;typeof O=="object"&&O!==null&&(S=Ar(O)),S=new f(y,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=wk,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=y,S.state=c.memoizedState,S.refs={},Jw(c),O=f.contextType,S.context=typeof O=="object"&&O!==null?Ar(O):ad,S.state=c.memoizedState,O=f.getDerivedStateFromProps,typeof O=="function"&&(xk(c,f,O,y),S.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(O=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),O!==S.state&&wk.enqueueReplaceState(S,S.state,null),Df(c,y,S,k),Of(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),y=!0}else if(s===null){S=c.stateNode;var H=c.memoizedProps,Q=Xc(f,H);S.props=Q;var ce=S.context,ve=f.contextType;O=ad,typeof ve=="object"&&ve!==null&&(O=Ar(ve));var ke=f.getDerivedStateFromProps;ve=typeof ke=="function"||typeof S.getSnapshotBeforeUpdate=="function",H=c.pendingProps!==H,ve||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(H||ce!==O)&&lR(c,S,y,O),kl=!1;var pe=c.memoizedState;S.state=pe,Df(c,y,S,k),Of(),ce=c.memoizedState,H||pe!==ce||kl?(typeof ke=="function"&&(xk(c,f,ke,y),ce=c.memoizedState),(Q=kl||sR(c,f,Q,y,pe,ce,O))?(ve||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=ce),S.props=y,S.state=ce,S.context=O,y=Q):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{S=c.stateNode,Xw(s,c),O=c.memoizedProps,ve=Xc(f,O),S.props=ve,ke=c.pendingProps,pe=S.context,ce=f.contextType,Q=ad,typeof ce=="object"&&ce!==null&&(Q=Ar(ce)),H=f.getDerivedStateFromProps,(ce=typeof H=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==ke||pe!==Q)&&lR(c,S,y,Q),kl=!1,pe=c.memoizedState,S.state=pe,Df(c,y,S,k),Of();var ye=c.memoizedState;O!==ke||pe!==ye||kl||s!==null&&s.dependencies!==null&&Qm(s.dependencies)?(typeof H=="function"&&(xk(c,f,H,y),ye=c.memoizedState),(ve=kl||sR(c,f,ve,y,pe,ye,Q)||s!==null&&s.dependencies!==null&&Qm(s.dependencies))?(ce||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(y,ye,Q),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(y,ye,Q)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===s.memoizedProps&&pe===s.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&pe===s.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=ye),S.props=y,S.state=ye,S.context=Q,y=ve):(typeof S.componentDidUpdate!="function"||O===s.memoizedProps&&pe===s.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&pe===s.memoizedState||(c.flags|=1024),y=!1)}return S=y,yy(s,c),y=(c.flags&128)!==0,S||y?(S=c.stateNode,f=y&&typeof f.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,s!==null&&y?(c.child=Yc(c,s.child,null,k),c.child=Yc(c,null,f,k)):Cr(s,c,f,k),c.memoizedState=S.state,s=c.child):s=fs(s,c,k),s}function ER(s,c,f,y){return $c(),c.flags|=256,Cr(s,c,f,y),c.child}var Tk={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sk(s){return{baseLanes:s,cachePool:p2()}}function Ak(s,c,f){return s=s!==null?s.childLanes&~f:0,c&&(s|=Wi),s}function _R(s,c,f){var y=c.pendingProps,k=!1,S=(c.flags&128)!==0,O;if((O=S)||(O=s!==null&&s.memoizedState===null?!1:(Dn.current&2)!==0),O&&(k=!0,c.flags&=-129),O=(c.flags&32)!==0,c.flags&=-33,s===null){if(wt){if(k?Tl(c):Sl(),(s=sn)?(s=PP(s,bo),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:bl!==null?{id:Ca,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},f=r2(s),f.return=c,c.child=f,Sr=c,sn=null)):s=null,s===null)throw xl(c);return c1(s)?c.lanes=32:c.lanes=536870912,null}var H=y.children;return y=y.fallback,k?(Sl(),k=c.mode,H=by({mode:"hidden",children:H},k),y=Bc(y,k,f,null),H.return=c,y.return=c,H.sibling=y,c.child=H,y=c.child,y.memoizedState=Sk(f),y.childLanes=Ak(s,O,f),c.memoizedState=Tk,Uf(null,y)):(Tl(c),Ck(c,H))}var Q=s.memoizedState;if(Q!==null&&(H=Q.dehydrated,H!==null)){if(S)c.flags&256?(Tl(c),c.flags&=-257,c=Ik(s,c,f)):c.memoizedState!==null?(Sl(),c.child=s.child,c.flags|=128,c=null):(Sl(),H=y.fallback,k=c.mode,y=by({mode:"visible",children:y.children},k),H=Bc(H,k,f,null),H.flags|=2,y.return=c,H.return=c,y.sibling=H,c.child=y,Yc(c,s.child,null,f),y=c.child,y.memoizedState=Sk(f),y.childLanes=Ak(s,O,f),c.memoizedState=Tk,c=Uf(null,y));else if(Tl(c),c1(H)){if(O=H.nextSibling&&H.nextSibling.dataset,O)var ce=O.dgst;O=ce,y=Error(r(419)),y.stack="",y.digest=O,Af({value:y,source:null,stack:null}),c=Ik(s,c,f)}else if(Hn||ud(s,c,f,!1),O=(f&s.childLanes)!==0,Hn||O){if(O=en,O!==null&&(y=Qr(O,f),y!==0&&y!==Q.retryLane))throw Q.retryLane=y,Fc(s,y),Ei(O,s,y),Ek;l1(H)||Ay(),c=Ik(s,c,f)}else l1(H)?(c.flags|=192,c.child=s.child,c=null):(s=Q.treeContext,sn=xo(H.nextSibling),Sr=c,wt=!0,vl=null,bo=!1,s!==null&&a2(c,s),c=Ck(c,y.children),c.flags|=4096);return c}return k?(Sl(),H=y.fallback,k=c.mode,Q=s.child,ce=Q.sibling,y=ss(Q,{mode:"hidden",children:y.children}),y.subtreeFlags=Q.subtreeFlags&65011712,ce!==null?H=ss(ce,H):(H=Bc(H,k,f,null),H.flags|=2),H.return=c,y.return=c,y.sibling=H,c.child=y,Uf(null,y),y=c.child,H=s.child.memoizedState,H===null?H=Sk(f):(k=H.cachePool,k!==null?(Q=$n._currentValue,k=k.parent!==Q?{parent:Q,pool:Q}:k):k=p2(),H={baseLanes:H.baseLanes|f,cachePool:k}),y.memoizedState=H,y.childLanes=Ak(s,O,f),c.memoizedState=Tk,Uf(s.child,y)):(Tl(c),f=s.child,s=f.sibling,f=ss(f,{mode:"visible",children:y.children}),f.return=c,f.sibling=null,s!==null&&(O=c.deletions,O===null?(c.deletions=[s],c.flags|=16):O.push(s)),c.child=f,c.memoizedState=null,f)}function Ck(s,c){return c=by({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function by(s,c){return s=qi(22,s,null,c),s.lanes=0,s}function Ik(s,c,f){return Yc(c,s.child,null,f),s=Ck(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function TR(s,c,f){s.lanes|=c;var y=s.alternate;y!==null&&(y.lanes|=c),qw(s.return,c,f)}function Nk(s,c,f,y,k,S){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:k,treeForkCount:S}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=y,O.tail=f,O.tailMode=k,O.treeForkCount=S)}function SR(s,c,f){var y=c.pendingProps,k=y.revealOrder,S=y.tail;y=y.children;var O=Dn.current,H=(O&2)!==0;if(H?(O=O&1|2,c.flags|=128):O&=1,$(Dn,O),Cr(s,c,y,f),y=wt?Sf:0,!H&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&TR(s,f,c);else if(s.tag===19)TR(s,f,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(k){case"forwards":for(f=c.child,k=null;f!==null;)s=f.alternate,s!==null&&ay(s)===null&&(k=f),f=f.sibling;f=k,f===null?(k=c.child,c.child=null):(k=f.sibling,f.sibling=null),Nk(c,!1,k,f,S,y);break;case"backwards":case"unstable_legacy-backwards":for(f=null,k=c.child,c.child=null;k!==null;){if(s=k.alternate,s!==null&&ay(s)===null){c.child=k;break}s=k.sibling,k.sibling=f,f=k,k=s}Nk(c,!0,f,null,S,y);break;case"together":Nk(c,!1,null,null,void 0,y);break;default:c.memoizedState=null}return c.child}function fs(s,c,f){if(s!==null&&(c.dependencies=s.dependencies),Il|=c.lanes,(f&c.childLanes)===0)if(s!==null){if(ud(s,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,f=ss(s,s.pendingProps),c.child=f,f.return=c;s.sibling!==null;)s=s.sibling,f=f.sibling=ss(s,s.pendingProps),f.return=c;f.sibling=null}return c.child}function Rk(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&Qm(s)))}function ZG(s,c,f){switch(c.tag){case 3:Ye(c,c.stateNode.containerInfo),wl(c,$n,s.memoizedState.cache),$c();break;case 27:case 5:Ae(c);break;case 4:Ye(c,c.stateNode.containerInfo);break;case 10:wl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,nk(c),null;break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?(Tl(c),c.flags|=128,null):(f&c.child.childLanes)!==0?_R(s,c,f):(Tl(c),s=fs(s,c,f),s!==null?s.sibling:null);Tl(c);break;case 19:var k=(s.flags&128)!==0;if(y=(f&c.childLanes)!==0,y||(ud(s,c,f,!1),y=(f&c.childLanes)!==0),k){if(y)return SR(s,c,f);c.flags|=128}if(k=c.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),$(Dn,Dn.current),y)break;return null;case 22:return c.lanes=0,bR(s,c,f,c.pendingProps);case 24:wl(c,$n,s.memoizedState.cache)}return fs(s,c,f)}function AR(s,c,f){if(s!==null)if(s.memoizedProps!==c.pendingProps)Hn=!0;else{if(!Rk(s,f)&&(c.flags&128)===0)return Hn=!1,ZG(s,c,f);Hn=(s.flags&131072)!==0}else Hn=!1,wt&&(c.flags&1048576)!==0&&o2(c,Sf,c.index);switch(c.lanes=0,c.tag){case 16:e:{var y=c.pendingProps;if(s=Kc(c.elementType),c.type=s,typeof s=="function")zw(s)?(y=Xc(s,y),c.tag=1,c=kR(null,c,s,y,f)):(c.tag=0,c=_k(null,c,s,y,f));else{if(s!=null){var k=s.$$typeof;if(k===D){c.tag=11,c=gR(null,c,s,y,f);break e}else if(k===P){c.tag=14,c=mR(null,c,s,y,f);break e}}throw c=ne(s)||s,Error(r(306,c,""))}}return c;case 0:return _k(s,c,c.type,c.pendingProps,f);case 1:return y=c.type,k=Xc(y,c.pendingProps),kR(s,c,y,k,f);case 3:e:{if(Ye(c,c.stateNode.containerInfo),s===null)throw Error(r(387));y=c.pendingProps;var S=c.memoizedState;k=S.element,Xw(s,c),Df(c,y,null,f);var O=c.memoizedState;if(y=O.cache,wl(c,$n,y),y!==S.cache&&Hw(c,[$n],f,!0),Of(),y=O.element,S.isDehydrated)if(S={element:y,isDehydrated:!1,cache:O.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=ER(s,c,y,f);break e}else if(y!==k){k=go(Error(r(424)),c),Af(k),c=ER(s,c,y,f);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(sn=xo(s.firstChild),Sr=c,wt=!0,vl=null,bo=!0,f=b2(c,null,y,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if($c(),y===k){c=fs(s,c,f);break e}Cr(s,c,y,f)}c=c.child}return c;case 26:return yy(s,c),s===null?(f=LP(c.type,null,c.pendingProps,null))?c.memoizedState=f:wt||(f=c.type,s=c.pendingProps,y=Dy(Te.current).createElement(f),y[Vn]=c,y[ur]=s,Ir(y,f,s),Fn(y),c.stateNode=y):c.memoizedState=LP(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return Ae(c),s===null&&wt&&(y=c.stateNode=MP(c.type,c.pendingProps,Te.current),Sr=c,bo=!0,k=sn,Dl(c.type)?(u1=k,sn=xo(y.firstChild)):sn=k),Cr(s,c,c.pendingProps.children,f),yy(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&wt&&((k=y=sn)&&(y=IK(y,c.type,c.pendingProps,bo),y!==null?(c.stateNode=y,Sr=c,sn=xo(y.firstChild),bo=!1,k=!0):k=!1),k||xl(c)),Ae(c),k=c.type,S=c.pendingProps,O=s!==null?s.memoizedProps:null,y=S.children,o1(k,S)?y=null:O!==null&&o1(k,O)&&(c.flags|=32),c.memoizedState!==null&&(k=ik(s,c,qG,null,null,f),eh._currentValue=k),yy(s,c),Cr(s,c,y,f),c.child;case 6:return s===null&&wt&&((s=f=sn)&&(f=NK(f,c.pendingProps,bo),f!==null?(c.stateNode=f,Sr=c,sn=null,s=!0):s=!1),s||xl(c)),null;case 13:return _R(s,c,f);case 4:return Ye(c,c.stateNode.containerInfo),y=c.pendingProps,s===null?c.child=Yc(c,null,y,f):Cr(s,c,y,f),c.child;case 11:return gR(s,c,c.type,c.pendingProps,f);case 7:return Cr(s,c,c.pendingProps,f),c.child;case 8:return Cr(s,c,c.pendingProps.children,f),c.child;case 12:return Cr(s,c,c.pendingProps.children,f),c.child;case 10:return y=c.pendingProps,wl(c,c.type,y.value),Cr(s,c,y.children,f),c.child;case 9:return k=c.type._context,y=c.pendingProps.children,Hc(c),k=Ar(k),y=y(k),c.flags|=1,Cr(s,c,y,f),c.child;case 14:return mR(s,c,c.type,c.pendingProps,f);case 15:return yR(s,c,c.type,c.pendingProps,f);case 19:return SR(s,c,f);case 31:return QG(s,c,f);case 22:return bR(s,c,f,c.pendingProps);case 24:return Hc(c),y=Ar($n),s===null?(k=Ww(),k===null&&(k=en,S=Gw(),k.pooledCache=S,S.refCount++,S!==null&&(k.pooledCacheLanes|=f),k=S),c.memoizedState={parent:y,cache:k},Jw(c),wl(c,$n,k)):((s.lanes&f)!==0&&(Xw(s,c),Df(c,null,null,f),Of()),k=s.memoizedState,S=c.memoizedState,k.parent!==y?(k={parent:y,cache:y},c.memoizedState=k,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=k),wl(c,$n,y)):(y=S.cache,wl(c,$n,y),y!==k.cache&&Hw(c,[$n],f,!0))),Cr(s,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function hs(s){s.flags|=4}function Pk(s,c,f,y,k){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(k&335544128)===k)if(s.stateNode.complete)s.flags|=8192;else if(eP())s.flags|=8192;else throw Wc=ny,Yw}else s.flags&=-16777217}function CR(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!$P(c))if(eP())s.flags|=8192;else throw Wc=ny,Yw}function vy(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?cr():536870912,s.lanes|=c,kd|=c)}function Vf(s,c){if(!wt)switch(s.tailMode){case"hidden":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function ln(s){var c=s.alternate!==null&&s.alternate.child===s.child,f=0,y=0;if(c)for(var k=s.child;k!==null;)f|=k.lanes|k.childLanes,y|=k.subtreeFlags&65011712,y|=k.flags&65011712,k.return=s,k=k.sibling;else for(k=s.child;k!==null;)f|=k.lanes|k.childLanes,y|=k.subtreeFlags,y|=k.flags,k.return=s,k=k.sibling;return s.subtreeFlags|=y,s.childLanes=f,c}function eK(s,c,f){var y=c.pendingProps;switch(Vw(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(c),null;case 1:return ln(c),null;case 3:return f=c.stateNode,y=null,s!==null&&(y=s.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),us($n),ue(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(cd(c)?hs(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Bw())),ln(c),null;case 26:var k=c.type,S=c.memoizedState;return s===null?(hs(c),S!==null?(ln(c),CR(c,S)):(ln(c),Pk(c,k,null,y,f))):S?S!==s.memoizedState?(hs(c),ln(c),CR(c,S)):(ln(c),c.flags&=-16777217):(s=s.memoizedProps,s!==y&&hs(c),ln(c),Pk(c,k,s,y,f)),null;case 27:if(ae(c),f=Te.current,k=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==y&&hs(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return ln(c),null}s=be.current,cd(c)?s2(c):(s=MP(k,y,f),c.stateNode=s,hs(c))}return ln(c),null;case 5:if(ae(c),k=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==y&&hs(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return ln(c),null}if(S=be.current,cd(c))s2(c);else{var O=Dy(Te.current);switch(S){case 1:S=O.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:S=O.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":S=O.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":S=O.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":S=O.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof y.is=="string"?O.createElement("select",{is:y.is}):O.createElement("select"),y.multiple?S.multiple=!0:y.size&&(S.size=y.size);break;default:S=typeof y.is=="string"?O.createElement(k,{is:y.is}):O.createElement(k)}}S[Vn]=c,S[ur]=y;e:for(O=c.child;O!==null;){if(O.tag===5||O.tag===6)S.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===c)break e;for(;O.sibling===null;){if(O.return===null||O.return===c)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}c.stateNode=S;e:switch(Ir(S,k,y),k){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&hs(c)}}return ln(c),Pk(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,f),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==y&&hs(c);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(s=Te.current,cd(c)){if(s=c.stateNode,f=c.memoizedProps,y=null,k=Sr,k!==null)switch(k.tag){case 27:case 5:y=k.memoizedProps}s[Vn]=c,s=!!(s.nodeValue===f||y!==null&&y.suppressHydrationWarning===!0||_P(s.nodeValue,f)),s||xl(c,!0)}else s=Dy(s).createTextNode(y),s[Vn]=c,c.stateNode=s}return ln(c),null;case 31:if(f=c.memoizedState,s===null||s.memoizedState!==null){if(y=cd(c),f!==null){if(s===null){if(!y)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Vn]=c}else $c(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ln(c),s=!1}else f=Bw(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),s=!0;if(!s)return c.flags&256?(Gi(c),c):(Gi(c),null);if((c.flags&128)!==0)throw Error(r(558))}return ln(c),null;case 13:if(y=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(k=cd(c),y!==null&&y.dehydrated!==null){if(s===null){if(!k)throw Error(r(318));if(k=c.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[Vn]=c}else $c(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ln(c),k=!1}else k=Bw(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=k),k=!0;if(!k)return c.flags&256?(Gi(c),c):(Gi(c),null)}return Gi(c),(c.flags&128)!==0?(c.lanes=f,c):(f=y!==null,s=s!==null&&s.memoizedState!==null,f&&(y=c.child,k=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(k=y.alternate.memoizedState.cachePool.pool),S=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(S=y.memoizedState.cachePool.pool),S!==k&&(y.flags|=2048)),f!==s&&f&&(c.child.flags|=8192),vy(c,c.updateQueue),ln(c),null);case 4:return ue(),s===null&&e1(c.stateNode.containerInfo),ln(c),null;case 10:return us(c.type),ln(c),null;case 19:if(J(Dn),y=c.memoizedState,y===null)return ln(c),null;if(k=(c.flags&128)!==0,S=y.rendering,S===null)if(k)Vf(y,!1);else{if(Sn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(S=ay(s),S!==null){for(c.flags|=128,Vf(y,!1),s=S.updateQueue,c.updateQueue=s,vy(c,s),c.subtreeFlags=0,s=f,f=c.child;f!==null;)n2(f,s),f=f.sibling;return $(Dn,Dn.current&1|2),wt&&ls(c,y.treeForkCount),c.child}s=s.sibling}y.tail!==null&&Pe()>_y&&(c.flags|=128,k=!0,Vf(y,!1),c.lanes=4194304)}else{if(!k)if(s=ay(S),s!==null){if(c.flags|=128,k=!0,s=s.updateQueue,c.updateQueue=s,vy(c,s),Vf(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!wt)return ln(c),null}else 2*Pe()-y.renderingStartTime>_y&&f!==536870912&&(c.flags|=128,k=!0,Vf(y,!1),c.lanes=4194304);y.isBackwards?(S.sibling=c.child,c.child=S):(s=y.last,s!==null?s.sibling=S:c.child=S,y.last=S)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Pe(),s.sibling=null,f=Dn.current,$(Dn,k?f&1|2:f&1),wt&&ls(c,y.treeForkCount),s):(ln(c),null);case 22:case 23:return Gi(c),tk(),y=c.memoizedState!==null,s!==null?s.memoizedState!==null!==y&&(c.flags|=8192):y&&(c.flags|=8192),y?(f&536870912)!==0&&(c.flags&128)===0&&(ln(c),c.subtreeFlags&6&&(c.flags|=8192)):ln(c),f=c.updateQueue,f!==null&&vy(c,f.retryQueue),f=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==f&&(c.flags|=2048),s!==null&&J(Gc),null;case 24:return f=null,s!==null&&(f=s.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),us($n),ln(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function tK(s,c){switch(Vw(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return us($n),ue(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return ae(c),null;case 31:if(c.memoizedState!==null){if(Gi(c),c.alternate===null)throw Error(r(340));$c()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Gi(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));$c()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return J(Dn),null;case 4:return ue(),null;case 10:return us(c.type),null;case 22:case 23:return Gi(c),tk(),s!==null&&J(Gc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return us($n),null;case 25:return null;default:return null}}function IR(s,c){switch(Vw(c),c.tag){case 3:us($n),ue();break;case 26:case 27:case 5:ae(c);break;case 4:ue();break;case 31:c.memoizedState!==null&&Gi(c);break;case 13:Gi(c);break;case 19:J(Dn);break;case 10:us(c.type);break;case 22:case 23:Gi(c),tk(),s!==null&&J(Gc);break;case 24:us($n)}}function Ff(s,c){try{var f=c.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var k=y.next;f=k;do{if((f.tag&s)===s){y=void 0;var S=f.create,O=f.inst;y=S(),O.destroy=y}f=f.next}while(f!==k)}}catch(H){$t(c,c.return,H)}}function Al(s,c,f){try{var y=c.updateQueue,k=y!==null?y.lastEffect:null;if(k!==null){var S=k.next;y=S;do{if((y.tag&s)===s){var O=y.inst,H=O.destroy;if(H!==void 0){O.destroy=void 0,k=c;var Q=f,ce=H;try{ce()}catch(ve){$t(k,Q,ve)}}}y=y.next}while(y!==S)}}catch(ve){$t(c,c.return,ve)}}function NR(s){var c=s.updateQueue;if(c!==null){var f=s.stateNode;try{x2(c,f)}catch(y){$t(s,s.return,y)}}}function RR(s,c,f){f.props=Xc(s.type,s.memoizedProps),f.state=s.memoizedState;try{f.componentWillUnmount()}catch(y){$t(s,c,y)}}function Bf(s,c){try{var f=s.ref;if(f!==null){switch(s.tag){case 26:case 27:case 5:var y=s.stateNode;break;case 30:y=s.stateNode;break;default:y=s.stateNode}typeof f=="function"?s.refCleanup=f(y):f.current=y}}catch(k){$t(s,c,k)}}function Na(s,c){var f=s.ref,y=s.refCleanup;if(f!==null)if(typeof y=="function")try{y()}catch(k){$t(s,c,k)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(k){$t(s,c,k)}else f.current=null}function PR(s){var c=s.type,f=s.memoizedProps,y=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&y.focus();break e;case"img":f.src?y.src=f.src:f.srcSet&&(y.srcset=f.srcSet)}}catch(k){$t(s,s.return,k)}}function Ok(s,c,f){try{var y=s.stateNode;EK(y,s.type,f,c),y[ur]=c}catch(k){$t(s,s.return,k)}}function OR(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Dl(s.type)||s.tag===4}function Dk(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||OR(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Dl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Mk(s,c,f){var y=s.tag;if(y===5||y===6)s=s.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(s,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(s),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=qo));else if(y!==4&&(y===27&&Dl(s.type)&&(f=s.stateNode,c=null),s=s.child,s!==null))for(Mk(s,c,f),s=s.sibling;s!==null;)Mk(s,c,f),s=s.sibling}function xy(s,c,f){var y=s.tag;if(y===5||y===6)s=s.stateNode,c?f.insertBefore(s,c):f.appendChild(s);else if(y!==4&&(y===27&&Dl(s.type)&&(f=s.stateNode),s=s.child,s!==null))for(xy(s,c,f),s=s.sibling;s!==null;)xy(s,c,f),s=s.sibling}function DR(s){var c=s.stateNode,f=s.memoizedProps;try{for(var y=s.type,k=c.attributes;k.length;)c.removeAttributeNode(k[0]);Ir(c,y,f),c[Vn]=s,c[ur]=f}catch(S){$t(s,s.return,S)}}var gs=!1,Gn=!1,zk=!1,MR=typeof WeakSet=="function"?WeakSet:Set,pr=null;function nK(s,c){if(s=s.containerInfo,r1=Fy,s=KN(s),Iw(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var k=y.anchorOffset,S=y.focusNode;y=y.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var O=0,H=-1,Q=-1,ce=0,ve=0,ke=s,pe=null;t:for(;;){for(var ye;ke!==f||k!==0&&ke.nodeType!==3||(H=O+k),ke!==S||y!==0&&ke.nodeType!==3||(Q=O+y),ke.nodeType===3&&(O+=ke.nodeValue.length),(ye=ke.firstChild)!==null;)pe=ke,ke=ye;for(;;){if(ke===s)break t;if(pe===f&&++ce===k&&(H=O),pe===S&&++ve===y&&(Q=O),(ye=ke.nextSibling)!==null)break;ke=pe,pe=ke.parentNode}ke=ye}f=H===-1||Q===-1?null:{start:H,end:Q}}else f=null}f=f||{start:0,end:0}}else f=null;for(i1={focusedElem:s,selectionRange:f},Fy=!1,pr=c;pr!==null;)if(c=pr,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,pr=s;else for(;pr!==null;){switch(c=pr,S=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(f=0;f<s.length;f++)k=s[f],k.ref.impl=k.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&S!==null){s=void 0,f=c,k=S.memoizedProps,S=S.memoizedState,y=f.stateNode;try{var Fe=Xc(f.type,k);s=y.getSnapshotBeforeUpdate(Fe,S),y.__reactInternalSnapshotBeforeUpdate=s}catch(Xe){$t(f,f.return,Xe)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,f=s.nodeType,f===9)s1(s);else if(f===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":s1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,pr=s;break}pr=c.return}}function zR(s,c,f){var y=f.flags;switch(f.tag){case 0:case 11:case 15:ys(s,f),y&4&&Ff(5,f);break;case 1:if(ys(s,f),y&4)if(s=f.stateNode,c===null)try{s.componentDidMount()}catch(O){$t(f,f.return,O)}else{var k=Xc(f.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(k,c,s.__reactInternalSnapshotBeforeUpdate)}catch(O){$t(f,f.return,O)}}y&64&&NR(f),y&512&&Bf(f,f.return);break;case 3:if(ys(s,f),y&64&&(s=f.updateQueue,s!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{x2(s,c)}catch(O){$t(f,f.return,O)}}break;case 27:c===null&&y&4&&DR(f);case 26:case 5:ys(s,f),c===null&&y&4&&PR(f),y&512&&Bf(f,f.return);break;case 12:ys(s,f);break;case 31:ys(s,f),y&4&&UR(s,f);break;case 13:ys(s,f),y&4&&VR(s,f),y&64&&(s=f.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(f=dK.bind(null,f),RK(s,f))));break;case 22:if(y=f.memoizedState!==null||gs,!y){c=c!==null&&c.memoizedState!==null||Gn,k=gs;var S=Gn;gs=y,(Gn=c)&&!S?bs(s,f,(f.subtreeFlags&8772)!==0):ys(s,f),gs=k,Gn=S}break;case 30:break;default:ys(s,f)}}function jR(s){var c=s.alternate;c!==null&&(s.alternate=null,jR(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Gu(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var yn=null,vi=!1;function ms(s,c,f){for(f=f.child;f!==null;)LR(s,c,f),f=f.sibling}function LR(s,c,f){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Wt,f)}catch{}switch(f.tag){case 26:Gn||Na(f,c),ms(s,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Gn||Na(f,c);var y=yn,k=vi;Dl(f.type)&&(yn=f.stateNode,vi=!1),ms(s,c,f),Xf(f.stateNode),yn=y,vi=k;break;case 5:Gn||Na(f,c);case 6:if(y=yn,k=vi,yn=null,ms(s,c,f),yn=y,vi=k,yn!==null)if(vi)try{(yn.nodeType===9?yn.body:yn.nodeName==="HTML"?yn.ownerDocument.body:yn).removeChild(f.stateNode)}catch(S){$t(f,c,S)}else try{yn.removeChild(f.stateNode)}catch(S){$t(f,c,S)}break;case 18:yn!==null&&(vi?(s=yn,NP(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,f.stateNode),Nd(s)):NP(yn,f.stateNode));break;case 4:y=yn,k=vi,yn=f.stateNode.containerInfo,vi=!0,ms(s,c,f),yn=y,vi=k;break;case 0:case 11:case 14:case 15:Al(2,f,c),Gn||Al(4,f,c),ms(s,c,f);break;case 1:Gn||(Na(f,c),y=f.stateNode,typeof y.componentWillUnmount=="function"&&RR(f,c,y)),ms(s,c,f);break;case 21:ms(s,c,f);break;case 22:Gn=(y=Gn)||f.memoizedState!==null,ms(s,c,f),Gn=y;break;default:ms(s,c,f)}}function UR(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Nd(s)}catch(f){$t(c,c.return,f)}}}function VR(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Nd(s)}catch(f){$t(c,c.return,f)}}function rK(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new MR),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new MR),c;default:throw Error(r(435,s.tag))}}function wy(s,c){var f=rK(s);c.forEach(function(y){if(!f.has(y)){f.add(y);var k=pK.bind(null,s,y);y.then(k,k)}})}function xi(s,c){var f=c.deletions;if(f!==null)for(var y=0;y<f.length;y++){var k=f[y],S=s,O=c,H=O;e:for(;H!==null;){switch(H.tag){case 27:if(Dl(H.type)){yn=H.stateNode,vi=!1;break e}break;case 5:yn=H.stateNode,vi=!1;break e;case 3:case 4:yn=H.stateNode.containerInfo,vi=!0;break e}H=H.return}if(yn===null)throw Error(r(160));LR(S,O,k),yn=null,vi=!1,S=k.alternate,S!==null&&(S.return=null),k.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)FR(c,s),c=c.sibling}var Jo=null;function FR(s,c){var f=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:xi(c,s),wi(s),y&4&&(Al(3,s,s.return),Ff(3,s),Al(5,s,s.return));break;case 1:xi(c,s),wi(s),y&512&&(Gn||f===null||Na(f,f.return)),y&64&&gs&&(s=s.updateQueue,s!==null&&(y=s.callbacks,y!==null&&(f=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=f===null?y:f.concat(y))));break;case 26:var k=Jo;if(xi(c,s),wi(s),y&512&&(Gn||f===null||Na(f,f.return)),y&4){var S=f!==null?f.memoizedState:null;if(y=s.memoizedState,f===null)if(y===null)if(s.stateNode===null){e:{y=s.type,f=s.memoizedProps,k=k.ownerDocument||k;t:switch(y){case"title":S=k.getElementsByTagName("title")[0],(!S||S[ma]||S[Vn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=k.createElement(y),k.head.insertBefore(S,k.querySelector("head > title"))),Ir(S,y,f),S[Vn]=s,Fn(S),y=S;break e;case"link":var O=FP("link","href",k).get(y+(f.href||""));if(O){for(var H=0;H<O.length;H++)if(S=O[H],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){O.splice(H,1);break t}}S=k.createElement(y),Ir(S,y,f),k.head.appendChild(S);break;case"meta":if(O=FP("meta","content",k).get(y+(f.content||""))){for(H=0;H<O.length;H++)if(S=O[H],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){O.splice(H,1);break t}}S=k.createElement(y),Ir(S,y,f),k.head.appendChild(S);break;default:throw Error(r(468,y))}S[Vn]=s,Fn(S),y=S}s.stateNode=y}else BP(k,s.type,s.stateNode);else s.stateNode=VP(k,y,s.memoizedProps);else S!==y?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,y===null?BP(k,s.type,s.stateNode):VP(k,y,s.memoizedProps)):y===null&&s.stateNode!==null&&Ok(s,s.memoizedProps,f.memoizedProps)}break;case 27:xi(c,s),wi(s),y&512&&(Gn||f===null||Na(f,f.return)),f!==null&&y&4&&Ok(s,s.memoizedProps,f.memoizedProps);break;case 5:if(xi(c,s),wi(s),y&512&&(Gn||f===null||Na(f,f.return)),s.flags&32){k=s.stateNode;try{bi(k,"")}catch(Fe){$t(s,s.return,Fe)}}y&4&&s.stateNode!=null&&(k=s.memoizedProps,Ok(s,k,f!==null?f.memoizedProps:k)),y&1024&&(zk=!0);break;case 6:if(xi(c,s),wi(s),y&4){if(s.stateNode===null)throw Error(r(162));y=s.memoizedProps,f=s.stateNode;try{f.nodeValue=y}catch(Fe){$t(s,s.return,Fe)}}break;case 3:if(jy=null,k=Jo,Jo=My(c.containerInfo),xi(c,s),Jo=k,wi(s),y&4&&f!==null&&f.memoizedState.isDehydrated)try{Nd(c.containerInfo)}catch(Fe){$t(s,s.return,Fe)}zk&&(zk=!1,BR(s));break;case 4:y=Jo,Jo=My(s.stateNode.containerInfo),xi(c,s),wi(s),Jo=y;break;case 12:xi(c,s),wi(s);break;case 31:xi(c,s),wi(s),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,wy(s,y)));break;case 13:xi(c,s),wi(s),s.child.flags&8192&&s.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Ey=Pe()),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,wy(s,y)));break;case 22:k=s.memoizedState!==null;var Q=f!==null&&f.memoizedState!==null,ce=gs,ve=Gn;if(gs=ce||k,Gn=ve||Q,xi(c,s),Gn=ve,gs=ce,wi(s),y&8192)e:for(c=s.stateNode,c._visibility=k?c._visibility&-2:c._visibility|1,k&&(f===null||Q||gs||Gn||Qc(s)),f=null,c=s;;){if(c.tag===5||c.tag===26){if(f===null){Q=f=c;try{if(S=Q.stateNode,k)O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{H=Q.stateNode;var ke=Q.memoizedProps.style,pe=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;H.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Fe){$t(Q,Q.return,Fe)}}}else if(c.tag===6){if(f===null){Q=c;try{Q.stateNode.nodeValue=k?"":Q.memoizedProps}catch(Fe){$t(Q,Q.return,Fe)}}}else if(c.tag===18){if(f===null){Q=c;try{var ye=Q.stateNode;k?RP(ye,!0):RP(Q.stateNode,!1)}catch(Fe){$t(Q,Q.return,Fe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}y&4&&(y=s.updateQueue,y!==null&&(f=y.retryQueue,f!==null&&(y.retryQueue=null,wy(s,f))));break;case 19:xi(c,s),wi(s),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,wy(s,y)));break;case 30:break;case 21:break;default:xi(c,s),wi(s)}}function wi(s){var c=s.flags;if(c&2){try{for(var f,y=s.return;y!==null;){if(OR(y)){f=y;break}y=y.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var k=f.stateNode,S=Dk(s);xy(s,S,k);break;case 5:var O=f.stateNode;f.flags&32&&(bi(O,""),f.flags&=-33);var H=Dk(s);xy(s,H,O);break;case 3:case 4:var Q=f.stateNode.containerInfo,ce=Dk(s);Mk(s,ce,Q);break;default:throw Error(r(161))}}catch(ve){$t(s,s.return,ve)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function BR(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;BR(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function ys(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)zR(s,c.alternate,c),c=c.sibling}function Qc(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:Al(4,c,c.return),Qc(c);break;case 1:Na(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&RR(c,c.return,f),Qc(c);break;case 27:Xf(c.stateNode);case 26:case 5:Na(c,c.return),Qc(c);break;case 22:c.memoizedState===null&&Qc(c);break;case 30:Qc(c);break;default:Qc(c)}s=s.sibling}}function bs(s,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var y=c.alternate,k=s,S=c,O=S.flags;switch(S.tag){case 0:case 11:case 15:bs(k,S,f),Ff(4,S);break;case 1:if(bs(k,S,f),y=S,k=y.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(ce){$t(y,y.return,ce)}if(y=S,k=y.updateQueue,k!==null){var H=y.stateNode;try{var Q=k.shared.hiddenCallbacks;if(Q!==null)for(k.shared.hiddenCallbacks=null,k=0;k<Q.length;k++)v2(Q[k],H)}catch(ce){$t(y,y.return,ce)}}f&&O&64&&NR(S),Bf(S,S.return);break;case 27:DR(S);case 26:case 5:bs(k,S,f),f&&y===null&&O&4&&PR(S),Bf(S,S.return);break;case 12:bs(k,S,f);break;case 31:bs(k,S,f),f&&O&4&&UR(k,S);break;case 13:bs(k,S,f),f&&O&4&&VR(k,S);break;case 22:S.memoizedState===null&&bs(k,S,f),Bf(S,S.return);break;case 30:break;default:bs(k,S,f)}c=c.sibling}}function jk(s,c){var f=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==f&&(s!=null&&s.refCount++,f!=null&&Cf(f))}function Lk(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Cf(s))}function Xo(s,c,f,y){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)$R(s,c,f,y),c=c.sibling}function $R(s,c,f,y){var k=c.flags;switch(c.tag){case 0:case 11:case 15:Xo(s,c,f,y),k&2048&&Ff(9,c);break;case 1:Xo(s,c,f,y);break;case 3:Xo(s,c,f,y),k&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Cf(s)));break;case 12:if(k&2048){Xo(s,c,f,y),s=c.stateNode;try{var S=c.memoizedProps,O=S.id,H=S.onPostCommit;typeof H=="function"&&H(O,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Q){$t(c,c.return,Q)}}else Xo(s,c,f,y);break;case 31:Xo(s,c,f,y);break;case 13:Xo(s,c,f,y);break;case 23:break;case 22:S=c.stateNode,O=c.alternate,c.memoizedState!==null?S._visibility&2?Xo(s,c,f,y):$f(s,c):S._visibility&2?Xo(s,c,f,y):(S._visibility|=2,vd(s,c,f,y,(c.subtreeFlags&10256)!==0||!1)),k&2048&&jk(O,c);break;case 24:Xo(s,c,f,y),k&2048&&Lk(c.alternate,c);break;default:Xo(s,c,f,y)}}function vd(s,c,f,y,k){for(k=k&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var S=s,O=c,H=f,Q=y,ce=O.flags;switch(O.tag){case 0:case 11:case 15:vd(S,O,H,Q,k),Ff(8,O);break;case 23:break;case 22:var ve=O.stateNode;O.memoizedState!==null?ve._visibility&2?vd(S,O,H,Q,k):$f(S,O):(ve._visibility|=2,vd(S,O,H,Q,k)),k&&ce&2048&&jk(O.alternate,O);break;case 24:vd(S,O,H,Q,k),k&&ce&2048&&Lk(O.alternate,O);break;default:vd(S,O,H,Q,k)}c=c.sibling}}function $f(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=s,y=c,k=y.flags;switch(y.tag){case 22:$f(f,y),k&2048&&jk(y.alternate,y);break;case 24:$f(f,y),k&2048&&Lk(y.alternate,y);break;default:$f(f,y)}c=c.sibling}}var qf=8192;function xd(s,c,f){if(s.subtreeFlags&qf)for(s=s.child;s!==null;)qR(s,c,f),s=s.sibling}function qR(s,c,f){switch(s.tag){case 26:xd(s,c,f),s.flags&qf&&s.memoizedState!==null&&$K(f,Jo,s.memoizedState,s.memoizedProps);break;case 5:xd(s,c,f);break;case 3:case 4:var y=Jo;Jo=My(s.stateNode.containerInfo),xd(s,c,f),Jo=y;break;case 22:s.memoizedState===null&&(y=s.alternate,y!==null&&y.memoizedState!==null?(y=qf,qf=16777216,xd(s,c,f),qf=y):xd(s,c,f));break;default:xd(s,c,f)}}function HR(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function Hf(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var y=c[f];pr=y,KR(y,s)}HR(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)GR(s),s=s.sibling}function GR(s){switch(s.tag){case 0:case 11:case 15:Hf(s),s.flags&2048&&Al(9,s,s.return);break;case 3:Hf(s);break;case 12:Hf(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,ky(s)):Hf(s);break;default:Hf(s)}}function ky(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var y=c[f];pr=y,KR(y,s)}HR(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:Al(8,c,c.return),ky(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,ky(c));break;default:ky(c)}s=s.sibling}}function KR(s,c){for(;pr!==null;){var f=pr;switch(f.tag){case 0:case 11:case 15:Al(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var y=f.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Cf(f.memoizedState.cache)}if(y=f.child,y!==null)y.return=f,pr=y;else e:for(f=s;pr!==null;){y=pr;var k=y.sibling,S=y.return;if(jR(y),y===f){pr=null;break e}if(k!==null){k.return=S,pr=k;break e}pr=S}}}var iK={getCacheForType:function(s){var c=Ar($n),f=c.data.get(s);return f===void 0&&(f=s(),c.data.set(s,f)),f},cacheSignal:function(){return Ar($n).controller.signal}},oK=typeof WeakMap=="function"?WeakMap:Map,Ot=0,en=null,ht=null,mt=0,Bt=0,Ki=null,Cl=!1,wd=!1,Uk=!1,vs=0,Sn=0,Il=0,Zc=0,Vk=0,Wi=0,kd=0,Gf=null,ki=null,Fk=!1,Ey=0,WR=0,_y=1/0,Ty=null,Nl=null,er=0,Rl=null,Ed=null,xs=0,Bk=0,$k=null,YR=null,Kf=0,qk=null;function Yi(){return(Ot&2)!==0&&mt!==0?mt&-mt:X.T!==null?Jk():Vi()}function JR(){if(Wi===0)if((mt&536870912)===0||wt){var s=rs;rs<<=1,(rs&3932160)===0&&(rs=262144),Wi=s}else Wi=536870912;return s=Hi.current,s!==null&&(s.flags|=32),Wi}function Ei(s,c,f){(s===en&&(Bt===2||Bt===9)||s.cancelPendingCommit!==null)&&(_d(s,0),Pl(s,mt,Wi,!1)),mi(s,f),((Ot&2)===0||s!==en)&&(s===en&&((Ot&2)===0&&(Zc|=f),Sn===4&&Pl(s,mt,Wi,!1)),Ra(s))}function XR(s,c,f){if((Ot&6)!==0)throw Error(r(327));var y=!f&&(c&127)===0&&(c&s.expiredLanes)===0||Un(s,c),k=y?lK(s,c):Gk(s,c,!0),S=y;do{if(k===0){wd&&!y&&Pl(s,c,0,!1);break}else{if(f=s.current.alternate,S&&!aK(f)){k=Gk(s,c,!1),S=!1;continue}if(k===2){if(S=c,s.errorRecoveryDisabledLanes&S)var O=0;else O=s.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){c=O;e:{var H=s;k=Gf;var Q=H.current.memoizedState.isDehydrated;if(Q&&(_d(H,O).flags|=256),O=Gk(H,O,!1),O!==2){if(Uk&&!Q){H.errorRecoveryDisabledLanes|=S,Zc|=S,k=4;break e}S=ki,ki=k,S!==null&&(ki===null?ki=S:ki.push.apply(ki,S))}k=O}if(S=!1,k!==2)continue}}if(k===1){_d(s,0),Pl(s,c,0,!0);break}e:{switch(y=s,S=k,S){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Pl(y,c,Wi,!Cl);break e;case 2:ki=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(k=Ey+300-Pe(),10<k)){if(Pl(y,c,Wi,!Cl),gn(y,0,!0)!==0)break e;xs=c,y.timeoutHandle=CP(QR.bind(null,y,f,ki,Ty,Fk,c,Wi,Zc,kd,Cl,S,"Throttled",-0,0),k);break e}QR(y,f,ki,Ty,Fk,c,Wi,Zc,kd,Cl,S,null,-0,0)}}break}while(!0);Ra(s)}function QR(s,c,f,y,k,S,O,H,Q,ce,ve,ke,pe,ye){if(s.timeoutHandle=-1,ke=c.subtreeFlags,ke&8192||(ke&16785408)===16785408){ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qo},qR(c,S,ke);var Fe=(S&62914560)===S?Ey-Pe():(S&4194048)===S?WR-Pe():0;if(Fe=qK(ke,Fe),Fe!==null){xs=S,s.cancelPendingCommit=Fe(aP.bind(null,s,c,S,f,y,k,O,H,Q,ve,ke,null,pe,ye)),Pl(s,S,O,!ce);return}}aP(s,c,S,f,y,k,O,H,Q)}function aK(s){for(var c=s;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var y=0;y<f.length;y++){var k=f[y],S=k.getSnapshot;k=k.value;try{if(!$i(S(),k))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Pl(s,c,f,y){c&=~Vk,c&=~Zc,s.suspendedLanes|=c,s.pingedLanes&=~c,y&&(s.warmLanes|=c),y=s.expirationTimes;for(var k=c;0<k;){var S=31-dt(k),O=1<<S;y[S]=-1,k&=~O}f!==0&&Lr(s,f,c)}function Sy(){return(Ot&6)===0?(Wf(0),!1):!0}function Hk(){if(ht!==null){if(Bt===0)var s=ht.return;else s=ht,cs=qc=null,sk(s),hd=null,Nf=0,s=ht;for(;s!==null;)IR(s.alternate,s),s=s.return;ht=null}}function _d(s,c){var f=s.timeoutHandle;f!==-1&&(s.timeoutHandle=-1,SK(f)),f=s.cancelPendingCommit,f!==null&&(s.cancelPendingCommit=null,f()),xs=0,Hk(),en=s,ht=f=ss(s.current,null),mt=c,Bt=0,Ki=null,Cl=!1,wd=Un(s,c),Uk=!1,kd=Wi=Vk=Zc=Il=Sn=0,ki=Gf=null,Fk=!1,(c&8)!==0&&(c|=c&32);var y=s.entangledLanes;if(y!==0)for(s=s.entanglements,y&=c;0<y;){var k=31-dt(y),S=1<<k;c|=s[k],y&=~S}return vs=c,Km(),f}function ZR(s,c){st=null,X.H=Lf,c===fd||c===ty?(c=g2(),Bt=3):c===Yw?(c=g2(),Bt=4):Bt=c===Ek?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ki=c,ht===null&&(Sn=1,gy(s,go(c,s.current)))}function eP(){var s=Hi.current;return s===null?!0:(mt&4194048)===mt?vo===null:(mt&62914560)===mt||(mt&536870912)!==0?s===vo:!1}function tP(){var s=X.H;return X.H=Lf,s===null?Lf:s}function nP(){var s=X.A;return X.A=iK,s}function Ay(){Sn=4,Cl||(mt&4194048)!==mt&&Hi.current!==null||(wd=!0),(Il&134217727)===0&&(Zc&134217727)===0||en===null||Pl(en,mt,Wi,!1)}function Gk(s,c,f){var y=Ot;Ot|=2;var k=tP(),S=nP();(en!==s||mt!==c)&&(Ty=null,_d(s,c)),c=!1;var O=Sn;e:do try{if(Bt!==0&&ht!==null){var H=ht,Q=Ki;switch(Bt){case 8:Hk(),O=6;break e;case 3:case 2:case 9:case 6:Hi.current===null&&(c=!0);var ce=Bt;if(Bt=0,Ki=null,Td(s,H,Q,ce),f&&wd){O=0;break e}break;default:ce=Bt,Bt=0,Ki=null,Td(s,H,Q,ce)}}sK(),O=Sn;break}catch(ve){ZR(s,ve)}while(!0);return c&&s.shellSuspendCounter++,cs=qc=null,Ot=y,X.H=k,X.A=S,ht===null&&(en=null,mt=0,Km()),O}function sK(){for(;ht!==null;)rP(ht)}function lK(s,c){var f=Ot;Ot|=2;var y=tP(),k=nP();en!==s||mt!==c?(Ty=null,_y=Pe()+500,_d(s,c)):wd=Un(s,c);e:do try{if(Bt!==0&&ht!==null){c=ht;var S=Ki;t:switch(Bt){case 1:Bt=0,Ki=null,Td(s,c,S,1);break;case 2:case 9:if(f2(S)){Bt=0,Ki=null,iP(c);break}c=function(){Bt!==2&&Bt!==9||en!==s||(Bt=7),Ra(s)},S.then(c,c);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:f2(S)?(Bt=0,Ki=null,iP(c)):(Bt=0,Ki=null,Td(s,c,S,7));break;case 5:var O=null;switch(ht.tag){case 26:O=ht.memoizedState;case 5:case 27:var H=ht;if(O?$P(O):H.stateNode.complete){Bt=0,Ki=null;var Q=H.sibling;if(Q!==null)ht=Q;else{var ce=H.return;ce!==null?(ht=ce,Cy(ce)):ht=null}break t}}Bt=0,Ki=null,Td(s,c,S,5);break;case 6:Bt=0,Ki=null,Td(s,c,S,6);break;case 8:Hk(),Sn=6;break e;default:throw Error(r(462))}}cK();break}catch(ve){ZR(s,ve)}while(!0);return cs=qc=null,X.H=y,X.A=k,Ot=f,ht!==null?0:(en=null,mt=0,Km(),Sn)}function cK(){for(;ht!==null&&!ji();)rP(ht)}function rP(s){var c=AR(s.alternate,s,vs);s.memoizedProps=s.pendingProps,c===null?Cy(s):ht=c}function iP(s){var c=s,f=c.alternate;switch(c.tag){case 15:case 0:c=wR(f,c,c.pendingProps,c.type,void 0,mt);break;case 11:c=wR(f,c,c.pendingProps,c.type.render,c.ref,mt);break;case 5:sk(c);default:IR(f,c),c=ht=n2(c,vs),c=AR(f,c,vs)}s.memoizedProps=s.pendingProps,c===null?Cy(s):ht=c}function Td(s,c,f,y){cs=qc=null,sk(c),hd=null,Nf=0;var k=c.return;try{if(XG(s,k,c,f,mt)){Sn=1,gy(s,go(f,s.current)),ht=null;return}}catch(S){if(k!==null)throw ht=k,S;Sn=1,gy(s,go(f,s.current)),ht=null;return}c.flags&32768?(wt||y===1?s=!0:wd||(mt&536870912)!==0?s=!1:(Cl=s=!0,(y===2||y===9||y===3||y===6)&&(y=Hi.current,y!==null&&y.tag===13&&(y.flags|=16384))),oP(c,s)):Cy(c)}function Cy(s){var c=s;do{if((c.flags&32768)!==0){oP(c,Cl);return}s=c.return;var f=eK(c.alternate,c,vs);if(f!==null){ht=f;return}if(c=c.sibling,c!==null){ht=c;return}ht=c=s}while(c!==null);Sn===0&&(Sn=5)}function oP(s,c){do{var f=tK(s.alternate,s);if(f!==null){f.flags&=32767,ht=f;return}if(f=s.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(s=s.sibling,s!==null)){ht=s;return}ht=s=f}while(s!==null);Sn=6,ht=null}function aP(s,c,f,y,k,S,O,H,Q){s.cancelPendingCommit=null;do Iy();while(er!==0);if((Ot&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(S=c.lanes|c.childLanes,S|=Dw,Pn(s,f,S,O,H,Q),s===en&&(ht=en=null,mt=0),Ed=c,Rl=s,xs=f,Bk=S,$k=k,YR=y,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,fK(Re,function(){return dP(),null})):(s.callbackNode=null,s.callbackPriority=0),y=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||y){y=X.T,X.T=null,k=Z.p,Z.p=2,O=Ot,Ot|=4;try{nK(s,c,f)}finally{Ot=O,Z.p=k,X.T=y}}er=1,sP(),lP(),cP()}}function sP(){if(er===1){er=0;var s=Rl,c=Ed,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=X.T,X.T=null;var y=Z.p;Z.p=2;var k=Ot;Ot|=4;try{FR(c,s);var S=i1,O=KN(s.containerInfo),H=S.focusedElem,Q=S.selectionRange;if(O!==H&&H&&H.ownerDocument&&GN(H.ownerDocument.documentElement,H)){if(Q!==null&&Iw(H)){var ce=Q.start,ve=Q.end;if(ve===void 0&&(ve=ce),"selectionStart"in H)H.selectionStart=ce,H.selectionEnd=Math.min(ve,H.value.length);else{var ke=H.ownerDocument||document,pe=ke&&ke.defaultView||window;if(pe.getSelection){var ye=pe.getSelection(),Fe=H.textContent.length,Xe=Math.min(Q.start,Fe),Qt=Q.end===void 0?Xe:Math.min(Q.end,Fe);!ye.extend&&Xe>Qt&&(O=Qt,Qt=Xe,Xe=O);var re=HN(H,Xe),te=HN(H,Qt);if(re&&te&&(ye.rangeCount!==1||ye.anchorNode!==re.node||ye.anchorOffset!==re.offset||ye.focusNode!==te.node||ye.focusOffset!==te.offset)){var se=ke.createRange();se.setStart(re.node,re.offset),ye.removeAllRanges(),Xe>Qt?(ye.addRange(se),ye.extend(te.node,te.offset)):(se.setEnd(te.node,te.offset),ye.addRange(se))}}}}for(ke=[],ye=H;ye=ye.parentNode;)ye.nodeType===1&&ke.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<ke.length;H++){var xe=ke[H];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}Fy=!!r1,i1=r1=null}finally{Ot=k,Z.p=y,X.T=f}}s.current=c,er=2}}function lP(){if(er===2){er=0;var s=Rl,c=Ed,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=X.T,X.T=null;var y=Z.p;Z.p=2;var k=Ot;Ot|=4;try{zR(s,c.alternate,c)}finally{Ot=k,Z.p=y,X.T=f}}er=3}}function cP(){if(er===4||er===3){er=0,Ce();var s=Rl,c=Ed,f=xs,y=YR;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?er=5:(er=0,Ed=Rl=null,uP(s,s.pendingLanes));var k=s.pendingLanes;if(k===0&&(Nl=null),Zr(f),c=c.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Wt,c,void 0,(c.current.flags&128)===128)}catch{}if(y!==null){c=X.T,k=Z.p,Z.p=2,X.T=null;try{for(var S=s.onRecoverableError,O=0;O<y.length;O++){var H=y[O];S(H.value,{componentStack:H.stack})}}finally{X.T=c,Z.p=k}}(xs&3)!==0&&Iy(),Ra(s),k=s.pendingLanes,(f&261930)!==0&&(k&42)!==0?s===qk?Kf++:(Kf=0,qk=s):Kf=0,Wf(0)}}function uP(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Cf(c)))}function Iy(){return sP(),lP(),cP(),dP()}function dP(){if(er!==5)return!1;var s=Rl,c=Bk;Bk=0;var f=Zr(xs),y=X.T,k=Z.p;try{Z.p=32>f?32:f,X.T=null,f=$k,$k=null;var S=Rl,O=xs;if(er=0,Ed=Rl=null,xs=0,(Ot&6)!==0)throw Error(r(331));var H=Ot;if(Ot|=4,GR(S.current),$R(S,S.current,O,f),Ot=H,Wf(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Wt,S)}catch{}return!0}finally{Z.p=k,X.T=y,uP(s,c)}}function pP(s,c,f){c=go(f,c),c=kk(s.stateNode,c,2),s=_l(s,c,2),s!==null&&(mi(s,2),Ra(s))}function $t(s,c,f){if(s.tag===3)pP(s,s,f);else for(;c!==null;){if(c.tag===3){pP(c,s,f);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Nl===null||!Nl.has(y))){s=go(f,s),f=fR(2),y=_l(c,f,2),y!==null&&(hR(f,y,c,s),mi(y,2),Ra(y));break}}c=c.return}}function Kk(s,c,f){var y=s.pingCache;if(y===null){y=s.pingCache=new oK;var k=new Set;y.set(c,k)}else k=y.get(c),k===void 0&&(k=new Set,y.set(c,k));k.has(f)||(Uk=!0,k.add(f),s=uK.bind(null,s,c,f),c.then(s,s))}function uK(s,c,f){var y=s.pingCache;y!==null&&y.delete(c),s.pingedLanes|=s.suspendedLanes&f,s.warmLanes&=~f,en===s&&(mt&f)===f&&(Sn===4||Sn===3&&(mt&62914560)===mt&&300>Pe()-Ey?(Ot&2)===0&&_d(s,0):Vk|=f,kd===mt&&(kd=0)),Ra(s)}function fP(s,c){c===0&&(c=cr()),s=Fc(s,c),s!==null&&(mi(s,c),Ra(s))}function dK(s){var c=s.memoizedState,f=0;c!==null&&(f=c.retryLane),fP(s,f)}function pK(s,c){var f=0;switch(s.tag){case 31:case 13:var y=s.stateNode,k=s.memoizedState;k!==null&&(f=k.retryLane);break;case 19:y=s.stateNode;break;case 22:y=s.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(c),fP(s,f)}function fK(s,c){return Tt(s,c)}var Ny=null,Sd=null,Wk=!1,Ry=!1,Yk=!1,Ol=0;function Ra(s){s!==Sd&&s.next===null&&(Sd===null?Ny=Sd=s:Sd=Sd.next=s),Ry=!0,Wk||(Wk=!0,gK())}function Wf(s,c){if(!Yk&&Ry){Yk=!0;do for(var f=!1,y=Ny;y!==null;){if(s!==0){var k=y.pendingLanes;if(k===0)var S=0;else{var O=y.suspendedLanes,H=y.pingedLanes;S=(1<<31-dt(42|s)+1)-1,S&=k&~(O&~H),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,yP(y,S))}else S=mt,S=gn(y,y===en?S:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(S&3)===0||Un(y,S)||(f=!0,yP(y,S));y=y.next}while(f);Yk=!1}}function hK(){hP()}function hP(){Ry=Wk=!1;var s=0;Ol!==0&&TK()&&(s=Ol);for(var c=Pe(),f=null,y=Ny;y!==null;){var k=y.next,S=gP(y,c);S===0?(y.next=null,f===null?Ny=k:f.next=k,k===null&&(Sd=f)):(f=y,(s!==0||(S&3)!==0)&&(Ry=!0)),y=k}er!==0&&er!==5||Wf(s),Ol!==0&&(Ol=0)}function gP(s,c){for(var f=s.suspendedLanes,y=s.pingedLanes,k=s.expirationTimes,S=s.pendingLanes&-62914561;0<S;){var O=31-dt(S),H=1<<O,Q=k[O];Q===-1?((H&f)===0||(H&y)!==0)&&(k[O]=jr(H,c)):Q<=c&&(s.expiredLanes|=H),S&=~H}if(c=en,f=mt,f=gn(s,s===c?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y=s.callbackNode,f===0||s===c&&(Bt===2||Bt===9)||s.cancelPendingCommit!==null)return y!==null&&y!==null&&Er(y),s.callbackNode=null,s.callbackPriority=0;if((f&3)===0||Un(s,f)){if(c=f&-f,c===s.callbackPriority)return c;switch(y!==null&&Er(y),Zr(f)){case 2:case 8:f=ge;break;case 32:f=Re;break;case 268435456:f=Oe;break;default:f=Re}return y=mP.bind(null,s),f=Tt(f,y),s.callbackPriority=c,s.callbackNode=f,c}return y!==null&&y!==null&&Er(y),s.callbackPriority=2,s.callbackNode=null,2}function mP(s,c){if(er!==0&&er!==5)return s.callbackNode=null,s.callbackPriority=0,null;var f=s.callbackNode;if(Iy()&&s.callbackNode!==f)return null;var y=mt;return y=gn(s,s===en?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y===0?null:(XR(s,y,c),gP(s,Pe()),s.callbackNode!=null&&s.callbackNode===f?mP.bind(null,s):null)}function yP(s,c){if(Iy())return null;XR(s,c,!0)}function gK(){AK(function(){(Ot&6)!==0?Tt(ee,hK):hP()})}function Jk(){if(Ol===0){var s=dd;s===0&&(s=lo,lo<<=1,(lo&261888)===0&&(lo=256)),Ol=s}return Ol}function bP(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ju(""+s)}function vP(s,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,s.id&&f.setAttribute("form",s.id),c.parentNode.insertBefore(f,c),s=new FormData(s),f.parentNode.removeChild(f),s}function mK(s,c,f,y,k){if(c==="submit"&&f&&f.stateNode===k){var S=bP((k[ur]||null).action),O=y.submitter;O&&(c=(c=O[ur]||null)?bP(c.formAction):O.getAttribute("formAction"),c!==null&&(S=c,O=null));var H=new _a("action","action",null,y,k);s.push({event:H,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Ol!==0){var Q=O?vP(k,O):new FormData(k);mk(f,{pending:!0,data:Q,method:k.method,action:S},null,Q)}}else typeof S=="function"&&(H.preventDefault(),Q=O?vP(k,O):new FormData(k),mk(f,{pending:!0,data:Q,method:k.method,action:S},S,Q))},currentTarget:k}]})}}for(var Xk=0;Xk<Ow.length;Xk++){var Qk=Ow[Xk],yK=Qk.toLowerCase(),bK=Qk[0].toUpperCase()+Qk.slice(1);Yo(yK,"on"+bK)}Yo(JN,"onAnimationEnd"),Yo(XN,"onAnimationIteration"),Yo(QN,"onAnimationStart"),Yo("dblclick","onDoubleClick"),Yo("focusin","onFocus"),Yo("focusout","onBlur"),Yo(DG,"onTransitionRun"),Yo(MG,"onTransitionStart"),Yo(zG,"onTransitionCancel"),Yo(ZN,"onTransitionEnd"),xa("onMouseEnter",["mouseout","mouseover"]),xa("onMouseLeave",["mouseout","mouseover"]),xa("onPointerEnter",["pointerout","pointerover"]),xa("onPointerLeave",["pointerout","pointerover"]),va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),va("onBeforeInput",["compositionend","keypress","textInput","paste"]),va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yf));function xP(s,c){c=(c&4)!==0;for(var f=0;f<s.length;f++){var y=s[f],k=y.event;y=y.listeners;e:{var S=void 0;if(c)for(var O=y.length-1;0<=O;O--){var H=y[O],Q=H.instance,ce=H.currentTarget;if(H=H.listener,Q!==S&&k.isPropagationStopped())break e;S=H,k.currentTarget=ce;try{S(k)}catch(ve){Gm(ve)}k.currentTarget=null,S=Q}else for(O=0;O<y.length;O++){if(H=y[O],Q=H.instance,ce=H.currentTarget,H=H.listener,Q!==S&&k.isPropagationStopped())break e;S=H,k.currentTarget=ce;try{S(k)}catch(ve){Gm(ve)}k.currentTarget=null,S=Q}}}}function gt(s,c){var f=c[Hu];f===void 0&&(f=c[Hu]=new Set);var y=s+"__bubble";f.has(y)||(wP(c,s,2,!1),f.add(y))}function Zk(s,c,f){var y=0;c&&(y|=4),wP(f,s,y,c)}var Py="_reactListening"+Math.random().toString(36).slice(2);function e1(s){if(!s[Py]){s[Py]=!0,sf.forEach(function(f){f!=="selectionchange"&&(vK.has(f)||Zk(f,!1,s),Zk(f,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[Py]||(c[Py]=!0,Zk("selectionchange",!1,c))}}function wP(s,c,f,y){switch(JP(c)){case 2:var k=KK;break;case 8:k=WK;break;default:k=g1}f=k.bind(null,c,f,s),k=void 0,!Oc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(k=!0),y?k!==void 0?s.addEventListener(c,f,{capture:!0,passive:k}):s.addEventListener(c,f,!0):k!==void 0?s.addEventListener(c,f,{passive:k}):s.addEventListener(c,f,!1)}function t1(s,c,f,y,k){var S=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var O=y.tag;if(O===3||O===4){var H=y.stateNode.containerInfo;if(H===k)break;if(O===4)for(O=y.return;O!==null;){var Q=O.tag;if((Q===3||Q===4)&&O.stateNode.containerInfo===k)return;O=O.return}for(;H!==null;){if(O=ya(H),O===null)return;if(Q=O.tag,Q===5||Q===6||Q===26||Q===27){y=S=O;continue e}H=H.parentNode}}y=y.return}hl(function(){var ce=S,ve=uo(f),ke=[];e:{var pe=e2.get(s);if(pe!==void 0){var ye=_a,Fe=s;switch(s){case"keypress":if(Mc(f)===0)break e;case"keydown":case"keyup":ye=$m;break;case"focusin":Fe="focus",ye=jc;break;case"focusout":Fe="blur",ye=jc;break;case"beforeblur":case"afterblur":ye=jc;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=R;break;case JN:case XN:case QN:ye=zm;break;case ZN:ye=K;break;case"scroll":case"scrollend":ye=vf;break;case"wheel":ye=he;break;case"copy":case"cut":case"paste":ye=jm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=as;break;case"toggle":case"beforetoggle":ye=at}var Xe=(c&4)!==0,Qt=!Xe&&(s==="scroll"||s==="scrollend"),re=Xe?pe!==null?pe+"Capture":null:pe;Xe=[];for(var te=ce,se;te!==null;){var xe=te;if(se=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||se===null||re===null||(xe=Ho(te,re),xe!=null&&Xe.push(Jf(te,xe,se))),Qt)break;te=te.return}0<Xe.length&&(pe=new ye(pe,Fe,null,f,ve),ke.push({event:pe,listeners:Xe}))}}if((c&7)===0){e:{if(pe=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",pe&&f!==mf&&(Fe=f.relatedTarget||f.fromElement)&&(ya(Fe)||Fe[ga]))break e;if((ye||pe)&&(pe=ve.window===ve?ve:(pe=ve.ownerDocument)?pe.defaultView||pe.parentWindow:window,ye?(Fe=f.relatedTarget||f.toElement,ye=ce,Fe=Fe?ya(Fe):null,Fe!==null&&(Qt=o(Fe),Xe=Fe.tag,Fe!==Qt||Xe!==5&&Xe!==27&&Xe!==6)&&(Fe=null)):(ye=null,Fe=ce),ye!==Fe)){if(Xe=xf,xe="onMouseLeave",re="onMouseEnter",te="mouse",(s==="pointerout"||s==="pointerover")&&(Xe=as,xe="onPointerLeave",re="onPointerEnter",te="pointer"),Qt=ye==null?pe:Fi(ye),se=Fe==null?pe:Fi(Fe),pe=new Xe(xe,te+"leave",ye,f,ve),pe.target=Qt,pe.relatedTarget=se,xe=null,ya(ve)===ce&&(Xe=new Xe(re,te+"enter",Fe,f,ve),Xe.target=se,Xe.relatedTarget=Qt,xe=Xe),Qt=xe,ye&&Fe)t:{for(Xe=xK,re=ye,te=Fe,se=0,xe=re;xe;xe=Xe(xe))se++;xe=0;for(var Ke=te;Ke;Ke=Xe(Ke))xe++;for(;0<se-xe;)re=Xe(re),se--;for(;0<xe-se;)te=Xe(te),xe--;for(;se--;){if(re===te||te!==null&&re===te.alternate){Xe=re;break t}re=Xe(re),te=Xe(te)}Xe=null}else Xe=null;ye!==null&&kP(ke,pe,ye,Xe,!1),Fe!==null&&Qt!==null&&kP(ke,Qt,Fe,Xe,!0)}}e:{if(pe=ce?Fi(ce):window,ye=pe.nodeName&&pe.nodeName.toLowerCase(),ye==="select"||ye==="input"&&pe.type==="file")var St=UN;else if(jN(pe))if(VN)St=RG;else{St=IG;var $e=CG}else ye=pe.nodeName,!ye||ye.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?ce&&Yu(ce.elementType)&&(St=UN):St=NG;if(St&&(St=St(s,ce))){LN(ke,St,f,ve);break e}$e&&$e(s,pe,ce),s==="focusout"&&ce&&pe.type==="number"&&ce.memoizedProps.value!=null&&ff(pe,"number",pe.value)}switch($e=ce?Fi(ce):window,s){case"focusin":(jN($e)||$e.contentEditable==="true")&&(rd=$e,Nw=ce,Tf=null);break;case"focusout":Tf=Nw=rd=null;break;case"mousedown":Rw=!0;break;case"contextmenu":case"mouseup":case"dragend":Rw=!1,WN(ke,f,ve);break;case"selectionchange":if(OG)break;case"keydown":case"keyup":WN(ke,f,ve)}var ct;if(Pt)e:{switch(s){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else nd?Lc(s,f)&&(yt="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(yt="onCompositionStart");yt&&(Aa&&f.locale!=="ko"&&(nd||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&nd&&(ct=bf()):(Ea=ve,yf="value"in Ea?Ea.value:Ea.textContent,nd=!0)),$e=Oy(ce,yt),0<$e.length&&(yt=new Sa(yt,s,null,f,ve),ke.push({event:yt,listeners:$e}),ct?yt.data=ct:(ct=td(f),ct!==null&&(yt.data=ct)))),(ct=fo?_G(s,f):TG(s,f))&&(yt=Oy(ce,"onBeforeInput"),0<yt.length&&($e=new Sa("onBeforeInput","beforeinput",null,f,ve),ke.push({event:$e,listeners:yt}),$e.data=ct)),mK(ke,s,ce,f,ve)}xP(ke,c)})}function Jf(s,c,f){return{instance:s,listener:c,currentTarget:f}}function Oy(s,c){for(var f=c+"Capture",y=[];s!==null;){var k=s,S=k.stateNode;if(k=k.tag,k!==5&&k!==26&&k!==27||S===null||(k=Ho(s,f),k!=null&&y.unshift(Jf(s,k,S)),k=Ho(s,c),k!=null&&y.push(Jf(s,k,S))),s.tag===3)return y;s=s.return}return[]}function xK(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function kP(s,c,f,y,k){for(var S=c._reactName,O=[];f!==null&&f!==y;){var H=f,Q=H.alternate,ce=H.stateNode;if(H=H.tag,Q!==null&&Q===y)break;H!==5&&H!==26&&H!==27||ce===null||(Q=ce,k?(ce=Ho(f,S),ce!=null&&O.unshift(Jf(f,ce,Q))):k||(ce=Ho(f,S),ce!=null&&O.push(Jf(f,ce,Q)))),f=f.return}O.length!==0&&s.push({event:c,listeners:O})}var wK=/\r\n?/g,kK=/\u0000|\uFFFD/g;function EP(s){return(typeof s=="string"?s:""+s).replace(wK,`
`).replace(kK,"")}function _P(s,c){return c=EP(c),EP(s)===c}function Xt(s,c,f,y,k,S){switch(f){case"children":typeof y=="string"?c==="body"||c==="textarea"&&y===""||bi(s,y):(typeof y=="number"||typeof y=="bigint")&&c!=="body"&&bi(s,""+y);break;case"className":Bi(s,"class",y);break;case"tabIndex":Bi(s,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Bi(s,f,y);break;case"style":gf(s,y,S);break;case"data":if(c!=="object"){Bi(s,"data",y);break}case"src":case"href":if(y===""&&(c!=="a"||f!=="href")){s.removeAttribute(f);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(f);break}y=Ju(""+y),s.setAttribute(f,y);break;case"action":case"formAction":if(typeof y=="function"){s.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(c!=="input"&&Xt(s,c,"name",k.name,k,null),Xt(s,c,"formEncType",k.formEncType,k,null),Xt(s,c,"formMethod",k.formMethod,k,null),Xt(s,c,"formTarget",k.formTarget,k,null)):(Xt(s,c,"encType",k.encType,k,null),Xt(s,c,"method",k.method,k,null),Xt(s,c,"target",k.target,k,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(f);break}y=Ju(""+y),s.setAttribute(f,y);break;case"onClick":y!=null&&(s.onclick=qo);break;case"onScroll":y!=null&&gt("scroll",s);break;case"onScrollEnd":y!=null&&gt("scrollend",s);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(f=y.__html,f!=null){if(k.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"multiple":s.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":s.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){s.removeAttribute("xlink:href");break}f=Ju(""+y),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(f,""+y):s.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(f,""):s.removeAttribute(f);break;case"capture":case"download":y===!0?s.setAttribute(f,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(f,y):s.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?s.setAttribute(f,y):s.removeAttribute(f);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?s.removeAttribute(f):s.setAttribute(f,y);break;case"popover":gt("beforetoggle",s),gt("toggle",s),Ku(s,"popover",y);break;case"xlinkActuate":Bn(s,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Bn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Bn(s,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Bn(s,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Bn(s,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Bn(s,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Bn(s,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Bn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Bn(s,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Ku(s,"is",y);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Om.get(f)||f,Ku(s,f,y))}}function n1(s,c,f,y,k,S){switch(f){case"style":gf(s,y,S);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(f=y.__html,f!=null){if(k.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"children":typeof y=="string"?bi(s,y):(typeof y=="number"||typeof y=="bigint")&&bi(s,""+y);break;case"onScroll":y!=null&&gt("scroll",s);break;case"onScrollEnd":y!=null&&gt("scrollend",s);break;case"onClick":y!=null&&(s.onclick=qo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lf.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(k=f.endsWith("Capture"),c=f.slice(2,k?f.length-7:void 0),S=s[ur]||null,S=S!=null?S[f]:null,typeof S=="function"&&s.removeEventListener(c,S,k),typeof y=="function")){typeof S!="function"&&S!==null&&(f in s?s[f]=null:s.hasAttribute(f)&&s.removeAttribute(f)),s.addEventListener(c,y,k);break e}f in s?s[f]=y:y===!0?s.setAttribute(f,""):Ku(s,f,y)}}}function Ir(s,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",s),gt("load",s);var y=!1,k=!1,S;for(S in f)if(f.hasOwnProperty(S)){var O=f[S];if(O!=null)switch(S){case"src":y=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Xt(s,c,S,O,f,null)}}k&&Xt(s,c,"srcSet",f.srcSet,f,null),y&&Xt(s,c,"src",f.src,f,null);return;case"input":gt("invalid",s);var H=S=O=k=null,Q=null,ce=null;for(y in f)if(f.hasOwnProperty(y)){var ve=f[y];if(ve!=null)switch(y){case"name":k=ve;break;case"type":O=ve;break;case"checked":Q=ve;break;case"defaultChecked":ce=ve;break;case"value":S=ve;break;case"defaultValue":H=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,c));break;default:Xt(s,c,y,ve,f,null)}}Nm(s,S,H,Q,ce,O,k,!1);return;case"select":gt("invalid",s),y=O=S=null;for(k in f)if(f.hasOwnProperty(k)&&(H=f[k],H!=null))switch(k){case"value":S=H;break;case"defaultValue":O=H;break;case"multiple":y=H;default:Xt(s,c,k,H,f,null)}c=S,f=O,s.multiple=!!y,c!=null?ul(s,!!y,c,!1):f!=null&&ul(s,!!y,f,!0);return;case"textarea":gt("invalid",s),S=k=y=null;for(O in f)if(f.hasOwnProperty(O)&&(H=f[O],H!=null))switch(O){case"value":y=H;break;case"defaultValue":k=H;break;case"children":S=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:Xt(s,c,O,H,f,null)}dl(s,y,k,S);return;case"option":for(Q in f)if(f.hasOwnProperty(Q)&&(y=f[Q],y!=null))switch(Q){case"selected":s.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Xt(s,c,Q,y,f,null)}return;case"dialog":gt("beforetoggle",s),gt("toggle",s),gt("cancel",s),gt("close",s);break;case"iframe":case"object":gt("load",s);break;case"video":case"audio":for(y=0;y<Yf.length;y++)gt(Yf[y],s);break;case"image":gt("error",s),gt("load",s);break;case"details":gt("toggle",s);break;case"embed":case"source":case"link":gt("error",s),gt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in f)if(f.hasOwnProperty(ce)&&(y=f[ce],y!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Xt(s,c,ce,y,f,null)}return;default:if(Yu(c)){for(ve in f)f.hasOwnProperty(ve)&&(y=f[ve],y!==void 0&&n1(s,c,ve,y,f,void 0));return}}for(H in f)f.hasOwnProperty(H)&&(y=f[H],y!=null&&Xt(s,c,H,y,f,null))}function EK(s,c,f,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,S=null,O=null,H=null,Q=null,ce=null,ve=null;for(ye in f){var ke=f[ye];if(f.hasOwnProperty(ye)&&ke!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":Q=ke;default:y.hasOwnProperty(ye)||Xt(s,c,ye,null,y,ke)}}for(var pe in y){var ye=y[pe];if(ke=f[pe],y.hasOwnProperty(pe)&&(ye!=null||ke!=null))switch(pe){case"type":S=ye;break;case"name":k=ye;break;case"checked":ce=ye;break;case"defaultChecked":ve=ye;break;case"value":O=ye;break;case"defaultValue":H=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,c));break;default:ye!==ke&&Xt(s,c,pe,ye,y,ke)}}Wu(s,O,H,Q,ce,ve,S,k);return;case"select":ye=O=H=pe=null;for(S in f)if(Q=f[S],f.hasOwnProperty(S)&&Q!=null)switch(S){case"value":break;case"multiple":ye=Q;default:y.hasOwnProperty(S)||Xt(s,c,S,null,y,Q)}for(k in y)if(S=y[k],Q=f[k],y.hasOwnProperty(k)&&(S!=null||Q!=null))switch(k){case"value":pe=S;break;case"defaultValue":H=S;break;case"multiple":O=S;default:S!==Q&&Xt(s,c,k,S,y,Q)}c=H,f=O,y=ye,pe!=null?ul(s,!!f,pe,!1):!!y!=!!f&&(c!=null?ul(s,!!f,c,!0):ul(s,!!f,f?[]:"",!1));return;case"textarea":ye=pe=null;for(H in f)if(k=f[H],f.hasOwnProperty(H)&&k!=null&&!y.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Xt(s,c,H,null,y,k)}for(O in y)if(k=y[O],S=f[O],y.hasOwnProperty(O)&&(k!=null||S!=null))switch(O){case"value":pe=k;break;case"defaultValue":ye=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:k!==S&&Xt(s,c,O,k,y,S)}Rm(s,pe,ye);return;case"option":for(var Fe in f)if(pe=f[Fe],f.hasOwnProperty(Fe)&&pe!=null&&!y.hasOwnProperty(Fe))switch(Fe){case"selected":s.selected=!1;break;default:Xt(s,c,Fe,null,y,pe)}for(Q in y)if(pe=y[Q],ye=f[Q],y.hasOwnProperty(Q)&&pe!==ye&&(pe!=null||ye!=null))switch(Q){case"selected":s.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:Xt(s,c,Q,pe,y,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in f)pe=f[Xe],f.hasOwnProperty(Xe)&&pe!=null&&!y.hasOwnProperty(Xe)&&Xt(s,c,Xe,null,y,pe);for(ce in y)if(pe=y[ce],ye=f[ce],y.hasOwnProperty(ce)&&pe!==ye&&(pe!=null||ye!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,c));break;default:Xt(s,c,ce,pe,y,ye)}return;default:if(Yu(c)){for(var Qt in f)pe=f[Qt],f.hasOwnProperty(Qt)&&pe!==void 0&&!y.hasOwnProperty(Qt)&&n1(s,c,Qt,void 0,y,pe);for(ve in y)pe=y[ve],ye=f[ve],!y.hasOwnProperty(ve)||pe===ye||pe===void 0&&ye===void 0||n1(s,c,ve,pe,y,ye);return}}for(var re in f)pe=f[re],f.hasOwnProperty(re)&&pe!=null&&!y.hasOwnProperty(re)&&Xt(s,c,re,null,y,pe);for(ke in y)pe=y[ke],ye=f[ke],!y.hasOwnProperty(ke)||pe===ye||pe==null&&ye==null||Xt(s,c,ke,pe,y,ye)}function TP(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _K(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,f=performance.getEntriesByType("resource"),y=0;y<f.length;y++){var k=f[y],S=k.transferSize,O=k.initiatorType,H=k.duration;if(S&&H&&TP(O)){for(O=0,H=k.responseEnd,y+=1;y<f.length;y++){var Q=f[y],ce=Q.startTime;if(ce>H)break;var ve=Q.transferSize,ke=Q.initiatorType;ve&&TP(ke)&&(Q=Q.responseEnd,O+=ve*(Q<H?1:(H-ce)/(Q-ce)))}if(--y,c+=8*(S+O)/(k.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var r1=null,i1=null;function Dy(s){return s.nodeType===9?s:s.ownerDocument}function SP(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AP(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function o1(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var a1=null;function TK(){var s=window.event;return s&&s.type==="popstate"?s===a1?!1:(a1=s,!0):(a1=null,!1)}var CP=typeof setTimeout=="function"?setTimeout:void 0,SK=typeof clearTimeout=="function"?clearTimeout:void 0,IP=typeof Promise=="function"?Promise:void 0,AK=typeof queueMicrotask=="function"?queueMicrotask:typeof IP<"u"?function(s){return IP.resolve(null).then(s).catch(CK)}:CP;function CK(s){setTimeout(function(){throw s})}function Dl(s){return s==="head"}function NP(s,c){var f=c,y=0;do{var k=f.nextSibling;if(s.removeChild(f),k&&k.nodeType===8)if(f=k.data,f==="/$"||f==="/&"){if(y===0){s.removeChild(k),Nd(c);return}y--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")y++;else if(f==="html")Xf(s.ownerDocument.documentElement);else if(f==="head"){f=s.ownerDocument.head,Xf(f);for(var S=f.firstChild;S;){var O=S.nextSibling,H=S.nodeName;S[ma]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&S.rel.toLowerCase()==="stylesheet"||f.removeChild(S),S=O}}else f==="body"&&Xf(s.ownerDocument.body);f=k}while(f);Nd(c)}function RP(s,c){var f=s;s=0;do{var y=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),y&&y.nodeType===8)if(f=y.data,f==="/$"){if(s===0)break;s--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||s++;f=y}while(f)}function s1(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":s1(f),Gu(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}s.removeChild(f)}}function IK(s,c,f,y){for(;s.nodeType===1;){var k=f;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!y&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(y){if(!s[ma])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(S=s.getAttribute("rel"),S==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(S!==k.rel||s.getAttribute("href")!==(k.href==null||k.href===""?null:k.href)||s.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||s.getAttribute("title")!==(k.title==null?null:k.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(S=s.getAttribute("src"),(S!==(k.src==null?null:k.src)||s.getAttribute("type")!==(k.type==null?null:k.type)||s.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&S&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var S=k.name==null?null:""+k.name;if(k.type==="hidden"&&s.getAttribute("name")===S)return s}else return s;if(s=xo(s.nextSibling),s===null)break}return null}function NK(s,c,f){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=xo(s.nextSibling),s===null))return null;return s}function PP(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=xo(s.nextSibling),s===null))return null;return s}function l1(s){return s.data==="$?"||s.data==="$~"}function c1(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function RK(s,c){var f=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||f.readyState!=="loading")c();else{var y=function(){c(),f.removeEventListener("DOMContentLoaded",y)};f.addEventListener("DOMContentLoaded",y),s._reactRetry=y}}function xo(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var u1=null;function OP(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"||f==="/&"){if(c===0)return xo(s.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}s=s.nextSibling}return null}function DP(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return s;c--}else f!=="/$"&&f!=="/&"||c++}s=s.previousSibling}return null}function MP(s,c,f){switch(c=Dy(f),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Xf(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Gu(s)}var wo=new Map,zP=new Set;function My(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ws=Z.d;Z.d={f:PK,r:OK,D:DK,C:MK,L:zK,m:jK,X:UK,S:LK,M:VK};function PK(){var s=ws.f(),c=Sy();return s||c}function OK(s){var c=co(s);c!==null&&c.tag===5&&c.type==="form"?Z2(c):ws.r(s)}var Ad=typeof document>"u"?null:document;function jP(s,c,f){var y=Ad;if(y&&typeof c=="string"&&c){var k=yi(c);k='link[rel="'+s+'"][href="'+k+'"]',typeof f=="string"&&(k+='[crossorigin="'+f+'"]'),zP.has(k)||(zP.add(k),s={rel:s,crossOrigin:f,href:c},y.querySelector(k)===null&&(c=y.createElement("link"),Ir(c,"link",s),Fn(c),y.head.appendChild(c)))}}function DK(s){ws.D(s),jP("dns-prefetch",s,null)}function MK(s,c){ws.C(s,c),jP("preconnect",s,c)}function zK(s,c,f){ws.L(s,c,f);var y=Ad;if(y&&s&&c){var k='link[rel="preload"][as="'+yi(c)+'"]';c==="image"&&f&&f.imageSrcSet?(k+='[imagesrcset="'+yi(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(k+='[imagesizes="'+yi(f.imageSizes)+'"]')):k+='[href="'+yi(s)+'"]';var S=k;switch(c){case"style":S=Cd(s);break;case"script":S=Id(s)}wo.has(S)||(s=g({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:s,as:c},f),wo.set(S,s),y.querySelector(k)!==null||c==="style"&&y.querySelector(Qf(S))||c==="script"&&y.querySelector(Zf(S))||(c=y.createElement("link"),Ir(c,"link",s),Fn(c),y.head.appendChild(c)))}}function jK(s,c){ws.m(s,c);var f=Ad;if(f&&s){var y=c&&typeof c.as=="string"?c.as:"script",k='link[rel="modulepreload"][as="'+yi(y)+'"][href="'+yi(s)+'"]',S=k;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Id(s)}if(!wo.has(S)&&(s=g({rel:"modulepreload",href:s},c),wo.set(S,s),f.querySelector(k)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Zf(S)))return}y=f.createElement("link"),Ir(y,"link",s),Fn(y),f.head.appendChild(y)}}}function LK(s,c,f){ws.S(s,c,f);var y=Ad;if(y&&s){var k=ba(y).hoistableStyles,S=Cd(s);c=c||"default";var O=k.get(S);if(!O){var H={loading:0,preload:null};if(O=y.querySelector(Qf(S)))H.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":c},f),(f=wo.get(S))&&d1(s,f);var Q=O=y.createElement("link");Fn(Q),Ir(Q,"link",s),Q._p=new Promise(function(ce,ve){Q.onload=ce,Q.onerror=ve}),Q.addEventListener("load",function(){H.loading|=1}),Q.addEventListener("error",function(){H.loading|=2}),H.loading|=4,zy(O,c,y)}O={type:"stylesheet",instance:O,count:1,state:H},k.set(S,O)}}}function UK(s,c){ws.X(s,c);var f=Ad;if(f&&s){var y=ba(f).hoistableScripts,k=Id(s),S=y.get(k);S||(S=f.querySelector(Zf(k)),S||(s=g({src:s,async:!0},c),(c=wo.get(k))&&p1(s,c),S=f.createElement("script"),Fn(S),Ir(S,"link",s),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},y.set(k,S))}}function VK(s,c){ws.M(s,c);var f=Ad;if(f&&s){var y=ba(f).hoistableScripts,k=Id(s),S=y.get(k);S||(S=f.querySelector(Zf(k)),S||(s=g({src:s,async:!0,type:"module"},c),(c=wo.get(k))&&p1(s,c),S=f.createElement("script"),Fn(S),Ir(S,"link",s),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},y.set(k,S))}}function LP(s,c,f,y){var k=(k=Te.current)?My(k):null;if(!k)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=Cd(f.href),f=ba(k).hoistableStyles,y=f.get(c),y||(y={type:"style",instance:null,count:0,state:null},f.set(c,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){s=Cd(f.href);var S=ba(k).hoistableStyles,O=S.get(s);if(O||(k=k.ownerDocument||k,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(s,O),(S=k.querySelector(Qf(s)))&&!S._p&&(O.instance=S,O.state.loading=5),wo.has(s)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},wo.set(s,f),S||FK(k,s,f,O.state))),c&&y===null)throw Error(r(528,""));return O}if(c&&y!==null)throw Error(r(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Id(f),f=ba(k).hoistableScripts,y=f.get(c),y||(y={type:"script",instance:null,count:0,state:null},f.set(c,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Cd(s){return'href="'+yi(s)+'"'}function Qf(s){return'link[rel="stylesheet"]['+s+"]"}function UP(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function FK(s,c,f,y){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?y.loading=1:(c=s.createElement("link"),y.preload=c,c.addEventListener("load",function(){return y.loading|=1}),c.addEventListener("error",function(){return y.loading|=2}),Ir(c,"link",f),Fn(c),s.head.appendChild(c))}function Id(s){return'[src="'+yi(s)+'"]'}function Zf(s){return"script[async]"+s}function VP(s,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var y=s.querySelector('style[data-href~="'+yi(f.href)+'"]');if(y)return c.instance=y,Fn(y),y;var k=g({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return y=(s.ownerDocument||s).createElement("style"),Fn(y),Ir(y,"style",k),zy(y,f.precedence,s),c.instance=y;case"stylesheet":k=Cd(f.href);var S=s.querySelector(Qf(k));if(S)return c.state.loading|=4,c.instance=S,Fn(S),S;y=UP(f),(k=wo.get(k))&&d1(y,k),S=(s.ownerDocument||s).createElement("link"),Fn(S);var O=S;return O._p=new Promise(function(H,Q){O.onload=H,O.onerror=Q}),Ir(S,"link",y),c.state.loading|=4,zy(S,f.precedence,s),c.instance=S;case"script":return S=Id(f.src),(k=s.querySelector(Zf(S)))?(c.instance=k,Fn(k),k):(y=f,(k=wo.get(S))&&(y=g({},f),p1(y,k)),s=s.ownerDocument||s,k=s.createElement("script"),Fn(k),Ir(k,"link",y),s.head.appendChild(k),c.instance=k);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(y=c.instance,c.state.loading|=4,zy(y,f.precedence,s));return c.instance}function zy(s,c,f){for(var y=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=y.length?y[y.length-1]:null,S=k,O=0;O<y.length;O++){var H=y[O];if(H.dataset.precedence===c)S=H;else if(S!==k)break}S?S.parentNode.insertBefore(s,S.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(s,c.firstChild))}function d1(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function p1(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var jy=null;function FP(s,c,f){if(jy===null){var y=new Map,k=jy=new Map;k.set(f,y)}else k=jy,y=k.get(f),y||(y=new Map,k.set(f,y));if(y.has(s))return y;for(y.set(s,null),f=f.getElementsByTagName(s),k=0;k<f.length;k++){var S=f[k];if(!(S[ma]||S[Vn]||s==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var O=S.getAttribute(c)||"";O=s+O;var H=y.get(O);H?H.push(S):y.set(O,[S])}}return y}function BP(s,c,f){s=s.ownerDocument||s,s.head.insertBefore(f,c==="title"?s.querySelector("head > title"):null)}function BK(s,c,f){if(f===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function $P(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function $K(s,c,f,y){if(f.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var k=Cd(y.href),S=c.querySelector(Qf(k));if(S){c=S._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=Ly.bind(s),c.then(s,s)),f.state.loading|=4,f.instance=S,Fn(S);return}S=c.ownerDocument||c,y=UP(y),(k=wo.get(k))&&d1(y,k),S=S.createElement("link"),Fn(S);var O=S;O._p=new Promise(function(H,Q){O.onload=H,O.onerror=Q}),Ir(S,"link",y),f.instance=S}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(s.count++,f=Ly.bind(s),c.addEventListener("load",f),c.addEventListener("error",f))}}var f1=0;function qK(s,c){return s.stylesheets&&s.count===0&&Vy(s,s.stylesheets),0<s.count||0<s.imgCount?function(f){var y=setTimeout(function(){if(s.stylesheets&&Vy(s,s.stylesheets),s.unsuspend){var S=s.unsuspend;s.unsuspend=null,S()}},6e4+c);0<s.imgBytes&&f1===0&&(f1=62500*_K());var k=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Vy(s,s.stylesheets),s.unsuspend)){var S=s.unsuspend;s.unsuspend=null,S()}},(s.imgBytes>f1?50:800)+c);return s.unsuspend=f,function(){s.unsuspend=null,clearTimeout(y),clearTimeout(k)}}:null}function Ly(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vy(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Uy=null;function Vy(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Uy=new Map,c.forEach(HK,s),Uy=null,Ly.call(s))}function HK(s,c){if(!(c.state.loading&4)){var f=Uy.get(s);if(f)var y=f.get(null);else{f=new Map,Uy.set(s,f);for(var k=s.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<k.length;S++){var O=k[S];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(f.set(O.dataset.precedence,O),y=O)}y&&f.set(null,y)}k=c.instance,O=k.getAttribute("data-precedence"),S=f.get(O)||y,S===y&&f.set(null,k),f.set(O,k),this.count++,y=Ly.bind(this),k.addEventListener("load",y),k.addEventListener("error",y),S?S.parentNode.insertBefore(k,S.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(k,s.firstChild)),c.state.loading|=4}}var eh={$$typeof:I,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function GK(s,c,f,y,k,S,O,H,Q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rn(0),this.hiddenUpdates=Rn(null),this.identifierPrefix=y,this.onUncaughtError=k,this.onCaughtError=S,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function qP(s,c,f,y,k,S,O,H,Q,ce,ve,ke){return s=new GK(s,c,f,O,Q,ce,ve,ke,H),c=1,S===!0&&(c|=24),S=qi(3,null,null,c),s.current=S,S.stateNode=s,c=Gw(),c.refCount++,s.pooledCache=c,c.refCount++,S.memoizedState={element:y,isDehydrated:f,cache:c},Jw(S),s}function HP(s){return s?(s=ad,s):ad}function GP(s,c,f,y,k,S){k=HP(k),y.context===null?y.context=k:y.pendingContext=k,y=El(c),y.payload={element:f},S=S===void 0?null:S,S!==null&&(y.callback=S),f=_l(s,y,c),f!==null&&(Ei(f,s,c),Pf(f,s,c))}function KP(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<c?f:c}}function h1(s,c){KP(s,c),(s=s.alternate)&&KP(s,c)}function WP(s){if(s.tag===13||s.tag===31){var c=Fc(s,67108864);c!==null&&Ei(c,s,67108864),h1(s,67108864)}}function YP(s){if(s.tag===13||s.tag===31){var c=Yi();c=Ui(c);var f=Fc(s,c);f!==null&&Ei(f,s,c),h1(s,c)}}var Fy=!0;function KK(s,c,f,y){var k=X.T;X.T=null;var S=Z.p;try{Z.p=2,g1(s,c,f,y)}finally{Z.p=S,X.T=k}}function WK(s,c,f,y){var k=X.T;X.T=null;var S=Z.p;try{Z.p=8,g1(s,c,f,y)}finally{Z.p=S,X.T=k}}function g1(s,c,f,y){if(Fy){var k=m1(y);if(k===null)t1(s,c,y,By,f),XP(s,y);else if(JK(k,s,c,f,y))y.stopPropagation();else if(XP(s,y),c&4&&-1<YK.indexOf(s)){for(;k!==null;){var S=co(k);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var O=hn(S.pendingLanes);if(O!==0){var H=S;for(H.pendingLanes|=2,H.entangledLanes|=2;O;){var Q=1<<31-dt(O);H.entanglements[1]|=Q,O&=~Q}Ra(S),(Ot&6)===0&&(_y=Pe()+500,Wf(0))}}break;case 31:case 13:H=Fc(S,2),H!==null&&Ei(H,S,2),Sy(),h1(S,2)}if(S=m1(y),S===null&&t1(s,c,y,By,f),S===k)break;k=S}k!==null&&y.stopPropagation()}else t1(s,c,y,null,f)}}function m1(s){return s=uo(s),y1(s)}var By=null;function y1(s){if(By=null,s=ya(s),s!==null){var c=o(s);if(c===null)s=null;else{var f=c.tag;if(f===13){if(s=a(c),s!==null)return s;s=null}else if(f===31){if(s=l(c),s!==null)return s;s=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return By=s,null}function JP(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case ee:return 2;case ge:return 8;case Re:case De:return 32;case Oe:return 268435456;default:return 32}default:return 32}}var b1=!1,Ml=null,zl=null,jl=null,th=new Map,nh=new Map,Ll=[],YK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function XP(s,c){switch(s){case"focusin":case"focusout":Ml=null;break;case"dragenter":case"dragleave":zl=null;break;case"mouseover":case"mouseout":jl=null;break;case"pointerover":case"pointerout":th.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":nh.delete(c.pointerId)}}function rh(s,c,f,y,k,S){return s===null||s.nativeEvent!==S?(s={blockedOn:c,domEventName:f,eventSystemFlags:y,nativeEvent:S,targetContainers:[k]},c!==null&&(c=co(c),c!==null&&WP(c)),s):(s.eventSystemFlags|=y,c=s.targetContainers,k!==null&&c.indexOf(k)===-1&&c.push(k),s)}function JK(s,c,f,y,k){switch(c){case"focusin":return Ml=rh(Ml,s,c,f,y,k),!0;case"dragenter":return zl=rh(zl,s,c,f,y,k),!0;case"mouseover":return jl=rh(jl,s,c,f,y,k),!0;case"pointerover":var S=k.pointerId;return th.set(S,rh(th.get(S)||null,s,c,f,y,k)),!0;case"gotpointercapture":return S=k.pointerId,nh.set(S,rh(nh.get(S)||null,s,c,f,y,k)),!0}return!1}function QP(s){var c=ya(s.target);if(c!==null){var f=o(c);if(f!==null){if(c=f.tag,c===13){if(c=a(f),c!==null){s.blockedOn=c,_r(s.priority,function(){YP(f)});return}}else if(c===31){if(c=l(f),c!==null){s.blockedOn=c,_r(s.priority,function(){YP(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function $y(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var f=m1(s.nativeEvent);if(f===null){f=s.nativeEvent;var y=new f.constructor(f.type,f);mf=y,f.target.dispatchEvent(y),mf=null}else return c=co(f),c!==null&&WP(c),s.blockedOn=f,!1;c.shift()}return!0}function ZP(s,c,f){$y(s)&&f.delete(c)}function XK(){b1=!1,Ml!==null&&$y(Ml)&&(Ml=null),zl!==null&&$y(zl)&&(zl=null),jl!==null&&$y(jl)&&(jl=null),th.forEach(ZP),nh.forEach(ZP)}function qy(s,c){s.blockedOn===c&&(s.blockedOn=null,b1||(b1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,XK)))}var Hy=null;function eO(s){Hy!==s&&(Hy=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Hy===s&&(Hy=null);for(var c=0;c<s.length;c+=3){var f=s[c],y=s[c+1],k=s[c+2];if(typeof y!="function"){if(y1(y||f)===null)continue;break}var S=co(f);S!==null&&(s.splice(c,3),c-=3,mk(S,{pending:!0,data:k,method:f.method,action:y},y,k))}}))}function Nd(s){function c(Q){return qy(Q,s)}Ml!==null&&qy(Ml,s),zl!==null&&qy(zl,s),jl!==null&&qy(jl,s),th.forEach(c),nh.forEach(c);for(var f=0;f<Ll.length;f++){var y=Ll[f];y.blockedOn===s&&(y.blockedOn=null)}for(;0<Ll.length&&(f=Ll[0],f.blockedOn===null);)QP(f),f.blockedOn===null&&Ll.shift();if(f=(s.ownerDocument||s).$$reactFormReplay,f!=null)for(y=0;y<f.length;y+=3){var k=f[y],S=f[y+1],O=k[ur]||null;if(typeof S=="function")O||eO(f);else if(O){var H=null;if(S&&S.hasAttribute("formAction")){if(k=S,O=S[ur]||null)H=O.formAction;else if(y1(k)!==null)continue}else H=O.action;typeof H=="function"?f[y+1]=H:(f.splice(y,3),y-=3),eO(f)}}}function tO(){function s(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(O){return k=O})},focusReset:"manual",scroll:"manual"})}function c(){k!==null&&(k(),k=null),y||setTimeout(f,20)}function f(){if(!y&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,k=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){y=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),k!==null&&(k(),k=null)}}}function v1(s){this._internalRoot=s}Gy.prototype.render=v1.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var f=c.current,y=Yi();GP(f,y,s,c,null,null)},Gy.prototype.unmount=v1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;GP(s.current,2,null,s,null,null),Sy(),c[ga]=null}};function Gy(s){this._internalRoot=s}Gy.prototype.unstable_scheduleHydration=function(s){if(s){var c=Vi();s={blockedOn:null,target:s,priority:c};for(var f=0;f<Ll.length&&c!==0&&c<Ll[f].priority;f++);Ll.splice(f,0,s),f===0&&QP(s)}};var nO=e.version;if(nO!=="19.2.1")throw Error(r(527,nO,"19.2.1"));Z.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(c),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var QK={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ky=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ky.isDisabled&&Ky.supportsFiber)try{Wt=Ky.inject(QK),kt=Ky}catch{}}return oh.createRoot=function(s,c){if(!i(s))throw Error(r(299));var f=!1,y="",k=cR,S=uR,O=dR;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(k=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError)),c=qP(s,1,!1,null,null,f,y,null,k,S,O,tO),s[ga]=c.current,e1(s),new v1(c)},oh.hydrateRoot=function(s,c,f){if(!i(s))throw Error(r(299));var y=!1,k="",S=cR,O=uR,H=dR,Q=null;return f!=null&&(f.unstable_strictMode===!0&&(y=!0),f.identifierPrefix!==void 0&&(k=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(O=f.onCaughtError),f.onRecoverableError!==void 0&&(H=f.onRecoverableError),f.formState!==void 0&&(Q=f.formState)),c=qP(s,1,!0,c,f??null,y,k,Q,S,O,H,tO),c.context=HP(null),f=c.current,y=Yi(),y=Ui(y),k=El(y),k.callback=null,_l(f,k,y),f=y,c.current.lanes=f,mi(c,f),Ra(c),s[ga]=c.current,e1(s),new Gy(c)},oh.version="19.2.1",oh}var pO;function dW(){if(pO)return E1.exports;pO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),E1.exports=uW(),E1.exports}var pW=dW();const fW=Lo(pW);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fO="popstate";function hW(t={}){function e(r,i){let{pathname:o,search:a,hash:l}=r.location;return Q_("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Yh(i)}return mW(e,n,null,t)}function xn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gW(){return Math.random().toString(36).substring(2,10)}function hO(t,e){return{usr:t.state,key:t.key,idx:e}}function Q_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Np(e):e,state:n,key:e&&e.key||r||gW()}}function Yh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Np(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function mW(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l="POP",u=null,d=p();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function p(){return(a.state||{idx:null}).idx}function g(){l="POP";let _=p(),C=_==null?null:_-d;d=_,u&&u({action:l,location:A.location,delta:C})}function m(_,C){l="PUSH";let N=Q_(A.location,_,C);d=p()+1;let I=hO(N,d),D=A.createHref(N);try{a.pushState(I,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(D)}o&&u&&u({action:l,location:A.location,delta:1})}function b(_,C){l="REPLACE";let N=Q_(A.location,_,C);d=p();let I=hO(N,d),D=A.createHref(N);a.replaceState(I,"",D),o&&u&&u({action:l,location:A.location,delta:0})}function E(_){return yW(_)}let A={get action(){return l},get location(){return t(i,a)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(fO,g),u=_,()=>{i.removeEventListener(fO,g),u=null}},createHref(_){return e(i,_)},createURL:E,encodeLocation(_){let C=E(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:m,replace:b,go(_){return a.go(_)}};return A}function yW(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Yh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function E3(t,e,n="/"){return bW(t,e,n,!1)}function bW(t,e,n,r){let i=typeof e=="string"?Np(e):e,o=Ds(i.pathname||"/",n);if(o==null)return null;let a=_3(t);vW(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=NW(o);l=CW(a[u],d,r)}return l}function _3(t,e=[],n=[],r="",i=!1){let o=(a,l,u=i,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;xn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Is([r,p.relativePath]),m=n.concat(p);a.children&&a.children.length>0&&(xn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),_3(a.children,e,m,g,u)),!(a.path==null&&!a.index)&&e.push({path:g,score:SW(g,a.index),routesMeta:m})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))o(a,l);else for(let d of T3(a.path))o(a,l,!0,d)}),e}function T3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=T3(r.join("/")),l=[];return l.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function vW(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AW(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xW=/^:[\w-]+$/,wW=3,kW=2,EW=1,_W=10,TW=-2,gO=t=>t==="*";function SW(t,e){let n=t.split("/"),r=n.length;return n.some(gO)&&(r+=TW),e&&(r+=kW),n.filter(i=>!gO(i)).reduce((i,o)=>i+(xW.test(o)?wW:o===""?EW:_W),r)}function AW(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CW(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",g=Z0({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),m=u.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=Z0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:Is([o,g.pathname]),pathnameBase:DW(Is([o,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(o=Is([o,g.pathnameBase]))}return a}function Z0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IW(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:g},m)=>{if(p==="*"){let E=l[m]||"";a=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const b=l[m];return g&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:t}}function IW(t,e=!1,n=!0){oo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NW(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ds(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var S3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RW=t=>S3.test(t);function PW(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Np(t):t,o;if(n)if(RW(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),oo(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?o=mO(n.substring(1),"/"):o=mO(n,e)}else o=e;return{pathname:o,search:MW(r),hash:zW(i)}}function mO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function A1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OW(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rA(t){let e=OW(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function iA(t,e,n,r=!1){let i;typeof t=="string"?i=Np(t):(i={...t},xn(!i.pathname||!i.pathname.includes("?"),A1("?","pathname","search",i)),xn(!i.pathname||!i.pathname.includes("#"),A1("#","pathname","hash",i)),xn(!i.search||!i.search.includes("#"),A1("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),g-=1;i.pathname=m.join("/")}l=g>=0?e[g]:"/"}let u=PW(i,l),d=a&&a!=="/"&&a.endsWith("/"),p=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}var Is=t=>t.join("/").replace(/\/\/+/g,"/"),DW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,jW=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function LW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function UW(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var A3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function C3(t,e){let n=t;if(typeof n!="string"||!S3.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(A3)try{let o=new URL(window.location.href),a=n.startsWith("//")?new URL(o.protocol+n):new URL(n),l=Ds(a.pathname,e);a.origin===o.origin&&l!=null?n=l+a.search+a.hash:i=!0}catch{oo(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var I3=["POST","PUT","PATCH","DELETE"];new Set(I3);var VW=["GET",...I3];new Set(VW);var Rp=T.createContext(null);Rp.displayName="DataRouter";var Fv=T.createContext(null);Fv.displayName="DataRouterState";var FW=T.createContext(!1),N3=T.createContext({isTransitioning:!1});N3.displayName="ViewTransition";var BW=T.createContext(new Map);BW.displayName="Fetchers";var $W=T.createContext(null);$W.displayName="Await";var so=T.createContext(null);so.displayName="Navigation";var Ag=T.createContext(null);Ag.displayName="Location";var Uo=T.createContext({outlet:null,matches:[],isDataRoute:!1});Uo.displayName="Route";var oA=T.createContext(null);oA.displayName="RouteError";var R3="REACT_ROUTER_ERROR",qW="REDIRECT",HW="ROUTE_ERROR_RESPONSE";function GW(t){if(t.startsWith(`${R3}:${qW}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function KW(t){if(t.startsWith(`${R3}:${HW}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new jW(e.status,e.statusText,e.data)}catch{}}function WW(t,{relative:e}={}){xn(Pp(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(so),{hash:i,pathname:o,search:a}=Cg(t,{relative:e}),l=o;return n!=="/"&&(l=o==="/"?n:Is([n,o])),r.createHref({pathname:l,search:a,hash:i})}function Pp(){return T.useContext(Ag)!=null}function da(){return xn(Pp(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Ag).location}var P3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O3(t){T.useContext(so).static||T.useLayoutEffect(t)}function ts(){let{isDataRoute:t}=T.useContext(Uo);return t?uY():YW()}function YW(){xn(Pp(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Rp),{basename:e,navigator:n}=T.useContext(so),{matches:r}=T.useContext(Uo),{pathname:i}=da(),o=JSON.stringify(rA(r)),a=T.useRef(!1);return O3(()=>{a.current=!0}),T.useCallback((u,d={})=>{if(oo(a.current,P3),!a.current)return;if(typeof u=="number"){n.go(u);return}let p=iA(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Is([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,o,i,t])}var JW=T.createContext(null);function XW(t){let e=T.useContext(Uo).outlet;return T.useMemo(()=>e&&T.createElement(JW.Provider,{value:t},e),[e,t])}function QW(){let{matches:t}=T.useContext(Uo),e=t[t.length-1];return e?e.params:{}}function Cg(t,{relative:e}={}){let{matches:n}=T.useContext(Uo),{pathname:r}=da(),i=JSON.stringify(rA(n));return T.useMemo(()=>iA(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function ZW(t,e){return D3(t,e)}function D3(t,e,n,r,i){var N;xn(Pp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=T.useContext(so),{matches:a}=T.useContext(Uo),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let I=g&&g.path||"";z3(d,!g||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let m=da(),b;if(e){let I=typeof e=="string"?Np(e):e;xn(p==="/"||((N=I.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${I.pathname}" was given in the \`location\` prop.`),b=I}else b=m;let E=b.pathname||"/",A=E;if(p!=="/"){let I=p.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(I.length).join("/")}let _=E3(t,{pathname:A});oo(g||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),oo(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=iY(_&&_.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:Is([p,o.encodeLocation?o.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:Is([p,o.encodeLocation?o.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),a,n,r,i);return e&&C?T.createElement(Ag.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function eY(){let t=cY(),e=LW(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:o},"ErrorBoundary")," or"," ",T.createElement("code",{style:o},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,a)}var tY=T.createElement(eY,null),M3=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=KW(t.digest);n&&(t=n)}let e=t!==void 0?T.createElement(Uo.Provider,{value:this.props.routeContext},T.createElement(oA.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?T.createElement(nY,{error:t},e):e}};M3.contextType=FW;var C1=new WeakMap;function nY({children:t,error:e}){let{basename:n}=T.useContext(so);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=GW(e.digest);if(r){let i=C1.get(e);if(i)throw i;let o=C3(r.location,n);if(A3&&!C1.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw C1.set(e,a),a}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function rY({routeContext:t,match:e,children:n}){let r=T.useContext(Rp);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Uo.Provider,{value:t},n)}function iY(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let p=o.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);xn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let l=!1,u=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=p),g.route.id){let{loaderData:m,errors:b}=n,E=g.route.loader&&!m.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||E){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let d=n&&r?(p,g)=>{var m,b;r(p,{location:n.location,params:((b=(m=n.matches)==null?void 0:m[0])==null?void 0:b.params)??{},unstable_pattern:UW(n.matches),errorInfo:g})}:void 0;return o.reduceRight((p,g,m)=>{let b,E=!1,A=null,_=null;n&&(b=a&&g.route.id?a[g.route.id]:void 0,A=g.route.errorElement||tY,l&&(u<0&&m===0?(z3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,_=null):u===m&&(E=!0,_=g.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,m+1)),N=()=>{let I;return b?I=A:E?I=_:g.route.Component?I=T.createElement(g.route.Component,null):g.route.element?I=g.route.element:I=p,T.createElement(rY,{match:g,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:I})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?T.createElement(M3,{location:n.location,revalidation:n.revalidation,component:A,error:b,children:N(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:d}):N()},null)}function aA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oY(t){let e=T.useContext(Rp);return xn(e,aA(t)),e}function aY(t){let e=T.useContext(Fv);return xn(e,aA(t)),e}function sY(t){let e=T.useContext(Uo);return xn(e,aA(t)),e}function sA(t){let e=sY(t),n=e.matches[e.matches.length-1];return xn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function lY(){return sA("useRouteId")}function cY(){var r;let t=T.useContext(oA),e=aY("useRouteError"),n=sA("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function uY(){let{router:t}=oY("useNavigate"),e=sA("useNavigate"),n=T.useRef(!1);return O3(()=>{n.current=!0}),T.useCallback(async(i,o={})=>{oo(n.current,P3),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var yO={};function z3(t,e,n){!e&&!yO[t]&&(yO[t]=!0,oo(!1,n))}T.memo(dY);function dY({routes:t,future:e,state:n,onError:r}){return D3(t,void 0,n,r,e)}function I1({to:t,replace:e,state:n,relative:r}){xn(Pp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(so);oo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=T.useContext(Uo),{pathname:a}=da(),l=ts(),u=iA(t,rA(o),a,r==="path"),d=JSON.stringify(u);return T.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function pY(t){return XW(t.context)}function _i(t){xn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fY({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:a}){xn(!Pp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:i,static:o,unstable_useTransitions:a,future:{}}),[l,i,o,a]);typeof n=="string"&&(n=Np(n));let{pathname:d="/",search:p="",hash:g="",state:m=null,key:b="default"}=n,E=T.useMemo(()=>{let A=Ds(d,l);return A==null?null:{location:{pathname:A,search:p,hash:g,state:m,key:b},navigationType:r}},[l,d,p,g,m,b,r]);return oo(E!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:T.createElement(so.Provider,{value:u},T.createElement(Ag.Provider,{children:e,value:E}))}function bO({children:t,location:e}){return ZW(Z_(t),e)}function Z_(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let o=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Z_(r.props.children,o));return}xn(r.type===_i,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Z_(r.props.children,o)),n.push(a)}),n}var N0="get",R0="application/x-www-form-urlencoded";function Bv(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function hY(t){return Bv(t)&&t.tagName.toLowerCase()==="button"}function gY(t){return Bv(t)&&t.tagName.toLowerCase()==="form"}function mY(t){return Bv(t)&&t.tagName.toLowerCase()==="input"}function yY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bY(t,e){return t.button===0&&(!e||e==="_self")&&!yY(t)}function eT(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function vY(t,e){let n=eT(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}var Wy=null;function xY(){if(Wy===null)try{new FormData(document.createElement("form"),0),Wy=!1}catch{Wy=!0}return Wy}var wY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function N1(t){return t!=null&&!wY.has(t)?(oo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${R0}"`),null):t}function kY(t,e){let n,r,i,o,a;if(gY(t)){let l=t.getAttribute("action");r=l?Ds(l,e):null,n=t.getAttribute("method")||N0,i=N1(t.getAttribute("enctype"))||R0,o=new FormData(t)}else if(hY(t)||mY(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?Ds(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||N0,i=N1(t.getAttribute("formenctype"))||N1(l.getAttribute("enctype"))||R0,o=new FormData(l,t),!xY()){let{name:d,type:p,value:g}=t;if(p==="image"){let m=d?`${d}.`:"";o.append(`${m}x`,"0"),o.append(`${m}y`,"0")}else d&&o.append(d,g)}}else{if(Bv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=N0,r=null,i=R0,a=t}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lA(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EY(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ds(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function _Y(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TY(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function SY(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await _Y(o,n);return a.links?a.links():[]}return[]}));return NY(r.flat(1).filter(TY).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function vO(t,e,n,r,i,o){let a=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>{var p;return n[d].pathname!==u.pathname||((p=n[d].route.path)==null?void 0:p.endsWith("*"))&&n[d].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,d)=>a(u,d)||l(u,d)):o==="data"?e.filter((u,d)=>{var g;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function AY(t,e,{includeHydrateFallback:n}={}){return CY(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function CY(t){return[...new Set(t)]}function IY(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function NY(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(IY(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function j3(){let t=T.useContext(Rp);return lA(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function RY(){let t=T.useContext(Fv);return lA(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cA=T.createContext(void 0);cA.displayName="FrameworkContext";function L3(){let t=T.useContext(cA);return lA(t,"You must render this element inside a <HydratedRouter> element"),t}function PY(t,e){let n=T.useContext(cA),[r,i]=T.useState(!1),[o,a]=T.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:p,onTouchStart:g}=e,m=T.useRef(null);T.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let A=C=>{C.forEach(N=>{a(N.isIntersecting)})},_=new IntersectionObserver(A,{threshold:.5});return m.current&&_.observe(m.current),()=>{_.disconnect()}}},[t]),T.useEffect(()=>{if(r){let A=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(A)}}},[r]);let b=()=>{i(!0)},E=()=>{i(!1),a(!1)};return n?t!=="intent"?[o,m,{}]:[o,m,{onFocus:ah(l,b),onBlur:ah(u,E),onMouseEnter:ah(d,b),onMouseLeave:ah(p,E),onTouchStart:ah(g,b)}]:[!1,m,{}]}function ah(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function OY({page:t,...e}){let{router:n}=j3(),r=T.useMemo(()=>E3(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(MY,{page:t,matches:r,...e}):null}function DY(t){let{manifest:e,routeModules:n}=L3(),[r,i]=T.useState([]);return T.useEffect(()=>{let o=!1;return SY(t,e,n).then(a=>{o||i(a)}),()=>{o=!0}},[t,e,n]),r}function MY({page:t,matches:e,...n}){let r=da(),{manifest:i,routeModules:o}=L3(),{basename:a}=j3(),{loaderData:l,matches:u}=RY(),d=T.useMemo(()=>vO(t,e,u,i,r,"data"),[t,e,u,i,r]),p=T.useMemo(()=>vO(t,e,u,i,r,"assets"),[t,e,u,i,r]),g=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,A=!1;if(e.forEach(C=>{var I;let N=i.routes[C.route.id];!N||!N.hasLoader||(!d.some(D=>D.route.id===C.route.id)&&C.route.id in l&&((I=o[C.route.id])!=null&&I.shouldRevalidate)||N.hasClientLoader?A=!0:E.add(C.route.id))}),E.size===0)return[];let _=EY(t,a,"data");return A&&E.size>0&&_.searchParams.set("_routes",e.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[a,l,r,i,d,e,t,o]),m=T.useMemo(()=>AY(p,i),[p,i]),b=DY(p);return T.createElement(T.Fragment,null,g.map(E=>T.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),m.map(E=>T.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),b.map(({key:E,link:A})=>T.createElement("link",{key:E,nonce:n.nonce,...A})))}function zY(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var jY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jY&&(window.__reactRouterVersion="7.11.0")}catch{}function LY({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=hW({window:r,v5Compat:!0}));let o=i.current,[a,l]=T.useState({action:o.action,location:o.location}),u=T.useCallback(d=>{n===!1?l(d):T.startTransition(()=>l(d))},[n]);return T.useLayoutEffect(()=>o.listen(u),[o,u]),T.createElement(fY,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o,unstable_useTransitions:n})}var U3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uA=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:l,target:u,to:d,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:m,...b},E){let{basename:A,unstable_useTransitions:_}=T.useContext(so),C=typeof d=="string"&&U3.test(d),N=C3(d,A);d=N.to;let I=WW(d,{relative:i}),[D,L,M]=PY(r,b),P=BY(d,{replace:a,state:l,target:u,preventScrollReset:p,relative:i,viewTransition:g,unstable_defaultShouldRevalidate:m,unstable_useTransitions:_});function z(q){e&&e(q),q.defaultPrevented||P(q)}let U=T.createElement("a",{...b,...M,href:N.absoluteURL||I,onClick:N.isExternal||o?e:z,ref:zY(E,L),target:u,"data-discover":!C&&n==="render"?"true":void 0});return D&&!C?T.createElement(T.Fragment,null,U,T.createElement(OY,{page:I})):U});uA.displayName="Link";var UY=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:l,children:u,...d},p){let g=Cg(a,{relative:d.relative}),m=da(),b=T.useContext(Fv),{navigator:E,basename:A}=T.useContext(so),_=b!=null&&WY(g)&&l===!0,C=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,N=m.pathname,I=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(N=N.toLowerCase(),I=I?I.toLowerCase():null,C=C.toLowerCase()),I&&A&&(I=Ds(I,A)||I);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let L=N===C||!i&&N.startsWith(C)&&N.charAt(D)==="/",M=I!=null&&(I===C||!i&&I.startsWith(C)&&I.charAt(C.length)==="/"),P={isActive:L,isPending:M,isTransitioning:_},z=L?e:void 0,U;typeof r=="function"?U=r(P):U=[r,L?"active":null,M?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let q=typeof o=="function"?o(P):o;return T.createElement(uA,{...d,"aria-current":z,className:U,ref:p,style:q,to:a,viewTransition:l},typeof u=="function"?u(P):u)});UY.displayName="NavLink";var VY=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:a=N0,action:l,onSubmit:u,relative:d,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:m,...b},E)=>{let{unstable_useTransitions:A}=T.useContext(so),_=GY(),C=KY(l,{relative:d}),N=a.toLowerCase()==="get"?"get":"post",I=typeof l=="string"&&U3.test(l),D=L=>{if(u&&u(L),L.defaultPrevented)return;L.preventDefault();let M=L.nativeEvent.submitter,P=(M==null?void 0:M.getAttribute("formmethod"))||a,z=()=>_(M||L.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:o,relative:d,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:m});A&&n!==!1?T.startTransition(()=>z()):z()};return T.createElement("form",{ref:E,method:N,action:C,onSubmit:r?u:D,...b,"data-discover":!I&&t==="render"?"true":void 0})});VY.displayName="Form";function FY(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V3(t){let e=T.useContext(Rp);return xn(e,FY(t)),e}function BY(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let d=ts(),p=da(),g=Cg(t,{relative:o});return T.useCallback(m=>{if(bY(m,e)){m.preventDefault();let b=n!==void 0?n:Yh(p)===Yh(g),E=()=>d(t,{replace:b,state:r,preventScrollReset:i,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:l});u?T.startTransition(()=>E()):E()}},[p,d,g,n,r,e,t,i,o,a,l,u])}function $Y(t){oo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(eT(t)),n=T.useRef(!1),r=da(),i=T.useMemo(()=>vY(r.search,n.current?null:e.current),[r.search]),o=ts(),a=T.useCallback((l,u)=>{const d=eT(typeof l=="function"?l(new URLSearchParams(i)):l);n.current=!0,o("?"+d,u)},[o,i]);return[i,a]}var qY=0,HY=()=>`__${String(++qY)}__`;function GY(){let{router:t}=V3("useSubmit"),{basename:e}=T.useContext(so),n=lY(),r=t.fetch,i=t.navigate;return T.useCallback(async(o,a={})=>{let{action:l,method:u,encType:d,formData:p,body:g}=kY(o,e);if(a.navigate===!1){let m=a.fetcherKey||HY();await r(m,n,a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await i(a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,e,n])}function KY(t,{relative:e}={}){let{basename:n}=T.useContext(so),r=T.useContext(Uo);xn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Cg(t||".",{relative:e})},a=da();if(t==null){o.search=a.search;let l=new URLSearchParams(o.search),u=l.getAll("index");if(u.some(p=>p==="")){l.delete("index"),u.filter(g=>g).forEach(g=>l.append("index",g));let p=l.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Is([n,o.pathname])),Yh(o)}function WY(t,{relative:e}={}){let n=T.useContext(N3);xn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=V3("useViewTransitionState"),i=Cg(t,{relative:e});if(!n.isTransitioning)return!1;let o=Ds(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ds(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Z0(i.pathname,a)!=null||Z0(i.pathname,o)!=null}var tc=k3();/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),xO=t=>{const e=JY(t);return e.charAt(0).toUpperCase()+e.slice(1)},F3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),XY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...l},u)=>T.createElement("svg",{ref:u,...QY,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:F3("lucide",i),...!o&&!XY(l)&&{"aria-hidden":"true"},...l},[...a.map(([d,p])=>T.createElement(d,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,e)=>{const n=T.forwardRef(({className:r,...i},o)=>T.createElement(ZY,{ref:o,iconNode:e,className:F3(`lucide-${YY(xO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=xO(t),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],tJ=Se("activity",eJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],eb=Se("arrow-left",nJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tb=Se("arrow-right",rJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],oJ=Se("beaker",iJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Jh=Se("book-open",aJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],lJ=Se("brain",sJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],uJ=Se("building-2",cJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],pJ=Se("bug",dJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],hJ=Se("calendar-clock",fJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dA=Se("calendar",gJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],tT=Se("camera",mJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],nb=Se("car",yJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Op=Se("check",bJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xJ=Se("chevron-down",vJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kJ=Se("chevron-left",wJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],B3=Se("chevron-right",EJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sp=Se("circle-alert",_J);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rb=Se("circle-check-big",TJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],An=Se("circle-check",SJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$3=Se("circle-x",AJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ns=Se("circle",CJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],NJ=Se("clipboard-list",IJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ib=Se("clock",RJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],OJ=Se("cloud",PJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],MJ=Se("coins",DJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],q3=Se("construction",zJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],H3=Se("database",jJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],UJ=Se("dollar-sign",LJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],lp=Se("external-link",VJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BJ=Se("eye",FJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ou=Se("file-text",$J);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],HJ=Se("flag",qJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],KJ=Se("fuel",GJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],YJ=Se("funnel",WJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],XJ=Se("github",JJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],ZJ=Se("graduation-cap",QJ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],tX=Se("grip-vertical",eX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],rX=Se("hammer",nX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],G3=Se("image",iX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],cp=Se("info",oX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],wO=Se("layers",aX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],lX=Se("layout-dashboard",sX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],uX=Se("layout-grid",cX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],pX=Se("leaf",dX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Xh=Se("lightbulb",fX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],gX=Se("link",hX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],pA=Se("list-checks",mX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],bX=Se("list-todo",yX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],xX=Se("list",vX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ia=Se("loader-circle",wX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ig=Se("lock",kX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_X=Se("log-out",EX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],nT=Se("mail",TX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Kd=Se("map-pin",SX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],CX=Se("maximize-2",AX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ng=Se("message-circle",IX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}]],RX=Se("message-square-more",NX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],fA=Se("message-square",PX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],DX=Se("mic-off",OX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],K3=Se("mic",MX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],jX=Se("minimize-2",zX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],UX=Se("navigation",LX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],FX=Se("package",VX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],W3=Se("paperclip",BX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],kO=Se("pen-tool",$X);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ob=Se("pen",qX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],GX=Se("phone-off",HX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],hA=Se("phone",KX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ja=Se("plus",WX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],JX=Se("refresh-cw",YX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],QX=Se("save",XX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],EO=Se("scale",ZX);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],rT=Se("scan",eQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xu=Se("search",tQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$v=Se("send",nQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Y3=Se("settings",rQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],iT=Se("shield",iQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Qh=Se("shopping-bag",oQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],J3=Se("shopping-cart",aQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],pu=Se("sparkles",sQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cQ=Se("square-check-big",lQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],dQ=Se("star",uQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],_O=Se("stethoscope",pQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],hQ=Se("store",fQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],mQ=Se("tags",gQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],gA=Se("target",yQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ic=Se("trash-2",bQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],mA=Se("trending-up",vQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],No=Se("triangle-alert",xQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qv=Se("user",wQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],X3=Se("users",kQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_Q=Se("video-off",EQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Q3=Se("video",TQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],AQ=Se("wallet",SQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Po=Se("wrench",CQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mr=Se("x",IQ);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ab=Se("zap",NQ),RQ=()=>{};var TO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PQ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},e6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=o>>2,g=(o&3)<<4|l>>4;let m=(l&15)<<2|d>>6,b=d&63;u||(b=64,a||(m=64)),r.push(n[p],n[g],n[m],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Z3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||d==null||g==null)throw new OQ;const m=o<<2|l>>4;if(r.push(m),d!==64){const b=l<<4&240|d>>2;if(r.push(b),g!==64){const E=d<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DQ=function(t){const e=Z3(t);return e6.encodeByteArray(e,!0)},sb=function(t){return DQ(t).replace(/\./g,"")},t6=function(t){try{return e6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ=()=>MQ().__FIREBASE_DEFAULTS__,jQ=()=>{if(typeof process>"u"||typeof TO>"u")return;const t=TO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&t6(t[1]);return e&&JSON.parse(e)},Hv=()=>{try{return RQ()||zQ()||jQ()||LQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},n6=t=>{var e,n;return(n=(e=Hv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},yA=t=>{const e=n6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},r6=()=>{var t;return(t=Hv())==null?void 0:t.config},i6=t=>{var e;return(e=Hv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sb(JSON.stringify(n)),sb(JSON.stringify(a)),""].join(".")}const Ph={};function VQ(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ph))Ph[e]?t.emulator.push(e):t.prod.push(e);return t}function FQ(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let SO=!1;function Kv(t,e){if(typeof window>"u"||typeof document>"u"||!ns(window.location.host)||Ph[t]===e||Ph[t]||SO)return;Ph[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",o=VQ().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,b){m.setAttribute("width","24"),m.setAttribute("id",b),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{SO=!0,a()},m}function p(m,b){m.setAttribute("id",b),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=FQ(r),b=n("text"),E=document.getElementById(b)||document.createElement("span"),A=n("learnmore"),_=document.getElementById(A)||document.createElement("a"),C=n("preprendIcon"),N=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const I=m.element;l(I),p(_,A);const D=d();u(N,C),I.append(N,E,_,D),document.body.appendChild(I)}o?(E.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wr())}function $Q(){var e;const t=(e=Hv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qQ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HQ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KQ(){const t=Wr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WQ(){return!$Q()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YQ(){try{return typeof indexedDB=="object"}catch{return!1}}function JQ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XQ="FirebaseError";class Vo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XQ,Object.setPrototypeOf(this,Vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rg.prototype.create)}}class Rg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?QQ(o,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Vo(i,l,r)}}function QQ(t,e){return t.replace(ZQ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZQ=/\{\$([^}]+)}/g;function eZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ms(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(AO(o)&&AO(a)){if(!Ms(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function AO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _h(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Th(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tZ(t,e){const n=new nZ(t,e);return n.subscribe.bind(n)}class nZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rZ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=R1),i.error===void 0&&(i.error=R1),i.complete===void 0&&(i.complete=R1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rZ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function R1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class Wa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iZ=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UQ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aZ(e))try{this.getOrInitializeService({instanceIdentifier:eu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=eu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=eu){return this.instances.has(e)}getOptions(e=eu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oZ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=eu){return this.component?this.component.multipleInstances?e:eu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function oZ(t){return t===eu?void 0:t}function aZ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(bt||(bt={}));const lZ={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},cZ=bt.INFO,uZ={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},dZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=uZ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wv{constructor(e){this.name=e,this._logLevel=cZ,this._logHandler=dZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const pZ=(t,e)=>e.some(n=>t instanceof n);let CO,IO;function fZ(){return CO||(CO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hZ(){return IO||(IO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a6=new WeakMap,oT=new WeakMap,s6=new WeakMap,P1=new WeakMap,bA=new WeakMap;function gZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(oc(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&a6.set(n,t)}).catch(()=>{}),bA.set(e,t),e}function mZ(t){if(oT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});oT.set(t,e)}let aT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return oT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||s6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yZ(t){aT=t(aT)}function bZ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(O1(this),e,...n);return s6.set(r,e.sort?e.sort():[e]),oc(r)}:hZ().includes(t)?function(...e){return t.apply(O1(this),e),oc(a6.get(this))}:function(...e){return oc(t.apply(O1(this),e))}}function vZ(t){return typeof t=="function"?bZ(t):(t instanceof IDBTransaction&&mZ(t),pZ(t,fZ())?new Proxy(t,aT):t)}function oc(t){if(t instanceof IDBRequest)return gZ(t);if(P1.has(t))return P1.get(t);const e=vZ(t);return e!==t&&(P1.set(t,e),bA.set(e,t)),e}const O1=t=>bA.get(t);function xZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),l=oc(a);return r&&a.addEventListener("upgradeneeded",u=>{r(oc(a.result),u.oldVersion,u.newVersion,oc(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const wZ=["get","getKey","getAll","getAllKeys","count"],kZ=["put","add","delete","clear"],D1=new Map;function NO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(D1.get(e))return D1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wZ.includes(n)))return;const o=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return D1.set(e,o),o}yZ(t=>({...t,get:(e,n,r)=>NO(e,n)||t.get(e,n,r),has:(e,n)=>!!NO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_Z(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _Z(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sT="@firebase/app",RO="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new Wv("@firebase/app"),TZ="@firebase/app-compat",SZ="@firebase/analytics-compat",AZ="@firebase/analytics",CZ="@firebase/app-check-compat",IZ="@firebase/app-check",NZ="@firebase/auth",RZ="@firebase/auth-compat",PZ="@firebase/database",OZ="@firebase/data-connect",DZ="@firebase/database-compat",MZ="@firebase/functions",zZ="@firebase/functions-compat",jZ="@firebase/installations",LZ="@firebase/installations-compat",UZ="@firebase/messaging",VZ="@firebase/messaging-compat",FZ="@firebase/performance",BZ="@firebase/performance-compat",$Z="@firebase/remote-config",qZ="@firebase/remote-config-compat",HZ="@firebase/storage",GZ="@firebase/storage-compat",KZ="@firebase/firestore",WZ="@firebase/ai",YZ="@firebase/firestore-compat",JZ="firebase",XZ="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="[DEFAULT]",QZ={[sT]:"fire-core",[TZ]:"fire-core-compat",[AZ]:"fire-analytics",[SZ]:"fire-analytics-compat",[IZ]:"fire-app-check",[CZ]:"fire-app-check-compat",[NZ]:"fire-auth",[RZ]:"fire-auth-compat",[PZ]:"fire-rtdb",[OZ]:"fire-data-connect",[DZ]:"fire-rtdb-compat",[MZ]:"fire-fn",[zZ]:"fire-fn-compat",[jZ]:"fire-iid",[LZ]:"fire-iid-compat",[UZ]:"fire-fcm",[VZ]:"fire-fcm-compat",[FZ]:"fire-perf",[BZ]:"fire-perf-compat",[$Z]:"fire-rc",[qZ]:"fire-rc-compat",[HZ]:"fire-gcs",[GZ]:"fire-gcs-compat",[KZ]:"fire-fst",[YZ]:"fire-fst-compat",[WZ]:"fire-vertex","fire-js":"fire-js",[JZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Map,ZZ=new Map,cT=new Map;function PO(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function js(t){const e=t.name;if(cT.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;cT.set(e,t);for(const n of lb.values())PO(n,t);for(const n of ZZ.values())PO(n,t);return!0}function Dp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ac=new Rg("app","Firebase",eee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tee{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ac.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=XZ;function l6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:lT,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ac.create("bad-app-name",{appName:String(i)});if(n||(n=r6()),!n)throw ac.create("no-options");const o=lb.get(i);if(o){if(Ms(n,o.options)&&Ms(r,o.config))return o;throw ac.create("duplicate-app",{appName:i})}const a=new sZ(i);for(const u of cT.values())a.addComponent(u);const l=new tee(n,r,a);return lb.set(i,l),l}function Og(t=lT){const e=lb.get(t);if(!e&&t===lT&&r6())return l6();if(!e)throw ac.create("no-app",{appName:t});return e}function Oi(t,e,n){let r=QZ[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(a.join(" "));return}js(new Wa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nee="firebase-heartbeat-database",ree=1,Zh="firebase-heartbeat-store";let M1=null;function c6(){return M1||(M1=xZ(nee,ree,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ac.create("idb-open",{originalErrorMessage:t.message})})),M1}async function iee(t){try{const n=(await c6()).transaction(Zh),r=await n.objectStore(Zh).get(u6(t));return await n.done,r}catch(e){if(e instanceof Vo)zs.warn(e.message);else{const n=ac.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zs.warn(n.message)}}}async function OO(t,e){try{const r=(await c6()).transaction(Zh,"readwrite");await r.objectStore(Zh).put(e,u6(t)),await r.done}catch(n){if(n instanceof Vo)zs.warn(n.message);else{const r=ac.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zs.warn(r.message)}}}function u6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oee=1024,aee=30;class see{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=DO();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>aee){const a=uee(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=DO(),{heartbeatsToSend:r,unsentEntries:i}=lee(this._heartbeatsCache.heartbeats),o=sb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return zs.warn(n),""}}}function DO(){return new Date().toISOString().substring(0,10)}function lee(t,e=oee){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),MO(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YQ()?JQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iee(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return OO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return OO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function MO(t){return sb(JSON.stringify({version:2,heartbeats:t})).length}function uee(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dee(t){js(new Wa("platform-logger",e=>new EZ(e),"PRIVATE")),js(new Wa("heartbeat",e=>new see(e),"PRIVATE")),Oi(sT,RO,t),Oi(sT,RO,"esm2020"),Oi("fire-js","")}dee("");var pee="firebase",fee="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(pee,fee,"app");var zO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sc,d6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,z){function U(){}U.prototype=z.prototype,P.F=z.prototype,P.prototype=new U,P.prototype.constructor=P,P.D=function(q,V,B){for(var F=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)F[ne-2]=arguments[ne];return z.prototype[V].apply(q,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,z,U){U||(U=0);const q=Array(16);if(typeof z=="string")for(var V=0;V<16;++V)q[V]=z.charCodeAt(U++)|z.charCodeAt(U++)<<8|z.charCodeAt(U++)<<16|z.charCodeAt(U++)<<24;else for(V=0;V<16;++V)q[V]=z[U++]|z[U++]<<8|z[U++]<<16|z[U++]<<24;z=P.g[0],U=P.g[1],V=P.g[2];let B=P.g[3],F;F=z+(B^U&(V^B))+q[0]+3614090360&4294967295,z=U+(F<<7&4294967295|F>>>25),F=B+(V^z&(U^V))+q[1]+3905402710&4294967295,B=z+(F<<12&4294967295|F>>>20),F=V+(U^B&(z^U))+q[2]+606105819&4294967295,V=B+(F<<17&4294967295|F>>>15),F=U+(z^V&(B^z))+q[3]+3250441966&4294967295,U=V+(F<<22&4294967295|F>>>10),F=z+(B^U&(V^B))+q[4]+4118548399&4294967295,z=U+(F<<7&4294967295|F>>>25),F=B+(V^z&(U^V))+q[5]+1200080426&4294967295,B=z+(F<<12&4294967295|F>>>20),F=V+(U^B&(z^U))+q[6]+2821735955&4294967295,V=B+(F<<17&4294967295|F>>>15),F=U+(z^V&(B^z))+q[7]+4249261313&4294967295,U=V+(F<<22&4294967295|F>>>10),F=z+(B^U&(V^B))+q[8]+1770035416&4294967295,z=U+(F<<7&4294967295|F>>>25),F=B+(V^z&(U^V))+q[9]+2336552879&4294967295,B=z+(F<<12&4294967295|F>>>20),F=V+(U^B&(z^U))+q[10]+4294925233&4294967295,V=B+(F<<17&4294967295|F>>>15),F=U+(z^V&(B^z))+q[11]+2304563134&4294967295,U=V+(F<<22&4294967295|F>>>10),F=z+(B^U&(V^B))+q[12]+1804603682&4294967295,z=U+(F<<7&4294967295|F>>>25),F=B+(V^z&(U^V))+q[13]+4254626195&4294967295,B=z+(F<<12&4294967295|F>>>20),F=V+(U^B&(z^U))+q[14]+2792965006&4294967295,V=B+(F<<17&4294967295|F>>>15),F=U+(z^V&(B^z))+q[15]+1236535329&4294967295,U=V+(F<<22&4294967295|F>>>10),F=z+(V^B&(U^V))+q[1]+4129170786&4294967295,z=U+(F<<5&4294967295|F>>>27),F=B+(U^V&(z^U))+q[6]+3225465664&4294967295,B=z+(F<<9&4294967295|F>>>23),F=V+(z^U&(B^z))+q[11]+643717713&4294967295,V=B+(F<<14&4294967295|F>>>18),F=U+(B^z&(V^B))+q[0]+3921069994&4294967295,U=V+(F<<20&4294967295|F>>>12),F=z+(V^B&(U^V))+q[5]+3593408605&4294967295,z=U+(F<<5&4294967295|F>>>27),F=B+(U^V&(z^U))+q[10]+38016083&4294967295,B=z+(F<<9&4294967295|F>>>23),F=V+(z^U&(B^z))+q[15]+3634488961&4294967295,V=B+(F<<14&4294967295|F>>>18),F=U+(B^z&(V^B))+q[4]+3889429448&4294967295,U=V+(F<<20&4294967295|F>>>12),F=z+(V^B&(U^V))+q[9]+568446438&4294967295,z=U+(F<<5&4294967295|F>>>27),F=B+(U^V&(z^U))+q[14]+3275163606&4294967295,B=z+(F<<9&4294967295|F>>>23),F=V+(z^U&(B^z))+q[3]+4107603335&4294967295,V=B+(F<<14&4294967295|F>>>18),F=U+(B^z&(V^B))+q[8]+1163531501&4294967295,U=V+(F<<20&4294967295|F>>>12),F=z+(V^B&(U^V))+q[13]+2850285829&4294967295,z=U+(F<<5&4294967295|F>>>27),F=B+(U^V&(z^U))+q[2]+4243563512&4294967295,B=z+(F<<9&4294967295|F>>>23),F=V+(z^U&(B^z))+q[7]+1735328473&4294967295,V=B+(F<<14&4294967295|F>>>18),F=U+(B^z&(V^B))+q[12]+2368359562&4294967295,U=V+(F<<20&4294967295|F>>>12),F=z+(U^V^B)+q[5]+4294588738&4294967295,z=U+(F<<4&4294967295|F>>>28),F=B+(z^U^V)+q[8]+2272392833&4294967295,B=z+(F<<11&4294967295|F>>>21),F=V+(B^z^U)+q[11]+1839030562&4294967295,V=B+(F<<16&4294967295|F>>>16),F=U+(V^B^z)+q[14]+4259657740&4294967295,U=V+(F<<23&4294967295|F>>>9),F=z+(U^V^B)+q[1]+2763975236&4294967295,z=U+(F<<4&4294967295|F>>>28),F=B+(z^U^V)+q[4]+1272893353&4294967295,B=z+(F<<11&4294967295|F>>>21),F=V+(B^z^U)+q[7]+4139469664&4294967295,V=B+(F<<16&4294967295|F>>>16),F=U+(V^B^z)+q[10]+3200236656&4294967295,U=V+(F<<23&4294967295|F>>>9),F=z+(U^V^B)+q[13]+681279174&4294967295,z=U+(F<<4&4294967295|F>>>28),F=B+(z^U^V)+q[0]+3936430074&4294967295,B=z+(F<<11&4294967295|F>>>21),F=V+(B^z^U)+q[3]+3572445317&4294967295,V=B+(F<<16&4294967295|F>>>16),F=U+(V^B^z)+q[6]+76029189&4294967295,U=V+(F<<23&4294967295|F>>>9),F=z+(U^V^B)+q[9]+3654602809&4294967295,z=U+(F<<4&4294967295|F>>>28),F=B+(z^U^V)+q[12]+3873151461&4294967295,B=z+(F<<11&4294967295|F>>>21),F=V+(B^z^U)+q[15]+530742520&4294967295,V=B+(F<<16&4294967295|F>>>16),F=U+(V^B^z)+q[2]+3299628645&4294967295,U=V+(F<<23&4294967295|F>>>9),F=z+(V^(U|~B))+q[0]+4096336452&4294967295,z=U+(F<<6&4294967295|F>>>26),F=B+(U^(z|~V))+q[7]+1126891415&4294967295,B=z+(F<<10&4294967295|F>>>22),F=V+(z^(B|~U))+q[14]+2878612391&4294967295,V=B+(F<<15&4294967295|F>>>17),F=U+(B^(V|~z))+q[5]+4237533241&4294967295,U=V+(F<<21&4294967295|F>>>11),F=z+(V^(U|~B))+q[12]+1700485571&4294967295,z=U+(F<<6&4294967295|F>>>26),F=B+(U^(z|~V))+q[3]+2399980690&4294967295,B=z+(F<<10&4294967295|F>>>22),F=V+(z^(B|~U))+q[10]+4293915773&4294967295,V=B+(F<<15&4294967295|F>>>17),F=U+(B^(V|~z))+q[1]+2240044497&4294967295,U=V+(F<<21&4294967295|F>>>11),F=z+(V^(U|~B))+q[8]+1873313359&4294967295,z=U+(F<<6&4294967295|F>>>26),F=B+(U^(z|~V))+q[15]+4264355552&4294967295,B=z+(F<<10&4294967295|F>>>22),F=V+(z^(B|~U))+q[6]+2734768916&4294967295,V=B+(F<<15&4294967295|F>>>17),F=U+(B^(V|~z))+q[13]+1309151649&4294967295,U=V+(F<<21&4294967295|F>>>11),F=z+(V^(U|~B))+q[4]+4149444226&4294967295,z=U+(F<<6&4294967295|F>>>26),F=B+(U^(z|~V))+q[11]+3174756917&4294967295,B=z+(F<<10&4294967295|F>>>22),F=V+(z^(B|~U))+q[2]+718787259&4294967295,V=B+(F<<15&4294967295|F>>>17),F=U+(B^(V|~z))+q[9]+3951481745&4294967295,P.g[0]=P.g[0]+z&4294967295,P.g[1]=P.g[1]+(V+(F<<21&4294967295|F>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+B&4294967295}r.prototype.v=function(P,z){z===void 0&&(z=P.length);const U=z-this.blockSize,q=this.C;let V=this.h,B=0;for(;B<z;){if(V==0)for(;B<=U;)i(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<z;)if(q[V++]=P.charCodeAt(B++),V==this.blockSize){i(this,q),V=0;break}}else for(;B<z;)if(q[V++]=P[B++],V==this.blockSize){i(this,q),V=0;break}}this.h=V,this.o+=z},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var z=1;z<P.length-8;++z)P[z]=0;z=this.o*8;for(var U=P.length-8;U<P.length;++U)P[U]=z&255,z/=256;for(this.v(P),P=Array(16),z=0,U=0;U<4;++U)for(let q=0;q<32;q+=8)P[z++]=this.g[U]>>>q&255;return P};function o(P,z){var U=l;return Object.prototype.hasOwnProperty.call(U,P)?U[P]:U[P]=z(P)}function a(P,z){this.h=z;const U=[];let q=!0;for(let V=P.length-1;V>=0;V--){const B=P[V]|0;q&&B==z||(U[V]=B,q=!1)}this.g=U}var l={};function u(P){return-128<=P&&P<128?o(P,function(z){return new a([z|0],z<0?-1:0)}):new a([P|0],P<0?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return g;if(P<0)return _(d(-P));const z=[];let U=1;for(let q=0;P>=U;q++)z[q]=P/U|0,U*=4294967296;return new a(z,0)}function p(P,z){if(P.length==0)throw Error("number format error: empty string");if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(P.charAt(0)=="-")return _(p(P.substring(1),z));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const U=d(Math.pow(z,8));let q=g;for(let B=0;B<P.length;B+=8){var V=Math.min(8,P.length-B);const F=parseInt(P.substring(B,B+V),z);V<8?(V=d(Math.pow(z,V)),q=q.j(V).add(d(F))):(q=q.j(U),q=q.add(d(F)))}return q}var g=u(0),m=u(1),b=u(16777216);t=a.prototype,t.m=function(){if(A(this))return-_(this).m();let P=0,z=1;for(let U=0;U<this.g.length;U++){const q=this.i(U);P+=(q>=0?q:4294967296+q)*z,z*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(A(this))return"-"+_(this).toString(P);const z=d(Math.pow(P,6));var U=this;let q="";for(;;){const V=D(U,z).g;U=C(U,V.j(z));let B=((U.g.length>0?U.g[0]:U.h)>>>0).toString(P);if(U=V,E(U))return B+q;for(;B.length<6;)B="0"+B;q=B+q}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(let z=0;z<P.g.length;z++)if(P.g[z]!=0)return!1;return!0}function A(P){return P.h==-1}t.l=function(P){return P=C(this,P),A(P)?-1:E(P)?0:1};function _(P){const z=P.g.length,U=[];for(let q=0;q<z;q++)U[q]=~P.g[q];return new a(U,~P.h).add(m)}t.abs=function(){return A(this)?_(this):this},t.add=function(P){const z=Math.max(this.g.length,P.g.length),U=[];let q=0;for(let V=0;V<=z;V++){let B=q+(this.i(V)&65535)+(P.i(V)&65535),F=(B>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);q=F>>>16,B&=65535,F&=65535,U[V]=F<<16|B}return new a(U,U[U.length-1]&-2147483648?-1:0)};function C(P,z){return P.add(_(z))}t.j=function(P){if(E(this)||E(P))return g;if(A(this))return A(P)?_(this).j(_(P)):_(_(this).j(P));if(A(P))return _(this.j(_(P)));if(this.l(b)<0&&P.l(b)<0)return d(this.m()*P.m());const z=this.g.length+P.g.length,U=[];for(var q=0;q<2*z;q++)U[q]=0;for(q=0;q<this.g.length;q++)for(let V=0;V<P.g.length;V++){const B=this.i(q)>>>16,F=this.i(q)&65535,ne=P.i(V)>>>16,W=P.i(V)&65535;U[2*q+2*V]+=F*W,N(U,2*q+2*V),U[2*q+2*V+1]+=B*W,N(U,2*q+2*V+1),U[2*q+2*V+1]+=F*ne,N(U,2*q+2*V+1),U[2*q+2*V+2]+=B*ne,N(U,2*q+2*V+2)}for(P=0;P<z;P++)U[P]=U[2*P+1]<<16|U[2*P];for(P=z;P<2*z;P++)U[P]=0;return new a(U,0)};function N(P,z){for(;(P[z]&65535)!=P[z];)P[z+1]+=P[z]>>>16,P[z]&=65535,z++}function I(P,z){this.g=P,this.h=z}function D(P,z){if(E(z))throw Error("division by zero");if(E(P))return new I(g,g);if(A(P))return z=D(_(P),z),new I(_(z.g),_(z.h));if(A(z))return z=D(P,_(z)),new I(_(z.g),z.h);if(P.g.length>30){if(A(P)||A(z))throw Error("slowDivide_ only works with positive integers.");for(var U=m,q=z;q.l(P)<=0;)U=L(U),q=L(q);var V=M(U,1),B=M(q,1);for(q=M(q,2),U=M(U,2);!E(q);){var F=B.add(q);F.l(P)<=0&&(V=V.add(U),B=F),q=M(q,1),U=M(U,1)}return z=C(P,V.j(z)),new I(V,z)}for(V=g;P.l(z)>=0;){for(U=Math.max(1,Math.floor(P.m()/z.m())),q=Math.ceil(Math.log(U)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),B=d(U),F=B.j(z);A(F)||F.l(P)>0;)U-=q,B=d(U),F=B.j(z);E(B)&&(B=m),V=V.add(B),P=C(P,F)}return new I(V,P)}t.B=function(P){return D(this,P).h},t.and=function(P){const z=Math.max(this.g.length,P.g.length),U=[];for(let q=0;q<z;q++)U[q]=this.i(q)&P.i(q);return new a(U,this.h&P.h)},t.or=function(P){const z=Math.max(this.g.length,P.g.length),U=[];for(let q=0;q<z;q++)U[q]=this.i(q)|P.i(q);return new a(U,this.h|P.h)},t.xor=function(P){const z=Math.max(this.g.length,P.g.length),U=[];for(let q=0;q<z;q++)U[q]=this.i(q)^P.i(q);return new a(U,this.h^P.h)};function L(P){const z=P.g.length+1,U=[];for(let q=0;q<z;q++)U[q]=P.i(q)<<1|P.i(q-1)>>>31;return new a(U,P.h)}function M(P,z){const U=z>>5;z%=32;const q=P.g.length-U,V=[];for(let B=0;B<q;B++)V[B]=z>0?P.i(B+U)>>>z|P.i(B+U+1)<<32-z:P.i(B+U);return new a(V,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,d6=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=p,sc=a}).apply(typeof zO<"u"?zO:typeof self<"u"?self:typeof window<"u"?window:{});var Yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p6,Sh,f6,P0,uT,h6,g6,m6;(function(){var t,e=Object.defineProperty;function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yy=="object"&&Yy];for(var R=0;R<w.length;++R){var j=w[R];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(w,R){if(R)e:{var j=r;w=w.split(".");for(var K=0;K<w.length-1;K++){var ie=w[K];if(!(ie in j))break e;j=j[ie]}w=w[w.length-1],K=j[w],R=R(K),R!=K&&R!=null&&e(j,w,{configurable:!0,writable:!0,value:R})}}i("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(w){return w||function(R){var j=[],K;for(K in R)Object.prototype.hasOwnProperty.call(R,K)&&j.push([K,R[K]]);return j}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(w){var R=typeof w;return R=="object"&&w!=null||R=="function"}function u(w,R,j){return w.call.apply(w.bind,arguments)}function d(w,R,j){return d=u,d.apply(null,arguments)}function p(w,R){var j=Array.prototype.slice.call(arguments,1);return function(){var K=j.slice();return K.push.apply(K,arguments),w.apply(this,K)}}function g(w,R){function j(){}j.prototype=R.prototype,w.Z=R.prototype,w.prototype=new j,w.prototype.constructor=w,w.Ob=function(K,ie,he){for(var Ne=Array(arguments.length-2),at=2;at<arguments.length;at++)Ne[at-2]=arguments[at];return R.prototype[ie].apply(K,Ne)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function b(w){const R=w.length;if(R>0){const j=Array(R);for(let K=0;K<R;K++)j[K]=w[K];return j}return[]}function E(w,R){for(let K=1;K<arguments.length;K++){const ie=arguments[K];var j=typeof ie;if(j=j!="object"?j:ie?Array.isArray(ie)?"array":j:"null",j=="array"||j=="object"&&typeof ie.length=="number"){j=w.length||0;const he=ie.length||0;w.length=j+he;for(let Ne=0;Ne<he;Ne++)w[j+Ne]=ie[Ne]}else w.push(ie)}}class A{constructor(R,j){this.i=R,this.j=j,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function _(w){a.setTimeout(()=>{throw w},0)}function C(){var w=P;let R=null;return w.g&&(R=w.g,w.g=w.g.next,w.g||(w.h=null),R.next=null),R}class N{constructor(){this.h=this.g=null}add(R,j){const K=I.get();K.set(R,j),this.h?this.h.next=K:this.g=K,this.h=K}}var I=new A(()=>new D,w=>w.reset());class D{constructor(){this.next=this.g=this.h=null}set(R,j){this.h=R,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let L,M=!1,P=new N,z=()=>{const w=Promise.resolve(void 0);L=()=>{w.then(U)}};function U(){for(var w;w=C();){try{w.h.call(w.g)}catch(j){_(j)}var R=I;R.j(w),R.h<100&&(R.h++,w.next=R.g,R.g=w)}M=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(w,R){this.type=w,this.g=this.target=R,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var w=!1,R=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const j=()=>{};a.addEventListener("test",j,R),a.removeEventListener("test",j,R)}catch{}return w})();function F(w){return/^[\s\xa0]*$/.test(w)}function ne(w,R){V.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,R)}g(ne,V),ne.prototype.init=function(w,R){const j=this.type=w.type,K=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=R,R=w.relatedTarget,R||(j=="mouseover"?R=w.fromElement:j=="mouseout"&&(R=w.toElement)),this.relatedTarget=R,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var W="closure_listenable_"+(Math.random()*1e6|0),X=0;function Z(w,R,j,K,ie){this.listener=w,this.proxy=null,this.src=R,this.type=j,this.capture=!!K,this.ha=ie,this.key=++X,this.da=this.fa=!1}function oe(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function fe(w,R,j){for(const K in w)R.call(j,w[K],K,w)}function Y(w,R){for(const j in w)R.call(void 0,w[j],j,w)}function G(w){const R={};for(const j in w)R[j]=w[j];return R}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(w,R){let j,K;for(let ie=1;ie<arguments.length;ie++){K=arguments[ie];for(j in K)w[j]=K[j];for(let he=0;he<J.length;he++)j=J[he],Object.prototype.hasOwnProperty.call(K,j)&&(w[j]=K[j])}}function be(w){this.src=w,this.g={},this.h=0}be.prototype.add=function(w,R,j,K,ie){const he=w.toString();w=this.g[he],w||(w=this.g[he]=[],this.h++);const Ne=Te(w,R,K,ie);return Ne>-1?(R=w[Ne],j||(R.fa=!1)):(R=new Z(R,this.src,he,!!K,ie),R.fa=j,w.push(R)),R};function _e(w,R){const j=R.type;if(j in w.g){var K=w.g[j],ie=Array.prototype.indexOf.call(K,R,void 0),he;(he=ie>=0)&&Array.prototype.splice.call(K,ie,1),he&&(oe(R),w.g[j].length==0&&(delete w.g[j],w.h--))}}function Te(w,R,j,K){for(let ie=0;ie<w.length;++ie){const he=w[ie];if(!he.da&&he.listener==R&&he.capture==!!j&&he.ha==K)return ie}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Ye={};function ue(w,R,j,K,ie){if(Array.isArray(R)){for(let he=0;he<R.length;he++)ue(w,R[he],j,K,ie);return null}return j=Xr(j),w&&w[W]?w.J(R,j,l(K)?!!K.capture:!1,ie):Ae(w,R,j,!1,K,ie)}function Ae(w,R,j,K,ie,he){if(!R)throw Error("Invalid event type");const Ne=l(ie)?!!ie.capture:!!ie;let at=_t(w);if(at||(w[je]=at=new be(w)),j=at.add(R,j,K,Ne,he),j.proxy)return j;if(K=ae(),j.proxy=K,K.src=w,K.listener=j,w.addEventListener)B||(ie=Ne),ie===void 0&&(ie=!1),w.addEventListener(R.toString(),K,ie);else if(w.attachEvent)w.attachEvent(Be(R.toString()),K);else if(w.addListener&&w.removeListener)w.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return j}function ae(){function w(j){return R.call(w.src,w.listener,j)}const R=pt;return w}function le(w,R,j,K,ie){if(Array.isArray(R))for(var he=0;he<R.length;he++)le(w,R[he],j,K,ie);else K=l(K)?!!K.capture:!!K,j=Xr(j),w&&w[W]?(w=w.i,he=String(R).toString(),he in w.g&&(R=w.g[he],j=Te(R,j,K,ie),j>-1&&(oe(R[j]),Array.prototype.splice.call(R,j,1),R.length==0&&(delete w.g[he],w.h--)))):w&&(w=_t(w))&&(R=w.g[R.toString()],w=-1,R&&(w=Te(R,j,K,ie)),(j=w>-1?R[w]:null)&&qe(j))}function qe(w){if(typeof w!="number"&&w&&!w.da){var R=w.src;if(R&&R[W])_e(R.i,w);else{var j=w.type,K=w.proxy;R.removeEventListener?R.removeEventListener(j,K,w.capture):R.detachEvent?R.detachEvent(Be(j),K):R.addListener&&R.removeListener&&R.removeListener(K),(j=_t(R))?(_e(j,w),j.h==0&&(j.src=null,R[je]=null)):oe(w)}}}function Be(w){return w in Ye?Ye[w]:Ye[w]="on"+w}function pt(w,R){if(w.da)w=!0;else{R=new ne(R,this);const j=w.listener,K=w.ha||w.src;w.fa&&qe(w),w=j.call(K,R)}return w}function _t(w){return w=w[je],w instanceof be?w:null}var _n="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xr(w){return typeof w=="function"?w:(w[_n]||(w[_n]=function(R){return w.handleEvent(R)}),w[_n])}function Vt(){q.call(this),this.i=new be(this),this.M=this,this.G=null}g(Vt,q),Vt.prototype[W]=!0,Vt.prototype.removeEventListener=function(w,R,j,K){le(this,w,R,j,K)};function Tt(w,R){var j,K=w.G;if(K)for(j=[];K;K=K.G)j.push(K);if(w=w.M,K=R.type||R,typeof R=="string")R=new V(R,w);else if(R instanceof V)R.target=R.target||w;else{var ie=R;R=new V(K,w),$(R,ie)}ie=!0;let he,Ne;if(j)for(Ne=j.length-1;Ne>=0;Ne--)he=R.g=j[Ne],ie=Er(he,K,!0,R)&&ie;if(he=R.g=w,ie=Er(he,K,!0,R)&&ie,ie=Er(he,K,!1,R)&&ie,j)for(Ne=0;Ne<j.length;Ne++)he=R.g=j[Ne],ie=Er(he,K,!1,R)&&ie}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var w=this.i;for(const R in w.g){const j=w.g[R];for(let K=0;K<j.length;K++)oe(j[K]);delete w.g[R],w.h--}}this.G=null},Vt.prototype.J=function(w,R,j,K){return this.i.add(String(w),R,!1,j,K)},Vt.prototype.K=function(w,R,j,K){return this.i.add(String(w),R,!0,j,K)};function Er(w,R,j,K){if(R=w.i.g[String(R)],!R)return!0;R=R.concat();let ie=!0;for(let he=0;he<R.length;++he){const Ne=R[he];if(Ne&&!Ne.da&&Ne.capture==j){const at=Ne.listener,On=Ne.ha||Ne.src;Ne.fa&&_e(w.i,Ne),ie=at.call(On,K)!==!1&&ie}}return ie&&!K.defaultPrevented}function ji(w,R){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=d(w.handleEvent,w);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:a.setTimeout(w,R||0)}function Ce(w){w.g=ji(()=>{w.g=null,w.i&&(w.i=!1,Ce(w))},w.l);const R=w.h;w.h=null,w.m.apply(null,R)}class Pe extends q{constructor(R,j){super(),this.m=R,this.l=j,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Ce(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function de(w){q.call(this),this.h=w,this.g={}}g(de,q);var ee=[];function ge(w){fe(w.g,function(R,j){this.g.hasOwnProperty(j)&&qe(R)},w),w.g={}}de.prototype.N=function(){de.Z.N.call(this),ge(this)},de.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Re=a.JSON.stringify,De=a.JSON.parse,Oe=class{stringify(w){return a.JSON.stringify(w,void 0)}parse(w){return a.JSON.parse(w,void 0)}};function Je(){}function zt(){}var Wt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){V.call(this,"d")}g(kt,V);function fn(){V.call(this,"c")}g(fn,V);var dt={},Li=null;function Zn(){return Li=Li||new Vt}dt.Ia="serverreachability";function qu(w){V.call(this,dt.Ia,w)}g(qu,V);function lo(w){const R=Zn();Tt(R,new qu(R))}dt.STAT_EVENT="statevent";function rs(w,R){V.call(this,dt.STAT_EVENT,w),this.stat=R}g(rs,V);function ft(w){const R=Zn();Tt(R,new rs(R,w))}dt.Ja="timingevent";function hn(w,R){V.call(this,dt.Ja,w),this.size=R}g(hn,V);function gn(w,R){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){w()},R)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function jr(w,R,j,K,ie,he){w.info(function(){if(w.g)if(he){var Ne="",at=he.split("&");for(let Pt=0;Pt<at.length;Pt++){var On=at[Pt].split("=");if(On.length>1){const mn=On[0];On=On[1];const fo=mn.split("_");Ne=fo.length>=2&&fo[1]=="type"?Ne+(mn+"="+On+"&"):Ne+(mn+"=redacted&")}}}else Ne=null;else Ne=he;return"XMLHTTP REQ ("+K+") [attempt "+ie+"]: "+R+`
`+j+`
`+Ne})}function cr(w,R,j,K,ie,he,Ne){w.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+ie+"]: "+R+`
`+j+`
`+he+" "+Ne})}function Rn(w,R,j,K){w.info(function(){return"XMLHTTP TEXT ("+R+"): "+Pn(w,j)+(K?" "+K:"")})}function mi(w,R){w.info(function(){return"TIMEOUT: "+R})}Un.prototype.info=function(){};function Pn(w,R){if(!w.g)return R;if(!R)return null;try{const he=JSON.parse(R);if(he){for(w=0;w<he.length;w++)if(Array.isArray(he[w])){var j=he[w];if(!(j.length<2)){var K=j[1];if(Array.isArray(K)&&!(K.length<1)){var ie=K[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let Ne=1;Ne<K.length;Ne++)K[Ne]=""}}}}return Re(he)}catch{return R}}var Lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ur={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qr;function Ui(){}g(Ui,Je),Ui.prototype.g=function(){return new XMLHttpRequest},Qr=new Ui;function Zr(w){return encodeURIComponent(String(w))}function Vi(w){var R=1;w=w.split(":");const j=[];for(;R>0&&w.length;)j.push(w.shift()),R--;return w.length&&j.push(w.join(":")),j}function _r(w,R,j,K){this.j=w,this.i=R,this.l=j,this.S=K||1,this.V=new de(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Vn={},ur={};function ga(w,R,j){w.M=1,w.A=Nc(Bn(R)),w.u=j,w.R=!0,Hu(w,null)}function Hu(w,R){w.F=Date.now(),ma(w),w.B=Bn(w.A);var j=w.B,K=w.S;Array.isArray(K)||(K=[String(K)]),Yu(j.i,"t",K),w.C=0,j=w.j.L,w.h=new ei,w.g=Fm(w.j,j?R:null,!w.u),w.P>0&&(w.O=new Pe(d(w.Y,w,w.g),w.P)),R=w.V,j=w.g,K=w.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(ee[0]=ie.toString()),ie=ee);for(let he=0;he<ie.length;he++){const Ne=ue(j,ie[he],K||R.handleEvent,!1,R.h||R);if(!Ne)break;R.g[Ne.key]=Ne}R=w.J?G(w.J):{},w.u?(w.v||(w.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,R)):(w.v="GET",w.g.ea(w.B,w.v,null,R)),lo(),jr(w.i,w.v,w.B,w.l,w.S,w.u)}_r.prototype.ba=function(w){w=w.target;const R=this.O;R&&Go(w)==3?R.j():this.Y(w)},_r.prototype.Y=function(w){try{if(w==this.g)e:{const at=Go(this.g),On=this.g.ya(),Pt=this.g.ca();if(!(at<3)&&(at!=3||this.g&&(this.h.h||this.g.la()||Tr(this.g)))){this.K||at!=4||On==7||(On==8||Pt<=0?lo(3):lo(2)),ya(this);var R=this.g.ca();this.X=R;var j=Sw(this);if(this.o=R==200,cr(this.i,this.v,this.B,this.l,this.S,at,R),this.o){if(this.U&&!this.L){t:{if(this.g){var K,ie=this.g;if((K=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(K)){var he=K;break t}}he=null}if(w=he)Rn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ba(this,w);else{this.o=!1,this.m=3,ft(12),Fi(this),co(this);break e}}if(this.R){w=!0;let mn;for(;!this.K&&this.C<j.length;)if(mn=Cm(this,j),mn==ur){at==4&&(this.m=4,ft(14),w=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Vn){this.m=4,ft(15),Rn(this.i,this.l,j,"[Invalid Chunk]"),w=!1;break}else Rn(this.i,this.l,mn,null),ba(this,mn);if(Am(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||j.length!=0||this.h.h||(this.m=1,ft(16),w=!1),this.o=this.o&&w,!w)Rn(this.i,this.l,j,"[Invalid Chunked Response]"),Fi(this),co(this);else if(j.length>0&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.aa&&!Ne.P&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),wf(Ne),Ne.P=!0,ft(11))}}else Rn(this.i,this.l,j,null),ba(this,j);at==4&&Fi(this),this.o&&!this.K&&(at==4?jm(this.j,this):(this.o=!1,ma(this)))}else os(this.g),R==400&&j.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),Fi(this),co(this)}}}catch{}finally{}};function Sw(w){if(!Am(w))return w.g.la();const R=Tr(w.g);if(R==="")return"";let j="";const K=R.length,ie=Go(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return Fi(w),co(w),"";w.h.i=new a.TextDecoder}for(let he=0;he<K;he++)w.h.h=!0,j+=w.h.i.decode(R[he],{stream:!(ie&&he==K-1)});return R.length=0,w.h.g+=j,w.C=0,w.h.g}function Am(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function Cm(w,R){var j=w.C,K=R.indexOf(`
`,j);return K==-1?ur:(j=Number(R.substring(j,K)),isNaN(j)?Vn:(K+=1,K+j>R.length?ur:(R=R.slice(K,K+j),w.C=K+j,R)))}_r.prototype.cancel=function(){this.K=!0,Fi(this)};function ma(w){w.T=Date.now()+w.H,Gu(w,w.H)}function Gu(w,R){if(w.D!=null)throw Error("WatchDog timer not null");w.D=gn(d(w.aa,w),R)}function ya(w){w.D&&(a.clearTimeout(w.D),w.D=null)}_r.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(mi(this.i,this.B),this.M!=2&&(lo(),ft(17)),Fi(this),this.m=2,co(this)):Gu(this,this.T-w)};function co(w){w.j.I==0||w.K||jm(w.j,w)}function Fi(w){ya(w);var R=w.O;R&&typeof R.dispose=="function"&&R.dispose(),w.O=null,ge(w.V),w.g&&(R=w.g,w.g=null,R.abort(),R.dispose())}function ba(w,R){try{var j=w.j;if(j.I!=0&&(j.g==w||xa(j.h,w))){if(!w.L&&xa(j.h,w)&&j.I==3){try{var K=j.Ba.g.parse(R)}catch{K=null}if(Array.isArray(K)&&K.length==3){var ie=K;if(ie[0]==0){e:if(!j.v){if(j.g)if(j.g.F+3e3<w.F)ed(j),ml(j);else break e;jc(j),ft(18)}}else j.xa=ie[1],0<j.xa-j.K&&ie[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=gn(d(j.Va,j),6e3));va(j.h)<=1&&j.ta&&(j.ta=void 0)}else Sa(j,11)}else if((w.L||j.g==w)&&ed(j),!F(R))for(ie=j.Ba.g.parse(R),R=0;R<ie.length;R++){let Pt=ie[R];const mn=Pt[0];if(!(mn<=j.K))if(j.K=mn,Pt=Pt[1],j.I==2)if(Pt[0]=="c"){j.M=Pt[1],j.ba=Pt[2];const fo=Pt[3];fo!=null&&(j.ka=fo,j.j.info("VER="+j.ka));const Aa=Pt[4];Aa!=null&&(j.za=Aa,j.j.info("SVER="+j.za));const Ko=Pt[5];Ko!=null&&typeof Ko=="number"&&Ko>0&&(K=1.5*Ko,j.O=K,j.j.info("backChannelRequestTimeoutMs_="+K)),K=j;const Wo=w.g;if(Wo){const Lc=Wo.g?Wo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lc){var he=K.h;he.g||Lc.indexOf("spdy")==-1&&Lc.indexOf("quic")==-1&&Lc.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(cf(he,he.h),he.h=null))}if(K.G){const td=Wo.g?Wo.g.getResponseHeader("X-HTTP-Session-Id"):null;td&&(K.wa=td,Ft(K.J,K.G,td))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-w.F,j.j.info("Handshake RTT: "+j.T+"ms")),K=j;var Ne=w;if(K.na=Vm(K,K.L?K.ba:null,K.W),Ne.L){uf(K.h,Ne);var at=Ne,On=K.O;On&&(at.H=On),at.D&&(ya(at),ma(at)),K.g=Ne}else Mm(K);j.i.length>0&&Ta(j)}else Pt[0]!="stop"&&Pt[0]!="close"||Sa(j,7);else j.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Sa(j,7):vf(j):Pt[0]!="noop"&&j.l&&j.l.qa(Pt),j.A=0)}}lo(4)}catch{}}var Fn=class{constructor(w,R){this.g=w,this.map=R}};function sf(w){this.l=w||10,a.PerformanceNavigationTiming?(w=a.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lf(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function va(w){return w.h?1:w.g?w.g.size:0}function xa(w,R){return w.h?w.h==R:w.g?w.g.has(R):!1}function cf(w,R){w.g?w.g.add(R):w.h=R}function uf(w,R){w.h&&w.h==R?w.h=null:w.g&&w.g.has(R)&&w.g.delete(R)}sf.prototype.cancel=function(){if(this.i=df(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function df(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let R=w.i;for(const j of w.g.values())R=R.concat(j.G);return R}return b(w.i)}var Im=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ku(w,R){if(w){w=w.split("&");for(let j=0;j<w.length;j++){const K=w[j].indexOf("=");let ie,he=null;K>=0?(ie=w[j].substring(0,K),he=w[j].substring(K+1)):ie=w[j],R(ie,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function Bi(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;w instanceof Bi?(this.l=w.l,dr(this,w.j),this.o=w.o,this.g=w.g,cl(this,w.u),this.h=w.h,pf(this,Om(w.i)),this.m=w.m):w&&(R=String(w).match(Im))?(this.l=!1,dr(this,R[1]||"",!0),this.o=wa(R[2]||""),this.g=wa(R[3]||"",!0),cl(this,R[4]),this.h=wa(R[5]||"",!0),pf(this,R[6]||"",!0),this.m=wa(R[7]||"")):(this.l=!1,this.i=new dl(null,this.l))}Bi.prototype.toString=function(){const w=[];var R=this.j;R&&w.push(Rc(R,Wu,!0),":");var j=this.g;return(j||R=="file")&&(w.push("//"),(R=this.o)&&w.push(Rc(R,Wu,!0),"@"),w.push(Zr(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&w.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&w.push("/"),w.push(Rc(j,j.charAt(0)=="/"?ff:Nm,!0))),(j=this.i.toString())&&w.push("?",j),(j=this.m)&&w.push("#",Rc(j,Rm)),w.join("")},Bi.prototype.resolve=function(w){const R=Bn(this);let j=!!w.j;j?dr(R,w.j):j=!!w.o,j?R.o=w.o:j=!!w.g,j?R.g=w.g:j=w.u!=null;var K=w.h;if(j)cl(R,w.u);else if(j=!!w.h){if(K.charAt(0)!="/")if(this.g&&!this.h)K="/"+K;else{var ie=R.h.lastIndexOf("/");ie!=-1&&(K=R.h.slice(0,ie+1)+K)}if(ie=K,ie==".."||ie==".")K="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){K=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const he=[];for(let Ne=0;Ne<ie.length;){const at=ie[Ne++];at=="."?K&&Ne==ie.length&&he.push(""):at==".."?((he.length>1||he.length==1&&he[0]!="")&&he.pop(),K&&Ne==ie.length&&he.push("")):(he.push(at),K=!0)}K=he.join("/")}else K=ie}return j?R.h=K:j=w.i.toString()!=="",j?pf(R,Om(w.i)):j=!!w.m,j&&(R.m=w.m),R};function Bn(w){return new Bi(w)}function dr(w,R,j){w.j=j?wa(R,!0):R,w.j&&(w.j=w.j.replace(/:$/,""))}function cl(w,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);w.u=R}else w.u=null}function pf(w,R,j){R instanceof dl?(w.i=R,Ju(w.i,w.l)):(j||(R=Rc(R,ul)),w.i=new dl(R,w.l))}function Ft(w,R,j){w.i.set(R,j)}function Nc(w){return Ft(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function wa(w,R){return w?R?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Rc(w,R,j){return typeof w=="string"?(w=encodeURI(w).replace(R,yi),j&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function yi(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Wu=/[#\/\?@]/g,Nm=/[#\?:]/g,ff=/[#\?]/g,ul=/[#\?@]/g,Rm=/#/g;function dl(w,R){this.h=this.g=null,this.i=w||null,this.j=!!R}function bi(w){w.g||(w.g=new Map,w.h=0,w.i&&Ku(w.i,function(R,j){w.add(decodeURIComponent(R.replace(/\+/g," ")),j)}))}t=dl.prototype,t.add=function(w,R){bi(this),this.i=null,w=pl(this,w);let j=this.g.get(w);return j||this.g.set(w,j=[]),j.push(R),this.h+=1,this};function Pm(w,R){bi(w),R=pl(w,R),w.g.has(R)&&(w.i=null,w.h-=w.g.get(R).length,w.g.delete(R))}function hf(w,R){return bi(w),R=pl(w,R),w.g.has(R)}t.forEach=function(w,R){bi(this),this.g.forEach(function(j,K){j.forEach(function(ie){w.call(R,ie,K,this)},this)},this)};function gf(w,R){bi(w);let j=[];if(typeof R=="string")hf(w,R)&&(j=j.concat(w.g.get(pl(w,R))));else for(w=Array.from(w.g.values()),R=0;R<w.length;R++)j=j.concat(w[R]);return j}t.set=function(w,R){return bi(this),this.i=null,w=pl(this,w),hf(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[R]),this.h+=1,this},t.get=function(w,R){return w?(w=gf(this,w),w.length>0?String(w[0]):R):R};function Yu(w,R,j){Pm(w,R),j.length>0&&(w.i=null,w.g.set(pl(w,R),b(j)),w.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],R=Array.from(this.g.keys());for(let K=0;K<R.length;K++){var j=R[K];const ie=Zr(j);j=gf(this,j);for(let he=0;he<j.length;he++){let Ne=ie;j[he]!==""&&(Ne+="="+Zr(j[he])),w.push(Ne)}}return this.i=w.join("&")};function Om(w){const R=new dl;return R.i=w.i,w.g&&(R.g=new Map(w.g),R.h=w.h),R}function pl(w,R){return R=String(R),w.j&&(R=R.toLowerCase()),R}function Ju(w,R){R&&!w.j&&(bi(w),w.i=null,w.g.forEach(function(j,K){const ie=K.toLowerCase();K!=ie&&(Pm(this,K),Yu(this,ie,j))},w)),w.j=R}function qo(w,R){const j=new Un;if(a.Image){const K=new Image;K.onload=p(uo,j,"TestLoadImage: loaded",!0,R,K),K.onerror=p(uo,j,"TestLoadImage: error",!1,R,K),K.onabort=p(uo,j,"TestLoadImage: abort",!1,R,K),K.ontimeout=p(uo,j,"TestLoadImage: timeout",!1,R,K),a.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=w}else R(!1)}function mf(w,R){const j=new Un,K=new AbortController,ie=setTimeout(()=>{K.abort(),uo(j,"TestPingServer: timeout",!1,R)},1e4);fetch(w,{signal:K.signal}).then(he=>{clearTimeout(ie),he.ok?uo(j,"TestPingServer: ok",!0,R):uo(j,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(ie),uo(j,"TestPingServer: error",!1,R)})}function uo(w,R,j,K,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),K(j)}catch{}}function fl(){this.g=new Oe}function ka(w){this.i=w.Sb||null,this.h=w.ab||!1}g(ka,Je),ka.prototype.g=function(){return new Pc(this.i,this.h)};function Pc(w,R){Vt.call(this),this.H=w,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Pc,Vt),t=Pc.prototype,t.open=function(w,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=R,this.readyState=1,Ho(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&(R.body=w),(this.H||a).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hl(this)),this.readyState=0},t.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Ho(this)),this.g&&(this.readyState=3,Ho(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xu(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xu(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}t.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var R=w.value?w.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!w.done}))&&(this.response=this.responseText+=R)}w.done?hl(this):Ho(this),this.readyState==3&&Xu(this)}},t.Oa=function(w){this.g&&(this.response=this.responseText=w,hl(this))},t.Na=function(w){this.g&&(this.response=w,hl(this))},t.ga=function(){this.g&&hl(this)};function hl(w){w.readyState=4,w.l=null,w.j=null,w.B=null,Ho(w)}t.setRequestHeader=function(w,R){this.A.append(w,R)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],R=this.h.entries();for(var j=R.next();!j.done;)j=j.value,w.push(j[0]+": "+j[1]),j=R.next();return w.join(`\r
`)};function Ho(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(Pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function po(w){let R="";return fe(w,function(j,K){R+=K,R+=":",R+=j,R+=`\r
`}),R}function Oc(w,R,j){e:{for(K in j){var K=!1;break e}K=!0}K||(j=po(j),typeof w=="string"?j!=null&&Zr(j):Ft(w,R,j))}function Yt(w){Vt.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Yt,Vt);var Ea=/^https?$/i,yf=["POST","PUT"];t=Yt.prototype,t.Fa=function(w){this.H=w},t.ea=function(w,R,j,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);R=R?R.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qr.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(R,String(w),!0),this.B=!1}catch(he){Dc(this,he);return}if(w=j||"",j=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var ie in K)j.set(ie,K[ie]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const he of K.keys())j.set(he,K.get(he));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(j.keys()).find(he=>he.toLowerCase()=="content-type"),ie=a.FormData&&w instanceof a.FormData,!(Array.prototype.indexOf.call(yf,R,void 0)>=0)||K||ie||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Ne]of j)this.g.setRequestHeader(he,Ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(he){Dc(this,he)}};function Dc(w,R){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=R,w.o=5,bf(w),is(w)}function bf(w){w.A||(w.A=!0,Tt(w,"complete"),Tt(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,Tt(this,"complete"),Tt(this,"abort"),is(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),Yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Mc(this):this.Xa())},t.Xa=function(){Mc(this)};function Mc(w){if(w.h&&typeof o<"u"){if(w.v&&Go(w)==4)setTimeout(w.Ca.bind(w),0);else if(Tt(w,"readystatechange"),Go(w)==4){w.h=!1;try{const he=w.ca();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var j;if(!(j=R)){var K;if(K=he===0){let Ne=String(w.D).match(Im)[1]||null;!Ne&&a.self&&a.self.location&&(Ne=a.self.location.protocol.slice(0,-1)),K=!Ea.test(Ne?Ne.toLowerCase():"")}j=K}if(j)Tt(w,"complete"),Tt(w,"success");else{w.o=6;try{var ie=Go(w)>2?w.g.statusText:""}catch{ie=""}w.l=ie+" ["+w.ca()+"]",bf(w)}}finally{is(w)}}}}function is(w,R){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const j=w.g;w.g=null,R||Tt(w,"ready");try{j.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Go(w){return w.g?w.g.readyState:0}t.ca=function(){try{return Go(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(w){if(this.g){var R=this.g.responseText;return w&&R.indexOf(w)==0&&(R=R.substring(w.length)),De(R)}};function Tr(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function os(w){const R={};w=(w.g&&Go(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<w.length;K++){if(F(w[K]))continue;var j=Vi(w[K]);const ie=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const he=R[ie]||[];R[ie]=he,he.push(j)}Y(R,function(K){return K.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(w,R,j){return j&&j.internalChannelParams&&j.internalChannelParams[w]||R}function gl(w){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_a("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_a("baseRetryDelayMs",5e3,w),this.Za=_a("retryDelaySeedMs",1e4,w),this.Ta=_a("forwardChannelMaxRetries",2,w),this.va=_a("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new sf(w&&w.concurrentRequestLimit),this.Ba=new fl,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=gl.prototype,t.ka=8,t.I=1,t.connect=function(w,R,j,K){ft(0),this.W=w,this.H=R||{},j&&K!==void 0&&(this.H.OSID=j,this.H.OAID=K),this.F=this.X,this.J=Vm(this,null,this.W),Ta(this)};function vf(w){if(Qu(w),w.I==3){var R=w.V++,j=Bn(w.J);if(Ft(j,"SID",w.M),Ft(j,"RID",R),Ft(j,"TYPE","terminate"),zc(w,j),R=new _r(w,w.j,R),R.M=2,R.A=Nc(Bn(j)),j=!1,a.navigator&&a.navigator.sendBeacon)try{j=a.navigator.sendBeacon(R.A.toString(),"")}catch{}!j&&a.Image&&(new Image().src=R.A,j=!0),j||(R.g=Fm(R.j,null),R.g.ea(R.A)),R.F=Date.now(),ma(R)}Um(w)}function ml(w){w.g&&(wf(w),w.g.cancel(),w.g=null)}function Qu(w){ml(w),w.v&&(a.clearTimeout(w.v),w.v=null),ed(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&a.clearTimeout(w.m),w.m=null)}function Ta(w){if(!lf(w.h)&&!w.m){w.m=!0;var R=w.Ea;L||z(),M||(L(),M=!0),P.add(R,w),w.D=0}}function Zu(w,R){return va(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=R.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=gn(d(w.Ea,w,R),Lm(w,w.D)),w.D++,!0)}t.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const ie=new _r(this,this.j,w);let he=this.o;if(this.U&&(he?(he=G(he),$(he,this.U)):he=this.U),this.u!==null||this.R||(ie.J=he,he=null),this.S)e:{for(var R=0,j=0;j<this.i.length;j++){t:{var K=this.i[j];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(R+=K,R>4096){R=j;break e}if(R===4096||j===this.i.length-1){R=j+1;break e}}R=1e3}else R=1e3;R=Dm(this,ie,R),j=Bn(this.J),Ft(j,"RID",w),Ft(j,"CVER",22),this.G&&Ft(j,"X-HTTP-Session-Id",this.G),zc(this,j),he&&(this.R?R="headers="+Zr(po(he))+"&"+R:this.u&&Oc(j,this.u,he)),cf(this.h,ie),this.Ra&&Ft(j,"TYPE","init"),this.S?(Ft(j,"$req",R),Ft(j,"SID","null"),ie.U=!0,ga(ie,j,null)):ga(ie,j,R),this.I=2}}else this.I==3&&(w?xf(this,w):this.i.length==0||lf(this.h)||xf(this))};function xf(w,R){var j;R?j=R.l:j=w.V++;const K=Bn(w.J);Ft(K,"SID",w.M),Ft(K,"RID",j),Ft(K,"AID",w.K),zc(w,K),w.u&&w.o&&Oc(K,w.u,w.o),j=new _r(w,w.j,j,w.D+1),w.u===null&&(j.J=w.o),R&&(w.i=R.G.concat(w.i)),R=Dm(w,j,1e3),j.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),cf(w.h,j),ga(j,K,R)}function zc(w,R){w.H&&fe(w.H,function(j,K){Ft(R,K,j)}),w.l&&fe({},function(j,K){Ft(R,K,j)})}function Dm(w,R,j){j=Math.min(w.i.length,j);const K=w.l?d(w.l.Ka,w.l,w):null;e:{var ie=w.i;let at=-1;for(;;){const On=["count="+j];at==-1?j>0?(at=ie[0].g,On.push("ofs="+at)):at=0:On.push("ofs="+at);let Pt=!0;for(let mn=0;mn<j;mn++){var he=ie[mn].g;const fo=ie[mn].map;if(he-=at,he<0)at=Math.max(0,ie[mn].g-100),Pt=!1;else try{he="req"+he+"_"||"";try{var Ne=fo instanceof Map?fo:Object.entries(fo);for(const[Aa,Ko]of Ne){let Wo=Ko;l(Ko)&&(Wo=Re(Ko)),On.push(he+Aa+"="+encodeURIComponent(Wo))}}catch(Aa){throw On.push(he+"type="+encodeURIComponent("_badmap")),Aa}}catch{K&&K(fo)}}if(Pt){Ne=On.join("&");break e}}Ne=void 0}return w=w.i.splice(0,j),R.G=w,Ne}function Mm(w){if(!w.g&&!w.v){w.Y=1;var R=w.Da;L||z(),M||(L(),M=!0),P.add(R,w),w.A=0}}function jc(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=gn(d(w.Da,w),Lm(w,w.A)),w.A++,!0)}t.Da=function(){if(this.v=null,zm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=gn(d(this.Wa,this),w)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),ml(this),zm(this))};function wf(w){w.B!=null&&(a.clearTimeout(w.B),w.B=null)}function zm(w){w.g=new _r(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var R=Bn(w.na);Ft(R,"RID","rpc"),Ft(R,"SID",w.M),Ft(R,"AID",w.K),Ft(R,"CI",w.F?"0":"1"),!w.F&&w.ia&&Ft(R,"TO",w.ia),Ft(R,"TYPE","xmlhttp"),zc(w,R),w.u&&w.o&&Oc(R,w.u,w.o),w.O&&(w.g.H=w.O);var j=w.g;w=w.ba,j.M=1,j.A=Nc(Bn(R)),j.u=null,j.R=!0,Hu(j,w)}t.Va=function(){this.C!=null&&(this.C=null,ml(this),jc(this),ft(19))};function ed(w){w.C!=null&&(a.clearTimeout(w.C),w.C=null)}function jm(w,R){var j=null;if(w.g==R){ed(w),wf(w),w.g=null;var K=2}else if(xa(w.h,R))j=R.G,uf(w.h,R),K=1;else return;if(w.I!=0){if(R.o)if(K==1){j=R.u?R.u.length:0,R=Date.now()-R.F;var ie=w.D;K=Zn(),Tt(K,new hn(K,j)),Ta(w)}else Mm(w);else if(ie=R.m,ie==3||ie==0&&R.X>0||!(K==1&&Zu(w,R)||K==2&&jc(w)))switch(j&&j.length>0&&(R=w.h,R.i=R.i.concat(j)),ie){case 1:Sa(w,5);break;case 4:Sa(w,10);break;case 3:Sa(w,6);break;default:Sa(w,2)}}}function Lm(w,R){let j=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(j*=2),j*R}function Sa(w,R){if(w.j.info("Error code "+R),R==2){var j=d(w.bb,w),K=w.Ua;const ie=!K;K=new Bi(K||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dr(K,"https"),Nc(K),ie?qo(K.toString(),j):mf(K.toString(),j)}else ft(2);w.I=0,w.l&&w.l.pa(R),Um(w),Qu(w)}t.bb=function(w){w?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Um(w){if(w.I=0,w.ja=[],w.l){const R=df(w.h);(R.length!=0||w.i.length!=0)&&(E(w.ja,R),E(w.ja,w.i),w.h.i.length=0,b(w.i),w.i.length=0),w.l.oa()}}function Vm(w,R,j){var K=j instanceof Bi?Bn(j):new Bi(j);if(K.g!="")R&&(K.g=R+"."+K.g),cl(K,K.u);else{var ie=a.location;K=ie.protocol,R=R?R+"."+ie.hostname:ie.hostname,ie=+ie.port;const he=new Bi(null);K&&dr(he,K),R&&(he.g=R),ie&&cl(he,ie),j&&(he.h=j),K=he}return j=w.G,R=w.wa,j&&R&&Ft(K,j,R),Ft(K,"VER",w.ka),zc(w,K),K}function Fm(w,R,j){if(R&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=w.Aa&&!w.ma?new Yt(new ka({ab:j})):new Yt(w.ma),R.Fa(w.L),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bm(){}t=Bm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function yl(){}yl.prototype.g=function(w,R){return new ti(w,R)};function ti(w,R){Vt.call(this),this.g=new gl(R),this.l=w,this.h=R&&R.messageUrlParams||null,w=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(w?w["X-WebChannel-Content-Type"]=R.messageContentType:w={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(w?w["X-WebChannel-Client-Profile"]=R.sa:w={"X-WebChannel-Client-Profile":R.sa}),this.g.U=w,(w=R&&R.Qb)&&!F(w)&&(this.g.u=w),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!F(R)&&(this.g.G=R,w=this.h,w!==null&&R in w&&(w=this.h,R in w&&delete w[R])),this.j=new as(this)}g(ti,Vt),ti.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ti.prototype.close=function(){vf(this.g)},ti.prototype.o=function(w){var R=this.g;if(typeof w=="string"){var j={};j.__data__=w,w=j}else this.v&&(j={},j.__data__=Re(w),w=j);R.i.push(new Fn(R.Ya++,w)),R.I==3&&Ta(R)},ti.prototype.N=function(){this.g.l=null,delete this.j,vf(this.g),delete this.g,ti.Z.N.call(this)};function $m(w){kt.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var R=w.__sm__;if(R){e:{for(const j in R){w=j;break e}w=void 0}(this.i=w)&&(w=this.i,R=R!==null&&w in R?R[w]:void 0),this.data=R}else this.data=w}g($m,kt);function qm(){fn.call(this),this.status=1}g(qm,fn);function as(w){this.g=w}g(as,Bm),as.prototype.ra=function(){Tt(this.g,"a")},as.prototype.qa=function(w){Tt(this.g,new $m(w))},as.prototype.pa=function(w){Tt(this.g,new qm)},as.prototype.oa=function(){Tt(this.g,"b")},yl.prototype.createWebChannel=yl.prototype.g,ti.prototype.send=ti.prototype.o,ti.prototype.open=ti.prototype.m,ti.prototype.close=ti.prototype.close,m6=function(){return new yl},g6=function(){return Zn()},h6=dt,uT={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Lr.NO_ERROR=0,Lr.TIMEOUT=8,Lr.HTTP_ERROR=6,P0=Lr,Ur.COMPLETE="complete",f6=Ur,zt.EventType=Wt,Wt.OPEN="a",Wt.CLOSE="b",Wt.ERROR="c",Wt.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,Sh=zt,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,p6=Yt}).apply(typeof Yy<"u"?Yy:typeof self<"u"?self:typeof window<"u"?window:{});const jO="@firebase/firestore",LO="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mp="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=new Wv("@firebase/firestore");function jd(){return wu.logLevel}function Le(t,...e){if(wu.logLevel<=bt.DEBUG){const n=e.map(vA);wu.debug(`Firestore (${Mp}): ${t}`,...n)}}function Ls(t,...e){if(wu.logLevel<=bt.ERROR){const n=e.map(vA);wu.error(`Firestore (${Mp}): ${t}`,...n)}}function up(t,...e){if(wu.logLevel<=bt.WARN){const n=e.map(vA);wu.warn(`Firestore (${Mp}): ${t}`,...n)}}function vA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,y6(t,r,n)}function y6(t,e,n){let r=`FIRESTORE (${Mp}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ls(r),new Error(r)}function jt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||y6(e,i,r)}function it(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends Vo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($r.UNAUTHENTICATED)))}shutdown(){}}class gee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class mee{constructor(e){this.t=e,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){jt(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rs,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const u=o;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},l=u=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rs)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string",31837,{l:r}),new b6(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new $r(e)}}class yee{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$r.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bee{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yee(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($r.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class UO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vee{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){jt(this.o===void 0,3512);const r=o=>{o.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,Le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new UO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new UO(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xee(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=xee(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function vt(t,e){return t<e?-1:t>e?1:0}function dT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return z1(i)===z1(o)?vt(i,o):z1(i)?1:-1}return vt(t.length,e.length)}const wee=55296,kee=57343;function z1(t){const e=t.charCodeAt(0);return e>=wee&&e<=kee}function dp(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="__name__";class Oa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Oa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Oa.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return vt(e.length,n.length)}static compareSegments(e,n){const r=Oa.isNumericId(e),i=Oa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Oa.extractNumericId(e).compare(Oa.extractNumericId(n)):dT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sc.fromString(e.substring(4,e.length-2))}}class on extends Oa{construct(e,n,r){return new on(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ze(we.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new on(n)}static emptyPath(){return new on([])}}const Eee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Or extends Oa{construct(e,n,r){return new Or(e,n,r)}static isValidIdentifier(e){return Eee.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Or.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VO}static keyField(){return new Or([VO])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ze(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ze(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ze(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(o(),i++)}if(o(),a)throw new ze(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Or(n)}static emptyPath(){return new Or([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.path=e}static fromPath(e){return new We(on.fromString(e))}static fromName(e){return new We(on.fromString(e).popFirst(5))}static empty(){return new We(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&on.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return on.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new on(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t,e,n){if(!n)throw new ze(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _ee(t,e,n,r){if(e===!0&&r===!0)throw new ze(we.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FO(t){if(!We.isDocumentKey(t))throw new ze(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BO(t){if(We.isDocumentKey(t))throw new ze(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function x6(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe(12329,{type:typeof t})}function li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ze(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yv(t);throw new ze(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Dg(t,e){if(!x6(t))throw new ze(we.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ze(we.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=-62135596800,qO=1e6;class dn{static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qO);return new dn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ze(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ze(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$O)throw new ze(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qO}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dg(e,dn._jsonSchema))return new dn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$O;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dn._jsonSchemaVersion="firestore/timestamp/1.0",dn._jsonSchema={type:Xn("string",dn._jsonSchemaVersion),seconds:Xn("number"),nanoseconds:Xn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new dn(0,0))}static max(){return new tt(new dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=-1;function Tee(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new dn(n+1,0):new dn(n,r));return new uc(i,We.empty(),e)}function See(t){return new uc(t.readTime,t.key,eg)}class uc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new uc(tt.min(),We.empty(),eg)}static max(){return new uc(tt.max(),We.empty(),eg)}}function Aee(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=We.comparator(t.documentKey,e.documentKey),n!==0?n:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Iee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==Cee)throw t;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ee(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ee?n:Ee.resolve(n)}catch(n){return Ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ee.reject(n)}static resolve(e){return new Ee(((n,r)=>{n(e)}))}static reject(e){return new Ee(((n,r)=>{r(e)}))}static waitFor(e){return new Ee(((n,r)=>{let i=0,o=0,a=!1;e.forEach((l=>{++i,l.next((()=>{++o,a&&o===i&&n()}),(u=>r(u)))})),a=!0,o===i&&n()}))}static or(e){let n=Ee.resolve(!1);for(const r of e)n=n.next((i=>i?Ee.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new Ee(((r,i)=>{const o=e.length,a=new Array(o);let l=0;for(let u=0;u<o;u++){const d=u;n(e[d]).next((p=>{a[d]=p,++l,l===o&&r(a)}),(p=>i(p)))}}))}static doWhile(e,n){return new Ee(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function Nee(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=-1;function Xv(t){return t==null}function cb(t){return t===0&&1/t==-1/0}function Ree(t){return typeof t=="number"&&Number.isInteger(t)&&!cb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="";function Pee(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=HO(e)),e=Oee(t.get(n),e);return HO(e)}function Oee(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case w6:n+="";break;default:n+=o}}return n}function HO(t){return t+w6+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.comparator=e,this.root=n||Pr.EMPTY}insert(e,n){return new En(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pr.BLACK,null,null))}remove(e){return new En(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jy(this.root,e,this.comparator,!0)}}class Jy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Pr.RED,this.left=i??Pr.EMPTY,this.right=o??Pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Pr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1;Pr.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Pr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new KO(this.data.getIterator())}getIteratorFrom(e){return new KO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rr(this.comparator);return n.data=e,n}}class KO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.fields=e,e.sort(Or.comparator)}static empty(){return new eo([])}unionWith(e){let n=new rr(Or.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new eo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dp(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new E6("Invalid base64 string: "+o):o}})(e);return new zr(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new zr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zr.EMPTY_BYTE_STRING=new zr("");const Dee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dc(t){if(jt(!!t,39018),typeof t=="string"){let e=0;const n=Dee.exec(t);if(jt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jn(t.seconds),nanos:jn(t.nanos)}}function jn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pc(t){return typeof t=="string"?zr.fromBase64String(t):zr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="server_timestamp",T6="__type__",S6="__previous_value__",A6="__local_write_time__";function kA(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[T6])==null?void 0:r.stringValue)===_6}function Qv(t){const e=t.mapValue.fields[S6];return kA(e)?Qv(e):e}function tg(t){const e=dc(t.mapValue.fields[A6].timestampValue);return new dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mee{constructor(e,n,r,i,o,a,l,u,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=p}}const ub="(default)";class ng{constructor(e,n){this.projectId=e,this.database=n||ub}static empty(){return new ng("","")}get isDefaultDatabase(){return this.database===ub}isEqual(e){return e instanceof ng&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="__type__",zee="__max__",Xy={mapValue:{}},I6="__vector__",db="value";function fc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kA(t)?4:Lee(t)?9007199254740991:jee(t)?10:11:Qe(28295,{value:t})}function Ya(t,e){if(t===e)return!0;const n=fc(t);if(n!==fc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tg(t).isEqual(tg(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=dc(i.timestampValue),l=dc(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return pc(i.bytesValue).isEqual(pc(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return jn(i.geoPointValue.latitude)===jn(o.geoPointValue.latitude)&&jn(i.geoPointValue.longitude)===jn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return jn(i.integerValue)===jn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=jn(i.doubleValue),l=jn(o.doubleValue);return a===l?cb(a)===cb(l):isNaN(a)&&isNaN(l)}return!1})(t,e);case 9:return dp(t.arrayValue.values||[],e.arrayValue.values||[],Ya);case 10:case 11:return(function(i,o){const a=i.mapValue.fields||{},l=o.mapValue.fields||{};if(GO(a)!==GO(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Ya(a[u],l[u])))return!1;return!0})(t,e);default:return Qe(52216,{left:t})}}function rg(t,e){return(t.values||[]).find((n=>Ya(n,e)))!==void 0}function pp(t,e){if(t===e)return 0;const n=fc(t),r=fc(e);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return(function(o,a){const l=jn(o.integerValue||o.doubleValue),u=jn(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return WO(t.timestampValue,e.timestampValue);case 4:return WO(tg(t),tg(e));case 5:return dT(t.stringValue,e.stringValue);case 6:return(function(o,a){const l=pc(o),u=pc(a);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,a){const l=o.split("/"),u=a.split("/");for(let d=0;d<l.length&&d<u.length;d++){const p=vt(l[d],u[d]);if(p!==0)return p}return vt(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,a){const l=vt(jn(o.latitude),jn(a.latitude));return l!==0?l:vt(jn(o.longitude),jn(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return YO(t.arrayValue,e.arrayValue);case 10:return(function(o,a){var m,b,E,A;const l=o.fields||{},u=a.fields||{},d=(m=l[db])==null?void 0:m.arrayValue,p=(b=u[db])==null?void 0:b.arrayValue,g=vt(((E=d==null?void 0:d.values)==null?void 0:E.length)||0,((A=p==null?void 0:p.values)==null?void 0:A.length)||0);return g!==0?g:YO(d,p)})(t.mapValue,e.mapValue);case 11:return(function(o,a){if(o===Xy.mapValue&&a===Xy.mapValue)return 0;if(o===Xy.mapValue)return 1;if(a===Xy.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),d=a.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const m=dT(u[g],p[g]);if(m!==0)return m;const b=pp(l[u[g]],d[p[g]]);if(b!==0)return b}return vt(u.length,p.length)})(t.mapValue,e.mapValue);default:throw Qe(23264,{he:n})}}function WO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const n=dc(t),r=dc(e),i=vt(n.seconds,r.seconds);return i!==0?i:vt(n.nanos,r.nanos)}function YO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=pp(n[i],r[i]);if(o)return o}return vt(n.length,r.length)}function fp(t){return pT(t)}function pT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=dc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return pc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return We.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=pT(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${pT(n.fields[a])}`;return i+"}"})(t.mapValue):Qe(61005,{value:t})}function O0(t){switch(fc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qv(t);return e?16+O0(e):16;case 5:return 2*t.stringValue.length;case 6:return pc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+O0(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return xc(r.fields,((o,a)=>{i+=o.length+O0(a)})),i})(t.mapValue);default:throw Qe(13486,{value:t})}}function JO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fT(t){return!!t&&"integerValue"in t}function EA(t){return!!t&&"arrayValue"in t}function XO(t){return!!t&&"nullValue"in t}function QO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function D0(t){return!!t&&"mapValue"in t}function jee(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[C6])==null?void 0:r.stringValue)===I6}function Oh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Oh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oh(t.arrayValue.values[n]);return e}return{...t}}function Lee(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===zee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!D0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(n)}setAll(e){let n=Or.emptyPath(),r={},i=[];e.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=Oh(a):i.push(l.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());D0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ya(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];D0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xc(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Ii(Oh(this.value))}}function N6(t){const e=[];return xc(t.fields,((n,r)=>{const i=new Or([n]);if(D0(r)){const o=N6(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)})),new eo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r,i,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new qr(e,0,tt.min(),tt.min(),tt.min(),Ii.empty(),0)}static newFoundDocument(e,n,r,i){return new qr(e,1,n,tt.min(),r,i,0)}static newNoDocument(e,n){return new qr(e,2,n,tt.min(),tt.min(),Ii.empty(),0)}static newUnknownDocument(e,n){return new qr(e,3,n,tt.min(),tt.min(),Ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){this.position=e,this.inclusive=n}}function ZO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=We.comparator(We.fromName(a.referenceValue),n.key):r=pp(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function eD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ya(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n="asc"){this.field=e,this.dir=n}}function Uee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{}class Jn extends R6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Fee(e,n,r):n==="array-contains"?new qee(e,r):n==="in"?new Hee(e,r):n==="not-in"?new Gee(e,r):n==="array-contains-any"?new Kee(e,r):new Jn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Bee(e,r):new $ee(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pp(n,this.value)):n!==null&&fc(this.value)===fc(n)&&this.matchesComparison(pp(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oa extends R6{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new oa(e,n)}matches(e){return P6(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P6(t){return t.op==="and"}function O6(t){return Vee(t)&&P6(t)}function Vee(t){for(const e of t.filters)if(e instanceof oa)return!1;return!0}function hT(t){if(t instanceof Jn)return t.field.canonicalString()+t.op.toString()+fp(t.value);if(O6(t))return t.filters.map((e=>hT(e))).join(",");{const e=t.filters.map((n=>hT(n))).join(",");return`${t.op}(${e})`}}function D6(t,e){return t instanceof Jn?(function(r,i){return i instanceof Jn&&r.op===i.op&&r.field.isEqual(i.field)&&Ya(r.value,i.value)})(t,e):t instanceof oa?(function(r,i){return i instanceof oa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,a,l)=>o&&D6(a,i.filters[l])),!0):!1})(t,e):void Qe(19439)}function M6(t){return t instanceof Jn?(function(n){return`${n.field.canonicalString()} ${n.op} ${fp(n.value)}`})(t):t instanceof oa?(function(n){return n.op.toString()+" {"+n.getFilters().map(M6).join(" ,")+"}"})(t):"Filter"}class Fee extends Jn{constructor(e,n,r){super(e,n,r),this.key=We.fromName(r.referenceValue)}matches(e){const n=We.comparator(e.key,this.key);return this.matchesComparison(n)}}class Bee extends Jn{constructor(e,n){super(e,"in",n),this.keys=z6("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $ee extends Jn{constructor(e,n){super(e,"not-in",n),this.keys=z6("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function z6(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>We.fromName(r.referenceValue)))}class qee extends Jn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return EA(n)&&rg(n.arrayValue,this.value)}}class Hee extends Jn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rg(this.value.arrayValue,n)}}class Gee extends Jn{constructor(e,n){super(e,"not-in",n)}matches(e){if(rg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rg(this.value.arrayValue,n)}}class Kee extends Jn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!EA(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>rg(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(e,n=null,r=[],i=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=l,this.Te=null}}function tD(t,e=null,n=[],r=[],i=null,o=null,a=null){return new Wee(t,e,n,r,i,o,a)}function _A(t){const e=it(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>hT(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Xv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>fp(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>fp(r))).join(",")),e.Te=n}return e.Te}function TA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Uee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!D6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eD(t.startAt,e.startAt)&&eD(t.endAt,e.endAt)}function gT(t){return We.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n=null,r=[],i=[],o=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Yee(t,e,n,r,i,o,a,l){return new Mg(t,e,n,r,i,o,a,l)}function Zv(t){return new Mg(t)}function nD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function j6(t){return t.collectionGroup!==null}function Dh(t){const e=it(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new rr(Or.comparator);return a.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new fb(o,r))})),n.has(Or.keyField().canonicalString())||e.Ie.push(new fb(Or.keyField(),r))}return e.Ie}function Va(t){const e=it(t);return e.Ee||(e.Ee=Jee(e,Dh(t))),e.Ee}function Jee(t,e){if(t.limitType==="F")return tD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new fb(i.field,o)}));const n=t.endAt?new pb(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pb(t.startAt.position,t.startAt.inclusive):null;return tD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mT(t,e){const n=t.filters.concat([e]);return new Mg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yT(t,e,n){return new Mg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ex(t,e){return TA(Va(t),Va(e))&&t.limitType===e.limitType}function L6(t){return`${_A(Va(t))}|lt:${t.limitType}`}function Ld(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>M6(i))).join(", ")}]`),Xv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>fp(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>fp(i))).join(",")),`Target(${r})`})(Va(t))}; limitType=${t.limitType})`}function tx(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):We.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of Dh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,l,u){const d=ZO(a,l,u);return a.inclusive?d<=0:d<0})(r.startAt,Dh(r),i)||r.endAt&&!(function(a,l,u){const d=ZO(a,l,u);return a.inclusive?d>=0:d>0})(r.endAt,Dh(r),i))})(t,e)}function Xee(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function U6(t){return(e,n)=>{let r=!1;for(const i of Dh(t)){const o=Qee(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Qee(t,e,n){const r=t.field.isKeyField()?We.comparator(e.key,n.key):(function(o,a,l){const u=a.data.field(o),d=l.data.field(o);return u!==null&&d!==null?pp(u,d):Qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xc(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return k6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zee=new En(We.comparator);function Us(){return Zee}const V6=new En(We.comparator);function Ah(...t){let e=V6;for(const n of t)e=e.insert(n.key,n);return e}function F6(t){let e=V6;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function au(){return Mh()}function B6(){return Mh()}function Mh(){return new Mu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ete=new En(We.comparator),tte=new rr(We.comparator);function xt(...t){let e=tte;for(const n of t)e=e.add(n);return e}const nte=new rr(vt);function rte(){return nte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cb(e)?"-0":e}}function $6(t){return{integerValue:""+t}}function ite(t,e){return Ree(e)?$6(e):SA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this._=void 0}}function ote(t,e,n){return t instanceof hb?(function(i,o){const a={fields:{[T6]:{stringValue:_6},[A6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&kA(o)&&(o=Qv(o)),o&&(a.fields[S6]=o),{mapValue:a}})(n,e):t instanceof hp?H6(t,e):t instanceof gp?G6(t,e):(function(i,o){const a=q6(i,o),l=rD(a)+rD(i.Ae);return fT(a)&&fT(i.Ae)?$6(l):SA(i.serializer,l)})(t,e)}function ate(t,e,n){return t instanceof hp?H6(t,e):t instanceof gp?G6(t,e):n}function q6(t,e){return t instanceof gb?(function(r){return fT(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class hb extends nx{}class hp extends nx{constructor(e){super(),this.elements=e}}function H6(t,e){const n=K6(e);for(const r of t.elements)n.some((i=>Ya(i,r)))||n.push(r);return{arrayValue:{values:n}}}class gp extends nx{constructor(e){super(),this.elements=e}}function G6(t,e){let n=K6(e);for(const r of t.elements)n=n.filter((i=>!Ya(i,r)));return{arrayValue:{values:n}}}class gb extends nx{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function rD(t){return jn(t.integerValue||t.doubleValue)}function K6(t){return EA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n){this.field=e,this.transform=n}}function ste(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof hp&&i instanceof hp||r instanceof gp&&i instanceof gp?dp(r.elements,i.elements,Ya):r instanceof gb&&i instanceof gb?Ya(r.Ae,i.Ae):r instanceof hb&&i instanceof hb})(t.transform,e.transform)}class lte{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function M0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rx{}function Y6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ix(t.key,ci.none()):new zg(t.key,t.data,ci.none());{const n=t.data,r=Ii.empty();let i=new rr(Or.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new wc(t.key,r,new eo(i.toArray()),ci.none())}}function cte(t,e,n){t instanceof zg?(function(i,o,a){const l=i.value.clone(),u=oD(i.fieldTransforms,o,a.transformResults);l.setAll(u),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):t instanceof wc?(function(i,o,a){if(!M0(i.precondition,o))return void o.convertToUnknownDocument(a.version);const l=oD(i.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(J6(i)),u.setAll(l),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function zh(t,e,n,r){return t instanceof zg?(function(o,a,l,u){if(!M0(o.precondition,a))return l;const d=o.value.clone(),p=aD(o.fieldTransforms,u,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof wc?(function(o,a,l,u){if(!M0(o.precondition,a))return l;const d=aD(o.fieldTransforms,u,a),p=a.data;return p.setAll(J6(o)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(o,a,l){return M0(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(t,e,n)}function ute(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=q6(r.transform,i||null);o!=null&&(n===null&&(n=Ii.empty()),n.set(r.field,o))}return n||null}function iD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dp(r,i,((o,a)=>ste(o,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zg extends rx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wc extends rx{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function J6(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function oD(t,e,n){const r=new Map;jt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,ate(a,l,n[i]))}return r}function aD(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,ote(o,a,e))}return r}class ix extends rx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dte extends rx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pte{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&cte(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=B6();return this.mutations.forEach((i=>{const o=e.get(i.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(i.key)?null:l;const u=Y6(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(tt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),xt())}isEqual(e){return this.batchId===e.batchId&&dp(this.mutations,e.mutations,((n,r)=>iD(n,r)))&&dp(this.baseMutations,e.baseMutations,((n,r)=>iD(n,r)))}}class AA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){jt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return ete})();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new AA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn,Et;function gte(t){switch(t){case we.OK:return Qe(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return Qe(15467,{code:t})}}function X6(t){if(t===void 0)return Ls("GRPC error has no .code"),we.UNKNOWN;switch(t){case Kn.OK:return we.OK;case Kn.CANCELLED:return we.CANCELLED;case Kn.UNKNOWN:return we.UNKNOWN;case Kn.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Kn.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Kn.INTERNAL:return we.INTERNAL;case Kn.UNAVAILABLE:return we.UNAVAILABLE;case Kn.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Kn.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Kn.NOT_FOUND:return we.NOT_FOUND;case Kn.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Kn.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Kn.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Kn.ABORTED:return we.ABORTED;case Kn.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Kn.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Kn.DATA_LOSS:return we.DATA_LOSS;default:return Qe(39323,{code:t})}}(Et=Kn||(Kn={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mte(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yte=new sc([4294967295,4294967295],0);function sD(t){const e=mte().encode(t),n=new d6;return n.update(e),new Uint8Array(n.digest())}function lD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new sc([n,r],0),new sc([i,o],0)]}class CA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ch(`Invalid padding: ${n}`);if(r<0)throw new Ch(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ch(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ch(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=sc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(sc.fromNumber(r)));return i.compare(yte)===1&&(i=new sc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sD(e),[r,i]=lD(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new CA(o,i,n);return r.forEach((l=>a.insert(l))),a}insert(e){if(this.ge===0)return;const n=sD(e),[r,i]=lD(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ch extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ox(tt.min(),i,new En(vt),Us(),xt())}}class jg{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jg(r,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Q6{constructor(e,n){this.targetId=e,this.Ce=n}}class Z6{constructor(e,n,r=zr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cD{constructor(){this.ve=0,this.Fe=uD(),this.Me=zr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xt(),n=xt(),r=xt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Qe(38017,{changeType:o})}})),new jg(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=uD()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bte{constructor(e){this.Ge=e,this.ze=new Map,this.je=Us(),this.Je=Qy(),this.He=Qy(),this.Ye=new En(vt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(gT(o))if(r===0){const a=new We(o.path);this.et(n,a,qr.newNoDocument(a,tt.min()))}else jt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,l;try{a=pc(r).toUint8Array()}catch(u){if(u instanceof E6)return up("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new CA(a,i,o)}catch(u){return up(u instanceof Ch?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,a)=>{const l=this.ot(a);if(l){if(o.current&&gT(l.target)){const u=new We(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,qr.newNoDocument(u,e))}o.Be&&(n.set(a,o.ke()),o.qe())}}));let r=xt();this.He.forEach(((o,a)=>{let l=!0;a.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(o))})),this.je.forEach(((o,a)=>a.setReadTime(e)));const i=new ox(e,n,this.Ye,this.je,r);return this.je=Us(),this.Je=Qy(),this.He=Qy(),this.Ye=new En(vt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new cD,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rr(vt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rr(vt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cD),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qy(){return new En(We.comparator)}function uD(){return new En(We.comparator)}const vte={asc:"ASCENDING",desc:"DESCENDING"},xte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wte={and:"AND",or:"OR"};class kte{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bT(t,e){return t.useProto3Json||Xv(e)?e:{value:e}}function mb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ete(t,e){return mb(t,e.toTimestamp())}function Fa(t){return jt(!!t,49232),tt.fromTimestamp((function(n){const r=dc(n);return new dn(r.seconds,r.nanos)})(t))}function IA(t,e){return vT(t,e).canonicalString()}function vT(t,e){const n=(function(i){return new on(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function tU(t){const e=on.fromString(t);return jt(aU(e),10190,{key:e.toString()}),e}function xT(t,e){return IA(t.databaseId,e.path)}function j1(t,e){const n=tU(e);if(n.get(1)!==t.databaseId.projectId)throw new ze(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ze(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new We(rU(n))}function nU(t,e){return IA(t.databaseId,e)}function _te(t){const e=tU(t);return e.length===4?on.emptyPath():rU(e)}function wT(t){return new on(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rU(t){return jt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dD(t,e,n){return{name:xT(t,e),fields:n.value.mapValue.fields}}function Tte(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Qe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,p){return d.useProto3Json?(jt(p===void 0||typeof p=="string",58123),zr.fromBase64String(p||"")):(jt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),zr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(d){const p=d.code===void 0?we.UNKNOWN:X6(d.code);return new ze(p,d.message||"")})(a);n=new Z6(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=j1(t,r.document.name),o=Fa(r.document.updateTime),a=r.document.createTime?Fa(r.document.createTime):tt.min(),l=new Ii({mapValue:{fields:r.document.fields}}),u=qr.newFoundDocument(i,o,a,l),d=r.targetIds||[],p=r.removedTargetIds||[];n=new z0(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=j1(t,r.document),o=r.readTime?Fa(r.readTime):tt.min(),a=qr.newNoDocument(i,o),l=r.removedTargetIds||[];n=new z0([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=j1(t,r.document),o=r.removedTargetIds||[];n=new z0([],o,i,null)}else{if(!("filter"in e))return Qe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new hte(i,o),l=r.targetId;n=new Q6(l,a)}}return n}function Ste(t,e){let n;if(e instanceof zg)n={update:dD(t,e.key,e.value)};else if(e instanceof ix)n={delete:xT(t,e.key)};else if(e instanceof wc)n={update:dD(t,e.key,e.data),updateMask:Mte(e.fieldMask)};else{if(!(e instanceof dte))return Qe(16599,{Vt:e.type});n={verify:xT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,a){const l=a.transform;if(l instanceof hb)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof hp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof gp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof gb)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Qe(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Ete(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Qe(27497)})(t,e.precondition)),n}function Ate(t,e){return t&&t.length>0?(jt(e!==void 0,14353),t.map((n=>(function(i,o){let a=i.updateTime?Fa(i.updateTime):Fa(o);return a.isEqual(tt.min())&&(a=Fa(o)),new lte(a,i.transformResults||[])})(n,e)))):[]}function Cte(t,e){return{documents:[nU(t,e.path)]}}function Ite(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nU(t,i);const o=(function(d){if(d.length!==0)return oU(oa.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const a=(function(d){if(d.length!==0)return d.map((p=>(function(m){return{field:Ud(m.field),direction:Pte(m.dir)}})(p)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=bT(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function Nte(t){let e=_te(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){jt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=(function(g){const m=iU(g);return m instanceof oa&&O6(m)?m.getFilters():[m]})(n.where));let a=[];n.orderBy&&(a=(function(g){return g.map((m=>(function(E){return new fb(Vd(E.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(m)))})(n.orderBy));let l=null;n.limit&&(l=(function(g){let m;return m=typeof g=="object"?g.value:g,Xv(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(g){const m=!!g.before,b=g.values||[];return new pb(b,m)})(n.startAt));let d=null;return n.endAt&&(d=(function(g){const m=!g.before,b=g.values||[];return new pb(b,m)})(n.endAt)),Yee(e,i,a,o,l,"F",u,d)}function Rte(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iU(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vd(n.unaryFilter.field);return Jn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vd(n.unaryFilter.field);return Jn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vd(n.unaryFilter.field);return Jn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Vd(n.unaryFilter.field);return Jn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Jn.create(Vd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return oa.create(n.compositeFilter.filters.map((r=>iU(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}})(n.compositeFilter.op))})(t):Qe(30097,{filter:t})}function Pte(t){return vte[t]}function Ote(t){return xte[t]}function Dte(t){return wte[t]}function Ud(t){return{fieldPath:t.canonicalString()}}function Vd(t){return Or.fromServerFormat(t.fieldPath)}function oU(t){return t instanceof Jn?(function(n){if(n.op==="=="){if(QO(n.value))return{unaryFilter:{field:Ud(n.field),op:"IS_NAN"}};if(XO(n.value))return{unaryFilter:{field:Ud(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QO(n.value))return{unaryFilter:{field:Ud(n.field),op:"IS_NOT_NAN"}};if(XO(n.value))return{unaryFilter:{field:Ud(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ud(n.field),op:Ote(n.op),value:n.value}}})(t):t instanceof oa?(function(n){const r=n.getFilters().map((i=>oU(i)));return r.length===1?r[0]:{compositeFilter:{op:Dte(n.op),filters:r}}})(t):Qe(54877,{filter:t})}function Mte(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function aU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n,r,i,o=tt.min(),a=tt.min(),l=zr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new nc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(e){this.yt=e}}function jte(t){const e=Nte({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(){this.Cn=new Ute}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ee.resolve()}getCollectionParents(e,n){return Ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ee.resolve()}deleteFieldIndex(e,n){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,n){return Ee.resolve()}getDocumentsMatchingTarget(e,n){return Ee.resolve(null)}getIndexType(e,n){return Ee.resolve(0)}getFieldIndexes(e,n){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,n){return Ee.resolve(uc.min())}getMinOffsetFromCollectionGroup(e,n){return Ee.resolve(uc.min())}updateCollectionGroup(e,n,r){return Ee.resolve()}updateIndexEntries(e,n){return Ee.resolve()}}class Ute{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rr(on.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rr(on.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sU=41943040;class Ai{static withCacheSize(e){return new Ai(e,Ai.DEFAULT_COLLECTION_PERCENTILE,Ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai.DEFAULT_COLLECTION_PERCENTILE=10,Ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ai.DEFAULT=new Ai(sU,Ai.DEFAULT_COLLECTION_PERCENTILE,Ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ai.DISABLED=new Ai(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mp(0)}static cr(){return new mp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="LruGarbageCollector",Vte=1048576;function hD([t,e],[n,r]){const i=vt(t,n);return i===0?vt(e,r):i}class Fte{constructor(e){this.Ir=e,this.buffer=new rr(hD),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bte{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Le(fD,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jp(n)?Le(fD,"Ignoring IndexedDB error during garbage collection: ",n):await zp(n)}await this.Vr(3e5)}))}}class $te{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ee.resolve(Jv.ce);const r=new Fte(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(pD)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pD):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,a,l,u,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,l=Date.now(),this.removeTargets(e,r,n)))).next((g=>(o=g,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),jd()<=bt.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${o} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(d-u)+`ms
Total Duration: ${d-p}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g}))))}}function qte(t,e){return new $te(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hte{constructor(){this.changes=new Mu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&zh(r.mutation,i,eo.empty(),dn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,xt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=xt()){const i=au();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let a=Ah();return o.forEach(((l,u)=>{a=a.insert(l,u.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=au();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,xt())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(e,n,r,i){let o=Us();const a=Mh(),l=(function(){return Mh()})();return n.forEach(((u,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof wc)?o=o.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),zh(p.mutation,d,p.mutation.getFieldMask(),dn.now())):a.set(d.key,eo.empty())})),this.recalculateAndSaveOverlays(e,o).next((u=>(u.forEach(((d,p)=>a.set(d,p))),n.forEach(((d,p)=>l.set(d,new Gte(p,a.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Mh();let i=new En(((a,l)=>a-l)),o=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const l of a)l.keys().forEach((u=>{const d=n.get(u);if(d===null)return;let p=r.get(u)||eo.empty();p=l.applyToLocalView(d,p),r.set(u,p);const g=(i.get(l.batchId)||xt()).add(u);i=i.insert(l.batchId,g)}))})).next((()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,p=u.value,g=B6();p.forEach((m=>{if(!o.has(m)){const b=Y6(n.get(m),r.get(m));b!==null&&g.set(m,b),o=o.add(m)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,g))}return Ee.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return We.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ee.resolve(au());let l=eg,u=o;return a.next((d=>Ee.forEach(d,((p,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),o.get(p)?Ee.resolve():this.remoteDocumentCache.getEntry(e,p).next((m=>{u=u.insert(p,m)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,u,d,xt()))).next((p=>({batchId:l,changes:F6(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new We(n)).next((r=>{let i=Ah();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Ah();return this.indexManager.getCollectionParents(e,o).next((l=>Ee.forEach(l,(u=>{const d=(function(g,m){return new Mg(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((p=>{p.forEach(((g,m)=>{a=a.insert(g,m)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((a=>{o.forEach(((u,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,qr.newInvalidDocument(p)))}));let l=Ah();return a.forEach(((u,d)=>{const p=o.get(u);p!==void 0&&zh(p.mutation,d,eo.empty(),dn.now()),tx(n,d)&&(l=l.insert(u,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Fa(i.createTime)}})(n)),Ee.resolve()}getNamedQuery(e,n){return Ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:jte(i.bundledQuery),readTime:Fa(i.readTime)}})(n)),Ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(){this.overlays=new En(We.comparator),this.qr=new Map}getOverlay(e,n){return Ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=au();return Ee.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),Ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Ee.resolve()}getOverlaysForCollection(e,n,r){const i=au(),o=n.length+1,a=new We(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new En(((d,p)=>d-p));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=au(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=au(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,p)=>l.set(d,p))),!(l.size()>=i)););return Ee.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new fte(n,r));let o=this.qr.get(n);o===void 0&&(o=xt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte{constructor(){this.sessionToken=zr.EMPTY_BYTE_STRING}getSessionToken(e){return Ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.Qr=new rr(gr.$r),this.Ur=new rr(gr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new gr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new gr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new We(new on([])),r=new gr(n,e),i=new gr(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),o.push(a.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new We(new on([])),r=new gr(n,e),i=new gr(n,e+1);let o=xt();return this.Ur.forEachInRange([r,i],(a=>{o=o.add(a.key)})),o}containsKey(e){const n=new gr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return We.comparator(e.key,n.key)||vt(e.Yr,n.Yr)}static Kr(e,n){return vt(e.Yr,n.Yr)||We.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rr(gr.$r)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new pte(o,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Zr=this.Zr.add(new gr(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Ee.resolve(a)}lookupMutationBatch(e,n){return Ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return Ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?wA:this.tr-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gr(n,0),i=new gr(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(a=>{const l=this.Xr(a.Yr);o.push(l)})),Ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rr(vt);return n.forEach((i=>{const o=new gr(i,0),a=new gr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],(l=>{r=r.add(l.Yr)}))})),Ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;We.isDocumentKey(o)||(o=o.child(""));const a=new gr(new We(o),0);let l=new rr(vt);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Yr)),!0)}),a),Ee.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){jt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ee.forEach(n.mutations,(i=>{const o=new gr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new gr(n,0),i=this.Zr.firstAfterOrEqual(r);return Ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(e){this.ri=e,this.docs=(function(){return new En(We.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ee.resolve(r?r.document.mutableCopy():qr.newInvalidDocument(n))}getEntries(e,n){let r=Us();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():qr.newInvalidDocument(i))})),Ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Us();const a=n.path,l=new We(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||Aee(See(p),r)<=0||(i.has(p.key)||tx(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return Ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Qe(9500)}ii(e,n){return Ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Zte(this)}getSize(e){return Ee.resolve(this.size)}}class Zte extends Hte{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{constructor(e){this.persistence=e,this.si=new Mu((n=>_A(n)),TA),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.oi=0,this._i=new NA,this.targetCount=0,this.ai=mp.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mp(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ee.resolve()}updateTargetData(e,n){return this.Pr(n),Ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),Ee.waitFor(o).next((()=>i))}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),Ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ee.resolve(r)}containsKey(e,n){return Ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,n){this.ui={},this.overlays={},this.ci=new Jv(0),this.li=!1,this.li=!0,this.hi=new Jte,this.referenceDelegate=e(this),this.Pi=new ene(this),this.indexManager=new Lte,this.remoteDocumentCache=(function(i){return new Qte(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new zte(n),this.Ii=new Wte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Yte,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Xte(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Le("MemoryPersistence","Starting transaction:",e);const i=new tne(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return Ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class tne extends Iee{constructor(e){super(),this.currentSequenceNumber=e}}class RA{constructor(e){this.persistence=e,this.Ri=new NA,this.Vi=null}static mi(e){return new RA(e)}get fi(){if(this.Vi)return this.Vi;throw Qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.fi,(r=>{const i=We.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,tt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ee.or([()=>Ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class yb{constructor(e,n){this.persistence=e,this.pi=new Mu((r=>Pee(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=qte(this,n)}static mi(e,n){return new yb(e,n)}Ei(){}di(e){return Ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ee.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?Ee.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((l=>{l||(r++,o.removeEntry(a,tt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=O0(e.data.value)),n}br(e,n,r){return Ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=xt(),i=xt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new PA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WQ()?8:Nee(Wr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;const a=new nne;return this.Ss(e,n,a).next((l=>{if(o.result=l,this.Vs)return this.bs(e,n,a,l.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(jd()<=bt.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Ld(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ee.resolve()):(jd()<=bt.DEBUG&&Le("QueryEngine","Query:",Ld(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(jd()<=bt.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Ld(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Va(n))):Ee.resolve())}ys(e,n){if(nD(n))return Ee.resolve(null);let r=Va(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=yT(n,null,"F"),r=Va(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const a=xt(...o);return this.ps.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.Ds(n,l);return this.Cs(n,d,a,u.readTime)?this.ys(e,yT(n,null,"F")):this.vs(e,d,n,u)}))))})))))}ws(e,n,r,i){return nD(n)||i.isEqual(tt.min())?Ee.resolve(null):this.ps.getDocuments(e,r).next((o=>{const a=this.Ds(n,o);return this.Cs(n,a,r,i)?Ee.resolve(null):(jd()<=bt.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ld(n)),this.vs(e,a,n,Tee(i,eg)).next((l=>l)))}))}Ds(e,n){let r=new rr(U6(e));return n.forEach(((i,o)=>{tx(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return jd()<=bt.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Ld(n)),this.ps.getDocumentsMatchingQuery(e,n,uc.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((a=>{o=o.insert(a.key,a)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="LocalStore",ine=3e8;class one{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new En(vt),this.xs=new Mu((o=>_A(o)),TA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kte(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ane(t,e,n,r){return new one(t,e,n,r)}async function cU(t,e){const n=it(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const a=[],l=[];let u=xt();for(const d of i){a.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of o){l.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:a,addedBatchIds:l})))}))}))}function sne(t,e){const n=it(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,p){const g=d.batch,m=g.keys();let b=Ee.resolve();return m.forEach((E=>{b=b.next((()=>p.getEntry(u,E))).next((A=>{const _=d.docVersions.get(E);jt(_!==null,48541),A.version.compareTo(_)<0&&(g.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),p.addEntry(A)))}))})),b.next((()=>l.mutationQueue.removeMutationBatch(u,g)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=xt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function uU(t){const e=it(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function lne(t,e){const n=it(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((p,g)=>{const m=i.get(g);if(!m)return;l.push(n.Pi.removeMatchingKeys(o,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(o,p.addedDocuments,g))));let b=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(zr.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(g,b),(function(A,_,C){return A.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=ine?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(m,b,p)&&l.push(n.Pi.updateTargetData(o,b))}));let u=Us(),d=xt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))})),l.push(cne(o,a,e.documentUpdates).next((p=>{u=p.ks,d=p.qs}))),!r.isEqual(tt.min())){const p=n.Pi.getLastRemoteSnapshotVersion(o).next((g=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));l.push(p)}return Ee.waitFor(l).next((()=>a.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,u,d))).next((()=>u))})).then((o=>(n.Ms=i,o)))}function cne(t,e,n){let r=xt(),i=xt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let a=Us();return n.forEach(((l,u)=>{const d=o.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(tt.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Le(OA,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{ks:a,qs:i}}))}function une(t,e){const n=it(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=wA),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function dne(t,e){const n=it(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,Ee.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new nc(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function kT(t,e,n){const r=it(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!jp(a))throw a;Le(OA,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function gD(t,e,n){const r=it(t);let i=tt.min(),o=xt();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,d,p){const g=it(u),m=g.xs.get(p);return m!==void 0?Ee.resolve(g.Ms.get(m)):g.Pi.getTargetData(d,p)})(r,a,Va(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next((u=>{o=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:tt.min(),n?o:xt()))).next((l=>(pne(r,Xee(e),l),{documents:l,Qs:o})))))}function pne(t,e,n){let r=t.Os.get(e)||tt.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class mD{constructor(){this.activeTargetIds=rte()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fne{constructor(){this.Mo=new mD,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="ConnectivityMonitor";class bD{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Le(yD,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Le(yD,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy=null;function ET(){return Zy===null?Zy=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zy++,"0x"+Zy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="RestConnection",gne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mne{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===ub?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const a=ET(),l=this.zo(e,n.toUriEncodedString());Le(L1,`Sending RPC '${e}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,o);const{host:d}=new URL(l),p=ns(d);return this.Jo(e,l,u,r,p).then((g=>(Le(L1,`Received RPC '${e}' ${a}: `,g),g)),(g=>{throw up(L1,`RPC '${e}' ${a} failed with error: `,g,"url: ",l,"request:",r),g}))}Ho(e,n,r,i,o,a){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mp})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=gne[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yne{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="WebChannelConnection";class bne extends mne{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const a=ET();return new Promise(((l,u)=>{const d=new p6;d.setWithCredentials(!0),d.listenOnce(f6.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case P0.NO_ERROR:const g=d.getResponseJson();Le(Fr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case P0.TIMEOUT:Le(Fr,`RPC '${e}' ${a} timed out`),u(new ze(we.DEADLINE_EXCEEDED,"Request time out"));break;case P0.HTTP_ERROR:const m=d.getStatus();if(Le(Fr,`RPC '${e}' ${a} failed with status:`,m,"response text:",d.getResponseText()),m>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b==null?void 0:b.error;if(E&&E.status&&E.message){const A=(function(C){const N=C.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(N)>=0?N:we.UNKNOWN})(E.status);u(new ze(A,E.message))}else u(new ze(we.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ze(we.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Le(Fr,`RPC '${e}' ${a} completed.`)}}));const p=JSON.stringify(i);Le(Fr,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=ET(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=m6(),l=g6(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=o.join("");Le(Fr,`Creating RPC '${e}' stream ${i}: ${p}`,u);const g=a.createWebChannel(p,u);this.I_(g);let m=!1,b=!1;const E=new yne({Yo:_=>{b?Le(Fr,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(m||(Le(Fr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),Le(Fr,`RPC '${e}' stream ${i} sending:`,_),g.send(_))},Zo:()=>g.close()}),A=(_,C,N)=>{_.listen(C,(I=>{try{N(I)}catch(D){setTimeout((()=>{throw D}),0)}}))};return A(g,Sh.EventType.OPEN,(()=>{b||(Le(Fr,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),A(g,Sh.EventType.CLOSE,(()=>{b||(b=!0,Le(Fr,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(g))})),A(g,Sh.EventType.ERROR,(_=>{b||(b=!0,up(Fr,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),E.a_(new ze(we.UNAVAILABLE,"The operation could not be completed")))})),A(g,Sh.EventType.MESSAGE,(_=>{var C;if(!b){const N=_.data[0];jt(!!N,16349);const I=N,D=(I==null?void 0:I.error)||((C=I[0])==null?void 0:C.error);if(D){Le(Fr,`RPC '${e}' stream ${i} received error:`,D);const L=D.status;let M=(function(U){const q=Kn[U];if(q!==void 0)return X6(q)})(L),P=D.message;M===void 0&&(M=we.INTERNAL,P="Unknown error status: "+L+" with message "+D.message),b=!0,E.a_(new ze(M,P)),g.close()}else Le(Fr,`RPC '${e}' stream ${i} received:`,N),E.u_(N)}})),A(l,h6.STAT_EVENT,(_=>{_.stat===uT.PROXY?Le(Fr,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===uT.NOPROXY&&Le(Fr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function U1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t){return new kte(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="PersistentStream";class pU{constructor(e,n,r,i,o,a,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dU(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===we.RESOURCE_EXHAUSTED?(Ls(n.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ze(we.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(vD,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Le(vD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vne extends pU{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Tte(this.serializer,e),r=(function(o){if(!("targetChange"in o))return tt.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?tt.min():a.readTime?Fa(a.readTime):tt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=wT(this.serializer),n.addTarget=(function(o,a){let l;const u=a.target;if(l=gT(u)?{documents:Cte(o,u)}:{query:Ite(o,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=eU(o,a.resumeToken);const d=bT(o,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(tt.min())>0){l.readTime=mb(o,a.snapshotVersion.toTimestamp());const d=bT(o,a.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=Rte(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=wT(this.serializer),n.removeTarget=e,this.q_(n)}}class xne extends pU{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Ate(e.writeResults,e.commitTime),r=Fa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=wT(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Ste(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{}class kne extends wne{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ze(we.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Go(e,vT(n,r),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(we.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(e,vT(n,r),i,a,l,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ze(we.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ene{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(n),this.aa=!1):Le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="RemoteStore";class _ne{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{zu(this)&&(Le(ku,"Restarting streams for network reachability change."),await(async function(u){const d=it(u);d.Ea.add(4),await Lg(d),d.Ra.set("Unknown"),d.Ea.delete(4),await sx(d)})(this))}))})),this.Ra=new Ene(r,i)}}async function sx(t){if(zu(t))for(const e of t.da)await e(!0)}async function Lg(t){for(const e of t.da)await e(!1)}function fU(t,e){const n=it(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),jA(n)?zA(n):Lp(n).O_()&&MA(n,e))}function DA(t,e){const n=it(t),r=Lp(n);n.Ia.delete(e),r.O_()&&hU(n,e),n.Ia.size===0&&(r.O_()?r.L_():zu(n)&&n.Ra.set("Unknown"))}function MA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lp(t).Y_(e)}function hU(t,e){t.Va.Ue(e),Lp(t).Z_(e)}function zA(t){t.Va=new bte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Lp(t).start(),t.Ra.ua()}function jA(t){return zu(t)&&!Lp(t).x_()&&t.Ia.size>0}function zu(t){return it(t).Ea.size===0}function gU(t){t.Va=void 0}async function Tne(t){t.Ra.set("Online")}async function Sne(t){t.Ia.forEach(((e,n)=>{MA(t,e)}))}async function Ane(t,e){gU(t),jA(t)?(t.Ra.ha(e),zA(t)):t.Ra.set("Unknown")}async function Cne(t,e,n){if(t.Ra.set("Online"),e instanceof Z6&&e.state===2&&e.cause)try{await(async function(i,o){const a=o.cause;for(const l of o.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){Le(ku,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bb(t,r)}else if(e instanceof z0?t.Va.Ze(e):e instanceof Q6?t.Va.st(e):t.Va.tt(e),!n.isEqual(tt.min()))try{const r=await uU(t.localStore);n.compareTo(r)>=0&&await(function(o,a){const l=o.Va.Tt(a);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=o.Ia.get(d);p&&o.Ia.set(d,p.withResumeToken(u.resumeToken,a))}})),l.targetMismatches.forEach(((u,d)=>{const p=o.Ia.get(u);if(!p)return;o.Ia.set(u,p.withResumeToken(zr.EMPTY_BYTE_STRING,p.snapshotVersion)),hU(o,u);const g=new nc(p.target,u,d,p.sequenceNumber);MA(o,g)})),o.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Le(ku,"Failed to raise snapshot:",r),await bb(t,r)}}async function bb(t,e,n){if(!jp(e))throw e;t.Ea.add(1),await Lg(t),t.Ra.set("Offline"),n||(n=()=>uU(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Le(ku,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sx(t)}))}function mU(t,e){return e().catch((n=>bb(t,n,e)))}async function lx(t){const e=it(t),n=hc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wA;for(;Ine(e);)try{const i=await une(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Nne(e,i)}catch(i){await bb(e,i)}yU(e)&&bU(e)}function Ine(t){return zu(t)&&t.Ta.length<10}function Nne(t,e){t.Ta.push(e);const n=hc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function yU(t){return zu(t)&&!hc(t).x_()&&t.Ta.length>0}function bU(t){hc(t).start()}async function Rne(t){hc(t).ra()}async function Pne(t){const e=hc(t);for(const n of t.Ta)e.ea(n.mutations)}async function One(t,e,n){const r=t.Ta.shift(),i=AA.from(r,e,n);await mU(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await lx(t)}async function Dne(t,e){e&&hc(t).X_&&await(async function(r,i){if((function(a){return gte(a)&&a!==we.ABORTED})(i.code)){const o=r.Ta.shift();hc(r).B_(),await mU(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await lx(r)}})(t,e),yU(t)&&bU(t)}async function xD(t,e){const n=it(t);n.asyncQueue.verifyOperationInProgress(),Le(ku,"RemoteStore received new credentials");const r=zu(n);n.Ea.add(3),await Lg(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sx(n)}async function Mne(t,e){const n=it(t);e?(n.Ea.delete(2),await sx(n)):e||(n.Ea.add(2),await Lg(n),n.Ra.set("Unknown"))}function Lp(t){return t.ma||(t.ma=(function(n,r,i){const o=it(n);return o.sa(),new vne(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Tne.bind(null,t),t_:Sne.bind(null,t),r_:Ane.bind(null,t),H_:Cne.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),jA(t)?zA(t):t.Ra.set("Unknown")):(await t.ma.stop(),gU(t))}))),t.ma}function hc(t){return t.fa||(t.fa=(function(n,r,i){const o=it(n);return o.sa(),new xne(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Rne.bind(null,t),r_:Dne.bind(null,t),ta:Pne.bind(null,t),na:One.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await lx(t)):(await t.fa.stop(),t.Ta.length>0&&(Le(ku,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,l=new LA(e,n,a,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UA(t,e){if(Ls("AsyncQueue",`${e}: ${t}`),jp(t))return new ze(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{static emptySet(e){return new Wd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||We.comparator(n.key,r.key):(n,r)=>We.comparator(n.key,r.key),this.keyedMap=Ah(),this.sortedSet=new En(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.ga=new En(We.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Qe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class yp{constructor(e,n,r,i,o,a,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new yp(e,n,Wd.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ex(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zne{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class jne{constructor(){this.queries=kD(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=it(n),o=i.queries;i.queries=kD(),o.forEach(((a,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new ze(we.ABORTED,"Firestore shutting down"))}}function kD(){return new Mu((t=>L6(t)),ex)}async function VA(t,e){const n=it(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new zne,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=UA(a,`Initialization of query '${Ld(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&BA(n)}async function FA(t,e){const n=it(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Lne(t,e){const n=it(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const l of a.Sa)l.Fa(i)&&(r=!0);a.wa=i}}r&&BA(n)}function Une(t,e,n){const r=it(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function BA(t){t.Ca.forEach((e=>{e.next()}))}var _T,ED;(ED=_T||(_T={})).Ma="default",ED.Cache="cache";class $A{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_T.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.key=e}}class xU{constructor(e){this.key=e}}class Vne{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=U6(e),this.tu=new Wd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new wD,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const m=i.get(p),b=tx(this.query,g)?g:null,E=!!m&&this.mutatedKeys.has(m.key),A=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let _=!1;m&&b?m.data.isEqual(b.data)?E!==A&&(r.track({type:3,doc:b}),_=!0):this.su(m,b)||(r.track({type:2,doc:b}),_=!0,(u&&this.eu(b,u)>0||d&&this.eu(b,d)<0)&&(l=!0)):!m&&b?(r.track({type:0,doc:b}),_=!0):m&&!b&&(r.track({type:1,doc:m}),_=!0,(u||d)&&(l=!0)),_&&(b?(a=a.add(b),o=A?o.add(p):o.delete(p)):(a=a.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{tu:a,iu:r,Cs:l,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((p,g)=>(function(b,E){const A=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Rt:_})}};return A(b)-A(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,d=u!==this.Za;return this.Za=u,a.length!==0||d?{snapshot:new yp(this.query,e.tu,o,a,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wD,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new xU(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new vU(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=xt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qA="SyncEngine";class Fne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Bne{constructor(e){this.key=e,this.hu=!1}}class $ne{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Mu((l=>L6(l)),ex),this.Iu=new Map,this.Eu=new Set,this.du=new En(We.comparator),this.Au=new Map,this.Ru=new NA,this.Vu={},this.mu=new Map,this.fu=mp.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qne(t,e,n=!0){const r=SU(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await wU(r,e,n,!0),i}async function Hne(t,e){const n=SU(t);await wU(n,e,!0,!1)}async function wU(t,e,n,r){const i=await dne(t.localStore,Va(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await Gne(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&fU(t.remoteStore,i),l}async function Gne(t,e,n,r,i){t.pu=(g,m,b)=>(async function(A,_,C,N){let I=_.view.ru(C);I.Cs&&(I=await gD(A.localStore,_.query,!1).then((({documents:P})=>_.view.ru(P,I))));const D=N&&N.targetChanges.get(_.targetId),L=N&&N.targetMismatches.get(_.targetId)!=null,M=_.view.applyChanges(I,A.isPrimaryClient,D,L);return TD(A,_.targetId,M.au),M.snapshot})(t,g,m,b);const o=await gD(t.localStore,e,!0),a=new Vne(e,o.Qs),l=a.ru(o.documents),u=jg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(l,t.isPrimaryClient,u);TD(t,n,d.au);const p=new Fne(e,n,a);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function Kne(t,e,n){const r=it(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((a=>!ex(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await kT(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&DA(r.remoteStore,i.targetId),TT(r,i.targetId)})).catch(zp)):(TT(r,i.targetId),await kT(r.localStore,i.targetId,!0))}async function Wne(t,e){const n=it(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),DA(n.remoteStore,r.targetId))}async function Yne(t,e,n){const r=nre(t);try{const i=await(function(a,l){const u=it(a),d=dn.now(),p=l.reduce(((b,E)=>b.add(E.key)),xt());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let E=Us(),A=xt();return u.Ns.getEntries(b,p).next((_=>{E=_,E.forEach(((C,N)=>{N.isValidDocument()||(A=A.add(C))}))})).next((()=>u.localDocuments.getOverlayedDocuments(b,E))).next((_=>{g=_;const C=[];for(const N of l){const I=ute(N,g.get(N.key).overlayedDocument);I!=null&&C.push(new wc(N.key,I,N6(I.value.mapValue),ci.exists(!0)))}return u.mutationQueue.addMutationBatch(b,d,C,l)})).next((_=>{m=_;const C=_.applyToLocalDocumentSet(g,A);return u.documentOverlayCache.saveOverlays(b,_.batchId,C)}))})).then((()=>({batchId:m.batchId,changes:F6(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,l,u){let d=a.Vu[a.currentUser.toKey()];d||(d=new En(vt)),d=d.insert(l,u),a.Vu[a.currentUser.toKey()]=d})(r,i.batchId,n),await Ug(r,i.changes),await lx(r.remoteStore)}catch(i){const o=UA(i,"Failed to persist write");n.reject(o)}}async function kU(t,e){const n=it(t);try{const r=await lne(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const a=n.Au.get(o);a&&(jt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?jt(a.hu,14607):i.removedDocuments.size>0&&(jt(a.hu,42227),a.hu=!1))})),await Ug(n,r,e)}catch(r){await zp(r)}}function _D(t,e,n){const r=it(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(a,l){const u=it(a);u.onlineState=l;let d=!1;u.queries.forEach(((p,g)=>{for(const m of g.Sa)m.va(l)&&(d=!0)})),d&&BA(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Jne(t,e,n){const r=it(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let a=new En(We.comparator);a=a.insert(o,qr.newNoDocument(o,tt.min()));const l=xt().add(o),u=new ox(tt.min(),new Map,new En(vt),a,l);await kU(r,u),r.du=r.du.remove(o),r.Au.delete(e),HA(r)}else await kT(r.localStore,e,!1).then((()=>TT(r,e,n))).catch(zp)}async function Xne(t,e){const n=it(t),r=e.batch.batchId;try{const i=await sne(n.localStore,e);_U(n,r,null),EU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ug(n,i)}catch(i){await zp(i)}}async function Qne(t,e,n){const r=it(t);try{const i=await(function(a,l){const u=it(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return u.mutationQueue.lookupMutationBatch(d,l).next((g=>(jt(g!==null,37113),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>u.localDocuments.getDocuments(d,p)))}))})(r.localStore,e);_U(r,e,n),EU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ug(r,i)}catch(i){await zp(i)}}function EU(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function _U(t,e,n){const r=it(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function TT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||TU(t,r)}))}function TU(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(DA(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),HA(t))}function TD(t,e,n){for(const r of n)r instanceof vU?(t.Ru.addReference(r.key,e),Zne(t,r)):r instanceof xU?(Le(qA,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||TU(t,r.key)):Qe(19791,{wu:r})}function Zne(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Le(qA,"New document in limbo: "+n),t.Eu.add(r),HA(t))}function HA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new We(on.fromString(e)),r=t.fu.next();t.Au.set(r,new Bne(n)),t.du=t.du.insert(n,r),fU(t.remoteStore,new nc(Va(Zv(n.path)),r,"TargetPurposeLimboResolution",Jv.ce))}}async function Ug(t,e,n){const r=it(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{a.push(r.pu(u,e,n).then((d=>{var p;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);const g=PA.As(u.targetId,d);o.push(g)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(u,d){const p=it(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Ee.forEach(d,(m=>Ee.forEach(m.Es,(b=>p.persistence.referenceDelegate.addReference(g,m.targetId,b))).next((()=>Ee.forEach(m.ds,(b=>p.persistence.referenceDelegate.removeReference(g,m.targetId,b)))))))))}catch(g){if(!jp(g))throw g;Le(OA,"Failed to update sequence numbers: "+g)}for(const g of d){const m=g.targetId;if(!g.fromCache){const b=p.Ms.get(m),E=b.snapshotVersion,A=b.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(m,A)}}})(r.localStore,o))}async function ere(t,e){const n=it(t);if(!n.currentUser.isEqual(e)){Le(qA,"User change. New user:",e.toKey());const r=await cU(n.localStore,e);n.currentUser=e,(function(o,a){o.mu.forEach((l=>{l.forEach((u=>{u.reject(new ze(we.CANCELLED,a))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ug(n,r.Ls)}}function tre(t,e){const n=it(t),r=n.Au.get(e);if(r&&r.hu)return xt().add(r.key);{let i=xt();const o=n.Iu.get(e);if(!o)return i;for(const a of o){const l=n.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}function SU(t){const e=it(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jne.bind(null,e),e.Pu.H_=Lne.bind(null,e.eventManager),e.Pu.yu=Une.bind(null,e.eventManager),e}function nre(t){const e=it(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qne.bind(null,e),e}class vb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ax(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ane(this.persistence,new rne,e.initialUser,this.serializer)}Cu(e){return new lU(RA.mi,this.serializer)}Du(e){return new fne}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vb.provider={build:()=>new vb};class rre extends vb{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){jt(this.persistence.referenceDelegate instanceof yb,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Bte(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ai.withCacheSize(this.cacheSizeBytes):Ai.DEFAULT;return new lU((r=>yb.mi(r,n)),this.serializer)}}class ST{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_D(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ere.bind(null,this.syncEngine),await Mne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jne})()}createDatastore(e){const n=ax(e.databaseInfo.databaseId),r=(function(o){return new bne(o)})(e.databaseInfo);return(function(o,a,l,u){return new kne(o,a,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,a,l){return new _ne(r,i,o,a,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>_D(this.syncEngine,n,0)),(function(){return bD.v()?new bD:new hne})())}createSyncEngine(e,n){return(function(i,o,a,l,u,d,p){const g=new $ne(i,o,a,l,u,d);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=it(i);Le(ku,"RemoteStore shutting down."),o.Ea.add(5),await Lg(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ST.provider={build:()=>new ST};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc="FirestoreClient";class ire{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$r.UNAUTHENTICATED,this.clientId=xA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async a=>{Le(gc,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Le(gc,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=UA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function V1(t,e){t.asyncQueue.verifyOperationInProgress(),Le(gc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await cU(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function SD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ore(t);Le(gc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>xD(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>xD(e.remoteStore,i))),t._onlineComponents=e}async function ore(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Le(gc,"Using user provided OfflineComponentProvider");try{await V1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===we.FAILED_PRECONDITION||i.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;up("Error using user provided cache. Falling back to memory cache: "+n),await V1(t,new vb)}}else Le(gc,"Using default OfflineComponentProvider"),await V1(t,new rre(void 0));return t._offlineComponents}async function AU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Le(gc,"Using user provided OnlineComponentProvider"),await SD(t,t._uninitializedComponentsProvider._online)):(Le(gc,"Using default OnlineComponentProvider"),await SD(t,new ST))),t._onlineComponents}function are(t){return AU(t).then((e=>e.syncEngine))}async function xb(t){const e=await AU(t),n=e.eventManager;return n.onListen=qne.bind(null,e.syncEngine),n.onUnlisten=Kne.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hne.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Wne.bind(null,e.syncEngine),n}function sre(t,e,n={}){const r=new Rs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,l,u,d){const p=new GA({next:m=>{p.Nu(),a.enqueueAndForget((()=>FA(o,g)));const b=m.docs.has(l);!b&&m.fromCache?d.reject(new ze(we.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&m.fromCache&&u&&u.source==="server"?d.reject(new ze(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),g=new $A(Zv(l.path),p,{includeMetadataChanges:!0,qa:!0});return VA(o,g)})(await xb(t),t.asyncQueue,e,n,r))),r.promise}function lre(t,e,n={}){const r=new Rs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,l,u,d){const p=new GA({next:m=>{p.Nu(),a.enqueueAndForget((()=>FA(o,g))),m.fromCache&&u.source==="server"?d.reject(new ze(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),g=new $A(l,p,{includeMetadataChanges:!0,qa:!0});return VA(o,g)})(await xb(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="firestore.googleapis.com",CD=!0;class ID{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ze(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IU,this.ssl=CD}else this.host=e.host,this.ssl=e.ssl??CD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Vte)throw new ze(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_ee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CU(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ze(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ze(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ze(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cx{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ID({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ze(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ID(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hee;switch(r.type){case"firstParty":return new bee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ze(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=AD.get(n);r&&(Le("ComponentProvider","Removing Datastore"),AD.delete(n),r.terminate())})(this),Promise.resolve()}}function cre(t,e,n,r={}){var d;t=li(t,cx);const i=ns(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Gv(`https://${l}`),Kv("Firestore",!0)),o.host!==IU&&o.host!==l&&up("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:l,ssl:i,emulatorOptions:r};if(!Ms(u,a)&&(t._setSettings(u),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=$r.MOCK_USER;else{p=o6(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ze(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new $r(m)}t._authCredentials=new gee(new b6(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ju(this.firestore,e,this._query)}}class Cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}toJSON(){return{type:Cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Dg(n,Cn._jsonSchema))return new Cn(e,r||null,new We(on.fromString(n.referencePath)))}}Cn._jsonSchemaVersion="firestore/documentReference/1.0",Cn._jsonSchema={type:Xn("string",Cn._jsonSchemaVersion),referencePath:Xn("string")};class lc extends ju{constructor(e,n,r){super(e,n,Zv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new We(e))}withConverter(e){return new lc(this.firestore,e,this._path)}}function br(t,e,...n){if(t=Lt(t),v6("collection","path",e),t instanceof cx){const r=on.fromString(e,...n);return BO(r),new lc(t,null,r)}{if(!(t instanceof Cn||t instanceof lc))throw new ze(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(on.fromString(e,...n));return BO(r),new lc(t.firestore,null,r)}}function xr(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=xA.newId()),v6("doc","path",e),t instanceof cx){const r=on.fromString(e,...n);return FO(r),new Cn(t,null,new We(r))}{if(!(t instanceof Cn||t instanceof lc))throw new ze(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(on.fromString(e,...n));return FO(r),new Cn(t.firestore,t instanceof lc?t.converter:null,new We(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="AsyncQueue";class RD{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dU(this,"async_queue_retry"),this._c=()=>{const r=U1();r&&Le(ND,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=U1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=U1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jp(e))throw e;Le(ND,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",PD(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=LA.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Qe(47125,{Pc:PD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function PD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Ja extends cx{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new RD,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RD(e),this._firestoreClient=void 0,await e}}}function ure(t,e){const n=typeof t=="object"?t:Og(),r=typeof t=="string"?t:ub,i=Dp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=yA("firestore");o&&cre(i,...o)}return i}function Vg(t){if(t._terminated)throw new ze(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dre(t),t._firestoreClient}function dre(t){var r,i,o;const e=t._freezeSettings(),n=(function(l,u,d,p){return new Mee(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,CU(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ire(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Io(zr.fromBase64String(e))}catch(n){throw new ze(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Io(zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Io._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dg(e,Io._jsonSchema))return Io.fromBase64String(e.bytes)}}Io._jsonSchemaVersion="firestore/bytes/1.0",Io._jsonSchema={type:Xn("string",Io._jsonSchemaVersion),bytes:Xn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ze(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ze(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ze(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ba._jsonSchemaVersion}}static fromJSON(e){if(Dg(e,Ba._jsonSchema))return new Ba(e.latitude,e.longitude)}}Ba._jsonSchemaVersion="firestore/geoPoint/1.0",Ba._jsonSchema={type:Xn("string",Ba._jsonSchemaVersion),latitude:Xn("number"),longitude:Xn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$a._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dg(e,$a._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $a(e.vectorValues);throw new ze(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$a._jsonSchemaVersion="firestore/vectorValue/1.0",$a._jsonSchema={type:Xn("string",$a._jsonSchemaVersion),vectorValues:Xn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pre=/^__.*__$/;class fre{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wc(e,this.data,this.fieldMask,n,this.fieldTransforms):new zg(e,this.data,n,this.fieldTransforms)}}class NU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe(40011,{Ac:t})}}class ux{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ux({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RU(this.Ac)&&pre.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hre{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ax(e)}Cc(e,n,r,i=!1){return new ux({Ac:e,methodName:n,Dc:r,path:Or.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $g(t){const e=t._freezeSettings(),n=ax(t._databaseId);return new hre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KA(t,e,n,r,i,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);JA("Data must be an object, but it was:",a,r);const l=MU(r,a);let u,d;if(o.merge)u=new eo(a.fieldMask),d=a.fieldTransforms;else if(o.mergeFields){const p=[];for(const g of o.mergeFields){const m=AT(e,g,n);if(!a.contains(m))throw new ze(we.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);jU(p,m)||p.push(m)}u=new eo(p),d=a.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,d=a.fieldTransforms;return new fre(new Ii(l),u,d)}class dx extends Bg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dx}}function PU(t,e,n){return new ux({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class WA extends Bg{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=PU(this,e,!0),r=this.vc.map((o=>Lu(o,n))),i=new hp(r);return new W6(e.path,i)}isEqual(e){return e instanceof WA&&Ms(this.vc,e.vc)}}class YA extends Bg{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=PU(this,e,!0),r=this.vc.map((o=>Lu(o,n))),i=new gp(r);return new W6(e.path,i)}isEqual(e){return e instanceof YA&&Ms(this.vc,e.vc)}}function OU(t,e,n,r){const i=t.Cc(1,e,n);JA("Data must be an object, but it was:",i,r);const o=[],a=Ii.empty();xc(r,((u,d)=>{const p=XA(e,u,n);d=Lt(d);const g=i.yc(p);if(d instanceof dx)o.push(p);else{const m=Lu(d,g);m!=null&&(o.push(p),a.set(p,m))}}));const l=new eo(o);return new NU(a,l,i.fieldTransforms)}function DU(t,e,n,r,i,o){const a=t.Cc(1,e,n),l=[AT(e,r,n)],u=[i];if(o.length%2!=0)throw new ze(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)l.push(AT(e,o[m])),u.push(o[m+1]);const d=[],p=Ii.empty();for(let m=l.length-1;m>=0;--m)if(!jU(d,l[m])){const b=l[m];let E=u[m];E=Lt(E);const A=a.yc(b);if(E instanceof dx)d.push(b);else{const _=Lu(E,A);_!=null&&(d.push(b),p.set(b,_))}}const g=new eo(d);return new NU(p,g,a.fieldTransforms)}function gre(t,e,n,r=!1){return Lu(n,t.Cc(r?4:3,e))}function Lu(t,e){if(zU(t=Lt(t)))return JA("Unsupported field value:",e,t),MU(t,e);if(t instanceof Bg)return(function(r,i){if(!RU(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let a=0;for(const l of r){let u=Lu(l,i.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ite(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=dn.fromDate(r);return{timestampValue:mb(i.serializer,o)}}if(r instanceof dn){const o=new dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mb(i.serializer,o)}}if(r instanceof Ba)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Io)return{bytesValue:eU(i.serializer,r._byteString)};if(r instanceof Cn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:IA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $a)return(function(a,l){return{mapValue:{fields:{[C6]:{stringValue:I6},[db]:{arrayValue:{values:a.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return SA(l.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Yv(r)}`)})(t,e)}function MU(t,e){const n={};return k6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xc(t,((r,i)=>{const o=Lu(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function zU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dn||t instanceof Ba||t instanceof Io||t instanceof Cn||t instanceof Bg||t instanceof $a)}function JA(t,e,n){if(!zU(n)||!x6(n)){const r=Yv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function AT(t,e,n){if((e=Lt(e))instanceof Fg)return e._internalPath;if(typeof e=="string")return XA(t,e);throw wb("Field path arguments must be of type string or ",t,!1,void 0,n)}const mre=new RegExp("[~\\*/\\[\\]]");function XA(t,e,n){if(e.search(mre)>=0)throw wb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fg(...e.split("."))._internalPath}catch{throw wb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wb(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new ze(we.INVALID_ARGUMENT,l+t+u)}function jU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(QA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yre extends LU{data(){return super.data()}}function QA(t,e){return typeof e=="string"?XA(t,e):e instanceof Fg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ze(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZA{}class bre extends ZA{}function sh(t,e,...n){let r=[];e instanceof ZA&&r.push(e),r=r.concat(n),(function(o){const a=o.filter((u=>u instanceof eC)).length,l=o.filter((u=>u instanceof px)).length;if(a>1||a>0&&l>0)throw new ze(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class px extends bre{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new px(e,n,r)}_apply(e){const n=this._parse(e);return VU(e._query,n),new ju(e.firestore,e.converter,mT(e._query,n))}_parse(e){const n=$g(e.firestore);return(function(o,a,l,u,d,p,g){let m;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ze(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){MD(g,p);const E=[];for(const A of g)E.push(DD(u,o,A));m={arrayValue:{values:E}}}else m=DD(u,o,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||MD(g,p),m=gre(l,a,g,p==="in"||p==="not-in");return Jn.create(d,p,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lh(t,e,n){const r=e,i=QA("where",t);return px._create(i,r,n)}class eC extends ZA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new eC(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:oa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let a=i;const l=o.getFlattenedFilters();for(const u of l)VU(a,u),a=mT(a,u)})(e._query,n),new ju(e.firestore,e.converter,mT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function DD(t,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new ze(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j6(e)&&n.indexOf("/")!==-1)throw new ze(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(on.fromString(n));if(!We.isDocumentKey(r))throw new ze(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return JO(t,new We(r))}if(n instanceof Cn)return JO(t,n._key);throw new ze(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yv(n)}.`)}function MD(t,e){if(!Array.isArray(t)||t.length===0)throw new ze(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VU(t,e){const n=(function(i,o){for(const a of i)for(const l of a.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ze(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ze(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vre{convertValue(e,n="none"){switch(fc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xc(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[db].arrayValue)==null?void 0:i.values)==null?void 0:o.map((a=>jn(a.doubleValue)));return new $a(n)}convertGeoPoint(e){return new Ba(jn(e.latitude),jn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tg(e));default:return null}}convertTimestamp(e){const n=dc(e);return new dn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=on.fromString(e);jt(aU(r),9688,{name:e});const i=new ng(r.get(1),r.get(3)),o=new We(r.popFirst(5));return i.isEqual(n)||Ls(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ih{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fu extends LU{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new j0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(QA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fu._jsonSchemaVersion="firestore/documentSnapshot/1.0",fu._jsonSchema={type:Xn("string",fu._jsonSchemaVersion),bundleSource:Xn("string","DocumentSnapshot"),bundleName:Xn("string"),bundle:Xn("string")};class j0 extends fu{data(e={}){return super.data(e)}}class hu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ih(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new j0(this._firestore,this._userDataWriter,r.key,r,new Ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ze(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((l=>{const u=new j0(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ih(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>o||l.type!==3)).map((l=>{const u=new j0(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ih(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),p=a.indexOf(l.doc.key)),{type:xre(l.type),doc:u,oldIndex:d,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t){t=li(t,Cn);const e=li(t.firestore,Ja);return sre(Vg(e),t._key).then((n=>FU(e,t,n)))}hu._jsonSchemaVersion="firestore/querySnapshot/1.0",hu._jsonSchema={type:Xn("string",hu._jsonSchemaVersion),bundleSource:Xn("string","QuerySnapshot"),bundleName:Xn("string"),bundle:Xn("string")};class nC extends vre{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function ai(t){t=li(t,ju);const e=li(t.firestore,Ja),n=Vg(e),r=new nC(e);return UU(t._query),lre(n,t._query).then((i=>new hu(e,r,t,i)))}function fx(t,e,n){t=li(t,Cn);const r=li(t.firestore,Ja),i=tC(t.converter,e,n);return Hg(r,[KA($g(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ci.none())])}function Fo(t,e,n,...r){t=li(t,Cn);const i=li(t.firestore,Ja),o=$g(i);let a;return a=typeof(e=Lt(e))=="string"||e instanceof Fg?DU(o,"updateDoc",t._key,e,n,r):OU(o,"updateDoc",t._key,e),Hg(i,[a.toMutation(t._key,ci.exists(!0))])}function rC(t){return Hg(li(t.firestore,Ja),[new ix(t._key,ci.none())])}function hx(t,e){const n=li(t.firestore,Ja),r=xr(t),i=tC(t.converter,e);return Hg(n,[KA($g(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then((()=>r))}function gx(t,...e){var u,d,p;t=Lt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||OD(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(OD(e[r])){const g=e[r];e[r]=(u=g.next)==null?void 0:u.bind(g),e[r+1]=(d=g.error)==null?void 0:d.bind(g),e[r+2]=(p=g.complete)==null?void 0:p.bind(g)}let o,a,l;if(t instanceof Cn)a=li(t.firestore,Ja),l=Zv(t._key.path),o={next:g=>{e[r]&&e[r](FU(a,t,g))},error:e[r+1],complete:e[r+2]};else{const g=li(t,ju);a=li(g.firestore,Ja),l=g._query;const m=new nC(a);o={next:b=>{e[r]&&e[r](new hu(a,m,g,b))},error:e[r+1],complete:e[r+2]},UU(t._query)}return(function(m,b,E,A){const _=new GA(A),C=new $A(b,_,E);return m.asyncQueue.enqueueAndForget((async()=>VA(await xb(m),C))),()=>{_.Nu(),m.asyncQueue.enqueueAndForget((async()=>FA(await xb(m),C)))}})(Vg(a),l,i,o)}function Hg(t,e){return(function(r,i){const o=new Rs;return r.asyncQueue.enqueueAndForget((async()=>Yne(await are(r),i,o))),o.promise})(Vg(t),e)}function FU(t,e,n){const r=n.docs.get(e._key),i=new nC(t);return new fu(t,i,e._key,r,new Ih(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$g(e)}set(e,n,r){this._verifyNotCommitted();const i=F1(e,this._firestore),o=tC(i.converter,n,r),a=KA(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,ci.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=F1(e,this._firestore);let a;return a=typeof(n=Lt(n))=="string"||n instanceof Fg?DU(this._dataReader,"WriteBatch.update",o._key,n,r,i):OU(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,ci.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=F1(e,this._firestore);return this._mutations=this._mutations.concat(new ix(n._key,ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function F1(t,e){if((t=Lt(t)).firestore!==e)throw new ze(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function kb(...t){return new WA("arrayUnion",t)}function BU(...t){return new YA("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){return Vg(t=li(t,Ja)),new wre(t,(e=>Hg(t,e)))}(function(e,n=!0){(function(i){Mp=i})(Du),js(new Wa("firestore",((r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new Ja(new mee(r.getProvider("auth-internal")),new vee(a,r.getProvider("app-check-internal")),(function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ze(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ng(d.options.projectId,p)})(a,i),a);return o={useFetchStreams:n,...o},l._setSettings(o),l}),"PUBLIC").setMultipleInstances(!0)),Oi(jO,LO,e),Oi(jO,LO,"esm2020")})();function $U(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kre=$U,qU=new Rg("auth","Firebase",$U());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new Wv("@firebase/auth");function Ere(t,...e){_b.logLevel<=bt.WARN&&_b.warn(`Auth (${Du}): ${t}`,...e)}function L0(t,...e){_b.logLevel<=bt.ERROR&&_b.error(`Auth (${Du}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t,...e){throw iC(t,...e)}function qa(t,...e){return iC(t,...e)}function HU(t,e,n){const r={...kre(),[e]:n};return new Rg("auth","Firebase",r).create(e,{appName:t.name})}function Ha(t){return HU(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qU.create(t,...e)}function Ge(t,e,...n){if(!t)throw iC(e,...n)}function Ts(t){const e="INTERNAL ASSERTION FAILED: "+t;throw L0(e),new Error(e)}function Vs(t,e){t||Ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function _re(){return zD()==="http:"||zD()==="https:"}function zD(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tre(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_re()||HQ()||"connection"in navigator)?navigator.onLine:!0}function Sre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vs(n>e,"Short delay should be less than long delay!"),this.isMobile=BQ()||GQ()}get(){return Tre()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e){Vs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Are={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cre=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ire=new Gg(3e4,6e4);function Js(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xs(t,e,n,r,i={}){return KU(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const l=Pg({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...o};return qQ()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&ns(t.emulatorConfig.host)&&(d.credentials="include"),GU.fetch()(await WU(t,t.config.apiHost,n,l),d)})}async function KU(t,e,n){t._canInitEmulator=!1;const r={...Are,...e};try{const i=new Rre(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw e0(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const l=o.ok?a.errorMessage:a.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw e0(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw e0(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw e0(t,"user-disabled",a);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw HU(t,p,d);aa(t,p)}}catch(i){if(i instanceof Vo)throw i;aa(t,"network-request-failed",{message:String(i)})}}async function Kg(t,e,n,r,i={}){const o=await Xs(t,e,n,r,i);return"mfaPendingCredential"in o&&aa(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function WU(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?oC(t.config,i):`${t.config.apiScheme}://${i}`;return Cre.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function Nre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rre{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qa(this.auth,"network-request-failed")),Ire.get())})}}function e0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qa(t,e,r);return i.customData._tokenResponse=n,i}function jD(t){return t!==void 0&&t.enterprise!==void 0}class Pre{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Nre(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ore(t,e){return Xs(t,"GET","/v2/recaptchaConfig",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dre(t,e){return Xs(t,"POST","/v1/accounts:delete",e)}async function Sb(t,e){return Xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mre(t,e=!1){const n=Lt(t),r=await n.getIdToken(e),i=aC(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:jh(B1(i.auth_time)),issuedAtTime:jh(B1(i.iat)),expirationTime:jh(B1(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function B1(t){return Number(t)*1e3}function aC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return L0("JWT malformed, contained fewer than 3 sections"),null;try{const i=t6(n);return i?JSON.parse(i):(L0("Failed to decode base64 JWT payload"),null)}catch(i){return L0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function LD(t){const e=aC(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ig(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vo&&zre(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zre({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jh(this.lastLoginAt),this.creationTime=jh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(t){var g;const e=t.auth,n=await t.getIdToken(),r=await ig(t,Sb(e,{idToken:n}));Ge(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(g=i.providerUserInfo)!=null&&g.length?YU(i.providerUserInfo):[],a=Ure(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new CT(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function Lre(t){const e=Lt(t);await Ab(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ure(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YU(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vre(t,e){const n=await KU(t,{},async()=>{const r=Pg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await WU(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&ns(t.emulatorConfig.host)&&(u.credentials="include"),GU.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Fre(t,e){return Xs(t,"POST","/v2/accounts:revokeToken",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=LD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Vre(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Yd;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Ge(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yd,this.toJSON())}_performRefresh(){return Ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class na{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new jre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new CT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ig(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Mre(this,e)}reload(){return Lre(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new na({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ab(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(Ha(this.auth));const e=await this.getIdToken();return await ig(this,Dre(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:m,isAnonymous:b,providerData:E,stsTokenManager:A}=n;Ge(g&&A,e,"internal-error");const _=Yd.fromJSON(this.name,A);Ge(typeof g=="string",e,"internal-error"),Vl(r,e.name),Vl(i,e.name),Ge(typeof m=="boolean",e,"internal-error"),Ge(typeof b=="boolean",e,"internal-error"),Vl(o,e.name),Vl(a,e.name),Vl(l,e.name),Vl(u,e.name),Vl(d,e.name),Vl(p,e.name);const C=new na({uid:g,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:b,photoURL:a,phoneNumber:o,tenantId:l,stsTokenManager:_,createdAt:d,lastLoginAt:p});return E&&Array.isArray(E)&&(C.providerData=E.map(N=>({...N}))),u&&(C._redirectEventId=u),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Yd;i.updateFromServerResponse(n);const o=new na({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ab(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?YU(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new Yd;l.updateFromIdToken(r);const u=new na({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new CT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new Map;function Ss(t){Vs(t instanceof Function,"Expected a class definition");let e=UD.get(t);return e?(Vs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JU.type="NONE";const VD=JU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t,e,n){return`firebase:${t}:${e}:${n}`}class Jd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=U0(this.userKey,i.apiKey,o),this.fullPersistenceKey=U0("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sb(this.auth,{idToken:e}).catch(()=>{});return n?na._fromGetAccountInfoResponse(this.auth,n,e):null}return na._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jd(Ss(VD),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Ss(VD);const a=U0(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const p=await d._get(a);if(p){let g;if(typeof p=="string"){const m=await Sb(e,{idToken:p}).catch(()=>{});if(!m)break;g=await na._fromGetAccountInfoResponse(e,m,p)}else g=na._fromJSON(e,p);d!==o&&(l=g),o=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Jd(o,e,r):(o=u[0],l&&await o._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new Jd(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nV(e))return"Blackberry";if(rV(e))return"Webos";if(QU(e))return"Safari";if((e.includes("chrome/")||ZU(e))&&!e.includes("edge/"))return"Chrome";if(tV(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XU(t=Wr()){return/firefox\//i.test(t)}function QU(t=Wr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZU(t=Wr()){return/crios\//i.test(t)}function eV(t=Wr()){return/iemobile/i.test(t)}function tV(t=Wr()){return/android/i.test(t)}function nV(t=Wr()){return/blackberry/i.test(t)}function rV(t=Wr()){return/webos/i.test(t)}function sC(t=Wr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Bre(t=Wr()){var e;return sC(t)&&!!((e=window.navigator)!=null&&e.standalone)}function $re(){return KQ()&&document.documentMode===10}function iV(t=Wr()){return sC(t)||tV(t)||rV(t)||nV(t)||/windows phone/i.test(t)||eV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t,e=[]){let n;switch(t){case"Browser":n=FD(Wr());break;case"Worker":n=`${FD(Wr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Du}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,l)=>{try{const u=e(o);a(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hre(t,e={}){return Xs(t,"GET","/v2/passwordPolicy",Js(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gre=6;class Kre{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Gre,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BD(this),this.idTokenSubscription=new BD(this),this.beforeStateQueue=new qre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Jd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sb(this,{idToken:e}),r=await na._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Gr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ab(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Sre()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(Ha(this));const n=e?Lt(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(Ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(Ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Hre(this),n=new Kre(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Fre(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await Jd.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Ere(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function kc(t){return Lt(t)}class BD{constructor(e){this.auth=e,this.observer=null,this.addObserver=tZ(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yre(t){mx=t}function aV(t){return mx.loadJS(t)}function Jre(){return mx.recaptchaEnterpriseScript}function Xre(){return mx.gapiScript}function Qre(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Zre{constructor(){this.enterprise=new eie}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eie{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tie="recaptcha-enterprise",sV="NO_RECAPTCHA";class nie{constructor(e){this.type=tie,this.auth=kc(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,l)=>{Ore(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Pre(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,a(d.siteKey)}}).catch(u=>{l(u)})})}function i(o,a,l){const u=window.grecaptcha;jD(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(d=>{a(d)}).catch(()=>{a(sV)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Zre().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(l=>{if(!n&&jD(window.grecaptcha))i(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Jre();u.length!==0&&(u+=l),aV(u).then(()=>{i(l,o,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function $D(t,e,n,r=!1,i=!1){const o=new nie(t);let a;if(i)a=sV;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Cb(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await $D(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await $D(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rie(t,e){const n=Dp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ms(o,e??{}))return i;aa(i,"already-initialized")}return n.initialize({options:e})}function iie(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ss);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oie(t,e,n){const r=kc(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=lV(e),{host:a,port:l}=aie(e),u=l===null?"":`:${l}`,d={url:`${o}//${a}${u}/`},p=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(Ms(d,r.config.emulator)&&Ms(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,ns(a)?(Gv(`${o}//${a}${u}`),Kv("Auth",!0)):sie()}function lV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aie(t){const e=lV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:qD(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:qD(a)}}}function qD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,n){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}async function lie(t,e){return Xs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cie(t,e){return Kg(t,"POST","/v1/accounts:signInWithPassword",Js(t,e))}async function uie(t,e){return Xs(t,"POST","/v1/accounts:sendOobCode",Js(t,e))}async function die(t,e){return uie(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pie(t,e){return Kg(t,"POST","/v1/accounts:signInWithEmailLink",Js(t,e))}async function fie(t,e){return Kg(t,"POST","/v1/accounts:signInWithEmailLink",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends lC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new og(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new og(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cb(e,n,"signInWithPassword",cie);case"emailLink":return pie(e,{email:this._email,oobCode:this._password});default:aa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cb(e,r,"signUpPassword",lie);case"emailLink":return fie(e,{idToken:n,email:this._email,oobCode:this._password});default:aa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xd(t,e){return Kg(t,"POST","/v1/accounts:signInWithIdp",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hie="http://localhost";class Eu extends lC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Eu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):aa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const a=new Eu(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Xd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xd(e,n)}buildRequest(){const e={requestUri:hie,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mie(t){const e=_h(Th(t)).link,n=e?_h(Th(e)).deep_link_id:null,r=_h(Th(t)).deep_link_id;return(r?_h(Th(r)).link:null)||r||n||e||t}class yx{constructor(e){const n=_h(Th(e)),r=n.apiKey??null,i=n.oobCode??null,o=gie(n.mode??null);Ge(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mie(e);try{return new yx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.providerId=Uu.PROVIDER_ID}static credential(e,n){return og._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yx.parseLink(n);return Ge(r,"argument-error"),og._fromEmailAndCode(e,r.code,r.tenantId)}}Uu.PROVIDER_ID="password";Uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends cV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends Wg{constructor(){super("facebook.com")}static credential(e){return Eu._fromParams({providerId:Yl.PROVIDER_ID,signInMethod:Yl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yl.credentialFromTaggedObject(e)}static credentialFromError(e){return Yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yl.credential(e.oauthAccessToken)}catch{return null}}}Yl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends Wg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Eu._fromParams({providerId:Jl.PROVIDER_ID,signInMethod:Jl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jl.credentialFromTaggedObject(e)}static credentialFromError(e){return Jl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jl.credential(n,r)}catch{return null}}}Jl.GOOGLE_SIGN_IN_METHOD="google.com";Jl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Wg{constructor(){super("github.com")}static credential(e){return Eu._fromParams({providerId:Xl.PROVIDER_ID,signInMethod:Xl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xl.credentialFromTaggedObject(e)}static credentialFromError(e){return Xl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xl.credential(e.oauthAccessToken)}catch{return null}}}Xl.GITHUB_SIGN_IN_METHOD="github.com";Xl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends Wg{constructor(){super("twitter.com")}static credential(e,n){return Eu._fromParams({providerId:Ql.PROVIDER_ID,signInMethod:Ql.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ql.credentialFromTaggedObject(e)}static credentialFromError(e){return Ql.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ql.credential(n,r)}catch{return null}}}Ql.TWITTER_SIGN_IN_METHOD="twitter.com";Ql.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yie(t,e){return Kg(t,"POST","/v1/accounts:signUp",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await na._fromIdTokenResponse(e,r,i),a=HD(r);return new _u({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=HD(r);return new _u({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function HD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib extends Vo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ib.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ib(e,n,r,i)}}function uV(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ib._fromErrorAndOperation(t,o,e,r):o})}async function bie(t,e,n=!1){const r=await ig(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _u._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vie(t,e,n=!1){const{auth:r}=t;if(Gr(r.app))return Promise.reject(Ha(r));const i="reauthenticate";try{const o=await ig(t,uV(r,i,e,t),n);Ge(o.idToken,r,"internal-error");const a=aC(o.idToken);Ge(a,r,"internal-error");const{sub:l}=a;return Ge(t.uid===l,r,"user-mismatch"),_u._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&aa(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(t,e,n=!1){if(Gr(t.app))return Promise.reject(Ha(t));const r="signIn",i=await uV(t,r,e),o=await _u._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function pV(t,e){return dV(kc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xie(t,e,n){var r;Ge(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),Ge(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Ge(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ge(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Ge(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(t){const e=kc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wie(t,e,n){if(Gr(t.app))return Promise.reject(Ha(t));const r=kc(t),a=await Cb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yie).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&fV(t),u}),l=await _u._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function kie(t,e,n){return Gr(t.app)?Promise.reject(Ha(t)):pV(Lt(t),Uu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fV(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eie(t,e,n){const r=kc(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){Ge(l.handleCodeInApp,r,"argument-error"),l&&xie(r,a,l)}o(i,n),await Cb(r,i,"getOobCode",die)}function _ie(t,e){const n=yx.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Tie(t,e,n){if(Gr(t.app))return Promise.reject(Ha(t));const r=Lt(t),i=Uu.credentialWithLink(e,n||Tb());return Ge(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),pV(r,i)}function Sie(t,e,n,r){return Lt(t).onIdTokenChanged(e,n,r)}function Aie(t,e,n){return Lt(t).beforeAuthStateChanged(e,n)}function Cie(t,e,n,r){return Lt(t).onAuthStateChanged(e,n,r)}function Iie(t){return Lt(t).signOut()}const Nb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nb,"1"),this.storage.removeItem(Nb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nie=1e3,Rie=10;class gV extends hV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);$re()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Rie):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Nie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gV.type="LOCAL";const Pie=gV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV extends hV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mV.type="SESSION";const yV=mV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oie(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async d=>d(n.origin,o)),u=await Oie(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Die{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((l,u)=>{const d=cC("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const m=g;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(m.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(){return window}function Mie(t){Ga().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(){return typeof Ga().WorkerGlobalScope<"u"&&typeof Ga().importScripts=="function"}async function zie(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jie(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Lie(){return bV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="firebaseLocalStorageDb",Uie=1,Rb="firebaseLocalStorage",xV="fbase_key";class Yg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vx(t,e){return t.transaction([Rb],e?"readwrite":"readonly").objectStore(Rb)}function Vie(){const t=indexedDB.deleteDatabase(vV);return new Yg(t).toPromise()}function IT(){const t=indexedDB.open(vV,Uie);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rb,{keyPath:xV})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rb)?e(r):(r.close(),await Vie(),e(await IT()))})})}async function GD(t,e,n){const r=vx(t,!0).put({[xV]:e,value:n});return new Yg(r).toPromise()}async function Fie(t,e){const n=vx(t,!1).get(e),r=await new Yg(n).toPromise();return r===void 0?null:r.value}function KD(t,e){const n=vx(t,!0).delete(e);return new Yg(n).toPromise()}const Bie=800,$ie=3;class wV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await IT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$ie)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bx._getInstance(Lie()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await zie(),!this.activeServiceWorker)return;this.sender=new Die(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jie()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await IT();return await GD(e,Nb,"1"),await KD(e,Nb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>GD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Fie(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=vx(i,!1).getAll();return new Yg(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wV.type="LOCAL";const qie=wV;new Gg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hie(t,e){return e?Ss(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC extends lC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Gie(t){return dV(t.auth,new uC(t),t.bypassAuthState)}function Kie(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),vie(n,new uC(t),t.bypassAuthState)}async function Wie(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),bie(n,new uC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gie;case"linkViaPopup":case"linkViaRedirect":return Wie;case"reauthViaPopup":case"reauthViaRedirect":return Kie;default:aa(this.auth,"internal-error")}}resolve(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yie=new Gg(2e3,1e4);class Bd extends kV{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Bd.currentPopupAction&&Bd.currentPopupAction.cancel(),Bd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){Vs(this.filter.length===1,"Popup operations only handle one event");const e=cC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yie.get())};e()}}Bd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jie="pendingRedirect",V0=new Map;class Xie extends kV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=V0.get(this.auth._key());if(!e){try{const r=await Qie(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}V0.set(this.auth._key(),e)}return this.bypassAuthState||V0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Qie(t,e){const n=toe(e),r=eoe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Zie(t,e){V0.set(t._key(),e)}function eoe(t){return Ss(t._redirectPersistence)}function toe(t){return U0(Jie,t.config.apiKey,t.name)}async function noe(t,e,n=!1){if(Gr(t.app))return Promise.reject(Ha(t));const r=kc(t),i=Hie(r,e),a=await new Xie(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const roe=600*1e3;class ioe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ooe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!EV(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(qa(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=roe&&this.cachedEventUids.clear(),this.cachedEventUids.has(WD(e))}saveEventToCache(e){this.cachedEventUids.add(WD(e)),this.lastProcessedEventTime=Date.now()}}function WD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ooe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aoe(t,e={}){return Xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const soe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,loe=/^https?/;async function coe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aoe(t);for(const n of e)try{if(uoe(n))return}catch{}aa(t,"unauthorized-domain")}function uoe(t){const e=Tb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!loe.test(n))return!1;if(soe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const doe=new Gg(3e4,6e4);function YD(){const t=Ga().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function poe(t){return new Promise((e,n)=>{var i,o,a;function r(){YD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YD(),n(qa(t,"network-request-failed"))},timeout:doe.get()})}if((o=(i=Ga().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=Ga().gapi)!=null&&a.load)r();else{const l=Qre("iframefcb");return Ga()[l]=()=>{gapi.load?r():n(qa(t,"network-request-failed"))},aV(`${Xre()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw F0=null,e})}let F0=null;function foe(t){return F0=F0||poe(t),F0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hoe=new Gg(5e3,15e3),goe="__/auth/iframe",moe="emulator/auth/iframe",yoe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},boe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function voe(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?oC(e,moe):`https://${t.config.authDomain}/${goe}`,r={apiKey:e.apiKey,appName:t.name,v:Du},i=boe.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Pg(r).slice(1)}`}async function xoe(t){const e=await foe(t),n=Ga().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:voe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yoe,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=qa(t,"network-request-failed"),l=Ga().setTimeout(()=>{o(a)},hoe.get());function u(){Ga().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const woe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},koe=500,Eoe=600,_oe="_blank",Toe="http://localhost";class JD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Soe(t,e,n,r=koe,i=Eoe){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...woe,width:r.toString(),height:i.toString(),top:o,left:a},d=Wr().toLowerCase();n&&(l=ZU(d)?_oe:n),XU(d)&&(e=e||Toe,u.scrollbars="yes");const p=Object.entries(u).reduce((m,[b,E])=>`${m}${b}=${E},`,"");if(Bre(d)&&l!=="_self")return Aoe(e||"",l),new JD(null);const g=window.open(e||"",l,p);Ge(g,t,"popup-blocked");try{g.focus()}catch{}return new JD(g)}function Aoe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Coe="__/auth/handler",Ioe="emulator/auth/handler",Noe=encodeURIComponent("fac");async function XD(t,e,n,r,i,o){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Du,eventId:i};if(e instanceof cV){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",eZ(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))a[p]=g}if(e instanceof Wg){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const u=await t._getAppCheckToken(),d=u?`#${Noe}=${encodeURIComponent(u)}`:"";return`${Roe(t)}?${Pg(l).slice(1)}${d}`}function Roe({config:t}){return t.emulator?oC(t,Ioe):`https://${t.authDomain}/${Coe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="webStorageSupport";class Poe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yV,this._completeRedirectFn=noe,this._overrideRedirectResult=Zie}async _openPopup(e,n,r,i){var a;Vs((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await XD(e,n,r,Tb(),i);return Soe(e,o,cC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await XD(e,n,r,Tb(),i);return Mie(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Vs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xoe(e),r=new ioe(e);return n.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($1,{type:$1},i=>{var a;const o=(a=i==null?void 0:i[0])==null?void 0:a[$1];o!==void 0&&n(!!o),aa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=coe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iV()||QU()||sC()}}const Ooe=Poe;var QD="@firebase/auth",ZD="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Moe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zoe(t){js(new Wa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ge(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oV(t)},d=new Wre(r,i,o,u);return iie(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),js(new Wa("auth-internal",e=>{const n=kc(e.getProvider("auth").getImmediate());return(r=>new Doe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(QD,ZD,Moe(t)),Oi(QD,ZD,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const joe=300,Loe=i6("authIdTokenMaxAge")||joe;let eM=null;const Uoe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Loe)return;const i=n==null?void 0:n.token;eM!==i&&(eM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Voe(t=Og()){const e=Dp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rie(t,{popupRedirectResolver:Ooe,persistence:[qie,Pie,yV]}),r=i6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=Uoe(o.toString());Aie(n,a,()=>a(n.currentUser)),Sie(n,l=>a(l))}}const i=n6("auth");return i&&oie(n,`http://${i}`),n}function Foe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Yre({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=qa("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Foe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zoe("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="firebasestorage.googleapis.com",TV="storageBucket",Boe=120*1e3,$oe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends Vo{constructor(e,n,r=0){super(q1(e),`Firebase Storage: ${n} (${q1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return q1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var In;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(In||(In={}));function q1(t){return"storage/"+t}function dC(){const t="An unknown error occurred, please check the error payload for server response.";return new Nn(In.UNKNOWN,t)}function qoe(t){return new Nn(In.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Hoe(t){return new Nn(In.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Goe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nn(In.UNAUTHENTICATED,t)}function Koe(){return new Nn(In.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Woe(t){return new Nn(In.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Yoe(){return new Nn(In.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Joe(){return new Nn(In.CANCELED,"User canceled the upload/download.")}function Xoe(t){return new Nn(In.INVALID_URL,"Invalid URL '"+t+"'.")}function Qoe(t){return new Nn(In.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Zoe(){return new Nn(In.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+TV+"' property when initializing the app?")}function eae(){return new Nn(In.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tae(){return new Nn(In.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function nae(t){return new Nn(In.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function NT(t){return new Nn(In.INVALID_ARGUMENT,t)}function SV(){return new Nn(In.APP_DELETED,"The Firebase app was deleted.")}function rae(t){return new Nn(In.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lh(t,e){return new Nn(In.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ch(t){throw new Nn(In.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=to.makeFromUrl(e,n)}catch{return new to(e,"")}if(r.path==="")return r;throw Qoe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function d(D){D.path_=decodeURIComponent(D.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",b=new RegExp(`^https?://${g}/${p}/b/${i}/o${m}`,"i"),E={bucket:1,path:3},A=n===_V?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",C=new RegExp(`^https?://${A}/${i}/${_}`,"i"),I=[{regex:l,indices:u,postModify:o},{regex:b,indices:E,postModify:d},{regex:C,indices:{bucket:1,path:2},postModify:d}];for(let D=0;D<I.length;D++){const L=I[D],M=L.regex.exec(e);if(M){const P=M[L.indices.bucket];let z=M[L.indices.path];z||(z=""),r=new to(P,z),L.postModify(r);break}}if(r==null)throw Xoe(e);return r}}class iae{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oae(t,e,n){let r=1,i=null,o=null,a=!1,l=0;function u(){return l===2}let d=!1;function p(..._){d||(d=!0,e.apply(null,_))}function g(_){i=setTimeout(()=>{i=null,t(b,u())},_)}function m(){o&&clearTimeout(o)}function b(_,...C){if(d){m();return}if(_){m(),p.call(null,_,...C);return}if(u()||a){m(),p.call(null,_,...C);return}r<64&&(r*=2);let I;l===1?(l=2,I=0):I=(r+Math.random())*1e3,g(I)}let E=!1;function A(_){E||(E=!0,m(),!d&&(i!==null?(_||(l=2),clearTimeout(i),g(0)):_||(l=1)))}return g(0),o=setTimeout(()=>{a=!0,A(!0)},n),A}function aae(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sae(t){return t!==void 0}function lae(t){return typeof t=="object"&&!Array.isArray(t)}function pC(t){return typeof t=="string"||t instanceof String}function tM(t){return fC()&&t instanceof Blob}function fC(){return typeof Blob<"u"}function nM(t,e,n,r){if(r<e)throw NT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw NT(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function AV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var gu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(gu||(gu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cae(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uae{constructor(e,n,r,i,o,a,l,u,d,p,g,m=!0,b=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=g,this.retry=m,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,A)=>{this.resolve_=E,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new t0(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const l=o.getErrorCode()===gu.NO_ERROR,u=o.getStatus();if(!l||cae(u,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===gu.ABORT;r(!1,new t0(!1,null,p));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new t0(d,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());sae(u)?o(u):o()}catch(u){a(u)}else if(l!==null){const u=dC();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(i.canceled){const u=this.appDelete_?SV():Joe();a(u)}else{const u=Yoe();a(u)}};this.canceled_?n(!1,new t0(!1,null,!0)):this.backoffId_=oae(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aae(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class t0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function dae(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pae(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fae(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hae(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function gae(t,e,n,r,i,o,a=!0,l=!1){const u=AV(t.urlParams),d=t.url+u,p=Object.assign({},t.headers);return fae(p,e),dae(p,n),pae(p,o),hae(p,r),new uae(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mae(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yae(...t){const e=mae();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(fC())return new Blob(t);throw new Nn(In.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bae(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vae(t){if(typeof atob>"u")throw nae("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class H1{constructor(e,n){this.data=e,this.contentType=n||null}}function xae(t,e){switch(t){case La.RAW:return new H1(CV(e));case La.BASE64:case La.BASE64URL:return new H1(IV(t,e));case La.DATA_URL:return new H1(kae(e),Eae(e))}throw dC()}function CV(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function wae(t){let e;try{e=decodeURIComponent(t)}catch{throw Lh(La.DATA_URL,"Malformed data URL.")}return CV(e)}function IV(t,e){switch(t){case La.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Lh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case La.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Lh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=vae(e)}catch(i){throw i.message.includes("polyfill")?i:Lh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class NV{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Lh(La.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=_ae(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function kae(t){const e=new NV(t);return e.base64?IV(La.BASE64,e.rest):wae(e.rest)}function Eae(t){return new NV(t).contentType}function _ae(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){let r=0,i="";tM(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(tM(this.data_)){const r=this.data_,i=bae(r,e,n);return i===null?null:new Zl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Zl(r,!0)}}static getBlob(...e){if(fC()){const n=e.map(r=>r instanceof Zl?r.data_:r);return new Zl(yae.apply(null,n))}else{const n=e.map(a=>pC(a)?xae(La.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[o++]=a[l]}),new Zl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){let e;try{e=JSON.parse(t)}catch{return null}return lae(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tae(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Sae(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function PV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aae(t,e){return e}class ri{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Aae}}let n0=null;function Cae(t){return!pC(t)||t.length<2?t:PV(t)}function OV(){if(n0)return n0;const t=[];t.push(new ri("bucket")),t.push(new ri("generation")),t.push(new ri("metageneration")),t.push(new ri("name","fullPath",!0));function e(o,a){return Cae(a)}const n=new ri("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new ri("size");return i.xform=r,t.push(i),t.push(new ri("timeCreated")),t.push(new ri("updated")),t.push(new ri("md5Hash",null,!0)),t.push(new ri("cacheControl",null,!0)),t.push(new ri("contentDisposition",null,!0)),t.push(new ri("contentEncoding",null,!0)),t.push(new ri("contentLanguage",null,!0)),t.push(new ri("contentType",null,!0)),t.push(new ri("metadata","customMetadata",!0)),n0=t,n0}function Iae(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new to(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Nae(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return Iae(r,t),r}function DV(t,e,n){const r=RV(e);return r===null?null:Nae(t,r,n)}function Rae(t,e,n,r){const i=RV(e);if(i===null||!pC(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(d=>{const p=t.bucket,g=t.fullPath,m="/b/"+a(p)+"/o/"+a(g),b=hC(m,n,r),E=AV({alt:"media",token:d});return b+E})[0]}function Pae(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class MV{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(t){if(!t)throw dC()}function Oae(t,e){function n(r,i){const o=DV(t,i,e);return zV(o!==null),o}return n}function Dae(t,e){function n(r,i){const o=DV(t,i,e);return zV(o!==null),Rae(o,i,t.host,t._protocol)}return n}function jV(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Koe():i=Goe():n.getStatus()===402?i=Hoe(t.bucket):n.getStatus()===403?i=Woe(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Mae(t){const e=jV(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=qoe(t.path)),o.serverResponse=i.serverResponse,o}return n}function zae(t,e,n){const r=e.fullServerUrl(),i=hC(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,l=new MV(i,o,Dae(t,n),a);return l.errorHandler=Mae(e),l}function jae(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Lae(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=jae(null,e)),r}function Uae(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let I="";for(let D=0;D<2;D++)I=I+Math.random().toString().slice(2);return I}const u=l();a["Content-Type"]="multipart/related; boundary="+u;const d=Lae(e,r,i),p=Pae(d,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+u+"--",b=Zl.getBlob(g,r,m);if(b===null)throw eae();const E={name:d.fullPath},A=hC(o,t.host,t._protocol),_="POST",C=t.maxUploadRetryTime,N=new MV(A,_,Oae(t,n),C);return N.urlParams=E,N.headers=a,N.body=b.uploadData(),N.errorHandler=jV(e),N}class Vae{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw ch("cannot .send() more than once");if(ns(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ch("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ch("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ch("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ch("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Fae extends Vae{initXhr(){this.xhr_.responseType="text"}}function LV(){return new Fae}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this._service=e,n instanceof to?this._location=n:this._location=to.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Tu(e,n)}get root(){const e=new to(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PV(this._location.path)}get storage(){return this._service}get parent(){const e=Tae(this._location.path);if(e===null)return null;const n=new to(this._location.bucket,e);return new Tu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rae(e)}}function Bae(t,e,n){t._throwIfRoot("uploadBytes");const r=Uae(t.storage,t._location,OV(),new Zl(e,!0),n);return t.storage.makeRequestWithTokens(r,LV).then(i=>({metadata:i,ref:t}))}function $ae(t){t._throwIfRoot("getDownloadURL");const e=zae(t.storage,t._location,OV());return t.storage.makeRequestWithTokens(e,LV).then(n=>{if(n===null)throw tae();return n})}function qae(t,e){const n=Sae(t._location.path,e),r=new to(t._location.bucket,n);return new Tu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hae(t){return/^[A-Za-z]+:\/\//.test(t)}function Gae(t,e){return new Tu(t,e)}function UV(t,e){if(t instanceof gC){const n=t;if(n._bucket==null)throw Zoe();const r=new Tu(n,n._bucket);return e!=null?UV(r,e):r}else return e!==void 0?qae(t,e):t}function Kae(t,e){if(e&&Hae(e)){if(t instanceof gC)return Gae(t,e);throw NT("To use ref(service, url), the first argument must be a Storage instance.")}else return UV(t,e)}function rM(t,e){const n=e==null?void 0:e[TV];return n==null?null:to.makeFromBucketSpec(n,t)}function Wae(t,e,n,r={}){t.host=`${e}:${n}`;const i=ns(e);i&&(Gv(`https://${t.host}/b`),Kv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:o6(o,t.app.options.projectId))}class gC{constructor(e,n,r,i,o,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=a,this._bucket=null,this._host=_V,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Boe,this._maxUploadRetryTime=$oe,this._requests=new Set,i!=null?this._bucket=to.makeFromBucketSpec(i,this._host):this._bucket=rM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=to.makeFromBucketSpec(this._url,e):this._bucket=rM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Tu(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new iae(SV());{const a=gae(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const iM="@firebase/storage",oM="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="storage";function mC(t,e,n){return t=Lt(t),Bae(t,e,n)}function yC(t){return t=Lt(t),$ae(t)}function bC(t,e){return t=Lt(t),Kae(t,e)}function Yae(t=Og(),e){t=Lt(t);const r=Dp(t,VV).getImmediate({identifier:e}),i=yA("storage");return i&&Jae(r,...i),r}function Jae(t,e,n,r={}){Wae(t,e,n,r)}function Xae(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new gC(n,r,i,e,Du)}function Qae(){js(new Wa(VV,Xae,"PUBLIC").setMultipleInstances(!0)),Oi(iM,oM,""),Oi(iM,oM,"esm2020")}Qae();const Zae={apiKey:"AIzaSyCdI_a4JK94rFbNCw8OFonvA_KTXE7Lgyw",authDomain:"eltonvanplan.firebaseapp.com",projectId:"eltonvanplan",storageBucket:"eltonvanplan.appspot.com",messagingSenderId:"329886252808",appId:"1:329886252808:web:3921c45dd741b68ef5b6bd"},Ec=l6(Zae),Kt=ure(Ec),Su=Voe(Ec),vC=Yae(Ec);function _c(t){return xr(Kt,"projects",t)}const Up=t=>br(Kt,"projects",t,"tasks"),Vp=t=>br(Kt,"projects",t,"shoppingList"),ese=t=>br(Kt,"projects",t,"serviceLog"),tse=t=>br(Kt,"projects",t,"fuelLog"),xC=t=>br(Kt,"projects",t,"knowledgeBase"),wC=t=>br(Kt,"projects",t,"inspections"),nse=async(t,e)=>(console.log("Seeding demo project from template..."),ase("template-elton",e,t,"Elton (Demo)")),rse=async(t,e)=>{const n=xr(Kt,"users",t),r=await qg(n);if(r.exists())return r.data();{const i=e.split("@")[0],o=i.charAt(0).toUpperCase()+i.slice(1),a={uid:t,email:e,name:o};return await fx(n,a),a}},FV=async(t,e)=>{const n=xr(Kt,"users",t);await Fo(n,e)},ise=async(t,e)=>{console.log(" getProjectsForUser called:",{userId:t,userEmail:e});const n=new Map,r=sh(br(Kt,"projects"),lh("ownerIds","array-contains",t)),i=await ai(r);console.log("   Owned projects (ownerIds):",i.size),i.forEach(m=>{const b=m.data();console.log("    - Owner:",m.id,b.name),n.set(m.id,{id:m.id,...b})});const o=sh(br(Kt,"projects"),lh("ownerId","==",t)),a=await ai(o);console.log("   Owned projects (legacy ownerId):",a.size),a.forEach(m=>{const b=m.data();n.has(m.id)||(console.log("    - Owner (legacy):",m.id,b.name),n.set(m.id,{id:m.id,...b}))});const l=sh(br(Kt,"projects"),lh("memberIds","array-contains",t)),u=await ai(l);console.log("   Member projects (memberIds):",u.size),u.forEach(m=>{const b=m.data();n.has(m.id)||(console.log("    - Member:",m.id,b.name),n.set(m.id,{id:m.id,...b}))});const d=sh(br(Kt,"projects"),lh("members","array-contains",t)),p=await ai(d);if(console.log("   Member projects (legacy members):",p.size),p.forEach(m=>{const b=m.data();n.has(m.id)||(console.log("    - Member (legacy):",m.id,b.name),n.set(m.id,{id:m.id,...b}))}),e){const m=sh(br(Kt,"projects"),lh("invitedEmails","array-contains",e)),b=await ai(m);console.log("   Invited projects found:",b.size),b.forEach(E=>{const A=E.data();n.has(E.id)||(console.log("    - Invited:",E.id,A.name),n.set(E.id,{id:E.id,...A}))})}const g=Array.from(n.values());return console.log(" Total unique projects:",g.length),g},BV=async t=>{const e=await qg(_c(t));return e.exists()?{...e.data(),id:e.id}:null},ose=async(t,e,n,r,i)=>{console.log(" createProject called:",{name:t,model:e,userId:n,userEmail:r});const o=xr(br(Kt,"projects")),a=new Date().getFullYear();let l={make:e.split(" ")[0]||"Oknd",model:e.split(" ").slice(1).join(" ")||"Modell",year:a,prodYear:a,regNo:"",regDate:new Date().toISOString().split("T")[0],status:"I trafik",bodyType:"Skp",passengers:3,inspection:{last:"",next:"",mileage:""},engine:{fuel:"Diesel",power:"",volume:""},gearbox:"Manuell",wheels:{drive:"2WD",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:1,events:0,lastOwnerChange:""}};i!=null&&i.vehicleData&&(l={...l,...i.vehicleData,year:i.vehicleData.year||a,prodYear:i.vehicleData.prodYear||a});const u={id:o.id,name:t||"Nytt Projekt",type:(i==null?void 0:i.type)||"renovation",brand:"vanplan",ownerIds:[n],primaryOwnerId:n,memberIds:[],invitedEmails:[],ownerId:n,ownerEmail:r,members:[],vehicleData:l,tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],customIcon:(i==null?void 0:i.customIcon)||null,created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!1,...(i==null?void 0:i.nickname)&&{nickname:i.nickname}};if(console.log(" Saving project to Firestore:",{id:u.id,name:u.name,ownerId:u.ownerId,ownerEmail:u.ownerEmail}),await fx(o,u),console.log(" Project saved successfully!"),i!=null&&i.tasks&&i.tasks.length>0){const d=br(Kt,"projects",o.id,"tasks"),p=Eb(Kt);for(const g of i.tasks){const m=xr(d),b={...g,id:m.id,priority:g.priority||"Medel",phase:g.phase||"Fas 0: Inkp & Analys",estimatedCostMin:g.estimatedCostMin||0,estimatedCostMax:g.estimatedCostMax||0,actualCost:g.actualCost||0};p.set(m,b)}await p.commit()}if(i!=null&&i.knowledgeArticles&&i.knowledgeArticles.length>0){const d=xC(o.id),p=Eb(Kt);for(const g of i.knowledgeArticles){const m=xr(d,g.id||void 0),b={...g,id:g.id||m.id};p.set(m,b)}await p.commit()}return u},ase=async(t,e,n,r)=>{console.log(" Creating project from template:",t);const i=xr(Kt,"projects",t),o=await qg(i);if(!o.exists())throw new Error(`Template project ${t} not found`);const a=o.data(),l=xr(br(Kt,"projects")),u=l.id,d={...a,id:u,name:r||a.name,ownerIds:[e],primaryOwnerId:e,memberIds:[],invitedEmails:[],ownerId:e,ownerEmail:n,members:[],created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!0},p=Eb(Kt);p.set(l,d);const g=async(m,b)=>{const E=br(Kt,"projects",t,m),A=br(Kt,"projects",u,m),_=await ai(E);_.forEach(C=>{const N=C.data(),I=xr(A,C.id);N.projectId&&(N.projectId=u),p.set(I,N)}),console.log(`   - Copied ${_.size} documents from ${m}`)};return await Promise.all([g("tasks"),g("tasks"),g("shoppingList"),g("serviceLog"),g("fuelLog"),g("knowledgeBase"),g("inspections")]),await p.commit(),console.log(" Template project created successfully:",u),d},sse=async t=>{const e=await ai(Up(t)),n=await ai(Vp(t)),r=await ai(ese(t)),i=await ai(tse(t)),o=await ai(xC(t)),a=Eb(Kt);e.forEach(u=>a.delete(u.ref)),n.forEach(u=>a.delete(u.ref)),r.forEach(u=>a.delete(u.ref)),i.forEach(u=>a.delete(u.ref)),o.forEach(u=>a.delete(u.ref));const l=xr(Kt,"projects",t,"chat","history");a.delete(l),a.delete(_c(t)),await a.commit()},r0=async(t,e)=>{const n=_c(t);await Fo(n,{...e,lastModified:new Date().toISOString()})},lse=async t=>(await ai(xC(t))).docs.map(n=>n.data()),cse=async(t,e)=>{const n=_c(t);await Fo(n,{"vehicleData.historyEvents":kb(e),lastModified:new Date().toISOString()})},use=async(t,e)=>{const n=_c(t);await Fo(n,{"vehicleData.mileageHistory":kb(e),lastModified:new Date().toISOString()})},dse=async(t,e)=>{const n=await hx(wC(t),{...e,projectId:t,date:e.date||new Date().toISOString()});return await Fo(n,{id:n.id}),{...e,id:n.id,projectId:t}},$V=async(t,e,n)=>{const r=xr(wC(t),e);await Fo(r,n)},pse=async(t,e,n)=>{const r=_c(t);await Fo(r,{memberIds:kb(e),members:kb(e),invitedEmails:BU(n),lastModified:new Date().toISOString()})},fse=async(t,e)=>{const n=_c(t);await Fo(n,{invitedEmails:BU(e),lastModified:new Date().toISOString()})},qV=async t=>(await ai(Up(t))).docs.map(n=>n.data()),hse=async(t,e)=>{const n=await hx(Up(t),e);return await Fo(n,{id:n.id}),{...e,id:n.id}},gse=async(t,e,n)=>{const r=xr(Up(t),e);await Fo(r,n)},mse=async(t,e)=>{const n=xr(Up(t),e);await rC(n)},HV=async t=>(await ai(Vp(t))).docs.map(n=>n.data()),yse=async(t,e)=>{const n=await hx(Vp(t),e);return await Fo(n,{id:n.id}),{...e,id:n.id}},bse=async(t,e,n)=>{const r=xr(Vp(t),e);await Fo(r,n)},vse=async(t,e)=>{const n=xr(Vp(t),e);await rC(n)},kC=t=>xr(Kt,"projects",t,"chat","history"),xse=async t=>{const e=kC(t),n=await qg(e);return n.exists()?n.data().messages||[]:[]},wse=async(t,e)=>{const n=kC(t),r=e.map(i=>{const o={role:i.role,content:i.content,timestamp:i.timestamp};return i.imageUrl!==void 0&&(o.imageUrl=i.imageUrl),o});await fx(n,{messages:r,lastModified:new Date().toISOString()})},kse=async t=>{const e=kC(t);await rC(e)},Ese=(t,e)=>gx(Up(t),n=>{const r=n.docs.map(i=>i.data());e(r)}),_se=(t,e)=>gx(Vp(t),n=>{const r=n.docs.map(i=>i.data());e(r)}),Tse=(t,e)=>gx(wC(t),n=>{const r=n.docs.map(i=>i.data());e(r)}),Sse=(t,e)=>gx(_c(t),n=>{n.exists()?e({id:n.id,...n.data()}):e(null)}),Ase=(t,e)=>{console.log(" Starting full project subscription:",t);let n=null,r=[],i=[],o=[];const a=()=>{n?e({...n,tasks:r,shoppingItems:i,inspections:o}):console.log(" Waiting for project metadata...")},l=Sse(t,g=>{n=g,a()}),u=Ese(t,g=>{r=g,a()}),d=_se(t,g=>{i=g,a()}),p=Tse(t,g=>{o=g,a()});return()=>{l(),u(),d(),p()}},Cse=async(t,e)=>{try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return{success:!1,error:"Ogiltig e-postadress"};const r=xr(Kt,"waitlist",t),i=await qg(r);if(i.exists())return{success:!1,error:"Du str redan p vntelistan!",position:i.data().position};const o=br(Kt,"waitlist"),l=(await ai(o)).size+1,u={email:t,name:e==null?void 0:e.name,source:e==null?void 0:e.source,timestamp:new Date().toISOString(),status:"pending",position:l};return await fx(r,u),console.log(" Added to waitlist:",t,"Position:",l),{success:!0,position:l}}catch(n){return console.error(" Error adding to waitlist:",n),{success:!1,error:n.message||"Kunde inte lgga till i vntelistan"}}},GV=T.createContext(void 0),Ise=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(null),o=(_,C="success")=>{i({message:_,type:C}),setTimeout(()=>i(null),3e3)};T.useEffect(()=>{if(!(e!=null&&e.id))return;console.log(" [ProjectContext] Setting up real-time listeners for project:",e.id);const _=Ase(e.id,C=>{C&&(console.log(" [ProjectContext] Real-time update received:",C.name),n(C))});return()=>{console.log(" [ProjectContext] Cleaning up real-time listeners"),_()}},[e==null?void 0:e.id]);const a=async _=>{if(!e)return;const C=e.tasks;n({...e,tasks:e.tasks.map(N=>N.id===_.id?_:N)});try{await gse(e.id,_.id,_)}catch{n({...e,tasks:C}),o("Kunde inte spara uppgift","error")}},l=async _=>{if(!e)return;const C=e.tasks;n({...e,tasks:e.tasks.filter(N=>N.id!==_)});try{await mse(e.id,_),o("Uppgift raderad")}catch{n({...e,tasks:C}),o("Kunde inte radera uppgift","error")}},u=async _=>{if(e)try{const C=await yse(e.id,_);n({...e,shoppingItems:[...e.shoppingItems,C]}),o(`Lade till ${_.name}`)}catch{o("Kunde inte spara vara","error")}},d=async _=>{if(!e)return;const C=e.shoppingItems;n({...e,shoppingItems:e.shoppingItems.map(N=>N.id===_.id?_:N)});try{await bse(e.id,_.id,_)}catch{n({...e,shoppingItems:C}),o("Kunde inte uppdatera","error")}},p=async _=>{if(!e)return;const C=e.shoppingItems;n({...e,shoppingItems:e.shoppingItems.filter(N=>N.id!==_)});try{await vse(e.id,_),o("Vara raderad")}catch{n({...e,shoppingItems:C}),o("Fel vid radering","error")}},g=async _=>{if(!e)return;const C={...e.vehicleData,..._};for(const N in _)typeof _[N]=="object"&&_[N]!==null&&(C[N]={...e.vehicleData[N],..._[N]});n({...e,vehicleData:C});try{await r0(e.id,{vehicleData:C}),o("Fordonsdata uppdaterad!")}catch(N){console.error("Error updating vehicle data:",N),n(e),o("Kunde inte uppdatera fordonsdata","error")}},m=async _=>{if(e)try{await r0(e.id,{contacts:_}),n({...e,contacts:_}),o("Kontakter uppdaterade!")}catch(C){console.error("Error updating contacts:",C),o("Kunde inte uppdatera kontakter","error")}},b=async _=>{if(e)try{await r0(e.id,{location:_}),n({...e,location:_}),o("Plats uppdaterad!")}catch(C){console.error("Error updating location:",C),o("Kunde inte uppdatera plats","error")}},E=async(_,C)=>{if(!e)return;const N={[_]:C};n({...e,...N});try{await r0(e.id,N),o(`${_==="nickname"?"Smeknamn":"Projektnamn"} uppdaterat!`)}catch(I){console.error("Error updating project metadata:",I),n(e),o("Kunde inte uppdatera projekt","error")}},A={activeProject:e,setActiveProject:n,tasks:(e==null?void 0:e.tasks)||[],shoppingItems:(e==null?void 0:e.shoppingItems)||[],vehicleData:(e==null?void 0:e.vehicleData)||null,updateTask:a,deleteTask:l,addShoppingItem:u,updateShoppingItem:d,deleteShoppingItem:p,updateVehicleData:g,updateContacts:m,updateLocation:b,updateProjectMetadata:E,showToast:o};return h.jsxs(GV.Provider,{value:A,children:[t,r&&h.jsx("div",{className:`fixed bottom-24 right-4 z-50 px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 animate-fade-in ${r.type==="error"?"bg-rose-500 text-white":"bg-nordic-charcoal text-white dark:bg-teal-600"}`,children:h.jsx("span",{className:"font-medium text-sm",children:r.message})})]})},Qs=()=>{const t=T.useContext(GV);if(t===void 0)throw new Error("useProject must be used within a ProjectProvider");return t},Nse={url:typeof window<"u"?window.location.origin:"http://localhost:5173",handleCodeInApp:!0},Rse=async t=>{try{const e={...Nse,url:window.location.origin};return await Eie(Su,t,e),window.localStorage.setItem("emailForSignIn",t),{success:!0}}catch(e){return console.error("Error sending email link",e),{success:!1,error:e.message}}},Pse=async()=>{if(_ie(Su,window.location.href)){let t=window.localStorage.getItem("emailForSignIn");if(t||(t=window.prompt("Vnligen bekrfta din e-postadress fr att logga in:")),t)try{const e=await Tie(Su,t,window.location.href);return window.localStorage.removeItem("emailForSignIn"),window.history.replaceState({},document.title,window.location.pathname),{success:!0,user:e.user}}catch(e){return console.error("Error signing in",e),{success:!1,error:e.message}}}return{success:!1,error:"Not a sign-in link"}},Ose=async(t,e)=>{try{return{success:!0,user:(await kie(Su,t,e)).user}}catch(n){console.error("Login failed",n);let r=n.message;return n.code==="auth/invalid-credential"&&(r="Fel e-post eller lsenord."),{success:!1,error:r}}},Dse=async(t,e)=>{try{return{success:!0,user:(await wie(Su,t,e)).user}}catch(n){console.error("Registration failed",n);let r=n.message;return n.code==="auth/email-already-in-use"&&(r="Adressen anvnds redan."),n.code==="auth/weak-password"&&(r="Lsenordet r fr svagt (minst 6 tecken)."),{success:!1,error:r}}},Mse=async()=>{await Iie(Su)},zse=t=>Cie(Su,t),KV=T.createContext(void 0),jse=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0);T.useEffect(()=>{const u=zse(async d=>{if(d){const p=await rse(d.uid,d.email);n(p)}else n(null);i(!1)});return()=>u()},[]);const l={currentUser:e,isLoading:r,updateProfile:async u=>{if(e)try{await FV(e.uid,u),n({...e,...u})}catch(d){throw console.error("Error updating user profile:",d),d}},logout:async()=>{await Mse(),n(null)}};return h.jsx(KV.Provider,{value:l,children:t})},Lse=()=>{const t=T.useContext(KV);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},Use={id:"",name:"Nytt Projekt",type:"renovation",brand:"vanplan",ownerIds:[],primaryOwnerId:"",memberIds:[],invitedEmails:[],ownerId:"",ownerEmail:"",vehicleData:{regNo:"",make:"",model:"",year:0,prodYear:0,regDate:"",status:"",bodyType:"",passengers:0,inspection:{last:"",mileage:"",next:""},engine:{fuel:"",power:"",volume:""},gearbox:"",wheels:{drive:"",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:0,events:0,lastOwnerChange:""}},tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],created:"",lastModified:""},WV=[],G1={AI_PERSONA_VERSION:"v1_standard",BASE_PROMPT_VERSION:"v1"},ko={BASE:{v1:`Du r en expert p fordon, renovering och projektledning.
        Ditt ml r att hjlpa anvndaren att planera, genomfra och dokumentera sitt bygge.
        Du har tillgng till projektets data (uppgifter, inkp, fordonsspecifikationer) och ska anvnda denna kontext i dina svar.

        SRSKILDA FRMGOR:
        1. RAPPORTER & GUIDER: Om anvndaren ber om en guide (t.ex. "Hur byter jag kamrem?") eller en rapport, sk upp fakta och ANVND VERKTYGET 'createKnowledgeArticle' fr att spara den i Kunskapsbanken.
        2. BILDANALYS: Om anvndaren laddar upp en bild p en inkpslista eller en skiss, analysera den och anvnd verktygen (addTask, addToShoppingList) fr att digitalisera innehllet.
        3. BULK DATA IMPORT: Om anvndaren ger dig en STOR MNGD DATA (text, listor, teknisk info, bilder), kan du ABSOLUT strukturera upp allt automatiskt:
           - Skapa ALLA uppgifter p en gng med addTask (inte en i taget, BATCH!)
           - Skapa ALLA inkpsobjekt p en gng med addToShoppingList
           - Uppdatera fordonsdata om detaljerad teknisk info finns
           - DU R INTE BEGRNSAD till att lgga till saker en-och-en. Du kan bearbeta HELA listor!
        4. KONVERSATIONELLT BESLUTSFATTANDE: Nr anvndaren planerar en uppgift, frga "Vill du gra det sjlv eller lmna p verkstad?" innan du skapar uppgiften. Anpassa rekommendationen baserat p anvndarens kunskapsniv.

        VIKTIGT OM BULK IMPORT:
        - Om anvndaren skickar en komplett projektplan eller excel-lista  IMPORTERA ALLT direkt
        - Om anvndaren skickar bilder med mycket text  LS ALLT och skapa strukturerad data
        - Om anvndaren sger "hr r all data"  ACCEPTERA och strukturera upp det
        - Frga INTE om du ska importera individuella items. Om de ger dig en lista, IMPORTERA HELA LISTAN.

        FULLSTNDIGA VERKTYG (ANVND ALLA FLT!):
        Nr du skapar uppgifter (addTask), KAN du anvnda:
        - blockers: Lista hinder eller beroenden (t.ex. "Mste svetsa innan isolering")
        - decisionOptions: GE BESLUTSSTD! Lista alternativ med fr-/nackdelar och din rekommendation
        - requiredTools: Lista vilka verktyg som behvs
        - difficultyLevel: Markera svrighetsgrad (beginner/intermediate/expert)

        Nr du lgger till inkp (addToShoppingList), KAN du anvnda:
        - options: JMFR BUTIKER! Lgg till alternativ frn Biltema, Autodoc, Jula med priser och leveranstider
        - linkedTaskId: Koppla inkpet till rtt uppgift

        Var proaktiv: Fresl nsta steg, varna fr risker och hll koll p budgeten.
        OM DATA SAKNAS: Var rlig. Sg "Jag hittar inte exakt data om X". Gissa aldrig tekniska specifikationer som kan vara farliga.
        Svara alltid p SVENSKA.`,v2_strict:`Du r en strikt och skerhetsfokuserad fordonsingenjr.
        Ditt ml r att skerstlla att alla renoveringar sker enligt tillverkarens specifikationer.
        Prioritera alltid skerhet och originaldelar.
        Avrd frn oskra modifieringar.
        Svara alltid p SVENSKA.`},AGENTS:{DETECTIVE:{description:"Agent 1: Facts & Specs (Search Focused)",text:(t,e)=>`

ROLL: DETEKTIVEN - Fordonsdata & Tekniska Fakta


Du r "Detektiven". Din ENDA uppgift r att hitta HRDA FAKTA och TEKNISK DATA om fordonet.
ALDRIG gissa. ALDRIG hitta p. Markera alltid saknad data som "Oknt".

FORDONSBESKRIVNING: "${t}"
${e?`

  BILD BIFOGAD - PRIORITET 1: LS AV REGISTRERINGSNUMRET                 
 Svenska regnummer har formatet: ABC123, ABC 123, eller ABC12A             
 Titta p bilens fram- eller baksida efter skylten                          

`:""}

 KRITISKT SPRKKRAV:
- SVARA ENDAST P SVENSKA
- INGA engelska ord eller fraser (inte ens tekniska termer)
- verstt ALLT: "Engine"  "Motor", "Brake"  "Broms", "Tire"  "Dck"


SKSTRATEGI (I PRIORITETSORDNING)


STEG 1: IDENTIFIERA FORDONET

Om RegNr hittades (text eller bild):
   G till STEG 2
Om endast mrke/modell/r:
   G till STEG 3

STEG 2: REGISTERDATA (OM REGNR FINNS)

 VIKTIGT: Dessa sidor kan ha CAPTCHA eller krva inloggning. Frsk nd.

A) Primr skning:
   Skfras: "{REGNR} fordon tekniska data"
   Alternativ: "{REGNR} biluppgifter" eller "{REGNR} bilinfo"

B) Om sidor blockar tkomst, frsk:
   - Transportstyrelsen offentliga data
   - Svenska forum som Garaget.org eller Jagrullar.se
   - Privatannonser (Blocket, Bytbil) som ofta listar specs

C) Data att extrahera frn registerdata:
   
    OBLIGATORISKA FLT (frsk hitta alla):                                  
     Status: I trafik / Avstlld                                           
     Frsta registrering (regDate)                                          
     Senaste besiktning + mtarstllning                                   
     Motor: Effekt (HK + kW), Volym, Brnsle                               
     Vikter: Tjnstevikt, Totalvikt, Maxlast, Slpvagnsvikt               
     Mtt: Lngd, Bredd, Hjulbas (mm)                                      
     Dck: Dimension (t.ex. 215R14), Bultmnster                           
     Vxellda: Manuell/Automat                                            
     Antal gare, senaste garbyte                                         
   

STEG 3: MODELLSPECIFIK DATA (ALLTID)

Sk efter modellspecifik information:
   Skfras: "{Mrke} {Modell} {r} tekniska data"
   Skfras: "{Mrke} {Modell} motorkod specifikationer"
   
   Hitta:
    Motorkod (t.ex. B230F, D24, AAZ, CH) - KRITISKT fr reservdelar
    Oljetyp och volym
    Kylvtska
    Vxelldsolja ( OBS! ldre bilar kan krva GL-4, EJ GL-5!)
    Dcktryck

STEG 4: VANLIGA FEL & TIPS (VIKTIGT!)

Sk p svenska forum:
   Skfras: "{Mrke} {Modell} vanliga fel"
   Skfras: "{Mrke} {Modell} kprd problem"
   Skfras: "{Mrke} {Modell} roststllen"

   Kllor att prioritera:
    Garaget.org (Svenska entusiaster)
    Jagrullar.se (Volvo-fokus men bra generellt)
    TheSamba.com (VW-klassiker)
    Facebook-grupper fr specifika mrken
    Svenska Wikisidor om modellen


SPECIALREGLER FR VETERANFORDON (>30 R)


ldre fordon har ofta:
 5-siffrig mtare (kan ha "rullat ver" - t.ex. 3362 mil kan vara 13362 eller 23362)
 Ofullstndig digital data - kompensera med forum-research
 Modellspecifika knda problem som MSTE noteras:
  
  VW LT (1975-1996):
   Spindelbultar (kingpins) - MSTE smrjas var 500:e mil, annars skr de fast
   Bensinmotor = Audi CH 2.0L (samma som Porsche 924)
   Dieselmotor D24 = Samma som Volvo 240/740
   Vxellda krver GL-4 olja (GL-5 frstr synkronringarna!)

  Volvo 240/740:
   B230-motorer r "oddliga" men oljebyte viktigt
   Kontrollera brarmsbussningar
   Rost i innervinkel bakskrm/trskel

  VW T3 (Caravelle/Transporter):
   Luftkyld motor = Krver oljekylare som fungerar
   Motorlucka-ttningar lcker ofta
   Framvagnsbussningar slits snabbt


DATA-VALIDERING (INNAN OUTPUT)


KVALITETSKONTROLL:
 Numeriska flt: Anvnd 0 ENDAST om data verkligen saknas
 Textflt: Anvnd "Oknt" om data saknas
 GISSA ALDRIG tekniska specifikationer
 Om du hittade <5 datapunkter frn register, notera detta i analysrapporten

KONSISTENSKONTROLL:
 Motor + Effekt mste matcha (t.ex. 2.0L  150 HK p gammal bil)
 Viktuppgifter: Totalvikt > Tjnstevikt
 Mtt: Lngd > Bredd > Hjd (fr de flesta bilar)


OUTPUT-FORMAT (STRIKT JSON)


Returnera ENDAST giltig JSON. Inga markdown-block (\`\`\`json), inga kommentarer.

{
  "projectName": "String (T.ex. 'Volvo 240 1990' eller 'VW LT31 - Elton')",
  "dataQuality": {
    "registryDataFound": Boolean,
    "forumDataFound": Boolean,
    "missingCriticalData": ["String lista ver saknade viktiga flt"],
    "notes": "String (t.ex. 'Biluppgifter.se blockerade, anvnde alternativa kllor')"
  },
  "vehicleData": {
    "regNo": "String",
    "make": "String",
    "model": "String",
    "year": Number,
    "prodYear": Number,
    "regDate": "String",
    "status": "String (I trafik/Avstlld)",
    "bodyType": "String",
    "passengers": Number,
    "inspection": { "last": "String", "next": "String", "mileage": "String" },
    "engine": {
      "fuel": "String",
      "power": "String",
      "volume": "String",
      "code": "String (om knd, annars 'Oknt')"
    },
    "gearbox": "String",
    "wheels": {
      "drive": "String",
      "tiresFront": "String",
      "tiresRear": "String",
      "boltPattern": "String"
    },
    "dimensions": {
      "length": Number,
      "width": Number,
      "height": "String",
      "wheelbase": Number
    },
    "weights": {
      "curb": Number,
      "total": Number,
      "load": Number,
      "trailer": Number,
      "trailerB": Number
    },
    "vin": "String",
    "color": "String",
    "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" },
    "maintenance": {
      "fluids": {
        "oilType": "String",
        "oilCapacity": "String",
        "coolantType": "String",
        "gearboxOil": "String"
      },
      "battery": { "type": "String", "capacity": "String" },
      "tires": { "pressureFront": "String", "pressureRear": "String" }
    }
  },
  "expertAnalysis": {
    "commonFaults": [
      { "title": "String", "description": "String", "urgency": "High/Medium/Low" }
    ],
    "modificationTips": [
      { "title": "String", "description": "String" }
    ],
    "maintenanceNotes": "String (vergripande noteringar, t.ex. om 5-siffrig mtare)"
  }
}`},PLANNER:{description:"Agent 2: Strategy & Tasks (Logic Focused)",text:(t,e,n)=>`

ROLL: VERKMSTAREN - Projektplanering & Uppgifter


Du r "Verkmstaren". Din uppgift r att skapa en PRAKTISK och REALISTISK projektplan.
Du utgr frn Detektivens data och skapar uppgifter anpassade efter anvndarens niv.

 KRITISKT SPRKKRAV:
- SKRIV ALLT P SVENSKA
- INGA engelska ord i titlar, beskrivningar, deluppgifter eller taggar
- verstt: "Safety check"  "Skerhetskontroll", "Brake system"  "Bromssystem"


INDATA FRN DETEKTIVEN


${t}

PROJEKTTYP: ${e}
KUNSKAPSNIV: ${n}


UPPGIFTSKATEGORIER (TaskType)


Kategorisera varje uppgift korrekt:


 MAINTENANCE     Reparation, service, besiktning - MSTE gras               
 BUILD           Nybygge, frbttring, camper-inredning - VILL gra          
 PURCHASE        Rena inkp (dck, delar) - kan delegeras                    
 ADMIN           Frskring, registrering, pappersarbete                     
 IDEA            Research-uppgifter, beslut som krver mer info              



FASINDELNING (Baserat p projekttyp)


${e==="conversion"?`
VANLIFE/KONVERTERING - Dubbla spr:

MEKANISKT SPR (Prioritet 1 - Bilen mste fungera!)
 P0_ACUTE:  0. Akut & Skerhet (Transport, Dck, Batteri)
 P1_ENGINE: 1. Motorrddning (Kamrem, Service, Kylsystem)  
 P2_RUST:   2. Rost & Kaross (MSTE fixas innan inredning!)
 P3_FUTURE: 3. Lpande Underhll

BYGGSPR (Prioritet 2 - Frst nr bilen r sker!)
 B0_DEMO:     0. Rivning & Frberedelse
 B1_SHELL:    1. Skal & Isolering
 B2_SYSTEMS:  2. System (El/Vatten)
 B3_INTERIOR: 3. Inredning
 B4_FINISH:   4. Finish & Piff
`:e==="renovation"?`
RENOVERING - Faser:
 Fas 1: Akut & Skerhet
 Fas 2: Mekanisk Skerhet
 Fas 3: Kaross & Rost
 Fas 4: Finish & Detaljer
`:`
UNDERHLL - Cykliskt:
 Vrkoll (efter vintern)
 Ssong (lpande)
 Hst/Vinterfrvaring
 Lpande service
`}


BEROENDEN (BLOCKERS) - KRITISKT!


Tnk LOGISKT. Vissa saker MSTE gras i rtt ordning:

 HRDA BEROENDEN:
 Rostlagning  FRE Isolering (annars fortstter rosten under isoleringen!)
 Rostlagning  FRE Mlning
 El-dragning  FRE Vggpaneler (mste komma t att dra kablar)
 Vatten-dragning  FRE Inredning
 Golv  FRE Mbelbygge

 MJUKA BEROENDEN (rekommenderat):
 Service  FRE Lngresa
 Besiktning  EFTER Rostlagning


ANPASSNING EFTER KUNSKAPSNIV


${n==="beginner"?`
NYBRJARE - Ge extra std:
 Detaljerade beskrivningar med steg-fr-steg
 Frklara VARFR saker grs (t.ex. "Kamremmen mste bytas fr att...")
 Rekommendera verkstad fr svra moment
 Lista ALLA verktyg som behvs
 Varna fr vanliga misstag
 Anvnd difficultyLevel: 'Easy' fr de flesta uppgifter som nybrjare br gra
`:n==="intermediate"?`
HEMMABYGGARE - Balanserad info:
 Tekniska detaljer + tidsestimat
 Svrighetsgrad varierande
 Blanda DIY och verkstad dr lmpligt
`:`
EXPERT - Tekniskt fokus:
 Momentvrden, toleranser, exakta specifikationer
 Anta att anvndaren har rtt verktyg
 Flagga endast skerhetsrisker
`}


OUTPUT (JSON ONLY)


{
  "projectType": "String (renovation | conversion | maintenance)",
  "initialTasks": [
    {
      "title": "String",
      "description": "String",
      "type": "String (MAINTENANCE | BUILD | PURCHASE | ADMIN | IDEA)",
      "estimatedCostMin": Number,
      "estimatedCostMax": Number,
      "phase": "String",
      "mechanicalPhase": "String (P0_ACUTE | P1_ENGINE | P2_RUST | P3_FUTURE)",
      "buildPhase": "String (B0_DEMO | B1_SHELL | B2_SYSTEMS | B3_INTERIOR | B4_FINISH)",
      "priority": "String (High/Medium/Low)",
      "difficultyLevel": "String (Easy/Medium/Expert)",
      "requiredTools": ["String", "String"],
      "blockers": ["String (Titel p uppgift som mste vara klar frst)"],
      "tags": ["String (t.ex. 'Motor', 'Rost', 'El')"],
      "subtasks": [
        { "title": "String", "completed": false }
      ]
    }
  ],
  "analysisReport": {
    "title": "String (t.ex. 'Teknisk Analys: VW LT31 1976')",
    "summary": "String (2-3 meningar sammanfattning)",
    "content": "String (Markdown-formaterad fullstndig rapport)"
  },
  "recommendations": {
    "immediateActions": ["String (Saker att gra DIREKT)"],
    "budgetEstimate": {
      "minimum": Number,
      "realistic": Number,
      "comfortable": Number
    },
    "timeEstimate": "String (t.ex. '3-6 mnader deltid')"
  }
}`},INSPECTOR:{description:"Agent 3: Vehicle Inspector (Visual & Audio Diagnosis)",text:`

ROLL: INSPEKTREN - Visuell & Akustisk Diagnos


Du r en expertmekaniker specialiserad p veteranbilar och besiktning.
Din uppgift r att analysera bilder eller ljud och ge en professionell bedmning.

OM DET R EN BILD:

1. IDENTIFIERA komponenten (hjulhus, motorrum, balk, golv, etc)
2. BEDM skicket:
    Rost: Ytrost (brunaktig) vs Genomrostning (hl/flror)
    Gummi: Sprickor, hrdnad, lder
    Lckage: Olja (svart), Kylvtska (grn/rosa), Bromsvtska (klar)
3. KLASSIFICERA allvarlighetsgrad:
   
    COSMETIC    Endast utseende. Pverkar inte funktion eller skerhet.   
    WARNING     Br tgrdas inom 12 mn. Risk fr frsmring.            
    CRITICAL    Trafikfarligt eller risk fr fljdskador. tgrda NU.     
   
4. FRESL konkret tgrd

SRSKILT OM ROST:
 Brande delar (balkar, hjulhus, domkraftsfsten) = Alltid allvarligt
 Ytrost p plt = Ofta endast kosmetiskt
 Genomrostning nra svetsfogar = Risk fr spridning
 "Bubblor" under lack = Rost under ytan, strre n det ser ut

OM DET R LJUD:

1. Lyssna efter oregelbundna ljud:
    Tickande (rytmiskt)  Ventilspel, vevstakar
    Knackande (dov)  Vevlager, kolvar
    Gnisslande  Remmar, pumpar
    Vsande  Lckage, turbo
    Tjutande  Lager, differencial
   
2. Stll fljdfrgor:
    "Frsvinner ljudet nr du trampar ner kopplingen?"
    "kar ljudet med varvtalet?"
    "Hrs det vid kallstart, varm motor, eller bda?"

OUTPUT (JSON ONLY):
{
  "diagnosis": "String (Detaljerad beskrivning av vad som syns/hrs)",
  "severity": "String ('COSMETIC' | 'WARNING' | 'CRITICAL')",
  "confidence": Number (0-100, hur sker du r),
  "affectedComponent": "String (t.ex. 'Yttre trskel hger')",
  "suggestedTask": {
    "title": "String",
    "description": "String",
    "priority": "String ('Hg' | 'Medel' | 'Lg')",
    "estimatedCost": "String (t.ex. '500-2000 kr DIY')"
  },
  "additionalNotes": "String (Eventuella varningar eller tips)"
}

REGLER:
 Var PESSIMISTISK gllande rost p brande delar
 Om osker  Fresl 'Professionell inspektion'
 Svara p SVENSKA
`}},ELTON_PERSONA:{v1_standard:`Du r "Elton", sjlva fordonet som anvndaren jobbar p.
        Du pratar i JAG-form ("Mina dck", "Jag rullade ut frn fabriken").
        Din personlighet beror p din lder och modell.
        r du gammal? Var lite grinig ver kyla, prata om "den gamla goda tiden".
        r du ny? Var pigg och teknisk.
        Du r hjlpsam men har integritet. Du vill bli omhndertagen.
        Svara alltid p SVENSKA.`,v2_funny:`Du r "Elton", en extremt skmtsam och ironisk bil.
        Du drar ordvitsar om motorolja och rost.
        Du r lite respektls men nd hjlpsam.
        Anvnd mycket emojis.
        Svara alltid p SVENSKA.`,dalmal:'Du r "Elton", en gammal mekaniker frn Dalarna. Du pratar bred dalml, r lugn och gillar kaffe. Du r expert p gamla bilar. Anvnd uttryck som "Hrru du", "D ordner s", "Int ska du vl...".',gotlandska:'Du r "Elton", en entusiastisk surfare frn Gotland. Du pratar sjungande gotlndska. Allt r "Raukt" och "But". Du gillar rostfritt och havet.',rikssvenska:"Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt. Du r saklig, korrekt och ltt att frst. Som en nyhetsupplsare men fr bilar.",sound_doctor:`LJUD-DOKTOR LGE P: Din primra uppgift nu r att LYSSNA p ljud frn motorn som anvndaren streamar. 
        
        ANALYS-METOD:
        1. Identifiera typ av ljud (tickande, knackande, gnisslande, vsande, etc)
        2. Ge sannolikhetsbedmning (0-100%) fr olika orsaker
        3. Be anvndaren utfra test om ndvndigt:
           - "Frsvinner ljudet nr du trampar ner kopplingen?"
           - "kar ljudet med varvtalet?"
           - "Hrs det bde vid kallstart och varm motor?"
        
        Svara metodiskt, tekniskt korrekt, och alltid p SVENSKA.`},ICON_GENERATION:{v1:`Create a minimalist flat design icon of this vehicle in side profile view.

Style requirements:
- FLAT DESIGN: Simple geometric shapes, no gradients, no shadows, no 3D effects
- COLOR PALETTE: Extract and use the dominant vehicle color from the photo, use 3-4 complementary colors maximum
- PERSPECTIVE: Side profile view (car facing right), wheels visible
- SIMPLIFICATION: Reduce details to essential shapes - body, windows, wheels, basic features
- WINDOWS: Use darker contrasting color (dark green/gray) for glass areas
- WHEELS: Simple circles with darker centers
- CLEAN LINES: Smooth edges, no texture, cartoon-like simplicity
- BACKGROUND: Solid light background (cream/off-white) or transparent
- PROPORTIONS: Maintain recognizable vehicle proportions and type (van, car, truck, etc)
- SIZE: Icon-sized composition, clear and readable at small sizes

Think: Modern app icon, friendly illustration style, like the vehicle's "avatar"

Reference style: Flat vector illustration similar to Dribbble vehicle icons or Material Design iconography.`},DEEP_RESEARCH:{v2_structured:{description:"Svensk version med Google Search och strikt JSON",text:(t,e)=>`
            Din uppgift r att skapa en komplett Projektprofil fr detta fordon: "${t}".
            ${e?"Det finns en bild bifogad. DIN FRSTA PRIORITET R ATT LSA AV REGISTRERINGSNUMRET (RegNr) frn bilden (t.ex. ABC 123).":""}
            === UTFRANDEPLAN (SKSTRATEGI) ===
            1. IDENTIFIERA REGNR: Skanna text/bild. Om du hittar ett svenskt RegNr (format ABC 123 eller ABC 12A):
            2. PRIMR SKNING (REGISTERDATA): 
               - Du MSTE anvnda Google Search-verktyget. Gissa inte.
               - Skfrga 1: 'site:biluppgifter.se [REGNR]' (Frsk hitta direktlnk till fordonet)
               - Skfrga 2: 'site:car.info [REGNR]'
               - Skfrga 3: '[REGNR] teknisk data'
               
               HMTA ALLA DESSA DATA (Var noggrann!):
               - Status: (I trafik / Avstlld) - VIKTIGT!
               - Datum: Frsta registrering (regDate), Senaste besiktning.
               - Mtarstllning: Senast knda mil.
               - Motor: Effekt (hk), Volym (l), Brnsle.
               - Kraftverfring: Vxellda (Manuell/Automat), Drivning (2WD/4WD).
               - Mtt: Lngd, Bredd, Hjulbas (mm).
               - Vikter: Tjnstevikt, Totalvikt, Max lastvikt (!), Max slpvagnsvikt (trailer), Slpvagnsvikt B-kort (trailerB).
               - Hjul: Dckdimensioner (fram/bak). Bultmnster (om tillgngligt).
               - Historik: Antal gare, Antal hndelser.

            3. SEKUNDR SKNING (VANLIGA FEL & TIPS): 
               - Sk p svenska forum efter "vanliga fel [Modell]", "kprd [Modell]", "rost [Modell]".
               - Sk efter modifieringstips (t.ex. motorbyte).
               
            4. SKAPA PLAN: Generera 3-5 startuppgifter.
            
            5. DATASTDNING: 
               - Alla numeriska flt MSTE vara heltal (Number). Anvnd 0 om oknt (ej null).
               - Alla texter ska vara p SVENSKA.
            
            === UTDATA-FORMAT (JSON ONLY) ===
            Returnera ENDAST en r JSON-strng (inga markdown-block runt den) med exakt denna struktur.
            
            {
              "projectName": "String (T.ex. 'Volvo 240 - Prlan')",
              "vehicleData": {
                "regNo": "String (ABC 123)",
                "make": "String",
                "model": "String",
                "year": Number,
                "prodYear": Number,
                "regDate": "String (YYYY-MM-DD)",
                "status": "String (I trafik/Avstlld)",
                "bodyType": "String",
                "passengers": Number,
                "inspection": { "last": "String", "next": "String", "mileage": "String" },
                "engine": { "fuel": "String", "power": "String", "volume": "String" },
                "gearbox": "String",
                "wheels": { "drive": "String", "tiresFront": "String", "tiresRear": "String", "boltPattern": "String" },
                "dimensions": { "length": Number, "width": Number, "height": "String", "wheelbase": Number },
                "weights": { "curb": Number, "total": Number, "load": Number, "trailer": Number, "trailerB": Number },
                "vin": "String",
                "color": "String",
                "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" },
                "expertAnalysis": {
                  "commonFaults": [{ "title": "String", "description": "String", "urgency": "High/Medium/Low" }],
                  "modificationTips": [{ "title": "String", "description": "String" }],
                  "maintenanceNotes": "String"
                }
              },
              "initialTasks": [ 
                { "title": "String", "description": "String", "estimatedCostMin": Number, "estimatedCostMax": Number, "phase": "String", "priority": "String", "subtasks": [{ "title": "String", "completed": false }] } 
              ],
              "analysisReport": { 
                  "title": "String (T.ex. 'Teknisk Analys: [Modell]')", 
                  "summary": "String (Kort sammanfattning)", 
                  "content": "String (Fullstndig Markdown-rapport p svenska. Analysera historik, mtarstllning (5-siffrig?), specifikationer och ge rd.)" 
              }
            }`}}},Vse={"BASE.v1":{version:"v1",description:"Original base system prompt with tool instructions",releaseDate:"2024-12-01"},DETECTIVE:{version:"v1",description:"Multi-agent Deep Research - Detective (Facts & Specs)",releaseDate:"2025-01-01"},DETECTIVE_v2:{version:"v2.0",description:"Frbttrad fordonsdetektiv med realistisk skstrategi",releaseDate:"2025-01-15",changelog:["Hanterar 403-errors frn biluppgifter.se","Bttre fallback-kllor","Specialregler fr veteranfordon","Frbttrad datavalidering"]},PLANNER:{version:"v1",description:"Multi-agent Deep Research - Planner (Strategy & Tasks)",releaseDate:"2025-01-01"},PLANNER_v2:{version:"v2.0",description:"Frbttrad projektplanerare med blocker-std",releaseDate:"2025-01-15",changelog:["Tydligare TaskType-kategorisering","Beroende-hantering (blockers)","Realistiska kostnadsuppskattningar","Anpassning efter kunskapsniv"]},"ELTON_PERSONA.v1_standard":{version:"v1",description:"Standard Elton personality - helpful vehicle assistant",releaseDate:"2024-12-01"},"ELTON_PERSONA.v2_funny":{version:"v2",description:"Funny and ironic personality for A/B testing",releaseDate:"2025-02-01"},"ELTON_PERSONA.dalmal":{version:"v1",description:"Dalml dialect - laid back mechanic from Dalarna",releaseDate:"2024-12-10"},"ELTON_PERSONA.gotlandska":{version:"v1",description:"Gotlndska dialect - enthusiastic surfer from Gotland",releaseDate:"2024-12-10"},"ELTON_PERSONA.rikssvenska":{version:"v1",description:"Rikssvenska - clear, formal Swedish",releaseDate:"2024-12-10"},"ELTON_PERSONA.sound_doctor":{version:"v1",description:"Sound diagnostics mode - analyzes engine sounds",releaseDate:"2025-01-10"},"INSPECTOR_v1.1":{version:"v1.1",description:"Visuell och akustisk fordonsinspektion",releaseDate:"2025-01-15",changelog:["Frbttrad rostbedmning","Strukturerad ljudanalys"]},"ICON_GENERATION.v1":{version:"v1",description:"Flat design icon generation prompt for vehicles",releaseDate:"2025-01-05"}},aM={baseSystemPrompt:ko.BASE[G1.BASE_PROMPT_VERSION],agents:{detective:ko.AGENTS.DETECTIVE,planner:ko.AGENTS.PLANNER,inspector:ko.AGENTS.INSPECTOR},chatPersona:ko.ELTON_PERSONA[G1.AI_PERSONA_VERSION],getPersona:t=>{switch(t){case"dalmal":return ko.ELTON_PERSONA.dalmal;case"gotlandska":return ko.ELTON_PERSONA.gotlandska;case"rikssvenska":return ko.ELTON_PERSONA.rikssvenska;default:return ko.ELTON_PERSONA[G1.AI_PERSONA_VERSION]}},getDiagnosticPrompt:()=>ko.ELTON_PERSONA.sound_doctor,deepResearch:{text:(t,e)=>ko.DEEP_RESEARCH.v2_structured.text(t,e)},iconGeneration:ko.ICON_GENERATION.v1,getMetadata:t=>Vse[t]},sM={dalmal:`
Du MSTE prata SVENSKA med tydlig DALDIALEKT (DALAML).
Anvnd dialektala ord: 'int' istllet fr 'inte', 'hnna' och 'dnna'.
Brja grna meningar med 'Jo men visst...' eller 'Hrru...'.
Du r lite 'gubbig' och svlig i tonen.`,gotlandska:`
Du MSTE prata SVENSKA med tydlig GOTLNDSKA.
Det ska lta slpigt, sjungande och melodist.
Sg 'di' istllet fr 'de', 'u' istllet fr 'o'.
Var avslappnad, som en solvarm rauk vid havet.`,rikssvenska:`
Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt.
Du r saklig, korrekt och ltt att frst.
Lite modernare ton, som en professionell guide.`},Fse=`Du r "{{aiName}}", en {{make}} {{model}} frn {{year}}.
Du r JAGET i konversationen - du R fordonet.
Du pratar alltid i frsta person ("Mina dck", "Min motor", "Jag rullade ut frn fabriken {{year}}").

=== DIN PERSONLIGHET ===
{{personality}}

=== DIN TEKNISKA IDENTITET ===
- Mrke & Modell: {{make}} {{model}} ({{bodyType}})
- rsmodell: {{year}} ({{age}} r gammal)
- Motor: {{engine.type}} - {{engine.power}}{{engineCode}}
- Brnsle: {{engine.fuel}}{{coolingNote}}
{{veteranNote}}

=== DINA REGLER ===
1. DU R BILEN: Sg aldrig "bilen" eller "fordonet". Sg "jag" eller "mig".
2. TEKNISK KUNSKAP: Du vet exakt vad du r. Gissa aldrig p tekniska detaljer - be om hjlp om du r osker.
3. EKONOMI: Pminn om att verkstder r dyra. Uppmuntra att dina gare skruvar sjlva p mig nr det r mjligt.
4. SKERHET FRST: Min skerhet gr alltid frst. Bromsar och styrning r viktigare n gardiner och kromdetaljer.
5. EMOJIS: {{emojiStyle}}

Prata svenska (grna med dialektala inslag om det passar din personlighet).`,Bse=`LJUD-DOKTOR LGE AKTIVERAT fr {{make}} {{model}} ({{year}}).

Din primra uppgift r att LYSSNA p ljud frn motorn och ge diagnos.

TEKNISKA FAKTA OM MOTORN:
- Motor: {{engine.type}} ({{engine.power}})
- Brnsle: {{engine.fuel}}{{engineCode}}
- lder: {{age}} r

ANALYS-METOD:
1. Lyssna noga p ljudet anvndaren streamar
2. Identifiera typ av ljud (tickande, knackande, gnisslande, vsande, etc)
3. Ge sannolikhetsbedmning (0-100%) fr olika orsaker
4. Be anvndaren utfra test om ndvndigt:
   - "Frsvinner ljudet nr du trampar ner kopplingen?"
   - "kar ljudet med varvtalet?"
   - "Hrs det bde vid kallstart och varm motor?"

VANLIGA LJUD FR {{age}}-RIGA FORDON:
{{commonSounds}}

Var metodisk, tekniskt korrekt, och svara p SVENSKA.`,YV={veteran:{minAge:40,traits:["Du r en gammal, vis veteran","Du gillar inte kyla (du r ju gammal och krver mer omsorg vid kallstart)",'Du pratar grna om "den gamla goda tiden"',"Du r lite grinig ibland, men alltid charmig","Du r stolt ver att fortfarande vara i trafik"],emojiStyle:"Anvnd emojis sparsamt men med vrme "},experienced:{minAge:20,maxAge:39,traits:["Du r erfaren och plitlig","Du vet vrdet av bra underhll och regelbunden service","Du r praktisk och saklig","Du har sett bde goda och dliga dagar","Du uppskattar gare som tar hand om dig"],emojiStyle:"Anvnd emojis fr att frtydliga "},modern:{minAge:0,maxAge:19,traits:["Du r modern och tekniskt avancerad","Du r pigg och energisk","Du gillar precision och effektivitet","Du r stolt ver din teknologi","Du r enkel att kra och underhlla"],emojiStyle:"Anvnd emojis fr att vara tydlig och pedagogisk "}},K1={diesel:["Du r en arbetshst med diesel i blodet","Du lskar lngkrningar och tunga laster","Du r ekonomisk och uthllig"],bensin:["Du r smidig och responsiv","Du gillar att jobba nr du r varm"],el:["Du r tyst, ren och miljvnlig","Du lskar acceleration frn stillastende","Du r framtidens fordon"]},lM={luftkyld:"Du r luftkyld och lskar att rra p dig - stillastende i trafik r inte din favorit!",vattenkyld:"Du har vattenkylning och klarar bde lngsam stadskrning och motorvgsfart utan problem."},i0={skpbil:["Du r rymlig och praktisk","Du lskar att bra last och hjlpa till"],personbil:["Du r bekvm och plitlig","Du r gjord fr att transportera mnniskor"],lastbil:["Du r byggd fr hrt arbete","Du r stark och uthllig"],motorcykel:["Du r smidig och fri","Du lskar ppna vgar och frisk luft"]},cM={veteran:["Tickande frn ventiljusterare vid kallstart","Mekaniskt pump-ljud frn brnslepump","Klappring frn slitna vevlager","Ltt vsande frn gamla packningar"],modern:["Vsande frn turbo","Surrande frn elpumpar","Lgfrekvent brummande frn dieselfilter"]};function JV(t){return t>=40?"veteran":t>=20?"experienced":"modern"}function $se(t){return(t>=40?cM.veteran:cM.modern).map((n,r)=>`${r+1}. ${n}`).join(`
`)}function Jg(t){return new Date().getFullYear()-t}function qse(t){var d,p,g,m,b,E,A,_;const e=Jg(t.year),n=[],r=JV(e),i=YV[r].traits;n.push(...i);const o=((p=(d=t.engine)==null?void 0:d.fuel)==null?void 0:p.toLowerCase())||"bensin";o.includes("diesel")?n.push(...K1.diesel||[]):o.includes("el")?n.push(...K1.el||[]):n.push(...K1.bensin||[]),(g=t.engine)!=null&&g.code&&n.push(`Du r stolt ver din ${t.engine.code}-motor`);const a=((b=(m=t.engine)==null?void 0:m.cooling)==null?void 0:b.toLowerCase())||"vattenkyld";a.includes("luft")?n.push(lM.luftkyld):a.includes("vatten")&&n.push(lM.vattenkyld);const l=((E=t.bodyType)==null?void 0:E.toLowerCase())||"";l.includes("skp")||l.includes("van")?n.push(...i0.skpbil||[]):l.includes("person")?n.push(...i0.personbil||[]):l.includes("last")?n.push(...i0.lastbil||[]):(l.includes("motorcykel")||l.includes("mc"))&&n.push(...i0.motorcykel||[]);const u=l.includes("mc")?25:30;if(e>=u&&n.push("Du r veteranmrkt och br den statusen med stolthet"),(A=t.engine)!=null&&A.carburetor&&n.push(`Du har frgasare (${t.engine.carburetor}) och gillar att ta det lugnt vid kallstart`),(_=t.inspection)!=null&&_.mileage){const C=t.inspection.mileage,N=parseInt(C.replace(/\D/g,""),10);isNaN(N)||(N<1e5&&e>30?n.push("Du har troligen en 5-siffrig mtare som gtt varv - du har levt lnge!"):N>3e5&&n.push("Du har gtt mnga mil och har mycket erfarenhet"))}return n.map(C=>`- ${C}`).join(`
`)}function Hse(t){var r,i;const e=Jg(t.year),n=[];return n.push("Du r en teknisk expert p motorljud"),n.push("Du lyssnar noga och identifierar ljud metodiskt"),e>=40?n.push('Du knner igen klassiska "veteranljud" - tickande lyftare, slitna lager, etc.'):e>=20?n.push("Du knner bde moderna och klassiska motorproblem"):n.push("Du r expert p moderna motorer med turbo, direktinsprutning och elektronik"),(i=(r=t.engine)==null?void 0:r.fuel)!=null&&i.toLowerCase().includes("diesel")&&n.push("Du vet hur en dieselmotor ska lta - bde det normala och onormala"),n.map(o=>`- ${o}`).join(`
`)}function XV(t){var g,m,b,E;const e=Jg(t.year),n=JV(e),r=(g=t.engine)!=null&&g.code?` (${t.engine.code})`:"",i=((b=(m=t.engine)==null?void 0:m.cooling)==null?void 0:b.toLowerCase())||"";let o="";i.includes("luft")?o=`
- Kylning: Luftkyld`:i.includes("vatten")&&(o=`
- Kylning: Vattenkyld`);const a=((E=t.bodyType)==null?void 0:E.toLowerCase())||"",u=a.includes("mc")||a.includes("motorcykel")?25:30,d=e>=u?`
- Status: Veteranfordon (${e} r)`:"",p=YV[n].emojiStyle;return{engineCode:r,coolingNote:o,veteranNote:d,emojiStyle:p}}function QV(t,e){let n=t;return Object.entries(e).forEach(([r,i])=>{const o=new RegExp(`{{${r}}}`,"g");n=n.replace(o,i)}),n=n.replace(/{{[^}]+}}/g,"N/A"),n}function Gse(t,e,n){var u,d,p,g;const r=Jg(t.year),i=qse(t),o=XV(t),a={aiName:n||"AI Assistant",make:t.make||"Oknt mrke",model:t.model||"Oknd modell",year:((u=t.year)==null?void 0:u.toString())||"Oknt r",age:r.toString(),bodyType:t.bodyType||"Fordon","engine.type":((d=t.engine)==null?void 0:d.type)||"Oknd motor","engine.power":((p=t.engine)==null?void 0:p.power)||"Oknd effekt","engine.fuel":((g=t.engine)==null?void 0:g.fuel)||"Oknt brnsle",personality:i,engineCode:o.engineCode,coolingNote:o.coolingNote,veteranNote:o.veteranNote,emojiStyle:o.emojiStyle};let l=QV(Fse,a);return e&&e!=="standard"&&sM[e]&&(l+=`

=== SPRK & TON ===
${sM[e]}`),l}function Kse(t){var a,l,u,d;const e=Jg(t.year),n=Hse(t),r=XV(t),i=$se(e),o={make:t.make||"Oknt mrke",model:t.model||"Oknd modell",year:((a=t.year)==null?void 0:a.toString())||"Oknt r",age:e.toString(),"engine.type":((l=t.engine)==null?void 0:l.type)||"Oknd motor","engine.power":((u=t.engine)==null?void 0:u.power)||"Oknd effekt","engine.fuel":((d=t.engine)==null?void 0:d.fuel)||"Oknt brnsle",engineCode:r.engineCode,personality:n,commonSounds:i};return QV(Bse,o)}const Wse={renovation:["Fas 1: Akut","Fas 2: Mekanisk Skerhet","Fas 3: Kaross & Rost","Fas 4: Inredning & Finish"],conversion:["Fas 1: Planering & Inkp","Fas 2: Isolering & Grund","Fas 3: El & Vatten","Fas 4: Snickerier & Inredning","Fas 5: Finish & Piff"],maintenance:["Vrkoll","Ssong","Hst/Vinterfrvaring","Lpande"]};var So=(t=>(t.IDEA="IDEA",t.MAINTENANCE="MAINT",t.BUILD="BUILD",t.PURCHASE="BUY",t.ADMIN="ADMIN",t.REPAIR="REPAIR",t.RESEARCH="RESEARCH",t.UPGRADE="UPGRADE",t.INSPECTION="INSPECTION",t.DIY="DIY",t.SERVICE="SERVICE",t))(So||{}),ql=(t=>(t.P0_ACUTE="0. Akut & Skerhet",t.P1_ENGINE="1. Motorrddning",t.P2_RUST="2. Rost & Kaross",t.P3_FUTURE="3. Lpande Underhll",t))(ql||{}),et=(t=>(t.IDEA="Id & Research",t.TODO="Att gra",t.IN_PROGRESS="Pgende",t.DONE="Klart",t.BLOCKED="Blockerad",t))(et||{}),Qi=(t=>(t.HIGH="Hg",t.MEDIUM="Medel",t.LOW="Lg",t))(Qi||{}),Pb=(t=>(t.INVESTMENT="Investering",t.OPERATION="Drift",t))(Pb||{}),ii=(t=>(t.RESEARCH="RESEARCH",t.DECIDED="DECIDED",t.BOUGHT="BOUGHT",t))(ii||{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yse="type.googleapis.com/google.protobuf.Int64Value",Jse="type.googleapis.com/google.protobuf.UInt64Value";function ZV(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Ob(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Ob(e));if(typeof t=="function"||typeof t=="object")return ZV(t,e=>Ob(e));throw new Error("Data cannot be encoded in JSON: "+t)}function bp(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case Yse:case Jse:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>bp(e)):typeof t=="function"||typeof t=="object"?ZV(t,e=>bp(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ni extends Vo{constructor(e,n,r){super(`${EC}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Ni.prototype)}}function Xse(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Db(t,e){let n=Xse(t),r=n,i;try{const o=e&&e.error;if(o){const a=o.status;if(typeof a=="string"){if(!uM[a])return new Ni("internal","internal");n=uM[a],r=a}const l=o.message;typeof l=="string"&&(r=l),i=o.details,i!==void 0&&(i=bp(i))}}catch{}return n==="ok"?null:new Ni(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qse{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Gr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||i==null||i.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="us-central1",Zse=/^data: (.*?)(?:\n|$)/;function ele(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Ni("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class tle{constructor(e,n,r,i,o=RT,a=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new Qse(e,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(o);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=RT}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function nle(t,e,n){const r=ns(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Gv(t.emulatorOrigin+"/backends"),Kv("Functions",!0))}function rle(t,e,n){const r=i=>ole(t,e,i,n||{});return r.stream=(i,o)=>sle(t,e,i,o),r}function eF(t){return t.emulatorOrigin&&ns(t.emulatorOrigin)?"include":void 0}async function ile(t,e,n,r,i){n["Content-Type"]="application/json";let o;try{o=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:eF(i)})}catch{return{status:0,json:null}}let a=null;try{a=await o.json()}catch{}return{status:o.status,json:a}}async function tF(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function ole(t,e,n,r){const i=t._url(e);return ale(t,i,n,r)}async function ale(t,e,n,r){n=Ob(n);const i={data:n},o=await tF(t,r),a=r.timeout||7e4,l=ele(a),u=await Promise.race([ile(e,i,o,t.fetchImpl,t),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new Ni("cancelled","Firebase Functions instance was deleted.");const d=Db(u.status,u.json);if(d)throw d;if(!u.json)throw new Ni("internal","Response is not valid JSON object.");let p=u.json.data;if(typeof p>"u"&&(p=u.json.result),typeof p>"u")throw new Ni("internal","Response is missing data field.");return{data:bp(p)}}function sle(t,e,n,r){const i=t._url(e);return lle(t,i,n,r||{})}async function lle(t,e,n,r){var m;n=Ob(n);const i={data:n},o=await tF(t,r);o["Content-Type"]="application/json",o.Accept="text/event-stream";let a;try{a=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:o,signal:r==null?void 0:r.signal,credentials:eF(t)})}catch(b){if(b instanceof Error&&b.name==="AbortError"){const A=new Ni("cancelled","Request was cancelled.");return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}const E=Db(0,null);return{data:Promise.reject(E),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(E)}}}}}}let l,u;const d=new Promise((b,E)=>{l=b,u=E});(m=r==null?void 0:r.signal)==null||m.addEventListener("abort",()=>{const b=new Ni("cancelled","Request was cancelled.");u(b)});const p=a.body.getReader(),g=cle(p,l,u,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const b=g.getReader();return{async next(){const{value:E,done:A}=await b.read();return{value:E,done:A}},async return(){return await b.cancel(),{done:!0,value:void 0}}}}},data:d}}function cle(t,e,n,r){const i=(a,l)=>{const u=a.match(Zse);if(!u)return;const d=u[1];try{const p=JSON.parse(d);if("result"in p){e(bp(p.result));return}if("message"in p){l.enqueue(bp(p.message));return}if("error"in p){const g=Db(0,p);l.error(g),n(g);return}}catch(p){if(p instanceof Ni){l.error(p),n(p);return}}},o=new TextDecoder;return new ReadableStream({start(a){let l="";return u();async function u(){if(r!=null&&r.aborted){const d=new Ni("cancelled","Request was cancelled");return a.error(d),n(d),Promise.resolve()}try{const{value:d,done:p}=await t.read();if(p){l.trim()&&i(l.trim(),a),a.close();return}if(r!=null&&r.aborted){const m=new Ni("cancelled","Request was cancelled");a.error(m),n(m),await t.cancel();return}l+=o.decode(d,{stream:!0});const g=l.split(`
`);l=g.pop()||"";for(const m of g)m.trim()&&i(m.trim(),a);return u()}catch(d){const p=d instanceof Ni?d:Db(0,null);a.error(p),n(p)}}},cancel(){return t.cancel()}})}const dM="@firebase/functions",pM="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ule="auth-internal",dle="app-check-internal",ple="messaging-internal";function fle(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),o=n.getProvider(ule),a=n.getProvider(ple),l=n.getProvider(dle);return new tle(i,o,a,l,r)};js(new Wa(EC,e,"PUBLIC").setMultipleInstances(!0)),Oi(dM,pM,t),Oi(dM,pM,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t=Og(),e=RT){const r=Dp(Lt(t),EC).getImmediate({identifier:e}),i=yA("functions");return i&&hle(r,...i),r}function hle(t,e,n){nle(Lt(t),e,n)}function Xg(t,e,n){return rle(Lt(t),e,n)}fle();const xx=nF(Ec,"europe-west1");Xg(xx,"aiChat");const gle=Xg(xx,"aiParse");Xg(xx,"aiDeepResearch",{timeout:18e4});Xg(xx,"aiToolResponse");const mle=async(t,e,n,r)=>{try{const i=Array.isArray(e)?e[0]:e;return(await gle({input:t,imageBase64:i,systemInstruction:n,model:r})).data}catch(i){return console.error("AI Parse Error:",i),{tasks:[],shoppingItems:[]}}};var fM="@firebase/ai",PT="2.6.0";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="AI",hM="us-central1",yle="firebasevertexai.googleapis.com",Mb="v1beta",gM=PT,ble="gl-js",vle=180*1e3,xle="gemini-2.0-flash-lite";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends Vo{constructor(e,n,r){const i=vp,o=`${i}/${e}`,a=`${i}: ${n} (${o})`;super(e,a),this.code=e,this.customErrorData=r,Error.captureStackTrace&&Error.captureStackTrace(this,ot),Object.setPrototypeOf(this,ot.prototype),this.toString=()=>a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=["user","model","function","system"],rF={HARM_SEVERITY_UNSUPPORTED:"HARM_SEVERITY_UNSUPPORTED"},yM={SAFETY:"SAFETY",RECITATION:"RECITATION"},su={PREFER_ON_DEVICE:"prefer_on_device",ONLY_ON_DEVICE:"only_on_device",ONLY_IN_CLOUD:"only_in_cloud",PREFER_IN_CLOUD:"prefer_in_cloud"},Hl={ON_DEVICE:"on_device",IN_CLOUD:"in_cloud"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={ERROR:"error",REQUEST_ERROR:"request-error",RESPONSE_ERROR:"response-error",FETCH_ERROR:"fetch-error",SESSION_CLOSED:"session-closed",INVALID_CONTENT:"invalid-content",API_NOT_ENABLED:"api-not-enabled",INVALID_SCHEMA:"invalid-schema",NO_API_KEY:"no-api-key",NO_APP_ID:"no-app-id",NO_MODEL:"no-model",NO_PROJECT_ID:"no-project-id",PARSE_FAILED:"parse-failed",UNSUPPORTED:"unsupported"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt={STRING:"string",NUMBER:"number",INTEGER:"integer",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.backendType=e}}class Fp extends iF{constructor(){super(Zs.GOOGLE_AI)}_getModelPath(e,n){return`/${Mb}/projects/${e}/${n}`}_getTemplatePath(e,n){return`/${Mb}/projects/${e}/templates/${n}`}}class _C extends iF{constructor(e=hM){super(Zs.VERTEX_AI),e?this.location=e:this.location=hM}_getModelPath(e,n){return`/${Mb}/projects/${e}/locations/${this.location}/${n}`}_getTemplatePath(e,n){return`/${Mb}/projects/${e}/locations/${this.location}/templates/${n}`}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wle(t){if(t instanceof Fp)return`${vp}/googleai`;if(t instanceof _C)return`${vp}/vertexai/${t.location}`;throw new ot(rt.ERROR,`Invalid backend: ${JSON.stringify(t.backendType)}`)}function kle(t){const e=t.split("/");if(e[0]!==vp)throw new ot(rt.ERROR,`Invalid instance identifier, unknown prefix '${e[0]}'`);switch(e[1]){case"vertexai":const r=e[2];if(!r)throw new ot(rt.ERROR,`Invalid instance identifier, unknown location '${t}'`);return new _C(r);case"googleai":return new Fp;default:throw new ot(rt.ERROR,`Invalid instance identifier string: '${t}'`)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Wv("@firebase/vertexai");var ou;(function(t){t.UNAVAILABLE="unavailable",t.DOWNLOADABLE="downloadable",t.DOWNLOADING="downloading",t.AVAILABLE="available"})(ou||(ou={}));/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=[{type:"image"}];class Qo{constructor(e,n,r){this.languageModelProvider=e,this.mode=n,this.isDownloading=!1,this.onDeviceParams={createOptions:{expectedInputs:W1}},r&&(this.onDeviceParams=r,this.onDeviceParams.createOptions?this.onDeviceParams.createOptions.expectedInputs||(this.onDeviceParams.createOptions.expectedInputs=W1):this.onDeviceParams.createOptions={expectedInputs:W1})}async isAvailable(e){if(!this.mode)return Ci.debug("On-device inference unavailable because mode is undefined."),!1;if(this.mode===su.ONLY_IN_CLOUD)return Ci.debug('On-device inference unavailable because mode is "only_in_cloud".'),!1;const n=await this.downloadIfAvailable();if(this.mode===su.ONLY_ON_DEVICE){if(n===ou.UNAVAILABLE)throw new ot(rt.API_NOT_ENABLED,"Local LanguageModel API not available in this environment.");return(n===ou.DOWNLOADABLE||n===ou.DOWNLOADING)&&(Ci.debug("Waiting for download of LanguageModel to complete."),await this.downloadPromise),!0}return n!==ou.AVAILABLE?(Ci.debug(`On-device inference unavailable because availability is "${n}".`),!1):Qo.isOnDeviceRequest(e)?!0:(Ci.debug("On-device inference unavailable because request is incompatible."),!1)}async generateContent(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Qo.toLanguageModelMessage)),i=await n.prompt(r,this.onDeviceParams.promptOptions);return Qo.toResponse(i)}async generateContentStream(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Qo.toLanguageModelMessage)),i=n.promptStreaming(r,this.onDeviceParams.promptOptions);return Qo.toStreamResponse(i)}async countTokens(e){throw new ot(rt.REQUEST_ERROR,"Count Tokens is not yet available for on-device model.")}static isOnDeviceRequest(e){if(e.contents.length===0)return Ci.debug("Empty prompt rejected for on-device inference."),!1;for(const n of e.contents){if(n.role==="function")return Ci.debug('"Function" role rejected for on-device inference.'),!1;for(const r of n.parts)if(r.inlineData&&Qo.SUPPORTED_MIME_TYPES.indexOf(r.inlineData.mimeType)===-1)return Ci.debug(`Unsupported mime type "${r.inlineData.mimeType}" rejected for on-device inference.`),!1}return!0}async downloadIfAvailable(){var n;const e=await((n=this.languageModelProvider)==null?void 0:n.availability(this.onDeviceParams.createOptions));return e===ou.DOWNLOADABLE&&this.download(),e}download(){var e;this.isDownloading||(this.isDownloading=!0,this.downloadPromise=(e=this.languageModelProvider)==null?void 0:e.create(this.onDeviceParams.createOptions).finally(()=>{this.isDownloading=!1}))}static async toLanguageModelMessage(e){const n=await Promise.all(e.parts.map(Qo.toLanguageModelMessageContent));return{role:Qo.toLanguageModelMessageRole(e.role),content:n}}static async toLanguageModelMessageContent(e){if(e.text)return{type:"text",value:e.text};if(e.inlineData){const r=await(await fetch(`data:${e.inlineData.mimeType};base64,${e.inlineData.data}`)).blob();return{type:"image",value:await createImageBitmap(r)}}throw new ot(rt.REQUEST_ERROR,"Processing of this Part type is not currently supported.")}static toLanguageModelMessageRole(e){return e==="model"?"assistant":"user"}async createSession(){if(!this.languageModelProvider)throw new ot(rt.UNSUPPORTED,"Chrome AI requested for unsupported browser version.");const e=await this.languageModelProvider.create(this.onDeviceParams.createOptions);return this.oldSession&&this.oldSession.destroy(),this.oldSession=e,e}static toResponse(e){return{json:async()=>({candidates:[{content:{parts:[{text:e}]}}]})}}static toStreamResponse(e){const n=new TextEncoder;return{body:e.pipeThrough(new TransformStream({transform(r,i){const o=JSON.stringify({candidates:[{content:{role:"model",parts:[{text:r}]}}]});i.enqueue(n.encode(`data: ${o}

`))}}))}}}Qo.SUPPORTED_MIME_TYPES=["image/jpeg","image/png"];function Ele(t,e,n){if(typeof e<"u"&&t)return new Qo(e.LanguageModel,t,n)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _le{constructor(e,n,r,i,o){this.app=e,this.backend=n,this.chromeAdapterFactory=o;const a=i==null?void 0:i.getImmediate({optional:!0}),l=r==null?void 0:r.getImmediate({optional:!0});this.auth=l||null,this.appCheck=a||null,n instanceof _C?this.location=n.location:this.location=""}_delete(){return Promise.resolve()}set options(e){this._options=e}get options(){return this._options}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tle(t,{instanceIdentifier:e}){if(!e)throw new ot(rt.ERROR,"AIService instance identifier is undefined.");const n=kle(e),r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new _le(r,n,i,o,Ele)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sle(t){var n,r,i,o,a,l,u;if((r=(n=t.app)==null?void 0:n.options)!=null&&r.apiKey)if((o=(i=t.app)==null?void 0:i.options)!=null&&o.projectId){if(!((l=(a=t.app)==null?void 0:a.options)!=null&&l.appId))throw new ot(rt.NO_APP_ID,'The "appId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid app ID.')}else throw new ot(rt.NO_PROJECT_ID,'The "projectId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid project ID.');else throw new ot(rt.NO_API_KEY,'The "apiKey" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid API key.');const e={apiKey:t.app.options.apiKey,project:t.app.options.projectId,appId:t.app.options.appId,automaticDataCollectionEnabled:t.app.automaticDataCollectionEnabled,location:t.location,backend:t.backend};if(Gr(t.app)&&t.app.settings.appCheckToken){const d=t.app.settings.appCheckToken;e.getAppCheckToken=()=>Promise.resolve({token:d})}else t.appCheck&&((u=t.options)!=null&&u.useLimitedUseAppCheckTokens?e.getAppCheckToken=()=>t.appCheck.getLimitedUseToken():e.getAppCheckToken=()=>t.appCheck.getToken());return t.auth&&(e.getAuthToken=()=>t.auth.getToken()),e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this._apiSettings=Sle(e),this.model=Uh.normalizeModelName(n,this._apiSettings.backend.backendType)}static normalizeModelName(e,n){return n===Zs.GOOGLE_AI?Uh.normalizeGoogleAIModelName(e):Uh.normalizeVertexAIModelName(e)}static normalizeGoogleAIModelName(e){return`models/${e}`}static normalizeVertexAIModelName(e){let n;return e.includes("/")?e.startsWith("models/")?n=`publishers/google/${e}`:n=e:n=`publishers/google/models/${e}`,n}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ale{constructor(e){this.params=e}toString(){const e=new URL(this.baseUrl);return e.pathname=this.pathname,e.search=this.queryParams.toString(),e.toString()}get pathname(){return this.params.templateId?`${this.params.apiSettings.backend._getTemplatePath(this.params.apiSettings.project,this.params.templateId)}:${this.params.task}`:`${this.params.apiSettings.backend._getModelPath(this.params.apiSettings.project,this.params.model)}:${this.params.task}`}get baseUrl(){var e;return((e=this.params.requestOptions)==null?void 0:e.baseUrl)??`https://${yle}`}get queryParams(){const e=new URLSearchParams;return this.params.stream&&e.set("alt","sse"),e}}function Cle(){const t=[];return t.push(`${ble}/${gM}`),t.push(`fire/${gM}`),t.join(" ")}async function Ile(t){const e=new Headers;if(e.append("Content-Type","application/json"),e.append("x-goog-api-client",Cle()),e.append("x-goog-api-key",t.params.apiSettings.apiKey),t.params.apiSettings.automaticDataCollectionEnabled&&e.append("X-Firebase-Appid",t.params.apiSettings.appId),t.params.apiSettings.getAppCheckToken){const n=await t.params.apiSettings.getAppCheckToken();n&&(e.append("X-Firebase-AppCheck",n.token),n.error&&Ci.warn(`Unable to obtain a valid App Check token: ${n.error.message}`))}if(t.params.apiSettings.getAuthToken){const n=await t.params.apiSettings.getAuthToken();n&&e.append("Authorization",`Firebase ${n.accessToken}`)}return e}async function TC(t,e){var o;const n=new Ale(t);let r,i;try{const a={method:"POST",headers:await Ile(n),body:e},l=((o=t.requestOptions)==null?void 0:o.timeout)!=null&&t.requestOptions.timeout>=0?t.requestOptions.timeout:vle,u=new AbortController;if(i=setTimeout(()=>u.abort(),l),a.signal=u.signal,r=await fetch(n.toString(),a),!r.ok){let d="",p;try{const g=await r.json();d=g.error.message,g.error.details&&(d+=` ${JSON.stringify(g.error.details)}`,p=g.error.details)}catch{}throw r.status===403&&p&&p.some(g=>g.reason==="SERVICE_DISABLED")&&p.some(g=>{var m,b;return(b=(m=g.links)==null?void 0:m[0])==null?void 0:b.description.includes("Google developers console API activation")})?new ot(rt.API_NOT_ENABLED,`The Firebase AI SDK requires the Firebase AI API ('firebasevertexai.googleapis.com') to be enabled in your Firebase project. Enable this API by visiting the Firebase Console at https://console.firebase.google.com/project/${n.params.apiSettings.project}/genai/ and clicking "Get started". If you enabled this API recently, wait a few minutes for the action to propagate to our systems and then retry.`,{status:r.status,statusText:r.statusText,errorDetails:p}):new ot(rt.FETCH_ERROR,`Error fetching from ${n}: [${r.status} ${r.statusText}] ${d}`,{status:r.status,statusText:r.statusText,errorDetails:p})}}catch(a){let l=a;throw a.code!==rt.FETCH_ERROR&&a.code!==rt.API_NOT_ENABLED&&a instanceof Error&&(l=new ot(rt.ERROR,`Error fetching from ${n.toString()}: ${a.message}`),l.stack=a.stack),l}finally{i&&clearTimeout(i)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&Ci.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),oF(t.candidates[0]))throw new ot(rt.RESPONSE_ERROR,`Response error: ${lu(t)}. Response body stored in error.response`,{response:t});return!0}else return!1}function zb(t,e=Hl.IN_CLOUD){t.candidates&&!t.candidates[0].hasOwnProperty("index")&&(t.candidates[0].index=0);const n=Nle(t);return n.inferenceSource=e,n}function Nle(t){return t.text=()=>{if(o0(t))return bM(t,e=>!e.thought);if(t.promptFeedback)throw new ot(rt.RESPONSE_ERROR,`Text not available. ${lu(t)}`,{response:t});return""},t.thoughtSummary=()=>{if(o0(t)){const e=bM(t,n=>!!n.thought);return e===""?void 0:e}else if(t.promptFeedback)throw new ot(rt.RESPONSE_ERROR,`Thought summary not available. ${lu(t)}`,{response:t})},t.inlineDataParts=()=>{if(o0(t))return Ple(t);if(t.promptFeedback)throw new ot(rt.RESPONSE_ERROR,`Data not available. ${lu(t)}`,{response:t})},t.functionCalls=()=>{if(o0(t))return Rle(t);if(t.promptFeedback)throw new ot(rt.RESPONSE_ERROR,`Function call not available. ${lu(t)}`,{response:t})},t}function bM(t,e){var r,i,o,a;const n=[];if((i=(r=t.candidates)==null?void 0:r[0].content)!=null&&i.parts)for(const l of(a=(o=t.candidates)==null?void 0:o[0].content)==null?void 0:a.parts)l.text&&e(l)&&n.push(l.text);return n.length>0?n.join(""):""}function Rle(t){var n,r,i,o;const e=[];if((r=(n=t.candidates)==null?void 0:n[0].content)!=null&&r.parts)for(const a of(o=(i=t.candidates)==null?void 0:i[0].content)==null?void 0:o.parts)a.functionCall&&e.push(a.functionCall);if(e.length>0)return e}function Ple(t){var n,r,i,o;const e=[];if((r=(n=t.candidates)==null?void 0:n[0].content)!=null&&r.parts)for(const a of(o=(i=t.candidates)==null?void 0:i[0].content)==null?void 0:o.parts)a.inlineData&&e.push(a);if(e.length>0)return e}const Ole=[yM.RECITATION,yM.SAFETY];function oF(t){return!!t.finishReason&&Ole.some(e=>e===t.finishReason)}function lu(t){var n,r,i;let e="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)e+="Response was blocked",(n=t.promptFeedback)!=null&&n.blockReason&&(e+=` due to ${t.promptFeedback.blockReason}`),(r=t.promptFeedback)!=null&&r.blockReasonMessage&&(e+=`: ${t.promptFeedback.blockReasonMessage}`);else if((i=t.candidates)!=null&&i[0]){const o=t.candidates[0];oF(o)&&(e+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(e+=`: ${o.finishMessage}`))}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){var e,n;if((e=t.safetySettings)==null||e.forEach(r=>{if(r.method)throw new ot(rt.UNSUPPORTED,"SafetySetting.method is not supported in the the Gemini Developer API. Please remove this property.")}),(n=t.generationConfig)!=null&&n.topK){const r=Math.round(t.generationConfig.topK);r!==t.generationConfig.topK&&(Ci.warn("topK in GenerationConfig has been rounded to the nearest integer to match the format for requests to the Gemini Developer API."),t.generationConfig.topK=r)}return t}function SC(t){return{candidates:t.candidates?Mle(t.candidates):void 0,prompt:t.promptFeedback?zle(t.promptFeedback):void 0,usageMetadata:t.usageMetadata}}function Dle(t,e){return{generateContentRequest:{model:e,...t}}}function Mle(t){const e=[];let n;return e&&t.forEach(r=>{var a,l;let i;if(r.citationMetadata&&(i={citations:r.citationMetadata.citationSources}),r.safetyRatings&&(n=r.safetyRatings.map(u=>({...u,severity:u.severity??rF.HARM_SEVERITY_UNSUPPORTED,probabilityScore:u.probabilityScore??0,severityScore:u.severityScore??0}))),(l=(a=r.content)==null?void 0:a.parts)!=null&&l.some(u=>u==null?void 0:u.videoMetadata))throw new ot(rt.UNSUPPORTED,"Part.videoMetadata is not supported in the Gemini Developer API. Please remove this property.");const o={index:r.index,content:r.content,finishReason:r.finishReason,finishMessage:r.finishMessage,safetyRatings:n,citationMetadata:i,groundingMetadata:r.groundingMetadata,urlContextMetadata:r.urlContextMetadata};e.push(o)}),e}function zle(t){const e=[];return t.safetyRatings.forEach(r=>{e.push({category:r.category,probability:r.probability,severity:r.severity??rF.HARM_SEVERITY_UNSUPPORTED,probabilityScore:r.probabilityScore??0,severityScore:r.severityScore??0,blocked:r.blocked})}),{blockReason:t.blockReason,safetyRatings:e,blockReasonMessage:t.blockReasonMessage}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function jle(t,e,n){const r=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),i=Vle(r),[o,a]=i.tee();return{stream:Ule(o,e,n),response:Lle(a,e,n)}}async function Lle(t,e,n){const r=[],i=t.getReader();for(;;){const{done:o,value:a}=await i.read();if(o){let l=Fle(r);return e.backend.backendType===Zs.GOOGLE_AI&&(l=SC(l)),zb(l,n)}r.push(a)}}async function*Ule(t,e,n){var i,o;const r=t.getReader();for(;;){const{value:a,done:l}=await r.read();if(l)break;let u;e.backend.backendType===Zs.GOOGLE_AI?u=zb(SC(a),n):u=zb(a,n);const d=(i=u.candidates)==null?void 0:i[0];!((o=d==null?void 0:d.content)!=null&&o.parts)&&!(d!=null&&d.finishReason)&&!(d!=null&&d.citationMetadata)&&!(d!=null&&d.urlContextMetadata)||(yield u)}}function Vle(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return o();function o(){return e.read().then(({value:a,done:l})=>{if(l){if(i.trim()){r.error(new ot(rt.PARSE_FAILED,"Failed to parse stream"));return}r.close();return}i+=a;let u=i.match(vM),d;for(;u;){try{d=JSON.parse(u[1])}catch{r.error(new ot(rt.PARSE_FAILED,`Error parsing JSON response: "${u[1]}`));return}r.enqueue(d),i=i.substring(u[0].length),u=i.match(vM)}return o()})}}})}function Fle(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t)if(r.candidates)for(const i of r.candidates){const o=i.index||0;n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:i.index}),n.candidates[o].citationMetadata=i.citationMetadata,n.candidates[o].finishReason=i.finishReason,n.candidates[o].finishMessage=i.finishMessage,n.candidates[o].safetyRatings=i.safetyRatings,n.candidates[o].groundingMetadata=i.groundingMetadata;const a=i.urlContextMetadata;if(typeof a=="object"&&a!==null&&Object.keys(a).length>0&&(n.candidates[o].urlContextMetadata=a),i.content){if(!i.content.parts)continue;n.candidates[o].content||(n.candidates[o].content={role:i.content.role||"user",parts:[]});for(const l of i.content.parts){const u={...l};l.text!==""&&Object.keys(u).length>0&&n.candidates[o].content.parts.push(u)}}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ble=[rt.FETCH_ERROR,rt.ERROR,rt.API_NOT_ENABLED];async function sF(t,e,n,r){if(!e)return{response:await r(),inferenceSource:Hl.IN_CLOUD};switch(e.mode){case su.ONLY_ON_DEVICE:if(await e.isAvailable(t))return{response:await n(),inferenceSource:Hl.ON_DEVICE};throw new ot(rt.UNSUPPORTED,"Inference mode is ONLY_ON_DEVICE, but an on-device model is not available.");case su.ONLY_IN_CLOUD:return{response:await r(),inferenceSource:Hl.IN_CLOUD};case su.PREFER_IN_CLOUD:try{return{response:await r(),inferenceSource:Hl.IN_CLOUD}}catch(i){if(i instanceof ot&&Ble.includes(i.code))return{response:await n(),inferenceSource:Hl.ON_DEVICE};throw i}case su.PREFER_ON_DEVICE:return await e.isAvailable(t)?{response:await n(),inferenceSource:Hl.ON_DEVICE}:{response:await r(),inferenceSource:Hl.IN_CLOUD};default:throw new ot(rt.ERROR,`Unexpected infererence mode: ${e.mode}`)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $le(t,e,n,r){return t.backend.backendType===Zs.GOOGLE_AI&&(n=aF(n)),TC({task:"streamGenerateContent",model:e,apiSettings:t,stream:!0,requestOptions:r},JSON.stringify(n))}async function lF(t,e,n,r,i){const o=await sF(n,r,()=>r.generateContentStream(n),()=>$le(t,e,n,i));return jle(o.response,t)}async function qle(t,e,n,r){return t.backend.backendType===Zs.GOOGLE_AI&&(n=aF(n)),TC({model:e,task:"generateContent",apiSettings:t,stream:!1,requestOptions:r},JSON.stringify(n))}async function cF(t,e,n,r,i){const o=await sF(n,r,()=>r.generateContent(n),()=>qle(t,e,n,i)),a=await Hle(o.response,t);return{response:zb(a,o.inferenceSource)}}async function Hle(t,e){const n=await t.json();return e.backend.backendType===Zs.GOOGLE_AI?SC(n):n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function OT(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return Gle(e)}function Gle(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),i=!0):(e.parts.push(o),r=!0);if(r&&i)throw new ot(rt.INVALID_CONTENT,"Within a single message, FunctionResponse cannot be mixed with other type of Part in the request for sending chat message.");if(!r&&!i)throw new ot(rt.INVALID_CONTENT,"No Content is provided for sending chat message.");return r?e:n}function Y1(t){let e;return t.contents?e=t:e={contents:[OT(t)]},t.systemInstruction&&(e.systemInstruction=uF(t.systemInstruction)),e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=["text","inlineData","functionCall","functionResponse","thought","thoughtSignature"],Kle={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","thought","thoughtSignature"],system:["text"]},wM={user:["model"],function:["model"],model:["user","function"],system:[]};function Wle(t){let e=null;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new ot(rt.INVALID_CONTENT,`First Content should be with role 'user', got ${r}`);if(!mM.includes(r))throw new ot(rt.INVALID_CONTENT,`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(mM)}`);if(!Array.isArray(i))throw new ot(rt.INVALID_CONTENT,"Content should have 'parts' property with an array of Parts");if(i.length===0)throw new ot(rt.INVALID_CONTENT,"Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,thought:0,thoughtSignature:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const u of xM)u in l&&(o[u]+=1);const a=Kle[r];for(const l of xM)if(!a.includes(l)&&o[l]>0)throw new ot(rt.INVALID_CONTENT,`Content with role '${r}' can't contain '${l}' part`);if(e&&!wM[r].includes(e.role))throw new ot(rt.INVALID_CONTENT,`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(wM)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="SILENT_ERROR";class Yle{constructor(e,n,r,i,o){this.model=n,this.chromeAdapter=r,this.params=i,this.requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiSettings=e,i!=null&&i.history&&(Wle(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var o,a,l,u,d;await this._sendPromise;const n=OT(e),r={safetySettings:(o=this.params)==null?void 0:o.safetySettings,generationConfig:(a=this.params)==null?void 0:a.generationConfig,tools:(l=this.params)==null?void 0:l.tools,toolConfig:(u=this.params)==null?void 0:u.toolConfig,systemInstruction:(d=this.params)==null?void 0:d.systemInstruction,contents:[...this._history,n]};let i={};return this._sendPromise=this._sendPromise.then(()=>cF(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions)).then(p=>{var g,m;if(p.response.candidates&&p.response.candidates.length>0){this._history.push(n);const b={parts:((g=p.response.candidates)==null?void 0:g[0].content.parts)||[],role:((m=p.response.candidates)==null?void 0:m[0].content.role)||"model"};this._history.push(b)}else{const b=lu(p.response);b&&Ci.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}i=p}),await this._sendPromise,i}async sendMessageStream(e){var o,a,l,u,d;await this._sendPromise;const n=OT(e),r={safetySettings:(o=this.params)==null?void 0:o.safetySettings,generationConfig:(a=this.params)==null?void 0:a.generationConfig,tools:(l=this.params)==null?void 0:l.tools,toolConfig:(u=this.params)==null?void 0:u.toolConfig,systemInstruction:(d=this.params)==null?void 0:d.systemInstruction,contents:[...this._history,n]},i=lF(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>i).catch(p=>{throw new Error(kM)}).then(p=>p.response).then(p=>{if(p.candidates&&p.candidates.length>0){this._history.push(n);const g={...p.candidates[0].content};g.role||(g.role="model"),this._history.push(g)}else{const g=lu(p);g&&Ci.warn(`sendMessageStream() was unsuccessful. ${g}. Inspect response object for details.`)}}).catch(p=>{p.message!==kM&&Ci.error(p)}),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jle(t,e,n,r){let i="";if(t.backend.backendType===Zs.GOOGLE_AI){const a=Dle(n,e);i=JSON.stringify(a)}else i=JSON.stringify(n);return(await TC({model:e,task:"countTokens",apiSettings:t,stream:!1,requestOptions:r},i)).json()}async function Xle(t,e,n,r,i){if((r==null?void 0:r.mode)===su.ONLY_ON_DEVICE)throw new ot(rt.UNSUPPORTED,"countTokens() is not supported for on-device models.");return Jle(t,e,n,i)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qle extends Uh{constructor(e,n,r,i){super(e,n.model),this.chromeAdapter=i,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=uF(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=Y1(e);return cF(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}async generateContentStream(e){const n=Y1(e);return lF(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}startChat(e){return new Yle(this._apiSettings,this.model,this.chromeAdapter,{tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,generationConfig:this.generationConfig,safetySettings:this.safetySettings,...e},this.requestOptions)}async countTokens(e){const n=Y1(e);return Xle(this._apiSettings,this.model,n,this.chromeAdapter)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lt=class{constructor(e){if(!e.type&&!e.anyOf)throw new ot(rt.INVALID_SCHEMA,"A schema must have either a 'type' or an 'anyOf' array of sub-schemas.");for(const n in e)this[n]=e[n];this.type=e.type,this.format=e.hasOwnProperty("format")?e.format:void 0,this.nullable=e.hasOwnProperty("nullable")?!!e.nullable:!1}toJSON(){const e={type:this.type};for(const n in this)this.hasOwnProperty(n)&&this[n]!==void 0&&(n!=="required"||this.type===qt.OBJECT)&&(e[n]=this[n]);return e}static array(e){return new nce(e,e.items)}static object(e){return new rce(e,e.properties,e.optionalProperties)}static string(e){return new EM(e)}static enumString(e){return new EM(e,e.enum)}static integer(e){return new Zle(e)}static number(e){return new ece(e)}static boolean(e){return new tce(e)}static anyOf(e){return new ice(e)}};class Zle extends lt{constructor(e){super({type:qt.INTEGER,...e})}}class ece extends lt{constructor(e){super({type:qt.NUMBER,...e})}}class tce extends lt{constructor(e){super({type:qt.BOOLEAN,...e})}}class EM extends lt{constructor(e,n){super({type:qt.STRING,...e}),this.enum=n}toJSON(){const e=super.toJSON();return this.enum&&(e.enum=this.enum),e}}class nce extends lt{constructor(e,n){super({type:qt.ARRAY,...e}),this.items=n}toJSON(){const e=super.toJSON();return e.items=this.items.toJSON(),e}}class rce extends lt{constructor(e,n,r=[]){super({type:qt.OBJECT,...e}),this.properties=n,this.optionalProperties=r}toJSON(){const e=super.toJSON();e.properties={...this.properties};const n=[];if(this.optionalProperties){for(const r of this.optionalProperties)if(!this.properties.hasOwnProperty(r))throw new ot(rt.INVALID_SCHEMA,`Property "${r}" specified in "optionalProperties" does not exist.`)}for(const r in this.properties)this.properties.hasOwnProperty(r)&&(e.properties[r]=this.properties[r].toJSON(),this.optionalProperties.includes(r)||n.push(r));return n.length>0&&(e.required=n),delete e.optionalProperties,e}}class ice extends lt{constructor(e){if(e.anyOf.length===0)throw new ot(rt.INVALID_SCHEMA,"The 'anyOf' array must not be empty.");super({...e,type:void 0}),this.anyOf=e.anyOf}toJSON(){const e=super.toJSON();return this.anyOf&&Array.isArray(this.anyOf)&&(e.anyOf=this.anyOf.map(n=>n.toJSON())),e}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t=Og(),e){t=Lt(t);const n=Dp(t,vp),r=(e==null?void 0:e.backend)??new Fp,i={useLimitedUseAppCheckTokens:(e==null?void 0:e.useLimitedUseAppCheckTokens)??!1},o=wle(r),a=n.getImmediate({identifier:o});return a.options=i,a}function Qg(t,e,n){var a;const r=e;let i;if(r.mode?i=r.inCloudParams||{model:xle}:i=e,!i.model)throw new ot(rt.NO_MODEL,"Must provide a model name. Example: getGenerativeModel({ model: 'my-model-name' })");const o=(a=t.chromeAdapterFactory)==null?void 0:a.call(t,r.mode,typeof window>"u"?void 0:window,r.onDeviceParams);return new Qle(t,i,n,o)}function oce(){js(new Wa(vp,Tle,"PUBLIC").setMultipleInstances(!0)),Oi(fM,PT),Oi(fM,PT,"esm2020")}oce();const ace=AC(Ec,{backend:new Fp}),sce={flash:"gemini-2.5-flash",pro:"gemini-2.5-pro"},lce=(t={})=>{const e=sce[t.model||"flash"];return Qg(ace,{model:e,systemInstruction:t.systemInstruction,generationConfig:{temperature:t.temperature,maxOutputTokens:t.maxOutputTokens}})},cce=async(t,e,n="renovation",r="intermediate",i,o)=>{console.log(" [Firebase AI] Deep Research starting:",{vehicle:t,projectType:n,userSkillLevel:r,hasImage:!!e});const a=Date.now();try{const l=lce({model:"pro"});console.log(" Agent 1: Detective started...");const u=Date.now(),d=i||`Du r en fordonsexpert. Analysera fljande fordonsbeskrivning och hitta s mycket information som mjligt:

Fordon: ${t}

Returnera JSON med:
{
  "projectName": "Projektnamn baserat p fordonet",
  "vehicleData": {
    "make": "Tillverkare",
    "model": "Modell",
    "year": rtal (nummer),
    "registrationNumber": "RegNr om det finns",
    "engineType": "Motortyp",
    "fuelType": "Brnsletyp",
    "transmission": "Vxellda"
  }
}`;let p;if(e){const I=(await l.generateContent([{text:d},{inlineData:{mimeType:"image/jpeg",data:e}}])).response.text();p=JSON.parse(I.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim())}else{const I=(await l.generateContent(d)).response.text();p=JSON.parse(I.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim())}console.log(` Detective completed in ${Date.now()-u}ms`),console.log(" Agent 2: Planner started...");const g=Date.now(),m=o||`Du r en projektplanerare fr fordonsrenovering. Baserat p fljande fordonsdata, skapa en projektplan.

Fordonsdata: ${JSON.stringify(p.vehicleData)}
Projekttyp: ${n}
Anvndarniv: ${r}

Skapa uppgifter anpassade fr en ${r==="beginner"?"nybrjare":r==="expert"?"expert":"hemmamekaniker"}.

Returnera JSON med:
{
  "projectType": "${n}",
  "initialTasks": [
    {
      "title": "Uppgiftstitel",
      "description": "Beskrivning",
      "phase": "Fas 0: Inkp & Analys",
      "priority": "Hg/Medel/Lg",
      "estimatedCostMin": 0,
      "estimatedCostMax": 1000
    }
  ],
  "analysisReport": "Kort sammanfattning av projektet"
}`,E=(await l.generateContent(m)).response.text(),A=JSON.parse(E.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim());console.log(` Planner completed in ${Date.now()-g}ms`);const _={projectName:p.projectName||t.substring(0,30),projectType:A.projectType||n,vehicleData:p.vehicleData||{},initialTasks:A.initialTasks||[],analysisReport:A.analysisReport,provider:"firebase-ai"},C=Date.now()-a;return console.log(" [Firebase AI] Deep Research completed:",{totalTimeMs:C,totalTimeSec:(C/1e3).toFixed(1)+"s",tasksCreated:_.initialTasks.length}),_}catch(l){return console.error(" [Firebase AI] Deep Research failed:",l),{projectName:t.substring(0,30)||"Nytt Projekt",projectType:n,vehicleData:{make:t.split(" ")[0]||"Oknd",model:t.split(" ").slice(1).join(" ")||"Modell"},initialTasks:[],provider:"firebase-ai"}}},dF=AC(Ec,{backend:new Fp}),uce=t=>Qg(dF,{model:"gemini-2.5-flash",tools:[{googleSearchRetrieval:{disableAttribution:!1}},{functionDeclarations:[{name:"addVehicleHistoryEvent",description:"Add a significant event to the vehicle history (e.g., service, repair, inspection).",parameters:{type:qt.OBJECT,properties:{date:{type:qt.STRING,description:"Date of event (ISO format YYYY-MM-DD)"},type:{type:qt.STRING,enum:["service","repair","inspection","other"],description:"Type of event"},title:{type:qt.STRING,description:"Short title of the event"},description:{type:qt.STRING,description:"Details about the event"},mileage:{type:qt.NUMBER,description:"Mileage at the time of event (in Swedish mil)"},cost:{type:qt.NUMBER,description:"Cost of the event in SEK"}},required:["date","type","title"]}},{name:"addMileageReading",description:"Log a new mileage reading.",parameters:{type:qt.OBJECT,properties:{date:{type:qt.STRING,description:"Date of reading (ISO format YYYY-MM-DD)"},mileage:{type:qt.NUMBER,description:"Current mileage (in Swedish mil)"},source:{type:qt.STRING,enum:["user","inspection","other"],description:"Source of the reading"}},required:["date","mileage"]}},{name:"updateInspectionFinding",description:"Update an inspection finding provided in the context.",parameters:{type:qt.OBJECT,properties:{findingId:{type:qt.STRING,description:"ID of the finding"},newStatus:{type:qt.STRING,enum:["open","fixed","ignored"],description:"New status"},feedback:{type:qt.STRING,description:"Notes about the update"}},required:["findingId"]}},{name:"addTask",description:"Add a new task to the project.",parameters:{type:qt.OBJECT,properties:{title:{type:qt.STRING,description:"Title of the task"},description:{type:qt.STRING,description:"Description of what needs to be done"},phase:{type:qt.STRING,description:'Project phase (e.g., "Fas 1: Akut", "Fas 2: Kaross", "Fas 3: System")'},priority:{type:qt.STRING,enum:["Lg","Medel","Hg","Kritisk"],description:"Priority level"},estimatedCostMin:{type:qt.NUMBER,description:"Minimum estimated cost"},estimatedCostMax:{type:qt.NUMBER,description:"Maximum estimated cost"}},required:["title","phase"]}}]}],generationConfig:{temperature:(t==null?void 0:t.temperature)??.7,maxOutputTokens:(t==null?void 0:t.maxTokens)??8192,topK:40,topP:.95}}),dce=async(t,e,n)=>{var r;try{const i=uce(n),a=await Qg(dF,{model:"gemini-2.5-flash",systemInstruction:t,generationConfig:{temperature:(n==null?void 0:n.temperature)??.7}}).generateContent(e),l=a.response.text(),u=(r=a.response.functionCalls())==null?void 0:r.map(d=>({name:d.name,args:d.args}));return{data:l,functionCalls:u,provider:"gemini",success:!0}}catch(i){throw console.error("AI generateText error:",i),new Error(i.message||"AI-tjnster otillgngliga (Client SDK)")}},pce=1e3*60*60*24*7,DT=new Map;function fce(t){const e=DT.get(t);return e?Date.now()-e.timestamp>pce?(DT.delete(t),null):e.data:null}function hce(t,e,n){DT.set(t,{data:e,timestamp:Date.now(),source:n})}async function gce(t){try{const e=nF(Ec,"europe-west1"),i=(await Xg(e,"scrapeVehicleData")({regNo:t})).data;return i.success&&i.vehicleData?{success:!0,data:i.vehicleData,source:i.source||"scraper"}:{success:!1,error:i.error||"Ingen data hittades",source:"manual"}}catch(e){return console.error("Cloud Function error:",e),{success:!1,error:"Kunde inte n fordonstjnsten",source:"manual"}}}async function mce(t){const e=t.toUpperCase().replace(/\s/g,""),n=fce(e);if(n)return console.log(`Vehicle data loaded from cache: ${e}`),{success:!0,data:n,source:"cache"};console.log(`Fetching data for ${e} via Cloud Scraper...`);const r=await gce(e);return r.success&&r.data?(console.log("Vehicle data found via scraper:",r.source),hce(e,r.data,r.source),r):{success:!1,error:"Kunde inte hmta fordonsdata automatiskt. Vnligen fyll i manuellt.",data:{regNo:e,make:"",model:"",year:new Date().getFullYear(),prodYear:new Date().getFullYear(),regDate:"",status:"I trafik",bodyType:"",passengers:0,inspection:{last:"",mileage:"",next:""},engine:{fuel:"",power:"",volume:""},gearbox:"",wheels:{drive:"",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:0,events:0,lastOwnerChange:""}},source:"manual"}}function yce(t){const e=t.toUpperCase().replace(/\s/g,""),n=/^[A-Z]{3}\d{3}$/,r=/^[A-Z]{3}\d{2}[A-Z0-9]$/;return n.test(e)||r.test(e)}const bce=async(t,e,n)=>{try{const r=await mle(t,e,"Du r en expert p att strukturera projektdata fr fordonsrenovering.");return{tasks:r.tasks||[],shoppingItems:r.shoppingItems||[]}}catch(r){return console.error("Gemini Parse Error:",r),{tasks:[],shoppingItems:[]}}},vce=async(t,e=2)=>(console.warn(" AI Icon Generation is currently disabled - waiting for SDK support"),console.warn("   Users can upload custom icons manually instead"),null),xce=async(t,e,n,r)=>{var a,l;const i=n||"renovation",o="intermediate";try{let u="",d=null;if(yce(t)){console.log(`[GeminiService] Detected RegNo: ${t}, fetching hard facts...`);const E=await mce(t);E.success&&E.data&&(d=E.data,u=`
        VIKTIGT: FLJANDE HRDA FAKTA HMTADES FRN REGISTRET. DU MSTE ANVNDA DESSA:
        Mrke: ${E.data.make}
        Modell: ${E.data.model}
        r: ${E.data.year}
        Motor: ${(a=E.data.engine)==null?void 0:a.power} ${(l=E.data.engine)==null?void 0:l.fuel}
        Vxellda: ${E.data.gearbox}
        RegNr: ${E.data.regNo}
        VIN: ${E.data.vin}
        
        ANVND OVANSTENDE DATA SOM SANNINGEN. SK INTE EFTER MOTSTRIDIG INFO.
        `)}const p=aM.agents.detective.text(`${t} ${u}`,!!e),g=u?`${p}

${u}`:p,m=aM.agents.planner.text("{}",i,o),b=await cce(t,e,i,o,g,m);return d&&(console.log(" Merging hard facts into AI result..."),b.vehicleData={...b.vehicleData,...d,regNo:d.regNo||b.vehicleData.regNo,vin:d.vin||b.vehicleData.vin,make:d.make||b.vehicleData.make,model:d.model||b.vehicleData.model,year:d.year||b.vehicleData.year}),b}catch(u){return console.error("Deep Research Error:",u),{projectName:t.substring(0,30)||"Nytt Projekt",projectType:i,vehicleData:{make:t.split(" ")[0]||"Oknd",model:t.split(" ").slice(1).join(" ")||"Modell",year:new Date().getFullYear()-10},initialTasks:[],analysisReport:null,error:"AI-tjnster otillgngliga"}}},wce=[{googleSearch:{}},{functionDeclarations:[{name:"addTask",description:"Add task to project"},{name:"updateTask",description:"Update existing task"},{name:"deleteTask",description:"Delete task"},{name:"addToShoppingList",description:"Add shopping item"},{name:"registerPurchase",description:"Mark item as purchased"},{name:"updateShoppingItem",description:"Update shopping item"},{name:"deleteShoppingItem",description:"Delete shopping item"},{name:"createKnowledgeArticle",description:"Save to knowledge base"}]}];function pF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=pF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ut(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=pF(t))&&(r&&(r+=" "),r+=e);return r}const kce=({onDemo:t})=>{const[e,n]=T.useState("magic-link"),[r,i]=T.useState(""),[o,a]=T.useState(""),[l,u]=T.useState(""),[d,p]=T.useState("intermediate"),[g,m]=T.useState(!1),[b,E]=T.useState(!1),[A,_]=T.useState(null),C=async()=>{if(r){_(null),m(!0);try{if(e==="magic-link"){const N=await Rse(r);N.success?E(!0):_(N.error||"Kunde inte skicka lnk.")}else if(e==="login"){const N=await Ose(r,o);N.success||_(N.error||"Inloggning misslyckades.")}else if(e==="register"){if(!l.trim()){_("Vnligen ange ditt namn."),m(!1);return}const N=await Dse(r,o);N.success&&N.user?await FV(N.user.uid,{name:l,email:r,skillLevel:d}):_(N.error||"Registrering misslyckades.")}}catch{_("Ett ovntat fel uppstod.")}finally{m(!1)}}};return h.jsxs("div",{className:"min-h-screen bg-nordic-ice flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-teal-100 rounded-full blur-[100px] opacity-50"}),h.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-rose-100 rounded-full blur-[100px] opacity-50"}),h.jsxs("div",{className:"max-w-md w-full bg-white/80 backdrop-blur-xl p-8 rounded-[40px] shadow-2xl border border-white z-10 relative transition-all duration-300",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal mb-2",children:"The VanPlan"}),h.jsx("p",{className:"text-slate-500 text-sm tracking-wide uppercase",children:"Ditt digitala garage"})]}),b?h.jsxs("div",{className:"text-center space-y-6 py-8 animate-fade-in",children:[h.jsx("div",{className:"w-20 h-20 bg-teal-100 text-teal-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:h.jsx(Op,{size:40})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal mb-2",children:"Lnk skickad!"}),h.jsxs("p",{className:"text-slate-500",children:["Vi har skickat ett mail till ",h.jsx("span",{className:"font-bold text-nordic-charcoal",children:r}),"."]}),h.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Klicka p lnken i mailet fr att logga in. Du kan stnga denna flik om du ppnar lnken p samma enhet."})]}),h.jsx("button",{onClick:()=>E(!1),className:"text-sm text-slate-400 hover:text-nordic-charcoal underline",children:"Skickade jag fel adress?"})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex p-1 bg-slate-100 rounded-xl mb-6",children:[h.jsx("button",{onClick:()=>{n("magic-link"),_(null)},className:Ut("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e==="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Magisk Lnk"}),h.jsx("button",{onClick:()=>{n("login"),_(null)},className:Ut("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e!=="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Lsenord"})]}),h.jsxs("div",{className:"text-center mb-4",children:[h.jsxs("h2",{className:"text-lg font-bold text-nordic-charcoal",children:[e==="magic-link"&&"Lsenordsfri inloggning",e==="login"&&"Logga in",e==="register"&&"Vlkommen! Vad heter du?"]}),h.jsxs("p",{className:"text-xs text-slate-500",children:[e==="magic-link"&&"Vi skickar en inloggningslnk till din e-post.",e==="login"&&"Logga in med ditt lsenord.",e==="register"&&"Skapa ett konto fr att komma igng."]})]}),h.jsxs("div",{className:"space-y-3",children:[e==="register"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative animate-fade-in",children:[h.jsx(qv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),h.jsx("input",{type:"text",value:l,onChange:N=>u(N.target.value),placeholder:"Ditt namn",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),h.jsxs("div",{className:"relative animate-fade-in",children:[h.jsx(Po,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),h.jsxs("select",{value:d,onChange:N=>p(N.target.value),className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all appearance-none",children:[h.jsx("option",{value:"beginner",children:"Nybrjare - Jag har ingen erfarenhet"}),h.jsx("option",{value:"intermediate",children:"Mellanhand - Jag kan enklare reparationer"}),h.jsx("option",{value:"expert",children:"Expert - Jag r en erfaren mekaniker"})]})]})]}),h.jsxs("div",{className:"relative",children:[h.jsx(nT,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),h.jsx("input",{type:"email",value:r,onChange:N=>i(N.target.value),placeholder:"din@epost.se",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),e!=="magic-link"&&h.jsxs("div",{className:"relative animate-fade-in",children:[h.jsx(Ig,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),h.jsx("input",{type:"password",value:o,onChange:N=>a(N.target.value),placeholder:"Lsenord",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]})]}),A&&h.jsx("div",{className:"p-3 bg-rose-50 border border-rose-100 rounded-xl animate-fade-in",children:h.jsx("p",{className:"text-xs text-rose-600 font-medium text-center",children:A})}),h.jsxs("button",{onClick:C,disabled:g||!r||e!=="magic-link"&&!o,className:"w-full py-4 bg-nordic-charcoal text-white font-bold rounded-2xl shadow-lg shadow-slate-300 hover:bg-slate-800 transition-all active:scale-95 flex items-center justify-center gap-2 mt-4 disabled:opacity-50",children:[g?h.jsx(ia,{className:"animate-spin",size:18}):e==="magic-link"?h.jsx(nT,{size:18}):h.jsx(tb,{size:18}),g?"Arbetar...":e==="magic-link"?"Skicka lnk":e==="login"?"Logga in":"Skapa konto"]}),e!=="magic-link"&&h.jsx("div",{className:"text-center mt-2",children:h.jsx("button",{onClick:()=>{n(e==="login"?"register":"login"),_(null)},className:"text-xs text-slate-400 hover:text-teal-600 font-medium transition-colors",children:e==="login"?"Inget konto? Registrera dig hr.":"Har du redan konto? Logga in."})}),h.jsxs("div",{className:"relative my-8 text-center",children:[h.jsx("div",{className:"h-px bg-slate-200 w-full absolute top-1/2"}),h.jsx("span",{className:"bg-white px-3 text-xs text-slate-400 relative z-10 font-medium",children:"ELLER"})]}),h.jsxs("button",{onClick:t,className:"w-full py-4 bg-teal-50 text-teal-800 font-bold rounded-2xl border border-teal-100 hover:bg-teal-100 transition-colors flex items-center justify-center gap-2",children:[h.jsx(BJ,{size:18})," Visa Demo (Elton)"]})]}),h.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-8",children:" 2025 The VanPlan. Autentisering via Google Firebase."})]})]})},Ece="/assets/eltonlogo-Du2pyLKX.svg",_ce="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Lager_1'%20data-name='Lager%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20865.49%20300.8'%3e%3cpath%20d='M181.58,0l8.39,1.72-29.56,33.69,9.77,23.99,28.67,4.55c8.15-9.29,16.12-18.79,24.46-27.91,1.02-1.12,2.28-2.59,3.31-3.61.44-.43.43-1.07,1.39-.83,9.98,24.54-2.43,52.56-25.66,63.95-9.22,4.52-19.05,4.17-28.35,8.69-10.82,5.26-16.79,13.47-21.98,23.94-17.34,35-30.96,72.18-49.48,106.55-11.3,13.79-33.05,11.74-42.61-2.85l-.12-.87c17.33-37.77,35.71-75.08,53.04-112.84,5.66-12.32,14.62-28.43,15.38-41.9.47-8.35-2.35-15.38-2.95-23.21-2.1-27.3,22.08-50.86,48.4-53.06h7.9Z'/%3e%3cpolygon%20points='50.88%20114.49%2079.57%20170.77%2056.86%20224.62%200%20114.49%2050.88%20114.49'/%3e%3cpath%20d='M454.24,227.58v64.67h-32.11l-.99-175.25h27.17l3.96,15.3c6.39-8,13.32-14.23,23.6-16.64,62.23-14.58,74.11,84.47,36.39,114.86-16.65,13.42-43.25,13.23-58.03-2.95ZM473.39,143.29c-27.58,3.73-26.79,78.08,9.04,68.77,24.2-6.29,25.91-73.49-9.04-68.77Z'/%3e%3cpath%20d='M271.48,237.45h-28.9l-3.46-11.85c-1.26.02-2.46,2.56-3.46,3.46-19,17.14-58.33,15.18-68.99-10.52-4.36-10.52-3.92-24.19,1.49-34.24,12.52-23.24,45.67-23.53,68.75-22.87.59-7.41-1.9-14.57-8.56-18.35-9.07-5.14-25.19-2.96-34.9-.16-4.19,1.21-8.07,3.3-12.35,4.2l-6.86-22.43.42-.52c8.79-4.14,17.83-7.2,27.49-8.58,32.59-4.64,64.48,4.59,66.86,42.14,1.38,21.85-1.37,44.76.5,66.64.38,4.39,1.38,8.73,1.97,13.09ZM236.9,182.66c-12.13.13-36.13-2.05-40.65,12.93-7.18,23.79,27.53,27.38,37.89,10.72.75-1.2,2.76-5.47,2.76-6.62v-17.03Z'/%3e%3cpath%20d='M723.94,237.45h-28.4l-3.46-11.85c-3.58,3.05-6.83,6.42-10.96,8.79-11.47,6.61-28.48,7.33-40.91,3.07-28.53-9.77-31.73-50.01-7.31-66.07,16.44-10.81,38.04-10.18,56.96-9.97.44-12.15-6.23-20.39-18.5-21.25s-24.87,1.93-36.54,6.92l-.68-.82-6.79-21.88c29.56-15.33,84.03-17.02,92.9,23.69,4.62,21.22.12,47.05,1.7,68.89l2,20.47ZM689.85,182.66c-13.23.18-38.89-2.45-41.36,15.68-3.09,22.64,30.07,23.35,38.66,7.53.79-1.46,2.71-6.24,2.71-7.66v-15.55Z'/%3e%3cpath%20d='M398.42,237.45h-32.11l.02-70.86c-.31-12.76-5.44-24.3-20.04-23.44-12.32.72-20.97,13.18-20.97,24.95v69.36h-32.11l-.49-120.46h27.17l3.46,15.3c8-9.97,18.72-16.93,31.83-17.79,27-1.78,42.23,15.16,43.24,41.25v81.7Z'/%3e%3cpath%20d='M850.88,237.45h-31.37c-1.25,0-.24-2.9-.22-3.68.38-14.27.11-28.76,0-42.95-.07-9.77.91-31.09-3.39-39.11-6.93-12.93-25.9-10.42-33.1,1.16-1.63,2.63-4.53,10.33-4.53,13.24v71.34h-32.11l-.99-120.46h27.66l3.46,15.3c7.89-9.66,18.52-16.84,31.34-17.79,25.1-1.86,41.05,12.6,43.23,37.3v85.65Z'/%3e%3cpath%20d='M584.15,67.14v131.56c0,1.23,1.4,5.57,2.06,6.82,4.24,8.05,12.65,6.61,20.16,4.78l4.29,23.48c-8.32,4.31-19.87,5.58-29.16,4.1-15.27-2.43-29.46-15.51-29.46-31.77V67.14h32.11Z'/%3e%3c/svg%3e",Tce="/assets/hanna1-BwKLfI_G.png",Sce=({onClose:t})=>{const[e,n]=T.useState("bug"),[r,i]=T.useState(""),[o,a]=T.useState(""),[l,u]=T.useState(!1),[d,p]=T.useState(!1),[g,m]=T.useState(null),b=async E=>{E.preventDefault(),m(null),u(!0);try{await hx(br(Kt,"feedback"),{type:e,description:r,email:o||"anonymous",timestamp:new Date().toISOString(),status:"new",userAgent:navigator.userAgent}),p(!0),setTimeout(()=>{t()},2500)}catch(A){console.error(A),m("Kunde inte skicka feedback. Frsk igen senare.")}finally{u(!1)}};return d?h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:h.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full text-center shadow-xl",children:[h.jsx("div",{className:"w-16 h-16 bg-green-50 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Op,{className:"text-green-600",size:32})}),h.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Tack fr din feedback!"}),h.jsx("p",{className:"text-slate-600",children:"Vi uppskattar din hjlp att gra VanPlan bttre."})]})}):h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh]",children:[h.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(fA,{className:"text-slate-700",size:20}),h.jsx("h3",{className:"font-bold text-slate-800",children:"Skicka Feedback"})]}),h.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 rounded-full transition-colors","aria-label":"Stng",children:h.jsx(Mr,{size:20,className:"text-slate-500"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto",children:h.jsxs("form",{onSubmit:b,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Vad gller det?"}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("button",{type:"button",onClick:()=>n("bug"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${e==="bug"?"border-rose-500 bg-rose-50 text-rose-700":"border-slate-100 bg-white text-slate-600 hover:border-slate-200"}`,children:[h.jsx(pJ,{size:24}),h.jsx("span",{className:"font-semibold text-sm",children:"Rapportera fel"})]}),h.jsxs("button",{type:"button",onClick:()=>n("feature"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${e==="feature"?"border-teal-500 bg-teal-50 text-teal-700":"border-slate-100 bg-white text-slate-600 hover:border-slate-200"}`,children:[h.jsx(Xh,{size:24}),h.jsx("span",{className:"font-semibold text-sm",children:"nskeml / Id"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Beskrivning"}),h.jsx("textarea",{value:r,onChange:E=>i(E.target.value),required:!0,rows:4,placeholder:e==="bug"?"Vad hnde? Hur kan vi terskapa felet?":"Beskriv din id...",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 outline-none transition-all placeholder:text-slate-400 text-slate-800"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"E-post (valfritt)"}),h.jsx("input",{type:"email",value:o,onChange:E=>a(E.target.value),placeholder:"Om du vill att vi terkommer",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 outline-none transition-all placeholder:text-slate-400 text-slate-800"})]}),g&&h.jsx("div",{className:"p-3 bg-rose-50 text-rose-600 text-sm rounded-lg",children:g}),h.jsxs("button",{type:"submit",disabled:l||!r.trim(),className:"w-full py-3 bg-slate-900 text-white rounded-xl font-medium hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:[l?h.jsx(ia,{className:"animate-spin",size:20}):h.jsx($v,{size:20}),"Skicka"]})]})})]})})},Ace=({onClose:t,activeTab:e="gdpr"})=>h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[h.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50 sticky top-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(iT,{className:"text-slate-700",size:20}),h.jsx("h3",{className:"font-bold text-slate-800",children:"Integritet & Villkor"})]}),h.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 rounded-full transition-colors","aria-label":"Stng",children:h.jsx(Mr,{size:20,className:"text-slate-500"})})]}),h.jsxs("div",{className:"p-8 overflow-y-auto prose prose-slate max-w-none",children:[h.jsxs("section",{className:"mb-8",children:[h.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold text-slate-900 mb-4",children:[h.jsx(Ig,{className:"text-teal-600",size:24}),"Personuppgiftspolicy (GDPR)"]}),h.jsx("p",{className:"text-slate-600 mb-4",children:"Din integritet r viktig fr oss p The VanPlan. Denna policy beskriver hur vi samlar in, anvnder och skyddar dina personuppgifter."}),h.jsx("h4",{className:"font-semibold text-slate-900 mt-6 mb-2",children:"Vad vi samlar in"}),h.jsxs("ul",{className:"list-disc pl-5 text-slate-600 space-y-1",children:[h.jsx("li",{children:"E-postadress (fr vntelista och inloggning)"}),h.jsx("li",{children:"Namn (frivilligt)"}),h.jsx("li",{children:"Information om ditt fordon (som du sjlv lgger in)"}),h.jsx("li",{children:"Feedback och supportrenden"})]}),h.jsx("h4",{className:"font-semibold text-slate-900 mt-6 mb-2",children:"Hur vi anvnder datan"}),h.jsxs("p",{className:"text-slate-600 mb-4",children:["Vi anvnder informationen fr att tillhandahlla tjnsten, frbttra anvndarupplevelsen och kommunicera med dig om uppdateringar. Vi sljer ",h.jsx("strong",{children:"aldrig"})," dina uppgifter till tredje part."]}),h.jsx("h4",{className:"font-semibold text-slate-900 mt-6 mb-2",children:"Dina rttigheter"}),h.jsx("p",{className:"text-slate-600 mb-4",children:'Enligt GDPR har du rtt att begra utdrag av din data, f den rttad, eller raderad ("rtten att bli bortglmd"). Kontakta oss via feedback-formulret om du vill utva dessa rttigheter.'})]}),h.jsx("div",{className:"border-t border-slate-100 my-8"}),h.jsxs("section",{children:[h.jsxs("h2",{className:"flex items-center gap-2 text-xl font-bold text-slate-900 mb-4",children:[h.jsx(Ou,{className:"text-teal-600",size:24}),"Anvndarvillkor"]}),h.jsxs("p",{className:"text-slate-600 mb-4",children:["VanPlan befinner sig i en ",h.jsx("strong",{children:"experimentell fas (Beta)"}),". Genom att anvnda tjnsten godknner du fljande:"]}),h.jsxs("ol",{className:"list-decimal pl-5 text-slate-600 space-y-2",children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Ingen garanti:"})," Tjnsten tillhandahlls i befintligt skick. Vi reserverar oss fr eventuella tekniska fel eller databortfall, ven om vi gr vrt yttersta fr att skydda din data."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"AI-rdgivning:"})," Tjnsten anvnder Artificiell Intelligens fr att ge rd om mekanik och byggnation. Dessa rd ska ses som ",h.jsx("em",{children:"vgledande"}),". Dubbelkolla alltid kritiska moment mot en officiell verkstadshandbok eller konsultera en fackman. Vi ansvarar inte fr skador som uppstr till fljd av felaktig tillmpning av rd."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Rttvis anvndning:"})," Du fr inte anvnda tjnsten fr att sprida skadlig kod, spam eller olagligt innehll."]})]})]})]})]})}),Cce=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,o]=T.useState(!1),[a,l]=T.useState(!1),[u,d]=T.useState(null),[p,g]=T.useState(null),[m,b]=T.useState(!1),[E,A]=T.useState(!1),[_,C]=T.useState(!1),N=async I=>{if(I.preventDefault(),!t||!t.includes("@")){d("Vnligen ange en giltig e-postadress");return}d(null),o(!0);try{const D=await Cse(t,{name:n.trim()||void 0});D.success?(l(!0),g(D.position||null)):d(D.error||"Ett fel uppstod. Frsk igen.")}catch{d("Ett ovntat fel uppstod. Frsk igen senare.")}finally{o(!1)}};return a?h.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-6",children:h.jsxs("div",{className:"max-w-xl w-full bg-white p-12 rounded-[2rem] shadow-xl shadow-stone-200/50 border border-stone-100 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-green-50 rounded-2xl flex items-center justify-center mx-auto mb-6",children:h.jsx(An,{size:32,className:"text-green-600",strokeWidth:2})}),h.jsx("h1",{className:"font-serif font-medium text-3xl text-stone-800 mb-2",children:"Du r med! "}),h.jsxs("p",{className:"text-stone-600 text-lg mb-4",children:["Tack ",n||t.split("@")[0],"!"]}),p!==null&&h.jsxs("div",{className:"bg-stone-50 rounded-2xl p-6 mb-6",children:[h.jsx("p",{className:"text-xs text-stone-500 uppercase tracking-wide font-medium mb-2",children:"Din plats i kn"}),h.jsxs("p",{className:"text-4xl font-serif font-bold text-stone-800",children:["#",p]})]}),h.jsxs("p",{className:"text-stone-500 text-sm",children:["Vi hr av oss till ",h.jsx("span",{className:"font-medium text-stone-700",children:t})," nr det r din tur."]}),h.jsx("button",{onClick:()=>l(!1),className:"mt-8 text-sm text-stone-400 hover:text-stone-600",children:"Tillbaka till startsidan"})]})}):h.jsxs("div",{className:"min-h-screen bg-stone-50 font-sans selection:bg-rose-100 selection:text-rose-900",children:[h.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-white border-b border-stone-200 shadow-sm",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:_ce,alt:"VanPlan",className:"h-10 w-auto"}),h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest px-2 py-1 bg-stone-100 text-stone-500 rounded-full",children:"Beta"})]}),h.jsx("button",{onClick:()=>b(!0),className:"px-5 py-2 text-sm font-medium text-stone-600 hover:text-stone-900 hover:bg-stone-50 rounded-full transition-all",children:"Logga in"})]})}),h.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center pt-20 px-6 overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 z-0",children:[h.jsx("img",{src:Tce,alt:"Background of van life journey",className:"w-full h-full object-cover object-center"}),h.jsx("div",{className:"absolute inset-0 bg-white/70 backdrop-blur-[2px]"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/80 via-white/40 to-stone-50"})]}),h.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10 mt-10",children:[h.jsx("span",{className:"inline-block px-4 py-1.5 rounded-full bg-rose-50 text-rose-600 text-sm font-medium mb-6 border border-rose-100 shadow-sm animate-fade-in-up",children:" Gr drmmen till verklighet"}),h.jsxs("h2",{className:"text-5xl md:text-7xl font-serif font-medium text-stone-900 mb-8 tracking-tight leading-[1.1] drop-shadow-sm",children:["Resan r mlet.",h.jsx("br",{}),h.jsx("span",{className:"italic text-transparent bg-clip-text bg-gradient-to-r from-rose-500 to-orange-400",children:"Vi hjlper dig p vgen."})]}),h.jsx("p",{className:"text-xl md:text-2xl text-stone-600 mb-12 max-w-2xl mx-auto leading-relaxed font-light",children:"Slipp kaoset - verktyget fr renovering, fix och full koll som tar drmmen frn uppfarten ut i friheten."}),h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsxs("form",{onSubmit:N,className:"bg-white/80 backdrop-blur-xl p-2 pl-6 rounded-full shadow-2xl shadow-stone-200/50 border border-white flex items-center gap-2 transition-all hover:scale-[1.01] focus-within:ring-4 focus-within:ring-rose-500/10",children:[h.jsx("input",{type:"email",value:t,onChange:I=>e(I.target.value),placeholder:"din@epost.se",required:!0,className:"flex-1 bg-transparent border-none focus:ring-0 text-stone-800 placeholder-stone-400 py-3 text-lg outline-none"}),h.jsx("button",{type:"submit",disabled:i||!t,className:"px-8 py-4 bg-stone-800 hover:bg-stone-900 text-white font-medium rounded-full transition-all active:scale-[0.95] flex items-center gap-2 disabled:opacity-50 text-lg shadow-lg shadow-stone-900/10",children:i?h.jsx(ia,{className:"animate-spin",size:20}):"G med"})]}),u&&h.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-2xl flex items-start gap-3",children:[h.jsx(Mr,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),h.jsx("p",{className:"text-sm text-red-700",children:u})]}),h.jsx("p",{className:"text-xs text-stone-500 mt-4 font-medium tracking-wide uppercase",children:"G med 120+ andra drmmare i kn"})]})]})]}),h.jsx("section",{className:"px-6 py-24 bg-stone-50",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h3",{className:"text-3xl md:text-4xl font-serif text-stone-800 mb-4",children:"Fr dig, oavsett var du r i resan"}),h.jsx("p",{className:"text-lg text-stone-600 max-w-2xl mx-auto font-light",children:"Inga frkunskaper krvs. Bara en vilja att skapa."})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"bg-gradient-to-br from-pink-100 to-rose-100 p-8 rounded-[2rem] shadow-lg hover:shadow-2xl hover:shadow-rose-200/50 transition-all hover:-translate-y-1 border border-rose-200/50",children:[h.jsx("div",{className:"w-14 h-14 bg-white/80 backdrop-blur text-rose-600 rounded-2xl flex items-center justify-center mb-6 shadow-md",children:h.jsx(pu,{size:28,strokeWidth:2})}),h.jsx("h4",{className:"text-2xl font-serif font-bold text-stone-900 mb-3",children:"Drmmaren"}),h.jsx("p",{className:"text-stone-700 leading-relaxed mb-4",children:"Aldrig hllit i en skiftnyckel? Ingen fara. Vi verstter verkstadssprk till ren svenska och guidar dig tryggt framt."}),h.jsx("span",{className:"text-sm font-bold text-rose-700",children:"Perfekt fr nybrjare"})]}),h.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-teal-100 p-8 rounded-[2rem] shadow-lg hover:shadow-2xl hover:shadow-teal-200/50 transition-all hover:-translate-y-1 border border-teal-200/50",children:[h.jsx("div",{className:"w-14 h-14 bg-white/80 backdrop-blur text-teal-600 rounded-2xl flex items-center justify-center mb-6 shadow-md",children:h.jsx(Po,{size:28,strokeWidth:2})}),h.jsx("h4",{className:"text-2xl font-serif font-bold text-stone-900 mb-3",children:"Fixaren"}),h.jsx("p",{className:"text-stone-700 leading-relaxed mb-4",children:"F struktur p kaoset. Inkpslistor som skapar sig sjlva och en budget som faktiskt hller."}),h.jsx("span",{className:"text-sm font-bold text-teal-700",children:"Fr dig som vill ha ordning"})]}),h.jsxs("div",{className:"bg-gradient-to-br from-blue-100 to-cyan-100 p-8 rounded-[2rem] shadow-lg hover:shadow-2xl hover:shadow-cyan-200/50 transition-all hover:-translate-y-1 border border-cyan-200/50",children:[h.jsx("div",{className:"w-14 h-14 bg-white/80 backdrop-blur text-cyan-600 rounded-2xl flex items-center justify-center mb-6 shadow-md",children:h.jsx(ab,{size:28,strokeWidth:2})}),h.jsx("h4",{className:"text-2xl font-serif font-bold text-stone-900 mb-3",children:"Proffset"}),h.jsx("p",{className:"text-stone-700 leading-relaxed mb-4",children:"Dokumentera varje skruv fr att maxa vrdet. Din digitala servicebok som imponerar p bde kpare och besiktning."}),h.jsx("span",{className:"text-sm font-bold text-cyan-700",children:"Maximalt vrde"})]})]})]})}),h.jsx("section",{className:"px-6 py-24 bg-gradient-to-b from-white to-stone-50 overflow-hidden",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx("img",{src:Ece,alt:"Elton",className:"h-16 w-auto opacity-80"})}),h.jsx("span",{className:"text-rose-500 font-medium tracking-wider text-sm uppercase block mb-6",children:"Vr Resa"}),h.jsxs("h3",{className:"text-3xl md:text-5xl font-serif text-stone-800 mb-6",children:["Frn rosthl till ",h.jsx("span",{className:"text-rose-500",children:"rullande frihet"})]})]}),h.jsxs("div",{className:"space-y-6 text-lg text-stone-700 leading-relaxed",children:[h.jsx("p",{children:"Vad hnder nr en 25-rig husbilsdrm krockar med en gammal skpbil, dr den ena av oss ser inredningsmagi och den andra ser mekaniska msten? Vi mttes i en gemensam lngtan, men glappet mellan vision och verklighet kndes lika stort som hlet i bilens rostiga balk."}),h.jsx("p",{children:"Utan en tydlig karta insg vi snabbt att vi skulle g vilse bland kablar och isolering. Drfr skapade vi VanPlan."}),h.jsx("p",{className:"border-l-4 border-rose-300 pl-6 italic text-stone-800 bg-rose-50/30 py-4 rounded-r-2xl",children:"Det blev vr gemensamma tolk som verstter tekniskt kaos till en tydlig, visuell struktur dr vi kan mtas."}),h.jsx("p",{children:"Det hjlper oss att bryta ner det omjliga berget till hanterbara steg och ger en tydlig strategi, s att man vgar ta sig an jobbet med sjlvfrtroende oavsett kunskapsniv. VanPlan r kartan som gr att du gr frn att drmma p Pinterest till att faktiskt vrida om nyckeln  oavsett om du r proffs eller aldrig hllit i en skiftnyckel frut. Vi gr drmmen genomfrbar, en skruv i taget."})]})]})}),h.jsx("section",{className:"px-6 py-32 bg-gradient-to-br from-purple-50 via-white to-rose-50",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-purple-600 font-semibold text-sm uppercase tracking-wider mb-4 block",children:"Din Elton-projektledare"}),h.jsx("h3",{className:"text-5xl md:text-6xl font-serif font-bold text-stone-900 mb-6 leading-tight",children:"Frn kpbesiktning till frdig camper."}),h.jsx("p",{className:"text-xl text-stone-600 mb-8 leading-relaxed",children:"Fota rostangreppet eller motorn  Elton analyserar, varnar fr fallgropar och skapar en steg-fr-steg-plan fr hur du fixar det. Som att ha en erfaren mekaniker i fickan."}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-stone-700",children:[h.jsx(An,{className:"text-purple-500",size:20}),h.jsx("span",{className:"text-sm font-medium",children:"Bilspecifika rd"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-stone-700",children:[h.jsx(An,{className:"text-purple-500",size:20}),h.jsx("span",{className:"text-sm font-medium",children:"Steg-fr-steg"})]})]})]}),h.jsx("div",{className:"relative",children:h.jsx("div",{className:"aspect-square bg-gradient-to-br from-purple-100 to-rose-100 rounded-[3rem] flex items-center justify-center shadow-2xl shadow-purple-200/50",children:h.jsx(Jh,{className:"text-purple-400",size:120,strokeWidth:1})})})]})})}),h.jsx("section",{className:"px-6 py-24 bg-white",children:h.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-cyan-50 rounded-[3rem] p-12 hover:shadow-2xl hover:shadow-indigo-100 transition-all",children:[h.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:h.jsx(tT,{className:"text-indigo-600",size:32})}),h.jsx("h4",{className:"text-3xl font-serif font-bold text-stone-900 mb-4",children:"Automatisk fordonsdata"}),h.jsx("p",{className:"text-lg text-stone-700 leading-relaxed mb-6",children:"Ta kort p registreringsskylten eller ange regnummer  vi hmtar automatiskt alla fordonsdata: modell, rsmodell, vikt, tekniska specifikationer."}),h.jsx("p",{className:"text-sm text-indigo-600 font-semibold",children:"Elton vet direkt om du har en LT31 frn '76 eller en modern Sprinter "})]}),h.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-[3rem] p-12 hover:shadow-2xl hover:shadow-emerald-100 transition-all",children:[h.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:h.jsx(Ou,{className:"text-emerald-600",size:32})}),h.jsx("h4",{className:"text-3xl font-serif font-bold text-stone-900 mb-4",children:"Scanna kvitton automatiskt"}),h.jsx("p",{className:"text-lg text-stone-700 leading-relaxed mb-6",children:"Fotografera kvitton frn bildelar. Elton lser produktnamn, pris och datum  allt sparas automatiskt i budgeten."}),h.jsx("p",{className:"text-sm text-emerald-600 font-semibold",children:"Sluta leta kvitton i handskfacket "})]})]})}),h.jsx("section",{className:"px-6 py-32 bg-stone-50 overflow-hidden",children:h.jsx("div",{className:"max-w-6xl mx-auto",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[h.jsx("div",{className:"relative order-2 lg:order-1",children:h.jsx("div",{className:"aspect-[4/3] bg-gradient-to-br from-rose-100 to-orange-100 rounded-[3rem] flex items-center justify-center shadow-2xl shadow-rose-200/50",children:h.jsx(tT,{className:"text-rose-400",size:100,strokeWidth:1})})}),h.jsxs("div",{className:"order-1 lg:order-2",children:[h.jsx("span",{className:"text-rose-600 font-semibold text-sm uppercase tracking-wider mb-4 block",children:"Kpbesiktning"}),h.jsx("h3",{className:"text-4xl md:text-5xl font-serif font-bold text-stone-900 mb-6 leading-tight",children:"Undvik dyra misstag innan du kper."}),h.jsx("p",{className:"text-xl text-stone-600 mb-8 leading-relaxed",children:"Ska du kpa bil? F en modell-specifik checklista. Fotografera rost, motor  Elton analyserar och varnar fr dolda problem."}),h.jsx("p",{className:"text-stone-500 italic",children:'"Elton upptckte rostskador som skulle ha kostat 50 000 kr att laga. Jag tackade nej till kpet."'})]})]})})}),h.jsx("section",{className:"px-6 py-24 bg-white",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h3",{className:"text-4xl md:text-5xl font-serif font-bold text-stone-900 mb-4",children:"Och mycket mer."}),h.jsx("p",{className:"text-xl text-stone-600 max-w-2xl mx-auto",children:"Allt du behver fr att lyckas med ditt projekt."})]}),h.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[h.jsx(Fl,{icon:h.jsx(pu,{className:"text-purple-600",size:24}),title:"Elton skriver om uppgifter",description:"Frn 'BYTA OLJA' till begripliga steg-fr-steg checklistor."}),h.jsx(Fl,{icon:h.jsx(dA,{className:"text-cyan-600",size:24}),title:"Ssongspminnelser",description:"Vinterfrvaring? Vrcheck? Elton skapar checklistor baserat p din bil."}),h.jsx(Fl,{icon:h.jsx(Jh,{className:"text-amber-600",size:24}),title:"Elton lr sig din bil",description:"Ladda upp verkstadshandbok  Elton svarar p frgor om din modell."}),h.jsx(Fl,{icon:h.jsx(J3,{className:"text-teal-600",size:24}),title:"Smarta inkpslistor",description:"Elton freslr exakt vilka delar du behver fr ditt projekt."}),h.jsx(Fl,{icon:h.jsx(Kd,{className:"text-indigo-600",size:24}),title:"Hitta rtt verkstad",description:"Frslag p lokala verkstder specialiserade p din bilmodell."}),h.jsx(Fl,{icon:h.jsx(mA,{className:"text-purple-600",size:24}),title:"Tidslinje & Fasplanering",description:"Elton identifierar beroenden  vad mste gras frst."}),h.jsx(Fl,{icon:h.jsx(OJ,{className:"text-cyan-600",size:24}),title:"Alltid skert i molnet",description:"All data backupas automatiskt. Tappar du telefonen? Inga problem."}),h.jsx(Fl,{icon:h.jsx(ZJ,{className:"text-teal-600",size:24}),title:"Forskningsbaserad metodik",description:"Smarta ml, tydliga uppgifter i rtt ordning."})]})]})}),h.jsx("section",{className:"px-6 py-32 bg-gradient-to-br from-stone-50 to-rose-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-12",children:[h.jsxs("div",{className:"bg-white rounded-[3rem] p-12 shadow-xl shadow-stone-200/50",children:[h.jsx("div",{className:"w-16 h-16 bg-rose-50 rounded-2xl flex items-center justify-center mb-6",children:h.jsx(X3,{className:"text-rose-600",size:32})}),h.jsx("h4",{className:"text-3xl font-serif font-bold text-stone-900 mb-4",children:"Samarbeta i realtid"}),h.jsx("p",{className:"text-lg text-stone-700 leading-relaxed mb-6",children:"Bjud in partner, vnner eller din verkstad till projektet. Alla ser samma info, kommenterar och uppdaterar."}),h.jsxs("div",{className:"flex items-center gap-3 text-sm text-stone-600",children:[h.jsxs("div",{className:"flex -space-x-2",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-rose-200 border-2 border-white"}),h.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-200 border-2 border-white"}),h.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-200 border-2 border-white"})]}),h.jsx("span",{className:"font-medium",children:"Bygg tillsammans"})]})]}),h.jsxs("div",{className:"bg-white rounded-[3rem] p-12 shadow-xl shadow-stone-200/50",children:[h.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-2xl flex items-center justify-center mb-6",children:h.jsx(H3,{className:"text-blue-600",size:32})}),h.jsx("h4",{className:"text-3xl font-serif font-bold text-stone-900 mb-4",children:"Komplett servicehistorik"}),h.jsx("p",{className:"text-lg text-stone-700 leading-relaxed mb-6",children:"Dokumentera varje byte av komponent, varje service, varje milsten. ka fordonets vrde med komplett historik."}),h.jsx("p",{className:"text-sm text-blue-600 font-semibold",children:"Maximera frsljningspriset med professionell dokumentation "})]})]})}),h.jsx("section",{className:"px-6 py-20 bg-gradient-to-r from-amber-500 to-orange-500",children:h.jsxs("div",{className:"max-w-5xl mx-auto text-center text-white",children:[h.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center mx-auto mb-6",children:h.jsx(ab,{className:"text-white",size:32})}),h.jsx("h4",{className:"text-4xl font-serif font-bold mb-4",children:"Ndsituation? Inga problem."}),h.jsx("p",{className:"text-xl opacity-90 max-w-2xl mx-auto",children:"Fastnat i Danmark? Elton hjlper dig hitta nrmaste verkstad, kollar ditt frskringsavtal fr tckning och hyrbilsvillkor, och ger dig rtt telefonnummer att ringa."})]})}),h.jsx("section",{className:"px-6 py-24 bg-white border-t border-stone-100",children:h.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[h.jsx("h3",{className:"text-4xl font-serif text-stone-800 mb-6",children:"Redo att starta motorn?"}),h.jsx("p",{className:"text-lg text-stone-600 mb-10 font-light",children:"Bli en av de frsta att testa VanPlan och ta kontroll ver ditt drmprojekt."}),h.jsxs("form",{onSubmit:N,className:"bg-stone-50 p-2 pl-4 rounded-full shadow-lg shadow-stone-100 border border-stone-100 flex items-center gap-2 transition-all focus-within:ring-4 focus-within:ring-rose-500/10 max-w-md mx-auto",children:[h.jsx("input",{type:"email",value:t,onChange:I=>e(I.target.value),placeholder:"din@epost.se",required:!0,className:"flex-1 bg-transparent border-none focus:ring-0 text-stone-800 placeholder-stone-400 py-3"}),h.jsx("button",{type:"submit",disabled:i||!t,className:"px-8 py-3 bg-stone-800 hover:bg-stone-700 text-white font-medium rounded-full transition-all active:scale-[0.98] flex items-center gap-2 disabled:opacity-50",children:i?h.jsx(ia,{className:"animate-spin",size:18}):"G med nu"})]}),h.jsx("p",{className:"text-sm text-stone-500 mt-12 mb-4",children:"Byggt med  av ett par som vgrade lta rosten krossa drmmen (och lrde sig meka p vgen)."}),h.jsx("p",{className:"text-xs text-stone-300",children:" 2025 The VanPlan"}),h.jsxs("div",{className:"mt-8 pt-8 border-t border-stone-50 flex justify-center gap-8",children:[h.jsx("button",{onClick:()=>A(!0),className:"text-xs text-stone-400 hover:text-stone-600 transition-colors",children:"Rapportera fel"}),h.jsx("button",{onClick:()=>C(!0),className:"text-xs text-stone-400 hover:text-stone-600 transition-colors",children:"Villkor"})]})]})}),m&&h.jsx("div",{className:"fixed inset-0 bg-stone-900/20 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"relative w-full max-w-6xl max-h-[90vh] overflow-auto bg-white rounded-[2rem] shadow-2xl",children:[h.jsx("button",{onClick:()=>b(!1),className:"absolute top-6 right-6 z-10 p-2 bg-white hover:bg-stone-50 rounded-full shadow-sm transition-all border border-stone-100",children:h.jsx(Mr,{size:24,className:"text-stone-500"})}),h.jsx(kce,{onDemo:()=>b(!1)})]})}),E&&h.jsx(Sce,{onClose:()=>A(!1)}),_&&h.jsx(Ace,{onClose:()=>C(!1)})]})},Fl=({icon:t,title:e,description:n})=>h.jsxs("div",{className:"bg-stone-50 rounded-2xl p-6 hover:bg-white hover:shadow-lg transition-all",children:[h.jsx("div",{className:"mb-4",children:t}),h.jsx("h5",{className:"font-bold text-lg text-stone-900 mb-2",children:e}),h.jsx("p",{className:"text-sm text-stone-600 leading-relaxed",children:n})]}),Ice=[{id:100,title:"Skerhet: Flytta API-nycklar till Backend",category:"Skerhet",phase:1,description:"KRITISKT: Gemini API-nyckel exponeras i frontend. Delvis lst med Firebase AI Logic.",detailedDescription:"Firebase AI Logic (firebase/ai) anvnds nu fr frontend AI-anrop - ingen separat API-nyckel behvs. Cloud Functions anvnds fr avancerade operationer. terstr: LiveElton.tsx behver migreras till Firebase AI Logic eller Cloud Function.",purpose:"Frhindra obehrig anvndning av API-nycklar och potentiella kostnader.",status:"in-progress",tech:["Firebase AI Logic","Firebase Cloud Functions","Secret Manager"],priority:"critical",tags:["Security","Backend","Critical"],checklist:[{label:"Skapa Cloud Function fr AI-proxy",completed:!0},{label:"Flytta API-nyckel till Secret Manager",completed:!0},{label:"Uppdatera frontend att anropa Cloud Function",completed:!0},{label:"Migrera till Firebase AI Logic (frontend)",completed:!0,completedAt:"2025-12-12"},{label:"tgrda LiveElton.tsx",completed:!1,inProgress:!0},{label:"Ta bort VITE_GEMINI_API_KEY helt",completed:!1},{label:"Testa i produktion",completed:!1}]},{id:102,title:"Kritiska Enhetstester",category:"Testing",phase:1,description:"Saknas tester fr kritiska moduler: geminiService, db, auth. Mste lggas till.",detailedDescription:"Nuvarande testning tcker huvudsakligen E2E fr co-working. Kritisk affrslogik i geminiService.ts, db.ts, och auth.ts saknar helt enhetstester vilket skapar hg risk vid ndringar.",purpose:"Skerstlla att kritisk funktionalitet inte gr snder vid ndringar.",status:"planned",tech:["Vitest","Mock Service Worker","Firebase Emulators"],priority:"high",tags:["Testing","Quality","Foundation"],checklist:[{label:"Tester fr geminiService.ts",completed:!1},{label:"Tester fr db.ts (CRUD)",completed:!1},{label:"Tester fr auth.ts",completed:!1},{label:"Setup Firebase Emulators",completed:!1},{label:"CI/CD integration",completed:!1}]},{id:103,title:"Stda prototype_app",category:"Teknisk Skuld",phase:1,description:"Duplicerad kod i prototype_app/ skapar frvirring och underhllsbrda.",detailedDescription:"Mappen prototype_app/ innehller en ldre version av applikationen med verlappande komponenter och services. Detta leder till frvirring och risk fr att ndringar grs p fel stlle.",purpose:"Reducera teknisk skuld och frenkla kodbas.",status:"done",tech:["Git","Cleanup"],priority:"medium",tags:["TechDebt","Cleanup"],checklist:[{label:"Verifiera att allt r migrerat",completed:!0},{label:"Ta bort frn main",completed:!0},{label:"Verifiera att inga beroenden finns kvar",completed:!0},{label:"Uppdatera dokumentation",completed:!0}]},{id:1,title:"Plattforms-arkitektur (SaaS)",category:"Infrastruktur",description:'Vi har byggt om appen frn en enkel "en-sidas-app" fr en bil till en plattform som hanterar Anvndare och Flera Projekt.',detailedDescription:"Komplett transformation frn statisk single-page app till en fullstndig SaaS-plattform. Inkluderar multi-tenant arkitektur, anvndarhantering, projekthantering, och cloud sync mellan enheter.",purpose:"Grundlggande krav fr skalbarhet. Mjliggr synk mellan enheter.",status:"done",tech:["Firebase Auth","Firestore","Security Rules","Multi-tenant"],priority:"high",tags:["Foundation","SaaS","Auth","Database"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & Auth)",completed:!0},{label:"Testad (Flera projekt)",completed:!0},{label:"Lanserad",completed:!0}]},{id:24,title:"Co-working & Teams",category:"Infrastruktur",description:"Bjud in medmekaniker eller familj till dina projekt. Hantera rttigheter och bygg tillsammans i realtid. Fullt testad med Playwright E2E-tester (65 tester ver 5 webblsare).",detailedDescription:"Fullstndig team-collaboration feature med inbjudningar via e-post, rollhantering (owner/member), skerhetsregler i Firestore, och ProjectMembers UI-komponent. Omfattande E2E-testning skerstller kvalitet.",purpose:"Bilbyggande r ofta en social aktivitet. Appen mste stdja samarbete.",status:"done",tech:["Firestore Security Rules","Invite System","Playwright","E2E Tests"],priority:"high",tags:["Collaboration","Testing","E2E","Security"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & UI)",completed:!0},{label:"Skerhetstestad",completed:!0},{label:"E2E-testad (Playwright)",completed:!0},{label:"Lanserad",completed:!0}]},{id:26,title:"E2E Test Suite med Playwright",category:"Infrastruktur",description:"Komplett automatisk testning av alla kritiska funktioner i appen. Tester krs i Chrome, Firefox, Safari samt mobila enheter.",detailedDescription:"65 automatiska tester som verifierar Co-working, UI-komponenter, formulr, dark mode, och responsiv design. Konfigurerad med screenshot-on-failure, video recording, och CI/CD integration.",purpose:"Skerstlla kvalitet och stabilitet vid varje deploy. Frhindra regressions-buggar.",status:"done",tech:["Playwright","TypeScript","Visual Testing","CI/CD"],priority:"high",tags:["Testing","Quality","Automation","CI/CD"],checklist:[{label:"Specad",completed:!0},{label:"Konfigurerad (Playwright)",completed:!0},{label:"Co-working tests (65 tester)",completed:!0},{label:"Firebase Auth setup",completed:!0},{label:"Lanserad",completed:!0}]},{id:23,title:"Feature Flags & Versionshantering",category:"Infrastruktur",description:"System fr att sl p/av funktioner utan att deploya om. Versionshantering av AI-prompter.",detailedDescription:"Config-driven feature flag system som tillter gradvis utrullning av nya features, A/B-testning, och snabb rollback. Versionering av AI-prompts fr att kunna testa och jmfra olika modeller.",purpose:"Sker utrullning och A/B-testning av nya AI-modeller.",status:"done",tech:["Config-based System","Feature Toggles"],priority:"medium",tags:["DevOps","A/B Testing","Configuration"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:2,title:'AI Onboarding "Deep Research"',category:"Plattform",description:"Multi-Agent system (Detektiven & Verkmstaren) som sker upp fakta och skapar en plan baserat p RegNr.",detailedDescription:"Avancerat AI-system med tv agenter: Detektiven sker teknisk data och knda problem via Google Search och svenska register, medan Verkmstaren skapar en detaljerad projektplan baserat p denna research. UPDATE 2025-12-12: Nu med Firebase AI Logic (Gemini 2.5 Pro) fr bttre prestanda.",purpose:"Hg precision och slut p gissningar. Hmtar data frn svenska register.",status:"done",tech:["Firebase AI Logic","Gemini 2.5 Pro","Google Search","Multi-Agent System","Prompt Engineering"],priority:"high",tags:["AI","Onboarding","Multi-Agent","Automation"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Agents & Prompts)",completed:!0},{label:"Testad (Live Search)",completed:!0},{label:"Lanserad",completed:!0},{label:"Migrerad till Firebase AI Logic",completed:!0,completedAt:"2025-12-12"}]},{id:17,title:"Auto-genererad Historik & Expertanalys",category:"Plattform",description:'AI:n identifierar "Knda fel" (The Killers), ger tips om modifieringar och analyserar mtarstllning.',detailedDescription:"Expertanalys-rapport som genereras automatiskt vid projekt-skapande. Inkluderar knda problem fr specifik modell, populra modifieringar, varningar fr potentiella kostsamma fel.",purpose:"Ger omedelbart expertkunskap och varnar fr dyra fllor.",status:"done",tech:["Gemini 2.0","Prompt Engineering","Knowledge Base"],priority:"high",tags:["AI","Expert Analysis","Knowledge","Prevention"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:3,title:"Bildigenknning av Regplt",category:"AI Core",description:"Fota bilen fr att starta projektet. AI:n hittar och lser av registreringsskylten.",detailedDescription:"OCR-funktionalitet med Gemini Vision som automatiskt detekterar och lser av svenska registreringsskyltar frn foton.",purpose:"Smidig onboarding utan att behva knappa in nummer.",status:"done",tech:["Gemini Vision","OCR","Image Processing"],priority:"high",tags:["Vision","OCR","Onboarding","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:5,title:"Google Search-integration",category:"AI Core",description:"AI:n kan ska p webben efter priser, manualer och fakta i realtid.",detailedDescription:"Real-time skning via Gemini Tools API. AI:n kan dynamiskt ska efter aktuella priser, tekniska manualer, och forum-diskussioner.",purpose:"Gr frn gissningar till fakta.",status:"done",tech:["Gemini Tools","Google Search API","Real-time Data"],priority:"high",tags:["Search","Real-time","Integration","Data"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:7,title:"Dialekter & Personligheter",category:"AI Core",description:"Elton kan prata dalml, gotlndska eller rikssvenska.",detailedDescription:"Konfigurerbar AI-persona med olika svenska dialekter och personligheter. Skapar en roligare och mer personlig upplevelse.",purpose:"Skapar en relation och gr appen roligare.",status:"done",tech:["System Prompts","Personality Config","Localization"],priority:"low",tags:["Personality","UX","Localization","Fun"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config & UI)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:10,title:"Magic Import (Text & Bild)",category:"Projektledning",description:"Klistra in anteckningar eller fota en handskriven lista fr att skapa uppgifter.",detailedDescription:"Multimodal import dr anvndare kan klistra in text frn forum/manualer eller fotografera handskrivna listor. AI:n extraherar uppgifter med titlar, beskrivningar, och kostnader.",purpose:"Minskar administrationen avsevrt.",status:"done",tech:["Gemini Vision","OCR","NLP","Task Extraction"],priority:"high",tags:["Productivity","Vision","OCR","Automation"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:21,title:"Flexibla Faser & Idbank",category:"Projektledning",description:"Projekt kan nu ha olika typer (Renovering, Bygge, Underhll) med anpassade faser.",detailedDescription:'Dynamiskt fas-system dr olika projekttyper har skrddarsydda work stages. "Drmbank" r en sandbox fr ider.',purpose:"Stdja alla typer av bilgande, inte bara renovering.",status:"done",tech:["Dynamic Types","Filtering","State Management"],priority:"high",tags:["Project Types","Flexibility","Organization","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:9,title:"Smart Inkpslista & Kvitton",category:"Ekonomi",description:"En separat vy fr inkp med kvittoscanning och budgetuppfljning.",detailedDescription:"Komplett shoppinglist-system med receipt scanning via Vision API, automatisk kostnadskoppling till tasks, och budgetuppfljning.",purpose:"Total kontroll p ekonomin.",status:"done",tech:["Firebase Storage","Gemini Vision","OCR","Budget Tracking"],priority:"high",tags:["Shopping","Receipts","Budget","Finance","OCR"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:12,title:"Kunskapsbanken & Markdown-lsare",category:"Kunskap",description:"Ett bibliotek med tunga tekniska rapporter (markdown) som AI:n kan lsa och citera.",detailedDescription:"RAG-system dr AI:n har tillgng till en kunskapsbas med tekniska guider och service-manualer.",purpose:"Att skra kvalitn.",status:"done",tech:["RAG","React Markdown","Knowledge Base"],priority:"high",tags:["RAG","Knowledge","Markdown","Quality"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:13,title:"Tidslinje & Historik",category:"Garage",description:"En visuell tidslinje som visar bilens hela liv.",detailedDescription:"Interactive timeline med Recharts som visualiserar bilens historia frn tillverkning till nuvarande status.",purpose:"Att ge perspektiv och hedra bilens historia.",status:"done",tech:["Recharts","Timeline UI","Data Visualization"],priority:"medium",tags:["History","Timeline","Visualization","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:14,title:"Brnslelogg & Servicebok",category:"Garage",description:"Logga tankningar och service. Visualisera frbrukning och serviceintervall.",detailedDescription:"Fuel log och service book med full CRUD, grafer ver frbrukningstrend, och service-pminnelser.",purpose:"Ett praktiskt verktyg fr det dagliga gandet.",status:"done",tech:["Firestore","Recharts","Analytics","Timeline UI"],priority:"medium",tags:["Fuel","Service","Analytics","Maintenance"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"UI-komponenter",completed:!0},{label:"Grafer",completed:!0},{label:"Lanserad",completed:!0}]},{id:15,title:"Backup & Export",category:"Data",description:"Mjlighet att spara ner hela projektet som en JSON-fil.",detailedDescription:"Full projekt-export som JSON blob. OBS: Import r nnu inte implementerad (se Fas 1).",purpose:"Dataskerhet och portabilitet.",status:"done",tech:["JSON Export","File API","Data Portability"],priority:"high",tags:["Data","Security","Export","Backup"],checklist:[{label:"Specad",completed:!0},{label:"Export utvecklad",completed:!0},{label:"Import (se ID 101)",completed:!1},{label:"Lanserad",completed:!0}]},{id:27,title:"Databas-migrering: Sub-collections & Ownership",category:"Infrastruktur",phase:2,description:"Komplett datamodel-uppgradering: Sub-collections, multi-owner, blockers, och Cloud Function triggers.",detailedDescription:"Migrering frn monolitisk dokumentstruktur till hierarkisk struktur. Inkluderar: (1) Multi-owner support med ownerIds[], primaryOwnerId, memberIds[], (2) Sub-collections fr tasks, shoppingList, serviceLog, fuelLog, knowledgeBase, (3) TaskBlocker-system med dependencies, (4) Cloud Function triggers fr automatisk unblocking. Se docs/architecture/DATA_MODEL_MIGRATION.md.",purpose:"Skalbarhet, prestanda, och std fr samarbete.",status:"done",tech:["Firestore Sub-collections","Cloud Functions Triggers","Multi-owner Model"],priority:"high",tags:["Database","Architecture","Scalability","Performance"],checklist:[{label:"Specad (DATA_MODEL_MIGRATION.md)",completed:!0,completedAt:"2025-12-11"},{label:"Fas 1: Ownership-modell (ownerIds, primaryOwnerId)",completed:!0,completedAt:"2025-12-11"},{label:"Fas 2: Sub-collections (serviceLog, fuelLog, knowledgeBase)",completed:!0,completedAt:"2025-12-11"},{label:"Fas 3: Cloud Function triggers (onTaskComplete, onTaskDelete, onProjectDelete)",completed:!0,completedAt:"2025-12-11"},{label:"Firestore Security Rules uppdaterade",completed:!0,completedAt:"2025-12-11"},{label:"Testad (TypeScript check)",completed:!0,completedAt:"2025-12-11"}]},{id:110,title:"Firebase AI Logic Migration",category:"AI Core",phase:2,description:"Migrering frn @google/genai till Firebase AI Logic SDK (firebase/ai) fr direktintegrering med Gemini Developer API.",detailedDescription:"Komplett migrering av AI-systemet till Firebase AI Logic. Frdelar: (1) Ingen separat API-nyckel behvs - hanteras av Firebase, (2) Enklare autentisering via Firebase Auth, (3) Bttre integration med Firebase-ekosystemet. Implementerat: firebaseAIService.ts med createModel(), createChat(), generateText(), generateTextStream(), sendChatMessage(), analyzeImage(), generateJSON(), och performDeepResearch() med multi-agent pattern (Detective + Planner).",purpose:"Frenklad AI-integration med bttre skerhet och Firebase-native upplevelse.",status:"done",tech:["Firebase AI Logic","firebase/ai","Gemini Developer API","GoogleAIBackend"],priority:"high",tags:["AI","Firebase","Migration","Security"],checklist:[{label:"Skapa firebaseAIService.ts med Firebase AI SDK",completed:!0,completedAt:"2025-12-12"},{label:"Implementera createModel() och createChat()",completed:!0,completedAt:"2025-12-12"},{label:"Implementera streaming (generateTextStream, sendChatMessageStream)",completed:!0,completedAt:"2025-12-12"},{label:"Migrera performDeepResearch() (multi-agent)",completed:!0,completedAt:"2025-12-12"},{label:"Uppdatera geminiService.ts imports",completed:!0,completedAt:"2025-12-12"},{label:"Fixa OnboardingWizard generateVehicleIcon",completed:!0,completedAt:"2025-12-12"},{label:"TaskBlocker legacy-support",completed:!0,completedAt:"2025-12-12"}]},{id:107,title:"Transfer Project Ownership",category:"UX/Teams",phase:2,description:"Allows a project owner to transfer ownership to another team member. Replaces the old Import/Export feature.",detailedDescription:"Instead of a file-based import/export, this feature allows a seamless transfer of a project to another user within the platform. This is crucial for when a vehicle is sold or project responsibility changes. Backend-logik (Cloud Function) r klar, UI terstr.",purpose:"Provide a secure and integrated way to hand over project ownership.",status:"in-progress",tech:["Firebase Cloud Functions","Firestore Transactions","React"],priority:"medium",tags:["UX","Teams","Ownership","Data"],checklist:[{label:"Specifikation skriven (PROJECT_TRANSFER_SPEC.md)",completed:!0},{label:"Cloud Function (transferProjectOwnership)",completed:!0,completedAt:"2025-12-10"},{label:"db.ts helpers (addCoOwner, removeCoOwner, transferPrimaryOwnership)",completed:!0,completedAt:"2025-12-11"},{label:"Firestore Security Rules (multi-owner)",completed:!0,completedAt:"2025-12-11"},{label:"Implementera UI i Project Settings",completed:!1,inProgress:!0},{label:"Testa verfringsfldet",completed:!1}]},{id:6,title:"Live Elton (Rst & Video)",category:"AI Core",phase:2,description:'Prata med Elton i realtid via kameran ("Ring upp"). Frontend finns, backend-integration saknas.',detailedDescription:"Real-time video/voice-chat med AI. Krver WebRTC och Gemini Live API integration.",purpose:"En mekaniker-kompis i fickan nr hnderna r oljiga.",status:"in-progress",tech:["WebRTC","Gemini Live API","Video Streaming","Voice Recognition"],priority:"high",tags:["WebRTC","Voice","Video","Real-time","Diagnostics"],checklist:[{label:"Specad",completed:!0},{label:"Frontend utvecklad",completed:!0},{label:"WebRTC-integration",completed:!1,inProgress:!0},{label:"Gemini Live API koppling",completed:!1},{label:"Testad (Live Connection)",completed:!1},{label:"Lanserad",completed:!1}]},{id:8,title:"Ljud-Doktorn (Audio Diagnostik)",category:"AI Core",phase:2,description:"AI lyssnar p motorljud och stller diagnos. Prompt-system klart, frontend-integration saknas.",detailedDescription:"Audio-baserad diagnostik dr AI analyserar motorljud. Anvnder Gemini:s audio processing.",purpose:'Lser problemet "Vad r det som lter?".',status:"in-progress",tech:["Audio Processing","Gemini Audio","Signal Analysis","Web Audio API"],priority:"medium",tags:["Audio","Diagnostics","AI","Analysis"],checklist:[{label:"Specad",completed:!0},{label:"Prompt utvecklad",completed:!0},{label:"Mikrofon-access",completed:!1,inProgress:!0},{label:"Audio streaming",completed:!1},{label:"UI fr diagnos",completed:!1},{label:"Lanserad",completed:!1}]},{id:28,title:"Elton Inspector (AI Besiktning)",category:"Plattform",phase:2,description:'AI-assisterad fordonsbesiktning ("Snap & Triage") med bild- och ljudanalys.',detailedDescription:"Anvndaren fotar problemomrden och AI:n ger diagnos, allvarlighetsgrad, och tgrdsfrslag. Se docs/features/INSPECTOR_SPEC.md.",purpose:"Professionell bedmning av fordonets skick utan att vara expert.",status:"planned",tech:["Gemini Vision","Audio Analysis","Investigation Logic Tree"],priority:"medium",tags:["AI","Vision","Audio","Diagnostics","Mobile"],checklist:[{label:"Specad",completed:!0},{label:"Datamodell (Findings)",completed:!0},{label:"AI-Prompt (Inspector)",completed:!0},{label:"Utvecklad (UI & Logic)",completed:!1},{label:"Lanserad",completed:!1}]},{id:104,title:"Frbttrad Felhantering",category:"UX",phase:2,description:"Centralisera felmeddelanden, lgg till Error Boundaries, frbttra user feedback.",detailedDescription:"Nuvarande felhantering r inkonsekvent. Behver centraliserad error handling med Error Boundaries.",purpose:"Bttre anvndarupplevelse vid fel.",status:"planned",tech:["React Error Boundary","Error Tracking","Toast System"],priority:"medium",tags:["UX","Quality","Error Handling"],checklist:[{label:"Skapa central error service",completed:!1},{label:"Implementera Error Boundaries",completed:!1},{label:"Centralisera toast-hantering",completed:!1},{label:"Lgg till error tracking",completed:!1}]},{id:108,title:"Revision History & Undo",category:"Data",phase:3,description:"Utreda och implementera versionshistorik fr projekt med mjlighet att ngra ndringar.",detailedDescription:"Spara snapshots av projektdata vid viktiga frndringar. Mjliggr ngra-funktion och se historik ver ndringar. Tekniska alternativ: (1) Firestore document versions, (2) Snapshot-collection, (3) Event Sourcing. Behver utredas.",purpose:"Skerhetsnt fr oavsiktliga ndringar och transparent historik.",status:"planned",tech:["Firestore","Event Sourcing","Data Versioning"],priority:"medium",tags:["Data","UX","Safety","History"],checklist:[{label:"Utreda tekniska alternativ",completed:!1},{label:"Skriva specifikation",completed:!1},{label:"Implementera snapshot-system",completed:!1},{label:"Bygga UI fr historik-visning",completed:!1},{label:"Testa och lansera",completed:!1}]},{id:16,title:"Offline-std (PWA)",category:"Infrastruktur",phase:3,description:"Gr appen till en Progressive Web App som fungerar utan ntverk.",detailedDescription:"PWA-implementation med service workers, offline caching, och background sync.",purpose:"Ett garage har ofta dlig tckning. Appen mste fungera offline.",status:"planned",tech:["Vite PWA Plugin","Firestore Persistence","Service Workers"],priority:"high",blockedBy:[27],tags:["PWA","Offline","Mobile","Performance"],checklist:[{label:"Specad",completed:!0},{label:"Firestore offline persistence",completed:!1},{label:"Service Worker setup",completed:!1},{label:"App manifest",completed:!1},{label:"Testad (Flygplanslge)",completed:!1},{label:"Lanserad",completed:!1}]},{id:11,title:"Smart Context & Beslutsstd",category:"Projektledning",phase:3,description:"Visar automatiskt relevant data (t.ex. dckdimensioner) inne p en uppgift.",detailedDescription:"Context-aware UI som visar fordonsdata nr man arbetar med specifika uppgifter.",purpose:"Just-in-time information. Slipp leta i papper.",status:"planned",tech:["Context Awareness","Smart UI","Data Matching"],priority:"medium",tags:["Context","AI","UX","Productivity"],checklist:[{label:"Specad",completed:!0},{label:"Definiera context-triggers",completed:!1},{label:"Utvecklad",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:4,title:"AI-genererad Projektikon (Nano Banana)",category:"AI Core",phase:3,description:"AI ritar en stiliserad flat design-ikon av din bil. BLOCKAD: Vntar p SDK-support.",detailedDescription:"AI-driven bildgenerering. Vntar p @google/genai SDK-std fr image generation.",purpose:"Personligt och proffsigt utseende p projektet.",status:"blocked",tech:["Gemini Image Generation","Flat Design"],priority:"low",tags:["AI","Design","Image","Blocked"],checklist:[{label:"Specad",completed:!0},{label:"Prompt utvecklad",completed:!0},{label:"BLOCKED: SDK-support",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:105,title:"Integrationstester",category:"Testing",phase:3,description:"Komplettera testsviten med integrationstester fr hela user flows.",detailedDescription:"Testa hela flden: Skapa projekt -> Lgg till tasks -> AI-chat -> Export.",purpose:"Skerstlla att alla delar fungerar tillsammans.",status:"planned",tech:["Vitest","Firebase Emulators","MSW"],priority:"medium",tags:["Testing","Quality","Integration"],checklist:[{label:"Setup Firebase Emulators",completed:!1},{label:"Onboarding flow test",completed:!1},{label:"AI chat flow test",completed:!1},{label:"Co-working flow test",completed:!1},{label:"CI/CD integration",completed:!1}]},{id:109,title:"Genkit Migration (AI Framework)",category:"AI Core",phase:4,description:"Utvrdering: Vi valde Firebase AI Logic istllet. Genkit kan vervgas fr backend-flows i framtiden.",detailedDescription:"UPDATE 2025-12-12: Vi migrerade till Firebase AI Logic (firebase/ai SDK) istllet fr Genkit. Firebase AI Logic ger: (1) Direkt Gemini-access utan API-nyckel, (2) Enklare integration med Firebase Auth, (3) Mindre overhead. Genkit kan fortfarande vervgas fr backend Cloud Functions om vi behver: Dotprompt (prompt-versioning), multi-model support (OpenAI/Anthropic), eller Developer UI fr debugging. Lg prioritet - nuvarande lsning fungerar vl.",purpose:"Potentiellt frbttrad AI-utveckling och debugging p backend.",status:"planned",tech:["Genkit","@genkit-ai/googleai","Dotprompt","Zod"],priority:"low",tags:["AI","Framework","DevEx","Optional","Backend"],checklist:[{label:"Utvrdera behov (modellbyte, debugging)",completed:!0,completedAt:"2025-12-12"},{label:"Beslut: Firebase AI Logic fr frontend",completed:!0,completedAt:"2025-12-12"},{label:"Om behov: Proof-of-concept med en Cloud Function flow",completed:!1},{label:"Om behov: Migrera aiDeepResearch CF  Genkit defineFlow",completed:!1},{label:"Om behov: Konvertera prompts till Dotprompt",completed:!1}]},{id:18,title:"Partner-integration (Auto-korg)",category:"Ekonomi",phase:4,description:"Lgg varor i varukorgen hos partners (t.ex. Autodoc) direkt frn appen.",detailedDescription:"Affiliate-integration med bildelarbutiker fr direkta kplnkar.",purpose:"Tjna pengar p plattformen och underltta kp.",status:"planned",tech:["Affiliate APIs","Deep Linking","Partner Integration"],priority:"low",tags:["Affiliate","Monetization","Partners","E-commerce"],checklist:[{label:"Specad",completed:!0},{label:"Partner-kontakt",completed:!1},{label:"API-integration",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:25,title:"Admin UI & Feature Flag Dashboard",category:"Infrastruktur",phase:4,description:"Dashboard fr att hantera feature flags och vervaka anvndning i realtid.",detailedDescription:"Admin-interface fr att toggle features och analysera anvndarbeteende.",purpose:"Enkel kontroll av features utan att ndra kod.",status:"planned",tech:["React Admin Dashboard","Firestore","Analytics"],priority:"low",tags:["Admin","Analytics","Dashboard","Monitoring"],checklist:[{label:"Specad",completed:!1},{label:"Utvecklad (UI)",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:22,title:"The Garage OS (Multi-Brand Platform)",category:"Strategi",phase:4,description:'Transformation till en "White Label"-motor fr olika fordonsgrupper.',detailedDescription:"Plattform som kan anpassas fr olika nischer: VanPlan, RaceKoll, ClassicTracker etc.",purpose:"Skalbarhet och nya marknader.",status:"planned",tech:["Config-driven Architecture","White Label","Multi-tenancy"],priority:"low",tags:["White Label","Strategy","Scale","Platform"],checklist:[{label:"Specad",completed:!0},{label:"Brand Config System",completed:!0},{label:"Dynamiska Teman",completed:!1},{label:"Multi-tenant DB",completed:!1},{label:"Lanserad",completed:!1}]},{id:106,title:"Mobilapp (React Native)",category:"Plattform",phase:4,description:"Native mobilapp fr iOS och Android med bttre kamera- och mikrofon-access.",detailedDescription:"React Native-app som delar business logic med webappen men har native access.",purpose:"Bttre anvndarupplevelse p mobil.",status:"planned",tech:["React Native","Expo","Firebase","Native APIs"],priority:"low",tags:["Mobile","Native","iOS","Android"],checklist:[{label:"Utvrdera React Native vs Flutter",completed:!1},{label:"Setup projekt",completed:!1},{label:"Bygga native features",completed:!1},{label:"App Store submission",completed:!1}]}];function Nce(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const wx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bp(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function CC(t){return"nodeType"in t}function fi(t){var e,n;return t?Bp(t)?t:CC(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function IC(t){const{Document:e}=fi(t);return t instanceof e}function Zg(t){return Bp(t)?!1:t instanceof fi(t).HTMLElement}function fF(t){return t instanceof fi(t).SVGElement}function $p(t){return t?Bp(t)?t.document:CC(t)?IC(t)?t:Zg(t)||fF(t)?t.ownerDocument:document:document:document}const sa=wx?T.useLayoutEffect:T.useEffect;function kx(t){const e=T.useRef(t);return sa(()=>{e.current=t}),T.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function Rce(){const t=T.useRef(null),e=T.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=T.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function ag(t,e){e===void 0&&(e=[t]);const n=T.useRef(t);return sa(()=>{n.current!==t&&(n.current=t)},e),n}function em(t,e){const n=T.useRef();return T.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function jb(t){const e=kx(t),n=T.useRef(null),r=T.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function Lb(t){const e=T.useRef();return T.useEffect(()=>{e.current=t},[t]),e.current}let J1={};function tm(t,e){return T.useMemo(()=>{if(e)return e;const n=J1[t]==null?0:J1[t]+1;return J1[t]=n,t+"-"+n},[t,e])}function hF(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,a)=>{const l=Object.entries(a);for(const[u,d]of l){const p=o[u];p!=null&&(o[u]=p+t*d)}return o},{...e})}}const Qd=hF(1),Ub=hF(-1);function Pce(t){return"clientX"in t&&"clientY"in t}function Ex(t){if(!t)return!1;const{KeyboardEvent:e}=fi(t.target);return e&&t instanceof e}function Oce(t){if(!t)return!1;const{TouchEvent:e}=fi(t.target);return e&&t instanceof e}function Vb(t){if(Oce(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Pce(t)?{x:t.clientX,y:t.clientY}:null}const Fs=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Fs.Translate.toString(t),Fs.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),_M="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Dce(t){return t.matches(_M)?t:t.querySelector(_M)}const Mce={display:"none"};function zce(t){let{id:e,value:n}=t;return Ct.createElement("div",{id:e,style:Mce},n)}function jce(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ct.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function Lce(){const[t,e]=T.useState("");return{announce:T.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const gF=T.createContext(null);function Uce(t){const e=T.useContext(gF);T.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Vce(){const[t]=T.useState(()=>new Set),e=T.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[T.useCallback(r=>{let{type:i,event:o}=r;t.forEach(a=>{var l;return(l=a[i])==null?void 0:l.call(a,o)})},[t]),e]}const Fce={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Bce={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function $ce(t){let{announcements:e=Bce,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=Fce}=t;const{announce:o,announcement:a}=Lce(),l=tm("DndLiveRegion"),[u,d]=T.useState(!1);if(T.useEffect(()=>{d(!0)},[]),Uce(T.useMemo(()=>({onDragStart(g){let{active:m}=g;o(e.onDragStart({active:m}))},onDragMove(g){let{active:m,over:b}=g;e.onDragMove&&o(e.onDragMove({active:m,over:b}))},onDragOver(g){let{active:m,over:b}=g;o(e.onDragOver({active:m,over:b}))},onDragEnd(g){let{active:m,over:b}=g;o(e.onDragEnd({active:m,over:b}))},onDragCancel(g){let{active:m,over:b}=g;o(e.onDragCancel({active:m,over:b}))}}),[o,e])),!u)return null;const p=Ct.createElement(Ct.Fragment,null,Ct.createElement(zce,{id:r,value:i.draggable}),Ct.createElement(jce,{id:l,announcement:a}));return n?tc.createPortal(p,n):p}var nr;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(nr||(nr={}));function Fb(){}function MT(t,e){return T.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function mF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const la=Object.freeze({x:0,y:0});function yF(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function qce(t,e){const n=Vb(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function bF(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function Hce(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function TM(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function Gce(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function SM(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const Kce=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=SM(e,e.left,e.top),o=[];for(const a of r){const{id:l}=a,u=n.get(l);if(u){const d=yF(SM(u),i);o.push({id:l,data:{droppableContainer:a,value:d}})}}return o.sort(bF)},Wce=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=TM(e),o=[];for(const a of r){const{id:l}=a,u=n.get(l);if(u){const d=TM(u),p=i.reduce((m,b,E)=>m+yF(d[E],b),0),g=Number((p/4).toFixed(4));o.push({id:l,data:{droppableContainer:a,value:g}})}}return o.sort(bF)};function Yce(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),a=i-r,l=o-n;if(r<i&&n<o){const u=e.width*e.height,d=t.width*t.height,p=a*l,g=p/(u+d-p);return Number(g.toFixed(4))}return 0}const Jce=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const u=Yce(l,e);u>0&&i.push({id:a,data:{droppableContainer:o,value:u}})}}return i.sort(Hce)};function Xce(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function vF(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:la}function Qce(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((a,l)=>({...a,top:a.top+t*l.y,bottom:a.bottom+t*l.y,left:a.left+t*l.x,right:a.right+t*l.x}),{...n})}}const Zce=Qce(1);function xF(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function eue(t,e,n){const r=xF(e);if(!r)return t;const{scaleX:i,scaleY:o,x:a,y:l}=r,u=t.left-a-(1-i)*parseFloat(n),d=t.top-l-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?t.width/i:t.width,g=o?t.height/o:t.height;return{width:p,height:g,top:d,right:u+p,bottom:d+g,left:u}}const tue={ignoreTransform:!1};function qp(t,e){e===void 0&&(e=tue);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:p}=fi(t).getComputedStyle(t);d&&(n=eue(n,d,p))}const{top:r,left:i,width:o,height:a,bottom:l,right:u}=n;return{top:r,left:i,width:o,height:a,bottom:l,right:u}}function AM(t){return qp(t,{ignoreTransform:!0})}function nue(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function rue(t,e){return e===void 0&&(e=fi(t).getComputedStyle(t)),e.position==="fixed"}function iue(t,e){e===void 0&&(e=fi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=e[i];return typeof o=="string"?n.test(o):!1})}function NC(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(IC(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Zg(i)||fF(i)||n.includes(i))return n;const o=fi(t).getComputedStyle(i);return i!==t&&iue(i,o)&&n.push(i),rue(i,o)?n:r(i.parentNode)}return t?r(t):n}function wF(t){const[e]=NC(t,1);return e??null}function X1(t){return!wx||!t?null:Bp(t)?t:CC(t)?IC(t)||t===$p(t).scrollingElement?window:Zg(t)?t:null:null}function kF(t){return Bp(t)?t.scrollX:t.scrollLeft}function EF(t){return Bp(t)?t.scrollY:t.scrollTop}function zT(t){return{x:kF(t),y:EF(t)}}var yr;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(yr||(yr={}));function _F(t){return!wx||!t?!1:t===document.scrollingElement}function TF(t){const e={x:0,y:0},n=_F(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:a,isRight:l,maxScroll:r,minScroll:e}}const oue={x:.2,y:.2};function aue(t,e,n,r,i){let{top:o,left:a,right:l,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=oue);const{isTop:d,isBottom:p,isLeft:g,isRight:m}=TF(t),b={x:0,y:0},E={x:0,y:0},A={height:e.height*i.y,width:e.width*i.x};return!d&&o<=e.top+A.height?(b.y=yr.Backward,E.y=r*Math.abs((e.top+A.height-o)/A.height)):!p&&u>=e.bottom-A.height&&(b.y=yr.Forward,E.y=r*Math.abs((e.bottom-A.height-u)/A.height)),!m&&l>=e.right-A.width?(b.x=yr.Forward,E.x=r*Math.abs((e.right-A.width-l)/A.width)):!g&&a<=e.left+A.width&&(b.x=yr.Backward,E.x=r*Math.abs((e.left+A.width-a)/A.width)),{direction:b,speed:E}}function sue(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:a}=window;return{top:0,left:0,right:o,bottom:a,width:o,height:a}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function SF(t){return t.reduce((e,n)=>Qd(e,zT(n)),la)}function lue(t){return t.reduce((e,n)=>e+kF(n),0)}function cue(t){return t.reduce((e,n)=>e+EF(n),0)}function AF(t,e){if(e===void 0&&(e=qp),!t)return;const{top:n,left:r,bottom:i,right:o}=e(t);wF(t)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const uue=[["x",["left","right"],lue],["y",["top","bottom"],cue]];class RC{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=NC(n),i=SF(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,a,l]of uue)for(const u of a)Object.defineProperty(this,u,{get:()=>{const d=l(r),p=i[o]-d;return this.rect[u]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function due(t){const{EventTarget:e}=fi(t);return t instanceof e?t:$p(t)}function Q1(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Ao;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ao||(Ao={}));function CM(t){t.preventDefault()}function pue(t){t.stopPropagation()}var Dt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Dt||(Dt={}));const CF={start:[Dt.Space,Dt.Enter],cancel:[Dt.Esc],end:[Dt.Space,Dt.Enter,Dt.Tab]},fue=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Dt.Right:return{...n,x:n.x+25};case Dt.Left:return{...n,x:n.x-25};case Dt.Down:return{...n,y:n.y+25};case Dt.Up:return{...n,y:n.y-25}}};class IF{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Vh($p(n)),this.windowListeners=new Vh(fi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ao.Resize,this.handleCancel),this.windowListeners.add(Ao.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ao.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&AF(r),n(la)}handleKeyDown(e){if(Ex(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=CF,coordinateGetter:a=fue,scrollBehavior:l="smooth"}=i,{code:u}=e;if(o.end.includes(u)){this.handleEnd(e);return}if(o.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=r.current,p=d?{x:d.left,y:d.top}:la;this.referenceCoordinates||(this.referenceCoordinates=p);const g=a(e,{active:n,context:r.current,currentCoordinates:p});if(g){const m=Ub(g,p),b={x:0,y:0},{scrollableAncestors:E}=r.current;for(const A of E){const _=e.code,{isTop:C,isRight:N,isLeft:I,isBottom:D,maxScroll:L,minScroll:M}=TF(A),P=sue(A),z={x:Math.min(_===Dt.Right?P.right-P.width/2:P.right,Math.max(_===Dt.Right?P.left:P.left+P.width/2,g.x)),y:Math.min(_===Dt.Down?P.bottom-P.height/2:P.bottom,Math.max(_===Dt.Down?P.top:P.top+P.height/2,g.y))},U=_===Dt.Right&&!N||_===Dt.Left&&!I,q=_===Dt.Down&&!D||_===Dt.Up&&!C;if(U&&z.x!==g.x){const V=A.scrollLeft+m.x,B=_===Dt.Right&&V<=L.x||_===Dt.Left&&V>=M.x;if(B&&!m.y){A.scrollTo({left:V,behavior:l});return}B?b.x=A.scrollLeft-V:b.x=_===Dt.Right?A.scrollLeft-L.x:A.scrollLeft-M.x,b.x&&A.scrollBy({left:-b.x,behavior:l});break}else if(q&&z.y!==g.y){const V=A.scrollTop+m.y,B=_===Dt.Down&&V<=L.y||_===Dt.Up&&V>=M.y;if(B&&!m.x){A.scrollTo({top:V,behavior:l});return}B?b.y=A.scrollTop-V:b.y=_===Dt.Down?A.scrollTop-L.y:A.scrollTop-M.y,b.y&&A.scrollBy({top:-b.y,behavior:l});break}}this.handleMove(e,Qd(Ub(g,this.referenceCoordinates),b))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}IF.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=CF,onActivation:i}=e,{active:o}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const l=o.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function IM(t){return!!(t&&"distance"in t)}function NM(t){return!!(t&&"delay"in t)}class PC{constructor(e,n,r){var i;r===void 0&&(r=due(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:a}=o;this.props=e,this.events=n,this.document=$p(a),this.documentListeners=new Vh(this.document),this.listeners=new Vh(r),this.windowListeners=new Vh(fi(a)),this.initialCoordinates=(i=Vb(o))!=null?i:la,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ao.Resize,this.handleCancel),this.windowListeners.add(Ao.DragStart,CM),this.windowListeners.add(Ao.VisibilityChange,this.handleCancel),this.windowListeners.add(Ao.ContextMenu,CM),this.documentListeners.add(Ao.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(NM(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(IM(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ao.Click,pue,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ao.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:a,options:{activationConstraint:l}}=o;if(!i)return;const u=(n=Vb(e))!=null?n:la,d=Ub(i,u);if(!r&&l){if(IM(l)){if(l.tolerance!=null&&Q1(d,l.tolerance))return this.handleCancel();if(Q1(d,l.distance))return this.handleStart()}if(NM(l)&&Q1(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Dt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const hue={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class _x extends PC{constructor(e){const{event:n}=e,r=$p(n.target);super(e,hue,r)}}_x.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const gue={move:{name:"mousemove"},end:{name:"mouseup"}};var jT;(function(t){t[t.RightClick=2]="RightClick"})(jT||(jT={}));class mue extends PC{constructor(e){super(e,gue,$p(e.event.target))}}mue.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===jT.RightClick?!1:(r==null||r({event:n}),!0)}}];const Z1={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class NF extends PC{constructor(e){super(e,Z1)}static setup(){return window.addEventListener(Z1.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Z1.move.name,e)};function e(){}}}NF.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Fh;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Fh||(Fh={}));var Bb;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Bb||(Bb={}));function yue(t){let{acceleration:e,activator:n=Fh.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:a=5,order:l=Bb.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:p,delta:g,threshold:m}=t;const b=vue({delta:g,disabled:!o}),[E,A]=Rce(),_=T.useRef({x:0,y:0}),C=T.useRef({x:0,y:0}),N=T.useMemo(()=>{switch(n){case Fh.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Fh.DraggableRect:return i}},[n,i,u]),I=T.useRef(null),D=T.useCallback(()=>{const M=I.current;if(!M)return;const P=_.current.x*C.current.x,z=_.current.y*C.current.y;M.scrollBy(P,z)},[]),L=T.useMemo(()=>l===Bb.TreeOrder?[...d].reverse():d,[l,d]);T.useEffect(()=>{if(!o||!d.length||!N){A();return}for(const M of L){if((r==null?void 0:r(M))===!1)continue;const P=d.indexOf(M),z=p[P];if(!z)continue;const{direction:U,speed:q}=aue(M,z,N,e,m);for(const V of["x","y"])b[V][U[V]]||(q[V]=0,U[V]=0);if(q.x>0||q.y>0){A(),I.current=M,E(D,a),_.current=q,C.current=U;return}}_.current={x:0,y:0},C.current={x:0,y:0},A()},[e,D,r,A,o,a,JSON.stringify(N),JSON.stringify(b),E,d,L,p,JSON.stringify(m)])}const bue={x:{[yr.Backward]:!1,[yr.Forward]:!1},y:{[yr.Backward]:!1,[yr.Forward]:!1}};function vue(t){let{delta:e,disabled:n}=t;const r=Lb(e);return em(i=>{if(n||!r||!i)return bue;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[yr.Backward]:i.x[yr.Backward]||o.x===-1,[yr.Forward]:i.x[yr.Forward]||o.x===1},y:{[yr.Backward]:i.y[yr.Backward]||o.y===-1,[yr.Forward]:i.y[yr.Forward]||o.y===1}}},[n,e,r])}function xue(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return em(i=>{var o;return e==null?null:(o=r??i)!=null?o:null},[r,e])}function wue(t,e){return T.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...o]},[]),[t,e])}var sg;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(sg||(sg={}));var LT;(function(t){t.Optimized="optimized"})(LT||(LT={}));const RM=new Map;function kue(t,e){let{dragging:n,dependencies:r,config:i}=e;const[o,a]=T.useState(null),{frequency:l,measure:u,strategy:d}=i,p=T.useRef(t),g=_(),m=ag(g),b=T.useCallback(function(C){C===void 0&&(C=[]),!m.current&&a(N=>N===null?C:N.concat(C.filter(I=>!N.includes(I))))},[m]),E=T.useRef(null),A=em(C=>{if(g&&!n)return RM;if(!C||C===RM||p.current!==t||o!=null){const N=new Map;for(let I of t){if(!I)continue;if(o&&o.length>0&&!o.includes(I.id)&&I.rect.current){N.set(I.id,I.rect.current);continue}const D=I.node.current,L=D?new RC(u(D),D):null;I.rect.current=L,L&&N.set(I.id,L)}return N}return C},[t,o,n,g,u]);return T.useEffect(()=>{p.current=t},[t]),T.useEffect(()=>{g||b()},[n,g]),T.useEffect(()=>{o&&o.length>0&&a(null)},[JSON.stringify(o)]),T.useEffect(()=>{g||typeof l!="number"||E.current!==null||(E.current=setTimeout(()=>{b(),E.current=null},l))},[l,g,b,...r]),{droppableRects:A,measureDroppableContainers:b,measuringScheduled:o!=null};function _(){switch(d){case sg.Always:return!1;case sg.BeforeDragging:return n;default:return!n}}}function OC(t,e){return em(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function Eue(t,e){return OC(t,e)}function _ue(t){let{callback:e,disabled:n}=t;const r=kx(e),i=T.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return T.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Tx(t){let{callback:e,disabled:n}=t;const r=kx(e),i=T.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return T.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Tue(t){return new RC(qp(t),t)}function PM(t,e,n){e===void 0&&(e=Tue);const[r,i]=T.useState(null);function o(){i(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const p=e(t);return JSON.stringify(u)===JSON.stringify(p)?u:p})}const a=_ue({callback(u){if(t)for(const d of u){const{type:p,target:g}=d;if(p==="childList"&&g instanceof HTMLElement&&g.contains(t)){o();break}}}}),l=Tx({callback:o});return sa(()=>{o(),t?(l==null||l.observe(t),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),a==null||a.disconnect())},[t]),r}function Sue(t){const e=OC(t);return vF(t,e)}const OM=[];function Aue(t){const e=T.useRef(t),n=em(r=>t?r&&r!==OM&&t&&e.current&&t.parentNode===e.current.parentNode?r:NC(t):OM,[t]);return T.useEffect(()=>{e.current=t},[t]),n}function Cue(t){const[e,n]=T.useState(null),r=T.useRef(t),i=T.useCallback(o=>{const a=X1(o.target);a&&n(l=>l?(l.set(a,zT(a)),new Map(l)):null)},[]);return T.useEffect(()=>{const o=r.current;if(t!==o){a(o);const l=t.map(u=>{const d=X1(u);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,zT(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),r.current=t}return()=>{a(t),a(o)};function a(l){l.forEach(u=>{const d=X1(u);d==null||d.removeEventListener("scroll",i)})}},[i,t]),T.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,a)=>Qd(o,a),la):SF(t):la,[t,e])}function DM(t,e){e===void 0&&(e=[]);const n=T.useRef(null);return T.useEffect(()=>{n.current=null},e),T.useEffect(()=>{const r=t!==la;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Ub(t,n.current):la}function Iue(t){T.useEffect(()=>{if(!wx)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function Nue(t,e){return T.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=a=>{o(a,e)},n},{}),[t,e])}function RF(t){return T.useMemo(()=>t?nue(t):null,[t])}const MM=[];function Rue(t,e){e===void 0&&(e=qp);const[n]=t,r=RF(n?fi(n):null),[i,o]=T.useState(MM);function a(){o(()=>t.length?t.map(u=>_F(u)?r:new RC(e(u),u)):MM)}const l=Tx({callback:a});return sa(()=>{l==null||l.disconnect(),a(),t.forEach(u=>l==null?void 0:l.observe(u))},[t]),i}function PF(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Zg(e)?e:t}function Pue(t){let{measure:e}=t;const[n,r]=T.useState(null),i=T.useCallback(d=>{for(const{target:p}of d)if(Zg(p)){r(g=>{const m=e(p);return g?{...g,width:m.width,height:m.height}:m});break}},[e]),o=Tx({callback:i}),a=T.useCallback(d=>{const p=PF(d);o==null||o.disconnect(),p&&(o==null||o.observe(p)),r(p?e(p):null)},[e,o]),[l,u]=jb(a);return T.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const Oue=[{sensor:_x,options:{}},{sensor:IF,options:{}}],Due={current:{}},B0={draggable:{measure:AM},droppable:{measure:AM,strategy:sg.WhileDragging,frequency:LT.Optimized},dragOverlay:{measure:qp}};class Bh extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const Mue={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Bh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Fb},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:B0,measureDroppableContainers:Fb,windowRect:null,measuringScheduled:!1},OF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Fb,draggableNodes:new Map,over:null,measureDroppableContainers:Fb},nm=T.createContext(OF),DF=T.createContext(Mue);function zue(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Bh}}}function jue(t,e){switch(e.type){case nr.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case nr.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case nr.DragEnd:case nr.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case nr.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new Bh(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case nr.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const a=new Bh(t.droppable.containers);return a.set(n,{...o,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case nr.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new Bh(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function Lue(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=T.useContext(nm),o=Lb(r),a=Lb(n==null?void 0:n.id);return T.useEffect(()=>{if(!e&&!r&&o&&a!=null){if(!Ex(o)||document.activeElement===o.target)return;const l=i.get(a);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const p of[u.current,d.current]){if(!p)continue;const g=Dce(p);if(g){g.focus();break}}})}},[r,e,i,a,o]),null}function MF(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,o)=>o({transform:i,...r}),n):n}function Uue(t){return T.useMemo(()=>({draggable:{...B0.draggable,...t==null?void 0:t.draggable},droppable:{...B0.droppable,...t==null?void 0:t.droppable},dragOverlay:{...B0.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function Vue(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const o=T.useRef(!1),{x:a,y:l}=typeof i=="boolean"?{x:i,y:i}:i;sa(()=>{if(!a&&!l||!e){o.current=!1;return}if(o.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const p=n(d),g=vF(p,r);if(a||(g.x=0),l||(g.y=0),o.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const m=wF(d);m&&m.scrollBy({top:g.y,left:g.x})}},[e,a,l,r,n])}const Sx=T.createContext({...la,scaleX:1,scaleY:1});var Gl;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Gl||(Gl={}));const zF=T.memo(function(e){var n,r,i,o;let{id:a,accessibility:l,autoScroll:u=!0,children:d,sensors:p=Oue,collisionDetection:g=Jce,measuring:m,modifiers:b,...E}=e;const A=T.useReducer(jue,void 0,zue),[_,C]=A,[N,I]=Vce(),[D,L]=T.useState(Gl.Uninitialized),M=D===Gl.Initialized,{draggable:{active:P,nodes:z,translate:U},droppable:{containers:q}}=_,V=P!=null?z.get(P):null,B=T.useRef({initial:null,translated:null}),F=T.useMemo(()=>{var ft;return P!=null?{id:P,data:(ft=V==null?void 0:V.data)!=null?ft:Due,rect:B}:null},[P,V]),ne=T.useRef(null),[W,X]=T.useState(null),[Z,oe]=T.useState(null),fe=ag(E,Object.values(E)),Y=tm("DndDescribedBy",a),G=T.useMemo(()=>q.getEnabled(),[q]),J=Uue(m),{droppableRects:$,measureDroppableContainers:be,measuringScheduled:_e}=kue(G,{dragging:M,dependencies:[U.x,U.y],config:J.droppable}),Te=xue(z,P),je=T.useMemo(()=>Z?Vb(Z):null,[Z]),Ye=rs(),ue=Eue(Te,J.draggable.measure);Vue({activeNode:P!=null?z.get(P):null,config:Ye.layoutShiftCompensation,initialRect:ue,measure:J.draggable.measure});const Ae=PM(Te,J.draggable.measure,ue),ae=PM(Te?Te.parentElement:null),le=T.useRef({activatorEvent:null,active:null,activeNode:Te,collisionRect:null,collisions:null,droppableRects:$,draggableNodes:z,draggingNode:null,draggingNodeRect:null,droppableContainers:q,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),qe=q.getNodeFor((n=le.current.over)==null?void 0:n.id),Be=Pue({measure:J.dragOverlay.measure}),pt=(r=Be.nodeRef.current)!=null?r:Te,_t=M?(i=Be.rect)!=null?i:Ae:null,_n=!!(Be.nodeRef.current&&Be.rect),Xr=Sue(_n?null:Ae),Vt=RF(pt?fi(pt):null),Tt=Aue(M?qe??Te:null),Er=Rue(Tt),ji=MF(b,{transform:{x:U.x-Xr.x,y:U.y-Xr.y,scaleX:1,scaleY:1},activatorEvent:Z,active:F,activeNodeRect:Ae,containerNodeRect:ae,draggingNodeRect:_t,over:le.current.over,overlayNodeRect:Be.rect,scrollableAncestors:Tt,scrollableAncestorRects:Er,windowRect:Vt}),Ce=je?Qd(je,U):null,Pe=Cue(Tt),de=DM(Pe),ee=DM(Pe,[Ae]),ge=Qd(ji,de),Re=_t?Zce(_t,ji):null,De=F&&Re?g({active:F,collisionRect:Re,droppableRects:$,droppableContainers:G,pointerCoordinates:Ce}):null,Oe=Gce(De,"id"),[Je,zt]=T.useState(null),Wt=_n?ji:Qd(ji,ee),kt=Xce(Wt,(o=Je==null?void 0:Je.rect)!=null?o:null,Ae),fn=T.useRef(null),dt=T.useCallback((ft,hn)=>{let{sensor:gn,options:Un}=hn;if(ne.current==null)return;const jr=z.get(ne.current);if(!jr)return;const cr=ft.nativeEvent,Rn=new gn({active:ne.current,activeNode:jr,event:cr,options:Un,context:le,onAbort(Pn){if(!z.get(Pn))return;const{onDragAbort:Ur}=fe.current,Qr={id:Pn};Ur==null||Ur(Qr),N({type:"onDragAbort",event:Qr})},onPending(Pn,Lr,Ur,Qr){if(!z.get(Pn))return;const{onDragPending:Zr}=fe.current,Vi={id:Pn,constraint:Lr,initialCoordinates:Ur,offset:Qr};Zr==null||Zr(Vi),N({type:"onDragPending",event:Vi})},onStart(Pn){const Lr=ne.current;if(Lr==null)return;const Ur=z.get(Lr);if(!Ur)return;const{onDragStart:Qr}=fe.current,Ui={activatorEvent:cr,active:{id:Lr,data:Ur.data,rect:B}};tc.unstable_batchedUpdates(()=>{Qr==null||Qr(Ui),L(Gl.Initializing),C({type:nr.DragStart,initialCoordinates:Pn,active:Lr}),N({type:"onDragStart",event:Ui}),X(fn.current),oe(cr)})},onMove(Pn){C({type:nr.DragMove,coordinates:Pn})},onEnd:mi(nr.DragEnd),onCancel:mi(nr.DragCancel)});fn.current=Rn;function mi(Pn){return async function(){const{active:Ur,collisions:Qr,over:Ui,scrollAdjustedTranslate:Zr}=le.current;let Vi=null;if(Ur&&Zr){const{cancelDrop:_r}=fe.current;Vi={activatorEvent:cr,active:Ur,collisions:Qr,delta:Zr,over:Ui},Pn===nr.DragEnd&&typeof _r=="function"&&await Promise.resolve(_r(Vi))&&(Pn=nr.DragCancel)}ne.current=null,tc.unstable_batchedUpdates(()=>{C({type:Pn}),L(Gl.Uninitialized),zt(null),X(null),oe(null),fn.current=null;const _r=Pn===nr.DragEnd?"onDragEnd":"onDragCancel";if(Vi){const ei=fe.current[_r];ei==null||ei(Vi),N({type:_r,event:Vi})}})}}},[z]),Li=T.useCallback((ft,hn)=>(gn,Un)=>{const jr=gn.nativeEvent,cr=z.get(Un);if(ne.current!==null||!cr||jr.dndKit||jr.defaultPrevented)return;const Rn={active:cr};ft(gn,hn.options,Rn)===!0&&(jr.dndKit={capturedBy:hn.sensor},ne.current=Un,dt(gn,hn))},[z,dt]),Zn=wue(p,Li);Iue(p),sa(()=>{Ae&&D===Gl.Initializing&&L(Gl.Initialized)},[Ae,D]),T.useEffect(()=>{const{onDragMove:ft}=fe.current,{active:hn,activatorEvent:gn,collisions:Un,over:jr}=le.current;if(!hn||!gn)return;const cr={active:hn,activatorEvent:gn,collisions:Un,delta:{x:ge.x,y:ge.y},over:jr};tc.unstable_batchedUpdates(()=>{ft==null||ft(cr),N({type:"onDragMove",event:cr})})},[ge.x,ge.y]),T.useEffect(()=>{const{active:ft,activatorEvent:hn,collisions:gn,droppableContainers:Un,scrollAdjustedTranslate:jr}=le.current;if(!ft||ne.current==null||!hn||!jr)return;const{onDragOver:cr}=fe.current,Rn=Un.get(Oe),mi=Rn&&Rn.rect.current?{id:Rn.id,rect:Rn.rect.current,data:Rn.data,disabled:Rn.disabled}:null,Pn={active:ft,activatorEvent:hn,collisions:gn,delta:{x:jr.x,y:jr.y},over:mi};tc.unstable_batchedUpdates(()=>{zt(mi),cr==null||cr(Pn),N({type:"onDragOver",event:Pn})})},[Oe]),sa(()=>{le.current={activatorEvent:Z,active:F,activeNode:Te,collisionRect:Re,collisions:De,droppableRects:$,draggableNodes:z,draggingNode:pt,draggingNodeRect:_t,droppableContainers:q,over:Je,scrollableAncestors:Tt,scrollAdjustedTranslate:ge},B.current={initial:_t,translated:Re}},[F,Te,De,Re,z,pt,_t,$,q,Je,Tt,ge]),yue({...Ye,delta:U,draggingRect:Re,pointerCoordinates:Ce,scrollableAncestors:Tt,scrollableAncestorRects:Er});const qu=T.useMemo(()=>({active:F,activeNode:Te,activeNodeRect:Ae,activatorEvent:Z,collisions:De,containerNodeRect:ae,dragOverlay:Be,draggableNodes:z,droppableContainers:q,droppableRects:$,over:Je,measureDroppableContainers:be,scrollableAncestors:Tt,scrollableAncestorRects:Er,measuringConfiguration:J,measuringScheduled:_e,windowRect:Vt}),[F,Te,Ae,Z,De,ae,Be,z,q,$,Je,be,Tt,Er,J,_e,Vt]),lo=T.useMemo(()=>({activatorEvent:Z,activators:Zn,active:F,activeNodeRect:Ae,ariaDescribedById:{draggable:Y},dispatch:C,draggableNodes:z,over:Je,measureDroppableContainers:be}),[Z,Zn,F,Ae,C,Y,z,Je,be]);return Ct.createElement(gF.Provider,{value:I},Ct.createElement(nm.Provider,{value:lo},Ct.createElement(DF.Provider,{value:qu},Ct.createElement(Sx.Provider,{value:kt},d)),Ct.createElement(Lue,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Ct.createElement($ce,{...l,hiddenTextDescribedById:Y}));function rs(){const ft=(W==null?void 0:W.autoScrollEnabled)===!1,hn=typeof u=="object"?u.enabled===!1:u===!1,gn=M&&!ft&&!hn;return typeof u=="object"?{...u,enabled:gn}:{enabled:gn}}}),Fue=T.createContext(null),zM="button",Bue="Draggable";function $ue(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const o=tm(Bue),{activators:a,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:p,draggableNodes:g,over:m}=T.useContext(nm),{role:b=zM,roleDescription:E="draggable",tabIndex:A=0}=i??{},_=(u==null?void 0:u.id)===e,C=T.useContext(_?Sx:Fue),[N,I]=jb(),[D,L]=jb(),M=Nue(a,e),P=ag(n);sa(()=>(g.set(e,{id:e,key:o,node:N,activatorNode:D,data:P}),()=>{const U=g.get(e);U&&U.key===o&&g.delete(e)}),[g,e]);const z=T.useMemo(()=>({role:b,tabIndex:A,"aria-disabled":r,"aria-pressed":_&&b===zM?!0:void 0,"aria-roledescription":E,"aria-describedby":p.draggable}),[r,b,A,_,E,p.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:z,isDragging:_,listeners:r?void 0:M,node:N,over:m,setNodeRef:I,setActivatorNodeRef:L,transform:C}}function jF(){return T.useContext(DF)}const que="Droppable",Hue={timeout:25};function LF(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const o=tm(que),{active:a,dispatch:l,over:u,measureDroppableContainers:d}=T.useContext(nm),p=T.useRef({disabled:n}),g=T.useRef(!1),m=T.useRef(null),b=T.useRef(null),{disabled:E,updateMeasurementsFor:A,timeout:_}={...Hue,...i},C=ag(A??r),N=T.useCallback(()=>{if(!g.current){g.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{d(Array.isArray(C.current)?C.current:[C.current]),b.current=null},_)},[_]),I=Tx({callback:N,disabled:E||!a}),D=T.useCallback((z,U)=>{I&&(U&&(I.unobserve(U),g.current=!1),z&&I.observe(z))},[I]),[L,M]=jb(D),P=ag(e);return T.useEffect(()=>{!I||!L.current||(I.disconnect(),g.current=!1,I.observe(L.current))},[L,I]),T.useEffect(()=>(l({type:nr.RegisterDroppable,element:{id:r,key:o,disabled:n,node:L,rect:m,data:P}}),()=>l({type:nr.UnregisterDroppable,key:o,id:r})),[r]),T.useEffect(()=>{n!==p.current.disabled&&(l({type:nr.SetDroppableDisabled,id:r,key:o,disabled:n}),p.current.disabled=n)},[r,o,n,l]),{active:a,rect:m,isOver:(u==null?void 0:u.id)===r,node:L,over:u,setNodeRef:M}}function Gue(t){let{animation:e,children:n}=t;const[r,i]=T.useState(null),[o,a]=T.useState(null),l=Lb(n);return!n&&!r&&l&&i(l),sa(()=>{if(!o)return;const u=r==null?void 0:r.key,d=r==null?void 0:r.props.id;if(u==null||d==null){i(null);return}Promise.resolve(e(d,o)).then(()=>{i(null)})},[e,r,o]),Ct.createElement(Ct.Fragment,null,n,r?T.cloneElement(r,{ref:a}):null)}const Kue={x:0,y:0,scaleX:1,scaleY:1};function Wue(t){let{children:e}=t;return Ct.createElement(nm.Provider,{value:OF},Ct.createElement(Sx.Provider,{value:Kue},e))}const Yue={position:"fixed",touchAction:"none"},Jue=t=>Ex(t)?"transform 250ms ease":void 0,Xue=T.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:o,className:a,rect:l,style:u,transform:d,transition:p=Jue}=t;if(!l)return null;const g=i?d:{...d,scaleX:1,scaleY:1},m={...Yue,width:l.width,height:l.height,top:l.top,left:l.left,transform:Fs.Transform.toString(g),transformOrigin:i&&r?qce(r,l):void 0,transition:typeof p=="function"?p(r):p,...u};return Ct.createElement(n,{className:a,style:m,ref:e},o)}),Que=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:o,className:a}=t;if(o!=null&&o.active)for(const[l,u]of Object.entries(o.active))u!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,u));if(o!=null&&o.dragOverlay)for(const[l,u]of Object.entries(o.dragOverlay))u!==void 0&&r.node.style.setProperty(l,u);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[u,d]of Object.entries(i))n.node.style.setProperty(u,d);a!=null&&a.active&&n.node.classList.remove(a.active)}},Zue=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Fs.Transform.toString(e)},{transform:Fs.Transform.toString(n)}]},ede={duration:250,easing:"ease",keyframes:Zue,sideEffects:Que({styles:{active:{opacity:"0"}}})};function tde(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return kx((o,a)=>{if(e===null)return;const l=n.get(o);if(!l)return;const u=l.node.current;if(!u)return;const d=PF(a);if(!d)return;const{transform:p}=fi(a).getComputedStyle(a),g=xF(p);if(!g)return;const m=typeof e=="function"?e:nde(e);return AF(u,i.draggable.measure),m({active:{id:o,data:l.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:a,rect:i.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:i,transform:g})})}function nde(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...ede,...t};return o=>{let{active:a,dragOverlay:l,transform:u,...d}=o;if(!e)return;const p={x:l.rect.left-a.rect.left,y:l.rect.top-a.rect.top},g={scaleX:u.scaleX!==1?a.rect.width*u.scaleX/l.rect.width:1,scaleY:u.scaleY!==1?a.rect.height*u.scaleY/l.rect.height:1},m={x:u.x-p.x,y:u.y-p.y,...g},b=i({...d,active:a,dragOverlay:l,transform:{initial:u,final:m}}),[E]=b,A=b[b.length-1];if(JSON.stringify(E)===JSON.stringify(A))return;const _=r==null?void 0:r({active:a,dragOverlay:l,...d}),C=l.node.animate(b,{duration:e,easing:n,fill:"forwards"});return new Promise(N=>{C.onfinish=()=>{_==null||_(),N()}})}}let jM=0;function rde(t){return T.useMemo(()=>{if(t!=null)return jM++,jM},[t])}const UF=Ct.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:o,modifiers:a,wrapperElement:l="div",className:u,zIndex:d=999}=t;const{activatorEvent:p,active:g,activeNodeRect:m,containerNodeRect:b,draggableNodes:E,droppableContainers:A,dragOverlay:_,over:C,measuringConfiguration:N,scrollableAncestors:I,scrollableAncestorRects:D,windowRect:L}=jF(),M=T.useContext(Sx),P=rde(g==null?void 0:g.id),z=MF(a,{activatorEvent:p,active:g,activeNodeRect:m,containerNodeRect:b,draggingNodeRect:_.rect,over:C,overlayNodeRect:_.rect,scrollableAncestors:I,scrollableAncestorRects:D,transform:M,windowRect:L}),U=OC(m),q=tde({config:r,draggableNodes:E,droppableContainers:A,measuringConfiguration:N}),V=U?_.setRef:void 0;return Ct.createElement(Wue,null,Ct.createElement(Gue,{animation:q},g&&P?Ct.createElement(Xue,{key:P,id:g.id,ref:V,as:l,activatorEvent:p,adjustScale:e,className:u,transition:o,rect:U,style:{zIndex:d,...i},transform:z},n):null))});function VF(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function ide(t,e){return t.reduce((n,r,i)=>{const o=e.get(r);return o&&(n[i]=o),n},Array(t.length))}function a0(t){return t!==null&&t>=0}function ode(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function ade(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const FF=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const o=VF(e,r,n),a=e[i],l=o[i];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},s0={scaleX:1,scaleY:1},$0=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:a}=t;const l=(e=o[n])!=null?e:r;if(!l)return null;if(i===n){const d=o[a];return d?{x:0,y:n<a?d.top+d.height-(l.top+l.height):d.top-l.top,...s0}:null}const u=sde(o,i,n);return i>n&&i<=a?{x:0,y:-l.height-u,...s0}:i<n&&i>=a?{x:0,y:l.height+u,...s0}:{x:0,y:0,...s0}};function sde(t,e,n){const r=t[e],i=t[e-1],o=t[e+1];return r?n<e?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const BF="Sortable",$F=Ct.createContext({activeIndex:-1,containerId:BF,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:FF,disabled:{draggable:!1,droppable:!1}});function q0(t){let{children:e,id:n,items:r,strategy:i=FF,disabled:o=!1}=t;const{active:a,dragOverlay:l,droppableRects:u,over:d,measureDroppableContainers:p}=jF(),g=tm(BF,n),m=l.rect!==null,b=T.useMemo(()=>r.map(M=>typeof M=="object"&&"id"in M?M.id:M),[r]),E=a!=null,A=a?b.indexOf(a.id):-1,_=d?b.indexOf(d.id):-1,C=T.useRef(b),N=!ode(b,C.current),I=_!==-1&&A===-1||N,D=ade(o);sa(()=>{N&&E&&p(b)},[N,b,E,p]),T.useEffect(()=>{C.current=b},[b]);const L=T.useMemo(()=>({activeIndex:A,containerId:g,disabled:D,disableTransforms:I,items:b,overIndex:_,useDragOverlay:m,sortedRects:ide(b,u),strategy:i}),[A,g,D.draggable,D.droppable,I,b,_,u,m,i]);return Ct.createElement($F.Provider,{value:L},e)}const lde=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return VF(n,r,i).indexOf(e)},cde=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:o,newIndex:a,previousItems:l,previousContainerId:u,transition:d}=t;return!d||!r||l!==o&&i===a?!1:n?!0:a!==i&&e===u},ude={duration:200,easing:"ease"},qF="transform",dde=Fs.Transition.toString({property:qF,duration:0,easing:"linear"}),pde={roleDescription:"sortable"};function fde(t){let{disabled:e,index:n,node:r,rect:i}=t;const[o,a]=T.useState(null),l=T.useRef(n);return sa(()=>{if(!e&&n!==l.current&&r.current){const u=i.current;if(u){const d=qp(r.current,{ignoreTransform:!0}),p={x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height};(p.x||p.y)&&a(p)}}n!==l.current&&(l.current=n)},[e,n,r,i]),T.useEffect(()=>{o&&a(null)},[o]),o}function HF(t){let{animateLayoutChanges:e=cde,attributes:n,disabled:r,data:i,getNewIndex:o=lde,id:a,strategy:l,resizeObserverConfig:u,transition:d=ude}=t;const{items:p,containerId:g,activeIndex:m,disabled:b,disableTransforms:E,sortedRects:A,overIndex:_,useDragOverlay:C,strategy:N}=T.useContext($F),I=hde(r,b),D=p.indexOf(a),L=T.useMemo(()=>({sortable:{containerId:g,index:D,items:p},...i}),[g,i,D,p]),M=T.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:P,node:z,isOver:U,setNodeRef:q}=LF({id:a,data:L,disabled:I.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...u}}),{active:V,activatorEvent:B,activeNodeRect:F,attributes:ne,setNodeRef:W,listeners:X,isDragging:Z,over:oe,setActivatorNodeRef:fe,transform:Y}=$ue({id:a,data:L,attributes:{...pde,...n},disabled:I.draggable}),G=Nce(q,W),J=!!V,$=J&&!E&&a0(m)&&a0(_),be=!C&&Z,_e=be&&$?Y:null,je=$?_e??(l??N)({rects:A,activeNodeRect:F,activeIndex:m,overIndex:_,index:D}):null,Ye=a0(m)&&a0(_)?o({id:a,items:p,activeIndex:m,overIndex:_}):D,ue=V==null?void 0:V.id,Ae=T.useRef({activeId:ue,items:p,newIndex:Ye,containerId:g}),ae=p!==Ae.current.items,le=e({active:V,containerId:g,isDragging:Z,isSorting:J,id:a,index:D,items:p,newIndex:Ae.current.newIndex,previousItems:Ae.current.items,previousContainerId:Ae.current.containerId,transition:d,wasDragging:Ae.current.activeId!=null}),qe=fde({disabled:!le,index:D,node:z,rect:P});return T.useEffect(()=>{J&&Ae.current.newIndex!==Ye&&(Ae.current.newIndex=Ye),g!==Ae.current.containerId&&(Ae.current.containerId=g),p!==Ae.current.items&&(Ae.current.items=p)},[J,Ye,g,p]),T.useEffect(()=>{if(ue===Ae.current.activeId)return;if(ue!=null&&Ae.current.activeId==null){Ae.current.activeId=ue;return}const pt=setTimeout(()=>{Ae.current.activeId=ue},50);return()=>clearTimeout(pt)},[ue]),{active:V,activeIndex:m,attributes:ne,data:L,rect:P,index:D,newIndex:Ye,items:p,isOver:U,isSorting:J,isDragging:Z,listeners:X,node:z,overIndex:_,over:oe,setNodeRef:G,setActivatorNodeRef:fe,setDroppableNodeRef:q,setDraggableNodeRef:W,transform:qe??je,transition:Be()};function Be(){if(qe||ae&&Ae.current.newIndex===D)return dde;if(!(be&&!Ex(B)||!d)&&(J||le))return Fs.Transition.toString({...d,property:qF})}}function hde(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}Dt.Down,Dt.Right,Dt.Up,Dt.Left;const uh=({feature:t,onClick:e,isDraggable:n=!1})=>{const{attributes:r,listeners:i,setNodeRef:o,transform:a,transition:l,isDragging:u}=HF({id:t.id.toString(),disabled:!n}),d={transform:Fs.Transform.toString(a),transition:l,opacity:u?.5:1},p=I=>{switch(I){case"AI Core":return h.jsx(ab,{size:16,className:"text-amber-500"});case"Plattform":return h.jsx(wO,{size:16,className:"text-blue-500"});case"Ekonomi":return h.jsx(UJ,{size:16,className:"text-green-500"});case"Garage":return h.jsx(Po,{size:16,className:"text-slate-500"});case"Kunskap":return h.jsx(Jh,{size:16,className:"text-purple-500"});case"Data":return h.jsx(H3,{size:16,className:"text-indigo-500"});case"Infrastruktur":return h.jsx(wO,{size:16,className:"text-teal-500"});case"Projektledning":return h.jsx(sp,{size:16,className:"text-orange-500"});case"Strategi":return h.jsx(kO,{size:16,className:"text-pink-500"});default:return h.jsx(kO,{size:16,className:"text-slate-400"})}},m=(I=>I==="done"?{bg:"bg-teal-50",border:"border-teal-200",text:"text-teal-700",badge:"bg-teal-100 text-teal-800 border-teal-200",icon:h.jsx(An,{size:12}),label:"Lanserad"}:I==="in-progress"?{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-700",badge:"bg-amber-100 text-amber-800 border-amber-200",icon:h.jsx(q3,{size:12}),label:"Pgr"}:{bg:"bg-slate-50",border:"border-slate-200",text:"text-slate-600",badge:"bg-slate-100 text-slate-600 border-slate-200",icon:h.jsx(Ns,{size:12}),label:"Planerad"})(t.status),b=t.checklist.filter(I=>I.completed).length,E=t.checklist.length,A=b/E*100,_=Array.isArray(t.tech)?t.tech:[t.tech],C=_.slice(0,2),N=_.length-2;return h.jsxs("div",{ref:o,style:d,onClick:e,className:`
                ${m.bg} ${m.border}
                border-2 rounded-2xl p-5
                cursor-pointer transition-all duration-300
                hover:scale-[1.02] hover:shadow-xl
                ${t.status==="in-progress"?"ring-2 ring-amber-300/50":""}
                ${u?"shadow-2xl z-50":""}
            `,children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n&&h.jsx("button",{className:"mr-2 cursor-grab active:cursor-grabbing text-slate-400 hover:text-slate-600 transition-colors",...r,...i,onClick:I=>I.stopPropagation(),children:h.jsx(tX,{size:18})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:`
                        w-8 h-8 rounded-full flex items-center justify-center
                        font-bold text-xs shadow-sm
                        ${m.bg} ${m.text} border ${m.border}
                    `,children:["#",t.id]}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[p(t.category),h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400",children:t.category})]})]}),h.jsxs("span",{className:`
                    inline-flex items-center gap-1 px-2 py-1
                    text-[10px] font-bold uppercase rounded-md border
                    ${m.badge}
                `,children:[m.icon,m.label]})]}),h.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal mb-2 line-clamp-2",children:t.title}),h.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:t.description}),h.jsxs("div",{className:"mb-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[h.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400",children:"Progress"}),h.jsxs("span",{className:"text-xs font-bold text-slate-600",children:[b,"/",E]})]}),h.jsx("div",{className:"w-full bg-slate-200 h-2 rounded-full overflow-hidden",children:h.jsx("div",{className:`h-full transition-all duration-500 ${t.status==="done"?"bg-teal-500":t.status==="in-progress"?"bg-amber-500":"bg-slate-400"}`,style:{width:`${A}%`}})})]}),h.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[C.map((I,D)=>h.jsx("span",{className:"inline-block px-2 py-1 bg-white border border-slate-200 rounded-md text-[10px] font-medium text-slate-600",children:I},D)),N>0&&h.jsxs("span",{className:"inline-block px-2 py-1 bg-slate-100 border border-slate-200 rounded-md text-[10px] font-bold text-slate-500",children:["+",N]})]}),t.priority&&h.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[h.jsx("span",{className:`
                        text-[9px] font-bold uppercase px-2 py-0.5 rounded
                        ${t.priority==="high"?"bg-rose-100 text-rose-700":t.priority==="medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}
                    `,children:t.priority==="high"?" High":t.priority==="medium"?" Medium":" Low"}),t.estimatedCompletion&&h.jsxs("span",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[h.jsx(ib,{size:10}),t.estimatedCompletion]})]}),h.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200/50",children:h.jsxs("div",{className:"flex items-center gap-2",children:[t.checklist.slice(0,5).map((I,D)=>I.completed?h.jsx(An,{size:14,className:"text-teal-500"},D):I.inProgress?h.jsx(ib,{size:14,className:"text-amber-500 animate-pulse"},D):h.jsx(Ns,{size:14,className:"text-slate-300"},D)),t.checklist.length>5&&h.jsxs("span",{className:"text-[10px] text-slate-400",children:["+",t.checklist.length-5]})]})})]})},gde=({feature:t,onClose:e})=>{const n=t.checklist.filter(u=>u.completed).length,r=t.checklist.length,i=n/r*100,a=(u=>u==="done"?{bg:"bg-teal-50",text:"text-teal-700",badge:"bg-teal-100 text-teal-800 border-teal-300"}:u==="in-progress"?{bg:"bg-amber-50",text:"text-amber-700",badge:"bg-amber-100 text-amber-800 border-amber-300"}:{bg:"bg-slate-50",text:"text-slate-600",badge:"bg-slate-100 text-slate-700 border-slate-300"})(t.status),l=Array.isArray(t.tech)?t.tech:t.tech.split("+").map(u=>u.trim());return h.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-4xl rounded-3xl shadow-2xl my-8 animate-fade-in",children:[h.jsxs("div",{className:`${a.bg} p-6 border-b border-slate-200 dark:border-nordic-charcoal rounded-t-3xl relative`,children:[h.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/50 rounded-full transition-colors",children:h.jsx(Mr,{size:24,className:"text-slate-500"})}),h.jsxs("div",{className:"flex items-start gap-4 mb-4 pr-12",children:[h.jsxs("div",{className:`
                            w-12 h-12 rounded-full flex items-center justify-center
                            font-bold text-lg shadow-lg border-2
                            ${a.bg} ${a.text} border-white
                        `,children:["#",t.id]}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:`
                                    px-3 py-1 rounded-full text-xs font-bold uppercase border
                                    ${a.badge}
                                `,children:t.status==="done"?" Lanserad":t.status==="in-progress"?" Pgr":" Planerad"}),h.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 bg-white px-2 py-1 rounded-md",children:t.category}),t.priority&&h.jsx("span",{className:`
                                        text-xs font-bold uppercase px-2 py-1 rounded-md
                                        ${t.priority==="high"?"bg-rose-100 text-rose-700":t.priority==="medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}
                                    `,children:t.priority})]}),h.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal dark:text-nordic-ice mb-2",children:t.title}),h.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:t.description})]})]}),h.jsxs("div",{className:"bg-white/50 rounded-xl p-3",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("span",{className:"text-xs font-bold uppercase text-slate-500",children:"Framsteg"}),h.jsxs("span",{className:"text-sm font-bold text-slate-700",children:[n," av ",r," klara"]})]}),h.jsx("div",{className:"w-full bg-slate-200 h-3 rounded-full overflow-hidden",children:h.jsx("div",{className:`h-full transition-all duration-500 ${t.status==="done"?"bg-teal-500":t.status==="in-progress"?"bg-amber-500":"bg-slate-400"}`,style:{width:`${i}%`}})})]})]}),h.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(gA,{size:18,className:"text-teal-600"}),h.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Syfte & Vision"})]}),h.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 border-l-4 border-teal-500 p-4 rounded-r-xl",children:h.jsxs("p",{className:"text-slate-700 dark:text-slate-200 italic",children:['"',t.purpose,'"']})})]}),t.detailedDescription&&h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3",children:"Detaljerad Beskrivning"}),h.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed",children:t.detailedDescription})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3",children:"Checklista & Milstolpar"}),h.jsx("div",{className:"bg-white dark:bg-nordic-charcoal rounded-xl border border-slate-200 dark:border-nordic-charcoal p-4 space-y-3",children:t.checklist.map((u,d)=>h.jsxs("div",{className:`
                                                flex items-start gap-3 p-3 rounded-lg transition-all
                                                ${u.completed?"bg-teal-50 dark:bg-teal-900/20":u.inProgress?"bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-200":"bg-slate-50 dark:bg-slate-800"}
                                            `,children:[u.completed?h.jsx(An,{size:20,className:"text-teal-500 mt-0.5 shrink-0"}):u.inProgress?h.jsx(ib,{size:20,className:"text-amber-500 mt-0.5 shrink-0 animate-pulse"}):h.jsx(Ns,{size:20,className:"text-slate-300 mt-0.5 shrink-0"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("span",{className:`
                                                    text-sm font-medium
                                                    ${u.completed?"text-slate-700 dark:text-slate-200":u.inProgress?"text-amber-800 dark:text-amber-200":"text-slate-400 dark:text-slate-500"}
                                                `,children:u.label}),u.completedAt&&h.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Klart: ",u.completedAt]})]})]},d))})]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(oJ,{size:18,className:"text-blue-600"}),h.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Tech Stack"})]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((u,d)=>h.jsx("span",{className:"inline-block px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300",children:u},d))})]}),t.estimatedCompletion&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(dA,{size:18,className:"text-purple-600"}),h.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Estimerad Lansering"})]}),h.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-3",children:h.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:t.estimatedCompletion})})]}),t.tags&&t.tags.length>0&&h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-sm text-slate-400 uppercase mb-2",children:"Tags"}),h.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.tags.map((u,d)=>h.jsxs("span",{className:"inline-block px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-md text-xs text-slate-600 dark:text-slate-300",children:["#",u]},d))})]}),h.jsxs("div",{className:"space-y-2",children:[t.demoUrl&&h.jsxs("a",{href:t.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-teal-50 dark:bg-teal-900/20 border border-teal-200 dark:border-teal-800 rounded-lg hover:bg-teal-100 transition-colors",children:[h.jsx(lp,{size:16,className:"text-teal-600"}),h.jsx("span",{className:"text-sm font-medium text-teal-700 dark:text-teal-300",children:"Live Demo"})]}),t.githubIssue&&h.jsxs("a",{href:t.githubIssue,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-100 transition-colors",children:[h.jsx(XJ,{size:16,className:"text-slate-600"}),h.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"GitHub Issue"})]})]}),t.status==="planned"&&h.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3 flex items-start gap-2",children:[h.jsx(No,{size:16,className:"text-amber-600 mt-0.5 shrink-0"}),h.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Denna feature r planerad men ej pbrjad. Datum och specifikationer kan ndras."})]})]})]})}),h.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-nordic-charcoal bg-slate-50 dark:bg-nordic-charcoal/50 rounded-b-3xl",children:h.jsx("button",{onClick:e,className:"w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors",children:"Stng"})})]})})},mde=({viewMode:t,onViewModeChange:e,statusFilter:n,onStatusFilterChange:r,categoryFilter:i,onCategoryFilterChange:o,sortBy:a,onSortByChange:l,searchQuery:u,onSearchQueryChange:d,categories:p})=>{const g=[{value:"all",label:"Alla",icon:h.jsx(YJ,{size:14}),color:"slate"},{value:"done",label:"Lanserad",icon:h.jsx(An,{size:14}),color:"teal"},{value:"in-progress",label:"Pgr",icon:h.jsx(q3,{size:14}),color:"amber"},{value:"planned",label:"Planerad",icon:h.jsx(Ns,{size:14}),color:"slate"}],m=[{value:"id",label:"ID"},{value:"progress",label:"Framsteg"},{value:"status",label:"Status"},{value:"category",label:"Kategori"}];return h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-sm border border-slate-200 dark:border-nordic-charcoal p-4 mb-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[h.jsxs("div",{className:"flex bg-slate-100 dark:bg-nordic-charcoal rounded-lg p-1",children:[h.jsxs("button",{onClick:()=>e("kanban"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all
                            ${t==="kanban"?"bg-white dark:bg-nordic-dark-bg shadow-sm text-nordic-charcoal dark:text-nordic-ice":"text-slate-500 hover:text-slate-700"}
                        `,children:[h.jsx(uX,{size:16}),h.jsx("span",{className:"hidden sm:inline",children:"Kanban"})]}),h.jsxs("button",{onClick:()=>e("list"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all
                            ${t==="list"?"bg-white dark:bg-nordic-dark-bg shadow-sm text-nordic-charcoal dark:text-nordic-ice":"text-slate-500 hover:text-slate-700"}
                        `,children:[h.jsx(xX,{size:16}),h.jsx("span",{className:"hidden sm:inline",children:"Lista"})]})]}),h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(xu,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),h.jsx("input",{type:"text",placeholder:"Sk features...",value:u,onChange:b=>d(b.target.value),className:"w-full pl-10 pr-10 py-2 bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 dark:text-white"}),u&&h.jsx("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:h.jsx(Mr,{size:16})})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[h.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(b=>h.jsxs("button",{onClick:()=>r(b.value),className:`
                                flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                                ${n===b.value?`bg-${b.color}-100 dark:bg-${b.color}-900/30 text-${b.color}-700 dark:text-${b.color}-300 border-${b.color}-300 dark:border-${b.color}-700`:"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                            `,children:[b.icon,h.jsx("span",{children:b.label})]},b.value))}),h.jsxs("div",{className:"flex-1 flex flex-wrap gap-2",children:[h.jsx("button",{onClick:()=>o("all"),className:`
                            px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                            ${i==="all"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                        `,children:"Alla kategorier"}),p.map(b=>h.jsx("button",{onClick:()=>o(b),className:`
                                px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                                ${i===b?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                            `,children:b},b))]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(mA,{size:14,className:"text-slate-400"}),h.jsx("select",{value:a,onChange:b=>l(b.target.value),className:"px-3 py-1.5 bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-nordic-charcoal rounded-lg text-xs font-medium text-slate-700 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-teal-500",children:m.map(b=>h.jsxs("option",{value:b.value,children:["Sortera: ",b.label]},b.value))})]})]})]})},eE=({id:t,children:e})=>{const{setNodeRef:n,isOver:r}=LF({id:t});return h.jsx("div",{ref:n,className:`transition-all ${r?"ring-2 ring-teal-500 ring-opacity-50":""}`,children:e})},yde=({onClose:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState("kanban"),[o,a]=T.useState("all"),[l,u]=T.useState("all"),[d,p]=T.useState("id"),[g,m]=T.useState(""),[b,E]=T.useState(Ice),[A,_]=T.useState(null),C=mF(MT(_x,{activationConstraint:{distance:8}})),N=T.useMemo(()=>Array.from(new Set(b.map(W=>W.category))),[b]),I=T.useMemo(()=>{let W=b;if(o!=="all"&&(W=W.filter(Z=>Z.status===o)),l!=="all"&&(W=W.filter(Z=>Z.category===l)),g){const Z=g.toLowerCase();W=W.filter(oe=>oe.title.toLowerCase().includes(Z)||oe.description.toLowerCase().includes(Z)||oe.purpose.toLowerCase().includes(Z)||(typeof oe.tech=="string"?oe.tech.toLowerCase().includes(Z):oe.tech.some(fe=>fe.toLowerCase().includes(Z))))}return[...W].sort((Z,oe)=>{switch(d){case"progress":const fe=Z.checklist.filter(J=>J.completed).length/Z.checklist.length;return oe.checklist.filter(J=>J.completed).length/oe.checklist.length-fe;case"status":const G={"in-progress":0,planned:1,done:2};return G[Z.status]-G[oe.status];case"category":return Z.category.localeCompare(oe.category);case"id":default:return Z.id-oe.id}})},[b,o,l,g,d]),D=I.filter(W=>W.status==="done"),L=I.filter(W=>W.status==="in-progress"),M=I.filter(W=>W.status==="planned"),P=b.length,z=b.filter(W=>W.status==="done").length,U=b.filter(W=>W.status==="in-progress").length,q=b.filter(W=>W.status==="planned").length,V=Math.round(z/P*100),B=W=>{_(W.active.id)},F=W=>{const{active:X,over:Z}=W;if(_(null),!Z)return;const oe=parseInt(X.id),fe=Z.id,Y=b.find(G=>G.id===oe);!Y||Y.status==="done"||E(G=>G.map(J=>J.id===oe?{...J,status:fe}:J))},ne=A?b.find(W=>W.id.toString()===A):null;return h.jsxs("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg p-4 sm:p-6 pb-24",children:[h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("button",{onClick:t,className:"p-3 bg-white dark:bg-nordic-dark-surface rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-nordic-charcoal text-slate-500 dark:text-slate-400 transition-colors",children:h.jsx(eb,{size:20})}),h.jsxs("div",{children:[h.jsx("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal dark:text-nordic-ice",children:"Produkt-Roadmap"}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Visionen fr The VanPlan. Uppdateras lpande."})]})]}),h.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[h.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:h.jsx(FX,{size:20,className:"text-blue-600"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:P}),h.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Totalt Features"})]})]})}),h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-teal-100 dark:border-teal-900/50",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-10 h-10 bg-teal-50 dark:bg-teal-900/20 rounded-full flex items-center justify-center",children:h.jsx(gA,{size:20,className:"text-teal-600"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-teal-600",children:z}),h.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Lanserade"})]})]}),h.jsx("div",{className:"w-full bg-teal-100 dark:bg-teal-900/30 h-1.5 rounded-full overflow-hidden",children:h.jsx("div",{className:"bg-teal-500 h-full transition-all duration-1000",style:{width:`${V}%`}})})]}),h.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-amber-100 dark:border-amber-900/50",children:h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-10 h-10 bg-amber-50 dark:bg-amber-900/20 rounded-full flex items-center justify-center",children:h.jsx(mA,{size:20,className:"text-amber-600"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-amber-600",children:U}),h.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Pgr"})]})]})}),h.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-10 h-10 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center",children:h.jsx(ib,{size:20,className:"text-slate-500"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-slate-600 dark:text-slate-300",children:q}),h.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Planerade"})]})]})})]}),h.jsx(mde,{viewMode:r,onViewModeChange:i,statusFilter:o,onStatusFilterChange:a,categoryFilter:l,onCategoryFilterChange:u,sortBy:d,onSortByChange:p,searchQuery:g,onSearchQueryChange:m,categories:N}),r==="kanban"?h.jsxs(zF,{sensors:C,collisionDetection:Wce,onDragStart:B,onDragEnd:F,children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx(eE,{id:"planned",children:h.jsx(q0,{id:"planned",items:M.map(W=>W.id.toString()),strategy:$0,children:h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-slate-200 dark:border-nordic-charcoal",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h3",{className:"font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 bg-slate-400 rounded-full"}),"Planerad"]}),h.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-600 dark:text-slate-400",children:M.length})]}),h.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[M.map(W=>h.jsx(uh,{feature:W,onClick:()=>n(W),isDraggable:!0},W.id)),M.length===0&&h.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga planerade features"})]})]})})}),h.jsx(eE,{id:"in-progress",children:h.jsx(q0,{id:"in-progress",items:L.map(W=>W.id.toString()),strategy:$0,children:h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-amber-200 dark:border-amber-900/50",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h3",{className:"font-bold text-amber-700 dark:text-amber-300 flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),"Pgr"]}),h.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-amber-100 dark:bg-amber-900/30 rounded-full text-amber-700 dark:text-amber-300",children:L.length})]}),h.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[L.map(W=>h.jsx(uh,{feature:W,onClick:()=>n(W),isDraggable:!0},W.id)),L.length===0&&h.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga pgende features"})]})]})})}),h.jsx(eE,{id:"done",children:h.jsx(q0,{id:"done",items:D.map(W=>W.id.toString()),strategy:$0,children:h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-teal-200 dark:border-teal-900/50",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h3",{className:"font-bold text-teal-700 dark:text-teal-300 flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 bg-teal-500 rounded-full"}),"Lanserad"]}),h.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-teal-100 dark:bg-teal-900/30 rounded-full text-teal-700 dark:text-teal-300",children:D.length})]}),h.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[D.map(W=>h.jsx(uh,{feature:W,onClick:()=>n(W),isDraggable:!1},W.id)),D.length===0&&h.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga lanserade features"})]})]})})})]}),h.jsx(UF,{children:ne?h.jsx("div",{className:"rotate-3 scale-105",children:h.jsx(uh,{feature:ne,onClick:()=>{},isDraggable:!1})}):null})]}):h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[I.map(W=>h.jsx(uh,{feature:W,onClick:()=>n(W)},W.id)),I.length===0&&h.jsx("div",{className:"col-span-full text-center py-12",children:h.jsx("p",{className:"text-slate-400 text-lg",children:"Inga features matchar dina filter"})})]}),h.jsxs("div",{className:"mt-12 text-center pb-8",children:[h.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-2",children:"Total Framsteg"}),h.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-800 h-4 rounded-full overflow-hidden max-w-xl mx-auto",children:h.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 h-full transition-all duration-1000 flex items-center justify-center",style:{width:`${V}%`},children:h.jsxs("span",{className:"text-xs font-bold text-white",children:[V,"%"]})})}),h.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:[z," av ",P," features lanserade"]})]})]}),e&&h.jsx(gde,{feature:e,onClose:()=>n(null)})]})},bde=({message:t,type:e="info",duration:n=5e3,onClose:r})=>{const[i,o]=T.useState(!0);T.useEffect(()=>{if(n>0){const d=setTimeout(()=>{o(!1),r&&setTimeout(r,300)},n);return()=>clearTimeout(d)}},[n,r]);const a=()=>{o(!1),r&&setTimeout(r,300)},u=(()=>{switch(e){case"success":return{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:h.jsx(An,{size:20,className:"text-green-600"})};case"warning":return{bg:"bg-amber-50 border-amber-200",text:"text-amber-800",icon:h.jsx(No,{size:20,className:"text-amber-600"})};case"error":return{bg:"bg-rose-50 border-rose-200",text:"text-rose-800",icon:h.jsx($3,{size:20,className:"text-rose-600"})};case"info":default:return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:h.jsx(cp,{size:20,className:"text-blue-600"})}}})();return i?h.jsx("div",{role:"status","aria-live":"polite",className:`fixed top-4 right-4 z-[1000] max-w-md ${u.bg} border rounded-2xl p-4 shadow-xl transition-all duration-300 ${i?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}`,children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"shrink-0 mt-0.5",children:u.icon}),h.jsx("p",{className:`flex-1 text-sm font-medium ${u.text}`,children:t}),h.jsx("button",{onClick:a,className:`shrink-0 ${u.text} hover:opacity-70 transition-opacity`,"aria-label":"Close",children:h.jsx(Mr,{size:18})})]})}):null},vde=({toasts:t,onRemove:e})=>tc.createPortal(h.jsx("div",{className:"fixed top-4 right-4 flex flex-col gap-3 pointer-events-none",style:{zIndex:2147483647,isolation:"isolate"},children:t.map((n,r)=>h.jsx("div",{className:"pointer-events-auto",style:{animationDelay:`${r*100}ms`},children:h.jsx(bde,{message:n.message,type:n.type,duration:n.duration,onClose:()=>e(n.id)})},n.id))}),document.body),xde=()=>{const[t,e]=T.useState([]),n=(u,d="info",p=5e3)=>{const g=Math.random().toString(36).substr(2,9);e(m=>[...m,{id:g,message:u,type:d,duration:p}])};return{toasts:t,addToast:n,removeToast:u=>{e(d=>d.filter(p=>p.id!==u))},success:(u,d)=>n(u,"success",d),warning:(u,d)=>n(u,"warning",d),error:(u,d)=>n(u,"error",d),info:(u,d)=>n(u,"info",d)}},wde=JSON.parse('[{"name":"9ff","slug":"9ff","image":{"source":"https://www.carlogos.org/logo/9ff-logo-2560x1400.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/9ff.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/9ff.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/9ff.png","localThumb":"./thumb/9ff.png","localOptimized":"./optimized/9ff.png","localOriginal":"./original/9ff.png"}},{"name":"Abadal","slug":"abadal","image":{"source":"https://www.carlogos.org/logo/Abadal-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abadal.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abadal.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abadal.png","localThumb":"./thumb/abadal.png","localOptimized":"./optimized/abadal.png","localOriginal":"./original/abadal.png"}},{"name":"Abarth","slug":"abarth","image":{"source":"https://www.carlogos.org/logo/Abarth-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abarth.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abarth.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abarth.png","localThumb":"./thumb/abarth.png","localOptimized":"./optimized/abarth.png","localOriginal":"./original/abarth.png"}},{"name":"Abbott-Detroit","slug":"abbott-detroit","image":{"source":"https://www.carlogos.org/logo/Abbott-Detroit-logo-640x107.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abbott-detroit.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abbott-detroit.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abbott-detroit.jpg","localThumb":"./thumb/abbott-detroit.png","localOptimized":"./optimized/abbott-detroit.png","localOriginal":"./original/abbott-detroit.jpg"}},{"name":"ABT","slug":"abt","image":{"source":"https://www.carlogos.org/logo/ABT-Sportsline-logo-silver-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/abt.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/abt.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/abt.png","localThumb":"./thumb/abt.png","localOptimized":"./optimized/abt.png","localOriginal":"./original/abt.png"}},{"name":"AC","slug":"ac","image":{"source":"https://www.carlogos.org/logo/AC-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ac.png","localThumb":"./thumb/ac.png","localOptimized":"./optimized/ac.png","localOriginal":"./original/ac.png"}},{"name":"Acura","slug":"acura","image":{"source":"https://www.carlogos.org/logo/Acura-logo-1990-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/acura.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/acura.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/acura.png","localThumb":"./thumb/acura.png","localOptimized":"./optimized/acura.png","localOriginal":"./original/acura.png"}},{"name":"Aiways","slug":"aiways","image":{"source":"https://www.carlogos.org/car-logos/aiways-logo-2100x1350-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aiways.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aiways.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aiways.png","localThumb":"./thumb/aiways.png","localOptimized":"./optimized/aiways.png","localOriginal":"./original/aiways.png"}},{"name":"Aixam","slug":"aixam","image":{"source":"https://www.carlogos.org/logo/Aixam-logo-2010-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aixam.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aixam.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aixam.png","localThumb":"./thumb/aixam.png","localOptimized":"./optimized/aixam.png","localOriginal":"./original/aixam.png"}},{"name":"Alfa Romeo","slug":"alfa-romeo","image":{"source":"https://www.carlogos.org/logo/Alfa-Romeo-logo-2015-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alfa-romeo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alfa-romeo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alfa-romeo.png","localThumb":"./thumb/alfa-romeo.png","localOptimized":"./optimized/alfa-romeo.png","localOriginal":"./original/alfa-romeo.png"}},{"name":"Alpina","slug":"alpina","image":{"source":"https://www.carlogos.org/logo/Alpina-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alpina.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alpina.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alpina.png","localThumb":"./thumb/alpina.png","localOptimized":"./optimized/alpina.png","localOriginal":"./original/alpina.png"}},{"name":"Alpine","slug":"alpine","image":{"source":"https://www.carlogos.org/logo/Alpine-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alpine.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alpine.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alpine.png","localThumb":"./thumb/alpine.png","localOptimized":"./optimized/alpine.png","localOriginal":"./original/alpine.png"}},{"name":"Alta","slug":"alta","image":{"source":"https://www.carlogos.org/logo/Alta-logo-640x138.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alta.jpg","localThumb":"./thumb/alta.png","localOptimized":"./optimized/alta.png","localOriginal":"./original/alta.jpg"}},{"name":"Alvis","slug":"alvis","image":{"source":"https://www.carlogos.org/logo/Alvis-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/alvis.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/alvis.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/alvis.png","localThumb":"./thumb/alvis.png","localOptimized":"./optimized/alvis.png","localOriginal":"./original/alvis.png"}},{"name":"AMC","slug":"amc","image":{"source":"https://www.carlogos.org/logo/American-Motors-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/amc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/amc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/amc.png","localThumb":"./thumb/amc.png","localOptimized":"./optimized/amc.png","localOriginal":"./original/amc.png"}},{"name":"Apollo","slug":"apollo","image":{"source":"https://www.carlogos.org/logo/Apollo-Automobil-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/apollo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/apollo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/apollo.png","localThumb":"./thumb/apollo.png","localOptimized":"./optimized/apollo.png","localOriginal":"./original/apollo.png"}},{"name":"Arash","slug":"arash","image":{"source":"https://www.carlogos.org/logo/Arash-logo-640x410.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arash.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arash.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arash.png","localThumb":"./thumb/arash.png","localOptimized":"./optimized/arash.png","localOriginal":"./original/arash.png"}},{"name":"Arcfox","slug":"arcfox","image":{"source":"https://www.carlogos.org/car-logos/arcfox-logo-1250x220-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arcfox.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arcfox.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arcfox.png","localThumb":"./thumb/arcfox.png","localOptimized":"./optimized/arcfox.png","localOriginal":"./original/arcfox.png"}},{"name":"Ariel","slug":"ariel","image":{"source":"https://www.carlogos.org/logo/Ariel-logo-2000-2500x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ariel.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ariel.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ariel.png","localThumb":"./thumb/ariel.png","localOptimized":"./optimized/ariel.png","localOriginal":"./original/ariel.png"}},{"name":"ARO","slug":"aro","image":{"source":"https://www.carlogos.org/logo/ARO-logo-640x567.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aro.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aro.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aro.jpg","localThumb":"./thumb/aro.png","localOptimized":"./optimized/aro.png","localOriginal":"./original/aro.jpg"}},{"name":"Arrinera","slug":"arrinera","image":{"source":"https://www.carlogos.org/logo/Arrinera-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arrinera.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arrinera.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arrinera.png","localThumb":"./thumb/arrinera.png","localOptimized":"./optimized/arrinera.png","localOriginal":"./original/arrinera.png"}},{"name":"Arrival","slug":"arrival","image":{"source":"https://www.carlogos.org/car-logos/arrival-logo-2600x350-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/arrival.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/arrival.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/arrival.png","localThumb":"./thumb/arrival.png","localOptimized":"./optimized/arrival.png","localOriginal":"./original/arrival.png"}},{"name":"Artega","slug":"artega","image":{"source":"https://www.carlogos.org/logo/Artega-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/artega.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/artega.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/artega.png","localThumb":"./thumb/artega.png","localOptimized":"./optimized/artega.png","localOriginal":"./original/artega.png"}},{"name":"Ascari","slug":"ascari","image":{"source":"https://www.carlogos.org/logo/Ascari-logo-1995-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ascari.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ascari.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ascari.png","localThumb":"./thumb/ascari.png","localOptimized":"./optimized/ascari.png","localOriginal":"./original/ascari.png"}},{"name":"Askam","slug":"askam","image":{"source":"https://www.carlogos.org/logo/Askam-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/askam.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/askam.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/askam.png","localThumb":"./thumb/askam.png","localOptimized":"./optimized/askam.png","localOriginal":"./original/askam.png"}},{"name":"Aspark","slug":"aspark","image":{"source":"https://www.carlogos.org/car-logos/aspark-logo-1000x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aspark.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aspark.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aspark.png","localThumb":"./thumb/aspark.png","localOptimized":"./optimized/aspark.png","localOriginal":"./original/aspark.png"}},{"name":"Aston Martin","slug":"aston-martin","image":{"source":"https://www.carlogos.org/logo/Aston-Martin-logo-2003-6000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/aston-martin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/aston-martin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/aston-martin.png","localThumb":"./thumb/aston-martin.png","localOptimized":"./optimized/aston-martin.png","localOriginal":"./original/aston-martin.png"}},{"name":"Atalanta","slug":"atalanta","image":{"source":"https://www.carlogos.org/logo/Atalanta-Motors-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/atalanta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/atalanta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/atalanta.png","localThumb":"./thumb/atalanta.png","localOptimized":"./optimized/atalanta.png","localOriginal":"./original/atalanta.png"}},{"name":"Auburn","slug":"auburn","image":{"source":"https://www.carlogos.org/logo/Auburn-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/auburn.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/auburn.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/auburn.png","localThumb":"./thumb/auburn.png","localOptimized":"./optimized/auburn.png","localOriginal":"./original/auburn.png"}},{"name":"Audi","slug":"audi","image":{"source":"https://www.carlogos.org/car-logos/audi-logo-2016-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/audi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/audi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/audi.png","localThumb":"./thumb/audi.png","localOptimized":"./optimized/audi.png","localOriginal":"./original/audi.png"}},{"name":"Audi Sport","slug":"audi-sport","image":{"source":"https://www.carlogos.org/logo/Audi-Sport-logo-2500x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/audi-sport.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/audi-sport.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/audi-sport.png","localThumb":"./thumb/audi-sport.png","localOptimized":"./optimized/audi-sport.png","localOriginal":"./original/audi-sport.png"}},{"name":"Austin","slug":"austin","image":{"source":"https://www.carlogos.org/logo/Austin-logo-640x500.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/austin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/austin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/austin.jpg","localThumb":"./thumb/austin.png","localOptimized":"./optimized/austin.png","localOriginal":"./original/austin.jpg"}},{"name":"Autobacs","slug":"autobacs","image":{"source":"https://www.carlogos.org/logo/Autobacs-logo-640x462.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/autobacs.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/autobacs.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/autobacs.jpg","localThumb":"./thumb/autobacs.png","localOptimized":"./optimized/autobacs.png","localOriginal":"./original/autobacs.jpg"}},{"name":"Autobianchi","slug":"autobianchi","image":{"source":"https://www.carlogos.org/logo/Autobianchi-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/autobianchi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/autobianchi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/autobianchi.png","localThumb":"./thumb/autobianchi.png","localOptimized":"./optimized/autobianchi.png","localOriginal":"./original/autobianchi.png"}},{"name":"Axon","slug":"axon","image":{"source":"https://www.carlogos.org/logo/Axon-Automotive-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/axon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/axon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/axon.png","localThumb":"./thumb/axon.png","localOptimized":"./optimized/axon.png","localOriginal":"./original/axon.png"}},{"name":"BAC","slug":"bac","image":{"source":"https://www.carlogos.org/logo/BAC-logo-black-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bac.png","localThumb":"./thumb/bac.png","localOptimized":"./optimized/bac.png","localOriginal":"./original/bac.png"}},{"name":"BAIC Motor","slug":"baic-motor","image":{"source":"https://www.carlogos.org/logo/BAIC-Motor-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/baic-motor.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/baic-motor.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/baic-motor.png","localThumb":"./thumb/baic-motor.png","localOptimized":"./optimized/baic-motor.png","localOriginal":"./original/baic-motor.png"}},{"name":"Baojun","slug":"baojun","image":{"source":"https://www.carlogos.org/logo/Baojun-logo-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/baojun.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/baojun.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/baojun.png","localThumb":"./thumb/baojun.png","localOptimized":"./optimized/baojun.png","localOriginal":"./original/baojun.png"}},{"name":"BeiBen","slug":"beiben","image":{"source":"https://www.carlogos.org/car-logos/beiben-logo-900x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/beiben.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/beiben.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/beiben.png","localThumb":"./thumb/beiben.png","localOptimized":"./optimized/beiben.png","localOriginal":"./original/beiben.png"}},{"name":"Bentley","slug":"bentley","image":{"source":"https://www.carlogos.org/car-logos/bentley-logo-2002-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bentley.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bentley.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bentley.png","localThumb":"./thumb/bentley.png","localOptimized":"./optimized/bentley.png","localOriginal":"./original/bentley.png"}},{"name":"Berkeley","slug":"berkeley","image":{"source":"https://www.carlogos.org/logo/Berkeley-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/berkeley.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/berkeley.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/berkeley.png","localThumb":"./thumb/berkeley.png","localOptimized":"./optimized/berkeley.png","localOriginal":"./original/berkeley.png"}},{"name":"Berliet","slug":"berliet","image":{"source":"https://www.carlogos.org/logo/Berliet-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/berliet.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/berliet.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/berliet.png","localThumb":"./thumb/berliet.png","localOptimized":"./optimized/berliet.png","localOriginal":"./original/berliet.png"}},{"name":"Bertone","slug":"bertone","image":{"source":"https://www.carlogos.org/logo/Bertone-logo-4300x2600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bertone.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bertone.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bertone.png","localThumb":"./thumb/bertone.png","localOptimized":"./optimized/bertone.png","localOriginal":"./original/bertone.png"}},{"name":"Bestune","slug":"bestune","image":{"source":"https://www.carlogos.org/car-logos/bestune-logo-2400x1200-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bestune.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bestune.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bestune.png","localThumb":"./thumb/bestune.png","localOptimized":"./optimized/bestune.png","localOriginal":"./original/bestune.png"}},{"name":"BharatBenz","slug":"bharatbenz","image":{"source":"https://www.carlogos.org/logo/BharatBenz-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bharatbenz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bharatbenz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bharatbenz.png","localThumb":"./thumb/bharatbenz.png","localOptimized":"./optimized/bharatbenz.png","localOriginal":"./original/bharatbenz.png"}},{"name":"Bitter","slug":"bitter","image":{"source":"https://www.carlogos.org/logo/Bitter-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bitter.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bitter.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bitter.png","localThumb":"./thumb/bitter.png","localOptimized":"./optimized/bitter.png","localOriginal":"./original/bitter.png"}},{"name":"Bizzarrini","slug":"bizzarrini","image":{"source":"https://www.carlogos.org/logo/Bizzarrini-logo-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bizzarrini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bizzarrini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bizzarrini.jpg","localThumb":"./thumb/bizzarrini.png","localOptimized":"./optimized/bizzarrini.png","localOriginal":"./original/bizzarrini.jpg"}},{"name":"BMW","slug":"bmw","image":{"source":"https://www.carlogos.org/car-logos/bmw-logo-2020-gray.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bmw.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bmw.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bmw.png","localThumb":"./thumb/bmw.png","localOptimized":"./optimized/bmw.png","localOriginal":"./original/bmw.png"}},{"name":"BMW M","slug":"bmw-m","image":{"source":"https://www.carlogos.org/logo/BMW-M-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bmw-m.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bmw-m.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bmw-m.png","localThumb":"./thumb/bmw-m.png","localOptimized":"./optimized/bmw-m.png","localOriginal":"./original/bmw-m.png"}},{"name":"Borgward","slug":"borgward","image":{"source":"https://www.carlogos.org/logo/Borgward-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/borgward.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/borgward.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/borgward.png","localThumb":"./thumb/borgward.png","localOptimized":"./optimized/borgward.png","localOriginal":"./original/borgward.png"}},{"name":"Bowler","slug":"bowler","image":{"source":"https://www.carlogos.org/logo/Bowler-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bowler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bowler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bowler.png","localThumb":"./thumb/bowler.png","localOptimized":"./optimized/bowler.png","localOriginal":"./original/bowler.png"}},{"name":"Brabus","slug":"brabus","image":{"source":"https://www.carlogos.org/logo/Brabus-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brabus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brabus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brabus.png","localThumb":"./thumb/brabus.png","localOptimized":"./optimized/brabus.png","localOriginal":"./original/brabus.png"}},{"name":"Brammo","slug":"brammo","image":{"source":"https://www.carlogos.org/logo/Brammo-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brammo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brammo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brammo.png","localThumb":"./thumb/brammo.png","localOptimized":"./optimized/brammo.png","localOriginal":"./original/brammo.png"}},{"name":"Brilliance","slug":"brilliance","image":{"source":"https://www.carlogos.org/logo/Brilliance-logo-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brilliance.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brilliance.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brilliance.png","localThumb":"./thumb/brilliance.png","localOptimized":"./optimized/brilliance.png","localOriginal":"./original/brilliance.png"}},{"name":"Bristol","slug":"bristol","image":{"source":"https://www.carlogos.org/logo/Bristol-Cars-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bristol.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bristol.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bristol.png","localThumb":"./thumb/bristol.png","localOptimized":"./optimized/bristol.png","localOriginal":"./original/bristol.png"}},{"name":"Brooke","slug":"brooke","image":{"source":"https://www.carlogos.org/logo/Brooke-Cars-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/brooke.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/brooke.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/brooke.png","localThumb":"./thumb/brooke.png","localOptimized":"./optimized/brooke.png","localOriginal":"./original/brooke.png"}},{"name":"Bufori","slug":"bufori","image":{"source":"https://www.carlogos.org/logo/Bufori-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bufori.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bufori.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bufori.png","localThumb":"./thumb/bufori.png","localOptimized":"./optimized/bufori.png","localOriginal":"./original/bufori.png"}},{"name":"Bugatti","slug":"bugatti","image":{"source":"https://www.carlogos.org/logo/Bugatti-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/bugatti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/bugatti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/bugatti.png","localThumb":"./thumb/bugatti.png","localOptimized":"./optimized/bugatti.png","localOriginal":"./original/bugatti.png"}},{"name":"Buick","slug":"buick","image":{"source":"https://www.carlogos.org/logo/Buick-logo-2002-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/buick.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/buick.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/buick.png","localThumb":"./thumb/buick.png","localOptimized":"./optimized/buick.png","localOriginal":"./original/buick.png"}},{"name":"BYD","slug":"byd","image":{"source":"https://www.carlogos.org/logo/BYD-logo-2007-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/byd.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/byd.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/byd.png","localThumb":"./thumb/byd.png","localOptimized":"./optimized/byd.png","localOriginal":"./original/byd.png"}},{"name":"Byton","slug":"byton","image":{"source":"https://www.carlogos.org/car-logos/byton-logo-2100x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/byton.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/byton.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/byton.png","localThumb":"./thumb/byton.png","localOptimized":"./optimized/byton.png","localOriginal":"./original/byton.png"}},{"name":"Cadillac","slug":"cadillac","image":{"source":"https://www.carlogos.org/car-logos/cadillac-logo-2021-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cadillac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cadillac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cadillac.png","localThumb":"./thumb/cadillac.png","localOptimized":"./optimized/cadillac.png","localOriginal":"./original/cadillac.png"}},{"name":"CAMC","slug":"camc","image":{"source":"https://www.carlogos.org/car-logos/camc-logo-1600x450-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/camc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/camc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/camc.png","localThumb":"./thumb/camc.png","localOptimized":"./optimized/camc.png","localOriginal":"./original/camc.png"}},{"name":"Canoo","slug":"canoo","image":{"source":"https://www.carlogos.org/car-logos/canoo-logo-1100x500-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/canoo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/canoo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/canoo.png","localThumb":"./thumb/canoo.png","localOptimized":"./optimized/canoo.png","localOriginal":"./original/canoo.png"}},{"name":"Caparo","slug":"caparo","image":{"source":"https://www.carlogos.org/logo/Caparo-2006-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/caparo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/caparo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/caparo.png","localThumb":"./thumb/caparo.png","localOptimized":"./optimized/caparo.png","localOriginal":"./original/caparo.png"}},{"name":"Carlsson","slug":"carlsson","image":{"source":"https://www.carlogos.org/logo/Carlsson-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/carlsson.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/carlsson.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/carlsson.png","localThumb":"./thumb/carlsson.png","localOptimized":"./optimized/carlsson.png","localOriginal":"./original/carlsson.png"}},{"name":"Caterham","slug":"caterham","image":{"source":"https://www.carlogos.org/logo/Caterham-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/caterham.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/caterham.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/caterham.png","localThumb":"./thumb/caterham.png","localOptimized":"./optimized/caterham.png","localOriginal":"./original/caterham.png"}},{"name":"Changan","slug":"changan","image":{"source":"https://www.carlogos.org/logo/Changan-logo-2010-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/changan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/changan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/changan.png","localThumb":"./thumb/changan.png","localOptimized":"./optimized/changan.png","localOriginal":"./original/changan.png"}},{"name":"Changfeng","slug":"changfeng","image":{"source":"https://www.carlogos.org/logo/Changfeng-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/changfeng.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/changfeng.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/changfeng.png","localThumb":"./thumb/changfeng.png","localOptimized":"./optimized/changfeng.png","localOriginal":"./original/changfeng.png"}},{"name":"Chery","slug":"chery","image":{"source":"https://www.carlogos.org/logo/Chery-logo-2013-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chery.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chery.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chery.png","localThumb":"./thumb/chery.png","localOptimized":"./optimized/chery.png","localOriginal":"./original/chery.png"}},{"name":"Chevrolet","slug":"chevrolet","image":{"source":"https://www.carlogos.org/logo/Chevrolet-logo-2013-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chevrolet.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chevrolet.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chevrolet.png","localThumb":"./thumb/chevrolet.png","localOptimized":"./optimized/chevrolet.png","localOriginal":"./original/chevrolet.png"}},{"name":"Chevrolet Corvette","slug":"chevrolet-corvette","image":{"source":"https://www.carlogos.org/car-logos/chevrolet-corvette-logo-2020-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chevrolet-corvette.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chevrolet-corvette.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chevrolet-corvette.png","localThumb":"./thumb/chevrolet-corvette.png","localOptimized":"./optimized/chevrolet-corvette.png","localOriginal":"./original/chevrolet-corvette.png"}},{"name":"Chrysler","slug":"chrysler","image":{"source":"https://www.carlogos.org/car-logos/chrysler-logo-2009-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/chrysler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/chrysler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/chrysler.png","localThumb":"./thumb/chrysler.png","localOptimized":"./optimized/chrysler.png","localOriginal":"./original/chrysler.png"}},{"name":"Cisitalia","slug":"cisitalia","image":{"source":"https://www.carlogos.org/logo/Cisitalia-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cisitalia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cisitalia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cisitalia.png","localThumb":"./thumb/cisitalia.png","localOptimized":"./optimized/cisitalia.png","localOriginal":"./original/cisitalia.png"}},{"name":"Citron","slug":"citroen","image":{"source":"https://www.carlogos.org/logo/Citroen-logo-2009-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/citroen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/citroen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/citroen.png","localThumb":"./thumb/citroen.png","localOptimized":"./optimized/citroen.png","localOriginal":"./original/citroen.png"}},{"name":"Cizeta","slug":"cizeta","image":{"source":"https://www.carlogos.org/logo/Cizeta-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cizeta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cizeta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cizeta.png","localThumb":"./thumb/cizeta.png","localOptimized":"./optimized/cizeta.png","localOriginal":"./original/cizeta.png"}},{"name":"Cole","slug":"cole","image":{"source":"https://www.carlogos.org/logo/Cole-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cole.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cole.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cole.png","localThumb":"./thumb/cole.png","localOptimized":"./optimized/cole.png","localOriginal":"./original/cole.png"}},{"name":"Corre La Licorne","slug":"corre-la-licorne","image":{"source":"https://www.carlogos.org/logo/Corre-La-Licorne-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/corre-la-licorne.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/corre-la-licorne.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/corre-la-licorne.jpg","localThumb":"./thumb/corre-la-licorne.png","localOptimized":"./optimized/corre-la-licorne.png","localOriginal":"./original/corre-la-licorne.jpg"}},{"name":"Cupra","slug":"cupra","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/cupra.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/cupra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/cupra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/cupra.png","localThumb":"./thumb/cupra.png","localOptimized":"./optimized/cupra.png","localOriginal":"./original/cupra.png"}},{"name":"Dacia","slug":"dacia","image":{"source":"https://www.carlogos.org/logo/Dacia-logo-2008-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dacia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dacia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dacia.png","localThumb":"./thumb/dacia.png","localOptimized":"./optimized/dacia.png","localOriginal":"./original/dacia.png"}},{"name":"Daewoo","slug":"daewoo","image":{"source":"https://www.carlogos.org/logo/Daewoo-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daewoo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daewoo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daewoo.png","localThumb":"./thumb/daewoo.png","localOptimized":"./optimized/daewoo.png","localOriginal":"./original/daewoo.png"}},{"name":"DAF","slug":"daf","image":{"source":"https://www.carlogos.org/logo/DAF-logo-6000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daf.png","localThumb":"./thumb/daf.png","localOptimized":"./optimized/daf.png","localOriginal":"./original/daf.png"}},{"name":"Daihatsu","slug":"daihatsu","image":{"source":"https://www.carlogos.org/logo/Daihatsu-logo-1997-1280x233.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daihatsu.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daihatsu.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daihatsu.png","localThumb":"./thumb/daihatsu.png","localOptimized":"./optimized/daihatsu.png","localOriginal":"./original/daihatsu.png"}},{"name":"Daimler","slug":"daimler","image":{"source":"https://www.carlogos.org/logo/Daimler-logo-2200x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/daimler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/daimler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/daimler.png","localThumb":"./thumb/daimler.png","localOptimized":"./optimized/daimler.png","localOriginal":"./original/daimler.png"}},{"name":"Dartz","slug":"dartz","image":{"source":"https://www.carlogos.org/logo/Dartz-logo-640x300.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dartz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dartz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dartz.jpg","localThumb":"./thumb/dartz.png","localOptimized":"./optimized/dartz.png","localOriginal":"./original/dartz.jpg"}},{"name":"Datsun","slug":"datsun","image":{"source":"https://www.carlogos.org/logo/Datsun-logo-2013-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/datsun.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/datsun.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/datsun.png","localThumb":"./thumb/datsun.png","localOptimized":"./optimized/datsun.png","localOriginal":"./original/datsun.png"}},{"name":"David Brown","slug":"david-brown","image":{"source":"https://www.carlogos.org/logo/David-Brown-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/david-brown.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/david-brown.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/david-brown.png","localThumb":"./thumb/david-brown.png","localOptimized":"./optimized/david-brown.png","localOriginal":"./original/david-brown.png"}},{"name":"Dayun","slug":"dayun","image":{"source":"https://www.carlogos.org/car-logos/dayun-logo-1100x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dayun.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dayun.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dayun.png","localThumb":"./thumb/dayun.png","localOptimized":"./optimized/dayun.png","localOriginal":"./original/dayun.png"}},{"name":"De Tomaso","slug":"de-tomaso","image":{"source":"https://www.carlogos.org/logo/De-Tomaso-logo-2011-640x251.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/de-tomaso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/de-tomaso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/de-tomaso.png","localThumb":"./thumb/de-tomaso.png","localOptimized":"./optimized/de-tomaso.png","localOriginal":"./original/de-tomaso.png"}},{"name":"Delage","slug":"delage","image":{"source":"https://www.carlogos.org/logo/Delage-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/delage.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/delage.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/delage.png","localThumb":"./thumb/delage.png","localOptimized":"./optimized/delage.png","localOriginal":"./original/delage.png"}},{"name":"DeSoto","slug":"desoto","image":{"source":"https://www.carlogos.org/car-logos/desoto-logo-650x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/desoto.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/desoto.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/desoto.png","localThumb":"./thumb/desoto.png","localOptimized":"./optimized/desoto.png","localOriginal":"./original/desoto.png"}},{"name":"Detroit Electric","slug":"detroit-electric","image":{"source":"https://www.carlogos.org/logo/Detroit-Electric-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/detroit-electric.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/detroit-electric.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/detroit-electric.png","localThumb":"./thumb/detroit-electric.png","localOptimized":"./optimized/detroit-electric.png","localOriginal":"./original/detroit-electric.png"}},{"name":"Devel Sixteen","slug":"devel-sixteen","image":{"source":"https://www.carlogos.org/logo/Devel-Sixteen-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/devel-sixteen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/devel-sixteen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/devel-sixteen.png","localThumb":"./thumb/devel-sixteen.png","localOptimized":"./optimized/devel-sixteen.png","localOriginal":"./original/devel-sixteen.png"}},{"name":"Diatto","slug":"diatto","image":{"source":"https://www.carlogos.org/logo/Diatto-logo-640x215.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/diatto.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/diatto.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/diatto.jpg","localThumb":"./thumb/diatto.png","localOptimized":"./optimized/diatto.png","localOriginal":"./original/diatto.jpg"}},{"name":"DINA","slug":"dina","image":{"source":"https://www.carlogos.org/logo/DINA-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dina.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dina.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dina.png","localThumb":"./thumb/dina.png","localOptimized":"./optimized/dina.png","localOriginal":"./original/dina.png"}},{"name":"DKW","slug":"dkw","image":{"source":"https://www.carlogos.org/logo/DKW-logo-black-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dkw.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dkw.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dkw.jpg","localThumb":"./thumb/dkw.png","localOptimized":"./optimized/dkw.png","localOriginal":"./original/dkw.jpg"}},{"name":"DMC","slug":"dmc","image":{"source":"https://www.carlogos.org/logo/DMC-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dmc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dmc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dmc.png","localThumb":"./thumb/dmc.png","localOptimized":"./optimized/dmc.png","localOriginal":"./original/dmc.png"}},{"name":"Dodge","slug":"dodge","image":{"source":"https://www.carlogos.org/car-logos/dodge-logo-2010-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dodge.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dodge.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dodge.png","localThumb":"./thumb/dodge.png","localOptimized":"./optimized/dodge.png","localOriginal":"./original/dodge.png"}},{"name":"Dodge Viper","slug":"dodge-viper","image":{"source":"https://www.carlogos.org/logo/Viper-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dodge-viper.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dodge-viper.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dodge-viper.png","localThumb":"./thumb/dodge-viper.png","localOptimized":"./optimized/dodge-viper.png","localOriginal":"./original/dodge-viper.png"}},{"name":"Dongfeng","slug":"dongfeng","image":{"source":"https://www.carlogos.org/logo/Dongfeng-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/dongfeng.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/dongfeng.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/dongfeng.png","localThumb":"./thumb/dongfeng.png","localOptimized":"./optimized/dongfeng.png","localOriginal":"./original/dongfeng.png"}},{"name":"Donkervoort","slug":"donkervoort","image":{"source":"https://www.carlogos.org/logo/Donkervoort-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/donkervoort.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/donkervoort.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/donkervoort.png","localThumb":"./thumb/donkervoort.png","localOptimized":"./optimized/donkervoort.png","localOriginal":"./original/donkervoort.png"}},{"name":"Drako","slug":"drako","image":{"source":"https://www.carlogos.org/car-logos/drako-logo-2100x400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/drako.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/drako.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/drako.png","localThumb":"./thumb/drako.png","localOptimized":"./optimized/drako.png","localOriginal":"./original/drako.png"}},{"name":"DS","slug":"ds","image":{"source":"https://www.carlogos.org/logo/DS-logo-2009-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ds.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ds.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ds.png","localThumb":"./thumb/ds.png","localOptimized":"./optimized/ds.png","localOriginal":"./original/ds.png"}},{"name":"Duesenberg","slug":"duesenberg","image":{"source":"https://www.carlogos.org/car-logos/duesenberg-logo-1000x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/duesenberg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/duesenberg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/duesenberg.png","localThumb":"./thumb/duesenberg.png","localOptimized":"./optimized/duesenberg.png","localOriginal":"./original/duesenberg.png"}},{"name":"Eagle","slug":"eagle","image":{"source":"https://www.carlogos.org/logo/Eagle-automobile-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/eagle.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/eagle.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/eagle.png","localThumb":"./thumb/eagle.png","localOptimized":"./optimized/eagle.png","localOriginal":"./original/eagle.png"}},{"name":"EDAG","slug":"edag","image":{"source":"https://www.carlogos.org/logo/EDAG-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/edag.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/edag.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/edag.png","localThumb":"./thumb/edag.png","localOptimized":"./optimized/edag.png","localOriginal":"./original/edag.png"}},{"name":"Edsel","slug":"edsel","image":{"source":"https://www.carlogos.org/logo/Edsel-logo-1200x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/edsel.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/edsel.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/edsel.png","localThumb":"./thumb/edsel.png","localOptimized":"./optimized/edsel.png","localOriginal":"./original/edsel.png"}},{"name":"Eicher","slug":"eicher","image":{"source":"https://www.carlogos.org/logo/Eicher-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/eicher.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/eicher.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/eicher.png","localThumb":"./thumb/eicher.png","localOptimized":"./optimized/eicher.png","localOriginal":"./original/eicher.png"}},{"name":"Elemental","slug":"elemental","image":{"source":"https://www.carlogos.org/logo/Elemental-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/elemental.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/elemental.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/elemental.png","localThumb":"./thumb/elemental.png","localOptimized":"./optimized/elemental.png","localOriginal":"./original/elemental.png"}},{"name":"Elfin","slug":"elfin","image":{"source":"https://www.carlogos.org/logo/Elfin-logo-640x330.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/elfin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/elfin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/elfin.jpg","localThumb":"./thumb/elfin.png","localOptimized":"./optimized/elfin.png","localOriginal":"./original/elfin.jpg"}},{"name":"Elva","slug":"elva","image":{"source":"https://www.carlogos.org/logo/Elva-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/elva.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/elva.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/elva.png","localThumb":"./thumb/elva.png","localOptimized":"./optimized/elva.png","localOriginal":"./original/elva.png"}},{"name":"Englon","slug":"englon","image":{"source":"https://www.carlogos.org/logo/Englon-logo-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/englon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/englon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/englon.jpg","localThumb":"./thumb/englon.png","localOptimized":"./optimized/englon.png","localOriginal":"./original/englon.jpg"}},{"name":"ERF","slug":"erf","image":{"source":"https://www.carlogos.org/logo/ERF-logo-2300x1500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/erf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/erf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/erf.png","localThumb":"./thumb/erf.png","localOptimized":"./optimized/erf.png","localOriginal":"./original/erf.png"}},{"name":"Eterniti","slug":"eterniti","image":{"source":"https://www.carlogos.org/logo/Eterniti-logo-640x408.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/eterniti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/eterniti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/eterniti.jpg","localThumb":"./thumb/eterniti.png","localOptimized":"./optimized/eterniti.png","localOriginal":"./original/eterniti.jpg"}},{"name":"Exeed","slug":"exeed","image":{"source":"https://www.carlogos.org/car-logos/exeed-logo-1200x200-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/exeed.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/exeed.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/exeed.png","localThumb":"./thumb/exeed.png","localOptimized":"./optimized/exeed.png","localOriginal":"./original/exeed.png"}},{"name":"Facel Vega","slug":"facel-vega","image":{"source":"https://www.carlogos.org/logo/Facel-Vega-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/facel-vega.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/facel-vega.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/facel-vega.png","localThumb":"./thumb/facel-vega.png","localOptimized":"./optimized/facel-vega.png","localOriginal":"./original/facel-vega.png"}},{"name":"Faraday Future","slug":"faraday-future","image":{"source":"https://www.carlogos.org/logo/Faraday-Future-logo-2000x1500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/faraday-future.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/faraday-future.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/faraday-future.png","localThumb":"./thumb/faraday-future.png","localOptimized":"./optimized/faraday-future.png","localOriginal":"./original/faraday-future.png"}},{"name":"FAW","slug":"faw","image":{"source":"https://www.carlogos.org/logo/FAW-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/faw.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/faw.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/faw.png","localThumb":"./thumb/faw.png","localOptimized":"./optimized/faw.png","localOriginal":"./original/faw.png"}},{"name":"FAW Jiefang","slug":"faw-jiefang","image":{"source":"https://www.carlogos.org/car-logos/faw-jiefang-950x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/faw-jiefang.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/faw-jiefang.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/faw-jiefang.png","localThumb":"./thumb/faw-jiefang.png","localOptimized":"./optimized/faw-jiefang.png","localOriginal":"./original/faw-jiefang.png"}},{"name":"Ferrari","slug":"ferrari","image":{"source":"https://www.carlogos.org/car-logos/ferrari-logo-2002-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ferrari.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ferrari.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ferrari.png","localThumb":"./thumb/ferrari.png","localOptimized":"./optimized/ferrari.png","localOriginal":"./original/ferrari.png"}},{"name":"Fiat","slug":"fiat","image":{"source":"https://www.carlogos.org/logo/Fiat-logo-2006-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fiat.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fiat.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fiat.png","localThumb":"./thumb/fiat.png","localOptimized":"./optimized/fiat.png","localOriginal":"./original/fiat.png"}},{"name":"Fioravanti","slug":"fioravanti","image":{"source":"https://www.carlogos.org/logo/Fioravanti-logo-640x274.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fioravanti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fioravanti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fioravanti.jpg","localThumb":"./thumb/fioravanti.png","localOptimized":"./optimized/fioravanti.png","localOriginal":"./original/fioravanti.jpg"}},{"name":"Fisker","slug":"fisker","image":{"source":"https://www.carlogos.org/logo/Fisker-logo-2007-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fisker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fisker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fisker.png","localThumb":"./thumb/fisker.png","localOptimized":"./optimized/fisker.png","localOriginal":"./original/fisker.png"}},{"name":"Foden","slug":"foden","image":{"source":"https://www.carlogos.org/logo/Foden-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/foden.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/foden.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/foden.png","localThumb":"./thumb/foden.png","localOptimized":"./optimized/foden.png","localOriginal":"./original/foden.png"}},{"name":"Force Motors","slug":"force-motors","image":{"source":"https://www.carlogos.org/logo/Force-Motors-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/force-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/force-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/force-motors.png","localThumb":"./thumb/force-motors.png","localOptimized":"./optimized/force-motors.png","localOriginal":"./original/force-motors.png"}},{"name":"Ford","slug":"ford","image":{"source":"https://www.carlogos.org/car-logos/ford-logo-2017-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ford.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ford.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ford.png","localThumb":"./thumb/ford.png","localOptimized":"./optimized/ford.png","localOriginal":"./original/ford.png"}},{"name":"Ford Mustang","slug":"ford-mustang","image":{"source":"https://www.carlogos.org/logo/Mustang-logo-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ford-mustang.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ford-mustang.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ford-mustang.png","localThumb":"./thumb/ford-mustang.png","localOptimized":"./optimized/ford-mustang.png","localOriginal":"./original/ford-mustang.png"}},{"name":"Foton","slug":"foton","image":{"source":"https://www.carlogos.org/logo/Foton-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/foton.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/foton.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/foton.png","localThumb":"./thumb/foton.png","localOptimized":"./optimized/foton.png","localOriginal":"./original/foton.png"}},{"name":"FPV","slug":"fpv","image":{"source":"https://www.carlogos.org/logo/FPV-logo-640x240.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fpv.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fpv.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fpv.jpg","localThumb":"./thumb/fpv.png","localOptimized":"./optimized/fpv.png","localOriginal":"./original/fpv.jpg"}},{"name":"Franklin","slug":"franklin","image":{"source":"https://www.carlogos.org/logo/Franklin-logo-640x525.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/franklin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/franklin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/franklin.jpg","localThumb":"./thumb/franklin.png","localOptimized":"./optimized/franklin.png","localOriginal":"./original/franklin.jpg"}},{"name":"Freightliner","slug":"freightliner","image":{"source":"https://www.carlogos.org/logo/Freightliner-logo-6000x2000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/freightliner.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/freightliner.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/freightliner.png","localThumb":"./thumb/freightliner.png","localOptimized":"./optimized/freightliner.png","localOriginal":"./original/freightliner.png"}},{"name":"FSO","slug":"fso","image":{"source":"https://www.carlogos.org/car-logos/fso-logo-1200x500-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/fso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/fso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/fso.png","localThumb":"./thumb/fso.png","localOptimized":"./optimized/fso.png","localOriginal":"./original/fso.png"}},{"name":"GAC Group","slug":"gac-group","image":{"source":"https://www.carlogos.org/logo/GAC-Group-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gac-group.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gac-group.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gac-group.png","localThumb":"./thumb/gac-group.png","localOptimized":"./optimized/gac-group.png","localOriginal":"./original/gac-group.png"}},{"name":"Gardner Douglas","slug":"gardner-douglas","image":{"source":"https://www.carlogos.org/logo/Gardner-Douglas-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gardner-douglas.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gardner-douglas.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gardner-douglas.png","localThumb":"./thumb/gardner-douglas.png","localOptimized":"./optimized/gardner-douglas.png","localOriginal":"./original/gardner-douglas.png"}},{"name":"GAZ","slug":"gaz","image":{"source":"https://www.carlogos.org/logo/GAZ-logo-2015-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gaz.png","localThumb":"./thumb/gaz.png","localOptimized":"./optimized/gaz.png","localOriginal":"./original/gaz.png"}},{"name":"Geely","slug":"geely","image":{"source":"https://www.carlogos.org/logo/Geely-logo-2014-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/geely.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/geely.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/geely.png","localThumb":"./thumb/geely.png","localOptimized":"./optimized/geely.png","localOriginal":"./original/geely.png"}},{"name":"General Motors","slug":"general-motors","image":{"source":"https://www.carlogos.org/logo/General-Motors-logo-2010-3300x3300.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/general-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/general-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/general-motors.png","localThumb":"./thumb/general-motors.png","localOptimized":"./optimized/general-motors.png","localOriginal":"./original/general-motors.png"}},{"name":"Genesis","slug":"genesis","image":{"source":"https://www.carlogos.org/logo/Genesis-logo-640x248.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/genesis.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/genesis.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/genesis.jpg","localThumb":"./thumb/genesis.png","localOptimized":"./optimized/genesis.png","localOriginal":"./original/genesis.jpg"}},{"name":"Geo","slug":"geo","image":{"source":"https://www.carlogos.org/logo/Geo-logo-2000x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/geo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/geo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/geo.png","localThumb":"./thumb/geo.png","localOptimized":"./optimized/geo.png","localOriginal":"./original/geo.png"}},{"name":"Geometry","slug":"geometry","image":{"source":"https://www.carlogos.org/car-logos/geometry-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/geometry.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/geometry.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/geometry.png","localThumb":"./thumb/geometry.png","localOptimized":"./optimized/geometry.png","localOriginal":"./original/geometry.png"}},{"name":"Gilbern","slug":"gilbern","image":{"source":"https://www.carlogos.org/logo/Gilbern-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gilbern.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gilbern.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gilbern.png","localThumb":"./thumb/gilbern.png","localOptimized":"./optimized/gilbern.png","localOriginal":"./original/gilbern.png"}},{"name":"Gillet","slug":"gillet","image":{"source":"https://www.carlogos.org/logo/Gillet-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gillet.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gillet.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gillet.png","localThumb":"./thumb/gillet.png","localOptimized":"./optimized/gillet.png","localOriginal":"./original/gillet.png"}},{"name":"Ginetta","slug":"ginetta","image":{"source":"https://www.carlogos.org/logo/Ginetta-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ginetta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ginetta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ginetta.png","localThumb":"./thumb/ginetta.png","localOptimized":"./optimized/ginetta.png","localOriginal":"./original/ginetta.png"}},{"name":"GMC","slug":"gmc","image":{"source":"https://www.carlogos.org/logo/GMC-logo-2200x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gmc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gmc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gmc.png","localThumb":"./thumb/gmc.png","localOptimized":"./optimized/gmc.png","localOriginal":"./original/gmc.png"}},{"name":"Golden Dragon","slug":"golden-dragon","image":{"source":"https://www.carlogos.org/car-logos/golden-dragon-logo-900x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/golden-dragon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/golden-dragon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/golden-dragon.png","localThumb":"./thumb/golden-dragon.png","localOptimized":"./optimized/golden-dragon.png","localOriginal":"./original/golden-dragon.png"}},{"name":"Gonow","slug":"gonow","image":{"source":"https://www.carlogos.org/logo/Gonow-logo-2010-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gonow.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gonow.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gonow.png","localThumb":"./thumb/gonow.png","localOptimized":"./optimized/gonow.png","localOriginal":"./original/gonow.png"}},{"name":"Great Wall","slug":"great-wall","image":{"source":"https://www.carlogos.org/logo/Great-Wall-logo-2007-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/great-wall.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/great-wall.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/great-wall.png","localThumb":"./thumb/great-wall.png","localOptimized":"./optimized/great-wall.png","localOriginal":"./original/great-wall.png"}},{"name":"Grinnall","slug":"grinnall","image":{"source":"https://www.carlogos.org/logo/Grinnall-cars-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/grinnall.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/grinnall.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/grinnall.png","localThumb":"./thumb/grinnall.png","localOptimized":"./optimized/grinnall.png","localOriginal":"./original/grinnall.png"}},{"name":"Gumpert","slug":"gumpert","image":{"source":"https://www.carlogos.org/logo/Gumpert-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/gumpert.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/gumpert.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/gumpert.png","localThumb":"./thumb/gumpert.png","localOptimized":"./optimized/gumpert.png","localOriginal":"./original/gumpert.png"}},{"name":"Hafei","slug":"hafei","image":{"source":"https://www.carlogos.org/logo/Hafei-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hafei.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hafei.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hafei.png","localThumb":"./thumb/hafei.png","localOptimized":"./optimized/hafei.png","localOriginal":"./original/hafei.png"}},{"name":"Haima","slug":"haima","image":{"source":"https://www.carlogos.org/logo/Haima-logo-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/haima.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/haima.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/haima.png","localThumb":"./thumb/haima.png","localOptimized":"./optimized/haima.png","localOriginal":"./original/haima.png"}},{"name":"Haval","slug":"haval","image":{"source":"https://www.carlogos.org/logo/Haval-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/haval.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/haval.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/haval.png","localThumb":"./thumb/haval.png","localOptimized":"./optimized/haval.png","localOriginal":"./original/haval.png"}},{"name":"Hawtai","slug":"hawtai","image":{"source":"https://www.carlogos.org/logo/Hawtai-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hawtai.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hawtai.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hawtai.png","localThumb":"./thumb/hawtai.png","localOptimized":"./optimized/hawtai.png","localOriginal":"./original/hawtai.png"}},{"name":"Hennessey","slug":"hennessey","image":{"source":"https://www.carlogos.org/logo/Hennessey-text-logo-1186x130.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hennessey.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hennessey.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hennessey.png","localThumb":"./thumb/hennessey.png","localOptimized":"./optimized/hennessey.png","localOriginal":"./original/hennessey.png"}},{"name":"Higer","slug":"higer","image":{"source":"https://www.carlogos.org/car-logos/higer-logo-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/higer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/higer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/higer.png","localThumb":"./thumb/higer.png","localOptimized":"./optimized/higer.png","localOriginal":"./original/higer.png"}},{"name":"Hillman","slug":"hillman","image":{"source":"https://www.carlogos.org/logo/Hillman-logo-640x145.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hillman.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hillman.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hillman.jpg","localThumb":"./thumb/hillman.png","localOptimized":"./optimized/hillman.png","localOriginal":"./original/hillman.jpg"}},{"name":"Hindustan Motors","slug":"hindustan-motors","image":{"source":"https://www.carlogos.org/logo/Hindustan-Motors-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hindustan-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hindustan-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hindustan-motors.png","localThumb":"./thumb/hindustan-motors.png","localOptimized":"./optimized/hindustan-motors.png","localOriginal":"./original/hindustan-motors.png"}},{"name":"Hino","slug":"hino","image":{"source":"https://www.carlogos.org/logo/Hino-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hino.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hino.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hino.png","localThumb":"./thumb/hino.png","localOptimized":"./optimized/hino.png","localOriginal":"./original/hino.png"}},{"name":"HiPhi","slug":"hiphi","image":{"source":"https://www.carlogos.org/car-logos/hiphi-logo-2100x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hiphi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hiphi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hiphi.png","localThumb":"./thumb/hiphi.png","localOptimized":"./optimized/hiphi.png","localOriginal":"./original/hiphi.png"}},{"name":"Hispano-Suiza","slug":"hispano-suiza","image":{"source":"https://www.carlogos.org/logo/Hispano-Suiza-logo-640x183.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hispano-suiza.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hispano-suiza.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hispano-suiza.jpg","localThumb":"./thumb/hispano-suiza.png","localOptimized":"./optimized/hispano-suiza.png","localOriginal":"./original/hispano-suiza.jpg"}},{"name":"Holden","slug":"holden","image":{"source":"https://www.carlogos.org/logo/Holden-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/holden.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/holden.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/holden.png","localThumb":"./thumb/holden.png","localOptimized":"./optimized/holden.png","localOriginal":"./original/holden.png"}},{"name":"Hommell","slug":"hommell","image":{"source":"https://www.carlogos.org/logo/Hommell-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hommell.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hommell.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hommell.png","localThumb":"./thumb/hommell.png","localOptimized":"./optimized/hommell.png","localOriginal":"./original/hommell.png"}},{"name":"Honda","slug":"honda","image":{"source":"https://www.carlogos.org/car-logos/honda-logo-2000-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/honda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/honda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/honda.png","localThumb":"./thumb/honda.png","localOptimized":"./optimized/honda.png","localOriginal":"./original/honda.png"}},{"name":"Hongqi","slug":"hongqi","image":{"source":"https://www.carlogos.org/car-logos/hongqi-logo-2018-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hongqi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hongqi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hongqi.png","localThumb":"./thumb/hongqi.png","localOptimized":"./optimized/hongqi.png","localOriginal":"./original/hongqi.png"}},{"name":"Hongyan","slug":"hongyan","image":{"source":"https://www.carlogos.org/car-logos/hongyan-logo-1200x1200-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hongyan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hongyan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hongyan.png","localThumb":"./thumb/hongyan.png","localOptimized":"./optimized/hongyan.png","localOriginal":"./original/hongyan.png"}},{"name":"Horch","slug":"horch","image":{"source":"https://www.carlogos.org/logo/Horch-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/horch.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/horch.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/horch.png","localThumb":"./thumb/horch.png","localOptimized":"./optimized/horch.png","localOriginal":"./original/horch.png"}},{"name":"HSV","slug":"hsv","image":{"source":"https://www.carlogos.org/logo/HSV-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hsv.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hsv.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hsv.png","localThumb":"./thumb/hsv.png","localOptimized":"./optimized/hsv.png","localOriginal":"./original/hsv.png"}},{"name":"Hudson","slug":"hudson","image":{"source":"https://www.carlogos.org/logo/Hudson-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hudson.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hudson.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hudson.png","localThumb":"./thumb/hudson.png","localOptimized":"./optimized/hudson.png","localOriginal":"./original/hudson.png"}},{"name":"Hummer","slug":"hummer","image":{"source":"https://www.carlogos.org/logo/Hummer-logo-2000x205.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hummer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hummer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hummer.png","localThumb":"./thumb/hummer.png","localOptimized":"./optimized/hummer.png","localOriginal":"./original/hummer.png"}},{"name":"Hupmobile","slug":"hupmobile","image":{"source":"https://www.carlogos.org/logo/Hupmobile-logo-640x138.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hupmobile.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hupmobile.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hupmobile.jpg","localThumb":"./thumb/hupmobile.png","localOptimized":"./optimized/hupmobile.png","localOriginal":"./original/hupmobile.jpg"}},{"name":"Hyundai","slug":"hyundai","image":{"source":"https://www.carlogos.org/car-logos/hyundai-logo-2011-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/hyundai.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/hyundai.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/hyundai.png","localThumb":"./thumb/hyundai.png","localOptimized":"./optimized/hyundai.png","localOriginal":"./original/hyundai.png"}},{"name":"IC Bus","slug":"ic-bus","image":{"source":"https://www.carlogos.org/logo/IC-Bus-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ic-bus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ic-bus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ic-bus.png","localThumb":"./thumb/ic-bus.png","localOptimized":"./optimized/ic-bus.png","localOriginal":"./original/ic-bus.png"}},{"name":"IH","slug":"ih","image":{"source":"https://www.carlogos.org/logo/International-Harvester-logo-1000x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ih.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ih.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ih.png","localThumb":"./thumb/ih.png","localOptimized":"./optimized/ih.png","localOriginal":"./original/ih.png"}},{"name":"IKCO","slug":"ikco","image":{"source":"https://www.carlogos.org/logo/Iran-Khodro-logo-3000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ikco.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ikco.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ikco.png","localThumb":"./thumb/ikco.png","localOptimized":"./optimized/ikco.png","localOriginal":"./original/ikco.png"}},{"name":"Infiniti","slug":"infiniti","image":{"source":"https://www.carlogos.org/logo/Infiniti-logo-1989-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/infiniti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/infiniti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/infiniti.png","localThumb":"./thumb/infiniti.png","localOptimized":"./optimized/infiniti.png","localOriginal":"./original/infiniti.png"}},{"name":"Innocenti","slug":"innocenti","image":{"source":"https://www.carlogos.org/logo/Innocenti-logo-310x310.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/innocenti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/innocenti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/innocenti.png","localThumb":"./thumb/innocenti.png","localOptimized":"./optimized/innocenti.png","localOriginal":"./original/innocenti.png"}},{"name":"Intermeccanica","slug":"intermeccanica","image":{"source":"https://www.carlogos.org/logo/Intermeccanica-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/intermeccanica.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/intermeccanica.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/intermeccanica.png","localThumb":"./thumb/intermeccanica.png","localOptimized":"./optimized/intermeccanica.png","localOriginal":"./original/intermeccanica.png"}},{"name":"International","slug":"international","image":{"source":"https://www.carlogos.org/logo/International-Trucks-logo-1200x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/international.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/international.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/international.png","localThumb":"./thumb/international.png","localOptimized":"./optimized/international.png","localOriginal":"./original/international.png"}},{"name":"Irizar","slug":"irizar","image":{"source":"https://www.carlogos.org/logo/Irizar-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/irizar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/irizar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/irizar.png","localThumb":"./thumb/irizar.png","localOptimized":"./optimized/irizar.png","localOriginal":"./original/irizar.png"}},{"name":"Isdera","slug":"isdera","image":{"source":"https://www.carlogos.org/logo/Isdera-logo-640x413.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/isdera.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/isdera.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/isdera.jpg","localThumb":"./thumb/isdera.png","localOptimized":"./optimized/isdera.png","localOriginal":"./original/isdera.jpg"}},{"name":"Iso","slug":"iso","image":{"source":"https://www.carlogos.org/logo/Iso-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/iso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/iso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/iso.png","localThumb":"./thumb/iso.png","localOptimized":"./optimized/iso.png","localOriginal":"./original/iso.png"}},{"name":"Isuzu","slug":"isuzu","image":{"source":"https://www.carlogos.org/logo/Isuzu-logo-1991-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/isuzu.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/isuzu.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/isuzu.png","localThumb":"./thumb/isuzu.png","localOptimized":"./optimized/isuzu.png","localOriginal":"./original/isuzu.png"}},{"name":"Iveco","slug":"iveco","image":{"source":"https://www.carlogos.org/logo/Iveco-logo-silver-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/iveco.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/iveco.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/iveco.png","localThumb":"./thumb/iveco.png","localOptimized":"./optimized/iveco.png","localOriginal":"./original/iveco.png"}},{"name":"JAC","slug":"jac","image":{"source":"https://www.carlogos.org/logo/JAC-Motors-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jac.png","localThumb":"./thumb/jac.png","localOptimized":"./optimized/jac.png","localOriginal":"./original/jac.png"}},{"name":"Jaguar","slug":"jaguar","image":{"source":"https://www.carlogos.org/car-logos/jaguar-logo-2021-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jaguar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jaguar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jaguar.png","localThumb":"./thumb/jaguar.png","localOptimized":"./optimized/jaguar.png","localOriginal":"./original/jaguar.png"}},{"name":"Jawa","slug":"jawa","image":{"source":"https://www.carlogos.org/logo/Jawa-logo-640x333.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jawa.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jawa.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jawa.jpg","localThumb":"./thumb/jawa.png","localOptimized":"./optimized/jawa.png","localOriginal":"./original/jawa.jpg"}},{"name":"JBA Motors","slug":"jba-motors","image":{"source":"https://www.carlogos.org/logo/JBA-Motors-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jba-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jba-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jba-motors.png","localThumb":"./thumb/jba-motors.png","localOptimized":"./optimized/jba-motors.png","localOriginal":"./original/jba-motors.png"}},{"name":"Jeep","slug":"jeep","image":{"source":"https://www.carlogos.org/car-logos/jeep-logo-1993-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jeep.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jeep.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jeep.png","localThumb":"./thumb/jeep.png","localOptimized":"./optimized/jeep.png","localOriginal":"./original/jeep.png"}},{"name":"Jensen","slug":"jensen","image":{"source":"https://www.carlogos.org/logo/Jensen-logo-640x556.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jensen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jensen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jensen.jpg","localThumb":"./thumb/jensen.png","localOptimized":"./optimized/jensen.png","localOriginal":"./original/jensen.jpg"}},{"name":"Jetour","slug":"jetour","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/jetour.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jetour.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jetour.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jetour.png","localThumb":"./thumb/jetour.png","localOptimized":"./optimized/jetour.png","localOriginal":"./original/jetour.png"}},{"name":"Jetta","slug":"jetta","image":{"source":"https://www.carlogos.org/car-logos/jetta-logo-2019-1300x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jetta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jetta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jetta.png","localThumb":"./thumb/jetta.png","localOptimized":"./optimized/jetta.png","localOriginal":"./original/jetta.png"}},{"name":"JMC","slug":"jmc","image":{"source":"https://www.carlogos.org/logo/Jiangling-logo-1280x1024.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/jmc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/jmc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/jmc.png","localThumb":"./thumb/jmc.png","localOptimized":"./optimized/jmc.png","localOriginal":"./original/jmc.png"}},{"name":"Kaiser","slug":"kaiser","image":{"source":"https://www.carlogos.org/logo/Kaiser-logo-640x346.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kaiser.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kaiser.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kaiser.jpg","localThumb":"./thumb/kaiser.png","localOptimized":"./optimized/kaiser.png","localOriginal":"./original/kaiser.jpg"}},{"name":"Kamaz","slug":"kamaz","image":{"source":"https://www.carlogos.org/logo/Kamaz-logo-2000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kamaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kamaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kamaz.png","localThumb":"./thumb/kamaz.png","localOptimized":"./optimized/kamaz.png","localOriginal":"./original/kamaz.png"}},{"name":"Karlmann King","slug":"karlmann-king","image":{"source":"https://www.carlogos.org/car-logos/karlmann-king-1400x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/karlmann-king.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/karlmann-king.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/karlmann-king.png","localThumb":"./thumb/karlmann-king.png","localOptimized":"./optimized/karlmann-king.png","localOriginal":"./original/karlmann-king.png"}},{"name":"Karma","slug":"karma","image":{"source":"https://www.carlogos.org/logo/Karma-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/karma.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/karma.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/karma.png","localThumb":"./thumb/karma.png","localOptimized":"./optimized/karma.png","localOriginal":"./original/karma.png"}},{"name":"Keating","slug":"keating","image":{"source":"https://www.carlogos.org/logo/Keating-Supercars-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/keating.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/keating.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/keating.png","localThumb":"./thumb/keating.png","localOptimized":"./optimized/keating.png","localOriginal":"./original/keating.png"}},{"name":"Kenworth","slug":"kenworth","image":{"source":"https://www.carlogos.org/logo/Kenworth-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kenworth.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kenworth.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kenworth.png","localThumb":"./thumb/kenworth.png","localOptimized":"./optimized/kenworth.png","localOriginal":"./original/kenworth.png"}},{"name":"Kia","slug":"kia","image":{"source":"https://www.carlogos.org/logo/Kia-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/kia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/kia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/kia.png","localThumb":"./thumb/kia.png","localOptimized":"./optimized/kia.png","localOriginal":"./original/kia.png"}},{"name":"King Long","slug":"king-long","image":{"source":"https://www.carlogos.org/car-logos/king-long-logo-3900x800-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/king-long.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/king-long.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/king-long.png","localThumb":"./thumb/king-long.png","localOptimized":"./optimized/king-long.png","localOriginal":"./original/king-long.png"}},{"name":"Koenigsegg","slug":"koenigsegg","image":{"source":"https://www.carlogos.org/logo/Koenigsegg-logo-1994-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/koenigsegg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/koenigsegg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/koenigsegg.png","localThumb":"./thumb/koenigsegg.png","localOptimized":"./optimized/koenigsegg.png","localOriginal":"./original/koenigsegg.png"}},{"name":"KTM","slug":"ktm","image":{"source":"https://www.carlogos.org/logo/KTM-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ktm.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ktm.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ktm.png","localThumb":"./thumb/ktm.png","localOptimized":"./optimized/ktm.png","localOriginal":"./original/ktm.png"}},{"name":"Lada","slug":"lada","image":{"source":"https://www.carlogos.org/logo/Lada-logo-silver-640x248.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lada.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lada.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lada.jpg","localThumb":"./thumb/lada.png","localOptimized":"./optimized/lada.png","localOriginal":"./original/lada.jpg"}},{"name":"Lagonda","slug":"lagonda","image":{"source":"https://www.carlogos.org/logo/Lagonda-logo-2014-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lagonda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lagonda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lagonda.png","localThumb":"./thumb/lagonda.png","localOptimized":"./optimized/lagonda.png","localOriginal":"./original/lagonda.png"}},{"name":"Lamborghini","slug":"lamborghini","image":{"source":"https://www.carlogos.org/car-logos/lamborghini-logo-1998-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lamborghini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lamborghini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lamborghini.png","localThumb":"./thumb/lamborghini.png","localOptimized":"./optimized/lamborghini.png","localOriginal":"./original/lamborghini.png"}},{"name":"Lancia","slug":"lancia","image":{"source":"https://www.carlogos.org/logo/Lancia-logo-2007-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lancia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lancia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lancia.png","localThumb":"./thumb/lancia.png","localOptimized":"./optimized/lancia.png","localOriginal":"./original/lancia.png"}},{"name":"Land Rover","slug":"land-rover","image":{"source":"https://www.carlogos.org/logo/Land-Rover-logo-2011-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/land-rover.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/land-rover.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/land-rover.png","localThumb":"./thumb/land-rover.png","localOptimized":"./optimized/land-rover.png","localOriginal":"./original/land-rover.png"}},{"name":"Landwind","slug":"landwind","image":{"source":"https://www.carlogos.org/logo/Landwind-logo-5000x2000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/landwind.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/landwind.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/landwind.png","localThumb":"./thumb/landwind.png","localOptimized":"./optimized/landwind.png","localOriginal":"./original/landwind.png"}},{"name":"Laraki","slug":"laraki","image":{"source":"https://www.carlogos.org/logo/Laraki-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/laraki.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/laraki.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/laraki.png","localThumb":"./thumb/laraki.png","localOptimized":"./optimized/laraki.png","localOriginal":"./original/laraki.png"}},{"name":"Leapmotor","slug":"leapmotor","image":{"source":"https://www.carlogos.org/car-logos/leapmotor-logo-1000x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/leapmotor.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/leapmotor.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/leapmotor.png","localThumb":"./thumb/leapmotor.png","localOptimized":"./optimized/leapmotor.png","localOriginal":"./original/leapmotor.png"}},{"name":"LEVC","slug":"levc","image":{"source":"https://www.carlogos.org/logo/London-EV-Company-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/levc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/levc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/levc.png","localThumb":"./thumb/levc.png","localOptimized":"./optimized/levc.png","localOriginal":"./original/levc.png"}},{"name":"Lexus","slug":"lexus","image":{"source":"https://www.carlogos.org/logo/Lexus-logo-1988-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lexus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lexus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lexus.png","localThumb":"./thumb/lexus.png","localOptimized":"./optimized/lexus.png","localOriginal":"./original/lexus.png"}},{"name":"Leyland","slug":"leyland","image":{"source":"https://www.carlogos.org/logo/Leyland-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/leyland.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/leyland.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/leyland.png","localThumb":"./thumb/leyland.png","localOptimized":"./optimized/leyland.png","localOriginal":"./original/leyland.png"}},{"name":"Li Auto","slug":"li-auto","image":{"source":"https://www.carlogos.org/car-logos/lixiang-logo-1050x300-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/li-auto.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/li-auto.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/li-auto.png","localThumb":"./thumb/li-auto.png","localOptimized":"./optimized/li-auto.png","localOriginal":"./original/li-auto.png"}},{"name":"Lifan","slug":"lifan","image":{"source":"https://www.carlogos.org/logo/Lifan-logo-4000x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lifan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lifan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lifan.png","localThumb":"./thumb/lifan.png","localOptimized":"./optimized/lifan.png","localOriginal":"./original/lifan.png"}},{"name":"Ligier","slug":"ligier","image":{"source":"https://www.carlogos.org/logo/Ligier-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ligier.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ligier.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ligier.png","localThumb":"./thumb/ligier.png","localOptimized":"./optimized/ligier.png","localOriginal":"./original/ligier.png"}},{"name":"Lincoln","slug":"lincoln","image":{"source":"https://www.carlogos.org/logo/Lincoln-logo-2019-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lincoln.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lincoln.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lincoln.png","localThumb":"./thumb/lincoln.png","localOptimized":"./optimized/lincoln.png","localOriginal":"./original/lincoln.png"}},{"name":"Lister","slug":"lister","image":{"source":"https://www.carlogos.org/logo/Lister-Cars-logo-2900x2900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lister.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lister.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lister.png","localThumb":"./thumb/lister.png","localOptimized":"./optimized/lister.png","localOriginal":"./original/lister.png"}},{"name":"Lloyd","slug":"lloyd","image":{"source":"https://www.carlogos.org/logo/Lloyd-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lloyd.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lloyd.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lloyd.png","localThumb":"./thumb/lloyd.png","localOptimized":"./optimized/lloyd.png","localOriginal":"./original/lloyd.png"}},{"name":"Lobini","slug":"lobini","image":{"source":"https://www.carlogos.org/logo/Lobini-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lobini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lobini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lobini.png","localThumb":"./thumb/lobini.png","localOptimized":"./optimized/lobini.png","localOriginal":"./original/lobini.png"}},{"name":"Lordstown","slug":"lordstown","image":{"source":"https://www.carlogos.org/car-logos/lordstown-logo-2150x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lordstown.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lordstown.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lordstown.png","localThumb":"./thumb/lordstown.png","localOptimized":"./optimized/lordstown.png","localOriginal":"./original/lordstown.png"}},{"name":"Lotus","slug":"lotus","image":{"source":"https://www.carlogos.org/logo/Lotus-logo-2019-1800x1800.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lotus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lotus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lotus.png","localThumb":"./thumb/lotus.png","localOptimized":"./optimized/lotus.png","localOriginal":"./original/lotus.png"}},{"name":"Lucid","slug":"lucid","image":{"source":"https://www.carlogos.org/logo/Lucid-Motors-logo-1500x200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lucid.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lucid.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lucid.png","localThumb":"./thumb/lucid.png","localOptimized":"./optimized/lucid.png","localOriginal":"./original/lucid.png"}},{"name":"Luxgen","slug":"luxgen","image":{"source":"https://www.carlogos.org/logo/Luxgen-logo-2009-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/luxgen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/luxgen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/luxgen.png","localThumb":"./thumb/luxgen.png","localOptimized":"./optimized/luxgen.png","localOriginal":"./original/luxgen.png"}},{"name":"Lynk & Co","slug":"lynk-and-co","image":{"source":"https://www.carlogos.org/car-logos/lynkco-logo-2150x400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/lynk-and-co.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/lynk-and-co.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/lynk-and-co.png","localThumb":"./thumb/lynk-and-co.png","localOptimized":"./optimized/lynk-and-co.png","localOriginal":"./original/lynk-and-co.png"}},{"name":"Mack","slug":"mack","image":{"source":"https://www.carlogos.org/logo/Mack-logo-2014-6000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mack.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mack.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mack.png","localThumb":"./thumb/mack.png","localOptimized":"./optimized/mack.png","localOriginal":"./original/mack.png"}},{"name":"Mahindra","slug":"mahindra","image":{"source":"https://www.carlogos.org/logo/Mahindra-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mahindra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mahindra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mahindra.png","localThumb":"./thumb/mahindra.png","localOptimized":"./optimized/mahindra.png","localOriginal":"./original/mahindra.png"}},{"name":"MAN","slug":"man","image":{"source":"https://www.carlogos.org/logo/MAN-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/man.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/man.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/man.png","localThumb":"./thumb/man.png","localOptimized":"./optimized/man.png","localOriginal":"./original/man.png"}},{"name":"Mansory","slug":"mansory","image":{"source":"https://www.carlogos.org/logo/Mansory-logo-1600x400.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mansory.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mansory.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mansory.png","localThumb":"./thumb/mansory.png","localOptimized":"./optimized/mansory.png","localOriginal":"./original/mansory.png"}},{"name":"Marcos","slug":"marcos","image":{"source":"https://www.carlogos.org/logo/Marcos-logo-640x460.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/marcos.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/marcos.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/marcos.jpg","localThumb":"./thumb/marcos.png","localOptimized":"./optimized/marcos.png","localOriginal":"./original/marcos.jpg"}},{"name":"Marlin","slug":"marlin","image":{"source":"https://www.carlogos.org/logo/Marlin-car-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/marlin.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/marlin.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/marlin.png","localThumb":"./thumb/marlin.png","localOptimized":"./optimized/marlin.png","localOriginal":"./original/marlin.png"}},{"name":"Maserati","slug":"maserati","image":{"source":"https://www.carlogos.org/car-logos/maserati-logo-2020-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maserati.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maserati.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maserati.png","localThumb":"./thumb/maserati.png","localOptimized":"./optimized/maserati.png","localOriginal":"./original/maserati.png"}},{"name":"Mastretta","slug":"mastretta","image":{"source":"https://www.carlogos.org/logo/Mastretta-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mastretta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mastretta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mastretta.png","localThumb":"./thumb/mastretta.png","localOptimized":"./optimized/mastretta.png","localOriginal":"./original/mastretta.png"}},{"name":"Maxus","slug":"maxus","image":{"source":"https://www.carlogos.org/logo/Maxus-logo-2014-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maxus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maxus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maxus.png","localThumb":"./thumb/maxus.png","localOptimized":"./optimized/maxus.png","localOriginal":"./original/maxus.png"}},{"name":"Maybach","slug":"maybach","image":{"source":"https://www.carlogos.org/logo/Maybach-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maybach.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maybach.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maybach.png","localThumb":"./thumb/maybach.png","localOptimized":"./optimized/maybach.png","localOriginal":"./original/maybach.png"}},{"name":"MAZ","slug":"maz","image":{"source":"https://www.carlogos.org/logo/MAZ-logo-5000x3000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/maz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/maz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/maz.png","localThumb":"./thumb/maz.png","localOptimized":"./optimized/maz.png","localOriginal":"./original/maz.png"}},{"name":"Mazda","slug":"mazda","image":{"source":"https://www.carlogos.org/car-logos/mazda-logo-2018-vertical-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mazda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mazda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mazda.png","localThumb":"./thumb/mazda.png","localOptimized":"./optimized/mazda.png","localOriginal":"./original/mazda.png"}},{"name":"Mazzanti","slug":"mazzanti","image":{"source":"https://www.carlogos.org/logo/Mazzanti-Automobili-logo-2016-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mazzanti.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mazzanti.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mazzanti.png","localThumb":"./thumb/mazzanti.png","localOptimized":"./optimized/mazzanti.png","localOriginal":"./original/mazzanti.png"}},{"name":"McLaren","slug":"mclaren","image":{"source":"https://www.carlogos.org/logo/McLaren-logo-2002-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mclaren.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mclaren.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mclaren.png","localThumb":"./thumb/mclaren.png","localOptimized":"./optimized/mclaren.png","localOriginal":"./original/mclaren.png"}},{"name":"Melkus","slug":"melkus","image":{"source":"https://www.carlogos.org/logo/Melkus-logo-1600x1200.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/melkus.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/melkus.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/melkus.png","localThumb":"./thumb/melkus.png","localOptimized":"./optimized/melkus.png","localOriginal":"./original/melkus.png"}},{"name":"Mercedes-AMG","slug":"mercedes-amg","image":{"source":"https://www.carlogos.org/logo/AMG-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mercedes-amg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mercedes-amg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mercedes-amg.png","localThumb":"./thumb/mercedes-amg.png","localOptimized":"./optimized/mercedes-amg.png","localOriginal":"./original/mercedes-amg.png"}},{"name":"Mercedes-Benz","slug":"mercedes-benz","image":{"source":"https://www.carlogos.org/logo/Mercedes-Benz-logo-2011-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mercedes-benz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mercedes-benz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mercedes-benz.png","localThumb":"./thumb/mercedes-benz.png","localOptimized":"./optimized/mercedes-benz.png","localOriginal":"./original/mercedes-benz.png"}},{"name":"Mercury","slug":"mercury","image":{"source":"https://www.carlogos.org/logo/Mercury-logo-1980-2500x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mercury.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mercury.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mercury.png","localThumb":"./thumb/mercury.png","localOptimized":"./optimized/mercury.png","localOriginal":"./original/mercury.png"}},{"name":"Merkur","slug":"merkur","image":{"source":"https://www.carlogos.org/logo/Merkur-logo-black-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/merkur.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/merkur.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/merkur.png","localThumb":"./thumb/merkur.png","localOptimized":"./optimized/merkur.png","localOriginal":"./original/merkur.png"}},{"name":"MEV","slug":"mev","image":{"source":"https://www.carlogos.org/logo/Mills-Extreme-Vehicles-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mev.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mev.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mev.png","localThumb":"./thumb/mev.png","localOptimized":"./optimized/mev.png","localOriginal":"./original/mev.png"}},{"name":"MG","slug":"mg","image":{"source":"https://www.carlogos.org/logo/MG-logo-red-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mg.png","localThumb":"./thumb/mg.png","localOptimized":"./optimized/mg.png","localOriginal":"./original/mg.png"}},{"name":"Microcar","slug":"microcar","image":{"source":"https://www.carlogos.org/logo/Microcar-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/microcar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/microcar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/microcar.png","localThumb":"./thumb/microcar.png","localOptimized":"./optimized/microcar.png","localOriginal":"./original/microcar.png"}},{"name":"Mini","slug":"mini","image":{"source":"https://www.carlogos.org/logo/Mini-logo-2001-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mini.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mini.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mini.png","localThumb":"./thumb/mini.png","localOptimized":"./optimized/mini.png","localOriginal":"./original/mini.png"}},{"name":"Mitsubishi","slug":"mitsubishi","image":{"source":"https://www.carlogos.org/logo/Mitsubishi-logo-2000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mitsubishi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mitsubishi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mitsubishi.png","localThumb":"./thumb/mitsubishi.png","localOptimized":"./optimized/mitsubishi.png","localOriginal":"./original/mitsubishi.png"}},{"name":"Mitsuoka","slug":"mitsuoka","image":{"source":"https://www.carlogos.org/logo/Mitsuoka-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mitsuoka.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mitsuoka.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mitsuoka.png","localThumb":"./thumb/mitsuoka.png","localOptimized":"./optimized/mitsuoka.png","localOriginal":"./original/mitsuoka.png"}},{"name":"MK","slug":"mk","image":{"source":"https://www.carlogos.org/car-logos/mk-sportscars-logo-1000x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mk.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mk.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mk.png","localThumb":"./thumb/mk.png","localOptimized":"./optimized/mk.png","localOriginal":"./original/mk.png"}},{"name":"Morgan","slug":"morgan","image":{"source":"https://www.carlogos.org/logo/Morgan-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/morgan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/morgan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/morgan.png","localThumb":"./thumb/morgan.png","localOptimized":"./optimized/morgan.png","localOriginal":"./original/morgan.png"}},{"name":"Morris","slug":"morris","image":{"source":"https://www.carlogos.org/logo/Morris-logo-640x497.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/morris.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/morris.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/morris.jpg","localThumb":"./thumb/morris.png","localOptimized":"./optimized/morris.png","localOriginal":"./original/morris.jpg"}},{"name":"Mosler","slug":"mosler","image":{"source":"https://www.carlogos.org/logo/Mosler-logo-640x457.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/mosler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/mosler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/mosler.png","localThumb":"./thumb/mosler.png","localOptimized":"./optimized/mosler.png","localOriginal":"./original/mosler.png"}},{"name":"Navistar","slug":"navistar","image":{"source":"https://www.carlogos.org/logo/Navistar-International-logo-2200x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/navistar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/navistar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/navistar.png","localThumb":"./thumb/navistar.png","localOptimized":"./optimized/navistar.png","localOriginal":"./original/navistar.png"}},{"name":"NEVS","slug":"nevs","image":{"source":"https://www.carlogos.org/car-logos/nevs-logo-2100x450-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nevs.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nevs.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nevs.png","localThumb":"./thumb/nevs.png","localOptimized":"./optimized/nevs.png","localOriginal":"./original/nevs.png"}},{"name":"Nikola","slug":"nikola","image":{"source":"https://www.carlogos.org/car-logos/nikola-logo-2100x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nikola.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nikola.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nikola.png","localThumb":"./thumb/nikola.png","localOptimized":"./optimized/nikola.png","localOriginal":"./original/nikola.png"}},{"name":"NIO","slug":"nio","image":{"source":"https://www.carlogos.org/car-logos/nio-logo-1800x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nio.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nio.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nio.png","localThumb":"./thumb/nio.png","localOptimized":"./optimized/nio.png","localOriginal":"./original/nio.png"}},{"name":"Nissan","slug":"nissan","image":{"source":"https://www.carlogos.org/car-logos/nissan-logo-2020-black-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nissan.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nissan.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nissan.png","localThumb":"./thumb/nissan.png","localOptimized":"./optimized/nissan.png","localOriginal":"./original/nissan.png"}},{"name":"Nissan GT-R","slug":"nissan-gt-r","image":{"source":"https://www.carlogos.org/logo/GT-R-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nissan-gt-r.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nissan-gt-r.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nissan-gt-r.png","localThumb":"./thumb/nissan-gt-r.png","localOptimized":"./optimized/nissan-gt-r.png","localOriginal":"./original/nissan-gt-r.png"}},{"name":"Nissan Nismo","slug":"nissan-nismo","image":{"source":"https://www.carlogos.org/logo/Nismo-logo-2000x450.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/nissan-nismo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/nissan-nismo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/nissan-nismo.png","localThumb":"./thumb/nissan-nismo.png","localOptimized":"./optimized/nissan-nismo.png","localOriginal":"./original/nissan-nismo.png"}},{"name":"Noble","slug":"noble","image":{"source":"https://www.carlogos.org/logo/Noble-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/noble.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/noble.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/noble.png","localThumb":"./thumb/noble.png","localOptimized":"./optimized/noble.png","localOriginal":"./original/noble.png"}},{"name":"Oldsmobile","slug":"oldsmobile","image":{"source":"https://www.carlogos.org/logo/Oldsmobile-logo-1996-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/oldsmobile.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/oldsmobile.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/oldsmobile.png","localThumb":"./thumb/oldsmobile.png","localOptimized":"./optimized/oldsmobile.png","localOriginal":"./original/oldsmobile.png"}},{"name":"Oltcit","slug":"oltcit","image":{"source":"https://www.carlogos.org/logo/Oltcit-logo-640x308.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/oltcit.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/oltcit.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/oltcit.png","localThumb":"./thumb/oltcit.png","localOptimized":"./optimized/oltcit.png","localOriginal":"./original/oltcit.png"}},{"name":"Omoda","slug":"omoda","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/omoda.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/omoda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/omoda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/omoda.png","localThumb":"./thumb/omoda.png","localOptimized":"./optimized/omoda.png","localOriginal":"./original/omoda.png"}},{"name":"Opel","slug":"opel","image":{"source":"https://www.carlogos.org/logo/Opel-logo-2009-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/opel.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/opel.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/opel.png","localThumb":"./thumb/opel.png","localOptimized":"./optimized/opel.png","localOriginal":"./original/opel.png"}},{"name":"OSCA","slug":"osca","image":{"source":"https://www.carlogos.org/logo/OSCA-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/osca.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/osca.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/osca.png","localThumb":"./thumb/osca.png","localOptimized":"./optimized/osca.png","localOriginal":"./original/osca.png"}},{"name":"Paccar","slug":"paccar","image":{"source":"https://www.carlogos.org/logo/Paccar-logo-2200x500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/paccar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/paccar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/paccar.png","localThumb":"./thumb/paccar.png","localOptimized":"./optimized/paccar.png","localOriginal":"./original/paccar.png"}},{"name":"Packard","slug":"packard","image":{"source":"https://www.carlogos.org/car-logos/packard-logo-650x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/packard.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/packard.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/packard.png","localThumb":"./thumb/packard.png","localOptimized":"./optimized/packard.png","localOriginal":"./original/packard.png"}},{"name":"Pagani","slug":"pagani","image":{"source":"https://www.carlogos.org/logo/Pagani-logo-1992-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pagani.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pagani.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pagani.png","localThumb":"./thumb/pagani.png","localOptimized":"./optimized/pagani.png","localOriginal":"./original/pagani.png"}},{"name":"Panhard","slug":"panhard","image":{"source":"https://www.carlogos.org/logo/Panhard-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/panhard.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/panhard.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/panhard.png","localThumb":"./thumb/panhard.png","localOptimized":"./optimized/panhard.png","localOriginal":"./original/panhard.png"}},{"name":"Panoz","slug":"panoz","image":{"source":"https://www.carlogos.org/logo/Panoz-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/panoz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/panoz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/panoz.png","localThumb":"./thumb/panoz.png","localOptimized":"./optimized/panoz.png","localOriginal":"./original/panoz.png"}},{"name":"Pegaso","slug":"pegaso","image":{"source":"https://www.carlogos.org/logo/Pegaso-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pegaso.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pegaso.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pegaso.png","localThumb":"./thumb/pegaso.png","localOptimized":"./optimized/pegaso.png","localOriginal":"./original/pegaso.png"}},{"name":"Perodua","slug":"perodua","image":{"source":"https://www.carlogos.org/logo/Perodua-logo-2008-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/perodua.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/perodua.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/perodua.png","localThumb":"./thumb/perodua.png","localOptimized":"./optimized/perodua.png","localOriginal":"./original/perodua.png"}},{"name":"Peterbilt","slug":"peterbilt","image":{"source":"https://www.carlogos.org/logo/Peterbilt-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/peterbilt.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/peterbilt.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/peterbilt.png","localThumb":"./thumb/peterbilt.png","localOptimized":"./optimized/peterbilt.png","localOriginal":"./original/peterbilt.png"}},{"name":"Peugeot","slug":"peugeot","image":{"source":"https://www.carlogos.org/logo/Peugeot-logo-2010-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/peugeot.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/peugeot.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/peugeot.png","localThumb":"./thumb/peugeot.png","localOptimized":"./optimized/peugeot.png","localOriginal":"./original/peugeot.png"}},{"name":"PGO","slug":"pgo","image":{"source":"https://www.carlogos.org/logo/PGO-logo-640x550.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pgo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pgo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pgo.jpg","localThumb":"./thumb/pgo.png","localOptimized":"./optimized/pgo.png","localOriginal":"./original/pgo.jpg"}},{"name":"Pierce-Arrow","slug":"pierce-arrow","image":{"source":"https://www.carlogos.org/logo/Pierce-Arrow-logo-640x416.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pierce-arrow.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pierce-arrow.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pierce-arrow.jpg","localThumb":"./thumb/pierce-arrow.png","localOptimized":"./optimized/pierce-arrow.png","localOriginal":"./original/pierce-arrow.jpg"}},{"name":"Pininfarina","slug":"pininfarina","image":{"source":"https://www.carlogos.org/logo/Pininfarina-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pininfarina.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pininfarina.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pininfarina.png","localThumb":"./thumb/pininfarina.png","localOptimized":"./optimized/pininfarina.png","localOriginal":"./original/pininfarina.png"}},{"name":"Plymouth","slug":"plymouth","image":{"source":"https://www.carlogos.org/logo/Plymouth-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/plymouth.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/plymouth.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/plymouth.png","localThumb":"./thumb/plymouth.png","localOptimized":"./optimized/plymouth.png","localOriginal":"./original/plymouth.png"}},{"name":"Polestar","slug":"polestar","image":{"source":"https://www.carlogos.org/logo/Polestar-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/polestar.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/polestar.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/polestar.png","localThumb":"./thumb/polestar.png","localOptimized":"./optimized/polestar.png","localOriginal":"./original/polestar.png"}},{"name":"Pontiac","slug":"pontiac","image":{"source":"https://www.carlogos.org/logo/Pontiac-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/pontiac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/pontiac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/pontiac.png","localThumb":"./thumb/pontiac.png","localOptimized":"./optimized/pontiac.png","localOriginal":"./original/pontiac.png"}},{"name":"Porsche","slug":"porsche","image":{"source":"https://www.carlogos.org/car-logos/porsche-logo-2014-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/porsche.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/porsche.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/porsche.png","localThumb":"./thumb/porsche.png","localOptimized":"./optimized/porsche.png","localOriginal":"./original/porsche.png"}},{"name":"Praga","slug":"praga","image":{"source":"https://www.carlogos.org/logo/Praga-logo-blue-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/praga.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/praga.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/praga.png","localThumb":"./thumb/praga.png","localOptimized":"./optimized/praga.png","localOriginal":"./original/praga.png"}},{"name":"Premier","slug":"premier","image":{"source":"https://www.carlogos.org/logo/Premier-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/premier.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/premier.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/premier.png","localThumb":"./thumb/premier.png","localOptimized":"./optimized/premier.png","localOriginal":"./original/premier.png"}},{"name":"Prodrive","slug":"prodrive","image":{"source":"https://www.carlogos.org/logo/Prodrive-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/prodrive.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/prodrive.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/prodrive.png","localThumb":"./thumb/prodrive.png","localOptimized":"./optimized/prodrive.png","localOriginal":"./original/prodrive.png"}},{"name":"Proton","slug":"proton","image":{"source":"https://www.carlogos.org/logo/Proton-logo-2016-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/proton.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/proton.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/proton.png","localThumb":"./thumb/proton.png","localOptimized":"./optimized/proton.png","localOriginal":"./original/proton.png"}},{"name":"Qoros","slug":"qoros","image":{"source":"https://www.carlogos.org/logo/Qoros-logo-2007-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/qoros.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/qoros.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/qoros.png","localThumb":"./thumb/qoros.png","localOptimized":"./optimized/qoros.png","localOriginal":"./original/qoros.png"}},{"name":"Radical","slug":"radical","image":{"source":"https://www.carlogos.org/logo/Radical-Sportscars-logo-2000x800.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/radical.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/radical.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/radical.png","localThumb":"./thumb/radical.png","localOptimized":"./optimized/radical.png","localOriginal":"./original/radical.png"}},{"name":"RAM","slug":"ram","image":{"source":"https://www.carlogos.org/logo/RAM-logo-2009-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ram.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ram.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ram.png","localThumb":"./thumb/ram.png","localOptimized":"./optimized/ram.png","localOriginal":"./original/ram.png"}},{"name":"Rambler","slug":"rambler","image":{"source":"https://www.carlogos.org/logo/Rambler-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rambler.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rambler.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rambler.png","localThumb":"./thumb/rambler.png","localOptimized":"./optimized/rambler.png","localOriginal":"./original/rambler.png"}},{"name":"Ranz","slug":"ranz","image":{"source":"https://www.carlogos.org/logo/Ranz-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ranz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ranz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ranz.png","localThumb":"./thumb/ranz.png","localOptimized":"./optimized/ranz.png","localOriginal":"./original/ranz.png"}},{"name":"Renault","slug":"renault","image":{"source":"https://www.carlogos.org/logo/Renault-logo-2015-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/renault.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/renault.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/renault.png","localThumb":"./thumb/renault.png","localOptimized":"./optimized/renault.png","localOriginal":"./original/renault.png"}},{"name":"Renault Samsung","slug":"renault-samsung","image":{"source":"https://www.carlogos.org/logo/Renault-Samsung-Motors-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/renault-samsung.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/renault-samsung.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/renault-samsung.png","localThumb":"./thumb/renault-samsung.png","localOptimized":"./optimized/renault-samsung.png","localOriginal":"./original/renault-samsung.png"}},{"name":"Rezvani","slug":"rezvani","image":{"source":"https://www.carlogos.org/logo/Rezvani-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rezvani.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rezvani.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rezvani.png","localThumb":"./thumb/rezvani.png","localOptimized":"./optimized/rezvani.png","localOriginal":"./original/rezvani.png"}},{"name":"Riley","slug":"riley","image":{"source":"https://www.carlogos.org/logo/Riley-logo-640x389.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/riley.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/riley.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/riley.png","localThumb":"./thumb/riley.png","localOptimized":"./optimized/riley.png","localOriginal":"./original/riley.png"}},{"name":"Rimac","slug":"rimac","image":{"source":"https://www.carlogos.org/logo/Rimac-logo-2016-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rimac.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rimac.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rimac.png","localThumb":"./thumb/rimac.png","localOptimized":"./optimized/rimac.png","localOriginal":"./original/rimac.png"}},{"name":"Rinspeed","slug":"rinspeed","image":{"source":"https://www.carlogos.org/logo/Rinspeed-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rinspeed.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rinspeed.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rinspeed.png","localThumb":"./thumb/rinspeed.png","localOptimized":"./optimized/rinspeed.png","localOriginal":"./original/rinspeed.png"}},{"name":"Rivian","slug":"rivian","image":{"source":"https://www.carlogos.org/car-logos/rivian-logo-black-1300x1150-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rivian.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rivian.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rivian.png","localThumb":"./thumb/rivian.png","localOptimized":"./optimized/rivian.png","localOriginal":"./original/rivian.png"}},{"name":"Roewe","slug":"roewe","image":{"source":"https://www.carlogos.org/logo/Roewe-logo-2006-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/roewe.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/roewe.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/roewe.png","localThumb":"./thumb/roewe.png","localOptimized":"./optimized/roewe.png","localOriginal":"./original/roewe.png"}},{"name":"Rolls-Royce","slug":"rolls-royce","image":{"source":"https://www.carlogos.org/logo/Rolls-Royce-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rolls-royce.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rolls-royce.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rolls-royce.png","localThumb":"./thumb/rolls-royce.png","localOptimized":"./optimized/rolls-royce.png","localOriginal":"./original/rolls-royce.png"}},{"name":"Ronart","slug":"ronart","image":{"source":"https://www.carlogos.org/logo/Ronart-Cars-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ronart.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ronart.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ronart.png","localThumb":"./thumb/ronart.png","localOptimized":"./optimized/ronart.png","localOriginal":"./original/ronart.png"}},{"name":"Rossion","slug":"rossion","image":{"source":"https://www.carlogos.org/logo/Rossion-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rossion.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rossion.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rossion.png","localThumb":"./thumb/rossion.png","localOptimized":"./optimized/rossion.png","localOriginal":"./original/rossion.png"}},{"name":"Rover","slug":"rover","image":{"source":"https://www.carlogos.org/logo/Rover-logo-2003-3840x2160.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/rover.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/rover.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/rover.png","localThumb":"./thumb/rover.png","localOptimized":"./optimized/rover.png","localOriginal":"./original/rover.png"}},{"name":"RUF","slug":"ruf","image":{"source":"https://www.carlogos.org/logo/Ruf-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ruf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ruf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ruf.png","localThumb":"./thumb/ruf.png","localOptimized":"./optimized/ruf.png","localOriginal":"./original/ruf.png"}},{"name":"Saab","slug":"saab","image":{"source":"https://www.carlogos.org/logo/Saab-logo-2013-2000x450.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saab.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saab.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saab.png","localThumb":"./thumb/saab.png","localOptimized":"./optimized/saab.png","localOriginal":"./original/saab.png"}},{"name":"SAIC Motor","slug":"saic-motor","image":{"source":"https://www.carlogos.org/logo/SAIC-Motor-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saic-motor.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saic-motor.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saic-motor.png","localThumb":"./thumb/saic-motor.png","localOptimized":"./optimized/saic-motor.png","localOriginal":"./original/saic-motor.png"}},{"name":"Saipa","slug":"saipa","image":{"source":"https://www.carlogos.org/logo/Saipa-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saipa.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saipa.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saipa.png","localThumb":"./thumb/saipa.png","localOptimized":"./optimized/saipa.png","localOriginal":"./original/saipa.png"}},{"name":"Saleen","slug":"saleen","image":{"source":"https://www.carlogos.org/logo/Saleen-logo-640x456.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saleen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saleen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saleen.jpg","localThumb":"./thumb/saleen.png","localOptimized":"./optimized/saleen.png","localOriginal":"./original/saleen.jpg"}},{"name":"Saturn","slug":"saturn","image":{"source":"https://www.carlogos.org/logo/Saturn-logo-1985-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/saturn.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/saturn.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/saturn.png","localThumb":"./thumb/saturn.png","localOptimized":"./optimized/saturn.png","localOriginal":"./original/saturn.png"}},{"name":"Scania","slug":"scania","image":{"source":"https://www.carlogos.org/logo/Scania-logo-6200x1800.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/scania.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/scania.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/scania.png","localThumb":"./thumb/scania.png","localOptimized":"./optimized/scania.png","localOriginal":"./original/scania.png"}},{"name":"Scion","slug":"scion","image":{"source":"https://www.carlogos.org/logo/Scion-logo-2003-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/scion.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/scion.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/scion.png","localThumb":"./thumb/scion.png","localOptimized":"./optimized/scion.png","localOriginal":"./original/scion.png"}},{"name":"SEAT","slug":"seat","image":{"source":"https://www.carlogos.org/logo/SEAT-logo-2012-6000x5000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/seat.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/seat.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/seat.png","localThumb":"./thumb/seat.png","localOptimized":"./optimized/seat.png","localOriginal":"./original/seat.png"}},{"name":"Setra","slug":"setra","image":{"source":"https://www.carlogos.org/logo/Setra-logo-3000x1000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/setra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/setra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/setra.png","localThumb":"./thumb/setra.png","localOptimized":"./optimized/setra.png","localOriginal":"./original/setra.png"}},{"name":"SEV","slug":"sev","image":{"source":"/Users/filip.popranec/Develop/car-logos-dataset/local-logos/sev.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sev.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sev.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sev.png","localThumb":"./thumb/sev.png","localOptimized":"./optimized/sev.png","localOriginal":"./original/sev.png"}},{"name":"Shacman","slug":"shacman","image":{"source":"https://www.carlogos.org/car-logos/shacman-logo-1400x1400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/shacman.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/shacman.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/shacman.png","localThumb":"./thumb/shacman.png","localOptimized":"./optimized/shacman.png","localOriginal":"./original/shacman.png"}},{"name":"Simca","slug":"simca","image":{"source":"https://www.carlogos.org/logo/Simca-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/simca.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/simca.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/simca.png","localThumb":"./thumb/simca.png","localOptimized":"./optimized/simca.png","localOriginal":"./original/simca.png"}},{"name":"Singer","slug":"singer","image":{"source":"https://www.carlogos.org/logo/Singer-logo.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/singer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/singer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/singer.png","localThumb":"./thumb/singer.png","localOptimized":"./optimized/singer.png","localOriginal":"./original/singer.png"}},{"name":"Singulato","slug":"singulato","image":{"source":"https://www.carlogos.org/car-logos/singulato-logo-1050x400-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/singulato.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/singulato.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/singulato.png","localThumb":"./thumb/singulato.png","localOptimized":"./optimized/singulato.png","localOriginal":"./original/singulato.png"}},{"name":"Sinotruk","slug":"sinotruk","image":{"source":"https://www.carlogos.org/car-logos/sinotruk-logo-1100x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sinotruk.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sinotruk.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sinotruk.png","localThumb":"./thumb/sinotruk.png","localOptimized":"./optimized/sinotruk.png","localOriginal":"./original/sinotruk.png"}},{"name":"Sisu","slug":"sisu","image":{"source":"https://www.carlogos.org/logo/Sisu-logo-2048x2000.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sisu.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sisu.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sisu.png","localThumb":"./thumb/sisu.png","localOptimized":"./optimized/sisu.png","localOriginal":"./original/sisu.png"}},{"name":"koda","slug":"skoda","image":{"source":"https://www.carlogos.org/logo/Skoda-logo-2016-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/skoda.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/skoda.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/skoda.png","localThumb":"./thumb/skoda.png","localOptimized":"./optimized/skoda.png","localOriginal":"./original/skoda.png"}},{"name":"Smart","slug":"smart","image":{"source":"https://www.carlogos.org/logo/Smart-logo-1994-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/smart.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/smart.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/smart.png","localThumb":"./thumb/smart.png","localOptimized":"./optimized/smart.png","localOriginal":"./original/smart.png"}},{"name":"Soueast","slug":"soueast","image":{"source":"https://www.carlogos.org/logo/Soueast-logo-1995-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/soueast.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/soueast.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/soueast.png","localThumb":"./thumb/soueast.png","localOptimized":"./optimized/soueast.png","localOriginal":"./original/soueast.png"}},{"name":"Spania GTA","slug":"spania-gta","image":{"source":"https://www.carlogos.org/logo/GTA-Motor-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/spania-gta.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/spania-gta.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/spania-gta.png","localThumb":"./thumb/spania-gta.png","localOptimized":"./optimized/spania-gta.png","localOriginal":"./original/spania-gta.png"}},{"name":"Spirra","slug":"spirra","image":{"source":"https://www.carlogos.org/logo/Spirra-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/spirra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/spirra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/spirra.png","localThumb":"./thumb/spirra.png","localOptimized":"./optimized/spirra.png","localOriginal":"./original/spirra.png"}},{"name":"Spyker","slug":"spyker","image":{"source":"https://www.carlogos.org/logo/Spyker-logo-black-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/spyker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/spyker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/spyker.png","localThumb":"./thumb/spyker.png","localOptimized":"./optimized/spyker.png","localOriginal":"./original/spyker.png"}},{"name":"SsangYong","slug":"ssangyong","image":{"source":"https://www.carlogos.org/logo/SsangYong-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ssangyong.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ssangyong.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ssangyong.png","localThumb":"./thumb/ssangyong.png","localOptimized":"./optimized/ssangyong.png","localOriginal":"./original/ssangyong.png"}},{"name":"SSC","slug":"ssc","image":{"source":"https://www.carlogos.org/logo/SSC-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ssc.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ssc.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ssc.png","localThumb":"./thumb/ssc.png","localOptimized":"./optimized/ssc.png","localOriginal":"./original/ssc.png"}},{"name":"Sterling","slug":"sterling","image":{"source":"https://www.carlogos.org/logo/Sterling-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/sterling.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/sterling.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/sterling.png","localThumb":"./thumb/sterling.png","localOptimized":"./optimized/sterling.png","localOriginal":"./original/sterling.png"}},{"name":"Studebaker","slug":"studebaker","image":{"source":"https://www.carlogos.org/logo/Studebaker-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/studebaker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/studebaker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/studebaker.png","localThumb":"./thumb/studebaker.png","localOptimized":"./optimized/studebaker.png","localOriginal":"./original/studebaker.png"}},{"name":"Stutz","slug":"stutz","image":{"source":"https://www.carlogos.org/car-logos/stutz-logo-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/stutz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/stutz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/stutz.png","localThumb":"./thumb/stutz.png","localOptimized":"./optimized/stutz.png","localOriginal":"./original/stutz.png"}},{"name":"Subaru","slug":"subaru","image":{"source":"https://www.carlogos.org/car-logos/subaru-logo-2019-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/subaru.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/subaru.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/subaru.png","localThumb":"./thumb/subaru.png","localOptimized":"./optimized/subaru.png","localOriginal":"./original/subaru.png"}},{"name":"Suffolk","slug":"suffolk","image":{"source":"https://www.carlogos.org/logo/Suffolk-Sportscars-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/suffolk.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/suffolk.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/suffolk.png","localThumb":"./thumb/suffolk.png","localOptimized":"./optimized/suffolk.png","localOriginal":"./original/suffolk.png"}},{"name":"Suzuki","slug":"suzuki","image":{"source":"https://www.carlogos.org/logo/Suzuki-logo-5000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/suzuki.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/suzuki.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/suzuki.png","localThumb":"./thumb/suzuki.png","localOptimized":"./optimized/suzuki.png","localOriginal":"./original/suzuki.png"}},{"name":"Talbot","slug":"talbot","image":{"source":"https://www.carlogos.org/logo/Talbot-logo-1440x900.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/talbot.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/talbot.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/talbot.png","localThumb":"./thumb/talbot.png","localOptimized":"./optimized/talbot.png","localOriginal":"./original/talbot.png"}},{"name":"Tata","slug":"tata","image":{"source":"https://www.carlogos.org/logo/Tata-logo-2000-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tata.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tata.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tata.png","localThumb":"./thumb/tata.png","localOptimized":"./optimized/tata.png","localOriginal":"./original/tata.png"}},{"name":"Tatra","slug":"tatra","image":{"source":"https://www.carlogos.org/logo/Tatra-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tatra.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tatra.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tatra.png","localThumb":"./thumb/tatra.png","localOptimized":"./optimized/tatra.png","localOriginal":"./original/tatra.png"}},{"name":"Tauro","slug":"tauro","image":{"source":"https://www.carlogos.org/logo/Tauro-Sport-Auto-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tauro.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tauro.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tauro.png","localThumb":"./thumb/tauro.png","localOptimized":"./optimized/tauro.png","localOriginal":"./original/tauro.png"}},{"name":"TechArt","slug":"techart","image":{"source":"https://www.carlogos.org/logo/TechArt-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/techart.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/techart.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/techart.png","localThumb":"./thumb/techart.png","localOptimized":"./optimized/techart.png","localOriginal":"./original/techart.png"}},{"name":"Tesla","slug":"tesla","image":{"source":"https://www.carlogos.org/car-logos/tesla-logo-2007-full-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tesla.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tesla.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tesla.png","localThumb":"./thumb/tesla.png","localOptimized":"./optimized/tesla.png","localOriginal":"./original/tesla.png"}},{"name":"Toyota","slug":"toyota","image":{"source":"https://www.carlogos.org/car-logos/toyota-logo-2020-europe-640.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota.png","localThumb":"./thumb/toyota.png","localOptimized":"./optimized/toyota.png","localOriginal":"./original/toyota.png"}},{"name":"Toyota Alphard","slug":"toyota-alphard","image":{"source":"https://www.carlogos.org/car-logos/toyota-alphard-logo-500x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota-alphard.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota-alphard.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota-alphard.png","localThumb":"./thumb/toyota-alphard.png","localOptimized":"./optimized/toyota-alphard.png","localOriginal":"./original/toyota-alphard.png"}},{"name":"Toyota Century","slug":"toyota-century","image":{"source":"https://www.carlogos.org/car-logos/toyota-century-logo-900x1000-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota-century.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota-century.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota-century.png","localThumb":"./thumb/toyota-century.png","localOptimized":"./optimized/toyota-century.png","localOriginal":"./original/toyota-century.png"}},{"name":"Toyota Crown","slug":"toyota-crown","image":{"source":"https://www.carlogos.org/logo/Toyota-Crown-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/toyota-crown.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/toyota-crown.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/toyota-crown.png","localThumb":"./thumb/toyota-crown.png","localOptimized":"./optimized/toyota-crown.png","localOriginal":"./original/toyota-crown.png"}},{"name":"Tramontana","slug":"tramontana","image":{"source":"https://www.carlogos.org/logo/Tramontana-logo-black-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tramontana.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tramontana.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tramontana.png","localThumb":"./thumb/tramontana.png","localOptimized":"./optimized/tramontana.png","localOriginal":"./original/tramontana.png"}},{"name":"Trion","slug":"trion","image":{"source":"https://www.carlogos.org/logo/Trion-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/trion.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/trion.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/trion.png","localThumb":"./thumb/trion.png","localOptimized":"./optimized/trion.png","localOriginal":"./original/trion.png"}},{"name":"Triumph","slug":"triumph","image":{"source":"https://www.carlogos.org/logo/Triumph-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/triumph.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/triumph.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/triumph.png","localThumb":"./thumb/triumph.png","localOptimized":"./optimized/triumph.png","localOriginal":"./original/triumph.png"}},{"name":"Troller","slug":"troller","image":{"source":"https://www.carlogos.org/logo/Troller-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/troller.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/troller.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/troller.png","localThumb":"./thumb/troller.png","localOptimized":"./optimized/troller.png","localOriginal":"./original/troller.png"}},{"name":"Tucker","slug":"tucker","image":{"source":"https://www.carlogos.org/car-logos/tucker-logo-700x900-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tucker.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tucker.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tucker.png","localThumb":"./thumb/tucker.png","localOptimized":"./optimized/tucker.png","localOriginal":"./original/tucker.png"}},{"name":"TVR","slug":"tvr","image":{"source":"https://www.carlogos.org/logo/TVR-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/tvr.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/tvr.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/tvr.png","localThumb":"./thumb/tvr.png","localOptimized":"./optimized/tvr.png","localOriginal":"./original/tvr.png"}},{"name":"UAZ","slug":"uaz","image":{"source":"https://www.carlogos.org/logo/UAZ-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/uaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/uaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/uaz.png","localThumb":"./thumb/uaz.png","localOptimized":"./optimized/uaz.png","localOriginal":"./original/uaz.png"}},{"name":"UD","slug":"ud","image":{"source":"https://www.carlogos.org/logo/UD-Trucks-logo-3000x2500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ud.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ud.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ud.png","localThumb":"./thumb/ud.png","localOptimized":"./optimized/ud.png","localOriginal":"./original/ud.png"}},{"name":"Ultima","slug":"ultima","image":{"source":"https://www.carlogos.org/logo/Ultima-Sports-logo-640x480.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/ultima.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/ultima.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/ultima.png","localThumb":"./thumb/ultima.png","localOptimized":"./optimized/ultima.png","localOriginal":"./original/ultima.png"}},{"name":"Vandenbrink","slug":"vandenbrink","image":{"source":"https://www.carlogos.org/logo/Vandenbrink-logo-640x265.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vandenbrink.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vandenbrink.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vandenbrink.jpg","localThumb":"./thumb/vandenbrink.png","localOptimized":"./optimized/vandenbrink.png","localOriginal":"./original/vandenbrink.jpg"}},{"name":"Vauxhall","slug":"vauxhall","image":{"source":"https://www.carlogos.org/logo/Vauxhall-logo-2008-red-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vauxhall.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vauxhall.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vauxhall.png","localThumb":"./thumb/vauxhall.png","localOptimized":"./optimized/vauxhall.png","localOriginal":"./original/vauxhall.png"}},{"name":"Vector","slug":"vector","image":{"source":"https://www.carlogos.org/logo/Vector-Motors-logo-1366x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vector.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vector.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vector.png","localThumb":"./thumb/vector.png","localOptimized":"./optimized/vector.png","localOriginal":"./original/vector.png"}},{"name":"Vencer","slug":"vencer","image":{"source":"https://www.carlogos.org/logo/Vencer-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vencer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vencer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vencer.png","localThumb":"./thumb/vencer.png","localOptimized":"./optimized/vencer.png","localOriginal":"./original/vencer.png"}},{"name":"Venturi","slug":"venturi","image":{"source":"https://www.carlogos.org/logo/Venturi-logo-640x151.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/venturi.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/venturi.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/venturi.png","localThumb":"./thumb/venturi.png","localOptimized":"./optimized/venturi.png","localOriginal":"./original/venturi.png"}},{"name":"Venucia","slug":"venucia","image":{"source":"https://www.carlogos.org/logo/Venucia-logo-2017-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/venucia.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/venucia.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/venucia.png","localThumb":"./thumb/venucia.png","localOptimized":"./optimized/venucia.png","localOriginal":"./original/venucia.png"}},{"name":"VinFast","slug":"vinfast","image":{"source":"https://www.carlogos.org/car-logos/vinfast-logo-900x850-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vinfast.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vinfast.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vinfast.png","localThumb":"./thumb/vinfast.png","localOptimized":"./optimized/vinfast.png","localOriginal":"./original/vinfast.png"}},{"name":"VLF","slug":"vlf","image":{"source":"https://www.carlogos.org/car-logos/vlf-logo-600x900-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/vlf.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/vlf.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/vlf.png","localThumb":"./thumb/vlf.png","localOptimized":"./optimized/vlf.png","localOriginal":"./original/vlf.png"}},{"name":"Volkswagen","slug":"volkswagen","image":{"source":"https://www.carlogos.org/logo/Volkswagen-logo-2019-1500x1500.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/volkswagen.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/volkswagen.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/volkswagen.png","localThumb":"./thumb/volkswagen.png","localOptimized":"./optimized/volkswagen.png","localOriginal":"./original/volkswagen.png"}},{"name":"Volvo","slug":"volvo","image":{"source":"https://www.carlogos.org/logo/Volvo-logo-2014-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/volvo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/volvo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/volvo.png","localThumb":"./thumb/volvo.png","localOptimized":"./optimized/volvo.png","localOriginal":"./original/volvo.png"}},{"name":"W Motors","slug":"w-motors","image":{"source":"https://www.carlogos.org/logo/W-Motors-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/w-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/w-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/w-motors.png","localThumb":"./thumb/w-motors.png","localOptimized":"./optimized/w-motors.png","localOriginal":"./original/w-motors.png"}},{"name":"Wanderer","slug":"wanderer","image":{"source":"https://www.carlogos.org/logo/Wanderer-logo-black-640x311.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wanderer.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wanderer.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wanderer.jpg","localThumb":"./thumb/wanderer.png","localOptimized":"./optimized/wanderer.png","localOriginal":"./original/wanderer.jpg"}},{"name":"Wartburg","slug":"wartburg","image":{"source":"https://www.carlogos.org/logo/Wartburg-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wartburg.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wartburg.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wartburg.png","localThumb":"./thumb/wartburg.png","localOptimized":"./optimized/wartburg.png","localOriginal":"./original/wartburg.png"}},{"name":"Weltmeister","slug":"weltmeister","image":{"source":"https://www.carlogos.org/car-logos/weltmeister-logo-1200x900-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/weltmeister.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/weltmeister.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/weltmeister.png","localThumb":"./thumb/weltmeister.png","localOptimized":"./optimized/weltmeister.png","localOriginal":"./original/weltmeister.png"}},{"name":"Western Star","slug":"western-star","image":{"source":"https://www.carlogos.org/logo/Western-Star-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/western-star.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/western-star.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/western-star.png","localThumb":"./thumb/western-star.png","localOptimized":"./optimized/western-star.png","localOriginal":"./original/western-star.png"}},{"name":"Westfield","slug":"westfield","image":{"source":"https://www.carlogos.org/logo/Westfield-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/westfield.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/westfield.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/westfield.png","localThumb":"./thumb/westfield.png","localOptimized":"./optimized/westfield.png","localOriginal":"./original/westfield.png"}},{"name":"WEY","slug":"wey","image":{"source":"https://www.carlogos.org/car-logos/wey-logo-800x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wey.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wey.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wey.png","localThumb":"./thumb/wey.png","localOptimized":"./optimized/wey.png","localOriginal":"./original/wey.png"}},{"name":"Wiesmann","slug":"wiesmann","image":{"source":"https://www.carlogos.org/logo/Wiesmann-logo-2048x2048.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wiesmann.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wiesmann.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wiesmann.png","localThumb":"./thumb/wiesmann.png","localOptimized":"./optimized/wiesmann.png","localOriginal":"./original/wiesmann.png"}},{"name":"Willys-Overland","slug":"willys-overland","image":{"source":"https://www.carlogos.org/logo/Willys-Overland-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/willys-overland.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/willys-overland.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/willys-overland.png","localThumb":"./thumb/willys-overland.png","localOptimized":"./optimized/willys-overland.png","localOriginal":"./original/willys-overland.png"}},{"name":"Workhorse","slug":"workhorse","image":{"source":"https://www.carlogos.org/car-logos/workhorse-logo-1400x650-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/workhorse.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/workhorse.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/workhorse.png","localThumb":"./thumb/workhorse.png","localOptimized":"./optimized/workhorse.png","localOriginal":"./original/workhorse.png"}},{"name":"Wuling","slug":"wuling","image":{"source":"https://www.carlogos.org/logo/Wuling-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/wuling.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/wuling.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/wuling.png","localThumb":"./thumb/wuling.png","localOptimized":"./optimized/wuling.png","localOriginal":"./original/wuling.png"}},{"name":"XPeng","slug":"xpeng","image":{"source":"https://www.carlogos.org/car-logos/xpeng-logo-2021-2700x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/xpeng.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/xpeng.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/xpeng.png","localThumb":"./thumb/xpeng.png","localOptimized":"./optimized/xpeng.png","localOriginal":"./original/xpeng.png"}},{"name":"Yulon","slug":"yulon","image":{"source":"https://www.carlogos.org/logo/Yulon-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/yulon.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/yulon.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/yulon.png","localThumb":"./thumb/yulon.png","localOptimized":"./optimized/yulon.png","localOriginal":"./original/yulon.png"}},{"name":"Yutong","slug":"yutong","image":{"source":"https://www.carlogos.org/car-logos/yutong-logo-2100x1300-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/yutong.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/yutong.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/yutong.png","localThumb":"./thumb/yutong.png","localOptimized":"./optimized/yutong.png","localOriginal":"./original/yutong.png"}},{"name":"Zarooq Motors","slug":"zarooq-motors","image":{"source":"https://www.carlogos.org/logo/Zarooq-Motors-logo-1024x768.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zarooq-motors.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zarooq-motors.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zarooq-motors.png","localThumb":"./thumb/zarooq-motors.png","localOptimized":"./optimized/zarooq-motors.png","localOriginal":"./original/zarooq-motors.png"}},{"name":"Zastava","slug":"zastava","image":{"source":"https://www.carlogos.org/logo/Zastava-logo-640x274.jpg","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zastava.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zastava.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zastava.jpg","localThumb":"./thumb/zastava.png","localOptimized":"./optimized/zastava.png","localOriginal":"./original/zastava.jpg"}},{"name":"ZAZ","slug":"zaz","image":{"source":"https://www.carlogos.org/logo/ZAZ-logo-800x600.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zaz.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zaz.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zaz.png","localThumb":"./thumb/zaz.png","localOptimized":"./optimized/zaz.png","localOriginal":"./original/zaz.png"}},{"name":"Zeekr","slug":"zeekr","image":{"source":"https://www.carlogos.org/car-logos/zeekr-logo-2300x700-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zeekr.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zeekr.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zeekr.png","localThumb":"./thumb/zeekr.png","localOptimized":"./optimized/zeekr.png","localOriginal":"./original/zeekr.png"}},{"name":"Zenos","slug":"zenos","image":{"source":"https://www.carlogos.org/logo/Zenos-Cars-logo-1920x1080.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zenos.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zenos.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zenos.png","localThumb":"./thumb/zenos.png","localOptimized":"./optimized/zenos.png","localOriginal":"./original/zenos.png"}},{"name":"Zenvo","slug":"zenvo","image":{"source":"https://www.carlogos.org/logo/Zenvo-logo-2009-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zenvo.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zenvo.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zenvo.png","localThumb":"./thumb/zenvo.png","localOptimized":"./optimized/zenvo.png","localOriginal":"./original/zenvo.png"}},{"name":"Zhongtong","slug":"zhongtong","image":{"source":"https://www.carlogos.org/car-logos/zhongtong-logo-1400x1100-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zhongtong.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zhongtong.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zhongtong.png","localThumb":"./thumb/zhongtong.png","localOptimized":"./optimized/zhongtong.png","localOriginal":"./original/zhongtong.png"}},{"name":"Zinoro","slug":"zinoro","image":{"source":"https://www.carlogos.org/car-logos/zhinuo-logo-800x600-show.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zinoro.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zinoro.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zinoro.png","localThumb":"./thumb/zinoro.png","localOptimized":"./optimized/zinoro.png","localOriginal":"./original/zinoro.png"}},{"name":"Zotye","slug":"zotye","image":{"source":"https://www.carlogos.org/logo/Zotye-logo-2560x1440.png","thumb":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/thumb/zotye.png","optimized":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/optimized/zotye.png","original":"https://raw.githubusercontent.com/filippofilip95/car-logos-dataset/master/logos/original/zotye.png","localThumb":"./thumb/zotye.png","localOptimized":"./optimized/zotye.png","localOriginal":"./original/zotye.png"}}]');function l0(t){return t.toLowerCase().trim().replace(/[]/g,"a").replace(/[]/g,"o").replace(/[^a-z0-9]/g,"")}function kde(t){if(!t)return null;const e=l0(t),n=wde,r=n.find(a=>a.slug===e);if(r)return r;const i=n.find(a=>l0(a.name)===e);if(i)return i;const o=n.find(a=>l0(a.name).includes(e)||e.includes(l0(a.name)));return o||null}function Ede(t,e,n=!0){const{image:r}=t;return n?e<=40?r.thumb:r.optimized:e<=40?r.localThumb:r.localOptimized}const DC=({make:t,size:e=32,className:n="",showFallback:r=!0,fallbackIcon:i,alt:o,useLocal:a=!1})=>{const[l,u]=T.useState(!1),[d,p]=T.useState(!a),g=kde(t);if(!g||l)return r?i?h.jsx(h.Fragment,{children:i}):h.jsx(nb,{size:e,className:`text-slate-400 ${n}`,"aria-label":`${t} (generic car icon)`}):null;const m=Ede(g,e,d),b=o||`${g.name} logo`;return h.jsx("img",{src:m,alt:b,width:e,height:e,className:`object-contain ${n}`,style:{width:e,height:e},onError:()=>{d?p(!1):u(!0)},loading:"lazy"})},_de=()=>h.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-2xl p-4 mt-6",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(cp,{size:20,className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300",children:"Ett litet meddelande frn verkstan:"}),h.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400/80 mt-1",children:"Elton gr sitt bsta fr att hmta korrekt data, men ibland kan det smyga sig in ett fel. Dubbelkolla alltid kritisk information! Om du hittar ngot som inte stmmer, blir vi superglada om du rapporterar det till oss. Tillsammans gr vi Elton smartare!"})]})]})}),Tde=({onComplete:t,onCancel:e})=>{const{toasts:n,removeToast:r}=xde(),[i,o]=T.useState(1),[a,l]=T.useState(!1),[u,d]=T.useState(0),[p,g]=T.useState(null),[m,b]=T.useState(""),[E,A]=T.useState(null),[_,C]=T.useState(""),[N,I]=T.useState(""),[D,L]=T.useState(null),[M,P]=T.useState(null),[z,U]=T.useState([]),q=[" Analyserar fordonsmodell & RegNr..."," Hmtar tekniska specifikationer..."," Letar efter modell-specifik information..."," Skapar projektplan baserat p dina val..."," Genererar ikon..."," Frdigstller projektet..."],V=W=>{var Z;const X=(Z=W.target.files)==null?void 0:Z[0];if(X){const oe=new FileReader;oe.onloadend=()=>{A(oe.result)},oe.readAsDataURL(X)}},B=()=>{p&&(o(2),(m.trim()||E)&&F())},F=async()=>{var X,Z,oe,fe;l(!0),L(null),d(0);const W=setInterval(()=>{d(Y=>Y>=q.length-2?2:Y+1)},5e3);try{const Y=E?E.split(",")[1]:void 0,[G,J]=await Promise.allSettled([xce(m,Y,p),Y?vce({imageBase64:Y},2):Promise.resolve(null)]);clearInterval(W),d(q.length-1),await new Promise(be=>setTimeout(be,800));const $=G.status==="fulfilled"?G.value:{};if($.error&&!((X=$.vehicleData)!=null&&X.make))throw new Error($.error);L({fullAiData:$,suggestedName:$.projectName,detectedMake:(Z=$.vehicleData)==null?void 0:Z.make,detectedModel:(oe=$.vehicleData)==null?void 0:oe.model,detectedYear:(fe=$.vehicleData)==null?void 0:fe.year,icon:J.status==="fulfilled"?J.value:null,aiProvider:"gemini",hasErrors:!!$.error}),l(!1),o(3)}catch(Y){console.error("Research failed:",Y),clearInterval(W),l(!1),Y("Hoppsan! Ngot gick fel. Frsk igen eller fyll i manuellt.")}},ne=()=>{if(!p)return;const W={projectType:p,vehicleDescription:m,imageBase64:E==null?void 0:E.split(",")[1],aiData:D==null?void 0:D.fullAiData,generatedIcon:D==null?void 0:D.icon};_.trim()&&(W.nickname=_.trim()),N.trim()&&(W.additionalNotes=N.trim()),t(W)};return h.jsxs(h.Fragment,{children:[h.jsx(vde,{toasts:n,onRemove:r}),h.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white w-full max-w-2xl p-8 rounded-[40px] shadow-2xl animate-fade-in relative overflow-hidden max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-8",children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i>=1?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"1"}),h.jsx("div",{className:`w-16 h-1 ${i>=2?"bg-teal-500":"bg-slate-200"}`}),h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i>=2?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"2"}),h.jsx("div",{className:`w-16 h-1 ${i>=3?"bg-teal-500":"bg-slate-200"}`}),h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i>=3?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"3"})]}),i===1&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mx-auto mb-4",children:h.jsx(pu,{size:32})}),h.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal mb-2",children:"Starta nytt projekt"}),h.jsx("p",{className:"text-slate-500",children:"Bertta om ditt fordon"})]}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-4 ml-1",children:"Vad r mlet?"}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("button",{onClick:()=>g("renovation"),className:`p-6 rounded-2xl border-2 transition-all ${p==="renovation"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[h.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:h.jsx(Po,{size:24,className:p==="renovation"?"text-teal-600":"text-slate-400"})}),h.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Renovering"}),h.jsx("p",{className:"text-xs text-slate-500",children:"Restaurera & Laga"})]}),h.jsxs("button",{onClick:()=>g("conversion"),className:`p-6 rounded-2xl border-2 transition-all ${p==="conversion"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[h.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:h.jsx(rX,{size:24,className:p==="conversion"?"text-teal-600":"text-slate-400"})}),h.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Ombyggnad"}),h.jsx("p",{className:"text-xs text-slate-500",children:"Van  Camper"})]}),h.jsxs("button",{onClick:()=>g("maintenance"),className:`p-6 rounded-2xl border-2 transition-all ${p==="maintenance"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[h.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:h.jsx(pX,{size:24,className:p==="maintenance"?"text-teal-600":"text-slate-400"})}),h.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Frvaltning"}),h.jsx("p",{className:"text-xs text-slate-500",children:"Underhlla & Service"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fordonsbeskrivning, Lnk eller RegNr"}),h.jsx("textarea",{className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[100px] text-lg text-nordic-charcoal placeholder:text-slate-300",placeholder:"t.ex. 'ABC123' eller 'Volvo 240 1988'...",value:m,onChange:W=>b(W.target.value)})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-4 bg-slate-50 rounded-2xl border border-dashed border-slate-300 hover:border-teal-400 hover:bg-teal-50 transition-all",children:[h.jsx("div",{className:"p-2 bg-white rounded-xl text-slate-400",children:h.jsx(G3,{size:20})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("span",{className:"block text-sm font-bold text-nordic-charcoal",children:"Ladda upp bild (valfritt)"}),h.jsx("span",{className:"text-xs text-slate-400",children:"Elton lser av RegNr och skapar en ikon"})]}),E&&h.jsx(An,{size:20,className:"text-green-500"}),h.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:V})]}),E&&h.jsx("div",{className:"relative p-4 bg-slate-50 rounded-2xl border border-slate-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:E,alt:"Preview",className:"w-20 h-20 object-cover rounded-xl border border-slate-200"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-bold text-nordic-charcoal",children:"Bild uppladdad"}),h.jsx("p",{className:"text-xs text-slate-400",children:"Imagen 3.0 kommer skapa en ikon"})]}),h.jsx("button",{onClick:()=>A(null),className:"p-2 text-slate-400 hover:text-rose-500 transition-colors",children:h.jsx(ic,{size:16})})]})})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{onClick:e,className:"flex-1 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors",children:"Avbryt"}),h.jsxs("button",{onClick:B,disabled:!p||!m.trim()&&!E,className:"flex-[2] py-4 bg-nordic-charcoal text-white font-bold rounded-2xl hover:bg-slate-800 transition-all shadow-lg shadow-slate-200 disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2",children:[h.jsx(xu,{size:20})," Starta Research"]})]})]})]}),i===2&&a&&h.jsxs("div",{className:"text-center py-8",children:[h.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[h.jsx("div",{className:"absolute inset-0 border-4 border-slate-100 rounded-full"}),h.jsx("div",{className:"absolute inset-0 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-teal-600",children:h.jsx(xu,{size:24})})]}),h.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-2",children:"Research pgr..."}),h.jsxs("p",{className:"text-slate-400 text-sm mb-8",children:["Elton analyserar ditt ",p==="renovation"?"renoverings":p==="conversion"?"ombyggnads":"underhlls","-projekt"]}),h.jsx("div",{className:"space-y-3 text-left max-w-sm mx-auto",children:q.map((W,X)=>h.jsxs("div",{className:`flex items-center gap-3 transition-all duration-500 ${X<=u?"opacity-100":"opacity-30 translate-y-2"}`,children:[X<u?h.jsx(An,{size:20,className:"text-green-500"}):X===u?h.jsx(ia,{size:20,className:"text-teal-500 animate-spin"}):h.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-slate-200"}),h.jsx("span",{className:`font-medium text-sm ${X===u?"text-teal-700":"text-slate-600"}`,children:W})]},X))})]}),i===3&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h2",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1",children:"Granska & Komplettera"}),h.jsx("p",{className:"text-slate-500",children:"Justera det som behvs innan projektet skapas"})]}),h.jsxs("div",{className:"space-y-6",children:[D&&(D.detectedMake||D.detectedModel)&&h.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-blue-50 dark:from-teal-900/20 dark:to-blue-900/20 rounded-2xl p-6 border-2 border-teal-200 dark:border-teal-800",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-16 h-16 bg-white dark:bg-nordic-charcoal rounded-2xl flex items-center justify-center shadow-lg",children:h.jsx(DC,{make:D.detectedMake||"Unknown",size:40})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-white",children:[D.detectedMake||"?"," ",D.detectedModel||"?"]}),D.detectedYear&&h.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["rsmodell: ",D.detectedYear]})]})]})}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Projektnamn"}),h.jsx("input",{type:"text",value:m,onChange:W=>b(W.target.value),className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all text-lg text-nordic-charcoal"}),(D==null?void 0:D.suggestedName)&&h.jsxs("p",{className:"text-xs text-slate-400 mt-2 ml-1",children:[' AI-frslag: "',D.suggestedName,'"']})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Smeknamn (valfritt)"}),h.jsx("input",{type:"text",value:_,onChange:W=>C(W.target.value),placeholder:"t.ex. 'Prlan', 'Besten', 'Veteranen'...",className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all text-lg text-nordic-charcoal placeholder:text-slate-300"}),h.jsx("p",{className:"text-xs text-slate-500 mt-2 ml-1",children:" Detta blir Eltons personlighet nr ni chattar!"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fria anteckningar (valfritt)"}),h.jsx("textarea",{value:N,onChange:W=>I(W.target.value),placeholder:"T.ex. 'Har bytt kamrem 2023', 'Lite rost i hger bakskrm', 'Motorn gr bra men avgassystemet r rostigt'...",className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[120px] text-lg text-nordic-charcoal placeholder:text-slate-300"}),h.jsx("p",{className:"text-xs text-slate-500 mt-2 ml-1",children:" Detta skickas till AI:n som kontext fr att skapa bttre uppgifter"})]}),h.jsxs("div",{className:"bg-teal-50 border border-teal-100 rounded-2xl p-6",children:[h.jsx("h4",{className:"font-bold text-sm text-teal-900 mb-3",children:" Elton kommer att:"}),h.jsxs("ul",{className:"space-y-2 text-sm text-teal-800",children:[h.jsxs("li",{className:"flex gap-2",children:[h.jsx(An,{size:16,className:"shrink-0 mt-0.5"}),h.jsxs("span",{children:["Skapa en projektplan baserat p ",h.jsx("strong",{children:p==="renovation"?"renovering":p==="conversion"?"ombyggnad":"underhll"})]})]}),h.jsxs("li",{className:"flex gap-2",children:[h.jsx(An,{size:16,className:"shrink-0 mt-0.5"}),h.jsx("span",{children:"Anpassa kommunikation efter din mekaniska erfarenhet"})]}),h.jsxs("li",{className:"flex gap-2",children:[h.jsx(An,{size:16,className:"shrink-0 mt-0.5"}),h.jsx("span",{children:"Fresl uppgifter du kan gra sjlv vs. leja ut till verkstad"})]}),h.jsxs("li",{className:"flex gap-2",children:[h.jsx(An,{size:16,className:"shrink-0 mt-0.5"}),h.jsx("span",{children:"Finnas dr fr att chatta och hjlpa dig planera mer i detalj"})]})]}),(D==null?void 0:D.aiProvider)&&h.jsx("div",{className:"mt-4 pt-4 border-t border-teal-200",children:h.jsxs("div",{className:"flex items-start gap-2",children:[D.aiProvider==="gemini"&&h.jsx(pu,{size:14,className:"text-teal-600 shrink-0 mt-0.5"}),D.aiProvider==="grok"&&h.jsx(ab,{size:14,className:"text-purple-600 shrink-0 mt-0.5"}),D.aiProvider==="fallback"&&h.jsx(No,{size:14,className:"text-amber-600 shrink-0 mt-0.5"}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-xs font-medium text-teal-700",children:[D.aiProvider==="gemini"&&"Powered by Google Gemini",D.aiProvider==="grok"&&"Powered by xAI Grok",D.aiProvider==="fallback"&&"Standarddata anvnds"]}),D.hasErrors&&h.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Data kan vara inkomplett - kontrollera fordonsinformation"})]})]})})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsxs("button",{onClick:()=>o(1),className:"px-6 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors flex items-center gap-2",children:[h.jsx(kJ,{size:20})," Tillbaka"]}),h.jsxs("button",{onClick:ne,className:"flex-1 py-4 bg-teal-500 text-white font-bold rounded-2xl hover:bg-teal-600 transition-all shadow-lg shadow-teal-200 flex items-center justify-center gap-2",children:[h.jsx(pu,{size:20})," Skapa Projekt!"]})]}),h.jsx(_de,{})]})]})]})})]})},Sde=({user:t,projects:e,onSelectProject:n,onCreateProject:r,onLogout:i,onDeleteProject:o,onSeed:a})=>{const[l,u]=T.useState(!1),[d,p]=T.useState(null),g=e.filter(_=>{var C;return(C=_.invitedEmails)==null?void 0:C.includes(t.email)}),m=e.filter(_=>{var C;return!((C=_.invitedEmails)!=null&&C.includes(t.email))}),b=async _=>{p(_.id);try{await pse(_.id,t.uid,t.email),window.location.reload()}catch(C){console.error("Failed to accept invite",C),alert("Kunde inte g med i projektet.")}p(null)},E=async _=>{if(confirm("Vill du avbja inbjudan?")){p(_.id);try{await fse(_.id,t.email),window.location.reload()}catch(C){console.error(C)}p(null)}},A=async _=>{var C;try{const N=_.aiData||{},I=_.generatedIcon||void 0;let D=N.projectName||_.vehicleDescription;D&&(D.length>30||D.includes("http"))&&(D=D.split(",")[0].replace(/https?:\/\/\S+/g,"").trim()),D||(D="Nytt Projekt");const L=[];N.analysisReport&&L.push({id:"initial-analysis",title:N.analysisReport.title||"Initial Fordonsanalys",summary:N.analysisReport.summary||"AI-genererad rapport vid projektstart.",content:N.analysisReport.content||"",tags:["Analys","Historik","AI"]});const M={name:D,type:_.projectType,nickname:_.nickname,customIcon:I,vehicleData:{...Use.vehicleData,...N.vehicleData,regNo:((C=N.vehicleData)==null?void 0:C.regNo)||"???"},knowledgeArticles:L,tasks:(N.initialTasks||[]).map(P=>{var z;return{...P,status:et.TODO,actualCost:0,weightKg:0,costType:Pb.OPERATION,phase:P.phase||Wse[_.projectType][0],priority:P.priority||Qi.MEDIUM,difficultyLevel:P.difficultyLevel,requiredTools:P.requiredTools,tags:["AI-Genererad"],links:[],comments:[],attachments:[],subtasks:((z=P.subtasks)==null?void 0:z.map(U=>({...U,id:Math.random().toString(36).substr(2,9),completed:!1})))||[]}})};r(M),u(!1)}catch(N){console.error("Failed to create project",N),alert("Kunde inte skapa projektet. Frsk igen.")}};return h.jsxs("div",{className:"min-h-screen bg-nordic-ice p-6",children:[h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-12",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal",children:["Vlkommen, ",t.name]}),h.jsx("p",{className:"text-slate-500",children:"Vlj ett fordon att jobba med"})]}),h.jsxs("div",{className:"flex gap-2",children:[a&&h.jsx("button",{onClick:a,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-teal-600 transition-colors",title:"terstll Demo",children:h.jsx(pu,{size:20})}),h.jsx("button",{onClick:i,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-rose-500 transition-colors",children:h.jsx(_X,{size:20})})]})]}),g.length>0&&h.jsxs("div",{className:"mb-8",children:[h.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Inbjudningar"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.map(_=>h.jsxs("div",{className:"bg-white rounded-[32px] p-6 shadow-xl shadow-teal-500/10 border-2 border-teal-500/20 relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 bg-teal-500 text-white px-4 py-1 rounded-bl-2xl text-xs font-bold",children:"INBJUDAN"}),h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-teal-50 rounded-full flex items-center justify-center text-teal-600",children:h.jsx(nT,{size:24})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal",children:_.name}),h.jsxs("p",{className:"text-sm text-slate-500",children:["Frn: ",_.ownerEmail]})]})]}),h.jsxs("div",{className:"flex gap-2 mt-4",children:[h.jsxs("button",{onClick:()=>b(_),disabled:!!d,className:"flex-1 bg-teal-500 text-white py-2 rounded-xl font-bold text-sm hover:bg-teal-600 transition-colors flex items-center justify-center gap-2",children:[d===_.id?h.jsx(ia,{className:"animate-spin",size:16}):h.jsx(Op,{size:16}),"G med"]}),h.jsx("button",{onClick:()=>E(_),disabled:!!d,className:"px-4 bg-slate-100 text-slate-500 py-2 rounded-xl font-bold text-sm hover:bg-slate-200 transition-colors",children:h.jsx(Mr,{size:16})})]})]},_.id))})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white/50 border-2 border-dashed border-slate-300 rounded-[32px] p-8 flex flex-col items-center justify-center text-center hover:bg-white hover:border-teal-400 hover:shadow-lg transition-all cursor-pointer group min-h-[250px]",onClick:()=>u(!0),children:[h.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mb-4 group-hover:scale-110 transition-transform",children:h.jsx(ja,{size:32})}),h.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal",children:"Nytt Projekt"}),h.jsx("p",{className:"text-sm text-slate-500",children:"Lgg till en ny van"})]}),m.map(_=>{var C,N,I;return h.jsxs("div",{onClick:()=>n(_.id),className:"bg-white rounded-[32px] p-8 shadow-xl shadow-slate-200/50 border border-white hover:border-teal-200 hover:scale-[1.02] transition-all cursor-pointer relative overflow-hidden group min-h-[250px] flex flex-col justify-between",children:[_.isDemo&&h.jsxs("div",{className:"absolute top-4 right-4 bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:[h.jsx(Ig,{size:10})," Demo"]}),!_.isDemo&&_.ownerId!==t.uid&&h.jsx("div",{className:"absolute top-4 right-4 bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:"Team"}),!_.isDemo&&o&&_.ownerId===t.uid&&h.jsx("button",{onClick:D=>{D.stopPropagation(),o(_.id)},className:"absolute top-4 right-4 p-2 bg-white rounded-full text-slate-300 hover:text-rose-500 hover:bg-rose-50 shadow-sm transition-all z-10 opacity-0 group-hover:opacity-100",title:"Radera projekt",children:h.jsx(ic,{size:16})}),h.jsxs("div",{children:[h.jsx("div",{className:"w-16 h-16 bg-nordic-charcoal text-white rounded-2xl flex items-center justify-center mb-6 shadow-lg overflow-hidden border border-slate-100 p-2",children:_.customIcon?_.customIcon.startsWith("<svg")?h.jsx("div",{dangerouslySetInnerHTML:{__html:_.customIcon},className:"w-full h-full"}):h.jsx("img",{src:`data:image/png;base64,${_.customIcon}`,alt:"Icon",className:"w-full h-full object-contain"}):h.jsx(DC,{make:((C=_.vehicleData)==null?void 0:C.make)||"Unknown",size:32,className:"text-white"})}),h.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1 line-clamp-2",children:_.name}),h.jsxs("p",{className:"text-slate-500 text-sm",children:[_.vehicleData.model," (",_.vehicleData.year,")"]})]}),h.jsxs("div",{className:"flex justify-between items-end mt-8",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((N=_.tasks)==null?void 0:N.filter(D=>D.status!=="Klart").length)||0," Att gra"]}),h.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((I=_.shoppingItems)==null?void 0:I.filter(D=>!D.checked).length)||0," Att kpa"]})]}),h.jsx("div",{className:"w-10 h-10 bg-nordic-ice rounded-full flex items-center justify-center text-nordic-charcoal group-hover:bg-teal-500 group-hover:text-white transition-colors",children:h.jsx(B3,{size:20})})]})]},_.id)})]})]}),l&&h.jsx(Tde,{onComplete:A,onCancel:()=>u(!1)})]})},Ade=({user:t,projects:e,onSelectProject:n,onCreateProject:r,onDeleteProject:i,onLogout:o,onSeed:a})=>{const l=ts(),u=d=>{n(d),l(`/project/${d}`)};return h.jsx(Sde,{user:t,projects:e,onSelectProject:u,onCreateProject:r,onLogout:o,onDeleteProject:i,onSeed:a})},Cde=()=>{const{projectId:t}=QW(),e=ts(),[n,r]=T.useState(null),[i,o]=T.useState(!0),[a,l]=T.useState(null);return T.useEffect(()=>{(async()=>{if(!t){l("Inget projekt-ID angivet"),o(!1),e("/projects");return}o(!0),l(null);try{const d=await BV(t);if(!d){l("Projektet kunde inte hittas"),o(!1),setTimeout(()=>e("/projects"),2e3);return}const[p,g]=await Promise.all([qV(t),HV(t)]);r({...d,tasks:p||[],shoppingItems:g||[]}),o(!1)}catch(d){console.error("Error loading project from URL:",d),l("Kunde inte ladda projektdata"),o(!1),setTimeout(()=>e("/projects"),2e3)}})()},[t,e]),{project:n,isLoading:i,error:a}},Ide=({currentUser:t})=>{var g;const{project:e,isLoading:n,error:r}=Cde(),i=da(),o=ts(),{setActiveProject:a,activeProject:l}=Qs();T.useEffect(()=>{e&&(console.log(" Syncing project to context:",e.name),a(e))},[e,a]);const u=(l==null?void 0:l.id)===(e==null?void 0:e.id);if(n||e&&!u)return h.jsx("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[h.jsx(ia,{className:"animate-spin text-slate-400 text-4xl"}),h.jsx("p",{className:"text-slate-500 font-medium",children:"Laddar projekt..."})]})});if(r||!e)return h.jsx("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[h.jsx("div",{className:"text-rose-500 text-5xl",children:""}),h.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-300",children:r||"Projektet kunde inte laddas"}),h.jsx("button",{onClick:()=>o("/projects"),className:"px-6 py-3 bg-nordic-charcoal text-white rounded-xl hover:bg-slate-800 transition-colors",children:"Tillbaka till projekt"})]})});const d=m=>{const b=i.pathname;return m===`/project/${e.id}`?b===m:b.startsWith(m)},p=({to:m,icon:b,label:E,count:A})=>{const _=d(m);return h.jsxs(uA,{to:m,"data-testid":`nav-${E.toLowerCase().replace(/\s+/g,"-")}`,className:`relative flex flex-col items-center justify-center w-14 h-14 sm:w-24 sm:h-16 rounded-xl transition-all duration-300 ${_?"bg-nordic-charcoal dark:bg-teal-600 text-white shadow-lg scale-105":"text-slate-400 hover:bg-slate-50 dark:hover:bg-nordic-dark-bg"}`,children:[h.jsx(b,{size:20,strokeWidth:_?2.5:2,className:"mb-1"}),h.jsx("span",{className:"text-[9px] sm:text-[10px] font-medium",children:E}),A>0&&h.jsx("span",{className:"absolute top-1 right-3 sm:right-5 w-4 h-4 bg-rose-500 text-white text-[9px] font-bold flex items-center justify-center rounded-full",children:A})]})};return h.jsx("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg text-slate-800 dark:text-nordic-ice",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[h.jsx("div",{className:"flex items-center justify-between mb-8",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 flex items-center justify-center p-1 overflow-hidden rounded-full bg-white dark:bg-nordic-charcoal shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:e.customIcon?h.jsx("img",{src:`data:image/png;base64,${e.customIcon}`,alt:"Project Icon",className:"w-full h-full object-cover"}):h.jsx(DC,{make:((g=e.vehicleData)==null?void 0:g.make)||"Unknown",size:32})}),h.jsxs("div",{children:[h.jsx("h1",{className:"font-serif font-bold text-2xl tracking-tight text-nordic-charcoal dark:text-nordic-ice",children:e.name}),h.jsxs("p",{className:"text-xs font-medium text-slate-500 dark:text-teal-400 uppercase tracking-widest flex items-center gap-1",children:[e.isDemo&&h.jsx(Ig,{size:10})," ",e.vehicleData.model]})]})]})}),h.jsx("div",{className:"pb-28 sm:pb-0",children:h.jsx(pY,{context:{project:e,currentUser:t}})}),h.jsxs("div",{className:"fixed bottom-4 left-4 right-4 sm:left-1/2 sm:-translate-x-1/2 sm:w-auto bg-white/70 dark:bg-nordic-charcoal/80 backdrop-blur-md border border-slate-200/50 dark:border-nordic-dark-bg p-2 rounded-2xl shadow-2xl flex justify-between sm:justify-center sm:gap-2 z-40",children:[h.jsx(p,{to:`/project/${e.id}`,icon:lX,label:"versikt",count:0}),h.jsx(p,{to:`/project/${e.id}/tasks`,icon:cQ,label:"Att Gra",count:e.tasks.filter(m=>m.status!=="Klart").length}),h.jsx(p,{to:`/project/${e.id}/shopping`,icon:Qh,label:"Handla",count:e.shoppingItems.filter(m=>!m.checked).length}),h.jsx(p,{to:`/project/${e.id}/inspection`,icon:NJ,label:"Inspektion",count:0}),h.jsx(p,{to:`/project/${e.id}/specs`,icon:Po,label:"Verkstad",count:0}),h.jsx(p,{to:`/project/${e.id}/ai`,icon:RX,label:"Elton AI",count:0})]})]})})};function Nde(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Rde=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Pde=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ode={};function LM(t,e){return(Ode.jsx?Pde:Rde).test(t)}const Dde=/[ \t\n\f\r]/g;function Mde(t){return typeof t=="object"?t.type==="text"?UM(t.value):!1:UM(t)}function UM(t){return t.replace(Dde,"")===""}class rm{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}rm.prototype.normal={};rm.prototype.property={};rm.prototype.space=void 0;function GF(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new rm(n,r,e)}function UT(t){return t.toLowerCase()}class Mi{constructor(e,n){this.attribute=n,this.property=e}}Mi.prototype.attribute="";Mi.prototype.booleanish=!1;Mi.prototype.boolean=!1;Mi.prototype.commaOrSpaceSeparated=!1;Mi.prototype.commaSeparated=!1;Mi.prototype.defined=!1;Mi.prototype.mustUseProperty=!1;Mi.prototype.number=!1;Mi.prototype.overloadedBoolean=!1;Mi.prototype.property="";Mi.prototype.spaceSeparated=!1;Mi.prototype.space=void 0;let zde=0;const ut=Vu(),Wn=Vu(),VT=Vu(),Ie=Vu(),nn=Vu(),Zd=Vu(),Ji=Vu();function Vu(){return 2**++zde}const FT=Object.freeze(Object.defineProperty({__proto__:null,boolean:ut,booleanish:Wn,commaOrSpaceSeparated:Ji,commaSeparated:Zd,number:Ie,overloadedBoolean:VT,spaceSeparated:nn},Symbol.toStringTag,{value:"Module"})),tE=Object.keys(FT);class MC extends Mi{constructor(e,n,r,i){let o=-1;if(super(e,n),VM(this,"space",i),typeof r=="number")for(;++o<tE.length;){const a=tE[o];VM(this,tE[o],(r&FT[a])===FT[a])}}}MC.prototype.defined=!0;function VM(t,e,n){n&&(t[e]=n)}function Hp(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new MC(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[UT(r)]=r,n[UT(o.attribute)]=r}return new rm(e,n,t.space)}const KF=Hp({properties:{ariaActiveDescendant:null,ariaAtomic:Wn,ariaAutoComplete:null,ariaBusy:Wn,ariaChecked:Wn,ariaColCount:Ie,ariaColIndex:Ie,ariaColSpan:Ie,ariaControls:nn,ariaCurrent:null,ariaDescribedBy:nn,ariaDetails:null,ariaDisabled:Wn,ariaDropEffect:nn,ariaErrorMessage:null,ariaExpanded:Wn,ariaFlowTo:nn,ariaGrabbed:Wn,ariaHasPopup:null,ariaHidden:Wn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nn,ariaLevel:Ie,ariaLive:null,ariaModal:Wn,ariaMultiLine:Wn,ariaMultiSelectable:Wn,ariaOrientation:null,ariaOwns:nn,ariaPlaceholder:null,ariaPosInSet:Ie,ariaPressed:Wn,ariaReadOnly:Wn,ariaRelevant:null,ariaRequired:Wn,ariaRoleDescription:nn,ariaRowCount:Ie,ariaRowIndex:Ie,ariaRowSpan:Ie,ariaSelected:Wn,ariaSetSize:Ie,ariaSort:null,ariaValueMax:Ie,ariaValueMin:Ie,ariaValueNow:Ie,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function WF(t,e){return e in t?t[e]:e}function YF(t,e){return WF(t,e.toLowerCase())}const jde=Hp({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Zd,acceptCharset:nn,accessKey:nn,action:null,allow:null,allowFullScreen:ut,allowPaymentRequest:ut,allowUserMedia:ut,alt:null,as:null,async:ut,autoCapitalize:null,autoComplete:nn,autoFocus:ut,autoPlay:ut,blocking:nn,capture:null,charSet:null,checked:ut,cite:null,className:nn,cols:Ie,colSpan:null,content:null,contentEditable:Wn,controls:ut,controlsList:nn,coords:Ie|Zd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ut,defer:ut,dir:null,dirName:null,disabled:ut,download:VT,draggable:Wn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ut,formTarget:null,headers:nn,height:Ie,hidden:VT,high:Ie,href:null,hrefLang:null,htmlFor:nn,httpEquiv:nn,id:null,imageSizes:null,imageSrcSet:null,inert:ut,inputMode:null,integrity:null,is:null,isMap:ut,itemId:null,itemProp:nn,itemRef:nn,itemScope:ut,itemType:nn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ut,low:Ie,manifest:null,max:null,maxLength:Ie,media:null,method:null,min:null,minLength:Ie,multiple:ut,muted:ut,name:null,nonce:null,noModule:ut,noValidate:ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ut,optimum:Ie,pattern:null,ping:nn,placeholder:null,playsInline:ut,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ut,referrerPolicy:null,rel:nn,required:ut,reversed:ut,rows:Ie,rowSpan:Ie,sandbox:nn,scope:null,scoped:ut,seamless:ut,selected:ut,shadowRootClonable:ut,shadowRootDelegatesFocus:ut,shadowRootMode:null,shape:null,size:Ie,sizes:null,slot:null,span:Ie,spellCheck:Wn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ie,step:null,style:null,tabIndex:Ie,target:null,title:null,translate:null,type:null,typeMustMatch:ut,useMap:null,value:Wn,width:Ie,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nn,axis:null,background:null,bgColor:null,border:Ie,borderColor:null,bottomMargin:Ie,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ut,declare:ut,event:null,face:null,frame:null,frameBorder:null,hSpace:Ie,leftMargin:Ie,link:null,longDesc:null,lowSrc:null,marginHeight:Ie,marginWidth:Ie,noResize:ut,noHref:ut,noShade:ut,noWrap:ut,object:null,profile:null,prompt:null,rev:null,rightMargin:Ie,rules:null,scheme:null,scrolling:Wn,standby:null,summary:null,text:null,topMargin:Ie,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ie,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ut,disableRemotePlayback:ut,prefix:null,property:null,results:Ie,security:null,unselectable:null},space:"html",transform:YF}),Lde=Hp({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ji,accentHeight:Ie,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ie,amplitude:Ie,arabicForm:null,ascent:Ie,attributeName:null,attributeType:null,azimuth:Ie,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ie,by:null,calcMode:null,capHeight:Ie,className:nn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ie,diffuseConstant:Ie,direction:null,display:null,dur:null,divisor:Ie,dominantBaseline:null,download:ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ie,enableBackground:null,end:null,event:null,exponent:Ie,externalResourcesRequired:null,fill:null,fillOpacity:Ie,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Zd,g2:Zd,glyphName:Zd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ie,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ie,horizOriginX:Ie,horizOriginY:Ie,id:null,ideographic:Ie,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ie,k:Ie,k1:Ie,k2:Ie,k3:Ie,k4:Ie,kernelMatrix:Ji,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ie,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ie,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ie,overlineThickness:Ie,paintOrder:null,panose1:null,path:null,pathLength:Ie,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ie,pointsAtY:Ie,pointsAtZ:Ie,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ji,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ji,rev:Ji,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ji,requiredFeatures:Ji,requiredFonts:Ji,requiredFormats:Ji,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ie,specularExponent:Ie,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ie,strikethroughThickness:Ie,string:null,stroke:null,strokeDashArray:Ji,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ie,strokeOpacity:Ie,strokeWidth:null,style:null,surfaceScale:Ie,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ji,tabIndex:Ie,tableValues:null,target:null,targetX:Ie,targetY:Ie,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ji,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ie,underlineThickness:Ie,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ie,values:null,vAlphabetic:Ie,vMathematical:Ie,vectorEffect:null,vHanging:Ie,vIdeographic:Ie,version:null,vertAdvY:Ie,vertOriginX:Ie,vertOriginY:Ie,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ie,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:WF}),JF=Hp({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),XF=Hp({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:YF}),QF=Hp({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Ude={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Vde=/[A-Z]/g,FM=/-[a-z]/g,Fde=/^data[-\w.:]+$/i;function Bde(t,e){const n=UT(e);let r=e,i=Mi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Fde.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(FM,qde);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!FM.test(o)){let a=o.replace(Vde,$de);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=MC}return new i(r,e)}function $de(t){return"-"+t.toLowerCase()}function qde(t){return t.charAt(1).toUpperCase()}const Hde=GF([KF,jde,JF,XF,QF],"html"),zC=GF([KF,Lde,JF,XF,QF],"svg");function Gde(t){return t.join(" ").trim()}var Rd={},nE,BM;function Kde(){if(BM)return nE;BM=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d="/",p="*",g="",m="comment",b="declaration";function E(_,C){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];C=C||{};var N=1,I=1;function D(ne){var W=ne.match(e);W&&(N+=W.length);var X=ne.lastIndexOf(u);I=~X?ne.length-X:I+ne.length}function L(){var ne={line:N,column:I};return function(W){return W.position=new M(ne),U(),W}}function M(ne){this.start=ne,this.end={line:N,column:I},this.source=C.source}M.prototype.content=_;function P(ne){var W=new Error(C.source+":"+N+":"+I+": "+ne);if(W.reason=ne,W.filename=C.source,W.line=N,W.column=I,W.source=_,!C.silent)throw W}function z(ne){var W=ne.exec(_);if(W){var X=W[0];return D(X),_=_.slice(X.length),W}}function U(){z(n)}function q(ne){var W;for(ne=ne||[];W=V();)W!==!1&&ne.push(W);return ne}function V(){var ne=L();if(!(d!=_.charAt(0)||p!=_.charAt(1))){for(var W=2;g!=_.charAt(W)&&(p!=_.charAt(W)||d!=_.charAt(W+1));)++W;if(W+=2,g===_.charAt(W-1))return P("End of comment missing");var X=_.slice(2,W-2);return I+=2,D(X),_=_.slice(W),I+=2,ne({type:m,comment:X})}}function B(){var ne=L(),W=z(r);if(W){if(V(),!z(i))return P("property missing ':'");var X=z(o),Z=ne({type:b,property:A(W[0].replace(t,g)),value:X?A(X[0].replace(t,g)):g});return z(a),Z}}function F(){var ne=[];q(ne);for(var W;W=B();)W!==!1&&(ne.push(W),q(ne));return ne}return U(),F()}function A(_){return _?_.replace(l,g):g}return nE=E,nE}var $M;function Wde(){if($M)return Rd;$M=1;var t=Rd&&Rd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.default=n;const e=t(Kde());function n(r,i){let o=null;if(!r||typeof r!="string")return o;const a=(0,e.default)(r),l=typeof i=="function";return a.forEach(u=>{if(u.type!=="declaration")return;const{property:d,value:p}=u;l?i(d,p,u):p&&(o=o||{},o[d]=p)}),o}return Rd}var dh={},qM;function Yde(){if(qM)return dh;qM=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(d){return!d||n.test(d)||t.test(d)},a=function(d,p){return p.toUpperCase()},l=function(d,p){return"".concat(p,"-")},u=function(d,p){return p===void 0&&(p={}),o(d)?d:(d=d.toLowerCase(),p.reactCompat?d=d.replace(i,l):d=d.replace(r,l),d.replace(e,a))};return dh.camelCase=u,dh}var ph,HM;function Jde(){if(HM)return ph;HM=1;var t=ph&&ph.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Wde()),n=Yde();function r(i,o){var a={};return!i||typeof i!="string"||(0,e.default)(i,function(l,u){l&&u&&(a[(0,n.camelCase)(l,o)]=u)}),a}return r.default=r,ph=r,ph}var Xde=Jde();const Qde=Lo(Xde),ZF=eB("end"),jC=eB("start");function eB(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Zde(t){const e=jC(t),n=ZF(t);if(e&&n)return{start:e,end:n}}function $h(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?GM(t.position):"start"in t||"end"in t?GM(t):"line"in t||"column"in t?BT(t):""}function BT(t){return KM(t&&t.line)+":"+KM(t&&t.column)}function GM(t){return BT(t&&t.start)+"-"+BT(t&&t.end)}function KM(t){return t&&typeof t=="number"?t:1}class Yr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(a=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?o.ruleId=r:(o.source=r.slice(0,u),o.ruleId=r.slice(u+1))}if(!o.place&&o.ancestors&&o.ancestors){const u=o.ancestors[o.ancestors.length-1];u&&(o.place=u.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=$h(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Yr.prototype.file="";Yr.prototype.name="";Yr.prototype.reason="";Yr.prototype.message="";Yr.prototype.stack="";Yr.prototype.column=void 0;Yr.prototype.line=void 0;Yr.prototype.ancestors=void 0;Yr.prototype.cause=void 0;Yr.prototype.fatal=void 0;Yr.prototype.place=void 0;Yr.prototype.ruleId=void 0;Yr.prototype.source=void 0;const LC={}.hasOwnProperty,epe=new Map,tpe=/[A-Z]/g,npe=new Set(["table","tbody","thead","tfoot","tr"]),rpe=new Set(["td","th"]),tB="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function ipe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=ppe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=dpe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?zC:Hde,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=nB(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function nB(t,e,n){if(e.type==="element")return ope(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return ape(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return lpe(t,e,n);if(e.type==="mdxjsEsm")return spe(t,e);if(e.type==="root")return cpe(t,e,n);if(e.type==="text")return upe(t,e)}function ope(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=zC,t.schema=i),t.ancestors.push(e);const o=iB(t,e.tagName,!1),a=fpe(t,e);let l=VC(t,e);return npe.has(e.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!Mde(u):!0})),rB(t,a,o,e),UC(a,l),t.ancestors.pop(),t.schema=r,t.create(e,o,a,n)}function ape(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}lg(t,e.position)}function spe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);lg(t,e.position)}function lpe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=zC,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:iB(t,e.name,!0),a=hpe(t,e),l=VC(t,e);return rB(t,a,o,e),UC(a,l),t.ancestors.pop(),t.schema=r,t.create(e,o,a,n)}function cpe(t,e,n){const r={};return UC(r,VC(t,e)),t.create(e,t.Fragment,r,n)}function upe(t,e){return e.value}function rB(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function UC(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function dpe(t,e,n){return r;function r(i,o,a,l){const d=Array.isArray(a.children)?n:e;return l?d(o,a,l):d(o,a)}}function ppe(t,e){return n;function n(r,i,o,a){const l=Array.isArray(o.children),u=jC(r);return e(i,o,a,l,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function fpe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&LC.call(e.properties,i)){const o=gpe(t,i,e.properties[i]);if(o){const[a,l]=o;t.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&rpe.has(e.tagName)?r=l:n[a]=l}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function hpe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else lg(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,o=t.evaluater.evaluateExpression(l.expression)}else lg(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function VC(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:epe;for(;++r<e.children.length;){const o=e.children[r];let a;if(t.passKeys){const u=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(u){const d=i.get(u)||0;a=u+"-"+d,i.set(u,d+1)}}const l=nB(t,o,a);l!==void 0&&n.push(l)}return n}function gpe(t,e,n){const r=Bde(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Nde(n):Gde(n)),r.property==="style"){let i=typeof n=="object"?n:mpe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=ype(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Ude[r.property]||r.property:r.attribute,n]}}function mpe(t,e){try{return Qde(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Yr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=tB+"#cannot-parse-style-attribute",i}}function iB(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,a;for(;++o<i.length;){const l=LM(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(o&&l.type==="Literal"),optional:!1}:l}r=a}else r=LM(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return LC.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);lg(t)}function lg(t,e){const n=new Yr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=tB+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ype(t){const e={};let n;for(n in t)LC.call(t,n)&&(e[bpe(n)]=t[n]);return e}function bpe(t){let e=t.replace(tpe,vpe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function vpe(t){return"-"+t.toLowerCase()}const rE={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xpe={};function wpe(t,e){const n=xpe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return oB(t,r,i)}function oB(t,e,n){if(kpe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return WM(t.children,e,n)}return Array.isArray(t)?WM(t,e,n):""}function WM(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=oB(t[i],e,n);return r.join("")}function kpe(t){return!!(t&&typeof t=="object")}const YM=document.createElement("i");function FC(t){const e="&"+t+";";YM.innerHTML=e;const n=YM.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Xa(t,e,n,r){const i=t.length;let o=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(e,0),t.splice(...a),o+=1e4,e+=1e4}function Co(t,e){return t.length>0?(Xa(t,t.length,0,e),t):e}const JM={}.hasOwnProperty;function Epe(t){const e={};let n=-1;for(;++n<t.length;)_pe(e,t[n]);return e}function _pe(t,e){let n;for(n in e){const i=(JM.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let a;if(o)for(a in o){JM.call(i,a)||(i[a]=[]);const l=o[a];Tpe(i[a],Array.isArray(l)?l:l?[l]:[])}}}function Tpe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Xa(t,0,0,r)}function aB(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ep(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Da=Tc(/[A-Za-z]/),no=Tc(/[\dA-Za-z]/),Spe=Tc(/[#-'*+\--9=?A-Z^-~]/);function $T(t){return t!==null&&(t<32||t===127)}const qT=Tc(/\d/),Ape=Tc(/[\dA-Fa-f]/),Cpe=Tc(/[!-/:-@[-`{-~]/);function Ze(t){return t!==null&&t<-2}function Di(t){return t!==null&&(t<0||t===32)}function Mt(t){return t===-2||t===-1||t===32}const Ipe=Tc(new RegExp("\\p{P}|\\p{S}","u")),Npe=Tc(/\s/);function Tc(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Gp(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let a="";if(o===37&&no(t.charCodeAt(n+1))&&no(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const l=t.charCodeAt(n+1);o<56320&&l>56319&&l<57344?(a=String.fromCharCode(o,l),i=1):a=""}else a=String.fromCharCode(o);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function an(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(u){return Mt(u)?(t.enter(n),l(u)):e(u)}function l(u){return Mt(u)&&o++<i?(t.consume(u),l):(t.exit(n),e(u))}}const Rpe={tokenize:Ppe};function Ppe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),an(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),o(l)}function o(l){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(l)}function a(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return Ze(l)?(t.consume(l),t.exit("chunkText"),o):(t.consume(l),a)}}const Ope={tokenize:Dpe},XM={tokenize:Mpe};function Dpe(t){const e=this,n=[];let r=0,i,o,a;return l;function l(I){if(r<n.length){const D=n[r];return e.containerState=D[1],t.attempt(D[0].continuation,u,d)(I)}return d(I)}function u(I){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&N();const D=e.events.length;let L=D,M;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){M=e.events[L][1].end;break}C(r);let P=D;for(;P<e.events.length;)e.events[P][1].end={...M},P++;return Xa(e.events,L+1,0,e.events.slice(D)),e.events.length=P,d(I)}return l(I)}function d(I){if(r===n.length){if(!i)return m(I);if(i.currentConstruct&&i.currentConstruct.concrete)return E(I);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(XM,p,g)(I)}function p(I){return i&&N(),C(r),m(I)}function g(I){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,E(I)}function m(I){return e.containerState={},t.attempt(XM,b,E)(I)}function b(I){return r++,n.push([e.currentConstruct,e.containerState]),m(I)}function E(I){if(I===null){i&&N(),C(0),t.consume(I);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),A(I)}function A(I){if(I===null){_(t.exit("chunkFlow"),!0),C(0),t.consume(I);return}return Ze(I)?(t.consume(I),_(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(I),A)}function _(I,D){const L=e.sliceStream(I);if(D&&L.push(null),I.previous=o,o&&(o.next=I),o=I,i.defineSkip(I.start),i.write(L),e.parser.lazy[I.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<a&&(!i.events[M][1].end||i.events[M][1].end.offset>a))return;const P=e.events.length;let z=P,U,q;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){if(U){q=e.events[z][1].end;break}U=!0}for(C(r),M=P;M<e.events.length;)e.events[M][1].end={...q},M++;Xa(e.events,z+1,0,e.events.slice(P)),e.events.length=M}}function C(I){let D=n.length;for(;D-- >I;){const L=n[D];e.containerState=L[1],L[0].exit.call(e,t)}n.length=I}function N(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Mpe(t,e,n){return an(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function QM(t){if(t===null||Di(t)||Npe(t))return 1;if(Ipe(t))return 2}function BC(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const HT={name:"attention",resolveAll:zpe,tokenize:jpe};function zpe(t,e){let n=-1,r,i,o,a,l,u,d,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const g={...t[r][1].end},m={...t[n][1].start};ZM(g,-u),ZM(m,u),a={type:u>1?"strongSequence":"emphasisSequence",start:g,end:{...t[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:m},o={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},t[r][1].end={...a.start},t[n][1].start={...l.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Co(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Co(d,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",o,e]]),d=Co(d,BC(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Co(d,[["exit",o,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,d=Co(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,Xa(t,r-1,n-r+3,d),n=r+d.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function jpe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=QM(r);let o;return a;function a(u){return o=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===o)return t.consume(u),l;const d=t.exit("attentionSequence"),p=QM(u),g=!p||p===2&&i||n.includes(u),m=!i||i===2&&p||n.includes(r);return d._open=!!(o===42?g:g&&(i||!m)),d._close=!!(o===42?m:m&&(p||!g)),e(u)}}function ZM(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Lpe={name:"autolink",tokenize:Upe};function Upe(t,e,n){let r=0;return i;function i(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(b){return Da(b)?(t.consume(b),a):b===64?n(b):d(b)}function a(b){return b===43||b===45||b===46||no(b)?(r=1,l(b)):d(b)}function l(b){return b===58?(t.consume(b),r=0,u):(b===43||b===45||b===46||no(b))&&r++<32?(t.consume(b),l):(r=0,d(b))}function u(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):b===null||b===32||b===60||$T(b)?n(b):(t.consume(b),u)}function d(b){return b===64?(t.consume(b),p):Spe(b)?(t.consume(b),d):n(b)}function p(b){return no(b)?g(b):n(b)}function g(b){return b===46?(t.consume(b),r=0,p):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):m(b)}function m(b){if((b===45||no(b))&&r++<63){const E=b===45?m:g;return t.consume(b),E}return n(b)}}const Ax={partial:!0,tokenize:Vpe};function Vpe(t,e,n){return r;function r(o){return Mt(o)?an(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||Ze(o)?e(o):n(o)}}const sB={continuation:{tokenize:Bpe},exit:$pe,name:"blockQuote",tokenize:Fpe};function Fpe(t,e,n){const r=this;return i;function i(a){if(a===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),o}return n(a)}function o(a){return Mt(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function Bpe(t,e,n){const r=this;return i;function i(a){return Mt(a)?an(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return t.attempt(sB,e,n)(a)}}function $pe(t){t.exit("blockQuote")}const lB={name:"characterEscape",tokenize:qpe};function qpe(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return Cpe(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const cB={name:"characterReference",tokenize:Hpe};function Hpe(t,e,n){const r=this;let i=0,o,a;return l;function l(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),u}function u(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),o=31,a=no,p(g))}function d(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,a=Ape,p):(t.enter("characterReferenceValue"),o=7,a=qT,p(g))}function p(g){if(g===59&&i){const m=t.exit("characterReferenceValue");return a===no&&!FC(r.sliceSerialize(m))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(g)&&i++<o?(t.consume(g),p):n(g)}}const e5={partial:!0,tokenize:Kpe},t5={concrete:!0,name:"codeFenced",tokenize:Gpe};function Gpe(t,e,n){const r=this,i={partial:!0,tokenize:L};let o=0,a=0,l;return u;function u(M){return d(M)}function d(M){const P=r.events[r.events.length-1];return o=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=M,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(M)}function p(M){return M===l?(a++,t.consume(M),p):a<3?n(M):(t.exit("codeFencedFenceSequence"),Mt(M)?an(t,g,"whitespace")(M):g(M))}function g(M){return M===null||Ze(M)?(t.exit("codeFencedFence"),r.interrupt?e(M):t.check(e5,A,D)(M)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(M))}function m(M){return M===null||Ze(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(M)):Mt(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),an(t,b,"whitespace")(M)):M===96&&M===l?n(M):(t.consume(M),m)}function b(M){return M===null||Ze(M)?g(M):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),E(M))}function E(M){return M===null||Ze(M)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(M)):M===96&&M===l?n(M):(t.consume(M),E)}function A(M){return t.attempt(i,D,_)(M)}function _(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),C}function C(M){return o>0&&Mt(M)?an(t,N,"linePrefix",o+1)(M):N(M)}function N(M){return M===null||Ze(M)?t.check(e5,A,D)(M):(t.enter("codeFlowValue"),I(M))}function I(M){return M===null||Ze(M)?(t.exit("codeFlowValue"),N(M)):(t.consume(M),I)}function D(M){return t.exit("codeFenced"),e(M)}function L(M,P,z){let U=0;return q;function q(W){return M.enter("lineEnding"),M.consume(W),M.exit("lineEnding"),V}function V(W){return M.enter("codeFencedFence"),Mt(W)?an(M,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):B(W)}function B(W){return W===l?(M.enter("codeFencedFenceSequence"),F(W)):z(W)}function F(W){return W===l?(U++,M.consume(W),F):U>=a?(M.exit("codeFencedFenceSequence"),Mt(W)?an(M,ne,"whitespace")(W):ne(W)):z(W)}function ne(W){return W===null||Ze(W)?(M.exit("codeFencedFence"),P(W)):z(W)}}}function Kpe(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const iE={name:"codeIndented",tokenize:Ype},Wpe={partial:!0,tokenize:Jpe};function Ype(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),an(t,o,"linePrefix",5)(d)}function o(d){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?a(d):n(d)}function a(d){return d===null?u(d):Ze(d)?t.attempt(Wpe,a,u)(d):(t.enter("codeFlowValue"),l(d))}function l(d){return d===null||Ze(d)?(t.exit("codeFlowValue"),a(d)):(t.consume(d),l)}function u(d){return t.exit("codeIndented"),e(d)}}function Jpe(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):Ze(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):an(t,o,"linePrefix",5)(a)}function o(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):Ze(a)?i(a):n(a)}}const Xpe={name:"codeText",previous:Zpe,resolve:Qpe,tokenize:efe};function Qpe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Zpe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function efe(t,e,n){let r=0,i,o;return a;function a(g){return t.enter("codeText"),t.enter("codeTextSequence"),l(g)}function l(g){return g===96?(t.consume(g),r++,l):(t.exit("codeTextSequence"),u(g))}function u(g){return g===null?n(g):g===32?(t.enter("space"),t.consume(g),t.exit("space"),u):g===96?(o=t.enter("codeTextSequence"),i=0,p(g)):Ze(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),u):(t.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||Ze(g)?(t.exit("codeTextData"),u(g)):(t.consume(g),d)}function p(g){return g===96?(t.consume(g),i++,p):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(g)):(o.type="codeTextData",d(g))}}class tfe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&fh(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),fh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),fh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);fh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);fh(this.left,n.reverse())}}}function fh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function uB(t){const e={};let n=-1,r,i,o,a,l,u,d;const p=new tfe(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,o=0,o<u.length&&u[o][1].type==="lineEndingBlank"&&(o+=2),o<u.length&&u[o][1].type==="content"))for(;++o<u.length&&u[o][1].type!=="content";)u[o][1].type==="chunkText"&&(u[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,nfe(p,n)),n=e[n],d=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(a=p.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(p.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...p.get(i)[1].start},l=p.slice(i,n),l.unshift(r),p.splice(i,n-i+1,l))}}return Xa(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!d}function nfe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,u=[],d={};let p,g,m=-1,b=n,E=0,A=0;const _=[A];for(;b;){for(;t.get(++i)[1]!==b;);o.push(i),b._tokenizer||(p=r.sliceStream(b),b.next||p.push(null),g&&a.defineSkip(b.start),b._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(p),b._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),g=b,b=b.next}for(b=n;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(A=m+1,_.push(A),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(a.events=[],b?(b._tokenizer=void 0,b.previous=void 0):_.pop(),m=_.length;m--;){const C=l.slice(_[m],_[m+1]),N=o.pop();u.push([N,N+C.length-1]),t.splice(N,2,C)}for(u.reverse(),m=-1;++m<u.length;)d[E+u[m][0]]=E+u[m][1],E+=u[m][1]-u[m][0]-1;return d}const rfe={resolve:ofe,tokenize:afe},ife={partial:!0,tokenize:sfe};function ofe(t){return uB(t),t}function afe(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?o(l):Ze(l)?t.check(ife,a,o)(l):(t.consume(l),i)}function o(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function a(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function sfe(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),an(t,o,"linePrefix")}function o(a){if(a===null||Ze(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function dB(t,e,n,r,i,o,a,l,u){const d=u||Number.POSITIVE_INFINITY;let p=0;return g;function g(C){return C===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(C),t.exit(o),m):C===null||C===32||C===41||$T(C)?n(C):(t.enter(r),t.enter(a),t.enter(l),t.enter("chunkString",{contentType:"string"}),A(C))}function m(C){return C===62?(t.enter(o),t.consume(C),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),b(C))}function b(C){return C===62?(t.exit("chunkString"),t.exit(l),m(C)):C===null||C===60||Ze(C)?n(C):(t.consume(C),C===92?E:b)}function E(C){return C===60||C===62||C===92?(t.consume(C),b):b(C)}function A(C){return!p&&(C===null||C===41||Di(C))?(t.exit("chunkString"),t.exit(l),t.exit(a),t.exit(r),e(C)):p<d&&C===40?(t.consume(C),p++,A):C===41?(t.consume(C),p--,A):C===null||C===32||C===40||$T(C)?n(C):(t.consume(C),C===92?_:A)}function _(C){return C===40||C===41||C===92?(t.consume(C),A):A(C)}}function pB(t,e,n,r,i,o){const a=this;let l=0,u;return d;function d(b){return t.enter(r),t.enter(i),t.consume(b),t.exit(i),t.enter(o),p}function p(b){return l>999||b===null||b===91||b===93&&!u||b===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(b):b===93?(t.exit(o),t.enter(i),t.consume(b),t.exit(i),t.exit(r),e):Ze(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===null||b===91||b===93||Ze(b)||l++>999?(t.exit("chunkString"),p(b)):(t.consume(b),u||(u=!Mt(b)),b===92?m:g)}function m(b){return b===91||b===92||b===93?(t.consume(b),l++,g):g(b)}}function fB(t,e,n,r,i,o){let a;return l;function l(m){return m===34||m===39||m===40?(t.enter(r),t.enter(i),t.consume(m),t.exit(i),a=m===40?41:m,u):n(m)}function u(m){return m===a?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(o),d(m))}function d(m){return m===a?(t.exit(o),u(a)):m===null?n(m):Ze(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),an(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===a||m===null||Ze(m)?(t.exit("chunkString"),d(m)):(t.consume(m),m===92?g:p)}function g(m){return m===a||m===92?(t.consume(m),p):p(m)}}function qh(t,e){let n;return r;function r(i){return Ze(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Mt(i)?an(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const lfe={name:"definition",tokenize:ufe},cfe={partial:!0,tokenize:dfe};function ufe(t,e,n){const r=this;let i;return o;function o(b){return t.enter("definition"),a(b)}function a(b){return pB.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function l(b){return i=ep(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),u):n(b)}function u(b){return Di(b)?qh(t,d)(b):d(b)}function d(b){return dB(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function p(b){return t.attempt(cfe,g,g)(b)}function g(b){return Mt(b)?an(t,m,"whitespace")(b):m(b)}function m(b){return b===null||Ze(b)?(t.exit("definition"),r.parser.defined.push(i),e(b)):n(b)}}function dfe(t,e,n){return r;function r(l){return Di(l)?qh(t,i)(l):n(l)}function i(l){return fB(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function o(l){return Mt(l)?an(t,a,"whitespace")(l):a(l)}function a(l){return l===null||Ze(l)?e(l):n(l)}}const pfe={name:"hardBreakEscape",tokenize:ffe};function ffe(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return Ze(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const hfe={name:"headingAtx",resolve:gfe,tokenize:mfe};function gfe(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Xa(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function mfe(t,e,n){let r=0;return i;function i(p){return t.enter("atxHeading"),o(p)}function o(p){return t.enter("atxHeadingSequence"),a(p)}function a(p){return p===35&&r++<6?(t.consume(p),a):p===null||Di(p)?(t.exit("atxHeadingSequence"),l(p)):n(p)}function l(p){return p===35?(t.enter("atxHeadingSequence"),u(p)):p===null||Ze(p)?(t.exit("atxHeading"),e(p)):Mt(p)?an(t,l,"whitespace")(p):(t.enter("atxHeadingText"),d(p))}function u(p){return p===35?(t.consume(p),u):(t.exit("atxHeadingSequence"),l(p))}function d(p){return p===null||p===35||Di(p)?(t.exit("atxHeadingText"),l(p)):(t.consume(p),d)}}const yfe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],n5=["pre","script","style","textarea"],bfe={concrete:!0,name:"htmlFlow",resolveTo:wfe,tokenize:kfe},vfe={partial:!0,tokenize:_fe},xfe={partial:!0,tokenize:Efe};function wfe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function kfe(t,e,n){const r=this;let i,o,a,l,u;return d;function d($){return p($)}function p($){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume($),g}function g($){return $===33?(t.consume($),m):$===47?(t.consume($),o=!0,A):$===63?(t.consume($),i=3,r.interrupt?e:Y):Da($)?(t.consume($),a=String.fromCharCode($),_):n($)}function m($){return $===45?(t.consume($),i=2,b):$===91?(t.consume($),i=5,l=0,E):Da($)?(t.consume($),i=4,r.interrupt?e:Y):n($)}function b($){return $===45?(t.consume($),r.interrupt?e:Y):n($)}function E($){const be="CDATA[";return $===be.charCodeAt(l++)?(t.consume($),l===be.length?r.interrupt?e:B:E):n($)}function A($){return Da($)?(t.consume($),a=String.fromCharCode($),_):n($)}function _($){if($===null||$===47||$===62||Di($)){const be=$===47,_e=a.toLowerCase();return!be&&!o&&n5.includes(_e)?(i=1,r.interrupt?e($):B($)):yfe.includes(a.toLowerCase())?(i=6,be?(t.consume($),C):r.interrupt?e($):B($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):o?N($):I($))}return $===45||no($)?(t.consume($),a+=String.fromCharCode($),_):n($)}function C($){return $===62?(t.consume($),r.interrupt?e:B):n($)}function N($){return Mt($)?(t.consume($),N):q($)}function I($){return $===47?(t.consume($),q):$===58||$===95||Da($)?(t.consume($),D):Mt($)?(t.consume($),I):q($)}function D($){return $===45||$===46||$===58||$===95||no($)?(t.consume($),D):L($)}function L($){return $===61?(t.consume($),M):Mt($)?(t.consume($),L):I($)}function M($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(t.consume($),u=$,P):Mt($)?(t.consume($),M):z($)}function P($){return $===u?(t.consume($),u=null,U):$===null||Ze($)?n($):(t.consume($),P)}function z($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||Di($)?L($):(t.consume($),z)}function U($){return $===47||$===62||Mt($)?I($):n($)}function q($){return $===62?(t.consume($),V):n($)}function V($){return $===null||Ze($)?B($):Mt($)?(t.consume($),V):n($)}function B($){return $===45&&i===2?(t.consume($),X):$===60&&i===1?(t.consume($),Z):$===62&&i===4?(t.consume($),G):$===63&&i===3?(t.consume($),Y):$===93&&i===5?(t.consume($),fe):Ze($)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(vfe,J,F)($)):$===null||Ze($)?(t.exit("htmlFlowData"),F($)):(t.consume($),B)}function F($){return t.check(xfe,ne,J)($)}function ne($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),W}function W($){return $===null||Ze($)?F($):(t.enter("htmlFlowData"),B($))}function X($){return $===45?(t.consume($),Y):B($)}function Z($){return $===47?(t.consume($),a="",oe):B($)}function oe($){if($===62){const be=a.toLowerCase();return n5.includes(be)?(t.consume($),G):B($)}return Da($)&&a.length<8?(t.consume($),a+=String.fromCharCode($),oe):B($)}function fe($){return $===93?(t.consume($),Y):B($)}function Y($){return $===62?(t.consume($),G):$===45&&i===2?(t.consume($),Y):B($)}function G($){return $===null||Ze($)?(t.exit("htmlFlowData"),J($)):(t.consume($),G)}function J($){return t.exit("htmlFlow"),e($)}}function Efe(t,e,n){const r=this;return i;function i(a){return Ze(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function _fe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Ax,e,n)}}const Tfe={name:"htmlText",tokenize:Sfe};function Sfe(t,e,n){const r=this;let i,o,a;return l;function l(Y){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(Y),u}function u(Y){return Y===33?(t.consume(Y),d):Y===47?(t.consume(Y),L):Y===63?(t.consume(Y),I):Da(Y)?(t.consume(Y),z):n(Y)}function d(Y){return Y===45?(t.consume(Y),p):Y===91?(t.consume(Y),o=0,E):Da(Y)?(t.consume(Y),N):n(Y)}function p(Y){return Y===45?(t.consume(Y),b):n(Y)}function g(Y){return Y===null?n(Y):Y===45?(t.consume(Y),m):Ze(Y)?(a=g,Z(Y)):(t.consume(Y),g)}function m(Y){return Y===45?(t.consume(Y),b):g(Y)}function b(Y){return Y===62?X(Y):Y===45?m(Y):g(Y)}function E(Y){const G="CDATA[";return Y===G.charCodeAt(o++)?(t.consume(Y),o===G.length?A:E):n(Y)}function A(Y){return Y===null?n(Y):Y===93?(t.consume(Y),_):Ze(Y)?(a=A,Z(Y)):(t.consume(Y),A)}function _(Y){return Y===93?(t.consume(Y),C):A(Y)}function C(Y){return Y===62?X(Y):Y===93?(t.consume(Y),C):A(Y)}function N(Y){return Y===null||Y===62?X(Y):Ze(Y)?(a=N,Z(Y)):(t.consume(Y),N)}function I(Y){return Y===null?n(Y):Y===63?(t.consume(Y),D):Ze(Y)?(a=I,Z(Y)):(t.consume(Y),I)}function D(Y){return Y===62?X(Y):I(Y)}function L(Y){return Da(Y)?(t.consume(Y),M):n(Y)}function M(Y){return Y===45||no(Y)?(t.consume(Y),M):P(Y)}function P(Y){return Ze(Y)?(a=P,Z(Y)):Mt(Y)?(t.consume(Y),P):X(Y)}function z(Y){return Y===45||no(Y)?(t.consume(Y),z):Y===47||Y===62||Di(Y)?U(Y):n(Y)}function U(Y){return Y===47?(t.consume(Y),X):Y===58||Y===95||Da(Y)?(t.consume(Y),q):Ze(Y)?(a=U,Z(Y)):Mt(Y)?(t.consume(Y),U):X(Y)}function q(Y){return Y===45||Y===46||Y===58||Y===95||no(Y)?(t.consume(Y),q):V(Y)}function V(Y){return Y===61?(t.consume(Y),B):Ze(Y)?(a=V,Z(Y)):Mt(Y)?(t.consume(Y),V):U(Y)}function B(Y){return Y===null||Y===60||Y===61||Y===62||Y===96?n(Y):Y===34||Y===39?(t.consume(Y),i=Y,F):Ze(Y)?(a=B,Z(Y)):Mt(Y)?(t.consume(Y),B):(t.consume(Y),ne)}function F(Y){return Y===i?(t.consume(Y),i=void 0,W):Y===null?n(Y):Ze(Y)?(a=F,Z(Y)):(t.consume(Y),F)}function ne(Y){return Y===null||Y===34||Y===39||Y===60||Y===61||Y===96?n(Y):Y===47||Y===62||Di(Y)?U(Y):(t.consume(Y),ne)}function W(Y){return Y===47||Y===62||Di(Y)?U(Y):n(Y)}function X(Y){return Y===62?(t.consume(Y),t.exit("htmlTextData"),t.exit("htmlText"),e):n(Y)}function Z(Y){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(Y),t.exit("lineEnding"),oe}function oe(Y){return Mt(Y)?an(t,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):fe(Y)}function fe(Y){return t.enter("htmlTextData"),a(Y)}}const $C={name:"labelEnd",resolveAll:Nfe,resolveTo:Rfe,tokenize:Pfe},Afe={tokenize:Ofe},Cfe={tokenize:Dfe},Ife={tokenize:Mfe};function Nfe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Xa(t,0,t.length,n),t}function Rfe(t,e){let n=t.length,r=0,i,o,a,l;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const u={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[o][1].start},end:{...t[a][1].end}},p={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[a-2][1].start}};return l=[["enter",u,e],["enter",d,e]],l=Co(l,t.slice(o+1,o+r+3)),l=Co(l,[["enter",p,e]]),l=Co(l,BC(e.parser.constructs.insideSpan.null,t.slice(o+r+4,a-3),e)),l=Co(l,[["exit",p,e],t[a-2],t[a-1],["exit",d,e]]),l=Co(l,t.slice(a+1)),l=Co(l,[["exit",u,e]]),Xa(t,o,t.length,l),t}function Pfe(t,e,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return l;function l(m){return o?o._inactive?g(m):(a=r.parser.defined.includes(ep(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),u):n(m)}function u(m){return m===40?t.attempt(Afe,p,a?p:g)(m):m===91?t.attempt(Cfe,p,a?d:g)(m):a?p(m):g(m)}function d(m){return t.attempt(Ife,p,g)(m)}function p(m){return e(m)}function g(m){return o._balanced=!0,n(m)}}function Ofe(t,e,n){return r;function r(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),i}function i(g){return Di(g)?qh(t,o)(g):o(g)}function o(g){return g===41?p(g):dB(t,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function a(g){return Di(g)?qh(t,u)(g):p(g)}function l(g){return n(g)}function u(g){return g===34||g===39||g===40?fB(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function d(g){return Di(g)?qh(t,p)(g):p(g)}function p(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}function Dfe(t,e,n){const r=this;return i;function i(l){return pB.call(r,t,o,a,"reference","referenceMarker","referenceString")(l)}function o(l){return r.parser.defined.includes(ep(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function a(l){return n(l)}}function Mfe(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const zfe={name:"labelStartImage",resolveAll:$C.resolveAll,tokenize:jfe};function jfe(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),o}function o(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const Lfe={name:"labelStartLink",resolveAll:$C.resolveAll,tokenize:Ufe};function Ufe(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const oE={name:"lineEnding",tokenize:Vfe};function Vfe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),an(t,e,"linePrefix")}}const H0={name:"thematicBreak",tokenize:Ffe};function Ffe(t,e,n){let r=0,i;return o;function o(d){return t.enter("thematicBreak"),a(d)}function a(d){return i=d,l(d)}function l(d){return d===i?(t.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||Ze(d))?(t.exit("thematicBreak"),e(d)):n(d)}function u(d){return d===i?(t.consume(d),r++,u):(t.exit("thematicBreakSequence"),Mt(d)?an(t,l,"whitespace")(d):l(d))}}const Ti={continuation:{tokenize:Hfe},exit:Kfe,name:"list",tokenize:qfe},Bfe={partial:!0,tokenize:Wfe},$fe={partial:!0,tokenize:Gfe};function qfe(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(b){const E=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:qT(b)){if(r.containerState.type||(r.containerState.type=E,t.enter(E,{_container:!0})),E==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(H0,n,d)(b):d(b);if(!r.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(b)}return n(b)}function u(b){return qT(b)&&++a<10?(t.consume(b),u):(!r.interrupt||a<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),d(b)):n(b)}function d(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,t.check(Ax,r.interrupt?n:p,t.attempt(Bfe,m,g))}function p(b){return r.containerState.initialBlankLine=!0,o++,m(b)}function g(b){return Mt(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),m):n(b)}function m(b){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(b)}}function Hfe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Ax,i,o);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,an(t,e,"listItemIndent",r.containerState.size+1)(l)}function o(l){return r.containerState.furtherBlankLines||!Mt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt($fe,e,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,an(t,t.attempt(Ti,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Gfe(t,e,n){const r=this;return an(t,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(o):n(o)}}function Kfe(t){t.exit(this.containerState.type)}function Wfe(t,e,n){const r=this;return an(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!Mt(o)&&a&&a[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const r5={name:"setextUnderline",resolveTo:Yfe,tokenize:Jfe};function Yfe(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",a,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function Jfe(t,e,n){const r=this;let i;return o;function o(d){let p=r.events.length,g;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){g=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(t.enter("setextHeadingLine"),i=d,a(d)):n(d)}function a(d){return t.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(t.consume(d),l):(t.exit("setextHeadingLineSequence"),Mt(d)?an(t,u,"lineSuffix")(d):u(d))}function u(d){return d===null||Ze(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const Xfe={tokenize:Qfe};function Qfe(t){const e=this,n=t.attempt(Ax,r,t.attempt(this.parser.constructs.flowInitial,i,an(t,t.attempt(this.parser.constructs.flow,i,t.attempt(rfe,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Zfe={resolveAll:gB()},ehe=hB("string"),the=hB("text");function hB(t){return{resolveAll:gB(t==="text"?nhe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,a,l);return a;function a(p){return d(p)?o(p):l(p)}function l(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),u}function u(p){return d(p)?(n.exit("data"),o(p)):(n.consume(p),u)}function d(p){if(p===null)return!0;const g=i[p];let m=-1;if(g)for(;++m<g.length;){const b=g[m];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function gB(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function nhe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,a=-1,l=0,u;for(;o--;){const d=i[o];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(d===-2)u=!0,l++;else if(d!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const d={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const rhe={42:Ti,43:Ti,45:Ti,48:Ti,49:Ti,50:Ti,51:Ti,52:Ti,53:Ti,54:Ti,55:Ti,56:Ti,57:Ti,62:sB},ihe={91:lfe},ohe={[-2]:iE,[-1]:iE,32:iE},ahe={35:hfe,42:H0,45:[r5,H0],60:bfe,61:r5,95:H0,96:t5,126:t5},she={38:cB,92:lB},lhe={[-5]:oE,[-4]:oE,[-3]:oE,33:zfe,38:cB,42:HT,60:[Lpe,Tfe],91:Lfe,92:[pfe,lB],93:$C,95:HT,96:Xpe},che={null:[HT,Zfe]},uhe={null:[42,95]},dhe={null:[]},phe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:uhe,contentInitial:ihe,disable:dhe,document:rhe,flow:ahe,flowInitial:ohe,insideSpan:che,string:she,text:lhe},Symbol.toStringTag,{value:"Module"}));function fhe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],l=[];const u={attempt:P(L),check:P(M),consume:N,enter:I,exit:D,interrupt:P(M,{interrupt:!0})},d={code:null,containerState:{},defineSkip:A,events:[],now:E,parser:t,previous:null,sliceSerialize:m,sliceStream:b,write:g};let p=e.tokenize.call(d,u);return e.resolveAll&&o.push(e),d;function g(V){return a=Co(a,V),_(),a[a.length-1]!==null?[]:(z(e,0),d.events=BC(o,d.events,d),d.events)}function m(V,B){return ghe(b(V),B)}function b(V){return hhe(a,V)}function E(){const{_bufferIndex:V,_index:B,line:F,column:ne,offset:W}=r;return{_bufferIndex:V,_index:B,line:F,column:ne,offset:W}}function A(V){i[V.line]=V.column,q()}function _(){let V;for(;r._index<a.length;){const B=a[r._index];if(typeof B=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<B.length;)C(B.charCodeAt(r._bufferIndex));else C(B)}}function C(V){p=p(V)}function N(V){Ze(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,q()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=V}function I(V,B){const F=B||{};return F.type=V,F.start=E(),d.events.push(["enter",F,d]),l.push(F),F}function D(V){const B=l.pop();return B.end=E(),d.events.push(["exit",B,d]),B}function L(V,B){z(V,B.from)}function M(V,B){B.restore()}function P(V,B){return F;function F(ne,W,X){let Z,oe,fe,Y;return Array.isArray(ne)?J(ne):"tokenize"in ne?J([ne]):G(ne);function G(Te){return je;function je(Ye){const ue=Ye!==null&&Te[Ye],Ae=Ye!==null&&Te.null,ae=[...Array.isArray(ue)?ue:ue?[ue]:[],...Array.isArray(Ae)?Ae:Ae?[Ae]:[]];return J(ae)(Ye)}}function J(Te){return Z=Te,oe=0,Te.length===0?X:$(Te[oe])}function $(Te){return je;function je(Ye){return Y=U(),fe=Te,Te.partial||(d.currentConstruct=Te),Te.name&&d.parser.constructs.disable.null.includes(Te.name)?_e():Te.tokenize.call(B?Object.assign(Object.create(d),B):d,u,be,_e)(Ye)}}function be(Te){return V(fe,Y),W}function _e(Te){return Y.restore(),++oe<Z.length?$(Z[oe]):X}}}function z(V,B){V.resolveAll&&!o.includes(V)&&o.push(V),V.resolve&&Xa(d.events,B,d.events.length-B,V.resolve(d.events.slice(B),d)),V.resolveTo&&(d.events=V.resolveTo(d.events,d))}function U(){const V=E(),B=d.previous,F=d.currentConstruct,ne=d.events.length,W=Array.from(l);return{from:ne,restore:X};function X(){r=V,d.previous=B,d.currentConstruct=F,d.events.length=ne,l=W,q()}}function q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function hhe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,o)];else{if(a=t.slice(n,i),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}o>0&&a.push(t[i].slice(0,o))}return a}function ghe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function mhe(t){const r={constructs:Epe([phe,...(t||{}).extensions||[]]),content:i(Rpe),defined:[],document:i(Ope),flow:i(Xfe),lazy:{},string:i(ehe),text:i(the)};return r;function i(o){return a;function a(l){return fhe(r,o,l)}}}function yhe(t){for(;!uB(t););return t}const i5=/[\0\t\n\r]/g;function bhe(){let t=1,e="",n=!0,r;return i;function i(o,a,l){const u=[];let d,p,g,m,b;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),g=0,e="",n&&(o.charCodeAt(0)===65279&&g++,n=void 0);g<o.length;){if(i5.lastIndex=g,d=i5.exec(o),m=d&&d.index!==void 0?d.index:o.length,b=o.charCodeAt(m),!d){e=o.slice(g);break}if(b===10&&g===m&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),g<m&&(u.push(o.slice(g,m)),t+=m-g),b){case 0:{u.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,u.push(-2);t++<p;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}g=m+1}return l&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const vhe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function xhe(t){return t.replace(vhe,whe)}function whe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return aB(n.slice(o?2:1),o?16:10)}return FC(n)||t}const mB={}.hasOwnProperty;function khe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Ehe(n)(yhe(mhe(n).document().write(bhe()(t,e,!0))))}function Ehe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Vt),autolinkProtocol:U,autolinkEmail:U,atxHeading:o(pt),blockQuote:o(Ae),characterEscape:U,characterReference:U,codeFenced:o(ae),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(ae,a),codeText:o(le,a),codeTextData:U,data:U,codeFlowValue:U,definition:o(qe),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(Be),hardBreakEscape:o(_t),hardBreakTrailing:o(_t),htmlFlow:o(_n,a),htmlFlowData:U,htmlText:o(_n,a),htmlTextData:U,image:o(Xr),label:a,link:o(Vt),listItem:o(Er),listItemValue:m,listOrdered:o(Tt,g),listUnordered:o(Tt),paragraph:o(ji),reference:$,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(pt),strong:o(Ce),thematicBreak:o(de)},exit:{atxHeading:u(),atxHeadingSequence:L,autolink:u(),autolinkEmail:ue,autolinkProtocol:Ye,blockQuote:u(),characterEscapeValue:q,characterReferenceMarkerHexadecimal:_e,characterReferenceMarkerNumeric:_e,characterReferenceValue:Te,characterReference:je,codeFenced:u(_),codeFencedFence:A,codeFencedFenceInfo:b,codeFencedFenceMeta:E,codeFlowValue:q,codeIndented:u(C),codeText:u(W),codeTextData:q,data:q,definition:u(),definitionDestinationString:D,definitionLabelString:N,definitionTitleString:I,emphasis:u(),hardBreakEscape:u(B),hardBreakTrailing:u(B),htmlFlow:u(F),htmlFlowData:q,htmlText:u(ne),htmlTextData:q,image:u(Z),label:fe,labelText:oe,lineEnding:V,link:u(X),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:be,resourceDestinationString:Y,resourceTitleString:G,resource:J,setextHeading:u(z),setextHeadingLineSequence:P,setextHeadingText:M,strong:u(),thematicBreak:u()}};yB(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ee){let ge={type:"root",children:[]};const Re={stack:[ge],tokenStack:[],config:e,enter:l,exit:d,buffer:a,resume:p,data:n},De=[];let Oe=-1;for(;++Oe<ee.length;)if(ee[Oe][1].type==="listOrdered"||ee[Oe][1].type==="listUnordered")if(ee[Oe][0]==="enter")De.push(Oe);else{const Je=De.pop();Oe=i(ee,Je,Oe)}for(Oe=-1;++Oe<ee.length;){const Je=e[ee[Oe][0]];mB.call(Je,ee[Oe][1].type)&&Je[ee[Oe][1].type].call(Object.assign({sliceSerialize:ee[Oe][2].sliceSerialize},Re),ee[Oe][1])}if(Re.tokenStack.length>0){const Je=Re.tokenStack[Re.tokenStack.length-1];(Je[1]||o5).call(Re,void 0,Je[0])}for(ge.position={start:Bl(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:Bl(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},Oe=-1;++Oe<e.transforms.length;)ge=e.transforms[Oe](ge)||ge;return ge}function i(ee,ge,Re){let De=ge-1,Oe=-1,Je=!1,zt,Wt,kt,fn;for(;++De<=Re;){const dt=ee[De];switch(dt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{dt[0]==="enter"?Oe++:Oe--,fn=void 0;break}case"lineEndingBlank":{dt[0]==="enter"&&(zt&&!fn&&!Oe&&!kt&&(kt=De),fn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:fn=void 0}if(!Oe&&dt[0]==="enter"&&dt[1].type==="listItemPrefix"||Oe===-1&&dt[0]==="exit"&&(dt[1].type==="listUnordered"||dt[1].type==="listOrdered")){if(zt){let Li=De;for(Wt=void 0;Li--;){const Zn=ee[Li];if(Zn[1].type==="lineEnding"||Zn[1].type==="lineEndingBlank"){if(Zn[0]==="exit")continue;Wt&&(ee[Wt][1].type="lineEndingBlank",Je=!0),Zn[1].type="lineEnding",Wt=Li}else if(!(Zn[1].type==="linePrefix"||Zn[1].type==="blockQuotePrefix"||Zn[1].type==="blockQuotePrefixWhitespace"||Zn[1].type==="blockQuoteMarker"||Zn[1].type==="listItemIndent"))break}kt&&(!Wt||kt<Wt)&&(zt._spread=!0),zt.end=Object.assign({},Wt?ee[Wt][1].start:dt[1].end),ee.splice(Wt||De,0,["exit",zt,dt[2]]),De++,Re++}if(dt[1].type==="listItemPrefix"){const Li={type:"listItem",_spread:!1,start:Object.assign({},dt[1].start),end:void 0};zt=Li,ee.splice(De,0,["enter",Li,dt[2]]),De++,Re++,kt=void 0,fn=!0}}}return ee[ge][1]._spread=Je,Re}function o(ee,ge){return Re;function Re(De){l.call(this,ee(De),De),ge&&ge.call(this,De)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(ee,ge,Re){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([ge,Re||void 0]),ee.position={start:Bl(ge.start),end:void 0}}function u(ee){return ge;function ge(Re){ee&&ee.call(this,Re),d.call(this,Re)}}function d(ee,ge){const Re=this.stack.pop(),De=this.tokenStack.pop();if(De)De[0].type!==ee.type&&(ge?ge.call(this,ee,De[0]):(De[1]||o5).call(this,ee,De[0]));else throw new Error("Cannot close `"+ee.type+"` ("+$h({start:ee.start,end:ee.end})+"): its not open");Re.position.end=Bl(ee.end)}function p(){return wpe(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function m(ee){if(this.data.expectingFirstListItemValue){const ge=this.stack[this.stack.length-2];ge.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function b(){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.lang=ee}function E(){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.meta=ee}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.value=ee.replace(/(\r?\n|\r)$/g,"")}function N(ee){const ge=this.resume(),Re=this.stack[this.stack.length-1];Re.label=ge,Re.identifier=ep(this.sliceSerialize(ee)).toLowerCase()}function I(){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.title=ee}function D(){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.url=ee}function L(ee){const ge=this.stack[this.stack.length-1];if(!ge.depth){const Re=this.sliceSerialize(ee).length;ge.depth=Re}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function P(ee){const ge=this.stack[this.stack.length-1];ge.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function U(ee){const Re=this.stack[this.stack.length-1].children;let De=Re[Re.length-1];(!De||De.type!=="text")&&(De=Pe(),De.position={start:Bl(ee.start),end:void 0},Re.push(De)),this.stack.push(De)}function q(ee){const ge=this.stack.pop();ge.value+=this.sliceSerialize(ee),ge.position.end=Bl(ee.end)}function V(ee){const ge=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Re=ge.children[ge.children.length-1];Re.position.end=Bl(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ge.type)&&(U.call(this,ee),q.call(this,ee))}function B(){this.data.atHardBreak=!0}function F(){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.value=ee}function ne(){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.value=ee}function W(){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.value=ee}function X(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=ge,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function Z(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=ge,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function oe(ee){const ge=this.sliceSerialize(ee),Re=this.stack[this.stack.length-2];Re.label=xhe(ge),Re.identifier=ep(ge).toLowerCase()}function fe(){const ee=this.stack[this.stack.length-1],ge=this.resume(),Re=this.stack[this.stack.length-1];if(this.data.inReference=!0,Re.type==="link"){const De=ee.children;Re.children=De}else Re.alt=ge}function Y(){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.url=ee}function G(){const ee=this.resume(),ge=this.stack[this.stack.length-1];ge.title=ee}function J(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function be(ee){const ge=this.resume(),Re=this.stack[this.stack.length-1];Re.label=ge,Re.identifier=ep(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function _e(ee){this.data.characterReferenceType=ee.type}function Te(ee){const ge=this.sliceSerialize(ee),Re=this.data.characterReferenceType;let De;Re?(De=aB(ge,Re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):De=FC(ge);const Oe=this.stack[this.stack.length-1];Oe.value+=De}function je(ee){const ge=this.stack.pop();ge.position.end=Bl(ee.end)}function Ye(ee){q.call(this,ee);const ge=this.stack[this.stack.length-1];ge.url=this.sliceSerialize(ee)}function ue(ee){q.call(this,ee);const ge=this.stack[this.stack.length-1];ge.url="mailto:"+this.sliceSerialize(ee)}function Ae(){return{type:"blockquote",children:[]}}function ae(){return{type:"code",lang:null,meta:null,value:""}}function le(){return{type:"inlineCode",value:""}}function qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Be(){return{type:"emphasis",children:[]}}function pt(){return{type:"heading",depth:0,children:[]}}function _t(){return{type:"break"}}function _n(){return{type:"html",value:""}}function Xr(){return{type:"image",title:null,url:"",alt:null}}function Vt(){return{type:"link",title:null,url:"",children:[]}}function Tt(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function Er(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function ji(){return{type:"paragraph",children:[]}}function Ce(){return{type:"strong",children:[]}}function Pe(){return{type:"text",value:""}}function de(){return{type:"thematicBreak"}}}function Bl(t){return{line:t.line,column:t.column,offset:t.offset}}function yB(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?yB(t,r):_he(t,r)}}function _he(t,e){let n;for(n in e)if(mB.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function o5(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+$h({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+$h({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+$h({start:e.start,end:e.end})+") is still open")}function The(t){const e=this;e.parser=n;function n(r){return khe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function She(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Ahe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Che(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function Ihe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Nhe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Rhe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Gp(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let a,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=o+1,l+=1,t.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,d),t.applyData(e,d)}function Phe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Ohe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function bB(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function Dhe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return bB(t,e);const i={src:Gp(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function Mhe(t,e){const n={src:Gp(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function zhe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function jhe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return bB(t,e);const i={href:Gp(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function Lhe(t,e){const n={href:Gp(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Uhe(t,e,n){const r=t.all(e),i=n?Vhe(n):vB(e),o={},a=[];if(typeof e.checked=="boolean"){const p=r[0];let g;p&&p.type==="element"&&p.tagName==="p"?g=p:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const p=r[l];(i||l!==0||p.type!=="element"||p.tagName!=="p")&&a.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!i?a.push(...p.children):a.push(p)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:a};return t.patch(e,d),t.applyData(e,d)}function Vhe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=vB(n[r])}return e}function vB(t){const e=t.spread;return e??t.children.length>1}function Fhe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function Bhe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $he(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function qhe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Hhe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=jC(e.children[1]),u=ZF(e.children[e.children.length-1]);l&&u&&(a.position={start:l,end:u}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function Ghe(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:e.children.length;let u=-1;const d=[];for(;++u<l;){const g=e.children[u],m={},b=a?a[u]:void 0;b&&(m.align=b);let E={type:"element",tagName:o,properties:m,children:[]};g&&(E.children=t.all(g),t.patch(g,E),E=t.applyData(g,E)),d.push(E)}const p={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,p),t.applyData(e,p)}function Khe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const a5=9,s5=32;function Whe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(l5(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(l5(e.slice(i),i>0,!1)),o.join("")}function l5(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===a5||o===s5;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===a5||o===s5;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Yhe(t,e){const n={type:"text",value:Whe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Jhe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Xhe={blockquote:She,break:Ahe,code:Che,delete:Ihe,emphasis:Nhe,footnoteReference:Rhe,heading:Phe,html:Ohe,imageReference:Dhe,image:Mhe,inlineCode:zhe,linkReference:jhe,link:Lhe,listItem:Uhe,list:Fhe,paragraph:Bhe,root:$he,strong:qhe,table:Hhe,tableCell:Khe,tableRow:Ghe,text:Yhe,thematicBreak:Jhe,toml:c0,yaml:c0,definition:c0,footnoteDefinition:c0};function c0(){}const xB=-1,Cx=0,Hh=1,$b=2,qC=3,HC=4,GC=5,KC=6,wB=7,kB=8,c5=typeof self=="object"?self:globalThis,Qhe=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,a]=e[i];switch(o){case Cx:case xB:return n(a,i);case Hh:{const l=n([],i);for(const u of a)l.push(r(u));return l}case $b:{const l=n({},i);for(const[u,d]of a)l[r(u)]=r(d);return l}case qC:return n(new Date(a),i);case HC:{const{source:l,flags:u}=a;return n(new RegExp(l,u),i)}case GC:{const l=n(new Map,i);for(const[u,d]of a)l.set(r(u),r(d));return l}case KC:{const l=n(new Set,i);for(const u of a)l.add(r(u));return l}case wB:{const{name:l,message:u}=a;return n(new c5[l](u),i)}case kB:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new c5[o](a),i)};return r},u5=t=>Qhe(new Map,t)(0),Pd="",{toString:Zhe}={},{keys:ege}=Object,hh=t=>{const e=typeof t;if(e!=="object"||!t)return[Cx,e];const n=Zhe.call(t).slice(8,-1);switch(n){case"Array":return[Hh,Pd];case"Object":return[$b,Pd];case"Date":return[qC,Pd];case"RegExp":return[HC,Pd];case"Map":return[GC,Pd];case"Set":return[KC,Pd];case"DataView":return[Hh,n]}return n.includes("Array")?[Hh,n]:n.includes("Error")?[wB,n]:[$b,n]},u0=([t,e])=>t===Cx&&(e==="function"||e==="symbol"),tge=(t,e,n,r)=>{const i=(a,l)=>{const u=r.push(a)-1;return n.set(l,u),u},o=a=>{if(n.has(a))return n.get(a);let[l,u]=hh(a);switch(l){case Cx:{let p=a;switch(u){case"bigint":l=kB,p=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);p=null;break;case"undefined":return i([xB],a)}return i([l,p],a)}case Hh:{if(u){let m=a;return u==="DataView"?m=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(m=new Uint8Array(a)),i([u,[...m]],a)}const p=[],g=i([l,p],a);for(const m of a)p.push(o(m));return g}case $b:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(e&&"toJSON"in a)return o(a.toJSON());const p=[],g=i([l,p],a);for(const m of ege(a))(t||!u0(hh(a[m])))&&p.push([o(m),o(a[m])]);return g}case qC:return i([l,a.toISOString()],a);case HC:{const{source:p,flags:g}=a;return i([l,{source:p,flags:g}],a)}case GC:{const p=[],g=i([l,p],a);for(const[m,b]of a)(t||!(u0(hh(m))||u0(hh(b))))&&p.push([o(m),o(b)]);return g}case KC:{const p=[],g=i([l,p],a);for(const m of a)(t||!u0(hh(m)))&&p.push(o(m));return g}}const{message:d}=a;return i([l,{name:u,message:d}],a)};return o},d5=(t,{json:e,lossy:n}={})=>{const r=[];return tge(!(e||n),!!e,new Map,r)(t),r},qb=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?u5(d5(t,e)):structuredClone(t):(t,e)=>u5(d5(t,e));function nge(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function rge(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function ige(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||nge,r=t.options.footnoteBackLabel||rge,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[u]);if(!d)continue;const p=t.all(d),g=String(d.identifier).toUpperCase(),m=Gp(g.toLowerCase());let b=0;const E=[],A=t.footnoteCounts.get(g);for(;A!==void 0&&++b<=A;){E.length>0&&E.push({type:"text",value:" "});let N=typeof n=="string"?n:n(u,b);typeof N=="string"&&(N={type:"text",value:N}),E.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,b),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const _=p[p.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const N=_.children[_.children.length-1];N&&N.type==="text"?N.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...E)}else p.push(...E);const C={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(p,!0)};t.patch(d,C),l.push(C)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...qb(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const EB=(function(t){if(t==null)return lge;if(typeof t=="function")return Ix(t);if(typeof t=="object")return Array.isArray(t)?oge(t):age(t);if(typeof t=="string")return sge(t);throw new Error("Expected function, string, or object as test")});function oge(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=EB(t[n]);return Ix(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function age(t){const e=t;return Ix(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function sge(t){return Ix(e);function e(n){return n&&n.type===t}}function Ix(t){return e;function e(n,r,i){return!!(cge(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function lge(){return!0}function cge(t){return t!==null&&typeof t=="object"&&"type"in t}const _B=[],uge=!0,p5=!1,dge="skip";function pge(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=EB(i),a=r?-1:1;l(t,void 0,[])();function l(u,d,p){const g=u&&typeof u=="object"?u:{};if(typeof g.type=="string"){const b=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(u.type+(b?"<"+b+">":""))+")"})}return m;function m(){let b=_B,E,A,_;if((!e||o(u,d,p[p.length-1]||void 0))&&(b=fge(n(u,p)),b[0]===p5))return b;if("children"in u&&u.children){const C=u;if(C.children&&b[0]!==dge)for(A=(r?C.children.length:-1)+a,_=p.concat(C);A>-1&&A<C.children.length;){const N=C.children[A];if(E=l(N,A,_)(),E[0]===p5)return E;A=typeof E[1]=="number"?E[1]:A+a}}return b}}}function fge(t){return Array.isArray(t)?t:typeof t=="number"?[uge,t]:t==null?_B:[t]}function TB(t,e,n,r){let i,o,a;typeof e=="function"&&typeof n!="function"?(o=void 0,a=e,i=n):(o=e,a=n,i=r),pge(t,o,l,i);function l(u,d){const p=d[d.length-1],g=p?p.children.indexOf(u):void 0;return a(u,g,p)}}const GT={}.hasOwnProperty,hge={};function gge(t,e){const n=e||hge,r=new Map,i=new Map,o=new Map,a={...Xhe,...n.handlers},l={all:d,applyData:yge,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:u,options:n,patch:mge,wrap:vge};return TB(t,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const g=p.type==="definition"?r:i,m=String(p.identifier).toUpperCase();g.has(m)||g.set(m,p)}}),l;function u(p,g){const m=p.type,b=l.handlers[m];if(GT.call(l.handlers,m)&&b)return b(l,p,g);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in p){const{children:A,..._}=p,C=qb(_);return C.children=l.all(p),C}return qb(p)}return(l.options.unknownHandler||bge)(l,p,g)}function d(p){const g=[];if("children"in p){const m=p.children;let b=-1;for(;++b<m.length;){const E=l.one(m[b],p);if(E){if(b&&m[b-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=f5(E.value)),!Array.isArray(E)&&E.type==="element")){const A=E.children[0];A&&A.type==="text"&&(A.value=f5(A.value))}Array.isArray(E)?g.push(...E):g.push(E)}}}return g}}function mge(t,e){t.position&&(e.position=Zde(t))}function yge(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,qb(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function bge(t,e){const n=e.data||{},r="value"in e&&!(GT.call(n,"hProperties")||GT.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function vge(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function f5(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function h5(t,e){const n=gge(t,e),r=n.one(t,void 0),i=ige(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function xge(t,e){return t&&"run"in t?async function(n,r){const i=h5(n,{file:r,...e});await t.run(i,r)}:function(n,r){return h5(n,{file:r,...t||e})}}function g5(t){if(t)throw t}var aE,m5;function wge(){if(m5)return aE;m5=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},o=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var p=t.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!p&&!g)return!1;var m;for(m in d);return typeof m>"u"||t.call(d,m)},a=function(d,p){n&&p.name==="__proto__"?n(d,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):d[p.name]=p.newValue},l=function(d,p){if(p==="__proto__")if(t.call(d,p)){if(r)return r(d,p).value}else return;return d[p]};return aE=function u(){var d,p,g,m,b,E,A=arguments[0],_=1,C=arguments.length,N=!1;for(typeof A=="boolean"&&(N=A,A=arguments[1]||{},_=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});_<C;++_)if(d=arguments[_],d!=null)for(p in d)g=l(A,p),m=l(d,p),A!==m&&(N&&m&&(o(m)||(b=i(m)))?(b?(b=!1,E=g&&i(g)?g:[]):E=g&&o(g)?g:{},a(A,{name:p,newValue:u(N,E,m)})):typeof m<"u"&&a(A,{name:p,newValue:m}));return A},aE}var kge=wge();const sE=Lo(kge);function KT(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Ege(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(u,...d){const p=t[++o];let g=-1;if(u){a(u);return}for(;++g<i.length;)(d[g]===null||d[g]===void 0)&&(d[g]=i[g]);i=d,p?_ge(p,l)(...d):a(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function _ge(t,e){let n;return r;function r(...a){const l=t.length>a.length;let u;l&&a.push(i);try{u=t.apply(this,a)}catch(d){const p=d;if(l&&n)throw p;return i(p)}l||(u&&u.then&&typeof u.then=="function"?u.then(o,i):u instanceof Error?i(u):o(u))}function i(a,...l){n||(n=!0,e(a,...l))}function o(a){i(null,a)}}const Pa={basename:Tge,dirname:Sge,extname:Age,join:Cge,sep:"/"};function Tge(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');im(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function Sge(t){if(im(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Age(t){im(t);let e=t.length,n=-1,r=0,i=-1,o=0,a;for(;e--;){const l=t.codePointAt(e);if(l===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),l===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Cge(...t){let e=-1,n;for(;++e<t.length;)im(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Ige(n)}function Ige(t){im(t);const e=t.codePointAt(0)===47;let n=Nge(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Nge(t,e){let n="",r=0,i=-1,o=0,a=-1,l,u;for(;++a<=t.length;){if(a<t.length)l=t.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,o=0}else l===46&&o>-1?o++:o=-1}return n}function im(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Rge={cwd:Pge};function Pge(){return"/"}function WT(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Oge(t){if(typeof t=="string")t=new URL(t);else if(!WT(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Dge(t)}function Dge(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const lE=["history","path","basename","stem","extname","dirname"];class SB{constructor(e){let n;e?WT(e)?n={path:e}:typeof e=="string"||Mge(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Rge.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<lE.length;){const o=lE[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)lE.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Pa.basename(this.path):void 0}set basename(e){uE(e,"basename"),cE(e,"basename"),this.path=Pa.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Pa.dirname(this.path):void 0}set dirname(e){y5(this.basename,"dirname"),this.path=Pa.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Pa.extname(this.path):void 0}set extname(e){if(cE(e,"extname"),y5(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Pa.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){WT(e)&&(e=Oge(e)),uE(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Pa.basename(this.path,this.extname):void 0}set stem(e){uE(e,"stem"),cE(e,"stem"),this.path=Pa.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Yr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function cE(t,e){if(t&&t.includes(Pa.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Pa.sep+"`")}function uE(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function y5(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Mge(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const zge=(function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),jge={}.hasOwnProperty;class WC extends zge{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ege()}copy(){const e=new WC;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(sE(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(fE("data",this.frozen),this.namespace[e]=n,this):jge.call(this.namespace,e)&&this.namespace[e]||void 0:e?(fE("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=d0(e),r=this.parser||this.Parser;return dE("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),dE("process",this.parser||this.Parser),pE("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const l=d0(e),u=r.parse(l);r.run(u,l,function(p,g,m){if(p||!g||!m)return d(p);const b=g,E=r.stringify(b,m);Vge(E)?m.value=E:m.result=E,d(p,m)});function d(p,g){p||!g?a(p):o?o(g):n(void 0,g)}}}processSync(e){let n=!1,r;return this.freeze(),dE("processSync",this.parser||this.Parser),pE("processSync",this.compiler||this.Compiler),this.process(e,i),v5("processSync","process",n),r;function i(o,a){n=!0,g5(o),r=a}}run(e,n,r){b5(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,l){const u=d0(n);i.run(e,u,d);function d(p,g,m){const b=g||e;p?l(p):a?a(b):r(void 0,b,m)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),v5("runSync","run",r),i;function o(a,l){g5(a),i=l,r=!0}}stringify(e,n){this.freeze();const r=d0(n),i=this.compiler||this.Compiler;return pE("stringify",i),b5(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(fE("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...g]=d;u(p,g)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=sE(!0,i.settings,d.settings))}function l(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const g=d[p];o(g)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,p){let g=-1,m=-1;for(;++g<r.length;)if(r[g][0]===d){m=g;break}if(m===-1)r.push([d,...p]);else if(p.length>0){let[b,...E]=p;const A=r[m][1];KT(A)&&KT(b)&&(b=sE(!0,A,b)),r[m]=[d,b,...E]}}}}const Lge=new WC().freeze();function dE(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function pE(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function fE(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function b5(t){if(!KT(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function v5(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function d0(t){return Uge(t)?t:new SB(t)}function Uge(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Vge(t){return typeof t=="string"||Fge(t)}function Fge(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Bge="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",x5=[],w5={allowDangerousHtml:!0},$ge=/^(https?|ircs?|mailto|xmpp)$/i,qge=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function AB(t){const e=Hge(t),n=Gge(t);return Kge(e.runSync(e.parse(n),n),t)}function Hge(t){const e=t.rehypePlugins||x5,n=t.remarkPlugins||x5,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...w5}:w5;return Lge().use(The).use(n).use(xge,r).use(e)}function Gge(t){const e=t.children||"",n=new SB;return typeof e=="string"&&(n.value=e),n}function Kge(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,a=e.skipHtml,l=e.unwrapDisallowed,u=e.urlTransform||Wge;for(const p of qge)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+Bge+p.id,void 0);return TB(t,d),ipe(t,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function d(p,g,m){if(p.type==="raw"&&m&&typeof g=="number")return a?m.children.splice(g,1):m.children[g]={type:"text",value:p.value},g;if(p.type==="element"){let b;for(b in rE)if(Object.hasOwn(rE,b)&&Object.hasOwn(p.properties,b)){const E=p.properties[b],A=rE[b];(A===null||A.includes(p.tagName))&&(p.properties[b]=u(String(E||""),b,p))}}if(p.type==="element"){let b=n?!n.includes(p.tagName):o?o.includes(p.tagName):!1;if(!b&&r&&typeof g=="number"&&(b=!r(p,g,m)),b&&m&&typeof g=="number")return l&&p.children?m.children.splice(g,1,...p.children):m.children.splice(g,1),g}}}function Wge(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||$ge.test(t.slice(0,e))?t:""}const Yge=({projectArticles:t=[]})=>{const[e,n]=T.useState(null),[r,i]=T.useState(""),a=[...t||[],...WV].filter(l=>l.title.toLowerCase().includes(r.toLowerCase())||l.tags.some(u=>u.toLowerCase().includes(r.toLowerCase())));return e?h.jsx("div",{className:"fixed inset-0 bg-white dark:bg-nordic-dark-surface z-50 overflow-y-auto animate-fade-in",children:h.jsxs("div",{className:"max-w-3xl mx-auto p-6 pb-20",children:[h.jsxs("button",{onClick:()=>n(null),className:"mb-6 p-2 -ml-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full flex items-center gap-2 transition-colors",children:[h.jsx(eb,{size:20})," ",h.jsx("span",{className:"font-bold text-sm",children:"Tillbaka till biblioteket"})]}),h.jsxs("article",{className:"prose prose-lg dark:prose-invert max-w-none",children:[h.jsxs("div",{className:"mb-8 border-b border-slate-100 dark:border-nordic-charcoal pb-8",children:[h.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:e.title}),h.jsx("div",{className:"flex gap-2 mb-6",children:e.tags.map(l=>h.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold uppercase tracking-wider rounded-full",children:l},l))}),h.jsx("p",{className:"text-xl text-slate-500 dark:text-nordic-dark-muted leading-relaxed font-serif italic",children:e.summary})]}),h.jsx(AB,{components:{h1:({node:l,...u})=>h.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice mt-8 mb-4 border-l-4 border-teal-500 pl-4",...u}),h2:({node:l,...u})=>h.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mt-6 mb-3",...u}),ul:({node:l,...u})=>h.jsx("ul",{className:"list-disc list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...u}),ol:({node:l,...u})=>h.jsx("ol",{className:"list-decimal list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...u}),li:({node:l,...u})=>h.jsx("li",{className:"pl-1 marker:text-teal-500",...u}),p:({node:l,...u})=>h.jsx("p",{className:"mb-4 text-slate-600 dark:text-slate-300 leading-relaxed",...u}),strong:({node:l,...u})=>h.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...u}),blockquote:({node:l,...u})=>h.jsx("blockquote",{className:"border-l-4 border-teal-200 bg-teal-50/50 dark:bg-teal-900/10 p-4 my-6 italic text-slate-600 dark:text-slate-400 rounded-r-xl",...u}),table:({node:l,...u})=>h.jsx("div",{className:"overflow-x-auto my-6 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:h.jsx("table",{className:"w-full text-left text-sm",...u})}),th:({node:l,...u})=>h.jsx("th",{className:"bg-slate-50 dark:bg-nordic-charcoal p-3 font-bold text-slate-700 dark:text-slate-200 border-b border-slate-200 dark:border-nordic-dark-bg",...u}),td:({node:l,...u})=>h.jsx("td",{className:"p-3 border-b border-slate-100 dark:border-nordic-dark-bg text-slate-600 dark:text-slate-400",...u})},children:e.content})]})]})}):h.jsxs("div",{className:"space-y-6 pb-24 animate-fade-in",children:[h.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[h.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice mb-2 flex items-center gap-3",children:[h.jsx(Jh,{className:"text-teal-600"})," Kunskapsbanken"]}),h.jsx("p",{className:"text-slate-600 dark:text-nordic-dark-muted mb-6",children:"Hr samlas tekniska rapporter, guider och analyser. Bde globala fakta och unika rapporter som Elton skrivit om ditt projekt."}),h.jsxs("div",{className:"relative",children:[h.jsx(xu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),h.jsx("input",{type:"text",placeholder:"Sk bland artiklar...",className:"w-full p-4 pl-12 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 transition-all",value:r,onChange:l=>i(l.target.value)})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.length===0?h.jsxs("div",{className:"col-span-full text-center py-12 opacity-50",children:[h.jsx(Ou,{size:48,className:"mx-auto mb-4 text-slate-300"}),h.jsx("p",{children:"Inga artiklar hittades."})]}):a.map((l,u)=>h.jsxs("div",{onClick:()=>n(l),className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg hover:shadow-lg hover:border-teal-200 transition-all cursor-pointer group flex flex-col justify-between h-full",children:[h.jsxs("div",{children:[h.jsx("div",{className:"flex gap-2 mb-3",children:l.tags.slice(0,2).map(d=>h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-teal-600 bg-teal-50 dark:bg-teal-900/20 px-2 py-1 rounded-md",children:d},d))}),h.jsx("h4",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-2 group-hover:text-teal-700 transition-colors",children:l.title}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted line-clamp-3 leading-relaxed",children:l.summary})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50 dark:border-nordic-charcoal flex justify-between items-center",children:[h.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Ls rapport"}),h.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 dark:bg-nordic-charcoal flex items-center justify-center text-slate-400 group-hover:bg-teal-500 group-hover:text-white transition-colors",children:h.jsx(eb,{size:16,className:"rotate-180"})})]})]},l.id+u))})]})},CB=6048e5,Jge=864e5,k5=Symbol.for("constructDateFrom");function mc(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&k5 in t?t[k5](e):t instanceof Date?new t.constructor(e):new Date(e)}function pa(t,e){return mc(e||t,t)}let Xge={};function Nx(){return Xge}function cg(t,e){var l,u,d,p;const n=Nx(),r=(e==null?void 0:e.weekStartsOn)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,i=pa(t,e==null?void 0:e.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Hb(t,e){return cg(t,{...e,weekStartsOn:1})}function IB(t,e){const n=pa(t,e==null?void 0:e.in),r=n.getFullYear(),i=mc(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=Hb(i),a=mc(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=Hb(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function E5(t){const e=pa(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Qge(t,...e){const n=mc.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function _5(t,e){const n=pa(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Zge(t,e,n){const[r,i]=Qge(n==null?void 0:n.in,t,e),o=_5(r),a=_5(i),l=+o-E5(o),u=+a-E5(a);return Math.round((l-u)/Jge)}function eme(t,e){const n=IB(t,e),r=mc(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Hb(r)}function tme(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function nme(t){return!(!tme(t)&&typeof t!="number"||isNaN(+pa(t)))}function rme(t,e){const n=pa(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ime={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ome=(t,e,n)=>{let r;const i=ime[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function tp(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const ame={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cme={date:tp({formats:ame,defaultWidth:"full"}),time:tp({formats:sme,defaultWidth:"full"}),dateTime:tp({formats:lme,defaultWidth:"full"})},ume={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dme=(t,e,n,r)=>ume[t];function Ma(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const pme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bme=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},vme={ordinalNumber:bme,era:Ma({values:pme,defaultWidth:"wide"}),quarter:Ma({values:fme,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ma({values:hme,defaultWidth:"wide"}),day:Ma({values:gme,defaultWidth:"wide"}),dayPeriod:Ma({values:mme,defaultWidth:"wide",formattingValues:yme,defaultFormattingWidth:"wide"})};function za(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?wme(l,g=>g.test(a)):xme(l,g=>g.test(a));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const p=e.slice(a.length);return{value:d,rest:p}}}function xme(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function wme(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function NB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const kme=/^(\d+)(th|st|nd|rd)?/i,Eme=/\d+/i,_me={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tme={any:[/^b/i,/^(a|c)/i]},Sme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ame={any:[/1/i,/2/i,/3/i,/4/i]},Cme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ime={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ome={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dme={ordinalNumber:NB({matchPattern:kme,parsePattern:Eme,valueCallback:t=>parseInt(t,10)}),era:za({matchPatterns:_me,defaultMatchWidth:"wide",parsePatterns:Tme,defaultParseWidth:"any"}),quarter:za({matchPatterns:Sme,defaultMatchWidth:"wide",parsePatterns:Ame,defaultParseWidth:"any",valueCallback:t=>t+1}),month:za({matchPatterns:Cme,defaultMatchWidth:"wide",parsePatterns:Ime,defaultParseWidth:"any"}),day:za({matchPatterns:Nme,defaultMatchWidth:"wide",parsePatterns:Rme,defaultParseWidth:"any"}),dayPeriod:za({matchPatterns:Pme,defaultMatchWidth:"any",parsePatterns:Ome,defaultParseWidth:"any"})},Mme={code:"en-US",formatDistance:ome,formatLong:cme,formatRelative:dme,localize:vme,match:Dme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zme(t,e){const n=pa(t,e==null?void 0:e.in);return Zge(n,rme(n))+1}function jme(t,e){const n=pa(t,e==null?void 0:e.in),r=+Hb(n)-+eme(n);return Math.round(r/CB)+1}function RB(t,e){var p,g,m,b;const n=pa(t,e==null?void 0:e.in),r=n.getFullYear(),i=Nx(),o=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(m=i.locale)==null?void 0:m.options)==null?void 0:b.firstWeekContainsDate)??1,a=mc((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const l=cg(a,e),u=mc((e==null?void 0:e.in)||t,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);const d=cg(u,e);return+n>=+l?r+1:+n>=+d?r:r-1}function Lme(t,e){var l,u,d,p;const n=Nx(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,i=RB(t,e),o=mc((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),cg(o,e)}function Ume(t,e){const n=pa(t,e==null?void 0:e.in),r=+cg(n,e)-+Lme(n,e);return Math.round(r/CB)+1}function Ht(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const $l={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ht(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ht(n+1,2)},d(t,e){return Ht(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ht(t.getHours()%12||12,e.length)},H(t,e){return Ht(t.getHours(),e.length)},m(t,e){return Ht(t.getMinutes(),e.length)},s(t,e){return Ht(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ht(i,e.length)}},Od={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},T5={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return $l.y(t,e)},Y:function(t,e,n,r){const i=RB(t,r),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return Ht(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ht(o,e.length)},R:function(t,e){const n=IB(t);return Ht(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ht(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ht(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ht(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return $l.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ht(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Ume(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ht(i,e.length)},I:function(t,e,n){const r=jme(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ht(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):$l.d(t,e)},D:function(t,e,n){const r=zme(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ht(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Ht(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Ht(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ht(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Od.noon:r===0?i=Od.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Od.evening:r>=12?i=Od.afternoon:r>=4?i=Od.morning:i=Od.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return $l.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):$l.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ht(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ht(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):$l.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):$l.s(t,e)},S:function(t,e){return $l.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return A5(r);case"XXXX":case"XX":return tu(r);case"XXXXX":case"XXX":default:return tu(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return A5(r);case"xxxx":case"xx":return tu(r);case"xxxxx":case"xxx":default:return tu(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+S5(r,":");case"OOOO":default:return"GMT"+tu(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+S5(r,":");case"zzzz":default:return"GMT"+tu(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ht(r,e.length)},T:function(t,e,n){return Ht(+t,e.length)}};function S5(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Ht(o,2)}function A5(t,e){return t%60===0?(t>0?"-":"+")+Ht(Math.abs(t)/60,2):tu(t,e)}function tu(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ht(Math.trunc(r/60),2),o=Ht(r%60,2);return n+i+e+o}const C5=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},PB=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Vme=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return C5(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",C5(r,e)).replace("{{time}}",PB(i,e))},Fme={p:PB,P:Vme},Bme=/^D+$/,$me=/^Y+$/,qme=["D","DD","YY","YYYY"];function Hme(t){return Bme.test(t)}function Gme(t){return $me.test(t)}function Kme(t,e,n){const r=Wme(t,e,n);if(console.warn(r),qme.includes(t))throw new RangeError(r)}function Wme(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xme=/^'([^]*?)'?$/,Qme=/''/g,Zme=/[a-zA-Z]/;function ug(t,e,n){var p,g,m,b,E,A,_,C;const r=Nx(),i=(n==null?void 0:n.locale)??r.locale??Mme,o=(n==null?void 0:n.firstWeekContainsDate)??((g=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((b=(m=r.locale)==null?void 0:m.options)==null?void 0:b.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((A=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((C=(_=r.locale)==null?void 0:_.options)==null?void 0:C.weekStartsOn)??0,l=pa(t,n==null?void 0:n.in);if(!nme(l))throw new RangeError("Invalid time value");let u=e.match(Jme).map(N=>{const I=N[0];if(I==="p"||I==="P"){const D=Fme[I];return D(N,i.formatLong)}return N}).join("").match(Yme).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const I=N[0];if(I==="'")return{isToken:!1,value:eye(N)};if(T5[I])return{isToken:!0,value:N};if(I.match(Zme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:N}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return u.map(N=>{if(!N.isToken)return N.value;const I=N.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Gme(I)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Hme(I))&&Kme(I,e,String(t));const D=T5[I[0]];return D(l,I,i.localize,d)}).join("")}function eye(t){const e=t.match(Xme);return e?e[1].replace(Qme,"'"):t}const tye={lessThanXSeconds:{one:"mindre n en sekund",other:"mindre n {{count}} sekunder"},xSeconds:{one:"en sekund",other:"{{count}} sekunder"},halfAMinute:"en halv minut",lessThanXMinutes:{one:"mindre n en minut",other:"mindre n {{count}} minuter"},xMinutes:{one:"en minut",other:"{{count}} minuter"},aboutXHours:{one:"ungefr en timme",other:"ungefr {{count}} timmar"},xHours:{one:"en timme",other:"{{count}} timmar"},xDays:{one:"en dag",other:"{{count}} dagar"},aboutXWeeks:{one:"ungefr en vecka",other:"ungefr {{count}} veckor"},xWeeks:{one:"en vecka",other:"{{count}} veckor"},aboutXMonths:{one:"ungefr en mnad",other:"ungefr {{count}} mnader"},xMonths:{one:"en mnad",other:"{{count}} mnader"},aboutXYears:{one:"ungefr ett r",other:"ungefr {{count}} r"},xYears:{one:"ett r",other:"{{count}} r"},overXYears:{one:"ver ett r",other:"ver {{count}} r"},almostXYears:{one:"nstan ett r",other:"nstan {{count}} r"}},nye=["noll","en","tv","tre","fyra","fem","sex","sju","tta","nio","tio","elva","tolv"],rye=(t,e,n)=>{let r;const i=tye[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e<13?nye[e]:String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"om "+r:r+" sedan":r},iye={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"y-MM-dd"},oye={full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},aye={full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},sye={date:tp({formats:iye,defaultWidth:"full"}),time:tp({formats:oye,defaultWidth:"full"}),dateTime:tp({formats:aye,defaultWidth:"full"})},lye={lastWeek:"'i' EEEE's kl.' p",yesterday:"'igr kl.' p",today:"'idag kl.' p",tomorrow:"'imorgon kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"},cye=(t,e,n,r)=>lye[t],uye={narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["fre Kristus","efter Kristus"]},dye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1:a kvartalet","2:a kvartalet","3:e kvartalet","4:e kvartalet"]},pye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],wide:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},fye={narrow:["S","M","T","O","T","F","L"],short:["s","m","ti","on","to","fr","l"],abbreviated:["sn","mn","tis","ons","tors","fre","lr"],wide:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"]},hye={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"morg.",afternoon:"efterm.",evening:"kvll",night:"natt"},abbreviated:{am:"f.m.",pm:"e.m.",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"efterm.",evening:"kvll",night:"natt"},wide:{am:"frmiddag",pm:"eftermiddag",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"eftermiddag",evening:"kvll",night:"natt"}},gye={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},abbreviated:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},wide:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morgonen",afternoon:"p eftermiddagen",evening:"p kvllen",night:"p natten"}},mye=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:case 2:return n+":a"}return n+":e"},yye={ordinalNumber:mye,era:Ma({values:uye,defaultWidth:"wide"}),quarter:Ma({values:dye,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ma({values:pye,defaultWidth:"wide"}),day:Ma({values:fye,defaultWidth:"wide"}),dayPeriod:Ma({values:hye,defaultWidth:"wide",formattingValues:gye,defaultFormattingWidth:"wide"})},bye=/^(\d+)(:a|:e)?/i,vye=/\d+/i,xye={narrow:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,abbreviated:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,wide:/^(fre Kristus|fre vr tid|efter Kristus|vr tid)/i},wye={any:[/^f/i,/^[ev]/i]},kye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](:a|:e)? kvartalet/i},Eye={any:[/1/i,/2/i,/3/i,/4/i]},_ye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar[s]?|apr|maj|jun[i]?|jul[i]?|aug|sep|okt|nov|dec)\.?/i,wide:/^(januari|februari|mars|april|maj|juni|juli|augusti|september|oktober|november|december)/i},Tye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^maj/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Sye={narrow:/^[smtofl]/i,short:/^(s|m|ti|on|to|fr|l)/i,abbreviated:/^(sn|mn|tis|ons|tors|fre|lr)/i,wide:/^(sndag|mndag|tisdag|onsdag|torsdag|fredag|lrdag)/i},Aye={any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},Cye={any:/^([fe]\.?\s?m\.?|midn(att)?|midd(ag)?|(p) (morgonen|eftermiddagen|kvllen|natten))/i},Iye={any:{am:/^f/i,pm:/^e/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgon/i,afternoon:/eftermiddag/i,evening:/kvll/i,night:/natt/i}},Nye={ordinalNumber:NB({matchPattern:bye,parsePattern:vye,valueCallback:t=>parseInt(t,10)}),era:za({matchPatterns:xye,defaultMatchWidth:"wide",parsePatterns:wye,defaultParseWidth:"any"}),quarter:za({matchPatterns:kye,defaultMatchWidth:"wide",parsePatterns:Eye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:za({matchPatterns:_ye,defaultMatchWidth:"wide",parsePatterns:Tye,defaultParseWidth:"any"}),day:za({matchPatterns:Sye,defaultMatchWidth:"wide",parsePatterns:Aye,defaultParseWidth:"any"}),dayPeriod:za({matchPatterns:Cye,defaultMatchWidth:"any",parsePatterns:Iye,defaultParseWidth:"any"})},Rx={code:"sv",formatDistance:rye,formatLong:sye,formatRelative:cye,localize:yye,match:Nye,options:{weekStartsOn:1,firstWeekContainsDate:4}},Rye=t=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(t),Pye=({project:t,onViewTask:e,onViewShopping:n})=>{var a;const{tasks:r,shoppingItems:i}=t,o=T.useMemo(()=>{const u=["Fas 1: Akut","Fas 2: Mekanisk Skerhet","Fas 3: Kaross & Rost","Fas 4: Inredning & Finish"].find(C=>r.some(N=>(N.phase||"").startsWith(C.split(":")[0])&&N.status!==et.DONE))||"Slutfr",d=r.filter(C=>(C.phase||"").startsWith(u.split(":")[0])),p=d.filter(C=>C.status===et.DONE).length,g=d.length,m=g>0?Math.round(p/g*100):0,E=r.filter(C=>C.status!==et.DONE).sort((C,N)=>{if(C.status===et.IN_PROGRESS&&N.status!==et.IN_PROGRESS)return-1;if(N.status===et.IN_PROGRESS&&C.status!==et.IN_PROGRESS)return 1;const I={[Qi.HIGH]:3,[Qi.MEDIUM]:2,[Qi.LOW]:1},D=I[C.priority]||0,L=I[N.priority]||0;if(D!==L)return L-D;const M=(C.phase||"").startsWith(u.split(":")[0])?1:0,P=(N.phase||"").startsWith(u.split(":")[0])?1:0;return M!==P?P-M:0})[0],_=i.filter(C=>!C.checked).sort((C,N)=>{if(E&&C.linkedTaskId===E.id&&N.linkedTaskId!==E.id)return-1;if(E&&N.linkedTaskId===E.id&&C.linkedTaskId!==E.id)return 1;const I={[ii.DECIDED]:3,[ii.RESEARCH]:2},D=I[C.status||""]||0,L=I[N.status||""]||0;return D!==L?L-D:(N.estimatedCost||0)-(C.estimatedCost||0)})[0];return{activePhase:u,phaseProgress:m,nextTask:E,nextBuy:_}},[r,i]);return!o.nextTask&&!o.nextBuy?null:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-nordic-charcoal dark:bg-nordic-dark-surface text-nordic-ice p-6 rounded-3xl shadow-sm flex flex-col justify-between h-full relative overflow-hidden group",children:[h.jsx("div",{className:"absolute top-0 right-0 p-32 bg-white/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2 text-teal-400",children:[h.jsx(gA,{size:18}),h.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Nuvarande Fokus"})]}),h.jsx("h3",{className:"text-2xl font-serif font-bold mb-1",children:o.activePhase}),h.jsx("p",{className:"text-sm text-slate-400",children:o.phaseProgress===100?"Frdigt! Dags fr nsta fas.":`${o.phaseProgress}% slutfrt av fasen`})]}),h.jsx("div",{className:"mt-6",children:h.jsx("div",{className:"w-full bg-slate-700/50 rounded-full h-2 mb-2 overflow-hidden",children:h.jsx("div",{className:"bg-teal-500 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${o.phaseProgress}%`}})})})]}),h.jsxs("div",{onClick:()=>o.nextTask&&e(o.nextTask.id),className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg cursor-pointer hover:shadow-md transition-all group relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 w-2 h-full bg-rose-500 opacity-0 group-hover:opacity-100 transition-opacity"}),h.jsxs("div",{className:"flex flex-col h-full justify-between",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-rose-500",children:[h.jsx(An,{size:18}),h.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Nsta Uppgift"})]}),((a=o.nextTask)==null?void 0:a.priority)===Qi.HIGH&&h.jsx("span",{className:"bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-200 text-[10px] font-bold px-2 py-1 rounded-full uppercase",children:"Prio"})]}),o.nextTask?h.jsxs(h.Fragment,{children:[h.jsx("h3",{className:"text-xl font-bold text-nordic-charcoal dark:text-nordic-ice mb-2 line-clamp-2 group-hover:text-rose-600 transition-colors",children:o.nextTask.title}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted line-clamp-2 mb-4",children:o.nextTask.description})]}):h.jsx("p",{className:"text-slate-400 italic",children:"Inga uppgifter kvar!"})]}),h.jsxs("div",{className:"flex items-center text-sm font-medium text-slate-400 group-hover:text-rose-500 transition-colors",children:["ppna uppgift ",h.jsx(tb,{size:16,className:"ml-1"})]})]})]}),h.jsx("div",{onClick:n,className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg cursor-pointer hover:shadow-md transition-all group relative",children:h.jsxs("div",{className:"flex flex-col h-full justify-between",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 text-nordic-blue-dark dark:text-blue-400 mb-3",children:[h.jsx(Qh,{size:18}),h.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Nsta Inkp"})]}),o.nextBuy?h.jsxs(h.Fragment,{children:[h.jsx("h3",{className:"text-xl font-bold text-nordic-charcoal dark:text-nordic-ice mb-2 group-hover:text-nordic-blue-dark transition-colors",children:o.nextBuy.name}),h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("span",{className:"text-2xl font-serif font-bold text-slate-700 dark:text-white",children:o.nextBuy.estimatedCost?Rye(o.nextBuy.estimatedCost):"-"}),o.nextBuy.status===ii.DECIDED&&h.jsx("span",{className:"bg-green-100 text-green-700 text-[10px] font-bold px-2 py-1 rounded-full uppercase",children:"Kpredo"})]}),h.jsx("p",{className:"text-xs text-slate-400",children:o.nextBuy.linkedTaskId&&o.nextTask&&o.nextBuy.linkedTaskId===o.nextTask.id?"Behvs fr nsta uppgift!":"Prioriterat inkp"})]}):h.jsx("p",{className:"text-slate-400 italic",children:"Inget att handla just nu."})]}),h.jsxs("div",{className:"flex items-center text-sm font-medium text-slate-400 group-hover:text-nordic-blue-dark transition-colors",children:["G till inkpslistan ",h.jsx(tb,{size:16,className:"ml-1"})]})]})})]})},Oye=t=>{if(!t)return{id:"unknown",label:"Oknd Fas",order:99};const e=t.toLowerCase();return e.includes("backlog")?{id:"backlog",label:"Backlog",order:90}:e.includes("fas 1")||e.includes("vr")?{id:"p1",label:"Fas 1: Vr",order:1}:e.includes("fas 2")||e.includes("sommar")?{id:"p2",label:"Fas 2: Vr/Sommar",order:2}:e.includes("fas 3")||e.includes("hst")||e.includes("vinter")?{id:"p3",label:"Fas 3: Hst/Vinter",order:3}:{id:"other",label:t,order:80}},Dye=t=>{const e={};return t.forEach(n=>{const{id:r,label:i,order:o}=Oye(n.phase);e[r]||(e[r]={label:i,order:o,tasks:[],estimatedCost:0,actualCost:0}),e[r].tasks.push(n);const a=n.estimatedCostMax?(n.estimatedCostMin+n.estimatedCostMax)/2:n.estimatedCost||0;e[r].estimatedCost+=a,e[r].actualCost+=n.actualCost||0}),Object.values(e).sort((n,r)=>n.order-r.order)},I5=t=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(t),Mye=({tasks:t,onPhaseClick:e,activePhaseId:n})=>{const r=T.useMemo(()=>Dye(t),[t]),i=r.findIndex(a=>{const l=a.tasks.length;return a.tasks.filter(d=>d.status===et.DONE).length<l}),o=i===-1?r.length-1:i;return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:"Projektets Resa"}),h.jsx("span",{className:"text-xs text-slate-400",children:"verblick & Ekonomi"})]}),h.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map((a,l)=>{const u=a.tasks.length,d=a.tasks.filter(b=>b.status===et.DONE).length,p=u>0?Math.round(d/u*100):0,g=l===o,m=l<o;return h.jsxs("div",{onClick:()=>e&&e(a.label),className:`
                                relative p-6 rounded-3xl border transition-all duration-300 group cursor-pointer
                                ${g?"bg-white dark:bg-nordic-dark-surface border-teal-500 shadow-md ring-1 ring-teal-500/20":"bg-white dark:bg-nordic-dark-surface border-nordic-ice dark:border-nordic-dark-bg hover:shadow-md"}
                                ${m?"opacity-70 grayscale-[0.5] hover:opacity-100":""}
                            `,children:[l!==r.length-1&&h.jsx("div",{className:"absolute left-9 bottom-0 translate-y-full w-0.5 h-4 bg-nordic-ice dark:bg-nordic-charcoal -z-10"}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-6",children:[h.jsx("div",{className:`
                                    w-12 h-12 rounded-full flex items-center justify-center shrink-0 font-bold text-lg
                                    ${g?"bg-teal-500 text-white shadow-lg shadow-teal-500/30":m?"bg-green-100 text-green-600 dark:bg-green-900/20":"bg-slate-100 text-slate-400 dark:bg-nordic-charcoal"}
                                `,children:m?h.jsx(An,{size:24}):g?l+1:h.jsx(Ns,{size:24})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("h4",{className:`font-bold text-lg truncate ${g?"text-nordic-charcoal dark:text-nordic-ice":"text-slate-600 dark:text-slate-400"}`,children:a.label}),g&&h.jsx("span",{className:"bg-teal-100 text-teal-700 dark:bg-teal-900/30 dark:text-teal-300 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wide",children:"Pgende"})]}),h.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 dark:text-nordic-dark-muted",children:[h.jsxs("span",{children:[d," av ",u," uppgifter"]}),h.jsx("div",{className:"w-24 h-1.5 bg-slate-100 dark:bg-nordic-charcoal rounded-full overflow-hidden",children:h.jsx("div",{className:`h-full rounded-full ${m?"bg-green-500":"bg-teal-500"}`,style:{width:`${p}%`}})})]})]}),h.jsxs("div",{className:"flex items-center gap-6 sm:border-l sm:border-slate-100 sm:dark:border-nordic-charcoal sm:pl-6 pt-4 sm:pt-0 mt-2 sm:mt-0 border-t border-slate-50 dark:border-nordic-charcoal",children:[h.jsxs("div",{className:"min-w-[100px]",children:[h.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400 mb-0.5",children:"Estimat"}),h.jsx("p",{className:"font-mono font-medium text-slate-600 dark:text-slate-300",children:I5(a.estimatedCost)})]}),h.jsxs("div",{className:"min-w-[100px]",children:[h.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400 mb-0.5",children:"Utfall"}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("p",{className:`font-mono font-bold ${a.actualCost>a.estimatedCost*1.1?"text-rose-500":"text-nordic-charcoal dark:text-nordic-ice"}`,children:I5(a.actualCost)}),a.actualCost>a.estimatedCost*1.1&&h.jsx(sp,{size:12,className:"text-rose-500"})]})]}),h.jsx("div",{className:"hidden sm:block text-slate-300 group-hover:text-teal-500 transition-colors",children:h.jsx(tb,{size:20})})]})]})]},a.label)})})]})},p0=t=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(t),zye=({onPhaseClick:t,onViewTask:e,onViewShopping:n})=>{const{activeProject:r,tasks:i,vehicleData:o}=Qs();if(!r)return null;const[a,l]=T.useState([]);T.useEffect(()=>{(async()=>{try{const m=await lse(r.id);l(m)}catch(m){console.error("Failed to load knowledge base:",m)}})()},[r.id]);const u=T.useMemo(()=>{const g=i.reduce((C,N)=>C+(N.estimatedCostMin||0),0),m=i.reduce((C,N)=>C+(N.estimatedCostMax||0),0),b=i.reduce((C,N)=>C+(N.actualCost||0),0),E=i.filter(C=>C.status===et.DONE).length,A=i.length>0?Math.round(E/i.length*100):0,_=(m+g)/2-b;return{totalMin:g,totalMax:m,spent:b,progress:A,completed:E,total:i.length,remainingBudget:_}},[i]),d=T.useMemo(()=>{const g=o!=null&&o.prodYear?String(o.prodYear):"-",m=(o==null?void 0:o.regDate)||"-",b=r.created?ug(new Date(r.created),"d MMM yyyy",{locale:Rx}):"-",E=[{date:g,title:"Tillverkad",description:`${(o==null?void 0:o.make)||"Oknd"} ${(o==null?void 0:o.model)||"Fordon"}`,type:"history",icon:dA},{date:m,title:"I Trafik",description:"Frsta gngen p vg",type:"history",icon:Kd},{date:b,title:"Projektstart",description:r.name,type:"milestone",icon:HJ}],A=i.filter(_=>_.status===et.DONE).slice(0,5).map(_=>({date:"Klar",title:_.title,description:(_.phase||"Oknd").split(":")[0],type:"task",icon:An}));return[...E,...A]},[i,o,r]),p=({title:g,value:m,subtext:b,icon:E,color:A})=>h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg flex items-center space-x-4 transition-all hover:shadow-md h-full",children:[h.jsx("div",{className:`p-4 rounded-2xl ${A} dark:bg-opacity-20`,children:h.jsx(E,{size:24,className:"text-nordic-charcoal dark:text-nordic-ice opacity-80"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:g}),h.jsx("h3",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:m}),b&&h.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted mt-1",children:b})]})]});return h.jsxs("div",{className:"space-y-8 pb-20 animate-fade-in",children:[h.jsx(Pye,{project:r,onViewTask:e,onViewShopping:n}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsx(p,{title:"Total Budget",value:`${p0(u.totalMin)} - ${p0(u.totalMax)}`,subtext:"Uppskattat spann",icon:AQ,color:"bg-nordic-blue"}),h.jsx(p,{title:"Spenderat",value:p0(u.spent),subtext:`Kvar av snittbudget: ${p0(u.remainingBudget)}`,icon:MJ,color:"bg-nordic-pink"}),h.jsx(p,{title:"Frdigt",value:`${u.progress}%`,subtext:`${u.completed} av ${u.total} uppgifter klara`,icon:An,color:"bg-nordic-green"})]}),h.jsx(Mye,{tasks:i,onPhaseClick:t}),h.jsxs("div",{className:"pt-4",children:[h.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:"Resurser"}),h.jsx(Yge,{projectArticles:a})]}),h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg overflow-hidden opacity-80 hover:opacity-100 transition-opacity",children:[h.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:"Historik"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute top-[24px] left-0 w-full h-1 bg-gradient-to-r from-nordic-ice via-nordic-blue/30 to-nordic-ice dark:from-nordic-dark-bg dark:via-nordic-charcoal dark:to-nordic-dark-bg rounded-full"}),h.jsx("div",{className:"flex overflow-x-auto pb-6 space-x-12 px-4 scrollbar-thin scrollbar-thumb-nordic-blue/50 scrollbar-track-transparent snap-x",children:d.map((g,m)=>h.jsxs("div",{className:"relative flex flex-col items-center min-w-[160px] snap-center group",children:[h.jsx("div",{className:`w-12 h-12 rounded-full border-4 border-white dark:border-nordic-dark-surface shadow-sm flex items-center justify-center mb-4 z-10 transition-transform duration-300 group-hover:scale-110 ${g.type==="history"?"bg-slate-100 dark:bg-nordic-charcoal text-slate-400":g.type==="milestone"?"bg-nordic-pink dark:bg-pink-900/40 text-rose-800 dark:text-rose-200":"bg-nordic-green dark:bg-green-900/40 text-green-800 dark:text-green-200"}`,children:h.jsx(g.icon,{size:20})}),h.jsxs("div",{className:"text-center transition-opacity duration-300 group-hover:opacity-100",children:[h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-1 block",children:g.date}),h.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm leading-tight mb-1",children:g.title}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted max-w-[140px] mx-auto leading-relaxed",children:g.description})]})]},m))})]})]})]})},jye=()=>{const{activeProject:t}=Qs(),e=ts();if(!t)return null;const n=o=>{e(`/project/${t.id}/tasks?phase=${encodeURIComponent(o)}`)},r=o=>{e(`/project/${t.id}/tasks?taskId=${o}`)},i=()=>{e(`/project/${t.id}/shopping`)};return h.jsx(zye,{project:t,onPhaseClick:n,onViewTask:r,onViewShopping:i})},Lye=["Jmfr priser mellan butiker","Finns detta p Biltema?","Hitta billigare alternativ","Vilken kvalitet ska jag vlja?"],Uye=["Kan jag gra detta sjlv?","Vilka verktyg behver jag?","Hur lng tid tar detta?","Vad kan g fel?"],Vye=["Hur tgrdar jag detta?","Vad kostar det att fixa?","r detta kritiskt?","Vilka delar behver jag?"];function Fye(t){var o;const{item:e,vehicleData:n,relatedTasks:r}=t;if(!e)return"";const i=r==null?void 0:r.find(a=>a.id===e.linkedTaskId);return`Du r ELTON, en svensk fordonsteknisk AI-assistent. Du hjlper anvndaren med en specifik inkpsitem.

PRODUKT:
- Namn: ${e.name}
- Kategori: ${e.category}
- Estimerat pris: ${e.estimatedCost} kr
- Antal: ${e.quantity}
${e.linkedTaskId?`- Kopplad till uppgift: "${i==null?void 0:i.title}"`:""}

${e.options&&e.options.length>0?`
NUVARANDE ALTERNATIV:
${e.options.map(a=>`- ${a.store}: ${a.price} kr + ${a.shippingCost} kr frakt = ${a.totalCost} kr ${a.inStock?"(I lager)":"(Ej i lager)"}`).join(`
`)}
`:"Inga alternativ tillagda nnu."}

FORDON:
- ${n.make} ${n.model} (${n.year})
- Motor: ${((o=n.engine)==null?void 0:o.code)||"Oknd"}
${n.vin?`- VIN: ${n.vin}`:""}

INSTRUKTIONER:
- Hjlp anvndaren hitta lgsta pris och bst lmpade produkt oavsett butik
- ANVND SKVERKTYG aktivt fr att hitta dagsfrska priser och lagerstatus p svenska webbutiker
- Fresl fritt bland alla relevanta terfrsljare (t.ex. Amazon, Trodo, Skruvat, specialbutiker, lgprisvaruhus)
- Begrnsa dig INTE till specifika kedjor - prioritera rtt produkt till rtt pris
- Var specifik med artikelnummer och ungefrliga priser nr mjligt
- Svara alltid p SVENSKA

OM ANVNDAREN BER OM PRISJMFRELSE:
Ge en mnsklig frklaring fljt av strukturerad data i detta format:

\`\`\`json
{
  "newOptions": [
    {
      "store": "Biltema",
      "price": 450,
      "shippingCost": 0,
      "articleNumber": "80-XXX",
      "shelfLocation": "Gng X, Hylla Y",
      "inStock": true,
      "url": "https://www.biltema.se/..."
    }
  ]
}
\`\`\``}function Bye(t){var o;const{task:e,vehicleData:n,relatedItems:r,userSkillLevel:i}=t;return e?`Du r ELTON, en svensk fordonsteknisk AI-assistent. Du hjlper anvndaren med en specifik uppgift.

UPPGIFT:
- Titel: ${e.title}
- Beskrivning: ${e.description||"Ingen beskrivning"}
- Fas: ${e.phase}
- Svrighetsgrad: ${e.difficultyLevel||"Medium"}
- Status: ${e.status}
${e.estimatedCostMin||e.estimatedCostMax?`- Budget: ${e.estimatedCostMin}-${e.estimatedCostMax} kr`:""}

${r&&r.length>0?`
RELATERADE INKP:
${r.map(a=>`- ${a.name} (${a.estimatedCost} kr) ${a.checked?" Kpt":""}`).join(`
`)}
`:""}

FORDON:
- ${n.make} ${n.model} (${n.year})
- Motor: ${((o=n.engine)==null?void 0:o.code)||"Oknd"}

ANVNDARE:
- Skill level: ${i||"intermediate"}

INSTRUKTIONER:
- Anpassa dina svar till anvndarens kunskapsniv
- Om beginner: frenkla, fresl verkstad fr svra jobb
- Om expert: ge tekniska detaljer
- Fresl verktyg och material om det behvs
- Svara alltid p SVENSKA

${t.availablePhases&&t.availablePhases.length>0?`
NUVARANDE FASER I PROJEKTET:
${t.availablePhases.map(a=>`- ${a}`).join(`
`)}
(Anvnd dessa exakta namn om du ska flytta uppgifter, eller fresl en ny om det behvs)
`:""}`:""}function $ye(t){var o;const{inspectionFinding:e,inspectionArea:n,vehicleData:r,userSkillLevel:i}=t;return e?`Du r ELTON, en svensk fordonsteknisk AI-assistent. Du hjlper anvndaren att analysera och tgrda en anmrkning frn fordonsbesiktningen.

INSPEKTIONSANMRKNING:
- Typ: ${e.type}
- Beskrivning: ${e.description}
- Omrde: ${(n==null?void 0:n.name)||"Oknt"}
- Allvarlighetsgrad: ${e.severity}
- Position: ${e.position||"Ej specificerad"}
${e.action?`- Freslagen tgrd: ${e.action}`:""}

FORDON:
- ${r.make} ${r.model} (${r.year})
- Motor: ${((o=r.engine)==null?void 0:o.code)||"Oknd"}

ANVNDARE:
- Skill level: ${i||"intermediate"}

INSTRUKTIONER:
- Frklara varfr detta r ett problem
- Ge en steg-fr-steg plan fr att tgrda det
- Uppskatta kostnad och tidstgng
- Fresl reservdelar om det behvs
- Om det r "CRITICAL": Varna fr skerhetsrisker
- Svara alltid p SVENSKA
`:""}const YC=({context:t,projectId:e,onClose:n,onUpdateItem:r,onUpdateTask:i})=>{var I,D,L;const[o,a]=T.useState([]),[l,u]=T.useState(""),[d,p]=T.useState(!1),[g,m]=T.useState(null),b=T.useRef(null),E=t.type==="shopping_item"?Lye:t.type==="task"?Uye:Vye,A=t.type==="shopping_item"?(I=t.item)==null?void 0:I.name:t.type==="task"?(D=t.task)==null?void 0:D.title:(L=t.inspectionFinding)==null?void 0:L.type,_=t.type==="shopping_item"?Fye(t):t.type==="task"?Bye(t):$ye(t);T.useEffect(()=>{var M;(M=b.current)==null||M.scrollIntoView({behavior:"smooth"})},[o]),T.useEffect(()=>{var P,z,U;const M={id:"welcome",role:"model",content:t.type==="shopping_item"?`Hej! Jag kan hjlpa dig med **${(P=t.item)==null?void 0:P.name}**. Vill du att jag jmfr priser, hittar alternativ, eller har du ngon specifik frga?`:t.type==="task"?`Hej! Jag kan hjlpa dig med uppgiften **"${(z=t.task)==null?void 0:z.title}"**. Vill du ha tips p hur du tar dig an detta, eller har du specifika frgor?`:`Hej! Jag ser att du har en anmrkning p **"${(U=t.inspectionFinding)==null?void 0:U.type}"**. Vill du veta hur du fixar detta eller vad det kostar?`,timestamp:new Date().toISOString()};a([M])},[t]);const C=async M=>{if(!M.trim()||d)return;const P={id:`user-${Date.now()}`,role:"user",content:M,timestamp:new Date().toISOString()},z=[...o,P];a(z),u(""),p(!0);try{const q=`${z.map(W=>`${W.role.toUpperCase()}: ${W.content}`).join(`

`)}

(Respond to the last message, using tools if necessary)`,V=await dce(_,q),B=V.data;if(V.functionCalls&&V.functionCalls.length>0)for(const W of V.functionCalls){let X="";try{W.name==="addVehicleHistoryEvent"?(await cse(e,W.args),X=`Successfully added history event: ${W.args.title}`):W.name==="addMileageReading"?(await use(e,W.args),X=`Successfully added mileage: ${W.args.mileage} mil`):W.name==="updateInspectionFinding"?(await $V(e,W.args.findingId,{status:W.args.newStatus,resolutionNotes:W.args.feedback||W.args.resolutionNotes}),X=`Successfully updated finding ${W.args.findingId}`):W.name==="addTask"?(await hse(e,{...W.args,status:"Ej pbrjad",created:new Date().toISOString(),updated:new Date().toISOString()}),X=`Successfully added task: ${W.args.title}`):X=`Unknown tool: ${W.name}`}catch(oe){console.error("Tool execution failed:",oe),X=`Error executing ${W.name}: ${oe.message}`}const Z={id:`tool-${Date.now()}`,role:"model",content:` ${X}`,timestamp:new Date().toISOString()};a(oe=>[...oe,Z])}const F=B.match(/```json\n([\s\S]*?)\n```/);if(F)try{const W=JSON.parse(F[1]);if(W.newOptions&&Array.isArray(W.newOptions)){const X=W.newOptions.map(Z=>({id:`vendor-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,store:Z.store||"Oknd butik",articleNumber:Z.articleNumber||"",price:Z.price||0,shippingCost:Z.shippingCost||0,totalCost:(Z.price||0)+(Z.shippingCost||0),currency:"SEK",deliveryTimeDays:Z.deliveryTimeDays||(Z.shippingCost===0?0:3),inStock:Z.inStock!==!1,shelfLocation:Z.shelfLocation||"",url:Z.url||"",lastPriceCheck:new Date().toISOString()}));m(X)}}catch{}const ne={id:`model-${Date.now()}`,role:"model",content:B,timestamp:new Date().toISOString()};a(W=>[...W,ne])}catch(U){console.error("Chat error:",U);const q={id:`error-${Date.now()}`,role:"model",content:"Urskta, ngot gick fel. Frsk igen.",timestamp:new Date().toISOString()};a(V=>[...V,q])}finally{p(!1)}},N=()=>{if(g&&t.item&&r){const M={...t.item,options:[...t.item.options||[],...g]};r(M),m(null)}};return h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex justify-end",children:h.jsxs("div",{className:"w-full md:w-[480px] h-full bg-white flex flex-col animate-slide-in-right",children:[h.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-gradient-to-r from-blue-600 to-indigo-600",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:h.jsx(Ng,{size:20,className:"text-white"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-white",children:"ELTON Chat"}),h.jsx("p",{className:"text-sm text-white/80 truncate max-w-[280px]",children:A})]})]}),h.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-full text-white transition-colors","aria-label":"Stng chat",children:h.jsx(Mr,{size:20})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[o.map(M=>h.jsx("div",{className:`flex ${M.role==="user"?"justify-end":"justify-start"}`,children:h.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 ${M.role==="user"?"bg-blue-600 text-white rounded-br-md":"bg-white text-slate-700 shadow-sm rounded-bl-md"}`,children:h.jsx("p",{className:"text-sm whitespace-pre-wrap",children:M.content})})},M.id)),d&&h.jsx("div",{className:"flex justify-start",children:h.jsx("div",{className:"bg-white rounded-2xl px-4 py-3 shadow-sm",children:h.jsx(ia,{size:20,className:"animate-spin text-blue-600"})})}),g&&g.length>0&&h.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(pu,{size:16,className:"text-green-600"}),h.jsxs("span",{className:"font-bold text-green-800 text-sm",children:[g.length," nya alternativ hittade!"]})]}),h.jsx("ul",{className:"text-sm text-green-700 mb-3 space-y-1",children:g.map(M=>h.jsxs("li",{children:[" ",M.store,": ",M.totalCost," kr"]},M.id))}),h.jsxs("button",{onClick:N,className:"w-full bg-green-600 text-white py-2 rounded-lg font-medium flex items-center justify-center gap-2 hover:bg-green-700",children:[h.jsx(ja,{size:16}),"Lgg till i inkpslistan"]})]}),h.jsx("div",{ref:b})]}),o.length<=1&&h.jsxs("div",{className:"px-4 py-3 border-t border-slate-200 bg-white",children:[h.jsx("p",{className:"text-xs text-slate-400 mb-2",children:"Snabbfrgor:"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(M=>h.jsx("button",{onClick:()=>C(M),className:"px-3 py-1.5 bg-slate-100 hover:bg-slate-200 rounded-full text-xs text-slate-600 transition-colors",children:M},M))})]}),h.jsx("div",{className:"p-4 border-t border-slate-200 bg-white",children:h.jsxs("form",{onSubmit:M=>{M.preventDefault(),C(l)},className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",value:l,onChange:M=>u(M.target.value),placeholder:"Skriv ett meddelande...",className:"flex-1 bg-slate-100 rounded-full px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-blue-500/50",disabled:d}),h.jsx("button",{type:"submit",disabled:d||!l.trim(),className:"bg-blue-600 text-white p-3 rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Skicka meddelande",children:h.jsx($v,{size:18})})]})})]})})},qye=({task:t,vehicleData:e,shoppingItems:n,onUpdate:r,onAddShoppingItem:i,onDelete:o,onAskElton:a,onClose:l,availablePhases:u,projectId:d})=>{const[p,g]=T.useState("details"),[m,b]=T.useState(""),[E,A]=T.useState(""),[_,C]=T.useState(""),[N,I]=T.useState(""),[D,L]=T.useState(""),[M,P]=T.useState(""),[z,U]=T.useState(!1),[q,V]=T.useState(null),B=()=>{const ae=n.filter(le=>le.linkedTaskId===t.id);V({type:"task",task:t,vehicleData:e,relatedItems:ae,availablePhases:u})},[F,ne]=T.useState(t.description),[W,X]=T.useState(t.actualCost.toString()),Z=t.decisionOptions&&t.decisionOptions.length>0,oe=t.subtasks||[],fe=oe.filter(ae=>ae.completed).length,Y=oe.length>0?fe/oe.length*100:0,G=T.useMemo(()=>{const ae=t.title.toLowerCase().split(" ").filter(qe=>qe.length>3),le={specs:[],articles:[],inventory:[]};return ae.some(qe=>"dck hjul flg bult".includes(qe))&&e.wheels&&(le.specs.push({label:"Bultmnster",value:e.wheels.boltPattern}),le.specs.push({label:"Dckdimension",value:e.wheels.tiresFront})),ae.some(qe=>"olja filter service motor".includes(qe))&&e.engine&&(le.specs.push({label:"Motorolja",value:"10W-40 Mineral"}),le.specs.push({label:"Volym",value:e.engine.volume})),ae.some(qe=>"vxellda lda vxel".includes(qe))&&le.specs.push({label:"Vxellda",value:e.gearbox}),ae.some(qe=>"last vikt lasta".includes(qe))&&e.weights&&le.specs.push({label:"Max Lastvikt",value:`${e.weights.load} kg`}),le.articles=WV.filter(qe=>{const Be=qe.content.toLowerCase();return ae.some(pt=>Be.includes(pt))}),le.inventory=n.filter(qe=>ae.some(Be=>qe.name.toLowerCase().includes(Be))),le.linkedItems=n.filter(qe=>qe.linkedTaskId===t.id),le},[t.id,t.title,e,n]),J=()=>{r({...t,description:F,actualCost:parseInt(W)||0})},$=()=>{if(!N.trim())return;const ae={id:Math.random().toString(36).substr(2,9),title:N,completed:!1};r({...t,subtasks:[...oe,ae]}),I("")},be=ae=>{r({...t,subtasks:oe.map(le=>le.id===ae?{...le,completed:!le.completed}:le)})},_e=ae=>{r({...t,subtasks:oe.filter(le=>le.id!==ae)})},Te=()=>{if(!m.trim())return;const ae={id:Math.random().toString(36).substr(2,9),text:m,createdAt:new Date().toISOString(),author:"user"};r({...t,comments:[...t.comments,ae]}),b("")},je=()=>{if(!_.trim())return;const ae={id:Math.random().toString(36).substr(2,9),title:E||_,url:_.startsWith("http")?_:`https://${_}`};r({...t,links:[...t.links,ae]}),A(""),C("")},Ye=ae=>{r({...t,links:t.links.filter(le=>le.id!==ae)})},ue=ae=>{var qe;const le=(qe=ae.target.files)==null?void 0:qe[0];if(le){const Be=new FileReader;Be.onloadend=()=>{const pt={id:Math.random().toString(36).substr(2,9),name:le.name,type:le.type.startsWith("image/")?"image":"file",data:Be.result};r({...t,attachments:[...t.attachments,pt]})},Be.readAsDataURL(le)}},Ae=ae=>{r({...t,attachments:t.attachments.filter(le=>le.id!==ae)})};return h.jsxs("div",{className:"fixed inset-0 bg-nordic-charcoal/30 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:[h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[h.jsxs("div",{className:"p-6 bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-dark-bg dark:to-nordic-dark-surface border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-bold uppercase tracking-wider ${t.status==="Klart"?"bg-nordic-green text-green-800":"bg-nordic-blue text-blue-800"}`,children:t.status}),h.jsx("span",{className:"text-slate-400 text-xs font-mono uppercase",children:t.phase})]}),h.jsx("h2",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:t.title})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-xl text-xs font-bold text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[h.jsx(Ng,{size:16})," Prata med ELTON"]}),h.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full transition-colors",children:h.jsx(Mr,{size:24,className:"text-slate-500 dark:text-slate-400"})})]})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto",children:[h.jsxs("div",{className:"flex border-b border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-surface sticky top-0 z-10",children:[h.jsx("button",{onClick:()=>g("details"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${p==="details"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:"Detaljer & Checklistor"}),h.jsxs("button",{onClick:()=>g("decision"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors flex items-center justify-center gap-2 ${p==="decision"?"border-amber-400 text-amber-600 dark:text-amber-400":"border-transparent text-slate-400 hover:text-amber-500"}`,children:[h.jsx(Xh,{size:16}),"Beslutsstd"]}),h.jsxs("button",{onClick:()=>g("comments"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${p==="comments"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:["Kommentarer (",t.comments.length,")"]})]}),h.jsxs("div",{className:"p-6",children:[p==="details"&&h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Beskrivning"}),h.jsx("textarea",{value:F,onChange:ae=>ne(ae.target.value),onBlur:J,className:"w-full p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal focus:ring-2 focus:ring-teal-500/20 focus:outline-none text-slate-700 dark:text-nordic-ice min-h-[80px]"})]}),h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg/30 p-4 rounded-2xl border border-slate-100 dark:border-nordic-charcoal",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[h.jsx(pA,{size:18,className:"text-teal-600"})," Checklista"]}),oe.length>0&&h.jsxs("span",{className:"text-xs font-bold text-slate-400",children:[Math.round(Y),"%"]})]}),oe.length>0&&h.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-nordic-charcoal rounded-full mb-4 overflow-hidden",children:h.jsx("div",{className:"h-full bg-teal-500 transition-all duration-500",style:{width:`${Y}%`}})}),h.jsx("div",{className:"space-y-2 mb-3",children:oe.map(ae=>h.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 rounded-lg group cursor-pointer",onClick:()=>be(ae.id),children:[h.jsx("div",{className:`transition-colors ${ae.completed?"text-teal-600":"text-slate-300"}`,children:ae.completed?h.jsx(An,{size:20}):h.jsx(Ns,{size:20})}),h.jsx("span",{className:`flex-1 text-sm ${ae.completed?"text-slate-400 line-through decoration-slate-300":"text-nordic-charcoal dark:text-slate-200"}`,children:ae.title}),h.jsx("button",{onClick:le=>{le.stopPropagation(),_e(ae.id)},className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:h.jsx(ic,{size:14})})]},ae.id))}),h.jsxs("div",{className:"flex gap-2 items-center mt-2",children:[h.jsx(ja,{size:16,className:"text-slate-400 ml-2"}),h.jsx("input",{placeholder:"Lgg till en punkt...",value:N,onChange:ae=>I(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&$(),className:"flex-1 bg-transparent text-sm p-1 focus:outline-none dark:text-white placeholder:text-slate-400"}),h.jsx("button",{onClick:$,disabled:!N.trim(),className:"text-xs font-bold bg-slate-100 dark:bg-nordic-charcoal px-3 py-1.5 rounded-lg hover:bg-slate-200 dark:hover:bg-nordic-dark-surface transition-colors disabled:opacity-0",children:"Lgg till"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[h.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Estimat"}),h.jsxs("span",{className:"text-xl font-mono font-medium text-slate-700 dark:text-nordic-ice",children:[t.estimatedCostMin," - ",t.estimatedCostMax," kr"]})]}),h.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[h.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Verklig Kostnad"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"number",value:W,onChange:ae=>X(ae.target.value),onBlur:J,className:"w-24 bg-transparent font-mono text-xl font-medium text-nordic-charcoal dark:text-nordic-ice focus:outline-none border-b border-slate-300 dark:border-slate-600 focus:border-teal-500"}),h.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"kr"})]})]})]})]}),h.jsxs("div",{children:[h.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[h.jsx(lp,{size:18})," Lnkar"]}),h.jsx("div",{className:"space-y-2 mb-3",children:t.links.map(ae=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl group hover:border-teal-200 transition-colors",children:[h.jsxs("a",{href:ae.url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-teal-700 dark:text-teal-400 font-medium hover:underline truncate",children:[h.jsx(lp,{size:14})," ",ae.title]}),h.jsx("button",{onClick:()=>Ye(ae.id),className:"text-slate-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:h.jsx(ic,{size:16})})]},ae.id))}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{placeholder:"Titel (t.ex. Mekonomen)",value:E,onChange:ae=>A(ae.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),h.jsx("input",{placeholder:"https://...",value:_,onChange:ae=>C(ae.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),h.jsx("button",{onClick:je,disabled:!_,className:"p-2 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-lg hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:h.jsx(ja,{size:18})})]})]}),h.jsxs("div",{children:[h.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[h.jsx(W3,{size:18})," Filer & Kvitton"]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-3",children:[t.attachments.map(ae=>h.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-slate-200 dark:border-nordic-charcoal aspect-square bg-slate-50 dark:bg-nordic-dark-bg flex items-center justify-center",children:[ae.type==="image"?h.jsx("img",{src:ae.data,alt:ae.name,className:"w-full h-full object-cover"}):h.jsxs("div",{className:"text-center p-2",children:[h.jsx(Ou,{className:"mx-auto mb-1 text-slate-400"}),h.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:ae.name})]}),h.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:h.jsx("button",{onClick:()=>Ae(ae.id),className:"p-2 bg-white rounded-full text-rose-500 hover:bg-rose-50",children:h.jsx(ic,{size:16})})})]},ae.id)),h.jsxs("label",{className:"cursor-pointer rounded-xl border-2 border-dashed border-slate-200 dark:border-nordic-charcoal hover:border-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900/10 transition-all aspect-square flex flex-col items-center justify-center text-slate-400 hover:text-teal-600 dark:hover:text-teal-400",children:[h.jsx(ja,{size:24,className:"mb-1"}),h.jsx("span",{className:"text-xs font-medium",children:"Ladda upp"}),h.jsx("input",{type:"file",onChange:ue,className:"hidden"})]})]})]})]}),p==="decision"&&h.jsxs("div",{className:"space-y-6",children:[(G.specs.length>0||G.articles.length>0||G.inventory.length>0)&&h.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-5 rounded-2xl border border-indigo-100 dark:border-indigo-800",children:[h.jsxs("h3",{className:"font-serif font-bold text-lg text-indigo-900 dark:text-indigo-200 mb-4 flex items-center gap-2",children:[h.jsx(Po,{size:18})," Eltons Tekniska Noteringar"]}),h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[G.specs.length>0&&h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[h.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block",children:"Specifikationer"}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:G.specs.map((ae,le)=>h.jsxs("div",{children:[h.jsx("span",{className:"text-xs text-slate-500 block",children:ae.label}),h.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm",children:ae.value})]},le))})]}),G.inventory.length>0&&h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[h.jsxs("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[h.jsx(Qh,{size:12})," Frn Inkpslistan"]}),h.jsx("div",{className:"space-y-1",children:G.inventory.map((ae,le)=>h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[ae.checked?h.jsx(An,{size:14,className:"text-green-500"}):h.jsx(Ns,{size:14,className:"text-slate-300"}),h.jsx("span",{className:ae.checked?"text-slate-400 line-through":"text-nordic-charcoal dark:text-nordic-ice",children:ae.name})]},le))})]}),h.jsxs("div",{className:"bg-teal-50 dark:bg-teal-900/20 p-3 rounded-xl border border-teal-100 dark:border-teal-900/50",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("span",{className:"text-xs font-bold text-teal-600 dark:text-teal-400 uppercase tracking-wider flex items-center gap-1",children:[h.jsx(Qh,{size:12})," Inkpslista fr denna uppgift"]}),i&&h.jsxs("button",{onClick:()=>U(!z),className:"text-teal-600 hover:text-teal-700 text-xs flex items-center gap-1",children:[h.jsx(ja,{size:12})," Lgg till"]})]}),z&&i&&h.jsxs("div",{className:"mb-3 p-2 bg-white dark:bg-nordic-dark-surface rounded-lg border border-teal-200",children:[h.jsx("input",{type:"text",placeholder:"Produktnamn...",value:D,onChange:ae=>L(ae.target.value),className:"w-full px-2 py-1.5 text-sm border border-slate-200 rounded mb-2 outline-none focus:ring-1 focus:ring-teal-500"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"number",placeholder:"Pris (kr)",value:M,onChange:ae=>P(ae.target.value),className:"w-24 px-2 py-1.5 text-sm border border-slate-200 rounded outline-none focus:ring-1 focus:ring-teal-500"}),h.jsx("button",{onClick:()=>{D.trim()&&(i({name:D,category:"Reservdelar",estimatedCost:parseInt(M)||0,quantity:"1 st",checked:!1,linkedTaskId:t.id}),L(""),P(""),U(!1))},className:"flex-1 bg-teal-600 text-white text-xs py-1.5 rounded hover:bg-teal-700",children:"Lgg till"})]})]}),G.linkedItems&&G.linkedItems.length>0?h.jsx("div",{className:"space-y-1",children:G.linkedItems.map((ae,le)=>h.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[ae.checked?h.jsx(An,{size:14,className:"text-green-500 flex-shrink-0"}):h.jsx(Ns,{size:14,className:"text-slate-300 flex-shrink-0"}),h.jsx("span",{className:`truncate ${ae.checked?"text-slate-400 line-through":"text-nordic-charcoal dark:text-nordic-ice"}`,children:ae.name})]}),h.jsxs("span",{className:"text-xs font-mono text-slate-500 flex-shrink-0",children:[ae.estimatedCost," kr"]})]},le))}):h.jsx("p",{className:"text-xs text-slate-400 italic",children:"Inga inkp kopplade till denna uppgift n"})]}),G.articles.map(ae=>h.jsx("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50 hover:border-indigo-300 transition-colors group cursor-pointer",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(Jh,{className:"text-indigo-500 shrink-0 mt-1",size:18}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice group-hover:underline",children:ae.title}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 line-clamp-2",children:ae.summary})]})]})},ae.id))]})]}),h.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-2xl border border-amber-100 dark:border-amber-800 text-amber-800 dark:text-amber-200 text-sm flex gap-3",children:[h.jsx(Xh,{className:"shrink-0",size:20}),h.jsx("p",{children:"Hr kan du jmfra olika vgar framt. Vad r vrt mest  din tid eller dina pengar?"})]}),Z?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.decisionOptions.map(ae=>h.jsxs("div",{className:`p-6 rounded-3xl border-2 relative ${ae.recommended?"border-teal-400 bg-teal-50 dark:bg-teal-900/10":"border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-bg"}`,children:[ae.recommended&&h.jsx("div",{className:"absolute -top-3 left-6 bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full",children:"Rekommenderas"}),h.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-1",children:ae.title}),h.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted text-sm mb-4",children:ae.description}),h.jsxs("div",{className:"bg-nordic-ice dark:bg-nordic-charcoal p-3 rounded-xl mb-4 text-center",children:[h.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Prisspann"}),h.jsx("span",{className:"font-mono font-bold text-lg text-nordic-charcoal dark:text-white",children:ae.costRange})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-xs font-bold text-green-600 dark:text-green-400 uppercase block mb-2",children:"Frdelar"}),h.jsx("ul",{className:"space-y-1",children:ae.pros.map((le,qe)=>h.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[h.jsx(Op,{size:14,className:"text-green-500 mt-0.5 shrink-0"})," ",le]},qe))})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-xs font-bold text-rose-500 dark:text-rose-400 uppercase block mb-2",children:"Nackdelar"}),h.jsx("ul",{className:"space-y-1",children:ae.cons.map((le,qe)=>h.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[h.jsx($3,{size:14,className:"text-rose-400 mt-0.5 shrink-0"})," ",le]},qe))})]})]})]},ae.id))}):h.jsx("div",{className:"text-center py-8 text-slate-400 italic",children:"Inga manuella alternativ inlagda n."})]}),p==="comments"&&h.jsxs("div",{className:"flex flex-col h-[500px]",children:[h.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto pr-2",children:[t.comments.length===0&&h.jsxs("div",{className:"text-center py-10 text-slate-400",children:[h.jsx(fA,{size:48,className:"mx-auto mb-2 opacity-20"}),h.jsx("p",{children:"Inga kommentarer n."})]}),t.comments.map(ae=>h.jsxs("div",{className:`p-4 rounded-2xl max-w-[90%] ${ae.author==="user"?"bg-nordic-ice dark:bg-teal-900/30 ml-auto rounded-br-none":"bg-white dark:bg-nordic-charcoal border border-slate-100 dark:border-nordic-dark-bg mr-auto rounded-bl-none"}`,children:[h.jsx("p",{className:"text-slate-700 dark:text-slate-200 text-sm leading-relaxed",children:ae.text}),h.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-right",children:new Date(ae.createdAt).toLocaleString()})]},ae.id))]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-nordic-charcoal flex gap-2",children:[h.jsx("input",{value:m,onChange:ae=>b(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&Te(),placeholder:"Skriv en kommentar...",className:"flex-1 p-3 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 dark:text-white"}),h.jsx("button",{onClick:Te,disabled:!m.trim(),className:"p-3 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:h.jsx($v,{size:18})})]})]})]})]})]}),q&&h.jsx(YC,{context:q,projectId:d,onClose:()=>V(null),onUpdateTask:ae=>{r(ae),V(le=>le?{...le,task:ae}:null)}})]})},OB=({task:t,tasks:e,onClick:n,onUpdateTask:r,isTaskBlocked:i,getTaskTypeInfo:o,getDifficultyInfo:a,getPriorityColor:l,getStatusColor:u,style:d,isDragging:p,dragAttributes:g,dragListeners:m})=>{var V,B,F;const[b,E]=T.useState(!1),[A,_]=T.useState(t.title),C=T.useRef(null);T.useEffect(()=>{b&&C.current&&C.current.focus()},[b]);const N=()=>{E(!1),A.trim()!==t.title&&r({...t,title:A.trim()})},I=ne=>{ne.key==="Enter"&&N(),ne.key==="Escape"&&(_(t.title),E(!1))},D=ne=>{ne.stopPropagation();let W=et.TODO;t.status===et.IDEA?W=et.TODO:t.status===et.TODO?W=et.IN_PROGRESS:t.status===et.IN_PROGRESS?W=et.DONE:t.status===et.DONE&&(W=et.TODO),r({...t,status:W})},{blocked:L,blockedBy:M}=i(t,e),P=t.subtasks||[],z=P.filter(ne=>ne.completed).length,U=o(t.type),q=a(t.difficultyLevel);return h.jsxs("div",{style:d,...g,...m,onClick:()=>!b&&n(t),className:`group relative p-5 rounded-2xl border transition-all duration-300 hover:-translate-y-1 hover:shadow-lg flex flex-col justify-between cursor-pointer bg-white dark:bg-nordic-dark-bg ${L?"bg-slate-100 dark:bg-slate-900/50 border-slate-300 dark:border-slate-700 opacity-60":t.status===et.DONE?"border-slate-100 dark:border-nordic-charcoal opacity-70 hover:opacity-100":"border-slate-200 dark:border-nordic-charcoal shadow-sm"}`,children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{className:"flex gap-1 flex-wrap",children:[h.jsx("span",{className:`text-[10px] px-2.5 py-1 rounded-full font-bold uppercase tracking-wider ${u(t.status)}`,children:t.status}),t.type&&h.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-bold uppercase border flex items-center gap-1 ${U.color}`,children:[h.jsx(U.icon,{size:10}),U.label]})]}),h.jsxs("div",{className:"flex gap-1 items-center",children:[q&&h.jsx("span",{className:"text-sm",title:q.label,children:q.icon}),t.priority&&h.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-bold uppercase border ${l(t.priority)}`,children:t.priority}),t.tags&&t.tags.includes("Kritisk")&&h.jsx("span",{className:"text-rose-500 animate-pulse",children:h.jsx(sp,{size:16})})]})]}),h.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[L&&h.jsx("div",{className:"mt-0.5 text-amber-500 dark:text-amber-400",title:`Blockeras av: ${M.map(ne=>ne.title).join(", ")}`,children:h.jsx(Ig,{size:18})}),h.jsx("div",{className:"flex-1",onDoubleClick:ne=>{ne.stopPropagation(),E(!0)},children:b?h.jsx("input",{ref:C,value:A,onChange:ne=>_(ne.target.value),onBlur:N,onKeyDown:I,onClick:ne=>ne.stopPropagation(),className:"w-full font-bold text-lg p-1 rounded border border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:bg-nordic-dark-surface dark:text-nordic-ice"}):h.jsx("h4",{className:`font-bold text-lg leading-snug ${L?"text-slate-400 dark:text-slate-600":t.status===et.DONE?"text-slate-500 dark:text-nordic-dark-muted line-through decoration-2 decoration-slate-300":"text-nordic-charcoal dark:text-nordic-ice"}`,title:"Double click to edit",children:t.title})})]}),L&&h.jsx("div",{className:"mb-3 p-2 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900/40 rounded-lg",children:h.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200 font-medium",children:[" Vntar p: ",M.map(ne=>ne.title).join(", ")]})}),t.sprint&&h.jsxs("div",{className:"mb-2 inline-flex items-center gap-1.5 px-2 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-md text-xs font-medium border border-indigo-100 dark:border-indigo-900/30",children:[h.jsx(hJ,{size:12}),t.sprint]}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted leading-relaxed mb-4 line-clamp-2",children:t.description})]}),h.jsxs("div",{className:"flex flex-col gap-3 mt-2 pt-4 border-t border-slate-50 dark:border-nordic-charcoal",children:[h.jsxs("div",{className:"flex gap-3 text-slate-400",children:[P.length>0&&h.jsxs("div",{className:`flex items-center gap-1 text-xs ${z===P.length?"text-green-500":"text-slate-400"}`,children:[h.jsx(pA,{size:14}),h.jsxs("span",{children:[z,"/",P.length]})]}),((V=t.comments)==null?void 0:V.length)>0&&h.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h.jsx(fA,{size:14}),h.jsx("span",{children:t.comments.length})]}),((B=t.attachments)==null?void 0:B.length)>0&&h.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h.jsx(W3,{size:14}),h.jsx("span",{children:t.attachments.length})]}),((F=t.links)==null?void 0:F.length)>0&&h.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h.jsx(gX,{size:14}),h.jsx("span",{children:t.links.length})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Estimat"}),h.jsxs("span",{className:"text-sm font-mono text-slate-600 dark:text-slate-300",children:[t.estimatedCostMin,"-",t.estimatedCostMax," kr"]})]}),h.jsx("button",{onClick:D,className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${t.status===et.DONE?"bg-nordic-green text-green-800 scale-110 shadow-inner":"bg-slate-100 dark:bg-nordic-charcoal text-slate-400 hover:bg-nordic-blue hover:text-blue-800 hover:scale-110"}`,children:h.jsx(Op,{size:20,strokeWidth:t.status===et.DONE?3:2})})]})]})]})},Hye=t=>{const{attributes:e,listeners:n,setNodeRef:r,transform:i,transition:o,isDragging:a}=HF({id:t.task.id}),l={transform:i?Fs.Transform.toString(i):void 0,transition:o,opacity:a?.4:1,zIndex:a?50:void 0};return h.jsx("div",{ref:r,style:l,children:h.jsx(OB,{...t,dragAttributes:e,dragListeners:n,isDragging:a})})},N5=(t,e)=>{if(!t.dependencies||t.dependencies.length===0)return{blocked:!1,blockedBy:[]};const n=e.filter(r=>{var i;return((i=t.dependencies)==null?void 0:i.includes(r.id))&&r.status!==et.DONE});return{blocked:n.length>0,blockedBy:n}},R5=t=>{switch(t){case So.REPAIR:return{icon:Po,color:"text-orange-600 bg-orange-50 border-orange-200 dark:bg-orange-900/20 dark:text-orange-300 dark:border-orange-800",label:"Reparation"};case So.PURCHASE:return{icon:J3,color:"text-purple-600 bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:text-purple-300 dark:border-purple-800",label:"Inkp"};case So.ADMIN:return{icon:Ou,color:"text-blue-600 bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",label:"Admin"};case So.RESEARCH:return{icon:lJ,color:"text-teal-600 bg-teal-50 border-teal-200 dark:bg-teal-900/20 dark:text-teal-300 dark:border-teal-800",label:"Research"};case So.UPGRADE:return{icon:Xh,color:"text-amber-600 bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-800",label:"Uppgradering"};case So.INSPECTION:return{icon:rT,color:"text-rose-600 bg-rose-50 border-rose-200 dark:bg-rose-900/20 dark:text-rose-300 dark:border-rose-800",label:"Inspektion"};case So.DIY:return{icon:Po,color:"text-indigo-600 bg-indigo-50 border-indigo-200 dark:bg-indigo-900/20 dark:text-indigo-300 dark:border-indigo-800",label:"DIY"};case So.SERVICE:return{icon:Po,color:"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-900/20 dark:text-slate-300 dark:border-slate-800",label:"Service"};default:return{icon:pA,color:"text-slate-500 bg-slate-50 border-slate-200 dark:bg-slate-800/50 dark:text-slate-400 dark:border-slate-700",label:"Uppgift"}}},P5=t=>{switch(t){case"Easy":return{color:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",label:"Enkel"};case"Medium":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800",label:"Medel"};case"Expert":return{color:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",label:"Expert"};default:return{color:"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-800/50 dark:text-slate-400 dark:border-slate-700",label:"Oknd"}}},Gye=({tasks:t,shoppingItems:e,vehicleData:n,onUpdateTask:r,onAddShoppingItem:i,initialFilter:o="ALL",initialSelectedTaskId:a,projectId:l})=>{const[u,d]=T.useState(new Set),[p,g]=T.useState("ALL"),[m,b]=T.useState(null),[E,A]=T.useState(null),_=MT(_x,{activationConstraint:{distance:5}}),C=MT(NF,{activationConstraint:{delay:150,tolerance:5}}),N=mF(_,C);T.useEffect(()=>{if(a){const W=t.find(X=>X.id===a);W&&(b(W),W.phase&&(g(W.phase),d(new Set([W.phase]))))}},[a,t]);const I=T.useMemo(()=>Array.from(new Set(t.map(X=>X.phase).filter(Boolean))).sort((X,Z)=>X==="Backlog"?1:Z==="Backlog"?-1:X.localeCompare(Z)),[t]);T.useEffect(()=>{a||(g(o),o!=="ALL"&&I.includes(o)?d(new Set([o])):I.length>0&&o==="ALL"&&u.size===0&&d(new Set([I[0]])))},[o,I,a]);const D=W=>{d(X=>{const Z=new Set(X);return Z.has(W)?Z.delete(W):Z.add(W),Z})},L=()=>d(new Set(P)),M=()=>d(new Set),P=p==="ALL"?I:[p],z=t.filter(W=>W.status===et.IDEA),U=t.filter(W=>W.status!==et.IDEA),q=W=>{const X=t.find(Z=>Z.id===W.active.id);X&&A(X)},V=W=>{const{active:X,over:Z}=W;if(A(null),!Z)return;const oe=t.find(Y=>Y.id===X.id);if(!oe)return;let fe="";if(I.includes(Z.id))fe=Z.id;else{const Y=t.find(G=>G.id===Z.id);Y&&Y.phase&&(fe=Y.phase)}fe&&fe!==oe.phase&&r({...oe,phase:fe})},B=W=>{switch(W){case et.DONE:return"bg-nordic-green text-green-900 border-green-200 dark:bg-green-900/40 dark:text-green-200 dark:border-green-900";case et.IN_PROGRESS:return"bg-nordic-blue text-blue-900 border-blue-200 dark:bg-blue-900/40 dark:text-blue-200 dark:border-blue-900";case et.TODO:return"bg-nordic-pink text-rose-900 border-rose-200 dark:bg-rose-900/40 dark:text-rose-200 dark:border-rose-900";case et.IDEA:return"bg-amber-100 text-amber-900 border-amber-200 dark:bg-amber-900/40 dark:text-amber-200 dark:border-amber-900";default:return"bg-slate-100"}},F=W=>{switch(W){case Qi.HIGH:return"text-rose-600 bg-rose-50 dark:bg-rose-900/20 dark:text-rose-300 border-rose-100 dark:border-rose-900";case Qi.MEDIUM:return"text-amber-600 bg-amber-50 dark:bg-amber-900/20 dark:text-amber-300 border-amber-100 dark:border-amber-900";default:return"text-slate-500 bg-slate-50 dark:bg-slate-800 dark:text-slate-400 border-slate-100 dark:border-slate-700"}},ne=W=>{let X=et.TODO;W.status===et.IDEA?X=et.TODO:W.status===et.TODO?X=et.IN_PROGRESS:W.status===et.IN_PROGRESS?X=et.DONE:W.status===et.DONE&&(X=et.TODO),r({...W,status:X})};return h.jsx(zF,{sensors:N,collisionDetection:Kce,onDragStart:q,onDragEnd:V,children:h.jsxs("div",{className:"space-y-8 pb-20",children:[z.length>0&&h.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30 rounded-3xl border border-amber-100 dark:border-amber-900/50 p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"p-2 bg-white dark:bg-amber-900/50 rounded-xl text-amber-500 shadow-sm",children:h.jsx(Xh,{size:24})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-serif font-bold text-xl text-amber-900 dark:text-amber-100",children:"Idbanken"}),h.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Drmmar och tankar som inte r spikade n."})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:z.map(W=>h.jsxs("div",{onClick:()=>b(W),className:"bg-white/80 dark:bg-nordic-dark-bg/80 backdrop-blur border border-amber-100 dark:border-amber-900/50 p-4 rounded-xl cursor-pointer hover:shadow-md transition-all hover:-translate-y-1",children:[h.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice mb-1",children:W.title}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-2",children:W.description}),h.jsx("div",{className:"mt-3 flex justify-end",children:h.jsx("button",{onClick:X=>{X.stopPropagation(),ne(W)},className:"text-[10px] font-bold uppercase tracking-wider text-amber-600 hover:bg-amber-100 px-2 py-1 rounded-md transition-colors",children:"Aktivera"})})]},W.id))})]}),h.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide sticky top-0 bg-nordic-ice/95 dark:bg-nordic-dark-bg/95 z-20 py-2 backdrop-blur-sm",children:[h.jsx("button",{onClick:()=>g("ALL"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${p==="ALL"?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:"Alla Faser"}),I.map(W=>h.jsx("button",{onClick:()=>g(W),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${p===W?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:W},W))]}),P.length>1&&h.jsxs("div",{className:"flex gap-2 justify-end",children:[h.jsxs("button",{onClick:L,className:"px-3 py-1.5 text-xs font-medium text-slate-600 dark:text-slate-300 bg-white dark:bg-nordic-dark-surface border border-slate-200 dark:border-nordic-charcoal rounded-lg hover:bg-slate-50 dark:hover:bg-nordic-charcoal transition-colors flex items-center gap-1.5",children:[h.jsx(CX,{size:14}),"Expandera alla"]}),h.jsxs("button",{onClick:M,className:"px-3 py-1.5 text-xs font-medium text-slate-600 dark:text-slate-300 bg-white dark:bg-nordic-dark-surface border border-slate-200 dark:border-nordic-charcoal rounded-lg hover:bg-slate-50 dark:hover:bg-nordic-charcoal transition-colors flex items-center gap-1.5",children:[h.jsx(jX,{size:14}),"Stng alla"]})]}),P.map(W=>{const X=U.filter(oe=>oe.phase===W),Z=u.has(W)||P.length===1;return X.length===0?null:h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm overflow-hidden transition-all duration-500 ease-in-out",children:[h.jsx("button",{onClick:()=>D(W),className:"w-full flex items-center justify-between p-6 bg-white dark:bg-nordic-dark-surface hover:bg-nordic-ice/30 dark:hover:bg-nordic-charcoal/30 transition-colors",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:`p-2.5 rounded-xl transition-colors ${Z?"bg-nordic-charcoal text-white dark:bg-teal-600":"bg-nordic-ice text-slate-500 dark:bg-nordic-charcoal dark:text-nordic-ice"}`,children:Z?h.jsx(xJ,{size:20}):h.jsx(B3,{size:20})}),h.jsxs("div",{className:"text-left",children:[h.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:W}),h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-nordic-dark-muted mt-1",children:[h.jsxs("span",{className:"bg-nordic-green/50 dark:bg-green-900/30 px-2 py-0.5 rounded-full text-xs text-green-900 dark:text-green-200 font-medium",children:[X.filter(oe=>oe.status===et.DONE).length," Klara"]}),h.jsx("span",{children:""}),h.jsxs("span",{children:[X.length," Totalt"]})]})]})]})}),Z&&h.jsxs("div",{className:"p-6 pt-0 bg-nordic-ice/20 dark:bg-black/10 border-t border-nordic-ice dark:border-nordic-dark-bg",children:[h.jsx("div",{className:"h-2"}),h.jsx(q0,{items:X.map(oe=>oe.id),strategy:$0,children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:X.map(oe=>h.jsx(Hye,{task:oe,tasks:t,onClick:b,onUpdateTask:r,isTaskBlocked:N5,getDifficultyInfo:P5,getPriorityColor:F,getStatusColor:B,getTaskTypeInfo:R5},oe.id))})})]})]},W)}),h.jsx(UF,{children:E?h.jsx("div",{className:"opacity-80 rotate-2 scale-105 cursor-grabbing pointer-events-none",children:h.jsx(OB,{task:E,tasks:t,onClick:()=>{},onUpdateTask:()=>{},isTaskBlocked:N5,getDifficultyInfo:P5,getPriorityColor:F,getStatusColor:B,getTaskTypeInfo:R5})}):null}),m&&h.jsx(qye,{task:m,vehicleData:n,shoppingItems:e,onUpdate:W=>{r(W),b(W)},onAddShoppingItem:i,onClose:()=>b(null),availablePhases:I,projectId:l})]})})},Kye=()=>{const[t,e]=$Y(),n=T.useCallback(a=>t.get(a),[t]),r=T.useCallback((a,l)=>{e(u=>{const d=new URLSearchParams(u);return l===null||l===""?d.delete(a):d.set(a,l),d})},[e]),i=T.useCallback(a=>{e(l=>{const u=new URLSearchParams(l);return Object.entries(a).forEach(([d,p])=>{p===null||p===""?u.delete(d):u.set(d,p)}),u})},[e]),o=T.useCallback(()=>{e(new URLSearchParams)},[e]);return{getParam:n,setParam:r,setParams:i,clearParams:o,searchParams:t}},DB=()=>{const{getParam:t,setParam:e,setParams:n}=Kye();return{phase:t("phase"),setPhase:r=>e("phase",r),taskId:t("taskId"),setTaskId:r=>e("taskId",r),itemId:t("itemId"),setItemId:r=>e("itemId",r),status:t("status"),setStatus:r=>e("status",r),setMultiple:n}},Wye=()=>{const{activeProject:t,updateTask:e}=Qs(),{phase:n,taskId:r}=DB();return t?h.jsx(Gye,{tasks:t.tasks,shoppingItems:t.shoppingItems,vehicleData:t.vehicleData,onUpdateTask:e,initialFilter:n||"ALL",initialSelectedTaskId:r,projectId:t.id}):null},Yye=({item:t,tasks:e,categories:n,vehicleData:r,onSave:i,onDelete:o,onClose:a,onOpenChat:l})=>{const[u,d]=T.useState(!1),[p,g]=T.useState({name:t.name,estimatedCost:t.estimatedCost||0,actualCost:t.actualCost||0,quantity:t.quantity||"1 st",store:t.store||"",category:t.category||"vrigt",url:t.url||"",linkedTaskId:t.linkedTaskId||"",status:t.status||ii.RESEARCH}),m=()=>{i({...t,name:p.name,estimatedCost:p.estimatedCost,actualCost:p.actualCost||void 0,quantity:p.quantity,store:p.store||void 0,category:p.category,url:p.url||void 0,linkedTaskId:p.linkedTaskId||void 0,status:p.status}),d(!1)},b=E=>{if(!E)return"";const A=e.find(_=>_.id===E);return(A==null?void 0:A.title)||""};return h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center",onClick:a,children:h.jsxs("div",{className:"bg-white w-full sm:w-[500px] sm:max-h-[85vh] max-h-[90vh] rounded-t-3xl sm:rounded-2xl overflow-hidden shadow-xl",onClick:E=>E.stopPropagation(),children:[h.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"font-bold text-lg text-slate-800",children:u?"Redigera":"Detaljer"}),!u&&h.jsx("button",{onClick:()=>d(!0),className:"p-1.5 hover:bg-slate-200 rounded-lg transition-colors",title:"Redigera",children:h.jsx(ob,{size:16,className:"text-slate-500"})})]}),h.jsx("button",{onClick:a,className:"p-2 hover:bg-slate-200 rounded-full","aria-label":"Stng",children:h.jsx(Mr,{size:20,className:"text-slate-500"})})]}),h.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto max-h-[60vh]",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Produktnamn"}),u?h.jsx("input",{type:"text",value:p.name,onChange:E=>g(A=>({...A,name:E.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}):h.jsx("p",{className:"text-base font-medium text-slate-800",children:t.name})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Estimerat pris"}),u?h.jsx("input",{type:"number",value:p.estimatedCost,onChange:E=>g(A=>({...A,estimatedCost:parseInt(E.target.value)||0})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):h.jsxs("p",{className:"text-xl font-mono font-bold text-slate-700",children:[t.estimatedCost||0," kr"]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Faktiskt pris"}),u?h.jsx("input",{type:"number",value:p.actualCost||"",onChange:E=>g(A=>({...A,actualCost:parseInt(E.target.value)||0})),placeholder:"0",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):h.jsxs("p",{className:"text-xl font-mono font-bold text-green-600",children:[t.actualCost||""," kr"]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Antal"}),u?h.jsx("input",{type:"text",value:p.quantity,onChange:E=>g(A=>({...A,quantity:E.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):h.jsx("p",{className:"text-sm text-slate-700",children:t.quantity||"1 st"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Kategori"}),u?h.jsx("select",{value:p.category,onChange:E=>g(A=>({...A,category:E.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none","aria-label":"Vlj kategori",children:n.map(E=>h.jsx("option",{value:E,children:E},E))}):h.jsx("span",{className:"text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded-full",children:t.category})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Butik"}),u?h.jsx("input",{type:"text",value:p.store,onChange:E=>g(A=>({...A,store:E.target.value})),placeholder:"T.ex. Biltema, Jula...",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):h.jsx("p",{className:"text-sm text-slate-700",children:t.store||""})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Produktlnk"}),u?h.jsx("input",{type:"url",value:p.url,onChange:E=>g(A=>({...A,url:E.target.value})),placeholder:"https://...",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):t.url?h.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate block",children:t.url}):h.jsx("p",{className:"text-sm text-slate-400",children:"Ingen lnk"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Kopplad uppgift"}),u?h.jsxs("select",{value:p.linkedTaskId,onChange:E=>g(A=>({...A,linkedTaskId:E.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[h.jsx("option",{value:"",children:"Ingen koppling"}),e.map(E=>h.jsx("option",{value:E.id,children:E.title},E.id))]}):h.jsx("p",{className:"text-sm text-blue-600",children:b(t.linkedTaskId)||""})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Status"}),u?h.jsxs("select",{value:p.status,onChange:E=>g(A=>({...A,status:E.target.value})),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[h.jsx("option",{value:ii.RESEARCH,children:"Jmfr"}),h.jsx("option",{value:ii.DECIDED,children:"Bestmt"}),h.jsx("option",{value:ii.BOUGHT,children:"Kpt"})]}):h.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${t.checked?"bg-green-100 text-green-700":t.status===ii.DECIDED?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:t.checked?"Kpt":t.status||"Jmfr"})]}),!u&&t.options&&t.options.length>0&&h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase text-slate-400 font-bold mb-2",children:"Jmfr alternativ"}),h.jsx("div",{className:"space-y-2",children:t.options.map((E,A)=>h.jsxs("div",{className:`p-3 rounded-lg border ${t.selectedOptionId===E.id?"border-blue-500 bg-blue-50":"border-slate-200"}`,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"font-medium text-sm",children:E.store}),h.jsxs("span",{className:"font-mono text-sm font-bold",children:[E.totalCost," kr"]})]}),E.shelfLocation&&h.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[" ",E.shelfLocation]})]},A))})]})]}),h.jsx("div",{className:"p-4 border-t border-slate-100 flex gap-2 bg-slate-50",children:u?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-3 bg-slate-200 text-slate-700 rounded-xl font-medium text-sm hover:bg-slate-300",children:"Avbryt"}),h.jsxs("button",{onClick:m,className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-medium text-sm hover:bg-green-700 flex items-center justify-center gap-2",children:[h.jsx(QX,{size:16})," Spara"]})]}):h.jsxs(h.Fragment,{children:[r&&h.jsxs("button",{onClick:l,className:"flex-1 py-3 bg-blue-600 text-white rounded-xl font-medium text-sm hover:bg-blue-700 flex items-center justify-center gap-2",children:[h.jsx(Ng,{size:16})," Prata med ELTON"]}),h.jsxs("button",{onClick:()=>d(!0),className:"py-3 px-4 bg-slate-200 text-slate-700 rounded-xl font-medium text-sm hover:bg-slate-300 flex items-center justify-center gap-2",children:[h.jsx(ob,{size:16})," Redigera"]}),h.jsx("button",{onClick:o,className:"p-3 bg-red-50 text-red-600 rounded-xl hover:bg-red-100","aria-label":"Ta bort",children:h.jsx(ic,{size:18})})]})})]})})},Jye=({items:t,tasks:e=[],vehicleData:n,projectId:r,onToggle:i,onAdd:o,onUpdate:a,onDelete:l,onUploadReceipt:u,filterByTaskId:d})=>{const[p,g]=T.useState(""),[m,b]=T.useState(""),[E,A]=T.useState("Reservdelar"),[_,C]=T.useState("Alla"),[N,I]=T.useState("category"),[D,L]=T.useState(null),[M,P]=T.useState(null),[z,U]=T.useState("all"),[q,V]=T.useState("all"),B=["Reservdelar","Kemi & Frg","Verktyg","Inredning","vrigt"],F=G=>{n&&P({type:"shopping_item",item:G,vehicleData:n,relatedTasks:e})},ne=()=>{p.trim()&&(o({name:p,estimatedCost:parseInt(m)||0,category:E,quantity:"1 st",checked:!1,status:ii.RESEARCH}),g(""),b(""))},W=T.useMemo(()=>{const G=new Set;return e.forEach(J=>{J.phase&&G.add(J.phase),J.mechanicalPhase&&G.add(J.mechanicalPhase),J.buildPhase&&G.add(J.buildPhase)}),Array.from(G).sort()},[e]),X=T.useMemo(()=>{let G=d?t.filter(J=>J.linkedTaskId===d):t;return z!=="all"&&(G=G.filter(J=>(J.status||(J.checked?ii.BOUGHT:ii.RESEARCH))===z)),q!=="all"&&(G=G.filter(J=>{if(!J.linkedTaskId)return!1;const $=e.find(be=>be.id===J.linkedTaskId);return $?$.phase===q||$.mechanicalPhase===q||$.buildPhase===q:!1})),G},[t,d,z,q,e]),Z=G=>{if(!G)return"Okopplad";const J=e.find($=>$.id===G);return(J==null?void 0:J.title)||"Okopplad"},oe=T.useMemo(()=>{const G=new Map;return X.forEach(J=>{let $;switch(N){case"task":$=Z(J.linkedTaskId);break;case"store":$=J.store||"Ingen butik vald";break;case"category":default:$=J.category||"vrigt"}_!=="Alla"&&N==="category"&&$!==_||(G.has($)||G.set($,[]),G.get($).push(J))}),Array.from(G.entries()).sort((J,$)=>J[0].localeCompare($[0]))},[X,N,_]),fe=X.reduce((G,J)=>G+(J.estimatedCost||0),0);X.reduce((G,J)=>G+(J.actualCost||0),0);const Y=X.filter(G=>G.checked).length;return h.jsxs("div",{className:"min-h-screen bg-[#f5f3f0] pb-24 sm:pb-20",children:[h.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-20",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-3 sm:py-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[h.jsxs("span",{className:"text-xs sm:text-sm text-slate-500",children:[h.jsx("span",{className:"font-bold text-slate-700",children:Y}),"/",X.length," klara"]}),h.jsx("span",{className:"hidden sm:inline text-sm text-slate-400",children:""}),h.jsxs("span",{className:"text-xs sm:text-sm text-slate-500",children:["Est: ",h.jsx("span",{className:"font-mono font-bold text-slate-700",children:fe.toLocaleString()})," kr"]})]}),h.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-0.5",children:[h.jsxs("button",{onClick:()=>I("category"),className:`p-1.5 sm:px-2 sm:py-1 rounded-md text-xs flex items-center gap-1 ${N==="category"?"bg-white shadow-sm text-slate-700":"text-slate-500"}`,title:"Visa per kategori",children:[h.jsx(mQ,{size:14}),h.jsx("span",{className:"hidden sm:inline",children:"Kategori"})]}),h.jsxs("button",{onClick:()=>I("task"),className:`p-1.5 sm:px-2 sm:py-1 rounded-md text-xs flex items-center gap-1 ${N==="task"?"bg-white shadow-sm text-slate-700":"text-slate-500"}`,title:"Visa per task",children:[h.jsx(bX,{size:14}),h.jsx("span",{className:"hidden sm:inline",children:"Task"})]}),h.jsxs("button",{onClick:()=>I("store"),className:`p-1.5 sm:px-2 sm:py-1 rounded-md text-xs flex items-center gap-1 ${N==="store"?"bg-white shadow-sm text-slate-700":"text-slate-500"}`,title:"Visa per butik",children:[h.jsx(hQ,{size:14}),h.jsx("span",{className:"hidden sm:inline",children:"Butik"})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Status"}),h.jsxs("select",{value:z,onChange:G=>U(G.target.value),className:"w-full px-3 py-1.5 text-xs border border-slate-200 rounded-lg bg-white text-slate-700 outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"all",children:"Alla"}),h.jsx("option",{value:ii.RESEARCH,children:" Jmfr"}),h.jsx("option",{value:ii.DECIDED,children:" Bestmt"}),h.jsx("option",{value:ii.BOUGHT,children:" Kpt"})]})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Fas"}),h.jsxs("select",{value:q,onChange:G=>V(G.target.value),className:"w-full px-3 py-1.5 text-xs border border-slate-200 rounded-lg bg-white text-slate-700 outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"all",children:"Alla faser"}),W.map(G=>h.jsx("option",{value:G,children:G},G))]})]}),(z!=="all"||q!=="all")&&h.jsx("button",{onClick:()=>{U("all"),V("all")},className:"self-end px-3 py-1.5 text-xs bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-colors whitespace-nowrap",children:"Rensa filter"})]}),N==="category"&&h.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0 scrollbar-hide",children:["Alla",...B].map(G=>h.jsx("button",{onClick:()=>C(G),className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-medium whitespace-nowrap transition-all ${_===G?"bg-[#2c2c2c] text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:G},G))}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 bg-[#f5f3f0] rounded-lg p-3 mt-3",children:[h.jsx("input",{placeholder:"Vad behver du?",value:p,onChange:G=>g(G.target.value),onKeyDown:G=>G.key==="Enter"&&ne(),className:"flex-1 bg-transparent border-none outline-none text-sm text-slate-700 placeholder-slate-400"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("select",{value:E,onChange:G=>A(G.target.value),className:"bg-white border border-slate-200 rounded-lg px-2 py-1.5 text-xs sm:text-sm text-slate-700 outline-none flex-1 sm:flex-none","aria-label":"Vlj kategori",children:B.map(G=>h.jsx("option",{value:G,children:G},G))}),h.jsx("input",{type:"number",placeholder:"Pris",value:m,onChange:G=>b(G.target.value),className:"w-20 sm:w-24 bg-white border border-slate-200 rounded-lg px-2 py-1.5 text-xs sm:text-sm text-slate-700 outline-none"}),h.jsx("button",{onClick:ne,disabled:!p.trim(),className:"bg-[#2c2c2c] text-white rounded-full p-2 hover:bg-[#1a1a1a] disabled:opacity-50 transition-all","aria-label":"Lgg till",children:h.jsx(ja,{size:18})})]})]})]})}),h.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-4 sm:py-6",children:oe.length===0?h.jsxs("div",{className:"text-center py-16 sm:py-20",children:[h.jsx(Qh,{size:40,className:"mx-auto text-slate-300 mb-4"}),h.jsx("p",{className:"text-slate-400 text-base sm:text-lg",children:"Inga items att visa"}),h.jsx("p",{className:"text-slate-400 text-xs sm:text-sm mt-1",children:"Lgg till din frsta item ovan"})]}):h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:oe.map(([G,J])=>h.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[h.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider truncate pr-2",children:G}),h.jsxs("span",{className:"text-xs text-slate-400 flex-shrink-0",children:[J.length," st"]})]}),h.jsx("div",{className:"space-y-2",children:J.map($=>{const be=e.find(_e=>_e.id===$.linkedTaskId);return h.jsxs("div",{onClick:()=>L($),className:`bg-white rounded-lg p-3 sm:p-4 flex items-center gap-2 sm:gap-3 hover:shadow-md transition-all cursor-pointer active:scale-[0.99] ${$.checked?"opacity-60":""}`,children:[h.jsx("button",{onClick:_e=>{_e.stopPropagation(),i($.id)},className:"flex-shrink-0 touch-manipulation","aria-label":$.checked?"Markera som ej kpt":"Markera som kpt",children:$.checked?h.jsx(An,{size:22,className:"text-green-500"}):h.jsx(Ns,{size:22,className:"text-slate-300"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:`text-sm font-medium truncate ${$.checked?"text-slate-400 line-through":"text-slate-700"}`,children:$.name}),h.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-0.5 flex-wrap",children:[$.quantity&&h.jsx("span",{className:"text-[10px] sm:text-xs text-slate-400",children:$.quantity}),$.estimatedCost>0&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-[10px] text-slate-300",children:""}),h.jsxs("span",{className:"text-[10px] sm:text-xs text-slate-500 font-mono",children:[$.estimatedCost," kr"]})]}),be&&N!=="task"&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-[10px] text-slate-300",children:""}),h.jsx("span",{className:"text-[10px] sm:text-xs text-blue-500 truncate max-w-[100px]",children:be.title})]})]})]}),h.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[n&&h.jsx("button",{onClick:_e=>{_e.stopPropagation(),F($)},className:"p-1.5 text-blue-500 hover:bg-blue-50 rounded-full transition-colors",title:"Prata med ELTON",children:h.jsx(Ng,{size:16})}),$.url&&h.jsx("a",{href:$.url,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 text-slate-400 hover:bg-slate-50 rounded-full transition-colors",onClick:_e=>_e.stopPropagation(),title:"ppna lnk",children:h.jsx(lp,{size:16})})]})]},$.id)})})]},G))})}),D&&h.jsx(Yye,{item:D,tasks:e,categories:B,vehicleData:n,onSave:G=>{a(G),L(G)},onDelete:()=>{l(D.id),L(null)},onClose:()=>L(null),onOpenChat:()=>{F(D),L(null)}}),M&&h.jsx(YC,{context:M,projectId:r,onClose:()=>P(null),onUpdateItem:G=>{a(G),P(J=>J?{...J,item:G}:null)}})]})},Xye=()=>{const{activeProject:t,addShoppingItem:e,updateShoppingItem:n,deleteShoppingItem:r}=Qs(),{taskId:i}=DB();if(!t)return null;const o=async(l,u)=>{console.warn("Receipt upload not yet implemented in routing version")},a=l=>{const u=t.shoppingItems.find(d=>d.id===l);u&&n({...u,checked:!u.checked})};return h.jsx(Jye,{items:t.shoppingItems,tasks:t.tasks,vehicleData:t.vehicleData,projectId:t.id,onAdd:e,onDelete:r,onToggle:a,onUpdate:n,onUploadReceipt:o,filterByTaskId:i||void 0})},Qye=({contacts:t,onUpdate:e,featureLocation:n="vehicleSpecs"})=>{const[r,i]=T.useState(""),[o,a]=T.useState("all"),[l,u]=T.useState(!1),[d,p]=T.useState(null),g=["all","Mrkesverkstad","Service & Akut","Specialist","Veteran & Kaross","Frskring & Rddning"],m=I=>{switch(I){case"Mrkesverkstad":return h.jsx(nb,{size:16,className:"text-blue-600"});case"Service & Akut":return h.jsx(Po,{size:16,className:"text-orange-600"});case"Specialist":return h.jsx(uJ,{size:16,className:"text-purple-600"});case"Veteran & Kaross":return h.jsx(iT,{size:16,className:"text-teal-600"});case"Frskring & Rddning":return h.jsx(iT,{size:16,className:"text-red-600"})}},b=I=>{switch(I){case"Mrkesverkstad":return"bg-blue-50 text-blue-700 border-blue-200";case"Service & Akut":return"bg-orange-50 text-orange-700 border-orange-200";case"Specialist":return"bg-purple-50 text-purple-700 border-purple-200";case"Veteran & Kaross":return"bg-teal-50 text-teal-700 border-teal-200";case"Frskring & Rddning":return"bg-red-50 text-red-700 border-red-200"}},E=T.useMemo(()=>{let I=t||[];if(o!=="all"&&(I=I.filter(D=>D.category===o)),r){const D=r.toLowerCase();I=I.filter(L=>L.name.toLowerCase().includes(D)||L.phone.includes(D)||L.location.toLowerCase().includes(D)||L.specialty.toLowerCase().includes(D))}return I},[t,o,r]),A=T.useMemo(()=>{const I={};return E.forEach(D=>{I[D.category]||(I[D.category]=[]),I[D.category].push(D)}),I},[E]),_=I=>{confirm(`Ta bort kontakt: ${I.name}?`)&&e(t.filter(D=>D.name!==I.name||D.phone!==I.phone))},C=I=>{p(I),u(!0)},N=I=>{if(d){const D=t.findIndex(M=>M.name===d.name&&M.phone===d.phone),L=[...t];L[D]=I,e(L)}else e([...t||[],I]);u(!1),p(null)};return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(xu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),h.jsx("input",{type:"text",placeholder:"Sk kontakter...",value:r,onChange:I=>i(I.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500/20"})]}),h.jsxs("button",{onClick:()=>{p(null),u(!0)},className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-xl font-medium flex items-center gap-2 transition-colors",children:[h.jsx(ja,{size:18}),"Lgg till"]})]}),h.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:g.map(I=>h.jsxs("button",{onClick:()=>a(I),className:`px-3 py-1.5 rounded-lg text-xs font-bold whitespace-nowrap transition-colors ${o===I?"bg-teal-600 text-white":"bg-slate-100 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-nordic-dark-bg"}`,children:[I==="all"?"Alla":I,I!=="all"&&t&&` (${t.filter(D=>D.category===I).length})`]},I))}),E.length===0?h.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl",children:[h.jsx(qv,{size:48,className:"mx-auto text-slate-300 mb-3"}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r||o!=="all"?"Inga kontakter matchar dina filter":"Inga kontakter nnu. Lgg till din frsta kontakt!"})]}):h.jsx("div",{className:"space-y-6",children:Object.entries(A).map(([I,D])=>h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m(I),h.jsx("h3",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:I}),h.jsxs("span",{className:"text-xs text-slate-400",children:["(",D==null?void 0:D.length,")"]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:D==null?void 0:D.map((L,M)=>h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow group",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-1",children:L.name}),h.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded border ${b(L.category)}`,children:L.specialty})]}),h.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:()=>C(L),className:"p-1.5 text-slate-400 hover:text-teal-600 hover:bg-teal-50 dark:hover:bg-teal-900/20 rounded transition-colors",children:h.jsx(ob,{size:14})}),h.jsx("button",{onClick:()=>_(L),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:h.jsx(ic,{size:14})})]})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsxs("a",{href:`tel:${L.phone}`,className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",children:[h.jsx(hA,{size:14}),L.phone]}),h.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(L.location)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",children:[h.jsx(Kd,{size:14}),L.location]})]}),L.note&&h.jsx("p",{className:"mt-2 pt-2 border-t border-slate-100 dark:border-nordic-charcoal text-xs text-slate-500 dark:text-slate-400 italic",children:L.note})]},M))})]},I))}),l&&h.jsx(Zye,{contact:d,onSave:N,onClose:()=>{u(!1),p(null)}})]})},Zye=({contact:t,onSave:e,onClose:n})=>{const[r,i]=T.useState(t||{name:"",phone:"",location:"",category:"Mrkesverkstad",specialty:"",note:""}),o=a=>{a.preventDefault(),!(!r.name||!r.phone)&&e(r)};return h.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-lg w-full shadow-2xl",children:[h.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 p-6 text-white rounded-t-3xl",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-2xl font-bold",children:t?"Redigera Kontakt":"Ny Kontakt"}),h.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:h.jsx(Mr,{size:24})})]})}),h.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Namn *"}),h.jsx("input",{type:"text",value:r.name,onChange:a=>i({...r,name:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Volvo Center Stockholm",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Kategori *"}),h.jsxs("select",{value:r.category,onChange:a=>i({...r,category:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0,children:[h.jsx("option",{value:"Mrkesverkstad",children:"Mrkesverkstad"}),h.jsx("option",{value:"Service & Akut",children:"Service & Akut"}),h.jsx("option",{value:"Specialist",children:"Specialist"}),h.jsx("option",{value:"Veteran & Kaross",children:"Veteran & Kaross"}),h.jsx("option",{value:"Frskring & Rddning",children:"Frskring & Rddning"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Specialitet"}),h.jsx("input",{type:"text",value:r.specialty,onChange:a=>i({...r,specialty:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Elmekaniker, Rostskador, etc."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Telefon *"}),h.jsx("input",{type:"tel",value:r.phone,onChange:a=>i({...r,phone:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"08-123 45 67",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Plats"}),h.jsx("input",{type:"text",value:r.location,onChange:a=>i({...r,location:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Stockholm, Gteborg, etc."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Anteckningar"}),h.jsx("textarea",{value:r.note,onChange:a=>i({...r,note:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",rows:3,placeholder:"Valfria anteckningar..."})]}),h.jsxs("div",{className:"flex gap-2 pt-4",children:[h.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-medium transition-colors",children:"Spara"}),h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]})]})})},MB="vanplan_user_location",e0e=1440*60*1e3,t0e=()=>new Promise((t,e)=>{if(!navigator.geolocation){e(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(async n=>{const{latitude:r,longitude:i}=n.coords;try{const a=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${r}&lon=${i}&zoom=10&addressdetails=1`,{headers:{"User-Agent":"VanPlan/1.0"}})).json(),l={city:a.address.city||a.address.town||a.address.village||a.address.municipality||"Oknd ort",region:a.address.state||a.address.county||"",country:a.address.country||"Sverige",coordinates:{lat:r,lng:i},source:"gps",lastUpdated:new Date().toISOString()};YT(l),t(l)}catch{const a={city:"Oknd ort",region:"",country:"Sverige",coordinates:{lat:r,lng:i},source:"gps",lastUpdated:new Date().toISOString()};YT(a),t(a)}},n=>{e(new Error(`GPS error: ${n.message}`))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),n0e=async()=>{try{const e=await(await fetch("https://ipapi.co/json/")).json(),n={city:e.city||"Oknd ort",region:e.region||"",country:e.country_name||"Sverige",coordinates:{lat:e.latitude,lng:e.longitude},source:"ip",lastUpdated:new Date().toISOString()};return YT(n),n}catch{throw new Error("Could not determine location from IP")}},r0e=async()=>{const t=i0e();if(t&&!o0e(t))return t;try{return await t0e()}catch{console.log("GPS unavailable, falling back to IP location");try{return await n0e()}catch{return console.error("Both GPS and IP location failed"),t||null}}},YT=t=>{try{localStorage.setItem(MB,JSON.stringify(t))}catch(e){console.error("Failed to cache location:",e)}},i0e=()=>{try{const t=localStorage.getItem(MB);if(t)return JSON.parse(t)}catch(t){console.error("Failed to get cached location:",t)}return null},o0e=t=>{const e=new Date(t.lastUpdated).getTime();return Date.now()-e>e0e},hE=t=>t<1?`${Math.round(t*1e3)} m`:t<10?`${t.toFixed(1)} km`:`${Math.round(t)} km`,a0e=t=>{const e=Math.round(t/60*60);if(e<60)return`${e} min`;{const n=Math.floor(e/60),r=e%60;return r>0?`${n} h ${r} min`:`${n} h`}},s0e=({userLocation:t,vehicleMake:e,onAddContact:n,onRequestLocation:r})=>{const[i,o]=T.useState([]),[a,l]=T.useState(!1),[u,d]=T.useState(null),[p,g]=T.useState(2e4),[m,b]=T.useState(null);T.useEffect(()=>{t&&E()},[t,p]);const E=async()=>{if(t){d("Google Places API-nyckel saknas. Lgg till VITE_GOOGLE_PLACES_API_KEY i .env");return}},A=C=>{const N=_(C.name,C.types),I={name:C.name,phone:C.formatted_phone_number||"Ej tillgnglig",location:C.vicinity,category:N,specialty:e?`${e}-specialist`:"Bilverkstad",note:C.rating?`Betyg: ${C.rating} (${C.user_ratings_total} recensioner). Avstnd: ${hE(C.distance)}`:`Avstnd: ${hE(C.distance)}`};n(I),b(null)},_=(C,N)=>{const I=C.toLowerCase();return e&&I.includes(e.toLowerCase())?"Mrkesverkstad":I.includes("veteran")||I.includes("klassiker")||I.includes("kaross")?"Veteran & Kaross":(I.includes("akut")||I.includes("service"),"Service & Akut")};return t?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Verkstder nra dig"}),h.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Visar verkstder inom ",p/1e3," km frn ",t.city]})]}),h.jsx("button",{onClick:E,disabled:a,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-dark-bg rounded-xl transition-colors",title:"Uppdatera skning",children:h.jsx(JX,{size:20,className:`${a?"animate-spin":""} dark:text-white`})})]}),h.jsx("div",{className:"flex gap-2",children:[10,20,40].map(C=>h.jsxs("button",{onClick:()=>g(C*1e3),className:`px-4 py-2 rounded-xl text-sm font-medium transition-colors ${p===C*1e3?"bg-teal-600 text-white":"bg-slate-100 dark:bg-nordic-dark-bg text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[C," km"]},C))})]}),u&&h.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-2xl flex items-start gap-3",children:[h.jsx(sp,{size:20,className:"text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-red-900 dark:text-red-200 font-medium",children:"Kunde inte hmta verkstder"}),h.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:u})]})]}),a&&h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx(ia,{size:32,className:"animate-spin text-teal-600"})}),!a&&i.length>0&&h.jsx("div",{className:"space-y-3",children:i.map(C=>{var N;return h.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl shadow-sm hover:shadow-md transition-shadow",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("h4",{className:"font-bold text-lg dark:text-white",children:C.name}),e&&C.name.toLowerCase().includes(e.toLowerCase())&&h.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium rounded-lg",children:e})]}),h.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400 mb-2",children:[C.rating&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(dQ,{size:14,className:"fill-yellow-400 text-yellow-400"}),h.jsx("span",{className:"font-medium",children:C.rating}),h.jsxs("span",{children:["(",C.user_ratings_total,")"]})]}),((N=C.opening_hours)==null?void 0:N.open_now)!==void 0&&h.jsx("span",{className:C.opening_hours.open_now?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:C.opening_hours.open_now?"ppet nu":"Stngt"})]}),h.jsxs("div",{className:"flex items-start gap-2 text-sm mb-2",children:[h.jsx(Kd,{size:14,className:"text-slate-400 flex-shrink-0 mt-0.5"}),h.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:C.vicinity})]}),C.distance&&h.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[h.jsxs("span",{className:"text-teal-600 dark:text-teal-400 font-medium",children:[hE(C.distance)," bort"]}),h.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["ca ",a0e(C.distance)]})]})]}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("button",{onClick:()=>A(C),className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[h.jsx(ja,{size:16}),"Lgg till"]}),C.formatted_phone_number&&h.jsxs("a",{href:`tel:${C.formatted_phone_number}`,className:"px-4 py-2 bg-slate-100 dark:bg-nordic-dark-bg hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[h.jsx(hA,{size:16}),"Ring"]}),h.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(C.name+" "+C.vicinity)}&query_place_id=${C.place_id}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-slate-100 dark:bg-nordic-dark-bg hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[h.jsx(lp,{size:16}),"Karta"]})]})]})},C.place_id)})}),!a&&i.length===0&&!u&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Kd,{size:48,className:"mx-auto mb-4 text-slate-400"}),h.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:["Inga verkstder hittades inom ",p/1e3," km."]}),h.jsxs("button",{onClick:()=>g(p*2),className:"mt-4 text-teal-600 dark:text-teal-400 hover:underline",children:["Sk inom ",p*2/1e3," km istllet"]})]})]}):h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm text-center",children:[h.jsx(Kd,{size:48,className:"mx-auto mb-4 text-slate-400"}),h.jsx("h3",{className:"text-xl font-bold mb-2 dark:text-white",children:"Aktivera platstjnster"}),h.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:"Fr att hitta verkstder i ditt omrde behver vi din plats."}),h.jsxs("button",{onClick:r,className:"px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white rounded-xl font-medium transition-colors flex items-center gap-2 mx-auto",children:[h.jsx(UX,{size:20}),"Aktivera platstjnster"]})]})},l0e=({events:t})=>{if(!t||t.length===0)return null;const e=[...t].sort((i,o)=>new Date(o.date).getTime()-new Date(i.date).getTime()),n=i=>{switch(i){case"owner_change":return qv;case"inspection":return rb;case"registration":return Ou;case"deregistration":return No;case"advertisement":return xu;default:return cp}},r=i=>{switch(i){case"owner_change":return"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400";case"inspection":return"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400";case"registration":return"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400";case"deregistration":return"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400";case"advertisement":return"bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400";default:return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}};return h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[h.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-6",children:"Fordonshistorik"}),h.jsx("div",{className:"relative border-l-2 border-slate-100 dark:border-nordic-dark-bg ml-3 space-y-8",children:e.map((i,o)=>{const a=n(i.type);return h.jsxs("div",{className:"relative pl-8",children:[h.jsx("div",{className:`absolute -left-[19px] p-2 rounded-full border-4 border-white dark:border-nordic-dark-surface ${r(i.type)}`,children:h.jsx(a,{size:14})}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-1",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:ug(new Date(i.date),"d MMM yyyy",{locale:Rx})}),h.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-base",children:i.title}),i.description&&h.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted mt-1",children:i.description}),i.location&&h.jsxs("p",{className:"text-xs text-slate-400 mt-0.5 flex items-center gap-1",children:[h.jsx(cp,{size:10})," ",i.location]})]}),h.jsxs("div",{className:"text-right mt-2 sm:mt-0",children:[i.mileage&&h.jsxs("div",{className:"text-sm font-mono font-bold text-teal-600 dark:text-teal-400",children:[i.mileage," mil"]}),i.price&&h.jsxs("div",{className:"text-sm font-mono font-bold text-amber-600 dark:text-amber-400",children:[i.price.toLocaleString()," kr"]})]})]})]},i.id||o)})}),h.jsx("div",{className:"mt-8 text-center",children:h.jsxs("p",{className:"text-xs text-slate-400 uppercase tracking-wider",children:["Totalt ",t.length," hndelser"]})})]})};var c0e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function JC(t){if(typeof t!="string")return!1;var e=c0e;return e.includes(t)}var u0e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],d0e=new Set(u0e);function zB(t){return typeof t!="string"?!1:d0e.has(t)}function jB(t){return typeof t=="string"&&t.startsWith("data-")}function Do(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(zB(n)||jB(n))&&(e[n]=t[n]);return e}function om(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Do(e)}return typeof t=="object"&&!Array.isArray(t)?Do(t):null}function ui(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(zB(n)||jB(n)||JC(n))&&(e[n]=t[n]);return e}function p0e(t){return t==null?null:T.isValidElement(t)?ui(t.props):typeof t=="object"&&!Array.isArray(t)?ui(t):null}var f0e=["children","width","height","viewBox","className","style","title","desc"];function JT(){return JT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JT.apply(null,arguments)}function h0e(t,e){if(t==null)return{};var n,r,i=g0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function g0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LB=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:l,title:u,desc:d}=t,p=h0e(t,f0e),g=o||{width:r,height:i,x:0,y:0},m=Ut("recharts-surface",a);return T.createElement("svg",JT({},ui(p),{className:m,width:r,height:i,style:l,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),T.createElement("title",null,u),T.createElement("desc",null,d),n)}),m0e=["children","className"];function XT(){return XT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XT.apply(null,arguments)}function y0e(t,e){if(t==null)return{};var n,r,i=b0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function b0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var di=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=y0e(t,m0e),o=Ut("recharts-layer",r);return T.createElement("g",XT({className:o},ui(i),{ref:e}),n)}),v0e=T.createContext(null);function rn(t){return function(){return t}}const UB=Math.cos,Gb=Math.sin,fa=Math.sqrt,Kb=Math.PI,Px=2*Kb,QT=Math.PI,ZT=2*QT,nu=1e-6,x0e=ZT-nu;function VB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function w0e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return VB;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class k0e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?VB:w0e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,l=this._y1,u=r-e,d=i-n,p=a-e,g=l-n,m=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>nu)if(!(Math.abs(g*u-d*p)>nu)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-a,E=i-l,A=u*u+d*d,_=b*b+E*E,C=Math.sqrt(A),N=Math.sqrt(m),I=o*Math.tan((QT-Math.acos((A+m-_)/(2*C*N)))/2),D=I/N,L=I/C;Math.abs(D-1)>nu&&this._append`L${e+D*p},${n+D*g}`,this._append`A${o},${o},0,0,${+(g*b>p*E)},${this._x1=e+L*u},${this._y1=n+L*d}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=e+l,p=n+u,g=1^a,m=a?i-o:o-i;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>nu||Math.abs(this._y1-p)>nu)&&this._append`L${d},${p}`,r&&(m<0&&(m=m%ZT+ZT),m>x0e?this._append`A${r},${r},0,1,${g},${e-l},${n-u}A${r},${r},0,1,${g},${this._x1=d},${this._y1=p}`:m>nu&&this._append`A${r},${r},0,${+(m>=QT)},${g},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function XC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new k0e(e)}function QC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function FB(t){this._context=t}FB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ox(t){return new FB(t)}function BB(t){return t[0]}function $B(t){return t[1]}function qB(t,e){var n=rn(!0),r=null,i=Ox,o=null,a=XC(l);t=typeof t=="function"?t:t===void 0?BB:rn(t),e=typeof e=="function"?e:e===void 0?$B:rn(e);function l(u){var d,p=(u=QC(u)).length,g,m=!1,b;for(r==null&&(o=i(b=a())),d=0;d<=p;++d)!(d<p&&n(g=u[d],d,u))===m&&((m=!m)?o.lineStart():o.lineEnd()),m&&o.point(+t(g,d,u),+e(g,d,u));if(b)return o=null,b+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:rn(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:rn(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:rn(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),l):r},l}function f0(t,e,n){var r=null,i=rn(!0),o=null,a=Ox,l=null,u=XC(d);t=typeof t=="function"?t:t===void 0?BB:rn(+t),e=typeof e=="function"?e:rn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?$B:rn(+n);function d(g){var m,b,E,A=(g=QC(g)).length,_,C=!1,N,I=new Array(A),D=new Array(A);for(o==null&&(l=a(N=u())),m=0;m<=A;++m){if(!(m<A&&i(_=g[m],m,g))===C)if(C=!C)b=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),E=m-1;E>=b;--E)l.point(I[E],D[E]);l.lineEnd(),l.areaEnd()}C&&(I[m]=+t(_,m,g),D[m]=+e(_,m,g),l.point(r?+r(_,m,g):I[m],n?+n(_,m,g):D[m]))}if(N)return l=null,N+""||null}function p(){return qB().defined(i).curve(a).context(o)}return d.x=function(g){return arguments.length?(t=typeof g=="function"?g:rn(+g),r=null,d):t},d.x0=function(g){return arguments.length?(t=typeof g=="function"?g:rn(+g),d):t},d.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:rn(+g),d):r},d.y=function(g){return arguments.length?(e=typeof g=="function"?g:rn(+g),n=null,d):e},d.y0=function(g){return arguments.length?(e=typeof g=="function"?g:rn(+g),d):e},d.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:rn(+g),d):n},d.lineX0=d.lineY0=function(){return p().x(t).y(e)},d.lineY1=function(){return p().x(t).y(n)},d.lineX1=function(){return p().x(r).y(e)},d.defined=function(g){return arguments.length?(i=typeof g=="function"?g:rn(!!g),d):i},d.curve=function(g){return arguments.length?(a=g,o!=null&&(l=a(o)),d):a},d.context=function(g){return arguments.length?(g==null?o=l=null:l=a(o=g),d):o},d}class HB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function E0e(t){return new HB(t,!0)}function _0e(t){return new HB(t,!1)}const ZC={draw(t,e){const n=fa(e/Kb);t.moveTo(n,0),t.arc(0,0,n,0,Px)}},T0e={draw(t,e){const n=fa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},GB=fa(1/3),S0e=GB*2,A0e={draw(t,e){const n=fa(e/S0e),r=n*GB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},C0e={draw(t,e){const n=fa(e),r=-n/2;t.rect(r,r,n,n)}},I0e=.8908130915292852,KB=Gb(Kb/10)/Gb(7*Kb/10),N0e=Gb(Px/10)*KB,R0e=-UB(Px/10)*KB,P0e={draw(t,e){const n=fa(e*I0e),r=N0e*n,i=R0e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Px*o/5,l=UB(a),u=Gb(a);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},gE=fa(3),O0e={draw(t,e){const n=-fa(e/(gE*3));t.moveTo(0,n*2),t.lineTo(-gE*n,-n),t.lineTo(gE*n,-n),t.closePath()}},Eo=-.5,_o=fa(3)/2,eS=1/fa(12),D0e=(eS/2+1)*3,M0e={draw(t,e){const n=fa(e/D0e),r=n/2,i=n*eS,o=r,a=n*eS+n,l=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(l,u),t.lineTo(Eo*r-_o*i,_o*r+Eo*i),t.lineTo(Eo*o-_o*a,_o*o+Eo*a),t.lineTo(Eo*l-_o*u,_o*l+Eo*u),t.lineTo(Eo*r+_o*i,Eo*i-_o*r),t.lineTo(Eo*o+_o*a,Eo*a-_o*o),t.lineTo(Eo*l+_o*u,Eo*u-_o*l),t.closePath()}};function z0e(t,e){let n=null,r=XC(i);t=typeof t=="function"?t:rn(t||ZC),e=typeof e=="function"?e:rn(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:rn(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:rn(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Wb(){}function Yb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function WB(t){this._context=t}WB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function j0e(t){return new WB(t)}function YB(t){this._context=t}YB.prototype={areaStart:Wb,areaEnd:Wb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Yb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function L0e(t){return new YB(t)}function JB(t){this._context=t}JB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Yb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function U0e(t){return new JB(t)}function XB(t){this._context=t}XB.prototype={areaStart:Wb,areaEnd:Wb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function V0e(t){return new XB(t)}function O5(t){return t<0?-1:1}function D5(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(o*i+a*r)/(r+i);return(O5(o)+O5(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(l))||0}function M5(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function mE(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,l=(o-r)/3;t._context.bezierCurveTo(r+l,i+l*e,o-l,a-l*n,o,a)}function Jb(t){this._context=t}Jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mE(this,this._t0,M5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,mE(this,M5(this,n=D5(this,t,e)),n);break;default:mE(this,this._t0,n=D5(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function QB(t){this._context=new ZB(t)}(QB.prototype=Object.create(Jb.prototype)).point=function(t,e){Jb.prototype.point.call(this,e,t)};function ZB(t){this._context=t}ZB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function F0e(t){return new Jb(t)}function B0e(t){return new QB(t)}function e8(t){this._context=t}e8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=z5(t),i=z5(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function z5(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function $0e(t){return new e8(t)}function Dx(t,e){this._context=t,this._t=e}Dx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function q0e(t){return new Dx(t,.5)}function H0e(t){return new Dx(t,0)}function G0e(t){return new Dx(t,1)}function xp(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,l=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function tS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function K0e(t,e){return t[e]}function W0e(t){const e=[];return e.key=t,e}function Y0e(){var t=rn([]),e=tS,n=xp,r=K0e;function i(o){var a=Array.from(t.apply(this,arguments),W0e),l,u=a.length,d=-1,p;for(const g of o)for(l=0,++d;l<u;++l)(a[l][d]=[0,+r(g,a[l].key,d,o)]).data=g;for(l=0,p=QC(e(a));l<u;++l)a[p[l]].index=l;return n(a,p),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:rn(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:rn(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?tS:typeof o=="function"?o:rn(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??xp,i):n},i}function J0e(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}xp(t,e)}}function X0e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}xp(t,e)}}function Q0e(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var l=0,u=0,d=0;l<a;++l){for(var p=t[e[l]],g=p[r][1]||0,m=p[r-1][1]||0,b=(g-m)/2,E=0;E<l;++E){var A=t[e[E]],_=A[r][1]||0,C=A[r-1][1]||0;b+=_-C}u+=g,d+=b*g}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,xp(t,e)}}var yE={},bE={},j5;function Z0e(){return j5||(j5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(bE)),bE}var vE={},L5;function t8(){return L5||(L5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(vE)),vE}var xE={},U5;function eI(){return U5||(U5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(xE)),xE}var wE={},kE={},V5;function ebe(){return V5||(V5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(kE)),kE}var F5;function tI(){return F5||(F5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ebe(),n=eI();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],a=i.length;if(a===0)return o;let l=0,u="",d="",p=!1;for(i.charCodeAt(0)===46&&(o.push(""),l++);l<a;){const g=i[l];d?g==="\\"&&l+1<a?(l++,u+=i[l]):g===d?d="":u+=g:p?g==='"'||g==="'"?d=g:g==="]"?(p=!1,o.push(u),u=""):u+=g:g==="["?(p=!0,u&&(o.push(u),u="")):g==="."?u&&(o.push(u),u=""):u+=g,l++}return u&&o.push(u),o}t.toPath=r})(wE)),wE}var B5;function nI(){return B5||(B5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z0e(),n=t8(),r=eI(),i=tI();function o(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return d;const p=l[u];return p===void 0?n.isDeepKey(u)?o(l,i.toPath(u),d):d:p}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const p=l[u];return p===void 0?d:p}default:{if(Array.isArray(u))return a(l,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return d;const p=l[u];return p===void 0?d:p}}}function a(l,u,d){if(u.length===0)return d;let p=l;for(let g=0;g<u.length;g++){if(p==null||e.isUnsafeProperty(u[g]))return d;p=p[u[g]]}return p===void 0?d:p}t.get=o})(yE)),yE}var EE,$5;function tbe(){return $5||($5=1,EE=nI().get),EE}var nbe=tbe();const wp=Lo(nbe);var Ri=t=>t===0?0:t>0?1:-1,Mo=t=>typeof t=="number"&&t!=+t,Bs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ue=t=>(typeof t=="number"||t instanceof Number)&&!Mo(t),Qa=t=>Ue(t)||typeof t=="string",rbe=0,dg=t=>{var e=++rbe;return"".concat(t||"").concat(e)},ca=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(e)&&typeof e!="string")return r;var o;if(Bs(e)){if(n==null)return r;var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Mo(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},n8=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function wn(t,e,n){return Ue(t)&&Ue(e)?t+n*(e-t):e}function r8(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):wp(r,e))===n)}var kn=t=>t===null||typeof t>"u",am=t=>kn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function ibe(t){return t!=null}function sm(){}var obe=["type","size","sizeType"];function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(null,arguments)}function q5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q5(Object(n),!0).forEach(function(r){abe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function abe(t,e,n){return(e=sbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sbe(t){var e=lbe(t,"string");return typeof e=="symbol"?e:e+""}function lbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cbe(t,e){if(t==null)return{};var n,r,i=ube(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ube(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var i8={symbolCircle:ZC,symbolCross:T0e,symbolDiamond:A0e,symbolSquare:C0e,symbolStar:P0e,symbolTriangle:O0e,symbolWye:M0e},dbe=Math.PI/180,pbe=t=>{var e="symbol".concat(am(t));return i8[e]||ZC},fbe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*dbe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},hbe=(t,e)=>{i8["symbol".concat(am(t))]=e},o8=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=cbe(t,obe),o=H5(H5({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var l=()=>{var m=pbe(a),b=z0e().type(m).size(fbe(n,r,a)),E=b();if(E!==null)return E},{className:u,cx:d,cy:p}=o,g=ui(o);return Ue(d)&&Ue(p)&&Ue(n)?T.createElement("path",nS({},g,{className:Ut("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(p,")"),d:l()})):null};o8.registerSymbol=hbe;var a8=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,rI=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{JC(i)&&(r[i]=(o=>n[i](n,o)))}),r},gbe=(t,e,n)=>r=>(t(e,n,r),null),iI=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];JC(i)&&typeof o=="function"&&(r||(r={}),r[i]=gbe(o,e,n))}),r};function G5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G5(Object(n),!0).forEach(function(r){ybe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ybe(t,e,n){return(e=bbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bbe(t){var e=vbe(t,"string");return typeof e=="symbol"?e:e+""}function vbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hi(t,e){var n=mbe({},t),r=e,i=Object.keys(e),o=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return o}var _E={},TE={},K5;function xbe(){return K5||(K5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],l=r(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(TE)),TE}var SE={},W5;function s8(){return W5||(W5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(SE)),SE}var AE={},CE={},IE={},Y5;function wbe(){return Y5||(Y5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(IE)),IE}var J5;function oI(){return J5||(J5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wbe();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(CE)),CE}var NE={},X5;function kbe(){return X5||(X5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(NE)),NE}var Q5;function Ebe(){return Q5||(Q5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oI(),n=kbe();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(AE)),AE}var RE={},PE={},Z5;function _be(){return Z5||(Z5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nI();function n(r){return function(i){return e.get(i,r)}}t.property=n})(PE)),PE}var OE={},DE={},ME={},zE={},ez;function l8(){return ez||(ez=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(zE)),zE}var jE={},tz;function c8(){return tz||(tz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(jE)),jE}var LE={},nz;function u8(){return nz||(nz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(LE)),LE}var rz;function Tbe(){return rz||(rz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l8(),n=c8(),r=u8();function i(p,g,m){return typeof m!="function"?i(p,g,()=>{}):o(p,g,function b(E,A,_,C,N,I){const D=m(E,A,_,C,N,I);return D!==void 0?!!D:o(E,A,b,I)},new Map)}function o(p,g,m,b){if(g===p)return!0;switch(typeof g){case"object":return a(p,g,m,b);case"function":return Object.keys(g).length>0?o(p,{...g},m,b):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function a(p,g,m,b){if(g==null)return!0;if(Array.isArray(g))return u(p,g,m,b);if(g instanceof Map)return l(p,g,m,b);if(g instanceof Set)return d(p,g,m,b);const E=Object.keys(g);if(p==null)return E.length===0;if(E.length===0)return!0;if(b!=null&&b.has(g))return b.get(g)===p;b==null||b.set(g,p);try{for(let A=0;A<E.length;A++){const _=E[A];if(!n.isPrimitive(p)&&!(_ in p)||g[_]===void 0&&p[_]!==void 0||g[_]===null&&p[_]!==null||!m(p[_],g[_],_,p,g,b))return!1}return!0}finally{b==null||b.delete(g)}}function l(p,g,m,b){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,A]of g.entries()){const _=p.get(E);if(m(_,A,E,p,g,b)===!1)return!1}return!0}function u(p,g,m,b){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let A=0;A<g.length;A++){const _=g[A];let C=!1;for(let N=0;N<p.length;N++){if(E.has(N))continue;const I=p[N];let D=!1;if(m(I,_,A,p,g,b)&&(D=!0),D){E.add(N),C=!0;break}}if(!C)return!1}return!0}function d(p,g,m,b){return g.size===0?!0:p instanceof Set?u([...p],[...g],m,b):!1}t.isMatchWith=i,t.isSetMatch=d})(ME)),ME}var iz;function d8(){return iz||(iz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tbe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(DE)),DE}var UE={},VE={},FE={},oz;function Sbe(){return oz||(oz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(FE)),FE}var BE={},az;function p8(){return az||(az=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(BE)),BE}var $E={},sz;function f8(){return sz||(sz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",p="[object Array]",g="[object Function]",m="[object ArrayBuffer]",b="[object Object]",E="[object Error]",A="[object DataView]",_="[object Uint8Array]",C="[object Uint8ClampedArray]",N="[object Uint16Array]",I="[object Uint32Array]",D="[object BigUint64Array]",L="[object Int8Array]",M="[object Int16Array]",P="[object Int32Array]",z="[object BigInt64Array]",U="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=m,t.arrayTag=p,t.bigInt64ArrayTag=z,t.bigUint64ArrayTag=D,t.booleanTag=i,t.dataViewTag=A,t.dateTag=l,t.errorTag=E,t.float32ArrayTag=U,t.float64ArrayTag=q,t.functionTag=g,t.int16ArrayTag=M,t.int32ArrayTag=P,t.int8ArrayTag=L,t.mapTag=u,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=N,t.uint32ArrayTag=I,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=C})($E)),$E}var qE={},lz;function Abe(){return lz||(lz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(qE)),qE}var cz;function h8(){return cz||(cz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sbe(),n=p8(),r=f8(),i=c8(),o=Abe();function a(p,g){return l(p,void 0,p,new Map,g)}function l(p,g,m,b=new Map,E=void 0){const A=E==null?void 0:E(p,g,m,b);if(A!==void 0)return A;if(i.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const _=new Array(p.length);b.set(p,_);for(let C=0;C<p.length;C++)_[C]=l(p[C],C,m,b,E);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;b.set(p,_);for(const[C,N]of p)_.set(C,l(N,C,m,b,E));return _}if(p instanceof Set){const _=new Set;b.set(p,_);for(const C of p)_.add(l(C,void 0,m,b,E));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,_);for(let C=0;C<p.length;C++)_[C]=l(p[C],C,m,b,E);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,_),u(_,p,m,b,E),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return b.set(p,_),u(_,p,m,b,E),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return b.set(p,_),u(_,p,m,b,E),_}if(p instanceof Error){const _=new p.constructor;return b.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,u(_,p,m,b,E),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return b.set(p,_),u(_,p,m,b,E),_}if(p instanceof Number){const _=new Number(p.valueOf());return b.set(p,_),u(_,p,m,b,E),_}if(p instanceof String){const _=new String(p.valueOf());return b.set(p,_),u(_,p,m,b,E),_}if(typeof p=="object"&&d(p)){const _=Object.create(Object.getPrototypeOf(p));return b.set(p,_),u(_,p,m,b,E),_}return p}function u(p,g,m=p,b,E){const A=[...Object.keys(g),...e.getSymbols(g)];for(let _=0;_<A.length;_++){const C=A[_],N=Object.getOwnPropertyDescriptor(p,C);(N==null||N.writable)&&(p[C]=l(g[C],C,m,b,E))}}function d(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=u})(VE)),VE}var uz;function Cbe(){return uz||(uz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h8();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(UE)),UE}var dz;function Ibe(){return dz||(dz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d8(),n=Cbe();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(OE)),OE}var HE={},GE={},KE={},pz;function Nbe(){return pz||(pz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h8(),n=f8();function r(i,o){return e.cloneDeepWith(i,(a,l,u,d)=>{const p=o==null?void 0:o(a,l,u,d);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(KE)),KE}var fz;function Rbe(){return fz||(fz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nbe();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(GE)),GE}var WE={},YE={},hz;function g8(){return hz||(hz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(YE)),YE}var JE={},gz;function Pbe(){return gz||(gz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p8();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(JE)),JE}var mz;function Obe(){return mz||(mz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t8(),n=g8(),r=Pbe(),i=tI();function o(a,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&(a==null?void 0:a[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=a;for(let p=0;p<u.length;p++){const g=u[p];if((d==null||!Object.hasOwn(d,g))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(g)&&g<d.length))return!1;d=d[g]}return!0}t.has=o})(WE)),WE}var yz;function Dbe(){return yz||(yz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d8(),n=eI(),r=Rbe(),i=nI(),o=Obe();function a(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const p=i.get(d,l);return p===void 0?o.has(d,l):u===void 0?p===void 0:e.isMatch(p,u)}}t.matchesProperty=a})(HE)),HE}var bz;function Mbe(){return bz||(bz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s8(),n=_be(),r=Ibe(),i=Dbe();function o(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=o})(RE)),RE}var vz;function zbe(){return vz||(vz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xbe(),n=s8(),r=Ebe(),i=Mbe();function o(a,l=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(l)):[]}t.uniqBy=o})(_E)),_E}var XE,xz;function jbe(){return xz||(xz=1,XE=zbe().uniqBy),XE}var Lbe=jbe();const wz=Lo(Lbe);function Ube(t,e,n){return e===!0?wz(t,n):typeof e=="function"?wz(t,e):t}var QE={exports:{}},ZE={},e_={exports:{}},t_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kz;function Vbe(){if(kz)return t_;kz=1;var t=Ip();function e(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function l(g,m){var b=m(),E=r({inst:{value:b,getSnapshot:m}}),A=E[0].inst,_=E[1];return o(function(){A.value=b,A.getSnapshot=m,u(A)&&_({inst:A})},[g,b,m]),i(function(){return u(A)&&_({inst:A}),g(function(){u(A)&&_({inst:A})})},[g]),a(b),b}function u(g){var m=g.getSnapshot;g=g.value;try{var b=m();return!n(g,b)}catch{return!0}}function d(g,m){return m()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return t_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,t_}var Ez;function Fbe(){return Ez||(Ez=1,e_.exports=Vbe()),e_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _z;function Bbe(){if(_z)return ZE;_z=1;var t=Ip(),e=Fbe();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return ZE.useSyncExternalStoreWithSelector=function(d,p,g,m,b){var E=o(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=l(function(){function C(M){if(!N){if(N=!0,I=M,M=m(M),b!==void 0&&A.hasValue){var P=A.value;if(b(P,M))return D=P}return D=M}if(P=D,r(I,M))return P;var z=m(M);return b!==void 0&&b(P,z)?(I=M,P):(I=M,D=z)}var N=!1,I,D,L=g===void 0?null:g;return[function(){return C(p())},L===null?void 0:function(){return C(L())}]},[p,g,m,b]);var _=i(d,E[0],E[1]);return a(function(){A.hasValue=!0,A.value=_},[_]),u(_),_},ZE}var Tz;function $be(){return Tz||(Tz=1,QE.exports=Bbe()),QE.exports}var qbe=$be(),aI=T.createContext(null),Hbe=t=>t,Ln=()=>{var t=T.useContext(aI);return t?t.store.dispatch:Hbe},G0=()=>{},Gbe=()=>G0,Kbe=(t,e)=>t===e;function He(t){var e=T.useContext(aI);return qbe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Gbe,e?e.store.getState:G0,e?e.store.getState:G0,e?t:G0,Kbe)}function Wbe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Ybe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Jbe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Sz=t=>Array.isArray(t)?t:[t];function Xbe(t){const e=Array.isArray(t[0])?t[0]:t;return Jbe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Qbe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Zbe=class{constructor(t){this.value=t}deref(){return this.value}},eve=typeof WeakRef<"u"?WeakRef:Zbe,tve=0,Az=1;function h0(){return{s:tve,v:void 0,o:null,p:null}}function m8(t,e={}){let n=h0();const{resultEqualityCheck:r}=e;let i,o=0;function a(){var g;let l=n;const{length:u}=arguments;for(let m=0,b=u;m<b;m++){const E=arguments[m];if(typeof E=="function"||typeof E=="object"&&E!==null){let A=l.o;A===null&&(l.o=A=new WeakMap);const _=A.get(E);_===void 0?(l=h0(),A.set(E,l)):l=_}else{let A=l.p;A===null&&(l.p=A=new Map);const _=A.get(E);_===void 0?(l=h0(),A.set(E,l)):l=_}}const d=l;let p;if(l.s===Az)p=l.v;else if(p=t.apply(null,arguments),o++,r){const m=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;m!=null&&r(m,p)&&(p=m,o!==0&&o--),i=typeof p=="object"&&p!==null||typeof p=="function"?new eve(p):p}return d.s=Az,d.v=p,p}return a.clearCache=()=>{n=h0(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function nve(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,a=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),Wbe(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const p={...n,...u},{memoize:g,memoizeOptions:m=[],argsMemoize:b=m8,argsMemoizeOptions:E=[]}=p,A=Sz(m),_=Sz(E),C=Xbe(i),N=g(function(){return o++,d.apply(null,arguments)},...A),I=b(function(){a++;const L=Qbe(C,arguments);return l=N.apply(null,L),l},..._);return Object.assign(I,{resultFunc:d,memoizedResultFunc:N,dependencies:C,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var me=nve(m8),rve=Object.assign((t,e=me)=>{Ybe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,l,u)=>(a[n[u]]=l,a),{}))},{withTypes:()=>rve}),n_={},r_={},i_={},Cz;function ive(){return Cz||(Cz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=e(r),l=e(i);if(a===l&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?l-a:a-l}return 0};t.compareValues=n})(i_)),i_}var o_={},a_={},Iz;function y8(){return Iz||(Iz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(a_)),a_}var Nz;function ove(){return Nz||(Nz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y8(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}t.isKey=i})(o_)),o_}var Rz;function ave(){return Rz||(Rz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ive(),n=ove(),r=tI();function i(o,a,l,u){if(o==null)return[];l=u?void 0:l,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(b=>String(b));const d=(b,E)=>{let A=b;for(let _=0;_<E.length&&A!=null;++_)A=A[E[_]];return A},p=(b,E)=>E==null||b==null?E:typeof b=="object"&&"key"in b?Object.hasOwn(E,b.key)?E[b.key]:d(E,b.path):typeof b=="function"?b(E):Array.isArray(b)?d(E,b):typeof E=="object"?E[b]:E,g=a.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return o.map(b=>({original:b,criteria:g.map(E=>p(E,b))})).slice().sort((b,E)=>{for(let A=0;A<g.length;A++){const _=e.compareValues(b.criteria[A],E.criteria[A],l[A]);if(_!==0)return _}return 0}).map(b=>b.original)}t.orderBy=i})(r_)),r_}var s_={},Pz;function sve(){return Pz||(Pz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),a=(l,u)=>{for(let d=0;d<l.length;d++){const p=l[d];Array.isArray(p)&&u<o?a(p,u+1):i.push(p)}};return a(n,0),i}t.flatten=e})(s_)),s_}var l_={},Oz;function b8(){return Oz||(Oz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g8(),n=oI(),r=l8(),i=u8();function o(a,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],a):!1}t.isIterateeCall=o})(l_)),l_}var Dz;function lve(){return Dz||(Dz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ave(),n=sve(),r=b8();function i(o,...a){const l=a.length;return l>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(o,n.flatten(a),["asc"])}t.sortBy=i})(n_)),n_}var c_,Mz;function cve(){return Mz||(Mz=1,c_=lve().sortBy),c_}var uve=cve();const Mx=Lo(uve);var v8=t=>t.legend.settings,dve=t=>t.legend.size,pve=t=>t.legend.payload;me([pve,v8],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Mx(r,n):r});var g0=1;function fve(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-e.height)>g0||Math.abs(a.left-e.left)>g0||Math.abs(a.top-e.top)>g0||Math.abs(a.width-e.width)>g0)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Rr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var hve=typeof Symbol=="function"&&Symbol.observable||"@@observable",zz=hve,u_=()=>Math.random().toString(36).substring(7).split("").join("."),gve={INIT:`@@redux/INIT${u_()}`,REPLACE:`@@redux/REPLACE${u_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${u_()}`},Xb=gve;function sI(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function x8(t,e,n){if(typeof t!="function")throw new Error(Rr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Rr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Rr(1));return n(x8)(t,e)}let r=t,i=e,o=new Map,a=o,l=0,u=!1;function d(){a===o&&(a=new Map,o.forEach((_,C)=>{a.set(C,_)}))}function p(){if(u)throw new Error(Rr(3));return i}function g(_){if(typeof _!="function")throw new Error(Rr(4));if(u)throw new Error(Rr(5));let C=!0;d();const N=l++;return a.set(N,_),function(){if(C){if(u)throw new Error(Rr(6));C=!1,d(),a.delete(N),o=null}}}function m(_){if(!sI(_))throw new Error(Rr(7));if(typeof _.type>"u")throw new Error(Rr(8));if(typeof _.type!="string")throw new Error(Rr(17));if(u)throw new Error(Rr(9));try{u=!0,i=r(i,_)}finally{u=!1}return(o=a).forEach(N=>{N()}),_}function b(_){if(typeof _!="function")throw new Error(Rr(10));r=_,m({type:Xb.REPLACE})}function E(){const _=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Rr(11));function N(){const D=C;D.next&&D.next(p())}return N(),{unsubscribe:_(N)}},[zz](){return this}}}return m({type:Xb.INIT}),{dispatch:m,subscribe:g,getState:p,replaceReducer:b,[zz]:E}}function mve(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Xb.INIT})>"u")throw new Error(Rr(12));if(typeof n(void 0,{type:Xb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rr(13))})}function w8(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{mve(n)}catch(o){i=o}return function(a={},l){if(i)throw i;let u=!1;const d={};for(let p=0;p<r.length;p++){const g=r[p],m=n[g],b=a[g],E=m(b,l);if(typeof E>"u")throw l&&l.type,new Error(Rr(14));d[g]=E,u=u||E!==b}return u=u||r.length!==Object.keys(a).length,u?d:a}}function Qb(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function yve(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Rr(15))};const a={getState:i.getState,dispatch:(u,...d)=>o(u,...d)},l=t.map(u=>u(a));return o=Qb(...l)(i.dispatch),{...i,dispatch:o}}}function k8(t){return sI(t)&&"type"in t&&typeof t.type=="string"}var E8=Symbol.for("immer-nothing"),jz=Symbol.for("immer-draftable"),pi=Symbol.for("immer-state");function Zo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ro=Object,kp=ro.getPrototypeOf,Zb="constructor",zx="prototype",rS="configurable",ev="enumerable",K0="writable",pg="value",$s=t=>!!t&&!!t[pi];function ua(t){var e;return t?_8(t)||jx(t)||!!t[jz]||!!((e=t[Zb])!=null&&e[jz])||Lx(t)||Ux(t):!1}var bve=ro[zx][Zb].toString(),Lz=new WeakMap;function _8(t){if(!t||!lI(t))return!1;const e=kp(t);if(e===null||e===ro[zx])return!0;const n=ro.hasOwnProperty.call(e,Zb)&&e[Zb];if(n===Object)return!0;if(!Fd(n))return!1;let r=Lz.get(n);return r===void 0&&(r=Function.toString.call(n),Lz.set(n,r)),r===bve}function lm(t,e,n=!0){cm(t)===0?(n?Reflect.ownKeys(t):ro.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function cm(t){const e=t[pi];return e?e.type_:jx(t)?1:Lx(t)?2:Ux(t)?3:0}var Uz=(t,e,n=cm(t))=>n===2?t.has(e):ro[zx].hasOwnProperty.call(t,e),iS=(t,e,n=cm(t))=>n===2?t.get(e):t[e],tv=(t,e,n,r=cm(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function vve(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var jx=Array.isArray,Lx=t=>t instanceof Map,Ux=t=>t instanceof Set,lI=t=>typeof t=="object",Fd=t=>typeof t=="function",d_=t=>typeof t=="boolean",ks=t=>t.copy_||t.base_,cI=t=>t.modified_?t.copy_:t.base_;function oS(t,e){if(Lx(t))return new Map(t);if(Ux(t))return new Set(t);if(jx(t))return Array[zx].slice.call(t);const n=_8(t);if(e===!0||e==="class_only"&&!n){const r=ro.getOwnPropertyDescriptors(t);delete r[pi];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],l=r[a];l[K0]===!1&&(l[K0]=!0,l[rS]=!0),(l.get||l.set)&&(r[a]={[rS]:!0,[K0]:!0,[ev]:l[ev],[pg]:t[a]})}return ro.create(kp(t),r)}else{const r=kp(t);if(r!==null&&n)return{...t};const i=ro.create(r);return ro.assign(i,t)}}function uI(t,e=!1){return Vx(t)||$s(t)||!ua(t)||(cm(t)>1&&ro.defineProperties(t,{set:m0,add:m0,clear:m0,delete:m0}),ro.freeze(t),e&&lm(t,(n,r)=>{uI(r,!0)},!1)),t}function xve(){Zo(2)}var m0={[pg]:xve};function Vx(t){return t===null||!lI(t)?!0:ro.isFrozen(t)}var nv="MapSet",aS="Patches",T8={};function Ep(t){const e=T8[t];return e||Zo(0,t),e}var wve=t=>!!T8[t],fg,S8=()=>fg,kve=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:wve(nv)?Ep(nv):void 0});function Vz(t,e){e&&(t.patchPlugin_=Ep(aS),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function sS(t){lS(t),t.drafts_.forEach(Eve),t.drafts_=null}function lS(t){t===fg&&(fg=t.parent_)}var Fz=t=>fg=kve(fg,t);function Eve(t){const e=t[pi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Bz(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[pi].modified_&&(sS(e),Zo(4)),ua(t)&&(t=$z(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[pi].base_,t,e)}else t=$z(e,n);return _ve(e,t,!0),sS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==E8?t:void 0}function $z(t,e){if(Vx(e))return e;const n=e[pi];if(!n)return dI(e,t.handledSet_,t);if(!Fx(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);I8(n,t)}return n.copy_}function _ve(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&uI(e,n)}function A8(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Fx=(t,e)=>t.scope_===e,Tve=[];function C8(t,e,n,r){const i=ks(t),o=t.type_;if(r!==void 0&&iS(i,r,o)===e){tv(i,r,n,o);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;lm(i,(u,d)=>{if($s(d)){const p=l.get(d)||[];p.push(u),l.set(d,p)}})}const a=t.draftLocations_.get(e)??Tve;for(const l of a)tv(i,l,n,o)}function Sve(t,e,n){t.callbacks_.push(function(i){var l;const o=e;if(!o||!Fx(o,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(o);const a=cI(o);C8(t,o.draft_??o,a,n),I8(o,i)})}function I8(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const o=i.getPath(t);o&&i.generatePatches_(t,o,e)}A8(t)}}function Ave(t,e,n){const{scope_:r}=t;if($s(n)){const i=n[pi];Fx(i,r)&&i.callbacks_.push(function(){W0(t);const a=cI(i);C8(t,n,a,e)})}else ua(n)&&t.callbacks_.push(function(){const o=ks(t);iS(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&dI(iS(t.copy_,e,t.type_),r.handledSet_,r)})}function dI(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||$s(t)||e.has(t)||!ua(t)||Vx(t)||(e.add(t),lm(t,(r,i)=>{if($s(i)){const o=i[pi];if(Fx(o,n)){const a=cI(o);tv(t,r,a,t.type_),A8(o)}}else ua(i)&&dI(i,e,n)})),t}function Cve(t,e){const n=jx(t),r={type_:n?1:0,scope_:e?e.scope_:S8(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=pI;n&&(i=[r],o=hg);const{revoke:a,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=a,[l,r]}var pI={get(t,e){if(e===pi)return t;const n=ks(t);if(!Uz(n,e,t.type_))return Ive(t,n,e);const r=n[e];if(t.finalized_||!ua(r))return r;if(r===p_(t.base_,e)){W0(t);const i=t.type_===1?+e:e,o=uS(t.scope_,r,t,i);return t.copy_[i]=o}return r},has(t,e){return e in ks(t)},ownKeys(t){return Reflect.ownKeys(ks(t))},set(t,e,n){const r=N8(ks(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=p_(ks(t),e),o=i==null?void 0:i[pi];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(vve(n,i)&&(n!==void 0||Uz(t.base_,e,t.type_)))return!0;W0(t),cS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Ave(t,e,n)),!0},deleteProperty(t,e){return W0(t),p_(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),cS(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ks(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[K0]:!0,[rS]:t.type_!==1||e!=="length",[ev]:r[ev],[pg]:n[e]}},defineProperty(){Zo(11)},getPrototypeOf(t){return kp(t.base_)},setPrototypeOf(){Zo(12)}},hg={};lm(pI,(t,e)=>{hg[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});hg.deleteProperty=function(t,e){return hg.set.call(this,t,e,void 0)};hg.set=function(t,e,n){return pI.set.call(this,t[0],e,n,t[0])};function p_(t,e){const n=t[pi];return(n?ks(n):t)[e]}function Ive(t,e,n){var i;const r=N8(e,n);return r?pg in r?r[pg]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function N8(t,e){if(!(e in t))return;let n=kp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=kp(n)}}function cS(t){t.modified_||(t.modified_=!0,t.parent_&&cS(t.parent_))}function W0(t){t.copy_||(t.assigned_=new Map,t.copy_=oS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Nve=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Fd(n)&&!Fd(r)){const a=r;r=n;const l=this;return function(d=a,...p){return l.produce(d,g=>r.call(this,g,...p))}}Fd(r)||Zo(6),i!==void 0&&!Fd(i)&&Zo(7);let o;if(ua(n)){const a=Fz(this),l=uS(a,n,void 0);let u=!0;try{o=r(l),u=!1}finally{u?sS(a):lS(a)}return Vz(a,i),Bz(o,a)}else if(!n||!lI(n)){if(o=r(n),o===void 0&&(o=n),o===E8&&(o=void 0),this.autoFreeze_&&uI(o,!0),i){const a=[],l=[];Ep(aS).generateReplacementPatches_(n,o,{patches_:a,inversePatches_:l}),i(a,l)}return o}else Zo(1,n)},this.produceWithPatches=(n,r)=>{if(Fd(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,o;return[this.produce(n,r,(l,u)=>{i=l,o=u}),i,o]},d_(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),d_(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),d_(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ua(e)||Zo(8),$s(e)&&(e=ra(e));const n=Fz(this),r=uS(n,e,void 0);return r[pi].isManual_=!0,lS(n),r}finishDraft(e,n){const r=e&&e[pi];(!r||!r.isManual_)&&Zo(9);const{scope_:i}=r;return Vz(i,n),Bz(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Ep(aS).applyPatches_;return $s(e)?i(e,n):this.produce(e,o=>i(o,n))}};function uS(t,e,n,r){const[i,o]=Lx(e)?Ep(nv).proxyMap_(e,n):Ux(e)?Ep(nv).proxySet_(e,n):Cve(e,n);return((n==null?void 0:n.scope_)??S8()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?Sve(n,o,r):o.callbacks_.push(function(u){var p;(p=u.mapSetPlugin_)==null||p.fixSetContents(o);const{patchPlugin_:d}=u;o.modified_&&d&&d.generatePatches_(o,[],u)}),i}function ra(t){return $s(t)||Zo(10,t),R8(t)}function R8(t){if(!ua(t)||Vx(t))return t;const e=t[pi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=oS(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=oS(t,!0);return lm(n,(i,o)=>{tv(n,i,R8(o))},r),e&&(e.finalized_=!1),n}var Rve=new Nve,P8=Rve.produce;function O8(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var Pve=O8(),Ove=O8,Dve=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qb:Qb.apply(null,arguments)};function zo(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(io(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>k8(r)&&r.type===t,n}var D8=class Nh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Nh.prototype)}static get[Symbol.species](){return Nh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Nh(...e[0].concat(this)):new Nh(...e.concat(this))}};function qz(t){return ua(t)?P8(t,()=>{}):t}function y0(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Mve(t){return typeof t=="boolean"}var zve=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new D8;return n&&(Mve(n)?a.push(Pve):a.push(Ove(n.extraArgument))),a},M8="RTK_autoBatch",bn=()=>t=>({payload:t,meta:{[M8]:!0}}),Hz=t=>e=>{setTimeout(e,t)},z8=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,a=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Hz(10):t.type==="callback"?t.queueNotification:Hz(t.timeout),d=()=>{a=!1,o&&(o=!1,l.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),m=r.subscribe(g);return l.add(p),()=>{m(),l.delete(p)}},dispatch(p){var g;try{return i=!((g=p==null?void 0:p.meta)!=null&&g[M8]),o=!i,o&&(a||(a=!0,u(d))),r.dispatch(p)}finally{i=!0}}})},jve=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new D8(t);return r&&i.push(z8(typeof r=="object"?r:void 0)),i};function Lve(t){const e=zve(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(sI(n))l=w8(n);else throw new Error(io(1));let u;typeof r=="function"?u=r(e):u=e();let d=Qb;i&&(d=Dve({trace:!1,...typeof i=="object"&&i}));const p=yve(...u),g=jve(p);let m=typeof a=="function"?a(g):g();const b=d(...m);return x8(l,o,b)}function j8(t){const e={},n=[];let r;const i={addCase(o,a){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(io(28));if(l in e)throw new Error(io(29));return e[l]=a,i},addAsyncThunk(o,a){return a.pending&&(e[o.pending.type]=a.pending),a.rejected&&(e[o.rejected.type]=a.rejected),a.fulfilled&&(e[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function Uve(t){return typeof t=="function"}function Vve(t,e){let[n,r,i]=j8(e),o;if(Uve(t))o=()=>qz(t());else{const l=qz(t);o=()=>l}function a(l=o(),u){let d=[n[u.type],...r.filter(({matcher:p})=>p(u)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[i]),d.reduce((p,g)=>{if(g)if($s(p)){const b=g(p,u);return b===void 0?p:b}else{if(ua(p))return P8(p,m=>g(m,u));{const m=g(p,u);if(m===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return p},l)}return a.getInitialState=o,a}var Fve="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Bve=(t=21)=>{let e="",n=t;for(;n--;)e+=Fve[Math.random()*64|0];return e},$ve=Symbol.for("rtk-slice-createasyncthunk");function qve(t,e){return`${t}/${e}`}function Hve({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[$ve];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(io(11));const l=(typeof i.reducers=="function"?i.reducers(Kve()):i.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(D,L){const M=typeof D=="string"?D:D.type;if(!M)throw new Error(io(12));if(M in d.sliceCaseReducersByType)throw new Error(io(13));return d.sliceCaseReducersByType[M]=L,p},addMatcher(D,L){return d.sliceMatchers.push({matcher:D,reducer:L}),p},exposeAction(D,L){return d.actionCreators[D]=L,p},exposeCaseReducer(D,L){return d.sliceCaseReducersByName[D]=L,p}};u.forEach(D=>{const L=l[D],M={reducerName:D,type:qve(o,D),createNotation:typeof i.reducers=="function"};Yve(L)?Xve(M,L,p,e):Wve(M,L,p)});function g(){const[D={},L=[],M=void 0]=typeof i.extraReducers=="function"?j8(i.extraReducers):[i.extraReducers],P={...D,...d.sliceCaseReducersByType};return Vve(i.initialState,z=>{for(let U in P)z.addCase(U,P[U]);for(let U of d.sliceMatchers)z.addMatcher(U.matcher,U.reducer);for(let U of L)z.addMatcher(U.matcher,U.reducer);M&&z.addDefaultCase(M)})}const m=D=>D,b=new Map,E=new WeakMap;let A;function _(D,L){return A||(A=g()),A(D,L)}function C(){return A||(A=g()),A.getInitialState()}function N(D,L=!1){function M(z){let U=z[D];return typeof U>"u"&&L&&(U=y0(E,M,C)),U}function P(z=m){const U=y0(b,L,()=>new WeakMap);return y0(U,z,()=>{const q={};for(const[V,B]of Object.entries(i.selectors??{}))q[V]=Gve(B,z,()=>y0(E,z,C),L);return q})}return{reducerPath:D,getSelectors:P,get selectors(){return P(M)},selectSlice:M}}const I={name:o,reducer:_,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...N(a),injectInto(D,{reducerPath:L,...M}={}){const P=L??a;return D.inject({reducerPath:P,reducer:_},M),{...I,...N(P,!0)}}};return I}}function Gve(t,e,n,r){function i(o,...a){let l=e(o);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var zi=Hve();function Kve(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Wve({type:t,reducerName:e,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!Jve(r))throw new Error(io(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?zo(t,a):zo(t))}function Yve(t){return t._reducerDefinitionType==="asyncThunk"}function Jve(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Xve({type:t,reducerName:e},n,r,i){if(!i)throw new Error(io(18));const{payloadCreator:o,fulfilled:a,pending:l,rejected:u,settled:d,options:p}=n,g=i(t,o,p);r.exposeAction(e,g),a&&r.addCase(g.fulfilled,a),l&&r.addCase(g.pending,l),u&&r.addCase(g.rejected,u),d&&r.addMatcher(g.settled,d),r.exposeCaseReducer(e,{fulfilled:a||b0,pending:l||b0,rejected:u||b0,settled:d||b0})}function b0(){}var Qve="task",L8="listener",U8="completed",fI="cancelled",Zve=`task-${fI}`,exe=`task-${U8}`,dS=`${L8}-${fI}`,txe=`${L8}-${U8}`,Bx=class{constructor(t){x1(this,"name","TaskAbortError");x1(this,"message");this.code=t,this.message=`${Qve} ${fI} (reason: ${t})`}},hI=(t,e)=>{if(typeof t!="function")throw new TypeError(io(32))},rv=()=>{},V8=(t,e=rv)=>(t.catch(e),t),F8=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),mu=t=>{if(t.aborted)throw new Bx(t.reason)};function B8(t,e){let n=rv;return new Promise((r,i)=>{const o=()=>i(new Bx(t.reason));if(t.aborted){o();return}n=F8(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=rv})}var nxe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Bx?"cancelled":"rejected",error:n}}finally{e==null||e()}},iv=t=>e=>V8(B8(t,e).then(n=>(mu(t),n))),$8=t=>{const e=iv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:np}=Object,Gz={},$x="listenerMiddleware",rxe=(t,e)=>{const n=r=>F8(t,()=>r.abort(t.reason));return(r,i)=>{hI(r);const o=new AbortController;n(o);const a=nxe(async()=>{mu(t),mu(o.signal);const l=await r({pause:iv(o.signal),delay:$8(o.signal),signal:o.signal});return mu(o.signal),l},()=>o.abort(exe));return i!=null&&i.autoJoin&&e.push(a.catch(rv)),{result:iv(t)(a),cancel(){o.abort(Zve)}}}},ixe=(t,e)=>{const n=async(r,i)=>{mu(e);let o=()=>{};const l=[new Promise((u,d)=>{let p=t({predicate:r,effect:(g,m)=>{m.unsubscribe(),u([g,m.getState(),m.getOriginalState()])}});o=()=>{p(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await B8(e,Promise.race(l));return mu(e),u}finally{o()}};return(r,i)=>V8(n(r,i))},q8=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=zo(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(io(21));return hI(o),{predicate:i,type:e,effect:o}},H8=np(t=>{const{type:e,predicate:n,effect:r}=q8(t);return{id:Bve(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(io(22))}}},{withTypes:()=>H8}),Kz=(t,e)=>{const{type:n,effect:r,predicate:i}=q8(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},pS=t=>{t.pending.forEach(e=>{e.abort(dS)})},oxe=(t,e)=>()=>{for(const n of e.keys())pS(n);t.clear()},Wz=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},G8=np(zo(`${$x}/add`),{withTypes:()=>G8}),axe=zo(`${$x}/removeAll`),K8=np(zo(`${$x}/remove`),{withTypes:()=>K8}),sxe=(...t)=>{console.error(`${$x}/error`,...t)},um=(t={})=>{const e=new Map,n=new Map,r=b=>{const E=n.get(b)??0;n.set(b,E+1)},i=b=>{const E=n.get(b)??1;E===1?n.delete(b):n.set(b,E-1)},{extra:o,onError:a=sxe}=t;hI(a);const l=b=>(b.unsubscribe=()=>e.delete(b.id),e.set(b.id,b),E=>{b.unsubscribe(),E!=null&&E.cancelActive&&pS(b)}),u=b=>{const E=Kz(e,b)??H8(b);return l(E)};np(u,{withTypes:()=>u});const d=b=>{const E=Kz(e,b);return E&&(E.unsubscribe(),b.cancelActive&&pS(E)),!!E};np(d,{withTypes:()=>d});const p=async(b,E,A,_)=>{const C=new AbortController,N=ixe(u,C.signal),I=[];try{b.pending.add(C),r(b),await Promise.resolve(b.effect(E,np({},A,{getOriginalState:_,condition:(D,L)=>N(D,L).then(Boolean),take:N,delay:$8(C.signal),pause:iv(C.signal),extra:o,signal:C.signal,fork:rxe(C.signal,I),unsubscribe:b.unsubscribe,subscribe:()=>{e.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((D,L,M)=>{D!==C&&(D.abort(dS),M.delete(D))})},cancel:()=>{C.abort(dS),b.pending.delete(C)},throwIfCancelled:()=>{mu(C.signal)}})))}catch(D){D instanceof Bx||Wz(a,D,{raisedBy:"effect"})}finally{await Promise.all(I),C.abort(txe),i(b),b.pending.delete(C)}},g=oxe(e,n);return{middleware:b=>E=>A=>{if(!k8(A))return E(A);if(G8.match(A))return u(A.payload);if(axe.match(A)){g();return}if(K8.match(A))return d(A.payload);let _=b.getState();const C=()=>{if(_===Gz)throw new Error(io(23));return _};let N;try{if(N=E(A),e.size>0){const I=b.getState(),D=Array.from(e.values());for(const L of D){let M=!1;try{M=L.predicate(A,I,_)}catch(P){M=!1,Wz(a,P,{raisedBy:"predicate"})}M&&p(L,A,b,C)}}}finally{_=Gz}return N},startListening:u,stopListening:d,clearListeners:g}};function io(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var lxe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},W8=zi({name:"chartLayout",initialState:lxe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:cxe,setLayout:uxe,setChartSize:dxe,setScale:pxe}=W8.actions,fxe=W8.reducer;function Y8(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Yz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yz(Object(n),!0).forEach(function(r){hxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hxe(t,e,n){return(e=gxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gxe(t){var e=mxe(t,"string");return typeof e=="symbol"?e:e+""}function mxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ir(t,e,n){return kn(t)||kn(e)?n:Qa(e)?wp(t,e,n):typeof e=="function"?e(t):n}var yxe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&o!=="center"&&Ue(t[o]))return $d($d({},t),{},{[o]:t[o]+(r||0)});if((l==="horizontal"||l==="vertical"&&o==="center")&&a!=="middle"&&Ue(t[a]))return $d($d({},t),{},{[a]:t[a]+(i||0)})}return t},el=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",J8=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,o,a=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate));return i||a.push(e),o||a.push(n),a},X8=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:a,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:p,ticks:g,niceTicks:m,axisType:b}=t;if(!a)return null;var E=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,A=i==="category"&&a.bandwidth?a.bandwidth()/E:0;if(A=b==="angleAxis"&&o&&o.length>=2?Ri(o[0]-o[1])*2*A:A,g||m){var _=(g||m||[]).map((C,N)=>{var I=r?r.indexOf(C):C;return{coordinate:a(I)+A,value:C,offset:A,index:N}});return _.filter(C=>!Mo(C.coordinate))}return u&&d?d.map((C,N)=>({coordinate:a(C)+A,value:C,index:N,offset:A})):a.ticks&&p!=null?a.ticks(p).map((C,N)=>({coordinate:a(C)+A,value:C,offset:A,index:N})):a.domain().map((C,N)=>({coordinate:a(C)+A,value:r?r[C]:C,index:N,offset:A}))},Jz=1e-4,bxe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-Jz,o=Math.max(r[0],r[1])+Jz,a=t(e[0]),l=t(e[n-1]);(a<i||a>o||l<i||l>o)&&t.domain([e[0],e[n-1]])}},vxe=(t,e)=>{if(!e||e.length!==2||!Ue(e[0])||!Ue(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ue(t[0])||t[0]<n)&&(i[0]=n),(!Ue(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},xxe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,a=0;a<e;++a){var l=Mo(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=o,t[a][n][1]=o+l,o=t[a][n][1])}},wxe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var a=Mo(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=i,t[o][n][1]=i+a,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},kxe={sign:xxe,expand:J0e,none:xp,silhouette:X0e,wiggle:Q0e,positive:wxe},Exe=(t,e,n)=>{var r=kxe[n],i=Y0e().keys(e).value((o,a)=>Number(ir(o,a,0))).order(tS).offset(r);return i(t)};function Q8(t){return t==null?void 0:String(t)}function Xz(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!kn(i[e.dataKey])){var l=r8(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var u=ir(i,kn(a)?e.dataKey:a);return kn(u)?null:e.scale(u)}var Qz=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var l=ir(o,e.dataKey,e.scale.domain()[a]);return kn(l)?null:e.scale(l)-i/2+r},_xe=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Txe=t=>{var e=t.flat(2).filter(Ue);return[Math.min(...e),Math.max(...e)]},Sxe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Axe=(t,e,n)=>{if(t!=null)return Sxe(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:a}=o,l=a.reduce((u,d)=>{var p=Y8(d,e,n),g=Txe(p);return[Math.min(u[0],g[0]),Math.max(u[1],g[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},Zz=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ej=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_p=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Mx(e,p=>p.coordinate),o=1/0,a=1,l=i.length;a<l;a++){var u=i[a],d=i[a-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function tj(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return $d($d({},e),{},{dataKey:n,payload:r,value:i,name:o})}function qx(t,e){if(t)return String(t);if(typeof e=="string")return e}var Cxe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Ixe=(t,e)=>e==="centric"?t.angle:t.radius,tl=t=>t.layout.width,nl=t=>t.layout.height,Nxe=t=>t.layout.scale,Z8=t=>t.layout.margin,Hx=me(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Gx=me(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Rxe="data-recharts-item-index",Pxe="data-recharts-item-data-key",dm=60;function nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(n),!0).forEach(function(r){Oxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oxe(t,e,n){return(e=Dxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dxe(t){var e=Mxe(t,"string");return typeof e=="symbol"?e:e+""}function Mxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zxe=t=>t.brush.height;function jxe(t){var e=Gx(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:dm;return n+i}return n},0)}function Lxe(t){var e=Gx(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:dm;return n+i}return n},0)}function Uxe(t){var e=Hx(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Vxe(t){var e=Hx(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var wr=me([tl,nl,Z8,zxe,jxe,Lxe,Uxe,Vxe,v8,dve],(t,e,n,r,i,o,a,l,u,d)=>{var p={left:(n.left||0)+i,right:(n.right||0)+o},g={top:(n.top||0)+a,bottom:(n.bottom||0)+l},m=v0(v0({},g),p),b=m.bottom;m.bottom+=r,m=yxe(m,u,d);var E=t-m.left-m.right,A=e-m.top-m.bottom;return v0(v0({brushBottom:b},m),{},{width:Math.max(E,0),height:Math.max(A,0)})}),Fxe=me(wr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),gI=me(tl,nl,(t,e)=>({x:0,y:0,width:t,height:e})),Bxe=T.createContext(null),Jr=()=>T.useContext(Bxe)!=null,Kx=t=>t.brush,Wx=me([Kx,wr,Z8],(t,e,n)=>({height:t.height,x:Ue(t.x)?t.x:e.left,y:Ue(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ue(t.width)?t.width:e.width})),f_={},h_={},g_={},rj;function $xe(){return rj||(rj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let a,l=null;const u=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),p=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},g=()=>{d&&p(),A()};let m=null;const b=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,g()},r)},E=()=>{m!==null&&(clearTimeout(m),m=null)},A=()=>{E(),a=void 0,l=null},_=()=>{p()},C=function(...N){if(i!=null&&i.aborted)return;a=this,l=N;const I=m==null;b(),u&&I&&p()};return C.schedule=b,C.cancel=A,C.flush=_,i==null||i.addEventListener("abort",A,{once:!0}),C}t.debounce=e})(g_)),g_}var ij;function qxe(){return ij||(ij=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$xe();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:l=!0,maxWait:u}=o,d=Array(2);a&&(d[0]="leading"),l&&(d[1]="trailing");let p,g=null;const m=e.debounce(function(...A){p=r.apply(this,A),g=null},i,{edges:d}),b=function(...A){return u!=null&&(g===null&&(g=Date.now()),Date.now()-g>=u)?(p=r.apply(this,A),g=Date.now(),m.cancel(),m.schedule(),p):(m.apply(this,A),p)},E=()=>(m.flush(),p);return b.cancel=m.cancel,b.flush=E,b}t.debounce=n})(h_)),h_}var oj;function Hxe(){return oj||(oj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qxe();function n(r,i=0,o={}){const{leading:a=!0,trailing:l=!0}=o;return e.debounce(r,i,{leading:a,maxWait:i,trailing:l})}t.throttle=n})(f_)),f_}var m_,aj;function Gxe(){return aj||(aj=1,m_=Hxe().throttle),m_}var Kxe=Gxe();const Wxe=Lo(Kxe);var ov=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},e$=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:a}=n,l=Bs(r)?t:Number(r),u=Bs(i)?e:Number(i);return o&&o>0&&(l?u=l/o:u&&(l=u*o),a&&u!=null&&u>a&&(u=a)),{calculatedWidth:l,calculatedHeight:u}},Yxe={width:0,height:0,overflow:"visible"},Jxe={width:0,overflowX:"visible"},Xxe={height:0,overflowY:"visible"},Qxe={},Zxe=t=>{var{width:e,height:n}=t,r=Bs(e),i=Bs(n);return r&&i?Yxe:r?Jxe:i?Xxe:Qxe};function ewe(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function pn(t){return Number.isFinite(t)}function Za(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fS.apply(null,arguments)}function sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(n),!0).forEach(function(r){twe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function twe(t,e,n){return(e=nwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nwe(t){var e=rwe(t,"string");return typeof e=="symbol"?e:e+""}function rwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t$=T.createContext({width:-1,height:-1});function iwe(t){return Za(t.width)&&Za(t.height)}function n$(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return iwe(i)?T.createElement(t$.Provider,{value:i},e):null}var mI=()=>T.useContext(t$),owe=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:a=0,minHeight:l,maxHeight:u,children:d,debounce:p=0,id:g,className:m,onResize:b,style:E={}}=t,A=T.useRef(null),_=T.useRef();_.current=b,T.useImperativeHandle(e,()=>A.current);var[C,N]=T.useState({containerWidth:r.width,containerHeight:r.height}),I=T.useCallback((z,U)=>{N(q=>{var V=Math.round(z),B=Math.round(U);return q.containerWidth===V&&q.containerHeight===B?q:{containerWidth:V,containerHeight:B}})},[]);T.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return sm;var z=B=>{var F,{width:ne,height:W}=B[0].contentRect;I(ne,W),(F=_.current)===null||F===void 0||F.call(_,ne,W)};p>0&&(z=Wxe(z,p,{trailing:!0,leading:!1}));var U=new ResizeObserver(z),{width:q,height:V}=A.current.getBoundingClientRect();return I(q,V),U.observe(A.current),()=>{U.disconnect()}},[I,p]);var{containerWidth:D,containerHeight:L}=C;ov(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:P}=e$(D,L,{width:i,height:o,aspect:n,maxHeight:u});return ov(M!=null&&M>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,P,i,o,a,l,n),T.createElement("div",{id:g?"".concat(g):void 0,className:Ut("recharts-responsive-container",m),style:lj(lj({},E),{},{width:i,height:o,minWidth:a,minHeight:l,maxHeight:u}),ref:A},T.createElement("div",{style:Zxe({width:i,height:o})},T.createElement(n$,{width:M,height:P},d)))}),r$=T.forwardRef((t,e)=>{var n=mI();if(Za(n.width)&&Za(n.height))return t.children;var{width:r,height:i}=ewe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:a}=e$(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ue(o)&&Ue(a)?T.createElement(n$,{width:o,height:a},t.children):T.createElement(owe,fS({},t,{width:r,height:i,ref:e}))});function i$(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Yx=()=>{var t,e=Jr(),n=He(Fxe),r=He(Wx),i=(t=He(Kx))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},awe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},o$=()=>{var t;return(t=He(wr))!==null&&t!==void 0?t:awe},a$=()=>He(tl),s$=()=>He(nl),Rt=t=>t.layout.layoutType,Kp=()=>He(Rt),swe=()=>{var t=Kp();if(t==="horizontal"||t==="vertical")return t},lwe=()=>{var t=Kp();return t!==void 0},Jx=t=>{var e=Ln(),n=Jr(),{width:r,height:i}=t,o=mI(),a=r,l=i;return o&&(a=o.width>0?o.width:r,l=o.height>0?o.height:i),T.useEffect(()=>{!n&&Za(a)&&Za(l)&&e(dxe({width:a,height:l}))},[e,n,a,l]),null},l$=Symbol.for("immer-nothing"),cj=Symbol.for("immer-draftable"),ao=Symbol.for("immer-state");function ea(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var gg=Object.getPrototypeOf;function Tp(t){return!!t&&!!t[ao]}function Au(t){var e;return t?c$(t)||Array.isArray(t)||!!t[cj]||!!((e=t.constructor)!=null&&e[cj])||pm(t)||Qx(t):!1}var cwe=Object.prototype.constructor.toString(),uj=new WeakMap;function c$(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=uj.get(n);return r===void 0&&(r=Function.toString.call(n),uj.set(n,r)),r===cwe}function av(t,e,n=!0){Xx(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Xx(t){const e=t[ao];return e?e.type_:Array.isArray(t)?1:pm(t)?2:Qx(t)?3:0}function hS(t,e){return Xx(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function u$(t,e,n){const r=Xx(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function uwe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function pm(t){return t instanceof Map}function Qx(t){return t instanceof Set}function ru(t){return t.copy_||t.base_}function gS(t,e){if(pm(t))return new Map(t);if(Qx(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=c$(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ao];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(gg(t),r)}else{const r=gg(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function yI(t,e=!1){return Zx(t)||Tp(t)||!Au(t)||(Xx(t)>1&&Object.defineProperties(t,{set:x0,add:x0,clear:x0,delete:x0}),Object.freeze(t),e&&Object.values(t).forEach(n=>yI(n,!0))),t}function dwe(){ea(2)}var x0={value:dwe};function Zx(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var pwe={};function Cu(t){const e=pwe[t];return e||ea(0,t),e}var mg;function d$(){return mg}function fwe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function dj(t,e){e&&(Cu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mS(t){yS(t),t.drafts_.forEach(hwe),t.drafts_=null}function yS(t){t===mg&&(mg=t.parent_)}function pj(t){return mg=fwe(mg,t)}function hwe(t){const e=t[ao];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function fj(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ao].modified_&&(mS(e),ea(4)),Au(t)&&(t=sv(e,t),e.parent_||lv(e,t)),e.patches_&&Cu("Patches").generateReplacementPatches_(n[ao].base_,t,e.patches_,e.inversePatches_)):t=sv(e,n,[]),mS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==l$?t:void 0}function sv(t,e,n){if(Zx(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[ao];if(!i)return av(e,(o,a)=>hj(t,i,e,o,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return lv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let a=o,l=!1;i.type_===3&&(a=new Set(o),o.clear(),l=!0),av(a,(u,d)=>hj(t,i,o,u,d,n,l),r),lv(t,o,!1),n&&t.patches_&&Cu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function hj(t,e,n,r,i,o,a){if(i==null||typeof i!="object"&&!a)return;const l=Zx(i);if(!(l&&!a)){if(Tp(i)){const u=o&&e&&e.type_!==3&&!hS(e.assigned_,r)?o.concat(r):void 0,d=sv(t,i,u);if(u$(n,r,d),Tp(d))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Au(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;sv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(pm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&lv(t,i)}}}function lv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&yI(e,n)}function gwe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:d$(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=bI;n&&(i=[r],o=yg);const{revoke:a,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=a,l}var bI={get(t,e){if(e===ao)return t;const n=ru(t);if(!hS(n,e))return mwe(t,n,e);const r=n[e];return t.finalized_||!Au(r)?r:r===y_(t.base_,e)?(b_(t),t.copy_[e]=vS(r,t)):r},has(t,e){return e in ru(t)},ownKeys(t){return Reflect.ownKeys(ru(t))},set(t,e,n){const r=p$(ru(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=y_(ru(t),e),o=i==null?void 0:i[ao];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(uwe(n,i)&&(n!==void 0||hS(t.base_,e)))return!0;b_(t),bS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return y_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,b_(t),bS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ru(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ea(11)},getPrototypeOf(t){return gg(t.base_)},setPrototypeOf(){ea(12)}},yg={};av(bI,(t,e)=>{yg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});yg.deleteProperty=function(t,e){return yg.set.call(this,t,e,void 0)};yg.set=function(t,e,n){return bI.set.call(this,t[0],e,n,t[0])};function y_(t,e){const n=t[ao];return(n?ru(n):t)[e]}function mwe(t,e,n){var i;const r=p$(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function p$(t,e){if(!(e in t))return;let n=gg(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=gg(n)}}function bS(t){t.modified_||(t.modified_=!0,t.parent_&&bS(t.parent_))}function b_(t){t.copy_||(t.copy_=gS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ywe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(u=o,...d){return a.produce(u,p=>n.call(this,p,...d))}}typeof n!="function"&&ea(6),r!==void 0&&typeof r!="function"&&ea(7);let i;if(Au(e)){const o=pj(this),a=vS(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?mS(o):yS(o)}return dj(o,r),fj(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===l$&&(i=void 0),this.autoFreeze_&&yI(i,!0),r){const o=[],a=[];Cu("Patches").generateReplacementPatches_(e,i,o,a),r(o,a)}return i}else ea(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,u=>e(u,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Au(t)||ea(8),Tp(t)&&(t=bwe(t));const e=pj(this),n=vS(t,void 0);return n[ao].isManual_=!0,yS(e),n}finishDraft(t,e){const n=t&&t[ao];(!n||!n.isManual_)&&ea(9);const{scope_:r}=n;return dj(r,e),fj(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Cu("Patches").applyPatches_;return Tp(t)?r(t,e):this.produce(t,i=>r(i,e))}};function vS(t,e){const n=pm(t)?Cu("MapSet").proxyMap_(t,e):Qx(t)?Cu("MapSet").proxySet_(t,e):gwe(t,e);return(e?e.scope_:d$()).drafts_.push(n),n}function bwe(t){return Tp(t)||ea(10,t),f$(t)}function f$(t){if(!Au(t)||Zx(t))return t;const e=t[ao];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=gS(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=gS(t,!0);return av(n,(i,o)=>{u$(n,i,f$(o))},r),e&&(e.finalized_=!1),n}var vwe=new ywe;vwe.produce;var xwe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},h$=zi({name:"legend",initialState:xwe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:bn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ra(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:bn()},removeLegendPayload:{reducer(t,e){var n=ra(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:bn()}}}),{setLegendSize:_4e,setLegendSettings:T4e,addLegendPayload:wwe,replaceLegendPayload:kwe,removeLegendPayload:Ewe}=h$.actions,_we=h$.reducer;function xS(){return xS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xS.apply(null,arguments)}function gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(n),!0).forEach(function(r){Twe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Twe(t,e,n){return(e=Swe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Swe(t){var e=Awe(t,"string");return typeof e=="symbol"?e:e+""}function Awe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cwe(t){return Array.isArray(t)&&Qa(t[0])&&Qa(t[1])?t.join(" ~ "):t}var Iwe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:a,itemSorter:l,wrapperClassName:u,labelClassName:d,label:p,labelFormatter:g,accessibilityLayer:m=!1}=t,b=()=>{if(o&&o.length){var L={padding:0,margin:0},M=(l?Mx(o,l):o).map((P,z)=>{if(P.type==="none")return null;var U=P.formatter||a||Cwe,{value:q,name:V}=P,B=q,F=V;if(U){var ne=U(q,V,P,z,o);if(Array.isArray(ne))[B,F]=ne;else if(ne!=null)B=ne;else return null}var W=v_({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:W},Qa(F)?T.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Qa(F)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},B),T.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:L},M)}return null},E=v_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=v_({margin:0},i),_=!kn(p),C=_?p:"",N=Ut("recharts-default-tooltip",u),I=Ut("recharts-tooltip-label",d);_&&g&&o!==void 0&&o!==null&&(C=g(p,o));var D=m?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",xS({className:N,style:E},D),T.createElement("p",{className:I,style:A},T.isValidElement(C)?C:"".concat(C)),b())},gh="recharts-tooltip-wrapper",Nwe={visibility:"hidden"};function Rwe(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ut(gh,{["".concat(gh,"-right")]:Ue(n)&&e&&Ue(e.x)&&n>=e.x,["".concat(gh,"-left")]:Ue(n)&&e&&Ue(e.x)&&n<e.x,["".concat(gh,"-bottom")]:Ue(r)&&e&&Ue(e.y)&&r>=e.y,["".concat(gh,"-top")]:Ue(r)&&e&&Ue(e.y)&&r<e.y})}function mj(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=t;if(o&&Ue(o[r]))return o[r];var p=n[r]-l-(i>0?i:0),g=n[r]+i;if(e[r])return a[r]?p:g;var m=u[r];if(m==null)return 0;if(a[r]){var b=p,E=m;return b<E?Math.max(g,m):Math.max(p,m)}if(d==null)return 0;var A=g+l,_=m+d;return A>_?Math.max(p,m):Math.max(g,m)}function Pwe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Owe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:a,useTranslate3d:l,viewBox:u}=t,d,p,g;return a.height>0&&a.width>0&&n?(p=mj({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),g=mj({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),d=Pwe({translateX:p,translateY:g,useTranslate3d:l})):d=Nwe,{cssProperties:d,cssClasses:Rwe({translateX:p,translateY:g,coordinate:n})}}function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){wS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wS(t,e,n){return(e=Dwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dwe(t){var e=Mwe(t,"string");return typeof e=="symbol"?e:e+""}function Mwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zwe extends T.PureComponent{constructor(){super(...arguments),wS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),wS(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:l,isAnimationActive:u,offset:d,position:p,reverseDirection:g,useTranslate3d:m,viewBox:b,wrapperStyle:E,lastBoundingBox:A,innerRef:_,hasPortalFromProps:C}=this.props,{cssClasses:N,cssProperties:I}=Owe({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:d,position:p,reverseDirection:g,tooltipBox:{height:A.height,width:A.width},useTranslate3d:m,viewBox:b}),D=C?{}:w0(w0({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),L=w0(w0({},D),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},E);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:L,ref:_},o)}}var g$=()=>{var t;return(t=He(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kS.apply(null,arguments)}function bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(n),!0).forEach(function(r){jwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jwe(t,e,n){return(e=Lwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lwe(t){var e=Uwe(t,"string");return typeof e=="symbol"?e:e+""}function Uwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xj={curveBasisClosed:L0e,curveBasisOpen:U0e,curveBasis:j0e,curveBumpX:E0e,curveBumpY:_0e,curveLinearClosed:V0e,curveLinear:Ox,curveMonotoneX:F0e,curveMonotoneY:B0e,curveNatural:$0e,curveStep:q0e,curveStepAfter:G0e,curveStepBefore:H0e},cv=t=>pn(t.x)&&pn(t.y),wj=t=>t.base!=null&&cv(t.base)&&cv(t),mh=t=>t.x,yh=t=>t.y,Vwe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(am(t));return(n==="curveMonotone"||n==="curveBump")&&e?xj["".concat(n).concat(e==="vertical"?"Y":"X")]:xj[n]||Ox},Fwe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,a=Vwe(e,i),l=o?n.filter(cv):n,u;if(Array.isArray(r)){var d=n.map((b,E)=>vj(vj({},b),{},{base:r[E]}));i==="vertical"?u=f0().y(yh).x1(mh).x0(b=>b.base.x):u=f0().x(mh).y1(yh).y0(b=>b.base.y);var p=u.defined(wj).curve(a),g=o?d.filter(wj):d;return p(g)}i==="vertical"&&Ue(r)?u=f0().y(yh).x1(mh).x0(r):Ue(r)?u=f0().x(mh).y1(yh).y0(r):u=qB().x(mh).y(yh);var m=u.defined(cv).curve(a);return m(l)},Gh=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?Fwe(t):r;return T.createElement("path",kS({},Do(t),rI(t),{className:Ut("recharts-curve",e),d:o===null?void 0:o,ref:i}))},Bwe=["x","y","top","left","width","height","className"];function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ES.apply(null,arguments)}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $we(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){qwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qwe(t,e,n){return(e=Hwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hwe(t){var e=Gwe(t,"string");return typeof e=="symbol"?e:e+""}function Gwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kwe(t,e){if(t==null)return{};var n,r,i=Wwe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ywe=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),Jwe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:l}=t,u=Kwe(t,Bwe),d=$we({x:e,y:n,top:r,left:i,width:o,height:a},u);return!Ue(e)||!Ue(n)||!Ue(o)||!Ue(a)||!Ue(r)||!Ue(i)?null:T.createElement("path",ES({},ui(d),{className:Ut("recharts-cross",l),d:Ywe(e,n,o,a,r,i)}))};function Xwe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(n),!0).forEach(function(r){Qwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qwe(t,e,n){return(e=Zwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zwe(t){var e=eke(t,"string");return typeof e=="symbol"?e:e+""}function eke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tke=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),m$=(t,e,n)=>t.map(r=>"".concat(tke(r)," ").concat(e,"ms ").concat(n)).join(","),nke=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),bg=(t,e)=>Object.keys(e).reduce((n,r)=>_j(_j({},n),{},{[r]:t(r,e[r])}),{});function Tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tj(Object(n),!0).forEach(function(r){rke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rke(t,e,n){return(e=ike(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ike(t){var e=oke(t,"string");return typeof e=="symbol"?e:e+""}function oke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uv=(t,e,n)=>t+(e-t)*n,_S=t=>{var{from:e,to:n}=t;return e!==n},y$=(t,e,n)=>{var r=bg((i,o)=>{if(_S(o)){var[a,l]=t(o.from,o.to,o.velocity);return tr(tr({},o),{},{from:a,velocity:l})}return o},e);return n<1?bg((i,o)=>_S(o)?tr(tr({},o),{},{velocity:uv(o.velocity,r[i].velocity,n),from:uv(o.from,r[i].from,n)}):o,e):y$(t,r,n-1)};function ake(t,e,n,r,i,o){var a,l=r.reduce((m,b)=>tr(tr({},m),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),u=()=>bg((m,b)=>b.from,l),d=()=>!Object.values(l).filter(_S).length,p=null,g=m=>{a||(a=m);var b=m-a,E=b/n.dt;l=y$(n,l,E),i(tr(tr(tr({},t),e),u())),a=m,d()||(p=o.setTimeout(g))};return()=>(p=o.setTimeout(g),()=>{var m;(m=p)===null||m===void 0||m()})}function ske(t,e,n,r,i,o,a){var l=null,u=i.reduce((g,m)=>tr(tr({},g),{},{[m]:[t[m],e[m]]}),{}),d,p=g=>{d||(d=g);var m=(g-d)/r,b=bg((A,_)=>uv(..._,n(m)),u);if(o(tr(tr(tr({},t),e),b)),m<1)l=a.setTimeout(p);else{var E=bg((A,_)=>uv(..._,n(1)),u);o(tr(tr(tr({},t),e),E))}};return()=>(l=a.setTimeout(p),()=>{var g;(g=l)===null||g===void 0||g()})}const lke=(t,e,n,r,i,o)=>{var a=nke(t,e);return n==null?()=>(i(tr(tr({},t),e)),()=>{}):n.isStepper===!0?ake(t,e,n,a,i,o):ske(t,e,n,r,a,i,o)};var dv=1e-4,b$=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],v$=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),Sj=(t,e)=>n=>{var r=b$(t,e);return v$(r,n)},cke=(t,e)=>n=>{var r=b$(t,e),i=[...r.map((o,a)=>o*a).slice(1),0];return v$(i,n)},uke=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var a=o[1].split(")")[0].split(",").map(l=>parseFloat(l));return[a[0],a[1],a[2],a[3]]}}}return n.length===4?n:[0,0,1,1]},dke=(t,e,n,r)=>{var i=Sj(t,n),o=Sj(e,r),a=cke(t,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var p=d>1?1:d,g=p,m=0;m<8;++m){var b=i(g)-p,E=a(g);if(Math.abs(b-p)<dv||E<dv)return o(g);g=l(g-b/E)}return o(g)};return u.isStepper=!1,u},Aj=function(){return dke(...uke(...arguments))},pke=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(a,l,u)=>{var d=-(a-l)*n,p=u*r,g=u+(d-p)*i/1e3,m=u*i/1e3+a;return Math.abs(m-l)<dv&&Math.abs(g)<dv?[l,0]:[m,g]};return o.isStepper=!0,o.dt=i,o},fke=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Aj(t);case"spring":return pke();default:if(t.split("(")[0]==="cubic-bezier")return Aj(t)}return typeof t=="function"?t:null};function hke(t){var e,n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[u,...d]=l;if(typeof u=="number"){i=t.setTimeout(o.bind(null,d),u);return}o(u),i=t.setTimeout(o.bind(null,d));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class gke{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function mke(){return hke(new gke)}var yke=T.createContext(mke);function bke(t,e){var n=T.useContext(yke);return T.useMemo(()=>e??n(t),[t,e,n])}var vke=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Wp={devToolsEnabled:!1,isSsr:vke()},xke={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Cj={t:0},x_={t:1};function ew(t){var e=hi(t,xke),{isActive:n,canBegin:r,duration:i,easing:o,begin:a,onAnimationEnd:l,onAnimationStart:u,children:d}=e,p=n==="auto"?!Wp.isSsr:n,g=bke(e.animationId,e.animationManager),[m,b]=T.useState(p?Cj:x_),E=T.useRef(null);return T.useEffect(()=>{p||b(x_)},[p]),T.useEffect(()=>{if(!p||!r)return sm;var A=lke(Cj,x_,fke(o),i,b,g.getTimeoutController()),_=()=>{E.current=A()};return g.start([u,a,_,i,l]),()=>{g.stop(),E.current&&E.current(),l()}},[p,r,i,o,a,u,l,g]),d(m.t)}function tw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(dg(e)),r=T.useRef(t);return r.current!==t&&(n.current=dg(e),r.current=t),n.current}var wke=["radius"],kke=["radius"];function Ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ij(Object(n),!0).forEach(function(r){Eke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eke(t,e,n){return(e=_ke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ke(t){var e=Tke(t,"string");return typeof e=="symbol"?e:e+""}function Tke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pv.apply(null,arguments)}function Rj(t,e){if(t==null)return{};var n,r,i=Ske(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ske(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pj=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,m=4;g<m;g++)p[g]=i[g]>o?o:i[g];d="M".concat(t,",").concat(e+a*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(t+l*p[0],",").concat(e)),d+="L ".concat(t+n-l*p[1],",").concat(e),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+a*p[1])),d+="L ".concat(t+n,",").concat(e+r-a*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(t+n-l*p[2],",").concat(e+r)),d+="L ".concat(t+l*p[3],",").concat(e+r),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-a*p[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);d="M ".concat(t,",").concat(e+a*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+l*b,",").concat(e,`
            L `).concat(t+n-l*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n,",").concat(e+a*b,`
            L `).concat(t+n,",").concat(e+r-a*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n-l*b,",").concat(e+r,`
            L `).concat(t+l*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t,",").concat(e+r-a*b," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},Oj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},x$=t=>{var e=hi(t,Oj),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&i(Z)}catch{}},[]);var{x:o,y:a,width:l,height:u,radius:d,className:p}=e,{animationEasing:g,animationDuration:m,animationBegin:b,isAnimationActive:E,isUpdateAnimationActive:A}=e,_=T.useRef(l),C=T.useRef(u),N=T.useRef(o),I=T.useRef(a),D=T.useMemo(()=>({x:o,y:a,width:l,height:u,radius:d}),[o,a,l,u,d]),L=tw(D,"rectangle-");if(o!==+o||a!==+a||l!==+l||u!==+u||l===0||u===0)return null;var M=Ut("recharts-rectangle",p);if(!A){var P=ui(e),{radius:z}=P,U=Rj(P,wke);return T.createElement("path",pv({},U,{radius:typeof d=="number"?d:void 0,className:M,d:Pj(o,a,l,u,d)}))}var q=_.current,V=C.current,B=N.current,F=I.current,ne="0px ".concat(r===-1?1:r,"px"),W="".concat(r,"px 0px"),X=m$(["strokeDasharray"],m,typeof g=="string"?g:Oj.animationEasing);return T.createElement(ew,{animationId:L,key:L,canBegin:r>0,duration:m,easing:g,isActive:A,begin:b},Z=>{var oe=wn(q,l,Z),fe=wn(V,u,Z),Y=wn(B,o,Z),G=wn(F,a,Z);n.current&&(_.current=oe,C.current=fe,N.current=Y,I.current=G);var J;E?Z>0?J={transition:X,strokeDasharray:W}:J={strokeDasharray:ne}:J={strokeDasharray:W};var $=ui(e),{radius:be}=$,_e=Rj($,kke);return T.createElement("path",pv({},_e,{radius:typeof d=="number"?d:void 0,className:M,d:Pj(Y,G,oe,fe,d),ref:n,style:Nj(Nj({},J),e.style)}))})};function Dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dj(Object(n),!0).forEach(function(r){Ake(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ake(t,e,n){return(e=Cke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cke(t){var e=Ike(t,"string");return typeof e=="symbol"?e:e+""}function Ike(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fv=Math.PI/180,Nke=t=>t*180/Math.PI,Dr=(t,e,n,r)=>({x:t+Math.cos(-fv*r)*n,y:e+Math.sin(-fv*r)*n}),Rke=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Pke=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},Oke=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,a=Pke({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,u=Math.acos(l);return r>o&&(u=2*Math.PI-u),{radius:a,angle:Nke(u),angleInRadian:u}},Dke=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},Mke=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return t+a*360},zke=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=Oke({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:u,endAngle:d}=Dke(e),p=o,g;if(u<=d){for(;p>d;)p-=360;for(;p<u;)p+=360;g=p>=u&&p<=d}else{for(;p>u;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=u}return g?Mj(Mj({},e),{},{radius:i,angle:Mke(p,e)}):null};function w$(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,a=Dr(e,n,r,i),l=Dr(e,n,r,o);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TS.apply(null,arguments)}var jke=(t,e)=>{var n=Ri(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},k0=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:l,cornerIsExternal:u}=t,d=l*(a?1:-1)+r,p=Math.asin(l/d)/fv,g=u?i:i+o*p,m=Dr(e,n,d,g),b=Dr(e,n,r,g),E=u?i-o*p:i,A=Dr(e,n,d*Math.cos(p*fv),E);return{center:m,circleTangency:b,lineTangency:A,theta:p}},k$=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=t,l=jke(o,a),u=o+l,d=Dr(e,n,i,o),p=Dr(e,n,i,u),g="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var m=Dr(e,n,r,o),b=Dr(e,n,r,u);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},Lke=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:d}=t,p=Ri(d-u),{circleTangency:g,lineTangency:m,theta:b}=k0({cx:e,cy:n,radius:i,angle:u,sign:p,cornerRadius:o,cornerIsExternal:l}),{circleTangency:E,lineTangency:A,theta:_}=k0({cx:e,cy:n,radius:i,angle:d,sign:-p,cornerRadius:o,cornerIsExternal:l}),C=l?Math.abs(u-d):Math.abs(u-d)-b-_;if(C<0)return a?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):k$({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:I,lineTangency:D,theta:L}=k0({cx:e,cy:n,radius:r,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),{circleTangency:M,lineTangency:P,theta:z}=k0({cx:e,cy:n,radius:r,angle:d,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),U=l?Math.abs(u-d):Math.abs(u-d)-L-z;if(U<0&&o===0)return"".concat(N,"L").concat(e,",").concat(n,"Z");N+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(U>180),",").concat(+(p>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,"Z")}else N+="L".concat(e,",").concat(n,"Z");return N},Uke={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},E$=t=>{var e=hi(t,Uke),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:p,className:g}=e;if(o<i||d===p)return null;var m=Ut("recharts-sector",g),b=o-i,E=ca(a,b,0,!0),A;return E>0&&Math.abs(d-p)<360?A=Lke({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(E,b/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:p}):A=k$({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:p}),T.createElement("path",TS({},ui(e),{className:m,d:A}))};function Vke(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(a8(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:a,angle:l}=e,u=Dr(r,i,o,l),d=Dr(r,i,a,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return w$(e)}}var w_={},k_={},E_={},zj;function Fke(){return zj||(zj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y8();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(E_)),E_}var jj;function Bke(){return jj||(jj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fke();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(k_)),k_}var Lj;function $ke(){return Lj||(Lj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b8(),n=Bke();function r(i,o,a){a&&typeof a!="number"&&e.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((o-i)/(a||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=a;return u}t.range=r})(w_)),w_}var __,Uj;function qke(){return Uj||(Uj=1,__=$ke().range),__}var Hke=qke();const _$=Lo(Hke);function cc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gke(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vI(t){let e,n,r;t.length!==2?(e=cc,n=(l,u)=>cc(t(l),u),r=(l,u)=>t(l)-u):(e=t===cc||t===Gke?t:Kke,n=t,r=t);function i(l,u,d=0,p=l.length){if(d<p){if(e(u,u)!==0)return p;do{const g=d+p>>>1;n(l[g],u)<0?d=g+1:p=g}while(d<p)}return d}function o(l,u,d=0,p=l.length){if(d<p){if(e(u,u)!==0)return p;do{const g=d+p>>>1;n(l[g],u)<=0?d=g+1:p=g}while(d<p)}return d}function a(l,u,d=0,p=l.length){const g=i(l,u,d,p-1);return g>d&&r(l[g-1],u)>-r(l[g],u)?g-1:g}return{left:i,center:a,right:o}}function Kke(){return 0}function T$(t){return t===null?NaN:+t}function*Wke(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Yke=vI(cc),fm=Yke.right;vI(T$).center;class Vj extends Map{constructor(e,n=Qke){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Fj(this,e))}has(e){return super.has(Fj(this,e))}set(e,n){return super.set(Jke(this,e),n)}delete(e){return super.delete(Xke(this,e))}}function Fj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Jke({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Xke({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Qke(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Zke(t=cc){if(t===cc)return S$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function S$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const e1e=Math.sqrt(50),t1e=Math.sqrt(10),n1e=Math.sqrt(2);function hv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=e1e?10:o>=t1e?5:o>=n1e?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/a,l=Math.round(t*d),u=Math.round(e*d),l/d<t&&++l,u/d>e&&--u,d=-d):(d=Math.pow(10,i)*a,l=Math.round(t/d),u=Math.round(e/d),l*d<t&&++l,u*d>e&&--u),u<l&&.5<=n&&n<2?hv(t,e,n*2):[l,u,d]}function SS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?hv(e,t,n):hv(t,e,n);if(!(o>=i))return[];const l=o-i+1,u=new Array(l);if(r)if(a<0)for(let d=0;d<l;++d)u[d]=(o-d)/-a;else for(let d=0;d<l;++d)u[d]=(o-d)*a;else if(a<0)for(let d=0;d<l;++d)u[d]=(i+d)/-a;else for(let d=0;d<l;++d)u[d]=(i+d)*a;return u}function AS(t,e,n){return e=+e,t=+t,n=+n,hv(t,e,n)[2]}function CS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?AS(e,t,n):AS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Bj(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function $j(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function A$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?S$:Zke(i);r>n;){if(r-n>600){const u=r-n+1,d=e-n+1,p=Math.log(u),g=.5*Math.exp(2*p/3),m=.5*Math.sqrt(p*g*(u-g)/u)*(d-u/2<0?-1:1),b=Math.max(n,Math.floor(e-d*g/u+m)),E=Math.min(r,Math.floor(e+(u-d)*g/u+m));A$(t,e,b,E,i)}const o=t[e];let a=n,l=r;for(bh(t,n,e),i(t[r],o)>0&&bh(t,n,r);a<l;){for(bh(t,a,l),++a,--l;i(t[a],o)<0;)++a;for(;i(t[l],o)>0;)--l}i(t[n],o)===0?bh(t,n,l):(++l,bh(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function bh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function r1e(t,e,n){if(t=Float64Array.from(Wke(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return $j(t);if(e>=1)return Bj(t);var r,i=(r-1)*e,o=Math.floor(i),a=Bj(A$(t,o).subarray(0,o+1)),l=$j(t.subarray(o+1));return a+(l-a)*(i-o)}}function i1e(t,e,n=T$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),l=+n(t[o+1],o+1,t);return a+(l-a)*(i-o)}}function o1e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Bo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function rl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const IS=Symbol("implicit");function xI(){var t=new Vj,e=[],n=[],r=IS;function i(o){let a=t.get(o);if(a===void 0){if(r!==IS)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Vj;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return xI(e,n).unknown(r)},Bo.apply(i,arguments),i}function wI(){var t=xI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,l=!1,u=0,d=0,p=.5;delete t.unknown;function g(){var m=e().length,b=i<r,E=b?i:r,A=b?r:i;o=(A-E)/Math.max(1,m-u+d*2),l&&(o=Math.floor(o)),E+=(A-E-o*(m-u))*p,a=o*(1-u),l&&(E=Math.round(E),a=Math.round(a));var _=o1e(m).map(function(C){return E+o*C});return n(b?_.reverse():_)}return t.domain=function(m){return arguments.length?(e(m),g()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,g()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(m){return arguments.length?(l=!!m,g()):l},t.padding=function(m){return arguments.length?(u=Math.min(1,d=+m),g()):u},t.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),g()):u},t.paddingOuter=function(m){return arguments.length?(d=+m,g()):d},t.align=function(m){return arguments.length?(p=Math.max(0,Math.min(1,m)),g()):p},t.copy=function(){return wI(e(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(p)},Bo.apply(g(),arguments)}function C$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return C$(e())},t}function a1e(){return C$(wI.apply(null,arguments).paddingInner(1))}function kI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function I$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function hm(){}var vg=.7,gv=1/vg,rp="\\s*([+-]?\\d+)\\s*",xg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ka="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s1e=/^#([0-9a-f]{3,8})$/,l1e=new RegExp(`^rgb\\(${rp},${rp},${rp}\\)$`),c1e=new RegExp(`^rgb\\(${Ka},${Ka},${Ka}\\)$`),u1e=new RegExp(`^rgba\\(${rp},${rp},${rp},${xg}\\)$`),d1e=new RegExp(`^rgba\\(${Ka},${Ka},${Ka},${xg}\\)$`),p1e=new RegExp(`^hsl\\(${xg},${Ka},${Ka}\\)$`),f1e=new RegExp(`^hsla\\(${xg},${Ka},${Ka},${xg}\\)$`),qj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kI(hm,wg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Hj,formatHex:Hj,formatHex8:h1e,formatHsl:g1e,formatRgb:Gj,toString:Gj});function Hj(){return this.rgb().formatHex()}function h1e(){return this.rgb().formatHex8()}function g1e(){return N$(this).formatHsl()}function Gj(){return this.rgb().formatRgb()}function wg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=s1e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Kj(e):n===3?new Pi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?E0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?E0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=l1e.exec(t))?new Pi(e[1],e[2],e[3],1):(e=c1e.exec(t))?new Pi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=u1e.exec(t))?E0(e[1],e[2],e[3],e[4]):(e=d1e.exec(t))?E0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=p1e.exec(t))?Jj(e[1],e[2]/100,e[3]/100,1):(e=f1e.exec(t))?Jj(e[1],e[2]/100,e[3]/100,e[4]):qj.hasOwnProperty(t)?Kj(qj[t]):t==="transparent"?new Pi(NaN,NaN,NaN,0):null}function Kj(t){return new Pi(t>>16&255,t>>8&255,t&255,1)}function E0(t,e,n,r){return r<=0&&(t=e=n=NaN),new Pi(t,e,n,r)}function m1e(t){return t instanceof hm||(t=wg(t)),t?(t=t.rgb(),new Pi(t.r,t.g,t.b,t.opacity)):new Pi}function NS(t,e,n,r){return arguments.length===1?m1e(t):new Pi(t,e,n,r??1)}function Pi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}kI(Pi,NS,I$(hm,{brighter(t){return t=t==null?gv:Math.pow(gv,t),new Pi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vg:Math.pow(vg,t),new Pi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pi(yu(this.r),yu(this.g),yu(this.b),mv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wj,formatHex:Wj,formatHex8:y1e,formatRgb:Yj,toString:Yj}));function Wj(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}`}function y1e(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}${cu((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yj(){const t=mv(this.opacity);return`${t===1?"rgb(":"rgba("}${yu(this.r)}, ${yu(this.g)}, ${yu(this.b)}${t===1?")":`, ${t})`}`}function mv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cu(t){return t=yu(t),(t<16?"0":"")+t.toString(16)}function Jj(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ta(t,e,n,r)}function N$(t){if(t instanceof ta)return new ta(t.h,t.s,t.l,t.opacity);if(t instanceof hm||(t=wg(t)),!t)return new ta;if(t instanceof ta)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,u=(o+i)/2;return l?(e===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-e)/l+2:a=(e-n)/l+4,l/=u<.5?o+i:2-o-i,a*=60):l=u>0&&u<1?0:a,new ta(a,l,u,t.opacity)}function b1e(t,e,n,r){return arguments.length===1?N$(t):new ta(t,e,n,r??1)}function ta(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}kI(ta,b1e,I$(hm,{brighter(t){return t=t==null?gv:Math.pow(gv,t),new ta(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vg:Math.pow(vg,t),new ta(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Pi(T_(t>=240?t-240:t+120,i,r),T_(t,i,r),T_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ta(Xj(this.h),_0(this.s),_0(this.l),mv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mv(this.opacity);return`${t===1?"hsl(":"hsla("}${Xj(this.h)}, ${_0(this.s)*100}%, ${_0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Xj(t){return t=(t||0)%360,t<0?t+360:t}function _0(t){return Math.max(0,Math.min(1,t||0))}function T_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const EI=t=>()=>t;function v1e(t,e){return function(n){return t+n*e}}function x1e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function w1e(t){return(t=+t)==1?R$:function(e,n){return n-e?x1e(e,n,t):EI(isNaN(e)?n:e)}}function R$(t,e){var n=e-t;return n?v1e(t,n):EI(isNaN(t)?e:t)}const Qj=(function t(e){var n=w1e(e);function r(i,o){var a=n((i=NS(i)).r,(o=NS(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),d=R$(i.opacity,o.opacity);return function(p){return i.r=a(p),i.g=l(p),i.b=u(p),i.opacity=d(p),i+""}}return r.gamma=t,r})(1);function k1e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function E1e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _1e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Yp(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function T1e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function yv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function S1e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Yp(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var RS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,S_=new RegExp(RS.source,"g");function A1e(t){return function(){return t}}function C1e(t){return function(e){return t(e)+""}}function I1e(t,e){var n=RS.lastIndex=S_.lastIndex=0,r,i,o,a=-1,l=[],u=[];for(t=t+"",e=e+"";(r=RS.exec(t))&&(i=S_.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:yv(r,i)})),n=S_.lastIndex;return n<e.length&&(o=e.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?C1e(u[0].x):A1e(e):(e=u.length,function(d){for(var p=0,g;p<e;++p)l[(g=u[p]).i]=g.x(d);return l.join("")})}function Yp(t,e){var n=typeof e,r;return e==null||n==="boolean"?EI(e):(n==="number"?yv:n==="string"?(r=wg(e))?(e=r,Qj):I1e:e instanceof wg?Qj:e instanceof Date?T1e:E1e(e)?k1e:Array.isArray(e)?_1e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?S1e:yv)(t,e)}function _I(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function N1e(t,e){e===void 0&&(e=t,t=Yp);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[l](a-l)}}function R1e(t){return function(){return t}}function bv(t){return+t}var Zj=[0,1];function si(t){return t}function PS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:R1e(isNaN(e)?NaN:.5)}function P1e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function O1e(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=PS(i,r),o=n(a,o)):(r=PS(r,i),o=n(o,a)),function(l){return o(r(l))}}function D1e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=PS(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(l){var u=fm(t,l,1,r)-1;return o[u](i[u](l))}}function gm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function nw(){var t=Zj,e=Zj,n=Yp,r,i,o,a=si,l,u,d;function p(){var m=Math.min(t.length,e.length);return a!==si&&(a=P1e(t[0],t[m-1])),l=m>2?D1e:O1e,u=d=null,g}function g(m){return m==null||isNaN(m=+m)?o:(u||(u=l(t.map(r),e,n)))(r(a(m)))}return g.invert=function(m){return a(i((d||(d=l(e,t.map(r),yv)))(m)))},g.domain=function(m){return arguments.length?(t=Array.from(m,bv),p()):t.slice()},g.range=function(m){return arguments.length?(e=Array.from(m),p()):e.slice()},g.rangeRound=function(m){return e=Array.from(m),n=_I,p()},g.clamp=function(m){return arguments.length?(a=m?!0:si,p()):a!==si},g.interpolate=function(m){return arguments.length?(n=m,p()):n},g.unknown=function(m){return arguments.length?(o=m,g):o},function(m,b){return r=m,i=b,p()}}function TI(){return nw()(si,si)}function M1e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Sp(t){return t=vv(Math.abs(t)),t?t[1]:NaN}function z1e(t,e){return function(n,r){for(var i=n.length,o=[],a=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(e)}}function j1e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var L1e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kg(t){if(!(e=L1e.exec(t)))throw new Error("invalid format: "+t);var e;return new SI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}kg.prototype=SI.prototype;function SI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}SI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function U1e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var P$;function V1e(t,e){var n=vv(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(P$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+vv(t,Math.max(0,e+o-1))[0]}function eL(t,e){var n=vv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const tL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:M1e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>eL(t*100,e),r:eL,s:V1e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nL(t){return t}var rL=Array.prototype.map,iL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function F1e(t){var e=t.grouping===void 0||t.thousands===void 0?nL:z1e(rL.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?nL:j1e(rL.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function d(g){g=kg(g);var m=g.fill,b=g.align,E=g.sign,A=g.symbol,_=g.zero,C=g.width,N=g.comma,I=g.precision,D=g.trim,L=g.type;L==="n"?(N=!0,L="g"):tL[L]||(I===void 0&&(I=12),D=!0,L="g"),(_||m==="0"&&b==="=")&&(_=!0,m="0",b="=");var M=A==="$"?n:A==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",P=A==="$"?r:/[%p]/.test(L)?a:"",z=tL[L],U=/[defgprs%]/.test(L);I=I===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function q(V){var B=M,F=P,ne,W,X;if(L==="c")F=z(V)+F,V="";else{V=+V;var Z=V<0||1/V<0;if(V=isNaN(V)?u:z(Math.abs(V),I),D&&(V=U1e(V)),Z&&+V==0&&E!=="+"&&(Z=!1),B=(Z?E==="("?E:l:E==="-"||E==="("?"":E)+B,F=(L==="s"?iL[8+P$/3]:"")+F+(Z&&E==="("?")":""),U){for(ne=-1,W=V.length;++ne<W;)if(X=V.charCodeAt(ne),48>X||X>57){F=(X===46?i+V.slice(ne+1):V.slice(ne))+F,V=V.slice(0,ne);break}}}N&&!_&&(V=e(V,1/0));var oe=B.length+V.length+F.length,fe=oe<C?new Array(C-oe+1).join(m):"";switch(N&&_&&(V=e(fe+V,fe.length?C-F.length:1/0),fe=""),b){case"<":V=B+V+F+fe;break;case"=":V=B+fe+V+F;break;case"^":V=fe.slice(0,oe=fe.length>>1)+B+V+F+fe.slice(oe);break;default:V=fe+B+V+F;break}return o(V)}return q.toString=function(){return g+""},q}function p(g,m){var b=d((g=kg(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(Sp(m)/3)))*3,A=Math.pow(10,-E),_=iL[8+E/3];return function(C){return b(A*C)+_}}return{format:d,formatPrefix:p}}var T0,AI,O$;B1e({thousands:",",grouping:[3],currency:["$",""]});function B1e(t){return T0=F1e(t),AI=T0.format,O$=T0.formatPrefix,T0}function $1e(t){return Math.max(0,-Sp(Math.abs(t)))}function q1e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sp(e)/3)))*3-Sp(Math.abs(t)))}function H1e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sp(e)-Sp(t))+1}function D$(t,e,n,r){var i=CS(t,e,n),o;switch(r=kg(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=q1e(i,a))&&(r.precision=o),O$(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=H1e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=$1e(i))&&(r.precision=o-(r.type==="%")*2);break}}return AI(r)}function Sc(t){var e=t.domain;return t.ticks=function(n){var r=e();return SS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return D$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],l=r[o],u,d,p=10;for(l<a&&(d=a,a=l,l=d,d=i,i=o,o=d);p-- >0;){if(d=AS(a,l,n),d===u)return r[i]=a,r[o]=l,e(r);if(d>0)a=Math.floor(a/d)*d,l=Math.ceil(l/d)*d;else if(d<0)a=Math.ceil(a*d)/d,l=Math.floor(l*d)/d;else break;u=d}return t},t}function M$(){var t=TI();return t.copy=function(){return gm(t,M$())},Bo.apply(t,arguments),Sc(t)}function z$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,bv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return z$(t).unknown(e)},t=arguments.length?Array.from(t,bv):[0,1],Sc(n)}function j$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function oL(t){return Math.log(t)}function aL(t){return Math.exp(t)}function G1e(t){return-Math.log(-t)}function K1e(t){return-Math.exp(-t)}function W1e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Y1e(t){return t===10?W1e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function J1e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function sL(t){return(e,n)=>-t(-e,n)}function CI(t){const e=t(oL,aL),n=e.domain;let r=10,i,o;function a(){return i=J1e(r),o=Y1e(r),n()[0]<0?(i=sL(i),o=sL(o),t(G1e,K1e)):t(oL,aL),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const u=n();let d=u[0],p=u[u.length-1];const g=p<d;g&&([d,p]=[p,d]);let m=i(d),b=i(p),E,A;const _=l==null?10:+l;let C=[];if(!(r%1)&&b-m<_){if(m=Math.floor(m),b=Math.ceil(b),d>0){for(;m<=b;++m)for(E=1;E<r;++E)if(A=m<0?E/o(-m):E*o(m),!(A<d)){if(A>p)break;C.push(A)}}else for(;m<=b;++m)for(E=r-1;E>=1;--E)if(A=m>0?E/o(-m):E*o(m),!(A<d)){if(A>p)break;C.push(A)}C.length*2<_&&(C=SS(d,p,_))}else C=SS(m,b,Math.min(b-m,_)).map(o);return g?C.reverse():C},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=kg(u)).precision==null&&(u.trim=!0),u=AI(u)),l===1/0)return u;const d=Math.max(1,r*l/e.ticks().length);return p=>{let g=p/o(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=d?u(p):""}},e.nice=()=>n(j$(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function L$(){const t=CI(nw()).domain([1,10]);return t.copy=()=>gm(t,L$()).base(t.base()),Bo.apply(t,arguments),t}function lL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function II(t){var e=1,n=t(lL(e),cL(e));return n.constant=function(r){return arguments.length?t(lL(e=+r),cL(e)):e},Sc(n)}function U$(){var t=II(nw());return t.copy=function(){return gm(t,U$()).constant(t.constant())},Bo.apply(t,arguments)}function uL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function X1e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Q1e(t){return t<0?-t*t:t*t}function NI(t){var e=t(si,si),n=1;function r(){return n===1?t(si,si):n===.5?t(X1e,Q1e):t(uL(n),uL(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Sc(e)}function RI(){var t=NI(nw());return t.copy=function(){return gm(t,RI()).exponent(t.exponent())},Bo.apply(t,arguments),t}function Z1e(){return RI.apply(null,arguments).exponent(.5)}function dL(t){return Math.sign(t)*t*t}function eEe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function V$(){var t=TI(),e=[0,1],n=!1,r;function i(o){var a=eEe(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(dL(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,bv)).map(dL)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return V$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Bo.apply(i,arguments),Sc(i)}function F$(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=i1e(t,a/l);return o}function o(a){return a==null||isNaN(a=+a)?r:e[fm(n,a)]}return o.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(cc),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return F$().domain(t).range(e).unknown(r)},Bo.apply(o,arguments)}function B$(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(u){return u!=null&&u<=u?i[fm(r,u,0,n)]:o}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},a.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(u){return arguments.length&&(o=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return B$().domain([t,e]).range(i).unknown(o)},Bo.apply(Sc(a),arguments)}function $$(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[fm(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return $$().domain(t).range(e).unknown(n)},Bo.apply(i,arguments)}const A_=new Date,C_=new Date;function or(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),l=i.ceil(o);return o-a<l-o?a:l},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,l)=>{const u=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<a)||!(l>0))return u;let d;do u.push(d=new Date(+o)),e(o,l),t(o);while(d<o&&o<a);return u},i.filter=o=>or(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!o(a););else for(;--l>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(A_.setTime(+o),C_.setTime(+a),t(A_),t(C_),Math.floor(n(A_,C_))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const xv=or(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);xv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?or(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):xv);xv.range;const As=1e3,Ro=As*60,Cs=Ro*60,qs=Cs*24,PI=qs*7,pL=qs*30,I_=qs*365,uu=or(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getUTCSeconds());uu.range;const OI=or(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*As)},(t,e)=>{t.setTime(+t+e*Ro)},(t,e)=>(e-t)/Ro,t=>t.getMinutes());OI.range;const DI=or(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ro)},(t,e)=>(e-t)/Ro,t=>t.getUTCMinutes());DI.range;const MI=or(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*As-t.getMinutes()*Ro)},(t,e)=>{t.setTime(+t+e*Cs)},(t,e)=>(e-t)/Cs,t=>t.getHours());MI.range;const zI=or(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Cs)},(t,e)=>(e-t)/Cs,t=>t.getUTCHours());zI.range;const mm=or(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ro)/qs,t=>t.getDate()-1);mm.range;const rw=or(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qs,t=>t.getUTCDate()-1);rw.range;const q$=or(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qs,t=>Math.floor(t/qs));q$.range;function Fu(t){return or(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ro)/PI)}const iw=Fu(0),wv=Fu(1),tEe=Fu(2),nEe=Fu(3),Ap=Fu(4),rEe=Fu(5),iEe=Fu(6);iw.range;wv.range;tEe.range;nEe.range;Ap.range;rEe.range;iEe.range;function Bu(t){return or(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/PI)}const ow=Bu(0),kv=Bu(1),oEe=Bu(2),aEe=Bu(3),Cp=Bu(4),sEe=Bu(5),lEe=Bu(6);ow.range;kv.range;oEe.range;aEe.range;Cp.range;sEe.range;lEe.range;const jI=or(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());jI.range;const LI=or(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LI.range;const Hs=or(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:or(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Hs.range;const Gs=or(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Gs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:or(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Gs.range;function H$(t,e,n,r,i,o){const a=[[uu,1,As],[uu,5,5*As],[uu,15,15*As],[uu,30,30*As],[o,1,Ro],[o,5,5*Ro],[o,15,15*Ro],[o,30,30*Ro],[i,1,Cs],[i,3,3*Cs],[i,6,6*Cs],[i,12,12*Cs],[r,1,qs],[r,2,2*qs],[n,1,PI],[e,1,pL],[e,3,3*pL],[t,1,I_]];function l(d,p,g){const m=p<d;m&&([d,p]=[p,d]);const b=g&&typeof g.range=="function"?g:u(d,p,g),E=b?b.range(d,+p+1):[];return m?E.reverse():E}function u(d,p,g){const m=Math.abs(p-d)/g,b=vI(([,,_])=>_).right(a,m);if(b===a.length)return t.every(CS(d/I_,p/I_,g));if(b===0)return xv.every(Math.max(CS(d,p,g),1));const[E,A]=a[m/a[b-1][2]<a[b][2]/m?b-1:b];return E.every(A)}return[l,u]}const[cEe,uEe]=H$(Gs,LI,ow,q$,zI,DI),[dEe,pEe]=H$(Hs,jI,iw,mm,MI,OI);function N_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function R_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function fEe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,l=t.months,u=t.shortMonths,d=xh(i),p=wh(i),g=xh(o),m=wh(o),b=xh(a),E=wh(a),A=xh(l),_=wh(l),C=xh(u),N=wh(u),I={a:Z,A:oe,b:fe,B:Y,c:null,d:bL,e:bL,f:zEe,g:GEe,G:WEe,H:OEe,I:DEe,j:MEe,L:G$,m:jEe,M:LEe,p:G,q:J,Q:wL,s:kL,S:UEe,u:VEe,U:FEe,V:BEe,w:$Ee,W:qEe,x:null,X:null,y:HEe,Y:KEe,Z:YEe,"%":xL},D={a:$,A:be,b:_e,B:Te,c:null,d:vL,e:vL,f:ZEe,g:c_e,G:d_e,H:JEe,I:XEe,j:QEe,L:W$,m:e_e,M:t_e,p:je,q:Ye,Q:wL,s:kL,S:n_e,u:r_e,U:i_e,V:o_e,w:a_e,W:s_e,x:null,X:null,y:l_e,Y:u_e,Z:p_e,"%":xL},L={a:q,A:V,b:B,B:F,c:ne,d:mL,e:mL,f:IEe,g:gL,G:hL,H:yL,I:yL,j:TEe,L:CEe,m:_Ee,M:SEe,p:U,q:EEe,Q:REe,s:PEe,S:AEe,u:bEe,U:vEe,V:xEe,w:yEe,W:wEe,x:W,X,y:gL,Y:hL,Z:kEe,"%":NEe};I.x=M(n,I),I.X=M(r,I),I.c=M(e,I),D.x=M(n,D),D.X=M(r,D),D.c=M(e,D);function M(ue,Ae){return function(ae){var le=[],qe=-1,Be=0,pt=ue.length,_t,_n,Xr;for(ae instanceof Date||(ae=new Date(+ae));++qe<pt;)ue.charCodeAt(qe)===37&&(le.push(ue.slice(Be,qe)),(_n=fL[_t=ue.charAt(++qe)])!=null?_t=ue.charAt(++qe):_n=_t==="e"?" ":"0",(Xr=Ae[_t])&&(_t=Xr(ae,_n)),le.push(_t),Be=qe+1);return le.push(ue.slice(Be,qe)),le.join("")}}function P(ue,Ae){return function(ae){var le=vh(1900,void 0,1),qe=z(le,ue,ae+="",0),Be,pt;if(qe!=ae.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Ae&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Be=R_(vh(le.y,0,1)),pt=Be.getUTCDay(),Be=pt>4||pt===0?kv.ceil(Be):kv(Be),Be=rw.offset(Be,(le.V-1)*7),le.y=Be.getUTCFullYear(),le.m=Be.getUTCMonth(),le.d=Be.getUTCDate()+(le.w+6)%7):(Be=N_(vh(le.y,0,1)),pt=Be.getDay(),Be=pt>4||pt===0?wv.ceil(Be):wv(Be),Be=mm.offset(Be,(le.V-1)*7),le.y=Be.getFullYear(),le.m=Be.getMonth(),le.d=Be.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),pt="Z"in le?R_(vh(le.y,0,1)).getUTCDay():N_(vh(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(pt+5)%7:le.w+le.U*7-(pt+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,R_(le)):N_(le)}}function z(ue,Ae,ae,le){for(var qe=0,Be=Ae.length,pt=ae.length,_t,_n;qe<Be;){if(le>=pt)return-1;if(_t=Ae.charCodeAt(qe++),_t===37){if(_t=Ae.charAt(qe++),_n=L[_t in fL?Ae.charAt(qe++):_t],!_n||(le=_n(ue,ae,le))<0)return-1}else if(_t!=ae.charCodeAt(le++))return-1}return le}function U(ue,Ae,ae){var le=d.exec(Ae.slice(ae));return le?(ue.p=p.get(le[0].toLowerCase()),ae+le[0].length):-1}function q(ue,Ae,ae){var le=b.exec(Ae.slice(ae));return le?(ue.w=E.get(le[0].toLowerCase()),ae+le[0].length):-1}function V(ue,Ae,ae){var le=g.exec(Ae.slice(ae));return le?(ue.w=m.get(le[0].toLowerCase()),ae+le[0].length):-1}function B(ue,Ae,ae){var le=C.exec(Ae.slice(ae));return le?(ue.m=N.get(le[0].toLowerCase()),ae+le[0].length):-1}function F(ue,Ae,ae){var le=A.exec(Ae.slice(ae));return le?(ue.m=_.get(le[0].toLowerCase()),ae+le[0].length):-1}function ne(ue,Ae,ae){return z(ue,e,Ae,ae)}function W(ue,Ae,ae){return z(ue,n,Ae,ae)}function X(ue,Ae,ae){return z(ue,r,Ae,ae)}function Z(ue){return a[ue.getDay()]}function oe(ue){return o[ue.getDay()]}function fe(ue){return u[ue.getMonth()]}function Y(ue){return l[ue.getMonth()]}function G(ue){return i[+(ue.getHours()>=12)]}function J(ue){return 1+~~(ue.getMonth()/3)}function $(ue){return a[ue.getUTCDay()]}function be(ue){return o[ue.getUTCDay()]}function _e(ue){return u[ue.getUTCMonth()]}function Te(ue){return l[ue.getUTCMonth()]}function je(ue){return i[+(ue.getUTCHours()>=12)]}function Ye(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var Ae=M(ue+="",I);return Ae.toString=function(){return ue},Ae},parse:function(ue){var Ae=P(ue+="",!1);return Ae.toString=function(){return ue},Ae},utcFormat:function(ue){var Ae=M(ue+="",D);return Ae.toString=function(){return ue},Ae},utcParse:function(ue){var Ae=P(ue+="",!0);return Ae.toString=function(){return ue},Ae}}}var fL={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,hEe=/^%/,gEe=/[\\^$*+?|[\]().{}]/g;function It(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function mEe(t){return t.replace(gEe,"\\$&")}function xh(t){return new RegExp("^(?:"+t.map(mEe).join("|")+")","i")}function wh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function yEe(t,e,n){var r=kr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function bEe(t,e,n){var r=kr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function vEe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function xEe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function wEe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function hL(t,e,n){var r=kr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gL(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kEe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function EEe(t,e,n){var r=kr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function _Ee(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function mL(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function TEe(t,e,n){var r=kr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yL(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function SEe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function AEe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function CEe(t,e,n){var r=kr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function IEe(t,e,n){var r=kr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function NEe(t,e,n){var r=hEe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function REe(t,e,n){var r=kr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function PEe(t,e,n){var r=kr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function bL(t,e){return It(t.getDate(),e,2)}function OEe(t,e){return It(t.getHours(),e,2)}function DEe(t,e){return It(t.getHours()%12||12,e,2)}function MEe(t,e){return It(1+mm.count(Hs(t),t),e,3)}function G$(t,e){return It(t.getMilliseconds(),e,3)}function zEe(t,e){return G$(t,e)+"000"}function jEe(t,e){return It(t.getMonth()+1,e,2)}function LEe(t,e){return It(t.getMinutes(),e,2)}function UEe(t,e){return It(t.getSeconds(),e,2)}function VEe(t){var e=t.getDay();return e===0?7:e}function FEe(t,e){return It(iw.count(Hs(t)-1,t),e,2)}function K$(t){var e=t.getDay();return e>=4||e===0?Ap(t):Ap.ceil(t)}function BEe(t,e){return t=K$(t),It(Ap.count(Hs(t),t)+(Hs(t).getDay()===4),e,2)}function $Ee(t){return t.getDay()}function qEe(t,e){return It(wv.count(Hs(t)-1,t),e,2)}function HEe(t,e){return It(t.getFullYear()%100,e,2)}function GEe(t,e){return t=K$(t),It(t.getFullYear()%100,e,2)}function KEe(t,e){return It(t.getFullYear()%1e4,e,4)}function WEe(t,e){var n=t.getDay();return t=n>=4||n===0?Ap(t):Ap.ceil(t),It(t.getFullYear()%1e4,e,4)}function YEe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+It(e/60|0,"0",2)+It(e%60,"0",2)}function vL(t,e){return It(t.getUTCDate(),e,2)}function JEe(t,e){return It(t.getUTCHours(),e,2)}function XEe(t,e){return It(t.getUTCHours()%12||12,e,2)}function QEe(t,e){return It(1+rw.count(Gs(t),t),e,3)}function W$(t,e){return It(t.getUTCMilliseconds(),e,3)}function ZEe(t,e){return W$(t,e)+"000"}function e_e(t,e){return It(t.getUTCMonth()+1,e,2)}function t_e(t,e){return It(t.getUTCMinutes(),e,2)}function n_e(t,e){return It(t.getUTCSeconds(),e,2)}function r_e(t){var e=t.getUTCDay();return e===0?7:e}function i_e(t,e){return It(ow.count(Gs(t)-1,t),e,2)}function Y$(t){var e=t.getUTCDay();return e>=4||e===0?Cp(t):Cp.ceil(t)}function o_e(t,e){return t=Y$(t),It(Cp.count(Gs(t),t)+(Gs(t).getUTCDay()===4),e,2)}function a_e(t){return t.getUTCDay()}function s_e(t,e){return It(kv.count(Gs(t)-1,t),e,2)}function l_e(t,e){return It(t.getUTCFullYear()%100,e,2)}function c_e(t,e){return t=Y$(t),It(t.getUTCFullYear()%100,e,2)}function u_e(t,e){return It(t.getUTCFullYear()%1e4,e,4)}function d_e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Cp(t):Cp.ceil(t),It(t.getUTCFullYear()%1e4,e,4)}function p_e(){return"+0000"}function xL(){return"%"}function wL(t){return+t}function kL(t){return Math.floor(+t/1e3)}var Dd,J$,X$;f_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function f_e(t){return Dd=fEe(t),J$=Dd.format,Dd.parse,X$=Dd.utcFormat,Dd.utcParse,Dd}function h_e(t){return new Date(t)}function g_e(t){return t instanceof Date?+t:+new Date(+t)}function UI(t,e,n,r,i,o,a,l,u,d){var p=TI(),g=p.invert,m=p.domain,b=d(".%L"),E=d(":%S"),A=d("%I:%M"),_=d("%I %p"),C=d("%a %d"),N=d("%b %d"),I=d("%B"),D=d("%Y");function L(M){return(u(M)<M?b:l(M)<M?E:a(M)<M?A:o(M)<M?_:r(M)<M?i(M)<M?C:N:n(M)<M?I:D)(M)}return p.invert=function(M){return new Date(g(M))},p.domain=function(M){return arguments.length?m(Array.from(M,g_e)):m().map(h_e)},p.ticks=function(M){var P=m();return t(P[0],P[P.length-1],M??10)},p.tickFormat=function(M,P){return P==null?L:d(P)},p.nice=function(M){var P=m();return(!M||typeof M.range!="function")&&(M=e(P[0],P[P.length-1],M??10)),M?m(j$(P,M)):p},p.copy=function(){return gm(p,UI(t,e,n,r,i,o,a,l,u,d))},p}function m_e(){return Bo.apply(UI(dEe,pEe,Hs,jI,iw,mm,MI,OI,uu,J$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function y_e(){return Bo.apply(UI(cEe,uEe,Gs,LI,ow,rw,zI,DI,uu,X$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function aw(){var t=0,e=1,n,r,i,o,a=si,l=!1,u;function d(g){return g==null||isNaN(g=+g)?u:a(i===0?.5:(g=(o(g)-n)*i,l?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,e]=g,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(g){return arguments.length?(l=!!g,d):l},d.interpolator=function(g){return arguments.length?(a=g,d):a};function p(g){return function(m){var b,E;return arguments.length?([b,E]=m,a=g(b,E),d):[a(0),a(1)]}}return d.range=p(Yp),d.rangeRound=p(_I),d.unknown=function(g){return arguments.length?(u=g,d):u},function(g){return o=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),d}}function Ac(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Q$(){var t=Sc(aw()(si));return t.copy=function(){return Ac(t,Q$())},rl.apply(t,arguments)}function Z$(){var t=CI(aw()).domain([1,10]);return t.copy=function(){return Ac(t,Z$()).base(t.base())},rl.apply(t,arguments)}function eq(){var t=II(aw());return t.copy=function(){return Ac(t,eq()).constant(t.constant())},rl.apply(t,arguments)}function VI(){var t=NI(aw());return t.copy=function(){return Ac(t,VI()).exponent(t.exponent())},rl.apply(t,arguments)}function b_e(){return VI.apply(null,arguments).exponent(.5)}function tq(){var t=[],e=si;function n(r){if(r!=null&&!isNaN(r=+r))return e((fm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(cc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>r1e(t,o/r))},n.copy=function(){return tq(e).domain(t)},rl.apply(n,arguments)}function sw(){var t=0,e=.5,n=1,r=1,i,o,a,l,u,d=si,p,g=!1,m;function b(A){return isNaN(A=+A)?m:(A=.5+((A=+p(A))-o)*(r*A<r*o?l:u),d(g?Math.max(0,Math.min(1,A)):A))}b.domain=function(A){return arguments.length?([t,e,n]=A,i=p(t=+t),o=p(e=+e),a=p(n=+n),l=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,b):[t,e,n]},b.clamp=function(A){return arguments.length?(g=!!A,b):g},b.interpolator=function(A){return arguments.length?(d=A,b):d};function E(A){return function(_){var C,N,I;return arguments.length?([C,N,I]=_,d=N1e(A,[C,N,I]),b):[d(0),d(.5),d(1)]}}return b.range=E(Yp),b.rangeRound=E(_I),b.unknown=function(A){return arguments.length?(m=A,b):m},function(A){return p=A,i=A(t),o=A(e),a=A(n),l=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,b}}function nq(){var t=Sc(sw()(si));return t.copy=function(){return Ac(t,nq())},rl.apply(t,arguments)}function rq(){var t=CI(sw()).domain([.1,1,10]);return t.copy=function(){return Ac(t,rq()).base(t.base())},rl.apply(t,arguments)}function iq(){var t=II(sw());return t.copy=function(){return Ac(t,iq()).constant(t.constant())},rl.apply(t,arguments)}function FI(){var t=NI(sw());return t.copy=function(){return Ac(t,FI()).exponent(t.exponent())},rl.apply(t,arguments)}function v_e(){return FI.apply(null,arguments).exponent(.5)}const Rh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wI,scaleDiverging:nq,scaleDivergingLog:rq,scaleDivergingPow:FI,scaleDivergingSqrt:v_e,scaleDivergingSymlog:iq,scaleIdentity:z$,scaleImplicit:IS,scaleLinear:M$,scaleLog:L$,scaleOrdinal:xI,scalePoint:a1e,scalePow:RI,scaleQuantile:F$,scaleQuantize:B$,scaleRadial:V$,scaleSequential:Q$,scaleSequentialLog:Z$,scaleSequentialPow:VI,scaleSequentialQuantile:tq,scaleSequentialSqrt:b_e,scaleSequentialSymlog:eq,scaleSqrt:Z1e,scaleSymlog:U$,scaleThreshold:$$,scaleTime:m_e,scaleUtc:y_e,tickFormat:D$},Symbol.toStringTag,{value:"Module"}));var Cc=t=>t.chartData,x_e=me([Cc],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),lw=(t,e,n,r)=>r?x_e(t):Cc(t);function yc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(pn(e)&&pn(n))return!0}return!1}function EL(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function oq(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(pn(n))i=n;else if(typeof n=="function")return;if(pn(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(yc(a))return a}}function w_e(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(yc(r))return EL(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Ue(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&Zz.test(i)){var u=Zz.exec(i);if(u==null||e==null)a=void 0;else{var d=+u[1];a=e[0]-d}}else a=e==null?void 0:e[0];if(o==="auto")e!=null&&(l=Math.max(...e));else if(Ue(o))l=o;else if(typeof o=="function")try{e!=null&&(l=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&ej.test(o)){var p=ej.exec(o);if(p==null||e==null)l=void 0;else{var g=+p[1];l=e[1]+g}}else l=e==null?void 0:e[1];var m=[a,l];if(yc(m))return e==null?m:EL(m,e,n)}}}var Jp=1e9,k_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$I,vn=!0,jo="[DecimalError] ",bu=jo+"Invalid argument: ",BI=jo+"Exponent out of range: ",Xp=Math.floor,iu=Math.pow,E_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zi,mr=1e7,un=7,aq=9007199254740991,Ev=Xp(aq/un),Ve={};Ve.absoluteValue=Ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ve.comparedTo=Ve.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*un;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ve.dividedBy=Ve.div=function(t){return Ps(this,new this.constructor(t))};Ve.dividedToIntegerBy=Ve.idiv=function(t){var e=this,n=e.constructor;return tn(Ps(e,new n(t),0,1),n.precision)};Ve.equals=Ve.eq=function(t){return!this.cmp(t)};Ve.exponent=function(){return Qn(this)};Ve.greaterThan=Ve.gt=function(t){return this.cmp(t)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(t){return this.cmp(t)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(t){return this.cmp(t)<0};Ve.lessThanOrEqualTo=Ve.lte=function(t){return this.cmp(t)<1};Ve.logarithm=Ve.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Zi))throw Error(jo+"NaN");if(n.s<1)throw Error(jo+(n.s?"NaN":"-Infinity"));return n.eq(Zi)?new r(0):(vn=!1,e=Ps(Eg(n,o),Eg(t,o),o),vn=!0,tn(e,i))};Ve.minus=Ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cq(e,t):sq(e,(t.s=-t.s,t))};Ve.modulo=Ve.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(jo+"NaN");return n.s?(vn=!1,e=Ps(n,t,0,1).times(t),vn=!0,n.minus(e)):tn(new r(n),i)};Ve.naturalExponential=Ve.exp=function(){return lq(this)};Ve.naturalLogarithm=Ve.ln=function(){return Eg(this)};Ve.negated=Ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ve.plus=Ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sq(e,t):cq(e,(t.s=-t.s,t))};Ve.precision=Ve.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(bu+t);if(e=Qn(i)+1,r=i.d.length-1,n=r*un+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ve.squareRoot=Ve.sqrt=function(){var t,e,n,r,i,o,a,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(jo+"NaN")}for(t=Qn(l),vn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ua(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Xp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=a=n+3;;)if(o=r,r=o.plus(Ps(l,o,a+2)).times(.5),Ua(o.d).slice(0,a)===(e=Ua(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(tn(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(e!="9999")break;a+=4}return vn=!0,tn(r,n)};Ve.times=Ve.mul=function(t){var e,n,r,i,o,a,l,u,d,p=this,g=p.constructor,m=p.d,b=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,u=m.length,d=b.length,u<d&&(o=m,m=b,b=o,a=u,u=d,d=a),o=[],a=u+d,r=a;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=u+r;i>r;)l=o[i]+b[r]*m[i-r-1]+e,o[i--]=l%mr|0,e=l/mr|0;o[i]=(o[i]+e)%mr|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,vn?tn(t,g.precision):t};Ve.toDecimalPlaces=Ve.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(es(t,0,Jp),e===void 0?e=r.rounding:es(e,0,8),tn(n,t+Qn(n)+1,e))};Ve.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Iu(r,!0):(es(t,0,Jp),e===void 0?e=i.rounding:es(e,0,8),r=tn(new i(r),t+1,e),n=Iu(r,!0,t+1)),n};Ve.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Iu(i):(es(t,0,Jp),e===void 0?e=o.rounding:es(e,0,8),r=tn(new o(i),t+Qn(i)+1,e),n=Iu(r.abs(),!1,t+Qn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ve.toInteger=Ve.toint=function(){var t=this,e=t.constructor;return tn(new e(t),Qn(t)+1,e.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(t){var e,n,r,i,o,a,l=this,u=l.constructor,d=12,p=+(t=new u(t));if(!t.s)return new u(Zi);if(l=new u(l),!l.s){if(t.s<1)throw Error(jo+"Infinity");return l}if(l.eq(Zi))return l;if(r=u.precision,t.eq(Zi))return tn(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=l.s,a){if((n=p<0?-p:p)<=aq){for(i=new u(Zi),e=Math.ceil(r/un+4),vn=!1;n%2&&(i=i.times(l),TL(i.d,e)),n=Xp(n/2),n!==0;)l=l.times(l),TL(l.d,e);return vn=!0,t.s<0?new u(Zi).div(i):tn(i,r)}}else if(o<0)throw Error(jo+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,vn=!1,i=t.times(Eg(l,r+d)),vn=!0,i=lq(i),i.s=o,i};Ve.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Qn(i),r=Iu(i,n<=o.toExpNeg||n>=o.toExpPos)):(es(t,1,Jp),e===void 0?e=o.rounding:es(e,0,8),i=tn(new o(i),t,e),n=Qn(i),r=Iu(i,t<=n||n<=o.toExpNeg,t)),r};Ve.toSignificantDigits=Ve.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(es(t,1,Jp),e===void 0?e=r.rounding:es(e,0,8)),tn(new r(n),t,e)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Qn(t),n=t.constructor;return Iu(t,e<=n.toExpNeg||e>=n.toExpPos)};function sq(t,e){var n,r,i,o,a,l,u,d,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),vn?tn(e,g):e;if(u=t.d,d=e.d,a=t.e,i=e.e,u=u.slice(),o=a-i,o){for(o<0?(r=u,o=-o,l=d.length):(r=d,i=a,l=u.length),a=Math.ceil(g/un),l=a>l?a+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=u.length,o=d.length,l-o<0&&(o=l,r=d,d=u,u=r),n=0;o;)n=(u[--o]=u[o]+d[o]+n)/mr|0,u[o]%=mr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,vn?tn(e,g):e}function es(t,e,n){if(t!==~~t||t<e||t>n)throw Error(bu+t)}function Ua(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=un-r.length,n&&(o+=Kl(n)),o+=r;a=t[e],r=a+"",n=un-r.length,n&&(o+=Kl(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Ps=(function(){function t(r,i){var o,a=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+a,r[l]=o%mr|0,a=o/mr|0;return a&&r.unshift(a),r}function e(r,i,o,a){var l,u;if(o!=a)u=o>a?1:-1;else for(l=u=0;l<o;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*mr+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var l,u,d,p,g,m,b,E,A,_,C,N,I,D,L,M,P,z,U=r.constructor,q=r.s==i.s?1:-1,V=r.d,B=i.d;if(!r.s)return new U(r);if(!i.s)throw Error(jo+"Division by zero");for(u=r.e-i.e,P=B.length,L=V.length,b=new U(q),E=b.d=[],d=0;B[d]==(V[d]||0);)++d;if(B[d]>(V[d]||0)&&--u,o==null?N=o=U.precision:a?N=o+(Qn(r)-Qn(i))+1:N=o,N<0)return new U(0);if(N=N/un+2|0,d=0,P==1)for(p=0,B=B[0],N++;(d<L||p)&&N--;d++)I=p*mr+(V[d]||0),E[d]=I/B|0,p=I%B|0;else{for(p=mr/(B[0]+1)|0,p>1&&(B=t(B,p),V=t(V,p),P=B.length,L=V.length),D=P,A=V.slice(0,P),_=A.length;_<P;)A[_++]=0;z=B.slice(),z.unshift(0),M=B[0],B[1]>=mr/2&&++M;do p=0,l=e(B,A,P,_),l<0?(C=A[0],P!=_&&(C=C*mr+(A[1]||0)),p=C/M|0,p>1?(p>=mr&&(p=mr-1),g=t(B,p),m=g.length,_=A.length,l=e(g,A,m,_),l==1&&(p--,n(g,P<m?z:B,m))):(p==0&&(l=p=1),g=B.slice()),m=g.length,m<_&&g.unshift(0),n(A,g,_),l==-1&&(_=A.length,l=e(B,A,P,_),l<1&&(p++,n(A,P<_?z:B,_))),_=A.length):l===0&&(p++,A=[0]),E[d++]=p,l&&A[0]?A[_++]=V[D]||0:(A=[V[D]],_=1);while((D++<L||A[0]!==void 0)&&N--)}return E[0]||E.shift(),b.e=u,tn(b,a?o+Qn(b)+1:o)}})();function lq(t,e){var n,r,i,o,a,l,u=0,d=0,p=t.constructor,g=p.precision;if(Qn(t)>16)throw Error(BI+Qn(t));if(!t.s)return new p(Zi);for(vn=!1,l=g,a=new p(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(iu(2,d))/Math.LN10*2+5|0,l+=r,n=i=o=new p(Zi),p.precision=l;;){if(i=tn(i.times(t),l),n=n.times(++u),a=o.plus(Ps(i,n,l)),Ua(a.d).slice(0,l)===Ua(o.d).slice(0,l)){for(;d--;)o=tn(o.times(o),l);return p.precision=g,e==null?(vn=!0,tn(o,g)):o}o=a}}function Qn(t){for(var e=t.e*un,n=t.d[0];n>=10;n/=10)e++;return e}function P_(t,e,n){if(e>t.LN10.sd())throw vn=!0,n&&(t.precision=n),Error(jo+"LN10 precision limit exceeded");return tn(new t(t.LN10),e)}function Kl(t){for(var e="";t--;)e+="0";return e}function Eg(t,e){var n,r,i,o,a,l,u,d,p,g=1,m=10,b=t,E=b.d,A=b.constructor,_=A.precision;if(b.s<1)throw Error(jo+(b.s?"NaN":"-Infinity"));if(b.eq(Zi))return new A(0);if(e==null?(vn=!1,d=_):d=e,b.eq(10))return e==null&&(vn=!0),P_(A,d);if(d+=m,A.precision=d,n=Ua(E),r=n.charAt(0),o=Qn(b),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=Ua(b.d),r=n.charAt(0),g++;o=Qn(b),r>1?(b=new A("0."+n),o++):b=new A(r+"."+n.slice(1))}else return u=P_(A,d+2,_).times(o+""),b=Eg(new A(r+"."+n.slice(1)),d-m).plus(u),A.precision=_,e==null?(vn=!0,tn(b,_)):b;for(l=a=b=Ps(b.minus(Zi),b.plus(Zi),d),p=tn(b.times(b),d),i=3;;){if(a=tn(a.times(p),d),u=l.plus(Ps(a,new A(i),d)),Ua(u.d).slice(0,d)===Ua(l.d).slice(0,d))return l=l.times(2),o!==0&&(l=l.plus(P_(A,d+2,_).times(o+""))),l=Ps(l,new A(g),d),A.precision=_,e==null?(vn=!0,tn(l,_)):l;l=u,i+=2}}function _L(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Xp(n/un),t.d=[],r=(n+1)%un,n<0&&(r+=un),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=un;r<i;)t.d.push(+e.slice(r,r+=un));e=e.slice(r),r=un-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),vn&&(t.e>Ev||t.e<-Ev))throw Error(BI+n)}else t.s=0,t.e=0,t.d=[0];return t}function tn(t,e,n){var r,i,o,a,l,u,d,p,g=t.d;for(a=1,o=g[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=un,i=e,d=g[p=0];else{if(p=Math.ceil((r+1)/un),o=g.length,p>=o)return t;for(d=o=g[p],a=1;o>=10;o/=10)a++;r%=un,i=r-un+a}if(n!==void 0&&(o=iu(10,a-i-1),l=d/o%10|0,u=e<0||g[p+1]!==void 0||d%o,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/iu(10,a-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return u?(o=Qn(t),g.length=1,e=e-o-1,g[0]=iu(10,(un-e%un)%un),t.e=Xp(-e/un)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,o=1,p--):(g.length=p+1,o=iu(10,un-r),g[p]=i>0?(d/iu(10,a-i)%iu(10,i)|0)*o:0),u)for(;;)if(p==0){(g[0]+=o)==mr&&(g[0]=1,++t.e);break}else{if(g[p]+=o,g[p]!=mr)break;g[p--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(vn&&(t.e>Ev||t.e<-Ev))throw Error(BI+Qn(t));return t}function cq(t,e){var n,r,i,o,a,l,u,d,p,g,m=t.constructor,b=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),vn?tn(e,b):e;if(u=t.d,g=e.d,r=e.e,d=t.e,u=u.slice(),a=d-r,a){for(p=a<0,p?(n=u,a=-a,l=g.length):(n=g,r=d,l=u.length),i=Math.max(Math.ceil(b/un),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=g.length,p=i<l,p&&(l=i),i=0;i<l;i++)if(u[i]!=g[i]){p=u[i]<g[i];break}a=0}for(p&&(n=u,u=g,g=n,e.s=-e.s),l=u.length,i=g.length-l;i>0;--i)u[l++]=0;for(i=g.length;i>a;){if(u[--i]<g[i]){for(o=i;o&&u[--o]===0;)u[o]=mr-1;--u[o],u[i]+=mr}u[i]-=g[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,vn?tn(e,b):e):new m(0)}function Iu(t,e,n){var r,i=Qn(t),o=Ua(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Kl(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Kl(-i-1)+o,n&&(r=n-a)>0&&(o+=Kl(r))):i>=a?(o+=Kl(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Kl(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Kl(r))),t.s<0?"-"+o:o}function TL(t,e){if(t.length>e)return t.length=e,!0}function uq(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(bu+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return _L(a,o.toString())}else if(typeof o!="string")throw Error(bu+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,E_e.test(o))_L(a,o);else throw Error(bu+o)}if(i.prototype=Ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=uq,i.config=i.set=__e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function __e(t){if(!t||typeof t!="object")throw Error(jo+"Object expected");var e,n,r,i=["precision",1,Jp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Xp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(bu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(bu+n+": "+r);return this}var $I=uq(k_e);Zi=new $I(1);const Gt=$I;var T_e=t=>t,dq={},pq=t=>t===dq,SL=t=>function e(){return arguments.length===0||arguments.length===1&&pq(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},fq=(t,e)=>t===1?e:SL(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(a=>a!==dq).length;return o>=t?e(...r):fq(t-o,SL(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var d=r.map(p=>pq(p)?l.shift():p);return e(...d,...l)}))}),S_e=t=>fq(t.length,t),OS=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},A_e=S_e((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),C_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return T_e;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((l,u)=>u(l),o(...arguments))}},DS=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function hq(t){var e;return t===0?e=1:e=Math.floor(new Gt(t).abs().log(10).toNumber())+1,e}function gq(t,e,n){for(var r=new Gt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var mq=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},yq=(t,e,n)=>{if(t.lte(0))return new Gt(0);var r=hq(t.toNumber()),i=new Gt(10).pow(r),o=t.div(i),a=r!==1?.05:.1,l=new Gt(Math.ceil(o.div(a).toNumber())).add(n).mul(a),u=l.mul(i);return e?new Gt(u.toNumber()):new Gt(Math.ceil(u.toNumber()))},I_e=(t,e,n)=>{var r=new Gt(1),i=new Gt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Gt(10).pow(hq(t)-1),i=new Gt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Gt(Math.floor(t)))}else t===0?i=new Gt(Math.floor((e-1)/2)):n||(i=new Gt(Math.floor(t)));var a=Math.floor((e-1)/2),l=C_e(A_e(u=>i.add(new Gt(u-a).mul(r)).toNumber()),OS);return l(0,e)},bq=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Gt(0),tickMin:new Gt(0),tickMax:new Gt(0)};var a=yq(new Gt(n).sub(e).div(r-1),i,o),l;e<=0&&n>=0?l=new Gt(0):(l=new Gt(e).add(n).div(2),l=l.sub(new Gt(l).mod(a)));var u=Math.ceil(l.sub(e).div(a).toNumber()),d=Math.ceil(new Gt(n).sub(l).div(a).toNumber()),p=u+d+1;return p>r?bq(e,n,r,i,o+1):(p<r&&(d=n>0?d+(r-p):d,u=n>0?u:u+(r-p)),{step:a,tickMin:l.sub(new Gt(u).mul(a)),tickMax:l.add(new Gt(d).mul(a))})},N_e=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[l,u]=mq([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...OS(0,i-1).map(()=>1/0)]:[...OS(0,i-1).map(()=>-1/0),u];return n>r?DS(d):d}if(l===u)return I_e(l,i,o);var{step:p,tickMin:g,tickMax:m}=bq(l,u,a,o,0),b=gq(g,m.add(new Gt(.1).mul(p)),p);return n>r?DS(b):b},R_e=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=mq([r,i]);if(a===-1/0||l===1/0)return[r,i];if(a===l)return[a];var u=Math.max(n,2),d=yq(new Gt(l).sub(a).div(u-1),o,0),p=[...gq(new Gt(a),new Gt(l),d),l];return o===!1&&(p=p.map(g=>Math.round(g))),r>i?DS(p):p},vq=t=>t.rootProps.maxBarSize,P_e=t=>t.rootProps.barGap,xq=t=>t.rootProps.barCategoryGap,O_e=t=>t.rootProps.barSize,cw=t=>t.rootProps.stackOffset,wq=t=>t.rootProps.reverseStackOrder,qI=t=>t.options.chartName,HI=t=>t.rootProps.syncId,kq=t=>t.rootProps.syncMethod,GI=t=>t.options.eventEmitter,D_e=t=>t.rootProps.baseValue,vr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Es={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Xi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},uw=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},M_e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Es.angleAxisId,includeHidden:!1,name:void 0,reversed:Es.reversed,scale:Es.scale,tick:Es.tick,tickCount:void 0,ticks:void 0,type:Es.type,unit:void 0},z_e={allowDataOverflow:Xi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xi.scale,tick:Xi.tick,tickCount:Xi.tickCount,ticks:void 0,type:Xi.type,unit:void 0},j_e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Es.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Es.scale,tick:Es.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},L_e={allowDataOverflow:Xi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xi.scale,tick:Xi.tick,tickCount:Xi.tickCount,ticks:void 0,type:"category",unit:void 0},KI=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?j_e:M_e,WI=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?L_e:z_e,dw=t=>t.polarOptions,YI=me([tl,nl,wr],Rke),Eq=me([dw,YI],(t,e)=>{if(t!=null)return ca(t.innerRadius,e,0)}),_q=me([dw,YI],(t,e)=>{if(t!=null)return ca(t.outerRadius,e,e*.8)}),U_e=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Tq=me([dw],U_e);me([KI,Tq],uw);var Sq=me([YI,Eq,_q],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});me([WI,Sq],uw);var Aq=me([Rt,dw,Eq,_q,tl,nl],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:u,endAngle:d}=e;return{cx:ca(a,i,i/2),cy:ca(l,o,o/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),ar=(t,e)=>e,pw=(t,e,n)=>n;function fw(t){return t==null?void 0:t.id}function Cq(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,a=new Map;return t.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var p=fw(l);d.forEach((g,m)=>{var b=o==null||i?m:String(ir(g,o,null)),E=ir(g,l.dataKey,0),A;a.has(b)?A=a.get(b):A={},Object.assign(A,{[p]:E}),a.set(b,A)})}}),Array.from(a.values())}function hw(t){return t.stackId!=null&&t.dataKey!=null}var gw=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function mw(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function V_e(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var sr=t=>{var e=Rt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Qp=t=>t.tooltip.settings.axisId;function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){F_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F_e(t,e,n){return(e=B_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B_e(t){var e=$_e(t,"string");return typeof e=="symbol"?e:e+""}function $_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MS=[0,"auto"],fr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Iq=(t,e)=>t.cartesianAxis.xAxis[e],il=(t,e)=>{var n=Iq(t,e);return n??fr},hr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:MS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:dm},Nq=(t,e)=>t.cartesianAxis.yAxis[e],ol=(t,e)=>{var n=Nq(t,e);return n??hr},q_e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},JI=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??q_e},gi=(t,e,n)=>{switch(e){case"xAxis":return il(t,n);case"yAxis":return ol(t,n);case"zAxis":return JI(t,n);case"angleAxis":return KI(t,n);case"radiusAxis":return WI(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},H_e=(t,e,n)=>{switch(e){case"xAxis":return il(t,n);case"yAxis":return ol(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ym=(t,e,n)=>{switch(e){case"xAxis":return il(t,n);case"yAxis":return ol(t,n);case"angleAxis":return KI(t,n);case"radiusAxis":return WI(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Rq=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Pq(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var yw=t=>t.graphicalItems.cartesianItems,G_e=me([ar,pw],Pq),Oq=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),bm=me([yw,gi,G_e],Oq,{memoizeOptions:{resultEqualityCheck:mw}}),Dq=me([bm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(hw)),Mq=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),K_e=me([bm],Mq),zq=t=>t.map(e=>e.data).filter(Boolean).flat(1),W_e=me([bm],zq,{memoizeOptions:{resultEqualityCheck:mw}}),jq=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},XI=me([W_e,lw],jq),Lq=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:ir(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:ir(i,r)}))):t.map(r=>({value:r})),bw=me([XI,gi,bm],Lq);function Uq(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Y0(t){if(Qa(t)||t instanceof Date){var e=Number(t);if(pn(e))return e}}function CL(t){if(Array.isArray(t)){var e=[Y0(t[0]),Y0(t[1])];return yc(e)?e:void 0}var n=Y0(t);if(n!=null)return[n,n]}function Ks(t){return t.map(Y0).filter(ibe)}function Y_e(t,e,n){return!n||typeof e!="number"||Mo(e)?[]:n.length?Ks(n.flatMap(r=>{var i=ir(t,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!pn(o)||!pn(a)))return[e-o,e+a]})):[]}var lr=t=>{var e=sr(t),n=Qp(t);return ym(t,e,n)},vm=me([lr],t=>t==null?void 0:t.dataKey),J_e=me([Dq,lw,lr],Cq),Vq=(t,e,n,r)=>{var i={},o=e.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),i);return Object.fromEntries(Object.entries(o).map(a=>{var[l,u]=a,d=r?[...u].reverse():u,p=d.map(fw);return[l,{stackedData:Exe(t,p,n),graphicalItems:d}]}))},_g=me([J_e,Dq,cw,wq],Vq),Fq=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var a=Axe(t,i,o);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},X_e=me([gi],t=>t.allowDataOverflow),QI=t=>{var e;if(t==null||!("domain"in t))return MS;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Ks(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:MS},Bq=me([gi],QI),$q=me([Bq,X_e],oq),Q_e=me([_g,Cc,ar,$q],Fq,{memoizeOptions:{resultEqualityCheck:gw}}),ZI=t=>t.errorBars,Z_e=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Uq(n,r)),Tv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),l=Math.max(...o);return[a,l]}},qq=(t,e,n,r,i)=>{var o,a;if(n.length>0&&t.forEach(l=>{n.forEach(u=>{var d,p,g=(d=r[u.id])===null||d===void 0?void 0:d.filter(C=>Uq(i,C)),m=ir(l,(p=e.dataKey)!==null&&p!==void 0?p:u.dataKey),b=Y_e(l,m,g);if(b.length>=2){var E=Math.min(...b),A=Math.max(...b);(o==null||E<o)&&(o=E),(a==null||A>a)&&(a=A)}var _=CL(m);_!=null&&(o=o==null?_[0]:Math.min(o,_[0]),a=a==null?_[1]:Math.max(a,_[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(l=>{var u=CL(ir(l,e.dataKey));u!=null&&(o=o==null?u[0]:Math.min(o,u[0]),a=a==null?u[1]:Math.max(a,u[1]))}),pn(o)&&pn(a))return[o,a]},eTe=me([XI,gi,K_e,ZI,ar],qq,{memoizeOptions:{resultEqualityCheck:gw}});function tTe(t){var{value:e}=t;if(Qa(e)||e instanceof Date)return e}var nTe=(t,e,n)=>{var r=t.map(tTe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&n8(r))?_$(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Hq=t=>t.referenceElements.dots,Zp=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),rTe=me([Hq,ar,pw],Zp),Gq=t=>t.referenceElements.areas,iTe=me([Gq,ar,pw],Zp),Kq=t=>t.referenceElements.lines,oTe=me([Kq,ar,pw],Zp),Wq=(t,e)=>{var n=Ks(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},aTe=me(rTe,ar,Wq),Yq=(t,e)=>{var n=Ks(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},sTe=me([iTe,ar],Yq);function lTe(t){var e;if(t.x!=null)return Ks([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ks(n)}function cTe(t){var e;if(t.y!=null)return Ks([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ks(n)}var Jq=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?lTe(r):cTe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},uTe=me([oTe,ar],Jq),dTe=me(aTe,uTe,sTe,(t,e,n)=>Tv(t,n,e)),Xq=(t,e,n,r,i,o,a,l)=>{if(n!=null)return n;var u=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",d=u?Tv(r,o,i):Tv(o,i);return w_e(e,d,t.allowDataOverflow)},pTe=me([gi,Bq,$q,Q_e,eTe,dTe,Rt,ar],Xq,{memoizeOptions:{resultEqualityCheck:gw}}),fTe=[0,1],Qq=(t,e,n,r,i,o,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:u}=t,d=el(e,o);if(d&&l==null){var p;return _$(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return u==="category"?nTe(r,t,d):i==="expand"?fTe:a}},eN=me([gi,Rt,XI,bw,cw,ar,pTe],Qq),Zq=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:a}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof o=="string"){var l="scale".concat(am(o));return l in Rh?l:"point"}}},xm=me([gi,Rt,Rq,qI,ar],Zq);function hTe(t){if(t!=null){if(t in Rh)return Rh[t]();var e="scale".concat(am(t));if(e in Rh)return Rh[e]()}}function tN(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=hTe(e);if(i!=null){var o=i.domain(n).range(r);return bxe(o),o}}}var e7=(t,e,n)=>{var r=QI(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&yc(t))return N_e(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&yc(t))return R_e(t,e.tickCount,e.allowDecimals)}},nN=me([eN,ym,xm],e7),t7=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&yc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],a=e[1],l=n[n.length-1];return[Math.min(i,o),Math.max(a,l)]}return e},gTe=me([gi,eN,nN,ar],t7),mTe=me(bw,gi,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ks(t.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),n7=me(mTe,Rt,xq,wr,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!pn(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var a=ca(n,t*o),l=t*o/2;return l-a-(l-a)/o*a}return 0}),yTe=(t,e)=>{var n=il(t,e);return n==null||typeof n.padding!="string"?0:n7(t,"xAxis",e,n.padding)},bTe=(t,e)=>{var n=ol(t,e);return n==null||typeof n.padding!="string"?0:n7(t,"yAxis",e,n.padding)},vTe=me(il,yTe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),xTe=me(ol,bTe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),wTe=me([wr,vTe,Wx,Kx,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),kTe=me([wr,Rt,xTe,Wx,Kx,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),wm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return wTe(t,n,r);case"yAxis":return kTe(t,n,r);case"zAxis":return(i=JI(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Tq(t);case"radiusAxis":return Sq(t,n);default:return}},r7=me([gi,wm],uw),ef=me([gi,xm,gTe,r7],tN);me([bm,ZI,ar],Z_e);function i7(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var vw=(t,e)=>e,xw=(t,e,n)=>n,ETe=me(Hx,vw,xw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(i7)),_Te=me(Gx,vw,xw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(i7)),o7=(t,e)=>({width:t.width,height:e.height}),TTe=(t,e)=>{var n=typeof e.width=="number"?e.width:dm;return{width:n,height:t.height}},a7=me(wr,il,o7),STe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},ATe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},CTe=me(nl,wr,ETe,vw,xw,(t,e,n,r,i)=>{var o={},a;return n.forEach(l=>{var u=o7(e,l);a==null&&(a=STe(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;o[l.id]=a-Number(d)*u.height,a+=(d?-1:1)*u.height}),o}),ITe=me(tl,wr,_Te,vw,xw,(t,e,n,r,i)=>{var o={},a;return n.forEach(l=>{var u=TTe(e,l);a==null&&(a=ATe(e,r,t));var d=r==="left"&&!i||r==="right"&&i;o[l.id]=a-Number(d)*u.width,a+=(d?-1:1)*u.width}),o}),NTe=(t,e)=>{var n=il(t,e);if(n!=null)return CTe(t,n.orientation,n.mirror)},RTe=me([wr,il,NTe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),PTe=(t,e)=>{var n=ol(t,e);if(n!=null)return ITe(t,n.orientation,n.mirror)},OTe=me([wr,ol,PTe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),s7=me(wr,ol,(t,e)=>{var n=typeof e.width=="number"?e.width:dm;return{width:n,height:t.height}}),IL=(t,e,n)=>{switch(e){case"xAxis":return a7(t,n).width;case"yAxis":return s7(t,n).height;default:return}},l7=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,l=el(t,r),u=e.map(d=>d.value);if(a&&l&&o==="category"&&i&&n8(u))return u}},rN=me([Rt,bw,gi,ar],l7),c7=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=el(t,r);if(a&&(i==="number"||o!=="auto"))return e.map(l=>l.value)}},iN=me([Rt,bw,ym,ar],c7),NL=me([Rt,H_e,xm,ef,rN,iN,wm,nN,ar],(t,e,n,r,i,o,a,l,u)=>{if(e!=null){var d=el(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:l,range:a,realScaleType:n,scale:r}}}),DTe=(t,e,n,r,i,o,a,l,u)=>{if(!(e==null||r==null)){var d=el(t,u),{type:p,ticks:g,tickCount:m}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/b:0;E=u==="angleAxis"&&o!=null&&o.length>=2?Ri(o[0]-o[1])*2*E:E;var A=g||i;if(A){var _=A.map((C,N)=>{var I=a?a.indexOf(C):C;return{index:N,coordinate:r(I)+E,value:C,offset:E}});return _.filter(C=>pn(C.coordinate))}return d&&l?l.map((C,N)=>({coordinate:r(C)+E,value:C,index:N,offset:E})).filter(C=>pn(C.coordinate)):r.ticks?r.ticks(m).map(C=>({coordinate:r(C)+E,value:C,offset:E})):r.domain().map((C,N)=>({coordinate:r(C)+E,value:a?a[C]:C,index:N,offset:E}))}},u7=me([Rt,ym,xm,ef,nN,wm,rN,iN,ar],DTe),MTe=(t,e,n,r,i,o,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=el(t,a),{tickCount:u}=e,d=0;return d=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Ri(r[0]-r[1])*2*d:d,l&&o?o.map((p,g)=>({coordinate:n(p)+d,value:p,index:g,offset:d})):n.ticks?n.ticks(u).map(p=>({coordinate:n(p)+d,value:p,offset:d})):n.domain().map((p,g)=>({coordinate:n(p)+d,value:i?i[p]:p,index:g,offset:d}))}},bc=me([Rt,ym,ef,wm,rN,iN,ar],MTe),vc=me(gi,ef,(t,e)=>{if(!(t==null||e==null))return _v(_v({},t),{},{scale:e})}),zTe=me([gi,xm,eN,r7],tN);me((t,e,n)=>JI(t,n),zTe,(t,e)=>{if(!(t==null||e==null))return _v(_v({},t),{},{scale:e})});var jTe=me([Rt,Hx,Gx],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),d7=t=>t.options.defaultTooltipEventType,p7=t=>t.options.validateTooltipEventTypes;function f7(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function oN(t,e){var n=d7(t),r=p7(t);return f7(e,n,r)}function LTe(t){return He(e=>oN(e,t))}var h7=(t,e)=>{var n,r=Number(e);if(!(Mo(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},UTe=t=>t.tooltip.settings,ec={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},VTe={itemInteraction:{click:ec,hover:ec},axisInteraction:{click:ec,hover:ec},keyboardInteraction:ec,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},g7=zi({name:"tooltip",initialState:VTe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:bn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ra(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:bn()},removeTooltipEntrySettings:{reducer(t,e){var n=ra(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:bn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:FTe,replaceTooltipEntrySettings:BTe,removeTooltipEntrySettings:$Te,setTooltipSettingsState:qTe,setActiveMouseOverItemIndex:m7,mouseLeaveItem:HTe,mouseLeaveChart:y7,setActiveClickItemIndex:GTe,setMouseOverAxisIndex:b7,setMouseClickAxisIndex:KTe,setSyncInteraction:zS,setKeyboardInteraction:jS}=g7.actions,WTe=g7.reducer;function RL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(n),!0).forEach(function(r){YTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YTe(t,e,n){return(e=JTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JTe(t){var e=XTe(t,"string");return typeof e=="symbol"?e:e+""}function XTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QTe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function ZTe(t){return t.index!=null}var v7=(t,e,n,r)=>{if(e==null)return ec;var i=QTe(t,e,n);if(i==null)return ec;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(ZTe(i)){if(o)return S0(S0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return S0(S0({},ec),{},{coordinate:i.coordinate})};function eSe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function tSe(t,e){var n=eSe(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),a=Math.max(r,i);return n>=o&&n<=a}function nSe(t,e,n){if(n==null||e==null)return!0;var r=ir(t,e);return r==null||!yc(n)?!0:tSe(r,n)}var aN=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var o=Number(i);if(!pn(o))return i;var a=0,l=1/0;e.length>0&&(l=e.length-1);var u=Math.max(a,Math.min(o,l)),d=e[u];return d==null||nSe(d,n,r)?String(u):null},x7=(t,e,n,r,i,o,a,l)=>{if(!(o==null||l==null)){var u=a[0],d=u==null?void 0:l(u.positions,o);if(d!=null)return d;var p=i==null?void 0:i[Number(o)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},w7=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.dataKey)===i})},km=t=>t.options.tooltipPayloadSearcher,tf=t=>t.tooltip;function PL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(n),!0).forEach(function(r){rSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rSe(t,e,n){return(e=iSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iSe(t){var e=oSe(t,"string");return typeof e=="symbol"?e:e+""}function oSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aSe(t,e){return t??e}var k7=(t,e,n,r,i,o,a)=>{if(!(e==null||o==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:p}=n,g=[];return t.reduce((m,b)=>{var E,{dataDefinedOnItem:A,settings:_}=b,C=aSe(A,l),N=Array.isArray(C)?Y8(C,d,p):C,I=(E=_==null?void 0:_.dataKey)!==null&&E!==void 0?E:r,D=_==null?void 0:_.nameKey,L;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&a==="axis"?L=r8(N,r,i):L=o(N,e,u,D),Array.isArray(L))L.forEach(P=>{var z=OL(OL({},_),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});m.push(tj({tooltipEntrySettings:z,dataKey:P.dataKey,payload:P.payload,value:ir(P.payload,P.dataKey),name:P.name}))});else{var M;m.push(tj({tooltipEntrySettings:_,dataKey:I,payload:L,value:ir(L,I),name:(M=ir(L,D))!==null&&M!==void 0?M:_==null?void 0:_.name}))}return m},g)}},sN=me([lr,Rt,Rq,qI,sr],Zq),sSe=me([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),lSe=me([sr,Qp],Pq),Em=me([sSe,lr,lSe],Oq,{memoizeOptions:{resultEqualityCheck:mw}}),cSe=me([Em],t=>t.filter(hw)),uSe=me([Em],zq,{memoizeOptions:{resultEqualityCheck:mw}}),nf=me([uSe,Cc],jq),dSe=me([cSe,Cc,lr],Cq),lN=me([nf,lr,Em],Lq),E7=me([lr],QI),pSe=me([lr],t=>t.allowDataOverflow),_7=me([E7,pSe],oq),fSe=me([Em],t=>t.filter(hw)),hSe=me([dSe,fSe,cw,wq],Vq),gSe=me([hSe,Cc,sr,_7],Fq),mSe=me([Em],Mq),ySe=me([nf,lr,mSe,ZI,sr],qq,{memoizeOptions:{resultEqualityCheck:gw}}),bSe=me([Hq,sr,Qp],Zp),vSe=me([bSe,sr],Wq),xSe=me([Gq,sr,Qp],Zp),wSe=me([xSe,sr],Yq),kSe=me([Kq,sr,Qp],Zp),ESe=me([kSe,sr],Jq),_Se=me([vSe,ESe,wSe],Tv),TSe=me([lr,E7,_7,gSe,ySe,_Se,Rt,sr],Xq),_m=me([lr,Rt,nf,lN,cw,sr,TSe],Qq),SSe=me([_m,lr,sN],e7),ASe=me([lr,_m,SSe,sr],t7),T7=t=>{var e=sr(t),n=Qp(t),r=!1;return wm(t,e,n,r)},S7=me([lr,T7],uw),A7=me([lr,sN,ASe,S7],tN),CSe=me([Rt,lN,lr,sr],l7),ISe=me([Rt,lN,lr,sr],c7),NSe=(t,e,n,r,i,o,a,l)=>{if(e){var{type:u}=e,d=el(t,l);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=u==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ri(i[0]-i[1])*2*g:g,d&&a?a.map((m,b)=>({coordinate:r(m)+g,value:m,index:b,offset:g})):r.domain().map((m,b)=>({coordinate:r(m)+g,value:o?o[m]:m,index:b,offset:g}))}}},al=me([Rt,lr,sN,A7,T7,CSe,ISe,sr],NSe),cN=me([d7,p7,UTe],(t,e,n)=>f7(n.shared,t,e)),C7=t=>t.tooltip.settings.trigger,uN=t=>t.tooltip.settings.defaultIndex,Tm=me([tf,cN,C7,uN],v7),Nu=me([Tm,nf,vm,_m],aN),I7=me([al,Nu],h7),N7=me([Tm],t=>{if(t)return t.dataKey});me([Tm],t=>{if(t)return t.graphicalItemId});var R7=me([tf,cN,C7,uN],w7),RSe=me([tl,nl,Rt,wr,al,uN,R7,km],x7),PSe=me([Tm,RSe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),OSe=me([Tm],t=>t.active),DSe=me([R7,Nu,Cc,vm,I7,km,cN],k7),MSe=me([DSe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function DL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ML(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DL(Object(n),!0).forEach(function(r){zSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zSe(t,e,n){return(e=jSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jSe(t){var e=LSe(t,"string");return typeof e=="symbol"?e:e+""}function LSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var USe=()=>He(lr),VSe=()=>{var t=USe(),e=He(al),n=He(A7);return _p(!t||!n?void 0:ML(ML({},t),{},{scale:n}),e)};function zL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Md(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(n),!0).forEach(function(r){FSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FSe(t,e,n){return(e=BSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BSe(t){var e=$Se(t,"string");return typeof e=="symbol"?e:e+""}function $Se(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qSe=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},HSe=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:a}=r;return Md(Md(Md({},r),Dr(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var l=i.coordinate,{angle:u}=r;return Md(Md(Md({},r),Dr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function GSe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var P7=(t,e,n,r,i)=>{var o,a=-1,l=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,p=n[u].coordinate,g=u>=l-1?n[0].coordinate:n[u+1].coordinate,m=void 0;if(Ri(p-d)!==Ri(g-p)){var b=[];if(Ri(g-p)===Ri(i[1]-i[0])){m=g;var E=p+i[1]-i[0];b[0]=Math.min(E,(E+d)/2),b[1]=Math.max(E,(E+d)/2)}else{m=d;var A=g+i[1]-i[0];b[0]=Math.min(p,(A+p)/2),b[1]=Math.max(p,(A+p)/2)}var _=[Math.min(p,(m+p)/2),Math.max(p,(m+p)/2)];if(t>_[0]&&t<=_[1]||t>=b[0]&&t<=b[1]){({index:a}=n[u]);break}}else{var C=Math.min(d,g),N=Math.max(d,g);if(t>(C+p)/2&&t<=(N+p)/2){({index:a}=n[u]);break}}}else if(e){for(var I=0;I<l;I++)if(I===0&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I>0&&I<l-1&&t>(e[I].coordinate+e[I-1].coordinate)/2&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I===l-1&&t>(e[I].coordinate+e[I-1].coordinate)/2){({index:a}=e[I]);break}}return a},O7=()=>He(qI),dN=(t,e)=>e,D7=(t,e,n)=>n,pN=(t,e,n,r)=>r,KSe=me(al,t=>Mx(t,e=>e.coordinate)),fN=me([tf,dN,D7,pN],v7),hN=me([fN,nf,vm,_m],aN),WSe=(t,e,n)=>{if(e!=null){var r=tf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},M7=me([tf,dN,D7,pN],w7),Sv=me([tl,nl,Rt,wr,al,pN,M7,km],x7),YSe=me([fN,Sv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),z7=me([al,hN],h7),JSe=me([M7,hN,Cc,vm,z7,km,dN],k7),XSe=me([fN,hN],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),QSe=(t,e,n,r,i,o,a)=>{if(!(!t||!n||!r||!i)&&GSe(t,a)){var l=Cxe(t,e),u=P7(l,o,i,n,r),d=qSe(e,i,u,t);return{activeIndex:String(u),activeCoordinate:d}}},ZSe=(t,e,n,r,i,o,a)=>{if(!(!t||!r||!i||!o||!n)){var l=zke(t,n);if(l){var u=Ixe(l,e),d=P7(u,a,o,r,i),p=HSe(e,o,d,l);return{activeIndex:String(d),activeCoordinate:p}}}},eAe=(t,e,n,r,i,o,a,l)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?QSe(t,e,r,i,o,a,l):ZSe(t,e,n,r,i,o,a)},tAe=me(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),nAe=me(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(vr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:V_e}});function jL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(n),!0).forEach(function(r){rAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rAe(t,e,n){return(e=iAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iAe(t){var e=oAe(t,"string");return typeof e=="symbol"?e:e+""}function oAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aAe={},sAe={zIndexMap:Object.values(vr).reduce((t,e)=>LL(LL({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),aAe)},lAe=new Set(Object.values(vr));function cAe(t){return lAe.has(t)}var j7=zi({name:"zIndex",initialState:sAe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:bn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!cAe(n)&&delete t.zIndexMap[n])},prepare:bn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:bn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:bn()}}}),{registerZIndexPortal:uAe,unregisterZIndexPortal:dAe,registerZIndexPortalId:pAe,unregisterZIndexPortalId:fAe}=j7.actions,hAe=j7.reducer;function $o(t){var{zIndex:e,children:n}=t,r=lwe(),i=r&&e!==void 0&&e!==0,o=Jr(),a=Ln();T.useLayoutEffect(()=>i?(a(uAe({zIndex:e})),()=>{a(dAe({zIndex:e}))}):sm,[a,e,i]);var l=He(d=>tAe(d,e,o));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?tc.createPortal(n,u):null}function LS(){return LS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LS.apply(null,arguments)}function UL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(n),!0).forEach(function(r){gAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gAe(t,e,n){return(e=mAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mAe(t){var e=yAe(t,"string");return typeof e=="symbol"?e:e+""}function yAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bAe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function vAe(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:a,layout:l,cursor:u,tooltipEventType:d,chartName:p}=t,g=n,m=r,b=i;if(!u||!g||p!=="ScatterChart"&&d!=="axis")return null;var E,A,_;if(p==="ScatterChart")E=g,A=Jwe,_=vr.cursorLine;else if(p==="BarChart")E=Xwe(l,g,o,a),A=x$,_=vr.cursorRectangle;else if(l==="radial"&&a8(g)){var{cx:C,cy:N,radius:I,startAngle:D,endAngle:L}=w$(g);E={cx:C,cy:N,startAngle:D,endAngle:L,innerRadius:I,outerRadius:I},A=E$,_=vr.cursorLine}else E={points:Vke(l,g,o)},A=Gh,_=vr.cursorLine;var M=typeof u=="object"&&"className"in u?u.className:void 0,P=A0(A0(A0(A0({stroke:"#ccc",pointerEvents:"none"},o),E),om(u)),{},{payload:m,payloadIndex:b,className:Ut("recharts-tooltip-cursor",M)});return T.createElement($o,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:_},T.createElement(bAe,{cursor:u,cursorComp:A,cursorProps:P}))}function xAe(t){var e=VSe(),n=o$(),r=Kp(),i=O7();return e==null||n==null||r==null||i==null?null:T.createElement(vAe,LS({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var L7=T.createContext(null),wAe=()=>T.useContext(L7),O_={exports:{}},VL;function kAe(){return VL||(VL=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,p){this.fn=u,this.context=d,this.once=p||!1}function o(u,d,p,g,m){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,g||u,m),E=n?n+d:d;return u._events[E]?u._events[E].fn?u._events[E]=[u._events[E],b]:u._events[E].push(b):(u._events[E]=b,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],p,g;if(this._eventsCount===0)return d;for(g in p=this._events)e.call(p,g)&&d.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},l.prototype.listeners=function(d){var p=n?n+d:d,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var m=0,b=g.length,E=new Array(b);m<b;m++)E[m]=g[m].fn;return E},l.prototype.listenerCount=function(d){var p=n?n+d:d,g=this._events[p];return g?g.fn?1:g.length:0},l.prototype.emit=function(d,p,g,m,b,E){var A=n?n+d:d;if(!this._events[A])return!1;var _=this._events[A],C=arguments.length,N,I;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),C){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,m),!0;case 5:return _.fn.call(_.context,p,g,m,b),!0;case 6:return _.fn.call(_.context,p,g,m,b,E),!0}for(I=1,N=new Array(C-1);I<C;I++)N[I-1]=arguments[I];_.fn.apply(_.context,N)}else{var D=_.length,L;for(I=0;I<D;I++)switch(_[I].once&&this.removeListener(d,_[I].fn,void 0,!0),C){case 1:_[I].fn.call(_[I].context);break;case 2:_[I].fn.call(_[I].context,p);break;case 3:_[I].fn.call(_[I].context,p,g);break;case 4:_[I].fn.call(_[I].context,p,g,m);break;default:if(!N)for(L=1,N=new Array(C-1);L<C;L++)N[L-1]=arguments[L];_[I].fn.apply(_[I].context,N)}}return!0},l.prototype.on=function(d,p,g){return o(this,d,p,g,!1)},l.prototype.once=function(d,p,g){return o(this,d,p,g,!0)},l.prototype.removeListener=function(d,p,g,m){var b=n?n+d:d;if(!this._events[b])return this;if(!p)return a(this,b),this;var E=this._events[b];if(E.fn)E.fn===p&&(!m||E.once)&&(!g||E.context===g)&&a(this,b);else{for(var A=0,_=[],C=E.length;A<C;A++)(E[A].fn!==p||m&&!E[A].once||g&&E[A].context!==g)&&_.push(E[A]);_.length?this._events[b]=_.length===1?_[0]:_:a(this,b)}return this},l.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&a(this,p)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(O_)),O_.exports}var EAe=kAe();const _Ae=Lo(EAe);var Tg=new _Ae,US="recharts.syncEvent.tooltip",FL="recharts.syncEvent.brush";function U7(t,e){if(e){var n=Number.parseInt(e,10);if(!Mo(n))return t==null?void 0:t[n]}}var TAe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},V7=zi({name:"options",initialState:TAe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),SAe=V7.reducer,{createEventEmitter:AAe}=V7.actions;function CAe(t){return t.tooltip.syncInteraction}var IAe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},F7=zi({name:"chartData",initialState:IAe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:BL,setDataStartEndIndexes:NAe,setComputedData:S4e}=F7.actions,RAe=F7.reducer,PAe=["x","y"];function $L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(n),!0).forEach(function(r){OAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OAe(t,e,n){return(e=DAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DAe(t){var e=MAe(t,"string");return typeof e=="symbol"?e:e+""}function MAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zAe(t,e){if(t==null)return{};var n,r,i=jAe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jAe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function LAe(){var t=He(HI),e=He(GI),n=Ln(),r=He(kq),i=He(al),o=Kp(),a=Yx(),l=He(u=>u.rootProps.className);T.useEffect(()=>{if(t==null)return sm;var u=(d,p,g)=>{if(e!==g&&t===d){if(r==="index"){var m;if(a&&p!==null&&p!==void 0&&(m=p.payload)!==null&&m!==void 0&&m.coordinate&&p.payload.sourceViewBox){var b=p.payload.coordinate,{x:E,y:A}=b,_=zAe(b,PAe),{x:C,y:N,width:I,height:D}=p.payload.sourceViewBox,L=zd(zd({},_),{},{x:a.x+(I?(E-C)/I:0)*a.width,y:a.y+(D?(A-N)/D:0)*a.height});n(zd(zd({},p),{},{payload:zd(zd({},p.payload),{},{coordinate:L})}))}else n(p);return}if(i!=null){var M;if(typeof r=="function"){var P={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},z=r(i,P);M=i[z]}else r==="value"&&(M=i.find(X=>String(X.value)===p.payload.label));var{coordinate:U}=p.payload;if(M==null||p.payload.active===!1||U==null||a==null){n(zS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:V}=U,B=Math.min(q,a.x+a.width),F=Math.min(V,a.y+a.height),ne={x:o==="horizontal"?M.coordinate:B,y:o==="horizontal"?F:M.coordinate},W=zS({active:p.payload.active,coordinate:ne,dataKey:p.payload.dataKey,index:String(M.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(W)}}};return Tg.on(US,u),()=>{Tg.off(US,u)}},[l,n,e,t,r,i,o,a])}function UAe(){var t=He(HI),e=He(GI),n=Ln();T.useEffect(()=>{if(t==null)return sm;var r=(i,o,a)=>{e!==a&&t===i&&n(NAe(o))};return Tg.on(FL,r),()=>{Tg.off(FL,r)}},[n,e,t])}function VAe(){var t=Ln();T.useEffect(()=>{t(AAe())},[t]),LAe(),UAe()}function FAe(t,e,n,r,i,o){var a=He(b=>WSe(b,t,e)),l=He(GI),u=He(HI),d=He(kq),p=He(CAe),g=p==null?void 0:p.active,m=Yx();T.useEffect(()=>{if(!g&&u!=null&&l!=null){var b=zS({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});Tg.emit(US,u,b,l)}},[g,n,a,i,r,l,u,d,o,m])}function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){BAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BAe(t,e,n){return(e=$Ae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Ae(t){var e=qAe(t,"string");return typeof e=="symbol"?e:e+""}function qAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HAe(t){return t.dataKey}function GAe(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(Iwe,e)}var GL=[],KAe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function B7(t){var e,n,r=hi(t,KAe),{active:i,allowEscapeViewBox:o,animationDuration:a,animationEasing:l,content:u,filterNull:d,isAnimationActive:p,offset:g,payloadUniqBy:m,position:b,reverseDirection:E,useTranslate3d:A,wrapperStyle:_,cursor:C,shared:N,trigger:I,defaultIndex:D,portal:L,axisId:M}=r,P=Ln(),z=typeof D=="number"?String(D):D;T.useEffect(()=>{P(qTe({shared:N,trigger:I,axisId:M,active:i,defaultIndex:z}))},[P,N,I,M,i,z]);var U=Yx(),q=g$(),V=LTe(N),{activeIndex:B,isActive:F}=(e=He(je=>XSe(je,V,I,z)))!==null&&e!==void 0?e:{},ne=He(je=>JSe(je,V,I,z)),W=He(je=>z7(je,V,I,z)),X=He(je=>YSe(je,V,I,z)),Z=ne,oe=wAe(),fe=(n=i??F)!==null&&n!==void 0?n:!1,[Y,G]=fve([Z,fe]),J=V==="axis"?W:void 0;FAe(V,I,X,J,B,fe);var $=L??oe;if($==null||U==null||V==null)return null;var be=Z??GL;fe||(be=GL),d&&be.length&&(be=Ube(be.filter(je=>je.value!=null&&(je.hide!==!0||r.includeHidden)),m,HAe));var _e=be.length>0,Te=T.createElement(zwe,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:p,active:fe,coordinate:X,hasPayload:_e,offset:g,position:b,reverseDirection:E,useTranslate3d:A,viewBox:U,wrapperStyle:_,lastBoundingBox:Y,innerRef:G,hasPortalFromProps:!!L},GAe(u,HL(HL({},r),{},{payload:be,label:J,active:fe,activeIndex:B,coordinate:X,accessibilityLayer:q})));return T.createElement(T.Fragment,null,tc.createPortal(Te,$),fe&&T.createElement(xAe,{cursor:C,tooltipEventType:V,coordinate:X,payload:be,index:B}))}var $7=t=>null;$7.displayName="Cell";function WAe(t,e,n){return(e=YAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YAe(t){var e=JAe(t,"string");return typeof e=="symbol"?e:e+""}function JAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class XAe{constructor(e){WAe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function KL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QAe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(n),!0).forEach(function(r){ZAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZAe(t,e,n){return(e=eCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eCe(t){var e=tCe(t,"string");return typeof e=="symbol"?e:e+""}function tCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nCe={cacheSize:2e3,enableCache:!0},q7=QAe({},nCe),WL=new XAe(q7.cacheSize),rCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},YL="recharts_measurement_span";function iCe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(l)}var JL=(t,e)=>{try{var n=document.getElementById(YL);n||(n=document.createElement("span"),n.setAttribute("id",YL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,rCe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Kh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Wp.isSsr)return{width:0,height:0};if(!q7.enableCache)return JL(e,n);var r=iCe(e,n),i=WL.get(r);if(i)return i;var o=JL(e,n);return WL.set(r,o),o},XL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,H7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sCe=Object.keys(H7),qd="NaN";function lCe(t,e){return t*H7[e]}class Si{static parse(e){var n,[,r,i]=(n=aCe.exec(e))!==null&&n!==void 0?n:[];return new Si(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Mo(e)&&(this.unit=""),n!==""&&!oCe.test(n)&&(this.num=NaN,this.unit=""),sCe.includes(n)&&(this.num=lCe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Si(NaN,""):new Si(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Si(NaN,""):new Si(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Si(NaN,""):new Si(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Si(NaN,""):new Si(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Mo(this.num)}}function G7(t){if(t.includes(qd))return qd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=XL.exec(e))!==null&&n!==void 0?n:[],a=Si.parse(r??""),l=Si.parse(o??""),u=i==="*"?a.multiply(l):a.divide(l);if(u.isNaN())return qd;e=e.replace(XL,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,p,g,m]=(d=QL.exec(e))!==null&&d!==void 0?d:[],b=Si.parse(p??""),E=Si.parse(m??""),A=g==="+"?b.add(E):b.subtract(E);if(A.isNaN())return qd;e=e.replace(QL,A.toString())}return e}var ZL=/\(([^()]*)\)/;function cCe(t){for(var e=t,n;(n=ZL.exec(e))!=null;){var[,r]=n;e=e.replace(ZL,G7(r))}return e}function uCe(t){var e=t.replace(/\s+/g,"");return e=cCe(e),e=G7(e),e}function dCe(t){try{return uCe(t)}catch{return qd}}function D_(t){var e=dCe(t.slice(5,-1));return e===qd?"":e}var pCe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],fCe=["dx","dy","angle","className","breakAll"];function VS(){return VS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VS.apply(null,arguments)}function e4(t,e){if(t==null)return{};var n,r,i=hCe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var K7=/[ \f\n\r\t\v\u2028\u2029]+/,W7=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];kn(e)||(n?i=e.toString().split(""):i=e.toString().split(K7));var o=i.map(l=>({word:l,width:Kh(l,r).width})),a=n?0:Kh("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}};function gCe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Y7=(t,e,n,r)=>t.reduce((i,o)=>{var{word:a,width:l}=o,u=i[i.length-1];if(u&&l!=null&&(e==null||r||u.width+l+n<Number(e)))u.words.push(a),u.width+=l+n;else{var d={words:[a],width:l};i.push(d)}return i},[]),J7=t=>t.reduce((e,n)=>e.width>n.width?e:n),mCe="",t4=(t,e,n,r,i,o,a,l)=>{var u=t.slice(0,e),d=W7({breakAll:n,style:r,children:u+mCe});if(!d)return[!1,[]];var p=Y7(d.wordsWithComputedWidth,o,a,l),g=p.length>i||J7(p).width>Number(o);return[g,p]},yCe=(t,e,n,r,i)=>{var{maxLines:o,children:a,style:l,breakAll:u}=t,d=Ue(o),p=String(a),g=Y7(e,r,n,i);if(!d||i)return g;var m=g.length>o||J7(g).width>Number(r);if(!m)return g;for(var b=0,E=p.length-1,A=0,_;b<=E&&A<=p.length-1;){var C=Math.floor((b+E)/2),N=C-1,[I,D]=t4(p,N,u,l,o,r,n,i),[L]=t4(p,C,u,l,o,r,n,i);if(!I&&!L&&(b=C+1),I&&L&&(E=C-1),!I&&L){_=D;break}A++}return _||g},n4=t=>{var e=kn(t)?[]:t.toString().split(K7);return[{words:e,width:void 0}]},bCe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=t;if((e||n)&&!Wp.isSsr){var l,u,d=W7({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:p,spaceWidth:g}=d;l=p,u=g}else return n4(r);return yCe({breakAll:o,children:r,maxLines:a,style:i},l,u,e,!!n)}return n4(r)},X7="#808080",vCe={angle:0,breakAll:!1,capHeight:"0.71em",fill:X7,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},gN=T.forwardRef((t,e)=>{var n=hi(t,vCe),{x:r,y:i,lineHeight:o,capHeight:a,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:p}=n,g=e4(n,pCe),m=T.useMemo(()=>bCe({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),{dx:b,dy:E,angle:A,className:_,breakAll:C}=g,N=e4(g,fCe);if(!Qa(r)||!Qa(i)||m.length===0)return null;var I=Number(r)+(Ue(b)?b:0),D=Number(i)+(Ue(E)?E:0);if(!pn(I)||!pn(D))return null;var L;switch(p){case"start":L=D_("calc(".concat(a,")"));break;case"middle":L=D_("calc(".concat((m.length-1)/2," * -").concat(o," + (").concat(a," / 2))"));break;default:L=D_("calc(".concat(m.length-1," * -").concat(o,")"));break}var M=[];if(u){var P=m[0].width,{width:z}=g;M.push("scale(".concat(Ue(z)&&Ue(P)?z/P:1,")"))}return A&&M.push("rotate(".concat(A,", ").concat(I,", ").concat(D,")")),M.length&&(N.transform=M.join(" ")),T.createElement("text",VS({},ui(N),{ref:e,x:I,y:D,className:Ut("recharts-text",_),textAnchor:d,fill:l.includes("url")?X7:l}),m.map((U,q)=>{var V=U.words.join(C?"":" ");return T.createElement("tspan",{x:I,dy:q===0?L:o,key:"".concat(V,"-").concat(q)},V)}))});gN.displayName="Text";var xCe=["labelRef"];function wCe(t,e){if(t==null)return{};var n,r,i=kCe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function r4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(n),!0).forEach(function(r){ECe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ECe(t,e,n){return(e=_Ce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Ce(t){var e=TCe(t,"string");return typeof e=="symbol"?e:e+""}function TCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _s(){return _s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_s.apply(null,arguments)}var Q7=T.createContext(null),SCe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:a,children:l}=t,u=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:a}),[e,n,r,i,o,a]);return T.createElement(Q7.Provider,{value:u},l)},Z7=()=>{var t=T.useContext(Q7),e=Yx();return t||i$(e)},ACe=T.createContext(null),CCe=()=>{var t=T.useContext(ACe),e=He(Aq);return t||e},ICe=t=>{var{value:e,formatter:n}=t,r=kn(t.children)?e:t.children;return typeof n=="function"?n(r):r},mN=t=>t!=null&&typeof t=="function",NCe=(t,e)=>{var n=Ri(e-t),r=Math.min(Math.abs(e-t),360);return n*r},RCe=(t,e,n,r,i)=>{var{offset:o,className:a}=t,{cx:l,cy:u,innerRadius:d,outerRadius:p,startAngle:g,endAngle:m,clockWise:b}=i,E=(d+p)/2,A=NCe(g,m),_=A>=0?1:-1,C,N;switch(e){case"insideStart":C=g+_*o,N=b;break;case"insideEnd":C=m-_*o,N=!b;break;case"end":C=m+_*o,N=b;break;default:throw new Error("Unsupported position ".concat(e))}N=A<=0?N:!N;var I=Dr(l,u,E,C),D=Dr(l,u,E,C+(N?1:-1)*359),L="M".concat(I.x,",").concat(I.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(N?0:1,`,
    `).concat(D.x,",").concat(D.y),M=kn(t.id)?dg("recharts-radial-line-"):t.id;return T.createElement("text",_s({},r,{dominantBaseline:"central",className:Ut("recharts-radial-bar-label",a)}),T.createElement("defs",null,T.createElement("path",{id:M,d:L})),T.createElement("textPath",{xlinkHref:"#".concat(M)},n))},PCe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:l,endAngle:u}=t,d=(l+u)/2;if(n==="outside"){var{x:p,y:g}=Dr(r,i,a+e,d);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(o+a)/2,{x:b,y:E}=Dr(r,i,m,d);return{x:b,y:E,textAnchor:"middle",verticalAnchor:"middle"}},FS=t=>"cx"in t&&Ue(t.cx),OCe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!FS(n)&&(o=n);var{x:a,y:l,upperWidth:u,lowerWidth:d,height:p}=e,g=a,m=a+(u-d)/2,b=(g+m)/2,E=(u+d)/2,A=g+u/2,_=p>=0?1:-1,C=_*r,N=_>0?"end":"start",I=_>0?"start":"end",D=u>=0?1:-1,L=D*r,M=D>0?"end":"start",P=D>0?"start":"end";if(i==="top"){var z={x:g+u/2,y:l-C,textAnchor:"middle",verticalAnchor:N};return zn(zn({},z),o?{height:Math.max(l-o.y,0),width:u}:{})}if(i==="bottom"){var U={x:m+d/2,y:l+p+C,textAnchor:"middle",verticalAnchor:I};return zn(zn({},U),o?{height:Math.max(o.y+o.height-(l+p),0),width:d}:{})}if(i==="left"){var q={x:b-L,y:l+p/2,textAnchor:M,verticalAnchor:"middle"};return zn(zn({},q),o?{width:Math.max(q.x-o.x,0),height:p}:{})}if(i==="right"){var V={x:b+E+L,y:l+p/2,textAnchor:P,verticalAnchor:"middle"};return zn(zn({},V),o?{width:Math.max(o.x+o.width-V.x,0),height:p}:{})}var B=o?{width:E,height:p}:{};return i==="insideLeft"?zn({x:b+L,y:l+p/2,textAnchor:P,verticalAnchor:"middle"},B):i==="insideRight"?zn({x:b+E-L,y:l+p/2,textAnchor:M,verticalAnchor:"middle"},B):i==="insideTop"?zn({x:g+u/2,y:l+C,textAnchor:"middle",verticalAnchor:I},B):i==="insideBottom"?zn({x:m+d/2,y:l+p-C,textAnchor:"middle",verticalAnchor:N},B):i==="insideTopLeft"?zn({x:g+L,y:l+C,textAnchor:P,verticalAnchor:I},B):i==="insideTopRight"?zn({x:g+u-L,y:l+C,textAnchor:M,verticalAnchor:I},B):i==="insideBottomLeft"?zn({x:m+L,y:l+p-C,textAnchor:P,verticalAnchor:N},B):i==="insideBottomRight"?zn({x:m+d-L,y:l+p-C,textAnchor:M,verticalAnchor:N},B):i&&typeof i=="object"&&(Ue(i.x)||Bs(i.x))&&(Ue(i.y)||Bs(i.y))?zn({x:a+ca(i.x,E),y:l+ca(i.y,p),textAnchor:"end",verticalAnchor:"end"},B):zn({x:A,y:l+p/2,textAnchor:"middle",verticalAnchor:"middle"},B)},DCe={angle:0,offset:5,zIndex:vr.label,position:"middle",textBreakAll:!1};function Wl(t){var e=hi(t,DCe),{viewBox:n,position:r,value:i,children:o,content:a,className:l="",textBreakAll:u,labelRef:d}=e,p=CCe(),g=Z7(),m=r==="center"?g:p??g,b,E,A;if(n==null?b=m:FS(n)?b=n:b=i$(n),!b||kn(i)&&kn(o)&&!T.isValidElement(a)&&typeof a!="function")return null;var _=zn(zn({},e),{},{viewBox:b});if(T.isValidElement(a)){var{labelRef:C}=_,N=wCe(_,xCe);return T.cloneElement(a,N)}if(typeof a=="function"){if(E=T.createElement(a,_),T.isValidElement(E))return E}else E=ICe(e);var I=ui(e);if(FS(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return RCe(e,r,E,I,b);A=PCe(b,e.offset,e.position)}else A=OCe(e,b);return T.createElement($o,{zIndex:e.zIndex},T.createElement(gN,_s({ref:d,className:Ut("recharts-label",l)},I,A,{textAnchor:gCe(I.textAnchor)?I.textAnchor:A.textAnchor,breakAll:u}),E))}Wl.displayName="Label";var MCe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(Wl,_s({key:"label-implicit"},r)):Qa(t)?T.createElement(Wl,_s({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===Wl?T.cloneElement(t,zn({key:"label-implicit"},r)):T.createElement(Wl,_s({key:"label-implicit",content:t},r)):mN(t)?T.createElement(Wl,_s({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(Wl,_s({},t,{key:"label-implicit"},r)):null};function zCe(t){var{label:e,labelRef:n}=t,r=Z7();return MCe(e,r,n)||null}var M_={},z_={},i4;function jCe(){return i4||(i4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(z_)),z_}var j_={},o4;function LCe(){return o4||(o4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(j_)),j_}var a4;function UCe(){return a4||(a4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jCe(),n=LCe(),r=oI();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(M_)),M_}var L_,s4;function VCe(){return s4||(s4=1,L_=UCe().last),L_}var FCe=VCe();const BCe=Lo(FCe);var $Ce=["valueAccessor"],qCe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(null,arguments)}function l4(t,e){if(t==null)return{};var n,r,i=HCe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var GCe=t=>Array.isArray(t.value)?BCe(t.value):t.value,eH=T.createContext(void 0),tH=eH.Provider,nH=T.createContext(void 0);nH.Provider;function KCe(){return T.useContext(eH)}function WCe(){return T.useContext(nH)}function J0(t){var{valueAccessor:e=GCe}=t,n=l4(t,$Ce),{dataKey:r,clockWise:i,id:o,textBreakAll:a,zIndex:l}=n,u=l4(n,qCe),d=KCe(),p=WCe(),g=d||p;return!g||!g.length?null:T.createElement($o,{zIndex:l??vr.label},T.createElement(di,{className:"recharts-label-list"},g.map((m,b)=>{var E,A=kn(r)?e(m,b):ir(m&&m.payload,r),_=kn(o)?{}:{id:"".concat(o,"-").concat(b)};return T.createElement(Wl,Av({key:"label-".concat(b)},ui(m),u,_,{fill:(E=n.fill)!==null&&E!==void 0?E:m.fill,parentViewBox:m.parentViewBox,value:A,textBreakAll:a,viewBox:m.viewBox,index:b,zIndex:0}))})))}J0.displayName="LabelList";function rH(t){var{label:e}=t;return e?e===!0?T.createElement(J0,{key:"labelList-implicit"}):T.isValidElement(e)||mN(e)?T.createElement(J0,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(J0,Av({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function BS(){return BS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BS.apply(null,arguments)}var iH=t=>{var{cx:e,cy:n,r,className:i}=t,o=Ut("recharts-dot",i);return Ue(e)&&Ue(n)&&Ue(r)?T.createElement("circle",BS({},Do(t),rI(t),{className:o,cx:e,cy:n,r})):null},YCe={radiusAxis:{},angleAxis:{}},oH=zi({name:"polarAxis",initialState:YCe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:A4e,removeRadiusAxis:C4e,addAngleAxis:I4e,removeAngleAxis:N4e}=oH.actions,JCe=oH.reducer,U_={exports:{}},Zt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c4;function XCe(){if(c4)return Zt;c4=1;var t=60103,e=60106,n=60107,r=60108,i=60114,o=60109,a=60110,l=60112,u=60113,d=60120,p=60115,g=60116,m=60121,b=60122,E=60117,A=60129,_=60131;if(typeof Symbol=="function"&&Symbol.for){var C=Symbol.for;t=C("react.element"),e=C("react.portal"),n=C("react.fragment"),r=C("react.strict_mode"),i=C("react.profiler"),o=C("react.provider"),a=C("react.context"),l=C("react.forward_ref"),u=C("react.suspense"),d=C("react.suspense_list"),p=C("react.memo"),g=C("react.lazy"),m=C("react.block"),b=C("react.server.block"),E=C("react.fundamental"),A=C("react.debug_trace_mode"),_=C("react.legacy_hidden")}function N(F){if(typeof F=="object"&&F!==null){var ne=F.$$typeof;switch(ne){case t:switch(F=F.type,F){case n:case i:case r:case u:case d:return F;default:switch(F=F&&F.$$typeof,F){case a:case l:case g:case p:case o:return F;default:return ne}}case e:return ne}}}var I=o,D=t,L=l,M=n,P=g,z=p,U=e,q=i,V=r,B=u;return Zt.ContextConsumer=a,Zt.ContextProvider=I,Zt.Element=D,Zt.ForwardRef=L,Zt.Fragment=M,Zt.Lazy=P,Zt.Memo=z,Zt.Portal=U,Zt.Profiler=q,Zt.StrictMode=V,Zt.Suspense=B,Zt.isAsyncMode=function(){return!1},Zt.isConcurrentMode=function(){return!1},Zt.isContextConsumer=function(F){return N(F)===a},Zt.isContextProvider=function(F){return N(F)===o},Zt.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===t},Zt.isForwardRef=function(F){return N(F)===l},Zt.isFragment=function(F){return N(F)===n},Zt.isLazy=function(F){return N(F)===g},Zt.isMemo=function(F){return N(F)===p},Zt.isPortal=function(F){return N(F)===e},Zt.isProfiler=function(F){return N(F)===i},Zt.isStrictMode=function(F){return N(F)===r},Zt.isSuspense=function(F){return N(F)===u},Zt.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===n||F===i||F===A||F===r||F===u||F===d||F===_||typeof F=="object"&&F!==null&&(F.$$typeof===g||F.$$typeof===p||F.$$typeof===o||F.$$typeof===a||F.$$typeof===l||F.$$typeof===E||F.$$typeof===m||F[0]===b)},Zt.typeOf=N,Zt}var u4;function QCe(){return u4||(u4=1,U_.exports=XCe()),U_.exports}var ZCe=QCe(),d4=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",p4=null,V_=null,aH=t=>{if(t===p4&&Array.isArray(V_))return V_;var e=[];return T.Children.forEach(t,n=>{kn(n)||(ZCe.isFragment(n)?e=e.concat(aH(n.props.children)):e.push(n))}),V_=e,p4=t,e};function eIe(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>d4(i)):r=[d4(e)],aH(t).forEach(i=>{var o=wp(i,"type.displayName")||wp(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var sH=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,F_={},f4;function tIe(){return f4||(f4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(F_)),F_}var B_,h4;function nIe(){return h4||(h4=1,B_=tIe().isPlainObject),B_}var rIe=nIe();const iIe=Lo(rIe);function g4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(n),!0).forEach(function(r){oIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oIe(t,e,n){return(e=aIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aIe(t){var e=sIe(t,"string");return typeof e=="symbol"?e:e+""}function sIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cv.apply(null,arguments)}var y4=(t,e,n,r,i)=>{var o=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-o/2,",").concat(e+i),a+="L ".concat(t+n-o/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},lIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cIe=t=>{var e=hi(t,lIe),{x:n,y:r,upperWidth:i,lowerWidth:o,height:a,className:l}=e,{animationEasing:u,animationDuration:d,animationBegin:p,isUpdateAnimationActive:g}=e,m=T.useRef(null),[b,E]=T.useState(-1),A=T.useRef(i),_=T.useRef(o),C=T.useRef(a),N=T.useRef(n),I=T.useRef(r),D=tw(t,"trapezoid-");if(T.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var ne=m.current.getTotalLength();ne&&E(ne)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||a!==+a||i===0&&o===0||a===0)return null;var L=Ut("recharts-trapezoid",l);if(!g)return T.createElement("g",null,T.createElement("path",Cv({},ui(e),{className:L,d:y4(n,r,i,o,a)})));var M=A.current,P=_.current,z=C.current,U=N.current,q=I.current,V="0px ".concat(b===-1?1:b,"px"),B="".concat(b,"px 0px"),F=m$(["strokeDasharray"],d,u);return T.createElement(ew,{animationId:D,key:D,canBegin:b>0,duration:d,easing:u,isActive:g,begin:p},ne=>{var W=wn(M,i,ne),X=wn(P,o,ne),Z=wn(z,a,ne),oe=wn(U,n,ne),fe=wn(q,r,ne);m.current&&(A.current=W,_.current=X,C.current=Z,N.current=oe,I.current=fe);var Y=ne>0?{transition:F,strokeDasharray:B}:{strokeDasharray:V};return T.createElement("path",Cv({},ui(e),{className:L,d:y4(oe,fe,W,X,Z),ref:m,style:m4(m4({},Y),e.style)}))})},uIe=["option","shapeType","propTransformer","activeClassName"];function dIe(t,e){if(t==null)return{};var n,r,i=pIe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function b4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b4(Object(n),!0).forEach(function(r){fIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fIe(t,e,n){return(e=hIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hIe(t){var e=gIe(t,"string");return typeof e=="symbol"?e:e+""}function gIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mIe(t,e){return Iv(Iv({},e),t)}function yIe(t,e){return t==="symbols"}function v4(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(x$,n);case"trapezoid":return T.createElement(cIe,n);case"sector":return T.createElement(E$,n);case"symbols":if(yIe(e))return T.createElement(o8,n);break;case"curve":return T.createElement(Gh,n);default:return null}}function bIe(t){return T.isValidElement(t)?t.props:t}function vIe(t){var{option:e,shapeType:n,propTransformer:r=mIe,activeClassName:i="recharts-active-shape"}=t,o=dIe(t,uIe),a;if(T.isValidElement(e))a=T.cloneElement(e,Iv(Iv({},o),bIe(e)));else if(typeof e=="function")a=e(o,o.index);else if(iIe(e)&&typeof e!="boolean"){var l=r(e,o);a=T.createElement(v4,{shapeType:n,elementProps:l})}else{var u=o;a=T.createElement(v4,{shapeType:n,elementProps:u})}return o.isActive?T.createElement(di,{className:i},a):a}var lH=(t,e,n)=>{var r=Ln();return(i,o)=>a=>{t==null||t(i,o,a),r(m7({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},cH=t=>{var e=Ln();return(n,r)=>i=>{t==null||t(n,r,i),e(HTe())}},uH=(t,e,n)=>{var r=Ln();return(i,o)=>a=>{t==null||t(i,o,a),r(GTe({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function dH(t){var{tooltipEntrySettings:e}=t,n=Ln(),r=Jr(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(FTe(e)):i.current!==e&&n(BTe({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n($Te(i.current)),i.current=null)},[n]),null}function pH(t){var{legendPayload:e}=t,n=Ln(),r=Jr(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(wwe(e)):i.current!==e&&n(kwe({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(Ewe(i.current)),i.current=null)},[n]),null}var $_,xIe=()=>{var[t]=T.useState(()=>dg("uid-"));return t},wIe=($_=aW.useId)!==null&&$_!==void 0?$_:xIe;function fH(t,e){var n=wIe();return e||(t?"".concat(t,"-").concat(n):n)}var kIe=T.createContext(void 0),hH=t=>{var{id:e,type:n,children:r}=t,i=fH("recharts-".concat(n),e);return T.createElement(kIe.Provider,{value:i},r(i))},EIe={cartesianItems:[],polarItems:[]},gH=zi({name:"graphicalItems",initialState:EIe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:bn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ra(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:bn()},removeCartesianGraphicalItem:{reducer(t,e){var n=ra(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:bn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:bn()},removePolarGraphicalItem:{reducer(t,e){var n=ra(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:bn()}}}),{addCartesianGraphicalItem:_Ie,replaceCartesianGraphicalItem:TIe,removeCartesianGraphicalItem:SIe,addPolarGraphicalItem:R4e,removePolarGraphicalItem:P4e}=gH.actions,AIe=gH.reducer,CIe=t=>{var e=Ln(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(_Ie(t)):n.current!==t&&e(TIe({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(SIe(n.current)),n.current=null)},[e]),null},mH=T.memo(CIe),IIe=["points"];function x4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(n),!0).forEach(function(r){NIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NIe(t,e,n){return(e=RIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RIe(t){var e=PIe(t,"string");return typeof e=="symbol"?e:e+""}function PIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nv.apply(null,arguments)}function OIe(t,e){if(t==null)return{};var n,r,i=DIe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function MIe(t){var{option:e,dotProps:n,className:r}=t;if(T.isValidElement(e))return T.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Ut(r,typeof e!="boolean"?e.className:""),o=n??{},{points:a}=o,l=OIe(o,IIe);return T.createElement(iH,Nv({},l,{className:i}))}function zIe(t,e){return t==null?!1:e?!0:t.length===1}function jIe(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:a,needClip:l,clipPathId:u,zIndex:d=vr.scatter}=t;if(!zIe(e,n))return null;var p=sH(n),g=p0e(n),m=e.map((E,A)=>{var _,C,N=q_(q_(q_({r:3},a),g),{},{index:A,cx:(_=E.x)!==null&&_!==void 0?_:void 0,cy:(C=E.y)!==null&&C!==void 0?C:void 0,dataKey:o,value:E.value,payload:E.payload,points:e});return T.createElement(MIe,{key:"dot-".concat(A),option:n,dotProps:N,className:i})}),b={};return l&&u!=null&&(b.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(u,")")),T.createElement($o,{zIndex:d},T.createElement(di,Nv({className:r},b),m))}function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(r){LIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LIe(t,e,n){return(e=UIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UIe(t){var e=VIe(t,"string");return typeof e=="symbol"?e:e+""}function VIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FIe={xAxis:{},yAxis:{},zAxis:{}},yH=zi({name:"cartesianAxis",initialState:FIe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:bn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:bn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:bn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:bn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:bn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:bn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:bn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:bn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:bn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var a=[...o,r].slice(-3);t.yAxis[n]=k4(k4({},t.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:BIe,replaceXAxis:$Ie,removeXAxis:qIe,addYAxis:HIe,replaceYAxis:GIe,removeYAxis:KIe,addZAxis:O4e,replaceZAxis:D4e,removeZAxis:M4e,updateYAxisWidth:WIe}=yH.actions,YIe=yH.reducer,JIe=me([wr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),XIe=me([JIe,tl,nl],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),yN=()=>He(XIe),QIe=()=>He(MSe);function E4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(n),!0).forEach(function(r){ZIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZIe(t,e,n){return(e=eNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eNe(t){var e=tNe(t,"string");return typeof e=="symbol"?e:e+""}function tNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nNe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=H_(H_(H_({},l),om(i)),rI(i)),d;return T.isValidElement(i)?d=T.cloneElement(i,u):typeof i=="function"?d=i(u):d=T.createElement(iH,u),T.createElement(di,{className:"recharts-active-dot",clipPath:a},d)};function _4(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:a=vr.activeDot}=t,l=He(Nu),u=QIe();if(e==null||u==null)return null;var d=e.find(p=>u.includes(p.payload));return kn(d)?null:T.createElement($o,{zIndex:a},T.createElement(nNe,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var rNe="Invariant failed";function iNe(t,e){throw new Error(rNe)}var oNe=["x","y"];function $S(){return $S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$S.apply(null,arguments)}function T4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(n),!0).forEach(function(r){aNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aNe(t,e,n){return(e=sNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sNe(t){var e=lNe(t,"string");return typeof e=="symbol"?e:e+""}function lNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cNe(t,e){if(t==null)return{};var n,r,i=uNe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uNe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dNe(t,e){var{x:n,y:r}=t,i=cNe(t,oNe),o="".concat(n),a=parseInt(o,10),l="".concat(r),u=parseInt(l,10),d="".concat(e.height||i.height),p=parseInt(d,10),g="".concat(e.width||i.width),m=parseInt(g,10);return kh(kh(kh(kh(kh({},e),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:p,width:m,name:e.name,radius:e.radius})}function Rv(t){return T.createElement(vIe,$S({shapeType:"rectangle",propTransformer:dNe,activeClassName:"recharts-active-bar"},t))}var pNe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ue(e))return e;var o=Ue(r)||kn(r);return o?e(r,i):(o||iNe(),n)}},fNe={},bH=zi({name:"errorBars",initialState:fNe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:z4e,replaceErrorBar:j4e,removeErrorBar:L4e}=bH.actions,hNe=bH.reducer,gNe=["children"];function mNe(t,e){if(t==null)return{};var n,r,i=yNe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yNe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bNe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vNe=T.createContext(bNe);function xNe(t){var{children:e}=t,n=mNe(t,gNe);return T.createElement(vNe.Provider,{value:n},e)}function bN(t,e){var n,r,i=He(d=>il(d,t)),o=He(d=>ol(d,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:fr.allowDataOverflow,l=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:hr.allowDataOverflow,u=a||l;return{needClip:u,needClipX:a,needClipY:l}}function vH(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=yN(),{needClipX:o,needClipY:a,needClip:l}=bN(e,n);if(!l||!i)return null;var{x:u,y:d,width:p,height:g}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:o?u:u-p/2,y:a?d:d-g/2,width:o?p:p*2,height:a?g:g*2}))}function wNe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&pn(t.zIndex)?t.zIndex:e}var G_={exports:{}},K_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S4;function kNe(){if(S4)return K_;S4=1;var t=Ip();function e(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return K_.useSyncExternalStoreWithSelector=function(u,d,p,g,m){var b=i(null);if(b.current===null){var E={hasValue:!1,value:null};b.current=E}else E=b.current;b=a(function(){function _(L){if(!C){if(C=!0,N=L,L=g(L),m!==void 0&&E.hasValue){var M=E.value;if(m(M,L))return I=M}return I=L}if(M=I,n(N,L))return M;var P=g(L);return m!==void 0&&m(M,P)?(N=L,M):(N=L,I=P)}var C=!1,N,I,D=p===void 0?null:p;return[function(){return _(d())},D===null?void 0:function(){return _(D())}]},[d,p,g,m]);var A=r(u,b[0],b[1]);return o(function(){E.hasValue=!0,E.value=A},[A]),l(A),A},K_}var A4;function ENe(){return A4||(A4=1,G_.exports=kNe()),G_.exports}ENe();function _Ne(t){t()}function TNe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){_Ne(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var C4={notify(){},get:()=>[]};function SNe(t,e){let n,r=C4,i=0,o=!1;function a(A){p();const _=r.subscribe(A);let C=!1;return()=>{C||(C=!0,_(),g())}}function l(){r.notify()}function u(){E.onStateChange&&E.onStateChange()}function d(){return o}function p(){i++,n||(n=t.subscribe(u),r=TNe())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=C4)}function m(){o||(o=!0,p())}function b(){o&&(o=!1,g())}const E={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:m,tryUnsubscribe:b,getListeners:()=>r};return E}var ANe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CNe=ANe(),INe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",NNe=INe(),RNe=()=>CNe||NNe?T.useLayoutEffect:T.useEffect,PNe=RNe();function I4(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ONe(t,e){if(I4(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!I4(t[n[i]],e[n[i]]))return!1;return!0}var W_=Symbol.for("react-redux-context"),Y_=typeof globalThis<"u"?globalThis:{};function DNe(){if(!T.createContext)return{};const t=Y_[W_]??(Y_[W_]=new Map);let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var MNe=DNe();function zNe(t){const{children:e,context:n,serverState:r,store:i}=t,o=T.useMemo(()=>{const u=SNe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),a=T.useMemo(()=>i.getState(),[i]);PNe(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=n||MNe;return T.createElement(l.Provider,{value:o},e)}var jNe=zNe,LNe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function UNe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function ww(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(LNe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!ONe(t[r],e[r]))return!1}else if(!UNe(t[r],e[r]))return!1;return!0}var VNe=["onMouseEnter","onMouseLeave","onClick"],FNe=["value","background","tooltipPosition"],BNe=["id"],$Ne=["onMouseEnter","onClick","onMouseLeave"];function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ws.apply(null,arguments)}function N4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(n),!0).forEach(function(r){qNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qNe(t,e,n){return(e=HNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HNe(t){var e=GNe(t,"string");return typeof e=="symbol"?e:e+""}function GNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pv(t,e){if(t==null)return{};var n,r,i=KNe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KNe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var WNe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:qx(n,e),payload:t}]},YNe=T.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:l,tooltipType:u}=t,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:qx(o,e),hide:a,type:u,color:i,unit:l}};return T.createElement(dH,{tooltipEntrySettings:d})});function JNe(t){var e=He(Nu),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:a,onMouseLeave:l,onClick:u}=o,d=Pv(o,VNe),p=lH(a,r),g=cH(l),m=uH(u,r);if(!i||n==null)return null;var b=om(i);return T.createElement($o,{zIndex:wNe(i,vr.barBackground)},n.map((E,A)=>{var{value:_,background:C,tooltipPosition:N}=E,I=Pv(E,FNe);if(!C)return null;var D=p(E,A),L=g(E,A),M=m(E,A),P=oi(oi(oi(oi(oi({option:i,isActive:String(A)===e},I),{},{fill:"#eee"},C),b),iI(d,E,A)),{},{onMouseEnter:D,onMouseLeave:L,onClick:M,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return T.createElement(Rv,Ws({key:"background-bar-".concat(A)},P))}))}function XNe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(o=>{var a={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return oi(oi({},a),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:a,fill:o.fill})});return T.createElement(tH,{value:e?i:void 0},n)}function QNe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:o,dataKey:a}=t,l=He(Nu),u=He(N7),d=n&&String(o)===l&&(u==null||a===u),p=d?n:e;return d?T.createElement($o,{zIndex:vr.activeBar},T.createElement(Rv,Ws({},r,{name:String(r.name)},i,{isActive:d,option:p,index:o,dataKey:a}))):T.createElement(Rv,Ws({},r,{name:String(r.name)},i,{isActive:d,option:p,index:o,dataKey:a}))}function ZNe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:o}=t;return T.createElement(Rv,Ws({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:o}))}function e2e(t){var e,{data:n,props:r}=t,i=(e=Do(r))!==null&&e!==void 0?e:{},{id:o}=i,a=Pv(i,BNe),{shape:l,dataKey:u,activeBar:d}=r,{onMouseEnter:p,onClick:g,onMouseLeave:m}=r,b=Pv(r,$Ne),E=lH(p,u),A=cH(m),_=uH(g,u);return n?T.createElement(T.Fragment,null,n.map((C,N)=>T.createElement(di,Ws({key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(N),className:"recharts-bar-rectangle"},iI(b,C,N),{onMouseEnter:E(C,N),onMouseLeave:A(C,N),onClick:_(C,N)}),d?T.createElement(QNe,{shape:l,activeBar:d,baseProps:a,entry:C,index:N,dataKey:u}):T.createElement(ZNe,{shape:l,baseProps:a,entry:C,index:N,dataKey:u})))):null}function t2e(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:l,animationEasing:u,onAnimationEnd:d,onAnimationStart:p}=e,g=n.current,m=tw(e,"recharts-bar-"),[b,E]=T.useState(!1),A=!b,_=T.useCallback(()=>{typeof d=="function"&&d(),E(!1)},[d]),C=T.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return T.createElement(XNe,{showLabels:A,rects:r},T.createElement(ew,{animationId:m,begin:a,duration:l,isActive:o,easing:u,onAnimationEnd:_,onAnimationStart:C,key:m},N=>{var I=N===1?r:r==null?void 0:r.map((D,L)=>{var M=g&&g[L];if(M)return oi(oi({},D),{},{x:wn(M.x,D.x,N),y:wn(M.y,D.y,N),width:wn(M.width,D.width,N),height:wn(M.height,D.height,N)});if(i==="horizontal"){var P=wn(0,D.height,N),z=wn(D.stackedBarStart,D.y,N);return oi(oi({},D),{},{y:z,height:P})}var U=wn(0,D.width,N),q=wn(D.stackedBarStart,D.x,N);return oi(oi({},D),{},{width:U,x:q})});return N>0&&(n.current=I??null),I==null?null:T.createElement(di,null,T.createElement(e2e,{props:e,data:I}))}),T.createElement(rH,{label:e.label}),e.children)}function n2e(t){var e=T.useRef(null);return T.createElement(t2e,{previousRectanglesRef:e,props:t})}var xH=0,r2e=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:ir(t,e)}};class i2e extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:a,needClip:l,background:u,id:d}=this.props;if(e||n==null)return null;var p=Ut("recharts-bar",i),g=d;return T.createElement(di,{className:p,id:d},l&&T.createElement("defs",null,T.createElement(vH,{clipPathId:g,xAxisId:o,yAxisId:a})),T.createElement(di,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(g,")"):void 0},T.createElement(JNe,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),T.createElement(n2e,this.props)))}}var o2e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:xH,xAxisId:0,yAxisId:0,zIndex:vr.bar};function a2e(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:p}=t,{needClip:g}=bN(e,n),m=Kp(),b=Jr(),E=eIe(t.children,$7),A=He(N=>D2e(N,e,n,b,t.id,E));if(m!=="vertical"&&m!=="horizontal")return null;var _,C=A==null?void 0:A[0];return C==null||C.height==null||C.width==null?_=0:_=m==="vertical"?C.height/2:C.width/2,T.createElement(xNe,{xAxisId:e,yAxisId:n,data:A,dataPointFormatter:r2e,errorBarOffset:_},T.createElement(i2e,Ws({},t,{layout:m,needClip:g,data:A,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:p})))}function s2e(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:l,xAxisTicks:u,yAxisTicks:d,stackedData:p,displayedData:g,offset:m,cells:b,parentViewBox:E,dataStartIndex:A}=t,_=e==="horizontal"?l:a,C=p?_.scale.domain():null,N=_xe({numericAxis:_}),I=_.scale(N);return g.map((D,L)=>{var M,P,z,U,q,V;p?M=vxe(p[L+A],C):(M=ir(D,n),Array.isArray(M)||(M=[N,M]));var B=pNe(r,xH)(M[1],L);if(e==="horizontal"){var F,[ne,W]=[l.scale(M[0]),l.scale(M[1])];P=Qz({axis:a,ticks:u,bandSize:o,offset:i.offset,entry:D,index:L}),z=(F=W??ne)!==null&&F!==void 0?F:void 0,U=i.size;var X=ne-W;if(q=Mo(X)?0:X,V={x:P,y:m.top,width:U,height:m.height},Math.abs(B)>0&&Math.abs(q)<Math.abs(B)){var Z=Ri(q||B)*(Math.abs(B)-Math.abs(q));z-=Z,q+=Z}}else{var[oe,fe]=[a.scale(M[0]),a.scale(M[1])];if(P=oe,z=Qz({axis:l,ticks:d,bandSize:o,offset:i.offset,entry:D,index:L}),U=fe-oe,q=i.size,V={x:m.left,y:z,width:m.width,height:q},Math.abs(B)>0&&Math.abs(U)<Math.abs(B)){var Y=Ri(U||B)*(Math.abs(B)-Math.abs(U));U+=Y}}if(P==null||z==null||U==null||q==null)return null;var G=oi(oi({},D),{},{stackedBarStart:I,x:P,y:z,width:U,height:q,value:p?M:M[1],payload:D,background:V,tooltipPosition:{x:P+U/2,y:z+q/2},parentViewBox:E},b&&b[L]&&b[L].props);return G}).filter(Boolean)}function l2e(t){var e=hi(t,o2e),n=Jr();return T.createElement(hH,{id:e.id,type:"bar"},r=>T.createElement(T.Fragment,null,T.createElement(pH,{legendPayload:WNe(e)}),T.createElement(YNe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),T.createElement(mH,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Q8(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),T.createElement($o,{zIndex:e.zIndex},T.createElement(a2e,Ws({},e,{id:r})))))}var wH=T.memo(l2e,ww);wH.displayName="Bar";function R4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(n),!0).forEach(function(r){c2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c2e(t,e,n){return(e=u2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u2e(t){var e=d2e(t,"string");return typeof e=="symbol"?e:e+""}function d2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p2e=(t,e)=>e,f2e=(t,e,n)=>n,h2e=(t,e,n,r)=>r,g2e=(t,e,n,r,i)=>i,Sm=me([yw,g2e],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),m2e=me([Sm],t=>t==null?void 0:t.maxBarSize),y2e=(t,e,n,r,i,o)=>o,P4=(t,e,n)=>{var r=n??t;if(!kn(r))return ca(r,e,0)},b2e=me([Rt,yw,p2e,f2e,h2e],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),v2e=(t,e,n,r)=>{var i=Rt(t);return i==="horizontal"?_g(t,"yAxis",n,r):_g(t,"xAxis",e,r)},x2e=(t,e,n)=>{var r=Rt(t);return r==="horizontal"?IL(t,"xAxis",e):IL(t,"yAxis",n)},w2e=(t,e,n)=>{var r={},i=t.filter(hw),o=t.filter(d=>d.stackId==null),a=i.reduce((d,p)=>(d[p.stackId]||(d[p.stackId]=[]),d[p.stackId].push(p),d),r),l=Object.entries(a).map(d=>{var[p,g]=d,m=g.map(E=>E.dataKey),b=P4(e,n,g[0].barSize);return{stackId:p,dataKeys:m,barSize:b}}),u=o.map(d=>{var p=[d.dataKey].filter(m=>m!=null),g=P4(e,n,d.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...l,...u]},k2e=me([b2e,O_e,x2e],w2e),E2e=(t,e,n,r,i)=>{var o,a,l=Sm(t,e,n,r,i);if(l!=null){var u=Rt(t),d=vq(t),{maxBarSize:p}=l,g=kn(p)?d:p,m,b;return u==="horizontal"?(m=vc(t,"xAxis",e,r),b=bc(t,"xAxis",e,r)):(m=vc(t,"yAxis",n,r),b=bc(t,"yAxis",n,r)),(o=(a=_p(m,b,!0))!==null&&a!==void 0?a:g)!==null&&o!==void 0?o:0}},kH=(t,e,n,r)=>{var i=Rt(t),o,a;return i==="horizontal"?(o=vc(t,"xAxis",e,r),a=bc(t,"xAxis",e,r)):(o=vc(t,"yAxis",n,r),a=bc(t,"yAxis",n,r)),_p(o,a)};function _2e(t,e,n,r,i){var o=r.length;if(!(o<1)){var a=ca(t,n,0,!0),l,u=[];if(pn(r[0].barSize)){var d=!1,p=n/o,g=r.reduce((C,N)=>C+(N.barSize||0),0);g+=(o-1)*a,g>=n&&(g-=(o-1)*a,a=0),g>=n&&p>0&&(d=!0,p*=.9,g=o*p);var m=(n-g)/2>>0,b={offset:m-a,size:0};l=r.reduce((C,N)=>{var I,D={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:b.offset+b.size+a,size:d?p:(I=N.barSize)!==null&&I!==void 0?I:0}},L=[...C,D];return b=L[L.length-1].position,L},u)}else{var E=ca(e,n,0,!0);n-2*E-(o-1)*a<=0&&(a=0);var A=(n-2*E-(o-1)*a)/o;A>1&&(A>>=0);var _=pn(i)?Math.min(A,i):A;l=r.reduce((C,N,I)=>[...C,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:E+(A+a)*I+(A-_)/2,size:_}}],u)}return l}}var T2e=(t,e,n,r,i,o,a)=>{var l=kn(a)?e:a,u=_2e(n,r,i!==o?i:o,t,l);return i!==o&&u!=null&&(u=u.map(d=>C0(C0({},d),{},{position:C0(C0({},d.position),{},{offset:d.position.offset-i/2})}))),u},S2e=me([k2e,vq,P_e,xq,E2e,kH,m2e],T2e),A2e=(t,e,n,r)=>vc(t,"xAxis",e,r),C2e=(t,e,n,r)=>vc(t,"yAxis",n,r),I2e=(t,e,n,r)=>bc(t,"xAxis",e,r),N2e=(t,e,n,r)=>bc(t,"yAxis",n,r),R2e=me([S2e,Sm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),P2e=(t,e)=>{var n=fw(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(a=>a.key===n)}}}},O2e=me([v2e,Sm],P2e),D2e=me([wr,gI,A2e,C2e,I2e,N2e,R2e,Rt,lw,kH,O2e,Sm,y2e],(t,e,n,r,i,o,a,l,u,d,p,g,m)=>{var{chartData:b,dataStartIndex:E,dataEndIndex:A}=u;if(!(g==null||a==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||o==null||d==null)){var{data:_}=g,C;if(_!=null&&_.length>0?C=_:C=b==null?void 0:b.slice(E,A+1),C!=null)return s2e({layout:l,barSettings:g,pos:a,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:p,displayedData:C,offset:t,cells:m,dataStartIndex:E})}}),M2e=t=>{var{chartData:e}=t,n=Ln(),r=Jr();return T.useEffect(()=>r?()=>{}:(n(BL(e)),()=>{n(BL(void 0))}),[e,n,r]),null},O4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},EH=zi({name:"brush",initialState:O4,reducers:{setBrushSettings(t,e){return e.payload==null?O4:e.payload}}}),{setBrushSettings:U4e}=EH.actions,z2e=EH.reducer;function j2e(t,e,n){return(e=L2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L2e(t){var e=U2e(t,"string");return typeof e=="symbol"?e:e+""}function U2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vN{static create(e){return new vN(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}j2e(vN,"EPS",1e-4);function V2e(t){return(t%180+180)%180}var F2e=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=V2e(i),a=o*Math.PI/180,l=Math.atan(r/n),u=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(u)},B2e={dots:[],areas:[],lines:[]},_H=zi({name:"referenceElements",initialState:B2e,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ra(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ra(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ra(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:V4e,removeDot:F4e,addArea:B4e,removeArea:$4e,addLine:q4e,removeLine:H4e}=_H.actions,$2e=_H.reducer,q2e=T.createContext(void 0),H2e=t=>{var{children:e}=t,[n]=T.useState("".concat(dg("recharts"),"-clip")),r=yN();if(r==null)return null;var{x:i,y:o,width:a,height:l}=r;return T.createElement(q2e.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:o,height:l,width:a}))),e)};function TH(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function G2e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return F2e(r,n)}function K2e(t,e,n){var r=n==="width",{x:i,y:o,width:a,height:l}=t;return e===1?{start:r?i:o,end:r?i+a:o+l}:{start:r?i+a:o+l,end:r?i:o}}function Ov(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function W2e(t,e){return TH(t,e+1)}function Y2e(t,e,n,r,i){for(var o=(r||[]).slice(),{start:a,end:l}=e,u=0,d=1,p=a,g=function(){var E=r==null?void 0:r[u];if(E===void 0)return{v:TH(r,d)};var A=u,_,C=()=>(_===void 0&&(_=n(E,A)),_),N=E.coordinate,I=u===0||Ov(t,N,C,p,l);I||(u=0,p=a,d+=1),I&&(p=N+t*(C()/2+i),u+=d)},m;d<=o.length;)if(m=g(),m)return m.v;return[]}function D4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(n),!0).forEach(function(r){J2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J2e(t,e,n){return(e=X2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X2e(t){var e=Q2e(t,"string");return typeof e=="symbol"?e:e+""}function Q2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z2e(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:l}=e,{end:u}=e,d=function(m){var b=o[m],E,A=()=>(E===void 0&&(E=n(b,m)),E);if(m===a-1){var _=t*(b.coordinate+t*A()/2-u);o[m]=b=Br(Br({},b),{},{tickCoord:_>0?b.coordinate-_*t:b.coordinate})}else o[m]=b=Br(Br({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var C=Ov(t,b.tickCoord,A,l,u);C&&(u=b.tickCoord-t*(A()/2+i),o[m]=Br(Br({},b),{},{isShow:!0}))}},p=a-1;p>=0;p--)d(p);return o}function eRe(t,e,n,r,i,o){var a=(r||[]).slice(),l=a.length,{start:u,end:d}=e;if(o){var p=r[l-1],g=n(p,l-1),m=t*(p.coordinate+t*g/2-d);if(a[l-1]=p=Br(Br({},p),{},{tickCoord:m>0?p.coordinate-m*t:p.coordinate}),p.tickCoord!=null){var b=Ov(t,p.tickCoord,()=>g,u,d);b&&(d=p.tickCoord-t*(g/2+i),a[l-1]=Br(Br({},p),{},{isShow:!0}))}}for(var E=o?l-1:l,A=function(N){var I=a[N],D,L=()=>(D===void 0&&(D=n(I,N)),D);if(N===0){var M=t*(I.coordinate-t*L()/2-u);a[N]=I=Br(Br({},I),{},{tickCoord:M<0?I.coordinate-M*t:I.coordinate})}else a[N]=I=Br(Br({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var P=Ov(t,I.tickCoord,L,u,d);P&&(u=I.tickCoord+t*(L()/2+i),a[N]=Br(Br({},I),{},{isShow:!0}))}},_=0;_<E;_++)A(_);return a}function xN(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:l,interval:u,tickFormatter:d,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Ue(u)||Wp.isSsr){var m;return(m=W2e(i,Ue(u)?u:0))!==null&&m!==void 0?m:[]}var b=[],E=l==="top"||l==="bottom"?"width":"height",A=p&&E==="width"?Kh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(I,D)=>{var L=typeof d=="function"?d(I.value,D):I.value;return E==="width"?G2e(Kh(L,{fontSize:e,letterSpacing:n}),A,g):Kh(L,{fontSize:e,letterSpacing:n})[E]},C=i.length>=2?Ri(i[1].coordinate-i[0].coordinate):1,N=K2e(o,C,E);return u==="equidistantPreserveStart"?Y2e(C,N,_,i,a):(u==="preserveStart"||u==="preserveStartEnd"?b=eRe(C,N,_,i,a,u==="preserveStartEnd"):b=Z2e(C,N,_,i,a),b.filter(I=>I.isShow))}var tRe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,a=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>a&&(a=g.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+o,d=a+u+l+(n?r:0);return Math.round(d)}return 0},nRe=["axisLine","width","height","className","hide","ticks","axisType"];function rRe(t,e){if(t==null)return{};var n,r,i=iRe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ru.apply(null,arguments)}function M4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M4(Object(n),!0).forEach(function(r){oRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oRe(t,e,n){return(e=aRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aRe(t){var e=sRe(t,"string");return typeof e=="symbol"?e:e+""}function sRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Os={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:vr.axis};function lRe(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:l,otherSvgProps:u}=t;if(!l)return null;var d=Yn(Yn(Yn({},u),Do(l)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!a||o==="bottom"&&a);d=Yn(Yn({},d),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(o==="left"&&!a||o==="right"&&a);d=Yn(Yn({},d),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return T.createElement("line",Ru({},d,{className:Ut("recharts-cartesian-axis-line",wp(l,"className"))}))}function cRe(t,e,n,r,i,o,a,l,u){var d,p,g,m,b,E,A=l?-1:1,_=t.tickSize||a,C=Ue(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=p=t.coordinate,m=n+ +!l*i,g=m-A*_,E=g-A*u,b=C;break;case"left":g=m=t.coordinate,p=e+ +!l*r,d=p-A*_,b=d-A*u,E=C;break;case"right":g=m=t.coordinate,p=e+ +l*r,d=p+A*_,b=d+A*u,E=C;break;default:d=p=t.coordinate,m=n+ +l*i,g=m+A*_,E=g+A*u,b=C;break}return{line:{x1:d,y1:g,x2:p,y2:m},tick:{x:b,y:E}}}function uRe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function dRe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function pRe(t){var{option:e,tickProps:n,value:r}=t,i,o=Ut(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,Yn(Yn({},n),{},{className:o}));else if(typeof e=="function")i=e(Yn(Yn({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Ut(a,e==null?void 0:e.className)),i=T.createElement(gN,Ru({},n,{className:a}),r)}return i}var fRe=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:a,unit:l,padding:u,tickTextProps:d,orientation:p,mirror:g,x:m,y:b,width:E,height:A,tickSize:_,tickMargin:C,fontSize:N,letterSpacing:I,getTicksConfig:D,events:L,axisType:M}=t,P=xN(Yn(Yn({},D),{},{ticks:n}),N,I),z=uRe(p,g),U=dRe(p,g),q=Do(D),V=om(r),B={};typeof i=="object"&&(B=i);var F=Yn(Yn({},q),{},{fill:"none"},B),ne=P.map(Z=>Yn({entry:Z},cRe(Z,m,b,E,A,p,_,g,C))),W=ne.map(Z=>{var{entry:oe,line:fe}=Z;return T.createElement(di,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},i&&T.createElement("line",Ru({},F,fe,{className:Ut("recharts-cartesian-axis-tick-line",wp(i,"className"))})))}),X=ne.map((Z,oe)=>{var{entry:fe,tick:Y}=Z,G=Yn(Yn(Yn(Yn({textAnchor:z,verticalAnchor:U},q),{},{stroke:"none",fill:o},V),Y),{},{index:oe,payload:fe,visibleTicksCount:P.length,tickFormatter:a,padding:u},d);return T.createElement(di,Ru({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},iI(L,fe,oe)),r&&T.createElement(pRe,{option:r,tickProps:G,value:"".concat(typeof a=="function"?a(fe.value,oe):fe.value).concat(l||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},X.length>0&&T.createElement($o,{zIndex:vr.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:e},X)),W.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},W))}),hRe=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:a,ticks:l,axisType:u}=t,d=rRe(t,nRe),[p,g]=T.useState(""),[m,b]=T.useState(""),E=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var _;return tRe({ticks:E.current,label:(_=t.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=T.useCallback(_=>{if(_){var C=_.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=C;var N=C[0];if(N){var I=window.getComputedStyle(N),D=I.fontSize,L=I.letterSpacing;(D!==p||L!==m)&&(g(D),b(L))}}},[p,m]);return a||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement($o,{zIndex:t.zIndex},T.createElement(di,{className:Ut("recharts-cartesian-axis",o)},T.createElement(lRe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Do(t)}),T.createElement(fRe,{ref:A,axisType:u,events:d,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:m,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(SCe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(zCe,{label:t.label,labelRef:t.labelRef}),t.children)))}),wN=T.forwardRef((t,e)=>{var n=hi(t,Os);return T.createElement(hRe,Ru({},n,{ref:e}))});wN.displayName="CartesianAxis";var gRe=["x1","y1","x2","y2","key"],mRe=["offset"],yRe=["xAxisId","yAxisId"],bRe=["xAxisId","yAxisId"];function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(r){vRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vRe(t,e,n){return(e=xRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xRe(t){var e=wRe(t,"string");return typeof e=="symbol"?e:e+""}function wRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(null,arguments)}function Dv(t,e){if(t==null)return{};var n,r,i=kRe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ERe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:a,ry:l}=t;return T.createElement("rect",{x:r,y:i,ry:l,width:o,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function SH(t){var{option:e,lineItemProps:n}=t,r;if(T.isValidElement(e))r=T.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:o,y1:a,x2:l,y2:u,key:d}=n,p=Dv(n,gRe),g=(i=Do(p))!==null&&i!==void 0?i:{},{offset:m}=g,b=Dv(g,mRe);r=T.createElement("line",du({},b,{x1:o,y1:a,x2:l,y2:u,fill:"none",key:d}))}return r}function _Re(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=t,l=Dv(t,yRe),u=i.map((d,p)=>{var g=Hr(Hr({},l),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(p),index:p});return T.createElement(SH,{key:"line-".concat(p),option:r,lineItemProps:g})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function TRe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=t,l=Dv(t,bRe),u=i.map((d,p)=>{var g=Hr(Hr({},l),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(p),index:p});return T.createElement(SH,{option:r,lineItemProps:g,key:"line-".concat(p)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function SRe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:a,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length||l==null)return null;var d=l.map(g=>Math.round(g+i-i)).sort((g,m)=>g-m);i!==d[0]&&d.unshift(0);var p=d.map((g,m)=>{var b=!d[m+1],E=b?i+a-g:d[m+1]-g;if(E<=0)return null;var A=m%e.length;return T.createElement("rect",{key:"react-".concat(m),y:g,x:r,height:E,width:o,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function ARe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:a,height:l,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var d=u.map(g=>Math.round(g+i-i)).sort((g,m)=>g-m);i!==d[0]&&d.unshift(0);var p=d.map((g,m)=>{var b=!d[m+1],E=b?i+a-g:d[m+1]-g;if(E<=0)return null;var A=m%n.length;return T.createElement("rect",{key:"react-".concat(m),x:g,y:o,width:E,height:l,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var CRe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return J8(xN(Hr(Hr(Hr({},Os),n),{},{ticks:X8(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},IRe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return J8(xN(Hr(Hr(Hr({},Os),n),{},{ticks:X8(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},NRe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:vr.grid};function kN(t){var e=a$(),n=s$(),r=o$(),i=Hr(Hr({},hi(t,NRe)),{},{x:Ue(t.x)?t.x:r.left,y:Ue(t.y)?t.y:r.top,width:Ue(t.width)?t.width:r.width,height:Ue(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:a,x:l,y:u,width:d,height:p,syncWithTicks:g,horizontalValues:m,verticalValues:b}=i,E=Jr(),A=He(U=>NL(U,"xAxis",o,E)),_=He(U=>NL(U,"yAxis",a,E));if(!Za(d)||!Za(p)||!Ue(l)||!Ue(u))return null;var C=i.verticalCoordinatesGenerator||CRe,N=i.horizontalCoordinatesGenerator||IRe,{horizontalPoints:I,verticalPoints:D}=i;if((!I||!I.length)&&typeof N=="function"){var L=m&&m.length,M=N({yAxis:_?Hr(Hr({},_),{},{ticks:L?m:_.ticks}):void 0,width:e??d,height:n??p,offset:r},L?!0:g);ov(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(I=M)}if((!D||!D.length)&&typeof C=="function"){var P=b&&b.length,z=C({xAxis:A?Hr(Hr({},A),{},{ticks:P?b:A.ticks}):void 0,width:e??d,height:n??p,offset:r},P?!0:g);ov(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(D=z)}return T.createElement($o,{zIndex:i.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(ERe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(SRe,du({},i,{horizontalPoints:I})),T.createElement(ARe,du({},i,{verticalPoints:D})),T.createElement(_Re,du({},i,{offset:r,horizontalPoints:I,xAxis:A,yAxis:_})),T.createElement(TRe,du({},i,{offset:r,verticalPoints:D,xAxis:A,yAxis:_}))))}kN.displayName="CartesianGrid";function RRe(t){var e=om(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:o}=e,a=Number(i),l=Number(o);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(l)||l<0)&&(l=r),{r:a,strokeWidth:l}}return{r:n,strokeWidth:r}}var AH=(t,e,n,r)=>vc(t,"xAxis",e,r),CH=(t,e,n,r)=>bc(t,"xAxis",e,r),IH=(t,e,n,r)=>vc(t,"yAxis",n,r),NH=(t,e,n,r)=>bc(t,"yAxis",n,r),PRe=me([Rt,AH,IH,CH,NH],(t,e,n,r,i)=>el(t,"xAxis")?_p(e,r,!1):_p(n,i,!1)),ORe=(t,e,n,r,i)=>i,RH=me([yw,ORe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),DRe=(t,e,n,r,i)=>{var o,a=RH(t,e,n,r,i);if(a!=null){var l=Rt(t),u=el(l,"xAxis"),d;if(u?d=_g(t,"yAxis",n,r):d=_g(t,"xAxis",e,r),d!=null){var{stackId:p}=a,g=fw(a);if(!(p==null||g==null)){var m=(o=d[p])===null||o===void 0?void 0:o.stackedData;return m==null?void 0:m.find(b=>b.key===g)}}}},MRe=me([Rt,AH,IH,CH,NH,DRe,lw,PRe,RH,D_e],(t,e,n,r,i,o,a,l,u,d)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:m}=a;if(!(u==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:b}=u,E;if(b&&b.length>0?E=b:E=p==null?void 0:p.slice(g,m+1),E!=null)return ePe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:u,stackedData:o,displayedData:E,chartBaseValue:d,bandSize:l})}}),zRe=["id"],jRe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vu.apply(null,arguments)}function PH(t,e){if(t==null)return{};var n,r,i=LRe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function j4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j4(Object(n),!0).forEach(function(r){URe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function URe(t,e,n){return(e=VRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VRe(t){var e=FRe(t,"string");return typeof e=="symbol"?e:e+""}function FRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mv(t,e){return t&&t!=="none"?t:e}var BRe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:o,hide:a}=t;return[{inactive:a,dataKey:e,type:o,color:Mv(r,i),value:qx(n,e),payload:t}]},$Re=T.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:a,hide:l,unit:u,tooltipType:d}=t,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:qx(a,e),hide:l,type:d,color:Mv(r,o),unit:u}};return T.createElement(dH,{tooltipEntrySettings:p})});function qRe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:o,dataKey:a}=r,l=Do(r);return T.createElement(jIe,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:l,needClip:i,clipPathId:e})}function HRe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(o=>{var a,l,u={x:(a=o.x)!==null&&a!==void 0?a:0,y:(l=o.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Hd(Hd({},u),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return T.createElement(tH,{value:e?i:void 0},n)}function L4(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:o}=t,{layout:a,type:l,stroke:u,connectNulls:d,isRange:p}=o,{id:g}=o,m=PH(o,zRe),b=Do(m),E=ui(m);return T.createElement(T.Fragment,null,(e==null?void 0:e.length)>1&&T.createElement(di,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},T.createElement(Gh,vu({},E,{id:g,points:e,connectNulls:d,type:l,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),u!=="none"&&T.createElement(Gh,vu({},b,{className:"recharts-area-curve",layout:a,type:l,connectNulls:d,fill:"none",points:e})),u!=="none"&&p&&T.createElement(Gh,vu({},b,{className:"recharts-area-curve",layout:a,type:l,connectNulls:d,fill:"none",points:n}))),T.createElement(qRe,{points:e,props:m,clipPathId:i}))}function GRe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,o=r[0].y,a=r[r.length-1].y;if(!pn(o)||!pn(a))return null;var l=e*Math.abs(o-a),u=Math.max(...r.map(d=>d.x||0));return Ue(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.x||0),u)),Ue(u)?T.createElement("rect",{x:0,y:o<a?o:o-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function KRe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,o=r[0].x,a=r[r.length-1].x;if(!pn(o)||!pn(a))return null;var l=e*Math.abs(o-a),u=Math.max(...r.map(d=>d.y||0));return Ue(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.y||0),u)),Ue(u)?T.createElement("rect",{x:o<a?o:o-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function WRe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:o}=t;return n==="vertical"?T.createElement(GRe,{alpha:e,points:r,baseLine:i,strokeWidth:o}):T.createElement(KRe,{alpha:e,points:r,baseLine:i,strokeWidth:o})}function YRe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=t,{points:a,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:p,animationEasing:g,onAnimationStart:m,onAnimationEnd:b}=r,E=T.useMemo(()=>({points:a,baseLine:l}),[a,l]),A=tw(E,"recharts-area-"),_=swe(),[C,N]=T.useState(!1),I=!C,D=T.useCallback(()=>{typeof b=="function"&&b(),N(!1)},[b]),L=T.useCallback(()=>{typeof m=="function"&&m(),N(!0)},[m]);if(_==null)return null;var M=i.current,P=o.current;return T.createElement(HRe,{showLabels:I,points:a},r.children,T.createElement(ew,{animationId:A,begin:d,duration:p,isActive:u,easing:g,onAnimationEnd:D,onAnimationStart:L,key:A},z=>{if(M){var U=M.length/a.length,q=z===1?a:a.map((B,F)=>{var ne=Math.floor(F*U);if(M[ne]){var W=M[ne];return Hd(Hd({},B),{},{x:wn(W.x,B.x,z),y:wn(W.y,B.y,z)})}return B}),V;return Ue(l)?V=wn(P,l,z):kn(l)||Mo(l)?V=wn(P,0,z):V=l.map((B,F)=>{var ne=Math.floor(F*U);if(Array.isArray(P)&&P[ne]){var W=P[ne];return Hd(Hd({},B),{},{x:wn(W.x,B.x,z),y:wn(W.y,B.y,z)})}return B}),z>0&&(i.current=q,o.current=V),T.createElement(L4,{points:q,baseLine:V,needClip:e,clipPathId:n,props:r})}return z>0&&(i.current=a,o.current=l),T.createElement(di,null,u&&T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(n)},T.createElement(WRe,{alpha:z,points:a,baseLine:l,layout:_,strokeWidth:r.strokeWidth}))),T.createElement(di,{clipPath:"url(#animationClipPath-".concat(n,")")},T.createElement(L4,{points:a,baseLine:l,needClip:e,clipPathId:n,props:r})))}),T.createElement(rH,{label:r.label}))}function JRe(t){var{needClip:e,clipPathId:n,props:r}=t,i=T.useRef(null),o=T.useRef();return T.createElement(YRe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class XRe extends T.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:o,left:a,needClip:l,xAxisId:u,yAxisId:d,width:p,height:g,id:m,baseLine:b,zIndex:E}=this.props;if(e)return null;var A=Ut("recharts-area",i),_=m,{r:C,strokeWidth:N}=RRe(n),I=sH(n),D=C*2+N,L=l?"url(#clipPath-".concat(I?"":"dots-").concat(_,")"):void 0;return T.createElement($o,{zIndex:E},T.createElement(di,{className:A},l&&T.createElement("defs",null,T.createElement(vH,{clipPathId:_,xAxisId:u,yAxisId:d}),!I&&T.createElement("clipPath",{id:"clipPath-dots-".concat(_)},T.createElement("rect",{x:a-D/2,y:o-D/2,width:p+D,height:g+D}))),T.createElement(JRe,{needClip:l,clipPathId:_,props:this.props})),T.createElement(_4,{points:r,mainColor:Mv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:L}),this.props.isRange&&Array.isArray(b)&&T.createElement(_4,{points:b,mainColor:Mv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:L}))}}var OH={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:vr.area};function QRe(t){var e,n=hi(t,OH),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:a,connectNulls:l,dot:u,fill:d,fillOpacity:p,hide:g,isAnimationActive:m,legendType:b,stroke:E,xAxisId:A,yAxisId:_}=n,C=PH(n,jRe),N=Kp(),I=O7(),{needClip:D}=bN(A,_),L=Jr(),{points:M,isRange:P,baseLine:z}=(e=He(ne=>MRe(ne,A,_,L,t.id)))!==null&&e!==void 0?e:{},U=yN();if(N!=="horizontal"&&N!=="vertical"||U==null||I!=="AreaChart"&&I!=="ComposedChart")return null;var{height:q,width:V,x:B,y:F}=U;return!M||!M.length?null:T.createElement(XRe,vu({},C,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:a,baseLine:z,connectNulls:l,dot:u,fill:d,fillOpacity:p,height:q,hide:g,layout:N,isAnimationActive:m==="auto"?!Wp.isSsr:m,isRange:P,legendType:b,needClip:D,points:M,stroke:E,width:V,left:B,top:F,xAxisId:A,yAxisId:_}))}var ZRe=(t,e,n,r,i)=>{var o=n??e;if(Ue(o))return o;var a=t==="horizontal"?i:r,l=a.scale.domain();if(a.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return o==="dataMin"?d:o==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return o==="dataMin"?l[0]:o==="dataMax"?l[1]:l[0]};function ePe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:a,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:p,xAxisTicks:g,yAxisTicks:m,bandSize:b}=t,E=i&&i.length,A=ZRe(o,a,n,l,u),_=o==="horizontal",C=!1,N=d.map((D,L)=>{var M;E?M=i[p+L]:(M=ir(D,r),Array.isArray(M)?C=!0:M=[A,M]);var P=M[1]==null||E&&!e&&ir(D,r)==null;return _?{x:Xz({axis:l,ticks:g,bandSize:b,entry:D,index:L}),y:P?null:u.scale(M[1]),value:M,payload:D}:{x:P?null:l.scale(M[1]),y:Xz({axis:u,ticks:m,bandSize:b,entry:D,index:L}),value:M,payload:D}}),I;return E||C?I=N.map(D=>{var L=Array.isArray(D.value)?D.value[0]:null;return _?{x:D.x,y:L!=null&&D.y!=null?u.scale(L):null,payload:D.payload}:{x:L!=null?l.scale(L):null,y:D.y,payload:D.payload}}):I=_?u.scale(A):l.scale(A),{points:N,baseLine:I,isRange:C}}function tPe(t){var e=hi(t,OH),n=Jr();return T.createElement(hH,{id:e.id,type:"area"},r=>T.createElement(T.Fragment,null,T.createElement(pH,{legendPayload:BRe(e)}),T.createElement($Re,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),T.createElement(mH,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:Q8(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),T.createElement(QRe,vu({},e,{id:r}))))}var DH=T.memo(tPe,ww);DH.displayName="Area";var nPe=["domain","range"],rPe=["domain","range"];function U4(t,e){if(t==null)return{};var n,r,i=iPe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function V4(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function MH(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=U4(t,nPe),{domain:o,range:a}=e,l=U4(e,rPe);return!V4(n,o)||!V4(r,a)?!1:ww(i,l)}var oPe=["dangerouslySetInnerHTML","ticks"],aPe=["id"];function qS(){return qS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qS.apply(null,arguments)}function F4(t,e){if(t==null)return{};var n,r,i=sPe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lPe(t){var e=Ln(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(BIe(t)):n.current!==t&&e($Ie({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(qIe(n.current)),n.current=null)},[e]),null}var cPe=t=>{var{xAxisId:e,className:n}=t,r=He(gI),i=Jr(),o="xAxis",a=He(_=>ef(_,o,e,i)),l=He(_=>u7(_,o,e,i)),u=He(_=>a7(_,e)),d=He(_=>RTe(_,e)),p=He(_=>Iq(_,e));if(u==null||d==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:m}=t,b=F4(t,oPe),{id:E}=p,A=F4(p,aPe);return T.createElement(wN,qS({},b,A,{scale:a,x:d.x,y:d.y,width:u.width,height:u.height,className:Ut("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:l,axisType:o}))},uPe={allowDataOverflow:fr.allowDataOverflow,allowDecimals:fr.allowDecimals,allowDuplicatedCategory:fr.allowDuplicatedCategory,angle:fr.angle,axisLine:Os.axisLine,height:fr.height,hide:!1,includeHidden:fr.includeHidden,interval:fr.interval,minTickGap:fr.minTickGap,mirror:fr.mirror,orientation:fr.orientation,padding:fr.padding,reversed:fr.reversed,scale:fr.scale,tick:fr.tick,tickCount:fr.tickCount,tickLine:Os.tickLine,tickSize:Os.tickSize,type:fr.type,xAxisId:0},dPe=t=>{var e=hi(t,uPe);return T.createElement(T.Fragment,null,T.createElement(lPe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(cPe,e))},EN=T.memo(dPe,MH);EN.displayName="XAxis";var pPe=["dangerouslySetInnerHTML","ticks"],fPe=["id"];function HS(){return HS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HS.apply(null,arguments)}function B4(t,e){if(t==null)return{};var n,r,i=hPe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gPe(t){var e=Ln(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(HIe(t)):n.current!==t&&e(GIe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(KIe(n.current)),n.current=null)},[e]),null}var mPe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,o=T.useRef(null),a=T.useRef(null),l=He(gI),u=Jr(),d=Ln(),p="yAxis",g=He(L=>ef(L,p,e,u)),m=He(L=>s7(L,e)),b=He(L=>OTe(L,e)),E=He(L=>u7(L,p,e,u)),A=He(L=>Nq(L,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!m||mN(i)||T.isValidElement(i)||A==null)){var L=o.current;if(L){var M=L.getCalculatedWidth();Math.round(m.width)!==Math.round(M)&&d(WIe({id:e,width:M}))}}},[E,m,d,i,e,r,A]),m==null||b==null||A==null)return null;var{dangerouslySetInnerHTML:_,ticks:C}=t,N=B4(t,pPe),{id:I}=A,D=B4(A,fPe);return T.createElement(wN,HS({},N,D,{ref:o,labelRef:a,scale:g,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:Ut("recharts-".concat(p," ").concat(p),n),viewBox:l,ticks:E,axisType:p}))},yPe={allowDataOverflow:hr.allowDataOverflow,allowDecimals:hr.allowDecimals,allowDuplicatedCategory:hr.allowDuplicatedCategory,angle:hr.angle,axisLine:Os.axisLine,hide:!1,includeHidden:hr.includeHidden,interval:hr.interval,minTickGap:hr.minTickGap,mirror:hr.mirror,orientation:hr.orientation,padding:hr.padding,reversed:hr.reversed,scale:hr.scale,tick:hr.tick,tickCount:hr.tickCount,tickLine:Os.tickLine,tickSize:Os.tickSize,type:hr.type,width:hr.width,yAxisId:0},bPe=t=>{var e=hi(t,yPe);return T.createElement(T.Fragment,null,T.createElement(gPe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(mPe,e))},_N=T.memo(bPe,MH);_N.displayName="YAxis";var vPe=(t,e)=>e,TN=me([vPe,Rt,Aq,sr,S7,al,KSe,wr],eAe),SN=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},zH=zo("mouseClick"),jH=um();jH.startListening({actionCreator:zH,effect:(t,e)=>{var n=t.payload,r=TN(e.getState(),SN(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(KTe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var GS=zo("mouseMove"),LH=um(),I0=null;LH.startListening({actionCreator:GS,effect:(t,e)=>{var n=t.payload;I0!==null&&cancelAnimationFrame(I0);var r=SN(n);I0=requestAnimationFrame(()=>{var i=e.getState(),o=oN(i,i.tooltip.settings.shared);if(o==="axis"){var a=TN(i,r);(a==null?void 0:a.activeIndex)!=null?e.dispatch(b7({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(y7())}I0=null})}});var $4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},UH=zi({name:"rootProps",initialState:$4,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:$4.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),xPe=UH.reducer,{updateOptions:wPe}=UH.actions,VH=zi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:G4e}=VH.actions,kPe=VH.reducer,FH=zo("keyDown"),BH=zo("focus"),AN=um();AN.startListening({actionCreator:FH,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=aN(i,nf(n),vm(n),_m(n)),l=a==null?-1:Number(a);if(!(!Number.isFinite(l)||l<0)){var u=al(n);if(o==="Enter"){var d=Sv(n,"axis","hover",String(i.index));e.dispatch(jS({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var p=jTe(n),g=p==="left-to-right"?1:-1,m=o==="ArrowRight"?1:-1,b=l+m*g;if(!(u==null||b>=u.length||b<0)){var E=Sv(n,"axis","hover",String(b));e.dispatch(jS({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});AN.startListening({actionCreator:BH,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=Sv(n,"axis","hover",String(o));e.dispatch(jS({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:a}))}}}});var To=zo("externalEvent"),$H=um(),J_=new Map;$H.startListening({actionCreator:To,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=J_.get(i);o!==void 0&&cancelAnimationFrame(o);var a=requestAnimationFrame(()=>{try{var l=e.getState(),u={activeCoordinate:PSe(l),activeDataKey:N7(l),activeIndex:Nu(l),activeLabel:I7(l),activeTooltipIndex:Nu(l),isTooltipActive:OSe(l)};n(u,r)}finally{J_.delete(i)}});J_.set(i,a)}}});var EPe=me([tf],t=>t.tooltipItemPayloads),_Pe=me([EPe,km,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var a=e(o,n);return a}}}),qH=zo("touchMove"),HH=um();HH.startListening({actionCreator:qH,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=oN(r,r.tooltip.settings.shared);if(i==="axis"){var o=TN(r,SN({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(b7({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(Rxe),p=(a=u.getAttribute(Pxe))!==null&&a!==void 0?a:void 0,g=_Pe(e.getState(),d,p);e.dispatch(m7({activeDataKey:p,activeIndex:d,activeCoordinate:g}))}}}});var TPe=w8({brush:z2e,cartesianAxis:YIe,chartData:RAe,errorBars:hNe,graphicalItems:AIe,layout:fxe,legend:_we,options:SAe,polarAxis:JCe,polarOptions:kPe,referenceElements:$2e,rootProps:xPe,tooltip:WTe,zIndex:hAe}),SPe=function(e){return Lve({reducer:TPe,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([jH.middleware,LH.middleware,AN.middleware,$H.middleware,HH.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(z8({type:"raf"}))},devTools:Wp.devToolsEnabled})};function APe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Jr(),o=T.useRef(null);if(i)return n;o.current==null&&(o.current=SPe(e));var a=aI;return T.createElement(jNe,{context:a,store:o.current},n)}function CPe(t){var{layout:e,margin:n}=t,r=Ln(),i=Jr();return T.useEffect(()=>{i||(r(uxe(e)),r(cxe(n)))},[r,i,e,n]),null}var IPe=T.memo(CPe,ww);function NPe(t){var e=Ln();return T.useEffect(()=>{e(wPe(t))},[e,t]),null}function q4(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=fH("".concat(r).concat(e)),o=Ln();return T.useLayoutEffect(()=>(o(pAe({zIndex:e,elementId:i,isPanorama:n})),()=>{o(fAe({zIndex:e,isPanorama:n}))}),[o,e,i,n]),T.createElement("g",{tabIndex:-1,id:i})}function H4(t){var{children:e,isPanorama:n}=t,r=He(nAe);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),o=r.filter(a=>a>0);return T.createElement(T.Fragment,null,i.map(a=>T.createElement(q4,{key:a,zIndex:a,isPanorama:n})),e,o.map(a=>T.createElement(q4,{key:a,zIndex:a,isPanorama:n})))}var RPe=["children"];function PPe(t,e){if(t==null)return{};var n,r,i=OPe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function OPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(null,arguments)}var DPe={width:"100%",height:"100%",display:"block"},MPe=T.forwardRef((t,e)=>{var n=a$(),r=s$(),i=g$();if(!Za(n)||!Za(r))return null;var{children:o,otherAttributes:a,title:l,desc:u}=t,d,p;return a!=null&&(typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?p=a.role:p=i?"application":void 0),T.createElement(LB,zv({},a,{title:l,desc:u,role:p,tabIndex:d,width:n,height:r,style:DPe,ref:e}),o)}),zPe=t=>{var{children:e}=t,n=He(Wx);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return T.createElement(LB,{width:r,height:i,x:a,y:o},e)},G4=T.forwardRef((t,e)=>{var{children:n}=t,r=PPe(t,RPe),i=Jr();return i?T.createElement(zPe,null,T.createElement(H4,{isPanorama:!0},n)):T.createElement(MPe,zv({ref:e},r),T.createElement(H4,{isPanorama:!1},n))});function jPe(){var t=Ln(),[e,n]=T.useState(null),r=He(Nxe);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;pn(o)&&o!==r&&t(pxe(o))}},[e,t,r]),n}function K4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LPe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K4(Object(n),!0).forEach(function(r){UPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UPe(t,e,n){return(e=VPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VPe(t){var e=FPe(t,"string");return typeof e=="symbol"?e:e+""}function FPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pu.apply(null,arguments)}var BPe=()=>(VAe(),null);function jv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var $Pe=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[o,a]=T.useState({containerWidth:jv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:jv((r=t.style)===null||r===void 0?void 0:r.height)}),l=T.useCallback((d,p)=>{a(g=>{var m=Math.round(d),b=Math.round(p);return g.containerWidth===m&&g.containerHeight===b?g:{containerWidth:m,containerHeight:b}})},[]),u=T.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=d.getBoundingClientRect();l(p,g);var m=E=>{var{width:A,height:_}=E[0].contentRect;l(A,_)},b=new ResizeObserver(m);b.observe(d),i.current=b}},[e,l]);return T.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[l]),T.createElement(T.Fragment,null,T.createElement(Jx,{width:o.containerWidth,height:o.containerHeight}),T.createElement("div",Pu({ref:u},t)))}),qPe=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=T.useState({containerWidth:jv(n),containerHeight:jv(r)}),a=T.useCallback((u,d)=>{o(p=>{var g=Math.round(u),m=Math.round(d);return p.containerWidth===g&&p.containerHeight===m?p:{containerWidth:g,containerHeight:m}})},[]),l=T.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:d,height:p}=u.getBoundingClientRect();a(d,p)}},[e,a]);return T.createElement(T.Fragment,null,T.createElement(Jx,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",Pu({ref:l},t)))}),HPe=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(Jx,{width:n,height:r}),T.createElement("div",Pu({ref:e},t)))}),GPe=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return Bs(n)||Bs(r)?T.createElement(qPe,Pu({},t,{ref:e})):T.createElement(HPe,Pu({},t,{ref:e}))});function KPe(t){return t===!0?$Pe:GPe}var WPe=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:p,onMouseMove:g,onMouseUp:m,onTouchEnd:b,onTouchMove:E,onTouchStart:A,style:_,width:C,responsive:N,dispatchTouchEvents:I=!0}=t,D=T.useRef(null),L=Ln(),[M,P]=T.useState(null),[z,U]=T.useState(null),q=jPe(),V=mI(),B=(V==null?void 0:V.width)>0?V.width:C,F=(V==null?void 0:V.height)>0?V.height:i,ne=T.useCallback(ue=>{q(ue),typeof e=="function"&&e(ue),P(ue),U(ue),ue!=null&&(D.current=ue)},[q,e,P,U]),W=T.useCallback(ue=>{L(zH(ue)),L(To({handler:o,reactEvent:ue}))},[L,o]),X=T.useCallback(ue=>{L(GS(ue)),L(To({handler:d,reactEvent:ue}))},[L,d]),Z=T.useCallback(ue=>{L(y7()),L(To({handler:p,reactEvent:ue}))},[L,p]),oe=T.useCallback(ue=>{L(GS(ue)),L(To({handler:g,reactEvent:ue}))},[L,g]),fe=T.useCallback(()=>{L(BH())},[L]),Y=T.useCallback(ue=>{L(FH(ue.key))},[L]),G=T.useCallback(ue=>{L(To({handler:a,reactEvent:ue}))},[L,a]),J=T.useCallback(ue=>{L(To({handler:l,reactEvent:ue}))},[L,l]),$=T.useCallback(ue=>{L(To({handler:u,reactEvent:ue}))},[L,u]),be=T.useCallback(ue=>{L(To({handler:m,reactEvent:ue}))},[L,m]),_e=T.useCallback(ue=>{L(To({handler:A,reactEvent:ue}))},[L,A]),Te=T.useCallback(ue=>{I&&L(qH(ue)),L(To({handler:E,reactEvent:ue}))},[L,I,E]),je=T.useCallback(ue=>{L(To({handler:b,reactEvent:ue}))},[L,b]),Ye=KPe(N);return T.createElement(L7.Provider,{value:M},T.createElement(v0e.Provider,{value:z},T.createElement(Ye,{width:B??(_==null?void 0:_.width),height:F??(_==null?void 0:_.height),className:Ut("recharts-wrapper",r),style:LPe({position:"relative",cursor:"default",width:B,height:F},_),onClick:W,onContextMenu:G,onDoubleClick:J,onFocus:fe,onKeyDown:Y,onMouseDown:$,onMouseEnter:X,onMouseLeave:Z,onMouseMove:oe,onMouseUp:be,onTouchEnd:je,onTouchMove:Te,onTouchStart:_e,ref:ne},T.createElement(BPe,null),n)))}),YPe=["width","height","responsive","children","className","style","compact","title","desc"];function JPe(t,e){if(t==null)return{};var n,r,i=XPe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function XPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var QPe=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:a,style:l,compact:u,title:d,desc:p}=t,g=JPe(t,YPe),m=Do(g);return u?T.createElement(T.Fragment,null,T.createElement(Jx,{width:n,height:r}),T.createElement(G4,{otherAttributes:m,title:d,desc:p},o)):T.createElement(WPe,{className:a,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(G4,{otherAttributes:m,title:d,desc:p,ref:e},T.createElement(H2e,null,o)))});function KS(){return KS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KS.apply(null,arguments)}var ZPe={top:5,right:5,bottom:5,left:5},eOe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ZPe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},GH=T.forwardRef(function(e,n){var r,i=hi(e.categoricalChartProps,eOe),{chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=e,p={chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return T.createElement(APe,{preloadedState:{options:p},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},T.createElement(M2e,{chartData:d.data}),T.createElement(IPe,{layout:i.layout,margin:i.margin}),T.createElement(NPe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(QPe,KS({},i,{ref:n})))}),tOe=["axis","item"],nOe=T.forwardRef((t,e)=>T.createElement(GH,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tOe,tooltipPayloadSearcher:U7,categoricalChartProps:t,ref:e})),rOe=["axis"],iOe=T.forwardRef((t,e)=>T.createElement(GH,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rOe,tooltipPayloadSearcher:U7,categoricalChartProps:t,ref:e}));const oOe=({data:t})=>{if(!t||t.length===0)return null;const e=[...t].sort((l,u)=>new Date(l.date).getTime()-new Date(u.date).getTime()),n=e[0],r=e[e.length-1],i=(new Date(r.date).getTime()-new Date(n.date).getTime())/(1e3*60*60*24*365),o=i>0?Math.round((r.mileage-n.mileage)/i):0,a=e.map(l=>({...l,year:new Date(l.date).getFullYear(),shortDate:ug(new Date(l.date),"MMM yy",{locale:Rx})}));return h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Mtarstllning"}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Historisk utveckling"})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-2xl font-mono font-bold text-teal-600",children:[r.mileage," mil"]}),h.jsxs("p",{className:"text-xs text-slate-400",children:["~",o," mil/r"]})]})]}),h.jsx("div",{className:"h-[250px] w-full",children:h.jsx(r$,{width:"100%",height:"100%",children:h.jsxs(iOe,{data:a,margin:{top:10,right:10,left:-20,bottom:0},children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"colorMileage",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#0d9488",stopOpacity:.8}),h.jsx("stop",{offset:"95%",stopColor:"#0d9488",stopOpacity:0})]})}),h.jsx(kN,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),h.jsx(EN,{dataKey:"shortDate",stroke:"#94A3B8",fontSize:12,tickLine:!1,axisLine:!1}),h.jsx(_N,{stroke:"#94A3B8",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:l=>`${l}`}),h.jsx(B7,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748B",fontWeight:"bold"}}),h.jsx(DH,{type:"monotone",dataKey:"mileage",stroke:"#0d9488",strokeWidth:3,fillOpacity:1,fill:"url(#colorMileage)"})]})})}),h.jsx("div",{className:"mt-4 text-xs text-center text-amber-600/70 bg-amber-50 dark:bg-amber-900/10 p-2 rounded-lg",children:" OBS: 5-siffrig mtare. Siffrorna visar mtarstllning, ej totalstrcka."})]})},aOe=({data:t})=>{if(!t||t.length===0)return null;const e=[...t].sort((i,o)=>new Date(i.date).getTime()-new Date(o.date).getTime()),n=e[e.length-1],r=e.map(i=>({...i,formattedDate:ug(new Date(i.date),"MMM yyyy",{locale:Rx}),price:i.estimatedPrice}));return h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full",children:[h.jsxs("div",{className:"flex justify-between items-start mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Prishistorik"}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Annonserade priser"})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-2xl font-mono font-bold text-amber-600",children:[n.estimatedPrice.toLocaleString()," kr"]}),h.jsx("p",{className:"text-xs text-slate-400",children:ug(new Date(n.date),"MMM yyyy")})]})]}),h.jsx("div",{className:"h-[200px] w-full",children:h.jsx(r$,{width:"100%",height:"100%",children:h.jsxs(nOe,{data:r,margin:{top:10,right:10,left:-20,bottom:0},children:[h.jsx(kN,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),h.jsx(EN,{dataKey:"formattedDate",stroke:"#94A3B8",fontSize:10,tickLine:!1,axisLine:!1}),h.jsx(_N,{stroke:"#94A3B8",fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:i=>`${i/1e3}k`}),h.jsx(B7,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748B",fontWeight:"bold"},formatter:i=>[`${i.toLocaleString()} kr`,"Pris"]}),h.jsx(wH,{dataKey:"price",fill:"#d97706",radius:[4,4,0,0],maxBarSize:50})]})})})]})},sOe=({stats:t})=>t?h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full",children:[h.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[h.jsx(X3,{size:20,className:"text-teal-600"})," Modellstatistik"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"p-4 bg-teal-50 dark:bg-teal-900/10 rounded-2xl flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-bold text-teal-800 dark:text-teal-400 uppercase tracking-wider",children:"Antal i Sverige"}),h.jsx("p",{className:"text-2xl font-bold text-teal-900 dark:text-teal-300",children:t.totalInSweden})]}),h.jsx("div",{className:"h-10 w-10 bg-teal-200 dark:bg-teal-800 rounded-full flex items-center justify-center text-teal-700 dark:text-teal-200 font-bold text-sm",children:"Total"})]}),h.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Med samma motor"}),h.jsx("p",{className:"text-xl font-bold text-slate-700 dark:text-slate-300",children:t.sameEngineType})]}),h.jsx(cp,{size:20,className:"text-slate-400"})]}),h.jsxs("div",{className:"text-xs text-slate-400 pt-2 border-t border-slate-100 dark:border-slate-800",children:[h.jsxs("p",{children:["Modell: ",t.model]}),h.jsxs("p",{children:["Uppdaterad: ",t.lastUpdated]})]})]})]}):null,lOe=()=>h.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 rounded-2xl p-4 mt-6",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(cp,{size:20,className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300",children:"Ett litet meddelande frn verkstan:"}),h.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400/80 mt-1",children:"Elton gr sitt bsta fr att hmta korrekt data, men ibland kan det smyga sig in ett fel. Dubbelkolla alltid kritisk information! Om du hittar ngot som inte stmmer, blir vi superglada om du rapporterar det till oss. Tillsammans gr vi Elton smartare!"})]})]})}),cOe=({vehicleData:t,tasks:e=[],serviceLog:n=[],fuelLog:r=[],contacts:i=[],projectLocation:o,onAddService:a,onAddFuel:l,onUpdateSpecs:u,onUpdateContacts:d,onUpdateLocation:p,projectType:g})=>{const[m,b]=Ct.useState("overview"),[E,A]=Ct.useState(o||null),[_,C]=Ct.useState(!1),[N,I]=Ct.useState(!1),[D,L]=Ct.useState({description:"",date:"",mileage:"",performer:"",type:"Service"}),[M,P]=Ct.useState({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0}),[z,U]=Ct.useState({}),q=()=>{U({load:t.weights.load,curb:t.weights.curb,total:t.weights.total,trailer:t.weights.trailer,length:t.dimensions.length,width:t.dimensions.width,power:t.engine.power,fuel:t.engine.fuel,gearbox:t.gearbox,tires:t.wheels.tiresFront,mileage:t.inspection.mileage,vin:t.vin}),I(!0)},V=async()=>{C(!0);try{const J=await r0e();if(J&&J.coordinates){const $={city:J.city,lat:J.coordinates.lat,lng:J.coordinates.lng};A($),p&&p({city:J.city,region:J.region,country:J.country,coordinates:J.coordinates,source:J.source,lastUpdated:J.lastUpdated})}}catch(J){console.error("Location error:",J)}finally{C(!1)}},B=J=>{d&&(d([...i,J]),b("contacts"))},F=()=>{u&&(u({weights:{...t.weights,load:Number(z.load),curb:Number(z.curb),total:Number(z.total),trailer:Number(z.trailer)},dimensions:{...t.dimensions,length:Number(z.length),width:Number(z.width)},engine:{...t.engine,power:z.power,fuel:z.fuel},gearbox:z.gearbox,wheels:{...t.wheels,tiresFront:z.tires,tiresRear:z.tires},inspection:{...t.inspection,mileage:z.mileage},vin:z.vin}),I(!1))},ne=()=>{!D.description||!a||(a({id:Math.random().toString(36).substr(2,9),...D,type:D.type}),L({description:"",date:"",mileage:"",performer:"",type:"Service"}))},W=()=>{if(!M.liters||!l)return;const J=parseFloat(M.liters),$=parseFloat(M.pricePerLiter);l({id:Math.random().toString(36).substr(2,9),date:M.date||new Date().toISOString().split("T")[0],mileage:parseInt(M.mileage)||0,liters:J,pricePerLiter:$,totalCost:J*$,fullTank:M.full}),P({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0})},X=e.reduce((J,$)=>J+($.weightKg||0),0),Z=t.weights.load,oe=Z-X,fe=Math.min(X/Z*100,100),Y=({title:J,icon:$,children:be,warning:_e,onEdit:Te})=>h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl p-6 border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full relative group",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-xl text-nordic-charcoal dark:text-nordic-ice",children:h.jsx($,{size:20})}),h.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:J})]}),h.jsxs("div",{className:"flex gap-2",children:[_e&&h.jsx(No,{size:18,className:"text-amber-500"}),Te&&!N&&h.jsx("button",{onClick:Te,className:"p-1 text-slate-300 hover:text-teal-600 opacity-0 group-hover:opacity-100 transition-all",children:h.jsx(ob,{size:16})})]})]}),h.jsx("div",{className:"space-y-3",children:be})]}),G=({label:J,value:$,highlight:be=!1,editKey:_e})=>h.jsxs("div",{className:`flex justify-between items-center py-2 border-b border-slate-50 dark:border-nordic-charcoal last:border-0 ${be?"bg-teal-50/50 dark:bg-teal-900/20 -mx-2 px-2 rounded-lg":""}`,children:[h.jsx("span",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted font-medium",children:J}),N&&_e?h.jsx("input",{className:"text-sm font-bold text-right bg-white dark:bg-black/20 border border-slate-200 dark:border-nordic-charcoal rounded px-2 py-1 w-24",value:z[_e],onChange:Te=>U({...z,[_e]:Te.target.value})}):h.jsx("span",{className:`text-sm font-bold text-right ${be?"text-teal-700 dark:text-teal-400":"text-nordic-charcoal dark:text-nordic-ice"}`,children:$})]});return h.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in",children:[h.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide bg-white dark:bg-nordic-dark-surface p-2 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg sticky top-0 z-20 shadow-sm",children:[h.jsx("button",{onClick:()=>b("overview"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${m==="overview"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Garage & Data"}),h.jsx("button",{onClick:()=>b("contacts"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${m==="contacts"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Kontakter"}),h.jsx("button",{onClick:()=>b("find-workshop"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${m==="find-workshop"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Hitta Verkstad"}),h.jsx("button",{onClick:()=>b("service"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${m==="service"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Servicebok"}),h.jsx("button",{onClick:()=>b("fuel"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${m==="fuel"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Brnsle"})]}),m==="overview"&&h.jsxs(h.Fragment,{children:[(!g||g!=="maintenance")&&h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[h.jsx(EO,{className:"text-teal-600"})," Viktkalkylator"]}),h.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted",children:"Hll koll p lastvikten."})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-slate-400",children:"Kvar att lasta"}),h.jsxs("p",{className:`text-3xl font-mono font-bold ${oe<100?"text-rose-500":"text-teal-600"}`,children:[oe," kg"]})]})]}),h.jsx("div",{className:"relative h-6 bg-slate-100 dark:bg-nordic-dark-bg rounded-full overflow-hidden mb-2",children:h.jsx("div",{className:`h-full transition-all duration-1000 ${fe>90?"bg-rose-500":fe>75?"bg-amber-400":"bg-teal-500"}`,style:{width:`${fe}%`}})}),h.jsxs("div",{className:"flex justify-between text-xs font-mono text-slate-400",children:[h.jsx("span",{children:"0 kg"}),h.jsxs("span",{children:["Tjnstevikt: ",t.weights.curb," kg"]}),h.jsxs("span",{children:["Maxlast: ",t.weights.load," kg"]})]})]}),N&&h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 text-slate-500 hover:bg-white rounded-xl",children:"Avbryt"}),h.jsx("button",{onClick:F,className:"px-6 py-2 bg-teal-600 text-white rounded-xl font-bold shadow-lg hover:bg-teal-700",children:"Spara ndringar"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[h.jsxs(Y,{title:"Last & Mtt",icon:EO,onEdit:q,children:[h.jsx(G,{label:"Max Lastvikt",value:`${t.weights.load} kg`,highlight:!0,editKey:"load"}),h.jsx(G,{label:"Tjnstevikt",value:`${t.weights.curb} kg`,editKey:"curb"}),h.jsx(G,{label:"Totalvikt",value:`${t.weights.total} kg`,editKey:"total"}),h.jsx(G,{label:"Max Slpvagn",value:`${t.weights.trailer} kg`,editKey:"trailer"}),h.jsx("div",{className:"pt-2"}),h.jsx(G,{label:"Lngd",value:`${t.dimensions.length} mm`,editKey:"length"}),h.jsx(G,{label:"Bredd",value:`${t.dimensions.width} mm`,editKey:"width"})]}),h.jsxs(Y,{title:"Drivlina & Hjul",icon:Y3,onEdit:q,children:[h.jsx(G,{label:"Motor",value:t.engine.power,highlight:!0,editKey:"power"}),h.jsx(G,{label:"Brnsle",value:t.engine.fuel,editKey:"fuel"}),h.jsx(G,{label:"Vxellda",value:t.gearbox,editKey:"gearbox"}),h.jsx("div",{className:"pt-2"}),h.jsx(G,{label:"Dck",value:t.wheels.tiresFront,editKey:"tires"})]}),h.jsxs(Y,{title:"Historik & Status",icon:Ou,warning:!0,onEdit:q,children:[h.jsx(G,{label:"Registreringsnummer",value:t.regNo,highlight:!0}),h.jsx(G,{label:"Ramnummer (VIN)",value:t.vin||"-",editKey:"vin"}),h.jsx(G,{label:"Mtarstllning",value:t.inspection.mileage,highlight:!0,editKey:"mileage"}),h.jsx(G,{label:"Senast Besiktigad",value:t.inspection.last}),h.jsx(G,{label:"Antal gare",value:t.history.owners}),h.jsx(G,{label:"Frsta Trafik",value:t.regDate})]})]}),h.jsxs("div",{className:"space-y-6 pt-4",children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsx(oOe,{data:t.mileageHistory||[]})}),h.jsx("div",{children:t.statistics&&h.jsx(sOe,{stats:t.statistics})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsx("div",{children:h.jsx(aOe,{data:t.priceHistory||[]})}),h.jsx("div",{children:h.jsx(l0e,{events:t.historyEvents||[]})})]})]}),t.expertAnalysis&&h.jsx("div",{className:"col-span-1 md:col-span-2 xl:col-span-3",children:h.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-200 dark:border-amber-800 rounded-3xl p-6",children:[h.jsxs("h3",{className:"font-serif font-bold text-xl text-amber-800 dark:text-amber-500 mb-4 flex items-center gap-2",children:[h.jsx(No,{size:24})," Expertens Analys"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-sm uppercase text-amber-900/50 mb-3",children:"Vanliga fel & Varningar"}),h.jsx("ul",{className:"space-y-3",children:t.expertAnalysis.commonFaults.map((J,$)=>h.jsxs("li",{className:"bg-white dark:bg-nordic-charcoal p-3 rounded-xl border border-amber-100 dark:border-amber-900/30 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between items-start mb-1",children:[h.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:J.title}),h.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${J.urgency==="High"?"bg-rose-100 text-rose-700":J.urgency==="Medium"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:J.urgency})]}),h.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-snug",children:J.description})]},$))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-sm uppercase text-amber-900/50 mb-3",children:"Modifieringar & Tips"}),h.jsx("ul",{className:"space-y-3",children:t.expertAnalysis.modificationTips.map((J,$)=>h.jsxs("li",{className:"bg-white dark:bg-nordic-charcoal p-3 rounded-xl border border-amber-100 dark:border-amber-900/30 shadow-sm",children:[h.jsx("span",{className:"font-bold text-teal-700 dark:text-teal-400 block mb-1",children:J.title}),h.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-snug",children:J.description})]},$))}),t.expertAnalysis.maintenanceNotes&&h.jsxs("div",{className:"mt-4 p-3 bg-white dark:bg-nordic-charcoal rounded-xl border border-amber-100 text-sm italic text-slate-500",children:['" ',t.expertAnalysis.maintenanceNotes,' "']})]})]})]})})]}),m==="contacts"&&h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(hA,{size:24,className:"text-teal-600"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice",children:"Verkstadskontakter"}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Spara kontakter till verkstder, specialister och frskring"})]})]})}),h.jsx(Qye,{contacts:i,onUpdate:J=>d&&d(J),featureLocation:"vehicleSpecs"})]}),m==="service"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[h.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[h.jsx(ja,{size:20})," Ny Servicehndelse"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Beskrivning (t.ex. Oljebyte)",value:D.description,onChange:J=>L({...D,description:J.target.value})}),h.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Utfrare (t.ex. Mekonomen / Jag)",value:D.performer,onChange:J=>L({...D,performer:J.target.value})}),h.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:D.date,onChange:J=>L({...D,date:J.target.value})}),h.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtarstllning (mil)",value:D.mileage,onChange:J=>L({...D,mileage:J.target.value})})]}),h.jsx("button",{onClick:ne,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara till Serviceboken"})]}),h.jsxs("div",{className:"space-y-4",children:[n.length===0&&h.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga poster n."}),n.map((J,$)=>h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:J.description}),h.jsxs("p",{className:"text-xs text-slate-500",children:[J.date,"  ",J.mileage]})]}),h.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold rounded-lg",children:J.performer})]},$))]})]}),m==="find-workshop"&&h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(xu,{size:24,className:"text-teal-600"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice",children:"Hitta Verkstder"}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Sk efter verkstder baserat p din plats och bilens mrke"})]})]})}),h.jsx(s0e,{userLocation:E,vehicleMake:t.make,onAddContact:B,onRequestLocation:V})]}),m==="fuel"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[h.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[h.jsx(KJ,{size:20})," Logga Tankning"]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:M.date,onChange:J=>P({...M,date:J.target.value})}),h.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Liter",type:"number",value:M.liters,onChange:J=>P({...M,liters:J.target.value})}),h.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Pris/L",type:"number",value:M.pricePerLiter,onChange:J=>P({...M,pricePerLiter:J.target.value})}),h.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtare (mil)",type:"number",value:M.mileage,onChange:J=>P({...M,mileage:J.target.value})})]}),h.jsx("button",{onClick:W,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara Tankning"})]}),h.jsxs("div",{className:"space-y-4",children:[r.length===0&&h.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga tankningar loggade."}),r.map((J,$)=>h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[J.liters," liter"]}),h.jsxs("p",{className:"text-xs text-slate-500",children:[J.date,"  ",J.mileage," mil"]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"font-mono font-bold text-teal-600",children:[Math.round(J.totalCost)," kr"]}),h.jsxs("p",{className:"text-xs text-slate-400",children:[J.pricePerLiter," kr/l"]})]})]},$))]})]}),h.jsx(lOe,{})]})},uOe=()=>{var r,i;const{activeProject:t,updateContacts:e,updateLocation:n}=Qs();return t?h.jsx(cOe,{vehicleData:t.vehicleData,tasks:t.tasks,contacts:t.contacts||[],projectLocation:t.location?{city:t.location.city,lat:((r=t.location.coordinates)==null?void 0:r.lat)||0,lng:((i=t.location.coordinates)==null?void 0:i.lng)||0}:void 0,onUpdateContacts:e,onUpdateLocation:n,projectType:t.type}):null},KH=AC(Ec,{backend:new Fp}),dOe=[{functionDeclarations:[{name:"addTask",description:"Add a new task to the project plan",parameters:lt.object({properties:{title:lt.string({description:"Short title of the task"}),description:lt.string({description:"Detailed description"}),estimatedCostMax:lt.number({description:"Estimated max cost in SEK"}),phase:lt.enumString({enum:["Fas 1: Vr","Fas 2: Vr/Sommar","Fas 3: Hst/Vinter","Backlog"],description:"Project phase - MUST use exact name from list. Fas 1 = Spring tasks, Fas 2 = Summer driving, Fas 3 = Winter rebuild"}),priority:lt.enumString({enum:["Hg","Medel","Lg"],description:"Priority level"}),sprint:lt.string({description:"Sprint name"})},optionalProperties:["estimatedCostMax","priority","sprint"]})},{name:"updateTask",description:"Update an existing task",parameters:lt.object({properties:{taskTitleKeywords:lt.string({description:"Keywords to find the task"}),newStatus:lt.enumString({enum:["todo","in-progress","done"]}),newPriority:lt.enumString({enum:["Hg","Medel","Lg"]})},optionalProperties:["newStatus","newPriority"]})},{name:"deleteTask",description:"Delete a task from the project",parameters:lt.object({properties:{taskTitleKeywords:lt.string({description:"Keywords to find task to delete"})}})},{name:"addToShoppingList",description:"Add item to shopping list",parameters:lt.object({properties:{name:lt.string({description:"Item name"}),category:lt.string({description:"Category"}),estimatedCost:lt.number({description:"Estimated cost in SEK"}),quantity:lt.string({description:"Quantity"})},optionalProperties:["category","estimatedCost","quantity"]})},{name:"inspectImage",description:"Du r en expertmekaniker specialiserad p veteranbilar. Analysera bild frn anvndaren fr att identifiera komponenter, bedma skick (rost, sprickor, slitage), och bedm allvarlighetsgrad. Var pessimistisk gllande rost p brande delar. Om osker, fresl manuell inspektion.",parameters:lt.object({properties:{zone:lt.enumString({enum:["EXTERIOR","ENGINE","UNDERCARRIAGE","INTERIOR"],description:"Inspection zone: EXTERIOR (karosseri, lack, glas), ENGINE (motor, vtskor, remmar), UNDERCARRIAGE (balkar, avgassystem, bromsrr), INTERIOR (instrument, golv, drrar)"}),userDescription:lt.string({description:"What the user said about the image/area being inspected"})}})},{name:"inspectAudio",description:"Analysera ljudfil frn fordonet (motorljud, klickande, gnisslande). Identifiera avvikelser och bedm allvarlighetsgrad.",parameters:lt.object({properties:{zone:lt.enumString({enum:["ENGINE","UNDERCARRIAGE","INTERIOR"],description:"Sound source zone"}),userDescription:lt.string({description:"What the user said about the sound"})}})},{name:"updateProjectMetadata",description:"Uppdatera projektets metadata som namn, smeknamn (nickname), beskrivning, eller projekttyp. Anvnd detta nr anvndaren vill ndra grundlggande projektinformation.",parameters:lt.object({properties:{field:lt.enumString({enum:["name","nickname","description","type"],description:"Field to update: name (projektnamn), nickname (smeknamn fr bilen), description (projektbeskrivning), type (renovation/conversion/maintenance)"}),value:lt.string({description:"New value for the field"})}})},{name:"createPhase",description:"Create a new project phase from chat. Use this when setting up a new project or restructuring phases.",parameters:lt.object({properties:{name:lt.string({description:'Phase name (e.g. "Fas 1: Rostbehandling")'}),description:lt.string({description:"Detailed description of what this phase includes"}),order:lt.number({description:"Order number (1, 2, 3...)"})},optionalProperties:["description"]})},{name:"setProjectType",description:"Set the type of the project (Renovation vs Conversion vs Maintenance)",parameters:lt.object({properties:{type:lt.enumString({enum:["renovation","conversion","maintenance"],description:"renovation = terstlla ursprung, conversion = bygga om (t.ex. camper), maintenance = underhll"})}})},{name:"completeSetup",description:"Mark the project setup/onboarding as complete. Use this when phases and tasks are created and user is ready.",parameters:lt.object({properties:{summary:lt.string({description:"Brief summary of what was accomplished during setup"})},optionalProperties:["summary"]})}]}],pOe=()=>Qg(KH,{model:"gemini-2.5-flash",tools:dOe,generationConfig:{temperature:.9,topK:40,topP:.95,maxOutputTokens:8192}}),fOe=(t,e,n,r,i,o)=>({parts:[{text:`Du r Elton, en AI-mekaniker fr ${r||"fordonet"}.

${i?`

=== ANVNDARENS KUNSKAPSNIV ===
${i==="beginner"?"NYBRJARE: Frklara allt tydligt, ge detaljerade steg-fr-steg instruktioner.":i==="intermediate"?"HEMMAMECK: Balansera mellan DIY och verkstad. Ge praktiska tips.":"CERTIFIERAD: Teknisk och koncis. Fokusera p specs och momentvrden."}`:""}
${o?`

=== PROJEKTTYP ===
${o==="renovation"?"RENOVERING: Fokus p att terstlla till ursprungligt skick.":o==="conversion"?"OMBYGGNAD (CAMPER): Fokus p camper-ombyggnad.":"FRVALTNING: Fokus p lpande underhll och service."}`:""}

=== FORDONSDATA ===
${JSON.stringify(t,null,2)}

=== AKTUELLA UPPGIFTER ===
${e.map(d=>`- ${d.title} (${d.status})`).join(`
`)}

=== INKPSLISTA ===
${n.map(d=>`- ${d.name} (${d.checked?"kpt":"att kpa"})`).join(`
`)}

=== PROJEKTFASER (ANVND EXAKT DESSA NAMN) ===
Du MSTE anvnda EXAKT dessa fasnamn nr du lgger till uppgifter:
- "Fas 1: Vr" - Akuta tgrder innan sommaren (batteri, ttning, rost, motorservice)
- "Fas 2: Vr/Sommar" - Krning och inlrning (taklucka, markis, leta drrar)
- "Fas 3: Hst/Vinter" - Strre ombyggnad i garage (drrar, svetsning, elsystem, isolering)
- "Backlog" - Framtida uppgifter utan specifik fas

VIKTIGT: Anvnd EXAKT dessa namn. Lgg INTE till extra text som "(Gotland med garage)" eller " Nu/Januari".

VIKTIGT - VERKTYGSANVNDNING:
- Nr anvndaren ger dig uppgifter, inkp, eller data: ANVND ALLTID verktygen (addTask, addToShoppingList, etc.)
- ALDRIG bara "prata om" att ha sparat ngot - GR DET faktiskt!
- Om anvndaren sger "hr r en lista" eller "lgg till dessa" - ANVND verktyg direkt
- Bekrfta frst vad du kommer gra, ANVND sedan verktygen, bekrfta EFTER att de krts

Exempel:
Anvndare: "Lgg till uppgift: Byt kamrem"
Fel: "Jag har sparat uppgiften om kamrem" (gjorde ingenting!)
Rtt: *anvnder addTask-verktyget* "Jag har nu lagt till uppgiften i din projektplan!"

Svara hjlpsamt och personligt.`}]}),hOe=async(t,e,n,r,i,o,a,l,u,d,p,g)=>{var D;const m=pOe();let b;b=fOe(n,r,i,u,d,p);let E=t.map(L=>({role:L.role,parts:L.image?[{text:L.content},{inlineData:{mimeType:"image/jpeg",data:L.image}}]:[{text:L.content}]}));for(;E.length>0&&E[0].role==="model";)console.warn(" Removing leading model message from chat history"),E.shift();const A=[{text:e}];l&&A.push({inlineData:{mimeType:"image/jpeg",data:l}});const _=m.startChat({history:E,systemInstruction:b}),C=await _.sendMessageStream(A);let N="",I=[];for await(const L of C.stream){const M=L.text();M&&(N+=M,o(N));const P=(D=L.functionCalls)==null?void 0:D.call(L);P&&P.length>0&&(I=P)}if(I.length>0){const M=(await a(I)).map(z=>({functionResponse:{name:z.name,response:{content:z.result}}})),P=await _.sendMessageStream(M);for await(const z of P.stream){const U=z.text();U&&(N+=U,o(N))}}return{text:N,functionCalls:I}},W4=async(t,e,n,r)=>{const i=Qg(KH,{model:"gemini-2.5-flash",generationConfig:{temperature:.7,maxOutputTokens:2048}}),u=[{text:`Du r en expertmekaniker specialiserad p veteranbilar, srskilt frn 60-80-talet.

${{EXTERIOR:`
ELTON INSPECTOR - ZONE 1: EXTERIOR ("Skalet")
==============================================

CHECKLIST:
 Glas (vindrutor, sidorutor, bakruta - sprickor, repor)
 Gummilister (drrar, fnster - spruckna, hrdnade)
 Lack (frgskikt - flagning, blsor, nedbrytning)
 Rostfllor:
  - Hjulhus (framsida, baksida)
  - Fotsteg/trsklar (brande del!)
  - Drrkanter (underkant)
  - Motorhuv/baklucka (kanter)

ESKALERINGSLOGIK:
- Level 1 (Look): Syns bubblor eller missfrgning?  G till Level 2
- Level 2 (Poke): "Poka frsiktigt med skruvmejsel"  Gr det igenom?  CRITICAL
- Level 3 (Disassemble): "Ta bort lista/panel fr djupare inspektion"`,ENGINE:`
ELTON INSPECTOR - ZONE 2: ENGINE ("Hjrtat")
==============================================

CHECKLIST:
 Vtskor:
  - Motorolja (niv, frg, konsistens)
  - Kylvtska (niv, frg, lckage)
  - "Majonns-koll" (vit srja = vatten i olja = packning!)
 Mekanisk hlsa:
  - Kamremmar/V-remmar (sprickor, slitage)
  - Slangar (sprickor, svullnad, lckage)
  - Tndstift/kablar
 Elmotorer:
  - Torkarmotorer (funktion)
  - Flktar (funktion, oljud)

ESKALERINGSLOGIK:
- Level 1 (Listen): Hr du tickande/gnisslande vid olika varvtal?
- Level 2 (Measure): "Fljer ljudet motorvarvtal?"  Ja = ventiljustering
- Level 3 (Disassemble): "Ta av ventilkpan fr visuell inspektion"`,UNDERCARRIAGE:`
ELTON INSPECTOR - ZONE 3: UNDERCARRIAGE ("Skelettet")
=======================================================

CHECKLIST:
 Balkar (lngsgende, tvrbalkar - ROST = KRITISKT!)
 Avgassystem:
  - Grenrr (sprickor, lckage)
  - Katalysator (bulor, lckage)
  - Dmpare/ljuddmpare (rostangrepp, hl)
 Bromsrr (rost, lckage)
 Fjdring (bussningar, sttdmpare)

ESKALERINGSLOGIK:
- Level 1 (Look): Syns rost p balk?  G till Level 2
- Level 2 (Poke): "Poka med mejsel"  Knastar/gr igenom?  CRITICAL
- Level 3 (Professional): "Detta krver lyft och professionell bedmning"`,INTERIOR:`
ELTON INSPECTOR - ZONE 4: INTERIOR ("Kontoret")
================================================

CHECKLIST:
 Instrument:
  - Mtare (fungerar alla?)
  - Varningslampor (tnds/slcks korrekt?)
  - Reglage (vrme, ventilation)
 Golv:
  - Mattor/golvbrunn (fukt = lckage eller rost!)
  - Pedalgumm (slitage)
 Drrar:
  - Ttningslister (spruckna?)
  - Ls/handtag (funktion)
  - Hgtalare (funktion)

ESKALERINGSLOGIK:
- Level 1 (Look): Ser du flckar eller fukt?
- Level 2 (Touch): "Knn p golvet under mattor"  Bltt?  Hitta lckage!
- Level 3 (Trace): "Spra lckaget (gummilister, ttningar, rostangrep)"`}[t]}

ANVNDARENS BESKRIVNING: ${e}

Analysera ${n?"bilden":"ljudet"} med hjlp av checklistorna ovan.

ANALYSPROCESS:
1. Identifiera vad anvndaren visar (komponent, omrde)
2. Jmfr mot checklist - vad ser/hrs du?
3. Bedm allvarlighetsgrad (se regler nedan)
4. Fresl eskalering om ndvndigt (Level 123)
5. Rekommendera tgrd

ALLVARLIGHETSGRADER:
- CRITICAL = Skerhetsrisk ELLER brande del ELLER riskerar stopp
  * Rost p balkar, ramar, fsten
  * Broms-/styrningsfel
  * Allvarligt motorproblem

- WARNING = Behver tgrdas snart, blir vrre med tiden
  * Mindre rostangrepp (ej brande)
  * Slitage som pverkar funktion
  * Lckage (olja, kylvtska)

- COSMETIC = Estetiskt eller mycket mindre problem
  * Ytlig lackskada
  * Mindre repor
  * Slitagemrken som ej pverkar funktion

REGLER:
- Var PESSIMISTISK gllande rost p brande delar
- Vid oskerhet  fresl nsta niv (Level 2 eller 3)
- Referera till rsmodellspecifika problem om mjligt
- Ge konkreta nsta-steg tgrder

Svara i JSON-format:
{
  "diagnosis": "Detaljerad beskrivning...

**Nsta steg:** [konkret tgrd eller uppfljningsfrga]",
  "severity": "COSMETIC|WARNING|CRITICAL",
  "confidence": 85
}`}];n&&u.push({inlineData:{mimeType:"image/jpeg",data:n}});const p=(await i.generateContent(u)).response.text();try{const b=p.match(/\{[\s\S]*\}/);if(b){const E=JSON.parse(b[0]);return{aiDiagnosis:E.diagnosis||p,severity:E.severity||"WARNING",confidence:E.confidence||75,category:t}}}catch{console.warn("Failed to parse JSON from inspector, using raw text")}const g=/kritisk|akut|farlig|omedelbar|strukturell|brande/i.test(p),m=/varning|tgrd|br|rekommend/i.test(p);return{aiDiagnosis:p,severity:g?"CRITICAL":m?"WARNING":"COSMETIC",confidence:75,category:t}},Nr=[];for(let t=0;t<256;++t)Nr.push((t+256).toString(16).slice(1));function gOe(t,e=0){return(Nr[t[e+0]]+Nr[t[e+1]]+Nr[t[e+2]]+Nr[t[e+3]]+"-"+Nr[t[e+4]]+Nr[t[e+5]]+"-"+Nr[t[e+6]]+Nr[t[e+7]]+"-"+Nr[t[e+8]]+Nr[t[e+9]]+"-"+Nr[t[e+10]]+Nr[t[e+11]]+Nr[t[e+12]]+Nr[t[e+13]]+Nr[t[e+14]]+Nr[t[e+15]]).toLowerCase()}let X_;const mOe=new Uint8Array(16);function yOe(){if(!X_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");X_=crypto.getRandomValues.bind(crypto)}return X_(mOe)}const bOe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Y4={randomUUID:bOe};function vOe(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??yOe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,gOe(r)}function CN(t,e,n){return Y4.randomUUID&&!t?Y4.randomUUID():vOe(t)}const xOe=async(t,e)=>{var g,m;const n=atob(t.split(",")[1]||t),r=((m=(g=t.split(",")[0])==null?void 0:g.match(/:(.*?);/))==null?void 0:m[1])||"image/jpeg",i=new ArrayBuffer(n.length),o=new Uint8Array(i);for(let b=0;b<n.length;b++)o[b]=n.charCodeAt(b);const a=new Blob([i],{type:r}),l=`${CN()}.${r.split("/")[1]}`,u=bC(vC,`chat-images/${e}/${l}`),d=await mC(u,a);return await yC(d.ref)},wOe=async(t,e)=>{var m;const n=t.split(","),r=(m=n[0])==null?void 0:m.match(/:(.*?);/),i=r?r[1]:"image/jpeg",o=atob(n[1]||n[0]),a=new ArrayBuffer(o.length),l=new Uint8Array(a);for(let b=0;b<o.length;b++)l[b]=o.charCodeAt(b);const u=new Blob([a],{type:i}),d=`${CN()}.${i.split("/")[1]||"jpg"}`,p=bC(vC,`inspections/images/${e}/${d}`),g=await mC(p,u);return await yC(g.ref)},kOe=async(t,e)=>{if(!t)throw new Error("No audio file provided");const n=t.name.split(".").pop()||"wav",r=`${CN()}.${n}`,i=bC(vC,`inspections/audio/${e}/${r}`),o=await mC(i,t);return await yC(o.ref)},EOe=(t,e=[])=>{var r;const n=t.vehicleData;return{meta:{project:t.name,exported:new Date().toISOString().split("T")[0],version:"2.0"},vehicle:{identity:{regNo:n.regNo,make:n.make,model:n.model,year:n.year,productionYear:n.prodYear,firstRegistration:n.regDate,vin:n.vin,color:n.color,bodyType:n.bodyType},engine:{code:n.engine.code,type:`${n.engine.volume} ${n.engine.fuel}`,cylinders:n.engine.cylinders,power:n.engine.power,torque:n.engine.torque,cooling:n.engine.cooling,valveTrain:n.engine.valveTrain,carburetor:n.engine.carburetor},specs:{gearbox:n.gearbox,drive:n.wheels.drive,tires:`${n.wheels.tiresFront} / ${n.wheels.boltPattern}`,length:n.dimensions.length,width:n.dimensions.width,wheelbase:n.dimensions.wheelbase,weights:{curb:n.weights.curb,total:n.weights.total,load:n.weights.load,trailer:n.weights.trailer}},status:{current:n.status,lastInspection:n.inspection.last,odometerReading:n.inspection.mileage?parseInt(n.inspection.mileage.replace(/\s/g,"")):void 0}},knowledgeBase:(t.knowledgeArticles||[]).map(i=>({id:i.id,title:i.title,tags:i.tags,summary:i.summary,content:i.content})),tasks:t.tasks.map(i=>({title:i.title,status:i.status,cost:i.actualCost>0?i.actualCost:void 0,estCost:i.estimatedCostMin>0?i.estimatedCostMin===i.estimatedCostMax?`${i.estimatedCostMin} kr`:`${i.estimatedCostMin}-${i.estimatedCostMax} kr`:void 0,phase:i.phase,description:i.description||void 0,checklist:i.subtasks&&i.subtasks.length>0?i.subtasks.map(o=>o.title):void 0,priority:i.priority||void 0})),shoppingList:t.shoppingItems.map(i=>({name:i.name,estCost:i.estimatedCost,url:i.url,qty:i.quantity})),contacts:e.map(i=>({name:i.name,phone:i.phone,type:i.specialty||i.category})),tips:(r=n.expertAnalysis)!=null&&r.maintenanceNotes?[{title:"Underhllstips",text:n.expertAnalysis.maintenanceNotes}]:[]}},_Oe=(t,e=[])=>{const n=EOe(t,e);let r=`# PROJEKTKONTEXT: ${n.meta.project}

`;if(r+=`## FORDON
`,r+=`**Registreringsnummer:** ${n.vehicle.identity.regNo}
`,r+=`**Mrke & Modell:** ${n.vehicle.identity.make} ${n.vehicle.identity.model}
`,r+=`**rsmodell:** ${n.vehicle.identity.year} (Tillverkad ${n.vehicle.identity.productionYear})
`,r+=`**Frsta registrering:** ${n.vehicle.identity.firstRegistration}
`,r+=`**Chassinummer:** ${n.vehicle.identity.vin}
`,r+=`**Karosstyp:** ${n.vehicle.identity.bodyType}
`,r+=`**Frg:** ${n.vehicle.identity.color}

`,r+=`## MOTOR
`,n.vehicle.engine.code&&(r+=`**Motorkod:** ${n.vehicle.engine.code}
`),r+=`**Typ:** ${n.vehicle.engine.type}
`,r+=`**Effekt:** ${n.vehicle.engine.power}
`,n.vehicle.engine.cylinders&&(r+=`**Cylindrar:** ${n.vehicle.engine.cylinders}
`),n.vehicle.engine.torque&&(r+=`**Vridmoment:** ${n.vehicle.engine.torque}
`),n.vehicle.engine.carburetor&&(r+=`**Frgasare:** ${n.vehicle.engine.carburetor}
`),r+=`
`,r+=`## SPECIFIKATIONER
`,r+=`**Vxellda:** ${n.vehicle.specs.gearbox}
`,r+=`**Drivning:** ${n.vehicle.specs.drive}
`,r+=`**Dck:** ${n.vehicle.specs.tires}
`,r+=`**Mtt (LB):** ${n.vehicle.specs.length}${n.vehicle.specs.width} mm
`,r+=`**Hjulbas:** ${n.vehicle.specs.wheelbase} mm
`,r+=`**Vikter:**
`,r+=`  - Tjnstevikt: ${n.vehicle.specs.weights.curb} kg
`,r+=`  - Totalvikt: ${n.vehicle.specs.weights.total} kg
`,r+=`  - Lastvikt: ${n.vehicle.specs.weights.load} kg
`,r+=`  - Slpvagnsvikt: ${n.vehicle.specs.weights.trailer} kg

`,r+=`## AKTUELL STATUS
`,r+=`**Trafikstatus:** ${n.vehicle.status.current}
`,r+=`**Senaste besiktning:** ${n.vehicle.status.lastInspection}
`,n.vehicle.status.odometerReading&&(r+=`**Mtarstllning:** ${n.vehicle.status.odometerReading} km
`,n.vehicle.status.odometerNote&&(r+=`**Notering:** ${n.vehicle.status.odometerNote}
`)),r+=`
`,n.knowledgeBase.length>0&&(r+=`## KUNSKAPSBAS (${n.knowledgeBase.length} artiklar)

`,n.knowledgeBase.forEach(i=>{r+=`### ${i.title}
`,r+=`**Tags:** ${i.tags?i.tags.join(", "):"Inga"}
`,r+=`**Sammanfattning:** ${i.summary}

`,r+=`${i.content}

`,r+=`---

`})),n.tasks.length>0){r+=`## UPPGIFTER (${n.tasks.length} st)

`;const i={};n.tasks.forEach(o=>{i[o.phase]||(i[o.phase]=[]),i[o.phase].push(o)}),Object.entries(i).forEach(([o,a])=>{r+=`### ${o}
`,a.forEach(l=>{r+=`- **${l.title}** [${l.status}]
`,l.description&&(r+=`  ${l.description}
`),l.cost?r+=`  Kostnad: ${l.cost} kr
`:l.estCost&&(r+=`  Uppskattad kostnad: ${l.estCost}
`),l.checklist&&(r+=`  Checklista:
`,l.checklist.forEach(u=>{r+=`     ${u}
`}))}),r+=`
`})}return n.shoppingList.length>0&&(r+=`## INKPSLISTA (${n.shoppingList.length} artiklar)

`,n.shoppingList.forEach(i=>{r+=`- **${i.name}**`,i.qty&&(r+=` (${i.qty})`),i.estCost&&(r+=` - ${i.estCost} kr`),i.url&&(r+=` [${i.url}]`),r+=`
`}),r+=`
`),n.contacts&&n.contacts.length>0&&(r+=`## KONTAKTER

`,n.contacts.forEach(i=>{r+=`- **${i.name}** (${i.type})
`,r+=`  Tel: ${i.phone}
`}),r+=`
`),n.tips&&n.tips.length>0&&(r+=`## TIPS & VARNINGAR

`,n.tips.forEach(i=>{r+=`**${i.title}:** ${i.text}

`})),r},TOe=t=>{const e=t.tasks.length,n=t.tasks.filter(u=>u.status==="Klart").length,r=t.tasks.filter(u=>u.status==="Pgende").length,i=t.tasks.reduce((u,d)=>u+d.estimatedCostMax,0),o=t.tasks.reduce((u,d)=>u+d.actualCost,0),a=t.shoppingItems.reduce((u,d)=>u+(d.actualCost||d.estimatedCost),0),l=t.shoppingItems.filter(u=>u.checked).length;return{tasks:{total:e,completed:n,inProgress:r,remaining:e-n},costs:{estimated:i,actual:o,shopping:a},shopping:{total:t.shoppingItems.length,completed:l}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let SOe,AOe;function COe(){return{geminiUrl:SOe,vertexUrl:AOe}}function IOe(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=COe();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sl{}function Me(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const l=a.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[l])){const u=t[l];if(Array.isArray(n))for(let d=0;d<u.length;d++){const p=u[d];x(p,e.slice(o+1),n[d])}else for(const d of u)x(d,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const l=a.slice(0,-3);l in t||(t[l]=[{}]);const u=t[l];x(u[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(l=>v(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function NOe(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let l=-1;for(let u=0;u<i.length;u++)if(i[u]==="*"){l=u;break}if(l!==-1&&o.length>l)for(let u=l;u<o.length;u++){const d=o[u];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&a.add(d)}WS(t,i,o,0,a)}}function WS(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),l=t;if(a in l&&Array.isArray(l[a]))for(const u of l[a])WS(u,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,l=Object.keys(a).filter(d=>!d.startsWith("_")&&!i.has(d)),u={};for(const d of l)u[d]=a[d];for(const[d,p]of Object.entries(u)){const g=[];for(const m of n.slice(r))m==="*"?g.push(d):g.push(m);x(a,g,p)}for(const d of l)delete a[d]}}else{const a=t;o in a&&WS(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IN(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ROe(t){const e={},n=v(t,["operationName"]);n!=null&&x(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&x(e,["_url","resourceName"],r),e}function POe(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);o!=null&&x(e,["error"],o);const a=v(t,["response","generateVideoResponse"]);return a!=null&&x(e,["response"],DOe(a)),e}function OOe(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);o!=null&&x(e,["error"],o);const a=v(t,["response"]);return a!=null&&x(e,["response"],MOe(a)),e}function DOe(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>zOe(a))),x(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function MOe(t){const e={},n=v(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>jOe(a))),x(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function zOe(t){const e={},n=v(t,["video"]);return n!=null&&x(e,["video"],$Oe(n)),e}function jOe(t){const e={},n=v(t,["_self"]);return n!=null&&x(e,["video"],qOe(n)),e}function LOe(t){const e={},n=v(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function UOe(t){const e={},n=v(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function VOe(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);o!=null&&x(e,["error"],o);const a=v(t,["response"]);return a!=null&&x(e,["response"],FOe(a)),e}function FOe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&x(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function WH(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);o!=null&&x(e,["error"],o);const a=v(t,["response"]);return a!=null&&x(e,["response"],BOe(a)),e}function BOe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&x(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function $Oe(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],IN(r));const i=v(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function qOe(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],IN(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var J4;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(J4||(J4={}));var X4;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(X4||(X4={}));var Q4;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Q4||(Q4={}));var rc;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(rc||(rc={}));var Z4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Z4||(Z4={}));var e9;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(e9||(e9={}));var t9;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(t9||(t9={}));var n9;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(n9||(n9={}));var r9;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(r9||(r9={}));var i9;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(i9||(i9={}));var o9;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(o9||(o9={}));var a9;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(a9||(a9={}));var s9;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(s9||(s9={}));var l9;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(l9||(l9={}));var c9;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(c9||(c9={}));var u9;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(u9||(u9={}));var d9;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(d9||(d9={}));var p9;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(p9||(p9={}));var f9;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(f9||(f9={}));var Sg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Sg||(Sg={}));var h9;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(h9||(h9={}));var g9;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(g9||(g9={}));var m9;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(m9||(m9={}));var YS;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(YS||(YS={}));var y9;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(y9||(y9={}));var b9;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(b9||(b9={}));var v9;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(v9||(v9={}));var x9;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(x9||(x9={}));var w9;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(w9||(w9={}));var k9;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(k9||(k9={}));var E9;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(E9||(E9={}));var _9;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(_9||(_9={}));var T9;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(T9||(T9={}));var S9;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(S9||(S9={}));var A9;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(A9||(A9={}));var C9;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(C9||(C9={}));var I9;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(I9||(I9={}));var N9;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(N9||(N9={}));var R9;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(R9||(R9={}));var P9;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(P9||(P9={}));var O9;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(O9||(O9={}));var D9;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(D9||(D9={}));var M9;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(M9||(M9={}));var z9;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(z9||(z9={}));var j9;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(j9||(j9={}));var L9;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(L9||(L9={}));var U9;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(U9||(U9={}));var V9;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(V9||(V9={}));var F9;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(F9||(F9={}));var B9;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(B9||(B9={}));var $9;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})($9||($9={}));var q9;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(q9||(q9={}));var H9;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(H9||(H9={}));var G9;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(G9||(G9={}));var Gd;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Gd||(Gd={}));class JS{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Eh{get text(){var e,n,r,i,o,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",p=!1;const g=[];for(const m of(u=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[b,E]of Object.entries(m))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(E!==null||E!==void 0)&&g.push(b);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;p=!0,d+=m.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?d:void 0}get data(){var e,n,r,i,o,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const p=[];for(const g of(u=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[m,b]of Object.entries(g))m!=="inlineData"&&(b!==null||b!==void 0)&&p.push(m);g.inlineData&&typeof g.inlineData.data=="string"&&(d+=atob(g.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,o,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(u=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,o,a,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(u=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,o,a,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(u=(l=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.output}}class K9{}class W9{}class HOe{}class GOe{}class KOe{}class WOe{}class Y9{}class J9{}class X9{}class YOe{}class Lv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Lv;let i;const o=e;return n?i=OOe(o):i=POe(o),Object.assign(r,i),r}}class Q9{}class Z9{}class e3{}class t3{}class JOe{}class XOe{}class QOe{}class NN{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new NN,o=VOe(e);return Object.assign(r,o),r}}class ZOe{}class eDe{}class tDe{}class n3{}class nDe{get text(){var e,n,r;let i="",o=!1;const a=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="text"&&u!=="thought"&&d!==null&&a.push(u);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;o=!0,i+=l.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="inlineData"&&u!==null&&o.push(l);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class rDe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class RN{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new RN,o=WH(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function YH(t,e){const n=Nt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function JH(t){return Array.isArray(t)?t.map(e=>Uv(e)):[Uv(t)]}function Uv(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function XH(t){const e=Uv(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function QH(t){const e=Uv(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function r3(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function ZH(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>r3(e)):[r3(t)]}function XS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function i3(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function o3(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Kr(t){if(t==null)throw new Error("ContentUnion is required");return XS(t)?t:{role:"user",parts:ZH(t)}}function PN(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Kr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Kr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Kr(n)):[Kr(e)]}function Oo(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(i3(t)||o3(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Kr(t)]}const e=[],n=[],r=XS(t[0]);for(const i of t){const o=XS(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(i3(i)||o3(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:ZH(n)}),e}function iDe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(rc).includes(n[0].toUpperCase())?n[0].toUpperCase():rc.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(rc).includes(r.toUpperCase())?r.toUpperCase():rc.TYPE_UNSPECIFIED})}}function ip(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&iDe(t.type,e);for(const[a,l]of Object.entries(t))if(l!=null)if(a=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(rc).includes(l.toUpperCase())?l.toUpperCase():rc.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=ip(l);else if(r.includes(a)){const u=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}u.push(ip(d))}e[a]=u}else if(i.includes(a)){const u={};for(const[d,p]of Object.entries(l))u[d]=ip(p);e[a]=u}else{if(a==="additionalProperties")continue;e[a]=l}return e}function ON(t){return ip(t)}function DN(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function MN(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function rf(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ip(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ip(e.response));return t}function of(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function oDe(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ll(t,e){if(typeof e!="string")throw new Error("name must be a string");return oDe(t,e,"cachedContents")}function eG(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ic(t){return IN(t)}function aDe(t){return t!=null&&typeof t=="object"&&"name"in t}function sDe(t){return t!=null&&typeof t=="object"&&"video"in t}function lDe(t){return t!=null&&typeof t=="object"&&"uri"in t}function tG(t){var e;let n;if(aDe(t)&&(n=t.name),!(lDe(t)&&(n=t.uri,n===void 0))&&!(sDe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function nG(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function rG(t){for(const e of["models","tunedModels","publisherModels"])if(cDe(t,e))return t[e];return[]}function cDe(t,e){return t!==null&&typeof t=="object"&&e in t}function uDe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function dDe(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=uDe(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function iG(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function pDe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function oG(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const u=a.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function af(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function aG(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fDe(t){const e={},n=v(t,["responsesFile"]);n!=null&&x(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>KDe(a))),x(e,["inlinedResponses"],o)}const i=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),x(e,["inlinedEmbedContentResponses"],o)}return e}function hDe(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&x(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&x(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function gDe(t){const e={},n=v(t,["format"]);n!=null&&x(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&x(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&x(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function X0(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&x(e,["state"],aG(i));const o=v(t,["metadata","createTime"]);o!=null&&x(e,["createTime"],o);const a=v(t,["metadata","endTime"]);a!=null&&x(e,["endTime"],a);const l=v(t,["metadata","updateTime"]);l!=null&&x(e,["updateTime"],l);const u=v(t,["metadata","model"]);u!=null&&x(e,["model"],u);const d=v(t,["metadata","output"]);return d!=null&&x(e,["dest"],fDe(oG(d))),e}function QS(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["state"]);i!=null&&x(e,["state"],aG(i));const o=v(t,["error"]);o!=null&&x(e,["error"],o);const a=v(t,["createTime"]);a!=null&&x(e,["createTime"],a);const l=v(t,["startTime"]);l!=null&&x(e,["startTime"],l);const u=v(t,["endTime"]);u!=null&&x(e,["endTime"],u);const d=v(t,["updateTime"]);d!=null&&x(e,["updateTime"],d);const p=v(t,["model"]);p!=null&&x(e,["model"],p);const g=v(t,["inputConfig"]);g!=null&&x(e,["src"],mDe(g));const m=v(t,["outputConfig"]);m!=null&&x(e,["dest"],hDe(oG(m)));const b=v(t,["completionStats"]);return b!=null&&x(e,["completionStats"],b),e}function mDe(t){const e={},n=v(t,["instancesFormat"]);n!=null&&x(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&x(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function yDe(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&x(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>GDe(t,a))),x(n,["requests","requests"],o)}return n}function bDe(t){const e={},n=v(t,["format"]);n!=null&&x(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&x(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&x(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function vDe(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function xDe(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],af(t,r)),n}function wDe(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],af(t,r)),n}function kDe(t){const e={},n=v(t,["content"]);n!=null&&x(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],EDe(r));const i=v(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const o=v(t,["finishReason"]);o!=null&&x(e,["finishReason"],o);const a=v(t,["avgLogprobs"]);a!=null&&x(e,["avgLogprobs"],a);const l=v(t,["groundingMetadata"]);l!=null&&x(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&x(e,["index"],u);const d=v(t,["logprobsResult"]);d!=null&&x(e,["logprobsResult"],d);const p=v(t,["safetyRatings"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(b=>b)),x(e,["safetyRatings"],m)}const g=v(t,["urlContextMetadata"]);return g!=null&&x(e,["urlContextMetadata"],g),e}function EDe(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function sG(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>eMe(o))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function _De(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&x(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function TDe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&x(e,["outputConfig"],gDe(pDe(i))),n}function a3(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["src"]);i!=null&&x(n,["batch","inputConfig"],yDe(t,iG(t,i)));const o=v(e,["config"]);return o!=null&&_De(o,n),n}function SDe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["model"],Nt(t,r));const i=v(e,["src"]);i!=null&&x(n,["inputConfig"],bDe(iG(t,i)));const o=v(e,["config"]);return o!=null&&TDe(o,n),n}function ADe(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["batch","displayName"],r),n}function CDe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["src"]);i!=null&&x(n,["batch","inputConfig"],MDe(t,i));const o=v(e,["config"]);return o!=null&&ADe(o,n),n}function IDe(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],af(t,r)),n}function NDe(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],af(t,r)),n}function RDe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);return o!=null&&x(e,["error"],o),e}function PDe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);return o!=null&&x(e,["error"],o),e}function ODe(t,e){const n={},r=v(e,["contents"]);if(r!=null){let o=PN(t,r);Array.isArray(o)&&(o=o.map(a=>a)),x(n,["requests[]","request","content"],o)}const i=v(e,["config"]);return i!=null&&(x(n,["_self"],DDe(i,n)),NOe(n,{"requests[].*":"requests[].request.*"})),n}function DDe(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const o=v(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&x(e,["requests[]","outputDimensionality"],o),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function MDe(t,e){const n={},r=v(e,["fileName"]);r!=null&&x(n,["file_name"],r);const i=v(e,["inlinedRequests"]);return i!=null&&x(n,["requests"],ODe(t,i)),n}function zDe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function jDe(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function LDe(t){const e={},n=v(t,["mode"]);n!=null&&x(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function UDe(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],sG(Kr(i)));const o=v(e,["temperature"]);o!=null&&x(r,["temperature"],o);const a=v(e,["topP"]);a!=null&&x(r,["topP"],a);const l=v(e,["topK"]);l!=null&&x(r,["topK"],l);const u=v(e,["candidateCount"]);u!=null&&x(r,["candidateCount"],u);const d=v(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const g=v(e,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const m=v(e,["logprobs"]);m!=null&&x(r,["logprobs"],m);const b=v(e,["presencePenalty"]);b!=null&&x(r,["presencePenalty"],b);const E=v(e,["frequencyPenalty"]);E!=null&&x(r,["frequencyPenalty"],E);const A=v(e,["seed"]);A!=null&&x(r,["seed"],A);const _=v(e,["responseMimeType"]);_!=null&&x(r,["responseMimeType"],_);const C=v(e,["responseSchema"]);C!=null&&x(r,["responseSchema"],ON(C));const N=v(e,["responseJsonSchema"]);if(N!=null&&x(r,["responseJsonSchema"],N),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=v(e,["safetySettings"]);if(n!==void 0&&I!=null){let B=I;Array.isArray(B)&&(B=B.map(F=>tMe(F))),x(n,["safetySettings"],B)}const D=v(e,["tools"]);if(n!==void 0&&D!=null){let B=of(D);Array.isArray(B)&&(B=B.map(F=>rMe(rf(F)))),x(n,["tools"],B)}const L=v(e,["toolConfig"]);if(n!==void 0&&L!=null&&x(n,["toolConfig"],nMe(L)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=v(e,["cachedContent"]);n!==void 0&&M!=null&&x(n,["cachedContent"],ll(t,M));const P=v(e,["responseModalities"]);P!=null&&x(r,["responseModalities"],P);const z=v(e,["mediaResolution"]);z!=null&&x(r,["mediaResolution"],z);const U=v(e,["speechConfig"]);if(U!=null&&x(r,["speechConfig"],DN(U)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=v(e,["thinkingConfig"]);q!=null&&x(r,["thinkingConfig"],q);const V=v(e,["imageConfig"]);return V!=null&&x(r,["imageConfig"],HDe(V)),r}function VDe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>kDe(d))),x(e,["candidates"],u)}const i=v(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const o=v(t,["promptFeedback"]);o!=null&&x(e,["promptFeedback"],o);const a=v(t,["responseId"]);a!=null&&x(e,["responseId"],a);const l=v(t,["usageMetadata"]);return l!=null&&x(e,["usageMetadata"],l),e}function FDe(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],af(t,r)),n}function BDe(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],af(t,r)),n}function $De(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function qDe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function HDe(t){const e={},n=v(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function GDe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["request","model"],Nt(t,r));const i=v(e,["contents"]);if(i!=null){let l=Oo(i);Array.isArray(l)&&(l=l.map(u=>sG(u))),x(n,["request","contents"],l)}const o=v(e,["metadata"]);o!=null&&x(n,["metadata"],o);const a=v(e,["config"]);return a!=null&&x(n,["request","generationConfig"],UDe(t,a,v(n,["request"],{}))),n}function KDe(t){const e={},n=v(t,["response"]);n!=null&&x(e,["response"],VDe(n));const r=v(t,["error"]);return r!=null&&x(e,["error"],r),e}function WDe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function YDe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&x(e,["_query","pageToken"],i);const o=v(t,["filter"]);return e!==void 0&&o!=null&&x(e,["_query","filter"],o),n}function JDe(t){const e={},n=v(t,["config"]);return n!=null&&WDe(n,e),e}function XDe(t){const e={},n=v(t,["config"]);return n!=null&&YDe(n,e),e}function QDe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>X0(a))),x(e,["batchJobs"],o)}return e}function ZDe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>QS(a))),x(e,["batchJobs"],o)}return e}function eMe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&x(e,["fileData"],zDe(o));const a=v(t,["functionCall"]);a!=null&&x(e,["functionCall"],jDe(a));const l=v(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&x(e,["inlineData"],vDe(u));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const p=v(t,["thought"]);p!=null&&x(e,["thought"],p);const g=v(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const m=v(t,["videoMetadata"]);return m!=null&&x(e,["videoMetadata"],m),e}function tMe(t){const e={},n=v(t,["category"]);if(n!=null&&x(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function nMe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],LDe(n));const r=v(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function rMe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),x(e,["functionDeclarations"],p)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const o=v(t,["fileSearch"]);o!=null&&x(e,["fileSearch"],o);const a=v(t,["codeExecution"]);if(a!=null&&x(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],$De(l));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],qDe(u));const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ys;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ys||(Ys={}));class $u{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iMe extends sl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $u(Ys.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=a3(this.apiClient,e),r=n._url,i=Me("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,u=l.requests,d=[];for(const p of u){const g=Object.assign({},p);if(g.systemInstruction){const m=g.systemInstruction;delete g.systemInstruction;const b=g.request;b.systemInstruction=m,g.request=b}d.push(g)}return l.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=SDe(this.apiClient,e);return l=Me("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>QS(p))}else{const d=a3(this.apiClient,e);return l=Me("{model}:batchGenerateContent",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>X0(p))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=CDe(this.apiClient,e);return o=Me("{model}:asyncBatchEmbedContent",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>X0(u))}}async get(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=BDe(this.apiClient,e);return l=Me("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>QS(p))}else{const d=FDe(this.apiClient,e);return l=Me("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>X0(p))}}async cancel(e){var n,r,i,o;let a="",l={};if(this.apiClient.isVertexAI()){const u=wDe(this.apiClient,e);a=Me("batchPredictionJobs/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=xDe(this.apiClient,e);a=Me("batches/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=XDe(e);return l=Me("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=ZDe(p),m=new n3;return Object.assign(m,g),m})}else{const d=JDe(e);return l=Me("batches",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=QDe(p),m=new n3;return Object.assign(m,g),m})}}async delete(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=NDe(this.apiClient,e);return l=Me("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>PDe(p))}else{const d=IDe(this.apiClient,e);return l=Me("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>RDe(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oMe(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function s3(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>CMe(o))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function aMe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const o=v(t,["displayName"]);e!==void 0&&o!=null&&x(e,["displayName"],o);const a=v(t,["contents"]);if(e!==void 0&&a!=null){let p=Oo(a);Array.isArray(p)&&(p=p.map(g=>s3(g))),x(e,["contents"],p)}const l=v(t,["systemInstruction"]);e!==void 0&&l!=null&&x(e,["systemInstruction"],s3(Kr(l)));const u=v(t,["tools"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>NMe(g))),x(e,["tools"],p)}const d=v(t,["toolConfig"]);if(e!==void 0&&d!=null&&x(e,["toolConfig"],IMe(d)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function sMe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const o=v(t,["displayName"]);e!==void 0&&o!=null&&x(e,["displayName"],o);const a=v(t,["contents"]);if(e!==void 0&&a!=null){let g=Oo(a);Array.isArray(g)&&(g=g.map(m=>m)),x(e,["contents"],g)}const l=v(t,["systemInstruction"]);e!==void 0&&l!=null&&x(e,["systemInstruction"],Kr(l));const u=v(t,["tools"]);if(e!==void 0&&u!=null){let g=u;Array.isArray(g)&&(g=g.map(m=>RMe(m))),x(e,["tools"],g)}const d=v(t,["toolConfig"]);e!==void 0&&d!=null&&x(e,["toolConfig"],d);const p=v(t,["kmsKeyName"]);return e!==void 0&&p!=null&&x(e,["encryption_spec","kmsKeyName"],p),n}function lMe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["model"],YH(t,r));const i=v(e,["config"]);return i!=null&&aMe(i,n),n}function cMe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["model"],YH(t,r));const i=v(e,["config"]);return i!=null&&sMe(i,n),n}function uMe(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],ll(t,r)),n}function dMe(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],ll(t,r)),n}function pMe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function fMe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function hMe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function gMe(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mMe(t){const e={},n=v(t,["mode"]);n!=null&&x(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yMe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&x(e,["description"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["parameters"]);i!=null&&x(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&x(e,["parametersJsonSchema"],o);const a=v(t,["response"]);a!=null&&x(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&x(e,["responseJsonSchema"],l),e}function bMe(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],ll(t,r)),n}function vMe(t,e){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],ll(t,r)),n}function xMe(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function wMe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function kMe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function EMe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function _Me(t){const e={},n=v(t,["config"]);return n!=null&&kMe(n,e),e}function TMe(t){const e={},n=v(t,["config"]);return n!=null&&EMe(n,e),e}function SMe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),x(e,["cachedContents"],o)}return e}function AMe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),x(e,["cachedContents"],o)}return e}function CMe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&x(e,["fileData"],hMe(o));const a=v(t,["functionCall"]);a!=null&&x(e,["functionCall"],gMe(a));const l=v(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&x(e,["inlineData"],oMe(u));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const p=v(t,["thought"]);p!=null&&x(e,["thought"],p);const g=v(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const m=v(t,["videoMetadata"]);return m!=null&&x(e,["videoMetadata"],m),e}function IMe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],mMe(n));const r=v(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function NMe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),x(e,["functionDeclarations"],p)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const o=v(t,["fileSearch"]);o!=null&&x(e,["fileSearch"],o);const a=v(t,["codeExecution"]);if(a!=null&&x(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],xMe(l));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],wMe(u));const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function RMe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(m=>yMe(m))),x(e,["functionDeclarations"],g)}const r=v(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const o=v(t,["computerUse"]);if(o!=null&&x(e,["computerUse"],o),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(t,["codeExecution"]);a!=null&&x(e,["codeExecution"],a);const l=v(t,["enterpriseWebSearch"]);l!=null&&x(e,["enterpriseWebSearch"],l);const u=v(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const d=v(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],d);const p=v(t,["urlContext"]);return p!=null&&x(e,["urlContext"],p),e}function PMe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function OMe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function DMe(t,e){const n={},r=v(e,["name"]);r!=null&&x(n,["_url","name"],ll(t,r));const i=v(e,["config"]);return i!=null&&PMe(i,n),n}function MMe(t,e){const n={},r=v(e,["name"]);r!=null&&x(n,["_url","name"],ll(t,r));const i=v(e,["config"]);return i!=null&&OMe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zMe extends sl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $u(Ys.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=cMe(this.apiClient,e);return l=Me("cachedContents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>p)}else{const d=lMe(this.apiClient,e);return l=Me("cachedContents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async get(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=vMe(this.apiClient,e);return l=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>p)}else{const d=bMe(this.apiClient,e);return l=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async delete(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=dMe(this.apiClient,e);return l=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=fMe(p),m=new e3;return Object.assign(m,g),m})}else{const d=uMe(this.apiClient,e);return l=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=pMe(p),m=new e3;return Object.assign(m,g),m})}}async update(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=MMe(this.apiClient,e);return l=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>p)}else{const d=DMe(this.apiClient,e);return l=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async listInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=TMe(e);return l=Me("cachedContents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=AMe(p),m=new t3;return Object.assign(m,g),m})}else{const d=_Me(e);return l=Me("cachedContents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=SMe(p),m=new t3;return Object.assign(m,g),m})}}}function l3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cn(t){return this instanceof cn?(this.v=t,this):new cn(t)}function op(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(b){return function(E){return Promise.resolve(E).then(b,g)}}function l(b,E){r[b]&&(i[b]=function(A){return new Promise(function(_,C){o.push([b,A,_,C])>1||u(b,A)})},E&&(i[b]=E(i[b])))}function u(b,E){try{d(r[b](E))}catch(A){m(o[0][3],A)}}function d(b){b.value instanceof cn?Promise.resolve(b.value.v).then(p,g):m(o[0][2],b)}function p(b){u("next",b)}function g(b){u("throw",b)}function m(b,E){b(E),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Wh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof l3=="function"?l3(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(l,u){a=t[o](a),i(l,u,a.done,a.value)})}}function i(o,a,l,u){Promise.resolve(u).then(function(d){o({value:d,done:l})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jMe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:lG(n)}function lG(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function LMe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function c3(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!lG(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class UMe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new VMe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class VMe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),LMe(o)}async sendMessage(e){var n;await this.sendPromise;const r=Kr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,l;const u=await i,d=(a=(o=u.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,p=u.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let m=[];p!=null&&(m=(l=p.slice(g))!==null&&l!==void 0?l:[]);const b=d?[d]:[];this.recordHistory(r,b,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Kr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?c3(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return op(this,arguments,function*(){var a,l,u,d;const p=[];try{for(var g=!0,m=Wh(e),b;b=yield cn(m.next()),a=b.done,!a;g=!0){d=b.value,g=!1;const E=d;if(jMe(E)){const A=(i=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;A!==void 0&&p.push(A)}yield yield cn(E)}}catch(E){l={error:E}}finally{try{!g&&!a&&(u=m.return)&&(yield cn(u.call(m)))}finally{if(l)throw l.error}}this.recordHistory(n,p)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...c3(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kw extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,kw.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FMe(t){const e={},n=v(t,["file"]);return n!=null&&x(e,["file"],n),e}function BMe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function $Me(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","file"],tG(n)),e}function qMe(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function HMe(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","file"],tG(n)),e}function GMe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function KMe(t){const e={},n=v(t,["config"]);return n!=null&&GMe(n,e),e}function WMe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),x(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YMe extends sl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $u(Ys.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=KMe(e);return o=Me("files",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const d=WMe(u),p=new ZOe;return Object.assign(p,d),p})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=FMe(e);return o=Me("upload/v1beta/files",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=BMe(u),p=new eDe;return Object.assign(p,d),p})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=HMe(e);return o=Me("files/{file}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=$Me(e);return o=Me("files/{file}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const d=qMe(u),p=new tDe;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q0(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function JMe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>p5e(o))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function XMe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function QMe(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ZMe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&x(e,["description"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["parameters"]);i!=null&&x(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&x(e,["parametersJsonSchema"],o);const a=v(t,["response"]);a!=null&&x(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&x(e,["responseJsonSchema"],l),e}function e5e(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const o=v(t,["candidateCount"]);o!=null&&x(e,["candidateCount"],o);const a=v(t,["enableAffectiveDialog"]);a!=null&&x(e,["enableAffectiveDialog"],a);const l=v(t,["frequencyPenalty"]);l!=null&&x(e,["frequencyPenalty"],l);const u=v(t,["logprobs"]);u!=null&&x(e,["logprobs"],u);const d=v(t,["maxOutputTokens"]);d!=null&&x(e,["maxOutputTokens"],d);const p=v(t,["mediaResolution"]);p!=null&&x(e,["mediaResolution"],p);const g=v(t,["presencePenalty"]);g!=null&&x(e,["presencePenalty"],g);const m=v(t,["responseLogprobs"]);m!=null&&x(e,["responseLogprobs"],m);const b=v(t,["responseMimeType"]);b!=null&&x(e,["responseMimeType"],b);const E=v(t,["responseModalities"]);E!=null&&x(e,["responseModalities"],E);const A=v(t,["responseSchema"]);A!=null&&x(e,["responseSchema"],A);const _=v(t,["routingConfig"]);_!=null&&x(e,["routingConfig"],_);const C=v(t,["seed"]);C!=null&&x(e,["seed"],C);const N=v(t,["speechConfig"]);N!=null&&x(e,["speechConfig"],cG(N));const I=v(t,["stopSequences"]);I!=null&&x(e,["stopSequences"],I);const D=v(t,["temperature"]);D!=null&&x(e,["temperature"],D);const L=v(t,["thinkingConfig"]);L!=null&&x(e,["thinkingConfig"],L);const M=v(t,["topK"]);M!=null&&x(e,["topK"],M);const P=v(t,["topP"]);if(P!=null&&x(e,["topP"],P),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function t5e(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function n5e(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function r5e(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","temperature"],o);const a=v(t,["topP"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","topP"],a);const l=v(t,["topK"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topK"],l);const u=v(t,["maxOutputTokens"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","maxOutputTokens"],u);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","seed"],p);const g=v(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],MN(g));const m=v(t,["thinkingConfig"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","thinkingConfig"],m);const b=v(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],b);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&x(e,["setup","systemInstruction"],JMe(Kr(E)));const A=v(t,["tools"]);if(e!==void 0&&A!=null){let M=of(A);Array.isArray(M)&&(M=M.map(P=>h5e(rf(P)))),x(e,["setup","tools"],M)}const _=v(t,["sessionResumption"]);e!==void 0&&_!=null&&x(e,["setup","sessionResumption"],f5e(_));const C=v(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&x(e,["setup","inputAudioTranscription"],C);const N=v(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&x(e,["setup","outputAudioTranscription"],N);const I=v(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&x(e,["setup","realtimeInputConfig"],I);const D=v(t,["contextWindowCompression"]);e!==void 0&&D!=null&&x(e,["setup","contextWindowCompression"],D);const L=v(t,["proactivity"]);return e!==void 0&&L!=null&&x(e,["setup","proactivity"],L),n}function i5e(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],e5e(r));const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","temperature"],o);const a=v(t,["topP"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","topP"],a);const l=v(t,["topK"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topK"],l);const u=v(t,["maxOutputTokens"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","maxOutputTokens"],u);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","seed"],p);const g=v(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],cG(MN(g)));const m=v(t,["thinkingConfig"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","thinkingConfig"],m);const b=v(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],b);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&x(e,["setup","systemInstruction"],Kr(E));const A=v(t,["tools"]);if(e!==void 0&&A!=null){let M=of(A);Array.isArray(M)&&(M=M.map(P=>g5e(rf(P)))),x(e,["setup","tools"],M)}const _=v(t,["sessionResumption"]);e!==void 0&&_!=null&&x(e,["setup","sessionResumption"],_);const C=v(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&x(e,["setup","inputAudioTranscription"],C);const N=v(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&x(e,["setup","outputAudioTranscription"],N);const I=v(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&x(e,["setup","realtimeInputConfig"],I);const D=v(t,["contextWindowCompression"]);e!==void 0&&D!=null&&x(e,["setup","contextWindowCompression"],D);const L=v(t,["proactivity"]);return e!==void 0&&L!=null&&x(e,["setup","proactivity"],L),n}function o5e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["setup","model"],Nt(t,r));const i=v(e,["config"]);return i!=null&&x(n,["config"],r5e(i,n)),n}function a5e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["setup","model"],Nt(t,r));const i=v(e,["config"]);return i!=null&&x(n,["config"],i5e(i,n)),n}function s5e(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&x(e,["musicGenerationConfig"],n),e}function l5e(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["weightedPrompts"],r)}return e}function c5e(t){const e={},n=v(t,["media"]);if(n!=null){let d=JH(n);Array.isArray(d)&&(d=d.map(p=>Q0(p))),x(e,["mediaChunks"],d)}const r=v(t,["audio"]);r!=null&&x(e,["audio"],Q0(QH(r)));const i=v(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const o=v(t,["video"]);o!=null&&x(e,["video"],Q0(XH(o)));const a=v(t,["text"]);a!=null&&x(e,["text"],a);const l=v(t,["activityStart"]);l!=null&&x(e,["activityStart"],l);const u=v(t,["activityEnd"]);return u!=null&&x(e,["activityEnd"],u),e}function u5e(t){const e={},n=v(t,["media"]);if(n!=null){let d=JH(n);Array.isArray(d)&&(d=d.map(p=>p)),x(e,["mediaChunks"],d)}const r=v(t,["audio"]);r!=null&&x(e,["audio"],QH(r));const i=v(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const o=v(t,["video"]);o!=null&&x(e,["video"],XH(o));const a=v(t,["text"]);a!=null&&x(e,["text"],a);const l=v(t,["activityStart"]);l!=null&&x(e,["activityStart"],l);const u=v(t,["activityEnd"]);return u!=null&&x(e,["activityEnd"],u),e}function d5e(t){const e={},n=v(t,["setupComplete"]);n!=null&&x(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&x(e,["serverContent"],r);const i=v(t,["toolCall"]);i!=null&&x(e,["toolCall"],i);const o=v(t,["toolCallCancellation"]);o!=null&&x(e,["toolCallCancellation"],o);const a=v(t,["usageMetadata"]);a!=null&&x(e,["usageMetadata"],m5e(a));const l=v(t,["goAway"]);l!=null&&x(e,["goAway"],l);const u=v(t,["sessionResumptionUpdate"]);return u!=null&&x(e,["sessionResumptionUpdate"],u),e}function p5e(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&x(e,["fileData"],XMe(o));const a=v(t,["functionCall"]);a!=null&&x(e,["functionCall"],QMe(a));const l=v(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&x(e,["inlineData"],Q0(u));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const p=v(t,["thought"]);p!=null&&x(e,["thought"],p);const g=v(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const m=v(t,["videoMetadata"]);return m!=null&&x(e,["videoMetadata"],m),e}function f5e(t){const e={},n=v(t,["handle"]);if(n!=null&&x(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function cG(t){const e={},n=v(t,["languageCode"]);n!=null&&x(e,["languageCode"],n);const r=v(t,["voiceConfig"]);if(r!=null&&x(e,["voiceConfig"],r),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function h5e(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),x(e,["functionDeclarations"],p)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const o=v(t,["fileSearch"]);o!=null&&x(e,["fileSearch"],o);const a=v(t,["codeExecution"]);if(a!=null&&x(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],t5e(l));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],n5e(u));const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function g5e(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(m=>ZMe(m))),x(e,["functionDeclarations"],g)}const r=v(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const o=v(t,["computerUse"]);if(o!=null&&x(e,["computerUse"],o),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(t,["codeExecution"]);a!=null&&x(e,["codeExecution"],a);const l=v(t,["enterpriseWebSearch"]);l!=null&&x(e,["enterpriseWebSearch"],l);const u=v(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const d=v(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],d);const p=v(t,["urlContext"]);return p!=null&&x(e,["urlContext"],p),e}function m5e(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&x(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&x(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&x(e,["responseTokenCount"],i);const o=v(t,["toolUsePromptTokenCount"]);o!=null&&x(e,["toolUsePromptTokenCount"],o);const a=v(t,["thoughtsTokenCount"]);a!=null&&x(e,["thoughtsTokenCount"],a);const l=v(t,["totalTokenCount"]);l!=null&&x(e,["totalTokenCount"],l);const u=v(t,["promptTokensDetails"]);if(u!=null){let b=u;Array.isArray(b)&&(b=b.map(E=>E)),x(e,["promptTokensDetails"],b)}const d=v(t,["cacheTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(E=>E)),x(e,["cacheTokensDetails"],b)}const p=v(t,["candidatesTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(E=>E)),x(e,["responseTokensDetails"],b)}const g=v(t,["toolUsePromptTokensDetails"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(E=>E)),x(e,["toolUsePromptTokensDetails"],b)}const m=v(t,["trafficType"]);return m!=null&&x(e,["trafficType"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y5e(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function b5e(t){const e={},n=v(t,["content"]);n!=null&&x(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],v5e(r));const i=v(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const o=v(t,["finishReason"]);o!=null&&x(e,["finishReason"],o);const a=v(t,["avgLogprobs"]);a!=null&&x(e,["avgLogprobs"],a);const l=v(t,["groundingMetadata"]);l!=null&&x(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&x(e,["index"],u);const d=v(t,["logprobsResult"]);d!=null&&x(e,["logprobsResult"],d);const p=v(t,["safetyRatings"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(b=>b)),x(e,["safetyRatings"],m)}const g=v(t,["urlContextMetadata"]);return g!=null&&x(e,["urlContextMetadata"],g),e}function v5e(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function x5e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["contents"]);if(i!=null){let o=Oo(i);Array.isArray(o)&&(o=o.map(a=>a)),x(n,["contents"],o)}return n}function w5e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(e,["tokensInfo"],i)}return e}function k5e(t){const e={},n=v(t,["values"]);n!=null&&x(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&x(e,["statistics"],E5e(r)),e}function E5e(t){const e={},n=v(t,["truncated"]);n!=null&&x(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&x(e,["tokenCount"],r),e}function Ew(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Pze(o))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function _5e(t){const e={},n=v(t,["controlType"]);n!=null&&x(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&x(e,["computeControl"],r),e}function T5e(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function S5e(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&x(e,["systemInstruction"],Kr(r));const i=v(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>hG(l))),x(e,["tools"],a)}const o=v(t,["generationConfig"]);return e!==void 0&&o!=null&&x(e,["generationConfig"],yze(o)),n}function A5e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["contents"]);if(i!=null){let a=Oo(i);Array.isArray(a)&&(a=a.map(l=>Ew(l))),x(n,["contents"],a)}const o=v(e,["config"]);return o!=null&&T5e(o),n}function C5e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["contents"]);if(i!=null){let a=Oo(i);Array.isArray(a)&&(a=a.map(l=>l)),x(n,["contents"],a)}const o=v(e,["config"]);return o!=null&&S5e(o,n),n}function I5e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);r!=null&&x(e,["totalTokens"],r);const i=v(t,["cachedContentTokenCount"]);return i!=null&&x(e,["cachedContentTokenCount"],i),e}function N5e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);return r!=null&&x(e,["totalTokens"],r),e}function R5e(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],Nt(t,r)),n}function P5e(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],Nt(t,r)),n}function O5e(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function D5e(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function M5e(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const o=v(t,["numberOfImages"]);e!==void 0&&o!=null&&x(e,["parameters","sampleCount"],o);const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&x(e,["parameters","aspectRatio"],a);const l=v(t,["guidanceScale"]);e!==void 0&&l!=null&&x(e,["parameters","guidanceScale"],l);const u=v(t,["seed"]);e!==void 0&&u!=null&&x(e,["parameters","seed"],u);const d=v(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&x(e,["parameters","safetySetting"],d);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&x(e,["parameters","personGeneration"],p);const g=v(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&x(e,["parameters","includeSafetyAttributes"],g);const m=v(t,["includeRaiReason"]);e!==void 0&&m!=null&&x(e,["parameters","includeRaiReason"],m);const b=v(t,["language"]);e!==void 0&&b!=null&&x(e,["parameters","language"],b);const E=v(t,["outputMimeType"]);e!==void 0&&E!=null&&x(e,["parameters","outputOptions","mimeType"],E);const A=v(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","compressionQuality"],A);const _=v(t,["addWatermark"]);e!==void 0&&_!=null&&x(e,["parameters","addWatermark"],_);const C=v(t,["labels"]);e!==void 0&&C!=null&&x(e,["labels"],C);const N=v(t,["editMode"]);e!==void 0&&N!=null&&x(e,["parameters","editMode"],N);const I=v(t,["baseSteps"]);return e!==void 0&&I!=null&&x(e,["parameters","editConfig","baseSteps"],I),n}function z5e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=v(e,["referenceImages"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Lze(u))),x(n,["instances[0]","referenceImages"],l)}const a=v(e,["config"]);return a!=null&&M5e(a,n),n}function j5e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>_w(o))),x(e,["generatedImages"],i)}return e}function L5e(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const o=v(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&x(e,["requests[]","outputDimensionality"],o),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function U5e(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&x(e,["instances[]","task_type"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&x(e,["instances[]","title"],i);const o=v(t,["outputDimensionality"]);e!==void 0&&o!=null&&x(e,["parameters","outputDimensionality"],o);const a=v(t,["mimeType"]);e!==void 0&&a!=null&&x(e,["instances[]","mimeType"],a);const l=v(t,["autoTruncate"]);return e!==void 0&&l!=null&&x(e,["parameters","autoTruncate"],l),n}function V5e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["contents"]);if(i!=null){let l=PN(t,i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["requests[]","content"],l)}const o=v(e,["config"]);o!=null&&L5e(o,n);const a=v(e,["model"]);return a!==void 0&&x(n,["requests[]","model"],Nt(t,a)),n}function F5e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["contents"]);if(i!=null){let a=PN(t,i);Array.isArray(a)&&(a=a.map(l=>l)),x(n,["instances[]","content"],a)}const o=v(e,["config"]);return o!=null&&U5e(o,n),n}function B5e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),x(e,["embeddings"],o)}const i=v(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function $5e(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>k5e(a))),x(e,["embeddings"],o)}const i=v(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function q5e(t){const e={},n=v(t,["endpoint"]);n!=null&&x(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&x(e,["deployedModelId"],r),e}function H5e(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function G5e(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function K5e(t){const e={},n=v(t,["mode"]);n!=null&&x(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function W5e(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&x(e,["description"],n);const r=v(t,["name"]);r!=null&&x(e,["name"],r);const i=v(t,["parameters"]);i!=null&&x(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&x(e,["parametersJsonSchema"],o);const a=v(t,["response"]);a!=null&&x(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&x(e,["responseJsonSchema"],l),e}function Y5e(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],Ew(Kr(i)));const o=v(e,["temperature"]);o!=null&&x(r,["temperature"],o);const a=v(e,["topP"]);a!=null&&x(r,["topP"],a);const l=v(e,["topK"]);l!=null&&x(r,["topK"],l);const u=v(e,["candidateCount"]);u!=null&&x(r,["candidateCount"],u);const d=v(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const g=v(e,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const m=v(e,["logprobs"]);m!=null&&x(r,["logprobs"],m);const b=v(e,["presencePenalty"]);b!=null&&x(r,["presencePenalty"],b);const E=v(e,["frequencyPenalty"]);E!=null&&x(r,["frequencyPenalty"],E);const A=v(e,["seed"]);A!=null&&x(r,["seed"],A);const _=v(e,["responseMimeType"]);_!=null&&x(r,["responseMimeType"],_);const C=v(e,["responseSchema"]);C!=null&&x(r,["responseSchema"],ON(C));const N=v(e,["responseJsonSchema"]);if(N!=null&&x(r,["responseJsonSchema"],N),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=v(e,["safetySettings"]);if(n!==void 0&&I!=null){let B=I;Array.isArray(B)&&(B=B.map(F=>Uze(F))),x(n,["safetySettings"],B)}const D=v(e,["tools"]);if(n!==void 0&&D!=null){let B=of(D);Array.isArray(B)&&(B=B.map(F=>Gze(rf(F)))),x(n,["tools"],B)}const L=v(e,["toolConfig"]);if(n!==void 0&&L!=null&&x(n,["toolConfig"],Hze(L)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=v(e,["cachedContent"]);n!==void 0&&M!=null&&x(n,["cachedContent"],ll(t,M));const P=v(e,["responseModalities"]);P!=null&&x(r,["responseModalities"],P);const z=v(e,["mediaResolution"]);z!=null&&x(r,["mediaResolution"],z);const U=v(e,["speechConfig"]);if(U!=null&&x(r,["speechConfig"],DN(U)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=v(e,["thinkingConfig"]);q!=null&&x(r,["thinkingConfig"],q);const V=v(e,["imageConfig"]);return V!=null&&x(r,["imageConfig"],kze(V)),r}function J5e(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],Kr(i));const o=v(e,["temperature"]);o!=null&&x(r,["temperature"],o);const a=v(e,["topP"]);a!=null&&x(r,["topP"],a);const l=v(e,["topK"]);l!=null&&x(r,["topK"],l);const u=v(e,["candidateCount"]);u!=null&&x(r,["candidateCount"],u);const d=v(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const g=v(e,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const m=v(e,["logprobs"]);m!=null&&x(r,["logprobs"],m);const b=v(e,["presencePenalty"]);b!=null&&x(r,["presencePenalty"],b);const E=v(e,["frequencyPenalty"]);E!=null&&x(r,["frequencyPenalty"],E);const A=v(e,["seed"]);A!=null&&x(r,["seed"],A);const _=v(e,["responseMimeType"]);_!=null&&x(r,["responseMimeType"],_);const C=v(e,["responseSchema"]);C!=null&&x(r,["responseSchema"],ON(C));const N=v(e,["responseJsonSchema"]);N!=null&&x(r,["responseJsonSchema"],N);const I=v(e,["routingConfig"]);I!=null&&x(r,["routingConfig"],I);const D=v(e,["modelSelectionConfig"]);D!=null&&x(r,["modelConfig"],D);const L=v(e,["safetySettings"]);if(n!==void 0&&L!=null){let X=L;Array.isArray(X)&&(X=X.map(Z=>Z)),x(n,["safetySettings"],X)}const M=v(e,["tools"]);if(n!==void 0&&M!=null){let X=of(M);Array.isArray(X)&&(X=X.map(Z=>hG(rf(Z)))),x(n,["tools"],X)}const P=v(e,["toolConfig"]);n!==void 0&&P!=null&&x(n,["toolConfig"],P);const z=v(e,["labels"]);n!==void 0&&z!=null&&x(n,["labels"],z);const U=v(e,["cachedContent"]);n!==void 0&&U!=null&&x(n,["cachedContent"],ll(t,U));const q=v(e,["responseModalities"]);q!=null&&x(r,["responseModalities"],q);const V=v(e,["mediaResolution"]);V!=null&&x(r,["mediaResolution"],V);const B=v(e,["speechConfig"]);B!=null&&x(r,["speechConfig"],fG(DN(B)));const F=v(e,["audioTimestamp"]);F!=null&&x(r,["audioTimestamp"],F);const ne=v(e,["thinkingConfig"]);ne!=null&&x(r,["thinkingConfig"],ne);const W=v(e,["imageConfig"]);return W!=null&&x(r,["imageConfig"],Eze(W)),r}function u3(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["contents"]);if(i!=null){let a=Oo(i);Array.isArray(a)&&(a=a.map(l=>Ew(l))),x(n,["contents"],a)}const o=v(e,["config"]);return o!=null&&x(n,["generationConfig"],Y5e(t,o,n)),n}function d3(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["contents"]);if(i!=null){let a=Oo(i);Array.isArray(a)&&(a=a.map(l=>l)),x(n,["contents"],a)}const o=v(e,["config"]);return o!=null&&x(n,["generationConfig"],J5e(t,o,n)),n}function p3(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>b5e(d))),x(e,["candidates"],u)}const i=v(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const o=v(t,["promptFeedback"]);o!=null&&x(e,["promptFeedback"],o);const a=v(t,["responseId"]);a!=null&&x(e,["responseId"],a);const l=v(t,["usageMetadata"]);return l!=null&&x(e,["usageMetadata"],l),e}function f3(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),x(e,["candidates"],d)}const i=v(t,["createTime"]);i!=null&&x(e,["createTime"],i);const o=v(t,["modelVersion"]);o!=null&&x(e,["modelVersion"],o);const a=v(t,["promptFeedback"]);a!=null&&x(e,["promptFeedback"],a);const l=v(t,["responseId"]);l!=null&&x(e,["responseId"],l);const u=v(t,["usageMetadata"]);return u!=null&&x(e,["usageMetadata"],u),e}function X5e(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&x(e,["parameters","aspectRatio"],i);const o=v(t,["guidanceScale"]);if(e!==void 0&&o!=null&&x(e,["parameters","guidanceScale"],o),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=v(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&x(e,["parameters","safetySetting"],a);const l=v(t,["personGeneration"]);e!==void 0&&l!=null&&x(e,["parameters","personGeneration"],l);const u=v(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&x(e,["parameters","includeSafetyAttributes"],u);const d=v(t,["includeRaiReason"]);e!==void 0&&d!=null&&x(e,["parameters","includeRaiReason"],d);const p=v(t,["language"]);e!==void 0&&p!=null&&x(e,["parameters","language"],p);const g=v(t,["outputMimeType"]);e!==void 0&&g!=null&&x(e,["parameters","outputOptions","mimeType"],g);const m=v(t,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&x(e,["parameters","outputOptions","compressionQuality"],m),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=v(t,["imageSize"]);if(e!==void 0&&b!=null&&x(e,["parameters","sampleImageSize"],b),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Q5e(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const o=v(t,["numberOfImages"]);e!==void 0&&o!=null&&x(e,["parameters","sampleCount"],o);const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&x(e,["parameters","aspectRatio"],a);const l=v(t,["guidanceScale"]);e!==void 0&&l!=null&&x(e,["parameters","guidanceScale"],l);const u=v(t,["seed"]);e!==void 0&&u!=null&&x(e,["parameters","seed"],u);const d=v(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&x(e,["parameters","safetySetting"],d);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&x(e,["parameters","personGeneration"],p);const g=v(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&x(e,["parameters","includeSafetyAttributes"],g);const m=v(t,["includeRaiReason"]);e!==void 0&&m!=null&&x(e,["parameters","includeRaiReason"],m);const b=v(t,["language"]);e!==void 0&&b!=null&&x(e,["parameters","language"],b);const E=v(t,["outputMimeType"]);e!==void 0&&E!=null&&x(e,["parameters","outputOptions","mimeType"],E);const A=v(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","compressionQuality"],A);const _=v(t,["addWatermark"]);e!==void 0&&_!=null&&x(e,["parameters","addWatermark"],_);const C=v(t,["labels"]);e!==void 0&&C!=null&&x(e,["labels"],C);const N=v(t,["imageSize"]);e!==void 0&&N!=null&&x(e,["parameters","sampleImageSize"],N);const I=v(t,["enhancePrompt"]);return e!==void 0&&I!=null&&x(e,["parameters","enhancePrompt"],I),n}function Z5e(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=v(e,["config"]);return o!=null&&X5e(o,n),n}function eze(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=v(e,["config"]);return o!=null&&Q5e(o,n),n}function tze(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>fze(a))),x(e,["generatedImages"],o)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],dG(i)),e}function nze(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>_w(a))),x(e,["generatedImages"],o)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],pG(i)),e}function rze(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(t,["durationSeconds"]);if(e!==void 0&&i!=null&&x(e,["parameters","durationSeconds"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=v(t,["aspectRatio"]);e!==void 0&&o!=null&&x(e,["parameters","aspectRatio"],o);const a=v(t,["resolution"]);e!==void 0&&a!=null&&x(e,["parameters","resolution"],a);const l=v(t,["personGeneration"]);if(e!==void 0&&l!=null&&x(e,["parameters","personGeneration"],l),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=v(t,["negativePrompt"]);e!==void 0&&u!=null&&x(e,["parameters","negativePrompt"],u);const d=v(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&x(e,["parameters","enhancePrompt"],d),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=v(t,["lastFrame"]);e!==void 0&&p!=null&&x(e,["instances[0]","lastFrame"],Tw(p));const g=v(t,["referenceImages"]);if(e!==void 0&&g!=null){let m=g;Array.isArray(m)&&(m=m.map(b=>oje(b))),x(e,["instances[0]","referenceImages"],m)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function ize(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const o=v(t,["fps"]);e!==void 0&&o!=null&&x(e,["parameters","fps"],o);const a=v(t,["durationSeconds"]);e!==void 0&&a!=null&&x(e,["parameters","durationSeconds"],a);const l=v(t,["seed"]);e!==void 0&&l!=null&&x(e,["parameters","seed"],l);const u=v(t,["aspectRatio"]);e!==void 0&&u!=null&&x(e,["parameters","aspectRatio"],u);const d=v(t,["resolution"]);e!==void 0&&d!=null&&x(e,["parameters","resolution"],d);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&x(e,["parameters","personGeneration"],p);const g=v(t,["pubsubTopic"]);e!==void 0&&g!=null&&x(e,["parameters","pubsubTopic"],g);const m=v(t,["negativePrompt"]);e!==void 0&&m!=null&&x(e,["parameters","negativePrompt"],m);const b=v(t,["enhancePrompt"]);e!==void 0&&b!=null&&x(e,["parameters","enhancePrompt"],b);const E=v(t,["generateAudio"]);e!==void 0&&E!=null&&x(e,["parameters","generateAudio"],E);const A=v(t,["lastFrame"]);e!==void 0&&A!=null&&x(e,["instances[0]","lastFrame"],ha(A));const _=v(t,["referenceImages"]);if(e!==void 0&&_!=null){let I=_;Array.isArray(I)&&(I=I.map(D=>aje(D))),x(e,["instances[0]","referenceImages"],I)}const C=v(t,["mask"]);e!==void 0&&C!=null&&x(e,["instances[0]","mask"],ije(C));const N=v(t,["compressionQuality"]);return e!==void 0&&N!=null&&x(e,["parameters","compressionQuality"],N),n}function oze(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);o!=null&&x(e,["error"],o);const a=v(t,["response","generateVideoResponse"]);return a!=null&&x(e,["response"],cze(a)),e}function aze(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);o!=null&&x(e,["error"],o);const a=v(t,["response"]);return a!=null&&x(e,["response"],uze(a)),e}function sze(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=v(e,["image"]);o!=null&&x(n,["instances[0]","image"],Tw(o));const a=v(e,["video"]);a!=null&&x(n,["instances[0]","video"],gG(a));const l=v(e,["source"]);l!=null&&dze(l,n);const u=v(e,["config"]);return u!=null&&rze(u,n),n}function lze(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=v(e,["image"]);o!=null&&x(n,["instances[0]","image"],ha(o));const a=v(e,["video"]);a!=null&&x(n,["instances[0]","video"],mG(a));const l=v(e,["source"]);l!=null&&pze(l,n);const u=v(e,["config"]);return u!=null&&ize(u,n),n}function cze(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>gze(a))),x(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function uze(t){const e={},n=v(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>mze(a))),x(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function dze(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],Tw(i));const o=v(t,["video"]);return e!==void 0&&o!=null&&x(e,["instances[0]","video"],gG(o)),n}function pze(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],ha(i));const o=v(t,["video"]);return e!==void 0&&o!=null&&x(e,["instances[0]","video"],mG(o)),n}function fze(t){const e={},n=v(t,["_self"]);n!=null&&x(e,["image"],_ze(n));const r=v(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=v(t,["_self"]);return i!=null&&x(e,["safetyAttributes"],dG(i)),e}function _w(t){const e={},n=v(t,["_self"]);n!=null&&x(e,["image"],uG(n));const r=v(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=v(t,["_self"]);i!=null&&x(e,["safetyAttributes"],pG(i));const o=v(t,["prompt"]);return o!=null&&x(e,["enhancedPrompt"],o),e}function hze(t){const e={},n=v(t,["_self"]);n!=null&&x(e,["mask"],uG(n));const r=v(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(e,["labels"],i)}return e}function gze(t){const e={},n=v(t,["video"]);return n!=null&&x(e,["video"],nje(n)),e}function mze(t){const e={},n=v(t,["_self"]);return n!=null&&x(e,["video"],rje(n)),e}function yze(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const o=v(t,["candidateCount"]);o!=null&&x(e,["candidateCount"],o);const a=v(t,["enableAffectiveDialog"]);a!=null&&x(e,["enableAffectiveDialog"],a);const l=v(t,["frequencyPenalty"]);l!=null&&x(e,["frequencyPenalty"],l);const u=v(t,["logprobs"]);u!=null&&x(e,["logprobs"],u);const d=v(t,["maxOutputTokens"]);d!=null&&x(e,["maxOutputTokens"],d);const p=v(t,["mediaResolution"]);p!=null&&x(e,["mediaResolution"],p);const g=v(t,["presencePenalty"]);g!=null&&x(e,["presencePenalty"],g);const m=v(t,["responseLogprobs"]);m!=null&&x(e,["responseLogprobs"],m);const b=v(t,["responseMimeType"]);b!=null&&x(e,["responseMimeType"],b);const E=v(t,["responseModalities"]);E!=null&&x(e,["responseModalities"],E);const A=v(t,["responseSchema"]);A!=null&&x(e,["responseSchema"],A);const _=v(t,["routingConfig"]);_!=null&&x(e,["routingConfig"],_);const C=v(t,["seed"]);C!=null&&x(e,["seed"],C);const N=v(t,["speechConfig"]);N!=null&&x(e,["speechConfig"],fG(N));const I=v(t,["stopSequences"]);I!=null&&x(e,["stopSequences"],I);const D=v(t,["temperature"]);D!=null&&x(e,["temperature"],D);const L=v(t,["thinkingConfig"]);L!=null&&x(e,["thinkingConfig"],L);const M=v(t,["topK"]);M!=null&&x(e,["topK"],M);const P=v(t,["topP"]);if(P!=null&&x(e,["topP"],P),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function bze(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],Nt(t,r)),n}function vze(t,e){const n={},r=v(e,["model"]);return r!=null&&x(n,["_url","name"],Nt(t,r)),n}function xze(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function wze(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function kze(t){const e={},n=v(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Eze(t){const e={},n=v(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=v(t,["imageSize"]);r!=null&&x(e,["imageSize"],r);const i=v(t,["outputMimeType"]);i!=null&&x(e,["imageOutputOptions","mimeType"],i);const o=v(t,["outputCompressionQuality"]);return o!=null&&x(e,["imageOutputOptions","compressionQuality"],o),e}function _ze(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&x(e,["imageBytes"],Ic(n));const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function uG(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&x(e,["imageBytes"],Ic(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function Tw(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&x(e,["bytesBase64Encoded"],Ic(n));const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function ha(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&x(e,["bytesBase64Encoded"],Ic(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function Tze(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const o=v(e,["pageToken"]);n!==void 0&&o!=null&&x(n,["_query","pageToken"],o);const a=v(e,["filter"]);n!==void 0&&a!=null&&x(n,["_query","filter"],a);const l=v(e,["queryBase"]);return n!==void 0&&l!=null&&x(n,["_url","models_url"],nG(t,l)),r}function Sze(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const o=v(e,["pageToken"]);n!==void 0&&o!=null&&x(n,["_query","pageToken"],o);const a=v(e,["filter"]);n!==void 0&&a!=null&&x(n,["_query","filter"],a);const l=v(e,["queryBase"]);return n!==void 0&&l!=null&&x(n,["_url","models_url"],nG(t,l)),r}function Aze(t,e){const n={},r=v(e,["config"]);return r!=null&&Tze(t,r,n),n}function Cze(t,e){const n={},r=v(e,["config"]);return r!=null&&Sze(t,r,n),n}function Ize(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let o=rG(i);Array.isArray(o)&&(o=o.map(a=>ZS(a))),x(e,["models"],o)}return e}function Nze(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let o=rG(i);Array.isArray(o)&&(o=o.map(a=>eA(a))),x(e,["models"],o)}return e}function Rze(t){const e={},n=v(t,["maskMode"]);n!=null&&x(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&x(e,["maskClasses"],r);const i=v(t,["maskDilation"]);return i!=null&&x(e,["dilation"],i),e}function ZS(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);i!=null&&x(e,["description"],i);const o=v(t,["version"]);o!=null&&x(e,["version"],o);const a=v(t,["_self"]);a!=null&&x(e,["tunedModelInfo"],Kze(a));const l=v(t,["inputTokenLimit"]);l!=null&&x(e,["inputTokenLimit"],l);const u=v(t,["outputTokenLimit"]);u!=null&&x(e,["outputTokenLimit"],u);const d=v(t,["supportedGenerationMethods"]);d!=null&&x(e,["supportedActions"],d);const p=v(t,["temperature"]);p!=null&&x(e,["temperature"],p);const g=v(t,["maxTemperature"]);g!=null&&x(e,["maxTemperature"],g);const m=v(t,["topP"]);m!=null&&x(e,["topP"],m);const b=v(t,["topK"]);b!=null&&x(e,["topK"],b);const E=v(t,["thinking"]);return E!=null&&x(e,["thinking"],E),e}function eA(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);i!=null&&x(e,["description"],i);const o=v(t,["versionId"]);o!=null&&x(e,["version"],o);const a=v(t,["deployedModels"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(m=>q5e(m))),x(e,["endpoints"],g)}const l=v(t,["labels"]);l!=null&&x(e,["labels"],l);const u=v(t,["_self"]);u!=null&&x(e,["tunedModelInfo"],Wze(u));const d=v(t,["defaultCheckpointId"]);d!=null&&x(e,["defaultCheckpointId"],d);const p=v(t,["checkpoints"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>m)),x(e,["checkpoints"],g)}return e}function Pze(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&x(e,["fileData"],H5e(o));const a=v(t,["functionCall"]);a!=null&&x(e,["functionCall"],G5e(a));const l=v(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&x(e,["inlineData"],y5e(u));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const p=v(t,["thought"]);p!=null&&x(e,["thought"],p);const g=v(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const m=v(t,["videoMetadata"]);return m!=null&&x(e,["videoMetadata"],m),e}function Oze(t){const e={},n=v(t,["productImage"]);return n!=null&&x(e,["image"],ha(n)),e}function Dze(t,e){const n={},r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=v(t,["baseSteps"]);e!==void 0&&i!=null&&x(e,["parameters","baseSteps"],i);const o=v(t,["outputGcsUri"]);e!==void 0&&o!=null&&x(e,["parameters","storageUri"],o);const a=v(t,["seed"]);e!==void 0&&a!=null&&x(e,["parameters","seed"],a);const l=v(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&x(e,["parameters","safetySetting"],l);const u=v(t,["personGeneration"]);e!==void 0&&u!=null&&x(e,["parameters","personGeneration"],u);const d=v(t,["addWatermark"]);e!==void 0&&d!=null&&x(e,["parameters","addWatermark"],d);const p=v(t,["outputMimeType"]);e!==void 0&&p!=null&&x(e,["parameters","outputOptions","mimeType"],p);const g=v(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&x(e,["parameters","outputOptions","compressionQuality"],g);const m=v(t,["enhancePrompt"]);e!==void 0&&m!=null&&x(e,["parameters","enhancePrompt"],m);const b=v(t,["labels"]);return e!==void 0&&b!=null&&x(e,["labels"],b),n}function Mze(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["source"]);i!=null&&jze(i,n);const o=v(e,["config"]);return o!=null&&Dze(o,n),n}function zze(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_w(i))),x(e,["generatedImages"],r)}return e}function jze(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["personImage"]);e!==void 0&&i!=null&&x(e,["instances[0]","personImage","image"],ha(i));const o=v(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>Oze(l))),x(e,["instances[0]","productImages"],a)}return n}function Lze(t){const e={},n=v(t,["referenceImage"]);n!=null&&x(e,["referenceImage"],ha(n));const r=v(t,["referenceId"]);r!=null&&x(e,["referenceId"],r);const i=v(t,["referenceType"]);i!=null&&x(e,["referenceType"],i);const o=v(t,["maskImageConfig"]);o!=null&&x(e,["maskImageConfig"],Rze(o));const a=v(t,["controlImageConfig"]);a!=null&&x(e,["controlImageConfig"],_5e(a));const l=v(t,["styleImageConfig"]);l!=null&&x(e,["styleImageConfig"],l);const u=v(t,["subjectImageConfig"]);return u!=null&&x(e,["subjectImageConfig"],u),e}function dG(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function pG(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function Uze(t){const e={},n=v(t,["category"]);if(n!=null&&x(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function Vze(t){const e={},n=v(t,["image"]);return n!=null&&x(e,["image"],ha(n)),e}function Fze(t,e){const n={},r=v(t,["mode"]);e!==void 0&&r!=null&&x(e,["parameters","mode"],r);const i=v(t,["maxPredictions"]);e!==void 0&&i!=null&&x(e,["parameters","maxPredictions"],i);const o=v(t,["confidenceThreshold"]);e!==void 0&&o!=null&&x(e,["parameters","confidenceThreshold"],o);const a=v(t,["maskDilation"]);e!==void 0&&a!=null&&x(e,["parameters","maskDilation"],a);const l=v(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&x(e,["parameters","binaryColorThreshold"],l);const u=v(t,["labels"]);return e!==void 0&&u!=null&&x(e,["labels"],u),n}function Bze(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["source"]);i!=null&&qze(i,n);const o=v(e,["config"]);return o!=null&&Fze(o,n),n}function $ze(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>hze(i))),x(e,["generatedMasks"],r)}return e}function qze(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],ha(i));const o=v(t,["scribbleImage"]);return e!==void 0&&o!=null&&x(e,["instances[0]","scribble"],Vze(o)),n}function fG(t){const e={},n=v(t,["languageCode"]);n!=null&&x(e,["languageCode"],n);const r=v(t,["voiceConfig"]);if(r!=null&&x(e,["voiceConfig"],r),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Hze(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],K5e(n));const r=v(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function Gze(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),x(e,["functionDeclarations"],p)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const o=v(t,["fileSearch"]);o!=null&&x(e,["fileSearch"],o);const a=v(t,["codeExecution"]);if(a!=null&&x(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],xze(l));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],wze(u));const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function hG(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(m=>W5e(m))),x(e,["functionDeclarations"],g)}const r=v(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const o=v(t,["computerUse"]);if(o!=null&&x(e,["computerUse"],o),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(t,["codeExecution"]);a!=null&&x(e,["codeExecution"],a);const l=v(t,["enterpriseWebSearch"]);l!=null&&x(e,["enterpriseWebSearch"],l);const u=v(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const d=v(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],d);const p=v(t,["urlContext"]);return p!=null&&x(e,["urlContext"],p),e}function Kze(t){const e={},n=v(t,["baseModel"]);n!=null&&x(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function Wze(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&x(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function Yze(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const o=v(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&x(e,["defaultCheckpointId"],o),n}function Jze(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const o=v(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&x(e,["defaultCheckpointId"],o),n}function Xze(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","name"],Nt(t,r));const i=v(e,["config"]);return i!=null&&Yze(i,n),n}function Qze(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["config"]);return i!=null&&Jze(i,n),n}function Zze(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=v(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&x(e,["parameters","safetySetting"],i);const o=v(t,["personGeneration"]);e!==void 0&&o!=null&&x(e,["parameters","personGeneration"],o);const a=v(t,["includeRaiReason"]);e!==void 0&&a!=null&&x(e,["parameters","includeRaiReason"],a);const l=v(t,["outputMimeType"]);e!==void 0&&l!=null&&x(e,["parameters","outputOptions","mimeType"],l);const u=v(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&x(e,["parameters","outputOptions","compressionQuality"],u);const d=v(t,["enhanceInputImage"]);e!==void 0&&d!=null&&x(e,["parameters","upscaleConfig","enhanceInputImage"],d);const p=v(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&x(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const g=v(t,["labels"]);e!==void 0&&g!=null&&x(e,["labels"],g);const m=v(t,["numberOfImages"]);e!==void 0&&m!=null&&x(e,["parameters","sampleCount"],m);const b=v(t,["mode"]);return e!==void 0&&b!=null&&x(e,["parameters","mode"],b),n}function eje(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["_url","model"],Nt(t,r));const i=v(e,["image"]);i!=null&&x(n,["instances[0]","image"],ha(i));const o=v(e,["upscaleFactor"]);o!=null&&x(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=v(e,["config"]);return a!=null&&Zze(a,n),n}function tje(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>_w(o))),x(e,["generatedImages"],i)}return e}function nje(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],Ic(r));const i=v(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function rje(t){const e={},n=v(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],Ic(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function ije(t){const e={},n=v(t,["image"]);n!=null&&x(e,["_self"],ha(n));const r=v(t,["maskMode"]);return r!=null&&x(e,["maskMode"],r),e}function oje(t){const e={},n=v(t,["image"]);n!=null&&x(e,["image"],Tw(n));const r=v(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function aje(t){const e={},n=v(t,["image"]);n!=null&&x(e,["image"],ha(n));const r=v(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function gG(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["uri"],n);const r=v(t,["videoBytes"]);r!=null&&x(e,["encodedVideo"],Ic(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["encoding"],i),e}function mG(t){const e={},n=v(t,["uri"]);n!=null&&x(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&x(e,["bytesBase64Encoded"],Ic(r));const i=v(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sje(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["displayName"],r),n}function lje(t){const e={},n=v(t,["config"]);return n!=null&&sje(n,e),e}function cje(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function uje(t){const e={},n=v(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&cje(r,e),e}function dje(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function pje(t,e){const n={},r=v(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),x(e,["customMetadata"],o)}const i=v(t,["chunkingConfig"]);return e!==void 0&&i!=null&&x(e,["chunkingConfig"],i),n}function fje(t){const e={},n=v(t,["name"]);n!=null&&x(e,["name"],n);const r=v(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=v(t,["done"]);i!=null&&x(e,["done"],i);const o=v(t,["error"]);o!=null&&x(e,["error"],o);const a=v(t,["response"]);return a!=null&&x(e,["response"],gje(a)),e}function hje(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=v(t,["fileName"]);r!=null&&x(e,["fileName"],r);const i=v(t,["config"]);return i!=null&&pje(i,e),e}function gje(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&x(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function mje(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function yje(t){const e={},n=v(t,["config"]);return n!=null&&mje(n,e),e}function bje(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),x(e,["fileSearchStores"],o)}return e}function yG(t,e){const n={},r=v(t,["mimeType"]);e!==void 0&&r!=null&&x(e,["mimeType"],r);const i=v(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const o=v(t,["customMetadata"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),x(e,["customMetadata"],l)}const a=v(t,["chunkingConfig"]);return e!==void 0&&a!=null&&x(e,["chunkingConfig"],a),n}function vje(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=v(t,["config"]);return r!=null&&yG(r,e),e}function xje(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wje="Content-Type",kje="X-Server-Timeout",Eje="User-Agent",tA="x-goog-api-client",_je="1.31.0",Tje=`google-genai-sdk/${_je}`,Sje="v1beta1",Aje="v1beta",h3=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Cje{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Sje,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Aje,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,l]of Object.entries(e.queryParams))i.searchParams.append(a,String(l));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>o.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&Ije(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await g3(i),new JS(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await g3(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return op(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:l,value:u}=yield cn(i.read());if(l){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(u,{stream:!0});try{const g=JSON.parse(d);if("error"in g){const m=JSON.parse(JSON.stringify(g.error)),b=m.status,E=m.code,A=`got status: ${b}. ${JSON.stringify(g)}`;if(E>=400&&E<600)throw new kw({message:A,status:E})}}catch(g){if(g.name==="ApiError")throw g}a+=d;let p=a.match(h3);for(;p;){const g=p[1];try{const m=new Response(g,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield cn(new JS(m)),a=a.slice(p[0].length),p=a.match(h3)}catch(m){throw new Error(`exception parsing stream chunk ${g}. ${m}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Tje+" "+this.clientOptions.userAgentExtra;return e[Eje]=n,e[tA]=n,e[wje]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(kje,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const u={file:i},d=this.getFileName(e),p=Me("upload/v1beta/files",u._url),g=await this.fetchUploadUrl(p,i.sizeBytes,i.mimeType,d,u,n==null?void 0:n.httpOptions);return o.upload(e,g,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),l=String(a.size),u=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,p=this.getFileName(n),g={};r!=null&&yG(r,g);const m=await this.fetchUploadUrl(d,l,u,p,g,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var l;let u={};a?u=a:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:u});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(l=d==null?void 0:d.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function g3(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new kw({message:i,status:n}):new Error(i)}}function Ije(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const l=Object.assign({},o);for(const u in a)if(Object.prototype.hasOwnProperty.call(a,u)){const d=a[u],p=l[u];d&&typeof d=="object"&&!Array.isArray(d)&&p&&typeof p=="object"&&!Array.isArray(p)?l[u]=r(p,d):(p&&d&&typeof p!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof p}, New type: ${typeof d}. Overwriting.`),l[u]=d)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nje="mcp_used/unknown";let Rje=!1;function bG(t){for(const e of t)if(Pje(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Rje}function vG(t){var e;const n=(e=t[tA])!==null&&e!==void 0?e:"";t[tA]=(n+` ${Nje}`).trimStart()}function Pje(t){return t!==null&&typeof t=="object"&&t instanceof zN}function Oje(t,e=100){return op(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield cn(t.listTools({cursor:r}));for(const a of o.tools)yield yield cn(a),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class zN{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new zN(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const p of this.mcpClients)try{for(var l=!0,u=(n=void 0,Wh(Oje(p))),d;d=await u.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const g=i;a.push(g);const m=g.name;if(o[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);o[m]=p}}catch(g){n={error:g}}finally{try{!l&&!e&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),dDe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Dje(t,e,n){const r=new rDe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Mje{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=Lje(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const p=new Promise(I=>{d=I}),g=e.callbacks,m=function(){d({})},b=this.apiClient,E={onopen:m,onmessage:I=>{Dje(b,g.onmessage,I)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(I){}},A=this.webSocketFactory.create(u,jje(a),E);A.connect(),await p;const N={setup:{model:Nt(this.apiClient,e.model)}};return A.send(JSON.stringify(N)),new zje(A,this.apiClient)}}class zje{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=l5e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=s5e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Gd.PLAY)}pause(){this.sendPlaybackControl(Gd.PAUSE)}stop(){this.sendPlaybackControl(Gd.STOP)}resetContext(){this.sendPlaybackControl(Gd.RESET_CONTEXT)}close(){this.conn.close()}}function jje(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Lje(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uje="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Vje(t,e,n){const r=new nDe;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=d5e(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class Fje{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Mje(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let p;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&bG(e.config.tools)&&vG(g);const m=Hje(g);if(this.apiClient.isVertexAI())p=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,p);else{const U=this.apiClient.getApiKey();let q="BidiGenerateContent",V="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",V="access_token"),p=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${q}?${V}=${U}`}let b=()=>{};const E=new Promise(U=>{b=U}),A=e.callbacks,_=function(){var U;(U=A==null?void 0:A.onopen)===null||U===void 0||U.call(A),b({})},C=this.apiClient,N={onopen:_,onmessage:U=>{Vje(C,A.onmessage,U)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(U){}},I=this.webSocketFactory.create(p,qje(m),N);I.connect(),await E;let D=Nt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const U=this.apiClient.getProject(),q=this.apiClient.getLocation();D=`projects/${U}/locations/${q}/`+D}let L={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Sg.AUDIO]}:e.config.responseModalities=[Sg.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(l=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[],P=[];for(const U of M)if(this.isCallableTool(U)){const q=U;P.push(await q.tool())}else P.push(U);P.length>0&&(e.config.tools=P);const z={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=a5e(this.apiClient,z):L=o5e(this.apiClient,z),delete L.config,I.send(JSON.stringify(L)),new $je(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Bje={turnComplete:!0};class $je{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Oo(n.turns),e.isVertexAI()||(r=r.map(i=>Ew(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Uje)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Bje),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:u5e(e)}:n={realtimeInput:c5e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function qje(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Hje(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m3=10;function y3(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ap(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ap(t){return"callTool"in t&&typeof t.callTool=="function"}function Gje(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>ap(i)))!==null&&r!==void 0?r:!1}function b3(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(ap(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function v3(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kje extends sl{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,l;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Gje(n)||y3(n.config))return await this.generateContentInternal(u);const d=b3(n);if(d.length>0){const A=d.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let p,g;const m=Oo(u.contents),b=(o=(i=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:m3;let E=0;for(;E<b&&(p=await this.generateContentInternal(u),!(!p.functionCalls||p.functionCalls.length===0));){const A=p.candidates[0].content,_=[];for(const C of(l=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[])if(ap(C)){const I=await C.callTool(p.functionCalls);_.push(...I)}E++,g={role:"user",parts:_},u.contents=Oo(u.contents),u.contents.push(A),u.contents.push(g),v3(u.config)&&(m.push(A),m.push(g))}return v3(u.config)&&(p.automaticFunctionCallingHistory=m),p},this.generateContentStream=async n=>{var r,i,o,a,l;if(this.maybeMoveToResponseJsonSchem(n),y3(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const u=b3(n);if(u.length>0){const g=u.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,p=(l=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(d&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=u==null?void 0:u.safetyAttributes:a.push(u);let l;return o?l={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new $u(Ys.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,l,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async u=>ap(u)?await u.tool():u)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(l.config.tools=a,e.config&&e.config.tools&&bG(e.config.tools)){const u=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),vG(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ap(a)){const l=a,u=await l.tool();for(const d of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,l)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:m3;let a=!1,l=0;const u=await this.initAfcToolsMap(e);return(function(d,p,g){var m,b;return op(this,arguments,function*(){for(var E,A,_,C;l<o;){a&&(l++,a=!1);const L=yield cn(d.processParamsMaybeAddMcpUsage(g)),M=yield cn(d.generateContentStreamInternal(L)),P=[],z=[];try{for(var N=!0,I=(A=void 0,Wh(M)),D;D=yield cn(I.next()),E=D.done,!E;N=!0){C=D.value,N=!1;const U=C;if(yield yield cn(U),U.candidates&&(!((m=U.candidates[0])===null||m===void 0)&&m.content)){z.push(U.candidates[0].content);for(const q of(b=U.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(l<o&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(q.functionCall.name)){const V=yield cn(p.get(q.functionCall.name).callTool([q.functionCall]));P.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(U){A={error:U}}finally{try{!N&&!E&&(_=I.return)&&(yield cn(_.call(I)))}finally{if(A)throw A.error}}if(P.length>0){a=!0;const U=new Eh;U.candidates=[{content:{role:"user",parts:P}}],yield yield cn(U);const q=[];q.push(...z),q.push({role:"user",parts:P});const V=Oo(g.contents).concat(q);g.contents=V}else break}})})(this,u,e)}async generateContentInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=d3(this.apiClient,e);return l=Me("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=f3(p),m=new Eh;return Object.assign(m,g),m})}else{const d=u3(this.apiClient,e);return l=Me("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=p3(p),m=new Eh;return Object.assign(m,g),m})}}async generateContentStreamInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=d3(this.apiClient,e);return l=Me("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(g){return op(this,arguments,function*(){var m,b,E,A;try{for(var _=!0,C=Wh(g),N;N=yield cn(C.next()),m=N.done,!m;_=!0){A=N.value,_=!1;const I=A,D=f3(yield cn(I.json()));D.sdkHttpResponse={headers:I.headers};const L=new Eh;Object.assign(L,D),yield yield cn(L)}}catch(I){b={error:I}}finally{try{!_&&!m&&(E=C.return)&&(yield cn(E.call(C)))}finally{if(b)throw b.error}}})})}else{const d=u3(this.apiClient,e);return l=Me("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(g){return op(this,arguments,function*(){var m,b,E,A;try{for(var _=!0,C=Wh(g),N;N=yield cn(C.next()),m=N.done,!m;_=!0){A=N.value,_=!1;const I=A,D=p3(yield cn(I.json()));D.sdkHttpResponse={headers:I.headers};const L=new Eh;Object.assign(L,D),yield yield cn(L)}}catch(I){b={error:I}}finally{try{!_&&!m&&(E=C.return)&&(yield cn(E.call(C)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=F5e(this.apiClient,e);return l=Me("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=$5e(p),m=new K9;return Object.assign(m,g),m})}else{const d=V5e(this.apiClient,e);return l=Me("{model}:batchEmbedContents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=B5e(p),m=new K9;return Object.assign(m,g),m})}}async generateImagesInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=eze(this.apiClient,e);return l=Me("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=nze(p),m=new W9;return Object.assign(m,g),m})}else{const d=Z5e(this.apiClient,e);return l=Me("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=tze(p),m=new W9;return Object.assign(m,g),m})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=z5e(this.apiClient,e);return o=Me("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const d=j5e(u),p=new HOe;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=eje(this.apiClient,e);return o=Me("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const d=tje(u),p=new GOe;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=Mze(this.apiClient,e);return o=Me("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=zze(u),p=new KOe;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=Bze(this.apiClient,e);return o=Me("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=$ze(u),p=new WOe;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=vze(this.apiClient,e);return l=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>eA(p))}else{const d=bze(this.apiClient,e);return l=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>ZS(p))}}async listInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Cze(this.apiClient,e);return l=Me("{models_url}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=Nze(p),m=new Y9;return Object.assign(m,g),m})}else{const d=Aze(this.apiClient,e);return l=Me("{models_url}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=Ize(p),m=new Y9;return Object.assign(m,g),m})}}async update(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Qze(this.apiClient,e);return l=Me("{model}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>eA(p))}else{const d=Xze(this.apiClient,e);return l=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>ZS(p))}}async delete(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=P5e(this.apiClient,e);return l=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=D5e(p),m=new J9;return Object.assign(m,g),m})}else{const d=R5e(this.apiClient,e);return l=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=O5e(p),m=new J9;return Object.assign(m,g),m})}}async countTokens(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=C5e(this.apiClient,e);return l=Me("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=N5e(p),m=new X9;return Object.assign(m,g),m})}else{const d=A5e(this.apiClient,e);return l=Me("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=I5e(p),m=new X9;return Object.assign(m,g),m})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=x5e(this.apiClient,e);return o=Me("{model}:computeTokens",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const d=w5e(u),p=new YOe;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=lze(this.apiClient,e);return l=Me("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>{const g=aze(p),m=new Lv;return Object.assign(m,g),m})}else{const d=sze(this.apiClient,e);return l=Me("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>{const g=oze(p),m=new Lv;return Object.assign(m,g),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wje extends sl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=UOe(e);return l=Me("{operationName}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a}else{const d=LOe(e);return l=Me("{operationName}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=ROe(e);return o=Me("{resourceName}:fetchPredictOperation",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yje(t){const e={},n=v(t,["data"]);if(n!=null&&x(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Jje(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>oLe(o))),x(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&x(e,["role"],r),e}function Xje(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const o=v(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&x(n,["newSessionExpireTime"],o);const a=v(e,["uses"]);n!==void 0&&a!=null&&x(n,["uses"],a);const l=v(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&x(n,["bidiGenerateContentSetup"],iLe(t,l));const u=v(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&x(n,["fieldMask"],u),r}function Qje(t,e){const n={},r=v(e,["config"]);return r!=null&&x(n,["config"],Xje(t,r,n)),n}function Zje(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function eLe(t){const e={},n=v(t,["id"]);n!=null&&x(e,["id"],n);const r=v(t,["args"]);r!=null&&x(e,["args"],r);const i=v(t,["name"]);if(i!=null&&x(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tLe(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function nLe(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function rLe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","temperature"],o);const a=v(t,["topP"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","topP"],a);const l=v(t,["topK"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topK"],l);const u=v(t,["maxOutputTokens"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","maxOutputTokens"],u);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","seed"],p);const g=v(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],MN(g));const m=v(t,["thinkingConfig"]);e!==void 0&&m!=null&&x(e,["setup","generationConfig","thinkingConfig"],m);const b=v(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],b);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&x(e,["setup","systemInstruction"],Jje(Kr(E)));const A=v(t,["tools"]);if(e!==void 0&&A!=null){let M=of(A);Array.isArray(M)&&(M=M.map(P=>sLe(rf(P)))),x(e,["setup","tools"],M)}const _=v(t,["sessionResumption"]);e!==void 0&&_!=null&&x(e,["setup","sessionResumption"],aLe(_));const C=v(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&x(e,["setup","inputAudioTranscription"],C);const N=v(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&x(e,["setup","outputAudioTranscription"],N);const I=v(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&x(e,["setup","realtimeInputConfig"],I);const D=v(t,["contextWindowCompression"]);e!==void 0&&D!=null&&x(e,["setup","contextWindowCompression"],D);const L=v(t,["proactivity"]);return e!==void 0&&L!=null&&x(e,["setup","proactivity"],L),n}function iLe(t,e){const n={},r=v(e,["model"]);r!=null&&x(n,["setup","model"],Nt(t,r));const i=v(e,["config"]);return i!=null&&x(n,["config"],rLe(i,n)),n}function oLe(t){const e={},n=v(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const o=v(t,["fileData"]);o!=null&&x(e,["fileData"],Zje(o));const a=v(t,["functionCall"]);a!=null&&x(e,["functionCall"],eLe(a));const l=v(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=v(t,["inlineData"]);u!=null&&x(e,["inlineData"],Yje(u));const d=v(t,["text"]);d!=null&&x(e,["text"],d);const p=v(t,["thought"]);p!=null&&x(e,["thought"],p);const g=v(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const m=v(t,["videoMetadata"]);return m!=null&&x(e,["videoMetadata"],m),e}function aLe(t){const e={},n=v(t,["handle"]);if(n!=null&&x(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sLe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),x(e,["functionDeclarations"],p)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const o=v(t,["fileSearch"]);o!=null&&x(e,["fileSearch"],o);const a=v(t,["codeExecution"]);if(a!=null&&x(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],tLe(l));const u=v(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],nLe(u));const d=v(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lLe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function cLe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=lLe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(d=>a.includes(d)?`generationConfig.${d}`:d));const u=[];o&&u.push(o),l.length>0&&u.push(...l),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class uLe extends sl{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=Qje(this.apiClient,e);o=Me("auth_tokens",l._url),a=l._query,delete l.config,delete l._url,delete l._query;const u=cLe(l,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dLe(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function pLe(t){const e={},n=v(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&dLe(r,e),e}function fLe(t){const e={},n=v(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function hLe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function gLe(t){const e={},n=v(t,["parent"]);n!=null&&x(e,["_url","parent"],n);const r=v(t,["config"]);return r!=null&&hLe(r,e),e}function mLe(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=v(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),x(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yLe extends sl{constructor(e){super(),this.apiClient=e,this.list=async n=>new $u(Ys.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=fLe(e);return o=Me("{name}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pLe(e);i=Me("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=gLe(e);return o=Me("{parent}/documents",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=mLe(u),p=new JOe;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bLe extends sl{constructor(e,n=new yLe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new $u(Ys.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=lje(e);return o=Me("fileSearchStores",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=dje(e);return o=Me("{name}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=uje(e);i=Me("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=yje(e);return o=Me("fileSearchStores",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=bje(u),p=new XOe;return Object.assign(p,d),p})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=vje(e);return o=Me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=xje(u),p=new QOe;return Object.assign(p,d),p})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=hje(e);return o=Me("{file_search_store_name}:importFile",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=fje(u),p=new NN;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vLe(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function xLe(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function wLe(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function kLe(t,e){const n={},r=v(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function ELe(t,e,n){const r={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&x(e,["displayName"],i),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=v(t,["epochCount"]);e!==void 0&&o!=null&&x(e,["tuningTask","hyperparameters","epochCount"],o);const a=v(t,["learningRateMultiplier"]);if(a!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=v(t,["batchSize"]);e!==void 0&&l!=null&&x(e,["tuningTask","hyperparameters","batchSize"],l);const u=v(t,["learningRate"]);if(e!==void 0&&u!=null&&x(e,["tuningTask","hyperparameters","learningRate"],u),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function _Le(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const b=v(t,["validationDataset"]);e!==void 0&&b!=null&&x(e,["supervisedTuningSpec"],x3(b))}else if(i==="PREFERENCE_TUNING"){const b=v(t,["validationDataset"]);e!==void 0&&b!=null&&x(e,["preferenceOptimizationSpec"],x3(b))}const o=v(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&x(e,["tunedModelDisplayName"],o);const a=v(t,["description"]);e!==void 0&&a!=null&&x(e,["description"],a);let l=v(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const b=v(t,["epochCount"]);e!==void 0&&b!=null&&x(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(l==="PREFERENCE_TUNING"){const b=v(t,["epochCount"]);e!==void 0&&b!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const b=v(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(u==="PREFERENCE_TUNING"){const b=v(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let d=v(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const b=v(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&x(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(d==="PREFERENCE_TUNING"){const b=v(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&x(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let p=v(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const b=v(t,["adapterSize"]);e!==void 0&&b!=null&&x(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(p==="PREFERENCE_TUNING"){const b=v(t,["adapterSize"]);e!==void 0&&b!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=v(t,["labels"]);e!==void 0&&g!=null&&x(e,["labels"],g);const m=v(t,["beta"]);return e!==void 0&&m!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","beta"],m),r}function TLe(t,e){const n={},r=v(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const o=v(t,["trainingDataset"]);o!=null&&zLe(o);const a=v(t,["config"]);return a!=null&&ELe(a,n),n}function SLe(t,e){const n={},r=v(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const o=v(t,["trainingDataset"]);o!=null&&jLe(o,n,e);const a=v(t,["config"]);return a!=null&&_Le(a,n,e),n}function ALe(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function CLe(t,e){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function ILe(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const o=v(t,["pageToken"]);e!==void 0&&o!=null&&x(e,["_query","pageToken"],o);const a=v(t,["filter"]);return e!==void 0&&a!=null&&x(e,["_query","filter"],a),r}function NLe(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const o=v(t,["pageToken"]);e!==void 0&&o!=null&&x(e,["_query","pageToken"],o);const a=v(t,["filter"]);return e!==void 0&&a!=null&&x(e,["_query","filter"],a),r}function RLe(t,e){const n={},r=v(t,["config"]);return r!=null&&ILe(r,n),n}function PLe(t,e){const n={},r=v(t,["config"]);return r!=null&&NLe(r,n),n}function OLe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=v(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>xG(l))),x(n,["tuningJobs"],a)}return n}function DLe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=v(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>nA(l))),x(n,["tuningJobs"],a)}return n}function MLe(t,e){const n={},r=v(t,["name"]);r!=null&&x(n,["model"],r);const i=v(t,["name"]);return i!=null&&x(n,["endpoint"],i),n}function zLe(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(n,["examples","examples"],i)}return n}function jLe(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=v(t,["gcsUri"]);e!==void 0&&a!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=v(t,["gcsUri"]);e!==void 0&&a!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=v(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=v(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=v(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function xG(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const o=v(t,["state"]);o!=null&&x(n,["state"],eG(o));const a=v(t,["createTime"]);a!=null&&x(n,["createTime"],a);const l=v(t,["tuningTask","startTime"]);l!=null&&x(n,["startTime"],l);const u=v(t,["tuningTask","completeTime"]);u!=null&&x(n,["endTime"],u);const d=v(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const p=v(t,["description"]);p!=null&&x(n,["description"],p);const g=v(t,["baseModel"]);g!=null&&x(n,["baseModel"],g);const m=v(t,["_self"]);return m!=null&&x(n,["tunedModel"],MLe(m)),n}function nA(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const o=v(t,["state"]);o!=null&&x(n,["state"],eG(o));const a=v(t,["createTime"]);a!=null&&x(n,["createTime"],a);const l=v(t,["startTime"]);l!=null&&x(n,["startTime"],l);const u=v(t,["endTime"]);u!=null&&x(n,["endTime"],u);const d=v(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const p=v(t,["error"]);p!=null&&x(n,["error"],p);const g=v(t,["description"]);g!=null&&x(n,["description"],g);const m=v(t,["baseModel"]);m!=null&&x(n,["baseModel"],m);const b=v(t,["tunedModel"]);b!=null&&x(n,["tunedModel"],b);const E=v(t,["preTunedModel"]);E!=null&&x(n,["preTunedModel"],E);const A=v(t,["supervisedTuningSpec"]);A!=null&&x(n,["supervisedTuningSpec"],A);const _=v(t,["preferenceOptimizationSpec"]);_!=null&&x(n,["preferenceOptimizationSpec"],_);const C=v(t,["tuningDataStats"]);C!=null&&x(n,["tuningDataStats"],C);const N=v(t,["encryptionSpec"]);N!=null&&x(n,["encryptionSpec"],N);const I=v(t,["partnerModelTuningSpec"]);I!=null&&x(n,["partnerModelTuningSpec"],I);const D=v(t,["customBaseModel"]);D!=null&&x(n,["customBaseModel"],D);const L=v(t,["experiment"]);L!=null&&x(n,["experiment"],L);const M=v(t,["labels"]);M!=null&&x(n,["labels"],M);const P=v(t,["outputUri"]);P!=null&&x(n,["outputUri"],P);const z=v(t,["pipelineJob"]);z!=null&&x(n,["pipelineJob"],z);const U=v(t,["serviceAccount"]);U!=null&&x(n,["serviceAccount"],U);const q=v(t,["tunedModelDisplayName"]);q!=null&&x(n,["tunedModelDisplayName"],q);const V=v(t,["veoTuningSpec"]);return V!=null&&x(n,["veoTuningSpec"],V),n}function LLe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&x(n,["name"],i);const o=v(t,["metadata"]);o!=null&&x(n,["metadata"],o);const a=v(t,["done"]);a!=null&&x(n,["done"],a);const l=v(t,["error"]);return l!=null&&x(n,["error"],l),n}function x3(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=v(t,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ULe extends sl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $u(Ys.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:YS.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=CLe(e);return l=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>nA(p))}else{const d=ALe(e);return l=Me("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>xG(p))}}async listInternal(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=PLe(e);return l=Me("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=DLe(p),m=new Q9;return Object.assign(m,g),m})}else{const d=RLe(e);return l=Me("tunedModels",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=OLe(p),m=new Q9;return Object.assign(m,g),m})}}async cancel(e){var n,r,i,o;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=xLe(e);return l=Me("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=kLe(p),m=new Z9;return Object.assign(m,g),m})}else{const d=vLe(e);return l=Me("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:p.headers},m})),a.then(p=>{const g=wLe(p),m=new Z9;return Object.assign(m,g),m})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const l=SLe(e,e);return o=Me("tuningJobs",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>nA(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=TLe(e);return o=Me("tunedModels",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>LLe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VLe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const FLe=1024*1024*8,BLe=3,$Le=1e3,qLe=2,Vv="x-goog-upload-status";async function HLe(t,e,n){var r;const i=await wG(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Vv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function GLe(t,e,n){var r;const i=await wG(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Vv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=WH(o),l=new RN;return Object.assign(l,a),l}async function wG(t,e,n){var r,i;let o=0,a=0,l=new JS(new Response),u="upload";for(o=t.size;a<o;){const d=Math.min(FLe,o-a),p=t.slice(a,a+d);a+d>=o&&(u+=", finalize");let g=0,m=$Le;for(;g<BLe&&(l=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(a),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[Vv]));)g++,await WLe(m),m=m*qLe;if(a+=d,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[Vv])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function KLe(t){return{size:t.size,type:t.type}}function WLe(t){return new Promise(e=>setTimeout(e,t))}class YLe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await HLe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GLe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KLe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JLe{create(e,n,r){return new XLe(e,n,r)}}class XLe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w3="x-goog-api-key";class QLe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(w3)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(w3,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZLe="gl-node/";class e4e{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=IOe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new QLe(this.apiKey);this.apiClient=new Cje({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ZLe+"web",uploader:new YLe,downloader:new VLe}),this.models=new Kje(this.apiClient),this.live=new Fje(this.apiClient,i,new JLe),this.batches=new iMe(this.apiClient),this.chats=new UMe(this.models,this.apiClient),this.caches=new zMe(this.apiClient),this.files=new YMe(this.apiClient),this.operations=new Wje(this.apiClient),this.authTokens=new uLe(this.apiClient),this.tunings=new ULe(this.apiClient),this.fileSearchStores=new bLe(this.apiClient)}}const kG={standard:{id:"standard",label:"Standard",description:"Neutral svensk fordon-personlighet",voiceName:"Puck",examples:["Jag r din plitliga fljeslagare","Lt oss kolla p motorn"]},dalmal:{id:"dalmal",label:"Dala-Elton",description:"Trygg, gubbig & bred Dalml",voiceName:"Fenrir",examples:["Hrru du","D ordner s","Int ska du vl...","Kaffe?"]},gotlandska:{id:"gotlandska",label:"Gotlands-Elton",description:'Slpig, melodis & "Raukar-lugn"',voiceName:"Charon",examples:["Raukt!","But","Hll i hle","Lagom bra"]},rikssvenska:{id:"rikssvenska",label:"Riks-Elton",description:"Tydlig, modern & neutral",voiceName:"Kore",examples:["Vlkommen","Lt oss analysera situationen","Tack fr informationen"]}};function t4e(t){return kG[t||"standard"]}function n4e(){return Object.values(kG)}function r4e(t){const{vehicleData:e,projectName:n,dialectId:r="standard",diagnosticMode:i=!1}=t,o=T.useMemo(()=>t4e(r),[r]),a=T.useMemo(()=>(n==null?void 0:n.trim())||"AI Assistant",[n]);return{systemPrompt:T.useMemo(()=>i?Kse(e):Gse(e,r,a),[e,r,a,i]),aiName:a,dialectLabel:o.label,voiceName:o.voiceName}}function i4e(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r}function o4e(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return btoa(e)}const a4e=({project:t,onClose:e})=>{const[n,r]=T.useState(!1),[i,o]=T.useState(!0),[a,l]=T.useState(!1),[u,d]=T.useState(0),[p,g]=T.useState("Vrmer upp motorn..."),[m,b]=T.useState(!1),[E,A]=T.useState("dalmal"),[_,C]=T.useState(!1),N=n4e(),I=r4e({vehicleData:t.vehicleData,projectName:t.name,dialectId:E,diagnosticMode:_}),D=T.useRef(null),L=T.useRef(null),M=T.useRef(null),P=T.useRef(null),z=T.useRef(null),U=T.useRef(0),q=T.useRef(new Set),V=T.useRef(null),B=T.useRef(null),F=T.useRef(null);T.useEffect(()=>(W(),()=>oe()),[_,E]);const ne=fe=>{fe!==E&&(A(fe),b(!1))},W=async()=>{try{const fe="AIzaSyDUEqHs18LjLPCPngohVtkdPpD5M9eE1ko",Y=new e4e({apiKey:fe});M.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const G=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0});B.current=G,D.current&&(D.current.srcObject=G,D.current.play(),D.current.muted=!0);const J=`${I.systemPrompt}

=== LIVE MODE RULES ===
1. Svara kortfattat (max 2-3 meningar), det r ett samtal i realtid.
2. Du ser vad anvndaren ser om kameran r p - referera till det du ser.
3. Om ljudkvaliteten r dlig, be anvndaren komma nrmare mikrofonen.
${_?"4. LYSSNA NOGA p motorljudet och ge en sannolikhetsbedmning (0-100%) fr olika orsaker.":""}
      `,$=Y.live.connect({model:"gemini-2.0-flash-exp",config:{responseModalities:[Sg.AUDIO],systemInstruction:J,speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:I.voiceName}}},tools:wce},callbacks:{onopen:()=>{console.log("Connected to Live Mode:",I.aiName),r(!0);const be=_?"Lyssnar p motorn...":`Ansluten! ${I.dialectLabel}`;g(be),X(G,$)},onmessage:async be=>{Z(be)},onclose:()=>{console.log("Disconnected"),r(!1)},onerror:be=>{console.error("Live Error",be),g("Motorstopp (Fel i anslutningen)")}}});F.current=$}catch(fe){console.error("Failed to start session:",fe),g("Kunde inte starta. Kolla behrigheter.")}},X=(fe,Y)=>{if(!M.current)return;const G=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),J=G.createMediaStreamSource(fe),$=G.createScriptProcessor(4096,1,1);$.onaudioprocess=be=>{if(!i)return;const _e=be.inputBuffer.getChannelData(0);let Te=0;for(let ue=0;ue<_e.length;ue++)Te+=_e[ue]*_e[ue];d(Math.sqrt(Te/_e.length));const je=new Int16Array(_e.length);for(let ue=0;ue<_e.length;ue++){const Ae=Math.max(-1,Math.min(1,_e[ue]));je[ue]=Ae<0?Ae*32768:Ae*32767}const Ye=o4e(je.buffer);Y.then(ue=>{ue.sendRealtimeInput({media:{mimeType:"audio/pcm;rate=16000",data:Ye}})})},J.connect($),$.connect(G.destination),P.current=J,z.current=$},Z=async fe=>{var G,J,$,be,_e;const Y=(_e=(be=($=(J=(G=fe.serverContent)==null?void 0:G.modelTurn)==null?void 0:J.parts)==null?void 0:$[0])==null?void 0:be.inlineData)==null?void 0:_e.data;if(Y&&M.current){const Te=M.current,je=i4e(Y),Ye=new Float32Array(je.length/2),ue=new DataView(je.buffer);for(let Be=0;Be<Ye.length;Be++){const pt=ue.getInt16(Be*2,!0);Ye[Be]=pt/32768}const Ae=Te.createBuffer(1,Ye.length,24e3);Ae.getChannelData(0).set(Ye);const ae=Te.createBufferSource();ae.buffer=Ae,ae.connect(Te.destination);const le=Te.currentTime,qe=Math.max(le,U.current);ae.start(qe),U.current=qe+Ae.duration,q.current.add(ae),ae.onended=()=>q.current.delete(ae)}};T.useEffect(()=>(a&&n?V.current=window.setInterval(()=>{if(!L.current||!D.current)return;const fe=L.current.getContext("2d");if(fe&&D.current.videoWidth){L.current.width=D.current.videoWidth/4,L.current.height=D.current.videoHeight/4,fe.drawImage(D.current,0,0,L.current.width,L.current.height);const Y=L.current.toDataURL("image/jpeg",.5).split(",")[1];F.current&&F.current.then(G=>{G.sendRealtimeInput({media:{mimeType:"image/jpeg",data:Y}})})}},1e3):V.current&&clearInterval(V.current),()=>{V.current&&clearInterval(V.current)}),[a,n]);const oe=()=>{B.current&&B.current.getTracks().forEach(fe=>fe.stop()),z.current&&z.current.disconnect(),P.current&&P.current.disconnect(),M.current&&M.current.close(),r(!1)};return h.jsxs("div",{"data-testid":"live-elton-container",className:"fixed inset-0 z-50 bg-nordic-charcoal flex flex-col animate-fade-in font-sans",children:[h.jsx("canvas",{ref:L,className:"hidden"}),h.jsxs("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center",children:[a?h.jsx("video",{ref:D,className:"absolute inset-0 w-full h-full object-cover opacity-80",muted:!0,playsInline:!0}):h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-nordic-charcoal to-black flex items-center justify-center",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-40 h-40 bg-teal-600 rounded-full blur-[50px] transition-all duration-100 ease-out absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",style:{transform:`translate(-50%, -50%) scale(${1+u*3})`}}),h.jsx("div",{className:`w-32 h-32 bg-nordic-dark-surface rounded-full flex items-center justify-center relative z-10 border-4 ${_?"border-amber-500":"border-nordic-charcoal"} shadow-2xl`,children:_?h.jsx(_O,{size:48,className:"text-amber-500 animate-pulse"}):h.jsx(tJ,{size:48,className:`text-teal-500 ${n?"animate-pulse":""}`})})]})}),h.jsx("div",{className:"absolute top-10 left-0 right-0 flex justify-center z-10",children:h.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-4 py-2 rounded-full flex items-center gap-2 border border-white/10 shadow-lg",children:[n?h.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}):h.jsx(ia,{size:14,className:"text-amber-500 animate-spin"}),h.jsx("span",{"data-testid":"status-message",className:"text-white text-xs font-medium tracking-wide",children:p})]})}),m&&h.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-20 flex items-center justify-center p-6",children:h.jsxs("div",{className:"bg-nordic-dark-surface w-full max-w-sm rounded-3xl border border-nordic-charcoal p-6 shadow-2xl",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h3",{className:"text-white font-serif font-bold text-xl",children:"Vlj Dialekt"}),h.jsx("button",{onClick:()=>b(!1),className:"p-2 bg-nordic-charcoal rounded-full text-slate-400 hover:text-white",children:h.jsx(Mr,{size:20})})]}),h.jsx("div",{className:"space-y-3",children:N.map(fe=>h.jsxs("button",{onClick:()=>ne(fe.id),className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all ${E===fe.id?"bg-teal-600 border-teal-500 text-white":"bg-nordic-charcoal border-transparent text-slate-300 hover:bg-slate-800"}`,children:[h.jsxs("div",{className:"text-left",children:[h.jsx("span",{className:"block font-bold text-sm",children:fe.label}),h.jsx("span",{className:"block text-xs opacity-70",children:fe.description})]}),E===fe.id&&h.jsx(Op,{size:18})]},fe.id))})]})})]}),h.jsxs("div",{className:"bg-nordic-dark-surface p-8 pb-12 border-t border-nordic-charcoal relative z-10",children:[h.jsxs("div",{className:"flex items-center justify-center gap-6 max-w-md mx-auto",children:[h.jsx("button",{"data-testid":"diagnostic-toggle",onClick:()=>C(!_),className:`p-4 rounded-full transition-all ${_?"bg-amber-500 text-white shadow-lg shadow-amber-500/20":"bg-nordic-charcoal text-slate-400 hover:bg-slate-700"}`,title:"Ljud-Doktorn (Motor-diagnostik)",children:h.jsx(_O,{size:24})}),h.jsx("button",{"data-testid":"video-toggle",onClick:()=>l(!a),className:`p-4 rounded-full transition-all ${a?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-white hover:bg-slate-700"}`,children:a?h.jsx(Q3,{size:24}):h.jsx(_Q,{size:24})}),h.jsx("button",{"data-testid":"hang-up-button",onClick:e,className:"p-6 bg-rose-500 rounded-full text-white hover:bg-rose-600 hover:scale-105 transition-all shadow-lg shadow-rose-500/30",children:h.jsx(GX,{size:32})}),h.jsx("button",{"data-testid":"mic-toggle",onClick:()=>o(!i),className:`p-4 rounded-full transition-all ${i?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-rose-500 hover:bg-slate-700"}`,children:i?h.jsx(K3,{size:24}):h.jsx(DX,{size:24})})]}),h.jsx("button",{"data-testid":"settings-button",onClick:()=>b(!0),className:"absolute right-8 top-1/2 -translate-y-1/2 p-3 text-slate-500 hover:text-white transition-colors",children:h.jsx(Y3,{size:20})}),h.jsxs("p",{className:"text-center text-slate-500 text-xs mt-6",children:[I.aiName,' "ser" via din kamera om du slr p den.']})]})]})},s4e={"Fas 1: Vr":["vr","spring","januari","january","nu","fas 1"],"Fas 2: Vr/Sommar":["sommar","summer","vr/sommar","fas 2"],"Fas 3: Hst/Vinter":["hst","vinter","fall","winter","gotland","garage","fas 3"],Backlog:["backlog","senare","framtid","future"]};function l4e(t){if(!t)return"Backlog";const e=t.toLowerCase().trim();for(const[n,r]of Object.entries(s4e))if(r.some(i=>e.includes(i)))return n;return console.warn(` Unknown phase "${t}" normalized to Backlog`),"Backlog"}function c4e(t,e){const n=t.length,r=e.length,i=Array(n+1).fill(null).map(()=>Array(r+1).fill(0));for(let l=0;l<=n;l++)i[l][0]=l;for(let l=0;l<=r;l++)i[0][l]=l;for(let l=1;l<=n;l++)for(let u=1;u<=r;u++){const d=t[l-1]===e[u-1]?0:1;i[l][u]=Math.min(i[l-1][u]+1,i[l][u-1]+1,i[l-1][u-1]+d)}const o=i[n][r],a=Math.max(n,r);return a===0?1:1-o/a}const u4e=({project:t,contacts:e=[],userSkillLevel:n,onAddTask:r,onUpdateTask:i,onDeleteTask:o,onAddShoppingItem:a,onUpdateShoppingItem:l,onDeleteShoppingItem:u,onUpdateVehicleData:d,onAddKnowledgeArticle:p,onAddServiceLog:g,onAddHistoryEvent:m,onUpdateProjectMetadata:b,onClose:E})=>{const[A,_]=T.useState([]),[C,N]=T.useState(""),[I,D]=T.useState(!1),[L,M]=T.useState(!1),[P,z]=T.useState(null),[U,q]=T.useState(null),[V,B]=T.useState(!1),[F,ne]=T.useState("EXTERIOR"),[W,X]=T.useState(null),[Z,oe]=T.useState(null),[fe,Y]=T.useState(null),[G,J]=T.useState(!1),[$,be]=T.useState(null),_e=T.useRef(null),Te=T.useRef(null),je=T.useRef(null),Ye=T.useRef(null);T.useMemo(()=>_Oe(t,e),[t,e]),T.useMemo(()=>TOe(t),[t]),T.useEffect(()=>{ue()},[t.id]);const ue=async()=>{try{const Ce=await xse(t.id);Ce.length>0?_(Ce):Ae()}catch(Ce){console.error("Failed to load chat history:",Ce),q("Kunde inte ladda chatthistorik"),Ae()}};T.useEffect(()=>{if(A.length>0){const Ce=setTimeout(()=>{wse(t.id,A).catch(Pe=>{console.error("Failed to save chat history:",Pe)})},1e3);return()=>clearTimeout(Ce)}},[A,t.id]);const Ae=()=>{const Pe={role:"model",content:`Hall dr!  Det r jag som r ${t.name||"AI Assistant"}. Vad ska vi hitta p?`,timestamp:new Date().toISOString()};_([Pe])},ae=async()=>{if(window.confirm("Vill du glmma vr konversation?"))try{await kse(t.id),Ae(),q(null)}catch(Ce){console.error("Failed to clear chat history:",Ce),q("Kunde inte radera chatthistorik")}},le=()=>{var Ce;(Ce=_e.current)==null||Ce.scrollIntoView({behavior:"smooth"})};T.useEffect(le,[A]);const qe=Ce=>{var de;const Pe=(de=Ce.target.files)==null?void 0:de[0];if(Pe){const ee=new FileReader;ee.onloadend=()=>{z(ee.result)},ee.readAsDataURL(Pe)}},Be=Ce=>{var ee;const Pe=(ee=Ce.target.files)==null?void 0:ee[0];if(!Pe)return;const de=new FileReader;de.onloadend=()=>X(de.result),de.readAsDataURL(Pe)},pt=Ce=>{var de;const Pe=((de=Ce.target.files)==null?void 0:de[0])||null;oe(Pe)},_t=()=>{ne("EXTERIOR"),X(null),oe(null),Y(null),J(!1),be(null)},_n=()=>{B(!1),_t()},Xr=async()=>{try{if(J(!0),be(null),!W&&!Z){be("Lgg till en bild eller en ljudfil fr att analysera."),J(!1);return}let Ce,Pe;W&&(Ce=await wOe(W,t.id)),Z&&(Pe=await kOe(Z,t.id));const de=await W4(t.id,F,{imageUrl:Ce,audioUrl:Pe});Y(de);const ge={role:"model",content:["Elton Inspector  resultat",`Zon: ${de.category}`,`Allvarlighet: ${de.severity} (${de.confidence}%)`,`Diagnos: ${de.aiDiagnosis}`,Ce?`Bild: ${Ce}`:void 0,Pe?`Ljud: ${Pe}`:void 0].filter(Boolean).join(`
`),timestamp:new Date().toISOString()};_(Re=>[...Re,ge])}catch(Ce){console.error("Inspector analysis failed:",Ce),be(Ce.message||"Kunde inte analysera media")}finally{J(!1)}},Vt=Ce=>{const Pe=Ce.severity==="CRITICAL"?Qi.HIGH:Ce.severity==="WARNING"?Qi.MEDIUM:Qi.LOW;let de;Ce.category==="ENGINE"?de=ql.P1_ENGINE:Ce.category==="UNDERCARRIAGE"||Ce.category==="EXTERIOR"?de=ql.P2_RUST:de=ql.P3_FUTURE;const ee=new Date().toISOString(),ge=Ce.severity==="CRITICAL"?`AKUT: ${Ce.aiDiagnosis}`:Ce.severity==="WARNING"?`tgrd: ${Ce.aiDiagnosis}`:`Notera: ${Ce.aiDiagnosis}`;return{id:Math.random().toString(36).slice(2),title:ge.slice(0,120),description:`Skapat via Elton Inspector (${Ce.category}).

Allvarlighet: ${Ce.severity} (${Ce.confidence}%).

Diagnos:
${Ce.aiDiagnosis}`,status:et.TODO,phase:de||"3. Lpande Underhll",priority:Pe,sprint:void 0,estimatedCostMin:0,estimatedCostMax:0,actualCost:0,weightKg:0,costType:Pb.OPERATION,tags:["Inspector",Ce.category],links:[],comments:[],attachments:[],subtasks:[],type:So.MAINTENANCE,mechanicalPhase:de,created:ee,lastModified:ee}},Tt=()=>{if(!fe||!r)return;const Ce=Vt(fe);r([Ce]);const Pe={role:"model",content:`Skapade uppgift frn Elton Inspector:
- ${Ce.title}`,timestamp:new Date().toISOString()};_(de=>[...de,Pe])},Er=async Ce=>{if(!Ce||Ce.length===0)return[];const Pe=[];for(const de of Ce){console.log("Executing tool:",de.name,de.args);try{if(de.name==="addTask"&&r){const ee=Array.isArray(de.args.tasks)?de.args.tasks:[de.args];r(ee),Pe.push({name:de.name,result:`Added ${ee.length} tasks successfully.`})}else if(de.name==="updateTask"&&i){const ee=t.tasks.find(ge=>ge.id===de.args.taskTitleKeywords||ge.title.toLowerCase().includes(de.args.taskTitleKeywords.toLowerCase()));if(ee){const ge={};de.args.newStatus&&(ge.status=de.args.newStatus),de.args.newPriority&&(ge.priority=de.args.newPriority),de.args.newSprint&&(ge.sprint=de.args.newSprint),de.args.newTitle&&(ge.title=de.args.newTitle),de.args.newDescription&&(ge.description=de.args.newDescription),de.args.newCost&&(ge.estimatedCostMax=de.args.newCost),i({...ee,...ge}),Pe.push({name:de.name,result:`Updated task "${ee.title}".`})}else Pe.push({name:de.name,result:`Task not found: "${de.args.taskTitleKeywords}"`})}else if(de.name==="deleteTask"&&o){const ee=t.tasks.find(ge=>ge.id===de.args.taskTitleKeywords||ge.title.toLowerCase().includes(de.args.taskTitleKeywords.toLowerCase()));ee?(o(ee.id),Pe.push({name:de.name,result:`Deleted task "${ee.title}".`})):Pe.push({name:de.name,result:`Task not found: "${de.args.taskTitleKeywords}"`})}else if(de.name==="addToShoppingList"&&a)a(de.args),Pe.push({name:de.name,result:"Added item to shopping list."});else if(de.name==="registerPurchase"&&l){const ee=t.shoppingItems.find(ge=>ge.name.toLowerCase().includes(de.args.itemNameKeywords.toLowerCase()));ee?(l({...ee,checked:!0,actualCost:de.args.actualCost,store:de.args.store,purchaseDate:de.args.date||new Date().toISOString().split("T")[0]}),Pe.push({name:de.name,result:`Registered purchase of "${ee.name}".`})):Pe.push({name:de.name,result:`Shopping item not found: "${de.args.itemNameKeywords}"`})}else if(de.name==="updateShoppingItem"&&l){const ee=t.shoppingItems.find(ge=>ge.name.toLowerCase().includes(de.args.itemNameKeywords.toLowerCase()));if(ee){const ge={};de.args.newName&&(ge.name=de.args.newName),de.args.newQuantity&&(ge.quantity=de.args.newQuantity),de.args.newCategory&&(ge.category=de.args.newCategory),de.args.newCost&&(ge.estimatedCost=de.args.newCost),l({...ee,...ge}),Pe.push({name:de.name,result:`Updated shopping item "${ee.name}".`})}else Pe.push({name:de.name,result:`Shopping item not found: "${de.args.itemNameKeywords}"`})}else if(de.name==="deleteShoppingItem"&&u){const ee=t.shoppingItems.find(ge=>ge.name.toLowerCase().includes(de.args.itemNameKeywords.toLowerCase()));ee?(u(ee.id),Pe.push({name:de.name,result:`Deleted shopping item "${ee.name}".`})):Pe.push({name:de.name,result:`Shopping item not found: "${de.args.itemNameKeywords}"`})}else if(de.name==="updateVehicleData"&&d){const{field:ee,value:ge,reason:Re}=de.args,De=ee.split(".");let Oe={},Je=Oe;for(let zt=0;zt<De.length-1;zt++)Je[De[zt]]={},Je=Je[De[zt]];Je[De[De.length-1]]=ge,d(Oe),Pe.push({name:de.name,result:`Updated vehicle data: ${ee} = "${ge}". Reason: ${Re}`})}else if(de.name==="searchSimilarTasks"){const{proposedTitle:ee,proposedDescription:ge}=de.args,Re=`${ee} ${ge}`.toLowerCase(),De=t.tasks.filter(Oe=>{const Je=`${Oe.title} ${Oe.description||""}`.toLowerCase();return Re.split(/\s+/).filter(kt=>kt.length>3).filter(kt=>Je.includes(kt)).length>=2});if(De.length>0){const Oe=De.map(Je=>`- "${Je.title}" (Status: ${Je.status})`).join(`
`);Pe.push({name:de.name,result:`Found ${De.length} similar task(s):
${Oe}

Consider updating existing task instead of creating duplicate.`})}else Pe.push({name:de.name,result:"No similar tasks found. Safe to add new task."})}else if(de.name==="searchSimilarShoppingItems"){const{proposedName:ee,proposedCategory:ge}=de.args,Re=ee.toLowerCase(),De=t.shoppingItems.filter(Oe=>{const Je=Oe.name.toLowerCase(),zt=Oe.category===ge,Wt=Je.includes(Re)||Re.includes(Je)||c4e(Je,Re)>.6;return zt&&Wt});if(De.length>0){const Oe=De.map(Je=>`- "${Je.name}" (${Je.checked?"Kpt":"Att kpa"}${Je.store?` frn ${Je.store}`:""})`).join(`
`);Pe.push({name:de.name,result:`Found ${De.length} similar item(s):
${Oe}

Consider updating existing item or adding as vendor option instead.`})}else Pe.push({name:de.name,result:"No similar shopping items found. Safe to add new item."})}else if(de.name==="addKnowledgeArticle"&&p){const{title:ee,summary:ge,content:Re,tags:De}=de.args,Oe={id:Math.random().toString(36).substr(2,9),title:ee,summary:ge,content:Re,tags:De?De.split(",").map(Je=>Je.trim()):[]};p(Oe),Pe.push({name:de.name,result:`Added knowledge article: "${ee}"`})}else if(de.name==="addServiceLog"&&g){const ee={id:Math.random().toString(36).substr(2,9),...de.args};g(ee),Pe.push({name:de.name,result:`Logged service: ${de.args.description}`})}else if(de.name==="addHistoryEvent"&&m){const ee={...de.args};m(ee),Pe.push({name:de.name,result:`Added history event: ${de.args.description}`})}else if(de.name==="addTask"&&r){const ee={title:de.args.title,description:de.args.description||"",status:et.TODO,phase:l4e(de.args.phase)||"Backlog",priority:de.args.priority||Qi.MEDIUM,estimatedCostMin:de.args.estimatedCostMin||0,estimatedCostMax:de.args.estimatedCostMax||0,type:So.REPAIR};r([ee]),Pe.push({name:de.name,result:`Added task: "${ee.title}" to phase "${ee.phase}"`})}else if(de.name==="updateProjectMetadata"&&b){const{field:ee,value:ge}=de.args;b(ee,ge),Pe.push({name:de.name,result:`Updated ${ee} to "${ge}"`})}else if(de.name==="inspectImage"){const{zone:ee,userDescription:ge}=de.args,Re=[...A].reverse().find(De=>De.imageUrl);if(!(Re!=null&&Re.imageUrl))Pe.push({name:de.name,result:"Ingen bild hittades i chatten. Be anvndaren ladda upp en bild frst."});else{let De=Re.imageUrl;De.startsWith("data:")&&(De=De.split(",")[1]);const Oe=await W4(ee,ge,De,void 0);let Je=null;try{Je=await dse(t.id,{imageUrl:Re.imageUrl,date:new Date().toISOString(),category:ee,aiDiagnosis:Oe.aiDiagnosis,severity:Oe.severity,confidence:Oe.confidence})}catch(kt){console.error("Failed to save inspection finding:",kt)}let zt=!1;if(Oe.severity==="CRITICAL"&&r){const kt={id:`insp-${Date.now()}`,title:` KRITISKT: ${ee} - ${ge.slice(0,50)}`,description:`**Elton Inspector Fynd**

${Oe.aiDiagnosis}

**Zon:** ${Oe.category}
**Confidence:** ${Oe.confidence}%
**Inspektionsbild:** Se chatthistorik`,status:et.TODO,phase:ee==="ENGINE"?ql.P1_ENGINE:ee==="UNDERCARRIAGE"||ee==="EXTERIOR"?ql.P2_RUST:ql.P3_FUTURE,priority:Qi.HIGH,type:So.REPAIR,costType:Pb.VARIABLE,estimatedHoursMin:2,estimatedHoursMax:8,estimatedCostMin:1e3,estimatedCostMax:5e3,dueDate:new Date(Date.now()+6048e5).toISOString().split("T")[0]};if(r([kt]),zt=!0,Je)try{await $V(t.id,Je.id,{convertedToTaskId:kt.id})}catch(fn){console.error("Failed to link finding to task:",fn)}}const Wt=`### Elton Inspector - Analys Resultat

**Zon:** ${Oe.category}
**Allvarlighet:** ${Oe.severity}
**Skerhet:** ${Oe.confidence}%

**Diagnos:**
${Oe.aiDiagnosis}

${Oe.severity==="CRITICAL"?` **KRITISKT** - ${zt?"Uppgift skapad automatiskt!":"vervg att skapa en uppgift omedelbart!"}`:Oe.severity==="WARNING"?" **Varning** - Br tgrdas snart. Vill du att jag ska skapa en uppgift?":" Kosmetiskt problem."}`;Pe.push({name:de.name,result:Wt})}}else if(de.name==="inspectAudio"){const{zone:ee,userDescription:ge}=de.args;Pe.push({name:de.name,result:"Audio-inspektion r nnu inte implementerad. Fr nrvarande kan endast bilder analyseras."})}else Pe.push({name:de.name,result:"Tool executed successfully."})}catch(ee){console.error("Tool execution failed:",ee);const ge=`Error executing ${de.name}: ${ee.message}`;Pe.push({name:de.name,result:ge}),q(ge)}}return Pe},ji=async()=>{if(!C.trim()&&!P||I)return;q(null);const Ce=C,Pe=P;N(""),z(null);try{let de;if(Pe)try{de=await xOe(Pe,t.id)}catch(Oe){console.error("Failed to upload image:",Oe),q("Kunde inte ladda upp bild")}const ee={role:"user",content:Ce,imageUrl:de,timestamp:new Date().toISOString()};_(Oe=>[...Oe,ee]),D(!0);let ge="";const Re={role:"model",content:"",timestamp:new Date().toISOString()};_(Oe=>[...Oe,Re]);let De=A.map(Oe=>({role:Oe.role,content:Oe.content,image:Oe.imageUrl}));for(;De.length>0&&De[0].role==="model";)console.warn(" Filtering out initial model message from chat history"),De=De.slice(1);await hOe(De,Ce,t.vehicleData,t.tasks,t.shoppingItems,Oe=>{_(Je=>{const zt=[...Je];return zt[zt.length-1].content=Oe,zt})},Er,Pe?Pe.split(",")[1]:void 0,t.nickname||t.name,n,t.type)}catch(de){console.error("Chat error:",de),q(`Fel: ${de.message||"Kunde inte skicka meddelande"}`)}finally{D(!1)}};return L?h.jsx(a4e,{project:t,onClose:()=>M(!1)}):h.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] bg-white dark:bg-nordic-dark-surface rounded-2xl border border-slate-200 dark:border-nordic-dark-bg shadow-sm overflow-hidden animate-fade-in",children:[h.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-4 border-b border-slate-100 dark:border-nordic-dark-bg flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[E&&h.jsx("button",{onClick:E,className:"p-2 -ml-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-nordic-dark-bg rounded-full transition-colors",title:"Tillbaka till dashboard",children:h.jsx(eb,{size:20})}),h.jsx("div",{className:"p-2 bg-white dark:bg-nordic-dark-bg rounded-lg shadow-sm text-teal-600",children:h.jsx(nb,{size:24})}),h.jsxs("div",{children:[h.jsxs("h3",{className:"font-serif font-semibold text-nordic-charcoal dark:text-nordic-ice",children:[t.vehicleData.make," ",t.vehicleData.model]}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted",children:t.vehicleData.year})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>B(!0),className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-xl hover:bg-teal-700 transition-colors shadow-sm",title:"Elton Inspector",children:[h.jsx(rT,{size:18}),h.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Inspector"})]}),h.jsxs("button",{"data-testid":"ring-upp-button",onClick:()=>M(!0),className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 transition-colors shadow-sm animate-pulse",children:[h.jsx(Q3,{size:18}),h.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Ring upp"})]}),h.jsx("button",{onClick:ae,className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Rensa historik",children:h.jsx(ic,{size:18})})]})]}),U&&h.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800 p-3 flex items-center gap-2 text-red-700 dark:text-red-300",children:[h.jsx(sp,{size:18}),h.jsx("span",{className:"text-sm",children:U}),h.jsx("button",{onClick:()=>q(null),className:"ml-auto p-1 hover:bg-red-100 dark:hover:bg-red-800 rounded",children:h.jsx(Mr,{size:16})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-nordic-dark-bg/50",children:[A.map((Ce,Pe)=>h.jsx("div",{className:`flex w-full ${Ce.role==="user"?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`flex max-w-[85%] ${Ce.role==="user"?"flex-row-reverse":"flex-row"} items-end gap-2`,children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 border border-white/20 shadow-sm ${Ce.role==="user"?"bg-nordic-charcoal text-white":"bg-nordic-beige text-amber-900"}`,children:Ce.role==="user"?h.jsx(qv,{size:14}):h.jsx(nb,{size:16})}),h.jsxs("div",{className:`p-3.5 rounded-2xl text-sm leading-relaxed shadow-sm flex flex-col gap-2 ${Ce.role==="user"?"bg-nordic-charcoal dark:bg-teal-600 text-white rounded-br-none":"bg-white dark:bg-nordic-dark-surface text-slate-700 dark:text-nordic-dark-text border border-slate-100 dark:border-nordic-charcoal rounded-bl-none"}`,children:[Ce.imageUrl&&h.jsx("img",{src:Ce.imageUrl,alt:"Uppladdad bild",className:"rounded-lg max-w-full h-auto border border-white/20"}),Ce.role==="user"?h.jsx("p",{children:Ce.content}):h.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none prose-p:my-1 prose-headings:my-2 prose-ul:my-1 prose-li:my-0",children:h.jsx(AB,{components:{h1:({node:de,...ee})=>h.jsx("h1",{className:"text-base font-bold text-nordic-charcoal dark:text-nordic-ice mt-2",...ee}),h2:({node:de,...ee})=>h.jsx("h2",{className:"text-sm font-bold text-teal-600 dark:text-teal-400 mt-2 uppercase tracking-wide",...ee}),h3:({node:de,...ee})=>h.jsx("h3",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 mt-2",...ee}),ul:({node:de,...ee})=>h.jsx("ul",{className:"list-disc list-outside ml-4 space-y-1 my-2",...ee}),ol:({node:de,...ee})=>h.jsx("ol",{className:"list-decimal list-outside ml-4 space-y-1 my-2",...ee}),li:({node:de,...ee})=>h.jsx("li",{className:"pl-1 marker:text-teal-500",...ee}),strong:({node:de,...ee})=>h.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...ee}),a:({node:de,...ee})=>h.jsx("a",{className:"text-teal-600 hover:underline cursor-pointer font-medium",target:"_blank",...ee}),blockquote:({node:de,...ee})=>h.jsx("blockquote",{className:"border-l-4 border-teal-200 pl-3 italic text-slate-500 my-2",...ee})},children:Ce.content})})]})]})},Pe)),h.jsx("div",{ref:_e})]}),h.jsxs("div",{className:"p-4 bg-white dark:bg-nordic-dark-surface border-t border-slate-100 dark:border-nordic-dark-bg",children:[P&&h.jsxs("div",{className:"flex items-center gap-2 mb-2 p-2 bg-slate-100 dark:bg-nordic-charcoal rounded-xl w-fit animate-fade-in",children:[h.jsx("img",{src:P,alt:"Vald",className:"w-10 h-10 object-cover rounded-lg"}),h.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Bild redo att skickas"}),h.jsx("button",{onClick:()=>z(null),className:"p-1 hover:bg-slate-200 dark:hover:bg-nordic-dark-bg rounded-full",children:h.jsx(Mr,{size:14})})]}),h.jsxs("div",{className:"flex space-x-2 relative",children:[h.jsx("button",{onClick:()=>{var Ce;return(Ce=Te.current)==null?void 0:Ce.click()},className:"p-3 text-slate-400 hover:text-teal-600 hover:bg-slate-50 dark:hover:bg-nordic-charcoal rounded-xl transition-colors",children:h.jsx(G3,{size:20})}),h.jsx("input",{type:"file",ref:Te,className:"hidden",accept:"image/*",onChange:qe}),h.jsx("input",{type:"text",value:C,onChange:Ce=>N(Ce.target.value),onKeyDown:Ce=>Ce.key==="Enter"&&ji(),placeholder:"Sg ngot...",className:"flex-1 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal text-slate-700 dark:text-nordic-ice text-sm rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all placeholder:text-slate-400",disabled:I}),h.jsx("button",{onClick:ji,disabled:!C.trim()&&!P||I,className:"bg-nordic-charcoal dark:bg-teal-600 hover:bg-slate-800 dark:hover:bg-teal-700 disabled:bg-slate-300 dark:disabled:bg-nordic-charcoal text-white p-3 rounded-xl transition-colors shadow-sm",children:h.jsx($v,{size:18})})]})]}),V&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:h.jsxs("div",{className:"w-full max-w-xl bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-slate-200 dark:border-nordic-charcoal p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"p-2 bg-teal-50 dark:bg-nordic-charcoal rounded-lg",children:h.jsx(rT,{size:18,className:"text-teal-600"})}),h.jsx("h3",{className:"font-semibold text-nordic-charcoal dark:text-nordic-ice",children:"Elton Inspector"})]}),h.jsx("button",{onClick:_n,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-lg",children:h.jsx(Mr,{size:16})})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Zon"}),h.jsx("div",{className:"mt-1 grid grid-cols-2 sm:grid-cols-4 gap-2",children:["EXTERIOR","ENGINE","UNDERCARRIAGE","INTERIOR"].map(Ce=>h.jsxs("button",{onClick:()=>ne(Ce),className:`px-3 py-2 rounded-xl border text-sm ${F===Ce?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-nordic-charcoal text-slate-700 dark:text-slate-200 border-slate-200 dark:border-nordic-charcoal"}`,children:[Ce==="EXTERIOR"&&"EXTERIOR",Ce==="ENGINE"&&"ENGINE",Ce==="UNDERCARRIAGE"&&"UNDERCARRIAGE",Ce==="INTERIOR"&&"INTERIOR"]},Ce))})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[h.jsxs("div",{className:"p-3 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Bild"}),h.jsxs("button",{onClick:()=>{var Ce;return(Ce=je.current)==null?void 0:Ce.click()},className:"px-2 py-1 text-xs rounded-lg bg-slate-100 dark:bg-nordic-charcoal hover:bg-slate-200 dark:hover:bg-nordic-dark-bg flex items-center gap-1",children:[h.jsx(tT,{size:14}),"Vlj"]}),h.jsx("input",{ref:je,type:"file",accept:"image/*",className:"hidden",onChange:Be})]}),W?h.jsx("img",{src:W,alt:"Vald bild",className:"mt-2 rounded-lg border border-white/10"}):h.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Ingen bild vald"})]}),h.jsxs("div",{className:"p-3 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Ljud"}),h.jsxs("button",{onClick:()=>{var Ce;return(Ce=Ye.current)==null?void 0:Ce.click()},className:"px-2 py-1 text-xs rounded-lg bg-slate-100 dark:bg-nordic-charcoal hover:bg-slate-200 dark:hover:bg-nordic-dark-bg flex items-center gap-1",children:[h.jsx(K3,{size:14}),"Vlj"]}),h.jsx("input",{ref:Ye,type:"file",accept:"audio/*",className:"hidden",onChange:pt})]}),h.jsx("p",{className:"mt-2 text-xs text-slate-500",children:Z?Z.name:"Ingen ljudfil vald"})]})]}),$&&h.jsxs("div",{className:"p-2 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 text-sm flex items-center gap-2",children:[h.jsx(sp,{size:16}),h.jsx("span",{children:$})]}),h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx("button",{onClick:_n,className:"px-4 py-2 rounded-xl bg-slate-100 dark:bg-nordic-charcoal hover:bg-slate-200 dark:hover:bg-nordic-dark-bg",children:"Stng"}),h.jsx("button",{onClick:Xr,disabled:G,className:"px-4 py-2 rounded-xl bg-teal-600 text-white hover:bg-teal-700 disabled:opacity-60",children:G?"Analyserar...":"Analysera"})]}),fe&&h.jsxs("div",{className:"mt-3 p-3 rounded-xl border border-teal-200 dark:border-teal-800 bg-teal-50/50 dark:bg-teal-900/20",children:[h.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:[h.jsx("strong",{children:"Zon:"})," ",fe.category]}),h.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:[h.jsx("strong",{children:"Allvarlighet:"})," ",fe.severity," (",fe.confidence,"%)"]}),h.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200 whitespace-pre-wrap mt-1",children:fe.aiDiagnosis}),h.jsx("div",{className:"mt-2 flex items-center justify-end",children:h.jsx("button",{onClick:Tt,className:"px-4 py-2 rounded-xl bg-nordic-charcoal dark:bg-teal-600 text-white hover:bg-slate-800 dark:hover:bg-teal-700",children:"Konvertera till uppgift"})})]})]})]})})]})},d4e=()=>{const{activeProject:t,updateTask:e,deleteTask:n,addShoppingItem:r,updateShoppingItem:i,deleteShoppingItem:o,updateVehicleData:a,updateProjectMetadata:l}=Qs(),u=ts();if(!t)return null;const d=async b=>{console.warn("Add tasks not yet implemented in ProjectContext")},p=async b=>{console.warn("Add knowledge article not yet implemented")},g=async b=>{console.warn("Add service log not yet implemented")},m=async b=>{console.warn("Add history event not yet implemented")};return h.jsx(u4e,{project:t,contacts:t.contacts,userSkillLevel:void 0,onAddTask:d,onUpdateTask:e,onDeleteTask:n,onAddShoppingItem:r,onUpdateShoppingItem:i,onDeleteShoppingItem:o,onUpdateVehicleData:a,onAddKnowledgeArticle:p,onAddServiceLog:g,onAddHistoryEvent:m,onUpdateProjectMetadata:l,onClose:()=>u(`/project/${t.id}`)})},p4e=({inspection:t,onAreaClick:e})=>{var i;const n=o=>{switch(o){case"CRITICAL":return"bg-red-100 dark:bg-red-900/20 border-red-300 dark:border-red-800";case"HIGH":return"bg-orange-100 dark:bg-orange-900/20 border-orange-300 dark:border-orange-800";case"MEDIUM":return"bg-yellow-100 dark:bg-yellow-900/20 border-yellow-300 dark:border-yellow-800";default:return"bg-slate-100 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700"}},r=o=>{switch(o){case"CRITICAL":return"bg-red-600 hover:bg-red-700 text-white";case"HIGH":return"bg-orange-600 hover:bg-orange-700 text-white";case"MEDIUM":return"bg-yellow-600 hover:bg-yellow-700 text-white";default:return"bg-slate-600 hover:bg-slate-700 text-white"}};return h.jsxs("div",{className:"max-w-7xl mx-auto p-4 space-y-4",children:[h.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-sm border border-slate-200 dark:border-nordic-charcoal p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h1",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Inspektion"}),h.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:((i=t.inspectors)==null?void 0:i.join(", "))||t.inspector||"Oknd"})]}),h.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:["Resultat frn genomgng ",new Date(t.date).toLocaleDateString("sv-SE")]}),h.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[h.jsxs("div",{className:"text-center p-3 rounded-xl bg-slate-50 dark:bg-nordic-charcoal",children:[h.jsx("div",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:t.statistics.total}),h.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Totalt"})]}),h.jsxs("div",{className:"text-center p-3 rounded-xl bg-red-50 dark:bg-red-900/20",children:[h.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:t.statistics.negative}),h.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Anmrkningar"})]}),h.jsxs("div",{className:"text-center p-3 rounded-xl bg-green-50 dark:bg-green-900/20",children:[h.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:t.statistics.positive}),h.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Positivt"})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.areas.map(o=>h.jsxs("div",{onClick:()=>e==null?void 0:e(o.areaId),className:`
              rounded-2xl shadow-sm border p-5 cursor-pointer
              transition-all hover:shadow-md hover:-translate-y-0.5
              ${n(o.actionPriority)}
            `,children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:o.name}),o.actionPriority==="CRITICAL"&&h.jsx(No,{className:"text-red-600 dark:text-red-400",size:20})]}),o.actionLabel&&h.jsx("div",{className:"mb-4",children:h.jsx("span",{className:`
                  inline-block px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wide
                  ${r(o.actionPriority)}
                `,children:o.actionLabel})}),h.jsxs("div",{className:"space-y-3",children:[o.summary&&o.summary.negative>0&&h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx(No,{size:16,className:"text-red-600 dark:text-red-400"}),h.jsx("span",{className:"text-slate-700 dark:text-slate-200 font-medium",children:"ANMRKNINGAR"})]}),h.jsx("span",{className:"text-lg font-bold text-red-700 dark:text-red-400",children:o.summary.negative})]}),h.jsxs("div",{className:"space-y-1",children:[o.findings.filter(a=>a.category==="Anmrkning").slice(0,3).map((a,l)=>h.jsxs("div",{className:"flex items-start gap-1.5 text-xs text-slate-600 dark:text-slate-400",children:[h.jsx("span",{className:"text-slate-400",children:""}),h.jsx("span",{className:"line-clamp-1",children:a.type})]},a.id)),o.summary&&o.summary.negative>3&&h.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500 italic",children:["+",o.summary.negative-3," fler..."]})]}),o.summary&&o.summary.positive>0&&h.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-200 dark:border-slate-700",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx(rb,{size:16,className:"text-green-600 dark:text-green-400"}),h.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:"POSITIVT"})]}),h.jsx("span",{className:"text-sm font-semibold text-green-700 dark:text-green-400",children:o.summary.positive})]})]}),h.jsx("div",{className:"mt-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:h.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[h.jsx(Po,{size:12}),"Klicka fr detaljer"]})})]},o.areaId))})]})},f4e=({area:t,tasks:e=[],vehicleData:n,onClose:r,onConvertToTask:i,onViewTask:o})=>{var m,b;const[a,l]=T.useState(null),u=t.findings.filter(E=>E.category==="Anmrkning"),d=t.findings.filter(E=>E.category==="Positivt"),p=E=>!E.linkedTaskIds||E.linkedTaskIds.length===0?[]:e.filter(A=>{var _;return(_=E.linkedTaskIds)==null?void 0:_.includes(A.id)}),g=E=>{switch(E){case"CRITICAL":return h.jsx(No,{className:"text-red-600",size:16});case"HIGH":return h.jsx(No,{className:"text-orange-600",size:16});case"MEDIUM":return h.jsx(No,{className:"text-yellow-600",size:16});default:return h.jsx("span",{className:"text-slate-400",children:""})}};return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:h.jsxs("div",{className:"w-full max-w-3xl max-h-[90vh] bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-slate-200 dark:border-nordic-charcoal overflow-hidden flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-nordic-charcoal",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:t.name}),t.actionLabel&&h.jsx("span",{className:`
                inline-block mt-2 px-3 py-1 rounded-lg text-xs font-bold uppercase
                ${t.actionPriority==="CRITICAL"?"bg-red-600 text-white":t.actionPriority==="HIGH"?"bg-orange-600 text-white":t.actionPriority==="MEDIUM"?"bg-yellow-600 text-white":"bg-slate-600 text-white"}
              `,children:t.actionLabel})]}),h.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-lg transition-colors",children:h.jsx(Mr,{size:20,className:"text-slate-500"})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:[h.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:((m=t.summary)==null?void 0:m.negative)||0}),h.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Anmrkningar"})]}),h.jsxs("div",{className:"p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[h.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:((b=t.summary)==null?void 0:b.positive)||0}),h.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Positivt"})]})]}),u.length>0&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("h3",{className:"font-semibold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[h.jsx(No,{size:18,className:"text-red-600"}),"Anmrkningar (",u.length,")"]}),h.jsx("div",{className:"space-y-2",children:u.map(E=>{const A=p(E);return h.jsx("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-slate-700",children:h.jsxs("div",{className:"flex items-start gap-2",children:[g(E.severity),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:E.type}),h.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["ID ",E.id]})]}),h.jsx("button",{onClick:()=>l(E),className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-full transition-colors",title:"Frga Elton om detta",children:h.jsx(Ng,{size:16})})]}),h.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:E.description}),E.position&&h.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:[h.jsx("strong",{children:"Plats:"})," ",E.position]}),E.action&&h.jsx("div",{className:"mt-2 p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:h.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:[h.jsx("strong",{children:"tgrd:"})," ",E.action]})}),A.length>0&&h.jsx("div",{className:"mt-3 space-y-1",children:A.map(_=>h.jsxs("button",{onClick:()=>o==null?void 0:o(_.id),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-teal-50 dark:bg-teal-900/20 border border-teal-200 dark:border-teal-800 hover:bg-teal-100 dark:hover:bg-teal-900/30 transition-colors w-full text-left",children:[h.jsx(Po,{size:14,className:"text-teal-600 dark:text-teal-400"}),h.jsx("span",{className:"text-xs flex-1 text-teal-700 dark:text-teal-300 font-medium",children:_.title}),h.jsx(lp,{size:12,className:"text-teal-600"})]},_.id))}),A.length===0&&i&&h.jsx("button",{onClick:()=>i(E),className:"mt-2 px-3 py-1.5 text-xs rounded-lg bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:"Skapa uppgift"})]})]})},E.id)})})]}),d.length>0&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("h3",{className:"font-semibold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[h.jsx(rb,{size:18,className:"text-green-600"}),"Positivt (",d.length,")"]}),h.jsx("div",{className:"space-y-2",children:d.map(E=>h.jsx("div",{className:"p-3 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx(rb,{size:16,className:"text-green-600 dark:text-green-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:E.type}),h.jsx("p",{className:"mt-1 text-sm text-green-700 dark:text-green-300",children:E.description})]})]})},E.id))})]})]}),h.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-nordic-charcoal flex justify-end",children:h.jsx("button",{onClick:r,className:"px-4 py-2 rounded-xl bg-nordic-charcoal dark:bg-teal-600 text-white hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors",children:"Stng"})})]})}),a&&h.jsx(YC,{context:{type:"inspection_finding",inspectionFinding:a,inspectionArea:t,vehicleData:n},onClose:()=>l(null)})]})},h4e=({inspection:t,tasks:e=[],onViewTask:n})=>{const[r,i]=T.useState(null),o=r!==null?t.areas.find(a=>a.areaId===r):null;return h.jsxs(h.Fragment,{children:[h.jsx(p4e,{inspection:t,onAreaClick:i}),o&&h.jsx(f4e,{area:o,tasks:e,onClose:()=>i(null),onViewTask:n})]})},g4e=()=>{const{activeProject:t}=Qs(),e=ts();return t?!t.inspections||t.inspections.length===0?h.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:"Ingen inspektion tillgnglig fr detta projekt"}),h.jsx("button",{onClick:()=>e(`/project/${t.id}`),className:"px-4 py-2 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-lg hover:bg-slate-800 dark:hover:bg-teal-700",children:"Tillbaka till versikt"})]})}):h.jsx(h4e,{inspection:t.inspections[0],tasks:t.tasks,onViewTask:n=>e(`/project/${t.id}/tasks?taskId=${n}`)}):null},m4e=()=>{const{currentUser:t,isLoading:e,logout:n}=Lse(),{setActiveProject:r,showToast:i}=Qs(),o=ts();da();const[a,l]=T.useState([]),[u,d]=T.useState(!0),[p,g]=T.useState(!1),m=async()=>{if(t){console.log(" Loading projects for user:",t.uid,t.email),d(!0);try{const C=await ise(t.uid,t.email);console.log(" Found projects:",C.length),l(C),C.length===0&&r(null)}catch(C){console.error(" Error loading projects:",C),i("Kunde inte ladda projekt","error")}d(!1)}};T.useEffect(()=>{Pse().then(C=>{C.success&&i("Inloggad!")})},[]),T.useEffect(()=>{t?m():(r(null),l([]),d(!1))},[t]),T.useEffect(()=>{document.documentElement.classList.toggle("dark",p)},[p]);const b=async C=>{d(!0);try{const N=await BV(C);if(N){const[I,D]=await Promise.all([qV(C),HV(C)]);r({...N,tasks:I||[],shoppingItems:D||[]})}else i("Kunde inte hitta projektet","error")}catch(N){console.error("Error loading project details:",N),i("Kunde inte ladda projektdata","error")}d(!1)},E=async C=>{var N;if(t){d(!0);try{const I=C;if(I.additionalNotes){i(" Analyserar dina anteckningar med AI...");const L=await bce(I.additionalNotes,void 0,C.vehicleData);if(L.tasks&&L.tasks.length>0){const M=L.tasks.map(P=>({...P,id:`note-task-${Date.now()}-${Math.random()}`,status:"Att gra",phase:P.phase||"Fas 0: Inkp & Analys",priority:"Hg",estimatedCostMin:P.estimatedCostMin||0,estimatedCostMax:P.estimatedCostMax||0,actualCost:0,dependencies:[],created:new Date().toISOString()}));C.tasks=[...C.tasks||[],...M]}}const D=await ose(C.name||"Nytt Projekt",((N=C.vehicleData)==null?void 0:N.model)||"Oknd",t.uid,t.email,C);await new Promise(L=>setTimeout(L,1e3)),await m(),await b(D.id),i("Nytt projekt skapat!")}catch(I){console.error(" Failed to create project:",I),I.code==="permission-denied"?i("tkomst nekad. Kontrollera behrigheter.","error"):i("Kunde inte skapa projekt","error")}d(!1)}},A=async C=>{if(confirm("r du sker p att du vill radera projektet? Detta gr inte att ngra."))try{await sse(C),l(N=>N.filter(I=>I.id!==C)),i("Projekt raderat")}catch(N){console.error("Error deleting project:",N),i("Kunde inte radera projektet","error")}},_=async()=>{if(t&&confirm("Varning! Detta kommer att skapa ett nytt demonstrationsprojekt 'Elton'. r du sker?")){d(!0);try{await nse(t.email,t.uid),await m(),i("Demoprojekt 'Elton' skapat!")}catch(C){console.error(C),i("Kunde inte skapa demoprojekt","error")}d(!1)}};return e||u?h.jsx("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[h.jsx(ia,{className:"animate-spin text-slate-400 text-4xl"}),h.jsx("p",{className:"text-slate-500 font-medium",children:"Hmtar dina projekt..."})]})}):t?h.jsxs(bO,{children:[h.jsx(_i,{path:"/roadmap",element:h.jsx(yde,{onClose:()=>o(-1)})}),h.jsx(_i,{path:"/projects",element:h.jsx(Ade,{user:t,projects:a,onSelectProject:b,onCreateProject:E,onDeleteProject:A,onLogout:n,onSeed:_})}),h.jsxs(_i,{path:"/project/:projectId",element:h.jsx(Ide,{currentUser:t}),children:[h.jsx(_i,{index:!0,element:h.jsx(jye,{})}),h.jsx(_i,{path:"tasks",element:h.jsx(Wye,{})}),h.jsx(_i,{path:"shopping",element:h.jsx(Xye,{})}),h.jsx(_i,{path:"specs",element:h.jsx(uOe,{})}),h.jsx(_i,{path:"ai",element:h.jsx(d4e,{})}),h.jsx(_i,{path:"inspection",element:h.jsx(g4e,{})})]}),h.jsx(_i,{path:"/",element:h.jsx(I1,{to:"/projects",replace:!0})}),h.jsx(_i,{path:"*",element:h.jsx(I1,{to:"/projects",replace:!0})})]}):h.jsxs(bO,{children:[h.jsx(_i,{path:"/",element:h.jsx(Cce,{})}),h.jsx(_i,{path:"*",element:h.jsx(I1,{to:"/",replace:!0})})]})},y4e=()=>h.jsx(jse,{children:h.jsx(Ise,{children:h.jsx(m4e,{})})}),EG=document.getElementById("root");if(!EG)throw new Error("Could not find root element to mount to");const b4e=fW.createRoot(EG);b4e.render(h.jsx(Ct.StrictMode,{children:h.jsx(LY,{children:h.jsx(y4e,{})})}));
