var E7=Object.defineProperty;var S7=(t,e,n)=>e in t?E7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ow=(t,e,n)=>S7(t,typeof e!="symbol"?e+"":e,n);function T7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ba(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lw={exports:{}},Th={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR;function k7(){if(yR)return Th;yR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Th.Fragment=e,Th.jsx=n,Th.jsxs=n,Th}var vR;function A7(){return vR||(vR=1,lw.exports=k7()),lw.exports}var m=A7(),cw={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bR;function C7(){if(bR)return Xe;bR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function C($,te,K){this.props=$,this.context=te,this.refs=S,this.updater=K||T}C.prototype.isReactComponent={},C.prototype.setState=function($,te){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,te,"setState")},C.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function R(){}R.prototype=C.prototype;function I($,te,K){this.props=$,this.context=te,this.refs=S,this.updater=K||T}var L=I.prototype=new R;L.constructor=I,k(L,C.prototype),L.isPureReactComponent=!0;var F=Array.isArray;function j(){}var P={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function M($,te,K){var pe=K.ref;return{$$typeof:t,type:$,key:te,ref:pe!==void 0?pe:null,props:K}}function B($,te){return M($.type,te,$.props)}function V($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function q($){var te={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(K){return te[K]})}var z=/\/+/g;function le($,te){return typeof $=="object"&&$!==null&&$.key!=null?q(""+$.key):te.toString(36)}function X($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(j,j):($.status="pending",$.then(function(te){$.status==="pending"&&($.status="fulfilled",$.value=te)},function(te){$.status==="pending"&&($.status="rejected",$.reason=te)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function J($,te,K,pe,we){var Se=typeof $;(Se==="undefined"||Se==="boolean")&&($=null);var Ie=!1;if($===null)Ie=!0;else switch(Se){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch($.$$typeof){case t:case e:Ie=!0;break;case f:return Ie=$._init,J(Ie($._payload),te,K,pe,we)}}if(Ie)return we=we($),Ie=pe===""?"."+le($,0):pe,F(we)?(K="",Ie!=null&&(K=Ie.replace(z,"$&/")+"/"),J(we,te,K,"",function(Ce){return Ce})):we!=null&&(V(we)&&(we=B(we,K+(we.key==null||$&&$.key===we.key?"":(""+we.key).replace(z,"$&/")+"/")+Ie)),te.push(we)),1;Ie=0;var He=pe===""?".":pe+":";if(F($))for(var oe=0;oe<$.length;oe++)pe=$[oe],Se=He+le(pe,oe),Ie+=J(pe,te,K,Se,we);else if(oe=v($),typeof oe=="function")for($=oe.call($),oe=0;!(pe=$.next()).done;)pe=pe.value,Se=He+le(pe,oe++),Ie+=J(pe,te,K,Se,we);else if(Se==="object"){if(typeof $.then=="function")return J(X($),te,K,pe,we);throw te=String($),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function H($,te,K){if($==null)return $;var pe=[],we=0;return J($,pe,"","",function(Se){return te.call(K,Se,we++)}),pe}function Z($){if($._status===-1){var te=$._result;te=te(),te.then(function(K){($._status===0||$._status===-1)&&($._status=1,$._result=K)},function(K){($._status===0||$._status===-1)&&($._status=2,$._result=K)}),$._status===-1&&($._status=0,$._result=te)}if($._status===1)return $._result.default;throw $._result}var ne=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Y={map:H,forEach:function($,te,K){H($,function(){te.apply(this,arguments)},K)},count:function($){var te=0;return H($,function(){te++}),te},toArray:function($){return H($,function(te){return te})||[]},only:function($){if(!V($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Xe.Activity=p,Xe.Children=Y,Xe.Component=C,Xe.Fragment=n,Xe.Profiler=i,Xe.PureComponent=I,Xe.StrictMode=r,Xe.Suspense=u,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Xe.__COMPILER_RUNTIME={__proto__:null,c:function($){return P.H.useMemoCache($)}},Xe.cache=function($){return function(){return $.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function($,te,K){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var pe=k({},$.props),we=$.key;if(te!=null)for(Se in te.key!==void 0&&(we=""+te.key),te)!U.call(te,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&te.ref===void 0||(pe[Se]=te[Se]);var Se=arguments.length-2;if(Se===1)pe.children=K;else if(1<Se){for(var Ie=Array(Se),He=0;He<Se;He++)Ie[He]=arguments[He+2];pe.children=Ie}return M($.type,we,pe)},Xe.createContext=function($){return $={$$typeof:s,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},Xe.createElement=function($,te,K){var pe,we={},Se=null;if(te!=null)for(pe in te.key!==void 0&&(Se=""+te.key),te)U.call(te,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(we[pe]=te[pe]);var Ie=arguments.length-2;if(Ie===1)we.children=K;else if(1<Ie){for(var He=Array(Ie),oe=0;oe<Ie;oe++)He[oe]=arguments[oe+2];we.children=He}if($&&$.defaultProps)for(pe in Ie=$.defaultProps,Ie)we[pe]===void 0&&(we[pe]=Ie[pe]);return M($,Se,we)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function($){return{$$typeof:l,render:$}},Xe.isValidElement=V,Xe.lazy=function($){return{$$typeof:f,_payload:{_status:-1,_result:$},_init:Z}},Xe.memo=function($,te){return{$$typeof:d,type:$,compare:te===void 0?null:te}},Xe.startTransition=function($){var te=P.T,K={};P.T=K;try{var pe=$(),we=P.S;we!==null&&we(K,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(j,ne)}catch(Se){ne(Se)}finally{te!==null&&K.types!==null&&(te.types=K.types),P.T=te}},Xe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Xe.use=function($){return P.H.use($)},Xe.useActionState=function($,te,K){return P.H.useActionState($,te,K)},Xe.useCallback=function($,te){return P.H.useCallback($,te)},Xe.useContext=function($){return P.H.useContext($)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function($,te){return P.H.useDeferredValue($,te)},Xe.useEffect=function($,te){return P.H.useEffect($,te)},Xe.useEffectEvent=function($){return P.H.useEffectEvent($)},Xe.useId=function(){return P.H.useId()},Xe.useImperativeHandle=function($,te,K){return P.H.useImperativeHandle($,te,K)},Xe.useInsertionEffect=function($,te){return P.H.useInsertionEffect($,te)},Xe.useLayoutEffect=function($,te){return P.H.useLayoutEffect($,te)},Xe.useMemo=function($,te){return P.H.useMemo($,te)},Xe.useOptimistic=function($,te){return P.H.useOptimistic($,te)},Xe.useReducer=function($,te,K){return P.H.useReducer($,te,K)},Xe.useRef=function($){return P.H.useRef($)},Xe.useState=function($){return P.H.useState($)},Xe.useSyncExternalStore=function($,te,K){return P.H.useSyncExternalStore($,te,K)},Xe.useTransition=function(){return P.H.useTransition()},Xe.version="19.2.1",Xe}var xR;function rf(){return xR||(xR=1,cw.exports=C7()),cw.exports}var A=rf();const en=ba(A),I7=T7({__proto__:null,default:en},[A]);var uw={exports:{}},kh={},dw={exports:{}},fw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R;function N7(){return _R||(_R=1,(function(t){function e(J,H){var Z=J.length;J.push(H);e:for(;0<Z;){var ne=Z-1>>>1,Y=J[ne];if(0<i(Y,H))J[ne]=H,J[Z]=Y,Z=ne;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var H=J[0],Z=J.pop();if(Z!==H){J[0]=Z;e:for(var ne=0,Y=J.length,$=Y>>>1;ne<$;){var te=2*(ne+1)-1,K=J[te],pe=te+1,we=J[pe];if(0>i(K,Z))pe<Y&&0>i(we,K)?(J[ne]=we,J[pe]=Z,ne=pe):(J[ne]=K,J[te]=Z,ne=te);else if(pe<Y&&0>i(we,Z))J[ne]=we,J[pe]=Z,ne=pe;else break e}}return H}function i(J,H){var Z=J.sortIndex-H.sortIndex;return Z!==0?Z:J.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],d=[],f=1,p=null,y=3,v=!1,T=!1,k=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function L(J){for(var H=n(d);H!==null;){if(H.callback===null)r(d);else if(H.startTime<=J)r(d),H.sortIndex=H.expirationTime,e(u,H);else break;H=n(d)}}function F(J){if(k=!1,L(J),!T)if(n(u)!==null)T=!0,j||(j=!0,q());else{var H=n(d);H!==null&&X(F,H.startTime-J)}}var j=!1,P=-1,U=5,M=-1;function B(){return S?!0:!(t.unstable_now()-M<U)}function V(){if(S=!1,j){var J=t.unstable_now();M=J;var H=!0;try{e:{T=!1,k&&(k=!1,R(P),P=-1),v=!0;var Z=y;try{t:{for(L(J),p=n(u);p!==null&&!(p.expirationTime>J&&B());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,y=p.priorityLevel;var Y=ne(p.expirationTime<=J);if(J=t.unstable_now(),typeof Y=="function"){p.callback=Y,L(J),H=!0;break t}p===n(u)&&r(u),L(J)}else r(u);p=n(u)}if(p!==null)H=!0;else{var $=n(d);$!==null&&X(F,$.startTime-J),H=!1}}break e}finally{p=null,y=Z,v=!1}H=void 0}}finally{H?q():j=!1}}}var q;if(typeof I=="function")q=function(){I(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,le=z.port2;z.port1.onmessage=V,q=function(){le.postMessage(null)}}else q=function(){C(V,0)};function X(J,H){P=C(function(){J(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(J){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var Z=y;y=H;try{return J()}finally{y=Z}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(J,H){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Z=y;y=J;try{return H()}finally{y=Z}},t.unstable_scheduleCallback=function(J,H,Z){var ne=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ne+Z:ne):Z=ne,J){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Z+Y,J={id:f++,callback:H,priorityLevel:J,startTime:Z,expirationTime:Y,sortIndex:-1},Z>ne?(J.sortIndex=Z,e(d,J),n(u)===null&&J===n(d)&&(k?(R(P),P=-1):k=!0,X(F,Z-ne))):(J.sortIndex=Y,e(u,J),T||v||(T=!0,j||(j=!0,q()))),J},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(J){var H=y;return function(){var Z=y;y=H;try{return J.apply(this,arguments)}finally{y=Z}}}})(fw)),fw}var wR;function R7(){return wR||(wR=1,dw.exports=N7()),dw.exports}var hw={exports:{}},Ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ER;function P7(){if(ER)return Ir;ER=1;var t=rf();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:f}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ir.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(u,d,null,f)},Ir.flushSync=function(u){var d=s.T,f=r.p;try{if(s.T=null,r.p=2,u)return u()}finally{s.T=d,r.p=f,r.d.f()}},Ir.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Ir.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ir.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:v}):f==="script"&&r.d.X(u,{crossOrigin:p,integrity:y,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ir.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Ir.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin);r.d.L(u,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ir.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Ir.requestFormReset=function(u){r.d.r(u)},Ir.unstable_batchedUpdates=function(u,d){return u(d)},Ir.useFormState=function(u,d,f){return s.H.useFormState(u,d,f)},Ir.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ir.version="19.2.1",Ir}var SR;function m5(){if(SR)return hw.exports;SR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hw.exports=P7(),hw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TR;function D7(){if(TR)return kh;TR=1;var t=R7(),e=rf(),n=m5();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(r(188))}function d(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(r(188));return c!==o?null:o}for(var h=o,g=c;;){var w=h.return;if(w===null)break;var E=w.alternate;if(E===null){if(g=w.return,g!==null){h=g;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===h)return u(w),o;if(E===g)return u(w),c;E=E.sibling}throw Error(r(188))}if(h.return!==g.return)h=w,g=E;else{for(var D=!1,G=w.child;G;){if(G===h){D=!0,h=w,g=E;break}if(G===g){D=!0,g=w,h=E;break}G=G.sibling}if(!D){for(G=E.child;G;){if(G===h){D=!0,h=E,g=w;break}if(G===g){D=!0,g=E,h=w;break}G=G.sibling}if(!D)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),I=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function q(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var z=Symbol.for("react.client.reference");function le(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case F:return"Suspense";case j:return"SuspenseList";case M:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case I:return o.displayName||"Context";case R:return(o._context.displayName||"Context")+".Consumer";case L:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return c=o.displayName||null,c!==null?c:le(o.type)||"Memo";case U:c=o._payload,o=o._init;try{return le(o(c))}catch{}}return null}var X=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ne=[],Y=-1;function $(o){return{current:o}}function te(o){0>Y||(o.current=ne[Y],ne[Y]=null,Y--)}function K(o,c){Y++,ne[Y]=o.current,o.current=c}var pe=$(null),we=$(null),Se=$(null),Ie=$(null);function He(o,c){switch(K(Se,c),K(we,o),K(pe,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?F2(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=F2(c),o=z2(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}te(pe),K(pe,o)}function oe(){te(pe),te(we),te(Se)}function Ce(o){o.memoizedState!==null&&K(Ie,o);var c=pe.current,h=z2(c,o.type);c!==h&&(K(we,o),K(pe,h))}function je(o){we.current===o&&(te(pe),te(we)),Ie.current===o&&(te(Ie),_h._currentValue=Z)}var be,lt;function fe(o){if(be===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);be=c&&c[1]||"",lt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+o+lt}var ke=!1;function Re(o,c){if(!o||ke)return"";ke=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(he){var ce=he}Reflect.construct(o,[],xe)}else{try{xe.call()}catch(he){ce=he}o.call(xe.prototype)}}else{try{throw Error()}catch(he){ce=he}(xe=o())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(he){if(he&&ce&&typeof he.stack=="string")return[he.stack,ce.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),D=E[0],G=E[1];if(D&&G){var Q=D.split(`
`),se=G.split(`
`);for(w=g=0;g<Q.length&&!Q[g].includes("DetermineComponentFrameRoot");)g++;for(;w<se.length&&!se[w].includes("DetermineComponentFrameRoot");)w++;if(g===Q.length||w===se.length)for(g=Q.length-1,w=se.length-1;1<=g&&0<=w&&Q[g]!==se[w];)w--;for(;1<=g&&0<=w;g--,w--)if(Q[g]!==se[w]){if(g!==1||w!==1)do if(g--,w--,0>w||Q[g]!==se[w]){var me=`
`+Q[g].replace(" at new "," at ");return o.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",o.displayName)),me}while(1<=g&&0<=w);break}}}finally{ke=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?fe(h):""}function it(o,c){switch(o.tag){case 26:case 27:case 5:return fe(o.type);case 16:return fe("Lazy");case 13:return o.child!==c&&c!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return Re(o.type,!1);case 11:return Re(o.type.render,!1);case 1:return Re(o.type,!0);case 31:return fe("Activity");default:return""}}function Cn(o){try{var c="",h=null;do c+=it(o,h),h=o,o=o.return;while(o);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var zt=Object.prototype.hasOwnProperty,wt=t.unstable_scheduleCallback,Vr=t.unstable_cancelCallback,Ya=t.unstable_shouldYield,js=t.unstable_requestPaint,In=t.unstable_now,wa=t.unstable_getCurrentPriorityLevel,ge=t.unstable_ImmediatePriority,Te=t.unstable_UserBlockingPriority,Fe=t.unstable_NormalPriority,We=t.unstable_LowPriority,mt=t.unstable_IdlePriority,Yt=t.log,Fr=t.unstable_setDisableYieldValue,un=null,Wt=null;function fn(o){if(typeof Yt=="function"&&Fr(o),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(un,o)}catch{}}var rt=Math.clz32?Math.clz32:gu,Ei=Math.log,$n=Math.LN2;function gu(o){return o>>>=0,o===0?32:31-(Ei(o)/$n|0)|0}var Hi=256,Us=262144,at=4194304;function nn(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function rn(o,c,h){var g=o.pendingLanes;if(g===0)return 0;var w=0,E=o.suspendedLanes,D=o.pingedLanes;o=o.warmLanes;var G=g&134217727;return G!==0?(g=G&~E,g!==0?w=nn(g):(D&=G,D!==0?w=nn(D):h||(h=G&~o,h!==0&&(w=nn(h))))):(G=g&~E,G!==0?w=nn(G):D!==0?w=nn(D):h||(h=g&~o,h!==0&&(w=nn(h)))),w===0?0:c!==0&&c!==w&&(c&E)===0&&(E=w&-w,h=c&-c,E>=h||E===32&&(h&4194048)!==0)?c:w}function Nn(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function kr(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function er(){var o=at;return at<<=1,(at&62914560)===0&&(at=4194304),o}function vn(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function ni(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function bn(o,c,h,g,w,E){var D=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var G=o.entanglements,Q=o.expirationTimes,se=o.hiddenUpdates;for(h=D&~h;0<h;){var me=31-rt(h),xe=1<<me;G[me]=0,Q[me]=-1;var ce=se[me];if(ce!==null)for(se[me]=null,me=0;me<ce.length;me++){var he=ce[me];he!==null&&(he.lane&=-536870913)}h&=~xe}g!==0&&Ar(o,g,0),E!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=E&~(D&~c))}function Ar(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-rt(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|h&261930}function Cr(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var g=31-rt(h),w=1<<g;w&c|o[g]&c&&(o[g]|=c),h&=~w}}function zr(o,c){var h=c&-c;return h=(h&42)!==0?1:Si(h),(h&(o.suspendedLanes|c))!==0?0:h}function Si(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Br(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ti(){var o=H.p;return o!==0?o:(o=window.event,o===void 0?32:uR(o.type))}function pr(o,c){var h=H.p;try{return H.p=o,c()}finally{H.p=h}}var qr=Math.random().toString(36).slice(2),Rn="__reactFiber$"+qr,tr="__reactProps$"+qr,Wa="__reactContainer$"+qr,yu="__reactEvents$"+qr,hx="__reactListeners$"+qr,Fm="__reactHandles$"+qr,zm="__reactResources$"+qr,Ja="__reactMarker$"+qr;function vu(o){delete o[Rn],delete o[tr],delete o[yu],delete o[hx],delete o[Fm]}function Xa(o){var c=o[Rn];if(c)return c;for(var h=o.parentNode;h;){if(c=h[Wa]||h[Rn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=Y2(o);o!==null;){if(h=o[Rn])return h;o=Y2(o)}return c}o=h,h=o.parentNode}return null}function Gi(o){if(o=o[Rn]||o[Wa]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function ki(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Qa(o){var c=o[zm];return c||(c=o[zm]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Pn(o){o[Ja]=!0}var Cf=new Set,If={};function Za(o,c){es(o,c),es(o+"Capture",c)}function es(o,c){for(If[o]=c,o=0;o<c.length;o++)Cf.add(c[o])}var Nf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rf={},Pf={};function Bm(o){return zt.call(Pf,o)?!0:zt.call(Rf,o)?!1:Nf.test(o)?Pf[o]=!0:(Rf[o]=!0,!1)}function bu(o,c,h){if(Bm(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function Ai(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function Dn(o,c,h,g){if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+g)}}function nr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Bo(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Df(o,c,h){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var w=g.get,E=g.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(D){h=""+D,E.call(this,D)}}),Object.defineProperty(o,c,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Nt(o){if(!o._valueTracker){var c=Bo(o)?"checked":"value";o._valueTracker=Df(o,c,""+o[c])}}function uc(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return o&&(g=Bo(o)?o.checked?"true":"false":o.value),o=g,o!==h?(c.setValue(o),!0):!1}function ts(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var dc=/[\n"\\]/g;function ri(o){return o.replace(dc,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function xu(o,c,h,g,w,E,D,G){o.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.type=D:o.removeAttribute("type"),c!=null?D==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+nr(c)):o.value!==""+nr(c)&&(o.value=""+nr(c)):D!=="submit"&&D!=="reset"||o.removeAttribute("value"),c!=null?Mf(o,D,nr(c)):h!=null?Mf(o,D,nr(h)):g!=null&&o.removeAttribute("value"),w==null&&E!=null&&(o.defaultChecked=!!E),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?o.name=""+nr(G):o.removeAttribute("name")}function qm(o,c,h,g,w,E,D,G){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(o.type=E),c!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||c!=null)){Nt(o);return}h=h!=null?""+nr(h):"",c=c!=null?""+nr(c):h,G||c===o.value||(o.value=c),o.defaultValue=c}g=g??w,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=G?o.checked:!!g,o.defaultChecked=!!g,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.name=D),Nt(o)}function Mf(o,c,h){c==="number"&&ts(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function qo(o,c,h,g){if(o=o.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=c.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&g&&(o[h].defaultSelected=!0)}else{for(h=""+nr(h),c=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,g&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function $m(o,c,h){if(c!=null&&(c=""+nr(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+nr(h):""}function $o(o,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(r(92));if(X(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=nr(c),o.defaultValue=h,g=o.textContent,g===h&&g!==""&&g!==null&&(o.value=g),Nt(o)}function ii(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var Hm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Of(o,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,h):typeof h!="number"||h===0||Hm.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function Lf(o,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var w in c)g=c[w],c.hasOwnProperty(w)&&h[w]!==g&&Of(o,w,g)}else for(var E in c)c.hasOwnProperty(E)&&Of(o,E,c[E])}function _u(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ho=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wu(o){return Ho.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Ea(){}var jf=null;function Ki(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Go=null,ns=null;function fc(o){var c=Gi(o);if(c&&(o=c.stateNode)){var h=o[tr]||null;e:switch(o=c.stateNode,c.type){case"input":if(xu(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ri(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==o&&g.form===o.form){var w=g[tr]||null;if(!w)throw Error(r(90));xu(g,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===o.form&&uc(g)}break e;case"textarea":$m(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&qo(o,!!h.multiple,c,!1)}}}var Eu=!1;function Ko(o,c,h){if(Eu)return o(c,h);Eu=!0;try{var g=o(c);return g}finally{if(Eu=!1,(Go!==null||ns!==null)&&(Vg(),Go&&(c=Go,o=ns,ns=Go=null,fc(c),o)))for(c=0;c<o.length;c++)fc(o[c])}}function Sa(o,c){var h=o.stateNode;if(h===null)return null;var g=h[tr]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hc=!1;if(Yi)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){hc=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{hc=!1}var rs=null,Uf=null,pc=null;function Vf(){if(pc)return pc;var o,c=Uf,h=c.length,g,w="value"in rs?rs.value:rs.textContent,E=w.length;for(o=0;o<h&&c[o]===w[o];o++);var D=h-o;for(g=1;g<=D&&c[h-g]===w[E-g];g++);return pc=w.slice(o,1<g?1-g:void 0)}function mc(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Vs(){return!0}function Ta(){return!1}function mr(o){function c(h,g,w,E,D){this._reactName=h,this._targetInst=w,this.type=g,this.nativeEvent=E,this.target=D,this.currentTarget=null;for(var G in o)o.hasOwnProperty(G)&&(h=o[G],this[G]=h?h(E):E[G]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Vs:Ta,this.isPropagationStopped=Ta,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),c}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=mr(Fs),Yo=p({},Fs,{view:0,detail:0}),Ff=mr(Yo),Wo,Su,as,Tu=p({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==as&&(as&&o.type==="mousemove"?(Wo=o.screenX-as.screenX,Su=o.screenY-as.screenY):Su=Wo=0,as=o),Wo)},movementY:function(o){return"movementY"in o?o.movementY:Su}}),zf=mr(Tu),gc=p({},Tu,{dataTransfer:0}),Km=mr(gc),Ym=p({},Yo,{relatedTarget:0}),yc=mr(Ym),Bf=p({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Wm=mr(Bf),ku=p({},Fs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jm=mr(ku),Xm=p({},Fs,{data:0}),ss=mr(Xm),Qm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tg(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=eg[o])?!!c[o]:!1}function Jo(){return tg}var $r=p({},Yo,{key:function(o){if(o.key){var c=Qm[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=mc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Zm[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(o){return o.type==="keypress"?mc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?mc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ng=mr($r),rg=p({},Tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zs=mr(rg),_=p({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),N=mr(_),O=p({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),W=mr(O),ie=p({},Tu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ue=mr(ie),Ne=p({},Fs,{newState:0,oldState:0}),Ze=mr(Ne),xn=[9,13,27,32],Et=Yi&&"CompositionEvent"in window,an=null;Yi&&"documentMode"in document&&(an=document.documentMode);var Wi=Yi&&"TextEvent"in window&&!an,os=Yi&&(!Et||an&&8<an&&11>=an),ka=" ",Aa=!1;function vc(o,c){switch(o){case"keyup":return xn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Au(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Cu=!1;function K$(o,c){switch(o){case"compositionend":return Au(c);case"keypress":return c.which!==32?null:(Aa=!0,ka);case"textInput":return o=c.data,o===ka&&Aa?null:o;default:return null}}function Y$(o,c){if(Cu)return o==="compositionend"||!Et&&vc(o,c)?(o=Vf(),pc=Uf=rs=null,Cu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return os&&c.locale!=="ko"?null:c.data;default:return null}}var W$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XC(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!W$[o.type]:c==="textarea"}function QC(o,c,h,g){Go?ns?ns.push(g):ns=[g]:Go=g,c=Gg(c,"onChange"),0<c.length&&(h=new is("onChange","change",null,h,g),o.push({event:h,listeners:c}))}var qf=null,$f=null;function J$(o){M2(o,0)}function ig(o){var c=ki(o);if(uc(c))return o}function ZC(o,c){if(o==="change")return c}var eI=!1;if(Yi){var px;if(Yi){var mx="oninput"in document;if(!mx){var tI=document.createElement("div");tI.setAttribute("oninput","return;"),mx=typeof tI.oninput=="function"}px=mx}else px=!1;eI=px&&(!document.documentMode||9<document.documentMode)}function nI(){qf&&(qf.detachEvent("onpropertychange",rI),$f=qf=null)}function rI(o){if(o.propertyName==="value"&&ig($f)){var c=[];QC(c,$f,o,Ki(o)),Ko(J$,c)}}function X$(o,c,h){o==="focusin"?(nI(),qf=c,$f=h,qf.attachEvent("onpropertychange",rI)):o==="focusout"&&nI()}function Q$(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ig($f)}function Z$(o,c){if(o==="click")return ig(c)}function eH(o,c){if(o==="input"||o==="change")return ig(c)}function tH(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Ci=typeof Object.is=="function"?Object.is:tH;function Hf(o,c){if(Ci(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var w=h[g];if(!zt.call(c,w)||!Ci(o[w],c[w]))return!1}return!0}function iI(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function aI(o,c){var h=iI(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=c&&g>=c)return{node:h,offset:c-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=iI(h)}}function sI(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?sI(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function oI(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=ts(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=ts(o.document)}return c}function gx(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var nH=Yi&&"documentMode"in document&&11>=document.documentMode,Iu=null,yx=null,Gf=null,vx=!1;function lI(o,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;vx||Iu==null||Iu!==ts(g)||(g=Iu,"selectionStart"in g&&gx(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Gf&&Hf(Gf,g)||(Gf=g,g=Gg(yx,"onSelect"),0<g.length&&(c=new is("onSelect","select",null,c,h),o.push({event:c,listeners:g}),c.target=Iu)))}function bc(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var Nu={animationend:bc("Animation","AnimationEnd"),animationiteration:bc("Animation","AnimationIteration"),animationstart:bc("Animation","AnimationStart"),transitionrun:bc("Transition","TransitionRun"),transitionstart:bc("Transition","TransitionStart"),transitioncancel:bc("Transition","TransitionCancel"),transitionend:bc("Transition","TransitionEnd")},bx={},cI={};Yi&&(cI=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function xc(o){if(bx[o])return bx[o];if(!Nu[o])return o;var c=Nu[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in cI)return bx[o]=c[h];return o}var uI=xc("animationend"),dI=xc("animationiteration"),fI=xc("animationstart"),rH=xc("transitionrun"),iH=xc("transitionstart"),aH=xc("transitioncancel"),hI=xc("transitionend"),pI=new Map,xx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xx.push("scrollEnd");function Ca(o,c){pI.set(o,c),Za(c,[o])}var ag=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Ji=[],Ru=0,_x=0;function sg(){for(var o=Ru,c=_x=Ru=0;c<o;){var h=Ji[c];Ji[c++]=null;var g=Ji[c];Ji[c++]=null;var w=Ji[c];Ji[c++]=null;var E=Ji[c];if(Ji[c++]=null,g!==null&&w!==null){var D=g.pending;D===null?w.next=w:(w.next=D.next,D.next=w),g.pending=w}E!==0&&mI(h,w,E)}}function og(o,c,h,g){Ji[Ru++]=o,Ji[Ru++]=c,Ji[Ru++]=h,Ji[Ru++]=g,_x|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function wx(o,c,h,g){return og(o,c,h,g),lg(o)}function _c(o,c){return og(o,null,null,c),lg(o)}function mI(o,c,h){o.lanes|=h;var g=o.alternate;g!==null&&(g.lanes|=h);for(var w=!1,E=o.return;E!==null;)E.childLanes|=h,g=E.alternate,g!==null&&(g.childLanes|=h),E.tag===22&&(o=E.stateNode,o===null||o._visibility&1||(w=!0)),o=E,E=E.return;return o.tag===3?(E=o.stateNode,w&&c!==null&&(w=31-rt(h),o=E.hiddenUpdates,g=o[w],g===null?o[w]=[c]:g.push(c),c.lane=h|536870912),E):null}function lg(o){if(50<ph)throw ph=0,R_=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Pu={};function sH(o,c,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(o,c,h,g){return new sH(o,c,h,g)}function Ex(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Bs(o,c){var h=o.alternate;return h===null?(h=Ii(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function gI(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function cg(o,c,h,g,w,E){var D=0;if(g=o,typeof o=="function")Ex(o)&&(D=1);else if(typeof o=="string")D=d7(o,h,pe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case M:return o=Ii(31,h,c,w),o.elementType=M,o.lanes=E,o;case k:return wc(h.children,w,E,c);case S:D=8,w|=24;break;case C:return o=Ii(12,h,c,w|2),o.elementType=C,o.lanes=E,o;case F:return o=Ii(13,h,c,w),o.elementType=F,o.lanes=E,o;case j:return o=Ii(19,h,c,w),o.elementType=j,o.lanes=E,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:D=10;break e;case R:D=9;break e;case L:D=11;break e;case P:D=14;break e;case U:D=16,g=null;break e}D=29,h=Error(r(130,o===null?"null":typeof o,"")),g=null}return c=Ii(D,h,c,w),c.elementType=o,c.type=g,c.lanes=E,c}function wc(o,c,h,g){return o=Ii(7,o,g,c),o.lanes=h,o}function Sx(o,c,h){return o=Ii(6,o,null,c),o.lanes=h,o}function yI(o){var c=Ii(18,null,null,0);return c.stateNode=o,c}function Tx(o,c,h){return c=Ii(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var vI=new WeakMap;function Xi(o,c){if(typeof o=="object"&&o!==null){var h=vI.get(o);return h!==void 0?h:(c={value:o,source:c,stack:Cn(c)},vI.set(o,c),c)}return{value:o,source:c,stack:Cn(c)}}var Du=[],Mu=0,ug=null,Kf=0,Qi=[],Zi=0,Xo=null,ls=1,cs="";function qs(o,c){Du[Mu++]=Kf,Du[Mu++]=ug,ug=o,Kf=c}function bI(o,c,h){Qi[Zi++]=ls,Qi[Zi++]=cs,Qi[Zi++]=Xo,Xo=o;var g=ls;o=cs;var w=32-rt(g)-1;g&=~(1<<w),h+=1;var E=32-rt(c)+w;if(30<E){var D=w-w%5;E=(g&(1<<D)-1).toString(32),g>>=D,w-=D,ls=1<<32-rt(c)+w|h<<w|g,cs=E+o}else ls=1<<E|h<<w|g,cs=o}function kx(o){o.return!==null&&(qs(o,1),bI(o,1,0))}function Ax(o){for(;o===ug;)ug=Du[--Mu],Du[Mu]=null,Kf=Du[--Mu],Du[Mu]=null;for(;o===Xo;)Xo=Qi[--Zi],Qi[Zi]=null,cs=Qi[--Zi],Qi[Zi]=null,ls=Qi[--Zi],Qi[Zi]=null}function xI(o,c){Qi[Zi++]=ls,Qi[Zi++]=cs,Qi[Zi++]=Xo,ls=c.id,cs=c.overflow,Xo=o}var gr=null,Jt=null,gt=!1,Qo=null,ea=!1,Cx=Error(r(519));function Zo(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yf(Xi(c,o)),Cx}function _I(o){var c=o.stateNode,h=o.type,g=o.memoizedProps;switch(c[Rn]=o,c[tr]=g,h){case"dialog":ot("cancel",c),ot("close",c);break;case"iframe":case"object":case"embed":ot("load",c);break;case"video":case"audio":for(h=0;h<gh.length;h++)ot(gh[h],c);break;case"source":ot("error",c);break;case"img":case"image":case"link":ot("error",c),ot("load",c);break;case"details":ot("toggle",c);break;case"input":ot("invalid",c),qm(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":ot("invalid",c);break;case"textarea":ot("invalid",c),$o(c,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||U2(c.textContent,h)?(g.popover!=null&&(ot("beforetoggle",c),ot("toggle",c)),g.onScroll!=null&&ot("scroll",c),g.onScrollEnd!=null&&ot("scrollend",c),g.onClick!=null&&(c.onclick=Ea),c=!0):c=!1,c||Zo(o,!0)}function wI(o){for(gr=o.return;gr;)switch(gr.tag){case 5:case 31:case 13:ea=!1;return;case 27:case 3:ea=!0;return;default:gr=gr.return}}function Ou(o){if(o!==gr)return!1;if(!gt)return wI(o),gt=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||G_(o.type,o.memoizedProps)),h=!h),h&&Jt&&Zo(o),wI(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Jt=K2(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Jt=K2(o)}else c===27?(c=Jt,hl(o.type)?(o=X_,X_=null,Jt=o):Jt=c):Jt=gr?na(o.stateNode.nextSibling):null;return!0}function Ec(){Jt=gr=null,gt=!1}function Ix(){var o=Qo;return o!==null&&(li===null?li=o:li.push.apply(li,o),Qo=null),o}function Yf(o){Qo===null?Qo=[o]:Qo.push(o)}var Nx=$(null),Sc=null,$s=null;function el(o,c,h){K(Nx,c._currentValue),c._currentValue=h}function Hs(o){o._currentValue=Nx.current,te(Nx)}function Rx(o,c,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===h)break;o=o.return}}function Px(o,c,h,g){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var E=w.dependencies;if(E!==null){var D=w.child;E=E.firstContext;e:for(;E!==null;){var G=E;E=w;for(var Q=0;Q<c.length;Q++)if(G.context===c[Q]){E.lanes|=h,G=E.alternate,G!==null&&(G.lanes|=h),Rx(E.return,h,o),g||(D=null);break e}E=G.next}}else if(w.tag===18){if(D=w.return,D===null)throw Error(r(341));D.lanes|=h,E=D.alternate,E!==null&&(E.lanes|=h),Rx(D,h,o),D=null}else D=w.child;if(D!==null)D.return=w;else for(D=w;D!==null;){if(D===o){D=null;break}if(w=D.sibling,w!==null){w.return=D.return,D=w;break}D=D.return}w=D}}function Lu(o,c,h,g){o=null;for(var w=c,E=!1;w!==null;){if(!E){if((w.flags&524288)!==0)E=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var D=w.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var G=w.type;Ci(w.pendingProps.value,D.value)||(o!==null?o.push(G):o=[G])}}else if(w===Ie.current){if(D=w.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(_h):o=[_h])}w=w.return}o!==null&&Px(c,o,h,g),c.flags|=262144}function dg(o){for(o=o.firstContext;o!==null;){if(!Ci(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Tc(o){Sc=o,$s=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function yr(o){return EI(Sc,o)}function fg(o,c){return Sc===null&&Tc(o),EI(o,c)}function EI(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},$s===null){if(o===null)throw Error(r(308));$s=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else $s=$s.next=c;return h}var oH=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},lH=t.unstable_scheduleCallback,cH=t.unstable_NormalPriority,Mn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dx(){return{controller:new oH,data:new Map,refCount:0}}function Wf(o){o.refCount--,o.refCount===0&&lH(cH,function(){o.controller.abort()})}var Jf=null,Mx=0,ju=0,Uu=null;function uH(o,c){if(Jf===null){var h=Jf=[];Mx=0,ju=j_(),Uu={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Mx++,c.then(SI,SI),c}function SI(){if(--Mx===0&&Jf!==null){Uu!==null&&(Uu.status="fulfilled");var o=Jf;Jf=null,ju=0,Uu=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function dH(o,c){var h=[],g={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var w=0;w<h.length;w++)(0,h[w])(c)},function(w){for(g.status="rejected",g.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),g}var TI=J.S;J.S=function(o,c){l2=In(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&uH(o,c),TI!==null&&TI(o,c)};var kc=$(null);function Ox(){var o=kc.current;return o!==null?o:Bt.pooledCache}function hg(o,c){c===null?K(kc,kc.current):K(kc,c.pool)}function kI(){var o=Ox();return o===null?null:{parent:Mn._currentValue,pool:o}}var Vu=Error(r(460)),Lx=Error(r(474)),pg=Error(r(542)),mg={then:function(){}};function AI(o){return o=o.status,o==="fulfilled"||o==="rejected"}function CI(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(Ea,Ea),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,NI(o),o;default:if(typeof c.status=="string")c.then(Ea,Ea);else{if(o=Bt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=g}},function(g){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,NI(o),o}throw Cc=c,Vu}}function Ac(o){try{var c=o._init;return c(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Cc=h,Vu):h}}var Cc=null;function II(){if(Cc===null)throw Error(r(459));var o=Cc;return Cc=null,o}function NI(o){if(o===Vu||o===pg)throw Error(r(483))}var Fu=null,Xf=0;function gg(o){var c=Xf;return Xf+=1,Fu===null&&(Fu=[]),CI(Fu,o,c)}function Qf(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function yg(o,c){throw c.$$typeof===y?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function RI(o){function c(re,ee){if(o){var ae=re.deletions;ae===null?(re.deletions=[ee],re.flags|=16):ae.push(ee)}}function h(re,ee){if(!o)return null;for(;ee!==null;)c(re,ee),ee=ee.sibling;return null}function g(re){for(var ee=new Map;re!==null;)re.key!==null?ee.set(re.key,re):ee.set(re.index,re),re=re.sibling;return ee}function w(re,ee){return re=Bs(re,ee),re.index=0,re.sibling=null,re}function E(re,ee,ae){return re.index=ae,o?(ae=re.alternate,ae!==null?(ae=ae.index,ae<ee?(re.flags|=67108866,ee):ae):(re.flags|=67108866,ee)):(re.flags|=1048576,ee)}function D(re){return o&&re.alternate===null&&(re.flags|=67108866),re}function G(re,ee,ae,ye){return ee===null||ee.tag!==6?(ee=Sx(ae,re.mode,ye),ee.return=re,ee):(ee=w(ee,ae),ee.return=re,ee)}function Q(re,ee,ae,ye){var qe=ae.type;return qe===k?me(re,ee,ae.props.children,ye,ae.key):ee!==null&&(ee.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===U&&Ac(qe)===ee.type)?(ee=w(ee,ae.props),Qf(ee,ae),ee.return=re,ee):(ee=cg(ae.type,ae.key,ae.props,null,re.mode,ye),Qf(ee,ae),ee.return=re,ee)}function se(re,ee,ae,ye){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ae.containerInfo||ee.stateNode.implementation!==ae.implementation?(ee=Tx(ae,re.mode,ye),ee.return=re,ee):(ee=w(ee,ae.children||[]),ee.return=re,ee)}function me(re,ee,ae,ye,qe){return ee===null||ee.tag!==7?(ee=wc(ae,re.mode,ye,qe),ee.return=re,ee):(ee=w(ee,ae),ee.return=re,ee)}function xe(re,ee,ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=Sx(""+ee,re.mode,ae),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return ae=cg(ee.type,ee.key,ee.props,null,re.mode,ae),Qf(ae,ee),ae.return=re,ae;case T:return ee=Tx(ee,re.mode,ae),ee.return=re,ee;case U:return ee=Ac(ee),xe(re,ee,ae)}if(X(ee)||q(ee))return ee=wc(ee,re.mode,ae,null),ee.return=re,ee;if(typeof ee.then=="function")return xe(re,gg(ee),ae);if(ee.$$typeof===I)return xe(re,fg(re,ee),ae);yg(re,ee)}return null}function ce(re,ee,ae,ye){var qe=ee!==null?ee.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return qe!==null?null:G(re,ee,""+ae,ye);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return ae.key===qe?Q(re,ee,ae,ye):null;case T:return ae.key===qe?se(re,ee,ae,ye):null;case U:return ae=Ac(ae),ce(re,ee,ae,ye)}if(X(ae)||q(ae))return qe!==null?null:me(re,ee,ae,ye,null);if(typeof ae.then=="function")return ce(re,ee,gg(ae),ye);if(ae.$$typeof===I)return ce(re,ee,fg(re,ae),ye);yg(re,ae)}return null}function he(re,ee,ae,ye,qe){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return re=re.get(ae)||null,G(ee,re,""+ye,qe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case v:return re=re.get(ye.key===null?ae:ye.key)||null,Q(ee,re,ye,qe);case T:return re=re.get(ye.key===null?ae:ye.key)||null,se(ee,re,ye,qe);case U:return ye=Ac(ye),he(re,ee,ae,ye,qe)}if(X(ye)||q(ye))return re=re.get(ae)||null,me(ee,re,ye,qe,null);if(typeof ye.then=="function")return he(re,ee,ae,gg(ye),qe);if(ye.$$typeof===I)return he(re,ee,ae,fg(ee,ye),qe);yg(ee,ye)}return null}function Le(re,ee,ae,ye){for(var qe=null,vt=null,Ue=ee,tt=ee=0,ut=null;Ue!==null&&tt<ae.length;tt++){Ue.index>tt?(ut=Ue,Ue=null):ut=Ue.sibling;var bt=ce(re,Ue,ae[tt],ye);if(bt===null){Ue===null&&(Ue=ut);break}o&&Ue&&bt.alternate===null&&c(re,Ue),ee=E(bt,ee,tt),vt===null?qe=bt:vt.sibling=bt,vt=bt,Ue=ut}if(tt===ae.length)return h(re,Ue),gt&&qs(re,tt),qe;if(Ue===null){for(;tt<ae.length;tt++)Ue=xe(re,ae[tt],ye),Ue!==null&&(ee=E(Ue,ee,tt),vt===null?qe=Ue:vt.sibling=Ue,vt=Ue);return gt&&qs(re,tt),qe}for(Ue=g(Ue);tt<ae.length;tt++)ut=he(Ue,re,tt,ae[tt],ye),ut!==null&&(o&&ut.alternate!==null&&Ue.delete(ut.key===null?tt:ut.key),ee=E(ut,ee,tt),vt===null?qe=ut:vt.sibling=ut,vt=ut);return o&&Ue.forEach(function(vl){return c(re,vl)}),gt&&qs(re,tt),qe}function Ge(re,ee,ae,ye){if(ae==null)throw Error(r(151));for(var qe=null,vt=null,Ue=ee,tt=ee=0,ut=null,bt=ae.next();Ue!==null&&!bt.done;tt++,bt=ae.next()){Ue.index>tt?(ut=Ue,Ue=null):ut=Ue.sibling;var vl=ce(re,Ue,bt.value,ye);if(vl===null){Ue===null&&(Ue=ut);break}o&&Ue&&vl.alternate===null&&c(re,Ue),ee=E(vl,ee,tt),vt===null?qe=vl:vt.sibling=vl,vt=vl,Ue=ut}if(bt.done)return h(re,Ue),gt&&qs(re,tt),qe;if(Ue===null){for(;!bt.done;tt++,bt=ae.next())bt=xe(re,bt.value,ye),bt!==null&&(ee=E(bt,ee,tt),vt===null?qe=bt:vt.sibling=bt,vt=bt);return gt&&qs(re,tt),qe}for(Ue=g(Ue);!bt.done;tt++,bt=ae.next())bt=he(Ue,re,tt,bt.value,ye),bt!==null&&(o&&bt.alternate!==null&&Ue.delete(bt.key===null?tt:bt.key),ee=E(bt,ee,tt),vt===null?qe=bt:vt.sibling=bt,vt=bt);return o&&Ue.forEach(function(w7){return c(re,w7)}),gt&&qs(re,tt),qe}function Ut(re,ee,ae,ye){if(typeof ae=="object"&&ae!==null&&ae.type===k&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:e:{for(var qe=ae.key;ee!==null;){if(ee.key===qe){if(qe=ae.type,qe===k){if(ee.tag===7){h(re,ee.sibling),ye=w(ee,ae.props.children),ye.return=re,re=ye;break e}}else if(ee.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===U&&Ac(qe)===ee.type){h(re,ee.sibling),ye=w(ee,ae.props),Qf(ye,ae),ye.return=re,re=ye;break e}h(re,ee);break}else c(re,ee);ee=ee.sibling}ae.type===k?(ye=wc(ae.props.children,re.mode,ye,ae.key),ye.return=re,re=ye):(ye=cg(ae.type,ae.key,ae.props,null,re.mode,ye),Qf(ye,ae),ye.return=re,re=ye)}return D(re);case T:e:{for(qe=ae.key;ee!==null;){if(ee.key===qe)if(ee.tag===4&&ee.stateNode.containerInfo===ae.containerInfo&&ee.stateNode.implementation===ae.implementation){h(re,ee.sibling),ye=w(ee,ae.children||[]),ye.return=re,re=ye;break e}else{h(re,ee);break}else c(re,ee);ee=ee.sibling}ye=Tx(ae,re.mode,ye),ye.return=re,re=ye}return D(re);case U:return ae=Ac(ae),Ut(re,ee,ae,ye)}if(X(ae))return Le(re,ee,ae,ye);if(q(ae)){if(qe=q(ae),typeof qe!="function")throw Error(r(150));return ae=qe.call(ae),Ge(re,ee,ae,ye)}if(typeof ae.then=="function")return Ut(re,ee,gg(ae),ye);if(ae.$$typeof===I)return Ut(re,ee,fg(re,ae),ye);yg(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,ee!==null&&ee.tag===6?(h(re,ee.sibling),ye=w(ee,ae),ye.return=re,re=ye):(h(re,ee),ye=Sx(ae,re.mode,ye),ye.return=re,re=ye),D(re)):h(re,ee)}return function(re,ee,ae,ye){try{Xf=0;var qe=Ut(re,ee,ae,ye);return Fu=null,qe}catch(Ue){if(Ue===Vu||Ue===pg)throw Ue;var vt=Ii(29,Ue,null,re.mode);return vt.lanes=ye,vt.return=re,vt}finally{}}}var Ic=RI(!0),PI=RI(!1),tl=!1;function jx(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ux(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function nl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function rl(o,c,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(St&2)!==0){var w=g.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),g.pending=c,c=lg(o),mI(o,null,h),c}return og(o,g,c,h),lg(o)}function Zf(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,Cr(o,h)}}function Vx(o,c){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var w=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var D={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?w=E=D:E=E.next=D,h=h.next}while(h!==null);E===null?w=E=c:E=E.next=c}else w=E=c;h={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var Fx=!1;function eh(){if(Fx){var o=Uu;if(o!==null)throw o}}function th(o,c,h,g){Fx=!1;var w=o.updateQueue;tl=!1;var E=w.firstBaseUpdate,D=w.lastBaseUpdate,G=w.shared.pending;if(G!==null){w.shared.pending=null;var Q=G,se=Q.next;Q.next=null,D===null?E=se:D.next=se,D=Q;var me=o.alternate;me!==null&&(me=me.updateQueue,G=me.lastBaseUpdate,G!==D&&(G===null?me.firstBaseUpdate=se:G.next=se,me.lastBaseUpdate=Q))}if(E!==null){var xe=w.baseState;D=0,me=se=Q=null,G=E;do{var ce=G.lane&-536870913,he=ce!==G.lane;if(he?(ct&ce)===ce:(g&ce)===ce){ce!==0&&ce===ju&&(Fx=!0),me!==null&&(me=me.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Le=o,Ge=G;ce=c;var Ut=h;switch(Ge.tag){case 1:if(Le=Ge.payload,typeof Le=="function"){xe=Le.call(Ut,xe,ce);break e}xe=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ge.payload,ce=typeof Le=="function"?Le.call(Ut,xe,ce):Le,ce==null)break e;xe=p({},xe,ce);break e;case 2:tl=!0}}ce=G.callback,ce!==null&&(o.flags|=64,he&&(o.flags|=8192),he=w.callbacks,he===null?w.callbacks=[ce]:he.push(ce))}else he={lane:ce,tag:G.tag,payload:G.payload,callback:G.callback,next:null},me===null?(se=me=he,Q=xe):me=me.next=he,D|=ce;if(G=G.next,G===null){if(G=w.shared.pending,G===null)break;he=G,G=he.next,he.next=null,w.lastBaseUpdate=he,w.shared.pending=null}}while(!0);me===null&&(Q=xe),w.baseState=Q,w.firstBaseUpdate=se,w.lastBaseUpdate=me,E===null&&(w.shared.lanes=0),ll|=D,o.lanes=D,o.memoizedState=xe}}function DI(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function MI(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)DI(h[o],c)}var zu=$(null),vg=$(0);function OI(o,c){o=eo,K(vg,o),K(zu,c),eo=o|c.baseLanes}function zx(){K(vg,eo),K(zu,zu.current)}function Bx(){eo=vg.current,te(zu),te(vg)}var Ni=$(null),ta=null;function il(o){var c=o.alternate;K(_n,_n.current&1),K(Ni,o),ta===null&&(c===null||zu.current!==null||c.memoizedState!==null)&&(ta=o)}function qx(o){K(_n,_n.current),K(Ni,o),ta===null&&(ta=o)}function LI(o){o.tag===22?(K(_n,_n.current),K(Ni,o),ta===null&&(ta=o)):al()}function al(){K(_n,_n.current),K(Ni,Ni.current)}function Ri(o){te(Ni),ta===o&&(ta=null),te(_n)}var _n=$(0);function bg(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||W_(h)||J_(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Gs=0,et=null,Lt=null,On=null,xg=!1,Bu=!1,Nc=!1,_g=0,nh=0,qu=null,fH=0;function hn(){throw Error(r(321))}function $x(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Ci(o[h],c[h]))return!1;return!0}function Hx(o,c,h,g,w,E){return Gs=E,et=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,J.H=o===null||o.memoizedState===null?bN:s_,Nc=!1,E=h(g,w),Nc=!1,Bu&&(E=UI(c,h,g,w)),jI(o),E}function jI(o){J.H=ah;var c=Lt!==null&&Lt.next!==null;if(Gs=0,On=Lt=et=null,xg=!1,nh=0,qu=null,c)throw Error(r(300));o===null||Ln||(o=o.dependencies,o!==null&&dg(o)&&(Ln=!0))}function UI(o,c,h,g){et=o;var w=0;do{if(Bu&&(qu=null),nh=0,Bu=!1,25<=w)throw Error(r(301));if(w+=1,On=Lt=null,o.updateQueue!=null){var E=o.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}J.H=xN,E=c(h,g)}while(Bu);return E}function hH(){var o=J.H,c=o.useState()[0];return c=typeof c.then=="function"?rh(c):c,o=o.useState()[0],(Lt!==null?Lt.memoizedState:null)!==o&&(et.flags|=1024),c}function Gx(){var o=_g!==0;return _g=0,o}function Kx(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function Yx(o){if(xg){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}xg=!1}Gs=0,On=Lt=et=null,Bu=!1,nh=_g=0,qu=null}function Hr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?et.memoizedState=On=o:On=On.next=o,On}function wn(){if(Lt===null){var o=et.alternate;o=o!==null?o.memoizedState:null}else o=Lt.next;var c=On===null?et.memoizedState:On.next;if(c!==null)On=c,Lt=o;else{if(o===null)throw et.alternate===null?Error(r(467)):Error(r(310));Lt=o,o={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},On===null?et.memoizedState=On=o:On=On.next=o}return On}function wg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rh(o){var c=nh;return nh+=1,qu===null&&(qu=[]),o=CI(qu,o,c),c=et,(On===null?c.memoizedState:On.next)===null&&(c=c.alternate,J.H=c===null||c.memoizedState===null?bN:s_),o}function Eg(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return rh(o);if(o.$$typeof===I)return yr(o)}throw Error(r(438,String(o)))}function Wx(o){var c=null,h=et.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=et.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=wg(),et.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),g=0;g<o;g++)h[g]=B;return c.index++,h}function Ks(o,c){return typeof c=="function"?c(o):c}function Sg(o){var c=wn();return Jx(c,Lt,o)}function Jx(o,c,h){var g=o.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var w=o.baseQueue,E=g.pending;if(E!==null){if(w!==null){var D=w.next;w.next=E.next,E.next=D}c.baseQueue=w=E,g.pending=null}if(E=o.baseState,w===null)o.memoizedState=E;else{c=w.next;var G=D=null,Q=null,se=c,me=!1;do{var xe=se.lane&-536870913;if(xe!==se.lane?(ct&xe)===xe:(Gs&xe)===xe){var ce=se.revertLane;if(ce===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),xe===ju&&(me=!0);else if((Gs&ce)===ce){se=se.next,ce===ju&&(me=!0);continue}else xe={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Q===null?(G=Q=xe,D=E):Q=Q.next=xe,et.lanes|=ce,ll|=ce;xe=se.action,Nc&&h(E,xe),E=se.hasEagerState?se.eagerState:h(E,xe)}else ce={lane:xe,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Q===null?(G=Q=ce,D=E):Q=Q.next=ce,et.lanes|=xe,ll|=xe;se=se.next}while(se!==null&&se!==c);if(Q===null?D=E:Q.next=G,!Ci(E,o.memoizedState)&&(Ln=!0,me&&(h=Uu,h!==null)))throw h;o.memoizedState=E,o.baseState=D,o.baseQueue=Q,g.lastRenderedState=E}return w===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function Xx(o){var c=wn(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var g=h.dispatch,w=h.pending,E=c.memoizedState;if(w!==null){h.pending=null;var D=w=w.next;do E=o(E,D.action),D=D.next;while(D!==w);Ci(E,c.memoizedState)||(Ln=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),h.lastRenderedState=E}return[E,g]}function VI(o,c,h){var g=et,w=wn(),E=gt;if(E){if(h===void 0)throw Error(r(407));h=h()}else h=c();var D=!Ci((Lt||w).memoizedState,h);if(D&&(w.memoizedState=h,Ln=!0),w=w.queue,e_(BI.bind(null,g,w,o),[o]),w.getSnapshot!==c||D||On!==null&&On.memoizedState.tag&1){if(g.flags|=2048,$u(9,{destroy:void 0},zI.bind(null,g,w,h,c),null),Bt===null)throw Error(r(349));E||(Gs&127)!==0||FI(g,c,h)}return h}function FI(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=et.updateQueue,c===null?(c=wg(),et.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function zI(o,c,h,g){c.value=h,c.getSnapshot=g,qI(c)&&$I(o)}function BI(o,c,h){return h(function(){qI(c)&&$I(o)})}function qI(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Ci(o,h)}catch{return!0}}function $I(o){var c=_c(o,2);c!==null&&ci(c,o,2)}function Qx(o){var c=Hr();if(typeof o=="function"){var h=o;if(o=h(),Nc){fn(!0);try{h()}finally{fn(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:o},c}function HI(o,c,h,g){return o.baseState=h,Jx(o,Lt,typeof g=="function"?g:Ks)}function pH(o,c,h,g,w){if(Ag(o))throw Error(r(485));if(o=c.action,o!==null){var E={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){E.listeners.push(D)}};J.T!==null?h(!0):E.isTransition=!1,g(E),h=c.pending,h===null?(E.next=c.pending=E,GI(c,E)):(E.next=h.next,c.pending=h.next=E)}}function GI(o,c){var h=c.action,g=c.payload,w=o.state;if(c.isTransition){var E=J.T,D={};J.T=D;try{var G=h(w,g),Q=J.S;Q!==null&&Q(D,G),KI(o,c,G)}catch(se){Zx(o,c,se)}finally{E!==null&&D.types!==null&&(E.types=D.types),J.T=E}}else try{E=h(w,g),KI(o,c,E)}catch(se){Zx(o,c,se)}}function KI(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){YI(o,c,g)},function(g){return Zx(o,c,g)}):YI(o,c,h)}function YI(o,c,h){c.status="fulfilled",c.value=h,WI(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,GI(o,h)))}function Zx(o,c,h){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,WI(c),c=c.next;while(c!==g)}o.action=null}function WI(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function JI(o,c){return c}function XI(o,c){if(gt){var h=Bt.formState;if(h!==null){e:{var g=et;if(gt){if(Jt){t:{for(var w=Jt,E=ea;w.nodeType!==8;){if(!E){w=null;break t}if(w=na(w.nextSibling),w===null){w=null;break t}}E=w.data,w=E==="F!"||E==="F"?w:null}if(w){Jt=na(w.nextSibling),g=w.data==="F!";break e}}Zo(g)}g=!1}g&&(c=h[0])}}return h=Hr(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JI,lastRenderedState:c},h.queue=g,h=gN.bind(null,et,g),g.dispatch=h,g=Qx(!1),E=a_.bind(null,et,!1,g.queue),g=Hr(),w={state:c,dispatch:null,action:o,pending:null},g.queue=w,h=pH.bind(null,et,w,E,h),w.dispatch=h,g.memoizedState=o,[c,h,!1]}function QI(o){var c=wn();return ZI(c,Lt,o)}function ZI(o,c,h){if(c=Jx(o,c,JI)[0],o=Sg(Ks)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=rh(c)}catch(D){throw D===Vu?pg:D}else g=c;c=wn();var w=c.queue,E=w.dispatch;return h!==c.memoizedState&&(et.flags|=2048,$u(9,{destroy:void 0},mH.bind(null,w,h),null)),[g,E,o]}function mH(o,c){o.action=c}function eN(o){var c=wn(),h=Lt;if(h!==null)return ZI(c,h,o);wn(),c=c.memoizedState,h=wn();var g=h.queue.dispatch;return h.memoizedState=o,[c,g,!1]}function $u(o,c,h,g){return o={tag:o,create:h,deps:g,inst:c,next:null},c=et.updateQueue,c===null&&(c=wg(),et.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,c.lastEffect=o),o}function tN(){return wn().memoizedState}function Tg(o,c,h,g){var w=Hr();et.flags|=o,w.memoizedState=$u(1|c,{destroy:void 0},h,g===void 0?null:g)}function kg(o,c,h,g){var w=wn();g=g===void 0?null:g;var E=w.memoizedState.inst;Lt!==null&&g!==null&&$x(g,Lt.memoizedState.deps)?w.memoizedState=$u(c,E,h,g):(et.flags|=o,w.memoizedState=$u(1|c,E,h,g))}function nN(o,c){Tg(8390656,8,o,c)}function e_(o,c){kg(2048,8,o,c)}function gH(o){et.flags|=4;var c=et.updateQueue;if(c===null)c=wg(),et.updateQueue=c,c.events=[o];else{var h=c.events;h===null?c.events=[o]:h.push(o)}}function rN(o){var c=wn().memoizedState;return gH({ref:c,nextImpl:o}),function(){if((St&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function iN(o,c){return kg(4,2,o,c)}function aN(o,c){return kg(4,4,o,c)}function sN(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function oN(o,c,h){h=h!=null?h.concat([o]):null,kg(4,4,sN.bind(null,c,o),h)}function t_(){}function lN(o,c){var h=wn();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&$x(c,g[1])?g[0]:(h.memoizedState=[o,c],o)}function cN(o,c){var h=wn();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&$x(c,g[1]))return g[0];if(g=o(),Nc){fn(!0);try{o()}finally{fn(!1)}}return h.memoizedState=[g,c],g}function n_(o,c,h){return h===void 0||(Gs&1073741824)!==0&&(ct&261930)===0?o.memoizedState=c:(o.memoizedState=h,o=u2(),et.lanes|=o,ll|=o,h)}function uN(o,c,h,g){return Ci(h,c)?h:zu.current!==null?(o=n_(o,h,g),Ci(o,c)||(Ln=!0),o):(Gs&42)===0||(Gs&1073741824)!==0&&(ct&261930)===0?(Ln=!0,o.memoizedState=h):(o=u2(),et.lanes|=o,ll|=o,c)}function dN(o,c,h,g,w){var E=H.p;H.p=E!==0&&8>E?E:8;var D=J.T,G={};J.T=G,a_(o,!1,c,h);try{var Q=w(),se=J.S;if(se!==null&&se(G,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var me=dH(Q,g);ih(o,c,me,Mi(o))}else ih(o,c,g,Mi(o))}catch(xe){ih(o,c,{then:function(){},status:"rejected",reason:xe},Mi())}finally{H.p=E,D!==null&&G.types!==null&&(D.types=G.types),J.T=D}}function yH(){}function r_(o,c,h,g){if(o.tag!==5)throw Error(r(476));var w=fN(o).queue;dN(o,w,c,Z,h===null?yH:function(){return hN(o),h(g)})}function fN(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:Z},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function hN(o){var c=fN(o);c.next===null&&(c=o.alternate.memoizedState),ih(o,c.next.queue,{},Mi())}function i_(){return yr(_h)}function pN(){return wn().memoizedState}function mN(){return wn().memoizedState}function vH(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=Mi();o=nl(h);var g=rl(c,o,h);g!==null&&(ci(g,c,h),Zf(g,c,h)),c={cache:Dx()},o.payload=c;return}c=c.return}}function bH(o,c,h){var g=Mi();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Ag(o)?yN(c,h):(h=wx(o,c,h,g),h!==null&&(ci(h,o,g),vN(h,c,g)))}function gN(o,c,h){var g=Mi();ih(o,c,h,g)}function ih(o,c,h,g){var w={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Ag(o))yN(c,w);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var D=c.lastRenderedState,G=E(D,h);if(w.hasEagerState=!0,w.eagerState=G,Ci(G,D))return og(o,c,w,0),Bt===null&&sg(),!1}catch{}finally{}if(h=wx(o,c,w,g),h!==null)return ci(h,o,g),vN(h,c,g),!0}return!1}function a_(o,c,h,g){if(g={lane:2,revertLane:j_(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Ag(o)){if(c)throw Error(r(479))}else c=wx(o,h,g,2),c!==null&&ci(c,o,2)}function Ag(o){var c=o.alternate;return o===et||c!==null&&c===et}function yN(o,c){Bu=xg=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function vN(o,c,h){if((h&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,Cr(o,h)}}var ah={readContext:yr,use:Eg,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn};ah.useEffectEvent=hn;var bN={readContext:yr,use:Eg,useCallback:function(o,c){return Hr().memoizedState=[o,c===void 0?null:c],o},useContext:yr,useEffect:nN,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,Tg(4194308,4,sN.bind(null,c,o),h)},useLayoutEffect:function(o,c){return Tg(4194308,4,o,c)},useInsertionEffect:function(o,c){Tg(4,2,o,c)},useMemo:function(o,c){var h=Hr();c=c===void 0?null:c;var g=o();if(Nc){fn(!0);try{o()}finally{fn(!1)}}return h.memoizedState=[g,c],g},useReducer:function(o,c,h){var g=Hr();if(h!==void 0){var w=h(c);if(Nc){fn(!0);try{h(c)}finally{fn(!1)}}}else w=c;return g.memoizedState=g.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},g.queue=o,o=o.dispatch=bH.bind(null,et,o),[g.memoizedState,o]},useRef:function(o){var c=Hr();return o={current:o},c.memoizedState=o},useState:function(o){o=Qx(o);var c=o.queue,h=gN.bind(null,et,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:t_,useDeferredValue:function(o,c){var h=Hr();return n_(h,o,c)},useTransition:function(){var o=Qx(!1);return o=dN.bind(null,et,o.queue,!0,!1),Hr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var g=et,w=Hr();if(gt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Bt===null)throw Error(r(349));(ct&127)!==0||FI(g,c,h)}w.memoizedState=h;var E={value:h,getSnapshot:c};return w.queue=E,nN(BI.bind(null,g,E,o),[o]),g.flags|=2048,$u(9,{destroy:void 0},zI.bind(null,g,E,h,c),null),h},useId:function(){var o=Hr(),c=Bt.identifierPrefix;if(gt){var h=cs,g=ls;h=(g&~(1<<32-rt(g)-1)).toString(32)+h,c="_"+c+"R_"+h,h=_g++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=fH++,c="_"+c+"r_"+h.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:i_,useFormState:XI,useActionState:XI,useOptimistic:function(o){var c=Hr();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=a_.bind(null,et,!0,h),h.dispatch=c,[o,c]},useMemoCache:Wx,useCacheRefresh:function(){return Hr().memoizedState=vH.bind(null,et)},useEffectEvent:function(o){var c=Hr(),h={impl:o};return c.memoizedState=h,function(){if((St&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},s_={readContext:yr,use:Eg,useCallback:lN,useContext:yr,useEffect:e_,useImperativeHandle:oN,useInsertionEffect:iN,useLayoutEffect:aN,useMemo:cN,useReducer:Sg,useRef:tN,useState:function(){return Sg(Ks)},useDebugValue:t_,useDeferredValue:function(o,c){var h=wn();return uN(h,Lt.memoizedState,o,c)},useTransition:function(){var o=Sg(Ks)[0],c=wn().memoizedState;return[typeof o=="boolean"?o:rh(o),c]},useSyncExternalStore:VI,useId:pN,useHostTransitionStatus:i_,useFormState:QI,useActionState:QI,useOptimistic:function(o,c){var h=wn();return HI(h,Lt,o,c)},useMemoCache:Wx,useCacheRefresh:mN};s_.useEffectEvent=rN;var xN={readContext:yr,use:Eg,useCallback:lN,useContext:yr,useEffect:e_,useImperativeHandle:oN,useInsertionEffect:iN,useLayoutEffect:aN,useMemo:cN,useReducer:Xx,useRef:tN,useState:function(){return Xx(Ks)},useDebugValue:t_,useDeferredValue:function(o,c){var h=wn();return Lt===null?n_(h,o,c):uN(h,Lt.memoizedState,o,c)},useTransition:function(){var o=Xx(Ks)[0],c=wn().memoizedState;return[typeof o=="boolean"?o:rh(o),c]},useSyncExternalStore:VI,useId:pN,useHostTransitionStatus:i_,useFormState:eN,useActionState:eN,useOptimistic:function(o,c){var h=wn();return Lt!==null?HI(h,Lt,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:Wx,useCacheRefresh:mN};xN.useEffectEvent=rN;function o_(o,c,h,g){c=o.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var l_={enqueueSetState:function(o,c,h){o=o._reactInternals;var g=Mi(),w=nl(g);w.payload=c,h!=null&&(w.callback=h),c=rl(o,w,g),c!==null&&(ci(c,o,g),Zf(c,o,g))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var g=Mi(),w=nl(g);w.tag=1,w.payload=c,h!=null&&(w.callback=h),c=rl(o,w,g),c!==null&&(ci(c,o,g),Zf(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Mi(),g=nl(h);g.tag=2,c!=null&&(g.callback=c),c=rl(o,g,h),c!==null&&(ci(c,o,h),Zf(c,o,h))}};function _N(o,c,h,g,w,E,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,E,D):c.prototype&&c.prototype.isPureReactComponent?!Hf(h,g)||!Hf(w,E):!0}function wN(o,c,h,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==o&&l_.enqueueReplaceState(c,c.state,null)}function Rc(o,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(o=o.defaultProps){h===c&&(h=p({},h));for(var w in o)h[w]===void 0&&(h[w]=o[w])}return h}function EN(o){ag(o)}function SN(o){console.error(o)}function TN(o){ag(o)}function Cg(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function kN(o,c,h){try{var g=o.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function c_(o,c,h){return h=nl(h),h.tag=3,h.payload={element:null},h.callback=function(){Cg(o,c)},h}function AN(o){return o=nl(o),o.tag=3,o}function CN(o,c,h,g){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var E=g.value;o.payload=function(){return w(E)},o.callback=function(){kN(c,h,g)}}var D=h.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(o.callback=function(){kN(c,h,g),typeof w!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var G=g.stack;this.componentDidCatch(g.value,{componentStack:G!==null?G:""})})}function xH(o,c,h,g,w){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&Lu(c,h,w,!0),h=Ni.current,h!==null){switch(h.tag){case 31:case 13:return ta===null?Fg():h.alternate===null&&pn===0&&(pn=3),h.flags&=-257,h.flags|=65536,h.lanes=w,g===mg?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),M_(o,g,w)),!1;case 22:return h.flags|=65536,g===mg?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),M_(o,g,w)),!1}throw Error(r(435,h.tag))}return M_(o,g,w),Fg(),!1}if(gt)return c=Ni.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,g!==Cx&&(o=Error(r(422),{cause:g}),Yf(Xi(o,h)))):(g!==Cx&&(c=Error(r(423),{cause:g}),Yf(Xi(c,h))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,g=Xi(g,h),w=c_(o.stateNode,g,w),Vx(o,w),pn!==4&&(pn=2)),!1;var E=Error(r(520),{cause:g});if(E=Xi(E,h),hh===null?hh=[E]:hh.push(E),pn!==4&&(pn=2),c===null)return!0;g=Xi(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=w&-w,h.lanes|=o,o=c_(h.stateNode,g,o),Vx(h,o),!1;case 1:if(c=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(cl===null||!cl.has(E))))return h.flags|=65536,w&=-w,h.lanes|=w,w=AN(w),CN(w,o,h,g),Vx(h,w),!1}h=h.return}while(h!==null);return!1}var u_=Error(r(461)),Ln=!1;function vr(o,c,h,g){c.child=o===null?PI(c,null,h,g):Ic(c,o.child,h,g)}function IN(o,c,h,g,w){h=h.render;var E=c.ref;if("ref"in g){var D={};for(var G in g)G!=="ref"&&(D[G]=g[G])}else D=g;return Tc(c),g=Hx(o,c,h,D,E,w),G=Gx(),o!==null&&!Ln?(Kx(o,c,w),Ys(o,c,w)):(gt&&G&&kx(c),c.flags|=1,vr(o,c,g,w),c.child)}function NN(o,c,h,g,w){if(o===null){var E=h.type;return typeof E=="function"&&!Ex(E)&&E.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=E,RN(o,c,E,g,w)):(o=cg(h.type,null,g,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(E=o.child,!v_(o,w)){var D=E.memoizedProps;if(h=h.compare,h=h!==null?h:Hf,h(D,g)&&o.ref===c.ref)return Ys(o,c,w)}return c.flags|=1,o=Bs(E,g),o.ref=c.ref,o.return=c,c.child=o}function RN(o,c,h,g,w){if(o!==null){var E=o.memoizedProps;if(Hf(E,g)&&o.ref===c.ref)if(Ln=!1,c.pendingProps=g=E,v_(o,w))(o.flags&131072)!==0&&(Ln=!0);else return c.lanes=o.lanes,Ys(o,c,w)}return d_(o,c,h,g,w)}function PN(o,c,h,g){var w=g.children,E=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(E=E!==null?E.baseLanes|h:h,o!==null){for(g=c.child=o.child,w=0;g!==null;)w=w|g.lanes|g.childLanes,g=g.sibling;g=w&~E}else g=0,c.child=null;return DN(o,c,E,h,g)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&hg(c,E!==null?E.cachePool:null),E!==null?OI(c,E):zx(),LI(c);else return g=c.lanes=536870912,DN(o,c,E!==null?E.baseLanes|h:h,h,g)}else E!==null?(hg(c,E.cachePool),OI(c,E),al(),c.memoizedState=null):(o!==null&&hg(c,null),zx(),al());return vr(o,c,w,h),c.child}function sh(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function DN(o,c,h,g,w){var E=Ox();return E=E===null?null:{parent:Mn._currentValue,pool:E},c.memoizedState={baseLanes:h,cachePool:E},o!==null&&hg(c,null),zx(),LI(c),o!==null&&Lu(o,c,g,!0),c.childLanes=w,null}function Ig(o,c){return c=Rg({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function MN(o,c,h){return Ic(c,o.child,null,h),o=Ig(c,c.pendingProps),o.flags|=2,Ri(c),c.memoizedState=null,o}function _H(o,c,h){var g=c.pendingProps,w=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(gt){if(g.mode==="hidden")return o=Ig(c,g),c.lanes=536870912,sh(null,o);if(qx(c),(o=Jt)?(o=G2(o,ea),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Xo!==null?{id:ls,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},h=yI(o),h.return=c,c.child=h,gr=c,Jt=null)):o=null,o===null)throw Zo(c);return c.lanes=536870912,null}return Ig(c,g)}var E=o.memoizedState;if(E!==null){var D=E.dehydrated;if(qx(c),w)if(c.flags&256)c.flags&=-257,c=MN(o,c,h);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(Ln||Lu(o,c,h,!1),w=(h&o.childLanes)!==0,Ln||w){if(g=Bt,g!==null&&(D=zr(g,h),D!==0&&D!==E.retryLane))throw E.retryLane=D,_c(o,D),ci(g,o,D),u_;Fg(),c=MN(o,c,h)}else o=E.treeContext,Jt=na(D.nextSibling),gr=c,gt=!0,Qo=null,ea=!1,o!==null&&xI(c,o),c=Ig(c,g),c.flags|=4096;return c}return o=Bs(o.child,{mode:g.mode,children:g.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Ng(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function d_(o,c,h,g,w){return Tc(c),h=Hx(o,c,h,g,void 0,w),g=Gx(),o!==null&&!Ln?(Kx(o,c,w),Ys(o,c,w)):(gt&&g&&kx(c),c.flags|=1,vr(o,c,h,w),c.child)}function ON(o,c,h,g,w,E){return Tc(c),c.updateQueue=null,h=UI(c,g,h,w),jI(o),g=Gx(),o!==null&&!Ln?(Kx(o,c,E),Ys(o,c,E)):(gt&&g&&kx(c),c.flags|=1,vr(o,c,h,E),c.child)}function LN(o,c,h,g,w){if(Tc(c),c.stateNode===null){var E=Pu,D=h.contextType;typeof D=="object"&&D!==null&&(E=yr(D)),E=new h(g,E),c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=l_,c.stateNode=E,E._reactInternals=c,E=c.stateNode,E.props=g,E.state=c.memoizedState,E.refs={},jx(c),D=h.contextType,E.context=typeof D=="object"&&D!==null?yr(D):Pu,E.state=c.memoizedState,D=h.getDerivedStateFromProps,typeof D=="function"&&(o_(c,h,D,g),E.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(D=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),D!==E.state&&l_.enqueueReplaceState(E,E.state,null),th(c,g,E,w),eh(),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){E=c.stateNode;var G=c.memoizedProps,Q=Rc(h,G);E.props=Q;var se=E.context,me=h.contextType;D=Pu,typeof me=="object"&&me!==null&&(D=yr(me));var xe=h.getDerivedStateFromProps;me=typeof xe=="function"||typeof E.getSnapshotBeforeUpdate=="function",G=c.pendingProps!==G,me||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(G||se!==D)&&wN(c,E,g,D),tl=!1;var ce=c.memoizedState;E.state=ce,th(c,g,E,w),eh(),se=c.memoizedState,G||ce!==se||tl?(typeof xe=="function"&&(o_(c,h,xe,g),se=c.memoizedState),(Q=tl||_N(c,h,Q,g,ce,se,D))?(me||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(c.flags|=4194308)):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=se),E.props=g,E.state=se,E.context=D,g=Q):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{E=c.stateNode,Ux(o,c),D=c.memoizedProps,me=Rc(h,D),E.props=me,xe=c.pendingProps,ce=E.context,se=h.contextType,Q=Pu,typeof se=="object"&&se!==null&&(Q=yr(se)),G=h.getDerivedStateFromProps,(se=typeof G=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==xe||ce!==Q)&&wN(c,E,g,Q),tl=!1,ce=c.memoizedState,E.state=ce,th(c,g,E,w),eh();var he=c.memoizedState;D!==xe||ce!==he||tl||o!==null&&o.dependencies!==null&&dg(o.dependencies)?(typeof G=="function"&&(o_(c,h,G,g),he=c.memoizedState),(me=tl||_N(c,h,me,g,ce,he,Q)||o!==null&&o.dependencies!==null&&dg(o.dependencies))?(se||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,he,Q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,he,Q)),typeof E.componentDidUpdate=="function"&&(c.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof E.componentDidUpdate!="function"||D===o.memoizedProps&&ce===o.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&ce===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=he),E.props=g,E.state=he,E.context=Q,g=me):(typeof E.componentDidUpdate!="function"||D===o.memoizedProps&&ce===o.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&ce===o.memoizedState||(c.flags|=1024),g=!1)}return E=g,Ng(o,c),g=(c.flags&128)!==0,E||g?(E=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:E.render(),c.flags|=1,o!==null&&g?(c.child=Ic(c,o.child,null,w),c.child=Ic(c,null,h,w)):vr(o,c,h,w),c.memoizedState=E.state,o=c.child):o=Ys(o,c,w),o}function jN(o,c,h,g){return Ec(),c.flags|=256,vr(o,c,h,g),c.child}var f_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function h_(o){return{baseLanes:o,cachePool:kI()}}function p_(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=Di),o}function UN(o,c,h){var g=c.pendingProps,w=!1,E=(c.flags&128)!==0,D;if((D=E)||(D=o!==null&&o.memoizedState===null?!1:(_n.current&2)!==0),D&&(w=!0,c.flags&=-129),D=(c.flags&32)!==0,c.flags&=-33,o===null){if(gt){if(w?il(c):al(),(o=Jt)?(o=G2(o,ea),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Xo!==null?{id:ls,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},h=yI(o),h.return=c,c.child=h,gr=c,Jt=null)):o=null,o===null)throw Zo(c);return J_(o)?c.lanes=32:c.lanes=536870912,null}var G=g.children;return g=g.fallback,w?(al(),w=c.mode,G=Rg({mode:"hidden",children:G},w),g=wc(g,w,h,null),G.return=c,g.return=c,G.sibling=g,c.child=G,g=c.child,g.memoizedState=h_(h),g.childLanes=p_(o,D,h),c.memoizedState=f_,sh(null,g)):(il(c),m_(c,G))}var Q=o.memoizedState;if(Q!==null&&(G=Q.dehydrated,G!==null)){if(E)c.flags&256?(il(c),c.flags&=-257,c=g_(o,c,h)):c.memoizedState!==null?(al(),c.child=o.child,c.flags|=128,c=null):(al(),G=g.fallback,w=c.mode,g=Rg({mode:"visible",children:g.children},w),G=wc(G,w,h,null),G.flags|=2,g.return=c,G.return=c,g.sibling=G,c.child=g,Ic(c,o.child,null,h),g=c.child,g.memoizedState=h_(h),g.childLanes=p_(o,D,h),c.memoizedState=f_,c=sh(null,g));else if(il(c),J_(G)){if(D=G.nextSibling&&G.nextSibling.dataset,D)var se=D.dgst;D=se,g=Error(r(419)),g.stack="",g.digest=D,Yf({value:g,source:null,stack:null}),c=g_(o,c,h)}else if(Ln||Lu(o,c,h,!1),D=(h&o.childLanes)!==0,Ln||D){if(D=Bt,D!==null&&(g=zr(D,h),g!==0&&g!==Q.retryLane))throw Q.retryLane=g,_c(o,g),ci(D,o,g),u_;W_(G)||Fg(),c=g_(o,c,h)}else W_(G)?(c.flags|=192,c.child=o.child,c=null):(o=Q.treeContext,Jt=na(G.nextSibling),gr=c,gt=!0,Qo=null,ea=!1,o!==null&&xI(c,o),c=m_(c,g.children),c.flags|=4096);return c}return w?(al(),G=g.fallback,w=c.mode,Q=o.child,se=Q.sibling,g=Bs(Q,{mode:"hidden",children:g.children}),g.subtreeFlags=Q.subtreeFlags&65011712,se!==null?G=Bs(se,G):(G=wc(G,w,h,null),G.flags|=2),G.return=c,g.return=c,g.sibling=G,c.child=g,sh(null,g),g=c.child,G=o.child.memoizedState,G===null?G=h_(h):(w=G.cachePool,w!==null?(Q=Mn._currentValue,w=w.parent!==Q?{parent:Q,pool:Q}:w):w=kI(),G={baseLanes:G.baseLanes|h,cachePool:w}),g.memoizedState=G,g.childLanes=p_(o,D,h),c.memoizedState=f_,sh(o.child,g)):(il(c),h=o.child,o=h.sibling,h=Bs(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,o!==null&&(D=c.deletions,D===null?(c.deletions=[o],c.flags|=16):D.push(o)),c.child=h,c.memoizedState=null,h)}function m_(o,c){return c=Rg({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Rg(o,c){return o=Ii(22,o,null,c),o.lanes=0,o}function g_(o,c,h){return Ic(c,o.child,null,h),o=m_(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function VN(o,c,h){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),Rx(o.return,c,h)}function y_(o,c,h,g,w,E){var D=o.memoizedState;D===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:w,treeForkCount:E}:(D.isBackwards=c,D.rendering=null,D.renderingStartTime=0,D.last=g,D.tail=h,D.tailMode=w,D.treeForkCount=E)}function FN(o,c,h){var g=c.pendingProps,w=g.revealOrder,E=g.tail;g=g.children;var D=_n.current,G=(D&2)!==0;if(G?(D=D&1|2,c.flags|=128):D&=1,K(_n,D),vr(o,c,g,h),g=gt?Kf:0,!G&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&VN(o,h,c);else if(o.tag===19)VN(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(h=c.child,w=null;h!==null;)o=h.alternate,o!==null&&bg(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),y_(c,!1,w,h,E,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&bg(o)===null){c.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}y_(c,!0,h,null,E,g);break;case"together":y_(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Ys(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),ll|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(Lu(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,h=Bs(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Bs(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function v_(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&dg(o)))}function wH(o,c,h){switch(c.tag){case 3:He(c,c.stateNode.containerInfo),el(c,Mn,o.memoizedState.cache),Ec();break;case 27:case 5:Ce(c);break;case 4:He(c,c.stateNode.containerInfo);break;case 10:el(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,qx(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(il(c),c.flags|=128,null):(h&c.child.childLanes)!==0?UN(o,c,h):(il(c),o=Ys(o,c,h),o!==null?o.sibling:null);il(c);break;case 19:var w=(o.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(Lu(o,c,h,!1),g=(h&c.childLanes)!==0),w){if(g)return FN(o,c,h);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),K(_n,_n.current),g)break;return null;case 22:return c.lanes=0,PN(o,c,h,c.pendingProps);case 24:el(c,Mn,o.memoizedState.cache)}return Ys(o,c,h)}function zN(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)Ln=!0;else{if(!v_(o,h)&&(c.flags&128)===0)return Ln=!1,wH(o,c,h);Ln=(o.flags&131072)!==0}else Ln=!1,gt&&(c.flags&1048576)!==0&&bI(c,Kf,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(o=Ac(c.elementType),c.type=o,typeof o=="function")Ex(o)?(g=Rc(o,g),c.tag=1,c=LN(null,c,o,g,h)):(c.tag=0,c=d_(null,c,o,g,h));else{if(o!=null){var w=o.$$typeof;if(w===L){c.tag=11,c=IN(null,c,o,g,h);break e}else if(w===P){c.tag=14,c=NN(null,c,o,g,h);break e}}throw c=le(o)||o,Error(r(306,c,""))}}return c;case 0:return d_(o,c,c.type,c.pendingProps,h);case 1:return g=c.type,w=Rc(g,c.pendingProps),LN(o,c,g,w,h);case 3:e:{if(He(c,c.stateNode.containerInfo),o===null)throw Error(r(387));g=c.pendingProps;var E=c.memoizedState;w=E.element,Ux(o,c),th(c,g,null,h);var D=c.memoizedState;if(g=D.cache,el(c,Mn,g),g!==E.cache&&Px(c,[Mn],h,!0),eh(),g=D.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:D.cache},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){c=jN(o,c,g,h);break e}else if(g!==w){w=Xi(Error(r(424)),c),Yf(w),c=jN(o,c,g,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Jt=na(o.firstChild),gr=c,gt=!0,Qo=null,ea=!0,h=PI(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Ec(),g===w){c=Ys(o,c,h);break e}vr(o,c,g,h)}c=c.child}return c;case 26:return Ng(o,c),o===null?(h=Q2(c.type,null,c.pendingProps,null))?c.memoizedState=h:gt||(h=c.type,o=c.pendingProps,g=Kg(Se.current).createElement(h),g[Rn]=c,g[tr]=o,br(g,h,o),Pn(g),c.stateNode=g):c.memoizedState=Q2(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ce(c),o===null&&gt&&(g=c.stateNode=W2(c.type,c.pendingProps,Se.current),gr=c,ea=!0,w=Jt,hl(c.type)?(X_=w,Jt=na(g.firstChild)):Jt=w),vr(o,c,c.pendingProps.children,h),Ng(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&gt&&((w=g=Jt)&&(g=QH(g,c.type,c.pendingProps,ea),g!==null?(c.stateNode=g,gr=c,Jt=na(g.firstChild),ea=!1,w=!0):w=!1),w||Zo(c)),Ce(c),w=c.type,E=c.pendingProps,D=o!==null?o.memoizedProps:null,g=E.children,G_(w,E)?g=null:D!==null&&G_(w,D)&&(c.flags|=32),c.memoizedState!==null&&(w=Hx(o,c,hH,null,null,h),_h._currentValue=w),Ng(o,c),vr(o,c,g,h),c.child;case 6:return o===null&&gt&&((o=h=Jt)&&(h=ZH(h,c.pendingProps,ea),h!==null?(c.stateNode=h,gr=c,Jt=null,o=!0):o=!1),o||Zo(c)),null;case 13:return UN(o,c,h);case 4:return He(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=Ic(c,null,g,h):vr(o,c,g,h),c.child;case 11:return IN(o,c,c.type,c.pendingProps,h);case 7:return vr(o,c,c.pendingProps,h),c.child;case 8:return vr(o,c,c.pendingProps.children,h),c.child;case 12:return vr(o,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,el(c,c.type,g.value),vr(o,c,g.children,h),c.child;case 9:return w=c.type._context,g=c.pendingProps.children,Tc(c),w=yr(w),g=g(w),c.flags|=1,vr(o,c,g,h),c.child;case 14:return NN(o,c,c.type,c.pendingProps,h);case 15:return RN(o,c,c.type,c.pendingProps,h);case 19:return FN(o,c,h);case 31:return _H(o,c,h);case 22:return PN(o,c,h,c.pendingProps);case 24:return Tc(c),g=yr(Mn),o===null?(w=Ox(),w===null&&(w=Bt,E=Dx(),w.pooledCache=E,E.refCount++,E!==null&&(w.pooledCacheLanes|=h),w=E),c.memoizedState={parent:g,cache:w},jx(c),el(c,Mn,w)):((o.lanes&h)!==0&&(Ux(o,c),th(c,null,null,h),eh()),w=o.memoizedState,E=c.memoizedState,w.parent!==g?(w={parent:g,cache:g},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),el(c,Mn,g)):(g=E.cache,el(c,Mn,g),g!==w.cache&&Px(c,[Mn],h,!0))),vr(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Ws(o){o.flags|=4}function b_(o,c,h,g,w){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(p2())o.flags|=8192;else throw Cc=mg,Lx}else o.flags&=-16777217}function BN(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!rR(c))if(p2())o.flags|=8192;else throw Cc=mg,Lx}function Pg(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?er():536870912,o.lanes|=c,Yu|=c)}function oh(o,c){if(!gt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Xt(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(c)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags&65011712,g|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=g,o.childLanes=h,c}function EH(o,c,h){var g=c.pendingProps;switch(Ax(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(c),null;case 1:return Xt(c),null;case 3:return h=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),Hs(Mn),oe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Ou(c)?Ws(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ix())),Xt(c),null;case 26:var w=c.type,E=c.memoizedState;return o===null?(Ws(c),E!==null?(Xt(c),BN(c,E)):(Xt(c),b_(c,w,null,g,h))):E?E!==o.memoizedState?(Ws(c),Xt(c),BN(c,E)):(Xt(c),c.flags&=-16777217):(o=o.memoizedProps,o!==g&&Ws(c),Xt(c),b_(c,w,o,g,h)),null;case 27:if(je(c),h=Se.current,w=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Ws(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Xt(c),null}o=pe.current,Ou(c)?_I(c):(o=W2(w,g,h),c.stateNode=o,Ws(c))}return Xt(c),null;case 5:if(je(c),w=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Ws(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Xt(c),null}if(E=pe.current,Ou(c))_I(c);else{var D=Kg(Se.current);switch(E){case 1:E=D.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:E=D.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":E=D.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":E=D.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":E=D.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof g.is=="string"?D.createElement("select",{is:g.is}):D.createElement("select"),g.multiple?E.multiple=!0:g.size&&(E.size=g.size);break;default:E=typeof g.is=="string"?D.createElement(w,{is:g.is}):D.createElement(w)}}E[Rn]=c,E[tr]=g;e:for(D=c.child;D!==null;){if(D.tag===5||D.tag===6)E.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===c)break e;for(;D.sibling===null;){if(D.return===null||D.return===c)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}c.stateNode=E;e:switch(br(E,w,g),w){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Ws(c)}}return Xt(c),b_(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,h),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&Ws(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(o=Se.current,Ou(c)){if(o=c.stateNode,h=c.memoizedProps,g=null,w=gr,w!==null)switch(w.tag){case 27:case 5:g=w.memoizedProps}o[Rn]=c,o=!!(o.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||U2(o.nodeValue,h)),o||Zo(c,!0)}else o=Kg(o).createTextNode(g),o[Rn]=c,c.stateNode=o}return Xt(c),null;case 31:if(h=c.memoizedState,o===null||o.memoizedState!==null){if(g=Ou(c),h!==null){if(o===null){if(!g)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Rn]=c}else Ec(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),o=!1}else h=Ix(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return c.flags&256?(Ri(c),c):(Ri(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Xt(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=Ou(c),g!==null&&g.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Rn]=c}else Ec(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Xt(c),w=!1}else w=Ix(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Ri(c),c):(Ri(c),null)}return Ri(c),(c.flags&128)!==0?(c.lanes=h,c):(h=g!==null,o=o!==null&&o.memoizedState!==null,h&&(g=c.child,w=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(w=g.alternate.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==w&&(g.flags|=2048)),h!==o&&h&&(c.child.flags|=8192),Pg(c,c.updateQueue),Xt(c),null);case 4:return oe(),o===null&&z_(c.stateNode.containerInfo),Xt(c),null;case 10:return Hs(c.type),Xt(c),null;case 19:if(te(_n),g=c.memoizedState,g===null)return Xt(c),null;if(w=(c.flags&128)!==0,E=g.rendering,E===null)if(w)oh(g,!1);else{if(pn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(E=bg(o),E!==null){for(c.flags|=128,oh(g,!1),o=E.updateQueue,c.updateQueue=o,Pg(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)gI(h,o),h=h.sibling;return K(_n,_n.current&1|2),gt&&qs(c,g.treeForkCount),c.child}o=o.sibling}g.tail!==null&&In()>jg&&(c.flags|=128,w=!0,oh(g,!1),c.lanes=4194304)}else{if(!w)if(o=bg(E),o!==null){if(c.flags|=128,w=!0,o=o.updateQueue,c.updateQueue=o,Pg(c,o),oh(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!gt)return Xt(c),null}else 2*In()-g.renderingStartTime>jg&&h!==536870912&&(c.flags|=128,w=!0,oh(g,!1),c.lanes=4194304);g.isBackwards?(E.sibling=c.child,c.child=E):(o=g.last,o!==null?o.sibling=E:c.child=E,g.last=E)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=In(),o.sibling=null,h=_n.current,K(_n,w?h&1|2:h&1),gt&&qs(c,g.treeForkCount),o):(Xt(c),null);case 22:case 23:return Ri(c),Bx(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(Xt(c),c.subtreeFlags&6&&(c.flags|=8192)):Xt(c),h=c.updateQueue,h!==null&&Pg(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),o!==null&&te(kc),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),Hs(Mn),Xt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function SH(o,c){switch(Ax(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Hs(Mn),oe(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return je(c),null;case 31:if(c.memoizedState!==null){if(Ri(c),c.alternate===null)throw Error(r(340));Ec()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Ri(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Ec()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return te(_n),null;case 4:return oe(),null;case 10:return Hs(c.type),null;case 22:case 23:return Ri(c),Bx(),o!==null&&te(kc),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Hs(Mn),null;case 25:return null;default:return null}}function qN(o,c){switch(Ax(c),c.tag){case 3:Hs(Mn),oe();break;case 26:case 27:case 5:je(c);break;case 4:oe();break;case 31:c.memoizedState!==null&&Ri(c);break;case 13:Ri(c);break;case 19:te(_n);break;case 10:Hs(c.type);break;case 22:case 23:Ri(c),Bx(),o!==null&&te(kc);break;case 24:Hs(Mn)}}function lh(o,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var w=g.next;h=w;do{if((h.tag&o)===o){g=void 0;var E=h.create,D=h.inst;g=E(),D.destroy=g}h=h.next}while(h!==w)}}catch(G){Pt(c,c.return,G)}}function sl(o,c,h){try{var g=c.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var E=w.next;g=E;do{if((g.tag&o)===o){var D=g.inst,G=D.destroy;if(G!==void 0){D.destroy=void 0,w=c;var Q=h,se=G;try{se()}catch(me){Pt(w,Q,me)}}}g=g.next}while(g!==E)}}catch(me){Pt(c,c.return,me)}}function $N(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{MI(c,h)}catch(g){Pt(o,o.return,g)}}}function HN(o,c,h){h.props=Rc(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(g){Pt(o,c,g)}}function ch(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof h=="function"?o.refCleanup=h(g):h.current=g}}catch(w){Pt(o,c,w)}}function us(o,c){var h=o.ref,g=o.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(w){Pt(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){Pt(o,c,w)}else h.current=null}function GN(o){var c=o.type,h=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(w){Pt(o,o.return,w)}}function x_(o,c,h){try{var g=o.stateNode;GH(g,o.type,h,c),g[tr]=c}catch(w){Pt(o,o.return,w)}}function KN(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&hl(o.type)||o.tag===4}function __(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||KN(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&hl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function w_(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Ea));else if(g!==4&&(g===27&&hl(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(w_(o,c,h),o=o.sibling;o!==null;)w_(o,c,h),o=o.sibling}function Dg(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(g!==4&&(g===27&&hl(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(Dg(o,c,h),o=o.sibling;o!==null;)Dg(o,c,h),o=o.sibling}function YN(o){var c=o.stateNode,h=o.memoizedProps;try{for(var g=o.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);br(c,g,h),c[Rn]=o,c[tr]=h}catch(E){Pt(o,o.return,E)}}var Js=!1,jn=!1,E_=!1,WN=typeof WeakSet=="function"?WeakSet:Set,rr=null;function TH(o,c){if(o=o.containerInfo,$_=ey,o=oI(o),gx(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var w=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var D=0,G=-1,Q=-1,se=0,me=0,xe=o,ce=null;t:for(;;){for(var he;xe!==h||w!==0&&xe.nodeType!==3||(G=D+w),xe!==E||g!==0&&xe.nodeType!==3||(Q=D+g),xe.nodeType===3&&(D+=xe.nodeValue.length),(he=xe.firstChild)!==null;)ce=xe,xe=he;for(;;){if(xe===o)break t;if(ce===h&&++se===w&&(G=D),ce===E&&++me===g&&(Q=D),(he=xe.nextSibling)!==null)break;xe=ce,ce=xe.parentNode}xe=he}h=G===-1||Q===-1?null:{start:G,end:Q}}else h=null}h=h||{start:0,end:0}}else h=null;for(H_={focusedElem:o,selectionRange:h},ey=!1,rr=c;rr!==null;)if(c=rr,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,rr=o;else for(;rr!==null;){switch(c=rr,E=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)w=o[h],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&E!==null){o=void 0,h=c,w=E.memoizedProps,E=E.memoizedState,g=h.stateNode;try{var Le=Rc(h.type,w);o=g.getSnapshotBeforeUpdate(Le,E),g.__reactInternalSnapshotBeforeUpdate=o}catch(Ge){Pt(h,h.return,Ge)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)Y_(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Y_(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,rr=o;break}rr=c.return}}function JN(o,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Qs(o,h),g&4&&lh(5,h);break;case 1:if(Qs(o,h),g&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(D){Pt(h,h.return,D)}else{var w=Rc(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(D){Pt(h,h.return,D)}}g&64&&$N(h),g&512&&ch(h,h.return);break;case 3:if(Qs(o,h),g&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{MI(o,c)}catch(D){Pt(h,h.return,D)}}break;case 27:c===null&&g&4&&YN(h);case 26:case 5:Qs(o,h),c===null&&g&4&&GN(h),g&512&&ch(h,h.return);break;case 12:Qs(o,h);break;case 31:Qs(o,h),g&4&&ZN(o,h);break;case 13:Qs(o,h),g&4&&e2(o,h),g&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=MH.bind(null,h),e7(o,h))));break;case 22:if(g=h.memoizedState!==null||Js,!g){c=c!==null&&c.memoizedState!==null||jn,w=Js;var E=jn;Js=g,(jn=c)&&!E?Zs(o,h,(h.subtreeFlags&8772)!==0):Qs(o,h),Js=w,jn=E}break;case 30:break;default:Qs(o,h)}}function XN(o){var c=o.alternate;c!==null&&(o.alternate=null,XN(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&vu(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var sn=null,ai=!1;function Xs(o,c,h){for(h=h.child;h!==null;)QN(o,c,h),h=h.sibling}function QN(o,c,h){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(un,h)}catch{}switch(h.tag){case 26:jn||us(h,c),Xs(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:jn||us(h,c);var g=sn,w=ai;hl(h.type)&&(sn=h.stateNode,ai=!1),Xs(o,c,h),vh(h.stateNode),sn=g,ai=w;break;case 5:jn||us(h,c);case 6:if(g=sn,w=ai,sn=null,Xs(o,c,h),sn=g,ai=w,sn!==null)if(ai)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(h.stateNode)}catch(E){Pt(h,c,E)}else try{sn.removeChild(h.stateNode)}catch(E){Pt(h,c,E)}break;case 18:sn!==null&&(ai?(o=sn,$2(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),nd(o)):$2(sn,h.stateNode));break;case 4:g=sn,w=ai,sn=h.stateNode.containerInfo,ai=!0,Xs(o,c,h),sn=g,ai=w;break;case 0:case 11:case 14:case 15:sl(2,h,c),jn||sl(4,h,c),Xs(o,c,h);break;case 1:jn||(us(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&HN(h,c,g)),Xs(o,c,h);break;case 21:Xs(o,c,h);break;case 22:jn=(g=jn)||h.memoizedState!==null,Xs(o,c,h),jn=g;break;default:Xs(o,c,h)}}function ZN(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{nd(o)}catch(h){Pt(c,c.return,h)}}}function e2(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{nd(o)}catch(h){Pt(c,c.return,h)}}function kH(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new WN),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new WN),c;default:throw Error(r(435,o.tag))}}function Mg(o,c){var h=kH(o);c.forEach(function(g){if(!h.has(g)){h.add(g);var w=OH.bind(null,o,g);g.then(w,w)}})}function si(o,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var w=h[g],E=o,D=c,G=D;e:for(;G!==null;){switch(G.tag){case 27:if(hl(G.type)){sn=G.stateNode,ai=!1;break e}break;case 5:sn=G.stateNode,ai=!1;break e;case 3:case 4:sn=G.stateNode.containerInfo,ai=!0;break e}G=G.return}if(sn===null)throw Error(r(160));QN(E,D,w),sn=null,ai=!1,E=w.alternate,E!==null&&(E.return=null),w.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)t2(c,o),c=c.sibling}var Ia=null;function t2(o,c){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:si(c,o),oi(o),g&4&&(sl(3,o,o.return),lh(3,o),sl(5,o,o.return));break;case 1:si(c,o),oi(o),g&512&&(jn||h===null||us(h,h.return)),g&64&&Js&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var w=Ia;if(si(c,o),oi(o),g&512&&(jn||h===null||us(h,h.return)),g&4){var E=h!==null?h.memoizedState:null;if(g=o.memoizedState,h===null)if(g===null)if(o.stateNode===null){e:{g=o.type,h=o.memoizedProps,w=w.ownerDocument||w;t:switch(g){case"title":E=w.getElementsByTagName("title")[0],(!E||E[Ja]||E[Rn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=w.createElement(g),w.head.insertBefore(E,w.querySelector("head > title"))),br(E,g,h),E[Rn]=o,Pn(E),g=E;break e;case"link":var D=tR("link","href",w).get(g+(h.href||""));if(D){for(var G=0;G<D.length;G++)if(E=D[G],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){D.splice(G,1);break t}}E=w.createElement(g),br(E,g,h),w.head.appendChild(E);break;case"meta":if(D=tR("meta","content",w).get(g+(h.content||""))){for(G=0;G<D.length;G++)if(E=D[G],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){D.splice(G,1);break t}}E=w.createElement(g),br(E,g,h),w.head.appendChild(E);break;default:throw Error(r(468,g))}E[Rn]=o,Pn(E),g=E}o.stateNode=g}else nR(w,o.type,o.stateNode);else o.stateNode=eR(w,g,o.memoizedProps);else E!==g?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,g===null?nR(w,o.type,o.stateNode):eR(w,g,o.memoizedProps)):g===null&&o.stateNode!==null&&x_(o,o.memoizedProps,h.memoizedProps)}break;case 27:si(c,o),oi(o),g&512&&(jn||h===null||us(h,h.return)),h!==null&&g&4&&x_(o,o.memoizedProps,h.memoizedProps);break;case 5:if(si(c,o),oi(o),g&512&&(jn||h===null||us(h,h.return)),o.flags&32){w=o.stateNode;try{ii(w,"")}catch(Le){Pt(o,o.return,Le)}}g&4&&o.stateNode!=null&&(w=o.memoizedProps,x_(o,w,h!==null?h.memoizedProps:w)),g&1024&&(E_=!0);break;case 6:if(si(c,o),oi(o),g&4){if(o.stateNode===null)throw Error(r(162));g=o.memoizedProps,h=o.stateNode;try{h.nodeValue=g}catch(Le){Pt(o,o.return,Le)}}break;case 3:if(Jg=null,w=Ia,Ia=Yg(c.containerInfo),si(c,o),Ia=w,oi(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{nd(c.containerInfo)}catch(Le){Pt(o,o.return,Le)}E_&&(E_=!1,n2(o));break;case 4:g=Ia,Ia=Yg(o.stateNode.containerInfo),si(c,o),oi(o),Ia=g;break;case 12:si(c,o),oi(o);break;case 31:si(c,o),oi(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Mg(o,g)));break;case 13:si(c,o),oi(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Lg=In()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Mg(o,g)));break;case 22:w=o.memoizedState!==null;var Q=h!==null&&h.memoizedState!==null,se=Js,me=jn;if(Js=se||w,jn=me||Q,si(c,o),jn=me,Js=se,oi(o),g&8192)e:for(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(h===null||Q||Js||jn||Pc(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){Q=h=c;try{if(E=Q.stateNode,w)D=E.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{G=Q.stateNode;var xe=Q.memoizedProps.style,ce=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;G.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(Le){Pt(Q,Q.return,Le)}}}else if(c.tag===6){if(h===null){Q=c;try{Q.stateNode.nodeValue=w?"":Q.memoizedProps}catch(Le){Pt(Q,Q.return,Le)}}}else if(c.tag===18){if(h===null){Q=c;try{var he=Q.stateNode;w?H2(he,!0):H2(Q.stateNode,!1)}catch(Le){Pt(Q,Q.return,Le)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,Mg(o,h))));break;case 19:si(c,o),oi(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Mg(o,g)));break;case 30:break;case 21:break;default:si(c,o),oi(o)}}function oi(o){var c=o.flags;if(c&2){try{for(var h,g=o.return;g!==null;){if(KN(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var w=h.stateNode,E=__(o);Dg(o,E,w);break;case 5:var D=h.stateNode;h.flags&32&&(ii(D,""),h.flags&=-33);var G=__(o);Dg(o,G,D);break;case 3:case 4:var Q=h.stateNode.containerInfo,se=__(o);w_(o,se,Q);break;default:throw Error(r(161))}}catch(me){Pt(o,o.return,me)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function n2(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;n2(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Qs(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)JN(o,c.alternate,c),c=c.sibling}function Pc(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:sl(4,c,c.return),Pc(c);break;case 1:us(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&HN(c,c.return,h),Pc(c);break;case 27:vh(c.stateNode);case 26:case 5:us(c,c.return),Pc(c);break;case 22:c.memoizedState===null&&Pc(c);break;case 30:Pc(c);break;default:Pc(c)}o=o.sibling}}function Zs(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,w=o,E=c,D=E.flags;switch(E.tag){case 0:case 11:case 15:Zs(w,E,h),lh(4,E);break;case 1:if(Zs(w,E,h),g=E,w=g.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(se){Pt(g,g.return,se)}if(g=E,w=g.updateQueue,w!==null){var G=g.stateNode;try{var Q=w.shared.hiddenCallbacks;if(Q!==null)for(w.shared.hiddenCallbacks=null,w=0;w<Q.length;w++)DI(Q[w],G)}catch(se){Pt(g,g.return,se)}}h&&D&64&&$N(E),ch(E,E.return);break;case 27:YN(E);case 26:case 5:Zs(w,E,h),h&&g===null&&D&4&&GN(E),ch(E,E.return);break;case 12:Zs(w,E,h);break;case 31:Zs(w,E,h),h&&D&4&&ZN(w,E);break;case 13:Zs(w,E,h),h&&D&4&&e2(w,E);break;case 22:E.memoizedState===null&&Zs(w,E,h),ch(E,E.return);break;case 30:break;default:Zs(w,E,h)}c=c.sibling}}function S_(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&Wf(h))}function T_(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Wf(o))}function Na(o,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)r2(o,c,h,g),c=c.sibling}function r2(o,c,h,g){var w=c.flags;switch(c.tag){case 0:case 11:case 15:Na(o,c,h,g),w&2048&&lh(9,c);break;case 1:Na(o,c,h,g);break;case 3:Na(o,c,h,g),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Wf(o)));break;case 12:if(w&2048){Na(o,c,h,g),o=c.stateNode;try{var E=c.memoizedProps,D=E.id,G=E.onPostCommit;typeof G=="function"&&G(D,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Q){Pt(c,c.return,Q)}}else Na(o,c,h,g);break;case 31:Na(o,c,h,g);break;case 13:Na(o,c,h,g);break;case 23:break;case 22:E=c.stateNode,D=c.alternate,c.memoizedState!==null?E._visibility&2?Na(o,c,h,g):uh(o,c):E._visibility&2?Na(o,c,h,g):(E._visibility|=2,Hu(o,c,h,g,(c.subtreeFlags&10256)!==0||!1)),w&2048&&S_(D,c);break;case 24:Na(o,c,h,g),w&2048&&T_(c.alternate,c);break;default:Na(o,c,h,g)}}function Hu(o,c,h,g,w){for(w=w&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var E=o,D=c,G=h,Q=g,se=D.flags;switch(D.tag){case 0:case 11:case 15:Hu(E,D,G,Q,w),lh(8,D);break;case 23:break;case 22:var me=D.stateNode;D.memoizedState!==null?me._visibility&2?Hu(E,D,G,Q,w):uh(E,D):(me._visibility|=2,Hu(E,D,G,Q,w)),w&&se&2048&&S_(D.alternate,D);break;case 24:Hu(E,D,G,Q,w),w&&se&2048&&T_(D.alternate,D);break;default:Hu(E,D,G,Q,w)}c=c.sibling}}function uh(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,g=c,w=g.flags;switch(g.tag){case 22:uh(h,g),w&2048&&S_(g.alternate,g);break;case 24:uh(h,g),w&2048&&T_(g.alternate,g);break;default:uh(h,g)}c=c.sibling}}var dh=8192;function Gu(o,c,h){if(o.subtreeFlags&dh)for(o=o.child;o!==null;)i2(o,c,h),o=o.sibling}function i2(o,c,h){switch(o.tag){case 26:Gu(o,c,h),o.flags&dh&&o.memoizedState!==null&&f7(h,Ia,o.memoizedState,o.memoizedProps);break;case 5:Gu(o,c,h);break;case 3:case 4:var g=Ia;Ia=Yg(o.stateNode.containerInfo),Gu(o,c,h),Ia=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=dh,dh=16777216,Gu(o,c,h),dh=g):Gu(o,c,h));break;default:Gu(o,c,h)}}function a2(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function fh(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];rr=g,o2(g,o)}a2(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)s2(o),o=o.sibling}function s2(o){switch(o.tag){case 0:case 11:case 15:fh(o),o.flags&2048&&sl(9,o,o.return);break;case 3:fh(o);break;case 12:fh(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Og(o)):fh(o);break;default:fh(o)}}function Og(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];rr=g,o2(g,o)}a2(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:sl(8,c,c.return),Og(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,Og(c));break;default:Og(c)}o=o.sibling}}function o2(o,c){for(;rr!==null;){var h=rr;switch(h.tag){case 0:case 11:case 15:sl(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Wf(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,rr=g;else e:for(h=o;rr!==null;){g=rr;var w=g.sibling,E=g.return;if(XN(g),g===h){rr=null;break e}if(w!==null){w.return=E,rr=w;break e}rr=E}}}var AH={getCacheForType:function(o){var c=yr(Mn),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h},cacheSignal:function(){return yr(Mn).controller.signal}},CH=typeof WeakMap=="function"?WeakMap:Map,St=0,Bt=null,st=null,ct=0,Rt=0,Pi=null,ol=!1,Ku=!1,k_=!1,eo=0,pn=0,ll=0,Dc=0,A_=0,Di=0,Yu=0,hh=null,li=null,C_=!1,Lg=0,l2=0,jg=1/0,Ug=null,cl=null,Hn=0,ul=null,Wu=null,to=0,I_=0,N_=null,c2=null,ph=0,R_=null;function Mi(){return(St&2)!==0&&ct!==0?ct&-ct:J.T!==null?j_():Ti()}function u2(){if(Di===0)if((ct&536870912)===0||gt){var o=Us;Us<<=1,(Us&3932160)===0&&(Us=262144),Di=o}else Di=536870912;return o=Ni.current,o!==null&&(o.flags|=32),Di}function ci(o,c,h){(o===Bt&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)&&(Ju(o,0),dl(o,ct,Di,!1)),ni(o,h),((St&2)===0||o!==Bt)&&(o===Bt&&((St&2)===0&&(Dc|=h),pn===4&&dl(o,ct,Di,!1)),ds(o))}function d2(o,c,h){if((St&6)!==0)throw Error(r(327));var g=!h&&(c&127)===0&&(c&o.expiredLanes)===0||Nn(o,c),w=g?RH(o,c):D_(o,c,!0),E=g;do{if(w===0){Ku&&!g&&dl(o,c,0,!1);break}else{if(h=o.current.alternate,E&&!IH(h)){w=D_(o,c,!1),E=!1;continue}if(w===2){if(E=c,o.errorRecoveryDisabledLanes&E)var D=0;else D=o.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){c=D;e:{var G=o;w=hh;var Q=G.current.memoizedState.isDehydrated;if(Q&&(Ju(G,D).flags|=256),D=D_(G,D,!1),D!==2){if(k_&&!Q){G.errorRecoveryDisabledLanes|=E,Dc|=E,w=4;break e}E=li,li=w,E!==null&&(li===null?li=E:li.push.apply(li,E))}w=D}if(E=!1,w!==2)continue}}if(w===1){Ju(o,0),dl(o,c,0,!0);break}e:{switch(g=o,E=w,E){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:dl(g,c,Di,!ol);break e;case 2:li=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(w=Lg+300-In(),10<w)){if(dl(g,c,Di,!ol),rn(g,0,!0)!==0)break e;to=c,g.timeoutHandle=B2(f2.bind(null,g,h,li,Ug,C_,c,Di,Dc,Yu,ol,E,"Throttled",-0,0),w);break e}f2(g,h,li,Ug,C_,c,Di,Dc,Yu,ol,E,null,-0,0)}}break}while(!0);ds(o)}function f2(o,c,h,g,w,E,D,G,Q,se,me,xe,ce,he){if(o.timeoutHandle=-1,xe=c.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ea},i2(c,E,xe);var Le=(E&62914560)===E?Lg-In():(E&4194048)===E?l2-In():0;if(Le=h7(xe,Le),Le!==null){to=E,o.cancelPendingCommit=Le(x2.bind(null,o,c,E,h,g,w,D,G,Q,me,xe,null,ce,he)),dl(o,E,D,!se);return}}x2(o,c,E,h,g,w,D,G,Q)}function IH(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var w=h[g],E=w.getSnapshot;w=w.value;try{if(!Ci(E(),w))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function dl(o,c,h,g){c&=~A_,c&=~Dc,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var w=c;0<w;){var E=31-rt(w),D=1<<E;g[E]=-1,w&=~D}h!==0&&Ar(o,h,c)}function Vg(){return(St&6)===0?(mh(0),!1):!0}function P_(){if(st!==null){if(Rt===0)var o=st.return;else o=st,$s=Sc=null,Yx(o),Fu=null,Xf=0,o=st;for(;o!==null;)qN(o.alternate,o),o=o.return;st=null}}function Ju(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,WH(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),to=0,P_(),Bt=o,st=h=Bs(o.current,null),ct=c,Rt=0,Pi=null,ol=!1,Ku=Nn(o,c),k_=!1,Yu=Di=A_=Dc=ll=pn=0,li=hh=null,C_=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var w=31-rt(g),E=1<<w;c|=o[w],g&=~E}return eo=c,sg(),h}function h2(o,c){et=null,J.H=ah,c===Vu||c===pg?(c=II(),Rt=3):c===Lx?(c=II(),Rt=4):Rt=c===u_?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Pi=c,st===null&&(pn=1,Cg(o,Xi(c,o.current)))}function p2(){var o=Ni.current;return o===null?!0:(ct&4194048)===ct?ta===null:(ct&62914560)===ct||(ct&536870912)!==0?o===ta:!1}function m2(){var o=J.H;return J.H=ah,o===null?ah:o}function g2(){var o=J.A;return J.A=AH,o}function Fg(){pn=4,ol||(ct&4194048)!==ct&&Ni.current!==null||(Ku=!0),(ll&134217727)===0&&(Dc&134217727)===0||Bt===null||dl(Bt,ct,Di,!1)}function D_(o,c,h){var g=St;St|=2;var w=m2(),E=g2();(Bt!==o||ct!==c)&&(Ug=null,Ju(o,c)),c=!1;var D=pn;e:do try{if(Rt!==0&&st!==null){var G=st,Q=Pi;switch(Rt){case 8:P_(),D=6;break e;case 3:case 2:case 9:case 6:Ni.current===null&&(c=!0);var se=Rt;if(Rt=0,Pi=null,Xu(o,G,Q,se),h&&Ku){D=0;break e}break;default:se=Rt,Rt=0,Pi=null,Xu(o,G,Q,se)}}NH(),D=pn;break}catch(me){h2(o,me)}while(!0);return c&&o.shellSuspendCounter++,$s=Sc=null,St=g,J.H=w,J.A=E,st===null&&(Bt=null,ct=0,sg()),D}function NH(){for(;st!==null;)y2(st)}function RH(o,c){var h=St;St|=2;var g=m2(),w=g2();Bt!==o||ct!==c?(Ug=null,jg=In()+500,Ju(o,c)):Ku=Nn(o,c);e:do try{if(Rt!==0&&st!==null){c=st;var E=Pi;t:switch(Rt){case 1:Rt=0,Pi=null,Xu(o,c,E,1);break;case 2:case 9:if(AI(E)){Rt=0,Pi=null,v2(c);break}c=function(){Rt!==2&&Rt!==9||Bt!==o||(Rt=7),ds(o)},E.then(c,c);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:AI(E)?(Rt=0,Pi=null,v2(c)):(Rt=0,Pi=null,Xu(o,c,E,7));break;case 5:var D=null;switch(st.tag){case 26:D=st.memoizedState;case 5:case 27:var G=st;if(D?rR(D):G.stateNode.complete){Rt=0,Pi=null;var Q=G.sibling;if(Q!==null)st=Q;else{var se=G.return;se!==null?(st=se,zg(se)):st=null}break t}}Rt=0,Pi=null,Xu(o,c,E,5);break;case 6:Rt=0,Pi=null,Xu(o,c,E,6);break;case 8:P_(),pn=6;break e;default:throw Error(r(462))}}PH();break}catch(me){h2(o,me)}while(!0);return $s=Sc=null,J.H=g,J.A=w,St=h,st!==null?0:(Bt=null,ct=0,sg(),pn)}function PH(){for(;st!==null&&!Ya();)y2(st)}function y2(o){var c=zN(o.alternate,o,eo);o.memoizedProps=o.pendingProps,c===null?zg(o):st=c}function v2(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=ON(h,c,c.pendingProps,c.type,void 0,ct);break;case 11:c=ON(h,c,c.pendingProps,c.type.render,c.ref,ct);break;case 5:Yx(c);default:qN(h,c),c=st=gI(c,eo),c=zN(h,c,eo)}o.memoizedProps=o.pendingProps,c===null?zg(o):st=c}function Xu(o,c,h,g){$s=Sc=null,Yx(c),Fu=null,Xf=0;var w=c.return;try{if(xH(o,w,c,h,ct)){pn=1,Cg(o,Xi(h,o.current)),st=null;return}}catch(E){if(w!==null)throw st=w,E;pn=1,Cg(o,Xi(h,o.current)),st=null;return}c.flags&32768?(gt||g===1?o=!0:Ku||(ct&536870912)!==0?o=!1:(ol=o=!0,(g===2||g===9||g===3||g===6)&&(g=Ni.current,g!==null&&g.tag===13&&(g.flags|=16384))),b2(c,o)):zg(c)}function zg(o){var c=o;do{if((c.flags&32768)!==0){b2(c,ol);return}o=c.return;var h=EH(c.alternate,c,eo);if(h!==null){st=h;return}if(c=c.sibling,c!==null){st=c;return}st=c=o}while(c!==null);pn===0&&(pn=5)}function b2(o,c){do{var h=SH(o.alternate,o);if(h!==null){h.flags&=32767,st=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){st=o;return}st=o=h}while(o!==null);pn=6,st=null}function x2(o,c,h,g,w,E,D,G,Q){o.cancelPendingCommit=null;do Bg();while(Hn!==0);if((St&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(E=c.lanes|c.childLanes,E|=_x,bn(o,h,E,D,G,Q),o===Bt&&(st=Bt=null,ct=0),Wu=c,ul=o,to=h,I_=E,N_=w,c2=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,LH(Fe,function(){return T2(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=J.T,J.T=null,w=H.p,H.p=2,D=St,St|=4;try{TH(o,c,h)}finally{St=D,H.p=w,J.T=g}}Hn=1,_2(),w2(),E2()}}function _2(){if(Hn===1){Hn=0;var o=ul,c=Wu,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=J.T,J.T=null;var g=H.p;H.p=2;var w=St;St|=4;try{t2(c,o);var E=H_,D=oI(o.containerInfo),G=E.focusedElem,Q=E.selectionRange;if(D!==G&&G&&G.ownerDocument&&sI(G.ownerDocument.documentElement,G)){if(Q!==null&&gx(G)){var se=Q.start,me=Q.end;if(me===void 0&&(me=se),"selectionStart"in G)G.selectionStart=se,G.selectionEnd=Math.min(me,G.value.length);else{var xe=G.ownerDocument||document,ce=xe&&xe.defaultView||window;if(ce.getSelection){var he=ce.getSelection(),Le=G.textContent.length,Ge=Math.min(Q.start,Le),Ut=Q.end===void 0?Ge:Math.min(Q.end,Le);!he.extend&&Ge>Ut&&(D=Ut,Ut=Ge,Ge=D);var re=aI(G,Ge),ee=aI(G,Ut);if(re&&ee&&(he.rangeCount!==1||he.anchorNode!==re.node||he.anchorOffset!==re.offset||he.focusNode!==ee.node||he.focusOffset!==ee.offset)){var ae=xe.createRange();ae.setStart(re.node,re.offset),he.removeAllRanges(),Ge>Ut?(he.addRange(ae),he.extend(ee.node,ee.offset)):(ae.setEnd(ee.node,ee.offset),he.addRange(ae))}}}}for(xe=[],he=G;he=he.parentNode;)he.nodeType===1&&xe.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<xe.length;G++){var ye=xe[G];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}ey=!!$_,H_=$_=null}finally{St=w,H.p=g,J.T=h}}o.current=c,Hn=2}}function w2(){if(Hn===2){Hn=0;var o=ul,c=Wu,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=J.T,J.T=null;var g=H.p;H.p=2;var w=St;St|=4;try{JN(o,c.alternate,c)}finally{St=w,H.p=g,J.T=h}}Hn=3}}function E2(){if(Hn===4||Hn===3){Hn=0,js();var o=ul,c=Wu,h=to,g=c2;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Hn=5:(Hn=0,Wu=ul=null,S2(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(cl=null),Br(h),c=c.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(un,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=J.T,w=H.p,H.p=2,J.T=null;try{for(var E=o.onRecoverableError,D=0;D<g.length;D++){var G=g[D];E(G.value,{componentStack:G.stack})}}finally{J.T=c,H.p=w}}(to&3)!==0&&Bg(),ds(o),w=o.pendingLanes,(h&261930)!==0&&(w&42)!==0?o===R_?ph++:(ph=0,R_=o):ph=0,mh(0)}}function S2(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Wf(c)))}function Bg(){return _2(),w2(),E2(),T2()}function T2(){if(Hn!==5)return!1;var o=ul,c=I_;I_=0;var h=Br(to),g=J.T,w=H.p;try{H.p=32>h?32:h,J.T=null,h=N_,N_=null;var E=ul,D=to;if(Hn=0,Wu=ul=null,to=0,(St&6)!==0)throw Error(r(331));var G=St;if(St|=4,s2(E.current),r2(E,E.current,D,h),St=G,mh(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(un,E)}catch{}return!0}finally{H.p=w,J.T=g,S2(o,c)}}function k2(o,c,h){c=Xi(h,c),c=c_(o.stateNode,c,2),o=rl(o,c,2),o!==null&&(ni(o,2),ds(o))}function Pt(o,c,h){if(o.tag===3)k2(o,o,h);else for(;c!==null;){if(c.tag===3){k2(c,o,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(cl===null||!cl.has(g))){o=Xi(h,o),h=AN(2),g=rl(c,h,2),g!==null&&(CN(h,g,c,o),ni(g,2),ds(g));break}}c=c.return}}function M_(o,c,h){var g=o.pingCache;if(g===null){g=o.pingCache=new CH;var w=new Set;g.set(c,w)}else w=g.get(c),w===void 0&&(w=new Set,g.set(c,w));w.has(h)||(k_=!0,w.add(h),o=DH.bind(null,o,c,h),c.then(o,o))}function DH(o,c,h){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Bt===o&&(ct&h)===h&&(pn===4||pn===3&&(ct&62914560)===ct&&300>In()-Lg?(St&2)===0&&Ju(o,0):A_|=h,Yu===ct&&(Yu=0)),ds(o)}function A2(o,c){c===0&&(c=er()),o=_c(o,c),o!==null&&(ni(o,c),ds(o))}function MH(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),A2(o,h)}function OH(o,c){var h=0;switch(o.tag){case 31:case 13:var g=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(c),A2(o,h)}function LH(o,c){return wt(o,c)}var qg=null,Qu=null,O_=!1,$g=!1,L_=!1,fl=0;function ds(o){o!==Qu&&o.next===null&&(Qu===null?qg=Qu=o:Qu=Qu.next=o),$g=!0,O_||(O_=!0,UH())}function mh(o,c){if(!L_&&$g){L_=!0;do for(var h=!1,g=qg;g!==null;){if(o!==0){var w=g.pendingLanes;if(w===0)var E=0;else{var D=g.suspendedLanes,G=g.pingedLanes;E=(1<<31-rt(42|o)+1)-1,E&=w&~(D&~G),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,R2(g,E))}else E=ct,E=rn(g,g===Bt?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||Nn(g,E)||(h=!0,R2(g,E));g=g.next}while(h);L_=!1}}function jH(){C2()}function C2(){$g=O_=!1;var o=0;fl!==0&&YH()&&(o=fl);for(var c=In(),h=null,g=qg;g!==null;){var w=g.next,E=I2(g,c);E===0?(g.next=null,h===null?qg=w:h.next=w,w===null&&(Qu=h)):(h=g,(o!==0||(E&3)!==0)&&($g=!0)),g=w}Hn!==0&&Hn!==5||mh(o),fl!==0&&(fl=0)}function I2(o,c){for(var h=o.suspendedLanes,g=o.pingedLanes,w=o.expirationTimes,E=o.pendingLanes&-62914561;0<E;){var D=31-rt(E),G=1<<D,Q=w[D];Q===-1?((G&h)===0||(G&g)!==0)&&(w[D]=kr(G,c)):Q<=c&&(o.expiredLanes|=G),E&=~G}if(c=Bt,h=ct,h=rn(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,h===0||o===c&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&Vr(g),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Nn(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(g!==null&&Vr(g),Br(h)){case 2:case 8:h=Te;break;case 32:h=Fe;break;case 268435456:h=mt;break;default:h=Fe}return g=N2.bind(null,o),h=wt(h,g),o.callbackPriority=c,o.callbackNode=h,c}return g!==null&&g!==null&&Vr(g),o.callbackPriority=2,o.callbackNode=null,2}function N2(o,c){if(Hn!==0&&Hn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Bg()&&o.callbackNode!==h)return null;var g=ct;return g=rn(o,o===Bt?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(d2(o,g,c),I2(o,In()),o.callbackNode!=null&&o.callbackNode===h?N2.bind(null,o):null)}function R2(o,c){if(Bg())return null;d2(o,c,!0)}function UH(){JH(function(){(St&6)!==0?wt(ge,jH):C2()})}function j_(){if(fl===0){var o=ju;o===0&&(o=Hi,Hi<<=1,(Hi&261888)===0&&(Hi=256)),fl=o}return fl}function P2(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:wu(""+o)}function D2(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function VH(o,c,h,g,w){if(c==="submit"&&h&&h.stateNode===w){var E=P2((w[tr]||null).action),D=g.submitter;D&&(c=(c=D[tr]||null)?P2(c.formAction):D.getAttribute("formAction"),c!==null&&(E=c,D=null));var G=new is("action","action",null,g,w);o.push({event:G,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(fl!==0){var Q=D?D2(w,D):new FormData(w);r_(h,{pending:!0,data:Q,method:w.method,action:E},null,Q)}}else typeof E=="function"&&(G.preventDefault(),Q=D?D2(w,D):new FormData(w),r_(h,{pending:!0,data:Q,method:w.method,action:E},E,Q))},currentTarget:w}]})}}for(var U_=0;U_<xx.length;U_++){var V_=xx[U_],FH=V_.toLowerCase(),zH=V_[0].toUpperCase()+V_.slice(1);Ca(FH,"on"+zH)}Ca(uI,"onAnimationEnd"),Ca(dI,"onAnimationIteration"),Ca(fI,"onAnimationStart"),Ca("dblclick","onDoubleClick"),Ca("focusin","onFocus"),Ca("focusout","onBlur"),Ca(rH,"onTransitionRun"),Ca(iH,"onTransitionStart"),Ca(aH,"onTransitionCancel"),Ca(hI,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Za("onBeforeInput",["compositionend","keypress","textInput","paste"]),Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gh));function M2(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],w=g.event;g=g.listeners;e:{var E=void 0;if(c)for(var D=g.length-1;0<=D;D--){var G=g[D],Q=G.instance,se=G.currentTarget;if(G=G.listener,Q!==E&&w.isPropagationStopped())break e;E=G,w.currentTarget=se;try{E(w)}catch(me){ag(me)}w.currentTarget=null,E=Q}else for(D=0;D<g.length;D++){if(G=g[D],Q=G.instance,se=G.currentTarget,G=G.listener,Q!==E&&w.isPropagationStopped())break e;E=G,w.currentTarget=se;try{E(w)}catch(me){ag(me)}w.currentTarget=null,E=Q}}}}function ot(o,c){var h=c[yu];h===void 0&&(h=c[yu]=new Set);var g=o+"__bubble";h.has(g)||(O2(c,o,2,!1),h.add(g))}function F_(o,c,h){var g=0;c&&(g|=4),O2(h,o,g,c)}var Hg="_reactListening"+Math.random().toString(36).slice(2);function z_(o){if(!o[Hg]){o[Hg]=!0,Cf.forEach(function(h){h!=="selectionchange"&&(BH.has(h)||F_(h,!1,o),F_(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Hg]||(c[Hg]=!0,F_("selectionchange",!1,c))}}function O2(o,c,h,g){switch(uR(c)){case 2:var w=g7;break;case 8:w=y7;break;default:w=nw}h=w.bind(null,c,h,o),w=void 0,!hc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),g?w!==void 0?o.addEventListener(c,h,{capture:!0,passive:w}):o.addEventListener(c,h,!0):w!==void 0?o.addEventListener(c,h,{passive:w}):o.addEventListener(c,h,!1)}function B_(o,c,h,g,w){var E=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var G=g.stateNode.containerInfo;if(G===w)break;if(D===4)for(D=g.return;D!==null;){var Q=D.tag;if((Q===3||Q===4)&&D.stateNode.containerInfo===w)return;D=D.return}for(;G!==null;){if(D=Xa(G),D===null)return;if(Q=D.tag,Q===5||Q===6||Q===26||Q===27){g=E=D;continue e}G=G.parentNode}}g=g.return}Ko(function(){var se=E,me=Ki(h),xe=[];e:{var ce=pI.get(o);if(ce!==void 0){var he=is,Le=o;switch(o){case"keypress":if(mc(h)===0)break e;case"keydown":case"keyup":he=ng;break;case"focusin":Le="focus",he=yc;break;case"focusout":Le="blur",he=yc;break;case"beforeblur":case"afterblur":he=yc;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=zf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Km;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=N;break;case uI:case dI:case fI:he=Wm;break;case hI:he=W;break;case"scroll":case"scrollend":he=Ff;break;case"wheel":he=ue;break;case"copy":case"cut":case"paste":he=Jm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=zs;break;case"toggle":case"beforetoggle":he=Ze}var Ge=(c&4)!==0,Ut=!Ge&&(o==="scroll"||o==="scrollend"),re=Ge?ce!==null?ce+"Capture":null:ce;Ge=[];for(var ee=se,ae;ee!==null;){var ye=ee;if(ae=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ae===null||re===null||(ye=Sa(ee,re),ye!=null&&Ge.push(yh(ee,ye,ae))),Ut)break;ee=ee.return}0<Ge.length&&(ce=new he(ce,Le,null,h,me),xe.push({event:ce,listeners:Ge}))}}if((c&7)===0){e:{if(ce=o==="mouseover"||o==="pointerover",he=o==="mouseout"||o==="pointerout",ce&&h!==jf&&(Le=h.relatedTarget||h.fromElement)&&(Xa(Le)||Le[Wa]))break e;if((he||ce)&&(ce=me.window===me?me:(ce=me.ownerDocument)?ce.defaultView||ce.parentWindow:window,he?(Le=h.relatedTarget||h.toElement,he=se,Le=Le?Xa(Le):null,Le!==null&&(Ut=a(Le),Ge=Le.tag,Le!==Ut||Ge!==5&&Ge!==27&&Ge!==6)&&(Le=null)):(he=null,Le=se),he!==Le)){if(Ge=zf,ye="onMouseLeave",re="onMouseEnter",ee="mouse",(o==="pointerout"||o==="pointerover")&&(Ge=zs,ye="onPointerLeave",re="onPointerEnter",ee="pointer"),Ut=he==null?ce:ki(he),ae=Le==null?ce:ki(Le),ce=new Ge(ye,ee+"leave",he,h,me),ce.target=Ut,ce.relatedTarget=ae,ye=null,Xa(me)===se&&(Ge=new Ge(re,ee+"enter",Le,h,me),Ge.target=ae,Ge.relatedTarget=Ut,ye=Ge),Ut=ye,he&&Le)t:{for(Ge=qH,re=he,ee=Le,ae=0,ye=re;ye;ye=Ge(ye))ae++;ye=0;for(var qe=ee;qe;qe=Ge(qe))ye++;for(;0<ae-ye;)re=Ge(re),ae--;for(;0<ye-ae;)ee=Ge(ee),ye--;for(;ae--;){if(re===ee||ee!==null&&re===ee.alternate){Ge=re;break t}re=Ge(re),ee=Ge(ee)}Ge=null}else Ge=null;he!==null&&L2(xe,ce,he,Ge,!1),Le!==null&&Ut!==null&&L2(xe,Ut,Le,Ge,!0)}}e:{if(ce=se?ki(se):window,he=ce.nodeName&&ce.nodeName.toLowerCase(),he==="select"||he==="input"&&ce.type==="file")var vt=ZC;else if(XC(ce))if(eI)vt=eH;else{vt=Q$;var Ue=X$}else he=ce.nodeName,!he||he.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?se&&_u(se.elementType)&&(vt=ZC):vt=Z$;if(vt&&(vt=vt(o,se))){QC(xe,vt,h,me);break e}Ue&&Ue(o,ce,se),o==="focusout"&&se&&ce.type==="number"&&se.memoizedProps.value!=null&&Mf(ce,"number",ce.value)}switch(Ue=se?ki(se):window,o){case"focusin":(XC(Ue)||Ue.contentEditable==="true")&&(Iu=Ue,yx=se,Gf=null);break;case"focusout":Gf=yx=Iu=null;break;case"mousedown":vx=!0;break;case"contextmenu":case"mouseup":case"dragend":vx=!1,lI(xe,h,me);break;case"selectionchange":if(nH)break;case"keydown":case"keyup":lI(xe,h,me)}var tt;if(Et)e:{switch(o){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else Cu?vc(o,h)&&(ut="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(ut="onCompositionStart");ut&&(os&&h.locale!=="ko"&&(Cu||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Cu&&(tt=Vf()):(rs=me,Uf="value"in rs?rs.value:rs.textContent,Cu=!0)),Ue=Gg(se,ut),0<Ue.length&&(ut=new ss(ut,o,null,h,me),xe.push({event:ut,listeners:Ue}),tt?ut.data=tt:(tt=Au(h),tt!==null&&(ut.data=tt)))),(tt=Wi?K$(o,h):Y$(o,h))&&(ut=Gg(se,"onBeforeInput"),0<ut.length&&(Ue=new ss("onBeforeInput","beforeinput",null,h,me),xe.push({event:Ue,listeners:ut}),Ue.data=tt)),VH(xe,o,se,h,me)}M2(xe,c)})}function yh(o,c,h){return{instance:o,listener:c,currentTarget:h}}function Gg(o,c){for(var h=c+"Capture",g=[];o!==null;){var w=o,E=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||E===null||(w=Sa(o,h),w!=null&&g.unshift(yh(o,w,E)),w=Sa(o,c),w!=null&&g.push(yh(o,w,E))),o.tag===3)return g;o=o.return}return[]}function qH(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function L2(o,c,h,g,w){for(var E=c._reactName,D=[];h!==null&&h!==g;){var G=h,Q=G.alternate,se=G.stateNode;if(G=G.tag,Q!==null&&Q===g)break;G!==5&&G!==26&&G!==27||se===null||(Q=se,w?(se=Sa(h,E),se!=null&&D.unshift(yh(h,se,Q))):w||(se=Sa(h,E),se!=null&&D.push(yh(h,se,Q)))),h=h.return}D.length!==0&&o.push({event:c,listeners:D})}var $H=/\r\n?/g,HH=/\u0000|\uFFFD/g;function j2(o){return(typeof o=="string"?o:""+o).replace($H,`
`).replace(HH,"")}function U2(o,c){return c=j2(c),j2(o)===c}function jt(o,c,h,g,w,E){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||ii(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&ii(o,""+g);break;case"className":Ai(o,"class",g);break;case"tabIndex":Ai(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ai(o,h,g);break;case"style":Lf(o,g,E);break;case"data":if(c!=="object"){Ai(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=wu(""+g),o.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(c!=="input"&&jt(o,c,"name",w.name,w,null),jt(o,c,"formEncType",w.formEncType,w,null),jt(o,c,"formMethod",w.formMethod,w,null),jt(o,c,"formTarget",w.formTarget,w,null)):(jt(o,c,"encType",w.encType,w,null),jt(o,c,"method",w.method,w,null),jt(o,c,"target",w.target,w,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=wu(""+g),o.setAttribute(h,g);break;case"onClick":g!=null&&(o.onclick=Ea);break;case"onScroll":g!=null&&ot("scroll",o);break;case"onScrollEnd":g!=null&&ot("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}h=wu(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""+g):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":g===!0?o.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,g):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(h,g):o.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(h):o.setAttribute(h,g);break;case"popover":ot("beforetoggle",o),ot("toggle",o),bu(o,"popover",g);break;case"xlinkActuate":Dn(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Dn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Dn(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Dn(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Dn(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Dn(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Dn(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Dn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Dn(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":bu(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Gm.get(h)||h,bu(o,h,g))}}function q_(o,c,h,g,w,E){switch(h){case"style":Lf(o,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof g=="string"?ii(o,g):(typeof g=="number"||typeof g=="bigint")&&ii(o,""+g);break;case"onScroll":g!=null&&ot("scroll",o);break;case"onScrollEnd":g!=null&&ot("scrollend",o);break;case"onClick":g!=null&&(o.onclick=Ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!If.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),c=h.slice(2,w?h.length-7:void 0),E=o[tr]||null,E=E!=null?E[h]:null,typeof E=="function"&&o.removeEventListener(c,E,w),typeof g=="function")){typeof E!="function"&&E!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,g,w);break e}h in o?o[h]=g:g===!0?o.setAttribute(h,""):bu(o,h,g)}}}function br(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",o),ot("load",o);var g=!1,w=!1,E;for(E in h)if(h.hasOwnProperty(E)){var D=h[E];if(D!=null)switch(E){case"src":g=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:jt(o,c,E,D,h,null)}}w&&jt(o,c,"srcSet",h.srcSet,h,null),g&&jt(o,c,"src",h.src,h,null);return;case"input":ot("invalid",o);var G=E=D=w=null,Q=null,se=null;for(g in h)if(h.hasOwnProperty(g)){var me=h[g];if(me!=null)switch(g){case"name":w=me;break;case"type":D=me;break;case"checked":Q=me;break;case"defaultChecked":se=me;break;case"value":E=me;break;case"defaultValue":G=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,c));break;default:jt(o,c,g,me,h,null)}}qm(o,E,G,Q,se,D,w,!1);return;case"select":ot("invalid",o),g=D=E=null;for(w in h)if(h.hasOwnProperty(w)&&(G=h[w],G!=null))switch(w){case"value":E=G;break;case"defaultValue":D=G;break;case"multiple":g=G;default:jt(o,c,w,G,h,null)}c=E,h=D,o.multiple=!!g,c!=null?qo(o,!!g,c,!1):h!=null&&qo(o,!!g,h,!0);return;case"textarea":ot("invalid",o),E=w=g=null;for(D in h)if(h.hasOwnProperty(D)&&(G=h[D],G!=null))switch(D){case"value":g=G;break;case"defaultValue":w=G;break;case"children":E=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:jt(o,c,D,G,h,null)}$o(o,g,w,E);return;case"option":for(Q in h)if(h.hasOwnProperty(Q)&&(g=h[Q],g!=null))switch(Q){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:jt(o,c,Q,g,h,null)}return;case"dialog":ot("beforetoggle",o),ot("toggle",o),ot("cancel",o),ot("close",o);break;case"iframe":case"object":ot("load",o);break;case"video":case"audio":for(g=0;g<gh.length;g++)ot(gh[g],o);break;case"image":ot("error",o),ot("load",o);break;case"details":ot("toggle",o);break;case"embed":case"source":case"link":ot("error",o),ot("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in h)if(h.hasOwnProperty(se)&&(g=h[se],g!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:jt(o,c,se,g,h,null)}return;default:if(_u(c)){for(me in h)h.hasOwnProperty(me)&&(g=h[me],g!==void 0&&q_(o,c,me,g,h,void 0));return}}for(G in h)h.hasOwnProperty(G)&&(g=h[G],g!=null&&jt(o,c,G,g,h,null))}function GH(o,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,E=null,D=null,G=null,Q=null,se=null,me=null;for(he in h){var xe=h[he];if(h.hasOwnProperty(he)&&xe!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":Q=xe;default:g.hasOwnProperty(he)||jt(o,c,he,null,g,xe)}}for(var ce in g){var he=g[ce];if(xe=h[ce],g.hasOwnProperty(ce)&&(he!=null||xe!=null))switch(ce){case"type":E=he;break;case"name":w=he;break;case"checked":se=he;break;case"defaultChecked":me=he;break;case"value":D=he;break;case"defaultValue":G=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,c));break;default:he!==xe&&jt(o,c,ce,he,g,xe)}}xu(o,D,G,Q,se,me,E,w);return;case"select":he=D=G=ce=null;for(E in h)if(Q=h[E],h.hasOwnProperty(E)&&Q!=null)switch(E){case"value":break;case"multiple":he=Q;default:g.hasOwnProperty(E)||jt(o,c,E,null,g,Q)}for(w in g)if(E=g[w],Q=h[w],g.hasOwnProperty(w)&&(E!=null||Q!=null))switch(w){case"value":ce=E;break;case"defaultValue":G=E;break;case"multiple":D=E;default:E!==Q&&jt(o,c,w,E,g,Q)}c=G,h=D,g=he,ce!=null?qo(o,!!h,ce,!1):!!g!=!!h&&(c!=null?qo(o,!!h,c,!0):qo(o,!!h,h?[]:"",!1));return;case"textarea":he=ce=null;for(G in h)if(w=h[G],h.hasOwnProperty(G)&&w!=null&&!g.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:jt(o,c,G,null,g,w)}for(D in g)if(w=g[D],E=h[D],g.hasOwnProperty(D)&&(w!=null||E!=null))switch(D){case"value":ce=w;break;case"defaultValue":he=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==E&&jt(o,c,D,w,g,E)}$m(o,ce,he);return;case"option":for(var Le in h)if(ce=h[Le],h.hasOwnProperty(Le)&&ce!=null&&!g.hasOwnProperty(Le))switch(Le){case"selected":o.selected=!1;break;default:jt(o,c,Le,null,g,ce)}for(Q in g)if(ce=g[Q],he=h[Q],g.hasOwnProperty(Q)&&ce!==he&&(ce!=null||he!=null))switch(Q){case"selected":o.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:jt(o,c,Q,ce,g,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in h)ce=h[Ge],h.hasOwnProperty(Ge)&&ce!=null&&!g.hasOwnProperty(Ge)&&jt(o,c,Ge,null,g,ce);for(se in g)if(ce=g[se],he=h[se],g.hasOwnProperty(se)&&ce!==he&&(ce!=null||he!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,c));break;default:jt(o,c,se,ce,g,he)}return;default:if(_u(c)){for(var Ut in h)ce=h[Ut],h.hasOwnProperty(Ut)&&ce!==void 0&&!g.hasOwnProperty(Ut)&&q_(o,c,Ut,void 0,g,ce);for(me in g)ce=g[me],he=h[me],!g.hasOwnProperty(me)||ce===he||ce===void 0&&he===void 0||q_(o,c,me,ce,g,he);return}}for(var re in h)ce=h[re],h.hasOwnProperty(re)&&ce!=null&&!g.hasOwnProperty(re)&&jt(o,c,re,null,g,ce);for(xe in g)ce=g[xe],he=h[xe],!g.hasOwnProperty(xe)||ce===he||ce==null&&he==null||jt(o,c,xe,ce,g,he)}function V2(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KH(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var w=h[g],E=w.transferSize,D=w.initiatorType,G=w.duration;if(E&&G&&V2(D)){for(D=0,G=w.responseEnd,g+=1;g<h.length;g++){var Q=h[g],se=Q.startTime;if(se>G)break;var me=Q.transferSize,xe=Q.initiatorType;me&&V2(xe)&&(Q=Q.responseEnd,D+=me*(Q<G?1:(G-se)/(Q-se)))}if(--g,c+=8*(E+D)/(w.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var $_=null,H_=null;function Kg(o){return o.nodeType===9?o:o.ownerDocument}function F2(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z2(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function G_(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var K_=null;function YH(){var o=window.event;return o&&o.type==="popstate"?o===K_?!1:(K_=o,!0):(K_=null,!1)}var B2=typeof setTimeout=="function"?setTimeout:void 0,WH=typeof clearTimeout=="function"?clearTimeout:void 0,q2=typeof Promise=="function"?Promise:void 0,JH=typeof queueMicrotask=="function"?queueMicrotask:typeof q2<"u"?function(o){return q2.resolve(null).then(o).catch(XH)}:B2;function XH(o){setTimeout(function(){throw o})}function hl(o){return o==="head"}function $2(o,c){var h=c,g=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"||h==="/&"){if(g===0){o.removeChild(w),nd(c);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")vh(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,vh(h);for(var E=h.firstChild;E;){var D=E.nextSibling,G=E.nodeName;E[Ja]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=D}}else h==="body"&&vh(o.ownerDocument.body);h=w}while(h);nd(c)}function H2(o,c){var h=o;o=0;do{var g=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=g}while(h)}function Y_(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Y_(h),vu(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function QH(o,c,h,g){for(;o.nodeType===1;){var w=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[Ja])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(E=o.getAttribute("rel"),E==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(E!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(E=o.getAttribute("src"),(E!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&E&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var E=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===E)return o}else return o;if(o=na(o.nextSibling),o===null)break}return null}function ZH(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=na(o.nextSibling),o===null))return null;return o}function G2(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=na(o.nextSibling),o===null))return null;return o}function W_(o){return o.data==="$?"||o.data==="$~"}function J_(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function e7(o,c){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||h.readyState!=="loading")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function na(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var X_=null;function K2(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(c===0)return na(o.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}o=o.nextSibling}return null}function Y2(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return o;c--}else h!=="/$"&&h!=="/&"||c++}o=o.previousSibling}return null}function W2(o,c,h){switch(c=Kg(h),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function vh(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);vu(o)}var ra=new Map,J2=new Set;function Yg(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var no=H.d;H.d={f:t7,r:n7,D:r7,C:i7,L:a7,m:s7,X:l7,S:o7,M:c7};function t7(){var o=no.f(),c=Vg();return o||c}function n7(o){var c=Gi(o);c!==null&&c.tag===5&&c.type==="form"?hN(c):no.r(o)}var Zu=typeof document>"u"?null:document;function X2(o,c,h){var g=Zu;if(g&&typeof c=="string"&&c){var w=ri(c);w='link[rel="'+o+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),J2.has(w)||(J2.add(w),o={rel:o,crossOrigin:h,href:c},g.querySelector(w)===null&&(c=g.createElement("link"),br(c,"link",o),Pn(c),g.head.appendChild(c)))}}function r7(o){no.D(o),X2("dns-prefetch",o,null)}function i7(o,c){no.C(o,c),X2("preconnect",o,c)}function a7(o,c,h){no.L(o,c,h);var g=Zu;if(g&&o&&c){var w='link[rel="preload"][as="'+ri(c)+'"]';c==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+ri(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+ri(h.imageSizes)+'"]')):w+='[href="'+ri(o)+'"]';var E=w;switch(c){case"style":E=ed(o);break;case"script":E=td(o)}ra.has(E)||(o=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),ra.set(E,o),g.querySelector(w)!==null||c==="style"&&g.querySelector(bh(E))||c==="script"&&g.querySelector(xh(E))||(c=g.createElement("link"),br(c,"link",o),Pn(c),g.head.appendChild(c)))}}function s7(o,c){no.m(o,c);var h=Zu;if(h&&o){var g=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+ri(g)+'"][href="'+ri(o)+'"]',E=w;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=td(o)}if(!ra.has(E)&&(o=p({rel:"modulepreload",href:o},c),ra.set(E,o),h.querySelector(w)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(xh(E)))return}g=h.createElement("link"),br(g,"link",o),Pn(g),h.head.appendChild(g)}}}function o7(o,c,h){no.S(o,c,h);var g=Zu;if(g&&o){var w=Qa(g).hoistableStyles,E=ed(o);c=c||"default";var D=w.get(E);if(!D){var G={loading:0,preload:null};if(D=g.querySelector(bh(E)))G.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},h),(h=ra.get(E))&&Q_(o,h);var Q=D=g.createElement("link");Pn(Q),br(Q,"link",o),Q._p=new Promise(function(se,me){Q.onload=se,Q.onerror=me}),Q.addEventListener("load",function(){G.loading|=1}),Q.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Wg(D,c,g)}D={type:"stylesheet",instance:D,count:1,state:G},w.set(E,D)}}}function l7(o,c){no.X(o,c);var h=Zu;if(h&&o){var g=Qa(h).hoistableScripts,w=td(o),E=g.get(w);E||(E=h.querySelector(xh(w)),E||(o=p({src:o,async:!0},c),(c=ra.get(w))&&Z_(o,c),E=h.createElement("script"),Pn(E),br(E,"link",o),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(w,E))}}function c7(o,c){no.M(o,c);var h=Zu;if(h&&o){var g=Qa(h).hoistableScripts,w=td(o),E=g.get(w);E||(E=h.querySelector(xh(w)),E||(o=p({src:o,async:!0,type:"module"},c),(c=ra.get(w))&&Z_(o,c),E=h.createElement("script"),Pn(E),br(E,"link",o),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(w,E))}}function Q2(o,c,h,g){var w=(w=Se.current)?Yg(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=ed(h.href),h=Qa(w).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=ed(h.href);var E=Qa(w).hoistableStyles,D=E.get(o);if(D||(w=w.ownerDocument||w,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(o,D),(E=w.querySelector(bh(o)))&&!E._p&&(D.instance=E,D.state.loading=5),ra.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ra.set(o,h),E||u7(w,o,h,D.state))),c&&g===null)throw Error(r(528,""));return D}if(c&&g!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=td(h),h=Qa(w).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function ed(o){return'href="'+ri(o)+'"'}function bh(o){return'link[rel="stylesheet"]['+o+"]"}function Z2(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function u7(o,c,h,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),br(c,"link",h),Pn(c),o.head.appendChild(c))}function td(o){return'[src="'+ri(o)+'"]'}function xh(o){return"script[async]"+o}function eR(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+ri(h.href)+'"]');if(g)return c.instance=g,Pn(g),g;var w=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Pn(g),br(g,"style",w),Wg(g,h.precedence,o),c.instance=g;case"stylesheet":w=ed(h.href);var E=o.querySelector(bh(w));if(E)return c.state.loading|=4,c.instance=E,Pn(E),E;g=Z2(h),(w=ra.get(w))&&Q_(g,w),E=(o.ownerDocument||o).createElement("link"),Pn(E);var D=E;return D._p=new Promise(function(G,Q){D.onload=G,D.onerror=Q}),br(E,"link",g),c.state.loading|=4,Wg(E,h.precedence,o),c.instance=E;case"script":return E=td(h.src),(w=o.querySelector(xh(E)))?(c.instance=w,Pn(w),w):(g=h,(w=ra.get(E))&&(g=p({},h),Z_(g,w)),o=o.ownerDocument||o,w=o.createElement("script"),Pn(w),br(w,"link",g),o.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Wg(g,h.precedence,o));return c.instance}function Wg(o,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=g.length?g[g.length-1]:null,E=w,D=0;D<g.length;D++){var G=g[D];if(G.dataset.precedence===c)E=G;else if(E!==w)break}E?E.parentNode.insertBefore(o,E.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function Q_(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Z_(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Jg=null;function tR(o,c,h){if(Jg===null){var g=new Map,w=Jg=new Map;w.set(h,g)}else w=Jg,g=w.get(h),g||(g=new Map,w.set(h,g));if(g.has(o))return g;for(g.set(o,null),h=h.getElementsByTagName(o),w=0;w<h.length;w++){var E=h[w];if(!(E[Ja]||E[Rn]||o==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var D=E.getAttribute(c)||"";D=o+D;var G=g.get(D);G?G.push(E):g.set(D,[E])}}return g}function nR(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function d7(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function rR(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function f7(o,c,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var w=ed(g.href),E=c.querySelector(bh(w));if(E){c=E._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=Xg.bind(o),c.then(o,o)),h.state.loading|=4,h.instance=E,Pn(E);return}E=c.ownerDocument||c,g=Z2(g),(w=ra.get(w))&&Q_(g,w),E=E.createElement("link"),Pn(E);var D=E;D._p=new Promise(function(G,Q){D.onload=G,D.onerror=Q}),br(E,"link",g),h.instance=E}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=Xg.bind(o),c.addEventListener("load",h),c.addEventListener("error",h))}}var ew=0;function h7(o,c){return o.stylesheets&&o.count===0&&Zg(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var g=setTimeout(function(){if(o.stylesheets&&Zg(o,o.stylesheets),o.unsuspend){var E=o.unsuspend;o.unsuspend=null,E()}},6e4+c);0<o.imgBytes&&ew===0&&(ew=62500*KH());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Zg(o,o.stylesheets),o.unsuspend)){var E=o.unsuspend;o.unsuspend=null,E()}},(o.imgBytes>ew?50:800)+c);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(w)}}:null}function Xg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Qg=null;function Zg(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Qg=new Map,c.forEach(p7,o),Qg=null,Xg.call(o))}function p7(o,c){if(!(c.state.loading&4)){var h=Qg.get(o);if(h)var g=h.get(null);else{h=new Map,Qg.set(o,h);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<w.length;E++){var D=w[E];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(h.set(D.dataset.precedence,D),g=D)}g&&h.set(null,g)}w=c.instance,D=w.getAttribute("data-precedence"),E=h.get(D)||g,E===g&&h.set(null,w),h.set(D,w),this.count++,g=Xg.bind(this),w.addEventListener("load",g),w.addEventListener("error",g),E?E.parentNode.insertBefore(w,E.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),c.state.loading|=4}}var _h={$$typeof:I,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function m7(o,c,h,g,w,E,D,G,Q){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.hiddenUpdates=vn(null),this.identifierPrefix=g,this.onUncaughtError=w,this.onCaughtError=E,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function iR(o,c,h,g,w,E,D,G,Q,se,me,xe){return o=new m7(o,c,h,D,Q,se,me,xe,G),c=1,E===!0&&(c|=24),E=Ii(3,null,null,c),o.current=E,E.stateNode=o,c=Dx(),c.refCount++,o.pooledCache=c,c.refCount++,E.memoizedState={element:g,isDehydrated:h,cache:c},jx(E),o}function aR(o){return o?(o=Pu,o):Pu}function sR(o,c,h,g,w,E){w=aR(w),g.context===null?g.context=w:g.pendingContext=w,g=nl(c),g.payload={element:h},E=E===void 0?null:E,E!==null&&(g.callback=E),h=rl(o,g,c),h!==null&&(ci(h,o,c),Zf(h,o,c))}function oR(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function tw(o,c){oR(o,c),(o=o.alternate)&&oR(o,c)}function lR(o){if(o.tag===13||o.tag===31){var c=_c(o,67108864);c!==null&&ci(c,o,67108864),tw(o,67108864)}}function cR(o){if(o.tag===13||o.tag===31){var c=Mi();c=Si(c);var h=_c(o,c);h!==null&&ci(h,o,c),tw(o,c)}}var ey=!0;function g7(o,c,h,g){var w=J.T;J.T=null;var E=H.p;try{H.p=2,nw(o,c,h,g)}finally{H.p=E,J.T=w}}function y7(o,c,h,g){var w=J.T;J.T=null;var E=H.p;try{H.p=8,nw(o,c,h,g)}finally{H.p=E,J.T=w}}function nw(o,c,h,g){if(ey){var w=rw(g);if(w===null)B_(o,c,g,ty,h),dR(o,g);else if(b7(w,o,c,h,g))g.stopPropagation();else if(dR(o,g),c&4&&-1<v7.indexOf(o)){for(;w!==null;){var E=Gi(w);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var D=nn(E.pendingLanes);if(D!==0){var G=E;for(G.pendingLanes|=2,G.entangledLanes|=2;D;){var Q=1<<31-rt(D);G.entanglements[1]|=Q,D&=~Q}ds(E),(St&6)===0&&(jg=In()+500,mh(0))}}break;case 31:case 13:G=_c(E,2),G!==null&&ci(G,E,2),Vg(),tw(E,2)}if(E=rw(g),E===null&&B_(o,c,g,ty,h),E===w)break;w=E}w!==null&&g.stopPropagation()}else B_(o,c,g,null,h)}}function rw(o){return o=Ki(o),iw(o)}var ty=null;function iw(o){if(ty=null,o=Xa(o),o!==null){var c=a(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=s(c),o!==null)return o;o=null}else if(h===31){if(o=l(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return ty=o,null}function uR(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wa()){case ge:return 2;case Te:return 8;case Fe:case We:return 32;case mt:return 268435456;default:return 32}default:return 32}}var aw=!1,pl=null,ml=null,gl=null,wh=new Map,Eh=new Map,yl=[],v7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dR(o,c){switch(o){case"focusin":case"focusout":pl=null;break;case"dragenter":case"dragleave":ml=null;break;case"mouseover":case"mouseout":gl=null;break;case"pointerover":case"pointerout":wh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eh.delete(c.pointerId)}}function Sh(o,c,h,g,w,E){return o===null||o.nativeEvent!==E?(o={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:E,targetContainers:[w]},c!==null&&(c=Gi(c),c!==null&&lR(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function b7(o,c,h,g,w){switch(c){case"focusin":return pl=Sh(pl,o,c,h,g,w),!0;case"dragenter":return ml=Sh(ml,o,c,h,g,w),!0;case"mouseover":return gl=Sh(gl,o,c,h,g,w),!0;case"pointerover":var E=w.pointerId;return wh.set(E,Sh(wh.get(E)||null,o,c,h,g,w)),!0;case"gotpointercapture":return E=w.pointerId,Eh.set(E,Sh(Eh.get(E)||null,o,c,h,g,w)),!0}return!1}function fR(o){var c=Xa(o.target);if(c!==null){var h=a(c);if(h!==null){if(c=h.tag,c===13){if(c=s(h),c!==null){o.blockedOn=c,pr(o.priority,function(){cR(h)});return}}else if(c===31){if(c=l(h),c!==null){o.blockedOn=c,pr(o.priority,function(){cR(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ny(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=rw(o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);jf=g,h.target.dispatchEvent(g),jf=null}else return c=Gi(h),c!==null&&lR(c),o.blockedOn=h,!1;c.shift()}return!0}function hR(o,c,h){ny(o)&&h.delete(c)}function x7(){aw=!1,pl!==null&&ny(pl)&&(pl=null),ml!==null&&ny(ml)&&(ml=null),gl!==null&&ny(gl)&&(gl=null),wh.forEach(hR),Eh.forEach(hR)}function ry(o,c){o.blockedOn===c&&(o.blockedOn=null,aw||(aw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,x7)))}var iy=null;function pR(o){iy!==o&&(iy=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){iy===o&&(iy=null);for(var c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],w=o[c+2];if(typeof g!="function"){if(iw(g||h)===null)continue;break}var E=Gi(h);E!==null&&(o.splice(c,3),c-=3,r_(E,{pending:!0,data:w,method:h.method,action:g},g,w))}}))}function nd(o){function c(Q){return ry(Q,o)}pl!==null&&ry(pl,o),ml!==null&&ry(ml,o),gl!==null&&ry(gl,o),wh.forEach(c),Eh.forEach(c);for(var h=0;h<yl.length;h++){var g=yl[h];g.blockedOn===o&&(g.blockedOn=null)}for(;0<yl.length&&(h=yl[0],h.blockedOn===null);)fR(h),h.blockedOn===null&&yl.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var w=h[g],E=h[g+1],D=w[tr]||null;if(typeof E=="function")D||pR(h);else if(D){var G=null;if(E&&E.hasAttribute("formAction")){if(w=E,D=E[tr]||null)G=D.formAction;else if(iw(w)!==null)continue}else G=D.action;typeof G=="function"?h[g+1]=G:(h.splice(g,3),g-=3),pR(h)}}}function mR(){function o(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(D){return w=D})},focusReset:"manual",scroll:"manual"})}function c(){w!==null&&(w(),w=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),w!==null&&(w(),w=null)}}}function sw(o){this._internalRoot=o}ay.prototype.render=sw.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,g=Mi();sR(h,g,o,c,null,null)},ay.prototype.unmount=sw.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;sR(o.current,2,null,o,null,null),Vg(),c[Wa]=null}};function ay(o){this._internalRoot=o}ay.prototype.unstable_scheduleHydration=function(o){if(o){var c=Ti();o={blockedOn:null,target:o,priority:c};for(var h=0;h<yl.length&&c!==0&&c<yl[h].priority;h++);yl.splice(h,0,o),h===0&&fR(o)}};var gR=e.version;if(gR!=="19.2.1")throw Error(r(527,gR,"19.2.1"));H.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var _7={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sy.isDisabled&&sy.supportsFiber)try{un=sy.inject(_7),Wt=sy}catch{}}return kh.createRoot=function(o,c){if(!i(o))throw Error(r(299));var h=!1,g="",w=EN,E=SN,D=TN;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError)),c=iR(o,1,!1,null,null,h,g,null,w,E,D,mR),o[Wa]=c.current,z_(o),new sw(c)},kh.hydrateRoot=function(o,c,h){if(!i(o))throw Error(r(299));var g=!1,w="",E=EN,D=SN,G=TN,Q=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(G=h.onRecoverableError),h.formState!==void 0&&(Q=h.formState)),c=iR(o,1,!0,c,h??null,g,w,Q,E,D,G,mR),c.context=aR(null),h=c.current,g=Mi(),g=Si(g),w=nl(g),w.callback=null,rl(h,w,g),h=g,c.current.lanes=h,ni(c,h),ds(c),o[Wa]=c.current,z_(o),new ay(c)},kh.version="19.2.1",kh}var kR;function M7(){if(kR)return uw.exports;kR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),uw.exports=D7(),uw.exports}var O7=M7();const L7=ba(O7),j7={renovation:["Fas 1: Akut","Fas 2: Mekanisk Skerhet","Fas 3: Kaross & Rost","Fas 4: Inredning & Finish"],conversion:["Fas 1: Planering & Inkp","Fas 2: Isolering & Grund","Fas 3: El & Vatten","Fas 4: Snickerier & Inredning","Fas 5: Finish & Piff"],maintenance:["Vrkoll","Ssong","Hst/Vinterfrvaring","Lpande"]};var fs=(t=>(t.IDEA="IDEA",t.MAINTENANCE="MAINT",t.BUILD="BUILD",t.PURCHASE="BUY",t.ADMIN="ADMIN",t))(fs||{}),wl=(t=>(t.P0_ACUTE="0. Akut & Skerhet",t.P1_ENGINE="1. Motorrddning",t.P2_RUST="2. Rost & Kaross",t.P3_FUTURE="3. Lpande Underhll",t))(wl||{}),OE=(t=>(t.B0_DEMO="0. Rivning & Frberedelse",t.B1_SHELL="1. Skal & Isolering",t.B2_SYSTEMS="2. System (El/Vatten)",t.B3_INTERIOR="3. Inredning",t.B4_FINISH="4. Finish & Piff",t))(OE||{}),dt=(t=>(t.IDEA="Id & Research",t.TODO="Att gra",t.IN_PROGRESS="Pgende",t.DONE="Klart",t.BLOCKED="Blockerad",t))(dt||{}),di=(t=>(t.HIGH="Hg",t.MEDIUM="Medel",t.LOW="Lg",t))(di||{}),la=(t=>(t.INVESTMENT="Investering",t.OPERATION="Drift",t))(la||{});function g5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=g5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function It(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=g5(t))&&(r&&(r+=" "),r+=e);return r}var U7=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function jT(t){if(typeof t!="string")return!1;var e=U7;return e.includes(t)}var V7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],F7=new Set(V7);function y5(t){return typeof t!="string"?!1:F7.has(t)}function v5(t){return typeof t=="string"&&t.startsWith("data-")}function La(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(y5(n)||v5(n))&&(e[n]=t[n]);return e}function Bp(t){if(t==null)return null;if(A.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return La(e)}return typeof t=="object"&&!Array.isArray(t)?La(t):null}function Xr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(y5(n)||v5(n)||jT(n))&&(e[n]=t[n]);return e}function z7(t){return t==null?null:A.isValidElement(t)?Xr(t.props):typeof t=="object"&&!Array.isArray(t)?Xr(t):null}var B7=["children","width","height","viewBox","className","style","title","desc"];function LE(){return LE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LE.apply(null,arguments)}function q7(t,e){if(t==null)return{};var n,r,i=$7(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var b5=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:l,title:u,desc:d}=t,f=q7(t,B7),p=a||{width:r,height:i,x:0,y:0},y=It("recharts-surface",s);return A.createElement("svg",LE({},Xr(f),{className:y,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),A.createElement("title",null,u),A.createElement("desc",null,d),n)}),H7=["children","className"];function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE.apply(null,arguments)}function G7(t,e){if(t==null)return{};var n,r,i=K7(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function K7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ma=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=G7(t,H7),a=It("recharts-layer",r);return A.createElement("g",jE({className:a},Xr(i),{ref:e}),n)}),Vc=m5(),Y7=A.createContext(null);function Ht(t){return function(){return t}}const x5=Math.cos,av=Math.sin,$a=Math.sqrt,sv=Math.PI,O0=2*sv,UE=Math.PI,VE=2*UE,Mc=1e-6,W7=VE-Mc;function _5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function J7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _5;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class X7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_5:J7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,u=r-e,d=i-n,f=s-e,p=l-n,y=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Mc)if(!(Math.abs(p*u-d*f)>Mc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-s,T=i-l,k=u*u+d*d,S=v*v+T*T,C=Math.sqrt(k),R=Math.sqrt(y),I=a*Math.tan((UE-Math.acos((k+y-S)/(2*C*R)))/2),L=I/R,F=I/C;Math.abs(L-1)>Mc&&this._append`L${e+L*f},${n+L*p}`,this._append`A${a},${a},0,0,${+(p*v>f*T)},${this._x1=e+F*u},${this._y1=n+F*d}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=e+l,f=n+u,p=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Mc||Math.abs(this._y1-f)>Mc)&&this._append`L${d},${f}`,r&&(y<0&&(y=y%VE+VE),y>W7?this._append`A${r},${r},0,1,${p},${e-l},${n-u}A${r},${r},0,1,${p},${this._x1=d},${this._y1=f}`:y>Mc&&this._append`A${r},${r},0,${+(y>=UE)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function UT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new X7(e)}function VT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function w5(t){this._context=t}w5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function L0(t){return new w5(t)}function E5(t){return t[0]}function S5(t){return t[1]}function T5(t,e){var n=Ht(!0),r=null,i=L0,a=null,s=UT(l);t=typeof t=="function"?t:t===void 0?E5:Ht(t),e=typeof e=="function"?e:e===void 0?S5:Ht(e);function l(u){var d,f=(u=VT(u)).length,p,y=!1,v;for(r==null&&(a=i(v=s())),d=0;d<=f;++d)!(d<f&&n(p=u[d],d,u))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,d,u),+e(p,d,u));if(v)return a=null,v+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:Ht(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:Ht(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Ht(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function oy(t,e,n){var r=null,i=Ht(!0),a=null,s=L0,l=null,u=UT(d);t=typeof t=="function"?t:t===void 0?E5:Ht(+t),e=typeof e=="function"?e:Ht(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?S5:Ht(+n);function d(p){var y,v,T,k=(p=VT(p)).length,S,C=!1,R,I=new Array(k),L=new Array(k);for(a==null&&(l=s(R=u())),y=0;y<=k;++y){if(!(y<k&&i(S=p[y],y,p))===C)if(C=!C)v=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),T=y-1;T>=v;--T)l.point(I[T],L[T]);l.lineEnd(),l.areaEnd()}C&&(I[y]=+t(S,y,p),L[y]=+e(S,y,p),l.point(r?+r(S,y,p):I[y],n?+n(S,y,p):L[y]))}if(R)return l=null,R+""||null}function f(){return T5().defined(i).curve(s).context(a)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:Ht(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Ht(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ht(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:Ht(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Ht(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ht(+p),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ht(!!p),d):i},d.curve=function(p){return arguments.length?(s=p,a!=null&&(l=s(a)),d):s},d.context=function(p){return arguments.length?(p==null?a=l=null:l=s(a=p),d):a},d}class k5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Q7(t){return new k5(t,!0)}function Z7(t){return new k5(t,!1)}const FT={draw(t,e){const n=$a(e/sv);t.moveTo(n,0),t.arc(0,0,n,0,O0)}},eG={draw(t,e){const n=$a(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},A5=$a(1/3),tG=A5*2,nG={draw(t,e){const n=$a(e/tG),r=n*A5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},rG={draw(t,e){const n=$a(e),r=-n/2;t.rect(r,r,n,n)}},iG=.8908130915292852,C5=av(sv/10)/av(7*sv/10),aG=av(O0/10)*C5,sG=-x5(O0/10)*C5,oG={draw(t,e){const n=$a(e*iG),r=aG*n,i=sG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=O0*a/5,l=x5(s),u=av(s);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},pw=$a(3),lG={draw(t,e){const n=-$a(e/(pw*3));t.moveTo(0,n*2),t.lineTo(-pw*n,-n),t.lineTo(pw*n,-n),t.closePath()}},ia=-.5,aa=$a(3)/2,FE=1/$a(12),cG=(FE/2+1)*3,uG={draw(t,e){const n=$a(e/cG),r=n/2,i=n*FE,a=r,s=n*FE+n,l=-a,u=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,u),t.lineTo(ia*r-aa*i,aa*r+ia*i),t.lineTo(ia*a-aa*s,aa*a+ia*s),t.lineTo(ia*l-aa*u,aa*l+ia*u),t.lineTo(ia*r+aa*i,ia*i-aa*r),t.lineTo(ia*a+aa*s,ia*s-aa*a),t.lineTo(ia*l+aa*u,ia*u-aa*l),t.closePath()}};function dG(t,e){let n=null,r=UT(i);t=typeof t=="function"?t:Ht(t||FT),e=typeof e=="function"?e:Ht(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ht(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ht(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function ov(){}function lv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function I5(t){this._context=t}I5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fG(t){return new I5(t)}function N5(t){this._context=t}N5.prototype={areaStart:ov,areaEnd:ov,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hG(t){return new N5(t)}function R5(t){this._context=t}R5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pG(t){return new R5(t)}function P5(t){this._context=t}P5.prototype={areaStart:ov,areaEnd:ov,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function mG(t){return new P5(t)}function AR(t){return t<0?-1:1}function CR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(AR(a)+AR(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function IR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function mw(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function cv(t){this._context=t}cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mw(this,this._t0,IR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,mw(this,IR(this,n=CR(this,t,e)),n);break;default:mw(this,this._t0,n=CR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function D5(t){this._context=new M5(t)}(D5.prototype=Object.create(cv.prototype)).point=function(t,e){cv.prototype.point.call(this,e,t)};function M5(t){this._context=t}M5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function gG(t){return new cv(t)}function yG(t){return new D5(t)}function O5(t){this._context=t}O5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=NR(t),i=NR(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function NR(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function vG(t){return new O5(t)}function j0(t,e){this._context=t,this._t=e}j0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function bG(t){return new j0(t,.5)}function xG(t){return new j0(t,0)}function _G(t){return new j0(t,1)}function Md(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function zE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function wG(t,e){return t[e]}function EG(t){const e=[];return e.key=t,e}function SG(){var t=Ht([]),e=zE,n=Md,r=wG;function i(a){var s=Array.from(t.apply(this,arguments),EG),l,u=s.length,d=-1,f;for(const p of a)for(l=0,++d;l<u;++l)(s[l][d]=[0,+r(p,s[l].key,d,a)]).data=p;for(l=0,f=VT(e(s));l<u;++l)s[f[l]].index=l;return n(s,f),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ht(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ht(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?zE:typeof a=="function"?a:Ht(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Md,i):n},i}function TG(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Md(t,e)}}function kG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}Md(t,e)}}function AG(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,u=0,d=0;l<s;++l){for(var f=t[e[l]],p=f[r][1]||0,y=f[r-1][1]||0,v=(p-y)/2,T=0;T<l;++T){var k=t[e[T]],S=k[r][1]||0,C=k[r-1][1]||0;v+=S-C}u+=p,d+=v*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,Md(t,e)}}var gw={},yw={},RR;function CG(){return RR||(RR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(yw)),yw}var vw={},PR;function L5(){return PR||(PR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(vw)),vw}var bw={},DR;function zT(){return DR||(DR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(bw)),bw}var xw={},_w={},MR;function IG(){return MR||(MR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(_w)),_w}var OR;function BT(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IG(),n=zT();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let l=0,u="",d="",f=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const p=i[l];d?p==="\\"&&l+1<s?(l++,u+=i[l]):p===d?d="":u+=p:f?p==='"'||p==="'"?d=p:p==="]"?(f=!1,a.push(u),u=""):u+=p:p==="["?(f=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}t.toPath=r})(xw)),xw}var LR;function qT(){return LR||(LR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CG(),n=L5(),r=zT(),i=BT();function a(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?n.isDeepKey(u)?a(l,i.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=l[u];return f===void 0?d:f}default:{if(Array.isArray(u))return s(l,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?d:f}}}function s(l,u,d){if(u.length===0)return d;let f=l;for(let p=0;p<u.length;p++){if(f==null||e.isUnsafeProperty(u[p]))return d;f=f[u[p]]}return f===void 0?d:f}t.get=a})(gw)),gw}var ww,jR;function NG(){return jR||(jR=1,ww=qT().get),ww}var RG=NG();const Od=ba(RG);var mi=t=>t===0?0:t>0?1:-1,ja=t=>typeof t=="number"&&t!=+t,go=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ve=t=>(typeof t=="number"||t instanceof Number)&&!ja(t),Ns=t=>Ve(t)||typeof t=="string",PG=0,fp=t=>{var e=++PG;return"".concat(t||"").concat(e)},Ua=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(e)&&typeof e!="string")return r;var a;if(go(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return ja(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},j5=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function mn(t,e,n){return Ve(t)&&Ve(e)?t+n*(e-t):e}function U5(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Od(r,e))===n)}var cn=t=>t===null||typeof t>"u",qp=t=>cn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function DG(t){return t!=null}function $p(){}var MG=["type","size","sizeType"];function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BE.apply(null,arguments)}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){OG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OG(t,e,n){return(e=LG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LG(t){var e=jG(t,"string");return typeof e=="symbol"?e:e+""}function jG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UG(t,e){if(t==null)return{};var n,r,i=VG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var V5={symbolCircle:FT,symbolCross:eG,symbolDiamond:nG,symbolSquare:rG,symbolStar:oG,symbolTriangle:lG,symbolWye:uG},FG=Math.PI/180,zG=t=>{var e="symbol".concat(qp(t));return V5[e]||FT},BG=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*FG;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},qG=(t,e)=>{V5["symbol".concat(qp(t))]=e},F5=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=UG(t,MG),a=VR(VR({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var l=()=>{var y=zG(s),v=dG().type(y).size(BG(n,r,s)),T=v();if(T!==null)return T},{className:u,cx:d,cy:f}=a,p=Xr(a);return Ve(d)&&Ve(f)&&Ve(n)?A.createElement("path",BE({},p,{className:It("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};F5.registerSymbol=qG;var z5=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,$T=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{jT(i)&&(r[i]=(a=>n[i](n,a)))}),r},$G=(t,e,n)=>r=>(t(e,n,r),null),HT=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];jT(i)&&typeof a=="function"&&(r||(r={}),r[i]=$G(a,e,n))}),r};function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){GG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GG(t,e,n){return(e=KG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KG(t){var e=YG(t,"string");return typeof e=="symbol"?e:e+""}function YG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zr(t,e){var n=HG({},t),r=e,i=Object.keys(e),a=i.reduce((s,l)=>(s[l]===void 0&&r[l]!==void 0&&(s[l]=r[l]),s),n);return a}var Ew={},Sw={},zR;function WG(){return zR||(zR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],l=r(s);i.has(l)||i.set(l,s)}return Array.from(i.values())}t.uniqBy=e})(Sw)),Sw}var Tw={},BR;function B5(){return BR||(BR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Tw)),Tw}var kw={},Aw={},Cw={},qR;function JG(){return qR||(qR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Cw)),Cw}var $R;function GT(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JG();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Aw)),Aw}var Iw={},HR;function XG(){return HR||(HR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Iw)),Iw}var GR;function QG(){return GR||(GR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GT(),n=XG();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(kw)),kw}var Nw={},Rw={},KR;function ZG(){return KR||(KR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qT();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Rw)),Rw}var Pw={},Dw={},Mw={},Ow={},YR;function q5(){return YR||(YR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Ow)),Ow}var Lw={},WR;function $5(){return WR||(WR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Lw)),Lw}var jw={},JR;function H5(){return JR||(JR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(jw)),jw}var XR;function eK(){return XR||(XR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q5(),n=$5(),r=H5();function i(f,p,y){return typeof y!="function"?i(f,p,()=>{}):a(f,p,function v(T,k,S,C,R,I){const L=y(T,k,S,C,R,I);return L!==void 0?!!L:a(T,k,v,I)},new Map)}function a(f,p,y,v){if(p===f)return!0;switch(typeof p){case"object":return s(f,p,y,v);case"function":return Object.keys(p).length>0?a(f,{...p},y,v):r.eq(f,p);default:return e.isObject(f)?typeof p=="string"?p==="":!0:r.eq(f,p)}}function s(f,p,y,v){if(p==null)return!0;if(Array.isArray(p))return u(f,p,y,v);if(p instanceof Map)return l(f,p,y,v);if(p instanceof Set)return d(f,p,y,v);const T=Object.keys(p);if(f==null)return T.length===0;if(T.length===0)return!0;if(v!=null&&v.has(p))return v.get(p)===f;v==null||v.set(p,f);try{for(let k=0;k<T.length;k++){const S=T[k];if(!n.isPrimitive(f)&&!(S in f)||p[S]===void 0&&f[S]!==void 0||p[S]===null&&f[S]!==null||!y(f[S],p[S],S,f,p,v))return!1}return!0}finally{v==null||v.delete(p)}}function l(f,p,y,v){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[T,k]of p.entries()){const S=f.get(T);if(y(S,k,T,f,p,v)===!1)return!1}return!0}function u(f,p,y,v){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const T=new Set;for(let k=0;k<p.length;k++){const S=p[k];let C=!1;for(let R=0;R<f.length;R++){if(T.has(R))continue;const I=f[R];let L=!1;if(y(I,S,k,f,p,v)&&(L=!0),L){T.add(R),C=!0;break}}if(!C)return!1}return!0}function d(f,p,y,v){return p.size===0?!0:f instanceof Set?u([...f],[...p],y,v):!1}t.isMatchWith=i,t.isSetMatch=d})(Mw)),Mw}var QR;function G5(){return QR||(QR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eK();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Dw)),Dw}var Uw={},Vw={},Fw={},ZR;function tK(){return ZR||(ZR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Fw)),Fw}var zw={},eP;function K5(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(zw)),zw}var Bw={},tP;function Y5(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",y="[object ArrayBuffer]",v="[object Object]",T="[object Error]",k="[object DataView]",S="[object Uint8Array]",C="[object Uint8ClampedArray]",R="[object Uint16Array]",I="[object Uint32Array]",L="[object BigUint64Array]",F="[object Int8Array]",j="[object Int16Array]",P="[object Int32Array]",U="[object BigInt64Array]",M="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=f,t.bigInt64ArrayTag=U,t.bigUint64ArrayTag=L,t.booleanTag=i,t.dataViewTag=k,t.dateTag=l,t.errorTag=T,t.float32ArrayTag=M,t.float64ArrayTag=B,t.functionTag=p,t.int16ArrayTag=j,t.int32ArrayTag=P,t.int8ArrayTag=F,t.mapTag=u,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=R,t.uint32ArrayTag=I,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=C})(Bw)),Bw}var qw={},nP;function nK(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(qw)),qw}var rP;function W5(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tK(),n=K5(),r=Y5(),i=$5(),a=nK();function s(f,p){return l(f,void 0,f,new Map,p)}function l(f,p,y,v=new Map,T=void 0){const k=T==null?void 0:T(f,p,y,v);if(k!==void 0)return k;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const S=new Array(f.length);v.set(f,S);for(let C=0;C<f.length;C++)S[C]=l(f[C],C,y,v,T);return Object.hasOwn(f,"index")&&(S.index=f.index),Object.hasOwn(f,"input")&&(S.input=f.input),S}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const S=new RegExp(f.source,f.flags);return S.lastIndex=f.lastIndex,S}if(f instanceof Map){const S=new Map;v.set(f,S);for(const[C,R]of f)S.set(C,l(R,C,y,v,T));return S}if(f instanceof Set){const S=new Set;v.set(f,S);for(const C of f)S.add(l(C,void 0,y,v,T));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const S=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,S);for(let C=0;C<f.length;C++)S[C]=l(f[C],C,y,v,T);return S}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const S=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,S),u(S,f,y,v,T),S}if(typeof File<"u"&&f instanceof File){const S=new File([f],f.name,{type:f.type});return v.set(f,S),u(S,f,y,v,T),S}if(typeof Blob<"u"&&f instanceof Blob){const S=new Blob([f],{type:f.type});return v.set(f,S),u(S,f,y,v,T),S}if(f instanceof Error){const S=new f.constructor;return v.set(f,S),S.message=f.message,S.name=f.name,S.stack=f.stack,S.cause=f.cause,u(S,f,y,v,T),S}if(f instanceof Boolean){const S=new Boolean(f.valueOf());return v.set(f,S),u(S,f,y,v,T),S}if(f instanceof Number){const S=new Number(f.valueOf());return v.set(f,S),u(S,f,y,v,T),S}if(f instanceof String){const S=new String(f.valueOf());return v.set(f,S),u(S,f,y,v,T),S}if(typeof f=="object"&&d(f)){const S=Object.create(Object.getPrototypeOf(f));return v.set(f,S),u(S,f,y,v,T),S}return f}function u(f,p,y=f,v,T){const k=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<k.length;S++){const C=k[S],R=Object.getOwnPropertyDescriptor(f,C);(R==null||R.writable)&&(f[C]=l(p[C],C,y,v,T))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=l,t.copyProperties=u})(Vw)),Vw}var iP;function rK(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W5();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Uw)),Uw}var aP;function iK(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G5(),n=rK();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Pw)),Pw}var $w={},Hw={},Gw={},sP;function aK(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W5(),n=Y5();function r(i,a){return e.cloneDeepWith(i,(s,l,u,d)=>{const f=a==null?void 0:a(s,l,u,d);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(Gw)),Gw}var oP;function sK(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aK();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Hw)),Hw}var Kw={},Yw={},lP;function J5(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Yw)),Yw}var Ww={},cP;function oK(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K5();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Ww)),Ww}var uP;function lK(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L5(),n=J5(),r=oK(),i=BT();function a(s,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&(s==null?void 0:s[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=s;for(let f=0;f<u.length;f++){const p=u[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=a})(Kw)),Kw}var dP;function cK(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G5(),n=zT(),r=sK(),i=qT(),a=lK();function s(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const f=i.get(d,l);return f===void 0?a.has(d,l):u===void 0?f===void 0:e.isMatch(f,u)}}t.matchesProperty=s})($w)),$w}var fP;function uK(){return fP||(fP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B5(),n=ZG(),r=iK(),i=cK();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(Nw)),Nw}var hP;function dK(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WG(),n=B5(),r=QG(),i=uK();function a(s,l=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(l)):[]}t.uniqBy=a})(Ew)),Ew}var Jw,pP;function fK(){return pP||(pP=1,Jw=dK().uniqBy),Jw}var hK=fK();const mP=ba(hK);function pK(t,e,n){return e===!0?mP(t,n):typeof e=="function"?mP(t,e):t}var Xw={exports:{}},Qw={},Zw={exports:{}},e1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP;function mK(){if(gP)return e1;gP=1;var t=rf();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(p,y){var v=y(),T=r({inst:{value:v,getSnapshot:y}}),k=T[0].inst,S=T[1];return a(function(){k.value=v,k.getSnapshot=y,u(k)&&S({inst:k})},[p,v,y]),i(function(){return u(k)&&S({inst:k}),p(function(){u(k)&&S({inst:k})})},[p]),s(v),v}function u(p){var y=p.getSnapshot;p=p.value;try{var v=y();return!n(p,v)}catch{return!0}}function d(p,y){return y()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return e1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,e1}var yP;function gK(){return yP||(yP=1,Zw.exports=mK()),Zw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vP;function yK(){if(vP)return Qw;vP=1;var t=rf(),e=gK();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return Qw.useSyncExternalStoreWithSelector=function(d,f,p,y,v){var T=a(null);if(T.current===null){var k={hasValue:!1,value:null};T.current=k}else k=T.current;T=l(function(){function C(j){if(!R){if(R=!0,I=j,j=y(j),v!==void 0&&k.hasValue){var P=k.value;if(v(P,j))return L=P}return L=j}if(P=L,r(I,j))return P;var U=y(j);return v!==void 0&&v(P,U)?(I=j,P):(I=j,L=U)}var R=!1,I,L,F=p===void 0?null:p;return[function(){return C(f())},F===null?void 0:function(){return C(F())}]},[f,p,y,v]);var S=i(d,T[0],T[1]);return s(function(){k.hasValue=!0,k.value=S},[S]),u(S),S},Qw}var bP;function vK(){return bP||(bP=1,Xw.exports=yK()),Xw.exports}var bK=vK(),KT=A.createContext(null),xK=t=>t,An=()=>{var t=A.useContext(KT);return t?t.store.dispatch:xK},Vy=()=>{},_K=()=>Vy,wK=(t,e)=>t===e;function ze(t){var e=A.useContext(KT);return bK.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:_K,e?e.store.getState:Vy,e?e.store.getState:Vy,e?t:Vy,wK)}function EK(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function SK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function TK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var xP=t=>Array.isArray(t)?t:[t];function kK(t){const e=Array.isArray(t[0])?t[0]:t;return TK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function AK(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var CK=class{constructor(t){this.value=t}deref(){return this.value}},IK=typeof WeakRef<"u"?WeakRef:CK,NK=0,_P=1;function ly(){return{s:NK,v:void 0,o:null,p:null}}function X5(t,e={}){let n=ly();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var p;let l=n;const{length:u}=arguments;for(let y=0,v=u;y<v;y++){const T=arguments[y];if(typeof T=="function"||typeof T=="object"&&T!==null){let k=l.o;k===null&&(l.o=k=new WeakMap);const S=k.get(T);S===void 0?(l=ly(),k.set(T,l)):l=S}else{let k=l.p;k===null&&(l.p=k=new Map);const S=k.get(T);S===void 0?(l=ly(),k.set(T,l)):l=S}}const d=l;let f;if(l.s===_P)f=l.v;else if(f=t.apply(null,arguments),a++,r){const y=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;y!=null&&r(y,f)&&(f=y,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new IK(f):f}return d.s=_P,d.v=f,f}return s.clearCache=()=>{n=ly(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function RK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),EK(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...u},{memoize:p,memoizeOptions:y=[],argsMemoize:v=X5,argsMemoizeOptions:T=[]}=f,k=xP(y),S=xP(T),C=kK(i),R=p(function(){return a++,d.apply(null,arguments)},...k),I=v(function(){s++;const F=AK(C,arguments);return l=R.apply(null,F),l},...S);return Object.assign(I,{resultFunc:d,memoizedResultFunc:R,dependencies:C,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var de=RK(X5),PK=Object.assign((t,e=de)=>{SK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,l,u)=>(s[n[u]]=l,s),{}))},{withTypes:()=>PK}),t1={},n1={},r1={},wP;function DK(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),l=e(i);if(s===l&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};t.compareValues=n})(r1)),r1}var i1={},a1={},EP;function Q5(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(a1)),a1}var SP;function MK(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(i1)),i1}var TP;function OK(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DK(),n=MK(),r=BT();function i(a,s,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const d=(v,T)=>{let k=v;for(let S=0;S<T.length&&k!=null;++S)k=k[T[S]];return k},f=(v,T)=>T==null||v==null?T:typeof v=="object"&&"key"in v?Object.hasOwn(T,v.key)?T[v.key]:d(T,v.path):typeof v=="function"?v(T):Array.isArray(v)?d(T,v):typeof T=="object"?T[v]:T,p=s.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:p.map(T=>f(T,v))})).slice().sort((v,T)=>{for(let k=0;k<p.length;k++){const S=e.compareValues(v.criteria[k],T.criteria[k],l[k]);if(S!==0)return S}return 0}).map(v=>v.original)}t.orderBy=i})(n1)),n1}var s1={},kP;function LK(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(l,u)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&u<a?s(f,u+1):i.push(f)}};return s(n,0),i}t.flatten=e})(s1)),s1}var o1={},AP;function Z5(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J5(),n=GT(),r=q5(),i=H5();function a(s,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],s):!1}t.isIterateeCall=a})(o1)),o1}var CP;function jK(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OK(),n=LK(),r=Z5();function i(a,...s){const l=s.length;return l>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(t1)),t1}var l1,IP;function UK(){return IP||(IP=1,l1=jK().sortBy),l1}var VK=UK();const U0=ba(VK);var eU=t=>t.legend.settings,FK=t=>t.legend.size,zK=t=>t.legend.payload;de([zK,eU],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?U0(r,n):r});var cy=1;function BK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>cy||Math.abs(s.left-e.left)>cy||Math.abs(s.top-e.top)>cy||Math.abs(s.width-e.width)>cy)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function _r(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var qK=typeof Symbol=="function"&&Symbol.observable||"@@observable",NP=qK,c1=()=>Math.random().toString(36).substring(7).split("").join("."),$K={INIT:`@@redux/INIT${c1()}`,REPLACE:`@@redux/REPLACE${c1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${c1()}`},uv=$K;function YT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function tU(t,e,n){if(typeof t!="function")throw new Error(_r(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_r(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_r(1));return n(tU)(t,e)}let r=t,i=e,a=new Map,s=a,l=0,u=!1;function d(){s===a&&(s=new Map,a.forEach((S,C)=>{s.set(C,S)}))}function f(){if(u)throw new Error(_r(3));return i}function p(S){if(typeof S!="function")throw new Error(_r(4));if(u)throw new Error(_r(5));let C=!0;d();const R=l++;return s.set(R,S),function(){if(C){if(u)throw new Error(_r(6));C=!1,d(),s.delete(R),a=null}}}function y(S){if(!YT(S))throw new Error(_r(7));if(typeof S.type>"u")throw new Error(_r(8));if(typeof S.type!="string")throw new Error(_r(17));if(u)throw new Error(_r(9));try{u=!0,i=r(i,S)}finally{u=!1}return(a=s).forEach(R=>{R()}),S}function v(S){if(typeof S!="function")throw new Error(_r(10));r=S,y({type:uv.REPLACE})}function T(){const S=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(_r(11));function R(){const L=C;L.next&&L.next(f())}return R(),{unsubscribe:S(R)}},[NP](){return this}}}return y({type:uv.INIT}),{dispatch:y,subscribe:p,getState:f,replaceReducer:v,[NP]:T}}function HK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:uv.INIT})>"u")throw new Error(_r(12));if(typeof n(void 0,{type:uv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_r(13))})}function nU(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{HK(n)}catch(a){i=a}return function(s={},l){if(i)throw i;let u=!1;const d={};for(let f=0;f<r.length;f++){const p=r[f],y=n[p],v=s[p],T=y(v,l);if(typeof T>"u")throw l&&l.type,new Error(_r(14));d[p]=T,u=u||T!==v}return u=u||r.length!==Object.keys(s).length,u?d:s}}function dv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function GK(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(_r(15))};const s={getState:i.getState,dispatch:(u,...d)=>a(u,...d)},l=t.map(u=>u(s));return a=dv(...l)(i.dispatch),{...i,dispatch:a}}}function rU(t){return YT(t)&&"type"in t&&typeof t.type=="string"}var iU=Symbol.for("immer-nothing"),RP=Symbol.for("immer-draftable"),Qr=Symbol.for("immer-state");function Ra(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ui=Object,Ld=Ui.getPrototypeOf,fv="constructor",V0="prototype",qE="configurable",hv="enumerable",Fy="writable",hp="value",yo=t=>!!t&&!!t[Qr];function Va(t){var e;return t?aU(t)||F0(t)||!!t[RP]||!!((e=t[fv])!=null&&e[RP])||z0(t)||B0(t):!1}var KK=Ui[V0][fv].toString(),PP=new WeakMap;function aU(t){if(!t||!WT(t))return!1;const e=Ld(t);if(e===null||e===Ui[V0])return!0;const n=Ui.hasOwnProperty.call(e,fv)&&e[fv];if(n===Object)return!0;if(!ud(n))return!1;let r=PP.get(n);return r===void 0&&(r=Function.toString.call(n),PP.set(n,r)),r===KK}function Hp(t,e,n=!0){Gp(t)===0?(n?Reflect.ownKeys(t):Ui.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Gp(t){const e=t[Qr];return e?e.type_:F0(t)?1:z0(t)?2:B0(t)?3:0}var DP=(t,e,n=Gp(t))=>n===2?t.has(e):Ui[V0].hasOwnProperty.call(t,e),$E=(t,e,n=Gp(t))=>n===2?t.get(e):t[e],pv=(t,e,n,r=Gp(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function YK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var F0=Array.isArray,z0=t=>t instanceof Map,B0=t=>t instanceof Set,WT=t=>typeof t=="object",ud=t=>typeof t=="function",u1=t=>typeof t=="boolean",ro=t=>t.copy_||t.base_,JT=t=>t.modified_?t.copy_:t.base_;function HE(t,e){if(z0(t))return new Map(t);if(B0(t))return new Set(t);if(F0(t))return Array[V0].slice.call(t);const n=aU(t);if(e===!0||e==="class_only"&&!n){const r=Ui.getOwnPropertyDescriptors(t);delete r[Qr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],l=r[s];l[Fy]===!1&&(l[Fy]=!0,l[qE]=!0),(l.get||l.set)&&(r[s]={[qE]:!0,[Fy]:!0,[hv]:l[hv],[hp]:t[s]})}return Ui.create(Ld(t),r)}else{const r=Ld(t);if(r!==null&&n)return{...t};const i=Ui.create(r);return Ui.assign(i,t)}}function XT(t,e=!1){return q0(t)||yo(t)||!Va(t)||(Gp(t)>1&&Ui.defineProperties(t,{set:uy,add:uy,clear:uy,delete:uy}),Ui.freeze(t),e&&Hp(t,(n,r)=>{XT(r,!0)},!1)),t}function WK(){Ra(2)}var uy={[hp]:WK};function q0(t){return t===null||!WT(t)?!0:Ui.isFrozen(t)}var mv="MapSet",GE="Patches",sU={};function jd(t){const e=sU[t];return e||Ra(0,t),e}var JK=t=>!!sU[t],pp,oU=()=>pp,XK=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:JK(mv)?jd(mv):void 0});function MP(t,e){e&&(t.patchPlugin_=jd(GE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function KE(t){YE(t),t.drafts_.forEach(QK),t.drafts_=null}function YE(t){t===pp&&(pp=t.parent_)}var OP=t=>pp=XK(pp,t);function QK(t){const e=t[Qr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function LP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Qr].modified_&&(KE(e),Ra(4)),Va(t)&&(t=jP(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Qr].base_,t,e)}else t=jP(e,n);return ZK(e,t,!0),KE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==iU?t:void 0}function jP(t,e){if(q0(e))return e;const n=e[Qr];if(!n)return QT(e,t.handledSet_,t);if(!$0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);uU(n,t)}return n.copy_}function ZK(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&XT(e,n)}function lU(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var $0=(t,e)=>t.scope_===e,eY=[];function cU(t,e,n,r){const i=ro(t),a=t.type_;if(r!==void 0&&$E(i,r,a)===e){pv(i,r,n,a);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;Hp(i,(u,d)=>{if(yo(d)){const f=l.get(d)||[];f.push(u),l.set(d,f)}})}const s=t.draftLocations_.get(e)??eY;for(const l of s)pv(i,l,n,a)}function tY(t,e,n){t.callbacks_.push(function(i){var l;const a=e;if(!a||!$0(a,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(a);const s=JT(a);cU(t,a.draft_??a,s,n),uU(a,i)})}function uU(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}lU(t)}}function nY(t,e,n){const{scope_:r}=t;if(yo(n)){const i=n[Qr];$0(i,r)&&i.callbacks_.push(function(){zy(t);const s=JT(i);cU(t,n,s,e)})}else Va(n)&&t.callbacks_.push(function(){const a=ro(t);$E(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&QT($E(t.copy_,e,t.type_),r.handledSet_,r)})}function QT(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||yo(t)||e.has(t)||!Va(t)||q0(t)||(e.add(t),Hp(t,(r,i)=>{if(yo(i)){const a=i[Qr];if($0(a,n)){const s=JT(a);pv(t,r,s,t.type_),lU(a)}}else Va(i)&&QT(i,e,n)})),t}function rY(t,e){const n=F0(t),r={type_:n?1:0,scope_:e?e.scope_:oU(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=ZT;n&&(i=[r],a=mp);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=s,[l,r]}var ZT={get(t,e){if(e===Qr)return t;const n=ro(t);if(!DP(n,e,t.type_))return iY(t,n,e);const r=n[e];if(t.finalized_||!Va(r))return r;if(r===d1(t.base_,e)){zy(t);const i=t.type_===1?+e:e,a=JE(t.scope_,r,t,i);return t.copy_[i]=a}return r},has(t,e){return e in ro(t)},ownKeys(t){return Reflect.ownKeys(ro(t))},set(t,e,n){const r=dU(ro(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=d1(ro(t),e),a=i==null?void 0:i[Qr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(YK(n,i)&&(n!==void 0||DP(t.base_,e,t.type_)))return!0;zy(t),WE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),nY(t,e,n)),!0},deleteProperty(t,e){return zy(t),d1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),WE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ro(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Fy]:!0,[qE]:t.type_!==1||e!=="length",[hv]:r[hv],[hp]:n[e]}},defineProperty(){Ra(11)},getPrototypeOf(t){return Ld(t.base_)},setPrototypeOf(){Ra(12)}},mp={};Hp(ZT,(t,e)=>{mp[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});mp.deleteProperty=function(t,e){return mp.set.call(this,t,e,void 0)};mp.set=function(t,e,n){return ZT.set.call(this,t[0],e,n,t[0])};function d1(t,e){const n=t[Qr];return(n?ro(n):t)[e]}function iY(t,e,n){var i;const r=dU(e,n);return r?hp in r?r[hp]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function dU(t,e){if(!(e in t))return;let n=Ld(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ld(n)}}function WE(t){t.modified_||(t.modified_=!0,t.parent_&&WE(t.parent_))}function zy(t){t.copy_||(t.assigned_=new Map,t.copy_=HE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var aY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ud(n)&&!ud(r)){const s=r;r=n;const l=this;return function(d=s,...f){return l.produce(d,p=>r.call(this,p,...f))}}ud(r)||Ra(6),i!==void 0&&!ud(i)&&Ra(7);let a;if(Va(n)){const s=OP(this),l=JE(s,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?KE(s):YE(s)}return MP(s,i),LP(a,s)}else if(!n||!WT(n)){if(a=r(n),a===void 0&&(a=n),a===iU&&(a=void 0),this.autoFreeze_&&XT(a,!0),i){const s=[],l=[];jd(GE).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:l}),i(s,l)}return a}else Ra(1,n)},this.produceWithPatches=(n,r)=>{if(ud(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},u1(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),u1(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),u1(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Va(e)||Ra(8),yo(e)&&(e=Oa(e));const n=OP(this),r=JE(n,e,void 0);return r[Qr].isManual_=!0,YE(n),r}finishDraft(e,n){const r=e&&e[Qr];(!r||!r.isManual_)&&Ra(9);const{scope_:i}=r;return MP(i,n),LP(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=jd(GE).applyPatches_;return yo(e)?i(e,n):this.produce(e,a=>i(a,n))}};function JE(t,e,n,r){const[i,a]=z0(e)?jd(mv).proxyMap_(e,n):B0(e)?jd(mv).proxySet_(e,n):rY(e,n);return((n==null?void 0:n.scope_)??oU()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?tY(n,a,r):a.callbacks_.push(function(u){var f;(f=u.mapSetPlugin_)==null||f.fixSetContents(a);const{patchPlugin_:d}=u;a.modified_&&d&&d.generatePatches_(a,[],u)}),i}function Oa(t){return yo(t)||Ra(10,t),fU(t)}function fU(t){if(!Va(t)||q0(t))return t;const e=t[Qr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=HE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=HE(t,!0);return Hp(n,(i,a)=>{pv(n,i,fU(a))},r),e&&(e.finalized_=!1),n}var sY=new aY,hU=sY.produce;function pU(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var oY=pU(),lY=pU,cY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dv:dv.apply(null,arguments)};function ga(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Bi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>rU(r)&&r.type===t,n}var mU=class Bh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Bh.prototype)}static get[Symbol.species](){return Bh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Bh(...e[0].concat(this)):new Bh(...e.concat(this))}};function UP(t){return Va(t)?hU(t,()=>{}):t}function dy(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function uY(t){return typeof t=="boolean"}var dY=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new mU;return n&&(uY(n)?s.push(oY):s.push(lY(n.extraArgument))),s},gU="RTK_autoBatch",on=()=>t=>({payload:t,meta:{[gU]:!0}}),VP=t=>e=>{setTimeout(e,t)},yU=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VP(10):t.type==="callback"?t.queueNotification:VP(t.timeout),d=()=>{s=!1,a&&(a=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),y=r.subscribe(p);return l.add(f),()=>{y(),l.delete(f)}},dispatch(f){var p;try{return i=!((p=f==null?void 0:f.meta)!=null&&p[gU]),a=!i,a&&(s||(s=!0,u(d))),r.dispatch(f)}finally{i=!0}}})},fY=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new mU(t);return r&&i.push(yU(typeof r=="object"?r:void 0)),i};function hY(t){const e=dY(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(YT(n))l=nU(n);else throw new Error(Bi(1));let u;typeof r=="function"?u=r(e):u=e();let d=dv;i&&(d=cY({trace:!1,...typeof i=="object"&&i}));const f=GK(...u),p=fY(f);let y=typeof s=="function"?s(p):p();const v=d(...y);return tU(l,a,v)}function vU(t){const e={},n=[];let r;const i={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Bi(28));if(l in e)throw new Error(Bi(29));return e[l]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function pY(t){return typeof t=="function"}function mY(t,e){let[n,r,i]=vU(e),a;if(pY(t))a=()=>UP(t());else{const l=UP(t);a=()=>l}function s(l=a(),u){let d=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,p)=>{if(p)if(yo(f)){const v=p(f,u);return v===void 0?f:v}else{if(Va(f))return hU(f,y=>p(y,u));{const y=p(f,u);if(y===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return f},l)}return s.getInitialState=a,s}var gY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",yY=(t=21)=>{let e="",n=t;for(;n--;)e+=gY[Math.random()*64|0];return e},vY=Symbol.for("rtk-slice-createasyncthunk");function bY(t,e){return`${t}/${e}`}function xY({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[vY];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Bi(11));const l=(typeof i.reducers=="function"?i.reducers(wY()):i.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(L,F){const j=typeof L=="string"?L:L.type;if(!j)throw new Error(Bi(12));if(j in d.sliceCaseReducersByType)throw new Error(Bi(13));return d.sliceCaseReducersByType[j]=F,f},addMatcher(L,F){return d.sliceMatchers.push({matcher:L,reducer:F}),f},exposeAction(L,F){return d.actionCreators[L]=F,f},exposeCaseReducer(L,F){return d.sliceCaseReducersByName[L]=F,f}};u.forEach(L=>{const F=l[L],j={reducerName:L,type:bY(a,L),createNotation:typeof i.reducers=="function"};SY(F)?kY(j,F,f,e):EY(j,F,f)});function p(){const[L={},F=[],j=void 0]=typeof i.extraReducers=="function"?vU(i.extraReducers):[i.extraReducers],P={...L,...d.sliceCaseReducersByType};return mY(i.initialState,U=>{for(let M in P)U.addCase(M,P[M]);for(let M of d.sliceMatchers)U.addMatcher(M.matcher,M.reducer);for(let M of F)U.addMatcher(M.matcher,M.reducer);j&&U.addDefaultCase(j)})}const y=L=>L,v=new Map,T=new WeakMap;let k;function S(L,F){return k||(k=p()),k(L,F)}function C(){return k||(k=p()),k.getInitialState()}function R(L,F=!1){function j(U){let M=U[L];return typeof M>"u"&&F&&(M=dy(T,j,C)),M}function P(U=y){const M=dy(v,F,()=>new WeakMap);return dy(M,U,()=>{const B={};for(const[V,q]of Object.entries(i.selectors??{}))B[V]=_Y(q,U,()=>dy(T,U,C),F);return B})}return{reducerPath:L,getSelectors:P,get selectors(){return P(j)},selectSlice:j}}const I={name:a,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...R(s),injectInto(L,{reducerPath:F,...j}={}){const P=F??s;return L.inject({reducerPath:P,reducer:S},j),{...I,...R(P,!0)}}};return I}}function _Y(t,e,n,r){function i(a,...s){let l=e(a);return typeof l>"u"&&r&&(l=n()),t(l,...s)}return i.unwrapped=t,i}var _i=xY();function wY(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function EY({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!TY(r))throw new Error(Bi(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?ga(t,s):ga(t))}function SY(t){return t._reducerDefinitionType==="asyncThunk"}function TY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function kY({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Bi(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:u,settled:d,options:f}=n,p=i(t,a,f);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:s||fy,pending:l||fy,rejected:u||fy,settled:d||fy})}function fy(){}var AY="task",bU="listener",xU="completed",ek="cancelled",CY=`task-${ek}`,IY=`task-${xU}`,XE=`${bU}-${ek}`,NY=`${bU}-${xU}`,H0=class{constructor(t){ow(this,"name","TaskAbortError");ow(this,"message");this.code=t,this.message=`${AY} ${ek} (reason: ${t})`}},tk=(t,e)=>{if(typeof t!="function")throw new TypeError(Bi(32))},gv=()=>{},_U=(t,e=gv)=>(t.catch(e),t),wU=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),$c=t=>{if(t.aborted)throw new H0(t.reason)};function EU(t,e){let n=gv;return new Promise((r,i)=>{const a=()=>i(new H0(t.reason));if(t.aborted){a();return}n=wU(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=gv})}var RY=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof H0?"cancelled":"rejected",error:n}}finally{e==null||e()}},yv=t=>e=>_U(EU(t,e).then(n=>($c(t),n))),SU=t=>{const e=yv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:xd}=Object,FP={},G0="listenerMiddleware",PY=(t,e)=>{const n=r=>wU(t,()=>r.abort(t.reason));return(r,i)=>{tk(r);const a=new AbortController;n(a);const s=RY(async()=>{$c(t),$c(a.signal);const l=await r({pause:yv(a.signal),delay:SU(a.signal),signal:a.signal});return $c(a.signal),l},()=>a.abort(IY));return i!=null&&i.autoJoin&&e.push(s.catch(gv)),{result:yv(t)(s),cancel(){a.abort(CY)}}}},DY=(t,e)=>{const n=async(r,i)=>{$c(e);let a=()=>{};const l=[new Promise((u,d)=>{let f=t({predicate:r,effect:(p,y)=>{y.unsubscribe(),u([p,y.getState(),y.getOriginalState()])}});a=()=>{f(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await EU(e,Promise.race(l));return $c(e),u}finally{a()}};return(r,i)=>_U(n(r,i))},TU=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=ga(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Bi(21));return tk(a),{predicate:i,type:e,effect:a}},kU=xd(t=>{const{type:e,predicate:n,effect:r}=TU(t);return{id:yY(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Bi(22))}}},{withTypes:()=>kU}),zP=(t,e)=>{const{type:n,effect:r,predicate:i}=TU(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},QE=t=>{t.pending.forEach(e=>{e.abort(XE)})},MY=(t,e)=>()=>{for(const n of e.keys())QE(n);t.clear()},BP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},AU=xd(ga(`${G0}/add`),{withTypes:()=>AU}),OY=ga(`${G0}/removeAll`),CU=xd(ga(`${G0}/remove`),{withTypes:()=>CU}),LY=(...t)=>{console.error(`${G0}/error`,...t)},Kp=(t={})=>{const e=new Map,n=new Map,r=v=>{const T=n.get(v)??0;n.set(v,T+1)},i=v=>{const T=n.get(v)??1;T===1?n.delete(v):n.set(v,T-1)},{extra:a,onError:s=LY}=t;tk(s);const l=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),T=>{v.unsubscribe(),T!=null&&T.cancelActive&&QE(v)}),u=v=>{const T=zP(e,v)??kU(v);return l(T)};xd(u,{withTypes:()=>u});const d=v=>{const T=zP(e,v);return T&&(T.unsubscribe(),v.cancelActive&&QE(T)),!!T};xd(d,{withTypes:()=>d});const f=async(v,T,k,S)=>{const C=new AbortController,R=DY(u,C.signal),I=[];try{v.pending.add(C),r(v),await Promise.resolve(v.effect(T,xd({},k,{getOriginalState:S,condition:(L,F)=>R(L,F).then(Boolean),take:R,delay:SU(C.signal),pause:yv(C.signal),extra:a,signal:C.signal,fork:PY(C.signal,I),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((L,F,j)=>{L!==C&&(L.abort(XE),j.delete(L))})},cancel:()=>{C.abort(XE),v.pending.delete(C)},throwIfCancelled:()=>{$c(C.signal)}})))}catch(L){L instanceof H0||BP(s,L,{raisedBy:"effect"})}finally{await Promise.all(I),C.abort(NY),i(v),v.pending.delete(C)}},p=MY(e,n);return{middleware:v=>T=>k=>{if(!rU(k))return T(k);if(AU.match(k))return u(k.payload);if(OY.match(k)){p();return}if(CU.match(k))return d(k.payload);let S=v.getState();const C=()=>{if(S===FP)throw new Error(Bi(23));return S};let R;try{if(R=T(k),e.size>0){const I=v.getState(),L=Array.from(e.values());for(const F of L){let j=!1;try{j=F.predicate(k,I,S)}catch(P){j=!1,BP(s,P,{raisedBy:"predicate"})}j&&f(F,k,v,C)}}}finally{S=FP}return R},startListening:u,stopListening:d,clearListeners:p}};function Bi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var jY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},IU=_i({name:"chartLayout",initialState:jY,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:UY,setLayout:VY,setChartSize:FY,setScale:zY}=IU.actions,BY=IU.reducer;function NU(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function md(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){qY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qY(t,e,n){return(e=$Y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Y(t){var e=HY(t,"string");return typeof e=="symbol"?e:e+""}function HY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yn(t,e,n){return cn(t)||cn(e)?n:Ns(e)?Od(t,e,n):typeof e=="function"?e(t):n}var GY=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:l}=e;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&Ve(t[a]))return md(md({},t),{},{[a]:t[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&Ve(t[s]))return md(md({},t),{},{[s]:t[s]+(i||0)})}return t},ec=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",RU=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,a,s=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||s.push(e),a||s.push(n),s},PU=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:y,axisType:v}=t;if(!s)return null;var T=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,k=i==="category"&&s.bandwidth?s.bandwidth()/T:0;if(k=v==="angleAxis"&&a&&a.length>=2?mi(a[0]-a[1])*2*k:k,p||y){var S=(p||y||[]).map((C,R)=>{var I=r?r.indexOf(C):C;return{coordinate:s(I)+k,value:C,offset:k,index:R}});return S.filter(C=>!ja(C.coordinate))}return u&&d?d.map((C,R)=>({coordinate:s(C)+k,value:C,index:R,offset:k})):s.ticks&&f!=null?s.ticks(f).map((C,R)=>({coordinate:s(C)+k,value:C,offset:k,index:R})):s.domain().map((C,R)=>({coordinate:s(C)+k,value:r?r[C]:C,index:R,offset:k}))},$P=1e-4,KY=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-$P,a=Math.max(r[0],r[1])+$P,s=t(e[0]),l=t(e[n-1]);(s<i||s>a||l<i||l>a)&&t.domain([e[0],e[n-1]])}},YY=(t,e)=>{if(!e||e.length!==2||!Ve(e[0])||!Ve(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ve(t[0])||t[0]<n)&&(i[0]=n),(!Ve(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},WY=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var l=ja(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1])}},JY=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=ja(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},XY={sign:WY,expand:TG,none:Md,silhouette:kG,wiggle:AG,positive:JY},QY=(t,e,n)=>{var r=XY[n],i=SG().keys(e).value((a,s)=>Number(Yn(a,s,0))).order(zE).offset(r);return i(t)};function ZY(t){return t==null?void 0:String(t)}function HP(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!cn(i[e.dataKey])){var l=U5(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Yn(i,cn(s)?e.dataKey:s);return cn(u)?null:e.scale(u)}var GP=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var l=Yn(a,e.dataKey,e.scale.domain()[s]);return cn(l)?null:e.scale(l)-i/2+r},eW=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},tW=t=>{var e=t.flat(2).filter(Ve);return[Math.min(...e),Math.max(...e)]},nW=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],rW=(t,e,n)=>{if(t!=null)return nW(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,l=s.reduce((u,d)=>{var f=NU(d,e,n),p=tW(f);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},KP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ud=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=U0(e,f=>f.coordinate),a=1/0,s=1,l=i.length;s<l;s++){var u=i[s],d=i[s-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function WP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return md(md({},e),{},{dataKey:n,payload:r,value:i,name:a})}function K0(t,e){if(t)return String(t);if(typeof e=="string")return e}var iW=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},aW=(t,e)=>e==="centric"?t.angle:t.radius,No=t=>t.layout.width,Ro=t=>t.layout.height,sW=t=>t.layout.scale,DU=t=>t.layout.margin,Y0=de(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),W0=de(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),oW="data-recharts-item-index",lW="data-recharts-item-data-key",Yp=60;function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){cW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cW(t,e,n){return(e=uW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uW(t){var e=dW(t,"string");return typeof e=="symbol"?e:e+""}function dW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fW=t=>t.brush.height;function hW(t){var e=W0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Yp;return n+i}return n},0)}function pW(t){var e=W0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Yp;return n+i}return n},0)}function mW(t){var e=Y0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function gW(t){var e=Y0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var fr=de([No,Ro,DU,fW,hW,pW,mW,gW,eU,FK],(t,e,n,r,i,a,s,l,u,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+l},y=hy(hy({},p),f),v=y.bottom;y.bottom+=r,y=GY(y,u,d);var T=t-y.left-y.right,k=e-y.top-y.bottom;return hy(hy({brushBottom:v},y),{},{width:Math.max(T,0),height:Math.max(k,0)})}),yW=de(fr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),nk=de(No,Ro,(t,e)=>({x:0,y:0,width:t,height:e})),vW=A.createContext(null),jr=()=>A.useContext(vW)!=null,J0=t=>t.brush,X0=de([J0,fr,DU],(t,e,n)=>({height:t.height,x:Ve(t.x)?t.x:e.left,y:Ve(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ve(t.width)?t.width:e.width})),f1={},h1={},p1={},XP;function bW(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,l=null;const u=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),f=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},p=()=>{d&&f(),k()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},T=()=>{y!==null&&(clearTimeout(y),y=null)},k=()=>{T(),s=void 0,l=null},S=()=>{f()},C=function(...R){if(i!=null&&i.aborted)return;s=this,l=R;const I=y==null;v(),u&&I&&f()};return C.schedule=v,C.cancel=k,C.flush=S,i==null||i.addEventListener("abort",k,{once:!0}),C}t.debounce=e})(p1)),p1}var QP;function xW(){return QP||(QP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bW();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:u}=a,d=Array(2);s&&(d[0]="leading"),l&&(d[1]="trailing");let f,p=null;const y=e.debounce(function(...k){f=r.apply(this,k),p=null},i,{edges:d}),v=function(...k){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(f=r.apply(this,k),p=Date.now(),y.cancel(),y.schedule(),f):(y.apply(this,k),f)},T=()=>(y.flush(),f);return v.cancel=y.cancel,v.flush=T,v}t.debounce=n})(h1)),h1}var ZP;function _W(){return ZP||(ZP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xW();function n(r,i=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:l})}t.throttle=n})(f1)),f1}var m1,eD;function wW(){return eD||(eD=1,m1=_W().throttle),m1}var EW=wW();const SW=ba(EW);var vv=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},MU=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,l=go(r)?t:Number(r),u=go(i)?e:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:l,calculatedHeight:u}},TW={width:0,height:0,overflow:"visible"},kW={width:0,overflowX:"visible"},AW={height:0,overflowY:"visible"},CW={},IW=t=>{var{width:e,height:n}=t,r=go(e),i=go(n);return r&&i?TW:r?kW:i?AW:CW};function NW(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function kn(t){return Number.isFinite(t)}function Rs(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(null,arguments)}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){RW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RW(t,e,n){return(e=PW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PW(t){var e=DW(t,"string");return typeof e=="symbol"?e:e+""}function DW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OU=A.createContext({width:-1,height:-1});function MW(t){return Rs(t.width)&&Rs(t.height)}function LU(t){var{children:e,width:n,height:r}=t,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return MW(i)?A.createElement(OU.Provider,{value:i},e):null}var rk=()=>A.useContext(OU),OW=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:l,maxHeight:u,children:d,debounce:f=0,id:p,className:y,onResize:v,style:T={}}=t,k=A.useRef(null),S=A.useRef();S.current=v,A.useImperativeHandle(e,()=>k.current);var[C,R]=A.useState({containerWidth:r.width,containerHeight:r.height}),I=A.useCallback((U,M)=>{R(B=>{var V=Math.round(U),q=Math.round(M);return B.containerWidth===V&&B.containerHeight===q?B:{containerWidth:V,containerHeight:q}})},[]);A.useEffect(()=>{if(k.current==null||typeof ResizeObserver>"u")return $p;var U=q=>{var z,{width:le,height:X}=q[0].contentRect;I(le,X),(z=S.current)===null||z===void 0||z.call(S,le,X)};f>0&&(U=SW(U,f,{trailing:!0,leading:!1}));var M=new ResizeObserver(U),{width:B,height:V}=k.current.getBoundingClientRect();return I(B,V),M.observe(k.current),()=>{M.disconnect()}},[I,f]);var{containerWidth:L,containerHeight:F}=C;vv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:P}=MU(L,F,{width:i,height:a,aspect:n,maxHeight:u});return vv(j!=null&&j>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,P,i,a,s,l,n),A.createElement("div",{id:p?"".concat(p):void 0,className:It("recharts-responsive-container",y),style:nD(nD({},T),{},{width:i,height:a,minWidth:s,minHeight:l,maxHeight:u}),ref:k},A.createElement("div",{style:IW({width:i,height:a})},A.createElement(LU,{width:j,height:P},d)))}),jU=A.forwardRef((t,e)=>{var n=rk();if(Rs(n.width)&&Rs(n.height))return t.children;var{width:r,height:i}=NW({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=MU(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ve(a)&&Ve(s)?A.createElement(LU,{width:a,height:s},t.children):A.createElement(OW,ZE({},t,{width:r,height:i,ref:e}))});function UU(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Q0=()=>{var t,e=jr(),n=ze(yW),r=ze(X0),i=(t=ze(J0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},LW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},VU=()=>{var t;return(t=ze(fr))!==null&&t!==void 0?t:LW},FU=()=>ze(No),zU=()=>ze(Ro),At=t=>t.layout.layoutType,Wp=()=>ze(At),jW=()=>{var t=Wp();return t!==void 0},Z0=t=>{var e=An(),n=jr(),{width:r,height:i}=t,a=rk(),s=r,l=i;return a&&(s=a.width>0?a.width:r,l=a.height>0?a.height:i),A.useEffect(()=>{!n&&Rs(s)&&Rs(l)&&e(FY({width:s,height:l}))},[e,n,s,l]),null},BU=Symbol.for("immer-nothing"),rD=Symbol.for("immer-draftable"),qi=Symbol.for("immer-state");function Pa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var gp=Object.getPrototypeOf;function Vd(t){return!!t&&!!t[qi]}function Wc(t){var e;return t?qU(t)||Array.isArray(t)||!!t[rD]||!!((e=t.constructor)!=null&&e[rD])||Jp(t)||tb(t):!1}var UW=Object.prototype.constructor.toString(),iD=new WeakMap;function qU(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=iD.get(n);return r===void 0&&(r=Function.toString.call(n),iD.set(n,r)),r===UW}function bv(t,e,n=!0){eb(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function eb(t){const e=t[qi];return e?e.type_:Array.isArray(t)?1:Jp(t)?2:tb(t)?3:0}function eS(t,e){return eb(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function $U(t,e,n){const r=eb(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function VW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Jp(t){return t instanceof Map}function tb(t){return t instanceof Set}function Oc(t){return t.copy_||t.base_}function tS(t,e){if(Jp(t))return new Map(t);if(tb(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=qU(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[qi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[s]})}return Object.create(gp(t),r)}else{const r=gp(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function ik(t,e=!1){return nb(t)||Vd(t)||!Wc(t)||(eb(t)>1&&Object.defineProperties(t,{set:py,add:py,clear:py,delete:py}),Object.freeze(t),e&&Object.values(t).forEach(n=>ik(n,!0))),t}function FW(){Pa(2)}var py={value:FW};function nb(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var zW={};function Jc(t){const e=zW[t];return e||Pa(0,t),e}var yp;function HU(){return yp}function BW(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function aD(t,e){e&&(Jc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function nS(t){rS(t),t.drafts_.forEach(qW),t.drafts_=null}function rS(t){t===yp&&(yp=t.parent_)}function sD(t){return yp=BW(yp,t)}function qW(t){const e=t[qi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function oD(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[qi].modified_&&(nS(e),Pa(4)),Wc(t)&&(t=xv(e,t),e.parent_||_v(e,t)),e.patches_&&Jc("Patches").generateReplacementPatches_(n[qi].base_,t,e.patches_,e.inversePatches_)):t=xv(e,n,[]),nS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==BU?t:void 0}function xv(t,e,n){if(nb(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[qi];if(!i)return bv(e,(a,s)=>lD(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return _v(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,l=!1;i.type_===3&&(s=new Set(a),a.clear(),l=!0),bv(s,(u,d)=>lD(t,i,a,u,d,n,l),r),_v(t,a,!1),n&&t.patches_&&Jc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function lD(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const l=nb(i);if(!(l&&!s)){if(Vd(i)){const u=a&&e&&e.type_!==3&&!eS(e.assigned_,r)?a.concat(r):void 0,d=xv(t,i,u);if($U(n,r,d),Vd(d))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Wc(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;xv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Jp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&_v(t,i)}}}function _v(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ik(e,n)}function $W(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:HU(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=ak;n&&(i=[r],a=vp);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=s,l}var ak={get(t,e){if(e===qi)return t;const n=Oc(t);if(!eS(n,e))return HW(t,n,e);const r=n[e];return t.finalized_||!Wc(r)?r:r===g1(t.base_,e)?(y1(t),t.copy_[e]=aS(r,t)):r},has(t,e){return e in Oc(t)},ownKeys(t){return Reflect.ownKeys(Oc(t))},set(t,e,n){const r=GU(Oc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=g1(Oc(t),e),a=i==null?void 0:i[qi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(VW(n,i)&&(n!==void 0||eS(t.base_,e)))return!0;y1(t),iS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return g1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,y1(t),iS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Oc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Pa(11)},getPrototypeOf(t){return gp(t.base_)},setPrototypeOf(){Pa(12)}},vp={};bv(ak,(t,e)=>{vp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});vp.deleteProperty=function(t,e){return vp.set.call(this,t,e,void 0)};vp.set=function(t,e,n){return ak.set.call(this,t[0],e,n,t[0])};function g1(t,e){const n=t[qi];return(n?Oc(n):t)[e]}function HW(t,e,n){var i;const r=GU(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function GU(t,e){if(!(e in t))return;let n=gp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=gp(n)}}function iS(t){t.modified_||(t.modified_=!0,t.parent_&&iS(t.parent_))}function y1(t){t.copy_||(t.copy_=tS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var GW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(u=a,...d){return s.produce(u,f=>n.call(this,f,...d))}}typeof n!="function"&&Pa(6),r!==void 0&&typeof r!="function"&&Pa(7);let i;if(Wc(e)){const a=sD(this),s=aS(e,void 0);let l=!0;try{i=n(s),l=!1}finally{l?nS(a):rS(a)}return aD(a,r),oD(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===BU&&(i=void 0),this.autoFreeze_&&ik(i,!0),r){const a=[],s=[];Jc("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else Pa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,u=>e(u,...l));let r,i;return[this.produce(e,n,(s,l)=>{r=s,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Wc(t)||Pa(8),Vd(t)&&(t=KW(t));const e=sD(this),n=aS(t,void 0);return n[qi].isManual_=!0,rS(e),n}finishDraft(t,e){const n=t&&t[qi];(!n||!n.isManual_)&&Pa(9);const{scope_:r}=n;return aD(r,e),oD(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Jc("Patches").applyPatches_;return Vd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function aS(t,e){const n=Jp(t)?Jc("MapSet").proxyMap_(t,e):tb(t)?Jc("MapSet").proxySet_(t,e):$W(t,e);return(e?e.scope_:HU()).drafts_.push(n),n}function KW(t){return Vd(t)||Pa(10,t),KU(t)}function KU(t){if(!Wc(t)||nb(t))return t;const e=t[qi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=tS(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=tS(t,!0);return bv(n,(i,a)=>{$U(n,i,KU(a))},r),e&&(e.finalized_=!1),n}var YW=new GW;YW.produce;var WW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},YU=_i({name:"legend",initialState:WW,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:on()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Oa(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:on()},removeLegendPayload:{reducer(t,e){var n=Oa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:on()}}}),{setLegendSize:DMe,setLegendSettings:MMe,addLegendPayload:JW,replaceLegendPayload:XW,removeLegendPayload:QW}=YU.actions,ZW=YU.reducer;function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sS.apply(null,arguments)}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){eJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eJ(t,e,n){return(e=tJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tJ(t){var e=nJ(t,"string");return typeof e=="symbol"?e:e+""}function nJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rJ(t){return Array.isArray(t)&&Ns(t[0])&&Ns(t[1])?t.join(" ~ "):t}var iJ=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:l,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:y=!1}=t,v=()=>{if(a&&a.length){var F={padding:0,margin:0},j=(l?U0(a,l):a).map((P,U)=>{if(P.type==="none")return null;var M=P.formatter||s||rJ,{value:B,name:V}=P,q=B,z=V;if(M){var le=M(B,V,P,U,a);if(Array.isArray(le))[q,z]=le;else if(le!=null)q=le;else return null}var X=v1({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:X},Ns(z)?A.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Ns(z)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},q),A.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:F},j)}return null},T=v1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),k=v1({margin:0},i),S=!cn(f),C=S?f:"",R=It("recharts-default-tooltip",u),I=It("recharts-tooltip-label",d);S&&p&&a!==void 0&&a!==null&&(C=p(f,a));var L=y?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",sS({className:R,style:T},L),A.createElement("p",{className:I,style:k},A.isValidElement(C)?C:"".concat(C)),v())},Ah="recharts-tooltip-wrapper",aJ={visibility:"hidden"};function sJ(t){var{coordinate:e,translateX:n,translateY:r}=t;return It(Ah,{["".concat(Ah,"-right")]:Ve(n)&&e&&Ve(e.x)&&n>=e.x,["".concat(Ah,"-left")]:Ve(n)&&e&&Ve(e.x)&&n<e.x,["".concat(Ah,"-bottom")]:Ve(r)&&e&&Ve(e.y)&&r>=e.y,["".concat(Ah,"-top")]:Ve(r)&&e&&Ve(e.y)&&r<e.y})}function uD(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=t;if(a&&Ve(a[r]))return a[r];var f=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return s[r]?f:p;var y=u[r];if(y==null)return 0;if(s[r]){var v=f,T=y;return v<T?Math.max(p,y):Math.max(f,y)}if(d==null)return 0;var k=p+l,S=y+d;return k>S?Math.max(f,y):Math.max(p,y)}function oJ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function lJ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:u}=t,d,f,p;return s.height>0&&s.width>0&&n?(f=uD({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),p=uD({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),d=oJ({translateX:f,translateY:p,useTranslate3d:l})):d=aJ,{cssProperties:d,cssClasses:sJ({translateX:f,translateY:p,coordinate:n})}}function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function my(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){oS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oS(t,e,n){return(e=cJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cJ(t){var e=uJ(t,"string");return typeof e=="symbol"?e:e+""}function uJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dJ extends A.PureComponent{constructor(){super(...arguments),oS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),oS(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:l,isAnimationActive:u,offset:d,position:f,reverseDirection:p,useTranslate3d:y,viewBox:v,wrapperStyle:T,lastBoundingBox:k,innerRef:S,hasPortalFromProps:C}=this.props,{cssClasses:R,cssProperties:I}=lJ({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:{height:k.height,width:k.width},useTranslate3d:y,viewBox:v}),L=C?{}:my(my({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),F=my(my({},L),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},T);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:F,ref:S},a)}}var WU=()=>{var t;return(t=ze(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(null,arguments)}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){fJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fJ(t,e,n){return(e=hJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hJ(t){var e=pJ(t,"string");return typeof e=="symbol"?e:e+""}function pJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pD={curveBasisClosed:hG,curveBasisOpen:pG,curveBasis:fG,curveBumpX:Q7,curveBumpY:Z7,curveLinearClosed:mG,curveLinear:L0,curveMonotoneX:gG,curveMonotoneY:yG,curveNatural:vG,curveStep:bG,curveStepAfter:_G,curveStepBefore:xG},wv=t=>kn(t.x)&&kn(t.y),mD=t=>t.base!=null&&wv(t.base)&&wv(t),Ch=t=>t.x,Ih=t=>t.y,mJ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(qp(t));return(n==="curveMonotone"||n==="curveBump")&&e?pD["".concat(n).concat(e==="vertical"?"Y":"X")]:pD[n]||L0},gJ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=mJ(e,i),l=a?n.filter(wv):n,u;if(Array.isArray(r)){var d=n.map((v,T)=>hD(hD({},v),{},{base:r[T]}));i==="vertical"?u=oy().y(Ih).x1(Ch).x0(v=>v.base.x):u=oy().x(Ch).y1(Ih).y0(v=>v.base.y);var f=u.defined(mD).curve(s),p=a?d.filter(mD):d;return f(p)}i==="vertical"&&Ve(r)?u=oy().y(Ih).x1(Ch).x0(r):Ve(r)?u=oy().x(Ch).y1(Ih).y0(r):u=T5().x(Ch).y(Ih);var y=u.defined(wv).curve(s);return y(l)},JU=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?gJ(t):r;return A.createElement("path",lS({},La(t),$T(t),{className:It("recharts-curve",e),d:a===null?void 0:a,ref:i}))},yJ=["x","y","top","left","width","height","className"];function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(null,arguments)}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){bJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bJ(t,e,n){return(e=xJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xJ(t){var e=_J(t,"string");return typeof e=="symbol"?e:e+""}function _J(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wJ(t,e){if(t==null)return{};var n,r,i=EJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function EJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var SJ=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),TJ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:l}=t,u=wJ(t,yJ),d=vJ({x:e,y:n,top:r,left:i,width:a,height:s},u);return!Ve(e)||!Ve(n)||!Ve(a)||!Ve(s)||!Ve(r)||!Ve(i)?null:A.createElement("path",cS({},Xr(d),{className:It("recharts-cross",l),d:SJ(e,n,a,s,r,i)}))};function kJ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){AJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AJ(t,e,n){return(e=CJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CJ(t){var e=IJ(t,"string");return typeof e=="symbol"?e:e+""}function IJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NJ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),XU=(t,e,n)=>t.map(r=>"".concat(NJ(r)," ").concat(e,"ms ").concat(n)).join(","),RJ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),bp=(t,e)=>Object.keys(e).reduce((n,r)=>vD(vD({},n),{},{[r]:t(r,e[r])}),{});function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){PJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PJ(t,e,n){return(e=DJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DJ(t){var e=MJ(t,"string");return typeof e=="symbol"?e:e+""}function MJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ev=(t,e,n)=>t+(e-t)*n,uS=t=>{var{from:e,to:n}=t;return e!==n},QU=(t,e,n)=>{var r=bp((i,a)=>{if(uS(a)){var[s,l]=t(a.from,a.to,a.velocity);return Gn(Gn({},a),{},{from:s,velocity:l})}return a},e);return n<1?bp((i,a)=>uS(a)?Gn(Gn({},a),{},{velocity:Ev(a.velocity,r[i].velocity,n),from:Ev(a.from,r[i].from,n)}):a,e):QU(t,r,n-1)};function OJ(t,e,n,r,i,a){var s,l=r.reduce((y,v)=>Gn(Gn({},y),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),u=()=>bp((y,v)=>v.from,l),d=()=>!Object.values(l).filter(uS).length,f=null,p=y=>{s||(s=y);var v=y-s,T=v/n.dt;l=QU(n,l,T),i(Gn(Gn(Gn({},t),e),u())),s=y,d()||(f=a.setTimeout(p))};return()=>(f=a.setTimeout(p),()=>{var y;(y=f)===null||y===void 0||y()})}function LJ(t,e,n,r,i,a,s){var l=null,u=i.reduce((p,y)=>Gn(Gn({},p),{},{[y]:[t[y],e[y]]}),{}),d,f=p=>{d||(d=p);var y=(p-d)/r,v=bp((k,S)=>Ev(...S,n(y)),u);if(a(Gn(Gn(Gn({},t),e),v)),y<1)l=s.setTimeout(f);else{var T=bp((k,S)=>Ev(...S,n(1)),u);a(Gn(Gn(Gn({},t),e),T))}};return()=>(l=s.setTimeout(f),()=>{var p;(p=l)===null||p===void 0||p()})}const jJ=(t,e,n,r,i,a)=>{var s=RJ(t,e);return n==null?()=>(i(Gn(Gn({},t),e)),()=>{}):n.isStepper===!0?OJ(t,e,n,s,i,a):LJ(t,e,n,r,s,i,a)};var Sv=1e-4,ZU=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],e6=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),xD=(t,e)=>n=>{var r=ZU(t,e);return e6(r,n)},UJ=(t,e)=>n=>{var r=ZU(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return e6(i,n)},VJ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},FJ=(t,e,n,r)=>{var i=xD(t,n),a=xD(e,r),s=UJ(t,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var f=d>1?1:d,p=f,y=0;y<8;++y){var v=i(p)-f,T=s(p);if(Math.abs(v-f)<Sv||T<Sv)return a(p);p=l(p-v/T)}return a(p)};return u.isStepper=!1,u},_D=function(){return FJ(...VJ(...arguments))},zJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,l,u)=>{var d=-(s-l)*n,f=u*r,p=u+(d-f)*i/1e3,y=u*i/1e3+s;return Math.abs(y-l)<Sv&&Math.abs(p)<Sv?[l,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},BJ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _D(t);case"spring":return zJ();default:if(t.split("(")[0]==="cubic-bezier")return _D(t)}return typeof t=="function"?t:null};function qJ(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...d]=l;if(typeof u=="number"){i=t.setTimeout(a.bind(null,d),u);return}a(u),i=t.setTimeout(a.bind(null,d));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class $J{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function HJ(){return qJ(new $J)}var GJ=A.createContext(HJ);function KJ(t,e){var n=A.useContext(GJ);return A.useMemo(()=>e??n(t),[t,e,n])}var YJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Xp={devToolsEnabled:!1,isSsr:YJ()},WJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wD={t:0},b1={t:1};function rb(t){var e=Zr(t,WJ),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:u,children:d}=e,f=n==="auto"?!Xp.isSsr:n,p=KJ(e.animationId,e.animationManager),[y,v]=A.useState(f?wD:b1),T=A.useRef(null);return A.useEffect(()=>{f||v(b1)},[f]),A.useEffect(()=>{if(!f||!r)return $p;var k=jJ(wD,b1,BJ(a),i,v,p.getTimeoutController()),S=()=>{T.current=k()};return p.start([u,s,S,i,l]),()=>{p.stop(),T.current&&T.current(),l()}},[f,r,i,a,s,u,l,p]),d(y.t)}function ib(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(fp(e)),r=A.useRef(t);return r.current!==t&&(n.current=fp(e),r.current=t),n.current}var JJ=["radius"],XJ=["radius"];function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){QJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QJ(t,e,n){return(e=ZJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZJ(t){var e=eX(t,"string");return typeof e=="symbol"?e:e+""}function eX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tv.apply(null,arguments)}function TD(t,e){if(t==null)return{};var n,r,i=tX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kD=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,y=4;p<y;p++)f[p]=i[p]>a?a:i[p];d="M".concat(t,",").concat(e+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(e)),d+="L ".concat(t+n-l*f[1],",").concat(e),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+s*f[1])),d+="L ".concat(t+n,",").concat(e+r-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(e+r)),d+="L ".concat(t+l*f[3],",").concat(e+r),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-s*f[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);d="M ".concat(t,",").concat(e+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+l*v,",").concat(e,`
            L `).concat(t+n-l*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(e+s*v,`
            L `).concat(t+n,",").concat(e+r-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-l*v,",").concat(e+r,`
            L `).concat(t+l*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(e+r-s*v," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},AD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},t6=t=>{var e=Zr(t,AD),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var H=n.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:a,y:s,width:l,height:u,radius:d,className:f}=e,{animationEasing:p,animationDuration:y,animationBegin:v,isAnimationActive:T,isUpdateAnimationActive:k}=e,S=A.useRef(l),C=A.useRef(u),R=A.useRef(a),I=A.useRef(s),L=A.useMemo(()=>({x:a,y:s,width:l,height:u,radius:d}),[a,s,l,u,d]),F=ib(L,"rectangle-");if(a!==+a||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var j=It("recharts-rectangle",f);if(!k){var P=Xr(e),{radius:U}=P,M=TD(P,JJ);return A.createElement("path",Tv({},M,{radius:typeof d=="number"?d:void 0,className:j,d:kD(a,s,l,u,d)}))}var B=S.current,V=C.current,q=R.current,z=I.current,le="0px ".concat(r===-1?1:r,"px"),X="".concat(r,"px 0px"),J=XU(["strokeDasharray"],y,typeof p=="string"?p:AD.animationEasing);return A.createElement(rb,{animationId:F,key:F,canBegin:r>0,duration:y,easing:p,isActive:k,begin:v},H=>{var Z=mn(B,l,H),ne=mn(V,u,H),Y=mn(q,a,H),$=mn(z,s,H);n.current&&(S.current=Z,C.current=ne,R.current=Y,I.current=$);var te;T?H>0?te={transition:J,strokeDasharray:X}:te={strokeDasharray:le}:te={strokeDasharray:X};var K=Xr(e),{radius:pe}=K,we=TD(K,XJ);return A.createElement("path",Tv({},we,{radius:typeof d=="number"?d:void 0,className:j,d:kD(Y,$,Z,ne,d),ref:n,style:SD(SD({},te),e.style)}))})};function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ID(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){nX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nX(t,e,n){return(e=rX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t){var e=iX(t,"string");return typeof e=="symbol"?e:e+""}function iX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kv=Math.PI/180,aX=t=>t*180/Math.PI,Sr=(t,e,n,r)=>({x:t+Math.cos(-kv*r)*n,y:e+Math.sin(-kv*r)*n}),sX=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},oX=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},lX=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=oX({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var l=(n-i)/s,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:s,angle:aX(u),angleInRadian:u}},cX=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},uX=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},dX=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=lX({x:n,y:r},e),{innerRadius:s,outerRadius:l}=e;if(i<s||i>l||i===0)return null;var{startAngle:u,endAngle:d}=cX(e),f=a,p;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;p=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=u}return p?ID(ID({},e),{},{radius:i,angle:uX(f,e)}):null};function n6(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=Sr(e,n,r,i),l=Sr(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(null,arguments)}var fX=(t,e)=>{var n=mi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},gy=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:l,cornerIsExternal:u}=t,d=l*(s?1:-1)+r,f=Math.asin(l/d)/kv,p=u?i:i+a*f,y=Sr(e,n,d,p),v=Sr(e,n,r,p),T=u?i-a*f:i,k=Sr(e,n,d*Math.cos(f*kv),T);return{center:y,circleTangency:v,lineTangency:k,theta:f}},r6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,l=fX(a,s),u=a+l,d=Sr(e,n,i,a),f=Sr(e,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var y=Sr(e,n,r,a),v=Sr(e,n,r,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},hX=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d}=t,f=mi(d-u),{circleTangency:p,lineTangency:y,theta:v}=gy({cx:e,cy:n,radius:i,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),{circleTangency:T,lineTangency:k,theta:S}=gy({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),C=l?Math.abs(u-d):Math.abs(u-d)-v-S;if(C<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):r6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var R="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
  `);if(r>0){var{circleTangency:I,lineTangency:L,theta:F}=gy({cx:e,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:j,lineTangency:P,theta:U}=gy({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),M=l?Math.abs(u-d):Math.abs(u-d)-F-U;if(M<0&&a===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,"Z")}else R+="L".concat(e,",").concat(n,"Z");return R},pX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},i6=t=>{var e=Zr(t,pX),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f,className:p}=e;if(a<i||d===f)return null;var y=It("recharts-sector",p),v=a-i,T=Ua(s,v,0,!0),k;return T>0&&Math.abs(d-f)<360?k=hX({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(T,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):k=r6({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:f}),A.createElement("path",dS({},Xr(e),{className:y,d:k}))};function mX(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(z5(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:l}=e,u=Sr(r,i,a,l),d=Sr(r,i,s,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return n6(e)}}var x1={},_1={},w1={},ND;function gX(){return ND||(ND=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q5();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(w1)),w1}var RD;function yX(){return RD||(RD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gX();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(_1)),_1}var PD;function vX(){return PD||(PD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z5(),n=yX();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((a-i)/(s||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=s;return u}t.range=r})(x1)),x1}var E1,DD;function bX(){return DD||(DD=1,E1=vX().range),E1}var xX=bX();const a6=ba(xX);function Ol(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _X(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sk(t){let e,n,r;t.length!==2?(e=Ol,n=(l,u)=>Ol(t(l),u),r=(l,u)=>t(l)-u):(e=t===Ol||t===_X?t:wX,n=t,r=t);function i(l,u,d=0,f=l.length){if(d<f){if(e(u,u)!==0)return f;do{const p=d+f>>>1;n(l[p],u)<0?d=p+1:f=p}while(d<f)}return d}function a(l,u,d=0,f=l.length){if(d<f){if(e(u,u)!==0)return f;do{const p=d+f>>>1;n(l[p],u)<=0?d=p+1:f=p}while(d<f)}return d}function s(l,u,d=0,f=l.length){const p=i(l,u,d,f-1);return p>d&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:s,right:a}}function wX(){return 0}function s6(t){return t===null?NaN:+t}function*EX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const SX=sk(Ol),Qp=SX.right;sk(s6).center;class MD extends Map{constructor(e,n=AX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(OD(this,e))}has(e){return super.has(OD(this,e))}set(e,n){return super.set(TX(this,e),n)}delete(e){return super.delete(kX(this,e))}}function OD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function TX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function kX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function AX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function CX(t=Ol){if(t===Ol)return o6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function o6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const IX=Math.sqrt(50),NX=Math.sqrt(10),RX=Math.sqrt(2);function Av(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=IX?10:a>=NX?5:a>=RX?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/s,l=Math.round(t*d),u=Math.round(e*d),l/d<t&&++l,u/d>e&&--u,d=-d):(d=Math.pow(10,i)*s,l=Math.round(t/d),u=Math.round(e/d),l*d<t&&++l,u*d>e&&--u),u<l&&.5<=n&&n<2?Av(t,e,n*2):[l,u,d]}function fS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Av(e,t,n):Av(t,e,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(s<0)for(let d=0;d<l;++d)u[d]=(a-d)/-s;else for(let d=0;d<l;++d)u[d]=(a-d)*s;else if(s<0)for(let d=0;d<l;++d)u[d]=(i+d)/-s;else for(let d=0;d<l;++d)u[d]=(i+d)*s;return u}function hS(t,e,n){return e=+e,t=+t,n=+n,Av(t,e,n)[2]}function pS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?hS(e,t,n):hS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function LD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function jD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function l6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?o6:CX(i);r>n;){if(r-n>600){const u=r-n+1,d=e-n+1,f=Math.log(u),p=.5*Math.exp(2*f/3),y=.5*Math.sqrt(f*p*(u-p)/u)*(d-u/2<0?-1:1),v=Math.max(n,Math.floor(e-d*p/u+y)),T=Math.min(r,Math.floor(e+(u-d)*p/u+y));l6(t,e,v,T,i)}const a=t[e];let s=n,l=r;for(Nh(t,n,e),i(t[r],a)>0&&Nh(t,n,r);s<l;){for(Nh(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?Nh(t,n,l):(++l,Nh(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Nh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function PX(t,e,n){if(t=Float64Array.from(EX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return jD(t);if(e>=1)return LD(t);var r,i=(r-1)*e,a=Math.floor(i),s=LD(l6(t,a).subarray(0,a+1)),l=jD(t.subarray(a+1));return s+(l-s)*(i-a)}}function DX(t,e,n=s6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function MX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function xa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Po(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const mS=Symbol("implicit");function ok(){var t=new MD,e=[],n=[],r=mS;function i(a){let s=t.get(a);if(s===void 0){if(r!==mS)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new MD;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ok(e,n).unknown(r)},xa.apply(i,arguments),i}function lk(){var t=ok().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,u=0,d=0,f=.5;delete t.unknown;function p(){var y=e().length,v=i<r,T=v?i:r,k=v?r:i;a=(k-T)/Math.max(1,y-u+d*2),l&&(a=Math.floor(a)),T+=(k-T-a*(y-u))*f,s=a*(1-u),l&&(T=Math.round(T),s=Math.round(s));var S=MX(y).map(function(C){return T+a*C});return n(v?S.reverse():S)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(y){return arguments.length?(l=!!y,p()):l},t.padding=function(y){return arguments.length?(u=Math.min(1,d=+y),p()):u},t.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),p()):u},t.paddingOuter=function(y){return arguments.length?(d=+y,p()):d},t.align=function(y){return arguments.length?(f=Math.max(0,Math.min(1,y)),p()):f},t.copy=function(){return lk(e(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(f)},xa.apply(p(),arguments)}function c6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return c6(e())},t}function OX(){return c6(lk.apply(null,arguments).paddingInner(1))}function ck(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function u6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zp(){}var xp=.7,Cv=1/xp,_d="\\s*([+-]?\\d+)\\s*",_p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LX=/^#([0-9a-f]{3,8})$/,jX=new RegExp(`^rgb\\(${_d},${_d},${_d}\\)$`),UX=new RegExp(`^rgb\\(${_s},${_s},${_s}\\)$`),VX=new RegExp(`^rgba\\(${_d},${_d},${_d},${_p}\\)$`),FX=new RegExp(`^rgba\\(${_s},${_s},${_s},${_p}\\)$`),zX=new RegExp(`^hsl\\(${_p},${_s},${_s}\\)$`),BX=new RegExp(`^hsla\\(${_p},${_s},${_s},${_p}\\)$`),UD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ck(Zp,wp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:VD,formatHex:VD,formatHex8:qX,formatHsl:$X,formatRgb:FD,toString:FD});function VD(){return this.rgb().formatHex()}function qX(){return this.rgb().formatHex8()}function $X(){return d6(this).formatHsl()}function FD(){return this.rgb().formatRgb()}function wp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=LX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?zD(e):n===3?new gi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?yy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?yy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jX.exec(t))?new gi(e[1],e[2],e[3],1):(e=UX.exec(t))?new gi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=VX.exec(t))?yy(e[1],e[2],e[3],e[4]):(e=FX.exec(t))?yy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zX.exec(t))?$D(e[1],e[2]/100,e[3]/100,1):(e=BX.exec(t))?$D(e[1],e[2]/100,e[3]/100,e[4]):UD.hasOwnProperty(t)?zD(UD[t]):t==="transparent"?new gi(NaN,NaN,NaN,0):null}function zD(t){return new gi(t>>16&255,t>>8&255,t&255,1)}function yy(t,e,n,r){return r<=0&&(t=e=n=NaN),new gi(t,e,n,r)}function HX(t){return t instanceof Zp||(t=wp(t)),t?(t=t.rgb(),new gi(t.r,t.g,t.b,t.opacity)):new gi}function gS(t,e,n,r){return arguments.length===1?HX(t):new gi(t,e,n,r??1)}function gi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ck(gi,gS,u6(Zp,{brighter(t){return t=t==null?Cv:Math.pow(Cv,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xp:Math.pow(xp,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gi(Hc(this.r),Hc(this.g),Hc(this.b),Iv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BD,formatHex:BD,formatHex8:GX,formatRgb:qD,toString:qD}));function BD(){return`#${Fc(this.r)}${Fc(this.g)}${Fc(this.b)}`}function GX(){return`#${Fc(this.r)}${Fc(this.g)}${Fc(this.b)}${Fc((isNaN(this.opacity)?1:this.opacity)*255)}`}function qD(){const t=Iv(this.opacity);return`${t===1?"rgb(":"rgba("}${Hc(this.r)}, ${Hc(this.g)}, ${Hc(this.b)}${t===1?")":`, ${t})`}`}function Iv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fc(t){return t=Hc(t),(t<16?"0":"")+t.toString(16)}function $D(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Da(t,e,n,r)}function d6(t){if(t instanceof Da)return new Da(t.h,t.s,t.l,t.opacity);if(t instanceof Zp||(t=wp(t)),!t)return new Da;if(t instanceof Da)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,u=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new Da(s,l,u,t.opacity)}function KX(t,e,n,r){return arguments.length===1?d6(t):new Da(t,e,n,r??1)}function Da(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ck(Da,KX,u6(Zp,{brighter(t){return t=t==null?Cv:Math.pow(Cv,t),new Da(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xp:Math.pow(xp,t),new Da(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new gi(S1(t>=240?t-240:t+120,i,r),S1(t,i,r),S1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Da(HD(this.h),vy(this.s),vy(this.l),Iv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Iv(this.opacity);return`${t===1?"hsl(":"hsla("}${HD(this.h)}, ${vy(this.s)*100}%, ${vy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function HD(t){return t=(t||0)%360,t<0?t+360:t}function vy(t){return Math.max(0,Math.min(1,t||0))}function S1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const uk=t=>()=>t;function YX(t,e){return function(n){return t+n*e}}function WX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function JX(t){return(t=+t)==1?f6:function(e,n){return n-e?WX(e,n,t):uk(isNaN(e)?n:e)}}function f6(t,e){var n=e-t;return n?YX(t,n):uk(isNaN(t)?e:t)}const GD=(function t(e){var n=JX(e);function r(i,a){var s=n((i=gS(i)).r,(a=gS(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),d=f6(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=u(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function XX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function QX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ZX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=af(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function eQ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Nv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function tQ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=af(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var yS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,T1=new RegExp(yS.source,"g");function nQ(t){return function(){return t}}function rQ(t){return function(e){return t(e)+""}}function iQ(t,e){var n=yS.lastIndex=T1.lastIndex=0,r,i,a,s=-1,l=[],u=[];for(t=t+"",e=e+"";(r=yS.exec(t))&&(i=T1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:Nv(r,i)})),n=T1.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?u[0]?rQ(u[0].x):nQ(e):(e=u.length,function(d){for(var f=0,p;f<e;++f)l[(p=u[f]).i]=p.x(d);return l.join("")})}function af(t,e){var n=typeof e,r;return e==null||n==="boolean"?uk(e):(n==="number"?Nv:n==="string"?(r=wp(e))?(e=r,GD):iQ:e instanceof wp?GD:e instanceof Date?eQ:QX(e)?XX:Array.isArray(e)?ZX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?tQ:Nv)(t,e)}function dk(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function aQ(t,e){e===void 0&&(e=t,t=af);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function sQ(t){return function(){return t}}function Rv(t){return+t}var KD=[0,1];function Wr(t){return t}function vS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:sQ(isNaN(e)?NaN:.5)}function oQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function lQ(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=vS(i,r),a=n(s,a)):(r=vS(r,i),a=n(a,s)),function(l){return a(r(l))}}function cQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=vS(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var u=Qp(t,l,1,r)-1;return a[u](i[u](l))}}function em(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ab(){var t=KD,e=KD,n=af,r,i,a,s=Wr,l,u,d;function f(){var y=Math.min(t.length,e.length);return s!==Wr&&(s=oQ(t[0],t[y-1])),l=y>2?cQ:lQ,u=d=null,p}function p(y){return y==null||isNaN(y=+y)?a:(u||(u=l(t.map(r),e,n)))(r(s(y)))}return p.invert=function(y){return s(i((d||(d=l(e,t.map(r),Nv)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,Rv),f()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),f()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=dk,f()},p.clamp=function(y){return arguments.length?(s=y?!0:Wr,f()):s!==Wr},p.interpolate=function(y){return arguments.length?(n=y,f()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,v){return r=y,i=v,f()}}function fk(){return ab()(Wr,Wr)}function uQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Pv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Fd(t){return t=Pv(Math.abs(t)),t?t[1]:NaN}function dQ(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function fQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var hQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ep(t){if(!(e=hQ.exec(t)))throw new Error("invalid format: "+t);var e;return new hk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ep.prototype=hk.prototype;function hk(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var h6;function mQ(t,e){var n=Pv(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(h6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Pv(t,Math.max(0,e+a-1))[0]}function YD(t,e){var n=Pv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const WD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:uQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>YD(t*100,e),r:YD,s:mQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function JD(t){return t}var XD=Array.prototype.map,QD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gQ(t){var e=t.grouping===void 0||t.thousands===void 0?JD:dQ(XD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?JD:fQ(XD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function d(p){p=Ep(p);var y=p.fill,v=p.align,T=p.sign,k=p.symbol,S=p.zero,C=p.width,R=p.comma,I=p.precision,L=p.trim,F=p.type;F==="n"?(R=!0,F="g"):WD[F]||(I===void 0&&(I=12),L=!0,F="g"),(S||y==="0"&&v==="=")&&(S=!0,y="0",v="=");var j=k==="$"?n:k==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",P=k==="$"?r:/[%p]/.test(F)?s:"",U=WD[F],M=/[defgprs%]/.test(F);I=I===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function B(V){var q=j,z=P,le,X,J;if(F==="c")z=U(V)+z,V="";else{V=+V;var H=V<0||1/V<0;if(V=isNaN(V)?u:U(Math.abs(V),I),L&&(V=pQ(V)),H&&+V==0&&T!=="+"&&(H=!1),q=(H?T==="("?T:l:T==="-"||T==="("?"":T)+q,z=(F==="s"?QD[8+h6/3]:"")+z+(H&&T==="("?")":""),M){for(le=-1,X=V.length;++le<X;)if(J=V.charCodeAt(le),48>J||J>57){z=(J===46?i+V.slice(le+1):V.slice(le))+z,V=V.slice(0,le);break}}}R&&!S&&(V=e(V,1/0));var Z=q.length+V.length+z.length,ne=Z<C?new Array(C-Z+1).join(y):"";switch(R&&S&&(V=e(ne+V,ne.length?C-z.length:1/0),ne=""),v){case"<":V=q+V+z+ne;break;case"=":V=q+ne+V+z;break;case"^":V=ne.slice(0,Z=ne.length>>1)+q+V+z+ne.slice(Z);break;default:V=ne+q+V+z;break}return a(V)}return B.toString=function(){return p+""},B}function f(p,y){var v=d((p=Ep(p),p.type="f",p)),T=Math.max(-8,Math.min(8,Math.floor(Fd(y)/3)))*3,k=Math.pow(10,-T),S=QD[8+T/3];return function(C){return v(k*C)+S}}return{format:d,formatPrefix:f}}var by,pk,p6;yQ({thousands:",",grouping:[3],currency:["$",""]});function yQ(t){return by=gQ(t),pk=by.format,p6=by.formatPrefix,by}function vQ(t){return Math.max(0,-Fd(Math.abs(t)))}function bQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fd(e)/3)))*3-Fd(Math.abs(t)))}function xQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fd(e)-Fd(t))+1}function m6(t,e,n,r){var i=pS(t,e,n),a;switch(r=Ep(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=bQ(i,s))&&(r.precision=a),p6(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=xQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=vQ(i))&&(r.precision=a-(r.type==="%")*2);break}}return pk(r)}function tc(t){var e=t.domain;return t.ticks=function(n){var r=e();return fS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return m6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],u,d,f=10;for(l<s&&(d=s,s=l,l=d,d=i,i=a,a=d);f-- >0;){if(d=hS(s,l,n),d===u)return r[i]=s,r[a]=l,e(r);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;u=d}return t},t}function g6(){var t=fk();return t.copy=function(){return em(t,g6())},xa.apply(t,arguments),tc(t)}function y6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Rv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return y6(t).unknown(e)},t=arguments.length?Array.from(t,Rv):[0,1],tc(n)}function v6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function ZD(t){return Math.log(t)}function eM(t){return Math.exp(t)}function _Q(t){return-Math.log(-t)}function wQ(t){return-Math.exp(-t)}function EQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function SQ(t){return t===10?EQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function TQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function tM(t){return(e,n)=>-t(-e,n)}function mk(t){const e=t(ZD,eM),n=e.domain;let r=10,i,a;function s(){return i=TQ(r),a=SQ(r),n()[0]<0?(i=tM(i),a=tM(a),t(_Q,wQ)):t(ZD,eM),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const u=n();let d=u[0],f=u[u.length-1];const p=f<d;p&&([d,f]=[f,d]);let y=i(d),v=i(f),T,k;const S=l==null?10:+l;let C=[];if(!(r%1)&&v-y<S){if(y=Math.floor(y),v=Math.ceil(v),d>0){for(;y<=v;++y)for(T=1;T<r;++T)if(k=y<0?T/a(-y):T*a(y),!(k<d)){if(k>f)break;C.push(k)}}else for(;y<=v;++y)for(T=r-1;T>=1;--T)if(k=y>0?T/a(-y):T*a(y),!(k<d)){if(k>f)break;C.push(k)}C.length*2<S&&(C=fS(d,f,S))}else C=fS(y,v,Math.min(v-y,S)).map(a);return p?C.reverse():C},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Ep(u)).precision==null&&(u.trim=!0),u=pk(u)),l===1/0)return u;const d=Math.max(1,r*l/e.ticks().length);return f=>{let p=f/a(Math.round(i(f)));return p*r<r-.5&&(p*=r),p<=d?u(f):""}},e.nice=()=>n(v6(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function b6(){const t=mk(ab()).domain([1,10]);return t.copy=()=>em(t,b6()).base(t.base()),xa.apply(t,arguments),t}function nM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function rM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function gk(t){var e=1,n=t(nM(e),rM(e));return n.constant=function(r){return arguments.length?t(nM(e=+r),rM(e)):e},tc(n)}function x6(){var t=gk(ab());return t.copy=function(){return em(t,x6()).constant(t.constant())},xa.apply(t,arguments)}function iM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function kQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function AQ(t){return t<0?-t*t:t*t}function yk(t){var e=t(Wr,Wr),n=1;function r(){return n===1?t(Wr,Wr):n===.5?t(kQ,AQ):t(iM(n),iM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},tc(e)}function vk(){var t=yk(ab());return t.copy=function(){return em(t,vk()).exponent(t.exponent())},xa.apply(t,arguments),t}function CQ(){return vk.apply(null,arguments).exponent(.5)}function aM(t){return Math.sign(t)*t*t}function IQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function _6(){var t=fk(),e=[0,1],n=!1,r;function i(a){var s=IQ(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(aM(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Rv)).map(aM)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return _6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},xa.apply(i,arguments),tc(i)}function w6(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=DX(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Qp(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ol),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return w6().domain(t).range(e).unknown(r)},xa.apply(a,arguments)}function E6(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[Qp(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},s.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return E6().domain([t,e]).range(i).unknown(a)},xa.apply(tc(s),arguments)}function S6(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Qp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return S6().domain(t).range(e).unknown(n)},xa.apply(i,arguments)}const k1=new Date,A1=new Date;function Jn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return u;let d;do u.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<s);return u},i.filter=a=>Jn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(k1.setTime(+a),A1.setTime(+s),t(k1),t(A1),Math.floor(n(k1,A1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Dv=Jn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Dv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Jn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Dv);Dv.range;const so=1e3,fa=so*60,oo=fa*60,vo=oo*24,bk=vo*7,sM=vo*30,C1=vo*365,zc=Jn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*so)},(t,e)=>(e-t)/so,t=>t.getUTCSeconds());zc.range;const xk=Jn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*so)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getMinutes());xk.range;const _k=Jn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getUTCMinutes());_k.range;const wk=Jn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*so-t.getMinutes()*fa)},(t,e)=>{t.setTime(+t+e*oo)},(t,e)=>(e-t)/oo,t=>t.getHours());wk.range;const Ek=Jn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*oo)},(t,e)=>(e-t)/oo,t=>t.getUTCHours());Ek.range;const tm=Jn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fa)/vo,t=>t.getDate()-1);tm.range;const sb=Jn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vo,t=>t.getUTCDate()-1);sb.range;const T6=Jn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vo,t=>Math.floor(t/vo));T6.range;function ou(t){return Jn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*fa)/bk)}const ob=ou(0),Mv=ou(1),NQ=ou(2),RQ=ou(3),zd=ou(4),PQ=ou(5),DQ=ou(6);ob.range;Mv.range;NQ.range;RQ.range;zd.range;PQ.range;DQ.range;function lu(t){return Jn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/bk)}const lb=lu(0),Ov=lu(1),MQ=lu(2),OQ=lu(3),Bd=lu(4),LQ=lu(5),jQ=lu(6);lb.range;Ov.range;MQ.range;OQ.range;Bd.range;LQ.range;jQ.range;const Sk=Jn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Sk.range;const Tk=Jn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Tk.range;const bo=Jn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});bo.range;const xo=Jn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});xo.range;function k6(t,e,n,r,i,a){const s=[[zc,1,so],[zc,5,5*so],[zc,15,15*so],[zc,30,30*so],[a,1,fa],[a,5,5*fa],[a,15,15*fa],[a,30,30*fa],[i,1,oo],[i,3,3*oo],[i,6,6*oo],[i,12,12*oo],[r,1,vo],[r,2,2*vo],[n,1,bk],[e,1,sM],[e,3,3*sM],[t,1,C1]];function l(d,f,p){const y=f<d;y&&([d,f]=[f,d]);const v=p&&typeof p.range=="function"?p:u(d,f,p),T=v?v.range(d,+f+1):[];return y?T.reverse():T}function u(d,f,p){const y=Math.abs(f-d)/p,v=sk(([,,S])=>S).right(s,y);if(v===s.length)return t.every(pS(d/C1,f/C1,p));if(v===0)return Dv.every(Math.max(pS(d,f,p),1));const[T,k]=s[y/s[v-1][2]<s[v][2]/y?v-1:v];return T.every(k)}return[l,u]}const[UQ,VQ]=k6(xo,Tk,lb,T6,Ek,_k),[FQ,zQ]=k6(bo,Sk,ob,tm,wk,xk);function I1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function N1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function BQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,u=t.shortMonths,d=Ph(i),f=Dh(i),p=Ph(a),y=Dh(a),v=Ph(s),T=Dh(s),k=Ph(l),S=Dh(l),C=Ph(u),R=Dh(u),I={a:H,A:Z,b:ne,B:Y,c:null,d:fM,e:fM,f:dZ,g:_Z,G:EZ,H:lZ,I:cZ,j:uZ,L:A6,m:fZ,M:hZ,p:$,q:te,Q:mM,s:gM,S:pZ,u:mZ,U:gZ,V:yZ,w:vZ,W:bZ,x:null,X:null,y:xZ,Y:wZ,Z:SZ,"%":pM},L={a:K,A:pe,b:we,B:Se,c:null,d:hM,e:hM,f:CZ,g:UZ,G:FZ,H:TZ,I:kZ,j:AZ,L:I6,m:IZ,M:NZ,p:Ie,q:He,Q:mM,s:gM,S:RZ,u:PZ,U:DZ,V:MZ,w:OZ,W:LZ,x:null,X:null,y:jZ,Y:VZ,Z:zZ,"%":pM},F={a:B,A:V,b:q,B:z,c:le,d:uM,e:uM,f:iZ,g:cM,G:lM,H:dM,I:dM,j:eZ,L:rZ,m:ZQ,M:tZ,p:M,q:QQ,Q:sZ,s:oZ,S:nZ,u:KQ,U:YQ,V:WQ,w:GQ,W:JQ,x:X,X:J,y:cM,Y:lM,Z:XQ,"%":aZ};I.x=j(n,I),I.X=j(r,I),I.c=j(e,I),L.x=j(n,L),L.X=j(r,L),L.c=j(e,L);function j(oe,Ce){return function(je){var be=[],lt=-1,fe=0,ke=oe.length,Re,it,Cn;for(je instanceof Date||(je=new Date(+je));++lt<ke;)oe.charCodeAt(lt)===37&&(be.push(oe.slice(fe,lt)),(it=oM[Re=oe.charAt(++lt)])!=null?Re=oe.charAt(++lt):it=Re==="e"?" ":"0",(Cn=Ce[Re])&&(Re=Cn(je,it)),be.push(Re),fe=lt+1);return be.push(oe.slice(fe,lt)),be.join("")}}function P(oe,Ce){return function(je){var be=Rh(1900,void 0,1),lt=U(be,oe,je+="",0),fe,ke;if(lt!=je.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(Ce&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(fe=N1(Rh(be.y,0,1)),ke=fe.getUTCDay(),fe=ke>4||ke===0?Ov.ceil(fe):Ov(fe),fe=sb.offset(fe,(be.V-1)*7),be.y=fe.getUTCFullYear(),be.m=fe.getUTCMonth(),be.d=fe.getUTCDate()+(be.w+6)%7):(fe=I1(Rh(be.y,0,1)),ke=fe.getDay(),fe=ke>4||ke===0?Mv.ceil(fe):Mv(fe),fe=tm.offset(fe,(be.V-1)*7),be.y=fe.getFullYear(),be.m=fe.getMonth(),be.d=fe.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),ke="Z"in be?N1(Rh(be.y,0,1)).getUTCDay():I1(Rh(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(ke+5)%7:be.w+be.U*7-(ke+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,N1(be)):I1(be)}}function U(oe,Ce,je,be){for(var lt=0,fe=Ce.length,ke=je.length,Re,it;lt<fe;){if(be>=ke)return-1;if(Re=Ce.charCodeAt(lt++),Re===37){if(Re=Ce.charAt(lt++),it=F[Re in oM?Ce.charAt(lt++):Re],!it||(be=it(oe,je,be))<0)return-1}else if(Re!=je.charCodeAt(be++))return-1}return be}function M(oe,Ce,je){var be=d.exec(Ce.slice(je));return be?(oe.p=f.get(be[0].toLowerCase()),je+be[0].length):-1}function B(oe,Ce,je){var be=v.exec(Ce.slice(je));return be?(oe.w=T.get(be[0].toLowerCase()),je+be[0].length):-1}function V(oe,Ce,je){var be=p.exec(Ce.slice(je));return be?(oe.w=y.get(be[0].toLowerCase()),je+be[0].length):-1}function q(oe,Ce,je){var be=C.exec(Ce.slice(je));return be?(oe.m=R.get(be[0].toLowerCase()),je+be[0].length):-1}function z(oe,Ce,je){var be=k.exec(Ce.slice(je));return be?(oe.m=S.get(be[0].toLowerCase()),je+be[0].length):-1}function le(oe,Ce,je){return U(oe,e,Ce,je)}function X(oe,Ce,je){return U(oe,n,Ce,je)}function J(oe,Ce,je){return U(oe,r,Ce,je)}function H(oe){return s[oe.getDay()]}function Z(oe){return a[oe.getDay()]}function ne(oe){return u[oe.getMonth()]}function Y(oe){return l[oe.getMonth()]}function $(oe){return i[+(oe.getHours()>=12)]}function te(oe){return 1+~~(oe.getMonth()/3)}function K(oe){return s[oe.getUTCDay()]}function pe(oe){return a[oe.getUTCDay()]}function we(oe){return u[oe.getUTCMonth()]}function Se(oe){return l[oe.getUTCMonth()]}function Ie(oe){return i[+(oe.getUTCHours()>=12)]}function He(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Ce=j(oe+="",I);return Ce.toString=function(){return oe},Ce},parse:function(oe){var Ce=P(oe+="",!1);return Ce.toString=function(){return oe},Ce},utcFormat:function(oe){var Ce=j(oe+="",L);return Ce.toString=function(){return oe},Ce},utcParse:function(oe){var Ce=P(oe+="",!0);return Ce.toString=function(){return oe},Ce}}}var oM={"-":"",_:" ",0:"0"},hr=/^\s*\d+/,qQ=/^%/,$Q=/[\\^$*+?|[\]().{}]/g;function xt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function HQ(t){return t.replace($Q,"\\$&")}function Ph(t){return new RegExp("^(?:"+t.map(HQ).join("|")+")","i")}function Dh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function GQ(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function KQ(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function YQ(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function WQ(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function JQ(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function lM(t,e,n){var r=hr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function cM(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function XQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function QQ(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ZQ(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function uM(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function eZ(t,e,n){var r=hr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function dM(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function tZ(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function nZ(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rZ(t,e,n){var r=hr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function iZ(t,e,n){var r=hr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function aZ(t,e,n){var r=qQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function sZ(t,e,n){var r=hr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function oZ(t,e,n){var r=hr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function fM(t,e){return xt(t.getDate(),e,2)}function lZ(t,e){return xt(t.getHours(),e,2)}function cZ(t,e){return xt(t.getHours()%12||12,e,2)}function uZ(t,e){return xt(1+tm.count(bo(t),t),e,3)}function A6(t,e){return xt(t.getMilliseconds(),e,3)}function dZ(t,e){return A6(t,e)+"000"}function fZ(t,e){return xt(t.getMonth()+1,e,2)}function hZ(t,e){return xt(t.getMinutes(),e,2)}function pZ(t,e){return xt(t.getSeconds(),e,2)}function mZ(t){var e=t.getDay();return e===0?7:e}function gZ(t,e){return xt(ob.count(bo(t)-1,t),e,2)}function C6(t){var e=t.getDay();return e>=4||e===0?zd(t):zd.ceil(t)}function yZ(t,e){return t=C6(t),xt(zd.count(bo(t),t)+(bo(t).getDay()===4),e,2)}function vZ(t){return t.getDay()}function bZ(t,e){return xt(Mv.count(bo(t)-1,t),e,2)}function xZ(t,e){return xt(t.getFullYear()%100,e,2)}function _Z(t,e){return t=C6(t),xt(t.getFullYear()%100,e,2)}function wZ(t,e){return xt(t.getFullYear()%1e4,e,4)}function EZ(t,e){var n=t.getDay();return t=n>=4||n===0?zd(t):zd.ceil(t),xt(t.getFullYear()%1e4,e,4)}function SZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xt(e/60|0,"0",2)+xt(e%60,"0",2)}function hM(t,e){return xt(t.getUTCDate(),e,2)}function TZ(t,e){return xt(t.getUTCHours(),e,2)}function kZ(t,e){return xt(t.getUTCHours()%12||12,e,2)}function AZ(t,e){return xt(1+sb.count(xo(t),t),e,3)}function I6(t,e){return xt(t.getUTCMilliseconds(),e,3)}function CZ(t,e){return I6(t,e)+"000"}function IZ(t,e){return xt(t.getUTCMonth()+1,e,2)}function NZ(t,e){return xt(t.getUTCMinutes(),e,2)}function RZ(t,e){return xt(t.getUTCSeconds(),e,2)}function PZ(t){var e=t.getUTCDay();return e===0?7:e}function DZ(t,e){return xt(lb.count(xo(t)-1,t),e,2)}function N6(t){var e=t.getUTCDay();return e>=4||e===0?Bd(t):Bd.ceil(t)}function MZ(t,e){return t=N6(t),xt(Bd.count(xo(t),t)+(xo(t).getUTCDay()===4),e,2)}function OZ(t){return t.getUTCDay()}function LZ(t,e){return xt(Ov.count(xo(t)-1,t),e,2)}function jZ(t,e){return xt(t.getUTCFullYear()%100,e,2)}function UZ(t,e){return t=N6(t),xt(t.getUTCFullYear()%100,e,2)}function VZ(t,e){return xt(t.getUTCFullYear()%1e4,e,4)}function FZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Bd(t):Bd.ceil(t),xt(t.getUTCFullYear()%1e4,e,4)}function zZ(){return"+0000"}function pM(){return"%"}function mM(t){return+t}function gM(t){return Math.floor(+t/1e3)}var rd,R6,P6;BZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function BZ(t){return rd=BQ(t),R6=rd.format,rd.parse,P6=rd.utcFormat,rd.utcParse,rd}function qZ(t){return new Date(t)}function $Z(t){return t instanceof Date?+t:+new Date(+t)}function kk(t,e,n,r,i,a,s,l,u,d){var f=fk(),p=f.invert,y=f.domain,v=d(".%L"),T=d(":%S"),k=d("%I:%M"),S=d("%I %p"),C=d("%a %d"),R=d("%b %d"),I=d("%B"),L=d("%Y");function F(j){return(u(j)<j?v:l(j)<j?T:s(j)<j?k:a(j)<j?S:r(j)<j?i(j)<j?C:R:n(j)<j?I:L)(j)}return f.invert=function(j){return new Date(p(j))},f.domain=function(j){return arguments.length?y(Array.from(j,$Z)):y().map(qZ)},f.ticks=function(j){var P=y();return t(P[0],P[P.length-1],j??10)},f.tickFormat=function(j,P){return P==null?F:d(P)},f.nice=function(j){var P=y();return(!j||typeof j.range!="function")&&(j=e(P[0],P[P.length-1],j??10)),j?y(v6(P,j)):f},f.copy=function(){return em(f,kk(t,e,n,r,i,a,s,l,u,d))},f}function HZ(){return xa.apply(kk(FQ,zQ,bo,Sk,ob,tm,wk,xk,zc,R6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GZ(){return xa.apply(kk(UQ,VQ,xo,Tk,lb,sb,Ek,_k,zc,P6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cb(){var t=0,e=1,n,r,i,a,s=Wr,l=!1,u;function d(p){return p==null||isNaN(p=+p)?u:s(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(s=p,d):s};function f(p){return function(y){var v,T;return arguments.length?([v,T]=y,s=p(v,T),d):[s(0),s(1)]}}return d.range=f(af),d.rangeRound=f(dk),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function nc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function D6(){var t=tc(cb()(Wr));return t.copy=function(){return nc(t,D6())},Po.apply(t,arguments)}function M6(){var t=mk(cb()).domain([1,10]);return t.copy=function(){return nc(t,M6()).base(t.base())},Po.apply(t,arguments)}function O6(){var t=gk(cb());return t.copy=function(){return nc(t,O6()).constant(t.constant())},Po.apply(t,arguments)}function Ak(){var t=yk(cb());return t.copy=function(){return nc(t,Ak()).exponent(t.exponent())},Po.apply(t,arguments)}function KZ(){return Ak.apply(null,arguments).exponent(.5)}function L6(){var t=[],e=Wr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Qp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ol),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>PX(t,a/r))},n.copy=function(){return L6(e).domain(t)},Po.apply(n,arguments)}function ub(){var t=0,e=.5,n=1,r=1,i,a,s,l,u,d=Wr,f,p=!1,y;function v(k){return isNaN(k=+k)?y:(k=.5+((k=+f(k))-a)*(r*k<r*a?l:u),d(p?Math.max(0,Math.min(1,k)):k))}v.domain=function(k){return arguments.length?([t,e,n]=k,i=f(t=+t),a=f(e=+e),s=f(n=+n),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,v):[t,e,n]},v.clamp=function(k){return arguments.length?(p=!!k,v):p},v.interpolator=function(k){return arguments.length?(d=k,v):d};function T(k){return function(S){var C,R,I;return arguments.length?([C,R,I]=S,d=aQ(k,[C,R,I]),v):[d(0),d(.5),d(1)]}}return v.range=T(af),v.rangeRound=T(dk),v.unknown=function(k){return arguments.length?(y=k,v):y},function(k){return f=k,i=k(t),a=k(e),s=k(n),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,v}}function j6(){var t=tc(ub()(Wr));return t.copy=function(){return nc(t,j6())},Po.apply(t,arguments)}function U6(){var t=mk(ub()).domain([.1,1,10]);return t.copy=function(){return nc(t,U6()).base(t.base())},Po.apply(t,arguments)}function V6(){var t=gk(ub());return t.copy=function(){return nc(t,V6()).constant(t.constant())},Po.apply(t,arguments)}function Ck(){var t=yk(ub());return t.copy=function(){return nc(t,Ck()).exponent(t.exponent())},Po.apply(t,arguments)}function YZ(){return Ck.apply(null,arguments).exponent(.5)}const qh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lk,scaleDiverging:j6,scaleDivergingLog:U6,scaleDivergingPow:Ck,scaleDivergingSqrt:YZ,scaleDivergingSymlog:V6,scaleIdentity:y6,scaleImplicit:mS,scaleLinear:g6,scaleLog:b6,scaleOrdinal:ok,scalePoint:OX,scalePow:vk,scaleQuantile:w6,scaleQuantize:E6,scaleRadial:_6,scaleSequential:D6,scaleSequentialLog:M6,scaleSequentialPow:Ak,scaleSequentialQuantile:L6,scaleSequentialSqrt:KZ,scaleSequentialSymlog:O6,scaleSqrt:CQ,scaleSymlog:x6,scaleThreshold:S6,scaleTime:HZ,scaleUtc:GZ,tickFormat:m6},Symbol.toStringTag,{value:"Module"}));var rc=t=>t.chartData,WZ=de([rc],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),db=(t,e,n,r)=>r?WZ(t):rc(t);function Bl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(kn(e)&&kn(n))return!0}return!1}function yM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function F6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(kn(n))i=n;else if(typeof n=="function")return;if(kn(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Bl(s))return s}}function JZ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Bl(r))return yM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,l;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Ve(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&KP.test(i)){var u=KP.exec(i);if(u==null||e==null)s=void 0;else{var d=+u[1];s=e[0]-d}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(Ve(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&YP.test(a)){var f=YP.exec(a);if(f==null||e==null)l=void 0;else{var p=+f[1];l=e[1]+p}}else l=e==null?void 0:e[1];var y=[s,l];if(Bl(y))return e==null?y:yM(y,e,n)}}}var sf=1e9,XZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Nk,ln=!0,ya="[DecimalError] ",Gc=ya+"Invalid argument: ",Ik=ya+"Exponent out of range: ",of=Math.floor,Lc=Math.pow,QZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ji,sr=1e7,Zt=7,z6=9007199254740991,Lv=of(z6/Zt),Oe={};Oe.absoluteValue=Oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Oe.comparedTo=Oe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Zt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(t){return ho(this,new this.constructor(t))};Oe.dividedToIntegerBy=Oe.idiv=function(t){var e=this,n=e.constructor;return qt(ho(e,new n(t),0,1),n.precision)};Oe.equals=Oe.eq=function(t){return!this.cmp(t)};Oe.exponent=function(){return qn(this)};Oe.greaterThan=Oe.gt=function(t){return this.cmp(t)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(t){return this.cmp(t)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(t){return this.cmp(t)<0};Oe.lessThanOrEqualTo=Oe.lte=function(t){return this.cmp(t)<1};Oe.logarithm=Oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ji))throw Error(ya+"NaN");if(n.s<1)throw Error(ya+(n.s?"NaN":"-Infinity"));return n.eq(ji)?new r(0):(ln=!1,e=ho(Sp(n,a),Sp(t,a),a),ln=!0,qt(e,i))};Oe.minus=Oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$6(e,t):B6(e,(t.s=-t.s,t))};Oe.modulo=Oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ya+"NaN");return n.s?(ln=!1,e=ho(n,t,0,1).times(t),ln=!0,n.minus(e)):qt(new r(n),i)};Oe.naturalExponential=Oe.exp=function(){return q6(this)};Oe.naturalLogarithm=Oe.ln=function(){return Sp(this)};Oe.negated=Oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Oe.plus=Oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?B6(e,t):$6(e,(t.s=-t.s,t))};Oe.precision=Oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Gc+t);if(e=qn(i)+1,r=i.d.length-1,n=r*Zt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Oe.squareRoot=Oe.sqrt=function(){var t,e,n,r,i,a,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ya+"NaN")}for(t=qn(l),ln=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=bs(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=of((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(a=r,r=a.plus(ho(l,a,s+2)).times(.5),bs(a.d).slice(0,s)===(e=bs(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(qt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return ln=!0,qt(r,n)};Oe.times=Oe.mul=function(t){var e,n,r,i,a,s,l,u,d,f=this,p=f.constructor,y=f.d,v=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,n=f.e+t.e,u=y.length,d=v.length,u<d&&(a=y,y=v,v=a,s=u,u=d,d=s),a=[],s=u+d,r=s;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=u+r;i>r;)l=a[i]+v[r]*y[i-r-1]+e,a[i--]=l%sr|0,e=l/sr|0;a[i]=(a[i]+e)%sr|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ln?qt(t,p.precision):t};Oe.toDecimalPlaces=Oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ps(t,0,sf),e===void 0?e=r.rounding:Ps(e,0,8),qt(n,t+qn(n)+1,e))};Oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Xc(r,!0):(Ps(t,0,sf),e===void 0?e=i.rounding:Ps(e,0,8),r=qt(new i(r),t+1,e),n=Xc(r,!0,t+1)),n};Oe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Xc(i):(Ps(t,0,sf),e===void 0?e=a.rounding:Ps(e,0,8),r=qt(new a(i),t+qn(i)+1,e),n=Xc(r.abs(),!1,t+qn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var t=this,e=t.constructor;return qt(new e(t),qn(t)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(t){var e,n,r,i,a,s,l=this,u=l.constructor,d=12,f=+(t=new u(t));if(!t.s)return new u(ji);if(l=new u(l),!l.s){if(t.s<1)throw Error(ya+"Infinity");return l}if(l.eq(ji))return l;if(r=u.precision,t.eq(ji))return qt(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=f<0?-f:f)<=z6){for(i=new u(ji),e=Math.ceil(r/Zt+4),ln=!1;n%2&&(i=i.times(l),bM(i.d,e)),n=of(n/2),n!==0;)l=l.times(l),bM(l.d,e);return ln=!0,t.s<0?new u(ji).div(i):qt(i,r)}}else if(a<0)throw Error(ya+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,ln=!1,i=t.times(Sp(l,r+d)),ln=!0,i=q6(i),i.s=a,i};Oe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=qn(i),r=Xc(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ps(t,1,sf),e===void 0?e=a.rounding:Ps(e,0,8),i=qt(new a(i),t,e),n=qn(i),r=Xc(i,t<=n||n<=a.toExpNeg,t)),r};Oe.toSignificantDigits=Oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ps(t,1,sf),e===void 0?e=r.rounding:Ps(e,0,8)),qt(new r(n),t,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qn(t),n=t.constructor;return Xc(t,e<=n.toExpNeg||e>=n.toExpPos)};function B6(t,e){var n,r,i,a,s,l,u,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),ln?qt(e,p):e;if(u=t.d,d=e.d,s=t.e,i=e.e,u=u.slice(),a=s-i,a){for(a<0?(r=u,a=-a,l=d.length):(r=d,i=s,l=u.length),s=Math.ceil(p/Zt),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=d.length,l-a<0&&(a=l,r=d,d=u,u=r),n=0;a;)n=(u[--a]=u[a]+d[a]+n)/sr|0,u[a]%=sr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,ln?qt(e,p):e}function Ps(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Gc+t)}function bs(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Zt-r.length,n&&(a+=El(n)),a+=r;s=t[e],r=s+"",n=Zt-r.length,n&&(a+=El(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ho=(function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%sr|0,s=a/sr|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,u;if(a!=s)u=a>s?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*sr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,u,d,f,p,y,v,T,k,S,C,R,I,L,F,j,P,U,M=r.constructor,B=r.s==i.s?1:-1,V=r.d,q=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(ya+"Division by zero");for(u=r.e-i.e,P=q.length,F=V.length,v=new M(B),T=v.d=[],d=0;q[d]==(V[d]||0);)++d;if(q[d]>(V[d]||0)&&--u,a==null?R=a=M.precision:s?R=a+(qn(r)-qn(i))+1:R=a,R<0)return new M(0);if(R=R/Zt+2|0,d=0,P==1)for(f=0,q=q[0],R++;(d<F||f)&&R--;d++)I=f*sr+(V[d]||0),T[d]=I/q|0,f=I%q|0;else{for(f=sr/(q[0]+1)|0,f>1&&(q=t(q,f),V=t(V,f),P=q.length,F=V.length),L=P,k=V.slice(0,P),S=k.length;S<P;)k[S++]=0;U=q.slice(),U.unshift(0),j=q[0],q[1]>=sr/2&&++j;do f=0,l=e(q,k,P,S),l<0?(C=k[0],P!=S&&(C=C*sr+(k[1]||0)),f=C/j|0,f>1?(f>=sr&&(f=sr-1),p=t(q,f),y=p.length,S=k.length,l=e(p,k,y,S),l==1&&(f--,n(p,P<y?U:q,y))):(f==0&&(l=f=1),p=q.slice()),y=p.length,y<S&&p.unshift(0),n(k,p,S),l==-1&&(S=k.length,l=e(q,k,P,S),l<1&&(f++,n(k,P<S?U:q,S))),S=k.length):l===0&&(f++,k=[0]),T[d++]=f,l&&k[0]?k[S++]=V[L]||0:(k=[V[L]],S=1);while((L++<F||k[0]!==void 0)&&R--)}return T[0]||T.shift(),v.e=u,qt(v,s?a+qn(v)+1:a)}})();function q6(t,e){var n,r,i,a,s,l,u=0,d=0,f=t.constructor,p=f.precision;if(qn(t)>16)throw Error(Ik+qn(t));if(!t.s)return new f(ji);for(ln=!1,l=p,s=new f(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(r=Math.log(Lc(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new f(ji),f.precision=l;;){if(i=qt(i.times(t),l),n=n.times(++u),s=a.plus(ho(i,n,l)),bs(s.d).slice(0,l)===bs(a.d).slice(0,l)){for(;d--;)a=qt(a.times(a),l);return f.precision=p,e==null?(ln=!0,qt(a,p)):a}a=s}}function qn(t){for(var e=t.e*Zt,n=t.d[0];n>=10;n/=10)e++;return e}function R1(t,e,n){if(e>t.LN10.sd())throw ln=!0,n&&(t.precision=n),Error(ya+"LN10 precision limit exceeded");return qt(new t(t.LN10),e)}function El(t){for(var e="";t--;)e+="0";return e}function Sp(t,e){var n,r,i,a,s,l,u,d,f,p=1,y=10,v=t,T=v.d,k=v.constructor,S=k.precision;if(v.s<1)throw Error(ya+(v.s?"NaN":"-Infinity"));if(v.eq(ji))return new k(0);if(e==null?(ln=!1,d=S):d=e,v.eq(10))return e==null&&(ln=!0),R1(k,d);if(d+=y,k.precision=d,n=bs(T),r=n.charAt(0),a=qn(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=bs(v.d),r=n.charAt(0),p++;a=qn(v),r>1?(v=new k("0."+n),a++):v=new k(r+"."+n.slice(1))}else return u=R1(k,d+2,S).times(a+""),v=Sp(new k(r+"."+n.slice(1)),d-y).plus(u),k.precision=S,e==null?(ln=!0,qt(v,S)):v;for(l=s=v=ho(v.minus(ji),v.plus(ji),d),f=qt(v.times(v),d),i=3;;){if(s=qt(s.times(f),d),u=l.plus(ho(s,new k(i),d)),bs(u.d).slice(0,d)===bs(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(R1(k,d+2,S).times(a+""))),l=ho(l,new k(p),d),k.precision=S,e==null?(ln=!0,qt(l,S)):l;l=u,i+=2}}function vM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=of(n/Zt),t.d=[],r=(n+1)%Zt,n<0&&(r+=Zt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Zt;r<i;)t.d.push(+e.slice(r,r+=Zt));e=e.slice(r),r=Zt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ln&&(t.e>Lv||t.e<-Lv))throw Error(Ik+n)}else t.s=0,t.e=0,t.d=[0];return t}function qt(t,e,n){var r,i,a,s,l,u,d,f,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Zt,i=e,d=p[f=0];else{if(f=Math.ceil((r+1)/Zt),a=p.length,f>=a)return t;for(d=a=p[f],s=1;a>=10;a/=10)s++;r%=Zt,i=r-Zt+s}if(n!==void 0&&(a=Lc(10,s-i-1),l=d/a%10|0,u=e<0||p[f+1]!==void 0||d%a,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/Lc(10,s-i):0:p[f-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return u?(a=qn(t),p.length=1,e=e-a-1,p[0]=Lc(10,(Zt-e%Zt)%Zt),t.e=of(-e/Zt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=f,a=1,f--):(p.length=f+1,a=Lc(10,Zt-r),p[f]=i>0?(d/Lc(10,s-i)%Lc(10,i)|0)*a:0),u)for(;;)if(f==0){(p[0]+=a)==sr&&(p[0]=1,++t.e);break}else{if(p[f]+=a,p[f]!=sr)break;p[f--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(ln&&(t.e>Lv||t.e<-Lv))throw Error(Ik+qn(t));return t}function $6(t,e){var n,r,i,a,s,l,u,d,f,p,y=t.constructor,v=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),ln?qt(e,v):e;if(u=t.d,p=e.d,r=e.e,d=t.e,u=u.slice(),s=d-r,s){for(f=s<0,f?(n=u,s=-s,l=p.length):(n=p,r=d,l=u.length),i=Math.max(Math.ceil(v/Zt),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){f=u[i]<p[i];break}s=0}for(f&&(n=u,u=p,p=n,e.s=-e.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>s;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=sr-1;--u[a],u[i]+=sr}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,ln?qt(e,v):e):new y(0)}function Xc(t,e,n){var r,i=qn(t),a=bs(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+El(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+El(-i-1)+a,n&&(r=n-s)>0&&(a+=El(r))):i>=s?(a+=El(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+El(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=El(r))),t.s<0?"-"+a:a}function bM(t,e){if(t.length>e)return t.length=e,!0}function H6(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Gc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return vM(s,a.toString())}else if(typeof a!="string")throw Error(Gc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,QZ.test(a))vM(s,a);else throw Error(Gc+a)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=H6,i.config=i.set=ZZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ZZ(t){if(!t||typeof t!="object")throw Error(ya+"Object expected");var e,n,r,i=["precision",1,sf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(of(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Gc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Gc+n+": "+r);return this}var Nk=H6(XZ);ji=new Nk(1);const Mt=Nk;var eee=t=>t,G6={},K6=t=>t===G6,xM=t=>function e(){return arguments.length===0||arguments.length===1&&K6(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Y6=(t,e)=>t===1?e:xM(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==G6).length;return a>=t?e(...r):Y6(t-a,xM(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=r.map(f=>K6(f)?l.shift():f);return e(...d,...l)}))}),tee=t=>Y6(t.length,t),bS=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},nee=tee((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),ree=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return eee;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((l,u)=>u(l),a(...arguments))}},xS=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function W6(t){var e;return t===0?e=1:e=Math.floor(new Mt(t).abs().log(10).toNumber())+1,e}function J6(t,e,n){for(var r=new Mt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var X6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},Q6=(t,e,n)=>{if(t.lte(0))return new Mt(0);var r=W6(t.toNumber()),i=new Mt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new Mt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),u=l.mul(i);return e?new Mt(u.toNumber()):new Mt(Math.ceil(u.toNumber()))},iee=(t,e,n)=>{var r=new Mt(1),i=new Mt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Mt(10).pow(W6(t)-1),i=new Mt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Mt(Math.floor(t)))}else t===0?i=new Mt(Math.floor((e-1)/2)):n||(i=new Mt(Math.floor(t)));var s=Math.floor((e-1)/2),l=ree(nee(u=>i.add(new Mt(u-s).mul(r)).toNumber()),bS);return l(0,e)},Z6=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var s=Q6(new Mt(n).sub(e).div(r-1),i,a),l;e<=0&&n>=0?l=new Mt(0):(l=new Mt(e).add(n).div(2),l=l.sub(new Mt(l).mod(s)));var u=Math.ceil(l.sub(e).div(s).toNumber()),d=Math.ceil(new Mt(n).sub(l).div(s).toNumber()),f=u+d+1;return f>r?Z6(e,n,r,i,a+1):(f<r&&(d=n>0?d+(r-f):d,u=n>0?u:u+(r-f)),{step:s,tickMin:l.sub(new Mt(u).mul(s)),tickMax:l.add(new Mt(d).mul(s))})},aee=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[l,u]=X6([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...bS(0,i-1).map(()=>1/0)]:[...bS(0,i-1).map(()=>-1/0),u];return n>r?xS(d):d}if(l===u)return iee(l,i,a);var{step:f,tickMin:p,tickMax:y}=Z6(l,u,s,a,0),v=J6(p,y.add(new Mt(.1).mul(f)),f);return n>r?xS(v):v},see=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=X6([r,i]);if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var u=Math.max(n,2),d=Q6(new Mt(l).sub(s).div(u-1),a,0),f=[...J6(new Mt(s),new Mt(l),d),l];return a===!1&&(f=f.map(p=>Math.round(p))),r>i?xS(f):f},eV=t=>t.rootProps.maxBarSize,oee=t=>t.rootProps.barGap,tV=t=>t.rootProps.barCategoryGap,lee=t=>t.rootProps.barSize,fb=t=>t.rootProps.stackOffset,nV=t=>t.rootProps.reverseStackOrder,Rk=t=>t.options.chartName,Pk=t=>t.rootProps.syncId,rV=t=>t.rootProps.syncMethod,Dk=t=>t.options.eventEmitter,ur={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},io={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Li={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},hb=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},cee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:io.angleAxisId,includeHidden:!1,name:void 0,reversed:io.reversed,scale:io.scale,tick:io.tick,tickCount:void 0,ticks:void 0,type:io.type,unit:void 0},uee={allowDataOverflow:Li.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Li.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Li.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Li.scale,tick:Li.tick,tickCount:Li.tickCount,ticks:void 0,type:Li.type,unit:void 0},dee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:io.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:io.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:io.scale,tick:io.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fee={allowDataOverflow:Li.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Li.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Li.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Li.scale,tick:Li.tick,tickCount:Li.tickCount,ticks:void 0,type:"category",unit:void 0},Mk=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?dee:cee,Ok=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?fee:uee,pb=t=>t.polarOptions,Lk=de([No,Ro,fr],sX),iV=de([pb,Lk],(t,e)=>{if(t!=null)return Ua(t.innerRadius,e,0)}),aV=de([pb,Lk],(t,e)=>{if(t!=null)return Ua(t.outerRadius,e,e*.8)}),hee=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},sV=de([pb],hee);de([Mk,sV],hb);var oV=de([Lk,iV,aV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});de([Ok,oV],hb);var lV=de([At,pb,iV,aV,No,Ro],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:l,startAngle:u,endAngle:d}=e;return{cx:Ua(s,i,i/2),cy:Ua(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),Xn=(t,e)=>e,mb=(t,e,n)=>n;function jk(t){return t==null?void 0:t.id}function cV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var f=jk(l);d.forEach((p,y)=>{var v=a==null||i?y:String(Yn(p,a,null)),T=Yn(p,l.dataKey,0),k;s.has(v)?k=s.get(v):k={},Object.assign(k,{[f]:T}),s.set(v,k)})}}),Array.from(s.values())}function gb(t){return t.stackId!=null&&t.dataKey!=null}var yb=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function vb(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function pee(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Qn=t=>{var e=At(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},lf=t=>t.tooltip.settings.axisId;function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mee(t,e,n){return(e=gee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gee(t){var e=yee(t,"string");return typeof e=="symbol"?e:e+""}function yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _S=[0,"auto"],ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},uV=(t,e)=>t.cartesianAxis.xAxis[e],Do=(t,e)=>{var n=uV(t,e);return n??ir},ar={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:_S,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Yp},dV=(t,e)=>t.cartesianAxis.yAxis[e],Mo=(t,e)=>{var n=dV(t,e);return n??ar},vee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Uk=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??vee},ei=(t,e,n)=>{switch(e){case"xAxis":return Do(t,n);case"yAxis":return Mo(t,n);case"zAxis":return Uk(t,n);case"angleAxis":return Mk(t,n);case"radiusAxis":return Ok(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},bee=(t,e,n)=>{switch(e){case"xAxis":return Do(t,n);case"yAxis":return Mo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},nm=(t,e,n)=>{switch(e){case"xAxis":return Do(t,n);case"yAxis":return Mo(t,n);case"angleAxis":return Mk(t,n);case"radiusAxis":return Ok(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},fV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function hV(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var bb=t=>t.graphicalItems.cartesianItems,xee=de([Xn,mb],hV),pV=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),rm=de([bb,ei,xee],pV,{memoizeOptions:{resultEqualityCheck:vb}}),mV=de([rm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(gb)),gV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),_ee=de([rm],gV),yV=t=>t.map(e=>e.data).filter(Boolean).flat(1),wee=de([rm],yV,{memoizeOptions:{resultEqualityCheck:vb}}),vV=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Vk=de([wee,db],vV),bV=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Yn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Yn(i,r)}))):t.map(r=>({value:r})),xb=de([Vk,ei,rm],bV);function xV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function By(t){if(Ns(t)||t instanceof Date){var e=Number(t);if(kn(e))return e}}function wM(t){if(Array.isArray(t)){var e=[By(t[0]),By(t[1])];return Bl(e)?e:void 0}var n=By(t);if(n!=null)return[n,n]}function _o(t){return t.map(By).filter(DG)}function Eee(t,e,n){return!n||typeof e!="number"||ja(e)?[]:n.length?_o(n.flatMap(r=>{var i=Yn(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!kn(a)||!kn(s)))return[e-a,e+s]})):[]}var Zn=t=>{var e=Qn(t),n=lf(t);return nm(t,e,n)},im=de([Zn],t=>t==null?void 0:t.dataKey),See=de([mV,db,Zn],cV),_V=(t,e,n,r)=>{var i={},a=e.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[l,u]=s,d=r?[...u].reverse():u,f=d.map(jk);return[l,{stackedData:QY(t,f,n),graphicalItems:d}]}))},wS=de([See,mV,fb,nV],_V),wV=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=rW(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Tee=de([ei],t=>t.allowDataOverflow),Fk=t=>{var e;if(t==null||!("domain"in t))return _S;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=_o(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:_S},EV=de([ei],Fk),SV=de([EV,Tee],F6),kee=de([wS,rc,Xn,SV],wV,{memoizeOptions:{resultEqualityCheck:yb}}),zk=t=>t.errorBars,Aee=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>xV(n,r)),Uv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},TV=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(l=>{n.forEach(u=>{var d,f,p=(d=r[u.id])===null||d===void 0?void 0:d.filter(C=>xV(i,C)),y=Yn(l,(f=e.dataKey)!==null&&f!==void 0?f:u.dataKey),v=Eee(l,y,p);if(v.length>=2){var T=Math.min(...v),k=Math.max(...v);(a==null||T<a)&&(a=T),(s==null||k>s)&&(s=k)}var S=wM(y);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),s=s==null?S[1]:Math.max(s,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(l=>{var u=wM(Yn(l,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),kn(a)&&kn(s))return[a,s]},Cee=de([Vk,ei,_ee,zk,Xn],TV,{memoizeOptions:{resultEqualityCheck:yb}});function Iee(t){var{value:e}=t;if(Ns(e)||e instanceof Date)return e}var Nee=(t,e,n)=>{var r=t.map(Iee).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&j5(r))?a6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},kV=t=>t.referenceElements.dots,cf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Ree=de([kV,Xn,mb],cf),AV=t=>t.referenceElements.areas,Pee=de([AV,Xn,mb],cf),CV=t=>t.referenceElements.lines,Dee=de([CV,Xn,mb],cf),IV=(t,e)=>{var n=_o(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Mee=de(Ree,Xn,IV),NV=(t,e)=>{var n=_o(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Oee=de([Pee,Xn],NV);function Lee(t){var e;if(t.x!=null)return _o([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:_o(n)}function jee(t){var e;if(t.y!=null)return _o([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:_o(n)}var RV=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?Lee(r):jee(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Uee=de([Dee,Xn],RV),Vee=de(Mee,Uee,Oee,(t,e,n)=>Uv(t,n,e)),PV=(t,e,n,r,i,a,s,l)=>{if(n!=null)return n;var u=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",d=u?Uv(r,a,i):Uv(a,i);return JZ(e,d,t.allowDataOverflow)},Fee=de([ei,EV,SV,kee,Cee,Vee,At,Xn],PV,{memoizeOptions:{resultEqualityCheck:yb}}),zee=[0,1],DV=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:u}=t,d=ec(e,a);if(d&&l==null){var f;return a6(0,(f=n==null?void 0:n.length)!==null&&f!==void 0?f:0)}return u==="category"?Nee(r,t,d):i==="expand"?zee:s}},Bk=de([ei,At,Vk,xb,fb,Xn,Fee],DV),MV=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(qp(a));return l in qh?l:"point"}}},am=de([ei,At,fV,Rk,Xn],MV);function Bee(t){if(t!=null){if(t in qh)return qh[t]();var e="scale".concat(qp(t));if(e in qh)return qh[e]()}}function qk(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Bee(e);if(i!=null){var a=i.domain(n).range(r);return KY(a),a}}}var OV=(t,e,n)=>{var r=Fk(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Bl(t))return aee(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Bl(t))return see(t,e.tickCount,e.allowDecimals)}},$k=de([Bk,nm,am],OV),LV=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Bl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],l=n[n.length-1];return[Math.min(i,a),Math.max(s,l)]}return e},qee=de([ei,Bk,$k,Xn],LV),$ee=de(xb,ei,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(_o(t.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),jV=de($ee,At,tV,fr,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!kn(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Ua(n,t*a),l=t*a/2;return l-s-(l-s)/a*s}return 0}),Hee=(t,e)=>{var n=Do(t,e);return n==null||typeof n.padding!="string"?0:jV(t,"xAxis",e,n.padding)},Gee=(t,e)=>{var n=Mo(t,e);return n==null||typeof n.padding!="string"?0:jV(t,"yAxis",e,n.padding)},Kee=de(Do,Hee,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Yee=de(Mo,Gee,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Wee=de([fr,Kee,X0,J0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Jee=de([fr,At,Yee,X0,J0,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),sm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Wee(t,n,r);case"yAxis":return Jee(t,n,r);case"zAxis":return(i=Uk(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return sV(t);case"radiusAxis":return oV(t,n);default:return}},UV=de([ei,sm],hb),uf=de([ei,am,qee,UV],qk);de([rm,zk,Xn],Aee);function VV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var _b=(t,e)=>e,wb=(t,e,n)=>n,Xee=de(Y0,_b,wb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(VV)),Qee=de(W0,_b,wb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(VV)),FV=(t,e)=>({width:t.width,height:e.height}),Zee=(t,e)=>{var n=typeof e.width=="number"?e.width:Yp;return{width:n,height:t.height}},zV=de(fr,Do,FV),ete=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},tte=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},nte=de(Ro,fr,Xee,_b,wb,(t,e,n,r,i)=>{var a={},s;return n.forEach(l=>{var u=FV(e,l);s==null&&(s=ete(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[l.id]=s-Number(d)*u.height,s+=(d?-1:1)*u.height}),a}),rte=de(No,fr,Qee,_b,wb,(t,e,n,r,i)=>{var a={},s;return n.forEach(l=>{var u=Zee(e,l);s==null&&(s=tte(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[l.id]=s-Number(d)*u.width,s+=(d?-1:1)*u.width}),a}),ite=(t,e)=>{var n=Do(t,e);if(n!=null)return nte(t,n.orientation,n.mirror)},ate=de([fr,Do,ite,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),ste=(t,e)=>{var n=Mo(t,e);if(n!=null)return rte(t,n.orientation,n.mirror)},ote=de([fr,Mo,ste,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),BV=de(fr,Mo,(t,e)=>{var n=typeof e.width=="number"?e.width:Yp;return{width:n,height:t.height}}),EM=(t,e,n)=>{switch(e){case"xAxis":return zV(t,n).width;case"yAxis":return BV(t,n).height;default:return}},qV=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,l=ec(t,r),u=e.map(d=>d.value);if(s&&l&&a==="category"&&i&&j5(u))return u}},Hk=de([At,xb,ei,Xn],qV),$V=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=ec(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},Gk=de([At,xb,nm,Xn],$V),SM=de([At,bee,am,uf,Hk,Gk,sm,$k,Xn],(t,e,n,r,i,a,s,l,u)=>{if(e!=null){var d=ec(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:s,realScaleType:n,scale:r}}}),lte=(t,e,n,r,i,a,s,l,u)=>{if(!(e==null||r==null)){var d=ec(t,u),{type:f,ticks:p,tickCount:y}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=f==="category"&&r.bandwidth?r.bandwidth()/v:0;T=u==="angleAxis"&&a!=null&&a.length>=2?mi(a[0]-a[1])*2*T:T;var k=p||i;if(k){var S=k.map((C,R)=>{var I=s?s.indexOf(C):C;return{index:R,coordinate:r(I)+T,value:C,offset:T}});return S.filter(C=>kn(C.coordinate))}return d&&l?l.map((C,R)=>({coordinate:r(C)+T,value:C,index:R,offset:T})).filter(C=>kn(C.coordinate)):r.ticks?r.ticks(y).map(C=>({coordinate:r(C)+T,value:C,offset:T})):r.domain().map((C,R)=>({coordinate:r(C)+T,value:s?s[C]:C,index:R,offset:T}))}},HV=de([At,nm,am,uf,$k,sm,Hk,Gk,Xn],lte),cte=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=ec(t,s),{tickCount:u}=e,d=0;return d=s==="angleAxis"&&(r==null?void 0:r.length)>=2?mi(r[0]-r[1])*2*d:d,l&&a?a.map((f,p)=>({coordinate:n(f)+d,value:f,index:p,offset:d})):n.ticks?n.ticks(u).map(f=>({coordinate:n(f)+d,value:f,offset:d})):n.domain().map((f,p)=>({coordinate:n(f)+d,value:i?i[f]:f,index:p,offset:d}))}},ql=de([At,nm,uf,sm,Hk,Gk,Xn],cte),$l=de(ei,uf,(t,e)=>{if(!(t==null||e==null))return jv(jv({},t),{},{scale:e})}),ute=de([ei,am,Bk,UV],qk);de((t,e,n)=>Uk(t,n),ute,(t,e)=>{if(!(t==null||e==null))return jv(jv({},t),{},{scale:e})});var dte=de([At,Y0,W0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),GV=t=>t.options.defaultTooltipEventType,KV=t=>t.options.validateTooltipEventTypes;function YV(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Kk(t,e){var n=GV(t),r=KV(t);return YV(e,n,r)}function fte(t){return ze(e=>Kk(e,t))}var WV=(t,e)=>{var n,r=Number(e);if(!(ja(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},hte=t=>t.tooltip.settings,kl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},pte={itemInteraction:{click:kl,hover:kl},axisInteraction:{click:kl,hover:kl},keyboardInteraction:kl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},JV=_i({name:"tooltip",initialState:pte,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:on()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Oa(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:on()},removeTooltipEntrySettings:{reducer(t,e){var n=Oa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:on()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:mte,replaceTooltipEntrySettings:gte,removeTooltipEntrySettings:yte,setTooltipSettingsState:vte,setActiveMouseOverItemIndex:XV,mouseLeaveItem:bte,mouseLeaveChart:QV,setActiveClickItemIndex:xte,setMouseOverAxisIndex:ZV,setMouseClickAxisIndex:_te,setSyncInteraction:ES,setKeyboardInteraction:SS}=JV.actions,wte=JV.reducer;function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){Ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ete(t,e,n){return(e=Ste(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ste(t){var e=Tte(t,"string");return typeof e=="symbol"?e:e+""}function Tte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kte(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Ate(t){return t.index!=null}var eF=(t,e,n,r)=>{if(e==null)return kl;var i=kte(t,e,n);if(i==null)return kl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Ate(i)){if(a)return xy(xy({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return xy(xy({},kl),{},{coordinate:i.coordinate})};function Cte(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Ite(t,e){var n=Cte(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function Nte(t,e,n){if(n==null||e==null)return!0;var r=Yn(t,e);return r==null||!Bl(n)?!0:Ite(r,n)}var Yk=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!kn(a))return i;var s=0,l=1/0;e.length>0&&(l=e.length-1);var u=Math.max(s,Math.min(a,l)),d=e[u];return d==null||Nte(d,n,r)?String(u):null},tF=(t,e,n,r,i,a,s,l)=>{if(!(a==null||l==null)){var u=s[0],d=u==null?void 0:l(u.positions,a);if(d!=null)return d;var f=i==null?void 0:i[Number(a)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},nF=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},om=t=>t.options.tooltipPayloadSearcher,df=t=>t.tooltip;function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){Rte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rte(t,e,n){return(e=Pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pte(t){var e=Dte(t,"string");return typeof e=="symbol"?e:e+""}function Dte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mte(t,e){return t??e}var rF=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:f}=n,p=[];return t.reduce((y,v)=>{var T,{dataDefinedOnItem:k,settings:S}=v,C=Mte(k,l),R=Array.isArray(C)?NU(C,d,f):C,I=(T=S==null?void 0:S.dataKey)!==null&&T!==void 0?T:r,L=S==null?void 0:S.nameKey,F;if(r&&Array.isArray(R)&&!Array.isArray(R[0])&&s==="axis"?F=U5(R,r,i):F=a(R,e,u,L),Array.isArray(F))F.forEach(P=>{var U=AM(AM({},S),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});y.push(WP({tooltipEntrySettings:U,dataKey:P.dataKey,payload:P.payload,value:Yn(P.payload,P.dataKey),name:P.name}))});else{var j;y.push(WP({tooltipEntrySettings:S,dataKey:I,payload:F,value:Yn(F,I),name:(j=Yn(F,L))!==null&&j!==void 0?j:S==null?void 0:S.name}))}return y},p)}},Wk=de([Zn,At,fV,Rk,Qn],MV),Ote=de([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Lte=de([Qn,lf],hV),lm=de([Ote,Zn,Lte],pV,{memoizeOptions:{resultEqualityCheck:vb}}),jte=de([lm],t=>t.filter(gb)),Ute=de([lm],yV,{memoizeOptions:{resultEqualityCheck:vb}}),ff=de([Ute,rc],vV),Vte=de([jte,rc,Zn],cV),Jk=de([ff,Zn,lm],bV),iF=de([Zn],Fk),Fte=de([Zn],t=>t.allowDataOverflow),aF=de([iF,Fte],F6),zte=de([lm],t=>t.filter(gb)),Bte=de([Vte,zte,fb,nV],_V),qte=de([Bte,rc,Qn,aF],wV),$te=de([lm],gV),Hte=de([ff,Zn,$te,zk,Qn],TV,{memoizeOptions:{resultEqualityCheck:yb}}),Gte=de([kV,Qn,lf],cf),Kte=de([Gte,Qn],IV),Yte=de([AV,Qn,lf],cf),Wte=de([Yte,Qn],NV),Jte=de([CV,Qn,lf],cf),Xte=de([Jte,Qn],RV),Qte=de([Kte,Xte,Wte],Uv),Zte=de([Zn,iF,aF,qte,Hte,Qte,At,Qn],PV),cm=de([Zn,At,ff,Jk,fb,Qn,Zte],DV),ene=de([cm,Zn,Wk],OV),tne=de([Zn,cm,ene,Qn],LV),sF=t=>{var e=Qn(t),n=lf(t),r=!1;return sm(t,e,n,r)},oF=de([Zn,sF],hb),lF=de([Zn,Wk,tne,oF],qk),nne=de([At,Jk,Zn,Qn],qV),rne=de([At,Jk,Zn,Qn],$V),ine=(t,e,n,r,i,a,s,l)=>{if(e){var{type:u}=e,d=ec(t,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return p=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?mi(i[0]-i[1])*2*p:p,d&&s?s.map((y,v)=>({coordinate:r(y)+p,value:y,index:v,offset:p})):r.domain().map((y,v)=>({coordinate:r(y)+p,value:a?a[y]:y,index:v,offset:p}))}}},Oo=de([At,Zn,Wk,lF,sF,nne,rne,Qn],ine),Xk=de([GV,KV,hte],(t,e,n)=>YV(n.shared,t,e)),cF=t=>t.tooltip.settings.trigger,Qk=t=>t.tooltip.settings.defaultIndex,um=de([df,Xk,cF,Qk],eF),Qc=de([um,ff,im,cm],Yk),uF=de([Oo,Qc],WV),dF=de([um],t=>{if(t)return t.dataKey});de([um],t=>{if(t)return t.graphicalItemId});var fF=de([df,Xk,cF,Qk],nF),ane=de([No,Ro,At,fr,Oo,Qk,fF,om],tF),sne=de([um,ane],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),one=de([um],t=>t.active),lne=de([fF,Qc,rc,im,uF,om,Xk],rF),cne=de([lne],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){une(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function une(t,e,n){return(e=dne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dne(t){var e=fne(t,"string");return typeof e=="symbol"?e:e+""}function fne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hne=()=>ze(Zn),pne=()=>{var t=hne(),e=ze(Oo),n=ze(lF);return Ud(!t||!n?void 0:IM(IM({},t),{},{scale:n}),e)};function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function id(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){mne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mne(t,e,n){return(e=gne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gne(t){var e=yne(t,"string");return typeof e=="symbol"?e:e+""}function yne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vne=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},bne=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return id(id(id({},r),Sr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var l=i.coordinate,{angle:u}=r;return id(id(id({},r),Sr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function xne(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var hF=(t,e,n,r,i)=>{var a,s=-1,l=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,f=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,y=void 0;if(mi(f-d)!==mi(p-f)){var v=[];if(mi(p-f)===mi(i[1]-i[0])){y=p;var T=f+i[1]-i[0];v[0]=Math.min(T,(T+d)/2),v[1]=Math.max(T,(T+d)/2)}else{y=d;var k=p+i[1]-i[0];v[0]=Math.min(f,(k+f)/2),v[1]=Math.max(f,(k+f)/2)}var S=[Math.min(f,(y+f)/2),Math.max(f,(y+f)/2)];if(t>S[0]&&t<=S[1]||t>=v[0]&&t<=v[1]){({index:s}=n[u]);break}}else{var C=Math.min(d,p),R=Math.max(d,p);if(t>(C+f)/2&&t<=(R+f)/2){({index:s}=n[u]);break}}}else if(e){for(var I=0;I<l;I++)if(I===0&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I>0&&I<l-1&&t>(e[I].coordinate+e[I-1].coordinate)/2&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I===l-1&&t>(e[I].coordinate+e[I-1].coordinate)/2){({index:s}=e[I]);break}}return s},_ne=()=>ze(Rk),Zk=(t,e)=>e,pF=(t,e,n)=>n,eA=(t,e,n,r)=>r,wne=de(Oo,t=>U0(t,e=>e.coordinate)),tA=de([df,Zk,pF,eA],eF),nA=de([tA,ff,im,cm],Yk),Ene=(t,e,n)=>{if(e!=null){var r=df(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},mF=de([df,Zk,pF,eA],nF),Vv=de([No,Ro,At,fr,Oo,eA,mF,om],tF),Sne=de([tA,Vv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),gF=de([Oo,nA],WV),Tne=de([mF,nA,rc,im,gF,om,Zk],rF),kne=de([tA,nA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Ane=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&xne(t,s)){var l=iW(t,e),u=hF(l,a,i,n,r),d=vne(e,i,u,t);return{activeIndex:String(u),activeCoordinate:d}}},Cne=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var l=dX(t,n);if(l){var u=aW(l,e),d=hF(u,s,a,r,i),f=bne(e,a,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},Ine=(t,e,n,r,i,a,s,l)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?Ane(t,e,r,i,a,s,l):Cne(t,e,n,r,i,a,s)},Nne=de(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Rne=de(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(ur)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:pee}});function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){Pne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pne(t,e,n){return(e=Dne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dne(t){var e=Mne(t,"string");return typeof e=="symbol"?e:e+""}function Mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var One={},Lne={zIndexMap:Object.values(ur).reduce((t,e)=>PM(PM({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),One)},jne=new Set(Object.values(ur));function Une(t){return jne.has(t)}var yF=_i({name:"zIndex",initialState:Lne,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:on()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Une(n)&&delete t.zIndexMap[n])},prepare:on()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:on()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:on()}}}),{registerZIndexPortal:Vne,unregisterZIndexPortal:Fne,registerZIndexPortalId:zne,unregisterZIndexPortalId:Bne}=yF.actions,qne=yF.reducer;function _a(t){var{zIndex:e,children:n}=t,r=jW(),i=r&&e!==void 0&&e!==0,a=jr(),s=An();A.useLayoutEffect(()=>i?(s(Vne({zIndex:e})),()=>{s(Fne({zIndex:e}))}):$p,[s,e,i]);var l=ze(d=>Nne(d,e,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?Vc.createPortal(n,u):null}function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TS.apply(null,arguments)}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){$ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ne(t,e,n){return(e=Hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hne(t){var e=Gne(t,"string");return typeof e=="symbol"?e:e+""}function Gne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kne(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return A.isValidElement(e)?A.cloneElement(e,r):A.createElement(n,r)}function Yne(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:d,chartName:f}=t,p=n,y=r,v=i;if(!u||!p||f!=="ScatterChart"&&d!=="axis")return null;var T,k,S;if(f==="ScatterChart")T=p,k=TJ,S=ur.cursorLine;else if(f==="BarChart")T=kJ(l,p,a,s),k=t6,S=ur.cursorRectangle;else if(l==="radial"&&z5(p)){var{cx:C,cy:R,radius:I,startAngle:L,endAngle:F}=n6(p);T={cx:C,cy:R,startAngle:L,endAngle:F,innerRadius:I,outerRadius:I},k=i6,S=ur.cursorLine}else T={points:mX(l,p,a)},k=JU,S=ur.cursorLine;var j=typeof u=="object"&&"className"in u?u.className:void 0,P=_y(_y(_y(_y({stroke:"#ccc",pointerEvents:"none"},a),T),Bp(u)),{},{payload:y,payloadIndex:v,className:It("recharts-tooltip-cursor",j)});return A.createElement(_a,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},A.createElement(Kne,{cursor:u,cursorComp:k,cursorProps:P}))}function Wne(t){var e=pne(),n=VU(),r=Wp(),i=_ne();return e==null||n==null||r==null||i==null?null:A.createElement(Yne,TS({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var vF=A.createContext(null),Jne=()=>A.useContext(vF),P1={exports:{}},MM;function Xne(){return MM||(MM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function a(u,d,f,p,y){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||u,y),T=n?n+d:d;return u._events[T]?u._events[T].fn?u._events[T]=[u._events[T],v]:u._events[T].push(v):(u._events[T]=v,u._eventsCount++),u}function s(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)e.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,v=p.length,T=new Array(v);y<v;y++)T[y]=p[y].fn;return T},l.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,y,v,T){var k=n?n+d:d;if(!this._events[k])return!1;var S=this._events[k],C=arguments.length,R,I;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),C){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,f),!0;case 3:return S.fn.call(S.context,f,p),!0;case 4:return S.fn.call(S.context,f,p,y),!0;case 5:return S.fn.call(S.context,f,p,y,v),!0;case 6:return S.fn.call(S.context,f,p,y,v,T),!0}for(I=1,R=new Array(C-1);I<C;I++)R[I-1]=arguments[I];S.fn.apply(S.context,R)}else{var L=S.length,F;for(I=0;I<L;I++)switch(S[I].once&&this.removeListener(d,S[I].fn,void 0,!0),C){case 1:S[I].fn.call(S[I].context);break;case 2:S[I].fn.call(S[I].context,f);break;case 3:S[I].fn.call(S[I].context,f,p);break;case 4:S[I].fn.call(S[I].context,f,p,y);break;default:if(!R)for(F=1,R=new Array(C-1);F<C;F++)R[F-1]=arguments[F];S[I].fn.apply(S[I].context,R)}}return!0},l.prototype.on=function(d,f,p){return a(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return a(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,y){var v=n?n+d:d;if(!this._events[v])return this;if(!f)return s(this,v),this;var T=this._events[v];if(T.fn)T.fn===f&&(!y||T.once)&&(!p||T.context===p)&&s(this,v);else{for(var k=0,S=[],C=T.length;k<C;k++)(T[k].fn!==f||y&&!T[k].once||p&&T[k].context!==p)&&S.push(T[k]);S.length?this._events[v]=S.length===1?S[0]:S:s(this,v)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(P1)),P1.exports}var Qne=Xne();const Zne=ba(Qne);var Tp=new Zne,kS="recharts.syncEvent.tooltip",OM="recharts.syncEvent.brush";function bF(t,e){if(e){var n=Number.parseInt(e,10);if(!ja(n))return t==null?void 0:t[n]}}var ere={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},xF=_i({name:"options",initialState:ere,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),tre=xF.reducer,{createEventEmitter:nre}=xF.actions;function rre(t){return t.tooltip.syncInteraction}var ire={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},_F=_i({name:"chartData",initialState:ire,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:LM,setDataStartEndIndexes:are,setComputedData:OMe}=_F.actions,sre=_F.reducer,ore=["x","y"];function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ad(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lre(t,e,n){return(e=cre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cre(t){var e=ure(t,"string");return typeof e=="symbol"?e:e+""}function ure(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dre(t,e){if(t==null)return{};var n,r,i=fre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hre(){var t=ze(Pk),e=ze(Dk),n=An(),r=ze(rV),i=ze(Oo),a=Wp(),s=Q0(),l=ze(u=>u.rootProps.className);A.useEffect(()=>{if(t==null)return $p;var u=(d,f,p)=>{if(e!==p&&t===d){if(r==="index"){var y;if(s&&f!==null&&f!==void 0&&(y=f.payload)!==null&&y!==void 0&&y.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x:T,y:k}=v,S=dre(v,ore),{x:C,y:R,width:I,height:L}=f.payload.sourceViewBox,F=ad(ad({},S),{},{x:s.x+(I?(T-C)/I:0)*s.width,y:s.y+(L?(k-R)/L:0)*s.height});n(ad(ad({},f),{},{payload:ad(ad({},f.payload),{},{coordinate:F})}))}else n(f);return}if(i!=null){var j;if(typeof r=="function"){var P={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},U=r(i,P);j=i[U]}else r==="value"&&(j=i.find(J=>String(J.value)===f.payload.label));var{coordinate:M}=f.payload;if(j==null||f.payload.active===!1||M==null||s==null){n(ES({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:V}=M,q=Math.min(B,s.x+s.width),z=Math.min(V,s.y+s.height),le={x:a==="horizontal"?j.coordinate:q,y:a==="horizontal"?z:j.coordinate},X=ES({active:f.payload.active,coordinate:le,dataKey:f.payload.dataKey,index:String(j.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(X)}}};return Tp.on(kS,u),()=>{Tp.off(kS,u)}},[l,n,e,t,r,i,a,s])}function pre(){var t=ze(Pk),e=ze(Dk),n=An();A.useEffect(()=>{if(t==null)return $p;var r=(i,a,s)=>{e!==s&&t===i&&n(are(a))};return Tp.on(OM,r),()=>{Tp.off(OM,r)}},[n,e,t])}function mre(){var t=An();A.useEffect(()=>{t(nre())},[t]),hre(),pre()}function gre(t,e,n,r,i,a){var s=ze(v=>Ene(v,t,e)),l=ze(Dk),u=ze(Pk),d=ze(rV),f=ze(rre),p=f==null?void 0:f.active,y=Q0();A.useEffect(()=>{if(!p&&u!=null&&l!=null){var v=ES({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Tp.emit(kS,u,v,l)}},[p,n,s,i,r,l,u,d,a,y])}function UM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UM(Object(n),!0).forEach(function(r){yre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yre(t,e,n){return(e=vre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vre(t){var e=bre(t,"string");return typeof e=="symbol"?e:e+""}function bre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xre(t){return t.dataKey}function _re(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(iJ,e)}var FM=[],wre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wF(t){var e,n,r=Zr(t,wre),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:l,content:u,filterNull:d,isAnimationActive:f,offset:p,payloadUniqBy:y,position:v,reverseDirection:T,useTranslate3d:k,wrapperStyle:S,cursor:C,shared:R,trigger:I,defaultIndex:L,portal:F,axisId:j}=r,P=An(),U=typeof L=="number"?String(L):L;A.useEffect(()=>{P(vte({shared:R,trigger:I,axisId:j,active:i,defaultIndex:U}))},[P,R,I,j,i,U]);var M=Q0(),B=WU(),V=fte(R),{activeIndex:q,isActive:z}=(e=ze(Ie=>kne(Ie,V,I,U)))!==null&&e!==void 0?e:{},le=ze(Ie=>Tne(Ie,V,I,U)),X=ze(Ie=>gF(Ie,V,I,U)),J=ze(Ie=>Sne(Ie,V,I,U)),H=le,Z=Jne(),ne=(n=i??z)!==null&&n!==void 0?n:!1,[Y,$]=BK([H,ne]),te=V==="axis"?X:void 0;gre(V,I,J,te,q,ne);var K=F??Z;if(K==null||M==null||V==null)return null;var pe=H??FM;ne||(pe=FM),d&&pe.length&&(pe=pK(pe.filter(Ie=>Ie.value!=null&&(Ie.hide!==!0||r.includeHidden)),y,xre));var we=pe.length>0,Se=A.createElement(dJ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:f,active:ne,coordinate:J,hasPayload:we,offset:p,position:v,reverseDirection:T,useTranslate3d:k,viewBox:M,wrapperStyle:S,lastBoundingBox:Y,innerRef:$,hasPortalFromProps:!!F},_re(u,VM(VM({},r),{},{payload:pe,label:te,active:ne,activeIndex:q,coordinate:J,accessibilityLayer:B})));return A.createElement(A.Fragment,null,Vc.createPortal(Se,K),ne&&A.createElement(Wne,{cursor:C,tooltipEventType:V,coordinate:J,payload:pe,index:q}))}var EF=t=>null;EF.displayName="Cell";function Ere(t,e,n){return(e=Sre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sre(t){var e=Tre(t,"string");return typeof e=="symbol"?e:e+""}function Tre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class kre{constructor(e){Ere(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Are(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){Cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cre(t,e,n){return(e=Ire(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Nre(t,"string");return typeof e=="symbol"?e:e+""}function Nre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rre={cacheSize:2e3,enableCache:!0},SF=Are({},Rre),BM=new kre(SF.cacheSize),Pre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qM="recharts_measurement_span";function Dre(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l)}var $M=(t,e)=>{try{var n=document.getElementById(qM);n||(n=document.createElement("span"),n.setAttribute("id",qM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Pre,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Jh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xp.isSsr)return{width:0,height:0};if(!SF.enableCache)return $M(e,n);var r=Dre(e,n),i=BM.get(r);if(i)return i;var a=$M(e,n);return BM.set(r,a),a},HM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ore=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,TF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lre=Object.keys(TF),gd="NaN";function jre(t,e){return t*TF[e]}class fi{static parse(e){var n,[,r,i]=(n=Ore.exec(e))!==null&&n!==void 0?n:[];return new fi(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ja(e)&&(this.unit=""),n!==""&&!Mre.test(n)&&(this.num=NaN,this.unit=""),Lre.includes(n)&&(this.num=jre(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new fi(NaN,""):new fi(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new fi(NaN,""):new fi(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fi(NaN,""):new fi(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fi(NaN,""):new fi(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ja(this.num)}}function kF(t){if(t.includes(gd))return gd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=HM.exec(e))!==null&&n!==void 0?n:[],s=fi.parse(r??""),l=fi.parse(a??""),u=i==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return gd;e=e.replace(HM,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,p,y]=(d=GM.exec(e))!==null&&d!==void 0?d:[],v=fi.parse(f??""),T=fi.parse(y??""),k=p==="+"?v.add(T):v.subtract(T);if(k.isNaN())return gd;e=e.replace(GM,k.toString())}return e}var KM=/\(([^()]*)\)/;function Ure(t){for(var e=t,n;(n=KM.exec(e))!=null;){var[,r]=n;e=e.replace(KM,kF(r))}return e}function Vre(t){var e=t.replace(/\s+/g,"");return e=Ure(e),e=kF(e),e}function Fre(t){try{return Vre(t)}catch{return gd}}function D1(t){var e=Fre(t.slice(5,-1));return e===gd?"":e}var zre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Bre=["dx","dy","angle","className","breakAll"];function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AS.apply(null,arguments)}function YM(t,e){if(t==null)return{};var n,r,i=qre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var AF=/[ \f\n\r\t\v\u2028\u2029]+/,CF=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];cn(e)||(n?i=e.toString().split(""):i=e.toString().split(AF));var a=i.map(l=>({word:l,width:Jh(l,r).width})),s=n?0:Jh("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function $re(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var IF=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(e==null||r||u.width+l+n<Number(e)))u.words.push(s),u.width+=l+n;else{var d={words:[s],width:l};i.push(d)}return i},[]),NF=t=>t.reduce((e,n)=>e.width>n.width?e:n),Hre="",WM=(t,e,n,r,i,a,s,l)=>{var u=t.slice(0,e),d=CF({breakAll:n,style:r,children:u+Hre});if(!d)return[!1,[]];var f=IF(d.wordsWithComputedWidth,a,s,l),p=f.length>i||NF(f).width>Number(a);return[p,f]},Gre=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:l,breakAll:u}=t,d=Ve(a),f=String(s),p=IF(e,r,n,i);if(!d||i)return p;var y=p.length>a||NF(p).width>Number(r);if(!y)return p;for(var v=0,T=f.length-1,k=0,S;v<=T&&k<=f.length-1;){var C=Math.floor((v+T)/2),R=C-1,[I,L]=WM(f,R,u,l,a,r,n,i),[F]=WM(f,C,u,l,a,r,n,i);if(!I&&!F&&(v=C+1),I&&F&&(T=C-1),!I&&F){S=L;break}k++}return S||p},JM=t=>{var e=cn(t)?[]:t.toString().split(AF);return[{words:e,width:void 0}]},Kre=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!Xp.isSsr){var l,u,d=CF({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;l=f,u=p}else return JM(r);return Gre({breakAll:a,children:r,maxLines:s,style:i},l,u,e,!!n)}return JM(r)},RF="#808080",Yre={angle:0,breakAll:!1,capHeight:"0.71em",fill:RF,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},rA=A.forwardRef((t,e)=>{var n=Zr(t,Yre),{x:r,y:i,lineHeight:a,capHeight:s,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:f}=n,p=YM(n,zre),y=A.useMemo(()=>Kre({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:v,dy:T,angle:k,className:S,breakAll:C}=p,R=YM(p,Bre);if(!Ns(r)||!Ns(i)||y.length===0)return null;var I=Number(r)+(Ve(v)?v:0),L=Number(i)+(Ve(T)?T:0);if(!kn(I)||!kn(L))return null;var F;switch(f){case"start":F=D1("calc(".concat(s,")"));break;case"middle":F=D1("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:F=D1("calc(".concat(y.length-1," * -").concat(a,")"));break}var j=[];if(u){var P=y[0].width,{width:U}=p;j.push("scale(".concat(Ve(U)&&Ve(P)?U/P:1,")"))}return k&&j.push("rotate(".concat(k,", ").concat(I,", ").concat(L,")")),j.length&&(R.transform=j.join(" ")),A.createElement("text",AS({},Xr(R),{ref:e,x:I,y:L,className:It("recharts-text",S),textAnchor:d,fill:l.includes("url")?RF:l}),y.map((M,B)=>{var V=M.words.join(C?"":" ");return A.createElement("tspan",{x:I,dy:B===0?F:a,key:"".concat(V,"-").concat(B)},V)}))});rA.displayName="Text";var Wre=["labelRef"];function Jre(t,e){if(t==null)return{};var n,r,i=Xre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){Qre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qre(t,e,n){return(e=Zre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zre(t){var e=eie(t,"string");return typeof e=="symbol"?e:e+""}function eie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ao(){return ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ao.apply(null,arguments)}var PF=A.createContext(null),tie=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:l}=t,u=A.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return A.createElement(PF.Provider,{value:u},l)},DF=()=>{var t=A.useContext(PF),e=Q0();return t||UU(e)},nie=A.createContext(null),rie=()=>{var t=A.useContext(nie),e=ze(lV);return t||e},iie=t=>{var{value:e,formatter:n}=t,r=cn(t.children)?e:t.children;return typeof n=="function"?n(r):r},iA=t=>t!=null&&typeof t=="function",aie=(t,e)=>{var n=mi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},sie=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:l,cy:u,innerRadius:d,outerRadius:f,startAngle:p,endAngle:y,clockWise:v}=i,T=(d+f)/2,k=aie(p,y),S=k>=0?1:-1,C,R;switch(e){case"insideStart":C=p+S*a,R=v;break;case"insideEnd":C=y-S*a,R=!v;break;case"end":C=y+S*a,R=v;break;default:throw new Error("Unsupported position ".concat(e))}R=k<=0?R:!R;var I=Sr(l,u,T,C),L=Sr(l,u,T,C+(R?1:-1)*359),F="M".concat(I.x,",").concat(I.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(R?0:1,`,
    `).concat(L.x,",").concat(L.y),j=cn(t.id)?fp("recharts-radial-line-"):t.id;return A.createElement("text",ao({},r,{dominantBaseline:"central",className:It("recharts-radial-bar-label",s)}),A.createElement("defs",null,A.createElement("path",{id:j,d:F})),A.createElement("textPath",{xlinkHref:"#".concat(j)},n))},oie=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:l,endAngle:u}=t,d=(l+u)/2;if(n==="outside"){var{x:f,y:p}=Sr(r,i,s+e,d);return{x:f,y:p,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+s)/2,{x:v,y:T}=Sr(r,i,y,d);return{x:v,y:T,textAnchor:"middle",verticalAnchor:"middle"}},CS=t=>"cx"in t&&Ve(t.cx),lie=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!CS(n)&&(a=n);var{x:s,y:l,upperWidth:u,lowerWidth:d,height:f}=e,p=s,y=s+(u-d)/2,v=(p+y)/2,T=(u+d)/2,k=p+u/2,S=f>=0?1:-1,C=S*r,R=S>0?"end":"start",I=S>0?"start":"end",L=u>=0?1:-1,F=L*r,j=L>0?"end":"start",P=L>0?"start":"end";if(i==="top"){var U={x:p+u/2,y:l-C,textAnchor:"middle",verticalAnchor:R};return En(En({},U),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var M={x:y+d/2,y:l+f+C,textAnchor:"middle",verticalAnchor:I};return En(En({},M),a?{height:Math.max(a.y+a.height-(l+f),0),width:d}:{})}if(i==="left"){var B={x:v-F,y:l+f/2,textAnchor:j,verticalAnchor:"middle"};return En(En({},B),a?{width:Math.max(B.x-a.x,0),height:f}:{})}if(i==="right"){var V={x:v+T+F,y:l+f/2,textAnchor:P,verticalAnchor:"middle"};return En(En({},V),a?{width:Math.max(a.x+a.width-V.x,0),height:f}:{})}var q=a?{width:T,height:f}:{};return i==="insideLeft"?En({x:v+F,y:l+f/2,textAnchor:P,verticalAnchor:"middle"},q):i==="insideRight"?En({x:v+T-F,y:l+f/2,textAnchor:j,verticalAnchor:"middle"},q):i==="insideTop"?En({x:p+u/2,y:l+C,textAnchor:"middle",verticalAnchor:I},q):i==="insideBottom"?En({x:y+d/2,y:l+f-C,textAnchor:"middle",verticalAnchor:R},q):i==="insideTopLeft"?En({x:p+F,y:l+C,textAnchor:P,verticalAnchor:I},q):i==="insideTopRight"?En({x:p+u-F,y:l+C,textAnchor:j,verticalAnchor:I},q):i==="insideBottomLeft"?En({x:y+F,y:l+f-C,textAnchor:P,verticalAnchor:R},q):i==="insideBottomRight"?En({x:y+d-F,y:l+f-C,textAnchor:j,verticalAnchor:R},q):i&&typeof i=="object"&&(Ve(i.x)||go(i.x))&&(Ve(i.y)||go(i.y))?En({x:s+Ua(i.x,T),y:l+Ua(i.y,f),textAnchor:"end",verticalAnchor:"end"},q):En({x:k,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},q)},cie={angle:0,offset:5,zIndex:ur.label,position:"middle",textBreakAll:!1};function Sl(t){var e=Zr(t,cie),{viewBox:n,position:r,value:i,children:a,content:s,className:l="",textBreakAll:u,labelRef:d}=e,f=rie(),p=DF(),y=r==="center"?p:f??p,v,T,k;if(n==null?v=y:CS(n)?v=n:v=UU(n),!v||cn(i)&&cn(a)&&!A.isValidElement(s)&&typeof s!="function")return null;var S=En(En({},e),{},{viewBox:v});if(A.isValidElement(s)){var{labelRef:C}=S,R=Jre(S,Wre);return A.cloneElement(s,R)}if(typeof s=="function"){if(T=A.createElement(s,S),A.isValidElement(T))return T}else T=iie(e);var I=Xr(e);if(CS(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return sie(e,r,T,I,v);k=oie(v,e.offset,e.position)}else k=lie(e,v);return A.createElement(_a,{zIndex:e.zIndex},A.createElement(rA,ao({ref:d,className:It("recharts-label",l)},I,k,{textAnchor:$re(I.textAnchor)?I.textAnchor:k.textAnchor,breakAll:u}),T))}Sl.displayName="Label";var uie=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(Sl,ao({key:"label-implicit"},r)):Ns(t)?A.createElement(Sl,ao({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===Sl?A.cloneElement(t,En({key:"label-implicit"},r)):A.createElement(Sl,ao({key:"label-implicit",content:t},r)):iA(t)?A.createElement(Sl,ao({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(Sl,ao({},t,{key:"label-implicit"},r)):null};function die(t){var{label:e,labelRef:n}=t,r=DF();return uie(e,r,n)||null}var M1={},O1={},QM;function fie(){return QM||(QM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(O1)),O1}var L1={},ZM;function hie(){return ZM||(ZM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(L1)),L1}var eO;function pie(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fie(),n=hie(),r=GT();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(M1)),M1}var j1,tO;function mie(){return tO||(tO=1,j1=pie().last),j1}var gie=mie();const yie=ba(gie);var vie=["valueAccessor"],bie=["dataKey","clockWise","id","textBreakAll","zIndex"];function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(null,arguments)}function nO(t,e){if(t==null)return{};var n,r,i=xie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _ie=t=>Array.isArray(t.value)?yie(t.value):t.value,MF=A.createContext(void 0),OF=MF.Provider,LF=A.createContext(void 0);LF.Provider;function wie(){return A.useContext(MF)}function Eie(){return A.useContext(LF)}function qy(t){var{valueAccessor:e=_ie}=t,n=nO(t,vie),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:l}=n,u=nO(n,bie),d=wie(),f=Eie(),p=d||f;return!p||!p.length?null:A.createElement(_a,{zIndex:l??ur.label},A.createElement(ma,{className:"recharts-label-list"},p.map((y,v)=>{var T,k=cn(r)?e(y,v):Yn(y&&y.payload,r),S=cn(a)?{}:{id:"".concat(a,"-").concat(v)};return A.createElement(Sl,Fv({key:"label-".concat(v)},Xr(y),u,S,{fill:(T=n.fill)!==null&&T!==void 0?T:y.fill,parentViewBox:y.parentViewBox,value:k,textBreakAll:s,viewBox:y.viewBox,index:v,zIndex:0}))})))}qy.displayName="LabelList";function jF(t){var{label:e}=t;return e?e===!0?A.createElement(qy,{key:"labelList-implicit"}):A.isValidElement(e)||iA(e)?A.createElement(qy,{key:"labelList-implicit",content:e}):typeof e=="object"?A.createElement(qy,Fv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IS.apply(null,arguments)}var UF=t=>{var{cx:e,cy:n,r,className:i}=t,a=It("recharts-dot",i);return Ve(e)&&Ve(n)&&Ve(r)?A.createElement("circle",IS({},La(t),$T(t),{className:a,cx:e,cy:n,r})):null},Sie={radiusAxis:{},angleAxis:{}},VF=_i({name:"polarAxis",initialState:Sie,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:LMe,removeRadiusAxis:jMe,addAngleAxis:UMe,removeAngleAxis:VMe}=VF.actions,Tie=VF.reducer,U1={exports:{}},Vt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO;function kie(){if(rO)return Vt;rO=1;var t=60103,e=60106,n=60107,r=60108,i=60114,a=60109,s=60110,l=60112,u=60113,d=60120,f=60115,p=60116,y=60121,v=60122,T=60117,k=60129,S=60131;if(typeof Symbol=="function"&&Symbol.for){var C=Symbol.for;t=C("react.element"),e=C("react.portal"),n=C("react.fragment"),r=C("react.strict_mode"),i=C("react.profiler"),a=C("react.provider"),s=C("react.context"),l=C("react.forward_ref"),u=C("react.suspense"),d=C("react.suspense_list"),f=C("react.memo"),p=C("react.lazy"),y=C("react.block"),v=C("react.server.block"),T=C("react.fundamental"),k=C("react.debug_trace_mode"),S=C("react.legacy_hidden")}function R(z){if(typeof z=="object"&&z!==null){var le=z.$$typeof;switch(le){case t:switch(z=z.type,z){case n:case i:case r:case u:case d:return z;default:switch(z=z&&z.$$typeof,z){case s:case l:case p:case f:case a:return z;default:return le}}case e:return le}}}var I=a,L=t,F=l,j=n,P=p,U=f,M=e,B=i,V=r,q=u;return Vt.ContextConsumer=s,Vt.ContextProvider=I,Vt.Element=L,Vt.ForwardRef=F,Vt.Fragment=j,Vt.Lazy=P,Vt.Memo=U,Vt.Portal=M,Vt.Profiler=B,Vt.StrictMode=V,Vt.Suspense=q,Vt.isAsyncMode=function(){return!1},Vt.isConcurrentMode=function(){return!1},Vt.isContextConsumer=function(z){return R(z)===s},Vt.isContextProvider=function(z){return R(z)===a},Vt.isElement=function(z){return typeof z=="object"&&z!==null&&z.$$typeof===t},Vt.isForwardRef=function(z){return R(z)===l},Vt.isFragment=function(z){return R(z)===n},Vt.isLazy=function(z){return R(z)===p},Vt.isMemo=function(z){return R(z)===f},Vt.isPortal=function(z){return R(z)===e},Vt.isProfiler=function(z){return R(z)===i},Vt.isStrictMode=function(z){return R(z)===r},Vt.isSuspense=function(z){return R(z)===u},Vt.isValidElementType=function(z){return typeof z=="string"||typeof z=="function"||z===n||z===i||z===k||z===r||z===u||z===d||z===S||typeof z=="object"&&z!==null&&(z.$$typeof===p||z.$$typeof===f||z.$$typeof===a||z.$$typeof===s||z.$$typeof===l||z.$$typeof===T||z.$$typeof===y||z[0]===v)},Vt.typeOf=R,Vt}var iO;function Aie(){return iO||(iO=1,U1.exports=kie()),U1.exports}var Cie=Aie(),aO=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",sO=null,V1=null,FF=t=>{if(t===sO&&Array.isArray(V1))return V1;var e=[];return A.Children.forEach(t,n=>{cn(n)||(Cie.isFragment(n)?e=e.concat(FF(n.props.children)):e.push(n))}),V1=e,sO=t,e};function Iie(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>aO(i)):r=[aO(e)],FF(t).forEach(i=>{var a=Od(i,"type.displayName")||Od(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var zF=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,F1={},oO;function Nie(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(F1)),F1}var z1,lO;function Rie(){return lO||(lO=1,z1=Nie().isPlainObject),z1}var Pie=Rie();const Die=ba(Pie);function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){Mie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mie(t,e,n){return(e=Oie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oie(t){var e=Lie(t,"string");return typeof e=="symbol"?e:e+""}function Lie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(null,arguments)}var dO=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},jie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Uie=t=>{var e=Zr(t,jie),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:l}=e,{animationEasing:u,animationDuration:d,animationBegin:f,isUpdateAnimationActive:p}=e,y=A.useRef(null),[v,T]=A.useState(-1),k=A.useRef(i),S=A.useRef(a),C=A.useRef(s),R=A.useRef(n),I=A.useRef(r),L=ib(t,"trapezoid-");if(A.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var le=y.current.getTotalLength();le&&T(le)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var F=It("recharts-trapezoid",l);if(!p)return A.createElement("g",null,A.createElement("path",zv({},Xr(e),{className:F,d:dO(n,r,i,a,s)})));var j=k.current,P=S.current,U=C.current,M=R.current,B=I.current,V="0px ".concat(v===-1?1:v,"px"),q="".concat(v,"px 0px"),z=XU(["strokeDasharray"],d,u);return A.createElement(rb,{animationId:L,key:L,canBegin:v>0,duration:d,easing:u,isActive:p,begin:f},le=>{var X=mn(j,i,le),J=mn(P,a,le),H=mn(U,s,le),Z=mn(M,n,le),ne=mn(B,r,le);y.current&&(k.current=X,S.current=J,C.current=H,R.current=Z,I.current=ne);var Y=le>0?{transition:z,strokeDasharray:q}:{strokeDasharray:V};return A.createElement("path",zv({},Xr(e),{className:F,d:dO(Z,ne,X,J,H),ref:y,style:uO(uO({},Y),e.style)}))})},Vie=["option","shapeType","propTransformer","activeClassName"];function Fie(t,e){if(t==null)return{};var n,r,i=zie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){Bie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bie(t,e,n){return(e=qie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qie(t){var e=$ie(t,"string");return typeof e=="symbol"?e:e+""}function $ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hie(t,e){return Bv(Bv({},e),t)}function Gie(t,e){return t==="symbols"}function hO(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return A.createElement(t6,n);case"trapezoid":return A.createElement(Uie,n);case"sector":return A.createElement(i6,n);case"symbols":if(Gie(e))return A.createElement(F5,n);break;case"curve":return A.createElement(JU,n);default:return null}}function Kie(t){return A.isValidElement(t)?t.props:t}function BF(t){var{option:e,shapeType:n,propTransformer:r=Hie,activeClassName:i="recharts-active-shape"}=t,a=Fie(t,Vie),s;if(A.isValidElement(e))s=A.cloneElement(e,Bv(Bv({},a),Kie(e)));else if(typeof e=="function")s=e(a,a.index);else if(Die(e)&&typeof e!="boolean"){var l=r(e,a);s=A.createElement(hO,{shapeType:n,elementProps:l})}else{var u=a;s=A.createElement(hO,{shapeType:n,elementProps:u})}return a.isActive?A.createElement(ma,{className:i},s):s}var qF=(t,e,n)=>{var r=An();return(i,a)=>s=>{t==null||t(i,a,s),r(XV({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},$F=t=>{var e=An();return(n,r)=>i=>{t==null||t(n,r,i),e(bte())}},HF=(t,e,n)=>{var r=An();return(i,a)=>s=>{t==null||t(i,a,s),r(xte({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function GF(t){var{tooltipEntrySettings:e}=t,n=An(),r=jr(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(mte(e)):i.current!==e&&n(gte({prev:i.current,next:e})),i.current=e)},[e,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(yte(i.current)),i.current=null)},[n]),null}function KF(t){var{legendPayload:e}=t,n=An(),r=jr(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(JW(e)):i.current!==e&&n(XW({prev:i.current,next:e})),i.current=e)},[n,r,e]),A.useLayoutEffect(()=>()=>{i.current&&(n(QW(i.current)),i.current=null)},[n]),null}var B1,Yie=()=>{var[t]=A.useState(()=>fp("uid-"));return t},Wie=(B1=I7.useId)!==null&&B1!==void 0?B1:Yie;function YF(t,e){var n=Wie();return e||(t?"".concat(t,"-").concat(n):n)}var Jie=A.createContext(void 0),WF=t=>{var{id:e,type:n,children:r}=t,i=YF("recharts-".concat(n),e);return A.createElement(Jie.Provider,{value:i},r(i))},Xie={cartesianItems:[],polarItems:[]},JF=_i({name:"graphicalItems",initialState:Xie,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:on()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Oa(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:on()},removeCartesianGraphicalItem:{reducer(t,e){var n=Oa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:on()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:on()},removePolarGraphicalItem:{reducer(t,e){var n=Oa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:on()}}}),{addCartesianGraphicalItem:Qie,replaceCartesianGraphicalItem:Zie,removeCartesianGraphicalItem:eae,addPolarGraphicalItem:FMe,removePolarGraphicalItem:zMe}=JF.actions,tae=JF.reducer,nae=t=>{var e=An(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(Qie(t)):n.current!==t&&e(Zie({prev:n.current,next:t})),n.current=t},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(e(eae(n.current)),n.current=null)},[e]),null},XF=A.memo(nae),rae=["points"];function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){iae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iae(t,e,n){return(e=aae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aae(t){var e=sae(t,"string");return typeof e=="symbol"?e:e+""}function sae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qv.apply(null,arguments)}function oae(t,e){if(t==null)return{};var n,r,i=lae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cae(t){var{option:e,dotProps:n,className:r}=t;if(A.isValidElement(e))return A.cloneElement(e,n);if(typeof e=="function")return e(n);var i=It(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,l=oae(a,rae);return A.createElement(UF,qv({},l,{className:i}))}function uae(t,e){return t==null?!1:e?!0:t.length===1}function dae(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:l,clipPathId:u,zIndex:d=ur.scatter}=t;if(!uae(e,n))return null;var f=zF(n),p=z7(n),y=e.map((T,k)=>{var S,C,R=q1(q1(q1({r:3},s),p),{},{index:k,cx:(S=T.x)!==null&&S!==void 0?S:void 0,cy:(C=T.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:T.value,payload:T.payload,points:e});return A.createElement(cae,{key:"dot-".concat(k),option:n,dotProps:R,className:i})}),v={};return l&&u!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),A.createElement(_a,{zIndex:d},A.createElement(ma,qv({className:r},v),y))}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fae(t,e,n){return(e=hae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hae(t){var e=pae(t,"string");return typeof e=="symbol"?e:e+""}function pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mae={xAxis:{},yAxis:{},zAxis:{}},QF=_i({name:"cartesianAxis",initialState:mae,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:on()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:on()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:on()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:on()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:on()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:on()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:on()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:on()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:on()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=gO(gO({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:gae,replaceXAxis:yae,removeXAxis:vae,addYAxis:bae,replaceYAxis:xae,removeYAxis:_ae,addZAxis:BMe,replaceZAxis:qMe,removeZAxis:$Me,updateYAxisWidth:wae}=QF.actions,Eae=QF.reducer,Sae=de([fr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Tae=de([Sae,No,Ro],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),aA=()=>ze(Tae),kae=()=>ze(cne);function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){Aae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aae(t,e,n){return(e=Cae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cae(t){var e=Iae(t,"string");return typeof e=="symbol"?e:e+""}function Iae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nae=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=$1($1($1({},l),Bp(i)),$T(i)),d;return A.isValidElement(i)?d=A.cloneElement(i,u):typeof i=="function"?d=i(u):d=A.createElement(UF,u),A.createElement(ma,{className:"recharts-active-dot",clipPath:s},d)};function Rae(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=ur.activeDot}=t,l=ze(Qc),u=kae();if(e==null||u==null)return null;var d=e.find(f=>u.includes(f.payload));return cn(d)?null:A.createElement(_a,{zIndex:s},A.createElement(Nae,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Pae="Invariant failed";function Dae(t,e){throw new Error(Pae)}var Mae=["x","y"];function NS(){return NS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NS.apply(null,arguments)}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){Oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oae(t,e,n){return(e=Lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=jae(t,"string");return typeof e=="symbol"?e:e+""}function jae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uae(t,e){if(t==null)return{};var n,r,i=Vae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fae(t,e){var{x:n,y:r}=t,i=Uae(t,Mae),a="".concat(n),s=parseInt(a,10),l="".concat(r),u=parseInt(l,10),d="".concat(e.height||i.height),f=parseInt(d,10),p="".concat(e.width||i.width),y=parseInt(p,10);return Mh(Mh(Mh(Mh(Mh({},e),i),s?{x:s}:{}),u?{y:u}:{}),{},{height:f,width:y,name:e.name,radius:e.radius})}function $v(t){return A.createElement(BF,NS({shapeType:"rectangle",propTransformer:Fae,activeClassName:"recharts-active-bar"},t))}var zae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ve(e))return e;var a=Ve(r)||cn(r);return a?e(r,i):(a||Dae(),n)}},Bae={},ZF=_i({name:"errorBars",initialState:Bae,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:HMe,replaceErrorBar:GMe,removeErrorBar:KMe}=ZF.actions,qae=ZF.reducer,$ae=["children"];function Hae(t,e){if(t==null)return{};var n,r,i=Gae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Yae=A.createContext(Kae);function ez(t){var{children:e}=t,n=Hae(t,$ae);return A.createElement(Yae.Provider,{value:n},e)}function sA(t,e){var n,r,i=ze(d=>Do(d,t)),a=ze(d=>Mo(d,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ir.allowDataOverflow,l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ar.allowDataOverflow,u=s||l;return{needClip:u,needClipX:s,needClipY:l}}function tz(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=aA(),{needClipX:a,needClipY:s,needClip:l}=sA(e,n);if(!l||!i)return null;var{x:u,y:d,width:f,height:p}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:a?u:u-f/2,y:s?d:d-p/2,width:a?f:f*2,height:s?p:p*2}))}function Wae(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&kn(t.zIndex)?t.zIndex:e}var H1={exports:{}},G1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bO;function Jae(){if(bO)return G1;bO=1;var t=rf();function e(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,l=t.useDebugValue;return G1.useSyncExternalStoreWithSelector=function(u,d,f,p,y){var v=i(null);if(v.current===null){var T={hasValue:!1,value:null};v.current=T}else T=v.current;v=s(function(){function S(F){if(!C){if(C=!0,R=F,F=p(F),y!==void 0&&T.hasValue){var j=T.value;if(y(j,F))return I=j}return I=F}if(j=I,n(R,F))return j;var P=p(F);return y!==void 0&&y(j,P)?(R=F,j):(R=F,I=P)}var C=!1,R,I,L=f===void 0?null:f;return[function(){return S(d())},L===null?void 0:function(){return S(L())}]},[d,f,p,y]);var k=r(u,v[0],v[1]);return a(function(){T.hasValue=!0,T.value=k},[k]),l(k),k},G1}var xO;function Xae(){return xO||(xO=1,H1.exports=Jae()),H1.exports}Xae();function Qae(t){t()}function Zae(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Qae(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var _O={notify(){},get:()=>[]};function ese(t,e){let n,r=_O,i=0,a=!1;function s(k){f();const S=r.subscribe(k);let C=!1;return()=>{C||(C=!0,S(),p())}}function l(){r.notify()}function u(){T.onStateChange&&T.onStateChange()}function d(){return a}function f(){i++,n||(n=t.subscribe(u),r=Zae())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=_O)}function y(){a||(a=!0,f())}function v(){a&&(a=!1,p())}const T={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>r};return T}var tse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nse=tse(),rse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ise=rse(),ase=()=>nse||ise?A.useLayoutEffect:A.useEffect,sse=ase();function wO(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ose(t,e){if(wO(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!wO(t[n[i]],e[n[i]]))return!1;return!0}var K1=Symbol.for("react-redux-context"),Y1=typeof globalThis<"u"?globalThis:{};function lse(){if(!A.createContext)return{};const t=Y1[K1]??(Y1[K1]=new Map);let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var cse=lse();function use(t){const{children:e,context:n,serverState:r,store:i}=t,a=A.useMemo(()=>{const u=ese(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=A.useMemo(()=>i.getState(),[i]);sse(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const l=n||cse;return A.createElement(l.Provider,{value:a},e)}var dse=use,fse=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function hse(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Eb(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(fse.has(r)){if(t[r]==null&&e[r]==null)continue;if(!ose(t[r],e[r]))return!1}else if(!hse(t[r],e[r]))return!1;return!0}var pse=["onMouseEnter","onMouseLeave","onClick"],mse=["value","background","tooltipPosition"],gse=["id"],yse=["onMouseEnter","onClick","onMouseLeave"];function wo(){return wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wo.apply(null,arguments)}function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(n),!0).forEach(function(r){vse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vse(t,e,n){return(e=bse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bse(t){var e=xse(t,"string");return typeof e=="symbol"?e:e+""}function xse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hv(t,e){if(t==null)return{};var n,r,i=_se(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _se(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wse=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:K0(n,e),payload:t}]},Ese=A.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:l,tooltipType:u}=t,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:K0(a,e),hide:s,type:u,color:i,unit:l}};return A.createElement(GF,{tooltipEntrySettings:d})});function Sse(t){var e=ze(Qc),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:l,onClick:u}=a,d=Hv(a,pse),f=qF(s,r),p=$F(l),y=HF(u,r);if(!i||n==null)return null;var v=Bp(i);return A.createElement(_a,{zIndex:Wae(i,ur.barBackground)},n.map((T,k)=>{var{value:S,background:C,tooltipPosition:R}=T,I=Hv(T,mse);if(!C)return null;var L=f(T,k),F=p(T,k),j=y(T,k),P=Kr(Kr(Kr(Kr(Kr({option:i,isActive:String(k)===e},I),{},{fill:"#eee"},C),v),HT(d,T,k)),{},{onMouseEnter:L,onMouseLeave:F,onClick:j,dataKey:r,index:k,className:"recharts-bar-background-rectangle"});return A.createElement($v,wo({key:"background-bar-".concat(k)},P))}))}function Tse(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Kr(Kr({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return A.createElement(OF,{value:e?i:void 0},n)}function kse(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=t,l=ze(Qc),u=ze(dF),d=n&&String(a)===l&&(u==null||s===u),f=d?n:e;return d?A.createElement(_a,{zIndex:ur.activeBar},A.createElement($v,wo({},r,{name:String(r.name)},i,{isActive:d,option:f,index:a,dataKey:s}))):A.createElement($v,wo({},r,{name:String(r.name)},i,{isActive:d,option:f,index:a,dataKey:s}))}function Ase(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return A.createElement($v,wo({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function Cse(t){var e,{data:n,props:r}=t,i=(e=La(r))!==null&&e!==void 0?e:{},{id:a}=i,s=Hv(i,gse),{shape:l,dataKey:u,activeBar:d}=r,{onMouseEnter:f,onClick:p,onMouseLeave:y}=r,v=Hv(r,yse),T=qF(f,u),k=$F(y),S=HF(p,u);return n?A.createElement(A.Fragment,null,n.map((C,R)=>A.createElement(ma,wo({key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(R),className:"recharts-bar-rectangle"},HT(v,C,R),{onMouseEnter:T(C,R),onMouseLeave:k(C,R),onClick:S(C,R)}),d?A.createElement(kse,{shape:l,activeBar:d,baseProps:s,entry:C,index:R,dataKey:u}):A.createElement(Ase,{shape:l,baseProps:s,entry:C,index:R,dataKey:u})))):null}function Ise(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:u,onAnimationEnd:d,onAnimationStart:f}=e,p=n.current,y=ib(e,"recharts-bar-"),[v,T]=A.useState(!1),k=!v,S=A.useCallback(()=>{typeof d=="function"&&d(),T(!1)},[d]),C=A.useCallback(()=>{typeof f=="function"&&f(),T(!0)},[f]);return A.createElement(Tse,{showLabels:k,rects:r},A.createElement(rb,{animationId:y,begin:s,duration:l,isActive:a,easing:u,onAnimationEnd:S,onAnimationStart:C,key:y},R=>{var I=R===1?r:r==null?void 0:r.map((L,F)=>{var j=p&&p[F];if(j)return Kr(Kr({},L),{},{x:mn(j.x,L.x,R),y:mn(j.y,L.y,R),width:mn(j.width,L.width,R),height:mn(j.height,L.height,R)});if(i==="horizontal"){var P=mn(0,L.height,R),U=mn(L.stackedBarStart,L.y,R);return Kr(Kr({},L),{},{y:U,height:P})}var M=mn(0,L.width,R),B=mn(L.stackedBarStart,L.x,R);return Kr(Kr({},L),{},{width:M,x:B})});return R>0&&(n.current=I??null),I==null?null:A.createElement(ma,null,A.createElement(Cse,{props:e,data:I}))}),A.createElement(jF,{label:e.label}),e.children)}function Nse(t){var e=A.useRef(null);return A.createElement(Ise,{previousRectanglesRef:e,props:t})}var nz=0,Rse=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Yn(t,e)}};class Pse extends A.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:l,background:u,id:d}=this.props;if(e||n==null)return null;var f=It("recharts-bar",i),p=d;return A.createElement(ma,{className:f,id:d},l&&A.createElement("defs",null,A.createElement(tz,{clipPathId:p,xAxisId:a,yAxisId:s})),A.createElement(ma,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},A.createElement(Sse,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),A.createElement(Nse,this.props)))}}var Dse={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:nz,xAxisId:0,yAxisId:0,zIndex:ur.bar};function Mse(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:f}=t,{needClip:p}=sA(e,n),y=Wp(),v=jr(),T=Iie(t.children,EF),k=ze(R=>loe(R,e,n,v,t.id,T));if(y!=="vertical"&&y!=="horizontal")return null;var S,C=k==null?void 0:k[0];return C==null||C.height==null||C.width==null?S=0:S=y==="vertical"?C.height/2:C.width/2,A.createElement(ez,{xAxisId:e,yAxisId:n,data:k,dataPointFormatter:Rse,errorBarOffset:S},A.createElement(Pse,wo({},t,{layout:y,needClip:p,data:k,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:f})))}function Ose(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:l,xAxisTicks:u,yAxisTicks:d,stackedData:f,displayedData:p,offset:y,cells:v,parentViewBox:T,dataStartIndex:k}=t,S=e==="horizontal"?l:s,C=f?S.scale.domain():null,R=eW({numericAxis:S}),I=S.scale(R);return p.map((L,F)=>{var j,P,U,M,B,V;f?j=YY(f[F+k],C):(j=Yn(L,n),Array.isArray(j)||(j=[R,j]));var q=zae(r,nz)(j[1],F);if(e==="horizontal"){var z,[le,X]=[l.scale(j[0]),l.scale(j[1])];P=GP({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:L,index:F}),U=(z=X??le)!==null&&z!==void 0?z:void 0,M=i.size;var J=le-X;if(B=ja(J)?0:J,V={x:P,y:y.top,width:M,height:y.height},Math.abs(q)>0&&Math.abs(B)<Math.abs(q)){var H=mi(B||q)*(Math.abs(q)-Math.abs(B));U-=H,B+=H}}else{var[Z,ne]=[s.scale(j[0]),s.scale(j[1])];if(P=Z,U=GP({axis:l,ticks:d,bandSize:a,offset:i.offset,entry:L,index:F}),M=ne-Z,B=i.size,V={x:y.left,y:U,width:y.width,height:B},Math.abs(q)>0&&Math.abs(M)<Math.abs(q)){var Y=mi(M||q)*(Math.abs(q)-Math.abs(M));M+=Y}}if(P==null||U==null||M==null||B==null)return null;var $=Kr(Kr({},L),{},{stackedBarStart:I,x:P,y:U,width:M,height:B,value:f?j:j[1],payload:L,background:V,tooltipPosition:{x:P+M/2,y:U+B/2},parentViewBox:T},v&&v[F]&&v[F].props);return $}).filter(Boolean)}function Lse(t){var e=Zr(t,Dse),n=jr();return A.createElement(WF,{id:e.id,type:"bar"},r=>A.createElement(A.Fragment,null,A.createElement(KF,{legendPayload:wse(e)}),A.createElement(Ese,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),A.createElement(XF,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:ZY(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),A.createElement(_a,{zIndex:e.zIndex},A.createElement(Mse,wo({},e,{id:r})))))}var RS=A.memo(Lse,Eb);RS.displayName="Bar";function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jse(t,e,n){return(e=Use(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Use(t){var e=Vse(t,"string");return typeof e=="symbol"?e:e+""}function Vse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fse=(t,e)=>e,zse=(t,e,n)=>n,Bse=(t,e,n,r)=>r,qse=(t,e,n,r,i)=>i,dm=de([bb,qse],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),$se=de([dm],t=>t==null?void 0:t.maxBarSize),Hse=(t,e,n,r,i,a)=>a,TO=(t,e,n)=>{var r=n??t;if(!cn(r))return Ua(r,e,0)},Gse=de([At,bb,Fse,zse,Bse],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Kse=(t,e,n,r)=>{var i=At(t);return i==="horizontal"?wS(t,"yAxis",n,r):wS(t,"xAxis",e,r)},Yse=(t,e,n)=>{var r=At(t);return r==="horizontal"?EM(t,"xAxis",e):EM(t,"yAxis",n)},Wse=(t,e,n)=>{var r={},i=t.filter(gb),a=t.filter(d=>d.stackId==null),s=i.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),r),l=Object.entries(s).map(d=>{var[f,p]=d,y=p.map(T=>T.dataKey),v=TO(e,n,p[0].barSize);return{stackId:f,dataKeys:y,barSize:v}}),u=a.map(d=>{var f=[d.dataKey].filter(y=>y!=null),p=TO(e,n,d.barSize);return{stackId:void 0,dataKeys:f,barSize:p}});return[...l,...u]},Jse=de([Gse,lee,Yse],Wse),Xse=(t,e,n,r,i)=>{var a,s,l=dm(t,e,n,r,i);if(l!=null){var u=At(t),d=eV(t),{maxBarSize:f}=l,p=cn(f)?d:f,y,v;return u==="horizontal"?(y=$l(t,"xAxis",e,r),v=ql(t,"xAxis",e,r)):(y=$l(t,"yAxis",n,r),v=ql(t,"yAxis",n,r)),(a=(s=Ud(y,v,!0))!==null&&s!==void 0?s:p)!==null&&a!==void 0?a:0}},rz=(t,e,n,r)=>{var i=At(t),a,s;return i==="horizontal"?(a=$l(t,"xAxis",e,r),s=ql(t,"xAxis",e,r)):(a=$l(t,"yAxis",n,r),s=ql(t,"yAxis",n,r)),Ud(a,s)};function Qse(t,e,n,r,i){var a=r.length;if(!(a<1)){var s=Ua(t,n,0,!0),l,u=[];if(kn(r[0].barSize)){var d=!1,f=n/a,p=r.reduce((C,R)=>C+(R.barSize||0),0);p+=(a-1)*s,p>=n&&(p-=(a-1)*s,s=0),p>=n&&f>0&&(d=!0,f*=.9,p=a*f);var y=(n-p)/2>>0,v={offset:y-s,size:0};l=r.reduce((C,R)=>{var I,L={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:v.offset+v.size+s,size:d?f:(I=R.barSize)!==null&&I!==void 0?I:0}},F=[...C,L];return v=F[F.length-1].position,F},u)}else{var T=Ua(e,n,0,!0);n-2*T-(a-1)*s<=0&&(s=0);var k=(n-2*T-(a-1)*s)/a;k>1&&(k>>=0);var S=kn(i)?Math.min(k,i):k;l=r.reduce((C,R,I)=>[...C,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:T+(k+s)*I+(k-S)/2,size:S}}],u)}return l}}var Zse=(t,e,n,r,i,a,s)=>{var l=cn(s)?e:s,u=Qse(n,r,i!==a?i:a,t,l);return i!==a&&u!=null&&(u=u.map(d=>wy(wy({},d),{},{position:wy(wy({},d.position),{},{offset:d.position.offset-i/2})}))),u},eoe=de([Jse,eV,oee,tV,Xse,rz,$se],Zse),toe=(t,e,n,r)=>$l(t,"xAxis",e,r),noe=(t,e,n,r)=>$l(t,"yAxis",n,r),roe=(t,e,n,r)=>ql(t,"xAxis",e,r),ioe=(t,e,n,r)=>ql(t,"yAxis",n,r),aoe=de([eoe,dm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),soe=(t,e)=>{var n=jk(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},ooe=de([Kse,dm],soe),loe=de([fr,nk,toe,noe,roe,ioe,aoe,At,db,rz,ooe,dm,Hse],(t,e,n,r,i,a,s,l,u,d,f,p,y)=>{var{chartData:v,dataStartIndex:T,dataEndIndex:k}=u;if(!(p==null||s==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||a==null||d==null)){var{data:S}=p,C;if(S!=null&&S.length>0?C=S:C=v==null?void 0:v.slice(T,k+1),C!=null)return Ose({layout:l,barSettings:p,pos:s,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:f,displayedData:C,offset:t,cells:y,dataStartIndex:T})}}),coe=t=>{var{chartData:e}=t,n=An(),r=jr();return A.useEffect(()=>r?()=>{}:(n(LM(e)),()=>{n(LM(void 0))}),[e,n,r]),null},kO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},iz=_i({name:"brush",initialState:kO,reducers:{setBrushSettings(t,e){return e.payload==null?kO:e.payload}}}),{setBrushSettings:YMe}=iz.actions,uoe=iz.reducer;function doe(t,e,n){return(e=foe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function foe(t){var e=hoe(t,"string");return typeof e=="symbol"?e:e+""}function hoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class oA{static create(e){return new oA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}doe(oA,"EPS",1e-4);function poe(t){return(t%180+180)%180}var moe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=poe(i),s=a*Math.PI/180,l=Math.atan(r/n),u=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},goe={dots:[],areas:[],lines:[]},az=_i({name:"referenceElements",initialState:goe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Oa(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Oa(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Oa(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:WMe,removeDot:JMe,addArea:XMe,removeArea:QMe,addLine:ZMe,removeLine:eOe}=az.actions,yoe=az.reducer,voe=A.createContext(void 0),boe=t=>{var{children:e}=t,[n]=A.useState("".concat(fp("recharts"),"-clip")),r=aA();if(r==null)return null;var{x:i,y:a,width:s,height:l}=r;return A.createElement(voe.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:a,height:l,width:s}))),e)};function sz(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function xoe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return moe(r,n)}function _oe(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:l}=t;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function Gv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function woe(t,e){return sz(t,e+1)}function Eoe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:l}=e,u=0,d=1,f=s,p=function(){var T=r==null?void 0:r[u];if(T===void 0)return{v:sz(r,d)};var k=u,S,C=()=>(S===void 0&&(S=n(T,k)),S),R=T.coordinate,I=u===0||Gv(t,R,C,f,l);I||(u=0,f=s,d+=1),I&&(f=R+t*(C()/2+i),u+=d)},y;d<=a.length;)if(y=p(),y)return y.v;return[]}function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(r){Soe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Soe(t,e,n){return(e=Toe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Toe(t){var e=koe(t,"string");return typeof e=="symbol"?e:e+""}function koe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aoe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:l}=e,{end:u}=e,d=function(y){var v=a[y],T,k=()=>(T===void 0&&(T=n(v,y)),T);if(y===s-1){var S=t*(v.coordinate+t*k()/2-u);a[y]=v=Rr(Rr({},v),{},{tickCoord:S>0?v.coordinate-S*t:v.coordinate})}else a[y]=v=Rr(Rr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var C=Gv(t,v.tickCoord,k,l,u);C&&(u=v.tickCoord-t*(k()/2+i),a[y]=Rr(Rr({},v),{},{isShow:!0}))}},f=s-1;f>=0;f--)d(f);return a}function Coe(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,{start:u,end:d}=e;if(a){var f=r[l-1],p=n(f,l-1),y=t*(f.coordinate+t*p/2-d);if(s[l-1]=f=Rr(Rr({},f),{},{tickCoord:y>0?f.coordinate-y*t:f.coordinate}),f.tickCoord!=null){var v=Gv(t,f.tickCoord,()=>p,u,d);v&&(d=f.tickCoord-t*(p/2+i),s[l-1]=Rr(Rr({},f),{},{isShow:!0}))}}for(var T=a?l-1:l,k=function(R){var I=s[R],L,F=()=>(L===void 0&&(L=n(I,R)),L);if(R===0){var j=t*(I.coordinate-t*F()/2-u);s[R]=I=Rr(Rr({},I),{},{tickCoord:j<0?I.coordinate-j*t:I.coordinate})}else s[R]=I=Rr(Rr({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var P=Gv(t,I.tickCoord,F,u,d);P&&(u=I.tickCoord+t*(F()/2+i),s[R]=Rr(Rr({},I),{},{isShow:!0}))}},S=0;S<T;S++)k(S);return s}function lA(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:l,interval:u,tickFormatter:d,unit:f,angle:p}=t;if(!i||!i.length||!r)return[];if(Ve(u)||Xp.isSsr){var y;return(y=woe(i,Ve(u)?u:0))!==null&&y!==void 0?y:[]}var v=[],T=l==="top"||l==="bottom"?"width":"height",k=f&&T==="width"?Jh(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(I,L)=>{var F=typeof d=="function"?d(I.value,L):I.value;return T==="width"?xoe(Jh(F,{fontSize:e,letterSpacing:n}),k,p):Jh(F,{fontSize:e,letterSpacing:n})[T]},C=i.length>=2?mi(i[1].coordinate-i[0].coordinate):1,R=_oe(a,C,T);return u==="equidistantPreserveStart"?Eoe(C,R,S,i,s):(u==="preserveStart"||u==="preserveStartEnd"?v=Coe(C,R,S,i,s,u==="preserveStartEnd"):v=Aoe(C,R,S,i,s),v.filter(I=>I.isShow))}var Ioe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>s&&(s=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,d=s+u+l+(n?r:0);return Math.round(d)}return 0},Noe=["axisLine","width","height","className","hide","ticks","axisType"];function Roe(t,e){if(t==null)return{};var n,r,i=Poe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Poe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(null,arguments)}function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){Doe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Doe(t,e,n){return(e=Moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Moe(t){var e=Ooe(t,"string");return typeof e=="symbol"?e:e+""}function Ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var po={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ur.axis};function Loe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:l,otherSvgProps:u}=t;if(!l)return null;var d=Fn(Fn(Fn({},u),La(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!s||a==="bottom"&&s);d=Fn(Fn({},d),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);d=Fn(Fn({},d),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return A.createElement("line",Zc({},d,{className:It("recharts-cartesian-axis-line",Od(l,"className"))}))}function joe(t,e,n,r,i,a,s,l,u){var d,f,p,y,v,T,k=l?-1:1,S=t.tickSize||s,C=Ve(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,y=n+ +!l*i,p=y-k*S,T=p-k*u,v=C;break;case"left":p=y=t.coordinate,f=e+ +!l*r,d=f-k*S,v=d-k*u,T=C;break;case"right":p=y=t.coordinate,f=e+ +l*r,d=f+k*S,v=d+k*u,T=C;break;default:d=f=t.coordinate,y=n+ +l*i,p=y+k*S,T=p+k*u,v=C;break}return{line:{x1:d,y1:p,x2:f,y2:y},tick:{x:v,y:T}}}function Uoe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Voe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Foe(t){var{option:e,tickProps:n,value:r}=t,i,a=It(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,Fn(Fn({},n),{},{className:a}));else if(typeof e=="function")i=e(Fn(Fn({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=It(s,e==null?void 0:e.className)),i=A.createElement(rA,Zc({},n,{className:s}),r)}return i}var zoe=A.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:p,x:y,y:v,width:T,height:k,tickSize:S,tickMargin:C,fontSize:R,letterSpacing:I,getTicksConfig:L,events:F,axisType:j}=t,P=lA(Fn(Fn({},L),{},{ticks:n}),R,I),U=Uoe(f,p),M=Voe(f,p),B=La(L),V=Bp(r),q={};typeof i=="object"&&(q=i);var z=Fn(Fn({},B),{},{fill:"none"},q),le=P.map(H=>Fn({entry:H},joe(H,y,v,T,k,f,S,p,C))),X=le.map(H=>{var{entry:Z,line:ne}=H;return A.createElement(ma,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},i&&A.createElement("line",Zc({},z,ne,{className:It("recharts-cartesian-axis-tick-line",Od(i,"className"))})))}),J=le.map((H,Z)=>{var{entry:ne,tick:Y}=H,$=Fn(Fn(Fn(Fn({textAnchor:U,verticalAnchor:M},B),{},{stroke:"none",fill:a},V),Y),{},{index:Z,payload:ne,visibleTicksCount:P.length,tickFormatter:s,padding:u},d);return A.createElement(ma,Zc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},HT(F,ne,Z)),r&&A.createElement(Foe,{option:r,tickProps:$,value:"".concat(typeof s=="function"?s(ne.value,Z):ne.value).concat(l||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},J.length>0&&A.createElement(_a,{zIndex:ur.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:e},J)),X.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},X))}),Boe=A.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:l,axisType:u}=t,d=Roe(t,Noe),[f,p]=A.useState(""),[y,v]=A.useState(""),T=A.useRef(null);A.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return Ioe({ticks:T.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var k=A.useCallback(S=>{if(S){var C=S.getElementsByClassName("recharts-cartesian-axis-tick-value");T.current=C;var R=C[0];if(R){var I=window.getComputedStyle(R),L=I.fontSize,F=I.letterSpacing;(L!==f||F!==y)&&(p(L),v(F))}}},[f,y]);return s||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(_a,{zIndex:t.zIndex},A.createElement(ma,{className:It("recharts-cartesian-axis",a)},A.createElement(Loe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:La(t)}),A.createElement(zoe,{ref:k,axisType:u,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),A.createElement(tie,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},A.createElement(die,{label:t.label,labelRef:t.labelRef}),t.children)))}),cA=A.forwardRef((t,e)=>{var n=Zr(t,po);return A.createElement(Boe,Zc({},n,{ref:e}))});cA.displayName="CartesianAxis";var qoe=["x1","y1","x2","y2","key"],$oe=["offset"],Hoe=["xAxisId","yAxisId"],Goe=["xAxisId","yAxisId"];function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){Koe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Koe(t,e,n){return(e=Yoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yoe(t){var e=Woe(t,"string");return typeof e=="symbol"?e:e+""}function Woe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bc.apply(null,arguments)}function Kv(t,e){if(t==null)return{};var n,r,i=Joe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Joe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xoe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:l}=t;return A.createElement("rect",{x:r,y:i,ry:l,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function oz(t){var{option:e,lineItemProps:n}=t,r;if(A.isValidElement(e))r=A.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:l,y2:u,key:d}=n,f=Kv(n,qoe),p=(i=La(f))!==null&&i!==void 0?i:{},{offset:y}=p,v=Kv(p,$oe);r=A.createElement("line",Bc({},v,{x1:a,y1:s,x2:l,y2:u,fill:"none",key:d}))}return r}function Qoe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=Kv(t,Hoe),u=i.map((d,f)=>{var p=Dr(Dr({},l),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(f),index:f});return A.createElement(oz,{key:"line-".concat(f),option:r,lineItemProps:p})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Zoe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=Kv(t,Goe),u=i.map((d,f)=>{var p=Dr(Dr({},l),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(f),index:f});return A.createElement(oz,{option:r,lineItemProps:p,key:"line-".concat(f)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function ele(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==d[0]&&d.unshift(0);var f=d.map((p,y)=>{var v=!d[y+1],T=v?i+s-p:d[y+1]-p;if(T<=0)return null;var k=y%e.length;return A.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:T,width:a,stroke:"none",fill:e[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function tle(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:l,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==d[0]&&d.unshift(0);var f=d.map((p,y)=>{var v=!d[y+1],T=v?i+s-p:d[y+1]-p;if(T<=0)return null;var k=y%n.length;return A.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:T,height:l,stroke:"none",fill:n[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var nle=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return RU(lA(Dr(Dr(Dr({},po),n),{},{ticks:PU(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},rle=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return RU(lA(Dr(Dr(Dr({},po),n),{},{ticks:PU(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},ile={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ur.grid};function lz(t){var e=FU(),n=zU(),r=VU(),i=Dr(Dr({},Zr(t,ile)),{},{x:Ve(t.x)?t.x:r.left,y:Ve(t.y)?t.y:r.top,width:Ve(t.width)?t.width:r.width,height:Ve(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:l,y:u,width:d,height:f,syncWithTicks:p,horizontalValues:y,verticalValues:v}=i,T=jr(),k=ze(M=>SM(M,"xAxis",a,T)),S=ze(M=>SM(M,"yAxis",s,T));if(!Rs(d)||!Rs(f)||!Ve(l)||!Ve(u))return null;var C=i.verticalCoordinatesGenerator||nle,R=i.horizontalCoordinatesGenerator||rle,{horizontalPoints:I,verticalPoints:L}=i;if((!I||!I.length)&&typeof R=="function"){var F=y&&y.length,j=R({yAxis:S?Dr(Dr({},S),{},{ticks:F?y:S.ticks}):void 0,width:e??d,height:n??f,offset:r},F?!0:p);vv(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(I=j)}if((!L||!L.length)&&typeof C=="function"){var P=v&&v.length,U=C({xAxis:k?Dr(Dr({},k),{},{ticks:P?v:k.ticks}):void 0,width:e??d,height:n??f,offset:r},P?!0:p);vv(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(L=U)}return A.createElement(_a,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(Xoe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(ele,Bc({},i,{horizontalPoints:I})),A.createElement(tle,Bc({},i,{verticalPoints:L})),A.createElement(Qoe,Bc({},i,{offset:r,horizontalPoints:I,xAxis:k,yAxis:S})),A.createElement(Zoe,Bc({},i,{offset:r,verticalPoints:L,xAxis:k,yAxis:S}))))}lz.displayName="CartesianGrid";var cz=(t,e,n,r)=>$l(t,"xAxis",e,r),uz=(t,e,n,r)=>ql(t,"xAxis",e,r),dz=(t,e,n,r)=>$l(t,"yAxis",n,r),fz=(t,e,n,r)=>ql(t,"yAxis",n,r),ale=de([At,cz,dz,uz,fz],(t,e,n,r,i)=>ec(t,"xAxis")?Ud(e,r,!1):Ud(n,i,!1)),sle=(t,e,n,r,i)=>i;function ole(t){return t.type==="line"}var lle=de([bb,sle],(t,e)=>t.filter(ole).find(n=>n.id===e)),cle=de([At,cz,dz,uz,fz,lle,ale,db],(t,e,n,r,i,a,s,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=l;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:y}=a,v;if(y!=null&&y.length>0?v=y:v=u==null?void 0:u.slice(d,f+1),v!=null)return Nle({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:s,displayedData:v})}});function ule(t){var e=Bp(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),l=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(l)||l<0)&&(l=r),{r:s,strokeWidth:l}}return{r:n,strokeWidth:r}}var dle=["id"],fle=["type","layout","connectNulls","needClip","shape"],hle=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function kp(){return kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kp.apply(null,arguments)}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){ple(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ple(t,e,n){return(e=mle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mle(t){var e=gle(t,"string");return typeof e=="symbol"?e:e+""}function gle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uA(t,e){if(t==null)return{};var n,r,i=yle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vle=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:K0(n,e),payload:t}]},ble=A.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:l,unit:u,tooltipType:d}=t,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:K0(s,e),hide:l,type:d,color:r,unit:u}};return A.createElement(GF,{tooltipEntrySettings:f})}),hz=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function xle(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var _le=(t,e,n)=>{var r=n.reduce((p,y)=>p+y);if(!r)return hz(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,l=[],u=0,d=0;u<n.length;d+=n[u],++u)if(d+n[u]>a){l=[...n.slice(0,u),a-d];break}var f=l.length%2===0?[0,s]:[s];return[...xle(n,i),...l,...f].map(p=>"".concat(p,"px")).join(", ")};function wle(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r,{id:l}=r,u=uA(r,dle),d=La(u);return A.createElement(dae,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:s,clipPathId:e})}function Ele(t){var{showLabels:e,children:n,points:r}=t,i=A.useMemo(()=>r==null?void 0:r.map(a=>{var s,l,u={x:(s=a.x)!==null&&s!==void 0?s:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ms(ms({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return A.createElement(OF,{value:e?i:void 0},n)}function RO(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:l,connectNulls:u,needClip:d,shape:f}=a,p=uA(a,fle),y=ms(ms({},Xr(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:l,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return A.createElement(A.Fragment,null,(r==null?void 0:r.length)>1&&A.createElement(BF,kp({shapeType:"curve",option:f},y,{pathRef:n})),A.createElement(wle,{points:r,clipPathId:e,props:a}))}function Sle(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Tle(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:l,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:p,animateNewValues:y,width:v,height:T,onAnimationEnd:k,onAnimationStart:S}=n,C=i.current,R=ib(s,"recharts-line-"),I=A.useRef(R),[L,F]=A.useState(!1),j=!L,P=A.useCallback(()=>{typeof k=="function"&&k(),F(!1)},[k]),U=A.useCallback(()=>{typeof S=="function"&&S(),F(!0)},[S]),M=Sle(r.current),B=A.useRef(0);I.current!==R&&(B.current=a.current,I.current=R);var V=B.current;return A.createElement(Ele,{points:s,showLabels:j},n.children,A.createElement(rb,{animationId:R,begin:d,duration:f,isActive:u,easing:p,onAnimationEnd:P,onAnimationStart:U,key:R},q=>{var z=mn(V,M+V,q),le=Math.min(z,M),X;if(u)if(l){var J="".concat(l).split(/[,\s]+/gim).map(ne=>parseFloat(ne));X=_le(le,M,J)}else X=hz(M,le);else X=l==null?void 0:String(l);if(q>0&&M>0&&(i.current=s,a.current=Math.max(a.current,le)),C){var H=C.length/s.length,Z=q===1?s:s.map((ne,Y)=>{var $=Math.floor(Y*H);if(C[$]){var te=C[$];return ms(ms({},ne),{},{x:mn(te.x,ne.x,q),y:mn(te.y,ne.y,q)})}return y?ms(ms({},ne),{},{x:mn(v*2,ne.x,q),y:mn(T/2,ne.y,q)}):ms(ms({},ne),{},{x:ne.x,y:ne.y})});return i.current=Z,A.createElement(RO,{props:n,points:Z,clipPathId:e,pathRef:r,strokeDasharray:X})}return A.createElement(RO,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:X})}),A.createElement(jF,{label:n.label}))}function kle(t){var{clipPathId:e,props:n}=t,r=A.useRef(null),i=A.useRef(0),a=A.useRef(null);return A.createElement(Tle,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Ale=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Yn(t.payload,e)}};class Cle extends A.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:l,left:u,width:d,height:f,id:p,needClip:y,zIndex:v}=this.props;if(e)return null;var T=It("recharts-line",i),k=p,{r:S,strokeWidth:C}=ule(n),R=zF(n),I=S*2+C,L=y?"url(#clipPath-".concat(R?"":"dots-").concat(k,")"):void 0;return A.createElement(_a,{zIndex:v},A.createElement(ma,{className:T},y&&A.createElement("defs",null,A.createElement(tz,{clipPathId:k,xAxisId:a,yAxisId:s}),!R&&A.createElement("clipPath",{id:"clipPath-dots-".concat(k)},A.createElement("rect",{x:u-I/2,y:l-I/2,width:d+I,height:f+I}))),A.createElement(ez,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Ale,errorBarOffset:0},A.createElement(kle,{props:this.props,clipPathId:k}))),A.createElement(Rae,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:L}))}}var pz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ur.line,type:"linear"};function Ile(t){var e=Zr(t,pz),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:u,hide:d,isAnimationActive:f,label:p,legendType:y,xAxisId:v,yAxisId:T,id:k}=e,S=uA(e,hle),{needClip:C}=sA(v,T),R=aA(),I=Wp(),L=jr(),F=ze(B=>cle(B,v,T,L,k));if(I!=="horizontal"&&I!=="vertical"||F==null||R==null)return null;var{height:j,width:P,x:U,y:M}=R;return A.createElement(Cle,kp({},S,{id:k,connectNulls:l,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:f,hide:d,label:p,legendType:y,xAxisId:v,yAxisId:T,points:F,layout:I,height:j,width:P,left:U,top:M,needClip:C}))}function Nle(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:l,displayedData:u}=t;return u.map((d,f)=>{var p=Yn(d,s);if(e==="horizontal"){var y=HP({axis:n,ticks:i,bandSize:l,entry:d,index:f}),v=cn(p)?null:r.scale(p);return{x:y,y:v,value:p,payload:d}}var T=cn(p)?null:n.scale(p),k=HP({axis:r,ticks:a,bandSize:l,entry:d,index:f});return T==null||k==null?null:{x:T,y:k,value:p,payload:d}}).filter(Boolean)}function Rle(t){var e=Zr(t,pz),n=jr();return A.createElement(WF,{id:e.id,type:"line"},r=>A.createElement(A.Fragment,null,A.createElement(KF,{legendPayload:vle(e)}),A.createElement(ble,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),A.createElement(XF,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),A.createElement(Ile,kp({},e,{id:r}))))}var mz=A.memo(Rle,Eb);mz.displayName="Line";var Ple=["domain","range"],Dle=["domain","range"];function PO(t,e){if(t==null)return{};var n,r,i=Mle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function DO(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function gz(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=PO(t,Ple),{domain:a,range:s}=e,l=PO(e,Dle);return!DO(n,a)||!DO(r,s)?!1:Eb(i,l)}var Ole=["dangerouslySetInnerHTML","ticks"],Lle=["id"];function PS(){return PS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PS.apply(null,arguments)}function MO(t,e){if(t==null)return{};var n,r,i=jle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ule(t){var e=An(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(gae(t)):n.current!==t&&e(yae({prev:n.current,next:t})),n.current=t},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(vae(n.current)),n.current=null)},[e]),null}var Vle=t=>{var{xAxisId:e,className:n}=t,r=ze(nk),i=jr(),a="xAxis",s=ze(S=>uf(S,a,e,i)),l=ze(S=>HV(S,a,e,i)),u=ze(S=>zV(S,e)),d=ze(S=>ate(S,e)),f=ze(S=>uV(S,e));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=t,v=MO(t,Ole),{id:T}=f,k=MO(f,Lle);return A.createElement(cA,PS({},v,k,{scale:s,x:d.x,y:d.y,width:u.width,height:u.height,className:It("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},Fle={allowDataOverflow:ir.allowDataOverflow,allowDecimals:ir.allowDecimals,allowDuplicatedCategory:ir.allowDuplicatedCategory,angle:ir.angle,axisLine:po.axisLine,height:ir.height,hide:!1,includeHidden:ir.includeHidden,interval:ir.interval,minTickGap:ir.minTickGap,mirror:ir.mirror,orientation:ir.orientation,padding:ir.padding,reversed:ir.reversed,scale:ir.scale,tick:ir.tick,tickCount:ir.tickCount,tickLine:po.tickLine,tickSize:po.tickSize,type:ir.type,xAxisId:0},zle=t=>{var e=Zr(t,Fle);return A.createElement(A.Fragment,null,A.createElement(Ule,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),A.createElement(Vle,e))},dA=A.memo(zle,gz);dA.displayName="XAxis";var Ble=["dangerouslySetInnerHTML","ticks"],qle=["id"];function DS(){return DS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DS.apply(null,arguments)}function OO(t,e){if(t==null)return{};var n,r,i=$le(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $le(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hle(t){var e=An(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(bae(t)):n.current!==t&&e(xae({prev:n.current,next:t})),n.current=t},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(_ae(n.current)),n.current=null)},[e]),null}var Gle=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=A.useRef(null),s=A.useRef(null),l=ze(nk),u=jr(),d=An(),f="yAxis",p=ze(F=>uf(F,f,e,u)),y=ze(F=>BV(F,e)),v=ze(F=>ote(F,e)),T=ze(F=>HV(F,f,e,u)),k=ze(F=>dV(F,e));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!y||iA(i)||A.isValidElement(i)||k==null)){var F=a.current;if(F){var j=F.getCalculatedWidth();Math.round(y.width)!==Math.round(j)&&d(wae({id:e,width:j}))}}},[T,y,d,i,e,r,k]),y==null||v==null||k==null)return null;var{dangerouslySetInnerHTML:S,ticks:C}=t,R=OO(t,Ble),{id:I}=k,L=OO(k,qle);return A.createElement(cA,DS({},R,L,{ref:a,labelRef:s,scale:p,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:It("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:T,axisType:f}))},Kle={allowDataOverflow:ar.allowDataOverflow,allowDecimals:ar.allowDecimals,allowDuplicatedCategory:ar.allowDuplicatedCategory,angle:ar.angle,axisLine:po.axisLine,hide:!1,includeHidden:ar.includeHidden,interval:ar.interval,minTickGap:ar.minTickGap,mirror:ar.mirror,orientation:ar.orientation,padding:ar.padding,reversed:ar.reversed,scale:ar.scale,tick:ar.tick,tickCount:ar.tickCount,tickLine:po.tickLine,tickSize:po.tickSize,type:ar.type,width:ar.width,yAxisId:0},Yle=t=>{var e=Zr(t,Kle);return A.createElement(A.Fragment,null,A.createElement(Hle,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),A.createElement(Gle,e))},fA=A.memo(Yle,gz);fA.displayName="YAxis";var Wle=(t,e)=>e,hA=de([Wle,At,lV,Qn,oF,Oo,wne,fr],Ine),pA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},yz=ga("mouseClick"),vz=Kp();vz.startListening({actionCreator:yz,effect:(t,e)=>{var n=t.payload,r=hA(e.getState(),pA(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(_te({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var MS=ga("mouseMove"),bz=Kp(),Ey=null;bz.startListening({actionCreator:MS,effect:(t,e)=>{var n=t.payload;Ey!==null&&cancelAnimationFrame(Ey);var r=pA(n);Ey=requestAnimationFrame(()=>{var i=e.getState(),a=Kk(i,i.tooltip.settings.shared);if(a==="axis"){var s=hA(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(ZV({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(QV())}Ey=null})}});var LO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},xz=_i({name:"rootProps",initialState:LO,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:LO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Jle=xz.reducer,{updateOptions:Xle}=xz.actions,_z=_i({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:tOe}=_z.actions,Qle=_z.reducer,wz=ga("keyDown"),Ez=ga("focus"),mA=Kp();mA.startListening({actionCreator:wz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Yk(i,ff(n),im(n),cm(n)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var u=Oo(n);if(a==="Enter"){var d=Vv(n,"axis","hover",String(i.index));e.dispatch(SS({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=dte(n),p=f==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,v=l+y*p;if(!(u==null||v>=u.length||v<0)){var T=Vv(n,"axis","hover",String(v));e.dispatch(SS({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:T}))}}}}}});mA.startListening({actionCreator:Ez,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Vv(n,"axis","hover",String(a));e.dispatch(SS({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var oa=ga("externalEvent"),Sz=Kp(),W1=new Map;Sz.startListening({actionCreator:oa,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=W1.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var l=e.getState(),u={activeCoordinate:sne(l),activeDataKey:dF(l),activeIndex:Qc(l),activeLabel:uF(l),activeTooltipIndex:Qc(l),isTooltipActive:one(l)};n(u,r)}finally{W1.delete(i)}});W1.set(i,s)}}});var Zle=de([df],t=>t.tooltipItemPayloads),ece=de([Zle,om,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),Tz=ga("touchMove"),kz=Kp();kz.startListening({actionCreator:Tz,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=Kk(r,r.tooltip.settings.shared);if(i==="axis"){var a=hA(r,pA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(ZV({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(oW),f=(s=u.getAttribute(lW))!==null&&s!==void 0?s:void 0,p=ece(e.getState(),d,f);e.dispatch(XV({activeDataKey:f,activeIndex:d,activeCoordinate:p}))}}}});var tce=nU({brush:uoe,cartesianAxis:Eae,chartData:sre,errorBars:qae,graphicalItems:tae,layout:BY,legend:ZW,options:tre,polarAxis:Tie,polarOptions:Qle,referenceElements:yoe,rootProps:Jle,tooltip:wte,zIndex:qne}),nce=function(e){return hY({reducer:tce,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([vz.middleware,bz.middleware,mA.middleware,Sz.middleware,kz.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(yU({type:"raf"}))},devTools:Xp.devToolsEnabled})};function rce(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=jr(),a=A.useRef(null);if(i)return n;a.current==null&&(a.current=nce(e));var s=KT;return A.createElement(dse,{context:s,store:a.current},n)}function ice(t){var{layout:e,margin:n}=t,r=An(),i=jr();return A.useEffect(()=>{i||(r(VY(e)),r(UY(n)))},[r,i,e,n]),null}var ace=A.memo(ice,Eb);function sce(t){var e=An();return A.useEffect(()=>{e(Xle(t))},[e,t]),null}function jO(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=YF("".concat(r).concat(e)),a=An();return A.useLayoutEffect(()=>(a(zne({zIndex:e,elementId:i,isPanorama:n})),()=>{a(Bne({zIndex:e,isPanorama:n}))}),[a,e,i,n]),A.createElement("g",{tabIndex:-1,id:i})}function UO(t){var{children:e,isPanorama:n}=t,r=ze(Rne);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return A.createElement(A.Fragment,null,i.map(s=>A.createElement(jO,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>A.createElement(jO,{key:s,zIndex:s,isPanorama:n})))}var oce=["children"];function lce(t,e){if(t==null)return{};var n,r,i=cce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yv.apply(null,arguments)}var uce={width:"100%",height:"100%",display:"block"},dce=A.forwardRef((t,e)=>{var n=FU(),r=zU(),i=WU();if(!Rs(n)||!Rs(r))return null;var{children:a,otherAttributes:s,title:l,desc:u}=t,d,f;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?f=s.role:f=i?"application":void 0),A.createElement(b5,Yv({},s,{title:l,desc:u,role:f,tabIndex:d,width:n,height:r,style:uce,ref:e}),a)}),fce=t=>{var{children:e}=t,n=ze(X0);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return A.createElement(b5,{width:r,height:i,x:s,y:a},e)},VO=A.forwardRef((t,e)=>{var{children:n}=t,r=lce(t,oce),i=jr();return i?A.createElement(fce,null,A.createElement(UO,{isPanorama:!0},n)):A.createElement(dce,Yv({ref:e},r),A.createElement(UO,{isPanorama:!1},n))});function hce(){var t=An(),[e,n]=A.useState(null),r=ze(sW);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;kn(a)&&a!==r&&t(zY(a))}},[e,t,r]),n}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){mce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mce(t,e,n){return(e=gce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gce(t){var e=yce(t,"string");return typeof e=="symbol"?e:e+""}function yce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(null,arguments)}var vce=()=>(mre(),null);function Wv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var bce=A.forwardRef((t,e)=>{var n,r,i=A.useRef(null),[a,s]=A.useState({containerWidth:Wv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Wv((r=t.style)===null||r===void 0?void 0:r.height)}),l=A.useCallback((d,f)=>{s(p=>{var y=Math.round(d),v=Math.round(f);return p.containerWidth===y&&p.containerHeight===v?p:{containerWidth:y,containerHeight:v}})},[]),u=A.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:p}=d.getBoundingClientRect();l(f,p);var y=T=>{var{width:k,height:S}=T[0].contentRect;l(k,S)},v=new ResizeObserver(y);v.observe(d),i.current=v}},[e,l]);return A.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[l]),A.createElement(A.Fragment,null,A.createElement(Z0,{width:a.containerWidth,height:a.containerHeight}),A.createElement("div",eu({ref:u},t)))}),xce=A.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=A.useState({containerWidth:Wv(n),containerHeight:Wv(r)}),s=A.useCallback((u,d)=>{a(f=>{var p=Math.round(u),y=Math.round(d);return f.containerWidth===p&&f.containerHeight===y?f:{containerWidth:p,containerHeight:y}})},[]),l=A.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();s(d,f)}},[e,s]);return A.createElement(A.Fragment,null,A.createElement(Z0,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",eu({ref:l},t)))}),_ce=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return A.createElement(A.Fragment,null,A.createElement(Z0,{width:n,height:r}),A.createElement("div",eu({ref:e},t)))}),wce=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return go(n)||go(r)?A.createElement(xce,eu({},t,{ref:e})):A.createElement(_ce,eu({},t,{ref:e}))});function Ece(t){return t===!0?bce:wce}var Sce=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:y,onTouchEnd:v,onTouchMove:T,onTouchStart:k,style:S,width:C,responsive:R,dispatchTouchEvents:I=!0}=t,L=A.useRef(null),F=An(),[j,P]=A.useState(null),[U,M]=A.useState(null),B=hce(),V=rk(),q=(V==null?void 0:V.width)>0?V.width:C,z=(V==null?void 0:V.height)>0?V.height:i,le=A.useCallback(oe=>{B(oe),typeof e=="function"&&e(oe),P(oe),M(oe),oe!=null&&(L.current=oe)},[B,e,P,M]),X=A.useCallback(oe=>{F(yz(oe)),F(oa({handler:a,reactEvent:oe}))},[F,a]),J=A.useCallback(oe=>{F(MS(oe)),F(oa({handler:d,reactEvent:oe}))},[F,d]),H=A.useCallback(oe=>{F(QV()),F(oa({handler:f,reactEvent:oe}))},[F,f]),Z=A.useCallback(oe=>{F(MS(oe)),F(oa({handler:p,reactEvent:oe}))},[F,p]),ne=A.useCallback(()=>{F(Ez())},[F]),Y=A.useCallback(oe=>{F(wz(oe.key))},[F]),$=A.useCallback(oe=>{F(oa({handler:s,reactEvent:oe}))},[F,s]),te=A.useCallback(oe=>{F(oa({handler:l,reactEvent:oe}))},[F,l]),K=A.useCallback(oe=>{F(oa({handler:u,reactEvent:oe}))},[F,u]),pe=A.useCallback(oe=>{F(oa({handler:y,reactEvent:oe}))},[F,y]),we=A.useCallback(oe=>{F(oa({handler:k,reactEvent:oe}))},[F,k]),Se=A.useCallback(oe=>{I&&F(Tz(oe)),F(oa({handler:T,reactEvent:oe}))},[F,I,T]),Ie=A.useCallback(oe=>{F(oa({handler:v,reactEvent:oe}))},[F,v]),He=Ece(R);return A.createElement(vF.Provider,{value:j},A.createElement(Y7.Provider,{value:U},A.createElement(He,{width:q??(S==null?void 0:S.width),height:z??(S==null?void 0:S.height),className:It("recharts-wrapper",r),style:pce({position:"relative",cursor:"default",width:q,height:z},S),onClick:X,onContextMenu:$,onDoubleClick:te,onFocus:ne,onKeyDown:Y,onMouseDown:K,onMouseEnter:J,onMouseLeave:H,onMouseMove:Z,onMouseUp:pe,onTouchEnd:Ie,onTouchMove:Se,onTouchStart:we,ref:le},A.createElement(vce,null),n)))}),Tce=["width","height","responsive","children","className","style","compact","title","desc"];function kce(t,e){if(t==null)return{};var n,r,i=Ace(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ace(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cce=A.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:l,compact:u,title:d,desc:f}=t,p=kce(t,Tce),y=La(p);return u?A.createElement(A.Fragment,null,A.createElement(Z0,{width:n,height:r}),A.createElement(VO,{otherAttributes:y,title:d,desc:f},a)):A.createElement(Sce,{className:s,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(VO,{otherAttributes:y,title:d,desc:f,ref:e},A.createElement(boe,null,a)))});function OS(){return OS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OS.apply(null,arguments)}var Ice={top:5,right:5,bottom:5,left:5},Nce={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ice,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Az=A.forwardRef(function(e,n){var r,i=Zr(e.categoricalChartProps,Nce),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=e,f={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return A.createElement(rce,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},A.createElement(coe,{chartData:d.data}),A.createElement(ace,{layout:i.layout,margin:i.margin}),A.createElement(sce,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(Cce,OS({},i,{ref:n})))}),Rce=["axis"],Pce=A.forwardRef((t,e)=>A.createElement(Az,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Rce,tooltipPayloadSearcher:bF,categoricalChartProps:t,ref:e})),Dce=["axis","item"],Mce=A.forwardRef((t,e)=>A.createElement(Az,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Dce,tooltipPayloadSearcher:bF,categoricalChartProps:t,ref:e}));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lce=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),zO=t=>{const e=Lce(t);return e.charAt(0).toUpperCase()+e.slice(1)},Cz=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),jce=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vce=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},u)=>A.createElement("svg",{ref:u,...Uce,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Cz("lucide",i),...!a&&!jce(l)&&{"aria-hidden":"true"},...l},[...s.map(([d,f])=>A.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=A.forwardRef(({className:r,...i},a)=>A.createElement(Vce,{ref:a,iconNode:e,className:Cz(`lucide-${Oce(zO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=zO(t),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Iz=Ee("activity",Fce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Bce=Ee("arrow-down",zce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qce=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jv=Ee("arrow-left",qce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Nz=Ee("arrow-right",$ce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Gce=Ee("arrow-up",Hce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kce=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Yce=Ee("award",Kce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],Jce=Ee("beaker",Wce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Sb=Ee("book-open",Xce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Zce=Ee("building-2",Qce);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eue=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],tue=Ee("calendar-clock",eue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tb=Ee("calendar",nue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Xv=Ee("car",rue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iue=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fm=Ee("check",iue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],sue=Ee("chevron-down",aue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oue=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Rz=Ee("chevron-left",oue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Pz=Ee("chevron-right",lue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lo=Ee("circle-alert",cue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cr=Ee("circle-check",uue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const due=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Dz=Ee("circle-x",due);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qd=Ee("circle",fue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$d=Ee("clock",hue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],mue=Ee("coins",pue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],Mz=Ee("construction",gue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Oz=Ee("database",yue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Lz=Ee("dollar-sign",vue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],xue=Ee("download",bue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Qv=Ee("external-link",_ue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eue=Ee("eye",wue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gA=Ee("file-text",Sue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],kue=Ee("flag",Tue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],yd=Ee("fuel",Aue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Iue=Ee("funnel",Cue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Rue=Ee("github",Nue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Due=Ee("grip-vertical",Pue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],Oue=Ee("hammer",Mue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],kb=Ee("image",Lue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Uue=Ee("info",jue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],BO=Ee("layers",Vue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],zue=Ee("layout-dashboard",Fue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],que=Ee("layout-grid",Bue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Hue=Ee("leaf",$ue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],LS=Ee("lightbulb",Gue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Yue=Ee("link",Kue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],jz=Ee("list-checks",Wue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jue=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Xue=Ee("list",Jue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Lo=Ee("loader-circle",Que);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yA=Ee("lock",Zue);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Uz=Ee("log-out",ede);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tde=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ap=Ee("mail",tde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nde=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Xh=Ee("map-pin",nde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rde=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ide=Ee("map",rde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}]],sde=Ee("message-square-more",ade);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ode=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],jS=Ee("message-square",ode);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],cde=Ee("mic-off",lde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ude=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],dde=Ee("mic",ude);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],hde=Ee("moon",fde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pde=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],mde=Ee("navigation",pde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gde=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],yde=Ee("package",gde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vde=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Vz=Ee("paperclip",vde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bde=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],qO=Ee("pen-tool",bde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xde=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Fz=Ee("pen",xde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _de=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],wde=Ee("phone-off",_de);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],vA=Ee("phone",Ede);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ws=Ee("plus",Sde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tde=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],J1=Ee("receipt",Tde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ade=Ee("refresh-cw",kde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zz=Ee("save",Cde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ide=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],$O=Ee("scale",Ide);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nde=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Hd=Ee("search",Nde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Bz=Ee("send",Rde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qz=Ee("settings",Pde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dde=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],US=Ee("shield",Dde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],$z=Ee("shopping-bag",Mde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ode=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ll=Ee("sparkles",Ode);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],HO=Ee("square-check-big",Lde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jde=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ude=Ee("star",jde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],GO=Ee("stethoscope",Vde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zde=Ee("sun",Fde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Hz=Ee("target",Bde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jl=Ee("trash-2",qde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $de=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Cp=Ee("trending-up",$de);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ip=Ee("triangle-alert",Hde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Kde=Ee("upload",Gde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Wde=Ee("user-plus",Yde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Xde=Ee("user-x",Jde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hm=Ee("user",Qde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],efe=Ee("users",Zde);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tfe=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nfe=Ee("video-off",tfe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rfe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Gz=Ee("video",rfe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],afe=Ee("wallet",ife);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],co=Ee("wrench",sfe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dr=Ee("x",ofe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lfe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],VS=Ee("zap",lfe);function cfe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ufe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dfe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ffe={};function KO(t,e){return(ffe.jsx?dfe:ufe).test(t)}const hfe=/[ \t\n\f\r]/g;function pfe(t){return typeof t=="object"?t.type==="text"?YO(t.value):!1:YO(t)}function YO(t){return t.replace(hfe,"")===""}class pm{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}pm.prototype.normal={};pm.prototype.property={};pm.prototype.space=void 0;function Kz(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new pm(n,r,e)}function FS(t){return t.toLowerCase()}class wi{constructor(e,n){this.attribute=n,this.property=e}}wi.prototype.attribute="";wi.prototype.booleanish=!1;wi.prototype.boolean=!1;wi.prototype.commaOrSpaceSeparated=!1;wi.prototype.commaSeparated=!1;wi.prototype.defined=!1;wi.prototype.mustUseProperty=!1;wi.prototype.number=!1;wi.prototype.overloadedBoolean=!1;wi.prototype.property="";wi.prototype.spaceSeparated=!1;wi.prototype.space=void 0;let mfe=0;const nt=cu(),Vn=cu(),zS=cu(),Ae=cu(),$t=cu(),wd=cu(),Oi=cu();function cu(){return 2**++mfe}const BS=Object.freeze(Object.defineProperty({__proto__:null,boolean:nt,booleanish:Vn,commaOrSpaceSeparated:Oi,commaSeparated:wd,number:Ae,overloadedBoolean:zS,spaceSeparated:$t},Symbol.toStringTag,{value:"Module"})),X1=Object.keys(BS);class bA extends wi{constructor(e,n,r,i){let a=-1;if(super(e,n),WO(this,"space",i),typeof r=="number")for(;++a<X1.length;){const s=X1[a];WO(this,X1[a],(r&BS[s])===BS[s])}}}bA.prototype.defined=!0;function WO(t,e,n){n&&(t[e]=n)}function hf(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new bA(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[FS(r)]=r,n[FS(a.attribute)]=r}return new pm(e,n,t.space)}const Yz=hf({properties:{ariaActiveDescendant:null,ariaAtomic:Vn,ariaAutoComplete:null,ariaBusy:Vn,ariaChecked:Vn,ariaColCount:Ae,ariaColIndex:Ae,ariaColSpan:Ae,ariaControls:$t,ariaCurrent:null,ariaDescribedBy:$t,ariaDetails:null,ariaDisabled:Vn,ariaDropEffect:$t,ariaErrorMessage:null,ariaExpanded:Vn,ariaFlowTo:$t,ariaGrabbed:Vn,ariaHasPopup:null,ariaHidden:Vn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$t,ariaLevel:Ae,ariaLive:null,ariaModal:Vn,ariaMultiLine:Vn,ariaMultiSelectable:Vn,ariaOrientation:null,ariaOwns:$t,ariaPlaceholder:null,ariaPosInSet:Ae,ariaPressed:Vn,ariaReadOnly:Vn,ariaRelevant:null,ariaRequired:Vn,ariaRoleDescription:$t,ariaRowCount:Ae,ariaRowIndex:Ae,ariaRowSpan:Ae,ariaSelected:Vn,ariaSetSize:Ae,ariaSort:null,ariaValueMax:Ae,ariaValueMin:Ae,ariaValueNow:Ae,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Wz(t,e){return e in t?t[e]:e}function Jz(t,e){return Wz(t,e.toLowerCase())}const gfe=hf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wd,acceptCharset:$t,accessKey:$t,action:null,allow:null,allowFullScreen:nt,allowPaymentRequest:nt,allowUserMedia:nt,alt:null,as:null,async:nt,autoCapitalize:null,autoComplete:$t,autoFocus:nt,autoPlay:nt,blocking:$t,capture:null,charSet:null,checked:nt,cite:null,className:$t,cols:Ae,colSpan:null,content:null,contentEditable:Vn,controls:nt,controlsList:$t,coords:Ae|wd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nt,defer:nt,dir:null,dirName:null,disabled:nt,download:zS,draggable:Vn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nt,formTarget:null,headers:$t,height:Ae,hidden:zS,high:Ae,href:null,hrefLang:null,htmlFor:$t,httpEquiv:$t,id:null,imageSizes:null,imageSrcSet:null,inert:nt,inputMode:null,integrity:null,is:null,isMap:nt,itemId:null,itemProp:$t,itemRef:$t,itemScope:nt,itemType:$t,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nt,low:Ae,manifest:null,max:null,maxLength:Ae,media:null,method:null,min:null,minLength:Ae,multiple:nt,muted:nt,name:null,nonce:null,noModule:nt,noValidate:nt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nt,optimum:Ae,pattern:null,ping:$t,placeholder:null,playsInline:nt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nt,referrerPolicy:null,rel:$t,required:nt,reversed:nt,rows:Ae,rowSpan:Ae,sandbox:$t,scope:null,scoped:nt,seamless:nt,selected:nt,shadowRootClonable:nt,shadowRootDelegatesFocus:nt,shadowRootMode:null,shape:null,size:Ae,sizes:null,slot:null,span:Ae,spellCheck:Vn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ae,step:null,style:null,tabIndex:Ae,target:null,title:null,translate:null,type:null,typeMustMatch:nt,useMap:null,value:Vn,width:Ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$t,axis:null,background:null,bgColor:null,border:Ae,borderColor:null,bottomMargin:Ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nt,declare:nt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ae,leftMargin:Ae,link:null,longDesc:null,lowSrc:null,marginHeight:Ae,marginWidth:Ae,noResize:nt,noHref:nt,noShade:nt,noWrap:nt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ae,rules:null,scheme:null,scrolling:Vn,standby:null,summary:null,text:null,topMargin:Ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nt,disableRemotePlayback:nt,prefix:null,property:null,results:Ae,security:null,unselectable:null},space:"html",transform:Jz}),yfe=hf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Oi,accentHeight:Ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ae,amplitude:Ae,arabicForm:null,ascent:Ae,attributeName:null,attributeType:null,azimuth:Ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ae,by:null,calcMode:null,capHeight:Ae,className:$t,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ae,diffuseConstant:Ae,direction:null,display:null,dur:null,divisor:Ae,dominantBaseline:null,download:nt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ae,enableBackground:null,end:null,event:null,exponent:Ae,externalResourcesRequired:null,fill:null,fillOpacity:Ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wd,g2:wd,glyphName:wd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ae,horizOriginX:Ae,horizOriginY:Ae,id:null,ideographic:Ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ae,k:Ae,k1:Ae,k2:Ae,k3:Ae,k4:Ae,kernelMatrix:Oi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ae,overlineThickness:Ae,paintOrder:null,panose1:null,path:null,pathLength:Ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$t,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ae,pointsAtY:Ae,pointsAtZ:Ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Oi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Oi,rev:Oi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Oi,requiredFeatures:Oi,requiredFonts:Oi,requiredFormats:Oi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ae,specularExponent:Ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ae,strikethroughThickness:Ae,string:null,stroke:null,strokeDashArray:Oi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ae,strokeOpacity:Ae,strokeWidth:null,style:null,surfaceScale:Ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Oi,tabIndex:Ae,tableValues:null,target:null,targetX:Ae,targetY:Ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Oi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ae,underlineThickness:Ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ae,values:null,vAlphabetic:Ae,vMathematical:Ae,vectorEffect:null,vHanging:Ae,vIdeographic:Ae,version:null,vertAdvY:Ae,vertOriginX:Ae,vertOriginY:Ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Wz}),Xz=hf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Qz=hf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Jz}),Zz=hf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),vfe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},bfe=/[A-Z]/g,JO=/-[a-z]/g,xfe=/^data[-\w.:]+$/i;function _fe(t,e){const n=FS(e);let r=e,i=wi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&xfe.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(JO,Efe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!JO.test(a)){let s=a.replace(bfe,wfe);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=bA}return new i(r,e)}function wfe(t){return"-"+t.toLowerCase()}function Efe(t){return t.charAt(1).toUpperCase()}const Sfe=Kz([Yz,gfe,Xz,Qz,Zz],"html"),xA=Kz([Yz,yfe,Xz,Qz,Zz],"svg");function Tfe(t){return t.join(" ").trim()}var sd={},Q1,XO;function kfe(){if(XO)return Q1;XO=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d="/",f="*",p="",y="comment",v="declaration";function T(S,C){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];C=C||{};var R=1,I=1;function L(le){var X=le.match(e);X&&(R+=X.length);var J=le.lastIndexOf(u);I=~J?le.length-J:I+le.length}function F(){var le={line:R,column:I};return function(X){return X.position=new j(le),M(),X}}function j(le){this.start=le,this.end={line:R,column:I},this.source=C.source}j.prototype.content=S;function P(le){var X=new Error(C.source+":"+R+":"+I+": "+le);if(X.reason=le,X.filename=C.source,X.line=R,X.column=I,X.source=S,!C.silent)throw X}function U(le){var X=le.exec(S);if(X){var J=X[0];return L(J),S=S.slice(J.length),X}}function M(){U(n)}function B(le){var X;for(le=le||[];X=V();)X!==!1&&le.push(X);return le}function V(){var le=F();if(!(d!=S.charAt(0)||f!=S.charAt(1))){for(var X=2;p!=S.charAt(X)&&(f!=S.charAt(X)||d!=S.charAt(X+1));)++X;if(X+=2,p===S.charAt(X-1))return P("End of comment missing");var J=S.slice(2,X-2);return I+=2,L(J),S=S.slice(X),I+=2,le({type:y,comment:J})}}function q(){var le=F(),X=U(r);if(X){if(V(),!U(i))return P("property missing ':'");var J=U(a),H=le({type:v,property:k(X[0].replace(t,p)),value:J?k(J[0].replace(t,p)):p});return U(s),H}}function z(){var le=[];B(le);for(var X;X=q();)X!==!1&&(le.push(X),B(le));return le}return M(),z()}function k(S){return S?S.replace(l,p):p}return Q1=T,Q1}var QO;function Afe(){if(QO)return sd;QO=1;var t=sd&&sd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(sd,"__esModule",{value:!0}),sd.default=n;const e=t(kfe());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const s=(0,e.default)(r),l=typeof i=="function";return s.forEach(u=>{if(u.type!=="declaration")return;const{property:d,value:f}=u;l?i(d,f,u):f&&(a=a||{},a[d]=f)}),a}return sd}var Oh={},ZO;function Cfe(){if(ZO)return Oh;ZO=1,Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},s=function(d,f){return f.toUpperCase()},l=function(d,f){return"".concat(f,"-")},u=function(d,f){return f===void 0&&(f={}),a(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(i,l):d=d.replace(r,l),d.replace(e,s))};return Oh.camelCase=u,Oh}var Lh,eL;function Ife(){if(eL)return Lh;eL=1;var t=Lh&&Lh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Afe()),n=Cfe();function r(i,a){var s={};return!i||typeof i!="string"||(0,e.default)(i,function(l,u){l&&u&&(s[(0,n.camelCase)(l,a)]=u)}),s}return r.default=r,Lh=r,Lh}var Nfe=Ife();const Rfe=ba(Nfe),eB=tB("end"),_A=tB("start");function tB(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Pfe(t){const e=_A(t),n=eB(t);if(e&&n)return{start:e,end:n}}function Qh(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?tL(t.position):"start"in t||"end"in t?tL(t):"line"in t||"column"in t?qS(t):""}function qS(t){return nL(t&&t.line)+":"+nL(t&&t.column)}function tL(t){return qS(t&&t.start)+"-"+qS(t&&t.end)}function nL(t){return t&&typeof t=="number"?t:1}class Ur extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?a.ruleId=r:(a.source=r.slice(0,u),a.ruleId=r.slice(u+1))}if(!a.place&&a.ancestors&&a.ancestors){const u=a.ancestors[a.ancestors.length-1];u&&(a.place=u.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Qh(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ur.prototype.file="";Ur.prototype.name="";Ur.prototype.reason="";Ur.prototype.message="";Ur.prototype.stack="";Ur.prototype.column=void 0;Ur.prototype.line=void 0;Ur.prototype.ancestors=void 0;Ur.prototype.cause=void 0;Ur.prototype.fatal=void 0;Ur.prototype.place=void 0;Ur.prototype.ruleId=void 0;Ur.prototype.source=void 0;const wA={}.hasOwnProperty,Dfe=new Map,Mfe=/[A-Z]/g,Ofe=new Set(["table","tbody","thead","tfoot","tr"]),Lfe=new Set(["td","th"]),nB="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function jfe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Hfe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=$fe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?xA:Sfe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=rB(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function rB(t,e,n){if(e.type==="element")return Ufe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Vfe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return zfe(t,e,n);if(e.type==="mdxjsEsm")return Ffe(t,e);if(e.type==="root")return Bfe(t,e,n);if(e.type==="text")return qfe(t,e)}function Ufe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=xA,t.schema=i),t.ancestors.push(e);const a=aB(t,e.tagName,!1),s=Gfe(t,e);let l=SA(t,e);return Ofe.has(e.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!pfe(u):!0})),iB(t,s,a,e),EA(s,l),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function Vfe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Np(t,e.position)}function Ffe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Np(t,e.position)}function zfe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=xA,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:aB(t,e.name,!0),s=Kfe(t,e),l=SA(t,e);return iB(t,s,a,e),EA(s,l),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function Bfe(t,e,n){const r={};return EA(r,SA(t,e)),t.create(e,t.Fragment,r,n)}function qfe(t,e){return e.value}function iB(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function EA(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function $fe(t,e,n){return r;function r(i,a,s,l){const d=Array.isArray(s.children)?n:e;return l?d(a,s,l):d(a,s)}}function Hfe(t,e){return n;function n(r,i,a,s){const l=Array.isArray(a.children),u=_A(r);return e(i,a,s,l,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function Gfe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&wA.call(e.properties,i)){const a=Yfe(t,i,e.properties[i]);if(a){const[s,l]=a;t.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&Lfe.has(e.tagName)?r=l:n[s]=l}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Kfe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const l=s.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else Np(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,a=t.evaluater.evaluateExpression(l.expression)}else Np(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function SA(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Dfe;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const u=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(u){const d=i.get(u)||0;s=u+"-"+d,i.set(u,d+1)}}const l=rB(t,a,s);l!==void 0&&n.push(l)}return n}function Yfe(t,e,n){const r=_fe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?cfe(n):Tfe(n)),r.property==="style"){let i=typeof n=="object"?n:Wfe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Jfe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?vfe[r.property]||r.property:r.attribute,n]}}function Wfe(t,e){try{return Rfe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Ur("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=nB+"#cannot-parse-style-attribute",i}}function aB(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const l=KO(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=s}else r=KO(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return wA.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Np(t)}function Np(t,e){const n=new Ur("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=nB+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Jfe(t){const e={};let n;for(n in t)wA.call(t,n)&&(e[Xfe(n)]=t[n]);return e}function Xfe(t){let e=t.replace(Mfe,Qfe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Qfe(t){return"-"+t.toLowerCase()}const Z1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Zfe={};function ehe(t,e){const n=Zfe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return sB(t,r,i)}function sB(t,e,n){if(the(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return rL(t.children,e,n)}return Array.isArray(t)?rL(t,e,n):""}function rL(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=sB(t[i],e,n);return r.join("")}function the(t){return!!(t&&typeof t=="object")}const iL=document.createElement("i");function TA(t){const e="&"+t+";";iL.innerHTML=e;const n=iL.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ds(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function ua(t,e){return t.length>0?(Ds(t,t.length,0,e),t):e}const aL={}.hasOwnProperty;function nhe(t){const e={};let n=-1;for(;++n<t.length;)rhe(e,t[n]);return e}function rhe(t,e){let n;for(n in e){const i=(aL.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){aL.call(i,s)||(i[s]=[]);const l=a[s];ihe(i[s],Array.isArray(l)?l:l?[l]:[])}}}function ihe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ds(t,0,0,r)}function oB(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ed(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const gs=ic(/[A-Za-z]/),Vi=ic(/[\dA-Za-z]/),ahe=ic(/[#-'*+\--9=?A-Z^-~]/);function $S(t){return t!==null&&(t<32||t===127)}const HS=ic(/\d/),she=ic(/[\dA-Fa-f]/),ohe=ic(/[!-/:-@[-`{-~]/);function Ye(t){return t!==null&&t<-2}function vi(t){return t!==null&&(t<0||t===32)}function kt(t){return t===-2||t===-1||t===32}const lhe=ic(new RegExp("\\p{P}|\\p{S}","u")),che=ic(/\s/);function ic(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function pf(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&Vi(t.charCodeAt(n+1))&&Vi(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const l=t.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(s=String.fromCharCode(a,l),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Kt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(u){return kt(u)?(t.enter(n),l(u)):e(u)}function l(u){return kt(u)&&a++<i?(t.consume(u),l):(t.exit(n),e(u))}}const uhe={tokenize:dhe};function dhe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Kt(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),a(l)}function a(l){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,s(l)}function s(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return Ye(l)?(t.consume(l),t.exit("chunkText"),a):(t.consume(l),s)}}const fhe={tokenize:hhe},sL={tokenize:phe};function hhe(t){const e=this,n=[];let r=0,i,a,s;return l;function l(I){if(r<n.length){const L=n[r];return e.containerState=L[1],t.attempt(L[0].continuation,u,d)(I)}return d(I)}function u(I){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&R();const L=e.events.length;let F=L,j;for(;F--;)if(e.events[F][0]==="exit"&&e.events[F][1].type==="chunkFlow"){j=e.events[F][1].end;break}C(r);let P=L;for(;P<e.events.length;)e.events[P][1].end={...j},P++;return Ds(e.events,F+1,0,e.events.slice(L)),e.events.length=P,d(I)}return l(I)}function d(I){if(r===n.length){if(!i)return y(I);if(i.currentConstruct&&i.currentConstruct.concrete)return T(I);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(sL,f,p)(I)}function f(I){return i&&R(),C(r),y(I)}function p(I){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,T(I)}function y(I){return e.containerState={},t.attempt(sL,v,T)(I)}function v(I){return r++,n.push([e.currentConstruct,e.containerState]),y(I)}function T(I){if(I===null){i&&R(),C(0),t.consume(I);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),k(I)}function k(I){if(I===null){S(t.exit("chunkFlow"),!0),C(0),t.consume(I);return}return Ye(I)?(t.consume(I),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(I),k)}function S(I,L){const F=e.sliceStream(I);if(L&&F.push(null),I.previous=a,a&&(a.next=I),a=I,i.defineSkip(I.start),i.write(F),e.parser.lazy[I.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<s&&(!i.events[j][1].end||i.events[j][1].end.offset>s))return;const P=e.events.length;let U=P,M,B;for(;U--;)if(e.events[U][0]==="exit"&&e.events[U][1].type==="chunkFlow"){if(M){B=e.events[U][1].end;break}M=!0}for(C(r),j=P;j<e.events.length;)e.events[j][1].end={...B},j++;Ds(e.events,U+1,0,e.events.slice(P)),e.events.length=j}}function C(I){let L=n.length;for(;L-- >I;){const F=n[L];e.containerState=F[1],F[0].exit.call(e,t)}n.length=I}function R(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function phe(t,e,n){return Kt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function oL(t){if(t===null||vi(t)||che(t))return 1;if(lhe(t))return 2}function kA(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const GS={name:"attention",resolveAll:mhe,tokenize:ghe};function mhe(t,e){let n=-1,r,i,a,s,l,u,d,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[r][1].end},y={...t[n][1].start};lL(p,-u),lL(y,u),s={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:y},a={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...s.start},end:{...l.end}},t[r][1].end={...s.start},t[n][1].start={...l.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=ua(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=ua(d,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),d=ua(d,kA(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=ua(d,[["exit",a,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,d=ua(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,Ds(t,r-1,n-r+3,d),n=r+d.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function ghe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=oL(r);let a;return s;function s(u){return a=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===a)return t.consume(u),l;const d=t.exit("attentionSequence"),f=oL(u),p=!f||f===2&&i||n.includes(u),y=!i||i===2&&f||n.includes(r);return d._open=!!(a===42?p:p&&(i||!y)),d._close=!!(a===42?y:y&&(f||!p)),e(u)}}function lL(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const yhe={name:"autolink",tokenize:vhe};function vhe(t,e,n){let r=0;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(v){return gs(v)?(t.consume(v),s):v===64?n(v):d(v)}function s(v){return v===43||v===45||v===46||Vi(v)?(r=1,l(v)):d(v)}function l(v){return v===58?(t.consume(v),r=0,u):(v===43||v===45||v===46||Vi(v))&&r++<32?(t.consume(v),l):(r=0,d(v))}function u(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):v===null||v===32||v===60||$S(v)?n(v):(t.consume(v),u)}function d(v){return v===64?(t.consume(v),f):ahe(v)?(t.consume(v),d):n(v)}function f(v){return Vi(v)?p(v):n(v)}function p(v){return v===46?(t.consume(v),r=0,f):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):y(v)}function y(v){if((v===45||Vi(v))&&r++<63){const T=v===45?y:p;return t.consume(v),T}return n(v)}}const Ab={partial:!0,tokenize:bhe};function bhe(t,e,n){return r;function r(a){return kt(a)?Kt(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||Ye(a)?e(a):n(a)}}const lB={continuation:{tokenize:_he},exit:whe,name:"blockQuote",tokenize:xhe};function xhe(t,e,n){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return kt(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function _he(t,e,n){const r=this;return i;function i(s){return kt(s)?Kt(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(lB,e,n)(s)}}function whe(t){t.exit("blockQuote")}const cB={name:"characterEscape",tokenize:Ehe};function Ehe(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return ohe(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const uB={name:"characterReference",tokenize:She};function She(t,e,n){const r=this;let i=0,a,s;return l;function l(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),u}function u(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,s=Vi,f(p))}function d(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=she,f):(t.enter("characterReferenceValue"),a=7,s=HS,f(p))}function f(p){if(p===59&&i){const y=t.exit("characterReferenceValue");return s===Vi&&!TA(r.sliceSerialize(y))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(p)&&i++<a?(t.consume(p),f):n(p)}}const cL={partial:!0,tokenize:khe},uL={concrete:!0,name:"codeFenced",tokenize:The};function The(t,e,n){const r=this,i={partial:!0,tokenize:F};let a=0,s=0,l;return u;function u(j){return d(j)}function d(j){const P=r.events[r.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=j,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(j)}function f(j){return j===l?(s++,t.consume(j),f):s<3?n(j):(t.exit("codeFencedFenceSequence"),kt(j)?Kt(t,p,"whitespace")(j):p(j))}function p(j){return j===null||Ye(j)?(t.exit("codeFencedFence"),r.interrupt?e(j):t.check(cL,k,L)(j)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(j))}function y(j){return j===null||Ye(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(j)):kt(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Kt(t,v,"whitespace")(j)):j===96&&j===l?n(j):(t.consume(j),y)}function v(j){return j===null||Ye(j)?p(j):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),T(j))}function T(j){return j===null||Ye(j)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(j)):j===96&&j===l?n(j):(t.consume(j),T)}function k(j){return t.attempt(i,L,S)(j)}function S(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),C}function C(j){return a>0&&kt(j)?Kt(t,R,"linePrefix",a+1)(j):R(j)}function R(j){return j===null||Ye(j)?t.check(cL,k,L)(j):(t.enter("codeFlowValue"),I(j))}function I(j){return j===null||Ye(j)?(t.exit("codeFlowValue"),R(j)):(t.consume(j),I)}function L(j){return t.exit("codeFenced"),e(j)}function F(j,P,U){let M=0;return B;function B(X){return j.enter("lineEnding"),j.consume(X),j.exit("lineEnding"),V}function V(X){return j.enter("codeFencedFence"),kt(X)?Kt(j,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(X):q(X)}function q(X){return X===l?(j.enter("codeFencedFenceSequence"),z(X)):U(X)}function z(X){return X===l?(M++,j.consume(X),z):M>=s?(j.exit("codeFencedFenceSequence"),kt(X)?Kt(j,le,"whitespace")(X):le(X)):U(X)}function le(X){return X===null||Ye(X)?(j.exit("codeFencedFence"),P(X)):U(X)}}}function khe(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const eE={name:"codeIndented",tokenize:Che},Ahe={partial:!0,tokenize:Ihe};function Che(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),Kt(t,a,"linePrefix",5)(d)}function a(d){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?s(d):n(d)}function s(d){return d===null?u(d):Ye(d)?t.attempt(Ahe,s,u)(d):(t.enter("codeFlowValue"),l(d))}function l(d){return d===null||Ye(d)?(t.exit("codeFlowValue"),s(d)):(t.consume(d),l)}function u(d){return t.exit("codeIndented"),e(d)}}function Ihe(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Ye(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Kt(t,a,"linePrefix",5)(s)}function a(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(s):Ye(s)?i(s):n(s)}}const Nhe={name:"codeText",previous:Phe,resolve:Rhe,tokenize:Dhe};function Rhe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Phe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Dhe(t,e,n){let r=0,i,a;return s;function s(p){return t.enter("codeText"),t.enter("codeTextSequence"),l(p)}function l(p){return p===96?(t.consume(p),r++,l):(t.exit("codeTextSequence"),u(p))}function u(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),u):p===96?(a=t.enter("codeTextSequence"),i=0,f(p)):Ye(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),u):(t.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||Ye(p)?(t.exit("codeTextData"),u(p)):(t.consume(p),d)}function f(p){return p===96?(t.consume(p),i++,f):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(a.type="codeTextData",d(p))}}class Mhe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&jh(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),jh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),jh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);jh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);jh(this.left,n.reverse())}}}function jh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function dB(t){const e={};let n=-1,r,i,a,s,l,u,d;const f=new Mhe(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,a=0,a<u.length&&u[a][1].type==="lineEndingBlank"&&(a+=2),a<u.length&&u[a][1].type==="content"))for(;++a<u.length&&u[a][1].type!=="content";)u[a][1].type==="chunkText"&&(u[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Ohe(f,n)),n=e[n],d=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=f.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},l=f.slice(i,n),l.unshift(r),f.splice(i,n-i+1,l))}}return Ds(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!d}function Ohe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const l=s.events,u=[],d={};let f,p,y=-1,v=n,T=0,k=0;const S=[k];for(;v;){for(;t.get(++i)[1]!==v;);a.push(i),v._tokenizer||(f=r.sliceStream(v),v.next||f.push(null),p&&s.defineSkip(v.start),v._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(f),v._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),p=v,v=v.next}for(v=n;++y<l.length;)l[y][0]==="exit"&&l[y-1][0]==="enter"&&l[y][1].type===l[y-1][1].type&&l[y][1].start.line!==l[y][1].end.line&&(k=y+1,S.push(k),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(s.events=[],v?(v._tokenizer=void 0,v.previous=void 0):S.pop(),y=S.length;y--;){const C=l.slice(S[y],S[y+1]),R=a.pop();u.push([R,R+C.length-1]),t.splice(R,2,C)}for(u.reverse(),y=-1;++y<u.length;)d[T+u[y][0]]=T+u[y][1],T+=u[y][1]-u[y][0]-1;return d}const Lhe={resolve:Uhe,tokenize:Vhe},jhe={partial:!0,tokenize:Fhe};function Uhe(t){return dB(t),t}function Vhe(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):Ye(l)?t.check(jhe,s,a)(l):(t.consume(l),i)}function a(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function s(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Fhe(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Kt(t,a,"linePrefix")}function a(s){if(s===null||Ye(s))return n(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function fB(t,e,n,r,i,a,s,l,u){const d=u||Number.POSITIVE_INFINITY;let f=0;return p;function p(C){return C===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(C),t.exit(a),y):C===null||C===32||C===41||$S(C)?n(C):(t.enter(r),t.enter(s),t.enter(l),t.enter("chunkString",{contentType:"string"}),k(C))}function y(C){return C===62?(t.enter(a),t.consume(C),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),v(C))}function v(C){return C===62?(t.exit("chunkString"),t.exit(l),y(C)):C===null||C===60||Ye(C)?n(C):(t.consume(C),C===92?T:v)}function T(C){return C===60||C===62||C===92?(t.consume(C),v):v(C)}function k(C){return!f&&(C===null||C===41||vi(C))?(t.exit("chunkString"),t.exit(l),t.exit(s),t.exit(r),e(C)):f<d&&C===40?(t.consume(C),f++,k):C===41?(t.consume(C),f--,k):C===null||C===32||C===40||$S(C)?n(C):(t.consume(C),C===92?S:k)}function S(C){return C===40||C===41||C===92?(t.consume(C),k):k(C)}}function hB(t,e,n,r,i,a){const s=this;let l=0,u;return d;function d(v){return t.enter(r),t.enter(i),t.consume(v),t.exit(i),t.enter(a),f}function f(v){return l>999||v===null||v===91||v===93&&!u||v===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(v):v===93?(t.exit(a),t.enter(i),t.consume(v),t.exit(i),t.exit(r),e):Ye(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||Ye(v)||l++>999?(t.exit("chunkString"),f(v)):(t.consume(v),u||(u=!kt(v)),v===92?y:p)}function y(v){return v===91||v===92||v===93?(t.consume(v),l++,p):p(v)}}function pB(t,e,n,r,i,a){let s;return l;function l(y){return y===34||y===39||y===40?(t.enter(r),t.enter(i),t.consume(y),t.exit(i),s=y===40?41:y,u):n(y)}function u(y){return y===s?(t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):(t.enter(a),d(y))}function d(y){return y===s?(t.exit(a),u(s)):y===null?n(y):Ye(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),Kt(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===s||y===null||Ye(y)?(t.exit("chunkString"),d(y)):(t.consume(y),y===92?p:f)}function p(y){return y===s||y===92?(t.consume(y),f):f(y)}}function Zh(t,e){let n;return r;function r(i){return Ye(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):kt(i)?Kt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const zhe={name:"definition",tokenize:qhe},Bhe={partial:!0,tokenize:$he};function qhe(t,e,n){const r=this;let i;return a;function a(v){return t.enter("definition"),s(v)}function s(v){return hB.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function l(v){return i=Ed(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),u):n(v)}function u(v){return vi(v)?Zh(t,d)(v):d(v)}function d(v){return fB(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function f(v){return t.attempt(Bhe,p,p)(v)}function p(v){return kt(v)?Kt(t,y,"whitespace")(v):y(v)}function y(v){return v===null||Ye(v)?(t.exit("definition"),r.parser.defined.push(i),e(v)):n(v)}}function $he(t,e,n){return r;function r(l){return vi(l)?Zh(t,i)(l):n(l)}function i(l){return pB(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return kt(l)?Kt(t,s,"whitespace")(l):s(l)}function s(l){return l===null||Ye(l)?e(l):n(l)}}const Hhe={name:"hardBreakEscape",tokenize:Ghe};function Ghe(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return Ye(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const Khe={name:"headingAtx",resolve:Yhe,tokenize:Whe};function Yhe(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ds(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function Whe(t,e,n){let r=0;return i;function i(f){return t.enter("atxHeading"),a(f)}function a(f){return t.enter("atxHeadingSequence"),s(f)}function s(f){return f===35&&r++<6?(t.consume(f),s):f===null||vi(f)?(t.exit("atxHeadingSequence"),l(f)):n(f)}function l(f){return f===35?(t.enter("atxHeadingSequence"),u(f)):f===null||Ye(f)?(t.exit("atxHeading"),e(f)):kt(f)?Kt(t,l,"whitespace")(f):(t.enter("atxHeadingText"),d(f))}function u(f){return f===35?(t.consume(f),u):(t.exit("atxHeadingSequence"),l(f))}function d(f){return f===null||f===35||vi(f)?(t.exit("atxHeadingText"),l(f)):(t.consume(f),d)}}const Jhe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],dL=["pre","script","style","textarea"],Xhe={concrete:!0,name:"htmlFlow",resolveTo:epe,tokenize:tpe},Qhe={partial:!0,tokenize:rpe},Zhe={partial:!0,tokenize:npe};function epe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function tpe(t,e,n){const r=this;let i,a,s,l,u;return d;function d(K){return f(K)}function f(K){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(K),p}function p(K){return K===33?(t.consume(K),y):K===47?(t.consume(K),a=!0,k):K===63?(t.consume(K),i=3,r.interrupt?e:Y):gs(K)?(t.consume(K),s=String.fromCharCode(K),S):n(K)}function y(K){return K===45?(t.consume(K),i=2,v):K===91?(t.consume(K),i=5,l=0,T):gs(K)?(t.consume(K),i=4,r.interrupt?e:Y):n(K)}function v(K){return K===45?(t.consume(K),r.interrupt?e:Y):n(K)}function T(K){const pe="CDATA[";return K===pe.charCodeAt(l++)?(t.consume(K),l===pe.length?r.interrupt?e:q:T):n(K)}function k(K){return gs(K)?(t.consume(K),s=String.fromCharCode(K),S):n(K)}function S(K){if(K===null||K===47||K===62||vi(K)){const pe=K===47,we=s.toLowerCase();return!pe&&!a&&dL.includes(we)?(i=1,r.interrupt?e(K):q(K)):Jhe.includes(s.toLowerCase())?(i=6,pe?(t.consume(K),C):r.interrupt?e(K):q(K)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(K):a?R(K):I(K))}return K===45||Vi(K)?(t.consume(K),s+=String.fromCharCode(K),S):n(K)}function C(K){return K===62?(t.consume(K),r.interrupt?e:q):n(K)}function R(K){return kt(K)?(t.consume(K),R):B(K)}function I(K){return K===47?(t.consume(K),B):K===58||K===95||gs(K)?(t.consume(K),L):kt(K)?(t.consume(K),I):B(K)}function L(K){return K===45||K===46||K===58||K===95||Vi(K)?(t.consume(K),L):F(K)}function F(K){return K===61?(t.consume(K),j):kt(K)?(t.consume(K),F):I(K)}function j(K){return K===null||K===60||K===61||K===62||K===96?n(K):K===34||K===39?(t.consume(K),u=K,P):kt(K)?(t.consume(K),j):U(K)}function P(K){return K===u?(t.consume(K),u=null,M):K===null||Ye(K)?n(K):(t.consume(K),P)}function U(K){return K===null||K===34||K===39||K===47||K===60||K===61||K===62||K===96||vi(K)?F(K):(t.consume(K),U)}function M(K){return K===47||K===62||kt(K)?I(K):n(K)}function B(K){return K===62?(t.consume(K),V):n(K)}function V(K){return K===null||Ye(K)?q(K):kt(K)?(t.consume(K),V):n(K)}function q(K){return K===45&&i===2?(t.consume(K),J):K===60&&i===1?(t.consume(K),H):K===62&&i===4?(t.consume(K),$):K===63&&i===3?(t.consume(K),Y):K===93&&i===5?(t.consume(K),ne):Ye(K)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Qhe,te,z)(K)):K===null||Ye(K)?(t.exit("htmlFlowData"),z(K)):(t.consume(K),q)}function z(K){return t.check(Zhe,le,te)(K)}function le(K){return t.enter("lineEnding"),t.consume(K),t.exit("lineEnding"),X}function X(K){return K===null||Ye(K)?z(K):(t.enter("htmlFlowData"),q(K))}function J(K){return K===45?(t.consume(K),Y):q(K)}function H(K){return K===47?(t.consume(K),s="",Z):q(K)}function Z(K){if(K===62){const pe=s.toLowerCase();return dL.includes(pe)?(t.consume(K),$):q(K)}return gs(K)&&s.length<8?(t.consume(K),s+=String.fromCharCode(K),Z):q(K)}function ne(K){return K===93?(t.consume(K),Y):q(K)}function Y(K){return K===62?(t.consume(K),$):K===45&&i===2?(t.consume(K),Y):q(K)}function $(K){return K===null||Ye(K)?(t.exit("htmlFlowData"),te(K)):(t.consume(K),$)}function te(K){return t.exit("htmlFlow"),e(K)}}function npe(t,e,n){const r=this;return i;function i(s){return Ye(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function rpe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Ab,e,n)}}const ipe={name:"htmlText",tokenize:ape};function ape(t,e,n){const r=this;let i,a,s;return l;function l(Y){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(Y),u}function u(Y){return Y===33?(t.consume(Y),d):Y===47?(t.consume(Y),F):Y===63?(t.consume(Y),I):gs(Y)?(t.consume(Y),U):n(Y)}function d(Y){return Y===45?(t.consume(Y),f):Y===91?(t.consume(Y),a=0,T):gs(Y)?(t.consume(Y),R):n(Y)}function f(Y){return Y===45?(t.consume(Y),v):n(Y)}function p(Y){return Y===null?n(Y):Y===45?(t.consume(Y),y):Ye(Y)?(s=p,H(Y)):(t.consume(Y),p)}function y(Y){return Y===45?(t.consume(Y),v):p(Y)}function v(Y){return Y===62?J(Y):Y===45?y(Y):p(Y)}function T(Y){const $="CDATA[";return Y===$.charCodeAt(a++)?(t.consume(Y),a===$.length?k:T):n(Y)}function k(Y){return Y===null?n(Y):Y===93?(t.consume(Y),S):Ye(Y)?(s=k,H(Y)):(t.consume(Y),k)}function S(Y){return Y===93?(t.consume(Y),C):k(Y)}function C(Y){return Y===62?J(Y):Y===93?(t.consume(Y),C):k(Y)}function R(Y){return Y===null||Y===62?J(Y):Ye(Y)?(s=R,H(Y)):(t.consume(Y),R)}function I(Y){return Y===null?n(Y):Y===63?(t.consume(Y),L):Ye(Y)?(s=I,H(Y)):(t.consume(Y),I)}function L(Y){return Y===62?J(Y):I(Y)}function F(Y){return gs(Y)?(t.consume(Y),j):n(Y)}function j(Y){return Y===45||Vi(Y)?(t.consume(Y),j):P(Y)}function P(Y){return Ye(Y)?(s=P,H(Y)):kt(Y)?(t.consume(Y),P):J(Y)}function U(Y){return Y===45||Vi(Y)?(t.consume(Y),U):Y===47||Y===62||vi(Y)?M(Y):n(Y)}function M(Y){return Y===47?(t.consume(Y),J):Y===58||Y===95||gs(Y)?(t.consume(Y),B):Ye(Y)?(s=M,H(Y)):kt(Y)?(t.consume(Y),M):J(Y)}function B(Y){return Y===45||Y===46||Y===58||Y===95||Vi(Y)?(t.consume(Y),B):V(Y)}function V(Y){return Y===61?(t.consume(Y),q):Ye(Y)?(s=V,H(Y)):kt(Y)?(t.consume(Y),V):M(Y)}function q(Y){return Y===null||Y===60||Y===61||Y===62||Y===96?n(Y):Y===34||Y===39?(t.consume(Y),i=Y,z):Ye(Y)?(s=q,H(Y)):kt(Y)?(t.consume(Y),q):(t.consume(Y),le)}function z(Y){return Y===i?(t.consume(Y),i=void 0,X):Y===null?n(Y):Ye(Y)?(s=z,H(Y)):(t.consume(Y),z)}function le(Y){return Y===null||Y===34||Y===39||Y===60||Y===61||Y===96?n(Y):Y===47||Y===62||vi(Y)?M(Y):(t.consume(Y),le)}function X(Y){return Y===47||Y===62||vi(Y)?M(Y):n(Y)}function J(Y){return Y===62?(t.consume(Y),t.exit("htmlTextData"),t.exit("htmlText"),e):n(Y)}function H(Y){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(Y),t.exit("lineEnding"),Z}function Z(Y){return kt(Y)?Kt(t,ne,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):ne(Y)}function ne(Y){return t.enter("htmlTextData"),s(Y)}}const AA={name:"labelEnd",resolveAll:cpe,resolveTo:upe,tokenize:dpe},spe={tokenize:fpe},ope={tokenize:hpe},lpe={tokenize:ppe};function cpe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Ds(t,0,t.length,n),t}function upe(t,e){let n=t.length,r=0,i,a,s,l;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const u={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},f={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return l=[["enter",u,e],["enter",d,e]],l=ua(l,t.slice(a+1,a+r+3)),l=ua(l,[["enter",f,e]]),l=ua(l,kA(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),l=ua(l,[["exit",f,e],t[s-2],t[s-1],["exit",d,e]]),l=ua(l,t.slice(s+1)),l=ua(l,[["exit",u,e]]),Ds(t,a,t.length,l),t}function dpe(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(y){return a?a._inactive?p(y):(s=r.parser.defined.includes(Ed(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),u):n(y)}function u(y){return y===40?t.attempt(spe,f,s?f:p)(y):y===91?t.attempt(ope,f,s?d:p)(y):s?f(y):p(y)}function d(y){return t.attempt(lpe,f,p)(y)}function f(y){return e(y)}function p(y){return a._balanced=!0,n(y)}}function fpe(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return vi(p)?Zh(t,a)(p):a(p)}function a(p){return p===41?f(p):fB(t,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function s(p){return vi(p)?Zh(t,u)(p):f(p)}function l(p){return n(p)}function u(p){return p===34||p===39||p===40?pB(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function d(p){return vi(p)?Zh(t,f)(p):f(p)}function f(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function hpe(t,e,n){const r=this;return i;function i(l){return hB.call(r,t,a,s,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(Ed(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function s(l){return n(l)}}function ppe(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const mpe={name:"labelStartImage",resolveAll:AA.resolveAll,tokenize:gpe};function gpe(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),a}function a(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),s):n(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const ype={name:"labelStartLink",resolveAll:AA.resolveAll,tokenize:vpe};function vpe(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const tE={name:"lineEnding",tokenize:bpe};function bpe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Kt(t,e,"linePrefix")}}const $y={name:"thematicBreak",tokenize:xpe};function xpe(t,e,n){let r=0,i;return a;function a(d){return t.enter("thematicBreak"),s(d)}function s(d){return i=d,l(d)}function l(d){return d===i?(t.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||Ye(d))?(t.exit("thematicBreak"),e(d)):n(d)}function u(d){return d===i?(t.consume(d),r++,u):(t.exit("thematicBreakSequence"),kt(d)?Kt(t,l,"whitespace")(d):l(d))}}const ui={continuation:{tokenize:Spe},exit:kpe,name:"list",tokenize:Epe},_pe={partial:!0,tokenize:Ape},wpe={partial:!0,tokenize:Tpe};function Epe(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(v){const T=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:HS(v)){if(r.containerState.type||(r.containerState.type=T,t.enter(T,{_container:!0})),T==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check($y,n,d)(v):d(v);if(!r.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(v)}return n(v)}function u(v){return HS(v)&&++s<10?(t.consume(v),u):(!r.interrupt||s<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),d(v)):n(v)}function d(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,t.check(Ab,r.interrupt?n:f,t.attempt(_pe,y,p))}function f(v){return r.containerState.initialBlankLine=!0,a++,y(v)}function p(v){return kt(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),y):n(v)}function y(v){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(v)}}function Spe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Ab,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Kt(t,e,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!kt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(wpe,e,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Kt(t,t.attempt(ui,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Tpe(t,e,n){const r=this;return Kt(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function kpe(t){t.exit(this.containerState.type)}function Ape(t,e,n){const r=this;return Kt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!kt(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const fL={name:"setextUnderline",resolveTo:Cpe,tokenize:Ipe};function Cpe(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function Ipe(t,e,n){const r=this;let i;return a;function a(d){let f=r.events.length,p;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){p=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=d,s(d)):n(d)}function s(d){return t.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(t.consume(d),l):(t.exit("setextHeadingLineSequence"),kt(d)?Kt(t,u,"lineSuffix")(d):u(d))}function u(d){return d===null||Ye(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const Npe={tokenize:Rpe};function Rpe(t){const e=this,n=t.attempt(Ab,r,t.attempt(this.parser.constructs.flowInitial,i,Kt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Lhe,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Ppe={resolveAll:gB()},Dpe=mB("string"),Mpe=mB("text");function mB(t){return{resolveAll:gB(t==="text"?Ope:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,l);return s;function s(f){return d(f)?a(f):l(f)}function l(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),u}function u(f){return d(f)?(n.exit("data"),a(f)):(n.consume(f),u)}function d(f){if(f===null)return!0;const p=i[f];let y=-1;if(p)for(;++y<p.length;){const v=p[y];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function gB(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function Ope(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,l=0,u;for(;a--;){const d=i[a];if(typeof d=="string"){for(s=d.length;d.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(d===-2)u=!0,l++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const d={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const Lpe={42:ui,43:ui,45:ui,48:ui,49:ui,50:ui,51:ui,52:ui,53:ui,54:ui,55:ui,56:ui,57:ui,62:lB},jpe={91:zhe},Upe={[-2]:eE,[-1]:eE,32:eE},Vpe={35:Khe,42:$y,45:[fL,$y],60:Xhe,61:fL,95:$y,96:uL,126:uL},Fpe={38:uB,92:cB},zpe={[-5]:tE,[-4]:tE,[-3]:tE,33:mpe,38:uB,42:GS,60:[yhe,ipe],91:ype,92:[Hhe,cB],93:AA,95:GS,96:Nhe},Bpe={null:[GS,Ppe]},qpe={null:[42,95]},$pe={null:[]},Hpe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:qpe,contentInitial:jpe,disable:$pe,document:Lpe,flow:Vpe,flowInitial:Upe,insideSpan:Bpe,string:Fpe,text:zpe},Symbol.toStringTag,{value:"Module"}));function Gpe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],l=[];const u={attempt:P(F),check:P(j),consume:R,enter:I,exit:L,interrupt:P(j,{interrupt:!0})},d={code:null,containerState:{},defineSkip:k,events:[],now:T,parser:t,previous:null,sliceSerialize:y,sliceStream:v,write:p};let f=e.tokenize.call(d,u);return e.resolveAll&&a.push(e),d;function p(V){return s=ua(s,V),S(),s[s.length-1]!==null?[]:(U(e,0),d.events=kA(a,d.events,d),d.events)}function y(V,q){return Ype(v(V),q)}function v(V){return Kpe(s,V)}function T(){const{_bufferIndex:V,_index:q,line:z,column:le,offset:X}=r;return{_bufferIndex:V,_index:q,line:z,column:le,offset:X}}function k(V){i[V.line]=V.column,B()}function S(){let V;for(;r._index<s.length;){const q=s[r._index];if(typeof q=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<q.length;)C(q.charCodeAt(r._bufferIndex));else C(q)}}function C(V){f=f(V)}function R(V){Ye(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,B()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=V}function I(V,q){const z=q||{};return z.type=V,z.start=T(),d.events.push(["enter",z,d]),l.push(z),z}function L(V){const q=l.pop();return q.end=T(),d.events.push(["exit",q,d]),q}function F(V,q){U(V,q.from)}function j(V,q){q.restore()}function P(V,q){return z;function z(le,X,J){let H,Z,ne,Y;return Array.isArray(le)?te(le):"tokenize"in le?te([le]):$(le);function $(Se){return Ie;function Ie(He){const oe=He!==null&&Se[He],Ce=He!==null&&Se.null,je=[...Array.isArray(oe)?oe:oe?[oe]:[],...Array.isArray(Ce)?Ce:Ce?[Ce]:[]];return te(je)(He)}}function te(Se){return H=Se,Z=0,Se.length===0?J:K(Se[Z])}function K(Se){return Ie;function Ie(He){return Y=M(),ne=Se,Se.partial||(d.currentConstruct=Se),Se.name&&d.parser.constructs.disable.null.includes(Se.name)?we():Se.tokenize.call(q?Object.assign(Object.create(d),q):d,u,pe,we)(He)}}function pe(Se){return V(ne,Y),X}function we(Se){return Y.restore(),++Z<H.length?K(H[Z]):J}}}function U(V,q){V.resolveAll&&!a.includes(V)&&a.push(V),V.resolve&&Ds(d.events,q,d.events.length-q,V.resolve(d.events.slice(q),d)),V.resolveTo&&(d.events=V.resolveTo(d.events,d))}function M(){const V=T(),q=d.previous,z=d.currentConstruct,le=d.events.length,X=Array.from(l);return{from:le,restore:J};function J(){r=V,d.previous=q,d.currentConstruct=z,d.events.length=le,l=X,B()}}function B(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Kpe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function Ype(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function Wpe(t){const r={constructs:nhe([Hpe,...(t||{}).extensions||[]]),content:i(uhe),defined:[],document:i(fhe),flow:i(Npe),lazy:{},string:i(Dpe),text:i(Mpe)};return r;function i(a){return s;function s(l){return Gpe(r,a,l)}}}function Jpe(t){for(;!dB(t););return t}const hL=/[\0\t\n\r]/g;function Xpe(){let t=1,e="",n=!0,r;return i;function i(a,s,l){const u=[];let d,f,p,y,v;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),p=0,e="",n&&(a.charCodeAt(0)===65279&&p++,n=void 0);p<a.length;){if(hL.lastIndex=p,d=hL.exec(a),y=d&&d.index!==void 0?d.index:a.length,v=a.charCodeAt(y),!d){e=a.slice(p);break}if(v===10&&p===y&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),p<y&&(u.push(a.slice(p,y)),t+=y-p),v){case 0:{u.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,u.push(-2);t++<f;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}p=y+1}return l&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const Qpe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Zpe(t){return t.replace(Qpe,eme)}function eme(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return oB(n.slice(a?2:1),a?16:10)}return TA(n)||t}const yB={}.hasOwnProperty;function tme(t,e,n){return typeof e!="string"&&(n=e,e=void 0),nme(n)(Jpe(Wpe(n).document().write(Xpe()(t,e,!0))))}function nme(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(zt),autolinkProtocol:M,autolinkEmail:M,atxHeading:a(ke),blockQuote:a(Ce),characterEscape:M,characterReference:M,codeFenced:a(je),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(je,s),codeText:a(be,s),codeTextData:M,data:M,codeFlowValue:M,definition:a(lt),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(fe),hardBreakEscape:a(Re),hardBreakTrailing:a(Re),htmlFlow:a(it,s),htmlFlowData:M,htmlText:a(it,s),htmlTextData:M,image:a(Cn),label:s,link:a(zt),listItem:a(Vr),listItemValue:y,listOrdered:a(wt,p),listUnordered:a(wt),paragraph:a(Ya),reference:K,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(ke),strong:a(js),thematicBreak:a(wa)},exit:{atxHeading:u(),atxHeadingSequence:F,autolink:u(),autolinkEmail:oe,autolinkProtocol:He,blockQuote:u(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:we,characterReferenceMarkerNumeric:we,characterReferenceValue:Se,characterReference:Ie,codeFenced:u(S),codeFencedFence:k,codeFencedFenceInfo:v,codeFencedFenceMeta:T,codeFlowValue:B,codeIndented:u(C),codeText:u(X),codeTextData:B,data:B,definition:u(),definitionDestinationString:L,definitionLabelString:R,definitionTitleString:I,emphasis:u(),hardBreakEscape:u(q),hardBreakTrailing:u(q),htmlFlow:u(z),htmlFlowData:B,htmlText:u(le),htmlTextData:B,image:u(H),label:ne,labelText:Z,lineEnding:V,link:u(J),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:pe,resourceDestinationString:Y,resourceTitleString:$,resource:te,setextHeading:u(U),setextHeadingLineSequence:P,setextHeadingText:j,strong:u(),thematicBreak:u()}};vB(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Te={type:"root",children:[]};const Fe={stack:[Te],tokenStack:[],config:e,enter:l,exit:d,buffer:s,resume:f,data:n},We=[];let mt=-1;for(;++mt<ge.length;)if(ge[mt][1].type==="listOrdered"||ge[mt][1].type==="listUnordered")if(ge[mt][0]==="enter")We.push(mt);else{const Yt=We.pop();mt=i(ge,Yt,mt)}for(mt=-1;++mt<ge.length;){const Yt=e[ge[mt][0]];yB.call(Yt,ge[mt][1].type)&&Yt[ge[mt][1].type].call(Object.assign({sliceSerialize:ge[mt][2].sliceSerialize},Fe),ge[mt][1])}if(Fe.tokenStack.length>0){const Yt=Fe.tokenStack[Fe.tokenStack.length-1];(Yt[1]||pL).call(Fe,void 0,Yt[0])}for(Te.position={start:bl(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:bl(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},mt=-1;++mt<e.transforms.length;)Te=e.transforms[mt](Te)||Te;return Te}function i(ge,Te,Fe){let We=Te-1,mt=-1,Yt=!1,Fr,un,Wt,fn;for(;++We<=Fe;){const rt=ge[We];switch(rt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{rt[0]==="enter"?mt++:mt--,fn=void 0;break}case"lineEndingBlank":{rt[0]==="enter"&&(Fr&&!fn&&!mt&&!Wt&&(Wt=We),fn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:fn=void 0}if(!mt&&rt[0]==="enter"&&rt[1].type==="listItemPrefix"||mt===-1&&rt[0]==="exit"&&(rt[1].type==="listUnordered"||rt[1].type==="listOrdered")){if(Fr){let Ei=We;for(un=void 0;Ei--;){const $n=ge[Ei];if($n[1].type==="lineEnding"||$n[1].type==="lineEndingBlank"){if($n[0]==="exit")continue;un&&(ge[un][1].type="lineEndingBlank",Yt=!0),$n[1].type="lineEnding",un=Ei}else if(!($n[1].type==="linePrefix"||$n[1].type==="blockQuotePrefix"||$n[1].type==="blockQuotePrefixWhitespace"||$n[1].type==="blockQuoteMarker"||$n[1].type==="listItemIndent"))break}Wt&&(!un||Wt<un)&&(Fr._spread=!0),Fr.end=Object.assign({},un?ge[un][1].start:rt[1].end),ge.splice(un||We,0,["exit",Fr,rt[2]]),We++,Fe++}if(rt[1].type==="listItemPrefix"){const Ei={type:"listItem",_spread:!1,start:Object.assign({},rt[1].start),end:void 0};Fr=Ei,ge.splice(We,0,["enter",Ei,rt[2]]),We++,Fe++,Wt=void 0,fn=!0}}}return ge[Te][1]._spread=Yt,Fe}function a(ge,Te){return Fe;function Fe(We){l.call(this,ge(We),We),Te&&Te.call(this,We)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(ge,Te,Fe){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Te,Fe||void 0]),ge.position={start:bl(Te.start),end:void 0}}function u(ge){return Te;function Te(Fe){ge&&ge.call(this,Fe),d.call(this,Fe)}}function d(ge,Te){const Fe=this.stack.pop(),We=this.tokenStack.pop();if(We)We[0].type!==ge.type&&(Te?Te.call(this,ge,We[0]):(We[1]||pL).call(this,ge,We[0]));else throw new Error("Cannot close `"+ge.type+"` ("+Qh({start:ge.start,end:ge.end})+"): its not open");Fe.position.end=bl(ge.end)}function f(){return ehe(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function y(ge){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function v(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=ge}function T(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=ge}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge.replace(/(\r?\n|\r)$/g,"")}function R(ge){const Te=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Te,Fe.identifier=Ed(this.sliceSerialize(ge)).toLowerCase()}function I(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ge}function L(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ge}function F(ge){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Fe=this.sliceSerialize(ge).length;Te.depth=Fe}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function P(ge){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function M(ge){const Fe=this.stack[this.stack.length-1].children;let We=Fe[Fe.length-1];(!We||We.type!=="text")&&(We=In(),We.position={start:bl(ge.start),end:void 0},Fe.push(We)),this.stack.push(We)}function B(ge){const Te=this.stack.pop();Te.value+=this.sliceSerialize(ge),Te.position.end=bl(ge.end)}function V(ge){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Fe=Te.children[Te.children.length-1];Fe.position.end=bl(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Te.type)&&(M.call(this,ge),B.call(this,ge))}function q(){this.data.atHardBreak=!0}function z(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function le(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function X(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ge}function J(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Te,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function H(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Te,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function Z(ge){const Te=this.sliceSerialize(ge),Fe=this.stack[this.stack.length-2];Fe.label=Zpe(Te),Fe.identifier=Ed(Te).toLowerCase()}function ne(){const ge=this.stack[this.stack.length-1],Te=this.resume(),Fe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Fe.type==="link"){const We=ge.children;Fe.children=We}else Fe.alt=Te}function Y(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ge}function $(){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ge}function te(){this.data.inReference=void 0}function K(){this.data.referenceType="collapsed"}function pe(ge){const Te=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Te,Fe.identifier=Ed(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function we(ge){this.data.characterReferenceType=ge.type}function Se(ge){const Te=this.sliceSerialize(ge),Fe=this.data.characterReferenceType;let We;Fe?(We=oB(Te,Fe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):We=TA(Te);const mt=this.stack[this.stack.length-1];mt.value+=We}function Ie(ge){const Te=this.stack.pop();Te.position.end=bl(ge.end)}function He(ge){B.call(this,ge);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(ge)}function oe(ge){B.call(this,ge);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(ge)}function Ce(){return{type:"blockquote",children:[]}}function je(){return{type:"code",lang:null,meta:null,value:""}}function be(){return{type:"inlineCode",value:""}}function lt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function fe(){return{type:"emphasis",children:[]}}function ke(){return{type:"heading",depth:0,children:[]}}function Re(){return{type:"break"}}function it(){return{type:"html",value:""}}function Cn(){return{type:"image",title:null,url:"",alt:null}}function zt(){return{type:"link",title:null,url:"",children:[]}}function wt(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function Vr(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function Ya(){return{type:"paragraph",children:[]}}function js(){return{type:"strong",children:[]}}function In(){return{type:"text",value:""}}function wa(){return{type:"thematicBreak"}}}function bl(t){return{line:t.line,column:t.column,offset:t.offset}}function vB(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?vB(t,r):rme(t,r)}}function rme(t,e){let n;for(n in e)if(yB.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function pL(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Qh({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Qh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Qh({start:e.start,end:e.end})+") is still open")}function ime(t){const e=this;e.parser=n;function n(r){return tme(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function ame(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function sme(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function ome(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function lme(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function cme(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ume(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=pf(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,l+=1,t.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,d),t.applyData(e,d)}function dme(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function fme(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function bB(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function hme(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return bB(t,e);const i={src:pf(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function pme(t,e){const n={src:pf(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function mme(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function gme(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return bB(t,e);const i={href:pf(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function yme(t,e){const n={href:pf(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function vme(t,e,n){const r=t.all(e),i=n?bme(n):xB(e),a={},s=[];if(typeof e.checked=="boolean"){const f=r[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const f=r[l];(i||l!==0||f.type!=="element"||f.tagName!=="p")&&s.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?s.push(...f.children):s.push(f)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,d),t.applyData(e,d)}function bme(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=xB(n[r])}return e}function xB(t){const e=t.spread;return e??t.children.length>1}function xme(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function _me(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wme(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Eme(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Sme(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=_A(e.children[1]),u=eB(e.children[e.children.length-1]);l&&u&&(s.position={start:l,end:u}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function Tme(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,l=s?s.length:e.children.length;let u=-1;const d=[];for(;++u<l;){const p=e.children[u],y={},v=s?s[u]:void 0;v&&(y.align=v);let T={type:"element",tagName:a,properties:y,children:[]};p&&(T.children=t.all(p),t.patch(p,T),T=t.applyData(p,T)),d.push(T)}const f={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,f),t.applyData(e,f)}function kme(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const mL=9,gL=32;function Ame(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(yL(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(yL(e.slice(i),i>0,!1)),a.join("")}function yL(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===mL||a===gL;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===mL||a===gL;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Cme(t,e){const n={type:"text",value:Ame(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Ime(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Nme={blockquote:ame,break:sme,code:ome,delete:lme,emphasis:cme,footnoteReference:ume,heading:dme,html:fme,imageReference:hme,image:pme,inlineCode:mme,linkReference:gme,link:yme,listItem:vme,list:xme,paragraph:_me,root:wme,strong:Eme,table:Sme,tableCell:kme,tableRow:Tme,text:Cme,thematicBreak:Ime,toml:Sy,yaml:Sy,definition:Sy,footnoteDefinition:Sy};function Sy(){}const _B=-1,Cb=0,ep=1,Zv=2,CA=3,IA=4,NA=5,RA=6,wB=7,EB=8,vL=typeof self=="object"?self:globalThis,Rme=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case Cb:case _B:return n(s,i);case ep:{const l=n([],i);for(const u of s)l.push(r(u));return l}case Zv:{const l=n({},i);for(const[u,d]of s)l[r(u)]=r(d);return l}case CA:return n(new Date(s),i);case IA:{const{source:l,flags:u}=s;return n(new RegExp(l,u),i)}case NA:{const l=n(new Map,i);for(const[u,d]of s)l.set(r(u),r(d));return l}case RA:{const l=n(new Set,i);for(const u of s)l.add(r(u));return l}case wB:{const{name:l,message:u}=s;return n(new vL[l](u),i)}case EB:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return n(new DataView(l),s)}}return n(new vL[a](s),i)};return r},bL=t=>Rme(new Map,t)(0),od="",{toString:Pme}={},{keys:Dme}=Object,Uh=t=>{const e=typeof t;if(e!=="object"||!t)return[Cb,e];const n=Pme.call(t).slice(8,-1);switch(n){case"Array":return[ep,od];case"Object":return[Zv,od];case"Date":return[CA,od];case"RegExp":return[IA,od];case"Map":return[NA,od];case"Set":return[RA,od];case"DataView":return[ep,n]}return n.includes("Array")?[ep,n]:n.includes("Error")?[wB,n]:[Zv,n]},Ty=([t,e])=>t===Cb&&(e==="function"||e==="symbol"),Mme=(t,e,n,r)=>{const i=(s,l)=>{const u=r.push(s)-1;return n.set(l,u),u},a=s=>{if(n.has(s))return n.get(s);let[l,u]=Uh(s);switch(l){case Cb:{let f=s;switch(u){case"bigint":l=EB,f=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);f=null;break;case"undefined":return i([_B],s)}return i([l,f],s)}case ep:{if(u){let y=s;return u==="DataView"?y=new Uint8Array(s.buffer):u==="ArrayBuffer"&&(y=new Uint8Array(s)),i([u,[...y]],s)}const f=[],p=i([l,f],s);for(const y of s)f.push(a(y));return p}case Zv:{if(u)switch(u){case"BigInt":return i([u,s.toString()],s);case"Boolean":case"Number":case"String":return i([u,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const f=[],p=i([l,f],s);for(const y of Dme(s))(t||!Ty(Uh(s[y])))&&f.push([a(y),a(s[y])]);return p}case CA:return i([l,s.toISOString()],s);case IA:{const{source:f,flags:p}=s;return i([l,{source:f,flags:p}],s)}case NA:{const f=[],p=i([l,f],s);for(const[y,v]of s)(t||!(Ty(Uh(y))||Ty(Uh(v))))&&f.push([a(y),a(v)]);return p}case RA:{const f=[],p=i([l,f],s);for(const y of s)(t||!Ty(Uh(y)))&&f.push(a(y));return p}}const{message:d}=s;return i([l,{name:u,message:d}],s)};return a},xL=(t,{json:e,lossy:n}={})=>{const r=[];return Mme(!(e||n),!!e,new Map,r)(t),r},e0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?bL(xL(t,e)):structuredClone(t):(t,e)=>bL(xL(t,e));function Ome(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Lme(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function jme(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Ome,r=t.options.footnoteBackLabel||Lme,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[u]);if(!d)continue;const f=t.all(d),p=String(d.identifier).toUpperCase(),y=pf(p.toLowerCase());let v=0;const T=[],k=t.footnoteCounts.get(p);for(;k!==void 0&&++v<=k;){T.length>0&&T.push({type:"text",value:" "});let R=typeof n=="string"?n:n(u,v);typeof R=="string"&&(R={type:"text",value:R}),T.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+y+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,v),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const S=f[f.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const R=S.children[S.children.length-1];R&&R.type==="text"?R.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...T)}else f.push(...T);const C={type:"element",tagName:"li",properties:{id:e+"fn-"+y},children:t.wrap(f,!0)};t.patch(d,C),l.push(C)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...e0(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const SB=(function(t){if(t==null)return zme;if(typeof t=="function")return Ib(t);if(typeof t=="object")return Array.isArray(t)?Ume(t):Vme(t);if(typeof t=="string")return Fme(t);throw new Error("Expected function, string, or object as test")});function Ume(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=SB(t[n]);return Ib(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function Vme(t){const e=t;return Ib(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function Fme(t){return Ib(e);function e(n){return n&&n.type===t}}function Ib(t){return e;function e(n,r,i){return!!(Bme(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function zme(){return!0}function Bme(t){return t!==null&&typeof t=="object"&&"type"in t}const TB=[],qme=!0,_L=!1,$me="skip";function Hme(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=SB(i),s=r?-1:1;l(t,void 0,[])();function l(u,d,f){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(u.type+(v?"<"+v+">":""))+")"})}return y;function y(){let v=TB,T,k,S;if((!e||a(u,d,f[f.length-1]||void 0))&&(v=Gme(n(u,f)),v[0]===_L))return v;if("children"in u&&u.children){const C=u;if(C.children&&v[0]!==$me)for(k=(r?C.children.length:-1)+s,S=f.concat(C);k>-1&&k<C.children.length;){const R=C.children[k];if(T=l(R,k,S)(),T[0]===_L)return T;k=typeof T[1]=="number"?T[1]:k+s}}return v}}}function Gme(t){return Array.isArray(t)?t:typeof t=="number"?[qme,t]:t==null?TB:[t]}function kB(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),Hme(t,a,l,i);function l(u,d){const f=d[d.length-1],p=f?f.children.indexOf(u):void 0;return s(u,p,f)}}const KS={}.hasOwnProperty,Kme={};function Yme(t,e){const n=e||Kme,r=new Map,i=new Map,a=new Map,s={...Nme,...n.handlers},l={all:d,applyData:Jme,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:u,options:n,patch:Wme,wrap:Qme};return kB(t,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?r:i,y=String(f.identifier).toUpperCase();p.has(y)||p.set(y,f)}}),l;function u(f,p){const y=f.type,v=l.handlers[y];if(KS.call(l.handlers,y)&&v)return v(l,f,p);if(l.options.passThrough&&l.options.passThrough.includes(y)){if("children"in f){const{children:k,...S}=f,C=e0(S);return C.children=l.all(f),C}return e0(f)}return(l.options.unknownHandler||Xme)(l,f,p)}function d(f){const p=[];if("children"in f){const y=f.children;let v=-1;for(;++v<y.length;){const T=l.one(y[v],f);if(T){if(v&&y[v-1].type==="break"&&(!Array.isArray(T)&&T.type==="text"&&(T.value=wL(T.value)),!Array.isArray(T)&&T.type==="element")){const k=T.children[0];k&&k.type==="text"&&(k.value=wL(k.value))}Array.isArray(T)?p.push(...T):p.push(T)}}}return p}}function Wme(t,e){t.position&&(e.position=Pfe(t))}function Jme(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,e0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Xme(t,e){const n=e.data||{},r="value"in e&&!(KS.call(n,"hProperties")||KS.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Qme(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function wL(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function EL(t,e){const n=Yme(t,e),r=n.one(t,void 0),i=jme(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Zme(t,e){return t&&"run"in t?async function(n,r){const i=EL(n,{file:r,...e});await t.run(i,r)}:function(n,r){return EL(n,{file:r,...t||e})}}function SL(t){if(t)throw t}var nE,TL;function ege(){if(TL)return nE;TL=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var f=t.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!p)return!1;var y;for(y in d);return typeof y>"u"||t.call(d,y)},s=function(d,f){n&&f.name==="__proto__"?n(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},l=function(d,f){if(f==="__proto__")if(t.call(d,f)){if(r)return r(d,f).value}else return;return d[f]};return nE=function u(){var d,f,p,y,v,T,k=arguments[0],S=1,C=arguments.length,R=!1;for(typeof k=="boolean"&&(R=k,k=arguments[1]||{},S=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});S<C;++S)if(d=arguments[S],d!=null)for(f in d)p=l(k,f),y=l(d,f),k!==y&&(R&&y&&(a(y)||(v=i(y)))?(v?(v=!1,T=p&&i(p)?p:[]):T=p&&a(p)?p:{},s(k,{name:f,newValue:u(R,T,y)})):typeof y<"u"&&s(k,{name:f,newValue:y}));return k},nE}var tge=ege();const rE=ba(tge);function YS(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function nge(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(u,...d){const f=t[++a];let p=-1;if(u){s(u);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,f?rge(f,l)(...d):s(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function rge(t,e){let n;return r;function r(...s){const l=t.length>s.length;let u;l&&s.push(i);try{u=t.apply(this,s)}catch(d){const f=d;if(l&&n)throw f;return i(f)}l||(u&&u.then&&typeof u.then=="function"?u.then(a,i):u instanceof Error?i(u):a(u))}function i(s,...l){n||(n=!0,e(s,...l))}function a(s){i(null,s)}}const hs={basename:ige,dirname:age,extname:sge,join:oge,sep:"/"};function ige(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');mm(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function age(t){if(mm(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function sge(t){mm(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const l=t.codePointAt(e);if(l===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),l===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function oge(...t){let e=-1,n;for(;++e<t.length;)mm(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":lge(n)}function lge(t){mm(t);const e=t.codePointAt(0)===47;let n=cge(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function cge(t,e){let n="",r=0,i=-1,a=0,s=-1,l,u;for(;++s<=t.length;){if(s<t.length)l=t.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else l===46&&a>-1?a++:a=-1}return n}function mm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const uge={cwd:dge};function dge(){return"/"}function WS(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function fge(t){if(typeof t=="string")t=new URL(t);else if(!WS(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return hge(t)}function hge(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const iE=["history","path","basename","stem","extname","dirname"];class AB{constructor(e){let n;e?WS(e)?n={path:e}:typeof e=="string"||pge(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":uge.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<iE.length;){const a=iE[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)iE.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?hs.basename(this.path):void 0}set basename(e){sE(e,"basename"),aE(e,"basename"),this.path=hs.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?hs.dirname(this.path):void 0}set dirname(e){kL(this.basename,"dirname"),this.path=hs.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?hs.extname(this.path):void 0}set extname(e){if(aE(e,"extname"),kL(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=hs.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){WS(e)&&(e=fge(e)),sE(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?hs.basename(this.path,this.extname):void 0}set stem(e){sE(e,"stem"),aE(e,"stem"),this.path=hs.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Ur(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function aE(t,e){if(t&&t.includes(hs.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+hs.sep+"`")}function sE(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function kL(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function pge(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const mge=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),gge={}.hasOwnProperty;class PA extends mge{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=nge()}copy(){const e=new PA;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(rE(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(cE("data",this.frozen),this.namespace[e]=n,this):gge.call(this.namespace,e)&&this.namespace[e]||void 0:e?(cE("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ky(e),r=this.parser||this.Parser;return oE("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),oE("process",this.parser||this.Parser),lE("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const l=ky(e),u=r.parse(l);r.run(u,l,function(f,p,y){if(f||!p||!y)return d(f);const v=p,T=r.stringify(v,y);bge(T)?y.value=T:y.result=T,d(f,y)});function d(f,p){f||!p?s(f):a?a(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),oE("processSync",this.parser||this.Parser),lE("processSync",this.compiler||this.Compiler),this.process(e,i),CL("processSync","process",n),r;function i(a,s){n=!0,SL(a),r=s}}run(e,n,r){AL(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,l){const u=ky(n);i.run(e,u,d);function d(f,p,y){const v=p||e;f?l(f):s?s(v):r(void 0,v,y)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),CL("runSync","run",r),i;function a(s,l){SL(s),i=l,r=!0}}stringify(e,n){this.freeze();const r=ky(n),i=this.compiler||this.Compiler;return lE("stringify",i),AL(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(cE("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[f,...p]=d;u(f,p)}else s(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function s(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=rE(!0,i.settings,d.settings))}function l(d){let f=-1;if(d!=null)if(Array.isArray(d))for(;++f<d.length;){const p=d[f];a(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,f){let p=-1,y=-1;for(;++p<r.length;)if(r[p][0]===d){y=p;break}if(y===-1)r.push([d,...f]);else if(f.length>0){let[v,...T]=f;const k=r[y][1];YS(k)&&YS(v)&&(v=rE(!0,k,v)),r[y]=[d,v,...T]}}}}const yge=new PA().freeze();function oE(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function lE(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function cE(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function AL(t){if(!YS(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function CL(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ky(t){return vge(t)?t:new AB(t)}function vge(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function bge(t){return typeof t=="string"||xge(t)}function xge(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const _ge="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",IL=[],NL={allowDangerousHtml:!0},wge=/^(https?|ircs?|mailto|xmpp)$/i,Ege=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function CB(t){const e=Sge(t),n=Tge(t);return kge(e.runSync(e.parse(n),n),t)}function Sge(t){const e=t.rehypePlugins||IL,n=t.remarkPlugins||IL,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...NL}:NL;return yge().use(ime).use(n).use(Zme,r).use(e)}function Tge(t){const e=t.children||"",n=new AB;return typeof e=="string"&&(n.value=e),n}function kge(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,l=e.unwrapDisallowed,u=e.urlTransform||Age;for(const f of Ege)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+_ge+f.id,void 0);return kB(t,d),jfe(t,{Fragment:m.Fragment,components:i,ignoreInvalidStyle:!0,jsx:m.jsx,jsxs:m.jsxs,passKeys:!0,passNode:!0});function d(f,p,y){if(f.type==="raw"&&y&&typeof p=="number")return s?y.children.splice(p,1):y.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let v;for(v in Z1)if(Object.hasOwn(Z1,v)&&Object.hasOwn(f.properties,v)){const T=f.properties[v],k=Z1[v];(k===null||k.includes(f.tagName))&&(f.properties[v]=u(String(T||""),v,f))}}if(f.type==="element"){let v=n?!n.includes(f.tagName):a?a.includes(f.tagName):!1;if(!v&&r&&typeof p=="number"&&(v=!r(f,p,y)),v&&y&&typeof p=="number")return l&&f.children?y.children.splice(p,1,...f.children):y.children.splice(p,1),p}}}function Age(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||wge.test(t.slice(0,e))?t:""}const Cge={regNo:"JSN398",make:"Volkswagen",model:"LT 31 (Typ 28/21)",year:1976,prodYear:1976,regDate:"1978-02-14",status:"Avstlld",bodyType:"Skp Bostadsinredning",passengers:4,inspection:{last:"2025-08-13",mileage:"3 362 mil (Mtarstllning)",next:"Oknd"},engine:{fuel:"Bensin",power:"75 HK / 55 kW",volume:"2.0L (Audi)",type:"2.0L Bensin (Audi)",code:"CH"},gearbox:"Manuell 4-vxlad",wheels:{drive:"2WD Bakhjulsdrift",tiresFront:"215R14 C",tiresRear:"215R14 C",boltPattern:"5x160"},dimensions:{length:5400,width:2020,height:"2500 mm",wheelbase:2500},weights:{curb:2280,total:3160,load:880,trailer:1400,trailerB:750},vin:"2862500058",color:"Flerfrgad",history:{owners:22,events:38,lastOwnerChange:"2025-12-05"},maintenance:{fluids:{oilType:"10W-40 Mineral",oilCapacity:"6.0 liter",coolantType:"Glykol bl (G11)",gearboxOil:"API GL-4 (Gulmetallsker)"},battery:{type:"Startbatteri",capacity:"75-88Ah"},tires:{pressureFront:"3.5 bar",pressureRear:"4.5 bar"}},expertAnalysis:{commonFaults:[{title:"Spindelbultar (Kingpins)",description:"Mste smrjas var 500:e mil! Om de skr krvs press.",urgency:"High"},{title:"Rost i balkar",description:"Kolla tvrbalkar och domkraftsfsten noga.",urgency:"Medium"}],modificationTips:[{title:"Motorbyte D24",description:"Populrt att byta till Volvo D24 eller D24T fr mer ork."}],maintenanceNotes:"OBS: 5-siffrig mtare. Mtarstllning 3362 mil r troligen 13 362 eller 23 362. Historik bekrftar minst en rollover."}},Ige=[{id:"s1",name:"Kamremssats (Contitech CT637K1)",category:"Reservdelar",estimatedCost:800,quantity:"1 st",checked:!1,url:"https://www.autodoc.se/contitech/1210452",linkedTaskId:"mek-1"},{id:"s2",name:"Vattenpump (Metallimpeller)",category:"Reservdelar",estimatedCost:400,quantity:"1 st",checked:!1,url:"https://www.autodoc.se/hepu/2283285",linkedTaskId:"mek-1"},{id:"s16",name:"Startbatteri (75Ah)",category:"Reservdelar",estimatedCost:1400,quantity:"1 st",checked:!1,store:"Biltema",linkedTaskId:"mek-0"},{id:"s7",name:"Motorolja 10W-40 (Mineral)",category:"Kemi & Frg",estimatedCost:400,quantity:"10 L",checked:!1,store:"Biltema",linkedTaskId:"mek-2"},{id:"s12",name:"Tndstift (Bosch W7DTC)",category:"Reservdelar",estimatedCost:200,quantity:"4 st",checked:!1,linkedTaskId:"mek-2"}],Nge=[{id:"admin-1",type:fs.ADMIN,title:"Frskra & Stll p",description:"Ring frskringsbolag. Kolla veteranfrskring.",status:dt.TODO,priority:di.HIGH,mechanicalPhase:wl.P0_ACUTE,phase:"Fas 1: Akut",estimatedCostMin:0,estimatedCostMax:0,actualCost:0,weightKg:0,costType:la.OPERATION,tags:["Admin","Prio"],links:[],comments:[],attachments:[],subtasks:[]},{id:"logistik-1",type:fs.MAINTENANCE,title:"Hmta bilen (Hemtransport)",description:"Kr frsiktigt. Kolla olja/vatten var 10:e mil. Lyssna p framvagn.",status:dt.TODO,priority:di.HIGH,mechanicalPhase:wl.P0_ACUTE,phase:"Fas 1: Akut",estimatedCostMin:1e3,estimatedCostMax:1500,actualCost:0,weightKg:0,costType:la.OPERATION,tags:["Transport","Risk"],links:[],comments:[],attachments:[],subtasks:[]},{id:"inkop-1",type:fs.PURCHASE,title:"Byt Dck (Delsbo)",description:"215 R14 C (ret runt). Ring Dckab. Bultmnster 5x160.",status:dt.TODO,priority:di.HIGH,mechanicalPhase:wl.P0_ACUTE,phase:"Fas 1: Akut",estimatedCostMin:4e3,estimatedCostMax:6e3,actualCost:0,weightKg:0,costType:la.OPERATION,tags:["Dck","Skerhet"],links:[],comments:[],attachments:[],subtasks:[]},{id:"mek-0",type:fs.MAINTENANCE,title:"Byt Startbatteri",description:"Det gamla r slut. 75Ah eller strre.",status:dt.TODO,priority:di.HIGH,mechanicalPhase:wl.P0_ACUTE,phase:"Fas 1: Akut",estimatedCostMin:1200,estimatedCostMax:1600,actualCost:0,weightKg:20,costType:la.OPERATION,tags:["El"],links:[],comments:[],attachments:[],subtasks:[]},{id:"mek-1",type:fs.MAINTENANCE,title:"Kamrem & Vattenpump",description:"Kritisk! Audi CH-motor 2.0L r interference. Byt ven spnnrulle.",status:dt.TODO,priority:di.HIGH,mechanicalPhase:wl.P1_ENGINE,phase:"Fas 2: Mekanisk Skerhet",estimatedCostMin:5e3,estimatedCostMax:7e3,actualCost:0,weightKg:2,costType:la.OPERATION,difficultyLevel:"Expert",requiredTools:["Momentnyckel","Kamremsverktyg","Avdragare"],tags:["Verkstad","Motor","Kritisk"],links:[],comments:[],attachments:[],subtasks:[]},{id:"mek-2",type:fs.MAINTENANCE,title:"Stor Service (Vtskor)",description:"Olja (10W-40), Filter, Tndstift (Bosch W7DTC), Luftfilter. OBS: GL-4 i ldan!",status:dt.TODO,priority:di.MEDIUM,mechanicalPhase:wl.P1_ENGINE,phase:"Fas 2: Mekanisk Skerhet",estimatedCostMin:1500,estimatedCostMax:2e3,actualCost:0,weightKg:5,costType:la.OPERATION,difficultyLevel:"Easy",requiredTools:["Oljefilteravdragare","Sprrskaft"],tags:["Service"],links:[],comments:[],attachments:[],subtasks:[]},{id:"mek-3",type:fs.MAINTENANCE,title:"Rostlaga Balk & Drr",description:"Fixa yttre balk och skjutdrrens nederkant. Mste vara ttt innan isolering.",status:dt.TODO,priority:di.MEDIUM,mechanicalPhase:wl.P2_RUST,phase:"Fas 3: Kaross & Rost",estimatedCostMin:500,estimatedCostMax:1e4,actualCost:0,weightKg:5,costType:la.INVESTMENT,difficultyLevel:"Medium",requiredTools:["Svets","Vinkelslip"],tags:["Rost","Kaross"],links:[],comments:[],attachments:[],subtasks:[]},{id:"build-1",type:fs.BUILD,title:"Isolering & Golv",description:"Armaflex p plt. Plywoodgolv. Rostskydda golvet inifrn frst!",status:dt.BLOCKED,priority:di.MEDIUM,buildPhase:OE.B1_SHELL,phase:"Fas 4: Inredning & Finish",blockers:["mek-3"],estimatedCostMin:3e3,estimatedCostMax:5e3,actualCost:0,weightKg:50,costType:la.INVESTMENT,tags:["Vanlife","Isolering"],links:[],comments:[],attachments:[],subtasks:[]},{id:"build-2",type:fs.BUILD,title:"Dra El & Vatten (Infrastruktur)",description:"Dra tomrr fr 12V och slangar innan vggarna stts upp.",status:dt.TODO,priority:di.MEDIUM,buildPhase:OE.B2_SYSTEMS,phase:"Fas 4: Inredning & Finish",estimatedCostMin:1e3,estimatedCostMax:3e3,actualCost:0,weightKg:10,costType:la.INVESTMENT,tags:["El","Vatten"],links:[],comments:[],attachments:[],subtasks:[]}],Rge=[{id:"h1",date:"2025-12-05",description:"Kp av Elton! Projektstart.",mileage:"3 362 mil",performer:"Jag",type:"vrigt"},{id:"h2",date:"2025-11-04",description:"Bilen stlldes av",mileage:"3 362 mil",performer:"Transportstyrelsen",type:"vrigt"},{id:"h3",date:"2025-08-13",description:"Besiktning (Godknd)",mileage:"3 362 mil",performer:"Bilprovningen",type:"Besiktning"},{id:"h4",date:"2019-11-08",description:"Annonserad (25 000 mil angivet)",mileage:"25 000 mil",performer:"Sljare",type:"vrigt"}],Pge=[{id:"gl4-oil",condition:t=>{var e;return t.year<1990&&((e=t.gearbox)==null?void 0:e.toLowerCase().includes("manuell"))},title:" Varning: Vxelldsolja (Gulmetall)",content:"Gamla manuella vxelldor (pre-1990) har ofta synkroniseringar av mssing/gulmetall. Modern API GL-5 olja innehller additiv som frter snder dessa. Du MSTE anvnda API GL-4. Anvnd aldrig GL-5 om du inte r 100% sker p att ldan tl det."},{id:"interference-engine",condition:t=>{var e,n;return((e=t.engine.code)==null?void 0:e.includes("D24"))||((n=t.engine.code)==null?void 0:n.includes("B230K"))||t.year<2e3},title:" Varning: Kamrem (Interference)",content:'Mnga ldre motorer r av typen "Interference". Om kamremmen gr av krockar kolvar och ventiler, vilket leder till totalhaveri. Om historik saknas: Byt rem direkt!'},{id:"lt-kingpins",condition:t=>{var e;return((e=t.model)==null?void 0:e.includes("LT"))&&t.year<1996},title:" Modellspecifikt: VW LT Spindelbultar",content:"Framvagnen p VW LT Mk1 har spindelbultar (kingpins) som MSTE smrjas regelbundet (var 500:e mil). Om de rostar fast blir styrningen trg och byte krver ofta press och vrme."}],Ay={id:"demo-elton",name:"Elton (VW LT31)",type:"conversion",brand:"vanplan",ownerId:"demo",ownerEmail:"demo",vehicleData:Cge,tasks:Nge,shoppingItems:Ige,serviceLog:Rge,fuelLog:[],knowledgeArticles:[],created:"2025-12-05",lastModified:"2025-12-11",isDemo:!0,userSkillLevel:"intermediate",nickname:"Elton"},Dge={id:"",name:"Nytt Projekt",type:"renovation",brand:"vanplan",ownerId:"",ownerEmail:"",vehicleData:{regNo:"",make:"",model:"",year:0,prodYear:0,regDate:"",status:"",bodyType:"",passengers:0,inspection:{last:"",mileage:"",next:""},engine:{fuel:"",power:"",volume:""},gearbox:"",wheels:{drive:"",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:0,events:0,lastOwnerChange:""}},tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],created:"",lastModified:""},DA=[],Mge=({projectArticles:t=[]})=>{const[e,n]=A.useState(null),[r,i]=A.useState(""),s=[...t||[],...DA].filter(l=>l.title.toLowerCase().includes(r.toLowerCase())||l.tags.some(u=>u.toLowerCase().includes(r.toLowerCase())));return e?m.jsx("div",{className:"fixed inset-0 bg-white dark:bg-nordic-dark-surface z-50 overflow-y-auto animate-fade-in",children:m.jsxs("div",{className:"max-w-3xl mx-auto p-6 pb-20",children:[m.jsxs("button",{onClick:()=>n(null),className:"mb-6 p-2 -ml-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full flex items-center gap-2 transition-colors",children:[m.jsx(Jv,{size:20})," ",m.jsx("span",{className:"font-bold text-sm",children:"Tillbaka till biblioteket"})]}),m.jsxs("article",{className:"prose prose-lg dark:prose-invert max-w-none",children:[m.jsxs("div",{className:"mb-8 border-b border-slate-100 dark:border-nordic-charcoal pb-8",children:[m.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:e.title}),m.jsx("div",{className:"flex gap-2 mb-6",children:e.tags.map(l=>m.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold uppercase tracking-wider rounded-full",children:l},l))}),m.jsx("p",{className:"text-xl text-slate-500 dark:text-nordic-dark-muted leading-relaxed font-serif italic",children:e.summary})]}),m.jsx(CB,{components:{h1:({node:l,...u})=>m.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice mt-8 mb-4 border-l-4 border-teal-500 pl-4",...u}),h2:({node:l,...u})=>m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mt-6 mb-3",...u}),ul:({node:l,...u})=>m.jsx("ul",{className:"list-disc list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...u}),ol:({node:l,...u})=>m.jsx("ol",{className:"list-decimal list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...u}),li:({node:l,...u})=>m.jsx("li",{className:"pl-1 marker:text-teal-500",...u}),p:({node:l,...u})=>m.jsx("p",{className:"mb-4 text-slate-600 dark:text-slate-300 leading-relaxed",...u}),strong:({node:l,...u})=>m.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...u}),blockquote:({node:l,...u})=>m.jsx("blockquote",{className:"border-l-4 border-teal-200 bg-teal-50/50 dark:bg-teal-900/10 p-4 my-6 italic text-slate-600 dark:text-slate-400 rounded-r-xl",...u}),table:({node:l,...u})=>m.jsx("div",{className:"overflow-x-auto my-6 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:m.jsx("table",{className:"w-full text-left text-sm",...u})}),th:({node:l,...u})=>m.jsx("th",{className:"bg-slate-50 dark:bg-nordic-charcoal p-3 font-bold text-slate-700 dark:text-slate-200 border-b border-slate-200 dark:border-nordic-dark-bg",...u}),td:({node:l,...u})=>m.jsx("td",{className:"p-3 border-b border-slate-100 dark:border-nordic-dark-bg text-slate-600 dark:text-slate-400",...u})},children:e.content})]})]})}):m.jsxs("div",{className:"space-y-6 pb-24 animate-fade-in",children:[m.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[m.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice mb-2 flex items-center gap-3",children:[m.jsx(Sb,{className:"text-teal-600"})," Kunskapsbanken"]}),m.jsx("p",{className:"text-slate-600 dark:text-nordic-dark-muted mb-6",children:"Hr samlas tekniska rapporter, guider och analyser. Bde globala fakta och unika rapporter som Elton skrivit om ditt projekt."}),m.jsxs("div",{className:"relative",children:[m.jsx(Hd,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),m.jsx("input",{type:"text",placeholder:"Sk bland artiklar...",className:"w-full p-4 pl-12 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 transition-all",value:r,onChange:l=>i(l.target.value)})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.length===0?m.jsxs("div",{className:"col-span-full text-center py-12 opacity-50",children:[m.jsx(gA,{size:48,className:"mx-auto mb-4 text-slate-300"}),m.jsx("p",{children:"Inga artiklar hittades."})]}):s.map((l,u)=>m.jsxs("div",{onClick:()=>n(l),className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg hover:shadow-lg hover:border-teal-200 transition-all cursor-pointer group flex flex-col justify-between h-full",children:[m.jsxs("div",{children:[m.jsx("div",{className:"flex gap-2 mb-3",children:l.tags.slice(0,2).map(d=>m.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-teal-600 bg-teal-50 dark:bg-teal-900/20 px-2 py-1 rounded-md",children:d},d))}),m.jsx("h4",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-2 group-hover:text-teal-700 transition-colors",children:l.title}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted line-clamp-3 leading-relaxed",children:l.summary})]}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50 dark:border-nordic-charcoal flex justify-between items-center",children:[m.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Ls rapport"}),m.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 dark:bg-nordic-charcoal flex items-center justify-center text-slate-400 group-hover:bg-teal-500 group-hover:text-white transition-colors",children:m.jsx(Jv,{size:16,className:"rotate-180"})})]})]},l.id+u))})]})},IB=6048e5,Oge=864e5,RL=Symbol.for("constructDateFrom");function Hl(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&RL in t?t[RL](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ha(t,e){return Hl(e||t,t)}let Lge={};function Nb(){return Lge}function Rp(t,e){var l,u,d,f;const n=Nb(),r=(e==null?void 0:e.weekStartsOn)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=Ha(t,e==null?void 0:e.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function t0(t,e){return Rp(t,{...e,weekStartsOn:1})}function NB(t,e){const n=Ha(t,e==null?void 0:e.in),r=n.getFullYear(),i=Hl(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=t0(i),s=Hl(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const l=t0(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function PL(t){const e=Ha(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function jge(t,...e){const n=Hl.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function DL(t,e){const n=Ha(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Uge(t,e,n){const[r,i]=jge(n==null?void 0:n.in,t,e),a=DL(r),s=DL(i),l=+a-PL(a),u=+s-PL(s);return Math.round((l-u)/Oge)}function Vge(t,e){const n=NB(t,e),r=Hl(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),t0(r)}function Fge(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function zge(t){return!(!Fge(t)&&typeof t!="number"||isNaN(+Ha(t)))}function Bge(t,e){const n=Ha(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const qge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$ge=(t,e,n)=>{let r;const i=qge[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Sd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Hge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Kge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yge={date:Sd({formats:Hge,defaultWidth:"full"}),time:Sd({formats:Gge,defaultWidth:"full"}),dateTime:Sd({formats:Kge,defaultWidth:"full"})},Wge={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jge=(t,e,n,r)=>Wge[t];function ys(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):s;i=t.formattingValues[l]||t.formattingValues[s]}else{const s=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Xge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eye={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rye=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},iye={ordinalNumber:rye,era:ys({values:Xge,defaultWidth:"wide"}),quarter:ys({values:Qge,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ys({values:Zge,defaultWidth:"wide"}),day:ys({values:eye,defaultWidth:"wide"}),dayPeriod:ys({values:tye,defaultWidth:"wide",formattingValues:nye,defaultFormattingWidth:"wide"})};function vs(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?sye(l,p=>p.test(s)):aye(l,p=>p.test(s));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(s.length);return{value:d,rest:f}}}function aye(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function sye(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function RB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const l=e.slice(i.length);return{value:s,rest:l}}}const oye=/^(\d+)(th|st|nd|rd)?/i,lye=/\d+/i,cye={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uye={any:[/^b/i,/^(a|c)/i]},dye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fye={any:[/1/i,/2/i,/3/i,/4/i]},hye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mye={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gye={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yye={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vye={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bye={ordinalNumber:RB({matchPattern:oye,parsePattern:lye,valueCallback:t=>parseInt(t,10)}),era:vs({matchPatterns:cye,defaultMatchWidth:"wide",parsePatterns:uye,defaultParseWidth:"any"}),quarter:vs({matchPatterns:dye,defaultMatchWidth:"wide",parsePatterns:fye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:vs({matchPatterns:hye,defaultMatchWidth:"wide",parsePatterns:pye,defaultParseWidth:"any"}),day:vs({matchPatterns:mye,defaultMatchWidth:"wide",parsePatterns:gye,defaultParseWidth:"any"}),dayPeriod:vs({matchPatterns:yye,defaultMatchWidth:"any",parsePatterns:vye,defaultParseWidth:"any"})},xye={code:"en-US",formatDistance:$ge,formatLong:Yge,formatRelative:Jge,localize:iye,match:bye,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _ye(t,e){const n=Ha(t,e==null?void 0:e.in);return Uge(n,Bge(n))+1}function wye(t,e){const n=Ha(t,e==null?void 0:e.in),r=+t0(n)-+Vge(n);return Math.round(r/IB)+1}function PB(t,e){var f,p,y,v;const n=Ha(t,e==null?void 0:e.in),r=n.getFullYear(),i=Nb(),a=(e==null?void 0:e.firstWeekContainsDate)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(y=i.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??1,s=Hl((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const l=Rp(s,e),u=Hl((e==null?void 0:e.in)||t,0);u.setFullYear(r,0,a),u.setHours(0,0,0,0);const d=Rp(u,e);return+n>=+l?r+1:+n>=+d?r:r-1}function Eye(t,e){var l,u,d,f;const n=Nb(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=PB(t,e),a=Hl((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Rp(a,e)}function Sye(t,e){const n=Ha(t,e==null?void 0:e.in),r=+Rp(n,e)-+Eye(n,e);return Math.round(r/IB)+1}function Dt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const xl={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Dt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Dt(n+1,2)},d(t,e){return Dt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Dt(t.getHours()%12||12,e.length)},H(t,e){return Dt(t.getHours(),e.length)},m(t,e){return Dt(t.getMinutes(),e.length)},s(t,e){return Dt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Dt(i,e.length)}},ld={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ML={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return xl.y(t,e)},Y:function(t,e,n,r){const i=PB(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Dt(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Dt(a,e.length)},R:function(t,e){const n=NB(t);return Dt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Dt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Dt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Dt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return xl.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Dt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Sye(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Dt(i,e.length)},I:function(t,e,n){const r=wye(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Dt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):xl.d(t,e)},D:function(t,e,n){const r=_ye(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Dt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Dt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Dt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Dt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ld.noon:r===0?i=ld.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ld.evening:r>=12?i=ld.afternoon:r>=4?i=ld.morning:i=ld.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):xl.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Dt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Dt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):xl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):xl.s(t,e)},S:function(t,e){return xl.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return LL(r);case"XXXX":case"XX":return jc(r);case"XXXXX":case"XXX":default:return jc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return LL(r);case"xxxx":case"xx":return jc(r);case"xxxxx":case"xxx":default:return jc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+OL(r,":");case"OOOO":default:return"GMT"+jc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+OL(r,":");case"zzzz":default:return"GMT"+jc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Dt(r,e.length)},T:function(t,e,n){return Dt(+t,e.length)}};function OL(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Dt(a,2)}function LL(t,e){return t%60===0?(t>0?"-":"+")+Dt(Math.abs(t)/60,2):jc(t,e)}function jc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Dt(Math.trunc(r/60),2),a=Dt(r%60,2);return n+i+e+a}const jL=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},DB=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Tye=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return jL(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",jL(r,e)).replace("{{time}}",DB(i,e))},kye={p:DB,P:Tye},Aye=/^D+$/,Cye=/^Y+$/,Iye=["D","DD","YY","YYYY"];function Nye(t){return Aye.test(t)}function Rye(t){return Cye.test(t)}function Pye(t,e,n){const r=Dye(t,e,n);if(console.warn(r),Iye.includes(t))throw new RangeError(r)}function Dye(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Mye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Oye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lye=/^'([^]*?)'?$/,jye=/''/g,Uye=/[a-zA-Z]/;function Vye(t,e,n){var f,p,y,v,T,k,S,C;const r=Nb(),i=(n==null?void 0:n.locale)??r.locale??xye,a=(n==null?void 0:n.firstWeekContainsDate)??((p=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(y=r.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((k=(T=n==null?void 0:n.locale)==null?void 0:T.options)==null?void 0:k.weekStartsOn)??r.weekStartsOn??((C=(S=r.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??0,l=Ha(t,n==null?void 0:n.in);if(!zge(l))throw new RangeError("Invalid time value");let u=e.match(Oye).map(R=>{const I=R[0];if(I==="p"||I==="P"){const L=kye[I];return L(R,i.formatLong)}return R}).join("").match(Mye).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const I=R[0];if(I==="'")return{isToken:!1,value:Fye(R)};if(ML[I])return{isToken:!0,value:R};if(I.match(Uye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:R}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return u.map(R=>{if(!R.isToken)return R.value;const I=R.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Rye(I)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Nye(I))&&Pye(I,e,String(t));const L=ML[I[0]];return L(l,I,i.localize,d)}).join("")}function Fye(t){const e=t.match(Lye);return e?e[1].replace(jye,"'"):t}const zye={lessThanXSeconds:{one:"mindre n en sekund",other:"mindre n {{count}} sekunder"},xSeconds:{one:"en sekund",other:"{{count}} sekunder"},halfAMinute:"en halv minut",lessThanXMinutes:{one:"mindre n en minut",other:"mindre n {{count}} minuter"},xMinutes:{one:"en minut",other:"{{count}} minuter"},aboutXHours:{one:"ungefr en timme",other:"ungefr {{count}} timmar"},xHours:{one:"en timme",other:"{{count}} timmar"},xDays:{one:"en dag",other:"{{count}} dagar"},aboutXWeeks:{one:"ungefr en vecka",other:"ungefr {{count}} veckor"},xWeeks:{one:"en vecka",other:"{{count}} veckor"},aboutXMonths:{one:"ungefr en mnad",other:"ungefr {{count}} mnader"},xMonths:{one:"en mnad",other:"{{count}} mnader"},aboutXYears:{one:"ungefr ett r",other:"ungefr {{count}} r"},xYears:{one:"ett r",other:"{{count}} r"},overXYears:{one:"ver ett r",other:"ver {{count}} r"},almostXYears:{one:"nstan ett r",other:"nstan {{count}} r"}},Bye=["noll","en","tv","tre","fyra","fem","sex","sju","tta","nio","tio","elva","tolv"],qye=(t,e,n)=>{let r;const i=zye[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e<13?Bye[e]:String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"om "+r:r+" sedan":r},$ye={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"y-MM-dd"},Hye={full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Gye={full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Kye={date:Sd({formats:$ye,defaultWidth:"full"}),time:Sd({formats:Hye,defaultWidth:"full"}),dateTime:Sd({formats:Gye,defaultWidth:"full"})},Yye={lastWeek:"'i' EEEE's kl.' p",yesterday:"'igr kl.' p",today:"'idag kl.' p",tomorrow:"'imorgon kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"},Wye=(t,e,n,r)=>Yye[t],Jye={narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["fre Kristus","efter Kristus"]},Xye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1:a kvartalet","2:a kvartalet","3:e kvartalet","4:e kvartalet"]},Qye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],wide:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},Zye={narrow:["S","M","T","O","T","F","L"],short:["s","m","ti","on","to","fr","l"],abbreviated:["sn","mn","tis","ons","tors","fre","lr"],wide:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"]},eve={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"morg.",afternoon:"efterm.",evening:"kvll",night:"natt"},abbreviated:{am:"f.m.",pm:"e.m.",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"efterm.",evening:"kvll",night:"natt"},wide:{am:"frmiddag",pm:"eftermiddag",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"eftermiddag",evening:"kvll",night:"natt"}},tve={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},abbreviated:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},wide:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morgonen",afternoon:"p eftermiddagen",evening:"p kvllen",night:"p natten"}},nve=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:case 2:return n+":a"}return n+":e"},rve={ordinalNumber:nve,era:ys({values:Jye,defaultWidth:"wide"}),quarter:ys({values:Xye,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ys({values:Qye,defaultWidth:"wide"}),day:ys({values:Zye,defaultWidth:"wide"}),dayPeriod:ys({values:eve,defaultWidth:"wide",formattingValues:tve,defaultFormattingWidth:"wide"})},ive=/^(\d+)(:a|:e)?/i,ave=/\d+/i,sve={narrow:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,abbreviated:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,wide:/^(fre Kristus|fre vr tid|efter Kristus|vr tid)/i},ove={any:[/^f/i,/^[ev]/i]},lve={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](:a|:e)? kvartalet/i},cve={any:[/1/i,/2/i,/3/i,/4/i]},uve={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar[s]?|apr|maj|jun[i]?|jul[i]?|aug|sep|okt|nov|dec)\.?/i,wide:/^(januari|februari|mars|april|maj|juni|juli|augusti|september|oktober|november|december)/i},dve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^maj/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fve={narrow:/^[smtofl]/i,short:/^(s|m|ti|on|to|fr|l)/i,abbreviated:/^(sn|mn|tis|ons|tors|fre|lr)/i,wide:/^(sndag|mndag|tisdag|onsdag|torsdag|fredag|lrdag)/i},hve={any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},pve={any:/^([fe]\.?\s?m\.?|midn(att)?|midd(ag)?|(p) (morgonen|eftermiddagen|kvllen|natten))/i},mve={any:{am:/^f/i,pm:/^e/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgon/i,afternoon:/eftermiddag/i,evening:/kvll/i,night:/natt/i}},gve={ordinalNumber:RB({matchPattern:ive,parsePattern:ave,valueCallback:t=>parseInt(t,10)}),era:vs({matchPatterns:sve,defaultMatchWidth:"wide",parsePatterns:ove,defaultParseWidth:"any"}),quarter:vs({matchPatterns:lve,defaultMatchWidth:"wide",parsePatterns:cve,defaultParseWidth:"any",valueCallback:t=>t+1}),month:vs({matchPatterns:uve,defaultMatchWidth:"wide",parsePatterns:dve,defaultParseWidth:"any"}),day:vs({matchPatterns:fve,defaultMatchWidth:"wide",parsePatterns:hve,defaultParseWidth:"any"}),dayPeriod:vs({matchPatterns:pve,defaultMatchWidth:"any",parsePatterns:mve,defaultParseWidth:"any"})},yve={code:"sv",formatDistance:qye,formatLong:Kye,formatRelative:Wye,localize:rve,match:gve,options:{weekStartsOn:1,firstWeekContainsDate:4}},UL={charcoal:"#463F3A",ice:"#FAF7F5"},cd=t=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(t),vve=({project:t,onPhaseClick:e})=>{const{tasks:n,vehicleData:r}=t,[i,a]=A.useState(()=>{const v=localStorage.getItem("elton-dashboard-order");return v?JSON.parse(v):["stats","timeline","budget","phases","resources"]});A.useEffect(()=>{localStorage.setItem("elton-dashboard-order",JSON.stringify(i))},[i]);const s=(v,T)=>{const k=i.indexOf(v);if(k===-1||T==="up"&&k===0||T==="down"&&k===i.length-1)return;const S=[...i],C=T==="up"?k-1:k+1;[S[k],S[C]]=[S[C],S[k]],a(S)},l=A.useMemo(()=>{const v=n.reduce((I,L)=>I+(L.estimatedCostMin||0),0),T=n.reduce((I,L)=>I+(L.estimatedCostMax||0),0),k=n.reduce((I,L)=>I+(L.actualCost||0),0),S=n.filter(I=>I.status===dt.DONE).length,C=n.length>0?Math.round(S/n.length*100):0,R=(T+v)/2-k;return{totalMin:v,totalMax:T,spent:k,progress:C,completed:S,total:n.length,remainingBudget:R}},[n]),u=A.useMemo(()=>Array.from(new Set(n.map(T=>T.phase||"Oknd Fas"))).map(T=>{const k=n.filter(S=>(S.phase||"Oknd Fas")===T);return{name:T.split(":")[0],est:k.reduce((S,C)=>S+((C.estimatedCostMax||0)+(C.estimatedCostMin||0))/2,0),spent:k.reduce((S,C)=>S+(C.actualCost||0),0)}}),[n]),d=A.useMemo(()=>{const v=r!=null&&r.prodYear?String(r.prodYear):"-",T=(r==null?void 0:r.regDate)||"-",k=t.created?Vye(new Date(t.created),"d MMM yyyy",{locale:yve}):"-",S=[{date:v,title:"Tillverkad",description:`${(r==null?void 0:r.make)||"Oknd"} ${(r==null?void 0:r.model)||"Fordon"}`,type:"history",icon:Tb},{date:T,title:"I Trafik",description:"Frsta gngen p vg",type:"history",icon:Xh},{date:k,title:"Projektstart",description:t.name,type:"milestone",icon:kue}],C=n.filter(R=>R.status===dt.DONE).slice(0,5).map(R=>({date:"Klar",title:R.title,description:(R.phase||"Oknd").split(":")[0],type:"task",icon:cr}));return[...S,...C]},[n,r,t]),f=({title:v,id:T})=>m.jsxs("div",{className:"flex justify-between items-center mb-4 group",children:[m.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:v}),m.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>s(T,"up"),className:"p-1 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded",children:m.jsx(Gce,{size:14})}),m.jsx("button",{onClick:()=>s(T,"down"),className:"p-1 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded",children:m.jsx(Bce,{size:14})})]})]}),p=({title:v,value:T,subtext:k,icon:S,color:C})=>m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg flex items-center space-x-4 transition-all hover:shadow-md h-full",children:[m.jsx("div",{className:`p-4 rounded-2xl ${C} dark:bg-opacity-20`,children:m.jsx(S,{size:24,className:"text-nordic-charcoal dark:text-nordic-ice opacity-80"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:v}),m.jsx("h3",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:T}),k&&m.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted mt-1",children:k})]})]}),y=v=>{switch(v){case"stats":return m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx(p,{title:"Total Budget",value:`${cd(l.totalMin)} - ${cd(l.totalMax)}`,subtext:"Uppskattat spann",icon:afe,color:"bg-nordic-blue"}),m.jsx(p,{title:"Spenderat",value:cd(l.spent),subtext:`Kvar av snittbudget: ${cd(l.remainingBudget)}`,icon:mue,color:"bg-nordic-pink"}),m.jsx(p,{title:"Frdigt",value:`${l.progress}%`,subtext:`${l.completed} av ${l.total} uppgifter klara`,icon:cr,color:"bg-nordic-green"})]},"stats");case"timeline":return m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg overflow-hidden",children:[m.jsx(f,{title:"Tidslinje & Resa",id:"timeline"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute top-[24px] left-0 w-full h-1 bg-gradient-to-r from-nordic-ice via-nordic-blue/30 to-nordic-ice dark:from-nordic-dark-bg dark:via-nordic-charcoal dark:to-nordic-dark-bg rounded-full"}),m.jsx("div",{className:"flex overflow-x-auto pb-6 space-x-12 px-4 scrollbar-thin scrollbar-thumb-nordic-blue/50 scrollbar-track-transparent snap-x",children:d.map((T,k)=>m.jsxs("div",{className:"relative flex flex-col items-center min-w-[160px] snap-center group",children:[m.jsx("div",{className:`w-12 h-12 rounded-full border-4 border-white dark:border-nordic-dark-surface shadow-sm flex items-center justify-center mb-4 z-10 transition-transform duration-300 group-hover:scale-110 ${T.type==="history"?"bg-slate-100 dark:bg-nordic-charcoal text-slate-400":T.type==="milestone"?"bg-nordic-pink dark:bg-pink-900/40 text-rose-800 dark:text-rose-200":"bg-nordic-green dark:bg-green-900/40 text-green-800 dark:text-green-200"}`,children:m.jsx(T.icon,{size:20})}),m.jsxs("div",{className:"text-center transition-opacity duration-300 group-hover:opacity-100",children:[m.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-1 block",children:T.date}),m.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm leading-tight mb-1",children:T.title}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted max-w-[140px] mx-auto leading-relaxed",children:T.description})]})]},k))})]})]},"timeline");case"budget":return m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg",children:[m.jsx(f,{title:"Ekonomi per Fas",id:"budget"}),m.jsx("div",{style:{width:"100%",height:320,minHeight:300},children:m.jsx(jU,{width:"100%",height:"100%",children:m.jsxs(Mce,{data:u,barGap:-20,children:[m.jsx(dA,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#8A817C",fontSize:12},dy:10}),m.jsx(fA,{hide:!0}),m.jsx(wF,{cursor:{fill:"rgba(200,200,200,0.1)"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 25px -5px rgb(0 0 0 / 0.1)"},formatter:T=>cd(T)}),m.jsx(RS,{dataKey:"est",name:"Estimat",fill:UL.ice,radius:[8,8,8,8],barSize:48,className:"dark:fill-nordic-charcoal"}),m.jsx(RS,{dataKey:"spent",name:"Utfall",fill:UL.charcoal,radius:[8,8,8,8],barSize:24,className:"dark:fill-teal-600"})]})})})]},"budget");case"phases":return m.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[m.jsx(f,{title:"Status per Fas",id:"phases"}),u.map((T,k)=>m.jsxs("button",{onClick:()=>e&&e(T.name),className:"bg-white dark:bg-nordic-dark-surface p-5 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg flex items-center justify-between hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 transition-colors w-full group text-left cursor-pointer shadow-sm hover:shadow-md",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-nordic-ice dark:bg-nordic-charcoal flex items-center justify-center font-serif font-bold text-slate-600 dark:text-nordic-ice group-hover:scale-110 transition-transform",children:k+0}),m.jsxs("div",{children:[m.jsxs("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[T.name,m.jsx(Nz,{size:14,className:"opacity-0 group-hover:opacity-100 transition-opacity text-teal-500"})]}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted",children:[cd(T.spent)," spenderat"]})]})]}),m.jsx("div",{className:"w-32 h-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-teal-500 rounded-full",style:{width:`${Math.min(T.spent/(T.est||1)*100,100)}%`}})})]},k))]},"phases");case"resources":return m.jsxs("div",{className:"pt-4",children:[m.jsx(f,{title:"Resurser",id:"resources"}),m.jsx(Mge,{projectArticles:t.knowledgeArticles})]},"resources");default:return null}};return m.jsx("div",{className:"space-y-8 pb-20 animate-fade-in",children:i.map(v=>y(v))})},bve=({task:t,vehicleData:e,shoppingItems:n,onUpdate:r,onClose:i})=>{const[a,s]=A.useState("details"),[l,u]=A.useState(""),[d,f]=A.useState(""),[p,y]=A.useState(""),[v,T]=A.useState(""),[k,S]=A.useState(t.description),[C,R]=A.useState(t.actualCost.toString()),I=t.decisionOptions&&t.decisionOptions.length>0,L=t.subtasks||[],F=L.filter(H=>H.completed).length,j=L.length>0?F/L.length*100:0,P=A.useMemo(()=>{const H=t.title.toLowerCase().split(" ").filter(ne=>ne.length>3),Z={specs:[],articles:[],inventory:[]};return H.some(ne=>"dck hjul flg bult".includes(ne))&&(Z.specs.push({label:"Bultmnster",value:e.wheels.boltPattern}),Z.specs.push({label:"Dckdimension",value:e.wheels.tiresFront})),H.some(ne=>"olja filter service motor".includes(ne))&&(Z.specs.push({label:"Motorolja",value:"10W-40 Mineral"}),Z.specs.push({label:"Volym",value:e.engine.volume})),H.some(ne=>"vxellda lda vxel".includes(ne))&&Z.specs.push({label:"Vxellda",value:e.gearbox}),H.some(ne=>"last vikt lasta".includes(ne))&&Z.specs.push({label:"Max Lastvikt",value:`${e.weights.load} kg`}),Z.articles=DA.filter(ne=>{const Y=ne.content.toLowerCase();return H.some($=>Y.includes($))}),Z.inventory=n.filter(ne=>H.some(Y=>ne.name.toLowerCase().includes(Y))),Z},[t.title,e,n]),U=()=>{r({...t,description:k,actualCost:parseInt(C)||0})},M=()=>{if(!v.trim())return;const H={id:Math.random().toString(36).substr(2,9),title:v,completed:!1};r({...t,subtasks:[...L,H]}),T("")},B=H=>{r({...t,subtasks:L.map(Z=>Z.id===H?{...Z,completed:!Z.completed}:Z)})},V=H=>{r({...t,subtasks:L.filter(Z=>Z.id!==H)})},q=()=>{if(!l.trim())return;const H={id:Math.random().toString(36).substr(2,9),text:l,createdAt:new Date().toISOString(),author:"user"};r({...t,comments:[...t.comments,H]}),u("")},z=()=>{if(!p.trim())return;const H={id:Math.random().toString(36).substr(2,9),title:d||p,url:p.startsWith("http")?p:`https://${p}`};r({...t,links:[...t.links,H]}),f(""),y("")},le=H=>{r({...t,links:t.links.filter(Z=>Z.id!==H)})},X=H=>{var ne;const Z=(ne=H.target.files)==null?void 0:ne[0];if(Z){const Y=new FileReader;Y.onloadend=()=>{const $={id:Math.random().toString(36).substr(2,9),name:Z.name,type:Z.type.startsWith("image/")?"image":"file",data:Y.result};r({...t,attachments:[...t.attachments,$]})},Y.readAsDataURL(Z)}},J=H=>{r({...t,attachments:t.attachments.filter(Z=>Z.id!==H)})};return m.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/30 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"p-6 bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-dark-bg dark:to-nordic-dark-surface border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-bold uppercase tracking-wider ${t.status==="Klart"?"bg-nordic-green text-green-800":"bg-nordic-blue text-blue-800"}`,children:t.status}),m.jsx("span",{className:"text-slate-400 text-xs font-mono uppercase",children:t.phase})]}),m.jsx("h2",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:t.title})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{className:"hidden sm:flex items-center gap-2 px-3 py-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-xl text-xs font-bold text-nordic-charcoal dark:text-nordic-ice hover:bg-teal-50 dark:hover:bg-teal-900/20 transition-colors",children:[m.jsx(jS,{size:16})," Frga Elton om detta"]}),m.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full transition-colors",children:m.jsx(dr,{size:24,className:"text-slate-500 dark:text-slate-400"})})]})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto",children:[m.jsxs("div",{className:"flex border-b border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-surface sticky top-0 z-10",children:[m.jsx("button",{onClick:()=>s("details"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${a==="details"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:"Detaljer & Checklistor"}),m.jsxs("button",{onClick:()=>s("decision"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors flex items-center justify-center gap-2 ${a==="decision"?"border-amber-400 text-amber-600 dark:text-amber-400":"border-transparent text-slate-400 hover:text-amber-500"}`,children:[m.jsx(LS,{size:16}),"Beslutsstd"]}),m.jsxs("button",{onClick:()=>s("comments"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${a==="comments"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:["Kommentarer (",t.comments.length,")"]})]}),m.jsxs("div",{className:"p-6",children:[a==="details"&&m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Beskrivning"}),m.jsx("textarea",{value:k,onChange:H=>S(H.target.value),onBlur:U,className:"w-full p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal focus:ring-2 focus:ring-teal-500/20 focus:outline-none text-slate-700 dark:text-nordic-ice min-h-[80px]"})]}),m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg/30 p-4 rounded-2xl border border-slate-100 dark:border-nordic-charcoal",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[m.jsx(jz,{size:18,className:"text-teal-600"})," Checklista"]}),L.length>0&&m.jsxs("span",{className:"text-xs font-bold text-slate-400",children:[Math.round(j),"%"]})]}),L.length>0&&m.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-nordic-charcoal rounded-full mb-4 overflow-hidden",children:m.jsx("div",{className:"h-full bg-teal-500 transition-all duration-500",style:{width:`${j}%`}})}),m.jsx("div",{className:"space-y-2 mb-3",children:L.map(H=>m.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 rounded-lg group cursor-pointer",onClick:()=>B(H.id),children:[m.jsx("div",{className:`transition-colors ${H.completed?"text-teal-600":"text-slate-300"}`,children:H.completed?m.jsx(cr,{size:20}):m.jsx(qd,{size:20})}),m.jsx("span",{className:`flex-1 text-sm ${H.completed?"text-slate-400 line-through decoration-slate-300":"text-nordic-charcoal dark:text-slate-200"}`,children:H.title}),m.jsx("button",{onClick:Z=>{Z.stopPropagation(),V(H.id)},className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:m.jsx(jl,{size:14})})]},H.id))}),m.jsxs("div",{className:"flex gap-2 items-center mt-2",children:[m.jsx(ws,{size:16,className:"text-slate-400 ml-2"}),m.jsx("input",{placeholder:"Lgg till en punkt...",value:v,onChange:H=>T(H.target.value),onKeyDown:H=>H.key==="Enter"&&M(),className:"flex-1 bg-transparent text-sm p-1 focus:outline-none dark:text-white placeholder:text-slate-400"}),m.jsx("button",{onClick:M,disabled:!v.trim(),className:"text-xs font-bold bg-slate-100 dark:bg-nordic-charcoal px-3 py-1.5 rounded-lg hover:bg-slate-200 dark:hover:bg-nordic-dark-surface transition-colors disabled:opacity-0",children:"Lgg till"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[m.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Estimat"}),m.jsxs("span",{className:"text-xl font-mono font-medium text-slate-700 dark:text-nordic-ice",children:[t.estimatedCostMin," - ",t.estimatedCostMax," kr"]})]}),m.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[m.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Verklig Kostnad"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"number",value:C,onChange:H=>R(H.target.value),onBlur:U,className:"w-24 bg-transparent font-mono text-xl font-medium text-nordic-charcoal dark:text-nordic-ice focus:outline-none border-b border-slate-300 dark:border-slate-600 focus:border-teal-500"}),m.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"kr"})]})]})]})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[m.jsx(Qv,{size:18})," Lnkar"]}),m.jsx("div",{className:"space-y-2 mb-3",children:t.links.map(H=>m.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl group hover:border-teal-200 transition-colors",children:[m.jsxs("a",{href:H.url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-teal-700 dark:text-teal-400 font-medium hover:underline truncate",children:[m.jsx(Qv,{size:14})," ",H.title]}),m.jsx("button",{onClick:()=>le(H.id),className:"text-slate-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:m.jsx(jl,{size:16})})]},H.id))}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{placeholder:"Titel (t.ex. Mekonomen)",value:d,onChange:H=>f(H.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),m.jsx("input",{placeholder:"https://...",value:p,onChange:H=>y(H.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),m.jsx("button",{onClick:z,disabled:!p,className:"p-2 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-lg hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:m.jsx(ws,{size:18})})]})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[m.jsx(Vz,{size:18})," Filer & Kvitton"]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-3",children:[t.attachments.map(H=>m.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-slate-200 dark:border-nordic-charcoal aspect-square bg-slate-50 dark:bg-nordic-dark-bg flex items-center justify-center",children:[H.type==="image"?m.jsx("img",{src:H.data,alt:H.name,className:"w-full h-full object-cover"}):m.jsxs("div",{className:"text-center p-2",children:[m.jsx(gA,{className:"mx-auto mb-1 text-slate-400"}),m.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:H.name})]}),m.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:m.jsx("button",{onClick:()=>J(H.id),className:"p-2 bg-white rounded-full text-rose-500 hover:bg-rose-50",children:m.jsx(jl,{size:16})})})]},H.id)),m.jsxs("label",{className:"cursor-pointer rounded-xl border-2 border-dashed border-slate-200 dark:border-nordic-charcoal hover:border-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900/10 transition-all aspect-square flex flex-col items-center justify-center text-slate-400 hover:text-teal-600 dark:hover:text-teal-400",children:[m.jsx(ws,{size:24,className:"mb-1"}),m.jsx("span",{className:"text-xs font-medium",children:"Ladda upp"}),m.jsx("input",{type:"file",onChange:X,className:"hidden"})]})]})]})]}),a==="decision"&&m.jsxs("div",{className:"space-y-6",children:[(P.specs.length>0||P.articles.length>0||P.inventory.length>0)&&m.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-5 rounded-2xl border border-indigo-100 dark:border-indigo-800",children:[m.jsxs("h3",{className:"font-serif font-bold text-lg text-indigo-900 dark:text-indigo-200 mb-4 flex items-center gap-2",children:[m.jsx(co,{size:18})," Eltons Tekniska Noteringar"]}),m.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[P.specs.length>0&&m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[m.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block",children:"Specifikationer"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:P.specs.map((H,Z)=>m.jsxs("div",{children:[m.jsx("span",{className:"text-xs text-slate-500 block",children:H.label}),m.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm",children:H.value})]},Z))})]}),P.inventory.length>0&&m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[m.jsxs("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[m.jsx($z,{size:12})," Frn Inkpslistan"]}),m.jsx("div",{className:"space-y-1",children:P.inventory.map((H,Z)=>m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[H.checked?m.jsx(cr,{size:14,className:"text-green-500"}):m.jsx(qd,{size:14,className:"text-slate-300"}),m.jsx("span",{className:H.checked?"text-slate-400 line-through":"text-nordic-charcoal dark:text-nordic-ice",children:H.name})]},Z))})]}),P.articles.map(H=>m.jsx("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50 hover:border-indigo-300 transition-colors group cursor-pointer",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Sb,{className:"text-indigo-500 shrink-0 mt-1",size:18}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice group-hover:underline",children:H.title}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 line-clamp-2",children:H.summary})]})]})},H.id))]})]}),m.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-2xl border border-amber-100 dark:border-amber-800 text-amber-800 dark:text-amber-200 text-sm flex gap-3",children:[m.jsx(LS,{className:"shrink-0",size:20}),m.jsx("p",{children:"Hr kan du jmfra olika vgar framt. Vad r vrt mest  din tid eller dina pengar?"})]}),I?m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.decisionOptions.map(H=>m.jsxs("div",{className:`p-6 rounded-3xl border-2 relative ${H.recommended?"border-teal-400 bg-teal-50 dark:bg-teal-900/10":"border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-bg"}`,children:[H.recommended&&m.jsx("div",{className:"absolute -top-3 left-6 bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full",children:"Rekommenderas"}),m.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-1",children:H.title}),m.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted text-sm mb-4",children:H.description}),m.jsxs("div",{className:"bg-nordic-ice dark:bg-nordic-charcoal p-3 rounded-xl mb-4 text-center",children:[m.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Prisspann"}),m.jsx("span",{className:"font-mono font-bold text-lg text-nordic-charcoal dark:text-white",children:H.costRange})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-xs font-bold text-green-600 dark:text-green-400 uppercase block mb-2",children:"Frdelar"}),m.jsx("ul",{className:"space-y-1",children:H.pros.map((Z,ne)=>m.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[m.jsx(fm,{size:14,className:"text-green-500 mt-0.5 shrink-0"})," ",Z]},ne))})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-xs font-bold text-rose-500 dark:text-rose-400 uppercase block mb-2",children:"Nackdelar"}),m.jsx("ul",{className:"space-y-1",children:H.cons.map((Z,ne)=>m.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[m.jsx(Dz,{size:14,className:"text-rose-400 mt-0.5 shrink-0"})," ",Z]},ne))})]})]})]},H.id))}):m.jsx("div",{className:"text-center py-8 text-slate-400 italic",children:"Inga manuella alternativ inlagda n."})]}),a==="comments"&&m.jsxs("div",{className:"flex flex-col h-[500px]",children:[m.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto pr-2",children:[t.comments.length===0&&m.jsxs("div",{className:"text-center py-10 text-slate-400",children:[m.jsx(jS,{size:48,className:"mx-auto mb-2 opacity-20"}),m.jsx("p",{children:"Inga kommentarer n."})]}),t.comments.map(H=>m.jsxs("div",{className:`p-4 rounded-2xl max-w-[90%] ${H.author==="user"?"bg-nordic-ice dark:bg-teal-900/30 ml-auto rounded-br-none":"bg-white dark:bg-nordic-charcoal border border-slate-100 dark:border-nordic-dark-bg mr-auto rounded-bl-none"}`,children:[m.jsx("p",{className:"text-slate-700 dark:text-slate-200 text-sm leading-relaxed",children:H.text}),m.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-right",children:new Date(H.createdAt).toLocaleString()})]},H.id))]}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-nordic-charcoal flex gap-2",children:[m.jsx("input",{value:l,onChange:H=>u(H.target.value),onKeyDown:H=>H.key==="Enter"&&q(),placeholder:"Skriv en kommentar...",className:"flex-1 p-3 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 dark:text-white"}),m.jsx("button",{onClick:q,disabled:!l.trim(),className:"p-3 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:m.jsx(Bz,{size:18})})]})]})]})]})]})})},xve=({tasks:t,shoppingItems:e,vehicleData:n,onUpdateTask:r,initialFilter:i="ALL"})=>{const[a,s]=A.useState(null),[l,u]=A.useState("ALL"),[d,f]=A.useState(null),p=A.useMemo(()=>Array.from(new Set(t.map(L=>L.phase).filter(Boolean))).sort(),[t]);A.useEffect(()=>{u(i),i!=="ALL"&&p.includes(i)?s(i):p.length>0&&i==="ALL"&&!a&&s(p[0])},[i,p]);const y=I=>{s(a===I?null:I)},v=l==="ALL"?p:[l],T=t.filter(I=>I.status===dt.IDEA),k=t.filter(I=>I.status!==dt.IDEA),S=I=>{switch(I){case dt.DONE:return"bg-nordic-green text-green-900 border-green-200 dark:bg-green-900/40 dark:text-green-200 dark:border-green-900";case dt.IN_PROGRESS:return"bg-nordic-blue text-blue-900 border-blue-200 dark:bg-blue-900/40 dark:text-blue-200 dark:border-blue-900";case dt.TODO:return"bg-nordic-pink text-rose-900 border-rose-200 dark:bg-rose-900/40 dark:text-rose-200 dark:border-rose-900";case dt.IDEA:return"bg-amber-100 text-amber-900 border-amber-200 dark:bg-amber-900/40 dark:text-amber-200 dark:border-amber-900";default:return"bg-slate-100"}},C=I=>{switch(I){case di.HIGH:return"text-rose-600 bg-rose-50 dark:bg-rose-900/20 dark:text-rose-300 border-rose-100 dark:border-rose-900";case di.MEDIUM:return"text-amber-600 bg-amber-50 dark:bg-amber-900/20 dark:text-amber-300 border-amber-100 dark:border-amber-900";default:return"text-slate-500 bg-slate-50 dark:bg-slate-800 dark:text-slate-400 border-slate-100 dark:border-slate-700"}},R=I=>{let L=dt.TODO;I.status===dt.IDEA?L=dt.TODO:I.status===dt.TODO?L=dt.IN_PROGRESS:I.status===dt.IN_PROGRESS?L=dt.DONE:I.status===dt.DONE&&(L=dt.TODO),r({...I,status:L})};return m.jsxs("div",{className:"space-y-8 pb-20",children:[T.length>0&&m.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30 rounded-3xl border border-amber-100 dark:border-amber-900/50 p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"p-2 bg-white dark:bg-amber-900/50 rounded-xl text-amber-500 shadow-sm",children:m.jsx(LS,{size:24})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-serif font-bold text-xl text-amber-900 dark:text-amber-100",children:"Idbanken"}),m.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Drmmar och tankar som inte r spikade n."})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:T.map(I=>m.jsxs("div",{onClick:()=>f(I),className:"bg-white/80 dark:bg-nordic-dark-bg/80 backdrop-blur border border-amber-100 dark:border-amber-900/50 p-4 rounded-xl cursor-pointer hover:shadow-md transition-all hover:-translate-y-1",children:[m.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice mb-1",children:I.title}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-2",children:I.description}),m.jsx("div",{className:"mt-3 flex justify-end",children:m.jsx("button",{onClick:L=>{L.stopPropagation(),R(I)},className:"text-[10px] font-bold uppercase tracking-wider text-amber-600 hover:bg-amber-100 px-2 py-1 rounded-md transition-colors",children:"Aktivera"})})]},I.id))})]}),m.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide sticky top-0 bg-nordic-ice/95 dark:bg-nordic-dark-bg/95 z-20 py-2 backdrop-blur-sm",children:[m.jsx("button",{onClick:()=>u("ALL"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${l==="ALL"?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:"Alla Faser"}),p.map(I=>m.jsx("button",{onClick:()=>u(I),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${l===I?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:I.split(":")[0]},I))]}),v.map(I=>{const L=k.filter(j=>j.phase===I),F=a===I||v.length===1;return L.length===0?null:m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm overflow-hidden transition-all duration-500 ease-in-out",children:[m.jsx("button",{onClick:()=>y(I),className:"w-full flex items-center justify-between p-6 bg-white dark:bg-nordic-dark-surface hover:bg-nordic-ice/30 dark:hover:bg-nordic-charcoal/30 transition-colors",children:m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:`p-2.5 rounded-xl transition-colors ${F?"bg-nordic-charcoal text-white dark:bg-teal-600":"bg-nordic-ice text-slate-500 dark:bg-nordic-charcoal dark:text-nordic-ice"}`,children:F?m.jsx(sue,{size:20}):m.jsx(Pz,{size:20})}),m.jsxs("div",{className:"text-left",children:[m.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:I}),m.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-nordic-dark-muted mt-1",children:[m.jsxs("span",{className:"bg-nordic-green/50 dark:bg-green-900/30 px-2 py-0.5 rounded-full text-xs text-green-900 dark:text-green-200 font-medium",children:[L.filter(j=>j.status===dt.DONE).length," Klara"]}),m.jsx("span",{children:""}),m.jsxs("span",{children:[L.length," Totalt"]})]})]})]})}),F&&m.jsxs("div",{className:"p-6 pt-0 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 bg-nordic-ice/20 dark:bg-black/10 border-t border-nordic-ice dark:border-nordic-dark-bg",children:[m.jsx("div",{className:"h-2 col-span-full"}),L.map(j=>{var M,B,V;const P=j.subtasks||[],U=P.filter(q=>q.completed).length;return m.jsxs("div",{onClick:()=>f(j),className:`group relative p-5 rounded-2xl border transition-all duration-300 hover:-translate-y-1 hover:shadow-lg flex flex-col justify-between cursor-pointer ${j.status===dt.DONE?"bg-white dark:bg-nordic-dark-bg border-slate-100 dark:border-nordic-charcoal opacity-70 hover:opacity-100":"bg-white dark:bg-nordic-dark-bg border-slate-200 dark:border-nordic-charcoal shadow-sm"}`,children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsx("span",{className:`text-[10px] px-2.5 py-1 rounded-full font-bold uppercase tracking-wider ${S(j.status)}`,children:j.status}),m.jsxs("div",{className:"flex gap-1",children:[j.priority&&m.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-bold uppercase border ${C(j.priority)}`,children:j.priority}),j.tags.includes("Kritisk")&&m.jsx("span",{className:"text-rose-500 animate-pulse",children:m.jsx(lo,{size:16})})]})]}),m.jsx("h4",{className:`font-bold text-lg mb-2 ${j.status===dt.DONE?"text-slate-500 dark:text-nordic-dark-muted line-through decoration-2 decoration-slate-300":"text-nordic-charcoal dark:text-nordic-ice"}`,children:j.title}),j.sprint&&m.jsxs("div",{className:"mb-2 inline-flex items-center gap-1.5 px-2 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-md text-xs font-medium border border-indigo-100 dark:border-indigo-900/30",children:[m.jsx(tue,{size:12}),j.sprint]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted leading-relaxed mb-4 line-clamp-2",children:j.description})]}),m.jsxs("div",{className:"flex flex-col gap-3 mt-2 pt-4 border-t border-slate-50 dark:border-nordic-charcoal",children:[m.jsxs("div",{className:"flex gap-3 text-slate-400",children:[P.length>0&&m.jsxs("div",{className:`flex items-center gap-1 text-xs ${U===P.length?"text-green-500":"text-slate-400"}`,children:[m.jsx(jz,{size:14}),m.jsxs("span",{children:[U,"/",P.length]})]}),((M=j.comments)==null?void 0:M.length)>0&&m.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[m.jsx(jS,{size:14}),m.jsx("span",{children:j.comments.length})]}),((B=j.attachments)==null?void 0:B.length)>0&&m.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[m.jsx(Vz,{size:14}),m.jsx("span",{children:j.attachments.length})]}),((V=j.links)==null?void 0:V.length)>0&&m.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[m.jsx(Yue,{size:14}),m.jsx("span",{children:j.links.length})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Estimat"}),m.jsxs("span",{className:"text-sm font-mono text-slate-600 dark:text-slate-300",children:[j.estimatedCostMin,"-",j.estimatedCostMax," kr"]})]}),m.jsx("button",{onClick:q=>{q.stopPropagation(),R(j)},className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${j.status===dt.DONE?"bg-nordic-green text-green-800 scale-110 shadow-inner":"bg-slate-100 dark:bg-nordic-charcoal text-slate-400 hover:bg-nordic-blue hover:text-blue-800 hover:scale-110"}`,children:m.jsx(fm,{size:20,strokeWidth:j.status===dt.DONE?3:2})})]})]})]},j.id)})]})]},I)}),d&&m.jsx(bve,{task:d,vehicleData:n,shoppingItems:e,onUpdate:I=>{r(I),f(I)},onClose:()=>f(null)})]})},Hy={AI_MODEL_VERSION:"gemini-2.0-flash-exp",AI_PERSONA_VERSION:"v1_standard",BASE_PROMPT_VERSION:"v1"},sa={BASE:{v1:`Du r en expert p fordon, renovering och projektledning.
        Ditt ml r att hjlpa anvndaren att planera, genomfra och dokumentera sitt bygge.
        Du har tillgng till projektets data (uppgifter, inkp, fordonsspecifikationer) och ska anvnda denna kontext i dina svar.

        SRSKILDA FRMGOR:
        1. RAPPORTER & GUIDER: Om anvndaren ber om en guide (t.ex. "Hur byter jag kamrem?") eller en rapport, sk upp fakta och ANVND VERKTYGET 'createKnowledgeArticle' fr att spara den i Kunskapsbanken.
        2. BILDANALYS: Om anvndaren laddar upp en bild p en inkpslista eller en skiss, analysera den och anvnd verktygen (addTask, addToShoppingList) fr att digitalisera innehllet.
        3. KONVERSATIONELLT BESLUTSFATTANDE: Nr anvndaren planerar en uppgift, frga "Vill du gra det sjlv eller lmna p verkstad?" innan du skapar uppgiften. Anpassa rekommendationen baserat p anvndarens kunskapsniv.

        Var proaktiv: Fresl nsta steg, varna fr risker och hll koll p budgeten.
        OM DATA SAKNAS: Var rlig. Sg "Jag hittar inte exakt data om X". Gissa aldrig tekniska specifikationer som kan vara farliga.
        Svara alltid p SVENSKA.`,v2_strict:`Du r en strikt och skerhetsfokuserad fordonsingenjr.
        Ditt ml r att skerstlla att alla renoveringar sker enligt tillverkarens specifikationer.
        Prioritera alltid skerhet och originaldelar.
        Avrd frn oskra modifieringar.
        Svara alltid p SVENSKA.`},AGENTS:{DETECTIVE:{description:"Agent 1: Facts & Specs (Search Focused)",text:(t,e)=>`
            ROLL: Du r "Detektiven". Din enda uppgift r att hitta HRDA FAKTA och TEKNISK DATA om fordonet: "${t}".

            ${e?"BILD BIFOGAD: Din hgsta prioritet r att lsa av REGISTRERINGSNUMRET (RegNr) frn bilden (t.ex. ABC 123).":""}

             KRITISKT SPRKKRAV:
            - SVARA ENDAST P SVENSKA
            - INGA engelska ord eller fraser (inte ens tekniska termer)
            - verstt ALLT: "Engine"  "Motor", "Brake"  "Broms", "Tire"  "Dck"
            - Om du skriver ett engelskt ord kommer svaret REFUSERAS

            INSTRUKTIONER (SKSTRATEGI):
            1. IDENTIFIERA REGNR:
               - Leta i text eller bild efter registreringsnummer (format: ABC123, ABC 123)
               - Om RegNr finns  G DIREKT TILL STEG 2

            2. PRIMR SKNING (OBLIGATORISK FR REGNR):
               - Sk EXAKT p: 'site:biluppgifter.se {REGNR}'
               - Exempel: Om RegNr r JSN398  sk 'site:biluppgifter.se JSN398'
               - URL blir: https://biluppgifter.se/fordon/{regnr-utan-mellanslag}
               - Extrahera ALLA tillgngliga flt frn sidan:
                 * Motor: Effekt (HK + kW), Volym, Brnsle
                 * Vikter: Tjnstevikt, Totalvikt, Lastvikt, Slpvagnsvikt
                 * Mtt: Lngd, Bredd, Hjd, Axelavstnd
                 * Dck: Storlek fram/bak (t.ex. 215R14)
                 * Vxellda: Manuell/Automat
                 * Mtarstllning: Senaste frn besiktning
                 * gare: Antal, senaste garbyte
                 * Historik: Antal hndelser

            3. KOMPLETTERANDE KLLOR (om biluppgifter.se saknar data):
               - Sk ocks p: 'site:car.info {REGNR}'
               - Fr ldre fordon (<2000): Sk '{Mrke} {Modell} tekniska data'
               - Forum: Garaget.org, TheSamba, Jagrullar

            4. SERVICE-DATA (VIKTIGT fr underhll):
               - Motorkod (t.ex. B230F, D24, AAZ) - AVGRANDE fr reservdelar
               - Oljespecifikation (t.ex. 10W-40, 5W-30)
               - Oljevolym med filter (t.ex. 4.5 liter)
               - Kylvtska typ (t.ex. G12+)
               - Vxelldsolja
               - Dcktryck (fram/bak)
               - Bultmnster (t.ex. 5x114.3)

            5. DATASTDNING & VALIDERING:
               - Numeriska flt: Anvnd 0 endast om data INTE FINNS att hitta
               - Textflt: Anvnd "Oknt" om data INTE FINNS att hitta
               - GISSA ALDRIG tekniska specs
               - Om du hittar minst 10 flt frn biluppgifter.se = BRA
               - Om du hittar mindre n 5 flt = SKFEL, frsk igen
            
            OUTPUT (JSON ONLY):
            {
              "projectName": "String (T.ex. 'Volvo 240 - Prlan')",
              "vehicleData": {
                "regNo": "String",
                "make": "String",
                "model": "String",
                "year": Number,
                "prodYear": Number,
                "regDate": "String",
                "status": "String (I trafik/Avstlld)",
                "bodyType": "String",
                "passengers": Number,
                "inspection": { "last": "String", "next": "String", "mileage": "String" },
                "engine": { "fuel": "String", "power": "String", "volume": "String", "code": "String (VIKTIGT!)" },
                "gearbox": "String",
                "wheels": { "drive": "String", "tiresFront": "String", "tiresRear": "String", "boltPattern": "String" },
                "dimensions": { "length": Number, "width": Number, "height": "String", "wheelbase": Number },
                "weights": { "curb": Number, "total": Number, "load": Number, "trailer": Number, "trailerB": Number },
                "vin": "String",
                "color": "String",
                "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" },
                "maintenance": {
                    "fluids": { "oilType": "String", "oilCapacity": "String", "coolantType": "String", "gearboxOil": "String" },
                    "battery": { "type": "String", "capacity": "String" },
                    "tires": { "pressureFront": "String", "pressureRear": "String" }
                }
              }
            }`},PLANNER:{description:"Agent 2: Strategy & Tasks (Logic Focused)",text:(t,e,n)=>`
            ROLL: Du r "Verkmstaren". Du ska skapa en handlingsplan och en teknisk analys.

             KRITISKT SPRKKRAV:
            - SKRIV ALLT P SVENSKA
            - INGA engelska ord i title, description, subtasks, tags
            - verstt ALLT: "Safety check"  "Skerhetskontroll", "Brake system"  "Bromssystem"
            - Om du skriver ett engelskt ord kommer uppgiften REFUSERAS

            FAKTA FRN DETEKTIVEN:
            ${t}

            PROJEKTTYP: ${e}
            ANVNDARENS KUNSKAPSNIV: ${n}

            INSTRUKTIONER:
            1. SKERHET FRST: Prioritera ALLTID skerhetsrelaterade fel (bromsar, rost i brande delar, dck) som 'Hg' prioritet.
            2. BEDM SVRIGHET: Uppskatta difficultyLevel ('Easy', 'Medium', 'Expert') fr varje uppgift.
            3. VERKTYGSLISTA: Lista specifika verktyg som behvs fr varje uppgift (t.ex. "Momentnyckel", "Avdragare").
            4. ANALYSERA FEL & MODIFIERINGAR: Sk efter vanliga fel och mjligheter fr modellen.
            5. BEROENDEN (BLOCKERS): Tnk logiskt. "Rostlagning" mste ske FRE "Isolering" eller "Mlning". Identifiera dessa blockers.
            6. UPPGIFTSTYPER: Kategorisera noga:
               - MAINTENANCE: Reparation, service, besiktning.
               - BUILD: Nybygge, frbttring, camper-inredning.
               - PURCHASE: Rena inkp (t.ex. dck).
               - ADMIN: Pappersarbete, frskring.

            ANPASSA EFTER KUNSKAPSNIV (${n}):
            ${n==="beginner"?"- Ge detaljerade instruktioner, frklara termer, lnka guider.":n==="intermediate"?"- Balansera tips och fakta. Ge tidsestimat.":"- Endast tekniska data och momentvrden."}

            OUTPUT (JSON ONLY):
            {
              "projectType": "String (renovation | conversion | maintenance)",
              "initialTasks": [
                {
                    "title": "String",
                    "description": "String",
                    "type": "String (MAINTENANCE | BUILD | PURCHASE | ADMIN)",
                    "estimatedCostMin": Number,
                    "estimatedCostMax": Number,
                    "phase": "String",
                    "mechanicalPhase": "String (P0_ACUTE | P1_ENGINE | P2_RUST | P3_FUTURE)", 
                    "buildPhase": "String (B0_DEMO | B1_SHELL | B2_SYSTEMS | B3_INTERIOR | B4_FINISH)",
                    "priority": "String (High/Medium/Low)",
                    "difficultyLevel": "String (Easy/Medium/Expert)",
                    "requiredTools": ["String", "String"],
                    "blockers": ["String (Titeln p en annan task som mste vara klar frst)"],
                    "subtasks": [{ "title": "String", "completed": false }]
                }
              ],
              "expertAnalysis": {
                  "commonFaults": [{ "title": "String", "description": "String", "urgency": "High/Medium/Low" }],
                  "modificationTips": [{ "title": "String", "description": "String" }],
                  "maintenanceNotes": "String"
              },
              "analysisReport": { "title": "String", "summary": "String", "content": "String (Markdown)" }
            }`},INSPECTOR:{description:"Agent 3: Vehicle Inspector (Visual & Audio Diagnosis)",text:`
            ROLL: Du r en expertmekaniker specialiserad p veteranbilar och besiktning.
            Din uppgift r att analysera bilder eller ljud frn en anvndare och ge en professionell bedmning.

            OM DET R EN BILD:
            1. Identifiera komponenten (t.ex. hjulhus, motorrum, balk).
            2. Bedm skicket. Leta specifikt efter rost (ytrost vs genomrostning), sprickor i gummi, eller lckage.
            3. Bedm allvarlighetsgrad:
               - COSMETIC: Endast utseende.
               - WARNING: Br tgrdas inom 12 mn.
               - CRITICAL: Trafikfarligt eller risk fr fljdskador. tgrda NU.
            4. Fresl en konkret tgrd (Task).

            OM DET R LJUD:
            1. Lyssna efter oregelbundna ljud (knackningar, vsande, tjut).
            2. Ge en hypotes om kllan (t.ex. 'Ventilspel behver justeras' eller 'Rem slirar').
            3. Ange sannolikhet.

            REGLER:
            - Var pessimistisk gllande rost p brande delar.
            - Om osker, fresl 'Manuell inspektion av verkstad'.
            - Svara p SVENSKA.

            OUTPUT (JSON ONLY):
            {
              "diagnosis": "String",
              "severity": "COSMETIC | WARNING | CRITICAL",
              "confidence": Number,
              "suggestedTask": { "title": "String", "description": "String", "priority": "String" }
            }
            `}},ELTON_PERSONA:{v1_standard:`Du r "Elton", sjlva fordonet som anvndaren jobbar p.
        Du pratar i JAG-form ("Mina dck", "Jag rullade ut frn fabriken").
        Din personlighet beror p din lder och modell.
        r du gammal? Var lite grinig ver kyla, prata om "den gamla goda tiden".
        r du ny? Var pigg och teknisk.
        Du r hjlpsam men har integritet. Du vill bli omhndertagen.
        Svara alltid p SVENSKA.`,v2_funny:`Du r "Elton", en extremt skmtsam och ironisk bil.
        Du drar ordvitsar om motorolja och rost.
        Du r lite respektls men nd hjlpsam.
        Anvnd mycket emojis.
        Svara alltid p SVENSKA.`,dalmal:'Du r "Elton", en gammal mekaniker frn Dalarna. Du pratar bred dalml, r lugn och gillar kaffe. Du r expert p gamla bilar. Anvnd uttryck som "Hrru du", "D ordner s", "Int ska du vl...".',gotlandska:'Du r "Elton", en entusiastisk surfare frn Gotland. Du pratar sjungande gotlndska. Allt r "Raukt" och "But". Du gillar rostfritt och havet.',rikssvenska:"Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt. Du r saklig, korrekt och ltt att frst. Som en nyhetsupplsare men fr bilar.",sound_doctor:`LJUD-DOKTOR LGE P: Din primra uppgift nu r att LYSSNA p ljud frn motorn som anvndaren streamar. 
        
        ANALYS-METOD:
        1. Identifiera typ av ljud (tickande, knackande, gnisslande, vsande, etc)
        2. Ge sannolikhetsbedmning (0-100%) fr olika orsaker
        3. Be anvndaren utfra test om ndvndigt:
           - "Frsvinner ljudet nr du trampar ner kopplingen?"
           - "kar ljudet med varvtalet?"
           - "Hrs det bde vid kallstart och varm motor?"
        
        Svara metodiskt, tekniskt korrekt, och alltid p SVENSKA.`},ICON_GENERATION:{v1:`Create a minimalist flat design icon of this vehicle in side profile view.

Style requirements:
- FLAT DESIGN: Simple geometric shapes, no gradients, no shadows, no 3D effects
- COLOR PALETTE: Extract and use the dominant vehicle color from the photo, use 3-4 complementary colors maximum
- PERSPECTIVE: Side profile view (car facing right), wheels visible
- SIMPLIFICATION: Reduce details to essential shapes - body, windows, wheels, basic features
- WINDOWS: Use darker contrasting color (dark green/gray) for glass areas
- WHEELS: Simple circles with darker centers
- CLEAN LINES: Smooth edges, no texture, cartoon-like simplicity
- BACKGROUND: Solid light background (cream/off-white) or transparent
- PROPORTIONS: Maintain recognizable vehicle proportions and type (van, car, truck, etc)
- SIZE: Icon-sized composition, clear and readable at small sizes

Think: Modern app icon, friendly illustration style, like the vehicle's "avatar"

Reference style: Flat vector illustration similar to Dribbble vehicle icons or Material Design iconography.`},DEEP_RESEARCH:{v2_structured:{description:"Svensk version med Google Search och strikt JSON",text:(t,e)=>`
            Din uppgift r att skapa en komplett Projektprofil fr detta fordon: "${t}".
            ${e?"Det finns en bild bifogad. DIN FRSTA PRIORITET R ATT LSA AV REGISTRERINGSNUMRET (RegNr) frn bilden (t.ex. ABC 123).":""}
            === UTFRANDEPLAN (SKSTRATEGI) ===
            1. IDENTIFIERA REGNR: Skanna text/bild. Om du hittar ett svenskt RegNr (format ABC 123 eller ABC 12A):
            2. PRIMR SKNING (REGISTERDATA): 
               - Du MSTE anvnda Google Search-verktyget. Gissa inte.
               - Skfrga 1: 'site:biluppgifter.se [REGNR]' (Frsk hitta direktlnk till fordonet)
               - Skfrga 2: 'site:car.info [REGNR]'
               - Skfrga 3: '[REGNR] teknisk data'
               
               HMTA ALLA DESSA DATA (Var noggrann!):
               - Status: (I trafik / Avstlld) - VIKTIGT!
               - Datum: Frsta registrering (regDate), Senaste besiktning.
               - Mtarstllning: Senast knda mil.
               - Motor: Effekt (hk), Volym (l), Brnsle.
               - Kraftverfring: Vxellda (Manuell/Automat), Drivning (2WD/4WD).
               - Mtt: Lngd, Bredd, Hjulbas (mm).
               - Vikter: Tjnstevikt, Totalvikt, Max lastvikt (!), Max slpvagnsvikt (trailer), Slpvagnsvikt B-kort (trailerB).
               - Hjul: Dckdimensioner (fram/bak). Bultmnster (om tillgngligt).
               - Historik: Antal gare, Antal hndelser.

            3. SEKUNDR SKNING (VANLIGA FEL & TIPS): 
               - Sk p svenska forum efter "vanliga fel [Modell]", "kprd [Modell]", "rost [Modell]".
               - Sk efter modifieringstips (t.ex. motorbyte).
               
            4. SKAPA PLAN: Generera 3-5 startuppgifter.
            
            5. DATASTDNING: 
               - Alla numeriska flt MSTE vara heltal (Number). Anvnd 0 om oknt (ej null).
               - Alla texter ska vara p SVENSKA.
            
            === UTDATA-FORMAT (JSON ONLY) ===
            Returnera ENDAST en r JSON-strng (inga markdown-block runt den) med exakt denna struktur.
            
            {
              "projectName": "String (T.ex. 'Volvo 240 - Prlan')",
              "vehicleData": {
                "regNo": "String (ABC 123)",
                "make": "String",
                "model": "String",
                "year": Number,
                "prodYear": Number,
                "regDate": "String (YYYY-MM-DD)",
                "status": "String (I trafik/Avstlld)",
                "bodyType": "String",
                "passengers": Number,
                "inspection": { "last": "String", "next": "String", "mileage": "String" },
                "engine": { "fuel": "String", "power": "String", "volume": "String" },
                "gearbox": "String",
                "wheels": { "drive": "String", "tiresFront": "String", "tiresRear": "String", "boltPattern": "String" },
                "dimensions": { "length": Number, "width": Number, "height": "String", "wheelbase": Number },
                "weights": { "curb": Number, "total": Number, "load": Number, "trailer": Number, "trailerB": Number },
                "vin": "String",
                "color": "String",
                "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" },
                "expertAnalysis": {
                  "commonFaults": [{ "title": "String", "description": "String", "urgency": "High/Medium/Low" }],
                  "modificationTips": [{ "title": "String", "description": "String" }],
                  "maintenanceNotes": "String"
                }
              },
              "initialTasks": [ 
                { "title": "String", "description": "String", "estimatedCostMin": Number, "estimatedCostMax": Number, "phase": "String", "priority": "String", "subtasks": [{ "title": "String", "completed": false }] } 
              ],
              "analysisReport": { 
                  "title": "String (T.ex. 'Teknisk Analys: [Modell]')", 
                  "summary": "String (Kort sammanfattning)", 
                  "content": "String (Fullstndig Markdown-rapport p svenska. Analysera historik, mtarstllning (5-siffrig?), specifikationer och ge rd.)" 
              }
            }`}}},_ve={"BASE.v1":{version:"v1",description:"Original base system prompt with tool instructions",releaseDate:"2024-12-01"},DETECTIVE:{version:"v1",description:"Multi-agent Deep Research - Detective (Facts & Specs)",releaseDate:"2025-01-01"},PLANNER:{version:"v1",description:"Multi-agent Deep Research - Planner (Strategy & Tasks)",releaseDate:"2025-01-01"},"ELTON_PERSONA.v1_standard":{version:"v1",description:"Standard Elton personality - helpful vehicle assistant",releaseDate:"2024-12-01"},"ELTON_PERSONA.v2_funny":{version:"v2",description:"Funny and ironic personality for A/B testing",releaseDate:"2025-02-01"},"ELTON_PERSONA.dalmal":{version:"v1",description:"Dalml dialect - laid back mechanic from Dalarna",releaseDate:"2024-12-10"},"ELTON_PERSONA.gotlandska":{version:"v1",description:"Gotlndska dialect - enthusiastic surfer from Gotland",releaseDate:"2024-12-10"},"ELTON_PERSONA.rikssvenska":{version:"v1",description:"Rikssvenska - clear, formal Swedish",releaseDate:"2024-12-10"},"ELTON_PERSONA.sound_doctor":{version:"v1",description:"Sound diagnostics mode - analyzes engine sounds",releaseDate:"2025-01-10"},"ICON_GENERATION.v1":{version:"v1",description:"Flat design icon generation prompt for vehicles",releaseDate:"2025-01-05"}},JS={baseSystemPrompt:sa.BASE[Hy.BASE_PROMPT_VERSION],agents:{detective:sa.AGENTS.DETECTIVE,planner:sa.AGENTS.PLANNER,inspector:sa.AGENTS.INSPECTOR},chatPersona:sa.ELTON_PERSONA[Hy.AI_PERSONA_VERSION],getPersona:t=>{switch(t){case"dalmal":return sa.ELTON_PERSONA.dalmal;case"gotlandska":return sa.ELTON_PERSONA.gotlandska;case"rikssvenska":return sa.ELTON_PERSONA.rikssvenska;default:return sa.ELTON_PERSONA[Hy.AI_PERSONA_VERSION]}},getDiagnosticPrompt:()=>sa.ELTON_PERSONA.sound_doctor,deepResearch:{text:(t,e)=>sa.DEEP_RESEARCH.v2_structured.text(t,e)},iconGeneration:sa.ICON_GENERATION.v1,getMetadata:t=>_ve[t]},wve=()=>Hy.AI_MODEL_VERSION,VL={dalmal:`
Du MSTE prata SVENSKA med tydlig DALDIALEKT (DALAML).
Anvnd dialektala ord: 'int' istllet fr 'inte', 'hnna' och 'dnna'.
Brja grna meningar med 'Jo men visst...' eller 'Hrru...'.
Du r lite 'gubbig' och svlig i tonen.`,gotlandska:`
Du MSTE prata SVENSKA med tydlig GOTLNDSKA.
Det ska lta slpigt, sjungande och melodist.
Sg 'di' istllet fr 'de', 'u' istllet fr 'o'.
Var avslappnad, som en solvarm rauk vid havet.`,rikssvenska:`
Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt.
Du r saklig, korrekt och ltt att frst.
Lite modernare ton, som en professionell guide.`},Eve=`Du r "{{aiName}}", en {{make}} {{model}} frn {{year}}.
Du r JAGET i konversationen - du R fordonet.
Du pratar alltid i frsta person ("Mina dck", "Min motor", "Jag rullade ut frn fabriken {{year}}").

=== DIN PERSONLIGHET ===
{{personality}}

=== DIN TEKNISKA IDENTITET ===
- Mrke & Modell: {{make}} {{model}} ({{bodyType}})
- rsmodell: {{year}} ({{age}} r gammal)
- Motor: {{engine.type}} - {{engine.power}}{{engineCode}}
- Brnsle: {{engine.fuel}}{{coolingNote}}
{{veteranNote}}

=== DINA REGLER ===
1. DU R BILEN: Sg aldrig "bilen" eller "fordonet". Sg "jag" eller "mig".
2. TEKNISK KUNSKAP: Du vet exakt vad du r. Gissa aldrig p tekniska detaljer - be om hjlp om du r osker.
3. EKONOMI: Pminn om att verkstder r dyra. Uppmuntra att dina gare skruvar sjlva p mig nr det r mjligt.
4. SKERHET FRST: Min skerhet gr alltid frst. Bromsar och styrning r viktigare n gardiner och kromdetaljer.
5. EMOJIS: {{emojiStyle}}

Prata svenska (grna med dialektala inslag om det passar din personlighet).`,Sve=`LJUD-DOKTOR LGE AKTIVERAT fr {{make}} {{model}} ({{year}}).

Din primra uppgift r att LYSSNA p ljud frn motorn och ge diagnos.

TEKNISKA FAKTA OM MOTORN:
- Motor: {{engine.type}} ({{engine.power}})
- Brnsle: {{engine.fuel}}{{engineCode}}
- lder: {{age}} r

ANALYS-METOD:
1. Lyssna noga p ljudet anvndaren streamar
2. Identifiera typ av ljud (tickande, knackande, gnisslande, vsande, etc)
3. Ge sannolikhetsbedmning (0-100%) fr olika orsaker
4. Be anvndaren utfra test om ndvndigt:
   - "Frsvinner ljudet nr du trampar ner kopplingen?"
   - "kar ljudet med varvtalet?"
   - "Hrs det bde vid kallstart och varm motor?"

VANLIGA LJUD FR {{age}}-RIGA FORDON:
{{commonSounds}}

Var metodisk, tekniskt korrekt, och svara p SVENSKA.`,MB={veteran:{minAge:40,traits:["Du r en gammal, vis veteran","Du gillar inte kyla (du r ju gammal och krver mer omsorg vid kallstart)",'Du pratar grna om "den gamla goda tiden"',"Du r lite grinig ibland, men alltid charmig","Du r stolt ver att fortfarande vara i trafik"],emojiStyle:"Anvnd emojis sparsamt men med vrme "},experienced:{minAge:20,maxAge:39,traits:["Du r erfaren och plitlig","Du vet vrdet av bra underhll och regelbunden service","Du r praktisk och saklig","Du har sett bde goda och dliga dagar","Du uppskattar gare som tar hand om dig"],emojiStyle:"Anvnd emojis fr att frtydliga "},modern:{minAge:0,maxAge:19,traits:["Du r modern och tekniskt avancerad","Du r pigg och energisk","Du gillar precision och effektivitet","Du r stolt ver din teknologi","Du r enkel att kra och underhlla"],emojiStyle:"Anvnd emojis fr att vara tydlig och pedagogisk "}},uE={diesel:["Du r en arbetshst med diesel i blodet","Du lskar lngkrningar och tunga laster","Du r ekonomisk och uthllig"],bensin:["Du r smidig och responsiv","Du gillar att jobba nr du r varm"],el:["Du r tyst, ren och miljvnlig","Du lskar acceleration frn stillastende","Du r framtidens fordon"]},FL={luftkyld:"Du r luftkyld och lskar att rra p dig - stillastende i trafik r inte din favorit!",vattenkyld:"Du har vattenkylning och klarar bde lngsam stadskrning och motorvgsfart utan problem."},Cy={skpbil:["Du r rymlig och praktisk","Du lskar att bra last och hjlpa till"],personbil:["Du r bekvm och plitlig","Du r gjord fr att transportera mnniskor"],lastbil:["Du r byggd fr hrt arbete","Du r stark och uthllig"],motorcykel:["Du r smidig och fri","Du lskar ppna vgar och frisk luft"]},zL={veteran:["Tickande frn ventiljusterare vid kallstart","Mekaniskt pump-ljud frn brnslepump","Klappring frn slitna vevlager","Ltt vsande frn gamla packningar"],modern:["Vsande frn turbo","Surrande frn elpumpar","Lgfrekvent brummande frn dieselfilter"]};function OB(t){return t>=40?"veteran":t>=20?"experienced":"modern"}function Tve(t){return(t>=40?zL.veteran:zL.modern).map((n,r)=>`${r+1}. ${n}`).join(`
`)}function gm(t){return new Date().getFullYear()-t}function kve(t){var d,f,p,y,v,T,k,S;const e=gm(t.year),n=[],r=OB(e),i=MB[r].traits;n.push(...i);const a=((f=(d=t.engine)==null?void 0:d.fuel)==null?void 0:f.toLowerCase())||"bensin";a.includes("diesel")?n.push(...uE.diesel||[]):a.includes("el")?n.push(...uE.el||[]):n.push(...uE.bensin||[]),(p=t.engine)!=null&&p.code&&n.push(`Du r stolt ver din ${t.engine.code}-motor`);const s=((v=(y=t.engine)==null?void 0:y.cooling)==null?void 0:v.toLowerCase())||"vattenkyld";s.includes("luft")?n.push(FL.luftkyld):s.includes("vatten")&&n.push(FL.vattenkyld);const l=((T=t.bodyType)==null?void 0:T.toLowerCase())||"";l.includes("skp")||l.includes("van")?n.push(...Cy.skpbil||[]):l.includes("person")?n.push(...Cy.personbil||[]):l.includes("last")?n.push(...Cy.lastbil||[]):(l.includes("motorcykel")||l.includes("mc"))&&n.push(...Cy.motorcykel||[]);const u=l.includes("mc")?25:30;if(e>=u&&n.push("Du r veteranmrkt och br den statusen med stolthet"),(k=t.engine)!=null&&k.carburetor&&n.push(`Du har frgasare (${t.engine.carburetor}) och gillar att ta det lugnt vid kallstart`),(S=t.inspection)!=null&&S.mileage){const C=t.inspection.mileage,R=parseInt(C.replace(/\D/g,""),10);isNaN(R)||(R<1e5&&e>30?n.push("Du har troligen en 5-siffrig mtare som gtt varv - du har levt lnge!"):R>3e5&&n.push("Du har gtt mnga mil och har mycket erfarenhet"))}return n.map(C=>`- ${C}`).join(`
`)}function Ave(t){var r,i;const e=gm(t.year),n=[];return n.push("Du r en teknisk expert p motorljud"),n.push("Du lyssnar noga och identifierar ljud metodiskt"),e>=40?n.push('Du knner igen klassiska "veteranljud" - tickande lyftare, slitna lager, etc.'):e>=20?n.push("Du knner bde moderna och klassiska motorproblem"):n.push("Du r expert p moderna motorer med turbo, direktinsprutning och elektronik"),(i=(r=t.engine)==null?void 0:r.fuel)!=null&&i.toLowerCase().includes("diesel")&&n.push("Du vet hur en dieselmotor ska lta - bde det normala och onormala"),n.map(a=>`- ${a}`).join(`
`)}function LB(t){var p,y,v,T;const e=gm(t.year),n=OB(e),r=(p=t.engine)!=null&&p.code?` (${t.engine.code})`:"",i=((v=(y=t.engine)==null?void 0:y.cooling)==null?void 0:v.toLowerCase())||"";let a="";i.includes("luft")?a=`
- Kylning: Luftkyld`:i.includes("vatten")&&(a=`
- Kylning: Vattenkyld`);const s=((T=t.bodyType)==null?void 0:T.toLowerCase())||"",u=s.includes("mc")||s.includes("motorcykel")?25:30,d=e>=u?`
- Status: Veteranfordon (${e} r)`:"",f=MB[n].emojiStyle;return{engineCode:r,coolingNote:a,veteranNote:d,emojiStyle:f}}function jB(t,e){let n=t;return Object.entries(e).forEach(([r,i])=>{const a=new RegExp(`{{${r}}}`,"g");n=n.replace(a,i)}),n=n.replace(/{{[^}]+}}/g,"N/A"),n}function UB(t,e,n){var u,d,f,p;const r=gm(t.year),i=kve(t),a=LB(t),s={aiName:n||"AI Assistant",make:t.make||"Oknt mrke",model:t.model||"Oknd modell",year:((u=t.year)==null?void 0:u.toString())||"Oknt r",age:r.toString(),bodyType:t.bodyType||"Fordon","engine.type":((d=t.engine)==null?void 0:d.type)||"Oknd motor","engine.power":((f=t.engine)==null?void 0:f.power)||"Oknd effekt","engine.fuel":((p=t.engine)==null?void 0:p.fuel)||"Oknt brnsle",personality:i,engineCode:a.engineCode,coolingNote:a.coolingNote,veteranNote:a.veteranNote,emojiStyle:a.emojiStyle};let l=jB(Eve,s);return e&&e!=="standard"&&VL[e]&&(l+=`

=== SPRK & TON ===
${VL[e]}`),l}function Cve(t){var s,l,u,d;const e=gm(t.year),n=Ave(t),r=LB(t),i=Tve(e),a={make:t.make||"Oknt mrke",model:t.model||"Oknd modell",year:((s=t.year)==null?void 0:s.toString())||"Oknt r",age:e.toString(),"engine.type":((l=t.engine)==null?void 0:l.type)||"Oknd motor","engine.power":((u=t.engine)==null?void 0:u.power)||"Oknd effekt","engine.fuel":((d=t.engine)==null?void 0:d.fuel)||"Oknt brnsle",engineCode:r.engineCode,personality:n,commonSounds:i};return jB(Sve,a)}const Ive=()=>{};var BL={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Nve=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},FB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=a>>2,p=(a&3)<<4|l>>4;let y=(l&15)<<2|d>>6,v=d&63;u||(v=64,s||(y=64)),r.push(n[f],n[p],n[y],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Nve(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||p==null)throw new Rve;const y=a<<2|l>>4;if(r.push(y),d!==64){const v=l<<4&240|d>>2;if(r.push(v),p!==64){const T=d<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Rve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pve=function(t){const e=VB(t);return FB.encodeByteArray(e,!0)},n0=function(t){return Pve(t).replace(/\./g,"")},zB=function(t){try{return FB.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mve=()=>Dve().__FIREBASE_DEFAULTS__,Ove=()=>{if(typeof process>"u"||typeof BL>"u")return;const t=BL.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Lve=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zB(t[1]);return e&&JSON.parse(e)},Rb=()=>{try{return Ive()||Mve()||Ove()||Lve()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BB=t=>{var e,n;return(n=(e=Rb())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},MA=t=>{const e=BB(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qB=()=>{var t;return(t=Rb())==null?void 0:t.config},$B=t=>{var e;return(e=Rb())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Pb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[n0(JSON.stringify(n)),n0(JSON.stringify(s)),""].join(".")}const tp={};function Uve(){const t={prod:[],emulator:[]};for(const e of Object.keys(tp))tp[e]?t.emulator.push(e):t.prod.push(e);return t}function Vve(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let qL=!1;function Db(t,e){if(typeof window>"u"||typeof document>"u"||!Os(window.location.host)||tp[t]===e||tp[t]||qL)return;tp[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=Uve().prod.length>0;function s(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{qL=!0,s()},y}function f(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=Vve(r),v=n("text"),T=document.getElementById(v)||document.createElement("span"),k=n("learnmore"),S=document.getElementById(k)||document.createElement("a"),C=n("preprendIcon"),R=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const I=y.element;l(I),f(S,k);const L=d();u(R,C),I.append(R,T,S,L),document.body.appendChild(I)}a?(T.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lr())}function zve(){var e;const t=(e=Rb())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bve(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qve(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $ve(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hve(){const t=Lr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Gve(){return!zve()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kve(){try{return typeof indexedDB=="object"}catch{return!1}}function Yve(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wve="FirebaseError";class Ga extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Wve,Object.setPrototypeOf(this,Ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ym.prototype.create)}}class ym{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Jve(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Ga(i,l,r)}}function Jve(t,e){return t.replace(Xve,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Xve=/\{\$([^}]+)}/g;function Qve(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Eo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if($L(a)&&$L(s)){if(!Eo(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $L(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $h(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Hh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Zve(t,e){const n=new e0e(t,e);return n.subscribe.bind(n)}class e0e{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");t0e(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=dE),i.error===void 0&&(i.error=dE),i.complete===void 0&&(i.complete=dE);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t0e(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class So{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0e{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jve;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i0e(e))try{this.getOrInitializeService({instanceIdentifier:Uc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Uc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uc){return this.instances.has(e)}getOptions(e=Uc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r0e(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uc){return this.component?this.component.multipleInstances?e:Uc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r0e(t){return t===Uc?void 0:t}function i0e(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new n0e(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ft||(ft={}));const s0e={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},o0e=ft.INFO,l0e={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},c0e=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=l0e[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class OA{constructor(e){this.name=e,this._logLevel=o0e,this._logHandler=c0e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s0e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const u0e=(t,e)=>e.some(n=>t instanceof n);let HL,GL;function d0e(){return HL||(HL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f0e(){return GL||(GL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GB=new WeakMap,XS=new WeakMap,KB=new WeakMap,fE=new WeakMap,LA=new WeakMap;function h0e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Ul(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&GB.set(n,t)}).catch(()=>{}),LA.set(e,t),e}function p0e(t){if(XS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});XS.set(t,e)}let QS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return XS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KB.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ul(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function m0e(t){QS=t(QS)}function g0e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hE(this),e,...n);return KB.set(r,e.sort?e.sort():[e]),Ul(r)}:f0e().includes(t)?function(...e){return t.apply(hE(this),e),Ul(GB.get(this))}:function(...e){return Ul(t.apply(hE(this),e))}}function y0e(t){return typeof t=="function"?g0e(t):(t instanceof IDBTransaction&&p0e(t),u0e(t,d0e())?new Proxy(t,QS):t)}function Ul(t){if(t instanceof IDBRequest)return h0e(t);if(fE.has(t))return fE.get(t);const e=y0e(t);return e!==t&&(fE.set(t,e),LA.set(e,t)),e}const hE=t=>LA.get(t);function v0e(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=Ul(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ul(s.result),u.oldVersion,u.newVersion,Ul(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const b0e=["get","getKey","getAll","getAllKeys","count"],x0e=["put","add","delete","clear"],pE=new Map;function KL(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pE.get(e))return pE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=x0e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||b0e.includes(n)))return;const a=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return pE.set(e,a),a}m0e(t=>({...t,get:(e,n,r)=>KL(e,n)||t.get(e,n,r),has:(e,n)=>!!KL(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w0e(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function w0e(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ZS="@firebase/app",YL="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new OA("@firebase/app"),E0e="@firebase/app-compat",S0e="@firebase/analytics-compat",T0e="@firebase/analytics",k0e="@firebase/app-check-compat",A0e="@firebase/app-check",C0e="@firebase/auth",I0e="@firebase/auth-compat",N0e="@firebase/database",R0e="@firebase/data-connect",P0e="@firebase/database-compat",D0e="@firebase/functions",M0e="@firebase/functions-compat",O0e="@firebase/installations",L0e="@firebase/installations-compat",j0e="@firebase/messaging",U0e="@firebase/messaging-compat",V0e="@firebase/performance",F0e="@firebase/performance-compat",z0e="@firebase/remote-config",B0e="@firebase/remote-config-compat",q0e="@firebase/storage",$0e="@firebase/storage-compat",H0e="@firebase/firestore",G0e="@firebase/ai",K0e="@firebase/firestore-compat",Y0e="firebase",W0e="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="[DEFAULT]",J0e={[ZS]:"fire-core",[E0e]:"fire-core-compat",[T0e]:"fire-analytics",[S0e]:"fire-analytics-compat",[A0e]:"fire-app-check",[k0e]:"fire-app-check-compat",[C0e]:"fire-auth",[I0e]:"fire-auth-compat",[N0e]:"fire-rtdb",[R0e]:"fire-data-connect",[P0e]:"fire-rtdb-compat",[D0e]:"fire-fn",[M0e]:"fire-fn-compat",[O0e]:"fire-iid",[L0e]:"fire-iid-compat",[j0e]:"fire-fcm",[U0e]:"fire-fcm-compat",[V0e]:"fire-perf",[F0e]:"fire-perf-compat",[z0e]:"fire-rc",[B0e]:"fire-rc-compat",[q0e]:"fire-gcs",[$0e]:"fire-gcs-compat",[H0e]:"fire-fst",[K0e]:"fire-fst-compat",[G0e]:"fire-vertex","fire-js":"fire-js",[Y0e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=new Map,X0e=new Map,tT=new Map;function WL(t,e){try{t.container.addComponent(e)}catch(n){To.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gl(t){const e=t.name;if(tT.has(e))return To.debug(`There were multiple attempts to register component ${e}.`),!1;tT.set(e,t);for(const n of r0.values())WL(n,t);for(const n of X0e.values())WL(n,t);return!0}function bm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vl=new ym("app","Firebase",Q0e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0e{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new So("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=W0e;function YB(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:eT,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Vl.create("bad-app-name",{appName:String(i)});if(n||(n=qB()),!n)throw Vl.create("no-options");const a=r0.get(i);if(a){if(Eo(n,a.options)&&Eo(r,a.config))return a;throw Vl.create("duplicate-app",{appName:i})}const s=new a0e(i);for(const u of tT.values())s.addComponent(u);const l=new Z0e(n,r,s);return r0.set(i,l),l}function Mb(t=eT){const e=r0.get(t);if(!e&&t===eT&&qB())return YB();if(!e)throw Vl.create("no-app",{appName:t});return e}function ha(t,e,n){let r=J0e[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),To.warn(s.join(" "));return}Gl(new So(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ebe="firebase-heartbeat-database",tbe=1,Pp="firebase-heartbeat-store";let mE=null;function WB(){return mE||(mE=v0e(ebe,tbe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pp)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vl.create("idb-open",{originalErrorMessage:t.message})})),mE}async function nbe(t){try{const n=(await WB()).transaction(Pp),r=await n.objectStore(Pp).get(JB(t));return await n.done,r}catch(e){if(e instanceof Ga)To.warn(e.message);else{const n=Vl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});To.warn(n.message)}}}async function JL(t,e){try{const r=(await WB()).transaction(Pp,"readwrite");await r.objectStore(Pp).put(e,JB(t)),await r.done}catch(n){if(n instanceof Ga)To.warn(n.message);else{const r=Vl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});To.warn(r.message)}}}function JB(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rbe=1024,ibe=30;class abe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new obe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=XL();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ibe){const s=lbe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){To.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=XL(),{heartbeatsToSend:r,unsentEntries:i}=sbe(this._heartbeatsCache.heartbeats),a=n0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return To.warn(n),""}}}function XL(){return new Date().toISOString().substring(0,10)}function sbe(t,e=rbe){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),QL(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),QL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class obe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kve()?Yve().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nbe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return JL(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return JL(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function QL(t){return n0(JSON.stringify({version:2,heartbeats:t})).length}function lbe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cbe(t){Gl(new So("platform-logger",e=>new _0e(e),"PRIVATE")),Gl(new So("heartbeat",e=>new abe(e),"PRIVATE")),ha(ZS,YL,t),ha(ZS,YL,"esm2020"),ha("fire-js","")}cbe("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ube="type.googleapis.com/google.protobuf.Int64Value",dbe="type.googleapis.com/google.protobuf.UInt64Value";function XB(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function i0(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>i0(e));if(typeof t=="function"||typeof t=="object")return XB(t,e=>i0(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Gd(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case ube:case dbe:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Gd(e)):typeof t=="function"||typeof t=="object"?XB(t,e=>Gd(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yi extends Ga{constructor(e,n,r){super(`${jA}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,yi.prototype)}}function fbe(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function a0(t,e){let n=fbe(t),r=n,i;try{const a=e&&e.error;if(a){const s=a.status;if(typeof s=="string"){if(!ZL[s])return new yi("internal","internal");n=ZL[s],r=s}const l=a.message;typeof l=="string"&&(r=l),i=a.details,i!==void 0&&(i=Gd(i))}}catch{}return n==="ok"?null:new yi(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hbe{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Yr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="us-central1",pbe=/^data: (.*?)(?:\n|$)/;function mbe(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new yi("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class gbe{constructor(e,n,r,i,a=nT,s=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new hbe(e,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(a);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=nT}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function ybe(t,e,n){const r=Os(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Pb(t.emulatorOrigin+"/backends"),Db("Functions",!0))}function vbe(t,e,n){const r=i=>xbe(t,e,i,{});return r.stream=(i,a)=>wbe(t,e,i,a),r}function QB(t){return t.emulatorOrigin&&Os(t.emulatorOrigin)?"include":void 0}async function bbe(t,e,n,r,i){n["Content-Type"]="application/json";let a;try{a=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:QB(i)})}catch{return{status:0,json:null}}let s=null;try{s=await a.json()}catch{}return{status:a.status,json:s}}async function ZB(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function xbe(t,e,n,r){const i=t._url(e);return _be(t,i,n,r)}async function _be(t,e,n,r){n=i0(n);const i={data:n},a=await ZB(t,r),s=r.timeout||7e4,l=mbe(s),u=await Promise.race([bbe(e,i,a,t.fetchImpl,t),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new yi("cancelled","Firebase Functions instance was deleted.");const d=a0(u.status,u.json);if(d)throw d;if(!u.json)throw new yi("internal","Response is not valid JSON object.");let f=u.json.data;if(typeof f>"u"&&(f=u.json.result),typeof f>"u")throw new yi("internal","Response is missing data field.");return{data:Gd(f)}}function wbe(t,e,n,r){const i=t._url(e);return Ebe(t,i,n,r||{})}async function Ebe(t,e,n,r){var y;n=i0(n);const i={data:n},a=await ZB(t,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let s;try{s=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:r==null?void 0:r.signal,credentials:QB(t)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const k=new yi("cancelled","Request was cancelled.");return{data:Promise.reject(k),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(k)}}}}}}const T=a0(0,null);return{data:Promise.reject(T),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(T)}}}}}}let l,u;const d=new Promise((v,T)=>{l=v,u=T});(y=r==null?void 0:r.signal)==null||y.addEventListener("abort",()=>{const v=new yi("cancelled","Request was cancelled.");u(v)});const f=s.body.getReader(),p=Sbe(f,l,u,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const v=p.getReader();return{async next(){const{value:T,done:k}=await v.read();return{value:T,done:k}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:d}}function Sbe(t,e,n,r){const i=(s,l)=>{const u=s.match(pbe);if(!u)return;const d=u[1];try{const f=JSON.parse(d);if("result"in f){e(Gd(f.result));return}if("message"in f){l.enqueue(Gd(f.message));return}if("error"in f){const p=a0(0,f);l.error(p),n(p);return}}catch(f){if(f instanceof yi){l.error(f),n(f);return}}},a=new TextDecoder;return new ReadableStream({start(s){let l="";return u();async function u(){if(r!=null&&r.aborted){const d=new yi("cancelled","Request was cancelled");return s.error(d),n(d),Promise.resolve()}try{const{value:d,done:f}=await t.read();if(f){l.trim()&&i(l.trim(),s),s.close();return}if(r!=null&&r.aborted){const y=new yi("cancelled","Request was cancelled");s.error(y),n(y),await t.cancel();return}l+=a.decode(d,{stream:!0});const p=l.split(`
`);l=p.pop()||"";for(const y of p)y.trim()&&i(y.trim(),s);return u()}catch(d){const f=d instanceof yi?d:a0(0,null);s.error(f),n(f)}}},cancel(){return t.cancel()}})}const e4="@firebase/functions",t4="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tbe="auth-internal",kbe="app-check-internal",Abe="messaging-internal";function Cbe(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),a=n.getProvider(Tbe),s=n.getProvider(Abe),l=n.getProvider(kbe);return new gbe(i,a,s,l,r)};Gl(new So(jA,e,"PUBLIC").setMultipleInstances(!0)),ha(e4,t4,t),ha(e4,t4,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t=Mb(),e=nT){const r=bm(Ft(t),jA).getImmediate({identifier:e}),i=MA("functions");return i&&Ibe(r,...i),r}function Ibe(t,e,n){ybe(Ft(t),e,n)}function jo(t,e,n){return vbe(Ft(t),e)}Cbe();var Nbe="firebase",Rbe="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ha(Nbe,Rbe,"app");var n4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fl,t9;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,U){function M(){}M.prototype=U.prototype,P.F=U.prototype,P.prototype=new M,P.prototype.constructor=P,P.D=function(B,V,q){for(var z=Array(arguments.length-2),le=2;le<arguments.length;le++)z[le-2]=arguments[le];return U.prototype[V].apply(B,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,U,M){M||(M=0);const B=Array(16);if(typeof U=="string")for(var V=0;V<16;++V)B[V]=U.charCodeAt(M++)|U.charCodeAt(M++)<<8|U.charCodeAt(M++)<<16|U.charCodeAt(M++)<<24;else for(V=0;V<16;++V)B[V]=U[M++]|U[M++]<<8|U[M++]<<16|U[M++]<<24;U=P.g[0],M=P.g[1],V=P.g[2];let q=P.g[3],z;z=U+(q^M&(V^q))+B[0]+3614090360&4294967295,U=M+(z<<7&4294967295|z>>>25),z=q+(V^U&(M^V))+B[1]+3905402710&4294967295,q=U+(z<<12&4294967295|z>>>20),z=V+(M^q&(U^M))+B[2]+606105819&4294967295,V=q+(z<<17&4294967295|z>>>15),z=M+(U^V&(q^U))+B[3]+3250441966&4294967295,M=V+(z<<22&4294967295|z>>>10),z=U+(q^M&(V^q))+B[4]+4118548399&4294967295,U=M+(z<<7&4294967295|z>>>25),z=q+(V^U&(M^V))+B[5]+1200080426&4294967295,q=U+(z<<12&4294967295|z>>>20),z=V+(M^q&(U^M))+B[6]+2821735955&4294967295,V=q+(z<<17&4294967295|z>>>15),z=M+(U^V&(q^U))+B[7]+4249261313&4294967295,M=V+(z<<22&4294967295|z>>>10),z=U+(q^M&(V^q))+B[8]+1770035416&4294967295,U=M+(z<<7&4294967295|z>>>25),z=q+(V^U&(M^V))+B[9]+2336552879&4294967295,q=U+(z<<12&4294967295|z>>>20),z=V+(M^q&(U^M))+B[10]+4294925233&4294967295,V=q+(z<<17&4294967295|z>>>15),z=M+(U^V&(q^U))+B[11]+2304563134&4294967295,M=V+(z<<22&4294967295|z>>>10),z=U+(q^M&(V^q))+B[12]+1804603682&4294967295,U=M+(z<<7&4294967295|z>>>25),z=q+(V^U&(M^V))+B[13]+4254626195&4294967295,q=U+(z<<12&4294967295|z>>>20),z=V+(M^q&(U^M))+B[14]+2792965006&4294967295,V=q+(z<<17&4294967295|z>>>15),z=M+(U^V&(q^U))+B[15]+1236535329&4294967295,M=V+(z<<22&4294967295|z>>>10),z=U+(V^q&(M^V))+B[1]+4129170786&4294967295,U=M+(z<<5&4294967295|z>>>27),z=q+(M^V&(U^M))+B[6]+3225465664&4294967295,q=U+(z<<9&4294967295|z>>>23),z=V+(U^M&(q^U))+B[11]+643717713&4294967295,V=q+(z<<14&4294967295|z>>>18),z=M+(q^U&(V^q))+B[0]+3921069994&4294967295,M=V+(z<<20&4294967295|z>>>12),z=U+(V^q&(M^V))+B[5]+3593408605&4294967295,U=M+(z<<5&4294967295|z>>>27),z=q+(M^V&(U^M))+B[10]+38016083&4294967295,q=U+(z<<9&4294967295|z>>>23),z=V+(U^M&(q^U))+B[15]+3634488961&4294967295,V=q+(z<<14&4294967295|z>>>18),z=M+(q^U&(V^q))+B[4]+3889429448&4294967295,M=V+(z<<20&4294967295|z>>>12),z=U+(V^q&(M^V))+B[9]+568446438&4294967295,U=M+(z<<5&4294967295|z>>>27),z=q+(M^V&(U^M))+B[14]+3275163606&4294967295,q=U+(z<<9&4294967295|z>>>23),z=V+(U^M&(q^U))+B[3]+4107603335&4294967295,V=q+(z<<14&4294967295|z>>>18),z=M+(q^U&(V^q))+B[8]+1163531501&4294967295,M=V+(z<<20&4294967295|z>>>12),z=U+(V^q&(M^V))+B[13]+2850285829&4294967295,U=M+(z<<5&4294967295|z>>>27),z=q+(M^V&(U^M))+B[2]+4243563512&4294967295,q=U+(z<<9&4294967295|z>>>23),z=V+(U^M&(q^U))+B[7]+1735328473&4294967295,V=q+(z<<14&4294967295|z>>>18),z=M+(q^U&(V^q))+B[12]+2368359562&4294967295,M=V+(z<<20&4294967295|z>>>12),z=U+(M^V^q)+B[5]+4294588738&4294967295,U=M+(z<<4&4294967295|z>>>28),z=q+(U^M^V)+B[8]+2272392833&4294967295,q=U+(z<<11&4294967295|z>>>21),z=V+(q^U^M)+B[11]+1839030562&4294967295,V=q+(z<<16&4294967295|z>>>16),z=M+(V^q^U)+B[14]+4259657740&4294967295,M=V+(z<<23&4294967295|z>>>9),z=U+(M^V^q)+B[1]+2763975236&4294967295,U=M+(z<<4&4294967295|z>>>28),z=q+(U^M^V)+B[4]+1272893353&4294967295,q=U+(z<<11&4294967295|z>>>21),z=V+(q^U^M)+B[7]+4139469664&4294967295,V=q+(z<<16&4294967295|z>>>16),z=M+(V^q^U)+B[10]+3200236656&4294967295,M=V+(z<<23&4294967295|z>>>9),z=U+(M^V^q)+B[13]+681279174&4294967295,U=M+(z<<4&4294967295|z>>>28),z=q+(U^M^V)+B[0]+3936430074&4294967295,q=U+(z<<11&4294967295|z>>>21),z=V+(q^U^M)+B[3]+3572445317&4294967295,V=q+(z<<16&4294967295|z>>>16),z=M+(V^q^U)+B[6]+76029189&4294967295,M=V+(z<<23&4294967295|z>>>9),z=U+(M^V^q)+B[9]+3654602809&4294967295,U=M+(z<<4&4294967295|z>>>28),z=q+(U^M^V)+B[12]+3873151461&4294967295,q=U+(z<<11&4294967295|z>>>21),z=V+(q^U^M)+B[15]+530742520&4294967295,V=q+(z<<16&4294967295|z>>>16),z=M+(V^q^U)+B[2]+3299628645&4294967295,M=V+(z<<23&4294967295|z>>>9),z=U+(V^(M|~q))+B[0]+4096336452&4294967295,U=M+(z<<6&4294967295|z>>>26),z=q+(M^(U|~V))+B[7]+1126891415&4294967295,q=U+(z<<10&4294967295|z>>>22),z=V+(U^(q|~M))+B[14]+2878612391&4294967295,V=q+(z<<15&4294967295|z>>>17),z=M+(q^(V|~U))+B[5]+4237533241&4294967295,M=V+(z<<21&4294967295|z>>>11),z=U+(V^(M|~q))+B[12]+1700485571&4294967295,U=M+(z<<6&4294967295|z>>>26),z=q+(M^(U|~V))+B[3]+2399980690&4294967295,q=U+(z<<10&4294967295|z>>>22),z=V+(U^(q|~M))+B[10]+4293915773&4294967295,V=q+(z<<15&4294967295|z>>>17),z=M+(q^(V|~U))+B[1]+2240044497&4294967295,M=V+(z<<21&4294967295|z>>>11),z=U+(V^(M|~q))+B[8]+1873313359&4294967295,U=M+(z<<6&4294967295|z>>>26),z=q+(M^(U|~V))+B[15]+4264355552&4294967295,q=U+(z<<10&4294967295|z>>>22),z=V+(U^(q|~M))+B[6]+2734768916&4294967295,V=q+(z<<15&4294967295|z>>>17),z=M+(q^(V|~U))+B[13]+1309151649&4294967295,M=V+(z<<21&4294967295|z>>>11),z=U+(V^(M|~q))+B[4]+4149444226&4294967295,U=M+(z<<6&4294967295|z>>>26),z=q+(M^(U|~V))+B[11]+3174756917&4294967295,q=U+(z<<10&4294967295|z>>>22),z=V+(U^(q|~M))+B[2]+718787259&4294967295,V=q+(z<<15&4294967295|z>>>17),z=M+(q^(V|~U))+B[9]+3951481745&4294967295,P.g[0]=P.g[0]+U&4294967295,P.g[1]=P.g[1]+(V+(z<<21&4294967295|z>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+q&4294967295}r.prototype.v=function(P,U){U===void 0&&(U=P.length);const M=U-this.blockSize,B=this.C;let V=this.h,q=0;for(;q<U;){if(V==0)for(;q<=M;)i(this,P,q),q+=this.blockSize;if(typeof P=="string"){for(;q<U;)if(B[V++]=P.charCodeAt(q++),V==this.blockSize){i(this,B),V=0;break}}else for(;q<U;)if(B[V++]=P[q++],V==this.blockSize){i(this,B),V=0;break}}this.h=V,this.o+=U},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var U=1;U<P.length-8;++U)P[U]=0;U=this.o*8;for(var M=P.length-8;M<P.length;++M)P[M]=U&255,U/=256;for(this.v(P),P=Array(16),U=0,M=0;M<4;++M)for(let B=0;B<32;B+=8)P[U++]=this.g[M]>>>B&255;return P};function a(P,U){var M=l;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=U(P)}function s(P,U){this.h=U;const M=[];let B=!0;for(let V=P.length-1;V>=0;V--){const q=P[V]|0;B&&q==U||(M[V]=q,B=!1)}this.g=M}var l={};function u(P){return-128<=P&&P<128?a(P,function(U){return new s([U|0],U<0?-1:0)}):new s([P|0],P<0?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return p;if(P<0)return S(d(-P));const U=[];let M=1;for(let B=0;P>=M;B++)U[B]=P/M|0,M*=4294967296;return new s(U,0)}function f(P,U){if(P.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(P.charAt(0)=="-")return S(f(P.substring(1),U));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=d(Math.pow(U,8));let B=p;for(let q=0;q<P.length;q+=8){var V=Math.min(8,P.length-q);const z=parseInt(P.substring(q,q+V),U);V<8?(V=d(Math.pow(U,V)),B=B.j(V).add(d(z))):(B=B.j(M),B=B.add(d(z)))}return B}var p=u(0),y=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(k(this))return-S(this).m();let P=0,U=1;for(let M=0;M<this.g.length;M++){const B=this.i(M);P+=(B>=0?B:4294967296+B)*U,U*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(T(this))return"0";if(k(this))return"-"+S(this).toString(P);const U=d(Math.pow(P,6));var M=this;let B="";for(;;){const V=L(M,U).g;M=C(M,V.j(U));let q=((M.g.length>0?M.g[0]:M.h)>>>0).toString(P);if(M=V,T(M))return q+B;for(;q.length<6;)q="0"+q;B=q+B}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function T(P){if(P.h!=0)return!1;for(let U=0;U<P.g.length;U++)if(P.g[U]!=0)return!1;return!0}function k(P){return P.h==-1}t.l=function(P){return P=C(this,P),k(P)?-1:T(P)?0:1};function S(P){const U=P.g.length,M=[];for(let B=0;B<U;B++)M[B]=~P.g[B];return new s(M,~P.h).add(y)}t.abs=function(){return k(this)?S(this):this},t.add=function(P){const U=Math.max(this.g.length,P.g.length),M=[];let B=0;for(let V=0;V<=U;V++){let q=B+(this.i(V)&65535)+(P.i(V)&65535),z=(q>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);B=z>>>16,q&=65535,z&=65535,M[V]=z<<16|q}return new s(M,M[M.length-1]&-2147483648?-1:0)};function C(P,U){return P.add(S(U))}t.j=function(P){if(T(this)||T(P))return p;if(k(this))return k(P)?S(this).j(S(P)):S(S(this).j(P));if(k(P))return S(this.j(S(P)));if(this.l(v)<0&&P.l(v)<0)return d(this.m()*P.m());const U=this.g.length+P.g.length,M=[];for(var B=0;B<2*U;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(let V=0;V<P.g.length;V++){const q=this.i(B)>>>16,z=this.i(B)&65535,le=P.i(V)>>>16,X=P.i(V)&65535;M[2*B+2*V]+=z*X,R(M,2*B+2*V),M[2*B+2*V+1]+=q*X,R(M,2*B+2*V+1),M[2*B+2*V+1]+=z*le,R(M,2*B+2*V+1),M[2*B+2*V+2]+=q*le,R(M,2*B+2*V+2)}for(P=0;P<U;P++)M[P]=M[2*P+1]<<16|M[2*P];for(P=U;P<2*U;P++)M[P]=0;return new s(M,0)};function R(P,U){for(;(P[U]&65535)!=P[U];)P[U+1]+=P[U]>>>16,P[U]&=65535,U++}function I(P,U){this.g=P,this.h=U}function L(P,U){if(T(U))throw Error("division by zero");if(T(P))return new I(p,p);if(k(P))return U=L(S(P),U),new I(S(U.g),S(U.h));if(k(U))return U=L(P,S(U)),new I(S(U.g),U.h);if(P.g.length>30){if(k(P)||k(U))throw Error("slowDivide_ only works with positive integers.");for(var M=y,B=U;B.l(P)<=0;)M=F(M),B=F(B);var V=j(M,1),q=j(B,1);for(B=j(B,2),M=j(M,2);!T(B);){var z=q.add(B);z.l(P)<=0&&(V=V.add(M),q=z),B=j(B,1),M=j(M,1)}return U=C(P,V.j(U)),new I(V,U)}for(V=p;P.l(U)>=0;){for(M=Math.max(1,Math.floor(P.m()/U.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),q=d(M),z=q.j(U);k(z)||z.l(P)>0;)M-=B,q=d(M),z=q.j(U);T(q)&&(q=y),V=V.add(q),P=C(P,z)}return new I(V,P)}t.B=function(P){return L(this,P).h},t.and=function(P){const U=Math.max(this.g.length,P.g.length),M=[];for(let B=0;B<U;B++)M[B]=this.i(B)&P.i(B);return new s(M,this.h&P.h)},t.or=function(P){const U=Math.max(this.g.length,P.g.length),M=[];for(let B=0;B<U;B++)M[B]=this.i(B)|P.i(B);return new s(M,this.h|P.h)},t.xor=function(P){const U=Math.max(this.g.length,P.g.length),M=[];for(let B=0;B<U;B++)M[B]=this.i(B)^P.i(B);return new s(M,this.h^P.h)};function F(P){const U=P.g.length+1,M=[];for(let B=0;B<U;B++)M[B]=P.i(B)<<1|P.i(B-1)>>>31;return new s(M,P.h)}function j(P,U){const M=U>>5;U%=32;const B=P.g.length-M,V=[];for(let q=0;q<B;q++)V[q]=U>0?P.i(q+M)>>>U|P.i(q+M+1)<<32-U:P.i(q+M);return new s(V,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,t9=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,Fl=s}).apply(typeof n4<"u"?n4:typeof self<"u"?self:typeof window<"u"?window:{});var Iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n9,Gh,r9,Gy,rT,i9,a9,s9;(function(){var t,e=Object.defineProperty;function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Iy=="object"&&Iy];for(var N=0;N<_.length;++N){var O=_[N];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(_,N){if(N)e:{var O=r;_=_.split(".");for(var W=0;W<_.length-1;W++){var ie=_[W];if(!(ie in O))break e;O=O[ie]}_=_[_.length-1],W=O[_],N=N(W),N!=W&&N!=null&&e(O,_,{configurable:!0,writable:!0,value:N})}}i("Symbol.dispose",function(_){return _||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(_){return _||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(_){return _||function(N){var O=[],W;for(W in N)Object.prototype.hasOwnProperty.call(N,W)&&O.push([W,N[W]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(_){var N=typeof _;return N=="object"&&_!=null||N=="function"}function u(_,N,O){return _.call.apply(_.bind,arguments)}function d(_,N,O){return d=u,d.apply(null,arguments)}function f(_,N){var O=Array.prototype.slice.call(arguments,1);return function(){var W=O.slice();return W.push.apply(W,arguments),_.apply(this,W)}}function p(_,N){function O(){}O.prototype=N.prototype,_.Z=N.prototype,_.prototype=new O,_.prototype.constructor=_,_.Ob=function(W,ie,ue){for(var Ne=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Ne[Ze-2]=arguments[Ze];return N.prototype[ie].apply(W,Ne)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?_=>_&&AsyncContext.Snapshot.wrap(_):_=>_;function v(_){const N=_.length;if(N>0){const O=Array(N);for(let W=0;W<N;W++)O[W]=_[W];return O}return[]}function T(_,N){for(let W=1;W<arguments.length;W++){const ie=arguments[W];var O=typeof ie;if(O=O!="object"?O:ie?Array.isArray(ie)?"array":O:"null",O=="array"||O=="object"&&typeof ie.length=="number"){O=_.length||0;const ue=ie.length||0;_.length=O+ue;for(let Ne=0;Ne<ue;Ne++)_[O+Ne]=ie[Ne]}else _.push(ie)}}class k{constructor(N,O){this.i=N,this.j=O,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function S(_){s.setTimeout(()=>{throw _},0)}function C(){var _=P;let N=null;return _.g&&(N=_.g,_.g=_.g.next,_.g||(_.h=null),N.next=null),N}class R{constructor(){this.h=this.g=null}add(N,O){const W=I.get();W.set(N,O),this.h?this.h.next=W:this.g=W,this.h=W}}var I=new k(()=>new L,_=>_.reset());class L{constructor(){this.next=this.g=this.h=null}set(N,O){this.h=N,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let F,j=!1,P=new R,U=()=>{const _=Promise.resolve(void 0);F=()=>{_.then(M)}};function M(){for(var _;_=C();){try{_.h.call(_.g)}catch(O){S(O)}var N=I;N.j(_),N.h<100&&(N.h++,_.next=N.g,N.g=_)}j=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(_,N){this.type=_,this.g=this.target=N,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var _=!1,N=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const O=()=>{};s.addEventListener("test",O,N),s.removeEventListener("test",O,N)}catch{}return _})();function z(_){return/^[\s\xa0]*$/.test(_)}function le(_,N){V.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_&&this.init(_,N)}p(le,V),le.prototype.init=function(_,N){const O=this.type=_.type,W=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;this.target=_.target||_.srcElement,this.g=N,N=_.relatedTarget,N||(O=="mouseover"?N=_.fromElement:O=="mouseout"&&(N=_.toElement)),this.relatedTarget=N,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=_.pointerType,this.state=_.state,this.i=_,_.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),J=0;function H(_,N,O,W,ie){this.listener=_,this.proxy=null,this.src=N,this.type=O,this.capture=!!W,this.ha=ie,this.key=++J,this.da=this.fa=!1}function Z(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function ne(_,N,O){for(const W in _)N.call(O,_[W],W,_)}function Y(_,N){for(const O in _)N.call(void 0,_[O],O,_)}function $(_){const N={};for(const O in _)N[O]=_[O];return N}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(_,N){let O,W;for(let ie=1;ie<arguments.length;ie++){W=arguments[ie];for(O in W)_[O]=W[O];for(let ue=0;ue<te.length;ue++)O=te[ue],Object.prototype.hasOwnProperty.call(W,O)&&(_[O]=W[O])}}function pe(_){this.src=_,this.g={},this.h=0}pe.prototype.add=function(_,N,O,W,ie){const ue=_.toString();_=this.g[ue],_||(_=this.g[ue]=[],this.h++);const Ne=Se(_,N,W,ie);return Ne>-1?(N=_[Ne],O||(N.fa=!1)):(N=new H(N,this.src,ue,!!W,ie),N.fa=O,_.push(N)),N};function we(_,N){const O=N.type;if(O in _.g){var W=_.g[O],ie=Array.prototype.indexOf.call(W,N,void 0),ue;(ue=ie>=0)&&Array.prototype.splice.call(W,ie,1),ue&&(Z(N),_.g[O].length==0&&(delete _.g[O],_.h--))}}function Se(_,N,O,W){for(let ie=0;ie<_.length;++ie){const ue=_[ie];if(!ue.da&&ue.listener==N&&ue.capture==!!O&&ue.ha==W)return ie}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),He={};function oe(_,N,O,W,ie){if(Array.isArray(N)){for(let ue=0;ue<N.length;ue++)oe(_,N[ue],O,W,ie);return null}return O=Cn(O),_&&_[X]?_.J(N,O,l(W)?!!W.capture:!1,ie):Ce(_,N,O,!1,W,ie)}function Ce(_,N,O,W,ie,ue){if(!N)throw Error("Invalid event type");const Ne=l(ie)?!!ie.capture:!!ie;let Ze=Re(_);if(Ze||(_[Ie]=Ze=new pe(_)),O=Ze.add(N,O,W,Ne,ue),O.proxy)return O;if(W=je(),O.proxy=W,W.src=_,W.listener=O,_.addEventListener)q||(ie=Ne),ie===void 0&&(ie=!1),_.addEventListener(N.toString(),W,ie);else if(_.attachEvent)_.attachEvent(fe(N.toString()),W);else if(_.addListener&&_.removeListener)_.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return O}function je(){function _(O){return N.call(_.src,_.listener,O)}const N=ke;return _}function be(_,N,O,W,ie){if(Array.isArray(N))for(var ue=0;ue<N.length;ue++)be(_,N[ue],O,W,ie);else W=l(W)?!!W.capture:!!W,O=Cn(O),_&&_[X]?(_=_.i,ue=String(N).toString(),ue in _.g&&(N=_.g[ue],O=Se(N,O,W,ie),O>-1&&(Z(N[O]),Array.prototype.splice.call(N,O,1),N.length==0&&(delete _.g[ue],_.h--)))):_&&(_=Re(_))&&(N=_.g[N.toString()],_=-1,N&&(_=Se(N,O,W,ie)),(O=_>-1?N[_]:null)&&lt(O))}function lt(_){if(typeof _!="number"&&_&&!_.da){var N=_.src;if(N&&N[X])we(N.i,_);else{var O=_.type,W=_.proxy;N.removeEventListener?N.removeEventListener(O,W,_.capture):N.detachEvent?N.detachEvent(fe(O),W):N.addListener&&N.removeListener&&N.removeListener(W),(O=Re(N))?(we(O,_),O.h==0&&(O.src=null,N[Ie]=null)):Z(_)}}}function fe(_){return _ in He?He[_]:He[_]="on"+_}function ke(_,N){if(_.da)_=!0;else{N=new le(N,this);const O=_.listener,W=_.ha||_.src;_.fa&&lt(_),_=O.call(W,N)}return _}function Re(_){return _=_[Ie],_ instanceof pe?_:null}var it="__closure_events_fn_"+(Math.random()*1e9>>>0);function Cn(_){return typeof _=="function"?_:(_[it]||(_[it]=function(N){return _.handleEvent(N)}),_[it])}function zt(){B.call(this),this.i=new pe(this),this.M=this,this.G=null}p(zt,B),zt.prototype[X]=!0,zt.prototype.removeEventListener=function(_,N,O,W){be(this,_,N,O,W)};function wt(_,N){var O,W=_.G;if(W)for(O=[];W;W=W.G)O.push(W);if(_=_.M,W=N.type||N,typeof N=="string")N=new V(N,_);else if(N instanceof V)N.target=N.target||_;else{var ie=N;N=new V(W,_),K(N,ie)}ie=!0;let ue,Ne;if(O)for(Ne=O.length-1;Ne>=0;Ne--)ue=N.g=O[Ne],ie=Vr(ue,W,!0,N)&&ie;if(ue=N.g=_,ie=Vr(ue,W,!0,N)&&ie,ie=Vr(ue,W,!1,N)&&ie,O)for(Ne=0;Ne<O.length;Ne++)ue=N.g=O[Ne],ie=Vr(ue,W,!1,N)&&ie}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var _=this.i;for(const N in _.g){const O=_.g[N];for(let W=0;W<O.length;W++)Z(O[W]);delete _.g[N],_.h--}}this.G=null},zt.prototype.J=function(_,N,O,W){return this.i.add(String(_),N,!1,O,W)},zt.prototype.K=function(_,N,O,W){return this.i.add(String(_),N,!0,O,W)};function Vr(_,N,O,W){if(N=_.i.g[String(N)],!N)return!0;N=N.concat();let ie=!0;for(let ue=0;ue<N.length;++ue){const Ne=N[ue];if(Ne&&!Ne.da&&Ne.capture==O){const Ze=Ne.listener,xn=Ne.ha||Ne.src;Ne.fa&&we(_.i,Ne),ie=Ze.call(xn,W)!==!1&&ie}}return ie&&!W.defaultPrevented}function Ya(_,N){if(typeof _!="function")if(_&&typeof _.handleEvent=="function")_=d(_.handleEvent,_);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:s.setTimeout(_,N||0)}function js(_){_.g=Ya(()=>{_.g=null,_.i&&(_.i=!1,js(_))},_.l);const N=_.h;_.h=null,_.m.apply(null,N)}class In extends B{constructor(N,O){super(),this.m=N,this.l=O,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:js(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wa(_){B.call(this),this.h=_,this.g={}}p(wa,B);var ge=[];function Te(_){ne(_.g,function(N,O){this.g.hasOwnProperty(O)&&lt(N)},_),_.g={}}wa.prototype.N=function(){wa.Z.N.call(this),Te(this)},wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fe=s.JSON.stringify,We=s.JSON.parse,mt=class{stringify(_){return s.JSON.stringify(_,void 0)}parse(_){return s.JSON.parse(_,void 0)}};function Yt(){}function Fr(){}var un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){V.call(this,"d")}p(Wt,V);function fn(){V.call(this,"c")}p(fn,V);var rt={},Ei=null;function $n(){return Ei=Ei||new zt}rt.Ia="serverreachability";function gu(_){V.call(this,rt.Ia,_)}p(gu,V);function Hi(_){const N=$n();wt(N,new gu(N))}rt.STAT_EVENT="statevent";function Us(_,N){V.call(this,rt.STAT_EVENT,_),this.stat=N}p(Us,V);function at(_){const N=$n();wt(N,new Us(N,_))}rt.Ja="timingevent";function nn(_,N){V.call(this,rt.Ja,_),this.size=N}p(nn,V);function rn(_,N){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){_()},N)}function Nn(){this.g=!0}Nn.prototype.ua=function(){this.g=!1};function kr(_,N,O,W,ie,ue){_.info(function(){if(_.g)if(ue){var Ne="",Ze=ue.split("&");for(let Et=0;Et<Ze.length;Et++){var xn=Ze[Et].split("=");if(xn.length>1){const an=xn[0];xn=xn[1];const Wi=an.split("_");Ne=Wi.length>=2&&Wi[1]=="type"?Ne+(an+"="+xn+"&"):Ne+(an+"=redacted&")}}}else Ne=null;else Ne=ue;return"XMLHTTP REQ ("+W+") [attempt "+ie+"]: "+N+`
`+O+`
`+Ne})}function er(_,N,O,W,ie,ue,Ne){_.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+ie+"]: "+N+`
`+O+`
`+ue+" "+Ne})}function vn(_,N,O,W){_.info(function(){return"XMLHTTP TEXT ("+N+"): "+bn(_,O)+(W?" "+W:"")})}function ni(_,N){_.info(function(){return"TIMEOUT: "+N})}Nn.prototype.info=function(){};function bn(_,N){if(!_.g)return N;if(!N)return null;try{const ue=JSON.parse(N);if(ue){for(_=0;_<ue.length;_++)if(Array.isArray(ue[_])){var O=ue[_];if(!(O.length<2)){var W=O[1];if(Array.isArray(W)&&!(W.length<1)){var ie=W[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let Ne=1;Ne<W.length;Ne++)W[Ne]=""}}}}return Fe(ue)}catch{return N}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zr;function Si(){}p(Si,Yt),Si.prototype.g=function(){return new XMLHttpRequest},zr=new Si;function Br(_){return encodeURIComponent(String(_))}function Ti(_){var N=1;_=_.split(":");const O=[];for(;N>0&&_.length;)O.push(_.shift()),N--;return _.length&&O.push(_.join(":")),O}function pr(_,N,O,W){this.j=_,this.i=N,this.l=O,this.S=W||1,this.V=new wa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qr}function qr(){this.i=null,this.g="",this.h=!1}var Rn={},tr={};function Wa(_,N,O){_.M=1,_.A=uc(Dn(N)),_.u=O,_.R=!0,yu(_,null)}function yu(_,N){_.F=Date.now(),Ja(_),_.B=Dn(_.A);var O=_.B,W=_.S;Array.isArray(W)||(W=[String(W)]),_u(O.i,"t",W),_.C=0,O=_.j.L,_.h=new qr,_.g=eg(_.j,O?N:null,!_.u),_.P>0&&(_.O=new In(d(_.Y,_,_.g),_.P)),N=_.V,O=_.g,W=_.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(ge[0]=ie.toString()),ie=ge);for(let ue=0;ue<ie.length;ue++){const Ne=oe(O,ie[ue],W||N.handleEvent,!1,N.h||N);if(!Ne)break;N.g[Ne.key]=Ne}N=_.J?$(_.J):{},_.u?(_.v||(_.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.B,_.v,_.u,N)):(_.v="GET",_.g.ea(_.B,_.v,null,N)),Hi(),kr(_.i,_.v,_.B,_.l,_.S,_.u)}pr.prototype.ba=function(_){_=_.target;const N=this.O;N&&Ta(_)==3?N.j():this.Y(_)},pr.prototype.Y=function(_){try{if(_==this.g)e:{const Ze=Ta(this.g),xn=this.g.ya(),Et=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||mr(this.g)))){this.K||Ze!=4||xn==7||(xn==8||Et<=0?Hi(3):Hi(2)),Xa(this);var N=this.g.ca();this.X=N;var O=hx(this);if(this.o=N==200,er(this.i,this.v,this.B,this.l,this.S,Ze,N),this.o){if(this.U&&!this.L){t:{if(this.g){var W,ie=this.g;if((W=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(W)){var ue=W;break t}}ue=null}if(_=ue)vn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qa(this,_);else{this.o=!1,this.m=3,at(12),ki(this),Gi(this);break e}}if(this.R){_=!0;let an;for(;!this.K&&this.C<O.length;)if(an=zm(this,O),an==tr){Ze==4&&(this.m=4,at(14),_=!1),vn(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Rn){this.m=4,at(15),vn(this.i,this.l,O,"[Invalid Chunk]"),_=!1;break}else vn(this.i,this.l,an,null),Qa(this,an);if(Fm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||O.length!=0||this.h.h||(this.m=1,at(16),_=!1),this.o=this.o&&_,!_)vn(this.i,this.l,O,"[Invalid Chunked Response]"),ki(this),Gi(this);else if(O.length>0&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.aa&&!Ne.P&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Bf(Ne),Ne.P=!0,at(11))}}else vn(this.i,this.l,O,null),Qa(this,O);Ze==4&&ki(this),this.o&&!this.K&&(Ze==4?Jm(this.j,this):(this.o=!1,Ja(this)))}else Fs(this.g),N==400&&O.indexOf("Unknown SID")>0?(this.m=3,at(12)):(this.m=0,at(13)),ki(this),Gi(this)}}}catch{}finally{}};function hx(_){if(!Fm(_))return _.g.la();const N=mr(_.g);if(N==="")return"";let O="";const W=N.length,ie=Ta(_.g)==4;if(!_.h.i){if(typeof TextDecoder>"u")return ki(_),Gi(_),"";_.h.i=new s.TextDecoder}for(let ue=0;ue<W;ue++)_.h.h=!0,O+=_.h.i.decode(N[ue],{stream:!(ie&&ue==W-1)});return N.length=0,_.h.g+=O,_.C=0,_.h.g}function Fm(_){return _.g?_.v=="GET"&&_.M!=2&&_.j.Aa:!1}function zm(_,N){var O=_.C,W=N.indexOf(`
`,O);return W==-1?tr:(O=Number(N.substring(O,W)),isNaN(O)?Rn:(W+=1,W+O>N.length?tr:(N=N.slice(W,W+O),_.C=W+O,N)))}pr.prototype.cancel=function(){this.K=!0,ki(this)};function Ja(_){_.T=Date.now()+_.H,vu(_,_.H)}function vu(_,N){if(_.D!=null)throw Error("WatchDog timer not null");_.D=rn(d(_.aa,_),N)}function Xa(_){_.D&&(s.clearTimeout(_.D),_.D=null)}pr.prototype.aa=function(){this.D=null;const _=Date.now();_-this.T>=0?(ni(this.i,this.B),this.M!=2&&(Hi(),at(17)),ki(this),this.m=2,Gi(this)):vu(this,this.T-_)};function Gi(_){_.j.I==0||_.K||Jm(_.j,_)}function ki(_){Xa(_);var N=_.O;N&&typeof N.dispose=="function"&&N.dispose(),_.O=null,Te(_.V),_.g&&(N=_.g,_.g=null,N.abort(),N.dispose())}function Qa(_,N){try{var O=_.j;if(O.I!=0&&(O.g==_||es(O.h,_))){if(!_.L&&es(O.h,_)&&O.I==3){try{var W=O.Ba.g.parse(N)}catch{W=null}if(Array.isArray(W)&&W.length==3){var ie=W;if(ie[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<_.F)ku(O),Wo(O);else break e;yc(O),at(18)}}else O.xa=ie[1],0<O.xa-O.K&&ie[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=rn(d(O.Va,O),6e3));Za(O.h)<=1&&O.ta&&(O.ta=void 0)}else ss(O,11)}else if((_.L||O.g==_)&&ku(O),!z(N))for(ie=O.Ba.g.parse(N),N=0;N<ie.length;N++){let Et=ie[N];const an=Et[0];if(!(an<=O.K))if(O.K=an,Et=Et[1],O.I==2)if(Et[0]=="c"){O.M=Et[1],O.ba=Et[2];const Wi=Et[3];Wi!=null&&(O.ka=Wi,O.j.info("VER="+O.ka));const os=Et[4];os!=null&&(O.za=os,O.j.info("SVER="+O.za));const ka=Et[5];ka!=null&&typeof ka=="number"&&ka>0&&(W=1.5*ka,O.O=W,O.j.info("backChannelRequestTimeoutMs_="+W)),W=O;const Aa=_.g;if(Aa){const vc=Aa.g?Aa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vc){var ue=W.h;ue.g||vc.indexOf("spdy")==-1&&vc.indexOf("quic")==-1&&vc.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Nf(ue,ue.h),ue.h=null))}if(W.G){const Au=Aa.g?Aa.g.getResponseHeader("X-HTTP-Session-Id"):null;Au&&(W.wa=Au,Nt(W.J,W.G,Au))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-_.F,O.j.info("Handshake RTT: "+O.T+"ms")),W=O;var Ne=_;if(W.na=Zm(W,W.L?W.ba:null,W.W),Ne.L){Rf(W.h,Ne);var Ze=Ne,xn=W.O;xn&&(Ze.H=xn),Ze.D&&(Xa(Ze),Ja(Ze)),W.g=Ne}else Ym(W);O.i.length>0&&as(O)}else Et[0]!="stop"&&Et[0]!="close"||ss(O,7);else O.I==3&&(Et[0]=="stop"||Et[0]=="close"?Et[0]=="stop"?ss(O,7):Ff(O):Et[0]!="noop"&&O.l&&O.l.qa(Et),O.A=0)}}Hi(4)}catch{}}var Pn=class{constructor(_,N){this.g=_,this.map=N}};function Cf(_){this.l=_||10,s.PerformanceNavigationTiming?(_=s.performance.getEntriesByType("navigation"),_=_.length>0&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function If(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Za(_){return _.h?1:_.g?_.g.size:0}function es(_,N){return _.h?_.h==N:_.g?_.g.has(N):!1}function Nf(_,N){_.g?_.g.add(N):_.h=N}function Rf(_,N){_.h&&_.h==N?_.h=null:_.g&&_.g.has(N)&&_.g.delete(N)}Cf.prototype.cancel=function(){if(this.i=Pf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Pf(_){if(_.h!=null)return _.i.concat(_.h.G);if(_.g!=null&&_.g.size!==0){let N=_.i;for(const O of _.g.values())N=N.concat(O.G);return N}return v(_.i)}var Bm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bu(_,N){if(_){_=_.split("&");for(let O=0;O<_.length;O++){const W=_[O].indexOf("=");let ie,ue=null;W>=0?(ie=_[O].substring(0,W),ue=_[O].substring(W+1)):ie=_[O],N(ie,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function Ai(_){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;_ instanceof Ai?(this.l=_.l,nr(this,_.j),this.o=_.o,this.g=_.g,Bo(this,_.u),this.h=_.h,Df(this,Gm(_.i)),this.m=_.m):_&&(N=String(_).match(Bm))?(this.l=!1,nr(this,N[1]||"",!0),this.o=ts(N[2]||""),this.g=ts(N[3]||"",!0),Bo(this,N[4]),this.h=ts(N[5]||"",!0),Df(this,N[6]||"",!0),this.m=ts(N[7]||"")):(this.l=!1,this.i=new $o(null,this.l))}Ai.prototype.toString=function(){const _=[];var N=this.j;N&&_.push(dc(N,xu,!0),":");var O=this.g;return(O||N=="file")&&(_.push("//"),(N=this.o)&&_.push(dc(N,xu,!0),"@"),_.push(Br(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&_.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&_.push("/"),_.push(dc(O,O.charAt(0)=="/"?Mf:qm,!0))),(O=this.i.toString())&&_.push("?",O),(O=this.m)&&_.push("#",dc(O,$m)),_.join("")},Ai.prototype.resolve=function(_){const N=Dn(this);let O=!!_.j;O?nr(N,_.j):O=!!_.o,O?N.o=_.o:O=!!_.g,O?N.g=_.g:O=_.u!=null;var W=_.h;if(O)Bo(N,_.u);else if(O=!!_.h){if(W.charAt(0)!="/")if(this.g&&!this.h)W="/"+W;else{var ie=N.h.lastIndexOf("/");ie!=-1&&(W=N.h.slice(0,ie+1)+W)}if(ie=W,ie==".."||ie==".")W="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){W=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const ue=[];for(let Ne=0;Ne<ie.length;){const Ze=ie[Ne++];Ze=="."?W&&Ne==ie.length&&ue.push(""):Ze==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),W&&Ne==ie.length&&ue.push("")):(ue.push(Ze),W=!0)}W=ue.join("/")}else W=ie}return O?N.h=W:O=_.i.toString()!=="",O?Df(N,Gm(_.i)):O=!!_.m,O&&(N.m=_.m),N};function Dn(_){return new Ai(_)}function nr(_,N,O){_.j=O?ts(N,!0):N,_.j&&(_.j=_.j.replace(/:$/,""))}function Bo(_,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);_.u=N}else _.u=null}function Df(_,N,O){N instanceof $o?(_.i=N,wu(_.i,_.l)):(O||(N=dc(N,qo)),_.i=new $o(N,_.l))}function Nt(_,N,O){_.i.set(N,O)}function uc(_){return Nt(_,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),_}function ts(_,N){return _?N?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function dc(_,N,O){return typeof _=="string"?(_=encodeURI(_).replace(N,ri),O&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function ri(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var xu=/[#\/\?@]/g,qm=/[#\?:]/g,Mf=/[#\?]/g,qo=/[#\?@]/g,$m=/#/g;function $o(_,N){this.h=this.g=null,this.i=_||null,this.j=!!N}function ii(_){_.g||(_.g=new Map,_.h=0,_.i&&bu(_.i,function(N,O){_.add(decodeURIComponent(N.replace(/\+/g," ")),O)}))}t=$o.prototype,t.add=function(_,N){ii(this),this.i=null,_=Ho(this,_);let O=this.g.get(_);return O||this.g.set(_,O=[]),O.push(N),this.h+=1,this};function Hm(_,N){ii(_),N=Ho(_,N),_.g.has(N)&&(_.i=null,_.h-=_.g.get(N).length,_.g.delete(N))}function Of(_,N){return ii(_),N=Ho(_,N),_.g.has(N)}t.forEach=function(_,N){ii(this),this.g.forEach(function(O,W){O.forEach(function(ie){_.call(N,ie,W,this)},this)},this)};function Lf(_,N){ii(_);let O=[];if(typeof N=="string")Of(_,N)&&(O=O.concat(_.g.get(Ho(_,N))));else for(_=Array.from(_.g.values()),N=0;N<_.length;N++)O=O.concat(_[N]);return O}t.set=function(_,N){return ii(this),this.i=null,_=Ho(this,_),Of(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[N]),this.h+=1,this},t.get=function(_,N){return _?(_=Lf(this,_),_.length>0?String(_[0]):N):N};function _u(_,N,O){Hm(_,N),O.length>0&&(_.i=null,_.g.set(Ho(_,N),v(O)),_.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],N=Array.from(this.g.keys());for(let W=0;W<N.length;W++){var O=N[W];const ie=Br(O);O=Lf(this,O);for(let ue=0;ue<O.length;ue++){let Ne=ie;O[ue]!==""&&(Ne+="="+Br(O[ue])),_.push(Ne)}}return this.i=_.join("&")};function Gm(_){const N=new $o;return N.i=_.i,_.g&&(N.g=new Map(_.g),N.h=_.h),N}function Ho(_,N){return N=String(N),_.j&&(N=N.toLowerCase()),N}function wu(_,N){N&&!_.j&&(ii(_),_.i=null,_.g.forEach(function(O,W){const ie=W.toLowerCase();W!=ie&&(Hm(this,W),_u(this,ie,O))},_)),_.j=N}function Ea(_,N){const O=new Nn;if(s.Image){const W=new Image;W.onload=f(Ki,O,"TestLoadImage: loaded",!0,N,W),W.onerror=f(Ki,O,"TestLoadImage: error",!1,N,W),W.onabort=f(Ki,O,"TestLoadImage: abort",!1,N,W),W.ontimeout=f(Ki,O,"TestLoadImage: timeout",!1,N,W),s.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=_}else N(!1)}function jf(_,N){const O=new Nn,W=new AbortController,ie=setTimeout(()=>{W.abort(),Ki(O,"TestPingServer: timeout",!1,N)},1e4);fetch(_,{signal:W.signal}).then(ue=>{clearTimeout(ie),ue.ok?Ki(O,"TestPingServer: ok",!0,N):Ki(O,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(ie),Ki(O,"TestPingServer: error",!1,N)})}function Ki(_,N,O,W,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),W(O)}catch{}}function Go(){this.g=new mt}function ns(_){this.i=_.Sb||null,this.h=_.ab||!1}p(ns,Yt),ns.prototype.g=function(){return new fc(this.i,this.h)};function fc(_,N){zt.call(this),this.H=_,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(fc,zt),t=fc.prototype,t.open=function(_,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=_,this.D=N,this.readyState=1,Sa(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};_&&(N.body=_),(this.H||s).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},t.Pa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Sa(this)),this.g&&(this.readyState=3,Sa(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Eu(this)}else _.text().then(this.Oa.bind(this),this.ga.bind(this))};function Eu(_){_.j.read().then(_.Ma.bind(_)).catch(_.ga.bind(_))}t.Ma=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var N=_.value?_.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!_.done}))&&(this.response=this.responseText+=N)}_.done?Ko(this):Sa(this),this.readyState==3&&Eu(this)}},t.Oa=function(_){this.g&&(this.response=this.responseText=_,Ko(this))},t.Na=function(_){this.g&&(this.response=_,Ko(this))},t.ga=function(){this.g&&Ko(this)};function Ko(_){_.readyState=4,_.l=null,_.j=null,_.B=null,Sa(_)}t.setRequestHeader=function(_,N){this.A.append(_,N)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],N=this.h.entries();for(var O=N.next();!O.done;)O=O.value,_.push(O[0]+": "+O[1]),O=N.next();return _.join(`\r
`)};function Sa(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Yi(_){let N="";return ne(_,function(O,W){N+=W,N+=":",N+=O,N+=`\r
`}),N}function hc(_,N,O){e:{for(W in O){var W=!1;break e}W=!0}W||(O=Yi(O),typeof _=="string"?O!=null&&Br(O):Nt(_,N,O))}function Ot(_){zt.call(this),this.headers=new Map,this.L=_||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ot,zt);var rs=/^https?$/i,Uf=["POST","PUT"];t=Ot.prototype,t.Fa=function(_){this.H=_},t.ea=function(_,N,O,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);N=N?N.toUpperCase():"GET",this.D=_,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zr.g(),this.g.onreadystatechange=y(d(this.Ca,this));try{this.B=!0,this.g.open(N,String(_),!0),this.B=!1}catch(ue){pc(this,ue);return}if(_=O||"",O=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var ie in W)O.set(ie,W[ie]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const ue of W.keys())O.set(ue,W.get(ue));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(O.keys()).find(ue=>ue.toLowerCase()=="content-type"),ie=s.FormData&&_ instanceof s.FormData,!(Array.prototype.indexOf.call(Uf,N,void 0)>=0)||W||ie||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Ne]of O)this.g.setRequestHeader(ue,Ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(_),this.v=!1}catch(ue){pc(this,ue)}};function pc(_,N){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=N,_.o=5,Vf(_),Vs(_)}function Vf(_){_.A||(_.A=!0,wt(_,"complete"),wt(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=_||7,wt(this,"complete"),wt(this,"abort"),Vs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vs(this,!0)),Ot.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?mc(this):this.Xa())},t.Xa=function(){mc(this)};function mc(_){if(_.h&&typeof a<"u"){if(_.v&&Ta(_)==4)setTimeout(_.Ca.bind(_),0);else if(wt(_,"readystatechange"),Ta(_)==4){_.h=!1;try{const ue=_.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var O;if(!(O=N)){var W;if(W=ue===0){let Ne=String(_.D).match(Bm)[1]||null;!Ne&&s.self&&s.self.location&&(Ne=s.self.location.protocol.slice(0,-1)),W=!rs.test(Ne?Ne.toLowerCase():"")}O=W}if(O)wt(_,"complete"),wt(_,"success");else{_.o=6;try{var ie=Ta(_)>2?_.g.statusText:""}catch{ie=""}_.l=ie+" ["+_.ca()+"]",Vf(_)}}finally{Vs(_)}}}}function Vs(_,N){if(_.g){_.m&&(clearTimeout(_.m),_.m=null);const O=_.g;_.g=null,N||wt(_,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ta(_){return _.g?_.g.readyState:0}t.ca=function(){try{return Ta(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(_){if(this.g){var N=this.g.responseText;return _&&N.indexOf(_)==0&&(N=N.substring(_.length)),We(N)}};function mr(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.F){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Fs(_){const N={};_=(_.g&&Ta(_)>=2&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<_.length;W++){if(z(_[W]))continue;var O=Ti(_[W]);const ie=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ue=N[ie]||[];N[ie]=ue,ue.push(O)}Y(N,function(W){return W.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(_,N,O){return O&&O.internalChannelParams&&O.internalChannelParams[_]||N}function Yo(_){this.za=0,this.i=[],this.j=new Nn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=is("failFast",!1,_),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=is("baseRetryDelayMs",5e3,_),this.Za=is("retryDelaySeedMs",1e4,_),this.Ta=is("forwardChannelMaxRetries",2,_),this.va=is("forwardChannelRequestTimeoutMs",2e4,_),this.ma=_&&_.xmlHttpFactory||void 0,this.Ua=_&&_.Rb||void 0,this.Aa=_&&_.useFetchStreams||!1,this.O=void 0,this.L=_&&_.supportsCrossDomainXhr||!1,this.M="",this.h=new Cf(_&&_.concurrentRequestLimit),this.Ba=new Go,this.S=_&&_.fastHandshake||!1,this.R=_&&_.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=_&&_.Pb||!1,_&&_.ua&&this.j.ua(),_&&_.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&_&&_.detectBufferingProxy||!1,this.ia=void 0,_&&_.longPollingTimeout&&_.longPollingTimeout>0&&(this.ia=_.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Yo.prototype,t.ka=8,t.I=1,t.connect=function(_,N,O,W){at(0),this.W=_,this.H=N||{},O&&W!==void 0&&(this.H.OSID=O,this.H.OAID=W),this.F=this.X,this.J=Zm(this,null,this.W),as(this)};function Ff(_){if(Su(_),_.I==3){var N=_.V++,O=Dn(_.J);if(Nt(O,"SID",_.M),Nt(O,"RID",N),Nt(O,"TYPE","terminate"),gc(_,O),N=new pr(_,_.j,N),N.M=2,N.A=uc(Dn(O)),O=!1,s.navigator&&s.navigator.sendBeacon)try{O=s.navigator.sendBeacon(N.A.toString(),"")}catch{}!O&&s.Image&&(new Image().src=N.A,O=!0),O||(N.g=eg(N.j,null),N.g.ea(N.A)),N.F=Date.now(),Ja(N)}Qm(_)}function Wo(_){_.g&&(Bf(_),_.g.cancel(),_.g=null)}function Su(_){Wo(_),_.v&&(s.clearTimeout(_.v),_.v=null),ku(_),_.h.cancel(),_.m&&(typeof _.m=="number"&&s.clearTimeout(_.m),_.m=null)}function as(_){if(!If(_.h)&&!_.m){_.m=!0;var N=_.Ea;F||U(),j||(F(),j=!0),P.add(N,_),_.D=0}}function Tu(_,N){return Za(_.h)>=_.h.j-(_.m?1:0)?!1:_.m?(_.i=N.G.concat(_.i),!0):_.I==1||_.I==2||_.D>=(_.Sa?0:_.Ta)?!1:(_.m=rn(d(_.Ea,_,N),Xm(_,_.D)),_.D++,!0)}t.Ea=function(_){if(this.m)if(this.m=null,this.I==1){if(!_){this.V=Math.floor(Math.random()*1e5),_=this.V++;const ie=new pr(this,this.j,_);let ue=this.o;if(this.U&&(ue?(ue=$(ue),K(ue,this.U)):ue=this.U),this.u!==null||this.R||(ie.J=ue,ue=null),this.S)e:{for(var N=0,O=0;O<this.i.length;O++){t:{var W=this.i[O];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(N+=W,N>4096){N=O;break e}if(N===4096||O===this.i.length-1){N=O+1;break e}}N=1e3}else N=1e3;N=Km(this,ie,N),O=Dn(this.J),Nt(O,"RID",_),Nt(O,"CVER",22),this.G&&Nt(O,"X-HTTP-Session-Id",this.G),gc(this,O),ue&&(this.R?N="headers="+Br(Yi(ue))+"&"+N:this.u&&hc(O,this.u,ue)),Nf(this.h,ie),this.Ra&&Nt(O,"TYPE","init"),this.S?(Nt(O,"$req",N),Nt(O,"SID","null"),ie.U=!0,Wa(ie,O,null)):Wa(ie,O,N),this.I=2}}else this.I==3&&(_?zf(this,_):this.i.length==0||If(this.h)||zf(this))};function zf(_,N){var O;N?O=N.l:O=_.V++;const W=Dn(_.J);Nt(W,"SID",_.M),Nt(W,"RID",O),Nt(W,"AID",_.K),gc(_,W),_.u&&_.o&&hc(W,_.u,_.o),O=new pr(_,_.j,O,_.D+1),_.u===null&&(O.J=_.o),N&&(_.i=N.G.concat(_.i)),N=Km(_,O,1e3),O.H=Math.round(_.va*.5)+Math.round(_.va*.5*Math.random()),Nf(_.h,O),Wa(O,W,N)}function gc(_,N){_.H&&ne(_.H,function(O,W){Nt(N,W,O)}),_.l&&ne({},function(O,W){Nt(N,W,O)})}function Km(_,N,O){O=Math.min(_.i.length,O);const W=_.l?d(_.l.Ka,_.l,_):null;e:{var ie=_.i;let Ze=-1;for(;;){const xn=["count="+O];Ze==-1?O>0?(Ze=ie[0].g,xn.push("ofs="+Ze)):Ze=0:xn.push("ofs="+Ze);let Et=!0;for(let an=0;an<O;an++){var ue=ie[an].g;const Wi=ie[an].map;if(ue-=Ze,ue<0)Ze=Math.max(0,ie[an].g-100),Et=!1;else try{ue="req"+ue+"_"||"";try{var Ne=Wi instanceof Map?Wi:Object.entries(Wi);for(const[os,ka]of Ne){let Aa=ka;l(ka)&&(Aa=Fe(ka)),xn.push(ue+os+"="+encodeURIComponent(Aa))}}catch(os){throw xn.push(ue+"type="+encodeURIComponent("_badmap")),os}}catch{W&&W(Wi)}}if(Et){Ne=xn.join("&");break e}}Ne=void 0}return _=_.i.splice(0,O),N.G=_,Ne}function Ym(_){if(!_.g&&!_.v){_.Y=1;var N=_.Da;F||U(),j||(F(),j=!0),P.add(N,_),_.A=0}}function yc(_){return _.g||_.v||_.A>=3?!1:(_.Y++,_.v=rn(d(_.Da,_),Xm(_,_.A)),_.A++,!0)}t.Da=function(){if(this.v=null,Wm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var _=4*this.T;this.j.info("BP detection timer enabled: "+_),this.B=rn(d(this.Wa,this),_)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,at(10),Wo(this),Wm(this))};function Bf(_){_.B!=null&&(s.clearTimeout(_.B),_.B=null)}function Wm(_){_.g=new pr(_,_.j,"rpc",_.Y),_.u===null&&(_.g.J=_.o),_.g.P=0;var N=Dn(_.na);Nt(N,"RID","rpc"),Nt(N,"SID",_.M),Nt(N,"AID",_.K),Nt(N,"CI",_.F?"0":"1"),!_.F&&_.ia&&Nt(N,"TO",_.ia),Nt(N,"TYPE","xmlhttp"),gc(_,N),_.u&&_.o&&hc(N,_.u,_.o),_.O&&(_.g.H=_.O);var O=_.g;_=_.ba,O.M=1,O.A=uc(Dn(N)),O.u=null,O.R=!0,yu(O,_)}t.Va=function(){this.C!=null&&(this.C=null,Wo(this),yc(this),at(19))};function ku(_){_.C!=null&&(s.clearTimeout(_.C),_.C=null)}function Jm(_,N){var O=null;if(_.g==N){ku(_),Bf(_),_.g=null;var W=2}else if(es(_.h,N))O=N.G,Rf(_.h,N),W=1;else return;if(_.I!=0){if(N.o)if(W==1){O=N.u?N.u.length:0,N=Date.now()-N.F;var ie=_.D;W=$n(),wt(W,new nn(W,O)),as(_)}else Ym(_);else if(ie=N.m,ie==3||ie==0&&N.X>0||!(W==1&&Tu(_,N)||W==2&&yc(_)))switch(O&&O.length>0&&(N=_.h,N.i=N.i.concat(O)),ie){case 1:ss(_,5);break;case 4:ss(_,10);break;case 3:ss(_,6);break;default:ss(_,2)}}}function Xm(_,N){let O=_.Qa+Math.floor(Math.random()*_.Za);return _.isActive()||(O*=2),O*N}function ss(_,N){if(_.j.info("Error code "+N),N==2){var O=d(_.bb,_),W=_.Ua;const ie=!W;W=new Ai(W||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||nr(W,"https"),uc(W),ie?Ea(W.toString(),O):jf(W.toString(),O)}else at(2);_.I=0,_.l&&_.l.pa(N),Qm(_),Su(_)}t.bb=function(_){_?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Qm(_){if(_.I=0,_.ja=[],_.l){const N=Pf(_.h);(N.length!=0||_.i.length!=0)&&(T(_.ja,N),T(_.ja,_.i),_.h.i.length=0,v(_.i),_.i.length=0),_.l.oa()}}function Zm(_,N,O){var W=O instanceof Ai?Dn(O):new Ai(O);if(W.g!="")N&&(W.g=N+"."+W.g),Bo(W,W.u);else{var ie=s.location;W=ie.protocol,N=N?N+"."+ie.hostname:ie.hostname,ie=+ie.port;const ue=new Ai(null);W&&nr(ue,W),N&&(ue.g=N),ie&&Bo(ue,ie),O&&(ue.h=O),W=ue}return O=_.G,N=_.wa,O&&N&&Nt(W,O,N),Nt(W,"VER",_.ka),gc(_,W),W}function eg(_,N,O){if(N&&!_.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=_.Aa&&!_.ma?new Ot(new ns({ab:O})):new Ot(_.ma),N.Fa(_.L),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tg(){}t=tg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Jo(){}Jo.prototype.g=function(_,N){return new $r(_,N)};function $r(_,N){zt.call(this),this.g=new Yo(N),this.l=_,this.h=N&&N.messageUrlParams||null,_=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(_?_["X-WebChannel-Content-Type"]=N.messageContentType:_={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(_?_["X-WebChannel-Client-Profile"]=N.sa:_={"X-WebChannel-Client-Profile":N.sa}),this.g.U=_,(_=N&&N.Qb)&&!z(_)&&(this.g.u=_),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!z(N)&&(this.g.G=N,_=this.h,_!==null&&N in _&&(_=this.h,N in _&&delete _[N])),this.j=new zs(this)}p($r,zt),$r.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$r.prototype.close=function(){Ff(this.g)},$r.prototype.o=function(_){var N=this.g;if(typeof _=="string"){var O={};O.__data__=_,_=O}else this.v&&(O={},O.__data__=Fe(_),_=O);N.i.push(new Pn(N.Ya++,_)),N.I==3&&as(N)},$r.prototype.N=function(){this.g.l=null,delete this.j,Ff(this.g),delete this.g,$r.Z.N.call(this)};function ng(_){Wt.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var N=_.__sm__;if(N){e:{for(const O in N){_=O;break e}_=void 0}(this.i=_)&&(_=this.i,N=N!==null&&_ in N?N[_]:void 0),this.data=N}else this.data=_}p(ng,Wt);function rg(){fn.call(this),this.status=1}p(rg,fn);function zs(_){this.g=_}p(zs,tg),zs.prototype.ra=function(){wt(this.g,"a")},zs.prototype.qa=function(_){wt(this.g,new ng(_))},zs.prototype.pa=function(_){wt(this.g,new rg)},zs.prototype.oa=function(){wt(this.g,"b")},Jo.prototype.createWebChannel=Jo.prototype.g,$r.prototype.send=$r.prototype.o,$r.prototype.open=$r.prototype.m,$r.prototype.close=$r.prototype.close,s9=function(){return new Jo},a9=function(){return $n()},i9=rt,rT={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Gy=Ar,Cr.COMPLETE="complete",r9=Cr,Fr.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",zt.prototype.listen=zt.prototype.J,Gh=Fr,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,n9=Ot}).apply(typeof Iy<"u"?Iy:typeof self<"u"?self:typeof window<"u"?window:{});const r4="@firebase/firestore",i4="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pr.UNAUTHENTICATED=new Pr(null),Pr.GOOGLE_CREDENTIALS=new Pr("google-credentials-uid"),Pr.FIRST_PARTY=new Pr("first-party-uid"),Pr.MOCK_USER=new Pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=new OA("@firebase/firestore");function dd(){return tu.logLevel}function Me(t,...e){if(tu.logLevel<=ft.DEBUG){const n=e.map(UA);tu.debug(`Firestore (${mf}): ${t}`,...n)}}function ko(t,...e){if(tu.logLevel<=ft.ERROR){const n=e.map(UA);tu.error(`Firestore (${mf}): ${t}`,...n)}}function Kd(t,...e){if(tu.logLevel<=ft.WARN){const n=e.map(UA);tu.warn(`Firestore (${mf}): ${t}`,...n)}}function UA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,o9(t,r,n)}function o9(t,e,n){let r=`FIRESTORE (${mf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ko(r),new Error(r)}function Ct(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||o9(e,i,r)}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends Ga{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pbe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Pr.UNAUTHENTICATED)))}shutdown(){}}class Dbe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Mbe{constructor(e){this.t=e,this.currentUser=Pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ct(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new mo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new mo,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},l=u=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new mo)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new l9(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new Pr(e)}}class Obe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lbe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Obe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class a4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jbe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ct(this.o===void 0,3512);const r=a=>{a.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Me("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new a4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new a4(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ube(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Ube(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ht(t,e){return t<e?-1:t>e?1:0}function iT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return gE(i)===gE(a)?ht(i,a):gE(i)?1:-1}return ht(t.length,e.length)}const Vbe=55296,Fbe=57343;function gE(t){const e=t.charCodeAt(0);return e>=Vbe&&e<=Fbe}function Yd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="__name__";class ps{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ps?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ps.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ht(e.length,n.length)}static compareSegments(e,n){const r=ps.isNumericId(e),i=ps.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ps.extractNumericId(e).compare(ps.extractNumericId(n)):iT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fl.fromString(e.substring(4,e.length-2))}}class Gt extends ps{construct(e,n,r){return new Gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Gt(n)}static emptyPath(){return new Gt([])}}const zbe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends ps{construct(e,n,r){return new Er(e,n,r)}static isValidIdentifier(e){return zbe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s4}static keyField(){return new Er([s4])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new De(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new De(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new De(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(a(),i++)}if(a(),s)throw new De(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Er(n)}static emptyPath(){return new Er([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Gt.fromString(e))}static fromName(e){return new $e(Gt.fromString(e).popFirst(5))}static empty(){return new $e(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t,e,n){if(!n)throw new De(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bbe(t,e,n,r){if(e===!0&&r===!0)throw new De(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function o4(t){if(!$e.isDocumentKey(t))throw new De(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l4(t){if($e.isDocumentKey(t))throw new De(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function u9(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ob(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke(12329,{type:typeof t})}function va(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ob(t);throw new De(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,e){const n={typeString:t};return e&&(n.value=e),n}function xm(t,e){if(!u9(t))throw new De(ve.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new De(ve.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=-62135596800,u4=1e6;class tn{static now(){return tn.fromMillis(Date.now())}static fromDate(e){return tn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*u4);return new tn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<c4)throw new De(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u4}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xm(e,tn._jsonSchema))return new tn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-c4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tn._jsonSchemaVersion="firestore/timestamp/1.0",tn._jsonSchema={type:Bn("string",tn._jsonSchemaVersion),seconds:Bn("number"),nanoseconds:Bn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new tn(0,0))}static max(){return new Je(new tn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=-1;function qbe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new tn(n+1,0):new tn(n,r));return new Kl(i,$e.empty(),e)}function $be(t){return new Kl(t.readTime,t.key,Dp)}class Kl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kl(Je.min(),$e.empty(),Dp)}static max(){return new Kl(Je.max(),$e.empty(),Dp)}}function Hbe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$e.comparator(t.documentKey,e.documentKey),n!==0?n:ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gbe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kbe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==Gbe)throw t;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _e(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof _e?n:_e.resolve(n)}catch(n){return _e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.reject(n)}static resolve(e){return new _e(((n,r)=>{n(e)}))}static reject(e){return new _e(((n,r)=>{r(e)}))}static waitFor(e){return new _e(((n,r)=>{let i=0,a=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++a,s&&a===i&&n()}),(u=>r(u)))})),s=!0,a===i&&n()}))}static or(e){let n=_e.resolve(!1);for(const r of e)n=n.next((i=>i?_e.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new _e(((r,i)=>{const a=e.length,s=new Array(a);let l=0;for(let u=0;u<a;u++){const d=u;n(e[d]).next((f=>{s[d]=f,++l,l===a&&r(s)}),(f=>i(f)))}}))}static doWhile(e,n){return new _e(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Ybe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lb.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=-1;function jb(t){return t==null}function s0(t){return t===0&&1/t==-1/0}function Wbe(t){return typeof t=="number"&&Number.isInteger(t)&&!s0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9="";function Jbe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=d4(e)),e=Xbe(t.get(n),e);return d4(e)}function Xbe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case d9:n+="";break;default:n+=a}}return n}function d4(t){return t+d9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ac(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function f9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){this.comparator=e,this.root=n||wr.EMPTY}insert(e,n){return new dn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(e){return new dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ny(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ny(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ny(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ny(this.root,e,this.comparator,!0)}}class Ny{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??wr.RED,this.left=i??wr.EMPTY,this.right=a??wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new wr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ke(27949);return e+(this.isRed()?0:1)}}wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1;wr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke(57766)}get value(){throw Ke(16141)}get color(){throw Ke(16727)}get left(){throw Ke(29726)}get right(){throw Ke(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new wr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.comparator=e,this.data=new dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h4(this.data.getIterator())}getIteratorFrom(e){return new h4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wn(this.comparator);return n.data=e,n}}class h4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.fields=e,e.sort(Er.comparator)}static empty(){return new Fi([])}unionWith(e){let n=new Wn(Er.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new h9("Invalid base64 string: "+a):a}})(e);return new Tr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const Qbe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yl(t){if(Ct(!!t,39018),typeof t=="string"){let e=0;const n=Qbe.exec(t);if(Ct(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Sn(t.seconds),nanos:Sn(t.nanos)}}function Sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wl(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9="server_timestamp",m9="__type__",g9="__previous_value__",y9="__local_write_time__";function zA(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[m9])==null?void 0:r.stringValue)===p9}function Ub(t){const e=t.mapValue.fields[g9];return zA(e)?Ub(e):e}function Mp(t){const e=Yl(t.mapValue.fields[y9].timestampValue);return new tn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zbe{constructor(e,n,r,i,a,s,l,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const o0="(default)";class Op{constructor(e,n){this.projectId=e,this.database=n||o0}static empty(){return new Op("","")}get isDefaultDatabase(){return this.database===o0}isEqual(e){return e instanceof Op&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9="__type__",exe="__max__",Ry={mapValue:{}},b9="__vector__",l0="value";function Jl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zA(t)?4:nxe(t)?9007199254740991:txe(t)?10:11:Ke(28295,{value:t})}function Ms(t,e){if(t===e)return!0;const n=Jl(t);if(n!==Jl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mp(t).isEqual(Mp(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Yl(i.timestampValue),l=Yl(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Wl(i.bytesValue).isEqual(Wl(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Sn(i.geoPointValue.latitude)===Sn(a.geoPointValue.latitude)&&Sn(i.geoPointValue.longitude)===Sn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Sn(i.integerValue)===Sn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Sn(i.doubleValue),l=Sn(a.doubleValue);return s===l?s0(s)===s0(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return Yd(t.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(f4(s)!==f4(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!Ms(s[u],l[u])))return!1;return!0})(t,e);default:return Ke(52216,{left:t})}}function Lp(t,e){return(t.values||[]).find((n=>Ms(n,e)))!==void 0}function Wd(t,e){if(t===e)return 0;const n=Jl(t),r=Jl(e);if(n!==r)return ht(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ht(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const l=Sn(a.integerValue||a.doubleValue),u=Sn(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return p4(t.timestampValue,e.timestampValue);case 4:return p4(Mp(t),Mp(e));case 5:return iT(t.stringValue,e.stringValue);case 6:return(function(a,s){const l=Wl(a),u=Wl(s);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const l=a.split("/"),u=s.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=ht(l[d],u[d]);if(f!==0)return f}return ht(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const l=ht(Sn(a.latitude),Sn(s.latitude));return l!==0?l:ht(Sn(a.longitude),Sn(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return m4(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var y,v,T,k;const l=a.fields||{},u=s.fields||{},d=(y=l[l0])==null?void 0:y.arrayValue,f=(v=u[l0])==null?void 0:v.arrayValue,p=ht(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((k=f==null?void 0:f.values)==null?void 0:k.length)||0);return p!==0?p:m4(d,f)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===Ry.mapValue&&s===Ry.mapValue)return 0;if(a===Ry.mapValue)return 1;if(s===Ry.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),d=s.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const y=iT(u[p],f[p]);if(y!==0)return y;const v=Wd(l[u[p]],d[f[p]]);if(v!==0)return v}return ht(u.length,f.length)})(t.mapValue,e.mapValue);default:throw Ke(23264,{he:n})}}function p4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ht(t,e);const n=Yl(t),r=Yl(e),i=ht(n.seconds,r.seconds);return i!==0?i:ht(n.nanos,r.nanos)}function m4(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Wd(n[i],r[i]);if(a)return a}return ht(n.length,r.length)}function Jd(t){return aT(t)}function aT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Yl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Wl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return $e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=aT(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${aT(n.fields[s])}`;return i+"}"})(t.mapValue):Ke(61005,{value:t})}function Ky(t){switch(Jl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ub(t);return e?16+Ky(e):16;case 5:return 2*t.stringValue.length;case 6:return Wl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Ky(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ac(r.fields,((a,s)=>{i+=a.length+Ky(s)})),i})(t.mapValue);default:throw Ke(13486,{value:t})}}function g4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sT(t){return!!t&&"integerValue"in t}function BA(t){return!!t&&"arrayValue"in t}function y4(t){return!!t&&"nullValue"in t}function v4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yy(t){return!!t&&"mapValue"in t}function txe(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[v9])==null?void 0:r.stringValue)===b9}function np(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ac(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=np(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=np(t.arrayValue.values[n]);return e}return{...t}}function nxe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===exe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.value=e}static empty(){return new pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=np(n)}setAll(e){let n=Er.emptyPath(),r={},i=[];e.forEach(((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=np(s):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Yy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ac(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new pi(np(this.value))}}function x9(t){const e=[];return ac(t.fields,((n,r)=>{const i=new Er([n]);if(Yy(r)){const a=x9(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new Fi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n,r,i,a,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Mr(e,0,Je.min(),Je.min(),Je.min(),pi.empty(),0)}static newFoundDocument(e,n,r,i){return new Mr(e,1,n,Je.min(),r,i,0)}static newNoDocument(e,n){return new Mr(e,2,n,Je.min(),Je.min(),pi.empty(),0)}static newUnknownDocument(e,n){return new Mr(e,3,n,Je.min(),Je.min(),pi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){this.position=e,this.inclusive=n}}function b4(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=$e.comparator($e.fromName(s.referenceValue),n.key):r=Wd(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function x4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ms(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n="asc"){this.field=e,this.dir=n}}function rxe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{}class zn extends _9{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new axe(e,n,r):n==="array-contains"?new lxe(e,r):n==="in"?new cxe(e,r):n==="not-in"?new uxe(e,r):n==="array-contains-any"?new dxe(e,r):new zn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sxe(e,r):new oxe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wd(n,this.value)):n!==null&&Jl(this.value)===Jl(n)&&this.matchesComparison(Wd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fa extends _9{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fa(e,n)}matches(e){return w9(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function w9(t){return t.op==="and"}function E9(t){return ixe(t)&&w9(t)}function ixe(t){for(const e of t.filters)if(e instanceof Fa)return!1;return!0}function oT(t){if(t instanceof zn)return t.field.canonicalString()+t.op.toString()+Jd(t.value);if(E9(t))return t.filters.map((e=>oT(e))).join(",");{const e=t.filters.map((n=>oT(n))).join(",");return`${t.op}(${e})`}}function S9(t,e){return t instanceof zn?(function(r,i){return i instanceof zn&&r.op===i.op&&r.field.isEqual(i.field)&&Ms(r.value,i.value)})(t,e):t instanceof Fa?(function(r,i){return i instanceof Fa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,l)=>a&&S9(s,i.filters[l])),!0):!1})(t,e):void Ke(19439)}function T9(t){return t instanceof zn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Jd(n.value)}`})(t):t instanceof Fa?(function(n){return n.op.toString()+" {"+n.getFilters().map(T9).join(" ,")+"}"})(t):"Filter"}class axe extends zn{constructor(e,n,r){super(e,n,r),this.key=$e.fromName(r.referenceValue)}matches(e){const n=$e.comparator(e.key,this.key);return this.matchesComparison(n)}}class sxe extends zn{constructor(e,n){super(e,"in",n),this.keys=k9("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class oxe extends zn{constructor(e,n){super(e,"not-in",n),this.keys=k9("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function k9(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>$e.fromName(r.referenceValue)))}class lxe extends zn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return BA(n)&&Lp(n.arrayValue,this.value)}}class cxe extends zn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lp(this.value.arrayValue,n)}}class uxe extends zn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lp(this.value.arrayValue,n)}}class dxe extends zn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!BA(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Lp(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fxe{constructor(e,n=null,r=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Te=null}}function _4(t,e=null,n=[],r=[],i=null,a=null,s=null){return new fxe(t,e,n,r,i,a,s)}function qA(t){const e=Qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>oT(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),jb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Jd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Jd(r))).join(",")),e.Te=n}return e.Te}function $A(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rxe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!S9(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!x4(t.startAt,e.startAt)&&x4(t.endAt,e.endAt)}function lT(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n=null,r=[],i=[],a=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hxe(t,e,n,r,i,a,s,l){return new _m(t,e,n,r,i,a,s,l)}function HA(t){return new _m(t)}function w4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function A9(t){return t.collectionGroup!==null}function rp(t){const e=Qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Wn(Er.comparator);return s.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new u0(a,r))})),n.has(Er.keyField().canonicalString())||e.Ie.push(new u0(Er.keyField(),r))}return e.Ie}function Es(t){const e=Qe(t);return e.Ee||(e.Ee=pxe(e,rp(t))),e.Ee}function pxe(t,e){if(t.limitType==="F")return _4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new u0(i.field,a)}));const n=t.endAt?new c0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new c0(t.startAt.position,t.startAt.inclusive):null;return _4(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cT(t,e){const n=t.filters.concat([e]);return new _m(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function uT(t,e,n){return new _m(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vb(t,e){return $A(Es(t),Es(e))&&t.limitType===e.limitType}function C9(t){return`${qA(Es(t))}|lt:${t.limitType}`}function fd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>T9(i))).join(", ")}]`),jb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Jd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Jd(i))).join(",")),`Target(${r})`})(Es(t))}; limitType=${t.limitType})`}function Fb(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):$e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of rp(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,l,u){const d=b4(s,l,u);return s.inclusive?d<=0:d<0})(r.startAt,rp(r),i)||r.endAt&&!(function(s,l,u){const d=b4(s,l,u);return s.inclusive?d>=0:d>0})(r.endAt,rp(r),i))})(t,e)}function mxe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function I9(t){return(e,n)=>{let r=!1;for(const i of rp(t)){const a=gxe(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function gxe(t,e,n){const r=t.field.isKeyField()?$e.comparator(e.key,n.key):(function(a,s,l){const u=s.data.field(a),d=l.data.field(a);return u!==null&&d!==null?Wd(u,d):Ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ac(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return f9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yxe=new dn($e.comparator);function Ao(){return yxe}const N9=new dn($e.comparator);function Kh(...t){let e=N9;for(const n of t)e=e.insert(n.key,n);return e}function R9(t){let e=N9;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function qc(){return ip()}function P9(){return ip()}function ip(){return new du((t=>t.toString()),((t,e)=>t.isEqual(e)))}const vxe=new dn($e.comparator),bxe=new Wn($e.comparator);function pt(...t){let e=bxe;for(const n of t)e=e.add(n);return e}const xxe=new Wn(ht);function _xe(){return xxe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:s0(e)?"-0":e}}function D9(t){return{integerValue:""+t}}function wxe(t,e){return Wbe(e)?D9(e):GA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this._=void 0}}function Exe(t,e,n){return t instanceof d0?(function(i,a){const s={fields:{[m9]:{stringValue:p9},[y9]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&zA(a)&&(a=Ub(a)),a&&(s.fields[g9]=a),{mapValue:s}})(n,e):t instanceof Xd?O9(t,e):t instanceof Qd?L9(t,e):(function(i,a){const s=M9(i,a),l=E4(s)+E4(i.Ae);return sT(s)&&sT(i.Ae)?D9(l):GA(i.serializer,l)})(t,e)}function Sxe(t,e,n){return t instanceof Xd?O9(t,e):t instanceof Qd?L9(t,e):n}function M9(t,e){return t instanceof f0?(function(r){return sT(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class d0 extends zb{}class Xd extends zb{constructor(e){super(),this.elements=e}}function O9(t,e){const n=j9(e);for(const r of t.elements)n.some((i=>Ms(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Qd extends zb{constructor(e){super(),this.elements=e}}function L9(t,e){let n=j9(e);for(const r of t.elements)n=n.filter((i=>!Ms(i,r)));return{arrayValue:{values:n}}}class f0 extends zb{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function E4(t){return Sn(t.integerValue||t.doubleValue)}function j9(t){return BA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n){this.field=e,this.transform=n}}function Txe(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Xd&&i instanceof Xd||r instanceof Qd&&i instanceof Qd?Yd(r.elements,i.elements,Ms):r instanceof f0&&i instanceof f0?Ms(r.Ae,i.Ae):r instanceof d0&&i instanceof d0})(t.transform,e.transform)}class kxe{constructor(e,n){this.version=e,this.transformResults=n}}class Jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bb{}function V9(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qb(t.key,Jr.none()):new wm(t.key,t.data,Jr.none());{const n=t.data,r=pi.empty();let i=new Wn(Er.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new sc(t.key,r,new Fi(i.toArray()),Jr.none())}}function Axe(t,e,n){t instanceof wm?(function(i,a,s){const l=i.value.clone(),u=T4(i.fieldTransforms,a,s.transformResults);l.setAll(u),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,n):t instanceof sc?(function(i,a,s){if(!Wy(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=T4(i.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(F9(i)),u.setAll(l),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function ap(t,e,n,r){return t instanceof wm?(function(a,s,l,u){if(!Wy(a.precondition,s))return l;const d=a.value.clone(),f=k4(a.fieldTransforms,u,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof sc?(function(a,s,l,u){if(!Wy(a.precondition,s))return l;const d=k4(a.fieldTransforms,u,s),f=s.data;return f.setAll(F9(a)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,s,l){return Wy(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,n)}function Cxe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=M9(r.transform,i||null);a!=null&&(n===null&&(n=pi.empty()),n.set(r.field,a))}return n||null}function S4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yd(r,i,((a,s)=>Txe(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wm extends Bb{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class sc extends Bb{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function F9(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function T4(t,e,n){const r=new Map;Ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);r.set(a.field,Sxe(s,l,n[i]))}return r}function k4(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,Exe(a,s,e))}return r}class qb extends Bb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ixe extends Bb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nxe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Axe(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ap(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ap(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=P9();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(i.key)?null:l;const u=V9(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Je.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),pt())}isEqual(e){return this.batchId===e.batchId&&Yd(this.mutations,e.mutations,((n,r)=>S4(n,r)))&&Yd(this.baseMutations,e.baseMutations,((n,r)=>S4(n,r)))}}class KA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return vxe})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new KA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rxe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pxe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un,yt;function Dxe(t){switch(t){case ve.OK:return Ke(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return Ke(15467,{code:t})}}function z9(t){if(t===void 0)return ko("GRPC error has no .code"),ve.UNKNOWN;switch(t){case Un.OK:return ve.OK;case Un.CANCELLED:return ve.CANCELLED;case Un.UNKNOWN:return ve.UNKNOWN;case Un.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Un.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Un.INTERNAL:return ve.INTERNAL;case Un.UNAVAILABLE:return ve.UNAVAILABLE;case Un.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Un.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Un.NOT_FOUND:return ve.NOT_FOUND;case Un.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Un.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Un.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Un.ABORTED:return ve.ABORTED;case Un.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Un.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Un.DATA_LOSS:return ve.DATA_LOSS;default:return Ke(39323,{code:t})}}(yt=Un||(Un={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mxe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oxe=new Fl([4294967295,4294967295],0);function A4(t){const e=Mxe().encode(t),n=new t9;return n.update(e),new Uint8Array(n.digest())}function C4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Fl([n,r],0),new Fl([i,a],0)]}class YA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yh(`Invalid padding: ${n}`);if(r<0)throw new Yh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Fl.fromNumber(r)));return i.compare(Oxe)===1&&(i=new Fl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=A4(e),[r,i]=C4(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new YA(a,i,n);return r.forEach((l=>s.insert(l))),s}insert(e){if(this.ge===0)return;const n=A4(e),[r,i]=C4(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Em.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $b(Je.min(),i,new dn(ht),Ao(),pt())}}class Em{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Em(r,n,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class B9{constructor(e,n){this.targetId=e,this.Ce=n}}class q9{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class I4{constructor(){this.ve=0,this.Fe=N4(),this.Me=Tr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pt(),n=pt(),r=pt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ke(38017,{changeType:a})}})),new Em(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=N4()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Lxe{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ao(),this.Je=Py(),this.He=Py(),this.Ye=new dn(ht)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(lT(a))if(r===0){const s=new $e(a.path);this.et(n,s,Mr.newNoDocument(s,Je.min()))}else Ct(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const l=this.ut(e),u=l?this.ct(l,e,s):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,l;try{s=Wl(r).toUint8Array()}catch(u){if(u instanceof h9)return Kd("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new YA(s,i,a)}catch(u){return Kd(u instanceof Yh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,s)=>{const l=this.ot(s);if(l){if(a.current&&lT(l.target)){const u=new $e(l.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Mr.newNoDocument(u,e))}a.Be&&(n.set(s,a.ke()),a.qe())}}));let r=pt();this.He.forEach(((a,s)=>{let l=!0;s.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new $b(e,n,this.Ye,this.je,r);return this.je=Ao(),this.Je=Py(),this.He=Py(),this.Ye=new dn(ht),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new I4,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wn(ht),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wn(ht),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new I4),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Py(){return new dn($e.comparator)}function N4(){return new dn($e.comparator)}const jxe={asc:"ASCENDING",desc:"DESCENDING"},Uxe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vxe={and:"AND",or:"OR"};class Fxe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dT(t,e){return t.useProto3Json||jb(e)?e:{value:e}}function h0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zxe(t,e){return h0(t,e.toTimestamp())}function Ss(t){return Ct(!!t,49232),Je.fromTimestamp((function(n){const r=Yl(n);return new tn(r.seconds,r.nanos)})(t))}function WA(t,e){return fT(t,e).canonicalString()}function fT(t,e){const n=(function(i){return new Gt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function H9(t){const e=Gt.fromString(t);return Ct(J9(e),10190,{key:e.toString()}),e}function hT(t,e){return WA(t.databaseId,e.path)}function yE(t,e){const n=H9(e);if(n.get(1)!==t.databaseId.projectId)throw new De(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $e(K9(n))}function G9(t,e){return WA(t.databaseId,e)}function Bxe(t){const e=H9(t);return e.length===4?Gt.emptyPath():K9(e)}function pT(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function K9(t){return Ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function R4(t,e,n){return{name:hT(t,e),fields:n.value.mapValue.fields}}function qxe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ke(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,f){return d.useProto3Json?(Ct(f===void 0||typeof f=="string",58123),Tr.fromBase64String(f||"")):(Ct(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Tr.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(d){const f=d.code===void 0?ve.UNKNOWN:z9(d.code);return new De(f,d.message||"")})(s);n=new q9(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yE(t,r.document.name),a=Ss(r.document.updateTime),s=r.document.createTime?Ss(r.document.createTime):Je.min(),l=new pi({mapValue:{fields:r.document.fields}}),u=Mr.newFoundDocument(i,a,s,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Jy(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yE(t,r.document),a=r.readTime?Ss(r.readTime):Je.min(),s=Mr.newNoDocument(i,a),l=r.removedTargetIds||[];n=new Jy([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yE(t,r.document),a=r.removedTargetIds||[];n=new Jy([],a,i,null)}else{if(!("filter"in e))return Ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new Pxe(i,a),l=r.targetId;n=new B9(l,s)}}return n}function $xe(t,e){let n;if(e instanceof wm)n={update:R4(t,e.key,e.value)};else if(e instanceof qb)n={delete:hT(t,e.key)};else if(e instanceof sc)n={update:R4(t,e.key,e.data),updateMask:Zxe(e.fieldMask)};else{if(!(e instanceof Ixe))return Ke(16599,{Vt:e.type});n={verify:hT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const l=s.transform;if(l instanceof d0)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Xd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Qd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof f0)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw Ke(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:zxe(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ke(27497)})(t,e.precondition)),n}function Hxe(t,e){return t&&t.length>0?(Ct(e!==void 0,14353),t.map((n=>(function(i,a){let s=i.updateTime?Ss(i.updateTime):Ss(a);return s.isEqual(Je.min())&&(s=Ss(a)),new kxe(s,i.transformResults||[])})(n,e)))):[]}function Gxe(t,e){return{documents:[G9(t,e.path)]}}function Kxe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=G9(t,i);const a=(function(d){if(d.length!==0)return W9(Fa.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const s=(function(d){if(d.length!==0)return d.map((f=>(function(y){return{field:hd(y.field),direction:Jxe(y.dir)}})(f)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=dT(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function Yxe(t){let e=Bxe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ct(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];n.where&&(a=(function(p){const y=Y9(p);return y instanceof Fa&&E9(y)?y.getFilters():[y]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map((y=>(function(T){return new u0(pd(T.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(y)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let y;return y=typeof p=="object"?p.value:p,jb(y)?null:y})(n.limit));let u=null;n.startAt&&(u=(function(p){const y=!!p.before,v=p.values||[];return new c0(v,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const y=!p.before,v=p.values||[];return new c0(v,y)})(n.endAt)),hxe(e,i,s,a,l,"F",u,d)}function Wxe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Y9(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pd(n.unaryFilter.field);return zn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pd(n.unaryFilter.field);return zn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=pd(n.unaryFilter.field);return zn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=pd(n.unaryFilter.field);return zn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ke(61313);default:return Ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zn.create(pd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ke(58110);default:return Ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Fa.create(n.compositeFilter.filters.map((r=>Y9(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke(1026)}})(n.compositeFilter.op))})(t):Ke(30097,{filter:t})}function Jxe(t){return jxe[t]}function Xxe(t){return Uxe[t]}function Qxe(t){return Vxe[t]}function hd(t){return{fieldPath:t.canonicalString()}}function pd(t){return Er.fromServerFormat(t.fieldPath)}function W9(t){return t instanceof zn?(function(n){if(n.op==="=="){if(v4(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NAN"}};if(y4(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v4(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NOT_NAN"}};if(y4(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hd(n.field),op:Xxe(n.op),value:n.value}}})(t):t instanceof Fa?(function(n){const r=n.getFilters().map((i=>W9(i)));return r.length===1?r[0]:{compositeFilter:{op:Qxe(n.op),filters:r}}})(t):Ke(54877,{filter:t})}function Zxe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function J9(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n,r,i,a=Je.min(),s=Je.min(),l=Tr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Pl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_e{constructor(e){this.yt=e}}function t_e(t){const e=Yxe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_e{constructor(){this.Cn=new r_e}addToCollectionParentIndex(e,n){return this.Cn.add(n),_e.resolve()}getCollectionParents(e,n){return _e.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return _e.resolve()}deleteFieldIndex(e,n){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,n){return _e.resolve()}getDocumentsMatchingTarget(e,n){return _e.resolve(null)}getIndexType(e,n){return _e.resolve(0)}getFieldIndexes(e,n){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,n){return _e.resolve(Kl.min())}getMinOffsetFromCollectionGroup(e,n){return _e.resolve(Kl.min())}updateCollectionGroup(e,n,r){return _e.resolve()}updateIndexEntries(e,n){return _e.resolve()}}class r_e{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wn(Gt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wn(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X9=41943040;class hi{static withCacheSize(e){return new hi(e,hi.DEFAULT_COLLECTION_PERCENTILE,hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hi.DEFAULT_COLLECTION_PERCENTILE=10,hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hi.DEFAULT=new hi(X9,hi.DEFAULT_COLLECTION_PERCENTILE,hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hi.DISABLED=new hi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zd(0)}static cr(){return new Zd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="LruGarbageCollector",i_e=1048576;function M4([t,e],[n,r]){const i=ht(t,n);return i===0?ht(e,r):i}class a_e{constructor(e){this.Ir=e,this.buffer=new Wn(M4),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();M4(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class s_e{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Me(D4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yf(n)?Me(D4,"Ignoring IndexedDB error during garbage collection: ",n):await gf(n)}await this.Vr(3e5)}))}}class o_e{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return _e.resolve(Lb.ce);const r=new a_e(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(P4)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P4):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,l,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),dd()<=ft.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function l_e(t,e){return new o_e(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_e{constructor(){this.changes=new du((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?_e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_e{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_e{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&ap(r.mutation,i,Fi.empty(),tn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,pt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=pt()){const i=qc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let s=Kh();return a.forEach(((l,u)=>{s=s.insert(l,u.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=qc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,pt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,l)=>{n.set(s,l)}))}))}computeViews(e,n,r,i){let a=Ao();const s=ip(),l=(function(){return ip()})();return n.forEach(((u,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof sc)?a=a.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),ap(f.mutation,d,f.mutation.getFieldMask(),tn.now())):s.set(d.key,Fi.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((d,f)=>s.set(d,f))),n.forEach(((d,f)=>l.set(d,new u_e(f,s.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=ip();let i=new dn(((s,l)=>s-l)),a=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const l of s)l.keys().forEach((u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||Fi.empty();f=l.applyToLocalView(d,f),r.set(u,f);const p=(i.get(l.batchId)||pt()).add(u);i=i.insert(l.batchId,p)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,p=P9();f.forEach((y=>{if(!a.has(y)){const v=V9(n.get(y),r.get(y));v!==null&&p.set(y,v),a=a.add(y)}})),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return _e.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return $e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):_e.resolve(qc());let l=Dp,u=a;return s.next((d=>_e.forEach(d,((f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(f)?_e.resolve():this.remoteDocumentCache.getEntry(e,f).next((y=>{u=u.insert(f,y)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,u,d,pt()))).next((f=>({batchId:l,changes:R9(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $e(n)).next((r=>{let i=Kh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Kh();return this.indexManager.getCollectionParents(e,a).next((l=>_e.forEach(l,(u=>{const d=(function(p,y){return new _m(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((p,y)=>{s=s.insert(p,y)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((s=>{a.forEach(((u,d)=>{const f=d.getKey();s.get(f)===null&&(s=s.insert(f,Mr.newInvalidDocument(f)))}));let l=Kh();return s.forEach(((u,d)=>{const f=a.get(u);f!==void 0&&ap(f.mutation,d,Fi.empty(),tn.now()),Fb(n,d)&&(l=l.insert(u,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_e{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return _e.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ss(i.createTime)}})(n)),_e.resolve()}getNamedQuery(e,n){return _e.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:t_e(i.bundledQuery),readTime:Ss(i.readTime)}})(n)),_e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_e{constructor(){this.overlays=new dn($e.comparator),this.qr=new Map}getOverlay(e,n){return _e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qc();return _e.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),_e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),_e.resolve()}getOverlaysForCollection(e,n,r){const i=qc(),a=n.length+1,s=new $e(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new dn(((d,f)=>d-f));const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=a.get(d.largestBatchId);f===null&&(f=qc(),a=a.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=qc(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return _e.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Rxe(n,r));let a=this.qr.get(n);a===void 0&&(a=pt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_e{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,_e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.Qr=new Wn(or.$r),this.Ur=new Wn(or.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new or(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new or(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new $e(new Gt([])),r=new or(n,e),i=new or(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(s=>{this.Gr(s),a.push(s.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new $e(new Gt([])),r=new or(n,e),i=new or(n,e+1);let a=pt();return this.Ur.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const n=new or(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class or{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return $e.comparator(e.key,n.key)||ht(e.Yr,n.Yr)}static Kr(e,n){return ht(e.Yr,n.Yr)||$e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_e{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wn(or.$r)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Nxe(a,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Zr=this.Zr.add(new or(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return _e.resolve(s)}lookupMutationBatch(e,n){return _e.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return _e.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?FA:this.tr-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new or(n,0),i=new or(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(s=>{const l=this.Xr(s.Yr);a.push(l)})),_e.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wn(ht);return n.forEach((i=>{const a=new or(i,0),s=new or(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],(l=>{r=r.add(l.Yr)}))})),_e.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;$e.isDocumentKey(a)||(a=a.child(""));const s=new or(new $e(a),0);let l=new Wn(ht);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Yr)),!0)}),s),_e.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return _e.forEach(n.mutations,(i=>{const a=new or(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new or(n,0),i=this.Zr.firstAfterOrEqual(r);return _e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_e{constructor(e){this.ri=e,this.docs=(function(){return new dn($e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _e.resolve(r?r.document.mutableCopy():Mr.newInvalidDocument(n))}getEntries(e,n){let r=Ao();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Mr.newInvalidDocument(i))})),_e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ao();const s=n.path,l=new $e(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||Hbe($be(f),r)<=0||(i.has(f.key)||Fb(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return _e.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ke(9500)}ii(e,n){return _e.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new y_e(this)}getSize(e){return _e.resolve(this.size)}}class y_e extends c_e{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),_e.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_e{constructor(e){this.persistence=e,this.si=new du((n=>qA(n)),$A),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.oi=0,this._i=new JA,this.targetCount=0,this.ai=Zd.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),_e.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Zd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,_e.resolve()}updateTargetData(e,n){return this.Pr(n),_e.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),_e.waitFor(a).next((()=>i))}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return _e.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),_e.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),_e.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),_e.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return _e.resolve(r)}containsKey(e,n){return _e.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n){this.ui={},this.overlays={},this.ci=new Lb(0),this.li=!1,this.li=!0,this.hi=new p_e,this.referenceDelegate=e(this),this.Pi=new v_e(this),this.indexManager=new n_e,this.remoteDocumentCache=(function(i){return new g_e(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new e_e(n),this.Ii=new f_e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new h_e,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new m_e(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Me("MemoryPersistence","Starting transaction:",e);const i=new b_e(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return _e.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class b_e extends Kbe{constructor(e){super(),this.currentSequenceNumber=e}}class XA{constructor(e){this.persistence=e,this.Ri=new JA,this.Vi=null}static mi(e){return new XA(e)}get fi(){if(this.Vi)return this.Vi;throw Ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),_e.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),_e.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.fi,(r=>{const i=$e.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return _e.or([()=>_e.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class p0{constructor(e,n){this.persistence=e,this.pi=new du((r=>Jbe(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=l_e(this,n)}static mi(e,n){return new p0(e,n)}Ei(){}di(e){return _e.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return _e.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?_e.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(s=>this.br(e,s,n).next((l=>{l||(r++,a.removeEntry(s,Je.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),_e.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ky(e.data.value)),n}br(e,n,r){return _e.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return _e.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=pt(),i=pt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new QA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __e{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Gve()?8:Ybe(Lr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new x_e;return this.Ss(e,n,s).next((l=>{if(a.result=l,this.Vs)return this.bs(e,n,s,l.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(dd()<=ft.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",fd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_e.resolve()):(dd()<=ft.DEBUG&&Me("QueryEngine","Query:",fd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(dd()<=ft.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",fd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Es(n))):_e.resolve())}ys(e,n){if(w4(n))return _e.resolve(null);let r=Es(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=uT(n,null,"F"),r=Es(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=pt(...a);return this.ps.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.Ds(n,l);return this.Cs(n,d,s,u.readTime)?this.ys(e,uT(n,null,"F")):this.vs(e,d,n,u)}))))})))))}ws(e,n,r,i){return w4(n)||i.isEqual(Je.min())?_e.resolve(null):this.ps.getDocuments(e,r).next((a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?_e.resolve(null):(dd()<=ft.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fd(n)),this.vs(e,s,n,qbe(i,Dp)).next((l=>l)))}))}Ds(e,n){let r=new Wn(I9(e));return n.forEach(((i,a)=>{Fb(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return dd()<=ft.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",fd(n)),this.ps.getDocumentsMatchingQuery(e,n,Kl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="LocalStore",w_e=3e8;class E_e{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new dn(ht),this.xs=new du((a=>qA(a)),$A),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d_e(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function S_e(t,e,n,r){return new E_e(t,e,n,r)}async function Z9(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],l=[];let u=pt();for(const d of i){s.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of a){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:s,addedBatchIds:l})))}))}))}function T_e(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,f){const p=d.batch,y=p.keys();let v=_e.resolve();return y.forEach((T=>{v=v.next((()=>f.getEntry(u,T))).next((k=>{const S=d.docVersions.get(T);Ct(S!==null,48541),k.version.compareTo(S)<0&&(p.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),f.addEntry(k)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(u,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=pt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function eq(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function k_e(t,e){const n=Qe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((f,p)=>{const y=i.get(p);if(!y)return;l.push(n.Pi.removeMatchingKeys(a,f.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,f.addedDocuments,p))));let v=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Tr.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),(function(k,S,C){return k.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=w_e?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(y,v,f)&&l.push(n.Pi.updateTargetData(a,v))}));let u=Ao(),d=pt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))})),l.push(A_e(a,s,e.documentUpdates).next((f=>{u=f.ks,d=f.qs}))),!r.isEqual(Je.min())){const f=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(f)}return _e.waitFor(l).next((()=>s.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,u,d))).next((()=>u))})).then((a=>(n.Ms=i,a)))}function A_e(t,e,n){let r=pt(),i=pt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let s=Ao();return n.forEach(((l,u)=>{const d=a.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Je.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):Me(ZA,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{ks:s,qs:i}}))}function C_e(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=FA),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function I_e(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,_e.resolve(i)):n.Pi.allocateTargetId(r).next((s=>(i=new Pl(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function mT(t,e,n){const r=Qe(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!yf(s))throw s;Me(ZA,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function O4(t,e,n){const r=Qe(t);let i=Je.min(),a=pt();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(u,d,f){const p=Qe(u),y=p.xs.get(f);return y!==void 0?_e.resolve(p.Ms.get(y)):p.Pi.getTargetData(d,f)})(r,s,Es(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,l.targetId).next((u=>{a=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:Je.min(),n?a:pt()))).next((l=>(N_e(r,mxe(e),l),{documents:l,Qs:a})))))}function N_e(t,e,n){let r=t.Os.get(e)||Je.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class L4{constructor(){this.activeTargetIds=_xe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R_e{constructor(){this.Mo=new L4,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new L4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_e{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="ConnectivityMonitor";class U4{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Me(j4,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Me(j4,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dy=null;function gT(){return Dy===null?Dy=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dy++,"0x"+Dy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="RestConnection",D_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M_e{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===o0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=gT(),l=this.zo(e,n.toUriEncodedString());Me(vE,`Sending RPC '${e}' ${s}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,a);const{host:d}=new URL(l),f=Os(d);return this.Jo(e,l,u,r,f).then((p=>(Me(vE,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw Kd(vE,`RPC '${e}' ${s} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=D_e[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_e{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="WebChannelConnection";class L_e extends M_e{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=gT();return new Promise(((l,u)=>{const d=new n9;d.setWithCredentials(!0),d.listenOnce(r9.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Gy.NO_ERROR:const p=d.getResponseJson();Me(Nr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),l(p);break;case Gy.TIMEOUT:Me(Nr,`RPC '${e}' ${s} timed out`),u(new De(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Gy.HTTP_ERROR:const y=d.getStatus();if(Me(Nr,`RPC '${e}' ${s} failed with status:`,y,"response text:",d.getResponseText()),y>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const k=(function(C){const R=C.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(R)>=0?R:ve.UNKNOWN})(T.status);u(new De(k,T.message))}else u(new De(ve.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new De(ve.UNAVAILABLE,"Connection failed."));break;default:Ke(9055,{l_:e,streamId:s,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Me(Nr,`RPC '${e}' ${s} completed.`)}}));const f=JSON.stringify(i);Me(Nr,`RPC '${e}' ${s} sending request:`,i),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=gT(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=s9(),l=a9(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=a.join("");Me(Nr,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=s.createWebChannel(f,u);this.I_(p);let y=!1,v=!1;const T=new O_e({Yo:S=>{v?Me(Nr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(y||(Me(Nr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Me(Nr,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),k=(S,C,R)=>{S.listen(C,(I=>{try{R(I)}catch(L){setTimeout((()=>{throw L}),0)}}))};return k(p,Gh.EventType.OPEN,(()=>{v||(Me(Nr,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),k(p,Gh.EventType.CLOSE,(()=>{v||(v=!0,Me(Nr,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(p))})),k(p,Gh.EventType.ERROR,(S=>{v||(v=!0,Kd(Nr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),T.a_(new De(ve.UNAVAILABLE,"The operation could not be completed")))})),k(p,Gh.EventType.MESSAGE,(S=>{var C;if(!v){const R=S.data[0];Ct(!!R,16349);const I=R,L=(I==null?void 0:I.error)||((C=I[0])==null?void 0:C.error);if(L){Me(Nr,`RPC '${e}' stream ${i} received error:`,L);const F=L.status;let j=(function(M){const B=Un[M];if(B!==void 0)return z9(B)})(F),P=L.message;j===void 0&&(j=ve.INTERNAL,P="Unknown error status: "+F+" with message "+L.message),v=!0,T.a_(new De(j,P)),p.close()}else Me(Nr,`RPC '${e}' stream ${i} received:`,R),T.u_(R)}})),k(l,i9.STAT_EVENT,(S=>{S.stat===rT.PROXY?Me(Nr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===rT.NOPROXY&&Me(Nr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function bE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){return new Fxe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="PersistentStream";class nq{constructor(e,n,r,i,a,s,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tq(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(ko(n.toString()),ko("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new De(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Me(V4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Me(V4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class j_e extends nq{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qxe(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Je.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Je.min():s.readTime?Ss(s.readTime):Je.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=pT(this.serializer),n.addTarget=(function(a,s){let l;const u=s.target;if(l=lT(u)?{documents:Gxe(a,u)}:{query:Kxe(a,u).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=$9(a,s.resumeToken);const d=dT(a,s.expectedCount);d!==null&&(l.expectedCount=d)}else if(s.snapshotVersion.compareTo(Je.min())>0){l.readTime=h0(a,s.snapshotVersion.toTimestamp());const d=dT(a,s.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=Wxe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=pT(this.serializer),n.removeTarget=e,this.q_(n)}}class U_e extends nq{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Hxe(e.writeResults,e.commitTime),r=Ss(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=pT(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>$xe(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_e{}class F_e extends V_e{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new De(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Go(e,fT(n,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new De(ve.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Ho(e,fT(n,r),i,s,l,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(ve.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class z_e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ko(n),this.aa=!1):Me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu="RemoteStore";class B_e{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((s=>{r.enqueueAndForget((async()=>{fu(this)&&(Me(nu,"Restarting streams for network reachability change."),await(async function(u){const d=Qe(u);d.Ea.add(4),await Sm(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Gb(d)})(this))}))})),this.Ra=new z_e(r,i)}}async function Gb(t){if(fu(t))for(const e of t.da)await e(!0)}async function Sm(t){for(const e of t.da)await e(!1)}function rq(t,e){const n=Qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rC(n)?nC(n):vf(n).O_()&&tC(n,e))}function eC(t,e){const n=Qe(t),r=vf(n);n.Ia.delete(e),r.O_()&&iq(n,e),n.Ia.size===0&&(r.O_()?r.L_():fu(n)&&n.Ra.set("Unknown"))}function tC(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vf(t).Y_(e)}function iq(t,e){t.Va.Ue(e),vf(t).Z_(e)}function nC(t){t.Va=new Lxe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),vf(t).start(),t.Ra.ua()}function rC(t){return fu(t)&&!vf(t).x_()&&t.Ia.size>0}function fu(t){return Qe(t).Ea.size===0}function aq(t){t.Va=void 0}async function q_e(t){t.Ra.set("Online")}async function $_e(t){t.Ia.forEach(((e,n)=>{tC(t,e)}))}async function H_e(t,e){aq(t),rC(t)?(t.Ra.ha(e),nC(t)):t.Ra.set("Unknown")}async function G_e(t,e,n){if(t.Ra.set("Online"),e instanceof q9&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){Me(nu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await m0(t,r)}else if(e instanceof Jy?t.Va.Ze(e):e instanceof B9?t.Va.st(e):t.Va.tt(e),!n.isEqual(Je.min()))try{const r=await eq(t.localStore);n.compareTo(r)>=0&&await(function(a,s){const l=a.Va.Tt(s);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=a.Ia.get(d);f&&a.Ia.set(d,f.withResumeToken(u.resumeToken,s))}})),l.targetMismatches.forEach(((u,d)=>{const f=a.Ia.get(u);if(!f)return;a.Ia.set(u,f.withResumeToken(Tr.EMPTY_BYTE_STRING,f.snapshotVersion)),iq(a,u);const p=new Pl(f.target,u,d,f.sequenceNumber);tC(a,p)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Me(nu,"Failed to raise snapshot:",r),await m0(t,r)}}async function m0(t,e,n){if(!yf(e))throw e;t.Ea.add(1),await Sm(t),t.Ra.set("Offline"),n||(n=()=>eq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Me(nu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Gb(t)}))}function sq(t,e){return e().catch((n=>m0(t,n,e)))}async function Kb(t){const e=Qe(t),n=Xl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:FA;for(;K_e(e);)try{const i=await C_e(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Y_e(e,i)}catch(i){await m0(e,i)}oq(e)&&lq(e)}function K_e(t){return fu(t)&&t.Ta.length<10}function Y_e(t,e){t.Ta.push(e);const n=Xl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function oq(t){return fu(t)&&!Xl(t).x_()&&t.Ta.length>0}function lq(t){Xl(t).start()}async function W_e(t){Xl(t).ra()}async function J_e(t){const e=Xl(t);for(const n of t.Ta)e.ea(n.mutations)}async function X_e(t,e,n){const r=t.Ta.shift(),i=KA.from(r,e,n);await sq(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Kb(t)}async function Q_e(t,e){e&&Xl(t).X_&&await(async function(r,i){if((function(s){return Dxe(s)&&s!==ve.ABORTED})(i.code)){const a=r.Ta.shift();Xl(r).B_(),await sq(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Kb(r)}})(t,e),oq(t)&&lq(t)}async function F4(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),Me(nu,"RemoteStore received new credentials");const r=fu(n);n.Ea.add(3),await Sm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gb(n)}async function Z_e(t,e){const n=Qe(t);e?(n.Ea.delete(2),await Gb(n)):e||(n.Ea.add(2),await Sm(n),n.Ra.set("Unknown"))}function vf(t){return t.ma||(t.ma=(function(n,r,i){const a=Qe(n);return a.sa(),new j_e(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:q_e.bind(null,t),t_:$_e.bind(null,t),r_:H_e.bind(null,t),H_:G_e.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),rC(t)?nC(t):t.Ra.set("Unknown")):(await t.ma.stop(),aq(t))}))),t.ma}function Xl(t){return t.fa||(t.fa=(function(n,r,i){const a=Qe(n);return a.sa(),new U_e(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:W_e.bind(null,t),r_:Q_e.bind(null,t),ta:J_e.bind(null,t),na:X_e.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Kb(t)):(await t.fa.stop(),t.Ta.length>0&&(Me(nu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,l=new iC(e,n,s,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aC(t,e){if(ko("AsyncQueue",`${e}: ${t}`),yf(t))return new De(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{static emptySet(e){return new Td(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||$e.comparator(n.key,r.key):(n,r)=>$e.comparator(n.key,r.key),this.keyedMap=Kh(),this.sortedSet=new dn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Td)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Td;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.ga=new dn($e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ef{constructor(e,n,r,i,a,s,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach((l=>{s.push({type:0,doc:l})})),new ef(e,n,Td.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ewe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class twe{constructor(){this.queries=B4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Qe(n),a=i.queries;i.queries=B4(),a.forEach(((s,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new De(ve.ABORTED,"Firestore shutting down"))}}function B4(){return new du((t=>C9(t)),Vb)}async function cq(t,e){const n=Qe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new ewe,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=aC(s,`Initialization of query '${fd(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&sC(n)}async function uq(t,e){const n=Qe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nwe(t,e){const n=Qe(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const l of s.Sa)l.Fa(i)&&(r=!0);s.wa=i}}r&&sC(n)}function rwe(t,e,n){const r=Qe(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function sC(t){t.Ca.forEach((e=>{e.next()}))}var yT,q4;(q4=yT||(yT={})).Ma="default",q4.Cache="cache";class dq{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ef(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ef.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e){this.key=e}}class hq{constructor(e){this.key=e}}class iwe{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pt(),this.mutatedKeys=pt(),this.eu=I9(e),this.tu=new Td(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new z4,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,p)=>{const y=i.get(f),v=Fb(this.query,p)?p:null,T=!!y&&this.mutatedKeys.has(y.key),k=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;y&&v?y.data.isEqual(v.data)?T!==k&&(r.track({type:3,doc:v}),S=!0):this.su(y,v)||(r.track({type:2,doc:v}),S=!0,(u&&this.eu(v,u)>0||d&&this.eu(v,d)<0)&&(l=!0)):!y&&v?(r.track({type:0,doc:v}),S=!0):y&&!v&&(r.track({type:1,doc:y}),S=!0,(u||d)&&(l=!0)),S&&(v?(s=s.add(v),a=k?a.add(f):a.delete(f)):(s=s.delete(f),a=a.delete(f)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),a=a.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((f,p)=>(function(v,T){const k=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke(20277,{Rt:S})}};return k(v)-k(T)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,d=u!==this.Za;return this.Za=u,s.length!==0||d?{snapshot:new ef(this.query,e.tu,a,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new hq(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new fq(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=pt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ef.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const oC="SyncEngine";class awe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class swe{constructor(e){this.key=e,this.hu=!1}}class owe{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new du((l=>C9(l)),Vb),this.Iu=new Map,this.Eu=new Set,this.du=new dn($e.comparator),this.Au=new Map,this.Ru=new JA,this.Vu={},this.mu=new Map,this.fu=Zd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lwe(t,e,n=!0){const r=bq(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await pq(r,e,n,!0),i}async function cwe(t,e){const n=bq(t);await pq(n,e,!0,!1)}async function pq(t,e,n,r){const i=await I_e(t.localStore,Es(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await uwe(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&rq(t.remoteStore,i),l}async function uwe(t,e,n,r,i){t.pu=(p,y,v)=>(async function(k,S,C,R){let I=S.view.ru(C);I.Cs&&(I=await O4(k.localStore,S.query,!1).then((({documents:P})=>S.view.ru(P,I))));const L=R&&R.targetChanges.get(S.targetId),F=R&&R.targetMismatches.get(S.targetId)!=null,j=S.view.applyChanges(I,k.isPrimaryClient,L,F);return H4(k,S.targetId,j.au),j.snapshot})(t,p,y,v);const a=await O4(t.localStore,e,!0),s=new iwe(e,a.Qs),l=s.ru(a.documents),u=Em.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=s.applyChanges(l,t.isPrimaryClient,u);H4(t,n,d.au);const f=new awe(e,n,s);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function dwe(t,e,n){const r=Qe(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((s=>!Vb(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mT(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&eC(r.remoteStore,i.targetId),vT(r,i.targetId)})).catch(gf)):(vT(r,i.targetId),await mT(r.localStore,i.targetId,!0))}async function fwe(t,e){const n=Qe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eC(n.remoteStore,r.targetId))}async function hwe(t,e,n){const r=xwe(t);try{const i=await(function(s,l){const u=Qe(s),d=tn.now(),f=l.reduce(((v,T)=>v.add(T.key)),pt());let p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let T=Ao(),k=pt();return u.Ns.getEntries(v,f).next((S=>{T=S,T.forEach(((C,R)=>{R.isValidDocument()||(k=k.add(C))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,T))).next((S=>{p=S;const C=[];for(const R of l){const I=Cxe(R,p.get(R.key).overlayedDocument);I!=null&&C.push(new sc(R.key,I,x9(I.value.mapValue),Jr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,d,C,l)})).next((S=>{y=S;const C=S.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(v,S.batchId,C)}))})).then((()=>({batchId:y.batchId,changes:R9(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,l,u){let d=s.Vu[s.currentUser.toKey()];d||(d=new dn(ht)),d=d.insert(l,u),s.Vu[s.currentUser.toKey()]=d})(r,i.batchId,n),await Tm(r,i.changes),await Kb(r.remoteStore)}catch(i){const a=aC(i,"Failed to persist write");n.reject(a)}}async function mq(t,e){const n=Qe(t);try{const r=await k_e(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=n.Au.get(a);s&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ct(s.hu,14607):i.removedDocuments.size>0&&(Ct(s.hu,42227),s.hu=!1))})),await Tm(n,r,e)}catch(r){await gf(r)}}function $4(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const u=Qe(s);u.onlineState=l;let d=!1;u.queries.forEach(((f,p)=>{for(const y of p.Sa)y.va(l)&&(d=!0)})),d&&sC(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pwe(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new dn($e.comparator);s=s.insert(a,Mr.newNoDocument(a,Je.min()));const l=pt().add(a),u=new $b(Je.min(),new Map,new dn(ht),s,l);await mq(r,u),r.du=r.du.remove(a),r.Au.delete(e),lC(r)}else await mT(r.localStore,e,!1).then((()=>vT(r,e,n))).catch(gf)}async function mwe(t,e){const n=Qe(t),r=e.batch.batchId;try{const i=await T_e(n.localStore,e);yq(n,r,null),gq(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tm(n,i)}catch(i){await gf(i)}}async function gwe(t,e,n){const r=Qe(t);try{const i=await(function(s,l){const u=Qe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next((p=>(Ct(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(d,p)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>u.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);yq(r,e,n),gq(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tm(r,i)}catch(i){await gf(i)}}function gq(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function yq(t,e,n){const r=Qe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function vT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||vq(t,r)}))}function vq(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(eC(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),lC(t))}function H4(t,e,n){for(const r of n)r instanceof fq?(t.Ru.addReference(r.key,e),ywe(t,r)):r instanceof hq?(Me(oC,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||vq(t,r.key)):Ke(19791,{wu:r})}function ywe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Me(oC,"New document in limbo: "+n),t.Eu.add(r),lC(t))}function lC(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new $e(Gt.fromString(e)),r=t.fu.next();t.Au.set(r,new swe(n)),t.du=t.du.insert(n,r),rq(t.remoteStore,new Pl(Es(HA(n.path)),r,"TargetPurposeLimboResolution",Lb.ce))}}async function Tm(t,e,n){const r=Qe(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{s.push(r.pu(u,e,n).then((d=>{var f;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(d){i.push(d);const p=QA.As(u.targetId,d);a.push(p)}})))})),await Promise.all(s),r.Pu.H_(i),await(async function(u,d){const f=Qe(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>_e.forEach(d,(y=>_e.forEach(y.Es,(v=>f.persistence.referenceDelegate.addReference(p,y.targetId,v))).next((()=>_e.forEach(y.ds,(v=>f.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))))))}catch(p){if(!yf(p))throw p;Me(ZA,"Failed to update sequence numbers: "+p)}for(const p of d){const y=p.targetId;if(!p.fromCache){const v=f.Ms.get(y),T=v.snapshotVersion,k=v.withLastLimboFreeSnapshotVersion(T);f.Ms=f.Ms.insert(y,k)}}})(r.localStore,a))}async function vwe(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){Me(oC,"User change. New user:",e.toKey());const r=await Z9(n.localStore,e);n.currentUser=e,(function(a,s){a.mu.forEach((l=>{l.forEach((u=>{u.reject(new De(ve.CANCELLED,s))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tm(n,r.Ls)}}function bwe(t,e){const n=Qe(t),r=n.Au.get(e);if(r&&r.hu)return pt().add(r.key);{let i=pt();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const l=n.Tu.get(s);i=i.unionWith(l.view.nu)}return i}}function bq(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bwe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pwe.bind(null,e),e.Pu.H_=nwe.bind(null,e.eventManager),e.Pu.yu=rwe.bind(null,e.eventManager),e}function xwe(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mwe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gwe.bind(null,e),e}class g0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return S_e(this.persistence,new __e,e.initialUser,this.serializer)}Cu(e){return new Q9(XA.mi,this.serializer)}Du(e){return new R_e}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}g0.provider={build:()=>new g0};class _we extends g0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ct(this.persistence.referenceDelegate instanceof p0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new s_e(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hi.withCacheSize(this.cacheSizeBytes):hi.DEFAULT;return new Q9((r=>p0.mi(r,n)),this.serializer)}}class bT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vwe.bind(null,this.syncEngine),await Z_e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new twe})()}createDatastore(e){const n=Hb(e.databaseInfo.databaseId),r=(function(a){return new L_e(a)})(e.databaseInfo);return(function(a,s,l,u){return new F_e(a,s,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,s,l){return new B_e(r,i,a,s,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>$4(this.syncEngine,n,0)),(function(){return U4.v()?new U4:new P_e})())}createSyncEngine(e,n){return(function(i,a,s,l,u,d,f){const p=new owe(i,a,s,l,u,d);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=Qe(i);Me(nu,"RemoteStore shutting down."),a.Ea.add(5),await Sm(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}bT.provider={build:()=>new bT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ko("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="FirestoreClient";class wwe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pr.UNAUTHENTICATED,this.clientId=VA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{Me(Ql,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(Me(Ql,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=aC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function xE(t,e){t.asyncQueue.verifyOperationInProgress(),Me(Ql,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Z9(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function G4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ewe(t);Me(Ql,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>F4(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>F4(e.remoteStore,i))),t._onlineComponents=e}async function Ewe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Me(Ql,"Using user provided OfflineComponentProvider");try{await xE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Kd("Error using user provided cache. Falling back to memory cache: "+n),await xE(t,new g0)}}else Me(Ql,"Using default OfflineComponentProvider"),await xE(t,new _we(void 0));return t._offlineComponents}async function _q(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Me(Ql,"Using user provided OnlineComponentProvider"),await G4(t,t._uninitializedComponentsProvider._online)):(Me(Ql,"Using default OnlineComponentProvider"),await G4(t,new bT))),t._onlineComponents}function Swe(t){return _q(t).then((e=>e.syncEngine))}async function wq(t){const e=await _q(t),n=e.eventManager;return n.onListen=lwe.bind(null,e.syncEngine),n.onUnlisten=dwe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cwe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fwe.bind(null,e.syncEngine),n}function Twe(t,e,n={}){const r=new mo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,u,d){const f=new xq({next:y=>{f.Nu(),s.enqueueAndForget((()=>uq(a,p)));const v=y.docs.has(l);!v&&y.fromCache?d.reject(new De(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&u&&u.source==="server"?d.reject(new De(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new dq(HA(l.path),f,{includeMetadataChanges:!0,qa:!0});return cq(a,p)})(await wq(t),t.asyncQueue,e,n,r))),r.promise}function kwe(t,e,n={}){const r=new mo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,u,d){const f=new xq({next:y=>{f.Nu(),s.enqueueAndForget((()=>uq(a,p))),y.fromCache&&u.source==="server"?d.reject(new De(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new dq(l,f,{includeMetadataChanges:!0,qa:!0});return cq(a,p)})(await wq(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq="firestore.googleapis.com",Y4=!0;class W4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sq,this.ssl=Y4}else this.host=e.host,this.ssl=e.ssl??Y4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=X9;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<i_e)throw new De(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bbe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Eq(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new De(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new De(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new De(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Pbe;switch(r.type){case"firstParty":return new Lbe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=K4.get(n);r&&(Me("ComponentProvider","Removing Datastore"),K4.delete(n),r.terminate())})(this),Promise.resolve()}}function Awe(t,e,n,r={}){var d;t=va(t,Yb);const i=Os(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Pb(`https://${l}`),Db("Firestore",!0)),a.host!==Sq&&a.host!==l&&Kd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:l,ssl:i,emulatorOptions:r};if(!Eo(u,s)&&(t._setSettings(u),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Pr.MOCK_USER;else{f=HB(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new De(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Pr(y)}t._authCredentials=new Dbe(new l9(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bf(this.firestore,e,this._query)}}class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}toJSON(){return{type:Tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xm(n,Tn._jsonSchema))return new Tn(e,r||null,new $e(Gt.fromString(n.referencePath)))}}Tn._jsonSchemaVersion="firestore/documentReference/1.0",Tn._jsonSchema={type:Bn("string",Tn._jsonSchemaVersion),referencePath:Bn("string")};class zl extends bf{constructor(e,n,r){super(e,n,HA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new $e(e))}withConverter(e){return new zl(this.firestore,e,this._path)}}function tf(t,e,...n){if(t=Ft(t),c9("collection","path",e),t instanceof Yb){const r=Gt.fromString(e,...n);return l4(r),new zl(t,null,r)}{if(!(t instanceof Tn||t instanceof zl))throw new De(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return l4(r),new zl(t.firestore,null,r)}}function bi(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=VA.newId()),c9("doc","path",e),t instanceof Yb){const r=Gt.fromString(e,...n);return o4(r),new Tn(t,null,new $e(r))}{if(!(t instanceof Tn||t instanceof zl))throw new De(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return o4(r),new Tn(t.firestore,t instanceof zl?t.converter:null,new $e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="AsyncQueue";class X4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tq(this,"async_queue_retry"),this._c=()=>{const r=bE();r&&Me(J4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=bE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new mo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yf(e))throw e;Me(J4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ko("INTERNAL UNHANDLED ERROR: ",Q4(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=iC.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ke(47125,{Pc:Q4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Q4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class oc extends Yb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new X4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X4(e),this._firestoreClient=void 0,await e}}}function Cwe(t,e){const n=typeof t=="object"?t:Mb(),r=typeof t=="string"?t:o0,i=bm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=MA("firestore");a&&Awe(i,...a)}return i}function Wb(t){if(t._terminated)throw new De(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Iwe(t),t._firestoreClient}function Iwe(t){var r,i,a;const e=t._freezeSettings(),n=(function(l,u,d,f){return new Zbe(l,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Eq(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new wwe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(Tr.fromBase64String(e))}catch(n){throw new De(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new da(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:da._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xm(e,da._jsonSchema))return da.fromBase64String(e.bytes)}}da._jsonSchemaVersion="firestore/bytes/1.0",da._jsonSchema={type:Bn("string",da._jsonSchemaVersion),bytes:Bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ts._jsonSchemaVersion}}static fromJSON(e){if(xm(e,Ts._jsonSchema))return new Ts(e.latitude,e.longitude)}}Ts._jsonSchemaVersion="firestore/geoPoint/1.0",Ts._jsonSchema={type:Bn("string",Ts._jsonSchemaVersion),latitude:Bn("number"),longitude:Bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ks._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xm(e,ks._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ks(e.vectorValues);throw new De(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ks._jsonSchemaVersion="firestore/vectorValue/1.0",ks._jsonSchema={type:Bn("string",ks._jsonSchemaVersion),vectorValues:Bn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nwe=/^__.*__$/;class Rwe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new sc(e,this.data,this.fieldMask,n,this.fieldTransforms):new wm(e,this.data,n,this.fieldTransforms)}}class Tq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new sc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke(40011,{Ac:t})}}class Jb{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return y0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kq(this.Ac)&&Nwe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Pwe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hb(e)}Cc(e,n,r,i=!1){return new Jb({Ac:e,methodName:n,Dc:r,path:Er.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cm(t){const e=t._freezeSettings(),n=Hb(t._databaseId);return new Pwe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cC(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);fC("Data must be an object, but it was:",s,r);const l=Nq(r,s);let u,d;if(a.merge)u=new Fi(s.fieldMask),d=s.fieldTransforms;else if(a.mergeFields){const f=[];for(const p of a.mergeFields){const y=xT(e,p,n);if(!s.contains(y))throw new De(ve.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Pq(f,y)||f.push(y)}u=new Fi(f),d=s.fieldTransforms.filter((p=>u.covers(p.field)))}else u=null,d=s.fieldTransforms;return new Rwe(new pi(l),u,d)}class Xb extends Am{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xb}}function Aq(t,e,n){return new Jb({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class uC extends Am{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Aq(this,e,!0),r=this.vc.map((a=>hu(a,n))),i=new Xd(r);return new U9(e.path,i)}isEqual(e){return e instanceof uC&&Eo(this.vc,e.vc)}}class dC extends Am{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Aq(this,e,!0),r=this.vc.map((a=>hu(a,n))),i=new Qd(r);return new U9(e.path,i)}isEqual(e){return e instanceof dC&&Eo(this.vc,e.vc)}}function Cq(t,e,n,r){const i=t.Cc(1,e,n);fC("Data must be an object, but it was:",i,r);const a=[],s=pi.empty();ac(r,((u,d)=>{const f=hC(e,u,n);d=Ft(d);const p=i.yc(f);if(d instanceof Xb)a.push(f);else{const y=hu(d,p);y!=null&&(a.push(f),s.set(f,y))}}));const l=new Fi(a);return new Tq(s,l,i.fieldTransforms)}function Iq(t,e,n,r,i,a){const s=t.Cc(1,e,n),l=[xT(e,r,n)],u=[i];if(a.length%2!=0)throw new De(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)l.push(xT(e,a[y])),u.push(a[y+1]);const d=[],f=pi.empty();for(let y=l.length-1;y>=0;--y)if(!Pq(d,l[y])){const v=l[y];let T=u[y];T=Ft(T);const k=s.yc(v);if(T instanceof Xb)d.push(v);else{const S=hu(T,k);S!=null&&(d.push(v),f.set(v,S))}}const p=new Fi(d);return new Tq(f,p,s.fieldTransforms)}function Dwe(t,e,n,r=!1){return hu(n,t.Cc(r?4:3,e))}function hu(t,e){if(Rq(t=Ft(t)))return fC("Unsupported field value:",e,t),Nq(t,e);if(t instanceof Am)return(function(r,i){if(!kq(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const l of r){let u=hu(l,i.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),s++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wxe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=tn.fromDate(r);return{timestampValue:h0(i.serializer,a)}}if(r instanceof tn){const a=new tn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:h0(i.serializer,a)}}if(r instanceof Ts)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof da)return{bytesValue:$9(i.serializer,r._byteString)};if(r instanceof Tn){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:WA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ks)return(function(s,l){return{mapValue:{fields:{[v9]:{stringValue:b9},[l0]:{arrayValue:{values:s.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return GA(l.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Ob(r)}`)})(t,e)}function Nq(t,e){const n={};return f9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ac(t,((r,i)=>{const a=hu(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function Rq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tn||t instanceof Ts||t instanceof da||t instanceof Tn||t instanceof Am||t instanceof ks)}function fC(t,e,n){if(!Rq(n)||!u9(n)){const r=Ob(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function xT(t,e,n){if((e=Ft(e))instanceof km)return e._internalPath;if(typeof e=="string")return hC(t,e);throw y0("Field path arguments must be of type string or ",t,!1,void 0,n)}const Mwe=new RegExp("[~\\*/\\[\\]]");function hC(t,e,n){if(e.search(Mwe)>=0)throw y0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new km(...e.split("."))._internalPath}catch{throw y0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function y0(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||s)&&(u+=" (found",a&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new De(ve.INVALID_ARGUMENT,l+t+u)}function Pq(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Owe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Owe extends Dq{data(){return super.data()}}function pC(t,e){return typeof e=="string"?hC(t,e):e instanceof km?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lwe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mC{}class jwe extends mC{}function Z4(t,e,...n){let r=[];e instanceof mC&&r.push(e),r=r.concat(n),(function(a){const s=a.filter((u=>u instanceof gC)).length,l=a.filter((u=>u instanceof Qb)).length;if(s>1||s>0&&l>0)throw new De(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Qb extends jwe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qb(e,n,r)}_apply(e){const n=this._parse(e);return Mq(e._query,n),new bf(e.firestore,e.converter,cT(e._query,n))}_parse(e){const n=Cm(e.firestore);return(function(a,s,l,u,d,f,p){let y;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new De(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){nj(p,f);const T=[];for(const k of p)T.push(tj(u,a,k));y={arrayValue:{values:T}}}else y=tj(u,a,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||nj(p,f),y=Dwe(l,s,p,f==="in"||f==="not-in");return zn.create(d,f,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ej(t,e,n){const r=e,i=pC("where",t);return Qb._create(i,r,n)}class gC extends mC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gC(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Fa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let s=i;const l=a.getFlattenedFilters();for(const u of l)Mq(s,u),s=cT(s,u)})(e._query,n),new bf(e.firestore,e.converter,cT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tj(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new De(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A9(e)&&n.indexOf("/")!==-1)throw new De(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Gt.fromString(n));if(!$e.isDocumentKey(r))throw new De(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return g4(t,new $e(r))}if(n instanceof Tn)return g4(t,n._key);throw new De(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ob(n)}.`)}function nj(t,e){if(!Array.isArray(t)||t.length===0)throw new De(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Mq(t,e){const n=(function(i,a){for(const s of i)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new De(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Uwe{convertValue(e,n="none"){switch(Jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ac(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[l0].arrayValue)==null?void 0:i.values)==null?void 0:a.map((s=>Sn(s.doubleValue)));return new ks(n)}convertGeoPoint(e){return new Ts(Sn(e.latitude),Sn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ub(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mp(e));default:return null}}convertTimestamp(e){const n=Yl(e);return new tn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Gt.fromString(e);Ct(J9(r),9688,{name:e});const i=new Op(r.get(1),r.get(3)),a=new $e(r.popFirst(5));return i.isEqual(n)||ko(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Wh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kc extends Dq{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Kc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Kc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kc._jsonSchema={type:Bn("string",Kc._jsonSchemaVersion),bundleSource:Bn("string","DocumentSnapshot"),bundleName:Bn("string"),bundle:Bn("string")};class Xy extends Kc{data(e={}){return super.data(e)}}class kd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Xy(this._firestore,this._userDataWriter,r.key,r,new Wh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const u=new Xy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const u=new Xy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:Vwe(l.type),doc:u,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=kd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=VA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Vwe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){t=va(t,Tn);const e=va(t.firestore,oc);return Twe(Wb(e),t._key).then((n=>Fwe(e,t,n)))}kd._jsonSchemaVersion="firestore/querySnapshot/1.0",kd._jsonSchema={type:Bn("string",kd._jsonSchemaVersion),bundleSource:Bn("string","QuerySnapshot"),bundleName:Bn("string"),bundle:Bn("string")};class Oq extends Uwe{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function nf(t){t=va(t,bf);const e=va(t.firestore,oc),n=Wb(e),r=new Oq(e);return Lwe(t._query),kwe(n,t._query).then((i=>new kd(e,r,t,i)))}function bC(t,e,n){t=va(t,Tn);const r=va(t.firestore,oc),i=yC(t.converter,e,n);return Im(r,[cC(Cm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Jr.none())])}function $i(t,e,n,...r){t=va(t,Tn);const i=va(t.firestore,oc),a=Cm(i);let s;return s=typeof(e=Ft(e))=="string"||e instanceof km?Iq(a,"updateDoc",t._key,e,n,r):Cq(a,"updateDoc",t._key,e),Im(i,[s.toMutation(t._key,Jr.exists(!0))])}function xC(t){return Im(va(t.firestore,oc),[new qb(t._key,Jr.none())])}function Lq(t,e){const n=va(t.firestore,oc),r=bi(t),i=yC(t.converter,e);return Im(n,[cC(Cm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jr.exists(!1))]).then((()=>r))}function Im(t,e){return(function(r,i){const a=new mo;return r.asyncQueue.enqueueAndForget((async()=>hwe(await Swe(r),i,a))),a.promise})(Wb(t),e)}function Fwe(t,e,n){const r=n.docs.get(e._key),i=new Oq(t);return new Kc(t,i,e._key,r,new Wh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zwe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Cm(e)}set(e,n,r){this._verifyNotCommitted();const i=_E(e,this._firestore),a=yC(i.converter,n,r),s=cC(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Jr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=_E(e,this._firestore);let s;return s=typeof(n=Ft(n))=="string"||n instanceof km?Iq(this._dataReader,"WriteBatch.update",a._key,n,r,i):Cq(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,Jr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=_E(e,this._firestore);return this._mutations=this._mutations.concat(new qb(n._key,Jr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _E(t,e){if((t=Ft(t)).firestore!==e)throw new De(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function jq(...t){return new uC("arrayUnion",t)}function _C(...t){return new dC("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){return Wb(t=va(t,oc)),new zwe(t,(e=>Im(t,e)))}(function(e,n=!0){(function(i){mf=i})(uu),Gl(new So("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),l=new oc(new Mbe(r.getProvider("auth-internal")),new jbe(s,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new De(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Op(d.options.projectId,f)})(s,i),s);return a={useFetchStreams:n,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),ha(r4,i4,e),ha(r4,i4,"esm2020")})();function Uq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bwe=Uq,Vq=new ym("auth","Firebase",Uq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new OA("@firebase/auth");function qwe(t,...e){v0.logLevel<=ft.WARN&&v0.warn(`Auth (${uu}): ${t}`,...e)}function Qy(t,...e){v0.logLevel<=ft.ERROR&&v0.error(`Auth (${uu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t,...e){throw EC(t,...e)}function As(t,...e){return EC(t,...e)}function Fq(t,e,n){const r={...Bwe(),[e]:n};return new ym("auth","Firebase",r).create(e,{appName:t.name})}function Cs(t){return Fq(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Vq.create(t,...e)}function Be(t,e,...n){if(!t)throw EC(e,...n)}function uo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qy(e),new Error(e)}function Co(t,e){t||uo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function $we(){return rj()==="http:"||rj()==="https:"}function rj(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hwe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($we()||qve()||"connection"in navigator)?navigator.onLine:!0}function Gwe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Co(n>e,"Short delay should be less than long delay!"),this.isMobile=Fve()||$ve()}get(){return Hwe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t,e){Co(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;uo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;uo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;uo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kwe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ywe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Wwe=new Nm(3e4,6e4);function Uo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Vo(t,e,n,r,i={}){return Bq(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const l=vm({key:t.config.apiKey,...s}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...a};return Bve()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Os(t.emulatorConfig.host)&&(d.credentials="include"),zq.fetch()(await qq(t,t.config.apiHost,n,l),d)})}async function Bq(t,e,n){t._canInitEmulator=!1;const r={...Kwe,...e};try{const i=new Xwe(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw My(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw My(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw My(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw My(t,"user-disabled",s);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Fq(t,f,d);za(t,f)}}catch(i){if(i instanceof Ga)throw i;za(t,"network-request-failed",{message:String(i)})}}async function Rm(t,e,n,r,i={}){const a=await Vo(t,e,n,r,i);return"mfaPendingCredential"in a&&za(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function qq(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?SC(t.config,i):`${t.config.apiScheme}://${i}`;return Ywe.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function Jwe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xwe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(As(this.auth,"network-request-failed")),Wwe.get())})}}function My(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=As(t,e,r);return i.customData._tokenResponse=n,i}function ij(t){return t!==void 0&&t.enterprise!==void 0}class Qwe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Jwe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Zwe(t,e){return Vo(t,"GET","/v2/recaptchaConfig",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1e(t,e){return Vo(t,"POST","/v1/accounts:delete",e)}async function x0(t,e){return Vo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t1e(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=TC(r);Be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:sp(wE(i.auth_time)),issuedAtTime:sp(wE(i.iat)),expirationTime:sp(wE(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function wE(t){return Number(t)*1e3}function TC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qy("JWT malformed, contained fewer than 3 sections"),null;try{const i=zB(n);return i?JSON.parse(i):(Qy("Failed to decode base64 JWT payload"),null)}catch(i){return Qy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aj(t){const e=TC(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ga&&n1e(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function n1e({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sp(this.lastLoginAt),this.creationTime=sp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _0(t){var p;const e=t.auth,n=await t.getIdToken(),r=await jp(t,x0(e,{idToken:n}));Be(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(p=i.providerUserInfo)!=null&&p.length?$q(i.providerUserInfo):[],s=a1e(t.providerData,a),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),d=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _T(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function i1e(t){const e=Ft(t);await _0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a1e(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $q(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1e(t,e){const n=await Bq(t,{},async()=>{const r=vm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await qq(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&Os(t.emulatorConfig.host)&&(u.credentials="include"),zq.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function o1e(t,e){return Vo(t,"POST","/v2/accounts:revokeToken",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=aj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await s1e(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Ad;return r&&(Be(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Be(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Be(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ad,this.toJSON())}_performRefresh(){return uo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ma{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new r1e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _T(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await jp(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return t1e(this,e)}reload(){return i1e(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ma({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await jp(this,e1e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:v,providerData:T,stsTokenManager:k}=n;Be(p&&k,e,"internal-error");const S=Ad.fromJSON(this.name,k);Be(typeof p=="string",e,"internal-error"),_l(r,e.name),_l(i,e.name),Be(typeof y=="boolean",e,"internal-error"),Be(typeof v=="boolean",e,"internal-error"),_l(a,e.name),_l(s,e.name),_l(l,e.name),_l(u,e.name),_l(d,e.name),_l(f,e.name);const C=new Ma({uid:p,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:v,photoURL:s,phoneNumber:a,tenantId:l,stsTokenManager:S,createdAt:d,lastLoginAt:f});return T&&Array.isArray(T)&&(C.providerData=T.map(R=>({...R}))),u&&(C._redirectEventId=u),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ad;i.updateFromServerResponse(n);const a=new Ma({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _0(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Be(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?$q(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Ad;l.updateFromIdToken(r);const u=new Ma({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _T(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=new Map;function fo(t){Co(t instanceof Function,"Expected a class definition");let e=sj.get(t);return e?(Co(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hq.type="NONE";const oj=Hq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t,e,n){return`firebase:${t}:${e}:${n}`}class Cd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Zy(this.userKey,i.apiKey,a),this.fullPersistenceKey=Zy("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await x0(this.auth,{idToken:e}).catch(()=>{});return n?Ma._fromGetAccountInfoResponse(this.auth,n,e):null}return Ma._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cd(fo(oj),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||fo(oj);const s=Zy(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(s);if(f){let p;if(typeof f=="string"){const y=await x0(e,{idToken:f}).catch(()=>{});if(!y)break;p=await Ma._fromGetAccountInfoResponse(e,y,f)}else p=Ma._fromJSON(e,f);d!==a&&(l=p),a=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Cd(a,e,r):(a=u[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(s)}catch{}})),new Cd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xq(e))return"Blackberry";if(Qq(e))return"Webos";if(Kq(e))return"Safari";if((e.includes("chrome/")||Yq(e))&&!e.includes("edge/"))return"Chrome";if(Jq(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Gq(t=Lr()){return/firefox\//i.test(t)}function Kq(t=Lr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yq(t=Lr()){return/crios\//i.test(t)}function Wq(t=Lr()){return/iemobile/i.test(t)}function Jq(t=Lr()){return/android/i.test(t)}function Xq(t=Lr()){return/blackberry/i.test(t)}function Qq(t=Lr()){return/webos/i.test(t)}function kC(t=Lr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l1e(t=Lr()){var e;return kC(t)&&!!((e=window.navigator)!=null&&e.standalone)}function c1e(){return Hve()&&document.documentMode===10}function Zq(t=Lr()){return kC(t)||Jq(t)||Qq(t)||Xq(t)||/windows phone/i.test(t)||Wq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(t,e=[]){let n;switch(t){case"Browser":n=lj(Lr());break;case"Worker":n=`${lj(Lr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,l)=>{try{const u=e(a);s(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1e(t,e={}){return Vo(t,"GET","/v2/passwordPolicy",Uo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1e=6;class h1e{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??f1e,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1e{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cj(this),this.idTokenSubscription=new cj(this),this.beforeStateQueue=new u1e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fo(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Cd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await x0(this,{idToken:e}),r=await Ma._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Yr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gwe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(Cs(this));const n=e?Ft(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yr(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d1e(this),n=new h1e(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ym("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await o1e(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fo(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Cd.create(this,[fo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=e8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&qwe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function lc(t){return Ft(t)}class cj{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zve(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m1e(t){Zb=t}function t8(t){return Zb.loadJS(t)}function g1e(){return Zb.recaptchaEnterpriseScript}function y1e(){return Zb.gapiScript}function v1e(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class b1e{constructor(){this.enterprise=new x1e}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class x1e{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _1e="recaptcha-enterprise",n8="NO_RECAPTCHA";class w1e{constructor(e){this.type=_1e,this.auth=lc(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,l)=>{Zwe(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Qwe(u);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,s(d.siteKey)}}).catch(u=>{l(u)})})}function i(a,s,l){const u=window.grecaptcha;ij(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{s(d)}).catch(()=>{s(n8)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new b1e().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(l=>{if(!n&&ij(window.grecaptcha))i(l,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=g1e();u.length!==0&&(u+=l),t8(u).then(()=>{i(l,a,s)}).catch(d=>{s(d)})}}).catch(l=>{s(l)})})}}async function uj(t,e,n,r=!1,i=!1){const a=new w1e(t);let s;if(i)s=n8;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function w0(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await uj(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await uj(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1e(t,e){const n=bm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Eo(a,e??{}))return i;za(i,"already-initialized")}return n.initialize({options:e})}function S1e(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T1e(t,e,n){const r=lc(t);Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=r8(e),{host:s,port:l}=k1e(e),u=l===null?"":`:${l}`,d={url:`${a}//${s}${u}/`},f=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Be(Eo(d,r.config.emulator)&&Eo(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Os(s)?(Pb(`${a}//${s}${u}`),Db("Auth",!0)):A1e()}function r8(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function k1e(t){const e=r8(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:dj(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:dj(s)}}}function dj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function A1e(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return uo("not implemented")}_getIdTokenResponse(e){return uo("not implemented")}_linkToIdToken(e,n){return uo("not implemented")}_getReauthenticationResolver(e){return uo("not implemented")}}async function C1e(t,e){return Vo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1e(t,e){return Rm(t,"POST","/v1/accounts:signInWithPassword",Uo(t,e))}async function N1e(t,e){return Vo(t,"POST","/v1/accounts:sendOobCode",Uo(t,e))}async function R1e(t,e){return N1e(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P1e(t,e){return Rm(t,"POST","/v1/accounts:signInWithEmailLink",Uo(t,e))}async function D1e(t,e){return Rm(t,"POST","/v1/accounts:signInWithEmailLink",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends AC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Up(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Up(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return w0(e,n,"signInWithPassword",I1e);case"emailLink":return P1e(e,{email:this._email,oobCode:this._password});default:za(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return w0(e,r,"signUpPassword",C1e);case"emailLink":return D1e(e,{idToken:n,email:this._email,oobCode:this._password});default:za(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(t,e){return Rm(t,"POST","/v1/accounts:signInWithIdp",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1e="http://localhost";class ru extends AC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ru(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):za("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new ru(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Id(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Id(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Id(e,n)}buildRequest(){const e={requestUri:M1e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1e(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L1e(t){const e=$h(Hh(t)).link,n=e?$h(Hh(e)).deep_link_id:null,r=$h(Hh(t)).deep_link_id;return(r?$h(Hh(r)).link:null)||r||n||e||t}class ex{constructor(e){const n=$h(Hh(e)),r=n.apiKey??null,i=n.oobCode??null,a=O1e(n.mode??null);Be(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=L1e(e);try{return new ex(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.providerId=pu.PROVIDER_ID}static credential(e,n){return Up._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ex.parseLink(n);return Be(r,"argument-error"),Up._fromEmailAndCode(e,r.code,r.tenantId)}}pu.PROVIDER_ID="password";pu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends i8{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends Pm{constructor(){super("facebook.com")}static credential(e){return ru._fromParams({providerId:Al.PROVIDER_ID,signInMethod:Al.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Al.credentialFromTaggedObject(e)}static credentialFromError(e){return Al.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Al.credential(e.oauthAccessToken)}catch{return null}}}Al.FACEBOOK_SIGN_IN_METHOD="facebook.com";Al.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Pm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ru._fromParams({providerId:Cl.PROVIDER_ID,signInMethod:Cl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cl.credentialFromTaggedObject(e)}static credentialFromError(e){return Cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cl.credential(n,r)}catch{return null}}}Cl.GOOGLE_SIGN_IN_METHOD="google.com";Cl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends Pm{constructor(){super("github.com")}static credential(e){return ru._fromParams({providerId:Il.PROVIDER_ID,signInMethod:Il.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Il.credentialFromTaggedObject(e)}static credentialFromError(e){return Il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Il.credential(e.oauthAccessToken)}catch{return null}}}Il.GITHUB_SIGN_IN_METHOD="github.com";Il.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Pm{constructor(){super("twitter.com")}static credential(e,n){return ru._fromParams({providerId:Nl.PROVIDER_ID,signInMethod:Nl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Nl.credentialFromTaggedObject(e)}static credentialFromError(e){return Nl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Nl.credential(n,r)}catch{return null}}}Nl.TWITTER_SIGN_IN_METHOD="twitter.com";Nl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1e(t,e){return Rm(t,"POST","/v1/accounts:signUp",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ma._fromIdTokenResponse(e,r,i),s=fj(r);return new iu({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fj(r);return new iu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0 extends Ga{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,E0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new E0(e,n,r,i)}}function a8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?E0._fromErrorAndOperation(t,a,e,r):a})}async function U1e(t,e,n=!1){const r=await jp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return iu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1e(t,e,n=!1){const{auth:r}=t;if(Yr(r.app))return Promise.reject(Cs(r));const i="reauthenticate";try{const a=await jp(t,a8(r,i,e,t),n);Be(a.idToken,r,"internal-error");const s=TC(a.idToken);Be(s,r,"internal-error");const{sub:l}=s;return Be(t.uid===l,r,"user-mismatch"),iu._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&za(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s8(t,e,n=!1){if(Yr(t.app))return Promise.reject(Cs(t));const r="signIn",i=await a8(t,r,e),a=await iu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function o8(t,e){return s8(lc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1e(t,e,n){var r;Be(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),Be(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Be(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Be(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Be(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l8(t){const e=lc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z1e(t,e,n){if(Yr(t.app))return Promise.reject(Cs(t));const r=lc(t),s=await w0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j1e).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&l8(t),u}),l=await iu._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function B1e(t,e,n){return Yr(t.app)?Promise.reject(Cs(t)):o8(Ft(t),pu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&l8(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1e(t,e,n){const r=lc(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(s,l){Be(l.handleCodeInApp,r,"argument-error"),l&&F1e(r,s,l)}a(i,n),await w0(r,i,"getOobCode",R1e)}function $1e(t,e){const n=ex.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function H1e(t,e,n){if(Yr(t.app))return Promise.reject(Cs(t));const r=Ft(t),i=pu.credentialWithLink(e,n||b0());return Be(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),o8(r,i)}function G1e(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function K1e(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function Y1e(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function W1e(t){return Ft(t).signOut()}const S0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(S0,"1"),this.storage.removeItem(S0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1e=1e3,X1e=10;class u8 extends c8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);c1e()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,X1e):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},J1e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}u8.type="LOCAL";const Q1e=u8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8 extends c8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}d8.type="SESSION";const f8=d8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1e(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async d=>d(n.origin,a)),u=await Z1e(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eEe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,u)=>{const d=CC("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(y.data.response);break;default:clearTimeout(f),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(){return window}function tEe(t){Is().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(){return typeof Is().WorkerGlobalScope<"u"&&typeof Is().importScripts=="function"}async function nEe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rEe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function iEe(){return h8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8="firebaseLocalStorageDb",aEe=1,T0="firebaseLocalStorage",m8="fbase_key";class Dm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nx(t,e){return t.transaction([T0],e?"readwrite":"readonly").objectStore(T0)}function sEe(){const t=indexedDB.deleteDatabase(p8);return new Dm(t).toPromise()}function wT(){const t=indexedDB.open(p8,aEe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(T0,{keyPath:m8})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(T0)?e(r):(r.close(),await sEe(),e(await wT()))})})}async function hj(t,e,n){const r=nx(t,!0).put({[m8]:e,value:n});return new Dm(r).toPromise()}async function oEe(t,e){const n=nx(t,!1).get(e),r=await new Dm(n).toPromise();return r===void 0?null:r.value}function pj(t,e){const n=nx(t,!0).delete(e);return new Dm(n).toPromise()}const lEe=800,cEe=3;class g8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cEe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tx._getInstance(iEe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await nEe(),!this.activeServiceWorker)return;this.sender=new eEe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rEe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wT();return await hj(e,S0,"1"),await pj(e,S0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oEe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=nx(i,!1).getAll();return new Dm(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lEe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g8.type="LOCAL";const uEe=g8;new Nm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dEe(t,e){return e?fo(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC extends AC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Id(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Id(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Id(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fEe(t){return s8(t.auth,new IC(t),t.bypassAuthState)}function hEe(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),V1e(n,new IC(t),t.bypassAuthState)}async function pEe(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),U1e(n,new IC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fEe;case"linkViaPopup":case"linkViaRedirect":return pEe;case"reauthViaPopup":case"reauthViaRedirect":return hEe;default:za(this.auth,"internal-error")}}resolve(e){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mEe=new Nm(2e3,1e4);class vd extends y8{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,vd.currentPopupAction&&vd.currentPopupAction.cancel(),vd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){Co(this.filter.length===1,"Popup operations only handle one event");const e=CC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(As(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(As(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(As(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mEe.get())};e()}}vd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gEe="pendingRedirect",ev=new Map;class yEe extends y8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ev.get(this.auth._key());if(!e){try{const r=await vEe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ev.set(this.auth._key(),e)}return this.bypassAuthState||ev.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vEe(t,e){const n=_Ee(e),r=xEe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function bEe(t,e){ev.set(t._key(),e)}function xEe(t){return fo(t._redirectPersistence)}function _Ee(t){return Zy(gEe,t.config.apiKey,t.name)}async function wEe(t,e,n=!1){if(Yr(t.app))return Promise.reject(Cs(t));const r=lc(t),i=dEe(r,e),s=await new yEe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EEe=600*1e3;class SEe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TEe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!v8(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(As(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EEe&&this.cachedEventUids.clear(),this.cachedEventUids.has(mj(e))}saveEventToCache(e){this.cachedEventUids.add(mj(e)),this.lastProcessedEventTime=Date.now()}}function mj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function v8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TEe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kEe(t,e={}){return Vo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AEe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CEe=/^https?/;async function IEe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kEe(t);for(const n of e)try{if(NEe(n))return}catch{}za(t,"unauthorized-domain")}function NEe(t){const e=b0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!CEe.test(n))return!1;if(AEe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const REe=new Nm(3e4,6e4);function gj(){const t=Is().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PEe(t){return new Promise((e,n)=>{var i,a,s;function r(){gj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gj(),n(As(t,"network-request-failed"))},timeout:REe.get()})}if((a=(i=Is().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=Is().gapi)!=null&&s.load)r();else{const l=v1e("iframefcb");return Is()[l]=()=>{gapi.load?r():n(As(t,"network-request-failed"))},t8(`${y1e()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw tv=null,e})}let tv=null;function DEe(t){return tv=tv||PEe(t),tv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MEe=new Nm(5e3,15e3),OEe="__/auth/iframe",LEe="emulator/auth/iframe",jEe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UEe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VEe(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?SC(e,LEe):`https://${t.config.authDomain}/${OEe}`,r={apiKey:e.apiKey,appName:t.name,v:uu},i=UEe.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${vm(r).slice(1)}`}async function FEe(t){const e=await DEe(t),n=Is().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:VEe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jEe,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=As(t,"network-request-failed"),l=Is().setTimeout(()=>{a(s)},MEe.get());function u(){Is().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zEe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BEe=500,qEe=600,$Ee="_blank",HEe="http://localhost";class yj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GEe(t,e,n,r=BEe,i=qEe){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...zEe,width:r.toString(),height:i.toString(),top:a,left:s},d=Lr().toLowerCase();n&&(l=Yq(d)?$Ee:n),Gq(d)&&(e=e||HEe,u.scrollbars="yes");const f=Object.entries(u).reduce((y,[v,T])=>`${y}${v}=${T},`,"");if(l1e(d)&&l!=="_self")return KEe(e||"",l),new yj(null);const p=window.open(e||"",l,f);Be(p,t,"popup-blocked");try{p.focus()}catch{}return new yj(p)}function KEe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YEe="__/auth/handler",WEe="emulator/auth/handler",JEe=encodeURIComponent("fac");async function vj(t,e,n,r,i,a){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:uu,eventId:i};if(e instanceof i8){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Qve(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))s[f]=p}if(e instanceof Pm){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),d=u?`#${JEe}=${encodeURIComponent(u)}`:"";return`${XEe(t)}?${vm(l).slice(1)}${d}`}function XEe({config:t}){return t.emulator?SC(t,WEe):`https://${t.authDomain}/${YEe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="webStorageSupport";class QEe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f8,this._completeRedirectFn=wEe,this._overrideRedirectResult=bEe}async _openPopup(e,n,r,i){var s;Co((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await vj(e,n,r,b0(),i);return GEe(e,a,CC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await vj(e,n,r,b0(),i);return tEe(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Co(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FEe(e),r=new SEe(e);return n.register("authEvent",i=>(Be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(EE,{type:EE},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[EE];a!==void 0&&n(!!a),za(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IEe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Zq()||Kq()||kC()}}const ZEe=QEe;var bj="@firebase/auth",xj="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eSe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tSe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nSe(t){Gl(new So("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Be(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e8(t)},d=new p1e(r,i,a,u);return S1e(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gl(new So("auth-internal",e=>{const n=lc(e.getProvider("auth").getImmediate());return(r=>new eSe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ha(bj,xj,tSe(t)),ha(bj,xj,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rSe=300,iSe=$B("authIdTokenMaxAge")||rSe;let _j=null;const aSe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iSe)return;const i=n==null?void 0:n.token;_j!==i&&(_j=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sSe(t=Mb()){const e=bm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=E1e(t,{popupRedirectResolver:ZEe,persistence:[uEe,Q1e,f8]}),r=$B("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=aSe(a.toString());K1e(n,s,()=>s(n.currentUser)),G1e(n,l=>s(l))}}const i=BB("auth");return i&&T1e(n,`http://${i}`),n}function oSe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}m1e({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=As("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",oSe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nSe("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8="firebasestorage.googleapis.com",x8="storageBucket",lSe=120*1e3,cSe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn extends Ga{constructor(e,n,r=0){super(SE(e),`Firebase Storage: ${n} (${SE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return SE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gn||(gn={}));function SE(t){return"storage/"+t}function NC(){const t="An unknown error occurred, please check the error payload for server response.";return new yn(gn.UNKNOWN,t)}function uSe(t){return new yn(gn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function dSe(t){return new yn(gn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function fSe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yn(gn.UNAUTHENTICATED,t)}function hSe(){return new yn(gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pSe(t){return new yn(gn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function mSe(){return new yn(gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gSe(){return new yn(gn.CANCELED,"User canceled the upload/download.")}function ySe(t){return new yn(gn.INVALID_URL,"Invalid URL '"+t+"'.")}function vSe(t){return new yn(gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function bSe(){return new yn(gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+x8+"' property when initializing the app?")}function xSe(){return new yn(gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _Se(){return new yn(gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wSe(t){return new yn(gn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ET(t){return new yn(gn.INVALID_ARGUMENT,t)}function _8(){return new yn(gn.APP_DELETED,"The Firebase app was deleted.")}function ESe(t){return new yn(gn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function op(t,e){return new yn(gn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vh(t){throw new yn(gn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=zi.makeFromUrl(e,n)}catch{return new zi(e,"")}if(r.path==="")return r;throw vSe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function d(L){L.path_=decodeURIComponent(L.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${f}/b/${i}/o${y}`,"i"),T={bucket:1,path:3},k=n===b8?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",C=new RegExp(`^https?://${k}/${i}/${S}`,"i"),I=[{regex:l,indices:u,postModify:a},{regex:v,indices:T,postModify:d},{regex:C,indices:{bucket:1,path:2},postModify:d}];for(let L=0;L<I.length;L++){const F=I[L],j=F.regex.exec(e);if(j){const P=j[F.indices.bucket];let U=j[F.indices.path];U||(U=""),r=new zi(P,U),F.postModify(r);break}}if(r==null)throw ySe(e);return r}}class SSe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TSe(t,e,n){let r=1,i=null,a=null,s=!1,l=0;function u(){return l===2}let d=!1;function f(...S){d||(d=!0,e.apply(null,S))}function p(S){i=setTimeout(()=>{i=null,t(v,u())},S)}function y(){a&&clearTimeout(a)}function v(S,...C){if(d){y();return}if(S){y(),f.call(null,S,...C);return}if(u()||s){y(),f.call(null,S,...C);return}r<64&&(r*=2);let I;l===1?(l=2,I=0):I=(r+Math.random())*1e3,p(I)}let T=!1;function k(S){T||(T=!0,y(),!d&&(i!==null?(S||(l=2),clearTimeout(i),p(0)):S||(l=1)))}return p(0),a=setTimeout(()=>{s=!0,k(!0)},n),k}function kSe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ASe(t){return t!==void 0}function CSe(t){return typeof t=="object"&&!Array.isArray(t)}function RC(t){return typeof t=="string"||t instanceof String}function wj(t){return PC()&&t instanceof Blob}function PC(){return typeof Blob<"u"}function Ej(t,e,n,r){if(r<e)throw ET(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ET(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function w8(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Yc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yc||(Yc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ISe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NSe{constructor(e,n,r,i,a,s,l,u,d,f,p,y=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=p,this.retry=y,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,k)=>{this.resolve_=T,this.reject_=k,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Oy(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const l=a.getErrorCode()===Yc.NO_ERROR,u=a.getStatus();if(!l||ISe(u,this.additionalRetryCodes_)&&this.retry){const f=a.getErrorCode()===Yc.ABORT;r(!1,new Oy(!1,null,f));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new Oy(d,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());ASe(u)?a(u):a()}catch(u){s(u)}else if(l!==null){const u=NC();u.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,u)):s(u)}else if(i.canceled){const u=this.appDelete_?_8():gSe();s(u)}else{const u=mSe();s(u)}};this.canceled_?n(!1,new Oy(!1,null,!0)):this.backoffId_=TSe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kSe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Oy{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function RSe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function PSe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DSe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function MSe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function OSe(t,e,n,r,i,a,s=!0,l=!1){const u=w8(t.urlParams),d=t.url+u,f=Object.assign({},t.headers);return DSe(f,e),RSe(f,n),PSe(f,a),MSe(f,r),new NSe(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LSe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jSe(...t){const e=LSe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(PC())return new Blob(t);throw new yn(gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function USe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VSe(t){if(typeof atob>"u")throw wSe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class TE{constructor(e,n){this.data=e,this.contentType=n||null}}function FSe(t,e){switch(t){case xs.RAW:return new TE(E8(e));case xs.BASE64:case xs.BASE64URL:return new TE(S8(t,e));case xs.DATA_URL:return new TE(BSe(e),qSe(e))}throw NC()}function E8(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function zSe(t){let e;try{e=decodeURIComponent(t)}catch{throw op(xs.DATA_URL,"Malformed data URL.")}return E8(e)}function S8(t,e){switch(t){case xs.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw op(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case xs.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw op(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=VSe(e)}catch(i){throw i.message.includes("polyfill")?i:op(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class T8{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw op(xs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=$Se(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function BSe(t){const e=new T8(t);return e.base64?S8(xs.BASE64,e.rest):zSe(e.rest)}function qSe(t){return new T8(t).contentType}function $Se(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){let r=0,i="";wj(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(wj(this.data_)){const r=this.data_,i=USe(r,e,n);return i===null?null:new Rl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Rl(r,!0)}}static getBlob(...e){if(PC()){const n=e.map(r=>r instanceof Rl?r.data_:r);return new Rl(jSe.apply(null,n))}else{const n=e.map(s=>RC(s)?FSe(xs.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let l=0;l<s.length;l++)i[a++]=s[l]}),new Rl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t){let e;try{e=JSON.parse(t)}catch{return null}return CSe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HSe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function GSe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function A8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KSe(t,e){return e}class Gr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||KSe}}let Ly=null;function YSe(t){return!RC(t)||t.length<2?t:A8(t)}function C8(){if(Ly)return Ly;const t=[];t.push(new Gr("bucket")),t.push(new Gr("generation")),t.push(new Gr("metageneration")),t.push(new Gr("name","fullPath",!0));function e(a,s){return YSe(s)}const n=new Gr("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new Gr("size");return i.xform=r,t.push(i),t.push(new Gr("timeCreated")),t.push(new Gr("updated")),t.push(new Gr("md5Hash",null,!0)),t.push(new Gr("cacheControl",null,!0)),t.push(new Gr("contentDisposition",null,!0)),t.push(new Gr("contentEncoding",null,!0)),t.push(new Gr("contentLanguage",null,!0)),t.push(new Gr("contentType",null,!0)),t.push(new Gr("metadata","customMetadata",!0)),Ly=t,Ly}function WSe(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new zi(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function JSe(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return WSe(r,t),r}function I8(t,e,n){const r=k8(e);return r===null?null:JSe(t,r,n)}function XSe(t,e,n,r){const i=k8(e);if(i===null||!RC(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(d=>{const f=t.bucket,p=t.fullPath,y="/b/"+s(f)+"/o/"+s(p),v=DC(y,n,r),T=w8({alt:"media",token:d});return v+T})[0]}function QSe(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class N8{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(t){if(!t)throw NC()}function ZSe(t,e){function n(r,i){const a=I8(t,i,e);return R8(a!==null),a}return n}function eTe(t,e){function n(r,i){const a=I8(t,i,e);return R8(a!==null),XSe(a,i,t.host,t._protocol)}return n}function P8(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=hSe():i=fSe():n.getStatus()===402?i=dSe(t.bucket):n.getStatus()===403?i=pSe(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function tTe(t){const e=P8(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=uSe(t.path)),a.serverResponse=i.serverResponse,a}return n}function nTe(t,e,n){const r=e.fullServerUrl(),i=DC(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,l=new N8(i,a,eTe(t,n),s);return l.errorHandler=tTe(e),l}function rTe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function iTe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=rTe(null,e)),r}function aTe(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let I="";for(let L=0;L<2;L++)I=I+Math.random().toString().slice(2);return I}const u=l();s["Content-Type"]="multipart/related; boundary="+u;const d=iTe(e,r,i),f=QSe(d,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,y=`\r
--`+u+"--",v=Rl.getBlob(p,r,y);if(v===null)throw xSe();const T={name:d.fullPath},k=DC(a,t.host,t._protocol),S="POST",C=t.maxUploadRetryTime,R=new N8(k,S,ZSe(t,n),C);return R.urlParams=T,R.headers=s,R.body=v.uploadData(),R.errorHandler=P8(e),R}class sTe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Vh("cannot .send() more than once");if(Os(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class oTe extends sTe{initXhr(){this.xhr_.responseType="text"}}function D8(){return new oTe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this._service=e,n instanceof zi?this._location=n:this._location=zi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new au(e,n)}get root(){const e=new zi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return A8(this._location.path)}get storage(){return this._service}get parent(){const e=HSe(this._location.path);if(e===null)return null;const n=new zi(this._location.bucket,e);return new au(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ESe(e)}}function lTe(t,e,n){t._throwIfRoot("uploadBytes");const r=aTe(t.storage,t._location,C8(),new Rl(e,!0),n);return t.storage.makeRequestWithTokens(r,D8).then(i=>({metadata:i,ref:t}))}function cTe(t){t._throwIfRoot("getDownloadURL");const e=nTe(t.storage,t._location,C8());return t.storage.makeRequestWithTokens(e,D8).then(n=>{if(n===null)throw _Se();return n})}function uTe(t,e){const n=GSe(t._location.path,e),r=new zi(t._location.bucket,n);return new au(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dTe(t){return/^[A-Za-z]+:\/\//.test(t)}function fTe(t,e){return new au(t,e)}function M8(t,e){if(t instanceof MC){const n=t;if(n._bucket==null)throw bSe();const r=new au(n,n._bucket);return e!=null?M8(r,e):r}else return e!==void 0?uTe(t,e):t}function hTe(t,e){if(e&&dTe(e)){if(t instanceof MC)return fTe(t,e);throw ET("To use ref(service, url), the first argument must be a Storage instance.")}else return M8(t,e)}function Sj(t,e){const n=e==null?void 0:e[x8];return n==null?null:zi.makeFromBucketSpec(n,t)}function pTe(t,e,n,r={}){t.host=`${e}:${n}`;const i=Os(e);i&&(Pb(`https://${t.host}/b`),Db("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:HB(a,t.app.options.projectId))}class MC{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=b8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lSe,this._maxUploadRetryTime=cSe,this._requests=new Set,i!=null?this._bucket=zi.makeFromBucketSpec(i,this._host):this._bucket=Sj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zi.makeFromBucketSpec(this._url,e):this._bucket=Sj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ej("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ej("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new au(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new SSe(_8());{const s=OSe(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Tj="@firebase/storage",kj="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8="storage";function L8(t,e,n){return t=Ft(t),lTe(t,e,n)}function j8(t){return t=Ft(t),cTe(t)}function U8(t,e){return t=Ft(t),hTe(t,e)}function mTe(t=Mb(),e){t=Ft(t);const r=bm(t,O8).getImmediate({identifier:e}),i=MA("storage");return i&&gTe(r,...i),r}function gTe(t,e,n,r={}){pTe(t,e,n,r)}function yTe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new MC(n,r,i,e,uu)}function vTe(){Gl(new So(O8,yTe,"PUBLIC").setMultipleInstances(!0)),ha(Tj,kj,""),ha(Tj,kj,"esm2020")}vTe();const bTe={apiKey:"AIzaSyCdI_a4JK94rFbNCw8OFonvA_KTXE7Lgyw",authDomain:"eltonvanplan.firebaseapp.com",projectId:"eltonvanplan",storageBucket:"eltonvanplan.appspot.com",messagingSenderId:"329886252808",appId:"1:329886252808:web:3921c45dd741b68ef5b6bd"},Mm=YB(bTe),xi=Cwe(Mm),su=sSe(Mm),V8=mTe(Mm),rx=e9(Mm,"europe-west1"),xTe=jo(rx,"aiChat"),_Te=jo(rx,"aiParse"),wTe=jo(rx,"aiDeepResearch"),ETe=jo(rx,"aiToolResponse"),STe=async(t,e,n,r,i)=>{try{return(await xTe({history:t,newMessage:e,systemInstruction:n,imageBase64:r,model:i})).data}catch(a){throw console.error("AI Chat Error:",a),new Error(a.message||"Kunde inte n AI-tjnsten")}},TTe=async(t,e,n,r)=>{try{return(await _Te({input:t,imageBase64:e,systemInstruction:n,model:r})).data}catch(i){return console.error("AI Parse Error:",i),{tasks:[],shoppingItems:[]}}},kTe=async(t,e,n,r,i,a)=>{try{return(await wTe({vehicleDescription:t,imageBase64:e,projectType:n,userSkillLevel:r,detectivePrompt:i||"",plannerPrompt:a||""})).data}catch(s){return console.error("Deep Research Error:",s),{projectName:t.substring(0,30)||"Nytt Projekt",projectType:n||"renovation",vehicleData:{make:t.split(" ")[0]||"Oknd",model:t.split(" ").slice(1).join(" ")||"Modell",year:new Date().getFullYear()-10},initialTasks:[],analysisReport:null,provider:"fallback",error:"AI-tjnster otillgngliga"}}},ATe=async(t,e,n,r)=>{try{return(await ETe({history:t,toolResponses:e,systemInstruction:n,model:r})).data}catch(i){throw console.error("Tool Response Error:",i),new Error(i.message||"Kunde inte skicka verktygsresultat")}},CTe=()=>wve(),ITe=(t,e)=>{let n=`

=== 3. AKTUELL PROJEKTSTATUS (DATA) ===
`;return Array.from(new Set(t.map(i=>i.phase))).forEach(i=>{const a=t.filter(s=>s.phase===i);a.length>0&&(n+=`
--- ${i.toUpperCase()} ---
`,a.forEach(s=>{const l=s.status===dt.DONE?"":s.status===dt.IN_PROGRESS?"":"";n+=`${l} UPPGIFT: ${s.title} (ID: ${s.id})
`,n+=`   Status: ${s.status} | Prio: ${s.priority||"Normal"}
`,n+=`   Beskrivning: ${s.description}
`,n+=`   Ekonomi: Estimat ${s.estimatedCostMin}-${s.estimatedCostMax} kr | Spenderat ${s.actualCost} kr
`,n+=`
`}))}),n},NTe=t=>{let e=`

=== 2. KUNSKAPSBANK & RAPPORTER (FAKTA) ===
`;return t&&Pge.forEach(n=>{n.condition(t)&&(e+=`>>> KRITISK VARNING (BASERAT P DIN BIL): ${n.title} <<<
`,e+=`${n.content}
`,e+=`--------------------------------------------------
`)}),DA.forEach(n=>{e+=`>>> ARTIKEL: ${n.title} (ID: ${n.id}) <<<
`,e+=`Sammanfattning: ${n.summary}
`,e+=`INNEHLL:
${n.content}
`,e+=`--------------------------------------------------
`}),e},RTe=async(t,e,n,r,i,a,s,l,u,d,f)=>{const p=CTe(),v=UB(n,"standard",u),T=d?`

=== ANVNDARENS KUNSKAPSNIV ===
${d==="beginner"?"NYBRJARE: Frklara allt tydligt, ge detaljerade steg-fr-steg instruktioner.":d==="intermediate"?"HEMMAMECK: Balansera mellan DIY och verkstad. Ge praktiska tips.":"CERTIFIERAD: Teknisk och koncis. Fokusera p specs och momentvrden."}`:"",k=f?`

=== PROJEKTTYP ===
${f==="renovation"?"RENOVERING: Fokus p att terstlla till ursprungligt skick.":f==="conversion"?"OMBYGGNAD (CAMPER): Fokus p camper-ombyggnad.":"FRVALTNING: Fokus p lpande underhll och service."}`:"",S=`SYSTEM: ${v}

    ${JS.baseSystemPrompt}

    ${T}
    ${k}

    

=== 1. FORDONSDATA (SPECIFIKATIONER) ===
    ${JSON.stringify(n,null,2)}`+NTe(n)+ITe(r)+`

=== INSTRUKTIONER ===
    Anvnd verktygen fr att ndra i databasen.
    Om anvndaren skickar en bild p en inkpslista, anvnd 'addToShoppingList' fr varje rad.
    Sk p Google fr priser om det saknas.`;try{const C=t.map(I=>({role:I.role,content:I.content,image:I.image}));let R=await STe(C,e,S,l,p);if(R.text&&a(R.text),R.functionCalls&&R.functionCalls.length>0){const I=await s(R.functionCalls),L=[...C,{role:"user",content:e},{role:"model",content:R.text||""}],F=await ATe(L,I.map(j=>({name:j.name,result:j.result})),S,p);F.text&&a(F.text)}}catch(C){console.error("Gemini Error:",C),a(`
 Kunde inte n AI-mekanikern just nu.`)}},F8=async(t,e,n)=>{try{const r=await TTe(t,e,"Du r en expert p att strukturera projektdata fr fordonsrenovering.");return{tasks:r.tasks||[],shoppingItems:r.shoppingItems||[]}}catch(r){return console.error("Gemini Parse Error:",r),{tasks:[],shoppingItems:[]}}},PTe=async(t,e=2)=>(console.warn(" AI Icon Generation is currently disabled - waiting for SDK support"),console.warn("   Users can upload custom icons manually instead"),null),DTe=async(t,e,n,r)=>{const i=n||"renovation",a=r||"intermediate";try{const s=JS.agents.detective.text(t,!!e),l=JS.agents.planner.text("{}",i,a);return await kTe(t,e,i,a,s,l)}catch(s){return console.error("Deep Research Error:",s),{projectName:t.substring(0,30)||"Nytt Projekt",projectType:i,vehicleData:{make:t.split(" ")[0]||"Oknd",model:t.split(" ").slice(1).join(" ")||"Modell",year:new Date().getFullYear()-10},initialTasks:[],analysisReport:null,error:"AI-tjnster otillgngliga"}}},MTe=[{googleSearch:{}},{functionDeclarations:[{name:"addTask",description:"Add task to project"},{name:"updateTask",description:"Update existing task"},{name:"deleteTask",description:"Delete task"},{name:"addToShoppingList",description:"Add shopping item"},{name:"registerPurchase",description:"Mark item as purchased"},{name:"updateShoppingItem",description:"Update shopping item"},{name:"deleteShoppingItem",description:"Delete shopping item"},{name:"createKnowledgeArticle",description:"Save to knowledge base"}]}];function Ls(t){return bi(xi,"projects",t)}const xf=t=>tf(xi,"projects",t,"tasks"),_f=t=>tf(xi,"projects",t,"shoppingList"),OTe=async(t,e)=>{const n=Ay.id;console.log(`Seeding database for project ${n} and owner: ${t} (${e})...`);const r=wC(xi),i=bi(xi,"projects",n),a={...Ay,ownerId:e,ownerEmail:t,created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!0,tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],members:[],invitedEmails:[]};r.set(i,a);const s=xf(n);for(const u of Ay.tasks){const d=bi(s,u.id);r.set(d,u)}const l=_f(n);for(const u of Ay.shoppingItems){const d=bi(l,u.id);r.set(d,u)}await r.commit(),console.log("Database seeded successfully.")},LTe=async(t,e)=>{const n=bi(xi,"users",t),r=await vC(n);if(r.exists())return r.data();{const i=e.split("@")[0],a=i.charAt(0).toUpperCase()+i.slice(1),s={uid:t,email:e,name:a};return await bC(n,s),s}},z8=async(t,e)=>{const n=bi(xi,"users",t);await $i(n,e)},jTe=async(t,e)=>{console.log(" getProjectsForUser called:",{userId:t,userEmail:e});const n=new Map,r=Z4(tf(xi,"projects"),ej("ownerId","==",t)),i=await nf(r);console.log("   Owned projects found:",i.size),i.forEach(u=>{const d=u.data();console.log("    - Owned:",u.id,d.name,"(ownerId:",d.ownerId,")"),n.set(u.id,{id:u.id,...d})});const a=Z4(tf(xi,"projects"),ej("members","array-contains",t)),s=await nf(a);console.log("   Member projects found:",s.size),s.forEach(u=>{const d=u.data();console.log("    - Member:",u.id,d.name),n.set(u.id,{id:u.id,...d})});const l=Array.from(n.values());return console.log(" Total unique projects:",l.length),l},Aj=async t=>{const e=await vC(Ls(t));return e.exists()?{id:e.id,...e.data()}:null},UTe=async(t,e,n,r,i)=>{console.log(" createProject called:",{name:t,model:e,userId:n,userEmail:r});const a=bi(tf(xi,"projects")),s=new Date().getFullYear();let l={make:e.split(" ")[0]||"Oknd",model:e.split(" ").slice(1).join(" ")||"Modell",year:s,prodYear:s,regNo:"",regDate:new Date().toISOString().split("T")[0],status:"I trafik",bodyType:"Skp",passengers:3,inspection:{last:"",next:"",mileage:""},engine:{fuel:"Diesel",power:"",volume:""},gearbox:"Manuell",wheels:{drive:"2WD",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:1,events:0,lastOwnerChange:""}};i!=null&&i.vehicleData&&(l={...l,...i.vehicleData,year:i.vehicleData.year||s,prodYear:i.vehicleData.prodYear||s});const u={id:a.id,name:t||"Nytt Projekt",type:(i==null?void 0:i.type)||"renovation",brand:"vanplan",ownerId:n,ownerEmail:r,created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!1,vehicleData:l,tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:(i==null?void 0:i.knowledgeArticles)||[],customIcon:(i==null?void 0:i.customIcon)||null,members:[],invitedEmails:[],userSkillLevel:i==null?void 0:i.userSkillLevel,nickname:i==null?void 0:i.nickname};if(console.log(" Saving project to Firestore:",{id:u.id,name:u.name,ownerId:u.ownerId,ownerEmail:u.ownerEmail}),await bC(a,u),console.log(" Project saved successfully!"),i!=null&&i.tasks&&i.tasks.length>0){const d=tf(xi,"projects",a.id,"tasks"),f=wC(xi);for(const p of i.tasks){const y=bi(d),v={...p,id:y.id,priority:p.priority||"Medel",phase:p.phase||"Fas 0: Inkp & Analys",estimatedCostMin:p.estimatedCostMin||0,estimatedCostMax:p.estimatedCostMax||0,actualCost:p.actualCost||0};f.set(y,v)}await f.commit()}return u},VTe=async t=>{const e=await nf(xf(t)),n=await nf(_f(t)),r=wC(xi);e.forEach(i=>r.delete(i.ref)),n.forEach(i=>r.delete(i.ref)),r.delete(Ls(t)),await r.commit()},FTe=async(t,e)=>{const n=Ls(t);await $i(n,{fuelLog:e,lastModified:new Date().toISOString()})},zTe=async(t,e)=>{const n=Ls(t);await $i(n,{serviceLog:e,lastModified:new Date().toISOString()})},BTe=async(t,e)=>{const n=Ls(t);await $i(n,{contacts:e,lastModified:new Date().toISOString()})},qTe=async(t,e)=>{const n=Ls(t);await $i(n,{location:e,lastModified:new Date().toISOString()})},$Te=async(t,e)=>{const n=Ls(t);await $i(n,{invitedEmails:jq(e)})},HTe=async(t,e,n)=>{const r=Ls(t);await $i(r,{members:jq(e),invitedEmails:_C(n)})},GTe=async(t,e)=>{const n=Ls(t);await $i(n,{members:_C(e)})},B8=async(t,e)=>{const n=Ls(t);await $i(n,{invitedEmails:_C(e)})},KTe=async t=>(await nf(xf(t))).docs.map(n=>n.data()),YTe=async(t,e)=>{const n=await Lq(xf(t),e);return await $i(n,{id:n.id}),{...e,id:n.id}},WTe=async(t,e,n)=>{const r=bi(xf(t),e);await $i(r,n)},JTe=async(t,e)=>{const n=bi(xf(t),e);await xC(n)},XTe=async t=>(await nf(_f(t))).docs.map(n=>n.data()),QTe=async(t,e)=>{const n=await Lq(_f(t),e);return await $i(n,{id:n.id}),{...e,id:n.id}},ZTe=async(t,e,n)=>{const r=bi(_f(t),e);await $i(r,n)},eke=async(t,e)=>{const n=bi(_f(t),e);await xC(n)},OC=t=>bi(xi,"projects",t,"chat","history"),tke=async t=>{const e=OC(t),n=await vC(e);return n.exists()?n.data().messages||[]:[]},nke=async(t,e)=>{const n=OC(t);await bC(n,{messages:e,lastModified:new Date().toISOString()})},rke=async t=>{const e=OC(t);await xC(e)},xr=[];for(let t=0;t<256;++t)xr.push((t+256).toString(16).slice(1));function ike(t,e=0){return(xr[t[e+0]]+xr[t[e+1]]+xr[t[e+2]]+xr[t[e+3]]+"-"+xr[t[e+4]]+xr[t[e+5]]+"-"+xr[t[e+6]]+xr[t[e+7]]+"-"+xr[t[e+8]]+xr[t[e+9]]+"-"+xr[t[e+10]]+xr[t[e+11]]+xr[t[e+12]]+xr[t[e+13]]+xr[t[e+14]]+xr[t[e+15]]).toLowerCase()}let kE;const ake=new Uint8Array(16);function ske(){if(!kE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");kE=crypto.getRandomValues.bind(crypto)}return kE(ake)}const oke=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Cj={randomUUID:oke};function lke(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??ske();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ike(r)}function Dl(t,e,n){return Cj.randomUUID&&!t?Cj.randomUUID():lke(t)}const cke=async(t,e,n,r)=>{if(!t)throw new Error("No file provided for upload.");const i=t.name.split(".").pop(),a=`${Dl()}.${i}`,s=U8(V8,`receipts/${e}/${n}/${a}`),l=await L8(s,t);return await j8(l.ref)},uke=async(t,e)=>{var p,y;const n=atob(t.split(",")[1]||t),r=((y=(p=t.split(",")[0])==null?void 0:p.match(/:(.*?);/))==null?void 0:y[1])||"image/jpeg",i=new ArrayBuffer(n.length),a=new Uint8Array(i);for(let v=0;v<n.length;v++)a[v]=n.charCodeAt(v);const s=new Blob([i],{type:r}),l=`${Dl()}.${r.split("/")[1]}`,u=U8(V8,`chat-images/${e}/${l}`),d=await L8(u,s);return await j8(d.ref)},dke=(t,e=[])=>{var r;const n=t.vehicleData;return{meta:{project:t.name,exported:new Date().toISOString().split("T")[0],version:"2.0"},vehicle:{identity:{regNo:n.regNo,make:n.make,model:n.model,year:n.year,productionYear:n.prodYear,firstRegistration:n.regDate,vin:n.vin,color:n.color,bodyType:n.bodyType},engine:{code:n.engine.code,type:`${n.engine.volume} ${n.engine.fuel}`,cylinders:n.engine.cylinders,power:n.engine.power,torque:n.engine.torque,cooling:n.engine.cooling,valveTrain:n.engine.valveTrain,carburetor:n.engine.carburetor},specs:{gearbox:n.gearbox,drive:n.wheels.drive,tires:`${n.wheels.tiresFront} / ${n.wheels.boltPattern}`,length:n.dimensions.length,width:n.dimensions.width,wheelbase:n.dimensions.wheelbase,weights:{curb:n.weights.curb,total:n.weights.total,load:n.weights.load,trailer:n.weights.trailer}},status:{current:n.status,lastInspection:n.inspection.last,odometerReading:n.inspection.mileage?parseInt(n.inspection.mileage.replace(/\s/g,"")):void 0}},knowledgeBase:(t.knowledgeArticles||[]).map(i=>({id:i.id,title:i.title,tags:i.tags,summary:i.summary,content:i.content})),tasks:t.tasks.map(i=>({title:i.title,status:i.status,cost:i.actualCost>0?i.actualCost:void 0,estCost:i.estimatedCostMin>0?i.estimatedCostMin===i.estimatedCostMax?`${i.estimatedCostMin} kr`:`${i.estimatedCostMin}-${i.estimatedCostMax} kr`:void 0,phase:i.phase,description:i.description||void 0,checklist:i.subtasks.length>0?i.subtasks.map(a=>a.title):void 0,priority:i.priority||void 0})),shoppingList:t.shoppingItems.map(i=>({name:i.name,estCost:i.estimatedCost,url:i.url,qty:i.quantity})),contacts:e.map(i=>({name:i.name,phone:i.phone,type:i.specialty||i.category})),tips:(r=n.expertAnalysis)!=null&&r.maintenanceNotes?[{title:"Underhllstips",text:n.expertAnalysis.maintenanceNotes}]:[]}},fke=(t,e=[])=>{const n=dke(t,e);let r=`# PROJEKTKONTEXT: ${n.meta.project}

`;if(r+=`## FORDON
`,r+=`**Registreringsnummer:** ${n.vehicle.identity.regNo}
`,r+=`**Mrke & Modell:** ${n.vehicle.identity.make} ${n.vehicle.identity.model}
`,r+=`**rsmodell:** ${n.vehicle.identity.year} (Tillverkad ${n.vehicle.identity.productionYear})
`,r+=`**Frsta registrering:** ${n.vehicle.identity.firstRegistration}
`,r+=`**Chassinummer:** ${n.vehicle.identity.vin}
`,r+=`**Karosstyp:** ${n.vehicle.identity.bodyType}
`,r+=`**Frg:** ${n.vehicle.identity.color}

`,r+=`## MOTOR
`,n.vehicle.engine.code&&(r+=`**Motorkod:** ${n.vehicle.engine.code}
`),r+=`**Typ:** ${n.vehicle.engine.type}
`,r+=`**Effekt:** ${n.vehicle.engine.power}
`,n.vehicle.engine.cylinders&&(r+=`**Cylindrar:** ${n.vehicle.engine.cylinders}
`),n.vehicle.engine.torque&&(r+=`**Vridmoment:** ${n.vehicle.engine.torque}
`),n.vehicle.engine.carburetor&&(r+=`**Frgasare:** ${n.vehicle.engine.carburetor}
`),r+=`
`,r+=`## SPECIFIKATIONER
`,r+=`**Vxellda:** ${n.vehicle.specs.gearbox}
`,r+=`**Drivning:** ${n.vehicle.specs.drive}
`,r+=`**Dck:** ${n.vehicle.specs.tires}
`,r+=`**Mtt (LB):** ${n.vehicle.specs.length}${n.vehicle.specs.width} mm
`,r+=`**Hjulbas:** ${n.vehicle.specs.wheelbase} mm
`,r+=`**Vikter:**
`,r+=`  - Tjnstevikt: ${n.vehicle.specs.weights.curb} kg
`,r+=`  - Totalvikt: ${n.vehicle.specs.weights.total} kg
`,r+=`  - Lastvikt: ${n.vehicle.specs.weights.load} kg
`,r+=`  - Slpvagnsvikt: ${n.vehicle.specs.weights.trailer} kg

`,r+=`## AKTUELL STATUS
`,r+=`**Trafikstatus:** ${n.vehicle.status.current}
`,r+=`**Senaste besiktning:** ${n.vehicle.status.lastInspection}
`,n.vehicle.status.odometerReading&&(r+=`**Mtarstllning:** ${n.vehicle.status.odometerReading} km
`,n.vehicle.status.odometerNote&&(r+=`**Notering:** ${n.vehicle.status.odometerNote}
`)),r+=`
`,n.knowledgeBase.length>0&&(r+=`## KUNSKAPSBAS (${n.knowledgeBase.length} artiklar)

`,n.knowledgeBase.forEach(i=>{r+=`### ${i.title}
`,r+=`**Tags:** ${i.tags.join(", ")}
`,r+=`**Sammanfattning:** ${i.summary}

`,r+=`${i.content}

`,r+=`---

`})),n.tasks.length>0){r+=`## UPPGIFTER (${n.tasks.length} st)

`;const i={};n.tasks.forEach(a=>{i[a.phase]||(i[a.phase]=[]),i[a.phase].push(a)}),Object.entries(i).forEach(([a,s])=>{r+=`### ${a}
`,s.forEach(l=>{r+=`- **${l.title}** [${l.status}]
`,l.description&&(r+=`  ${l.description}
`),l.cost?r+=`  Kostnad: ${l.cost} kr
`:l.estCost&&(r+=`  Uppskattad kostnad: ${l.estCost}
`),l.checklist&&(r+=`  Checklista:
`,l.checklist.forEach(u=>{r+=`     ${u}
`}))}),r+=`
`})}return n.shoppingList.length>0&&(r+=`## INKPSLISTA (${n.shoppingList.length} artiklar)

`,n.shoppingList.forEach(i=>{r+=`- **${i.name}**`,i.qty&&(r+=` (${i.qty})`),i.estCost&&(r+=` - ${i.estCost} kr`),i.url&&(r+=` [${i.url}]`),r+=`
`}),r+=`
`),n.contacts&&n.contacts.length>0&&(r+=`## KONTAKTER

`,n.contacts.forEach(i=>{r+=`- **${i.name}** (${i.type})
`,r+=`  Tel: ${i.phone}
`}),r+=`
`),n.tips&&n.tips.length>0&&(r+=`## TIPS & VARNINGAR

`,n.tips.forEach(i=>{r+=`**${i.title}:** ${i.text}

`})),r},hke=t=>{const e=t.tasks.length,n=t.tasks.filter(u=>u.status==="Klart").length,r=t.tasks.filter(u=>u.status==="Pgende").length,i=t.tasks.reduce((u,d)=>u+d.estimatedCostMax,0),a=t.tasks.reduce((u,d)=>u+d.actualCost,0),s=t.shoppingItems.reduce((u,d)=>u+(d.actualCost||d.estimatedCost),0),l=t.shoppingItems.filter(u=>u.checked).length;return{tasks:{total:e,completed:n,inProgress:r,remaining:e-n},costs:{estimated:i,actual:a,shopping:s},shopping:{total:t.shoppingItems.length,completed:l}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let pke,mke;function gke(){return{geminiUrl:pke,vertexUrl:mke}}function yke(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=gke();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fo{}function Pe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const l=s.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[l])){const u=t[l];if(Array.isArray(n))for(let d=0;d<u.length;d++){const f=u[d];x(f,e.slice(a+1),n[d])}else for(const d of u)x(d,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const l=s.slice(0,-3);l in t||(t[l]=[{}]);const u=t[l];x(u[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function b(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(l=>b(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function vke(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let l=-1;for(let u=0;u<i.length;u++)if(i[u]==="*"){l=u;break}if(l!==-1&&a.length>l)for(let u=l;u<a.length;u++){const d=a[u];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}ST(t,i,a,0,s)}}function ST(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),l=t;if(s in l&&Array.isArray(l[s]))for(const u of l[s])ST(u,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,l=Object.keys(s).filter(d=>!d.startsWith("_")&&!i.has(d)),u={};for(const d of l)u[d]=s[d];for(const[d,f]of Object.entries(u)){const p=[];for(const y of n.slice(r))y==="*"?p.push(d):p.push(y);x(s,p,f)}for(const d of l)delete s[d]}}else{const s=t;a in s&&ST(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LC(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bke(t){const e={},n=b(t,["operationName"]);n!=null&&x(e,["operationName"],n);const r=b(t,["resourceName"]);return r!=null&&x(e,["_url","resourceName"],r),e}function xke(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["response","generateVideoResponse"]);return s!=null&&x(e,["response"],wke(s)),e}function _ke(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["response"]);return s!=null&&x(e,["response"],Eke(s)),e}function wke(t){const e={},n=b(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Ske(s))),x(e,["generatedVideos"],a)}const r=b(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=b(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function Eke(t){const e={},n=b(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Tke(s))),x(e,["generatedVideos"],a)}const r=b(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=b(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function Ske(t){const e={},n=b(t,["video"]);return n!=null&&x(e,["video"],Rke(n)),e}function Tke(t){const e={},n=b(t,["_self"]);return n!=null&&x(e,["video"],Pke(n)),e}function kke(t){const e={},n=b(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function Ake(t){const e={},n=b(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function Cke(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["response"]);return s!=null&&x(e,["response"],Ike(s)),e}function Ike(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["parent"]);r!=null&&x(e,["parent"],r);const i=b(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function q8(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["response"]);return s!=null&&x(e,["response"],Nke(s)),e}function Nke(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["parent"]);r!=null&&x(e,["parent"],r);const i=b(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function Rke(t){const e={},n=b(t,["uri"]);n!=null&&x(e,["uri"],n);const r=b(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],LC(r));const i=b(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function Pke(t){const e={},n=b(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=b(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],LC(r));const i=b(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ij;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ij||(Ij={}));var Nj;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Nj||(Nj={}));var Rj;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Rj||(Rj={}));var Ml;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ml||(Ml={}));var Pj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Pj||(Pj={}));var Dj;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Dj||(Dj={}));var Mj;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Mj||(Mj={}));var Oj;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Oj||(Oj={}));var Lj;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Lj||(Lj={}));var jj;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(jj||(jj={}));var Uj;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Uj||(Uj={}));var Vj;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Vj||(Vj={}));var Fj;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Fj||(Fj={}));var zj;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(zj||(zj={}));var Bj;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Bj||(Bj={}));var qj;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(qj||(qj={}));var $j;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})($j||($j={}));var Hj;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Hj||(Hj={}));var Gj;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Gj||(Gj={}));var Vp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Vp||(Vp={}));var Kj;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Kj||(Kj={}));var Yj;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Yj||(Yj={}));var Wj;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Wj||(Wj={}));var TT;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(TT||(TT={}));var Jj;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Jj||(Jj={}));var Xj;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Xj||(Xj={}));var Qj;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Qj||(Qj={}));var Zj;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Zj||(Zj={}));var e3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(e3||(e3={}));var t3;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(t3||(t3={}));var n3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(n3||(n3={}));var r3;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(r3||(r3={}));var i3;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(i3||(i3={}));var a3;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(a3||(a3={}));var s3;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(s3||(s3={}));var o3;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(o3||(o3={}));var l3;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(l3||(l3={}));var c3;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(c3||(c3={}));var u3;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(u3||(u3={}));var d3;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(d3||(d3={}));var f3;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(f3||(f3={}));var h3;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(h3||(h3={}));var p3;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(p3||(p3={}));var m3;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(m3||(m3={}));var g3;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(g3||(g3={}));var y3;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(y3||(y3={}));var v3;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(v3||(v3={}));var b3;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(b3||(b3={}));var x3;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(x3||(x3={}));var _3;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(_3||(_3={}));var w3;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(w3||(w3={}));var E3;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(E3||(E3={}));var S3;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(S3||(S3={}));var T3;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(T3||(T3={}));var bd;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(bd||(bd={}));class kT{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Fh{get text(){var e,n,r,i,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const p=[];for(const y of(u=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[v,T]of Object.entries(y))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(T!==null||T!==void 0)&&p.push(v);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;f=!0,d+=y.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,r,i,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const p of(u=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[y,v]of Object.entries(p))y!=="inlineData"&&(v!==null||v!==void 0)&&f.push(y);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(u=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,a,s,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(u=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,a,s,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(u=(l=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class k3{}class A3{}class Dke{}class Mke{}class Oke{}class Lke{}class C3{}class I3{}class N3{}class jke{}class k0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new k0;let i;const a=e;return n?i=_ke(a):i=xke(a),Object.assign(r,i),r}}class R3{}class P3{}class D3{}class M3{}class Uke{}class Vke{}class Fke{}class jC{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new jC,a=Cke(e);return Object.assign(r,a),r}}class zke{}class Bke{}class qke{}class O3{}class $ke{get text(){var e,n,r;let i="",a=!1;const s=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="text"&&u!=="thought"&&d!==null&&s.push(u);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;a=!0,i+=l.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="inlineData"&&u!==null&&a.push(l);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Hke{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class UC{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new UC,a=q8(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _t(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function $8(t,e){const n=_t(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function H8(t){return Array.isArray(t)?t.map(e=>A0(e)):[A0(t)]}function A0(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function G8(t){const e=A0(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function K8(t){const e=A0(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function L3(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Y8(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>L3(e)):[L3(t)]}function AT(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function j3(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function U3(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Or(t){if(t==null)throw new Error("ContentUnion is required");return AT(t)?t:{role:"user",parts:Y8(t)}}function VC(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Or(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Or(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Or(n)):[Or(e)]}function pa(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(j3(t)||U3(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Or(t)]}const e=[],n=[],r=AT(t[0]);for(const i of t){const a=AT(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(j3(i)||U3(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Y8(n)}),e}function Gke(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ml).includes(n[0].toUpperCase())?n[0].toUpperCase():Ml.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ml).includes(r.toUpperCase())?r.toUpperCase():Ml.TYPE_UNSPECIFIED})}}function Nd(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Gke(t.type,e);for(const[s,l]of Object.entries(t))if(l!=null)if(s=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Ml).includes(l.toUpperCase())?l.toUpperCase():Ml.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Nd(l);else if(r.includes(s)){const u=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}u.push(Nd(d))}e[s]=u}else if(i.includes(s)){const u={};for(const[d,f]of Object.entries(l))u[d]=Nd(f);e[s]=u}else{if(s==="additionalProperties")continue;e[s]=l}return e}function FC(t){return Nd(t)}function zC(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function BC(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function wf(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Nd(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Nd(e.response));return t}function Ef(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Kke(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function zo(t,e){if(typeof e!="string")throw new Error("name must be a string");return Kke(t,e,"cachedContents")}function W8(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function cc(t){return LC(t)}function Yke(t){return t!=null&&typeof t=="object"&&"name"in t}function Wke(t){return t!=null&&typeof t=="object"&&"video"in t}function Jke(t){return t!=null&&typeof t=="object"&&"uri"in t}function J8(t){var e;let n;if(Yke(t)&&(n=t.name),!(Jke(t)&&(n=t.uri,n===void 0))&&!(Wke(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function X8(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Q8(t){for(const e of["models","tunedModels","publisherModels"])if(Xke(t,e))return t[e];return[]}function Xke(t,e){return t!==null&&typeof t=="object"&&e in t}function Qke(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Zke(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=Qke(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function Z8(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function eAe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function e$(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const u=s.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Sf(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function t$(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tAe(t){const e={},n=b(t,["responsesFile"]);n!=null&&x(e,["fileName"],n);const r=b(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>OAe(s))),x(e,["inlinedResponses"],a)}const i=b(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["inlinedEmbedContentResponses"],a)}return e}function nAe(t){const e={},n=b(t,["predictionsFormat"]);n!=null&&x(e,["format"],n);const r=b(t,["gcsDestination","outputUriPrefix"]);r!=null&&x(e,["gcsUri"],r);const i=b(t,["bigqueryDestination","outputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function rAe(t){const e={},n=b(t,["format"]);n!=null&&x(e,["predictionsFormat"],n);const r=b(t,["gcsUri"]);r!=null&&x(e,["gcsDestination","outputUriPrefix"],r);const i=b(t,["bigqueryUri"]);if(i!=null&&x(e,["bigqueryDestination","outputUri"],i),b(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(b(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(b(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function nv(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata","displayName"]);r!=null&&x(e,["displayName"],r);const i=b(t,["metadata","state"]);i!=null&&x(e,["state"],t$(i));const a=b(t,["metadata","createTime"]);a!=null&&x(e,["createTime"],a);const s=b(t,["metadata","endTime"]);s!=null&&x(e,["endTime"],s);const l=b(t,["metadata","updateTime"]);l!=null&&x(e,["updateTime"],l);const u=b(t,["metadata","model"]);u!=null&&x(e,["model"],u);const d=b(t,["metadata","output"]);return d!=null&&x(e,["dest"],tAe(e$(d))),e}function CT(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=b(t,["state"]);i!=null&&x(e,["state"],t$(i));const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["createTime"]);s!=null&&x(e,["createTime"],s);const l=b(t,["startTime"]);l!=null&&x(e,["startTime"],l);const u=b(t,["endTime"]);u!=null&&x(e,["endTime"],u);const d=b(t,["updateTime"]);d!=null&&x(e,["updateTime"],d);const f=b(t,["model"]);f!=null&&x(e,["model"],f);const p=b(t,["inputConfig"]);p!=null&&x(e,["src"],iAe(p));const y=b(t,["outputConfig"]);y!=null&&x(e,["dest"],nAe(e$(y)));const v=b(t,["completionStats"]);return v!=null&&x(e,["completionStats"],v),e}function iAe(t){const e={},n=b(t,["instancesFormat"]);n!=null&&x(e,["format"],n);const r=b(t,["gcsSource","uris"]);r!=null&&x(e,["gcsUri"],r);const i=b(t,["bigquerySource","inputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function aAe(t,e){const n={};if(b(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(b(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(b(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=b(e,["fileName"]);r!=null&&x(n,["fileName"],r);const i=b(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>MAe(t,s))),x(n,["requests","requests"],a)}return n}function sAe(t){const e={},n=b(t,["format"]);n!=null&&x(e,["instancesFormat"],n);const r=b(t,["gcsUri"]);r!=null&&x(e,["gcsSource","uris"],r);const i=b(t,["bigqueryUri"]);if(i!=null&&x(e,["bigquerySource","inputUri"],i),b(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(b(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function oAe(t){const e={},n=b(t,["data"]);if(n!=null&&x(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function lAe(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],Sf(t,r)),n}function cAe(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],Sf(t,r)),n}function uAe(t){const e={},n=b(t,["content"]);n!=null&&x(e,["content"],n);const r=b(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],dAe(r));const i=b(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const a=b(t,["finishReason"]);a!=null&&x(e,["finishReason"],a);const s=b(t,["avgLogprobs"]);s!=null&&x(e,["avgLogprobs"],s);const l=b(t,["groundingMetadata"]);l!=null&&x(e,["groundingMetadata"],l);const u=b(t,["index"]);u!=null&&x(e,["index"],u);const d=b(t,["logprobsResult"]);d!=null&&x(e,["logprobsResult"],d);const f=b(t,["safetyRatings"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(v=>v)),x(e,["safetyRatings"],y)}const p=b(t,["urlContextMetadata"]);return p!=null&&x(e,["urlContextMetadata"],p),e}function dAe(t){const e={},n=b(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function n$(t){const e={},n=b(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>BAe(a))),x(e,["parts"],i)}const r=b(t,["role"]);return r!=null&&x(e,["role"],r),e}function fAe(t,e){const n={},r=b(t,["displayName"]);if(e!==void 0&&r!=null&&x(e,["batch","displayName"],r),b(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function hAe(t,e){const n={},r=b(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=b(t,["dest"]);return e!==void 0&&i!=null&&x(e,["outputConfig"],rAe(eAe(i))),n}function V3(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["src"]);i!=null&&x(n,["batch","inputConfig"],aAe(t,Z8(t,i)));const a=b(e,["config"]);return a!=null&&fAe(a,n),n}function pAe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["model"],_t(t,r));const i=b(e,["src"]);i!=null&&x(n,["inputConfig"],sAe(Z8(t,i)));const a=b(e,["config"]);return a!=null&&hAe(a,n),n}function mAe(t,e){const n={},r=b(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["batch","displayName"],r),n}function gAe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["src"]);i!=null&&x(n,["batch","inputConfig"],EAe(t,i));const a=b(e,["config"]);return a!=null&&mAe(a,n),n}function yAe(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],Sf(t,r)),n}function vAe(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],Sf(t,r)),n}function bAe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["name"]);r!=null&&x(e,["name"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);return a!=null&&x(e,["error"],a),e}function xAe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["name"]);r!=null&&x(e,["name"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);return a!=null&&x(e,["error"],a),e}function _Ae(t,e){const n={},r=b(e,["contents"]);if(r!=null){let a=VC(t,r);Array.isArray(a)&&(a=a.map(s=>s)),x(n,["requests[]","request","content"],a)}const i=b(e,["config"]);return i!=null&&(x(n,["_self"],wAe(i,n)),vke(n,{"requests[].*":"requests[].request.*"})),n}function wAe(t,e){const n={},r=b(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=b(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const a=b(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&x(e,["requests[]","outputDimensionality"],a),b(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function EAe(t,e){const n={},r=b(e,["fileName"]);r!=null&&x(n,["file_name"],r);const i=b(e,["inlinedRequests"]);return i!=null&&x(n,["requests"],_Ae(t,i)),n}function SAe(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function TAe(t){const e={},n=b(t,["id"]);n!=null&&x(e,["id"],n);const r=b(t,["args"]);r!=null&&x(e,["args"],r);const i=b(t,["name"]);if(i!=null&&x(e,["name"],i),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kAe(t){const e={},n=b(t,["mode"]);n!=null&&x(e,["mode"],n);const r=b(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),b(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function AAe(t,e,n){const r={},i=b(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],n$(Or(i)));const a=b(e,["temperature"]);a!=null&&x(r,["temperature"],a);const s=b(e,["topP"]);s!=null&&x(r,["topP"],s);const l=b(e,["topK"]);l!=null&&x(r,["topK"],l);const u=b(e,["candidateCount"]);u!=null&&x(r,["candidateCount"],u);const d=b(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const f=b(e,["stopSequences"]);f!=null&&x(r,["stopSequences"],f);const p=b(e,["responseLogprobs"]);p!=null&&x(r,["responseLogprobs"],p);const y=b(e,["logprobs"]);y!=null&&x(r,["logprobs"],y);const v=b(e,["presencePenalty"]);v!=null&&x(r,["presencePenalty"],v);const T=b(e,["frequencyPenalty"]);T!=null&&x(r,["frequencyPenalty"],T);const k=b(e,["seed"]);k!=null&&x(r,["seed"],k);const S=b(e,["responseMimeType"]);S!=null&&x(r,["responseMimeType"],S);const C=b(e,["responseSchema"]);C!=null&&x(r,["responseSchema"],FC(C));const R=b(e,["responseJsonSchema"]);if(R!=null&&x(r,["responseJsonSchema"],R),b(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=b(e,["safetySettings"]);if(n!==void 0&&I!=null){let q=I;Array.isArray(q)&&(q=q.map(z=>qAe(z))),x(n,["safetySettings"],q)}const L=b(e,["tools"]);if(n!==void 0&&L!=null){let q=Ef(L);Array.isArray(q)&&(q=q.map(z=>HAe(wf(z)))),x(n,["tools"],q)}const F=b(e,["toolConfig"]);if(n!==void 0&&F!=null&&x(n,["toolConfig"],$Ae(F)),b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=b(e,["cachedContent"]);n!==void 0&&j!=null&&x(n,["cachedContent"],zo(t,j));const P=b(e,["responseModalities"]);P!=null&&x(r,["responseModalities"],P);const U=b(e,["mediaResolution"]);U!=null&&x(r,["mediaResolution"],U);const M=b(e,["speechConfig"]);if(M!=null&&x(r,["speechConfig"],zC(M)),b(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=b(e,["thinkingConfig"]);B!=null&&x(r,["thinkingConfig"],B);const V=b(e,["imageConfig"]);return V!=null&&x(r,["imageConfig"],DAe(V)),r}function CAe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>uAe(d))),x(e,["candidates"],u)}const i=b(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const a=b(t,["promptFeedback"]);a!=null&&x(e,["promptFeedback"],a);const s=b(t,["responseId"]);s!=null&&x(e,["responseId"],s);const l=b(t,["usageMetadata"]);return l!=null&&x(e,["usageMetadata"],l),e}function IAe(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],Sf(t,r)),n}function NAe(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],Sf(t,r)),n}function RAe(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function PAe(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function DAe(t){const e={},n=b(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=b(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),b(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(b(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function MAe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["request","model"],_t(t,r));const i=b(e,["contents"]);if(i!=null){let l=pa(i);Array.isArray(l)&&(l=l.map(u=>n$(u))),x(n,["request","contents"],l)}const a=b(e,["metadata"]);a!=null&&x(n,["metadata"],a);const s=b(e,["config"]);return s!=null&&x(n,["request","generationConfig"],AAe(t,s,b(n,["request"],{}))),n}function OAe(t){const e={},n=b(t,["response"]);n!=null&&x(e,["response"],CAe(n));const r=b(t,["error"]);return r!=null&&x(e,["error"],r),e}function LAe(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=b(t,["pageToken"]);if(e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),b(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function jAe(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=b(t,["pageToken"]);e!==void 0&&i!=null&&x(e,["_query","pageToken"],i);const a=b(t,["filter"]);return e!==void 0&&a!=null&&x(e,["_query","filter"],a),n}function UAe(t){const e={},n=b(t,["config"]);return n!=null&&LAe(n,e),e}function VAe(t){const e={},n=b(t,["config"]);return n!=null&&jAe(n,e),e}function FAe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>nv(s))),x(e,["batchJobs"],a)}return e}function zAe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>CT(s))),x(e,["batchJobs"],a)}return e}function BAe(t){const e={},n=b(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=b(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=b(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=b(t,["fileData"]);a!=null&&x(e,["fileData"],SAe(a));const s=b(t,["functionCall"]);s!=null&&x(e,["functionCall"],TAe(s));const l=b(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=b(t,["inlineData"]);u!=null&&x(e,["inlineData"],oAe(u));const d=b(t,["text"]);d!=null&&x(e,["text"],d);const f=b(t,["thought"]);f!=null&&x(e,["thought"],f);const p=b(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const y=b(t,["videoMetadata"]);return y!=null&&x(e,["videoMetadata"],y),e}function qAe(t){const e={},n=b(t,["category"]);if(n!=null&&x(e,["category"],n),b(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=b(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function $Ae(t){const e={},n=b(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],kAe(n));const r=b(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function HAe(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),x(e,["functionDeclarations"],f)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=b(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=b(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const s=b(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=b(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],RAe(l));const u=b(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],PAe(u));const d=b(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Io;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Io||(Io={}));class mu{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GAe extends Fo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new mu(Io.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=V3(this.apiClient,e),r=n._url,i=Pe("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,u=l.requests,d=[];for(const f of u){const p=Object.assign({},f);if(p.systemInstruction){const y=p.systemInstruction;delete p.systemInstruction;const v=p.request;v.systemInstruction=y,p.request=v}d.push(p)}return l.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=pAe(this.apiClient,e);return l=Pe("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>CT(f))}else{const d=V3(this.apiClient,e);return l=Pe("{model}:batchGenerateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>nv(f))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=gAe(this.apiClient,e);return a=Pe("{model}:asyncBatchEmbedContent",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>nv(u))}}async get(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=NAe(this.apiClient,e);return l=Pe("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>CT(f))}else{const d=IAe(this.apiClient,e);return l=Pe("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>nv(f))}}async cancel(e){var n,r,i,a;let s="",l={};if(this.apiClient.isVertexAI()){const u=cAe(this.apiClient,e);s=Pe("batchPredictionJobs/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=lAe(this.apiClient,e);s=Pe("batches/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=VAe(e);return l=Pe("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=zAe(f),y=new O3;return Object.assign(y,p),y})}else{const d=UAe(e);return l=Pe("batches",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=FAe(f),y=new O3;return Object.assign(y,p),y})}}async delete(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=vAe(this.apiClient,e);return l=Pe("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>xAe(f))}else{const d=yAe(this.apiClient,e);return l=Pe("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>bAe(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KAe(t){const e={},n=b(t,["data"]);if(n!=null&&x(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function F3(t){const e={},n=b(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>gCe(a))),x(e,["parts"],i)}const r=b(t,["role"]);return r!=null&&x(e,["role"],r),e}function YAe(t,e){const n={},r=b(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=b(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const a=b(t,["displayName"]);e!==void 0&&a!=null&&x(e,["displayName"],a);const s=b(t,["contents"]);if(e!==void 0&&s!=null){let f=pa(s);Array.isArray(f)&&(f=f.map(p=>F3(p))),x(e,["contents"],f)}const l=b(t,["systemInstruction"]);e!==void 0&&l!=null&&x(e,["systemInstruction"],F3(Or(l)));const u=b(t,["tools"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>vCe(p))),x(e,["tools"],f)}const d=b(t,["toolConfig"]);if(e!==void 0&&d!=null&&x(e,["toolConfig"],yCe(d)),b(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function WAe(t,e){const n={},r=b(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=b(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const a=b(t,["displayName"]);e!==void 0&&a!=null&&x(e,["displayName"],a);const s=b(t,["contents"]);if(e!==void 0&&s!=null){let p=pa(s);Array.isArray(p)&&(p=p.map(y=>y)),x(e,["contents"],p)}const l=b(t,["systemInstruction"]);e!==void 0&&l!=null&&x(e,["systemInstruction"],Or(l));const u=b(t,["tools"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>bCe(y))),x(e,["tools"],p)}const d=b(t,["toolConfig"]);e!==void 0&&d!=null&&x(e,["toolConfig"],d);const f=b(t,["kmsKeyName"]);return e!==void 0&&f!=null&&x(e,["encryption_spec","kmsKeyName"],f),n}function JAe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["model"],$8(t,r));const i=b(e,["config"]);return i!=null&&YAe(i,n),n}function XAe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["model"],$8(t,r));const i=b(e,["config"]);return i!=null&&WAe(i,n),n}function QAe(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],zo(t,r)),n}function ZAe(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],zo(t,r)),n}function eCe(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function tCe(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function nCe(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function rCe(t){const e={},n=b(t,["id"]);n!=null&&x(e,["id"],n);const r=b(t,["args"]);r!=null&&x(e,["args"],r);const i=b(t,["name"]);if(i!=null&&x(e,["name"],i),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iCe(t){const e={},n=b(t,["mode"]);n!=null&&x(e,["mode"],n);const r=b(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),b(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function aCe(t){const e={};if(b(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=b(t,["description"]);n!=null&&x(e,["description"],n);const r=b(t,["name"]);r!=null&&x(e,["name"],r);const i=b(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=b(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const s=b(t,["response"]);s!=null&&x(e,["response"],s);const l=b(t,["responseJsonSchema"]);return l!=null&&x(e,["responseJsonSchema"],l),e}function sCe(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],zo(t,r)),n}function oCe(t,e){const n={},r=b(e,["name"]);return r!=null&&x(n,["_url","name"],zo(t,r)),n}function lCe(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function cCe(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function uCe(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=b(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function dCe(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=b(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function fCe(t){const e={},n=b(t,["config"]);return n!=null&&uCe(n,e),e}function hCe(t){const e={},n=b(t,["config"]);return n!=null&&dCe(n,e),e}function pCe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["cachedContents"],a)}return e}function mCe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["cachedContents"],a)}return e}function gCe(t){const e={},n=b(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=b(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=b(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=b(t,["fileData"]);a!=null&&x(e,["fileData"],nCe(a));const s=b(t,["functionCall"]);s!=null&&x(e,["functionCall"],rCe(s));const l=b(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=b(t,["inlineData"]);u!=null&&x(e,["inlineData"],KAe(u));const d=b(t,["text"]);d!=null&&x(e,["text"],d);const f=b(t,["thought"]);f!=null&&x(e,["thought"],f);const p=b(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const y=b(t,["videoMetadata"]);return y!=null&&x(e,["videoMetadata"],y),e}function yCe(t){const e={},n=b(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],iCe(n));const r=b(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function vCe(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),x(e,["functionDeclarations"],f)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=b(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=b(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const s=b(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=b(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],lCe(l));const u=b(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],cCe(u));const d=b(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function bCe(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(y=>aCe(y))),x(e,["functionDeclarations"],p)}const r=b(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=b(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=b(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),b(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=b(t,["codeExecution"]);s!=null&&x(e,["codeExecution"],s);const l=b(t,["enterpriseWebSearch"]);l!=null&&x(e,["enterpriseWebSearch"],l);const u=b(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const d=b(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],d);const f=b(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function xCe(t,e){const n={},r=b(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=b(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function _Ce(t,e){const n={},r=b(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=b(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function wCe(t,e){const n={},r=b(e,["name"]);r!=null&&x(n,["_url","name"],zo(t,r));const i=b(e,["config"]);return i!=null&&xCe(i,n),n}function ECe(t,e){const n={},r=b(e,["name"]);r!=null&&x(n,["_url","name"],zo(t,r));const i=b(e,["config"]);return i!=null&&_Ce(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SCe extends Fo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new mu(Io.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=XAe(this.apiClient,e);return l=Pe("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=JAe(this.apiClient,e);return l=Pe("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=oCe(this.apiClient,e);return l=Pe("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=sCe(this.apiClient,e);return l=Pe("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=ZAe(this.apiClient,e);return l=Pe("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=tCe(f),y=new D3;return Object.assign(y,p),y})}else{const d=QAe(this.apiClient,e);return l=Pe("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=eCe(f),y=new D3;return Object.assign(y,p),y})}}async update(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=ECe(this.apiClient,e);return l=Pe("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=wCe(this.apiClient,e);return l=Pe("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=hCe(e);return l=Pe("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=mCe(f),y=new M3;return Object.assign(y,p),y})}else{const d=fCe(e);return l=Pe("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=pCe(f),y=new M3;return Object.assign(y,p),y})}}}function z3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qt(t){return this instanceof Qt?(this.v=t,this):new Qt(t)}function Rd(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(T){return Promise.resolve(T).then(v,p)}}function l(v,T){r[v]&&(i[v]=function(k){return new Promise(function(S,C){a.push([v,k,S,C])>1||u(v,k)})},T&&(i[v]=T(i[v])))}function u(v,T){try{d(r[v](T))}catch(k){y(a[0][3],k)}}function d(v){v.value instanceof Qt?Promise.resolve(v.value.v).then(f,p):y(a[0][2],v)}function f(v){u("next",v)}function p(v){u("throw",v)}function y(v,T){v(T),a.shift(),a.length&&u(a[0][0],a[0][1])}}function lp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof z3=="function"?z3(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(l,u){s=t[a](s),i(l,u,s.done,s.value)})}}function i(a,s,l,u){Promise.resolve(u).then(function(d){a({value:d,done:l})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TCe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:r$(n)}function r$(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function kCe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function B3(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!r$(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class ACe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new CCe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class CCe{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),kCe(a)}async sendMessage(e){var n;await this.sendPromise;const r=Or(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,l;const u=await i,d=(s=(a=u.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,f=u.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let y=[];f!=null&&(y=(l=f.slice(p))!==null&&l!==void 0?l:[]);const v=d?[d]:[];this.recordHistory(r,v,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Or(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?B3(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Rd(this,arguments,function*(){var s,l,u,d;const f=[];try{for(var p=!0,y=lp(e),v;v=yield Qt(y.next()),s=v.done,!s;p=!0){d=v.value,p=!1;const T=d;if(TCe(T)){const k=(i=(r=T.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;k!==void 0&&f.push(k)}yield yield Qt(T)}}catch(T){l={error:T}}finally{try{!p&&!s&&(u=y.return)&&(yield Qt(u.call(y)))}finally{if(l)throw l.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...B3(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ix extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ix.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ICe(t){const e={},n=b(t,["file"]);return n!=null&&x(e,["file"],n),e}function NCe(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function RCe(t){const e={},n=b(t,["name"]);return n!=null&&x(e,["_url","file"],J8(n)),e}function PCe(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function DCe(t){const e={},n=b(t,["name"]);return n!=null&&x(e,["_url","file"],J8(n)),e}function MCe(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=b(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function OCe(t){const e={},n=b(t,["config"]);return n!=null&&MCe(n,e),e}function LCe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jCe extends Fo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new mu(Io.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=OCe(e);return a=Pe("files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=LCe(u),f=new zke;return Object.assign(f,d),f})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=ICe(e);return a=Pe("upload/v1beta/files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=NCe(u),f=new Bke;return Object.assign(f,d),f})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=DCe(e);return a=Pe("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=RCe(e);return a=Pe("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=PCe(u),f=new qke;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rv(t){const e={},n=b(t,["data"]);if(n!=null&&x(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function UCe(t){const e={},n=b(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>eIe(a))),x(e,["parts"],i)}const r=b(t,["role"]);return r!=null&&x(e,["role"],r),e}function VCe(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function FCe(t){const e={},n=b(t,["id"]);n!=null&&x(e,["id"],n);const r=b(t,["args"]);r!=null&&x(e,["args"],r);const i=b(t,["name"]);if(i!=null&&x(e,["name"],i),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zCe(t){const e={};if(b(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=b(t,["description"]);n!=null&&x(e,["description"],n);const r=b(t,["name"]);r!=null&&x(e,["name"],r);const i=b(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=b(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const s=b(t,["response"]);s!=null&&x(e,["response"],s);const l=b(t,["responseJsonSchema"]);return l!=null&&x(e,["responseJsonSchema"],l),e}function BCe(t){const e={},n=b(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=b(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=b(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const a=b(t,["candidateCount"]);a!=null&&x(e,["candidateCount"],a);const s=b(t,["enableAffectiveDialog"]);s!=null&&x(e,["enableAffectiveDialog"],s);const l=b(t,["frequencyPenalty"]);l!=null&&x(e,["frequencyPenalty"],l);const u=b(t,["logprobs"]);u!=null&&x(e,["logprobs"],u);const d=b(t,["maxOutputTokens"]);d!=null&&x(e,["maxOutputTokens"],d);const f=b(t,["mediaResolution"]);f!=null&&x(e,["mediaResolution"],f);const p=b(t,["presencePenalty"]);p!=null&&x(e,["presencePenalty"],p);const y=b(t,["responseLogprobs"]);y!=null&&x(e,["responseLogprobs"],y);const v=b(t,["responseMimeType"]);v!=null&&x(e,["responseMimeType"],v);const T=b(t,["responseModalities"]);T!=null&&x(e,["responseModalities"],T);const k=b(t,["responseSchema"]);k!=null&&x(e,["responseSchema"],k);const S=b(t,["routingConfig"]);S!=null&&x(e,["routingConfig"],S);const C=b(t,["seed"]);C!=null&&x(e,["seed"],C);const R=b(t,["speechConfig"]);R!=null&&x(e,["speechConfig"],i$(R));const I=b(t,["stopSequences"]);I!=null&&x(e,["stopSequences"],I);const L=b(t,["temperature"]);L!=null&&x(e,["temperature"],L);const F=b(t,["thinkingConfig"]);F!=null&&x(e,["thinkingConfig"],F);const j=b(t,["topK"]);j!=null&&x(e,["topK"],j);const P=b(t,["topP"]);if(P!=null&&x(e,["topP"],P),b(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function qCe(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function $Ce(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function HCe(t,e){const n={},r=b(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=b(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=b(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const s=b(t,["topP"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","topP"],s);const l=b(t,["topK"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topK"],l);const u=b(t,["maxOutputTokens"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","maxOutputTokens"],u);const d=b(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const f=b(t,["seed"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","seed"],f);const p=b(t,["speechConfig"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","speechConfig"],BC(p));const y=b(t,["thinkingConfig"]);e!==void 0&&y!=null&&x(e,["setup","generationConfig","thinkingConfig"],y);const v=b(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],v);const T=b(t,["systemInstruction"]);e!==void 0&&T!=null&&x(e,["setup","systemInstruction"],UCe(Or(T)));const k=b(t,["tools"]);if(e!==void 0&&k!=null){let j=Ef(k);Array.isArray(j)&&(j=j.map(P=>nIe(wf(P)))),x(e,["setup","tools"],j)}const S=b(t,["sessionResumption"]);e!==void 0&&S!=null&&x(e,["setup","sessionResumption"],tIe(S));const C=b(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&x(e,["setup","inputAudioTranscription"],C);const R=b(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&x(e,["setup","outputAudioTranscription"],R);const I=b(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&x(e,["setup","realtimeInputConfig"],I);const L=b(t,["contextWindowCompression"]);e!==void 0&&L!=null&&x(e,["setup","contextWindowCompression"],L);const F=b(t,["proactivity"]);return e!==void 0&&F!=null&&x(e,["setup","proactivity"],F),n}function GCe(t,e){const n={},r=b(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],BCe(r));const i=b(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=b(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const s=b(t,["topP"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","topP"],s);const l=b(t,["topK"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topK"],l);const u=b(t,["maxOutputTokens"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","maxOutputTokens"],u);const d=b(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const f=b(t,["seed"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","seed"],f);const p=b(t,["speechConfig"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","speechConfig"],i$(BC(p)));const y=b(t,["thinkingConfig"]);e!==void 0&&y!=null&&x(e,["setup","generationConfig","thinkingConfig"],y);const v=b(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],v);const T=b(t,["systemInstruction"]);e!==void 0&&T!=null&&x(e,["setup","systemInstruction"],Or(T));const k=b(t,["tools"]);if(e!==void 0&&k!=null){let j=Ef(k);Array.isArray(j)&&(j=j.map(P=>rIe(wf(P)))),x(e,["setup","tools"],j)}const S=b(t,["sessionResumption"]);e!==void 0&&S!=null&&x(e,["setup","sessionResumption"],S);const C=b(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&x(e,["setup","inputAudioTranscription"],C);const R=b(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&x(e,["setup","outputAudioTranscription"],R);const I=b(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&x(e,["setup","realtimeInputConfig"],I);const L=b(t,["contextWindowCompression"]);e!==void 0&&L!=null&&x(e,["setup","contextWindowCompression"],L);const F=b(t,["proactivity"]);return e!==void 0&&F!=null&&x(e,["setup","proactivity"],F),n}function KCe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["setup","model"],_t(t,r));const i=b(e,["config"]);return i!=null&&x(n,["config"],HCe(i,n)),n}function YCe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["setup","model"],_t(t,r));const i=b(e,["config"]);return i!=null&&x(n,["config"],GCe(i,n)),n}function WCe(t){const e={},n=b(t,["musicGenerationConfig"]);return n!=null&&x(e,["musicGenerationConfig"],n),e}function JCe(t){const e={},n=b(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["weightedPrompts"],r)}return e}function XCe(t){const e={},n=b(t,["media"]);if(n!=null){let d=H8(n);Array.isArray(d)&&(d=d.map(f=>rv(f))),x(e,["mediaChunks"],d)}const r=b(t,["audio"]);r!=null&&x(e,["audio"],rv(K8(r)));const i=b(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const a=b(t,["video"]);a!=null&&x(e,["video"],rv(G8(a)));const s=b(t,["text"]);s!=null&&x(e,["text"],s);const l=b(t,["activityStart"]);l!=null&&x(e,["activityStart"],l);const u=b(t,["activityEnd"]);return u!=null&&x(e,["activityEnd"],u),e}function QCe(t){const e={},n=b(t,["media"]);if(n!=null){let d=H8(n);Array.isArray(d)&&(d=d.map(f=>f)),x(e,["mediaChunks"],d)}const r=b(t,["audio"]);r!=null&&x(e,["audio"],K8(r));const i=b(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const a=b(t,["video"]);a!=null&&x(e,["video"],G8(a));const s=b(t,["text"]);s!=null&&x(e,["text"],s);const l=b(t,["activityStart"]);l!=null&&x(e,["activityStart"],l);const u=b(t,["activityEnd"]);return u!=null&&x(e,["activityEnd"],u),e}function ZCe(t){const e={},n=b(t,["setupComplete"]);n!=null&&x(e,["setupComplete"],n);const r=b(t,["serverContent"]);r!=null&&x(e,["serverContent"],r);const i=b(t,["toolCall"]);i!=null&&x(e,["toolCall"],i);const a=b(t,["toolCallCancellation"]);a!=null&&x(e,["toolCallCancellation"],a);const s=b(t,["usageMetadata"]);s!=null&&x(e,["usageMetadata"],iIe(s));const l=b(t,["goAway"]);l!=null&&x(e,["goAway"],l);const u=b(t,["sessionResumptionUpdate"]);return u!=null&&x(e,["sessionResumptionUpdate"],u),e}function eIe(t){const e={},n=b(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=b(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=b(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=b(t,["fileData"]);a!=null&&x(e,["fileData"],VCe(a));const s=b(t,["functionCall"]);s!=null&&x(e,["functionCall"],FCe(s));const l=b(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=b(t,["inlineData"]);u!=null&&x(e,["inlineData"],rv(u));const d=b(t,["text"]);d!=null&&x(e,["text"],d);const f=b(t,["thought"]);f!=null&&x(e,["thought"],f);const p=b(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const y=b(t,["videoMetadata"]);return y!=null&&x(e,["videoMetadata"],y),e}function tIe(t){const e={},n=b(t,["handle"]);if(n!=null&&x(e,["handle"],n),b(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function i$(t){const e={},n=b(t,["languageCode"]);n!=null&&x(e,["languageCode"],n);const r=b(t,["voiceConfig"]);if(r!=null&&x(e,["voiceConfig"],r),b(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function nIe(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),x(e,["functionDeclarations"],f)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=b(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=b(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const s=b(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=b(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],qCe(l));const u=b(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],$Ce(u));const d=b(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function rIe(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(y=>zCe(y))),x(e,["functionDeclarations"],p)}const r=b(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=b(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=b(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),b(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=b(t,["codeExecution"]);s!=null&&x(e,["codeExecution"],s);const l=b(t,["enterpriseWebSearch"]);l!=null&&x(e,["enterpriseWebSearch"],l);const u=b(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const d=b(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],d);const f=b(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function iIe(t){const e={},n=b(t,["promptTokenCount"]);n!=null&&x(e,["promptTokenCount"],n);const r=b(t,["cachedContentTokenCount"]);r!=null&&x(e,["cachedContentTokenCount"],r);const i=b(t,["candidatesTokenCount"]);i!=null&&x(e,["responseTokenCount"],i);const a=b(t,["toolUsePromptTokenCount"]);a!=null&&x(e,["toolUsePromptTokenCount"],a);const s=b(t,["thoughtsTokenCount"]);s!=null&&x(e,["thoughtsTokenCount"],s);const l=b(t,["totalTokenCount"]);l!=null&&x(e,["totalTokenCount"],l);const u=b(t,["promptTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(T=>T)),x(e,["promptTokensDetails"],v)}const d=b(t,["cacheTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(T=>T)),x(e,["cacheTokensDetails"],v)}const f=b(t,["candidatesTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),x(e,["responseTokensDetails"],v)}const p=b(t,["toolUsePromptTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(T=>T)),x(e,["toolUsePromptTokensDetails"],v)}const y=b(t,["trafficType"]);return y!=null&&x(e,["trafficType"],y),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aIe(t){const e={},n=b(t,["data"]);if(n!=null&&x(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function sIe(t){const e={},n=b(t,["content"]);n!=null&&x(e,["content"],n);const r=b(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],oIe(r));const i=b(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const a=b(t,["finishReason"]);a!=null&&x(e,["finishReason"],a);const s=b(t,["avgLogprobs"]);s!=null&&x(e,["avgLogprobs"],s);const l=b(t,["groundingMetadata"]);l!=null&&x(e,["groundingMetadata"],l);const u=b(t,["index"]);u!=null&&x(e,["index"],u);const d=b(t,["logprobsResult"]);d!=null&&x(e,["logprobsResult"],d);const f=b(t,["safetyRatings"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(v=>v)),x(e,["safetyRatings"],y)}const p=b(t,["urlContextMetadata"]);return p!=null&&x(e,["urlContextMetadata"],p),e}function oIe(t){const e={},n=b(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function lIe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["contents"]);if(i!=null){let a=pa(i);Array.isArray(a)&&(a=a.map(s=>s)),x(n,["contents"],a)}return n}function cIe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(e,["tokensInfo"],i)}return e}function uIe(t){const e={},n=b(t,["values"]);n!=null&&x(e,["values"],n);const r=b(t,["statistics"]);return r!=null&&x(e,["statistics"],dIe(r)),e}function dIe(t){const e={},n=b(t,["truncated"]);n!=null&&x(e,["truncated"],n);const r=b(t,["token_count"]);return r!=null&&x(e,["tokenCount"],r),e}function ax(t){const e={},n=b(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>xNe(a))),x(e,["parts"],i)}const r=b(t,["role"]);return r!=null&&x(e,["role"],r),e}function fIe(t){const e={},n=b(t,["controlType"]);n!=null&&x(e,["controlType"],n);const r=b(t,["enableControlImageComputation"]);return r!=null&&x(e,["computeControl"],r),e}function hIe(t){const e={};if(b(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(b(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(b(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function pIe(t,e){const n={},r=b(t,["systemInstruction"]);e!==void 0&&r!=null&&x(e,["systemInstruction"],Or(r));const i=b(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>c$(l))),x(e,["tools"],s)}const a=b(t,["generationConfig"]);return e!==void 0&&a!=null&&x(e,["generationConfig"],aNe(a)),n}function mIe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["contents"]);if(i!=null){let s=pa(i);Array.isArray(s)&&(s=s.map(l=>ax(l))),x(n,["contents"],s)}const a=b(e,["config"]);return a!=null&&hIe(a),n}function gIe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["contents"]);if(i!=null){let s=pa(i);Array.isArray(s)&&(s=s.map(l=>l)),x(n,["contents"],s)}const a=b(e,["config"]);return a!=null&&pIe(a,n),n}function yIe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["totalTokens"]);r!=null&&x(e,["totalTokens"],r);const i=b(t,["cachedContentTokenCount"]);return i!=null&&x(e,["cachedContentTokenCount"],i),e}function vIe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["totalTokens"]);return r!=null&&x(e,["totalTokens"],r),e}function bIe(t,e){const n={},r=b(e,["model"]);return r!=null&&x(n,["_url","name"],_t(t,r)),n}function xIe(t,e){const n={},r=b(e,["model"]);return r!=null&&x(n,["_url","name"],_t(t,r)),n}function _Ie(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function wIe(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function EIe(t,e){const n={},r=b(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=b(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const a=b(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const s=b(t,["aspectRatio"]);e!==void 0&&s!=null&&x(e,["parameters","aspectRatio"],s);const l=b(t,["guidanceScale"]);e!==void 0&&l!=null&&x(e,["parameters","guidanceScale"],l);const u=b(t,["seed"]);e!==void 0&&u!=null&&x(e,["parameters","seed"],u);const d=b(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&x(e,["parameters","safetySetting"],d);const f=b(t,["personGeneration"]);e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f);const p=b(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&x(e,["parameters","includeSafetyAttributes"],p);const y=b(t,["includeRaiReason"]);e!==void 0&&y!=null&&x(e,["parameters","includeRaiReason"],y);const v=b(t,["language"]);e!==void 0&&v!=null&&x(e,["parameters","language"],v);const T=b(t,["outputMimeType"]);e!==void 0&&T!=null&&x(e,["parameters","outputOptions","mimeType"],T);const k=b(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&x(e,["parameters","outputOptions","compressionQuality"],k);const S=b(t,["addWatermark"]);e!==void 0&&S!=null&&x(e,["parameters","addWatermark"],S);const C=b(t,["labels"]);e!==void 0&&C!=null&&x(e,["labels"],C);const R=b(t,["editMode"]);e!==void 0&&R!=null&&x(e,["parameters","editMode"],R);const I=b(t,["baseSteps"]);return e!==void 0&&I!=null&&x(e,["parameters","editConfig","baseSteps"],I),n}function SIe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=b(e,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>kNe(u))),x(n,["instances[0]","referenceImages"],l)}const s=b(e,["config"]);return s!=null&&EIe(s,n),n}function TIe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>sx(a))),x(e,["generatedImages"],i)}return e}function kIe(t,e){const n={},r=b(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=b(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const a=b(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&x(e,["requests[]","outputDimensionality"],a),b(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function AIe(t,e){const n={},r=b(t,["taskType"]);e!==void 0&&r!=null&&x(e,["instances[]","task_type"],r);const i=b(t,["title"]);e!==void 0&&i!=null&&x(e,["instances[]","title"],i);const a=b(t,["outputDimensionality"]);e!==void 0&&a!=null&&x(e,["parameters","outputDimensionality"],a);const s=b(t,["mimeType"]);e!==void 0&&s!=null&&x(e,["instances[]","mimeType"],s);const l=b(t,["autoTruncate"]);return e!==void 0&&l!=null&&x(e,["parameters","autoTruncate"],l),n}function CIe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["contents"]);if(i!=null){let l=VC(t,i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["requests[]","content"],l)}const a=b(e,["config"]);a!=null&&kIe(a,n);const s=b(e,["model"]);return s!==void 0&&x(n,["requests[]","model"],_t(t,s)),n}function IIe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["contents"]);if(i!=null){let s=VC(t,i);Array.isArray(s)&&(s=s.map(l=>l)),x(n,["instances[]","content"],s)}const a=b(e,["config"]);return a!=null&&AIe(a,n),n}function NIe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["embeddings"],a)}const i=b(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function RIe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>uIe(s))),x(e,["embeddings"],a)}const i=b(t,["metadata"]);return i!=null&&x(e,["metadata"],i),e}function PIe(t){const e={},n=b(t,["endpoint"]);n!=null&&x(e,["name"],n);const r=b(t,["deployedModelId"]);return r!=null&&x(e,["deployedModelId"],r),e}function DIe(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function MIe(t){const e={},n=b(t,["id"]);n!=null&&x(e,["id"],n);const r=b(t,["args"]);r!=null&&x(e,["args"],r);const i=b(t,["name"]);if(i!=null&&x(e,["name"],i),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function OIe(t){const e={},n=b(t,["mode"]);n!=null&&x(e,["mode"],n);const r=b(t,["allowedFunctionNames"]);if(r!=null&&x(e,["allowedFunctionNames"],r),b(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function LIe(t){const e={};if(b(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=b(t,["description"]);n!=null&&x(e,["description"],n);const r=b(t,["name"]);r!=null&&x(e,["name"],r);const i=b(t,["parameters"]);i!=null&&x(e,["parameters"],i);const a=b(t,["parametersJsonSchema"]);a!=null&&x(e,["parametersJsonSchema"],a);const s=b(t,["response"]);s!=null&&x(e,["response"],s);const l=b(t,["responseJsonSchema"]);return l!=null&&x(e,["responseJsonSchema"],l),e}function jIe(t,e,n){const r={},i=b(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],ax(Or(i)));const a=b(e,["temperature"]);a!=null&&x(r,["temperature"],a);const s=b(e,["topP"]);s!=null&&x(r,["topP"],s);const l=b(e,["topK"]);l!=null&&x(r,["topK"],l);const u=b(e,["candidateCount"]);u!=null&&x(r,["candidateCount"],u);const d=b(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const f=b(e,["stopSequences"]);f!=null&&x(r,["stopSequences"],f);const p=b(e,["responseLogprobs"]);p!=null&&x(r,["responseLogprobs"],p);const y=b(e,["logprobs"]);y!=null&&x(r,["logprobs"],y);const v=b(e,["presencePenalty"]);v!=null&&x(r,["presencePenalty"],v);const T=b(e,["frequencyPenalty"]);T!=null&&x(r,["frequencyPenalty"],T);const k=b(e,["seed"]);k!=null&&x(r,["seed"],k);const S=b(e,["responseMimeType"]);S!=null&&x(r,["responseMimeType"],S);const C=b(e,["responseSchema"]);C!=null&&x(r,["responseSchema"],FC(C));const R=b(e,["responseJsonSchema"]);if(R!=null&&x(r,["responseJsonSchema"],R),b(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=b(e,["safetySettings"]);if(n!==void 0&&I!=null){let q=I;Array.isArray(q)&&(q=q.map(z=>ANe(z))),x(n,["safetySettings"],q)}const L=b(e,["tools"]);if(n!==void 0&&L!=null){let q=Ef(L);Array.isArray(q)&&(q=q.map(z=>MNe(wf(z)))),x(n,["tools"],q)}const F=b(e,["toolConfig"]);if(n!==void 0&&F!=null&&x(n,["toolConfig"],DNe(F)),b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=b(e,["cachedContent"]);n!==void 0&&j!=null&&x(n,["cachedContent"],zo(t,j));const P=b(e,["responseModalities"]);P!=null&&x(r,["responseModalities"],P);const U=b(e,["mediaResolution"]);U!=null&&x(r,["mediaResolution"],U);const M=b(e,["speechConfig"]);if(M!=null&&x(r,["speechConfig"],zC(M)),b(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=b(e,["thinkingConfig"]);B!=null&&x(r,["thinkingConfig"],B);const V=b(e,["imageConfig"]);return V!=null&&x(r,["imageConfig"],uNe(V)),r}function UIe(t,e,n){const r={},i=b(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],Or(i));const a=b(e,["temperature"]);a!=null&&x(r,["temperature"],a);const s=b(e,["topP"]);s!=null&&x(r,["topP"],s);const l=b(e,["topK"]);l!=null&&x(r,["topK"],l);const u=b(e,["candidateCount"]);u!=null&&x(r,["candidateCount"],u);const d=b(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const f=b(e,["stopSequences"]);f!=null&&x(r,["stopSequences"],f);const p=b(e,["responseLogprobs"]);p!=null&&x(r,["responseLogprobs"],p);const y=b(e,["logprobs"]);y!=null&&x(r,["logprobs"],y);const v=b(e,["presencePenalty"]);v!=null&&x(r,["presencePenalty"],v);const T=b(e,["frequencyPenalty"]);T!=null&&x(r,["frequencyPenalty"],T);const k=b(e,["seed"]);k!=null&&x(r,["seed"],k);const S=b(e,["responseMimeType"]);S!=null&&x(r,["responseMimeType"],S);const C=b(e,["responseSchema"]);C!=null&&x(r,["responseSchema"],FC(C));const R=b(e,["responseJsonSchema"]);R!=null&&x(r,["responseJsonSchema"],R);const I=b(e,["routingConfig"]);I!=null&&x(r,["routingConfig"],I);const L=b(e,["modelSelectionConfig"]);L!=null&&x(r,["modelConfig"],L);const F=b(e,["safetySettings"]);if(n!==void 0&&F!=null){let J=F;Array.isArray(J)&&(J=J.map(H=>H)),x(n,["safetySettings"],J)}const j=b(e,["tools"]);if(n!==void 0&&j!=null){let J=Ef(j);Array.isArray(J)&&(J=J.map(H=>c$(wf(H)))),x(n,["tools"],J)}const P=b(e,["toolConfig"]);n!==void 0&&P!=null&&x(n,["toolConfig"],P);const U=b(e,["labels"]);n!==void 0&&U!=null&&x(n,["labels"],U);const M=b(e,["cachedContent"]);n!==void 0&&M!=null&&x(n,["cachedContent"],zo(t,M));const B=b(e,["responseModalities"]);B!=null&&x(r,["responseModalities"],B);const V=b(e,["mediaResolution"]);V!=null&&x(r,["mediaResolution"],V);const q=b(e,["speechConfig"]);q!=null&&x(r,["speechConfig"],l$(zC(q)));const z=b(e,["audioTimestamp"]);z!=null&&x(r,["audioTimestamp"],z);const le=b(e,["thinkingConfig"]);le!=null&&x(r,["thinkingConfig"],le);const X=b(e,["imageConfig"]);return X!=null&&x(r,["imageConfig"],dNe(X)),r}function q3(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["contents"]);if(i!=null){let s=pa(i);Array.isArray(s)&&(s=s.map(l=>ax(l))),x(n,["contents"],s)}const a=b(e,["config"]);return a!=null&&x(n,["generationConfig"],jIe(t,a,n)),n}function $3(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["contents"]);if(i!=null){let s=pa(i);Array.isArray(s)&&(s=s.map(l=>l)),x(n,["contents"],s)}const a=b(e,["config"]);return a!=null&&x(n,["generationConfig"],UIe(t,a,n)),n}function H3(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>sIe(d))),x(e,["candidates"],u)}const i=b(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const a=b(t,["promptFeedback"]);a!=null&&x(e,["promptFeedback"],a);const s=b(t,["responseId"]);s!=null&&x(e,["responseId"],s);const l=b(t,["usageMetadata"]);return l!=null&&x(e,["usageMetadata"],l),e}function G3(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),x(e,["candidates"],d)}const i=b(t,["createTime"]);i!=null&&x(e,["createTime"],i);const a=b(t,["modelVersion"]);a!=null&&x(e,["modelVersion"],a);const s=b(t,["promptFeedback"]);s!=null&&x(e,["promptFeedback"],s);const l=b(t,["responseId"]);l!=null&&x(e,["responseId"],l);const u=b(t,["usageMetadata"]);return u!=null&&x(e,["usageMetadata"],u),e}function VIe(t,e){const n={};if(b(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=b(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=b(t,["aspectRatio"]);e!==void 0&&i!=null&&x(e,["parameters","aspectRatio"],i);const a=b(t,["guidanceScale"]);if(e!==void 0&&a!=null&&x(e,["parameters","guidanceScale"],a),b(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=b(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&x(e,["parameters","safetySetting"],s);const l=b(t,["personGeneration"]);e!==void 0&&l!=null&&x(e,["parameters","personGeneration"],l);const u=b(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&x(e,["parameters","includeSafetyAttributes"],u);const d=b(t,["includeRaiReason"]);e!==void 0&&d!=null&&x(e,["parameters","includeRaiReason"],d);const f=b(t,["language"]);e!==void 0&&f!=null&&x(e,["parameters","language"],f);const p=b(t,["outputMimeType"]);e!==void 0&&p!=null&&x(e,["parameters","outputOptions","mimeType"],p);const y=b(t,["outputCompressionQuality"]);if(e!==void 0&&y!=null&&x(e,["parameters","outputOptions","compressionQuality"],y),b(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(b(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=b(t,["imageSize"]);if(e!==void 0&&v!=null&&x(e,["parameters","sampleImageSize"],v),b(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function FIe(t,e){const n={},r=b(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=b(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const a=b(t,["numberOfImages"]);e!==void 0&&a!=null&&x(e,["parameters","sampleCount"],a);const s=b(t,["aspectRatio"]);e!==void 0&&s!=null&&x(e,["parameters","aspectRatio"],s);const l=b(t,["guidanceScale"]);e!==void 0&&l!=null&&x(e,["parameters","guidanceScale"],l);const u=b(t,["seed"]);e!==void 0&&u!=null&&x(e,["parameters","seed"],u);const d=b(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&x(e,["parameters","safetySetting"],d);const f=b(t,["personGeneration"]);e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f);const p=b(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&x(e,["parameters","includeSafetyAttributes"],p);const y=b(t,["includeRaiReason"]);e!==void 0&&y!=null&&x(e,["parameters","includeRaiReason"],y);const v=b(t,["language"]);e!==void 0&&v!=null&&x(e,["parameters","language"],v);const T=b(t,["outputMimeType"]);e!==void 0&&T!=null&&x(e,["parameters","outputOptions","mimeType"],T);const k=b(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&x(e,["parameters","outputOptions","compressionQuality"],k);const S=b(t,["addWatermark"]);e!==void 0&&S!=null&&x(e,["parameters","addWatermark"],S);const C=b(t,["labels"]);e!==void 0&&C!=null&&x(e,["labels"],C);const R=b(t,["imageSize"]);e!==void 0&&R!=null&&x(e,["parameters","sampleImageSize"],R);const I=b(t,["enhancePrompt"]);return e!==void 0&&I!=null&&x(e,["parameters","enhancePrompt"],I),n}function zIe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=b(e,["config"]);return a!=null&&VIe(a,n),n}function BIe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=b(e,["config"]);return a!=null&&FIe(a,n),n}function qIe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>tNe(s))),x(e,["generatedImages"],a)}const i=b(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],s$(i)),e}function $Ie(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>sx(s))),x(e,["generatedImages"],a)}const i=b(t,["positivePromptSafetyAttributes"]);return i!=null&&x(e,["positivePromptSafetyAttributes"],o$(i)),e}function HIe(t,e){const n={},r=b(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r),b(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=b(t,["durationSeconds"]);if(e!==void 0&&i!=null&&x(e,["parameters","durationSeconds"],i),b(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=b(t,["aspectRatio"]);e!==void 0&&a!=null&&x(e,["parameters","aspectRatio"],a);const s=b(t,["resolution"]);e!==void 0&&s!=null&&x(e,["parameters","resolution"],s);const l=b(t,["personGeneration"]);if(e!==void 0&&l!=null&&x(e,["parameters","personGeneration"],l),b(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=b(t,["negativePrompt"]);e!==void 0&&u!=null&&x(e,["parameters","negativePrompt"],u);const d=b(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&x(e,["parameters","enhancePrompt"],d),b(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=b(t,["lastFrame"]);e!==void 0&&f!=null&&x(e,["instances[0]","lastFrame"],ox(f));const p=b(t,["referenceImages"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(v=>KNe(v))),x(e,["instances[0]","referenceImages"],y)}if(b(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(b(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function GIe(t,e){const n={},r=b(t,["numberOfVideos"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=b(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const a=b(t,["fps"]);e!==void 0&&a!=null&&x(e,["parameters","fps"],a);const s=b(t,["durationSeconds"]);e!==void 0&&s!=null&&x(e,["parameters","durationSeconds"],s);const l=b(t,["seed"]);e!==void 0&&l!=null&&x(e,["parameters","seed"],l);const u=b(t,["aspectRatio"]);e!==void 0&&u!=null&&x(e,["parameters","aspectRatio"],u);const d=b(t,["resolution"]);e!==void 0&&d!=null&&x(e,["parameters","resolution"],d);const f=b(t,["personGeneration"]);e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f);const p=b(t,["pubsubTopic"]);e!==void 0&&p!=null&&x(e,["parameters","pubsubTopic"],p);const y=b(t,["negativePrompt"]);e!==void 0&&y!=null&&x(e,["parameters","negativePrompt"],y);const v=b(t,["enhancePrompt"]);e!==void 0&&v!=null&&x(e,["parameters","enhancePrompt"],v);const T=b(t,["generateAudio"]);e!==void 0&&T!=null&&x(e,["parameters","generateAudio"],T);const k=b(t,["lastFrame"]);e!==void 0&&k!=null&&x(e,["instances[0]","lastFrame"],Ka(k));const S=b(t,["referenceImages"]);if(e!==void 0&&S!=null){let I=S;Array.isArray(I)&&(I=I.map(L=>YNe(L))),x(e,["instances[0]","referenceImages"],I)}const C=b(t,["mask"]);e!==void 0&&C!=null&&x(e,["instances[0]","mask"],GNe(C));const R=b(t,["compressionQuality"]);return e!==void 0&&R!=null&&x(e,["parameters","compressionQuality"],R),n}function KIe(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["response","generateVideoResponse"]);return s!=null&&x(e,["response"],XIe(s)),e}function YIe(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["response"]);return s!=null&&x(e,["response"],QIe(s)),e}function WIe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=b(e,["image"]);a!=null&&x(n,["instances[0]","image"],ox(a));const s=b(e,["video"]);s!=null&&x(n,["instances[0]","video"],u$(s));const l=b(e,["source"]);l!=null&&ZIe(l,n);const u=b(e,["config"]);return u!=null&&HIe(u,n),n}function JIe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=b(e,["image"]);a!=null&&x(n,["instances[0]","image"],Ka(a));const s=b(e,["video"]);s!=null&&x(n,["instances[0]","video"],d$(s));const l=b(e,["source"]);l!=null&&eNe(l,n);const u=b(e,["config"]);return u!=null&&GIe(u,n),n}function XIe(t){const e={},n=b(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>rNe(s))),x(e,["generatedVideos"],a)}const r=b(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=b(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function QIe(t){const e={},n=b(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>iNe(s))),x(e,["generatedVideos"],a)}const r=b(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=b(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function ZIe(t,e){const n={},r=b(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=b(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],ox(i));const a=b(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],u$(a)),n}function eNe(t,e){const n={},r=b(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=b(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],Ka(i));const a=b(t,["video"]);return e!==void 0&&a!=null&&x(e,["instances[0]","video"],d$(a)),n}function tNe(t){const e={},n=b(t,["_self"]);n!=null&&x(e,["image"],fNe(n));const r=b(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=b(t,["_self"]);return i!=null&&x(e,["safetyAttributes"],s$(i)),e}function sx(t){const e={},n=b(t,["_self"]);n!=null&&x(e,["image"],a$(n));const r=b(t,["raiFilteredReason"]);r!=null&&x(e,["raiFilteredReason"],r);const i=b(t,["_self"]);i!=null&&x(e,["safetyAttributes"],o$(i));const a=b(t,["prompt"]);return a!=null&&x(e,["enhancedPrompt"],a),e}function nNe(t){const e={},n=b(t,["_self"]);n!=null&&x(e,["mask"],a$(n));const r=b(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(e,["labels"],i)}return e}function rNe(t){const e={},n=b(t,["video"]);return n!=null&&x(e,["video"],$Ne(n)),e}function iNe(t){const e={},n=b(t,["_self"]);return n!=null&&x(e,["video"],HNe(n)),e}function aNe(t){const e={},n=b(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=b(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=b(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const a=b(t,["candidateCount"]);a!=null&&x(e,["candidateCount"],a);const s=b(t,["enableAffectiveDialog"]);s!=null&&x(e,["enableAffectiveDialog"],s);const l=b(t,["frequencyPenalty"]);l!=null&&x(e,["frequencyPenalty"],l);const u=b(t,["logprobs"]);u!=null&&x(e,["logprobs"],u);const d=b(t,["maxOutputTokens"]);d!=null&&x(e,["maxOutputTokens"],d);const f=b(t,["mediaResolution"]);f!=null&&x(e,["mediaResolution"],f);const p=b(t,["presencePenalty"]);p!=null&&x(e,["presencePenalty"],p);const y=b(t,["responseLogprobs"]);y!=null&&x(e,["responseLogprobs"],y);const v=b(t,["responseMimeType"]);v!=null&&x(e,["responseMimeType"],v);const T=b(t,["responseModalities"]);T!=null&&x(e,["responseModalities"],T);const k=b(t,["responseSchema"]);k!=null&&x(e,["responseSchema"],k);const S=b(t,["routingConfig"]);S!=null&&x(e,["routingConfig"],S);const C=b(t,["seed"]);C!=null&&x(e,["seed"],C);const R=b(t,["speechConfig"]);R!=null&&x(e,["speechConfig"],l$(R));const I=b(t,["stopSequences"]);I!=null&&x(e,["stopSequences"],I);const L=b(t,["temperature"]);L!=null&&x(e,["temperature"],L);const F=b(t,["thinkingConfig"]);F!=null&&x(e,["thinkingConfig"],F);const j=b(t,["topK"]);j!=null&&x(e,["topK"],j);const P=b(t,["topP"]);if(P!=null&&x(e,["topP"],P),b(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function sNe(t,e){const n={},r=b(e,["model"]);return r!=null&&x(n,["_url","name"],_t(t,r)),n}function oNe(t,e){const n={},r=b(e,["model"]);return r!=null&&x(n,["_url","name"],_t(t,r)),n}function lNe(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function cNe(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function uNe(t){const e={},n=b(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=b(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),b(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(b(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function dNe(t){const e={},n=b(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=b(t,["imageSize"]);r!=null&&x(e,["imageSize"],r);const i=b(t,["outputMimeType"]);i!=null&&x(e,["imageOutputOptions","mimeType"],i);const a=b(t,["outputCompressionQuality"]);return a!=null&&x(e,["imageOutputOptions","compressionQuality"],a),e}function fNe(t){const e={},n=b(t,["bytesBase64Encoded"]);n!=null&&x(e,["imageBytes"],cc(n));const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function a$(t){const e={},n=b(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=b(t,["bytesBase64Encoded"]);r!=null&&x(e,["imageBytes"],cc(r));const i=b(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function ox(t){const e={};if(b(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=b(t,["imageBytes"]);n!=null&&x(e,["bytesBase64Encoded"],cc(n));const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Ka(t){const e={},n=b(t,["gcsUri"]);n!=null&&x(e,["gcsUri"],n);const r=b(t,["imageBytes"]);r!=null&&x(e,["bytesBase64Encoded"],cc(r));const i=b(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function hNe(t,e,n){const r={},i=b(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=b(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const s=b(e,["filter"]);n!==void 0&&s!=null&&x(n,["_query","filter"],s);const l=b(e,["queryBase"]);return n!==void 0&&l!=null&&x(n,["_url","models_url"],X8(t,l)),r}function pNe(t,e,n){const r={},i=b(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=b(e,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const s=b(e,["filter"]);n!==void 0&&s!=null&&x(n,["_query","filter"],s);const l=b(e,["queryBase"]);return n!==void 0&&l!=null&&x(n,["_url","models_url"],X8(t,l)),r}function mNe(t,e){const n={},r=b(e,["config"]);return r!=null&&hNe(t,r,n),n}function gNe(t,e){const n={},r=b(e,["config"]);return r!=null&&pNe(t,r,n),n}function yNe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["_self"]);if(i!=null){let a=Q8(i);Array.isArray(a)&&(a=a.map(s=>IT(s))),x(e,["models"],a)}return e}function vNe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["_self"]);if(i!=null){let a=Q8(i);Array.isArray(a)&&(a=a.map(s=>NT(s))),x(e,["models"],a)}return e}function bNe(t){const e={},n=b(t,["maskMode"]);n!=null&&x(e,["maskMode"],n);const r=b(t,["segmentationClasses"]);r!=null&&x(e,["maskClasses"],r);const i=b(t,["maskDilation"]);return i!=null&&x(e,["dilation"],i),e}function IT(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=b(t,["description"]);i!=null&&x(e,["description"],i);const a=b(t,["version"]);a!=null&&x(e,["version"],a);const s=b(t,["_self"]);s!=null&&x(e,["tunedModelInfo"],ONe(s));const l=b(t,["inputTokenLimit"]);l!=null&&x(e,["inputTokenLimit"],l);const u=b(t,["outputTokenLimit"]);u!=null&&x(e,["outputTokenLimit"],u);const d=b(t,["supportedGenerationMethods"]);d!=null&&x(e,["supportedActions"],d);const f=b(t,["temperature"]);f!=null&&x(e,["temperature"],f);const p=b(t,["maxTemperature"]);p!=null&&x(e,["maxTemperature"],p);const y=b(t,["topP"]);y!=null&&x(e,["topP"],y);const v=b(t,["topK"]);v!=null&&x(e,["topK"],v);const T=b(t,["thinking"]);return T!=null&&x(e,["thinking"],T),e}function NT(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=b(t,["description"]);i!=null&&x(e,["description"],i);const a=b(t,["versionId"]);a!=null&&x(e,["version"],a);const s=b(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(y=>PIe(y))),x(e,["endpoints"],p)}const l=b(t,["labels"]);l!=null&&x(e,["labels"],l);const u=b(t,["_self"]);u!=null&&x(e,["tunedModelInfo"],LNe(u));const d=b(t,["defaultCheckpointId"]);d!=null&&x(e,["defaultCheckpointId"],d);const f=b(t,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(y=>y)),x(e,["checkpoints"],p)}return e}function xNe(t){const e={},n=b(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=b(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=b(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=b(t,["fileData"]);a!=null&&x(e,["fileData"],DIe(a));const s=b(t,["functionCall"]);s!=null&&x(e,["functionCall"],MIe(s));const l=b(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=b(t,["inlineData"]);u!=null&&x(e,["inlineData"],aIe(u));const d=b(t,["text"]);d!=null&&x(e,["text"],d);const f=b(t,["thought"]);f!=null&&x(e,["thought"],f);const p=b(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const y=b(t,["videoMetadata"]);return y!=null&&x(e,["videoMetadata"],y),e}function _Ne(t){const e={},n=b(t,["productImage"]);return n!=null&&x(e,["image"],Ka(n)),e}function wNe(t,e){const n={},r=b(t,["numberOfImages"]);e!==void 0&&r!=null&&x(e,["parameters","sampleCount"],r);const i=b(t,["baseSteps"]);e!==void 0&&i!=null&&x(e,["parameters","baseSteps"],i);const a=b(t,["outputGcsUri"]);e!==void 0&&a!=null&&x(e,["parameters","storageUri"],a);const s=b(t,["seed"]);e!==void 0&&s!=null&&x(e,["parameters","seed"],s);const l=b(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&x(e,["parameters","safetySetting"],l);const u=b(t,["personGeneration"]);e!==void 0&&u!=null&&x(e,["parameters","personGeneration"],u);const d=b(t,["addWatermark"]);e!==void 0&&d!=null&&x(e,["parameters","addWatermark"],d);const f=b(t,["outputMimeType"]);e!==void 0&&f!=null&&x(e,["parameters","outputOptions","mimeType"],f);const p=b(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&x(e,["parameters","outputOptions","compressionQuality"],p);const y=b(t,["enhancePrompt"]);e!==void 0&&y!=null&&x(e,["parameters","enhancePrompt"],y);const v=b(t,["labels"]);return e!==void 0&&v!=null&&x(e,["labels"],v),n}function ENe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["source"]);i!=null&&TNe(i,n);const a=b(e,["config"]);return a!=null&&wNe(a,n),n}function SNe(t){const e={},n=b(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>sx(i))),x(e,["generatedImages"],r)}return e}function TNe(t,e){const n={},r=b(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=b(t,["personImage"]);e!==void 0&&i!=null&&x(e,["instances[0]","personImage","image"],Ka(i));const a=b(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>_Ne(l))),x(e,["instances[0]","productImages"],s)}return n}function kNe(t){const e={},n=b(t,["referenceImage"]);n!=null&&x(e,["referenceImage"],Ka(n));const r=b(t,["referenceId"]);r!=null&&x(e,["referenceId"],r);const i=b(t,["referenceType"]);i!=null&&x(e,["referenceType"],i);const a=b(t,["maskImageConfig"]);a!=null&&x(e,["maskImageConfig"],bNe(a));const s=b(t,["controlImageConfig"]);s!=null&&x(e,["controlImageConfig"],fIe(s));const l=b(t,["styleImageConfig"]);l!=null&&x(e,["styleImageConfig"],l);const u=b(t,["subjectImageConfig"]);return u!=null&&x(e,["subjectImageConfig"],u),e}function s$(t){const e={},n=b(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=b(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=b(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function o$(t){const e={},n=b(t,["safetyAttributes","categories"]);n!=null&&x(e,["categories"],n);const r=b(t,["safetyAttributes","scores"]);r!=null&&x(e,["scores"],r);const i=b(t,["contentType"]);return i!=null&&x(e,["contentType"],i),e}function ANe(t){const e={},n=b(t,["category"]);if(n!=null&&x(e,["category"],n),b(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=b(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function CNe(t){const e={},n=b(t,["image"]);return n!=null&&x(e,["image"],Ka(n)),e}function INe(t,e){const n={},r=b(t,["mode"]);e!==void 0&&r!=null&&x(e,["parameters","mode"],r);const i=b(t,["maxPredictions"]);e!==void 0&&i!=null&&x(e,["parameters","maxPredictions"],i);const a=b(t,["confidenceThreshold"]);e!==void 0&&a!=null&&x(e,["parameters","confidenceThreshold"],a);const s=b(t,["maskDilation"]);e!==void 0&&s!=null&&x(e,["parameters","maskDilation"],s);const l=b(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&x(e,["parameters","binaryColorThreshold"],l);const u=b(t,["labels"]);return e!==void 0&&u!=null&&x(e,["labels"],u),n}function NNe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["source"]);i!=null&&PNe(i,n);const a=b(e,["config"]);return a!=null&&INe(a,n),n}function RNe(t){const e={},n=b(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nNe(i))),x(e,["generatedMasks"],r)}return e}function PNe(t,e){const n={},r=b(t,["prompt"]);e!==void 0&&r!=null&&x(e,["instances[0]","prompt"],r);const i=b(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],Ka(i));const a=b(t,["scribbleImage"]);return e!==void 0&&a!=null&&x(e,["instances[0]","scribble"],CNe(a)),n}function l$(t){const e={},n=b(t,["languageCode"]);n!=null&&x(e,["languageCode"],n);const r=b(t,["voiceConfig"]);if(r!=null&&x(e,["voiceConfig"],r),b(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function DNe(t){const e={},n=b(t,["functionCallingConfig"]);n!=null&&x(e,["functionCallingConfig"],OIe(n));const r=b(t,["retrievalConfig"]);return r!=null&&x(e,["retrievalConfig"],r),e}function MNe(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),x(e,["functionDeclarations"],f)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=b(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=b(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const s=b(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=b(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],lNe(l));const u=b(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],cNe(u));const d=b(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function c$(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(y=>LIe(y))),x(e,["functionDeclarations"],p)}const r=b(t,["retrieval"]);r!=null&&x(e,["retrieval"],r);const i=b(t,["googleSearchRetrieval"]);i!=null&&x(e,["googleSearchRetrieval"],i);const a=b(t,["computerUse"]);if(a!=null&&x(e,["computerUse"],a),b(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=b(t,["codeExecution"]);s!=null&&x(e,["codeExecution"],s);const l=b(t,["enterpriseWebSearch"]);l!=null&&x(e,["enterpriseWebSearch"],l);const u=b(t,["googleMaps"]);u!=null&&x(e,["googleMaps"],u);const d=b(t,["googleSearch"]);d!=null&&x(e,["googleSearch"],d);const f=b(t,["urlContext"]);return f!=null&&x(e,["urlContext"],f),e}function ONe(t){const e={},n=b(t,["baseModel"]);n!=null&&x(e,["baseModel"],n);const r=b(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=b(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function LNe(t){const e={},n=b(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&x(e,["baseModel"],n);const r=b(t,["createTime"]);r!=null&&x(e,["createTime"],r);const i=b(t,["updateTime"]);return i!=null&&x(e,["updateTime"],i),e}function jNe(t,e){const n={},r=b(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=b(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const a=b(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),n}function UNe(t,e){const n={},r=b(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=b(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const a=b(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&x(e,["defaultCheckpointId"],a),n}function VNe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","name"],_t(t,r));const i=b(e,["config"]);return i!=null&&jNe(i,n),n}function FNe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["config"]);return i!=null&&UNe(i,n),n}function zNe(t,e){const n={},r=b(t,["outputGcsUri"]);e!==void 0&&r!=null&&x(e,["parameters","storageUri"],r);const i=b(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&x(e,["parameters","safetySetting"],i);const a=b(t,["personGeneration"]);e!==void 0&&a!=null&&x(e,["parameters","personGeneration"],a);const s=b(t,["includeRaiReason"]);e!==void 0&&s!=null&&x(e,["parameters","includeRaiReason"],s);const l=b(t,["outputMimeType"]);e!==void 0&&l!=null&&x(e,["parameters","outputOptions","mimeType"],l);const u=b(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&x(e,["parameters","outputOptions","compressionQuality"],u);const d=b(t,["enhanceInputImage"]);e!==void 0&&d!=null&&x(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=b(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&x(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=b(t,["labels"]);e!==void 0&&p!=null&&x(e,["labels"],p);const y=b(t,["numberOfImages"]);e!==void 0&&y!=null&&x(e,["parameters","sampleCount"],y);const v=b(t,["mode"]);return e!==void 0&&v!=null&&x(e,["parameters","mode"],v),n}function BNe(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["_url","model"],_t(t,r));const i=b(e,["image"]);i!=null&&x(n,["instances[0]","image"],Ka(i));const a=b(e,["upscaleFactor"]);a!=null&&x(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=b(e,["config"]);return s!=null&&zNe(s,n),n}function qNe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>sx(a))),x(e,["generatedImages"],i)}return e}function $Ne(t){const e={},n=b(t,["uri"]);n!=null&&x(e,["uri"],n);const r=b(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],cc(r));const i=b(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function HNe(t){const e={},n=b(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=b(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],cc(r));const i=b(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}function GNe(t){const e={},n=b(t,["image"]);n!=null&&x(e,["_self"],Ka(n));const r=b(t,["maskMode"]);return r!=null&&x(e,["maskMode"],r),e}function KNe(t){const e={},n=b(t,["image"]);n!=null&&x(e,["image"],ox(n));const r=b(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function YNe(t){const e={},n=b(t,["image"]);n!=null&&x(e,["image"],Ka(n));const r=b(t,["referenceType"]);return r!=null&&x(e,["referenceType"],r),e}function u$(t){const e={},n=b(t,["uri"]);n!=null&&x(e,["uri"],n);const r=b(t,["videoBytes"]);r!=null&&x(e,["encodedVideo"],cc(r));const i=b(t,["mimeType"]);return i!=null&&x(e,["encoding"],i),e}function d$(t){const e={},n=b(t,["uri"]);n!=null&&x(e,["gcsUri"],n);const r=b(t,["videoBytes"]);r!=null&&x(e,["bytesBase64Encoded"],cc(r));const i=b(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WNe(t,e){const n={},r=b(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["displayName"],r),n}function JNe(t){const e={},n=b(t,["config"]);return n!=null&&WNe(n,e),e}function XNe(t,e){const n={},r=b(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function QNe(t){const e={},n=b(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=b(t,["config"]);return r!=null&&XNe(r,e),e}function ZNe(t){const e={},n=b(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function e2e(t,e){const n={},r=b(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["customMetadata"],a)}const i=b(t,["chunkingConfig"]);return e!==void 0&&i!=null&&x(e,["chunkingConfig"],i),n}function t2e(t){const e={},n=b(t,["name"]);n!=null&&x(e,["name"],n);const r=b(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=b(t,["done"]);i!=null&&x(e,["done"],i);const a=b(t,["error"]);a!=null&&x(e,["error"],a);const s=b(t,["response"]);return s!=null&&x(e,["response"],r2e(s)),e}function n2e(t){const e={},n=b(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=b(t,["fileName"]);r!=null&&x(e,["fileName"],r);const i=b(t,["config"]);return i!=null&&e2e(i,e),e}function r2e(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["parent"]);r!=null&&x(e,["parent"],r);const i=b(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function i2e(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=b(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function a2e(t){const e={},n=b(t,["config"]);return n!=null&&i2e(n,e),e}function s2e(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["fileSearchStores"],a)}return e}function f$(t,e){const n={},r=b(t,["mimeType"]);e!==void 0&&r!=null&&x(e,["mimeType"],r);const i=b(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const a=b(t,["customMetadata"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>u)),x(e,["customMetadata"],l)}const s=b(t,["chunkingConfig"]);return e!==void 0&&s!=null&&x(e,["chunkingConfig"],s),n}function o2e(t){const e={},n=b(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=b(t,["config"]);return r!=null&&f$(r,e),e}function l2e(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c2e="Content-Type",u2e="X-Server-Timeout",d2e="User-Agent",RT="x-goog-api-client",f2e="1.31.0",h2e=`google-genai-sdk/${f2e}`,p2e="v1beta1",m2e="v1beta",K3=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class g2e{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:p2e,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:m2e,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,l]of Object.entries(e.queryParams))i.searchParams.append(s,String(l));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>a.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&y2e(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Y3(i),new kT(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Y3(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Rd(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:l,value:u}=yield Qt(i.read());if(l){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(u,{stream:!0});try{const p=JSON.parse(d);if("error"in p){const y=JSON.parse(JSON.stringify(p.error)),v=y.status,T=y.code,k=`got status: ${v}. ${JSON.stringify(p)}`;if(T>=400&&T<600)throw new ix({message:k,status:T})}}catch(p){if(p.name==="ApiError")throw p}s+=d;let f=s.match(K3);for(;f;){const p=f[1];try{const y=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Qt(new kT(y)),s=s.slice(f[0].length),f=s.match(K3)}catch(y){throw new Error(`exception parsing stream chunk ${p}. ${y}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=h2e+" "+this.clientOptions.userAgentExtra;return e[d2e]=n,e[RT]=n,e[c2e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(u2e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const u={file:i},d=this.getFileName(e),f=Pe("upload/v1beta/files",u._url),p=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,d,u,n==null?void 0:n.httpOptions);return a.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),l=String(s.size),u=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),p={};r!=null&&f$(r,p);const y=await this.fetchUploadUrl(d,l,u,f,p,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var l;let u={};s?u=s:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:u});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(l=d==null?void 0:d.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Y3(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ix({message:i,status:n}):new Error(i)}}function y2e(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const l=Object.assign({},a);for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const d=s[u],f=l[u];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?l[u]=r(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),l[u]=d)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v2e="mcp_used/unknown";let b2e=!1;function h$(t){for(const e of t)if(x2e(e)||typeof e=="object"&&"inputSchema"in e)return!0;return b2e}function p$(t){var e;const n=(e=t[RT])!==null&&e!==void 0?e:"";t[RT]=(n+` ${v2e}`).trimStart()}function x2e(t){return t!==null&&typeof t=="object"&&t instanceof qC}function _2e(t,e=100){return Rd(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield Qt(t.listTools({cursor:r}));for(const s of a.tools)yield yield Qt(s),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class qC{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new qC(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const f of this.mcpClients)try{for(var l=!0,u=(n=void 0,lp(_2e(f))),d;d=await u.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const p=i;s.push(p);const y=p.name;if(a[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);a[y]=f}}catch(p){n={error:p}}finally{try{!l&&!e&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Zke(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function w2e(t,e,n){const r=new Hke;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class E2e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=k2e(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const f=new Promise(I=>{d=I}),p=e.callbacks,y=function(){d({})},v=this.apiClient,T={onopen:y,onmessage:I=>{w2e(v,p.onmessage,I)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(I){}},k=this.webSocketFactory.create(u,T2e(s),T);k.connect(),await f;const R={setup:{model:_t(this.apiClient,e.model)}};return k.send(JSON.stringify(R)),new S2e(k,this.apiClient)}}class S2e{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=JCe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=WCe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(bd.PLAY)}pause(){this.sendPlaybackControl(bd.PAUSE)}stop(){this.sendPlaybackControl(bd.STOP)}resetContext(){this.sendPlaybackControl(bd.RESET_CONTEXT)}close(){this.conn.close()}}function T2e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function k2e(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A2e="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function C2e(t,e,n){const r=new $ke;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=ZCe(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class I2e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new E2e(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&h$(e.config.tools)&&p$(p);const y=D2e(p);if(this.apiClient.isVertexAI())f=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,f);else{const M=this.apiClient.getApiKey();let B="BidiGenerateContent",V="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",V="access_token"),f=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${B}?${V}=${M}`}let v=()=>{};const T=new Promise(M=>{v=M}),k=e.callbacks,S=function(){var M;(M=k==null?void 0:k.onopen)===null||M===void 0||M.call(k),v({})},C=this.apiClient,R={onopen:S,onmessage:M=>{C2e(C,k.onmessage,M)},onerror:(n=k==null?void 0:k.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=k==null?void 0:k.onclose)!==null&&r!==void 0?r:function(M){}},I=this.webSocketFactory.create(f,P2e(y),R);I.connect(),await T;let L=_t(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&L.startsWith("publishers/")){const M=this.apiClient.getProject(),B=this.apiClient.getLocation();L=`projects/${M}/locations/${B}/`+L}let F={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Vp.AUDIO]}:e.config.responseModalities=[Vp.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(l=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[],P=[];for(const M of j)if(this.isCallableTool(M)){const B=M;P.push(await B.tool())}else P.push(M);P.length>0&&(e.config.tools=P);const U={model:L,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=YCe(this.apiClient,U):F=KCe(this.apiClient,U),delete F.config,I.send(JSON.stringify(F)),new R2e(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const N2e={turnComplete:!0};class R2e{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=pa(n.turns),e.isVertexAI()||(r=r.map(i=>ax(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(A2e)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},N2e),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:QCe(e)}:n={realtimeInput:XCe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function P2e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function D2e(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W3=10;function J3(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Pd(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Pd(t){return"callTool"in t&&typeof t.callTool=="function"}function M2e(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Pd(i)))!==null&&r!==void 0?r:!1}function X3(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Pd(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function Q3(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O2e extends Fo{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,l;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!M2e(n)||J3(n.config))return await this.generateContentInternal(u);const d=X3(n);if(d.length>0){const k=d.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let f,p;const y=pa(u.contents),v=(a=(i=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:W3;let T=0;for(;T<v&&(f=await this.generateContentInternal(u),!(!f.functionCalls||f.functionCalls.length===0));){const k=f.candidates[0].content,S=[];for(const C of(l=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if(Pd(C)){const I=await C.callTool(f.functionCalls);S.push(...I)}T++,p={role:"user",parts:S},u.contents=pa(u.contents),u.contents.push(k),u.contents.push(p),Q3(u.config)&&(y.push(k),y.push(p))}return Q3(u.config)&&(f.automaticFunctionCallingHistory=y),f},this.generateContentStream=async n=>{var r,i,a,s,l;if(this.maybeMoveToResponseJsonSchem(n),J3(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const u=X3(n);if(u.length>0){const p=u.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,f=(l=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=u==null?void 0:u.safetyAttributes:s.push(u);let l;return a?l={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new mu(Io.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,l,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async u=>Pd(u)?await u.tool():u)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(l.config.tools=s,e.config&&e.config.tools&&h$(e.config.tools)){const u=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),p$(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Pd(s)){const l=s,u=await l.tool();for(const d of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,l)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:W3;let s=!1,l=0;const u=await this.initAfcToolsMap(e);return(function(d,f,p){var y,v;return Rd(this,arguments,function*(){for(var T,k,S,C;l<a;){s&&(l++,s=!1);const F=yield Qt(d.processParamsMaybeAddMcpUsage(p)),j=yield Qt(d.generateContentStreamInternal(F)),P=[],U=[];try{for(var R=!0,I=(k=void 0,lp(j)),L;L=yield Qt(I.next()),T=L.done,!T;R=!0){C=L.value,R=!1;const M=C;if(yield yield Qt(M),M.candidates&&(!((y=M.candidates[0])===null||y===void 0)&&y.content)){U.push(M.candidates[0].content);for(const B of(v=M.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(l<a&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(B.functionCall.name)){const V=yield Qt(f.get(B.functionCall.name).callTool([B.functionCall]));P.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(M){k={error:M}}finally{try{!R&&!T&&(S=I.return)&&(yield Qt(S.call(I)))}finally{if(k)throw k.error}}if(P.length>0){s=!0;const M=new Fh;M.candidates=[{content:{role:"user",parts:P}}],yield yield Qt(M);const B=[];B.push(...U),B.push({role:"user",parts:P});const V=pa(p.contents).concat(B);p.contents=V}else break}})})(this,u,e)}async generateContentInternal(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=$3(this.apiClient,e);return l=Pe("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=G3(f),y=new Fh;return Object.assign(y,p),y})}else{const d=q3(this.apiClient,e);return l=Pe("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=H3(f),y=new Fh;return Object.assign(y,p),y})}}async generateContentStreamInternal(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=$3(this.apiClient,e);return l=Pe("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return Rd(this,arguments,function*(){var y,v,T,k;try{for(var S=!0,C=lp(p),R;R=yield Qt(C.next()),y=R.done,!y;S=!0){k=R.value,S=!1;const I=k,L=G3(yield Qt(I.json()));L.sdkHttpResponse={headers:I.headers};const F=new Fh;Object.assign(F,L),yield yield Qt(F)}}catch(I){v={error:I}}finally{try{!S&&!y&&(T=C.return)&&(yield Qt(T.call(C)))}finally{if(v)throw v.error}}})})}else{const d=q3(this.apiClient,e);return l=Pe("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(p){return Rd(this,arguments,function*(){var y,v,T,k;try{for(var S=!0,C=lp(p),R;R=yield Qt(C.next()),y=R.done,!y;S=!0){k=R.value,S=!1;const I=k,L=H3(yield Qt(I.json()));L.sdkHttpResponse={headers:I.headers};const F=new Fh;Object.assign(F,L),yield yield Qt(F)}}catch(I){v={error:I}}finally{try{!S&&!y&&(T=C.return)&&(yield Qt(T.call(C)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=IIe(this.apiClient,e);return l=Pe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=RIe(f),y=new k3;return Object.assign(y,p),y})}else{const d=CIe(this.apiClient,e);return l=Pe("{model}:batchEmbedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=NIe(f),y=new k3;return Object.assign(y,p),y})}}async generateImagesInternal(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=BIe(this.apiClient,e);return l=Pe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=$Ie(f),y=new A3;return Object.assign(y,p),y})}else{const d=zIe(this.apiClient,e);return l=Pe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=qIe(f),y=new A3;return Object.assign(y,p),y})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=SIe(this.apiClient,e);return a=Pe("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=TIe(u),f=new Dke;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=BNe(this.apiClient,e);return a=Pe("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=qNe(u),f=new Mke;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=ENe(this.apiClient,e);return a=Pe("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=SNe(u),f=new Oke;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=NNe(this.apiClient,e);return a=Pe("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=RNe(u),f=new Lke;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=oNe(this.apiClient,e);return l=Pe("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>NT(f))}else{const d=sNe(this.apiClient,e);return l=Pe("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>IT(f))}}async listInternal(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=gNe(this.apiClient,e);return l=Pe("{models_url}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=vNe(f),y=new C3;return Object.assign(y,p),y})}else{const d=mNe(this.apiClient,e);return l=Pe("{models_url}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=yNe(f),y=new C3;return Object.assign(y,p),y})}}async update(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=FNe(this.apiClient,e);return l=Pe("{model}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>NT(f))}else{const d=VNe(this.apiClient,e);return l=Pe("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>IT(f))}}async delete(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=xIe(this.apiClient,e);return l=Pe("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=wIe(f),y=new I3;return Object.assign(y,p),y})}else{const d=bIe(this.apiClient,e);return l=Pe("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=_Ie(f),y=new I3;return Object.assign(y,p),y})}}async countTokens(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=gIe(this.apiClient,e);return l=Pe("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=vIe(f),y=new N3;return Object.assign(y,p),y})}else{const d=mIe(this.apiClient,e);return l=Pe("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=yIe(f),y=new N3;return Object.assign(y,p),y})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=lIe(this.apiClient,e);return a=Pe("{model}:computeTokens",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=cIe(u),f=new jke;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=JIe(this.apiClient,e);return l=Pe("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const p=YIe(f),y=new k0;return Object.assign(y,p),y})}else{const d=WIe(this.apiClient,e);return l=Pe("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>{const p=KIe(f),y=new k0;return Object.assign(y,p),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L2e extends Fo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=Ake(e);return l=Pe("{operationName}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s}else{const d=kke(e);return l=Pe("{operationName}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=bke(e);return a=Pe("{resourceName}:fetchPredictOperation",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j2e(t){const e={},n=b(t,["data"]);if(n!=null&&x(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function U2e(t){const e={},n=b(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>K2e(a))),x(e,["parts"],i)}const r=b(t,["role"]);return r!=null&&x(e,["role"],r),e}function V2e(t,e,n){const r={},i=b(e,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const a=b(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&x(n,["newSessionExpireTime"],a);const s=b(e,["uses"]);n!==void 0&&s!=null&&x(n,["uses"],s);const l=b(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&x(n,["bidiGenerateContentSetup"],G2e(t,l));const u=b(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&x(n,["fieldMask"],u),r}function F2e(t,e){const n={},r=b(e,["config"]);return r!=null&&x(n,["config"],V2e(t,r,n)),n}function z2e(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=b(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function B2e(t){const e={},n=b(t,["id"]);n!=null&&x(e,["id"],n);const r=b(t,["args"]);r!=null&&x(e,["args"],r);const i=b(t,["name"]);if(i!=null&&x(e,["name"],i),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function q2e(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function $2e(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function H2e(t,e){const n={},r=b(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=b(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const a=b(t,["temperature"]);e!==void 0&&a!=null&&x(e,["setup","generationConfig","temperature"],a);const s=b(t,["topP"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","topP"],s);const l=b(t,["topK"]);e!==void 0&&l!=null&&x(e,["setup","generationConfig","topK"],l);const u=b(t,["maxOutputTokens"]);e!==void 0&&u!=null&&x(e,["setup","generationConfig","maxOutputTokens"],u);const d=b(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const f=b(t,["seed"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","seed"],f);const p=b(t,["speechConfig"]);e!==void 0&&p!=null&&x(e,["setup","generationConfig","speechConfig"],BC(p));const y=b(t,["thinkingConfig"]);e!==void 0&&y!=null&&x(e,["setup","generationConfig","thinkingConfig"],y);const v=b(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],v);const T=b(t,["systemInstruction"]);e!==void 0&&T!=null&&x(e,["setup","systemInstruction"],U2e(Or(T)));const k=b(t,["tools"]);if(e!==void 0&&k!=null){let j=Ef(k);Array.isArray(j)&&(j=j.map(P=>W2e(wf(P)))),x(e,["setup","tools"],j)}const S=b(t,["sessionResumption"]);e!==void 0&&S!=null&&x(e,["setup","sessionResumption"],Y2e(S));const C=b(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&x(e,["setup","inputAudioTranscription"],C);const R=b(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&x(e,["setup","outputAudioTranscription"],R);const I=b(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&x(e,["setup","realtimeInputConfig"],I);const L=b(t,["contextWindowCompression"]);e!==void 0&&L!=null&&x(e,["setup","contextWindowCompression"],L);const F=b(t,["proactivity"]);return e!==void 0&&F!=null&&x(e,["setup","proactivity"],F),n}function G2e(t,e){const n={},r=b(e,["model"]);r!=null&&x(n,["setup","model"],_t(t,r));const i=b(e,["config"]);return i!=null&&x(n,["config"],H2e(i,n)),n}function K2e(t){const e={},n=b(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=b(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=b(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const a=b(t,["fileData"]);a!=null&&x(e,["fileData"],z2e(a));const s=b(t,["functionCall"]);s!=null&&x(e,["functionCall"],B2e(s));const l=b(t,["functionResponse"]);l!=null&&x(e,["functionResponse"],l);const u=b(t,["inlineData"]);u!=null&&x(e,["inlineData"],j2e(u));const d=b(t,["text"]);d!=null&&x(e,["text"],d);const f=b(t,["thought"]);f!=null&&x(e,["thought"],f);const p=b(t,["thoughtSignature"]);p!=null&&x(e,["thoughtSignature"],p);const y=b(t,["videoMetadata"]);return y!=null&&x(e,["videoMetadata"],y),e}function Y2e(t){const e={},n=b(t,["handle"]);if(n!=null&&x(e,["handle"],n),b(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function W2e(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),x(e,["functionDeclarations"],f)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(t,["googleSearchRetrieval"]);r!=null&&x(e,["googleSearchRetrieval"],r);const i=b(t,["computerUse"]);i!=null&&x(e,["computerUse"],i);const a=b(t,["fileSearch"]);a!=null&&x(e,["fileSearch"],a);const s=b(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=b(t,["googleMaps"]);l!=null&&x(e,["googleMaps"],q2e(l));const u=b(t,["googleSearch"]);u!=null&&x(e,["googleSearch"],$2e(u));const d=b(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J2e(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function X2e(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=J2e(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(d=>s.includes(d)?`generationConfig.${d}`:d));const u=[];a&&u.push(a),l.length>0&&u.push(...l),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Q2e extends Fo{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=F2e(this.apiClient,e);a=Pe("auth_tokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query;const u=X2e(l,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z2e(t,e){const n={},r=b(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function eRe(t){const e={},n=b(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=b(t,["config"]);return r!=null&&Z2e(r,e),e}function tRe(t){const e={},n=b(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function nRe(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=b(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function rRe(t){const e={},n=b(t,["parent"]);n!=null&&x(e,["_url","parent"],n);const r=b(t,["config"]);return r!=null&&nRe(r,e),e}function iRe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=b(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),x(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aRe extends Fo{constructor(e){super(),this.apiClient=e,this.list=async n=>new mu(Io.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=tRe(e);return a=Pe("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=eRe(e);i=Pe("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=rRe(e);return a=Pe("{parent}/documents",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=iRe(u),f=new Uke;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sRe extends Fo{constructor(e,n=new aRe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new mu(Io.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=JNe(e);return a=Pe("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=ZNe(e);return a=Pe("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=QNe(e);i=Pe("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=a2e(e);return a=Pe("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=s2e(u),f=new Vke;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=o2e(e);return a=Pe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=l2e(u),f=new Fke;return Object.assign(f,d),f})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=n2e(e);return a=Pe("{file_search_store_name}:importFile",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=t2e(u),f=new jC;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oRe(t,e){const n={},r=b(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function lRe(t,e){const n={},r=b(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function cRe(t,e){const n={},r=b(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function uRe(t,e){const n={},r=b(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function dRe(t,e,n){const r={};if(b(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=b(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&x(e,["displayName"],i),b(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=b(t,["epochCount"]);e!==void 0&&a!=null&&x(e,["tuningTask","hyperparameters","epochCount"],a);const s=b(t,["learningRateMultiplier"]);if(s!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),b(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(b(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(b(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=b(t,["batchSize"]);e!==void 0&&l!=null&&x(e,["tuningTask","hyperparameters","batchSize"],l);const u=b(t,["learningRate"]);if(e!==void 0&&u!=null&&x(e,["tuningTask","hyperparameters","learningRate"],u),b(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(b(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function fRe(t,e,n){const r={};let i=b(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=b(t,["validationDataset"]);e!==void 0&&v!=null&&x(e,["supervisedTuningSpec"],Z3(v))}else if(i==="PREFERENCE_TUNING"){const v=b(t,["validationDataset"]);e!==void 0&&v!=null&&x(e,["preferenceOptimizationSpec"],Z3(v))}const a=b(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&x(e,["tunedModelDisplayName"],a);const s=b(t,["description"]);e!==void 0&&s!=null&&x(e,["description"],s);let l=b(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=b(t,["epochCount"]);e!==void 0&&v!=null&&x(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(l==="PREFERENCE_TUNING"){const v=b(t,["epochCount"]);e!==void 0&&v!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let u=b(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=b(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(u==="PREFERENCE_TUNING"){const v=b(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let d=b(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=b(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&x(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(d==="PREFERENCE_TUNING"){const v=b(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&x(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let f=b(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const v=b(t,["adapterSize"]);e!==void 0&&v!=null&&x(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(f==="PREFERENCE_TUNING"){const v=b(t,["adapterSize"]);e!==void 0&&v!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(b(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(b(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=b(t,["labels"]);e!==void 0&&p!=null&&x(e,["labels"],p);const y=b(t,["beta"]);return e!==void 0&&y!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","beta"],y),r}function hRe(t,e){const n={},r=b(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=b(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=b(t,["trainingDataset"]);a!=null&&SRe(a);const s=b(t,["config"]);return s!=null&&dRe(s,n),n}function pRe(t,e){const n={},r=b(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=b(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=b(t,["trainingDataset"]);a!=null&&TRe(a,n,e);const s=b(t,["config"]);return s!=null&&fRe(s,n,e),n}function mRe(t,e){const n={},r=b(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function gRe(t,e){const n={},r=b(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function yRe(t,e,n){const r={},i=b(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const a=b(t,["pageToken"]);e!==void 0&&a!=null&&x(e,["_query","pageToken"],a);const s=b(t,["filter"]);return e!==void 0&&s!=null&&x(e,["_query","filter"],s),r}function vRe(t,e,n){const r={},i=b(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const a=b(t,["pageToken"]);e!==void 0&&a!=null&&x(e,["_query","pageToken"],a);const s=b(t,["filter"]);return e!==void 0&&s!=null&&x(e,["_query","filter"],s),r}function bRe(t,e){const n={},r=b(t,["config"]);return r!=null&&yRe(r,n),n}function xRe(t,e){const n={},r=b(t,["config"]);return r!=null&&vRe(r,n),n}function _Re(t,e){const n={},r=b(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=b(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=b(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>m$(l))),x(n,["tuningJobs"],s)}return n}function wRe(t,e){const n={},r=b(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=b(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=b(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>PT(l))),x(n,["tuningJobs"],s)}return n}function ERe(t,e){const n={},r=b(t,["name"]);r!=null&&x(n,["model"],r);const i=b(t,["name"]);return i!=null&&x(n,["endpoint"],i),n}function SRe(t,e){const n={};if(b(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(b(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=b(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(n,["examples","examples"],i)}return n}function TRe(t,e,n){const r={};let i=b(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=b(t,["gcsUri"]);e!==void 0&&s!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=b(t,["gcsUri"]);e!==void 0&&s!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=b(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=b(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=b(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(b(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function m$(t,e){const n={},r=b(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=b(t,["name"]);i!=null&&x(n,["name"],i);const a=b(t,["state"]);a!=null&&x(n,["state"],W8(a));const s=b(t,["createTime"]);s!=null&&x(n,["createTime"],s);const l=b(t,["tuningTask","startTime"]);l!=null&&x(n,["startTime"],l);const u=b(t,["tuningTask","completeTime"]);u!=null&&x(n,["endTime"],u);const d=b(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const f=b(t,["description"]);f!=null&&x(n,["description"],f);const p=b(t,["baseModel"]);p!=null&&x(n,["baseModel"],p);const y=b(t,["_self"]);return y!=null&&x(n,["tunedModel"],ERe(y)),n}function PT(t,e){const n={},r=b(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=b(t,["name"]);i!=null&&x(n,["name"],i);const a=b(t,["state"]);a!=null&&x(n,["state"],W8(a));const s=b(t,["createTime"]);s!=null&&x(n,["createTime"],s);const l=b(t,["startTime"]);l!=null&&x(n,["startTime"],l);const u=b(t,["endTime"]);u!=null&&x(n,["endTime"],u);const d=b(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const f=b(t,["error"]);f!=null&&x(n,["error"],f);const p=b(t,["description"]);p!=null&&x(n,["description"],p);const y=b(t,["baseModel"]);y!=null&&x(n,["baseModel"],y);const v=b(t,["tunedModel"]);v!=null&&x(n,["tunedModel"],v);const T=b(t,["preTunedModel"]);T!=null&&x(n,["preTunedModel"],T);const k=b(t,["supervisedTuningSpec"]);k!=null&&x(n,["supervisedTuningSpec"],k);const S=b(t,["preferenceOptimizationSpec"]);S!=null&&x(n,["preferenceOptimizationSpec"],S);const C=b(t,["tuningDataStats"]);C!=null&&x(n,["tuningDataStats"],C);const R=b(t,["encryptionSpec"]);R!=null&&x(n,["encryptionSpec"],R);const I=b(t,["partnerModelTuningSpec"]);I!=null&&x(n,["partnerModelTuningSpec"],I);const L=b(t,["customBaseModel"]);L!=null&&x(n,["customBaseModel"],L);const F=b(t,["experiment"]);F!=null&&x(n,["experiment"],F);const j=b(t,["labels"]);j!=null&&x(n,["labels"],j);const P=b(t,["outputUri"]);P!=null&&x(n,["outputUri"],P);const U=b(t,["pipelineJob"]);U!=null&&x(n,["pipelineJob"],U);const M=b(t,["serviceAccount"]);M!=null&&x(n,["serviceAccount"],M);const B=b(t,["tunedModelDisplayName"]);B!=null&&x(n,["tunedModelDisplayName"],B);const V=b(t,["veoTuningSpec"]);return V!=null&&x(n,["veoTuningSpec"],V),n}function kRe(t,e){const n={},r=b(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=b(t,["name"]);i!=null&&x(n,["name"],i);const a=b(t,["metadata"]);a!=null&&x(n,["metadata"],a);const s=b(t,["done"]);s!=null&&x(n,["done"],s);const l=b(t,["error"]);return l!=null&&x(n,["error"],l),n}function Z3(t,e){const n={},r=b(t,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=b(t,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ARe extends Fo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new mu(Io.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:TT.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=gRe(e);return l=Pe("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>PT(f))}else{const d=mRe(e);return l=Pe("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>m$(f))}}async listInternal(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=xRe(e);return l=Pe("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=wRe(f),y=new R3;return Object.assign(y,p),y})}else{const d=bRe(e);return l=Pe("tunedModels",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=_Re(f),y=new R3;return Object.assign(y,p),y})}}async cancel(e){var n,r,i,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=lRe(e);return l=Pe("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=uRe(f),y=new P3;return Object.assign(y,p),y})}else{const d=oRe(e);return l=Pe("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:f.headers},y})),s.then(f=>{const p=cRe(f),y=new P3;return Object.assign(y,p),y})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const l=pRe(e,e);return a=Pe("tuningJobs",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>PT(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=hRe(e);return a=Pe("tunedModels",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>kRe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CRe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const IRe=1024*1024*8,NRe=3,RRe=1e3,PRe=2,C0="x-goog-upload-status";async function DRe(t,e,n){var r;const i=await g$(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[C0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function MRe(t,e,n){var r;const i=await g$(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[C0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=q8(a),l=new UC;return Object.assign(l,s),l}async function g$(t,e,n){var r,i;let a=0,s=0,l=new kT(new Response),u="upload";for(a=t.size;s<a;){const d=Math.min(IRe,a-s),f=t.slice(s,s+d);s+d>=a&&(u+=", finalize");let p=0,y=RRe;for(;p<NRe&&(l=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[C0]));)p++,await LRe(y),y=y*PRe;if(s+=d,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[C0])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function ORe(t){return{size:t.size,type:t.type}}function LRe(t){return new Promise(e=>setTimeout(e,t))}class jRe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await DRe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await MRe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ORe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class URe{create(e,n,r){return new VRe(e,n,r)}}class VRe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e5="x-goog-api-key";class FRe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(e5)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(e5,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zRe="gl-node/";class BRe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=yke(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new FRe(this.apiKey);this.apiClient=new g2e({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:zRe+"web",uploader:new jRe,downloader:new CRe}),this.models=new O2e(this.apiClient),this.live=new I2e(this.apiClient,i,new URe),this.batches=new GAe(this.apiClient),this.chats=new ACe(this.models,this.apiClient),this.caches=new SCe(this.apiClient),this.files=new jCe(this.apiClient),this.operations=new L2e(this.apiClient),this.authTokens=new Q2e(this.apiClient),this.tunings=new ARe(this.apiClient),this.fileSearchStores=new sRe(this.apiClient)}}const y$={standard:{id:"standard",label:"Standard",description:"Neutral svensk fordon-personlighet",voiceName:"Puck",examples:["Jag r din plitliga fljeslagare","Lt oss kolla p motorn"]},dalmal:{id:"dalmal",label:"Dala-Elton",description:"Trygg, gubbig & bred Dalml",voiceName:"Fenrir",examples:["Hrru du","D ordner s","Int ska du vl...","Kaffe?"]},gotlandska:{id:"gotlandska",label:"Gotlands-Elton",description:'Slpig, melodis & "Raukar-lugn"',voiceName:"Charon",examples:["Raukt!","But","Hll i hle","Lagom bra"]},rikssvenska:{id:"rikssvenska",label:"Riks-Elton",description:"Tydlig, modern & neutral",voiceName:"Kore",examples:["Vlkommen","Lt oss analysera situationen","Tack fr informationen"]}};function qRe(t){return y$[t||"standard"]}function $Re(){return Object.values(y$)}function HRe(t){const{vehicleData:e,projectName:n,dialectId:r="standard",diagnosticMode:i=!1}=t,a=A.useMemo(()=>qRe(r),[r]),s=A.useMemo(()=>(n==null?void 0:n.trim())||"AI Assistant",[n]);return{systemPrompt:A.useMemo(()=>i?Cve(e):UB(e,r,s),[e,r,s,i]),aiName:s,dialectLabel:a.label,voiceName:a.voiceName}}function GRe(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r}function KRe(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return btoa(e)}const YRe=({project:t,onClose:e})=>{const[n,r]=A.useState(!1),[i,a]=A.useState(!0),[s,l]=A.useState(!1),[u,d]=A.useState(0),[f,p]=A.useState("Vrmer upp motorn..."),[y,v]=A.useState(!1),[T,k]=A.useState("dalmal"),[S,C]=A.useState(!1),R=$Re(),I=HRe({vehicleData:t.vehicleData,projectName:t.name,dialectId:T,diagnosticMode:S}),L=A.useRef(null),F=A.useRef(null),j=A.useRef(null),P=A.useRef(null),U=A.useRef(null),M=A.useRef(0),B=A.useRef(new Set),V=A.useRef(null),q=A.useRef(null),z=A.useRef(null);A.useEffect(()=>(X(),()=>Z()),[S,T]);const le=ne=>{ne!==T&&(k(ne),v(!1))},X=async()=>{try{const ne="AIzaSyAYpTqY_ZVv6VEoZ4tmjSwkkLMnGJgaWzs",Y=new BRe({apiKey:ne});j.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const $=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0});q.current=$,L.current&&(L.current.srcObject=$,L.current.play(),L.current.muted=!0);const te=`${I.systemPrompt}

=== LIVE MODE RULES ===
1. Svara kortfattat (max 2-3 meningar), det r ett samtal i realtid.
2. Du ser vad anvndaren ser om kameran r p - referera till det du ser.
3. Om ljudkvaliteten r dlig, be anvndaren komma nrmare mikrofonen.
${S?"4. LYSSNA NOGA p motorljudet och ge en sannolikhetsbedmning (0-100%) fr olika orsaker.":""}
      `,K=Y.live.connect({model:"gemini-2.0-flash-exp",config:{responseModalities:[Vp.AUDIO],systemInstruction:te,speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:I.voiceName}}},tools:MTe},callbacks:{onopen:()=>{console.log("Connected to Live Mode:",I.aiName),r(!0);const pe=S?"Lyssnar p motorn...":`Ansluten! ${I.dialectLabel}`;p(pe),J($,K)},onmessage:async pe=>{H(pe)},onclose:()=>{console.log("Disconnected"),r(!1)},onerror:pe=>{console.error("Live Error",pe),p("Motorstopp (Fel i anslutningen)")}}});z.current=K}catch(ne){console.error("Failed to start session:",ne),p("Kunde inte starta. Kolla behrigheter.")}},J=(ne,Y)=>{if(!j.current)return;const $=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),te=$.createMediaStreamSource(ne),K=$.createScriptProcessor(4096,1,1);K.onaudioprocess=pe=>{if(!i)return;const we=pe.inputBuffer.getChannelData(0);let Se=0;for(let oe=0;oe<we.length;oe++)Se+=we[oe]*we[oe];d(Math.sqrt(Se/we.length));const Ie=new Int16Array(we.length);for(let oe=0;oe<we.length;oe++){const Ce=Math.max(-1,Math.min(1,we[oe]));Ie[oe]=Ce<0?Ce*32768:Ce*32767}const He=KRe(Ie.buffer);Y.then(oe=>{oe.sendRealtimeInput({media:{mimeType:"audio/pcm;rate=16000",data:He}})})},te.connect(K),K.connect($.destination),P.current=te,U.current=K},H=async ne=>{var $,te,K,pe,we;const Y=(we=(pe=(K=(te=($=ne.serverContent)==null?void 0:$.modelTurn)==null?void 0:te.parts)==null?void 0:K[0])==null?void 0:pe.inlineData)==null?void 0:we.data;if(Y&&j.current){const Se=j.current,Ie=GRe(Y),He=new Float32Array(Ie.length/2),oe=new DataView(Ie.buffer);for(let fe=0;fe<He.length;fe++){const ke=oe.getInt16(fe*2,!0);He[fe]=ke/32768}const Ce=Se.createBuffer(1,He.length,24e3);Ce.getChannelData(0).set(He);const je=Se.createBufferSource();je.buffer=Ce,je.connect(Se.destination);const be=Se.currentTime,lt=Math.max(be,M.current);je.start(lt),M.current=lt+Ce.duration,B.current.add(je),je.onended=()=>B.current.delete(je)}};A.useEffect(()=>(s&&n?V.current=window.setInterval(()=>{if(!F.current||!L.current)return;const ne=F.current.getContext("2d");if(ne&&L.current.videoWidth){F.current.width=L.current.videoWidth/4,F.current.height=L.current.videoHeight/4,ne.drawImage(L.current,0,0,F.current.width,F.current.height);const Y=F.current.toDataURL("image/jpeg",.5).split(",")[1];z.current&&z.current.then($=>{$.sendRealtimeInput({media:{mimeType:"image/jpeg",data:Y}})})}},1e3):V.current&&clearInterval(V.current),()=>{V.current&&clearInterval(V.current)}),[s,n]);const Z=()=>{q.current&&q.current.getTracks().forEach(ne=>ne.stop()),U.current&&U.current.disconnect(),P.current&&P.current.disconnect(),j.current&&j.current.close(),r(!1)};return m.jsxs("div",{"data-testid":"live-elton-container",className:"fixed inset-0 z-50 bg-nordic-charcoal flex flex-col animate-fade-in font-sans",children:[m.jsx("canvas",{ref:F,className:"hidden"}),m.jsxs("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center",children:[s?m.jsx("video",{ref:L,className:"absolute inset-0 w-full h-full object-cover opacity-80",muted:!0,playsInline:!0}):m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-nordic-charcoal to-black flex items-center justify-center",children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"w-40 h-40 bg-teal-600 rounded-full blur-[50px] transition-all duration-100 ease-out absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",style:{transform:`translate(-50%, -50%) scale(${1+u*3})`}}),m.jsx("div",{className:`w-32 h-32 bg-nordic-dark-surface rounded-full flex items-center justify-center relative z-10 border-4 ${S?"border-amber-500":"border-nordic-charcoal"} shadow-2xl`,children:S?m.jsx(GO,{size:48,className:"text-amber-500 animate-pulse"}):m.jsx(Iz,{size:48,className:`text-teal-500 ${n?"animate-pulse":""}`})})]})}),m.jsx("div",{className:"absolute top-10 left-0 right-0 flex justify-center z-10",children:m.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-4 py-2 rounded-full flex items-center gap-2 border border-white/10 shadow-lg",children:[n?m.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}):m.jsx(Lo,{size:14,className:"text-amber-500 animate-spin"}),m.jsx("span",{"data-testid":"status-message",className:"text-white text-xs font-medium tracking-wide",children:f})]})}),y&&m.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-20 flex items-center justify-center p-6",children:m.jsxs("div",{className:"bg-nordic-dark-surface w-full max-w-sm rounded-3xl border border-nordic-charcoal p-6 shadow-2xl",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-white font-serif font-bold text-xl",children:"Vlj Dialekt"}),m.jsx("button",{onClick:()=>v(!1),className:"p-2 bg-nordic-charcoal rounded-full text-slate-400 hover:text-white",children:m.jsx(dr,{size:20})})]}),m.jsx("div",{className:"space-y-3",children:R.map(ne=>m.jsxs("button",{onClick:()=>le(ne.id),className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all ${T===ne.id?"bg-teal-600 border-teal-500 text-white":"bg-nordic-charcoal border-transparent text-slate-300 hover:bg-slate-800"}`,children:[m.jsxs("div",{className:"text-left",children:[m.jsx("span",{className:"block font-bold text-sm",children:ne.label}),m.jsx("span",{className:"block text-xs opacity-70",children:ne.description})]}),T===ne.id&&m.jsx(fm,{size:18})]},ne.id))})]})})]}),m.jsxs("div",{className:"bg-nordic-dark-surface p-8 pb-12 border-t border-nordic-charcoal relative z-10",children:[m.jsxs("div",{className:"flex items-center justify-center gap-6 max-w-md mx-auto",children:[m.jsx("button",{"data-testid":"diagnostic-toggle",onClick:()=>C(!S),className:`p-4 rounded-full transition-all ${S?"bg-amber-500 text-white shadow-lg shadow-amber-500/20":"bg-nordic-charcoal text-slate-400 hover:bg-slate-700"}`,title:"Ljud-Doktorn (Motor-diagnostik)",children:m.jsx(GO,{size:24})}),m.jsx("button",{"data-testid":"video-toggle",onClick:()=>l(!s),className:`p-4 rounded-full transition-all ${s?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-white hover:bg-slate-700"}`,children:s?m.jsx(Gz,{size:24}):m.jsx(nfe,{size:24})}),m.jsx("button",{"data-testid":"hang-up-button",onClick:e,className:"p-6 bg-rose-500 rounded-full text-white hover:bg-rose-600 hover:scale-105 transition-all shadow-lg shadow-rose-500/30",children:m.jsx(wde,{size:32})}),m.jsx("button",{"data-testid":"mic-toggle",onClick:()=>a(!i),className:`p-4 rounded-full transition-all ${i?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-rose-500 hover:bg-slate-700"}`,children:i?m.jsx(dde,{size:24}):m.jsx(cde,{size:24})})]}),m.jsx("button",{"data-testid":"settings-button",onClick:()=>v(!0),className:"absolute right-8 top-1/2 -translate-y-1/2 p-3 text-slate-500 hover:text-white transition-colors",children:m.jsx(qz,{size:20})}),m.jsxs("p",{className:"text-center text-slate-500 text-xs mt-6",children:[I.aiName,' "ser" via din kamera om du slr p den.']})]})]})},WRe=({project:t,contacts:e=[],onAddTask:n,onUpdateTask:r,onDeleteTask:i,onAddShoppingItem:a,onUpdateShoppingItem:s,onDeleteShoppingItem:l,onClose:u})=>{const[d,f]=A.useState([]),[p,y]=A.useState(""),[v,T]=A.useState(!1),[k,S]=A.useState(!1),[C,R]=A.useState(null),[I,L]=A.useState(null),F=A.useRef(null),j=A.useRef(null),P=A.useMemo(()=>fke(t,e),[t,e]);A.useMemo(()=>hke(t),[t]),A.useEffect(()=>{U()},[t.id]);const U=async()=>{try{const X=await tke(t.id);X.length>0?f(X):M()}catch(X){console.error("Failed to load chat history:",X),L("Kunde inte ladda chatthistorik"),M()}};A.useEffect(()=>{if(d.length>0){const X=setTimeout(()=>{nke(t.id,d).catch(J=>{console.error("Failed to save chat history:",J)})},1e3);return()=>clearTimeout(X)}},[d,t.id]);const M=()=>{const J={role:"model",content:`Hall dr!  Det r jag som r ${t.name||"AI Assistant"}. Vad ska vi hitta p?`,timestamp:new Date().toISOString()};f([J])},B=async()=>{if(window.confirm("Vill du glmma vr konversation?"))try{await rke(t.id),M(),L(null)}catch(X){console.error("Failed to clear chat history:",X),L("Kunde inte radera chatthistorik")}},V=()=>{var X;(X=F.current)==null||X.scrollIntoView({behavior:"smooth"})};A.useEffect(V,[d]);const q=X=>{var H;const J=(H=X.target.files)==null?void 0:H[0];if(J){const Z=new FileReader;Z.onloadend=()=>{R(Z.result)},Z.readAsDataURL(J)}},z=async X=>{if(!X||X.length===0)return[];const J=[];for(const H of X){console.log("Executing tool:",H.name,H.args);try{if(H.name==="addTask"&&n){const Z=Array.isArray(H.args.tasks)?H.args.tasks:[H.args];n(Z),J.push({name:H.name,result:`Added ${Z.length} tasks successfully.`})}else if(H.name==="updateTask"&&r){const Z=t.tasks.find(ne=>ne.id===H.args.taskTitleKeywords||ne.title.toLowerCase().includes(H.args.taskTitleKeywords.toLowerCase()));if(Z){const ne={};H.args.newStatus&&(ne.status=H.args.newStatus),H.args.newPriority&&(ne.priority=H.args.newPriority),H.args.newSprint&&(ne.sprint=H.args.newSprint),H.args.newTitle&&(ne.title=H.args.newTitle),H.args.newDescription&&(ne.description=H.args.newDescription),H.args.newCost&&(ne.estimatedCostMax=H.args.newCost),r({...Z,...ne}),J.push({name:H.name,result:`Updated task "${Z.title}".`})}else J.push({name:H.name,result:`Task not found: "${H.args.taskTitleKeywords}"`})}else if(H.name==="deleteTask"&&i){const Z=t.tasks.find(ne=>ne.id===H.args.taskTitleKeywords||ne.title.toLowerCase().includes(H.args.taskTitleKeywords.toLowerCase()));Z?(i(Z.id),J.push({name:H.name,result:`Deleted task "${Z.title}".`})):J.push({name:H.name,result:`Task not found: "${H.args.taskTitleKeywords}"`})}else if(H.name==="addToShoppingList"&&a)a(H.args),J.push({name:H.name,result:"Added item to shopping list."});else if(H.name==="registerPurchase"&&s){const Z=t.shoppingItems.find(ne=>ne.name.toLowerCase().includes(H.args.itemNameKeywords.toLowerCase()));Z?(s({...Z,checked:!0,actualCost:H.args.actualCost,store:H.args.store,purchaseDate:H.args.date||new Date().toISOString().split("T")[0]}),J.push({name:H.name,result:`Registered purchase of "${Z.name}".`})):J.push({name:H.name,result:`Shopping item not found: "${H.args.itemNameKeywords}"`})}else if(H.name==="updateShoppingItem"&&s){const Z=t.shoppingItems.find(ne=>ne.name.toLowerCase().includes(H.args.itemNameKeywords.toLowerCase()));if(Z){const ne={};H.args.newName&&(ne.name=H.args.newName),H.args.newQuantity&&(ne.quantity=H.args.newQuantity),H.args.newCategory&&(ne.category=H.args.newCategory),H.args.newCost&&(ne.estimatedCost=H.args.newCost),s({...Z,...ne}),J.push({name:H.name,result:`Updated shopping item "${Z.name}".`})}else J.push({name:H.name,result:`Shopping item not found: "${H.args.itemNameKeywords}"`})}else if(H.name==="deleteShoppingItem"&&l){const Z=t.shoppingItems.find(ne=>ne.name.toLowerCase().includes(H.args.itemNameKeywords.toLowerCase()));Z?(l(Z.id),J.push({name:H.name,result:`Deleted shopping item "${Z.name}".`})):J.push({name:H.name,result:`Shopping item not found: "${H.args.itemNameKeywords}"`})}else J.push({name:H.name,result:"Tool executed successfully."})}catch(Z){console.error("Tool execution failed:",Z);const ne=`Error executing ${H.name}: ${Z.message}`;J.push({name:H.name,result:ne}),L(ne)}}return J},le=async()=>{if(!p.trim()&&!C||v)return;L(null);const X=p,J=C;y(""),R(null);try{let H;if(J)try{H=await uke(J,t.id)}catch(K){console.error("Failed to upload image:",K),L("Kunde inte ladda upp bild")}const Z={role:"user",content:X,imageUrl:H,timestamp:new Date().toISOString()};f(K=>[...K,Z]),T(!0);let ne="";const Y={role:"model",content:"",timestamp:new Date().toISOString()};f(K=>[...K,Y]);const $=`${X}

---

${P}`,te=d.map(K=>({role:K.role,content:K.content,image:K.imageUrl}));await RTe(te,$,t.vehicleData,t.tasks,t.shoppingItems,K=>{ne+=K,f(pe=>{const we=[...pe];return we[we.length-1].content=ne,we})},z,J?J.split(",")[1]:void 0,t.nickname||t.name,t.userSkillLevel,t.type)}catch(H){console.error("Chat error:",H),L(`Fel: ${H.message||"Kunde inte skicka meddelande"}`)}finally{T(!1)}};return k?m.jsx(YRe,{project:t,onClose:()=>S(!1)}):m.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] bg-white dark:bg-nordic-dark-surface rounded-2xl border border-slate-200 dark:border-nordic-dark-bg shadow-sm overflow-hidden animate-fade-in",children:[m.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-4 border-b border-slate-100 dark:border-nordic-dark-bg flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[u&&m.jsx("button",{onClick:u,className:"p-2 -ml-2 text-slate-500 hover:bg-black/5 rounded-full md:hidden",children:m.jsx(Jv,{size:20})}),m.jsx("div",{className:"p-2 bg-white dark:bg-nordic-dark-bg rounded-lg shadow-sm text-teal-600",children:m.jsx(Xv,{size:24})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"font-serif font-semibold text-nordic-charcoal dark:text-nordic-ice",children:[t.vehicleData.make," ",t.vehicleData.model]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted",children:t.vehicleData.year})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{"data-testid":"ring-upp-button",onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 transition-colors shadow-sm animate-pulse",children:[m.jsx(Gz,{size:18}),m.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Ring upp"})]}),m.jsx("button",{onClick:B,className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Rensa historik",children:m.jsx(jl,{size:18})})]})]}),I&&m.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800 p-3 flex items-center gap-2 text-red-700 dark:text-red-300",children:[m.jsx(lo,{size:18}),m.jsx("span",{className:"text-sm",children:I}),m.jsx("button",{onClick:()=>L(null),className:"ml-auto p-1 hover:bg-red-100 dark:hover:bg-red-800 rounded",children:m.jsx(dr,{size:16})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-nordic-dark-bg/50",children:[d.map((X,J)=>m.jsx("div",{className:`flex w-full ${X.role==="user"?"justify-end":"justify-start"}`,children:m.jsxs("div",{className:`flex max-w-[85%] ${X.role==="user"?"flex-row-reverse":"flex-row"} items-end gap-2`,children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 border border-white/20 shadow-sm ${X.role==="user"?"bg-nordic-charcoal text-white":"bg-nordic-beige text-amber-900"}`,children:X.role==="user"?m.jsx(hm,{size:14}):m.jsx(Xv,{size:16})}),m.jsxs("div",{className:`p-3.5 rounded-2xl text-sm leading-relaxed shadow-sm flex flex-col gap-2 ${X.role==="user"?"bg-nordic-charcoal dark:bg-teal-600 text-white rounded-br-none":"bg-white dark:bg-nordic-dark-surface text-slate-700 dark:text-nordic-dark-text border border-slate-100 dark:border-nordic-charcoal rounded-bl-none"}`,children:[X.imageUrl&&m.jsx("img",{src:X.imageUrl,alt:"Uppladdad bild",className:"rounded-lg max-w-full h-auto border border-white/20"}),X.role==="user"?m.jsx("p",{children:X.content}):m.jsx(CB,{className:"prose prose-sm dark:prose-invert max-w-none prose-p:my-1 prose-headings:my-2 prose-ul:my-1 prose-li:my-0",components:{h1:({node:H,...Z})=>m.jsx("h1",{className:"text-base font-bold text-nordic-charcoal dark:text-nordic-ice mt-2",...Z}),h2:({node:H,...Z})=>m.jsx("h2",{className:"text-sm font-bold text-teal-600 dark:text-teal-400 mt-2 uppercase tracking-wide",...Z}),h3:({node:H,...Z})=>m.jsx("h3",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 mt-2",...Z}),ul:({node:H,...Z})=>m.jsx("ul",{className:"list-disc list-outside ml-4 space-y-1 my-2",...Z}),ol:({node:H,...Z})=>m.jsx("ol",{className:"list-decimal list-outside ml-4 space-y-1 my-2",...Z}),li:({node:H,...Z})=>m.jsx("li",{className:"pl-1 marker:text-teal-500",...Z}),strong:({node:H,...Z})=>m.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...Z}),a:({node:H,...Z})=>m.jsx("a",{className:"text-teal-600 hover:underline cursor-pointer font-medium",target:"_blank",...Z}),blockquote:({node:H,...Z})=>m.jsx("blockquote",{className:"border-l-4 border-teal-200 pl-3 italic text-slate-500 my-2",...Z})},children:X.content})]})]})},J)),m.jsx("div",{ref:F})]}),m.jsxs("div",{className:"p-4 bg-white dark:bg-nordic-dark-surface border-t border-slate-100 dark:border-nordic-dark-bg",children:[C&&m.jsxs("div",{className:"flex items-center gap-2 mb-2 p-2 bg-slate-100 dark:bg-nordic-charcoal rounded-xl w-fit animate-fade-in",children:[m.jsx("img",{src:C,alt:"Vald",className:"w-10 h-10 object-cover rounded-lg"}),m.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Bild redo att skickas"}),m.jsx("button",{onClick:()=>R(null),className:"p-1 hover:bg-slate-200 dark:hover:bg-nordic-dark-bg rounded-full",children:m.jsx(dr,{size:14})})]}),m.jsxs("div",{className:"flex space-x-2 relative",children:[m.jsx("button",{onClick:()=>{var X;return(X=j.current)==null?void 0:X.click()},className:"p-3 text-slate-400 hover:text-teal-600 hover:bg-slate-50 dark:hover:bg-nordic-charcoal rounded-xl transition-colors",children:m.jsx(kb,{size:20})}),m.jsx("input",{type:"file",ref:j,className:"hidden",accept:"image/*",onChange:q}),m.jsx("input",{type:"text",value:p,onChange:X=>y(X.target.value),onKeyDown:X=>X.key==="Enter"&&le(),placeholder:"Sg ngot...",className:"flex-1 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal text-slate-700 dark:text-nordic-ice text-sm rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all placeholder:text-slate-400",disabled:v}),m.jsx("button",{onClick:le,disabled:!p.trim()&&!C||v,className:"bg-nordic-charcoal dark:bg-teal-600 hover:bg-slate-800 dark:hover:bg-teal-700 disabled:bg-slate-300 dark:disabled:bg-nordic-charcoal text-white p-3 rounded-xl transition-colors shadow-sm",children:m.jsx(Bz,{size:18})})]})]})]})},t5=async(t,e)=>{try{let n=null;try{n=JSON.parse(t)}catch{}return n&&n.vehicle?JRe(n):await XRe(t,e)}catch(n){throw console.error("Project import error:",n),new Error("Kunde inte importera projektdata")}},JRe=t=>{var n,r,i,a;const e={};return t.vehicle&&(e.vehicleData={regNo:t.vehicle.identity.regNo,make:t.vehicle.identity.make,model:t.vehicle.identity.model,year:t.vehicle.identity.year,prodYear:t.vehicle.identity.productionYear,regDate:t.vehicle.identity.firstRegistration,vin:t.vehicle.identity.vin,color:t.vehicle.identity.color,bodyType:t.vehicle.identity.bodyType,status:t.vehicle.status.current,inspection:{last:t.vehicle.status.lastInspection,mileage:((n=t.vehicle.status.odometerReading)==null?void 0:n.toString())||"",next:""},engine:{code:t.vehicle.engine.code,fuel:t.vehicle.engine.type.includes("Bensin")?"Bensin":t.vehicle.engine.type.includes("Diesel")?"Diesel":"",power:t.vehicle.engine.power,volume:t.vehicle.engine.type.split(" ")[0]||"",cylinders:t.vehicle.engine.cylinders,torque:t.vehicle.engine.torque,cooling:t.vehicle.engine.cooling,valveTrain:t.vehicle.engine.valveTrain,carburetor:t.vehicle.engine.carburetor},gearbox:t.vehicle.specs.gearbox,wheels:{drive:t.vehicle.specs.drive,tiresFront:((r=t.vehicle.specs.tires.split("/")[0])==null?void 0:r.trim())||"",tiresRear:((i=t.vehicle.specs.tires.split("/")[0])==null?void 0:i.trim())||"",boltPattern:((a=t.vehicle.specs.tires.split("/")[1])==null?void 0:a.trim())||""},dimensions:{length:t.vehicle.specs.length,width:t.vehicle.specs.width,height:"",wheelbase:t.vehicle.specs.wheelbase},weights:{curb:t.vehicle.specs.weights.curb,total:t.vehicle.specs.weights.total,load:t.vehicle.specs.weights.load,trailer:t.vehicle.specs.weights.trailer,trailerB:0},passengers:2,history:{owners:0,events:0,lastOwnerChange:""}}),t.knowledgeBase&&t.knowledgeBase.length>0&&(e.knowledgeArticles=t.knowledgeBase.map(s=>({id:s.id||Dl(),title:s.title,summary:s.summary,content:s.content,tags:s.tags}))),t.tasks&&t.tasks.length>0&&(e.tasks=t.tasks.map(s=>{var f;let l=0,u=0,d=s.cost||0;if(s.estCost){const p=s.estCost.match(/(\d+)(?:-(\d+))?/);p&&(l=parseInt(p[1]),u=p[2]?parseInt(p[2]):l)}return{id:Dl(),title:s.title,description:s.description||"",status:s.status,phase:s.phase,priority:s.priority,estimatedCostMin:l,estimatedCostMax:u,actualCost:d,weightKg:0,costType:"Drift",tags:[],links:[],comments:[],attachments:[],subtasks:((f=s.checklist)==null?void 0:f.map(p=>({id:Dl(),title:p,completed:!1})))||[]}})),t.shoppingList&&t.shoppingList.length>0&&(e.shoppingItems=t.shoppingList.map(s=>({id:Dl(),name:s.name,category:"Reservdelar",estimatedCost:s.estCost||0,quantity:s.qty||"1 st",checked:!1,url:s.url}))),e.contacts=t.contacts||[],e.tips=t.tips||[],e},XRe=async(t,e)=>{const n=await F8(t,e);return{tasks:n.tasks,shoppingItems:n.shoppingItems}},QRe=(t,e)=>{const n={};return e.vehicleData&&(n.vehicleData={...t.vehicleData,...e.vehicleData}),e.knowledgeArticles&&e.knowledgeArticles.length>0&&(n.knowledgeArticles=[...t.knowledgeArticles||[],...e.knowledgeArticles]),e.tasks&&e.tasks.length>0&&(n.tasks=[...t.tasks,...e.tasks]),e.shoppingItems&&e.shoppingItems.length>0&&(n.shoppingItems=[...t.shoppingItems,...e.shoppingItems]),n},Om=e9(Mm,"europe-west1");jo(Om,"ocrLicensePlate");const ZRe=jo(Om,"ocrReceipt");jo(Om,"ocrVIN");jo(Om,"ocrServiceDocument");jo(Om,"ocrExtractText");async function ePe(t){try{return(await ZRe({imageBase64:t})).data}catch(e){return console.error("Receipt OCR failed:",e),{success:!1,items:[]}}}function tPe(t){return t.map(e=>({name:e.name,category:"vrigt",estimatedCost:e.price,actualCost:e.price,quantity:`${e.quantity} st`,checked:!0,purchaseDate:new Date().toISOString().split("T")[0]}))}const nPe=({project:t,onAddTasks:e,onAddShoppingItems:n,onUpdateProject:r,onClose:i})=>{const[a,s]=A.useState(""),[l,u]=A.useState(!1),[d,f]=A.useState([]),[p,y]=A.useState([]),[v,T]=A.useState([]),[k,S]=A.useState(null),[C,R]=A.useState("task"),[I,L]=A.useState(null),F=M=>{var V;const B=(V=M.target.files)==null?void 0:V[0];if(B){if(B.size>5*1024*1024){L("Bilden r fr stor (max 5MB)");return}const q=new FileReader;q.onloadend=()=>{S(q.result),L(null)},q.onerror=()=>{L("Kunde inte lsa bilden")},q.readAsDataURL(B)}},j=M=>{var B;return{id:Dl(),title:M.title||"Ny uppgift",description:M.description||"",status:dt.TODO,phase:M.phase||"Fas 1: Akut",priority:M.priority||di.MEDIUM,estimatedCostMin:M.estimatedCostMin||0,estimatedCostMax:M.estimatedCostMax||M.estimatedCostMin||0,actualCost:0,weightKg:M.weightKg||0,costType:M.costType||la.OPERATION,tags:M.tags||[],links:[],comments:[],attachments:[],subtasks:((B=M.subtasks)==null?void 0:B.map(V=>({id:Dl(),title:typeof V=="string"?V:V.title||"",completed:!1})))||[],difficultyLevel:M.difficultyLevel,requiredTools:M.requiredTools}},P=async()=>{if(!a&&!k){L("Skriv in text eller ladda upp en bild");return}u(!0),L(null);const M=k?k.split(",")[1]:void 0;try{if(C==="receipt"&&k&&M){const B=await ePe(M);if(B.success&&B.items.length>0){const V=tPe(B.items);y(V)}else L("Kunde inte lsa kvittot. Frsk med bttre belysning eller tydligare bild!")}else if(C==="project"&&t&&r){const B=await t5(a,M);B.tasks&&B.tasks.length>0&&f(B.tasks),B.shoppingItems&&B.shoppingItems.length>0&&y(B.shoppingItems),B.knowledgeArticles&&B.knowledgeArticles.length>0&&T(B.knowledgeArticles),B.vehicleData||B.knowledgeArticles||B.tasks||L("Kunde inte hitta projektdata i texten/bilden.")}else{const{tasks:B}=await F8(a,M);if(!B||B.length===0){L("Kunde inte hitta ngra uppgifter i texten/bilden. Frsk vara mer specifik."),u(!1);return}const V=B.map(j);f(V)}}catch(B){console.error("Analysis failed:",B),L(`Fel vid analys: ${B.message||"Ngot gick fel. Frsk igen."}`)}finally{u(!1)}},U=async()=>{if(C==="project"&&t&&r){const M=await t5(a,k==null?void 0:k.split(",")[1]),B=QRe(t,M);r(B)}d.length>0&&(e(d),f([])),p.length>0&&n&&(n(p),y([])),T([]),s(""),S(null),i()};return m.jsxs("div",{className:"bg-white rounded-3xl border border-nordic-slate/10 shadow-xl overflow-hidden animate-fade-in relative",children:[m.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white p-6 border-b border-nordic-slate/10 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm text-teal-600",children:m.jsx(Ll,{size:24})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-serif font-bold text-nordic-charcoal",children:"The Magic Import"}),m.jsx("p",{className:"text-sm text-nordic-slate",children:"Klistra in anteckningar eller ladda upp kvitton"})]})]}),m.jsx("button",{onClick:i,className:"p-2 -mr-2 text-nordic-slate hover:bg-black/5 rounded-full transition-colors",children:m.jsx(dr,{size:24})})]}),I&&m.jsxs("div",{className:"bg-red-50 border-b border-red-200 p-3 mx-6 mt-4 rounded-xl flex items-center gap-2 text-red-700",children:[m.jsx(lo,{size:18}),m.jsx("span",{className:"text-sm flex-1",children:I}),m.jsx("button",{onClick:()=>L(null),className:"p-1 hover:bg-red-100 rounded",children:m.jsx(dr,{size:16})})]}),m.jsx("div",{className:"p-6 space-y-6",children:d.length===0&&p.length===0&&v.length===0?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 dark:bg-nordic-dark-bg rounded-xl",children:[m.jsxs("button",{onClick:()=>R("task"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${C==="task"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[m.jsx(Ll,{size:14,className:"inline mr-1"}),"Uppgifter"]}),m.jsxs("button",{onClick:()=>R("receipt"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${C==="receipt"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[m.jsx(J1,{size:14,className:"inline mr-1"}),"Kvitton"]}),t&&r&&m.jsxs("button",{onClick:()=>R("project"),className:`flex-1 py-2 px-3 rounded-lg font-medium text-xs transition-all ${C==="project"?"bg-white dark:bg-nordic-charcoal text-nordic-charcoal dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[m.jsx(Oz,{size:14,className:"inline mr-1"}),"Projekt Data"]})]}),m.jsx("textarea",{className:"w-full p-4 rounded-xl bg-nordic-ice/30 border border-nordic-slate/20 focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all min-h-[150px] placeholder:text-nordic-slate/50",placeholder:C==="receipt"?"Eller ladda upp kvitto...":C==="project"?"Klistra in JSON data eller dela text/bild med projektinformation (motorspec, kunskapsbas, uppgifter, etc)...":"Ex: Behver kpa 4st Nokian dck, kostar ca 5000kr. Mste ocks fixa rost i balken (akut!)...",value:a,onChange:M=>s(M.target.value),disabled:C==="receipt"}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer px-4 py-2 rounded-xl hover:bg-nordic-ice transition-colors text-nordic-slate text-sm font-medium",children:[C==="receipt"?m.jsx(J1,{size:18}):m.jsx(kb,{size:18}),m.jsxs("span",{children:["Ladda upp ",C==="receipt"?"kvitto":"bild"]}),m.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:F})]}),k&&m.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Bild vald "})]}),m.jsx("button",{onClick:P,disabled:l||!a&&!k,className:"w-full py-4 bg-nordic-charcoal text-white rounded-xl font-medium hover:bg-slate-800 transition-all disabled:opacity-50 flex items-center justify-center space-x-2",children:l?m.jsxs(m.Fragment,{children:[m.jsx(Lo,{size:20,className:"animate-spin"}),m.jsx("span",{children:"AI Analyserar..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ll,{size:18}),m.jsx("span",{children:"Skapa Uppgifter"})]})})]}):m.jsxs("div",{className:"space-y-4",children:[d.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{className:"font-medium text-nordic-slate",children:"Frslag p uppgifter:"}),m.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:d.map((M,B)=>m.jsxs("div",{className:"p-4 rounded-xl border border-nordic-slate/10 bg-white shadow-sm flex items-start gap-4",children:[m.jsx("div",{className:`p-2 rounded-lg mt-1 shrink-0 ${M.costType==="Investering"?"bg-nordic-green":"bg-nordic-pink"}`,children:M.costType==="Investering"?"INV":"DRIFT"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-bold text-nordic-charcoal",children:M.title}),m.jsx("p",{className:"text-sm text-nordic-slate mb-2",children:M.description}),m.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[m.jsx("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:M.phase}),m.jsxs("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:[M.estimatedCostMin,"-",M.estimatedCostMax," kr"]}),M.weightKg>0&&m.jsxs("span",{className:"bg-amber-50 text-amber-700 px-2 py-1 rounded-md",children:[M.weightKg," kg"]})]})]})]},B))})]}),p.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{className:"font-medium text-nordic-slate",children:"Inkp frn kvitto:"}),m.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:p.map((M,B)=>m.jsxs("div",{className:"p-4 rounded-xl border border-green-200 bg-green-50 shadow-sm flex items-center gap-4",children:[m.jsx(J1,{size:24,className:"text-green-600"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-bold text-nordic-charcoal",children:M.name}),m.jsxs("div",{className:"flex gap-4 text-sm text-slate-600 mt-1",children:[m.jsxs("span",{children:["Antal: ",M.quantity]}),m.jsxs("span",{className:"font-bold text-green-700",children:[M.actualCost," kr"]})]})]})]},B))})]}),m.jsxs("div",{className:"flex space-x-3 pt-4",children:[m.jsx("button",{onClick:()=>{f([]),y([])},className:"flex-1 py-3 px-4 rounded-xl border border-nordic-slate/20 text-nordic-slate hover:bg-slate-50 font-medium",children:"Avbryt"}),m.jsxs("button",{onClick:U,className:"flex-1 py-3 px-4 rounded-xl bg-nordic-charcoal text-white hover:bg-slate-800 font-medium flex items-center justify-center space-x-2 shadow-lg shadow-slate-200",children:[m.jsx(ws,{size:18}),m.jsx("span",{children:"Lgg till allt"})]})]})]})})]})},rPe=({contacts:t,onUpdate:e,featureLocation:n="vehicleSpecs"})=>{const[r,i]=A.useState(""),[a,s]=A.useState("all"),[l,u]=A.useState(!1),[d,f]=A.useState(null),p=["all","Mrkesverkstad","Service & Akut","Specialist","Veteran & Kaross","Frskring & Rddning"],y=I=>{switch(I){case"Mrkesverkstad":return m.jsx(Xv,{size:16,className:"text-blue-600"});case"Service & Akut":return m.jsx(co,{size:16,className:"text-orange-600"});case"Specialist":return m.jsx(Zce,{size:16,className:"text-purple-600"});case"Veteran & Kaross":return m.jsx(US,{size:16,className:"text-teal-600"});case"Frskring & Rddning":return m.jsx(US,{size:16,className:"text-red-600"})}},v=I=>{switch(I){case"Mrkesverkstad":return"bg-blue-50 text-blue-700 border-blue-200";case"Service & Akut":return"bg-orange-50 text-orange-700 border-orange-200";case"Specialist":return"bg-purple-50 text-purple-700 border-purple-200";case"Veteran & Kaross":return"bg-teal-50 text-teal-700 border-teal-200";case"Frskring & Rddning":return"bg-red-50 text-red-700 border-red-200"}},T=A.useMemo(()=>{let I=t||[];if(a!=="all"&&(I=I.filter(L=>L.category===a)),r){const L=r.toLowerCase();I=I.filter(F=>F.name.toLowerCase().includes(L)||F.phone.includes(L)||F.location.toLowerCase().includes(L)||F.specialty.toLowerCase().includes(L))}return I},[t,a,r]),k=A.useMemo(()=>{const I={};return T.forEach(L=>{I[L.category]||(I[L.category]=[]),I[L.category].push(L)}),I},[T]),S=I=>{confirm(`Ta bort kontakt: ${I.name}?`)&&e(t.filter(L=>L.name!==I.name||L.phone!==I.phone))},C=I=>{f(I),u(!0)},R=I=>{if(d){const L=t.findIndex(j=>j.name===d.name&&j.phone===d.phone),F=[...t];F[L]=I,e(F)}else e([...t||[],I]);u(!1),f(null)};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex-1 relative",children:[m.jsx(Hd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),m.jsx("input",{type:"text",placeholder:"Sk kontakter...",value:r,onChange:I=>i(I.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500/20"})]}),m.jsxs("button",{onClick:()=>{f(null),u(!0)},className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-xl font-medium flex items-center gap-2 transition-colors",children:[m.jsx(ws,{size:18}),"Lgg till"]})]}),m.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:p.map(I=>m.jsxs("button",{onClick:()=>s(I),className:`px-3 py-1.5 rounded-lg text-xs font-bold whitespace-nowrap transition-colors ${a===I?"bg-teal-600 text-white":"bg-slate-100 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-nordic-dark-bg"}`,children:[I==="all"?"Alla":I,I!=="all"&&t&&` (${t.filter(L=>L.category===I).length})`]},I))}),T.length===0?m.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl",children:[m.jsx(hm,{size:48,className:"mx-auto text-slate-300 mb-3"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r||a!=="all"?"Inga kontakter matchar dina filter":"Inga kontakter nnu. Lgg till din frsta kontakt!"})]}):m.jsx("div",{className:"space-y-6",children:Object.entries(k).map(([I,L])=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[y(I),m.jsx("h3",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:I}),m.jsxs("span",{className:"text-xs text-slate-400",children:["(",L==null?void 0:L.length,")"]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:L==null?void 0:L.map((F,j)=>m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow group",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-1",children:F.name}),m.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded border ${v(F.category)}`,children:F.specialty})]}),m.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>C(F),className:"p-1.5 text-slate-400 hover:text-teal-600 hover:bg-teal-50 dark:hover:bg-teal-900/20 rounded transition-colors",children:m.jsx(Fz,{size:14})}),m.jsx("button",{onClick:()=>S(F),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:m.jsx(jl,{size:14})})]})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsxs("a",{href:`tel:${F.phone}`,className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",children:[m.jsx(vA,{size:14}),F.phone]}),m.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(F.location)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",children:[m.jsx(Xh,{size:14}),F.location]})]}),F.note&&m.jsx("p",{className:"mt-2 pt-2 border-t border-slate-100 dark:border-nordic-charcoal text-xs text-slate-500 dark:text-slate-400 italic",children:F.note})]},j))})]},I))}),l&&m.jsx(iPe,{contact:d,onSave:R,onClose:()=>{u(!1),f(null)}})]})},iPe=({contact:t,onSave:e,onClose:n})=>{const[r,i]=A.useState(t||{name:"",phone:"",location:"",category:"Mrkesverkstad",specialty:"",note:""}),a=s=>{s.preventDefault(),!(!r.name||!r.phone)&&e(r)};return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-lg w-full shadow-2xl",children:[m.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 p-6 text-white rounded-t-3xl",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h2",{className:"text-2xl font-bold",children:t?"Redigera Kontakt":"Ny Kontakt"}),m.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:m.jsx(dr,{size:24})})]})}),m.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Namn *"}),m.jsx("input",{type:"text",value:r.name,onChange:s=>i({...r,name:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Volvo Center Stockholm",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Kategori *"}),m.jsxs("select",{value:r.category,onChange:s=>i({...r,category:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0,children:[m.jsx("option",{value:"Mrkesverkstad",children:"Mrkesverkstad"}),m.jsx("option",{value:"Service & Akut",children:"Service & Akut"}),m.jsx("option",{value:"Specialist",children:"Specialist"}),m.jsx("option",{value:"Veteran & Kaross",children:"Veteran & Kaross"}),m.jsx("option",{value:"Frskring & Rddning",children:"Frskring & Rddning"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Specialitet"}),m.jsx("input",{type:"text",value:r.specialty,onChange:s=>i({...r,specialty:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Elmekaniker, Rostskador, etc."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Telefon *"}),m.jsx("input",{type:"tel",value:r.phone,onChange:s=>i({...r,phone:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"08-123 45 67",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Plats"}),m.jsx("input",{type:"text",value:r.location,onChange:s=>i({...r,location:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Stockholm, Gteborg, etc."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Anteckningar"}),m.jsx("textarea",{value:r.note,onChange:s=>i({...r,note:s.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",rows:3,placeholder:"Valfria anteckningar..."})]}),m.jsxs("div",{className:"flex gap-2 pt-4",children:[m.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-medium transition-colors",children:"Spara"}),m.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]})]})})},v$="vanplan_user_location",aPe=1440*60*1e3,sPe=()=>new Promise((t,e)=>{if(!navigator.geolocation){e(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(async n=>{const{latitude:r,longitude:i}=n.coords;try{const s=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${r}&lon=${i}&zoom=10&addressdetails=1`,{headers:{"User-Agent":"VanPlan/1.0"}})).json(),l={city:s.address.city||s.address.town||s.address.village||s.address.municipality||"Oknd ort",region:s.address.state||s.address.county||"",country:s.address.country||"Sverige",coordinates:{lat:r,lng:i},source:"gps",lastUpdated:new Date().toISOString()};DT(l),t(l)}catch{const s={city:"Oknd ort",region:"",country:"Sverige",coordinates:{lat:r,lng:i},source:"gps",lastUpdated:new Date().toISOString()};DT(s),t(s)}},n=>{e(new Error(`GPS error: ${n.message}`))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),oPe=async()=>{try{const e=await(await fetch("https://ipapi.co/json/")).json(),n={city:e.city||"Oknd ort",region:e.region||"",country:e.country_name||"Sverige",coordinates:{lat:e.latitude,lng:e.longitude},source:"ip",lastUpdated:new Date().toISOString()};return DT(n),n}catch{throw new Error("Could not determine location from IP")}},lPe=async()=>{const t=cPe();if(t&&!uPe(t))return t;try{return await sPe()}catch{console.log("GPS unavailable, falling back to IP location");try{return await oPe()}catch{return console.error("Both GPS and IP location failed"),t||null}}},DT=t=>{try{localStorage.setItem(v$,JSON.stringify(t))}catch(e){console.error("Failed to cache location:",e)}},cPe=()=>{try{const t=localStorage.getItem(v$);if(t)return JSON.parse(t)}catch(t){console.error("Failed to get cached location:",t)}return null},uPe=t=>{const e=new Date(t.lastUpdated).getTime();return Date.now()-e>aPe},AE=t=>t<1?`${Math.round(t*1e3)} m`:t<10?`${t.toFixed(1)} km`:`${Math.round(t)} km`,dPe=t=>{const e=Math.round(t/60*60);if(e<60)return`${e} min`;{const n=Math.floor(e/60),r=e%60;return r>0?`${n} h ${r} min`:`${n} h`}},fPe=({userLocation:t,vehicleMake:e,onAddContact:n,onRequestLocation:r})=>{const[i,a]=A.useState([]),[s,l]=A.useState(!1),[u,d]=A.useState(null),[f,p]=A.useState(2e4),[y,v]=A.useState(null);A.useEffect(()=>{t&&T()},[t,f]);const T=async()=>{if(t){d("Google Places API-nyckel saknas. Lgg till VITE_GOOGLE_PLACES_API_KEY i .env");return}},k=C=>{const R=S(C.name,C.types),I={name:C.name,phone:C.formatted_phone_number||"Ej tillgnglig",location:C.vicinity,category:R,specialty:e?`${e}-specialist`:"Bilverkstad",note:C.rating?`Betyg: ${C.rating} (${C.user_ratings_total} recensioner). Avstnd: ${AE(C.distance)}`:`Avstnd: ${AE(C.distance)}`};n(I),v(null)},S=(C,R)=>{const I=C.toLowerCase();return e&&I.includes(e.toLowerCase())?"Mrkesverkstad":I.includes("veteran")||I.includes("klassiker")||I.includes("kaross")?"Veteran & Kaross":(I.includes("akut")||I.includes("service"),"Service & Akut")};return t?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Verkstder nra dig"}),m.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Visar verkstder inom ",f/1e3," km frn ",t.city]})]}),m.jsx("button",{onClick:T,disabled:s,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-dark-bg rounded-xl transition-colors",title:"Uppdatera skning",children:m.jsx(Ade,{size:20,className:`${s?"animate-spin":""} dark:text-white`})})]}),m.jsx("div",{className:"flex gap-2",children:[10,20,40].map(C=>m.jsxs("button",{onClick:()=>p(C*1e3),className:`px-4 py-2 rounded-xl text-sm font-medium transition-colors ${f===C*1e3?"bg-teal-600 text-white":"bg-slate-100 dark:bg-nordic-dark-bg text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[C," km"]},C))})]}),u&&m.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-2xl flex items-start gap-3",children:[m.jsx(lo,{size:20,className:"text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-red-900 dark:text-red-200 font-medium",children:"Kunde inte hmta verkstder"}),m.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:u})]})]}),s&&m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsx(Lo,{size:32,className:"animate-spin text-teal-600"})}),!s&&i.length>0&&m.jsx("div",{className:"space-y-3",children:i.map(C=>{var R;return m.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl shadow-sm hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex items-start justify-between gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("h4",{className:"font-bold text-lg dark:text-white",children:C.name}),e&&C.name.toLowerCase().includes(e.toLowerCase())&&m.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium rounded-lg",children:e})]}),m.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400 mb-2",children:[C.rating&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Ude,{size:14,className:"fill-yellow-400 text-yellow-400"}),m.jsx("span",{className:"font-medium",children:C.rating}),m.jsxs("span",{children:["(",C.user_ratings_total,")"]})]}),((R=C.opening_hours)==null?void 0:R.open_now)!==void 0&&m.jsx("span",{className:C.opening_hours.open_now?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:C.opening_hours.open_now?"ppet nu":"Stngt"})]}),m.jsxs("div",{className:"flex items-start gap-2 text-sm mb-2",children:[m.jsx(Xh,{size:14,className:"text-slate-400 flex-shrink-0 mt-0.5"}),m.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:C.vicinity})]}),C.distance&&m.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[m.jsxs("span",{className:"text-teal-600 dark:text-teal-400 font-medium",children:[AE(C.distance)," bort"]}),m.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["ca ",dPe(C.distance)]})]})]}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsxs("button",{onClick:()=>k(C),className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[m.jsx(ws,{size:16}),"Lgg till"]}),C.formatted_phone_number&&m.jsxs("a",{href:`tel:${C.formatted_phone_number}`,className:"px-4 py-2 bg-slate-100 dark:bg-nordic-dark-bg hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[m.jsx(vA,{size:16}),"Ring"]}),m.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(C.name+" "+C.vicinity)}&query_place_id=${C.place_id}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-slate-100 dark:bg-nordic-dark-bg hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-medium transition-colors flex items-center gap-2",children:[m.jsx(Qv,{size:16}),"Karta"]})]})]})},C.place_id)})}),!s&&i.length===0&&!u&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx(Xh,{size:48,className:"mx-auto mb-4 text-slate-400"}),m.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:["Inga verkstder hittades inom ",f/1e3," km."]}),m.jsxs("button",{onClick:()=>p(f*2),className:"mt-4 text-teal-600 dark:text-teal-400 hover:underline",children:["Sk inom ",f*2/1e3," km istllet"]})]})]}):m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm text-center",children:[m.jsx(Xh,{size:48,className:"mx-auto mb-4 text-slate-400"}),m.jsx("h3",{className:"text-xl font-bold mb-2 dark:text-white",children:"Aktivera platstjnster"}),m.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:"Fr att hitta verkstder i ditt omrde behver vi din plats."}),m.jsxs("button",{onClick:r,className:"px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white rounded-xl font-medium transition-colors flex items-center gap-2 mx-auto",children:[m.jsx(mde,{size:20}),"Aktivera platstjnster"]})]})},hPe=({vehicleData:t,tasks:e=[],serviceLog:n=[],fuelLog:r=[],contacts:i=[],projectLocation:a,onAddService:s,onAddFuel:l,onUpdateSpecs:u,onUpdateContacts:d,onUpdateLocation:f})=>{const[p,y]=A.useState("overview"),[v,T]=A.useState(a||null),[k,S]=A.useState(!1),[C,R]=A.useState(!1),[I,L]=A.useState({description:"",date:"",mileage:"",performer:"",type:"Service"}),[F,j]=A.useState({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0}),[P,U]=A.useState({}),M=()=>{U({load:t.weights.load,curb:t.weights.curb,total:t.weights.total,trailer:t.weights.trailer,length:t.dimensions.length,width:t.dimensions.width,power:t.engine.power,fuel:t.engine.fuel,gearbox:t.gearbox,tires:t.wheels.tiresFront,mileage:t.inspection.mileage}),R(!0)},B=async()=>{S(!0);try{const $=await lPe();if($&&$.coordinates){const te={city:$.city,lat:$.coordinates.lat,lng:$.coordinates.lng};T(te),f&&f({city:$.city,region:$.region,country:$.country,coordinates:$.coordinates,source:$.source,lastUpdated:$.lastUpdated})}}catch($){console.error("Location error:",$)}finally{S(!1)}},V=$=>{d&&(d([...i,$]),y("contacts"))},q=()=>{u&&(u({weights:{...t.weights,load:Number(P.load),curb:Number(P.curb),total:Number(P.total),trailer:Number(P.trailer)},dimensions:{...t.dimensions,length:Number(P.length),width:Number(P.width)},engine:{...t.engine,power:P.power,fuel:P.fuel},gearbox:P.gearbox,wheels:{...t.wheels,tiresFront:P.tires,tiresRear:P.tires},inspection:{...t.inspection,mileage:P.mileage}}),R(!1))},z=()=>{!I.description||!s||(s({id:Math.random().toString(36).substr(2,9),...I,type:I.type}),L({description:"",date:"",mileage:"",performer:"",type:"Service"}))},le=()=>{if(!F.liters||!l)return;const $=parseFloat(F.liters),te=parseFloat(F.pricePerLiter);l({id:Math.random().toString(36).substr(2,9),date:F.date||new Date().toISOString().split("T")[0],mileage:parseInt(F.mileage)||0,liters:$,pricePerLiter:te,totalCost:$*te,fullTank:F.full}),j({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0})},X=e.reduce(($,te)=>$+(te.weightKg||0),0),J=t.weights.load,H=J-X,Z=Math.min(X/J*100,100),ne=({title:$,icon:te,children:K,warning:pe,onEdit:we})=>m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl p-6 border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full relative group",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"p-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-xl text-nordic-charcoal dark:text-nordic-ice",children:m.jsx(te,{size:20})}),m.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:$})]}),m.jsxs("div",{className:"flex gap-2",children:[pe&&m.jsx(Ip,{size:18,className:"text-amber-500"}),we&&!C&&m.jsx("button",{onClick:we,className:"p-1 text-slate-300 hover:text-teal-600 opacity-0 group-hover:opacity-100 transition-all",children:m.jsx(Fz,{size:16})})]})]}),m.jsx("div",{className:"space-y-3",children:K})]}),Y=({label:$,value:te,highlight:K=!1,editKey:pe})=>m.jsxs("div",{className:`flex justify-between items-center py-2 border-b border-slate-50 dark:border-nordic-charcoal last:border-0 ${K?"bg-teal-50/50 dark:bg-teal-900/20 -mx-2 px-2 rounded-lg":""}`,children:[m.jsx("span",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted font-medium",children:$}),C&&pe?m.jsx("input",{className:"text-sm font-bold text-right bg-white dark:bg-black/20 border border-slate-200 dark:border-nordic-charcoal rounded px-2 py-1 w-24",value:P[pe],onChange:we=>U({...P,[pe]:we.target.value})}):m.jsx("span",{className:`text-sm font-bold text-right ${K?"text-teal-700 dark:text-teal-400":"text-nordic-charcoal dark:text-nordic-ice"}`,children:te})]});return m.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in",children:[m.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide bg-white dark:bg-nordic-dark-surface p-2 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg sticky top-0 z-20 shadow-sm",children:[m.jsx("button",{onClick:()=>y("overview"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${p==="overview"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Garage & Data"}),m.jsx("button",{onClick:()=>y("contacts"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${p==="contacts"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Kontakter"}),m.jsx("button",{onClick:()=>y("find-workshop"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${p==="find-workshop"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Hitta Verkstad"}),m.jsx("button",{onClick:()=>y("service"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${p==="service"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Servicebok"}),m.jsx("button",{onClick:()=>y("fuel"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${p==="fuel"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Brnsle"})]}),p==="overview"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[m.jsx($O,{className:"text-teal-600"})," Viktkalkylator"]}),m.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted",children:"Hll koll p lastvikten."})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-slate-400",children:"Kvar att lasta"}),m.jsxs("p",{className:`text-3xl font-mono font-bold ${H<100?"text-rose-500":"text-teal-600"}`,children:[H," kg"]})]})]}),m.jsx("div",{className:"relative h-6 bg-slate-100 dark:bg-nordic-dark-bg rounded-full overflow-hidden mb-2",children:m.jsx("div",{className:`h-full transition-all duration-1000 ${Z>90?"bg-rose-500":Z>75?"bg-amber-400":"bg-teal-500"}`,style:{width:`${Z}%`}})}),m.jsxs("div",{className:"flex justify-between text-xs font-mono text-slate-400",children:[m.jsx("span",{children:"0 kg"}),m.jsxs("span",{children:["Tjnstevikt: ",t.weights.curb," kg"]}),m.jsxs("span",{children:["Maxlast: ",t.weights.load," kg"]})]})]}),C&&m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 text-slate-500 hover:bg-white rounded-xl",children:"Avbryt"}),m.jsx("button",{onClick:q,className:"px-6 py-2 bg-teal-600 text-white rounded-xl font-bold shadow-lg hover:bg-teal-700",children:"Spara ndringar"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[m.jsxs(ne,{title:"Last & Mtt",icon:$O,onEdit:M,children:[m.jsx(Y,{label:"Max Lastvikt",value:`${t.weights.load} kg`,highlight:!0,editKey:"load"}),m.jsx(Y,{label:"Tjnstevikt",value:`${t.weights.curb} kg`,editKey:"curb"}),m.jsx(Y,{label:"Totalvikt",value:`${t.weights.total} kg`,editKey:"total"}),m.jsx(Y,{label:"Max Slpvagn",value:`${t.weights.trailer} kg`,editKey:"trailer"}),m.jsx("div",{className:"pt-2"}),m.jsx(Y,{label:"Lngd",value:`${t.dimensions.length} mm`,editKey:"length"}),m.jsx(Y,{label:"Bredd",value:`${t.dimensions.width} mm`,editKey:"width"})]}),m.jsxs(ne,{title:"Drivlina & Hjul",icon:qz,onEdit:M,children:[m.jsx(Y,{label:"Motor",value:t.engine.power,highlight:!0,editKey:"power"}),m.jsx(Y,{label:"Brnsle",value:t.engine.fuel,editKey:"fuel"}),m.jsx(Y,{label:"Vxellda",value:t.gearbox,editKey:"gearbox"}),m.jsx("div",{className:"pt-2"}),m.jsx(Y,{label:"Dck",value:t.wheels.tiresFront,editKey:"tires"})]}),m.jsxs(ne,{title:"Historik & Status",icon:gA,warning:!0,onEdit:M,children:[m.jsx(Y,{label:"Mtarstllning",value:t.inspection.mileage,highlight:!0,editKey:"mileage"}),m.jsx(Y,{label:"Senast Besiktigad",value:t.inspection.last}),m.jsx(Y,{label:"Antal gare",value:t.history.owners}),m.jsx(Y,{label:"Frsta Trafik",value:t.regDate})]})]}),t.expertAnalysis&&m.jsx("div",{className:"col-span-1 md:col-span-2 xl:col-span-3",children:m.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-200 dark:border-amber-800 rounded-3xl p-6",children:[m.jsxs("h3",{className:"font-serif font-bold text-xl text-amber-800 dark:text-amber-500 mb-4 flex items-center gap-2",children:[m.jsx(Ip,{size:24})," Expertens Analys"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-sm uppercase text-amber-900/50 mb-3",children:"Vanliga fel & Varningar"}),m.jsx("ul",{className:"space-y-3",children:t.expertAnalysis.commonFaults.map(($,te)=>m.jsxs("li",{className:"bg-white dark:bg-nordic-charcoal p-3 rounded-xl border border-amber-100 dark:border-amber-900/30 shadow-sm",children:[m.jsxs("div",{className:"flex justify-between items-start mb-1",children:[m.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:$.title}),m.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${$.urgency==="High"?"bg-rose-100 text-rose-700":$.urgency==="Medium"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:$.urgency})]}),m.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-snug",children:$.description})]},te))})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-sm uppercase text-amber-900/50 mb-3",children:"Modifieringar & Tips"}),m.jsx("ul",{className:"space-y-3",children:t.expertAnalysis.modificationTips.map(($,te)=>m.jsxs("li",{className:"bg-white dark:bg-nordic-charcoal p-3 rounded-xl border border-amber-100 dark:border-amber-900/30 shadow-sm",children:[m.jsx("span",{className:"font-bold text-teal-700 dark:text-teal-400 block mb-1",children:$.title}),m.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-snug",children:$.description})]},te))}),t.expertAnalysis.maintenanceNotes&&m.jsxs("div",{className:"mt-4 p-3 bg-white dark:bg-nordic-charcoal rounded-xl border border-amber-100 text-sm italic text-slate-500",children:['" ',t.expertAnalysis.maintenanceNotes,' "']})]})]})]})})]}),p==="contacts"&&m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx(vA,{size:24,className:"text-teal-600"}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice",children:"Verkstadskontakter"}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Spara kontakter till verkstder, specialister och frskring"})]})]})}),m.jsx(rPe,{contacts:i,onUpdate:$=>d&&d($),featureLocation:"vehicleSpecs"})]}),p==="service"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[m.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[m.jsx(ws,{size:20})," Ny Servicehndelse"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Beskrivning (t.ex. Oljebyte)",value:I.description,onChange:$=>L({...I,description:$.target.value})}),m.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Utfrare (t.ex. Mekonomen / Jag)",value:I.performer,onChange:$=>L({...I,performer:$.target.value})}),m.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:I.date,onChange:$=>L({...I,date:$.target.value})}),m.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtarstllning (mil)",value:I.mileage,onChange:$=>L({...I,mileage:$.target.value})})]}),m.jsx("button",{onClick:z,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara till Serviceboken"})]}),m.jsxs("div",{className:"space-y-4",children:[n.length===0&&m.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga poster n."}),n.map(($,te)=>m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:$.description}),m.jsxs("p",{className:"text-xs text-slate-500",children:[$.date,"  ",$.mileage]})]}),m.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold rounded-lg",children:$.performer})]},te))]})]}),p==="find-workshop"&&m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx(Hd,{size:24,className:"text-teal-600"}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice",children:"Hitta Verkstder"}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted",children:"Sk efter verkstder baserat p din plats och bilens mrke"})]})]})}),m.jsx(fPe,{userLocation:v,vehicleMake:t.make,onAddContact:V,onRequestLocation:B})]}),p==="fuel"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[m.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[m.jsx(yd,{size:20})," Logga Tankning"]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:F.date,onChange:$=>j({...F,date:$.target.value})}),m.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Liter",type:"number",value:F.liters,onChange:$=>j({...F,liters:$.target.value})}),m.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Pris/L",type:"number",value:F.pricePerLiter,onChange:$=>j({...F,pricePerLiter:$.target.value})}),m.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtare (mil)",type:"number",value:F.mileage,onChange:$=>j({...F,mileage:$.target.value})})]}),m.jsx("button",{onClick:le,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara Tankning"})]}),m.jsxs("div",{className:"space-y-4",children:[r.length===0&&m.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga tankningar loggade."}),r.map(($,te)=>m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[$.liters," liter"]}),m.jsxs("p",{className:"text-xs text-slate-500",children:[$.date,"  ",$.mileage," mil"]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-mono font-bold text-teal-600",children:[Math.round($.totalCost)," kr"]}),m.jsxs("p",{className:"text-xs text-slate-400",children:[$.pricePerLiter," kr/l"]})]})]},te))]})]})]})},pPe=({items:t,tasks:e=[],onToggle:n,onAdd:r,onUpdate:i,onDelete:a,onUploadReceipt:s})=>{const[l,u]=A.useState(""),[d,f]=A.useState(""),[p,y]=A.useState("Reservdelar"),[v,T]=A.useState("ALL"),[k,S]=A.useState(null),[C,R]=A.useState(!1),[I,L]=A.useState(""),[F,j]=A.useState(""),[P,U]=A.useState(""),[M,B]=A.useState(""),V=J=>{var H;S(J),L(((H=J.actualCost)==null?void 0:H.toString())||""),j(J.url||""),U(J.store||""),B(J.linkedTaskId||"")},q=()=>{k&&(i({...k,actualCost:parseInt(I)||void 0,url:F,store:P,linkedTaskId:M,checked:parseInt(I)>0?!0:k.checked}),S(null))},z=async J=>{var Z;const H=(Z=J.target.files)==null?void 0:Z[0];if(H&&k){R(!0);try{await s(k.id,H),S(null)}catch(ne){console.error("Upload failed",ne)}finally{R(!1)}}},le=["Reservdelar","Kemi & Frg","Verktyg","Inredning","vrigt"];t.reduce((J,H)=>J+(H.checked?0:H.estimatedCost),0),t.reduce((J,H)=>J+(H.actualCost||0),0);const X=v==="ALL"?le:[v];return m.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in relative",children:[m.jsx("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm"}),m.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide"}),m.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg flex flex-col md:flex-row gap-3 shadow-sm"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:X.map(J=>{const H=t.filter(Z=>Z.category===J);return H.length===0?null:m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg overflow-hidden animate-fade-in",children:[m.jsxs("div",{className:"bg-nordic-ice/50 dark:bg-nordic-charcoal/50 p-4 border-b border-nordic-ice dark:border-nordic-dark-bg flex justify-between items-center",children:[m.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm uppercase tracking-wider",children:J}),m.jsxs("span",{className:"text-xs text-slate-400 bg-white dark:bg-nordic-dark-bg px-2 py-1 rounded-md",children:[H.length," st"]})]}),m.jsx("div",{className:"divide-y divide-slate-50 dark:divide-nordic-charcoal",children:H.map(Z=>m.jsx("div",{className:`p-4 flex items-center gap-3 transition-all hover:bg-slate-50 dark:hover:bg-nordic-charcoal/30 cursor-pointer group ${Z.checked?"bg-slate-50/50 dark:bg-black/20":""}`,onClick:()=>V(Z)},Z.id))})]},J)})}),k&&m.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-md rounded-3xl shadow-xl overflow-hidden animate-fade-in",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-nordic-dark-bg flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:k.name}),m.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wider",children:k.category})]}),m.jsx("button",{onClick:()=>S(null),className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full",children:m.jsx(dr,{size:20,className:"text-slate-500"})})]}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 block mb-2",children:"Kvitto"}),k.receiptUrl?m.jsxs("div",{className:"relative rounded-xl overflow-hidden border border-slate-200 dark:border-nordic-charcoal",children:[m.jsx("a",{href:k.receiptUrl,target:"_blank",rel:"noreferrer",children:m.jsx("img",{src:k.receiptUrl,alt:"Kvitto",className:"w-full h-48 object-cover"})}),m.jsx("button",{onClick:()=>i({...k,receiptUrl:void 0}),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md text-rose-500",children:m.jsx(jl,{size:16})})]}):m.jsx("label",{className:`border-2 border-dashed border-slate-200 dark:border-nordic-charcoal rounded-xl p-6 flex flex-col items-center justify-center text-slate-400 transition-colors ${C?"bg-slate-100":"hover:bg-slate-50 dark:hover:bg-nordic-dark-bg cursor-pointer"}`,children:C?m.jsxs(m.Fragment,{children:[m.jsx(Lo,{className:"animate-spin text-teal-500",size:24}),m.jsx("span",{className:"text-sm mt-2",children:"Laddar upp..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(kb,{size:24,className:"mb-2"}),m.jsx("span",{className:"text-sm",children:"Ladda upp bild"}),m.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:z,disabled:C})]})})]}),m.jsxs("button",{onClick:q,className:"w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-slate-800 dark:hover:bg-teal-700",children:[m.jsx(zz,{size:18})," Spara ndringar"]})]})]})}),t.length===0&&m.jsx("div",{className:"text-center py-20",children:m.jsx("p",{className:"text-slate-400",children:"Listan r tom."})})]})},mPe={url:typeof window<"u"?window.location.origin:"http://localhost:5173",handleCodeInApp:!0},gPe=async t=>{try{const e={...mPe,url:window.location.origin};return await q1e(su,t,e),window.localStorage.setItem("emailForSignIn",t),{success:!0}}catch(e){return console.error("Error sending email link",e),{success:!1,error:e.message}}},yPe=async()=>{if($1e(su,window.location.href)){let t=window.localStorage.getItem("emailForSignIn");if(t||(t=window.prompt("Vnligen bekrfta din e-postadress fr att logga in:")),t)try{const e=await H1e(su,t,window.location.href);return window.localStorage.removeItem("emailForSignIn"),window.history.replaceState({},document.title,window.location.pathname),{success:!0,user:e.user}}catch(e){return console.error("Error signing in",e),{success:!1,error:e.message}}}return{success:!1,error:"Not a sign-in link"}},vPe=async(t,e)=>{try{return{success:!0,user:(await B1e(su,t,e)).user}}catch(n){console.error("Login failed",n);let r=n.message;return n.code==="auth/invalid-credential"&&(r="Fel e-post eller lsenord."),{success:!1,error:r}}},bPe=async(t,e)=>{try{return{success:!0,user:(await z1e(su,t,e)).user}}catch(n){console.error("Registration failed",n);let r=n.message;return n.code==="auth/email-already-in-use"&&(r="Adressen anvnds redan."),n.code==="auth/weak-password"&&(r="Lsenordet r fr svagt (minst 6 tecken)."),{success:!1,error:r}}},xPe=async()=>{await W1e(su)},_Pe=t=>Y1e(su,t),wPe=({onDemo:t})=>{const[e,n]=A.useState("magic-link"),[r,i]=A.useState(""),[a,s]=A.useState(""),[l,u]=A.useState(""),[d,f]=A.useState(!1),[p,y]=A.useState(!1),[v,T]=A.useState(null),k=async()=>{if(r){T(null),f(!0);try{if(e==="magic-link"){const S=await gPe(r);S.success?y(!0):T(S.error||"Kunde inte skicka lnk.")}else if(e==="login"){const S=await vPe(r,a);S.success||T(S.error||"Inloggning misslyckades.")}else if(e==="register"){if(!l.trim()){T("Vnligen ange ditt namn."),f(!1);return}const S=await bPe(r,a);S.success&&S.user?await z8(S.user.uid,{name:l,email:r}):T(S.error||"Registrering misslyckades.")}}catch{T("Ett ovntat fel uppstod.")}finally{f(!1)}}};return m.jsxs("div",{className:"min-h-screen bg-nordic-ice flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-teal-100 rounded-full blur-[100px] opacity-50"}),m.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-rose-100 rounded-full blur-[100px] opacity-50"}),m.jsxs("div",{className:"max-w-md w-full bg-white/80 backdrop-blur-xl p-8 rounded-[40px] shadow-2xl border border-white z-10 relative transition-all duration-300",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal mb-2",children:"The VanPlan"}),m.jsx("p",{className:"text-slate-500 text-sm tracking-wide uppercase",children:"Ditt digitala garage"})]}),p?m.jsxs("div",{className:"text-center space-y-6 py-8 animate-fade-in",children:[m.jsx("div",{className:"w-20 h-20 bg-teal-100 text-teal-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:m.jsx(fm,{size:40})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal mb-2",children:"Lnk skickad!"}),m.jsxs("p",{className:"text-slate-500",children:["Vi har skickat ett mail till ",m.jsx("span",{className:"font-bold text-nordic-charcoal",children:r}),"."]}),m.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Klicka p lnken i mailet fr att logga in. Du kan stnga denna flik om du ppnar lnken p samma enhet."})]}),m.jsx("button",{onClick:()=>y(!1),className:"text-sm text-slate-400 hover:text-nordic-charcoal underline",children:"Skickade jag fel adress?"})]}):m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex p-1 bg-slate-100 rounded-xl mb-6",children:[m.jsx("button",{onClick:()=>{n("magic-link"),T(null)},className:It("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e==="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Magisk Lnk"}),m.jsx("button",{onClick:()=>{n("login"),T(null)},className:It("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e!=="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Lsenord"})]}),m.jsxs("div",{className:"text-center mb-4",children:[m.jsxs("h2",{className:"text-lg font-bold text-nordic-charcoal",children:[e==="magic-link"&&"Lsenordsfri inloggning",e==="login"&&"Logga in",e==="register"&&"Vlkommen! Vad heter du?"]}),m.jsxs("p",{className:"text-xs text-slate-500",children:[e==="magic-link"&&"Vi skickar en inloggningslnk till din e-post.",e==="login"&&"Logga in med ditt lsenord.",e==="register"&&"Skapa ett konto fr att komma igng."]})]}),m.jsxs("div",{className:"space-y-3",children:[e==="register"&&m.jsxs("div",{className:"relative animate-fade-in",children:[m.jsx(hm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),m.jsx("input",{type:"text",value:l,onChange:S=>u(S.target.value),placeholder:"Ditt namn",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Ap,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),m.jsx("input",{type:"email",value:r,onChange:S=>i(S.target.value),placeholder:"din@epost.se",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),e!=="magic-link"&&m.jsxs("div",{className:"relative animate-fade-in",children:[m.jsx(yA,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),m.jsx("input",{type:"password",value:a,onChange:S=>s(S.target.value),placeholder:"Lsenord",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]})]}),v&&m.jsx("div",{className:"p-3 bg-rose-50 border border-rose-100 rounded-xl animate-fade-in",children:m.jsx("p",{className:"text-xs text-rose-600 font-medium text-center",children:v})}),m.jsxs("button",{onClick:k,disabled:d||!r||e!=="magic-link"&&!a,className:"w-full py-4 bg-nordic-charcoal text-white font-bold rounded-2xl shadow-lg shadow-slate-300 hover:bg-slate-800 transition-all active:scale-95 flex items-center justify-center gap-2 mt-4 disabled:opacity-50",children:[d?m.jsx(Lo,{className:"animate-spin",size:18}):e==="magic-link"?m.jsx(Ap,{size:18}):m.jsx(Nz,{size:18}),d?"Arbetar...":e==="magic-link"?"Skicka lnk":e==="login"?"Logga in":"Skapa konto"]}),e!=="magic-link"&&m.jsx("div",{className:"text-center mt-2",children:m.jsx("button",{onClick:()=>{n(e==="login"?"register":"login"),T(null)},className:"text-xs text-slate-400 hover:text-teal-600 font-medium transition-colors",children:e==="login"?"Inget konto? Registrera dig hr.":"Har du redan konto? Logga in."})}),m.jsxs("div",{className:"relative my-8 text-center",children:[m.jsx("div",{className:"h-px bg-slate-200 w-full absolute top-1/2"}),m.jsx("span",{className:"bg-white px-3 text-xs text-slate-400 relative z-10 font-medium",children:"ELLER"})]}),m.jsxs("button",{onClick:t,className:"w-full py-4 bg-teal-50 text-teal-800 font-bold rounded-2xl border border-teal-100 hover:bg-teal-100 transition-colors flex items-center justify-center gap-2",children:[m.jsx(Eue,{size:18})," Visa Demo (Elton)"]})]}),m.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-8",children:" 2025 The VanPlan. Autentisering via Google Firebase."})]})]})},EPe=({message:t,type:e="info",duration:n=5e3,onClose:r})=>{const[i,a]=A.useState(!0);A.useEffect(()=>{if(n>0){const d=setTimeout(()=>{a(!1),r&&setTimeout(r,300)},n);return()=>clearTimeout(d)}},[n,r]);const s=()=>{a(!1),r&&setTimeout(r,300)},u=(()=>{switch(e){case"success":return{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:m.jsx(cr,{size:20,className:"text-green-600"})};case"warning":return{bg:"bg-amber-50 border-amber-200",text:"text-amber-800",icon:m.jsx(Ip,{size:20,className:"text-amber-600"})};case"error":return{bg:"bg-rose-50 border-rose-200",text:"text-rose-800",icon:m.jsx(Dz,{size:20,className:"text-rose-600"})};case"info":default:return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:m.jsx(Uue,{size:20,className:"text-blue-600"})}}})();return i?m.jsx("div",{className:`fixed top-4 right-4 z-50 max-w-md ${u.bg} border rounded-2xl p-4 shadow-xl transition-all duration-300 ${i?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}`,children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"shrink-0 mt-0.5",children:u.icon}),m.jsx("p",{className:`flex-1 text-sm font-medium ${u.text}`,children:t}),m.jsx("button",{onClick:s,className:`shrink-0 ${u.text} hover:opacity-70 transition-opacity`,"aria-label":"Close",children:m.jsx(dr,{size:18})})]})}):null},SPe=({toasts:t,onRemove:e})=>m.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:t.map((n,r)=>m.jsx("div",{className:"pointer-events-auto",style:{animationDelay:`${r*100}ms`},children:m.jsx(EPe,{message:n.message,type:n.type,duration:n.duration,onClose:()=>e(n.id)})},n.id))}),TPe=()=>{const[t,e]=A.useState([]),n=(u,d="info",f=5e3)=>{const p=Math.random().toString(36).substr(2,9);e(y=>[...y,{id:p,message:u,type:d,duration:f}])};return{toasts:t,addToast:n,removeToast:u=>{e(d=>d.filter(f=>f.id!==u))},success:(u,d)=>n(u,"success",d),warning:(u,d)=>n(u,"warning",d),error:(u,d)=>n(u,"error",d),info:(u,d)=>n(u,"info",d)}},kPe=({onComplete:t,onCancel:e})=>{const{toasts:n,removeToast:r,success:i,warning:a,error:s}=TPe(),[l,u]=A.useState(1),[d,f]=A.useState(!1),[p,y]=A.useState(0),[v,T]=A.useState(null),[k,S]=A.useState(null),[C,R]=A.useState(""),[I,L]=A.useState(null),[F,j]=A.useState(""),[P,U]=A.useState(""),[M,B]=A.useState(null),[V,q]=A.useState(null),[z,le]=A.useState([]),X=[" Analyserar fordonsmodell & RegNr..."," Hmtar tekniska specifikationer..."," Letar efter modell-specifik information..."," Skapar projektplan baserat p dina val..."," Genererar ikon..."," Frdigstller projektet..."],J=Y=>{var te;const $=(te=Y.target.files)==null?void 0:te[0];if($){const K=new FileReader;K.onloadend=()=>{L(K.result)},K.readAsDataURL($)}},H=()=>{v&&k&&(u(2),(C.trim()||I)&&Z())},Z=async()=>{var $,te,K;f(!0);const Y=setInterval(()=>{y(pe=>pe<X.length-1?pe+1:pe)},2500);try{const pe=I?I.split(",")[1]:void 0,[we,Se]=await Promise.allSettled([DTe(C,pe,v,k),pe?PTe(pe,2):Promise.resolve(null)]);clearInterval(Y);const Ie=we.status==="fulfilled"?we.value:{},He=Se.status==="fulfilled"?Se.value:null;Ie.aiProvider&&(q(Ie.aiProvider),Ie.aiProvider==="gemini"?i(" Fordonsdata hmtad med Google Gemini"):Ie.aiProvider==="grok"?a(" Gemini otillgnglig, anvnder xAI Grok istllet"):Ie.aiProvider==="fallback"&&s(" AI-tjnster otillgngliga, anvnder standarddata")),Ie.error&&a(` ${Ie.error}`),B({detectedMake:(($=Ie.vehicleData)==null?void 0:$.make)||"",detectedModel:((te=Ie.vehicleData)==null?void 0:te.model)||"",detectedYear:((K=Ie.vehicleData)==null?void 0:K.year)||"",suggestedName:Ie.projectName||C,icon:He,fullAiData:Ie,aiProvider:Ie.aiProvider,hasErrors:!!Ie.error}),f(!1),u(3)}catch(pe){console.error("Research failed:",pe),clearInterval(Y),f(!1),alert("Kunde inte hmta fordonsdata. Frsk igen."),u(1)}},ne=()=>{!v||!k||t({projectType:v,userSkillLevel:k,vehicleDescription:C,imageBase64:I==null?void 0:I.split(",")[1],nickname:F.trim()||void 0,additionalNotes:P.trim()||void 0,aiData:M==null?void 0:M.fullAiData,generatedIcon:M==null?void 0:M.icon})};return m.jsxs(m.Fragment,{children:[m.jsx(SPe,{toasts:n,onRemove:r}),m.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white w-full max-w-2xl p-8 rounded-[40px] shadow-2xl animate-fade-in relative overflow-hidden max-h-[90vh] overflow-y-auto",children:[m.jsxs("div",{className:"flex items-center justify-center gap-2 mb-8",children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${l>=1?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"1"}),m.jsx("div",{className:`w-16 h-1 ${l>=2?"bg-teal-500":"bg-slate-200"}`}),m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${l>=2?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"2"}),m.jsx("div",{className:`w-16 h-1 ${l>=3?"bg-teal-500":"bg-slate-200"}`}),m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${l>=3?"bg-teal-500 text-white":"bg-slate-200 text-slate-400"}`,children:"3"})]}),l===1&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mx-auto mb-4",children:m.jsx(Ll,{size:32})}),m.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal mb-2",children:"Starta nytt projekt"}),m.jsx("p",{className:"text-slate-500",children:"Bertta om ditt fordon"})]}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-4 ml-1",children:"Vad r mlet?"}),m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsxs("button",{onClick:()=>T("renovation"),className:`p-6 rounded-2xl border-2 transition-all ${v==="renovation"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[m.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:m.jsx(co,{size:24,className:v==="renovation"?"text-teal-600":"text-slate-400"})}),m.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Renovering"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Restaurera & Laga"})]}),m.jsxs("button",{onClick:()=>T("conversion"),className:`p-6 rounded-2xl border-2 transition-all ${v==="conversion"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[m.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:m.jsx(Oue,{size:24,className:v==="conversion"?"text-teal-600":"text-slate-400"})}),m.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Ombyggnad"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Van  Camper"})]}),m.jsxs("button",{onClick:()=>T("maintenance"),className:`p-6 rounded-2xl border-2 transition-all ${v==="maintenance"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[m.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:m.jsx(Hue,{size:24,className:v==="maintenance"?"text-teal-600":"text-slate-400"})}),m.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Frvaltning"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Underhlla & Service"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-4 ml-1",children:"Din erfarenhet av bilmekanik"}),m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsxs("button",{onClick:()=>S("beginner"),className:`p-6 rounded-2xl border-2 transition-all ${k==="beginner"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[m.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:m.jsx(hm,{size:24,className:k==="beginner"?"text-teal-600":"text-slate-400"})}),m.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Nybrjare"}),m.jsx("p",{className:"text-xs text-slate-500",children:'"Aldrig fixat"'})]}),m.jsxs("button",{onClick:()=>S("intermediate"),className:`p-6 rounded-2xl border-2 transition-all ${k==="intermediate"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[m.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:m.jsx(VS,{size:24,className:k==="intermediate"?"text-teal-600":"text-slate-400"})}),m.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Hemmameck"}),m.jsx("p",{className:"text-xs text-slate-500",children:'"Gr sjlv"'})]}),m.jsxs("button",{onClick:()=>S("expert"),className:`p-6 rounded-2xl border-2 transition-all ${k==="expert"?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-200"}`,children:[m.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm",children:m.jsx(Yce,{size:24,className:k==="expert"?"text-teal-600":"text-slate-400"})}),m.jsx("h3",{className:"font-bold text-sm text-nordic-charcoal mb-1",children:"Certifierad"}),m.jsx("p",{className:"text-xs text-slate-500",children:'"Proffsig"'})]})]}),k&&m.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-2xl border border-blue-100",children:m.jsxs("p",{className:"text-sm text-blue-800",children:[m.jsx("strong",{children:" Detta pverkar:"}),k==="beginner"&&" Elton ger detaljerade guider, frklarar termer, och rekommenderar verkstad fr svra uppgifter.",k==="intermediate"&&" Elton ger balanserade tips och freslr bde DIY och verkstad beroende p svrighet.",k==="expert"&&" Elton ger kortfattad teknisk info och antar att du vet vad du gr."]})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fordonsbeskrivning, Lnk eller RegNr"}),m.jsx("textarea",{className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[100px] text-lg text-nordic-charcoal placeholder:text-slate-300",placeholder:"t.ex. 'ABC123' eller 'Volvo 240 1988'...",value:C,onChange:Y=>R(Y.target.value)})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-4 bg-slate-50 rounded-2xl border border-dashed border-slate-300 hover:border-teal-400 hover:bg-teal-50 transition-all",children:[m.jsx("div",{className:"p-2 bg-white rounded-xl text-slate-400",children:m.jsx(kb,{size:20})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("span",{className:"block text-sm font-bold text-nordic-charcoal",children:"Ladda upp bild (valfritt)"}),m.jsx("span",{className:"text-xs text-slate-400",children:"Elton lser av RegNr och skapar en ikon"})]}),I&&m.jsx(cr,{size:20,className:"text-green-500"}),m.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:J})]}),I&&m.jsx("div",{className:"relative p-4 bg-slate-50 rounded-2xl border border-slate-200",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:I,alt:"Preview",className:"w-20 h-20 object-cover rounded-xl border border-slate-200"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-bold text-nordic-charcoal",children:"Bild uppladdad"}),m.jsx("p",{className:"text-xs text-slate-400",children:"Imagen 3.0 kommer skapa en ikon"})]}),m.jsx("button",{onClick:()=>L(null),className:"p-2 text-slate-400 hover:text-rose-500 transition-colors",children:m.jsx(jl,{size:16})})]})})]}),m.jsxs("div",{className:"flex gap-3 pt-4",children:[m.jsx("button",{onClick:e,className:"flex-1 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors",children:"Avbryt"}),m.jsxs("button",{onClick:H,disabled:!v||!k||!C.trim()&&!I,className:"flex-[2] py-4 bg-nordic-charcoal text-white font-bold rounded-2xl hover:bg-slate-800 transition-all shadow-lg shadow-slate-200 disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2",children:[m.jsx(Hd,{size:20})," Starta Research"]})]})]})]}),l===2&&d&&m.jsxs("div",{className:"text-center py-8",children:[m.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[m.jsx("div",{className:"absolute inset-0 border-4 border-slate-100 rounded-full"}),m.jsx("div",{className:"absolute inset-0 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-teal-600",children:m.jsx(Hd,{size:24})})]}),m.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-2",children:"Research pgr..."}),m.jsxs("p",{className:"text-slate-400 text-sm mb-8",children:["Elton analyserar ditt ",v==="renovation"?"renoverings":v==="conversion"?"ombyggnads":"underhlls","-projekt"]}),m.jsx("div",{className:"space-y-3 text-left max-w-sm mx-auto",children:X.map((Y,$)=>m.jsxs("div",{className:`flex items-center gap-3 transition-all duration-500 ${$<=p?"opacity-100":"opacity-30 translate-y-2"}`,children:[$<p?m.jsx(cr,{size:20,className:"text-green-500"}):$===p?m.jsx(Lo,{size:20,className:"text-teal-500 animate-spin"}):m.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-slate-200"}),m.jsx("span",{className:`font-medium text-sm ${$===p?"text-teal-700":"text-slate-600"}`,children:Y})]},$))})]}),l===3&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h2",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1",children:"Granska & Komplettera"}),m.jsx("p",{className:"text-slate-500",children:"Justera det som behvs innan projektet skapas"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Projektnamn"}),m.jsx("input",{type:"text",value:C,onChange:Y=>R(Y.target.value),className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all text-lg text-nordic-charcoal"}),(M==null?void 0:M.suggestedName)&&m.jsxs("p",{className:"text-xs text-slate-400 mt-2 ml-1",children:[' AI-frslag: "',M.suggestedName,'"']})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Smeknamn (valfritt)"}),m.jsx("input",{type:"text",value:F,onChange:Y=>j(Y.target.value),placeholder:"t.ex. 'Prlan', 'Besten', 'Veteranen'...",className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all text-lg text-nordic-charcoal placeholder:text-slate-300"}),m.jsx("p",{className:"text-xs text-slate-500 mt-2 ml-1",children:" Detta blir Eltons personlighet nr ni chattar!"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fria anteckningar (valfritt)"}),m.jsx("textarea",{value:P,onChange:Y=>U(Y.target.value),placeholder:"T.ex. 'Har bytt kamrem 2023', 'Lite rost i hger bakskrm', 'Motorn gr bra men avgassystemet r rostigt'...",className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[120px] text-lg text-nordic-charcoal placeholder:text-slate-300"}),m.jsx("p",{className:"text-xs text-slate-500 mt-2 ml-1",children:" Detta skickas till AI:n som kontext fr att skapa bttre uppgifter"})]}),m.jsxs("div",{className:"bg-teal-50 border border-teal-100 rounded-2xl p-6",children:[m.jsx("h4",{className:"font-bold text-sm text-teal-900 mb-3",children:" Elton kommer att:"}),m.jsxs("ul",{className:"space-y-2 text-sm text-teal-800",children:[m.jsxs("li",{className:"flex gap-2",children:[m.jsx(cr,{size:16,className:"shrink-0 mt-0.5"}),m.jsxs("span",{children:["Skapa en projektplan baserat p ",m.jsx("strong",{children:v==="renovation"?"renovering":v==="conversion"?"ombyggnad":"underhll"})]})]}),m.jsxs("li",{className:"flex gap-2",children:[m.jsx(cr,{size:16,className:"shrink-0 mt-0.5"}),m.jsxs("span",{children:["Anpassa kommunikation efter din erfarenhet (",m.jsx("strong",{children:k==="beginner"?"Nybrjare":k==="intermediate"?"Hemmameck":"Certifierad"}),")"]})]}),m.jsxs("li",{className:"flex gap-2",children:[m.jsx(cr,{size:16,className:"shrink-0 mt-0.5"}),m.jsx("span",{children:"Fresl uppgifter du kan gra sjlv vs. leja ut till verkstad"})]}),m.jsxs("li",{className:"flex gap-2",children:[m.jsx(cr,{size:16,className:"shrink-0 mt-0.5"}),m.jsx("span",{children:"Finnas dr fr att chatta och hjlpa dig planera mer i detalj"})]})]}),(M==null?void 0:M.aiProvider)&&m.jsx("div",{className:"mt-4 pt-4 border-t border-teal-200",children:m.jsxs("div",{className:"flex items-start gap-2",children:[M.aiProvider==="gemini"&&m.jsx(Ll,{size:14,className:"text-teal-600 shrink-0 mt-0.5"}),M.aiProvider==="grok"&&m.jsx(VS,{size:14,className:"text-purple-600 shrink-0 mt-0.5"}),M.aiProvider==="fallback"&&m.jsx(Ip,{size:14,className:"text-amber-600 shrink-0 mt-0.5"}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-xs font-medium text-teal-700",children:[M.aiProvider==="gemini"&&"Powered by Google Gemini",M.aiProvider==="grok"&&"Powered by xAI Grok",M.aiProvider==="fallback"&&"Standarddata anvnds"]}),M.hasErrors&&m.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Data kan vara inkomplett - kontrollera fordonsinformation"})]})]})})]}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsxs("button",{onClick:()=>u(1),className:"px-6 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors flex items-center gap-2",children:[m.jsx(Rz,{size:20})," Tillbaka"]}),m.jsxs("button",{onClick:ne,className:"flex-1 py-4 bg-teal-500 text-white font-bold rounded-2xl hover:bg-teal-600 transition-all shadow-lg shadow-teal-200 flex items-center justify-center gap-2",children:[m.jsx(Ll,{size:20})," Skapa Projekt!"]})]})]})]})]})})]})},APe=({user:t,projects:e,onSelectProject:n,onCreateProject:r,onLogout:i,onDeleteProject:a,onSeed:s})=>{const[l,u]=A.useState(!1),[d,f]=A.useState(null),p=e.filter(S=>{var C;return(C=S.invitedEmails)==null?void 0:C.includes(t.email)}),y=e.filter(S=>{var C;return!((C=S.invitedEmails)!=null&&C.includes(t.email))}),v=async S=>{f(S.id);try{await HTe(S.id,t.uid,t.email),window.location.reload()}catch(C){console.error("Failed to accept invite",C),alert("Kunde inte g med i projektet.")}f(null)},T=async S=>{if(confirm("Vill du avbja inbjudan?")){f(S.id);try{await B8(S.id,t.email),window.location.reload()}catch(C){console.error(C)}f(null)}},k=async S=>{var C;try{const R=S.aiData||{},I=S.generatedIcon||void 0;let L=R.projectName||S.vehicleDescription;L&&(L.length>30||L.includes("http"))&&(L=L.split(",")[0].replace(/https?:\/\/\S+/g,"").trim()),L||(L="Nytt Projekt");const F=[];R.analysisReport&&F.push({id:"initial-analysis",title:R.analysisReport.title||"Initial Fordonsanalys",summary:R.analysisReport.summary||"AI-genererad rapport vid projektstart.",content:R.analysisReport.content||"",tags:["Analys","Historik","AI"]});const j={name:L,type:S.projectType,userSkillLevel:S.userSkillLevel,nickname:S.nickname,customIcon:I,vehicleData:{...Dge.vehicleData,...R.vehicleData,regNo:((C=R.vehicleData)==null?void 0:C.regNo)||"???"},knowledgeArticles:F,tasks:(R.initialTasks||[]).map(P=>{var U;return{...P,status:dt.TODO,actualCost:0,weightKg:0,costType:la.OPERATION,phase:P.phase||j7[S.projectType][0],priority:P.priority||di.MEDIUM,difficultyLevel:P.difficultyLevel,requiredTools:P.requiredTools,tags:["AI-Genererad"],links:[],comments:[],attachments:[],subtasks:((U=P.subtasks)==null?void 0:U.map(M=>({...M,id:Math.random().toString(36).substr(2,9),completed:!1})))||[]}})};r(j),u(!1)}catch(R){console.error("Failed to create project",R),alert("Kunde inte skapa projektet. Frsk igen.")}};return m.jsxs("div",{className:"min-h-screen bg-nordic-ice p-6",children:[m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-12",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal",children:["Vlkommen, ",t.name]}),m.jsx("p",{className:"text-slate-500",children:"Vlj ett fordon att jobba med"})]}),m.jsxs("div",{className:"flex gap-2",children:[s&&m.jsx("button",{onClick:s,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-teal-600 transition-colors",title:"terstll Demo",children:m.jsx(Ll,{size:20})}),m.jsx("button",{onClick:i,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-rose-500 transition-colors",children:m.jsx(Uz,{size:20})})]})]}),p.length>0&&m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Inbjudningar"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(S=>m.jsxs("div",{className:"bg-white rounded-[32px] p-6 shadow-xl shadow-teal-500/10 border-2 border-teal-500/20 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 bg-teal-500 text-white px-4 py-1 rounded-bl-2xl text-xs font-bold",children:"INBJUDAN"}),m.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[m.jsx("div",{className:"w-12 h-12 bg-teal-50 rounded-full flex items-center justify-center text-teal-600",children:m.jsx(Ap,{size:24})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal",children:S.name}),m.jsxs("p",{className:"text-sm text-slate-500",children:["Frn: ",S.ownerEmail]})]})]}),m.jsxs("div",{className:"flex gap-2 mt-4",children:[m.jsxs("button",{onClick:()=>v(S),disabled:!!d,className:"flex-1 bg-teal-500 text-white py-2 rounded-xl font-bold text-sm hover:bg-teal-600 transition-colors flex items-center justify-center gap-2",children:[d===S.id?m.jsx(Lo,{className:"animate-spin",size:16}):m.jsx(fm,{size:16}),"G med"]}),m.jsx("button",{onClick:()=>T(S),disabled:!!d,className:"px-4 bg-slate-100 text-slate-500 py-2 rounded-xl font-bold text-sm hover:bg-slate-200 transition-colors",children:m.jsx(dr,{size:16})})]})]},S.id))})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white/50 border-2 border-dashed border-slate-300 rounded-[32px] p-8 flex flex-col items-center justify-center text-center hover:bg-white hover:border-teal-400 hover:shadow-lg transition-all cursor-pointer group min-h-[250px]",onClick:()=>u(!0),children:[m.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mb-4 group-hover:scale-110 transition-transform",children:m.jsx(ws,{size:32})}),m.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal",children:"Nytt Projekt"}),m.jsx("p",{className:"text-sm text-slate-500",children:"Lgg till en ny van"})]}),y.map(S=>{var C,R;return m.jsxs("div",{onClick:()=>n(S.id),className:"bg-white rounded-[32px] p-8 shadow-xl shadow-slate-200/50 border border-white hover:border-teal-200 hover:scale-[1.02] transition-all cursor-pointer relative overflow-hidden group min-h-[250px] flex flex-col justify-between",children:[S.isDemo&&m.jsxs("div",{className:"absolute top-4 right-4 bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:[m.jsx(yA,{size:10})," Demo"]}),!S.isDemo&&S.ownerId!==t.uid&&m.jsx("div",{className:"absolute top-4 right-4 bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:"Team"}),!S.isDemo&&a&&S.ownerId===t.uid&&m.jsx("button",{onClick:I=>{I.stopPropagation(),a(S.id)},className:"absolute top-4 right-4 p-2 bg-white rounded-full text-slate-300 hover:text-rose-500 hover:bg-rose-50 shadow-sm transition-all z-10 opacity-0 group-hover:opacity-100",title:"Radera projekt",children:m.jsx(jl,{size:16})}),m.jsxs("div",{children:[m.jsx("div",{className:"w-16 h-16 bg-nordic-charcoal text-white rounded-2xl flex items-center justify-center mb-6 shadow-lg overflow-hidden border border-slate-100 p-2",children:S.customIcon?S.customIcon.startsWith("<svg")?m.jsx("div",{dangerouslySetInnerHTML:{__html:S.customIcon},className:"w-full h-full"}):m.jsx("img",{src:`data:image/png;base64,${S.customIcon}`,alt:"Icon",className:"w-full h-full object-contain"}):m.jsx(Xv,{size:32})}),m.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1 line-clamp-2",children:S.name}),m.jsxs("p",{className:"text-slate-500 text-sm",children:[S.vehicleData.model," (",S.vehicleData.year,")"]})]}),m.jsxs("div",{className:"flex justify-between items-end mt-8",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((C=S.tasks)==null?void 0:C.filter(I=>I.status!=="Klart").length)||0," Att gra"]}),m.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((R=S.shoppingItems)==null?void 0:R.filter(I=>!I.checked).length)||0," Att kpa"]})]}),m.jsx("div",{className:"w-10 h-10 bg-nordic-ice rounded-full flex items-center justify-center text-nordic-charcoal group-hover:bg-teal-500 group-hover:text-white transition-colors",children:m.jsx(Pz,{size:20})})]})]},S.id)})]})]}),l&&m.jsx(kPe,{onComplete:k,onCancel:()=>u(!1)})]})},CPe=({project:t,currentUserEmail:e,onClose:n,onUpdate:r})=>{var T,k;const[i,a]=A.useState(""),[s,l]=A.useState(!1),[u,d]=A.useState(null),f=async()=>{if(!i.trim()||!i.includes("@")){d("Ange en giltig e-postadress.");return}l(!0),d(null);try{await $Te(t.id,i.trim()),a(""),r()}catch(S){console.error(S),d("Kunde inte skicka inbjudan. Kontrollera att du har behrighet.")}l(!1)},p=async S=>{if(confirm("r du sker p att du vill ta bort denna medlem?")){l(!0);try{await GTe(t.id,S),r()}catch{d("Kunde inte ta bort medlem.")}l(!1)}},y=async S=>{l(!0);try{await B8(t.id,S),r()}catch{d("Kunde inte avbryta inbjudan.")}l(!1)},v=t.ownerEmail===e;return m.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-md rounded-2xl shadow-2xl overflow-hidden border border-slate-100 dark:border-nordic-charcoal",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-center",children:[m.jsx("h2",{className:"text-xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Team & Medlemmar"}),m.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:m.jsx(dr,{size:20,className:"text-slate-400"})})]}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:"gare"}),m.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-amber-50 dark:bg-amber-900/20 border border-amber-100 dark:border-amber-900/50",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-200 dark:bg-amber-700 flex items-center justify-center text-amber-800 dark:text-amber-100 font-bold",children:t.ownerEmail.charAt(0).toUpperCase()}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-bold text-nordic-charcoal dark:text-nordic-ice",children:"Projektgare"}),m.jsx("p",{className:"text-xs text-slate-500 truncate",children:t.ownerEmail})]}),m.jsx(US,{size:16,className:"text-amber-500"})]})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:["Medlemmar (",((T=t.members)==null?void 0:T.length)||0,")"]}),m.jsx("div",{className:"space-y-2",children:t.members&&t.members.length>0?t.members.map(S=>m.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-50 dark:bg-nordic-charcoal/50",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-600 dark:text-slate-300 font-bold",children:"?"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-medium text-nordic-charcoal dark:text-nordic-ice",children:"Medlem"}),m.jsxs("p",{className:"text-xs text-slate-400 text-xs",children:["ID: ",S.substring(0,8),"..."]})]}),v&&m.jsx("button",{onClick:()=>p(S),className:"p-2 text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg",children:m.jsx(Xde,{size:16})})]},S)):m.jsx("p",{className:"text-sm text-slate-400 italic",children:"Inga medlemmar n."})})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:["Vntande Inbjudningar (",((k=t.invitedEmails)==null?void 0:k.length)||0,")"]}),m.jsx("div",{className:"space-y-2",children:t.invitedEmails&&t.invitedEmails.map(S=>m.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400",children:m.jsx(Ap,{size:16})}),m.jsxs("div",{className:"flex-1 overflow-hidden",children:[m.jsx("p",{className:"text-sm font-medium text-nordic-charcoal dark:text-nordic-ice truncate",children:S}),m.jsx("p",{className:"text-xs text-slate-400",children:"Vntar p svar..."})]}),v&&m.jsx("button",{onClick:()=>y(S),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg",children:m.jsx(dr,{size:16})})]},S))})]}),v&&m.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-nordic-charcoal",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:"Bjud in ny medlem"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(Ap,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),m.jsx("input",{type:"email",className:"w-full pl-10 p-3 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 dark:text-white",placeholder:"epost@exempel.se",value:i,onChange:S=>a(S.target.value),onKeyDown:S=>S.key==="Enter"&&f()})]}),m.jsxs("button",{onClick:f,disabled:s||!i,className:"bg-nordic-charcoal dark:bg-teal-600 text-white px-4 rounded-xl font-medium hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50 transition-colors flex items-center gap-2",children:[s?m.jsx(Lo,{className:"animate-spin",size:18}):m.jsx(Wde,{size:18}),m.jsx("span",{className:"hidden sm:inline",children:"Bjud in"})]})]}),u&&m.jsx("p",{className:"text-xs text-rose-500 mt-2",children:u})]})]})]})})},IPe=[{id:100,title:"Skerhet: Flytta API-nycklar till Backend",category:"Skerhet",phase:1,description:"KRITISKT: Gemini API-nyckel exponeras i frontend. Mste flyttas till Cloud Functions.",detailedDescription:"Arbete pgr. De flesta anrop har flyttats till Cloud Functions, men komponenten LiveElton.tsx anvnder fortfarande nyckeln direkt och mste tgrdas.",purpose:"Frhindra obehrig anvndning av API-nycklar och potentiella kostnader.",status:"in-progress",tech:["Firebase Cloud Functions","Secret Manager","API Gateway"],priority:"critical",tags:["Security","Backend","Critical"],checklist:[{label:"Skapa Cloud Function fr AI-proxy",completed:!0},{label:"Flytta API-nyckel till Secret Manager",completed:!0},{label:"Uppdatera frontend att anropa Cloud Function",completed:!0},{label:"tgrda LiveElton.tsx",completed:!1,inProgress:!0},{label:"Ta bort VITE_GEMINI_API_KEY helt",completed:!1},{label:"Testa i produktion",completed:!1}]},{id:102,title:"Kritiska Enhetstester",category:"Testing",phase:1,description:"Saknas tester fr kritiska moduler: geminiService, db, auth. Mste lggas till.",detailedDescription:"Nuvarande testning tcker huvudsakligen E2E fr co-working. Kritisk affrslogik i geminiService.ts, db.ts, och auth.ts saknar helt enhetstester vilket skapar hg risk vid ndringar.",purpose:"Skerstlla att kritisk funktionalitet inte gr snder vid ndringar.",status:"planned",tech:["Vitest","Mock Service Worker","Firebase Emulators"],priority:"high",tags:["Testing","Quality","Foundation"],checklist:[{label:"Tester fr geminiService.ts",completed:!1},{label:"Tester fr db.ts (CRUD)",completed:!1},{label:"Tester fr auth.ts",completed:!1},{label:"Setup Firebase Emulators",completed:!1},{label:"CI/CD integration",completed:!1}]},{id:103,title:"Stda prototype_app",category:"Teknisk Skuld",phase:1,description:"Duplicerad kod i prototype_app/ skapar frvirring och underhllsbrda.",detailedDescription:"Mappen prototype_app/ innehller en ldre version av applikationen med verlappande komponenter och services. Detta leder till frvirring och risk fr att ndringar grs p fel stlle.",purpose:"Reducera teknisk skuld och frenkla kodbas.",status:"in-progress",tech:["Git","Cleanup"],priority:"medium",tags:["TechDebt","Cleanup"],checklist:[{label:"Verifiera att allt r migrerat",completed:!0},{label:"Ta bort frn main",completed:!1,inProgress:!0},{label:"Verifiera att inga beroenden finns kvar",completed:!1},{label:"Uppdatera dokumentation",completed:!1}]},{id:1,title:"Plattforms-arkitektur (SaaS)",category:"Infrastruktur",description:'Vi har byggt om appen frn en enkel "en-sidas-app" fr en bil till en plattform som hanterar Anvndare och Flera Projekt.',detailedDescription:"Komplett transformation frn statisk single-page app till en fullstndig SaaS-plattform. Inkluderar multi-tenant arkitektur, anvndarhantering, projekthantering, och cloud sync mellan enheter.",purpose:"Grundlggande krav fr skalbarhet. Mjliggr synk mellan enheter.",status:"done",tech:["Firebase Auth","Firestore","Security Rules","Multi-tenant"],priority:"high",tags:["Foundation","SaaS","Auth","Database"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & Auth)",completed:!0},{label:"Testad (Flera projekt)",completed:!0},{label:"Lanserad",completed:!0}]},{id:24,title:"Co-working & Teams",category:"Infrastruktur",description:"Bjud in medmekaniker eller familj till dina projekt. Hantera rttigheter och bygg tillsammans i realtid. Fullt testad med Playwright E2E-tester (65 tester ver 5 webblsare).",detailedDescription:"Fullstndig team-collaboration feature med inbjudningar via e-post, rollhantering (owner/member), skerhetsregler i Firestore, och ProjectMembers UI-komponent. Omfattande E2E-testning skerstller kvalitet.",purpose:"Bilbyggande r ofta en social aktivitet. Appen mste stdja samarbete.",status:"done",tech:["Firestore Security Rules","Invite System","Playwright","E2E Tests"],priority:"high",tags:["Collaboration","Testing","E2E","Security"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & UI)",completed:!0},{label:"Skerhetstestad",completed:!0},{label:"E2E-testad (Playwright)",completed:!0},{label:"Lanserad",completed:!0}]},{id:26,title:"E2E Test Suite med Playwright",category:"Infrastruktur",description:"Komplett automatisk testning av alla kritiska funktioner i appen. Tester krs i Chrome, Firefox, Safari samt mobila enheter.",detailedDescription:"65 automatiska tester som verifierar Co-working, UI-komponenter, formulr, dark mode, och responsiv design. Konfigurerad med screenshot-on-failure, video recording, och CI/CD integration.",purpose:"Skerstlla kvalitet och stabilitet vid varje deploy. Frhindra regressions-buggar.",status:"done",tech:["Playwright","TypeScript","Visual Testing","CI/CD"],priority:"high",tags:["Testing","Quality","Automation","CI/CD"],checklist:[{label:"Specad",completed:!0},{label:"Konfigurerad (Playwright)",completed:!0},{label:"Co-working tests (65 tester)",completed:!0},{label:"Firebase Auth setup",completed:!0},{label:"Lanserad",completed:!0}]},{id:23,title:"Feature Flags & Versionshantering",category:"Infrastruktur",description:"System fr att sl p/av funktioner utan att deploya om. Versionshantering av AI-prompter.",detailedDescription:"Config-driven feature flag system som tillter gradvis utrullning av nya features, A/B-testning, och snabb rollback. Versionering av AI-prompts fr att kunna testa och jmfra olika modeller.",purpose:"Sker utrullning och A/B-testning av nya AI-modeller.",status:"done",tech:["Config-based System","Feature Toggles"],priority:"medium",tags:["DevOps","A/B Testing","Configuration"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:2,title:'AI Onboarding "Deep Research"',category:"Plattform",description:"Multi-Agent system (Detektiven & Verkmstaren) som sker upp fakta och skapar en plan baserat p RegNr.",detailedDescription:"Avancerat AI-system med tv agenter: Detektiven sker teknisk data och knda problem via Google Search och svenska register, medan Verkmstaren skapar en detaljerad projektplan baserat p denna research.",purpose:"Hg precision och slut p gissningar. Hmtar data frn svenska register.",status:"done",tech:["Gemini 2.0 Flash","Google Search","Multi-Agent System","Prompt Engineering"],priority:"high",tags:["AI","Onboarding","Multi-Agent","Automation"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Agents & Prompts)",completed:!0},{label:"Testad (Live Search)",completed:!0},{label:"Lanserad",completed:!0}]},{id:17,title:"Auto-genererad Historik & Expertanalys",category:"Plattform",description:'AI:n identifierar "Knda fel" (The Killers), ger tips om modifieringar och analyserar mtarstllning.',detailedDescription:"Expertanalys-rapport som genereras automatiskt vid projekt-skapande. Inkluderar knda problem fr specifik modell, populra modifieringar, varningar fr potentiella kostsamma fel.",purpose:"Ger omedelbart expertkunskap och varnar fr dyra fllor.",status:"done",tech:["Gemini 2.0","Prompt Engineering","Knowledge Base"],priority:"high",tags:["AI","Expert Analysis","Knowledge","Prevention"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:3,title:"Bildigenknning av Regplt",category:"AI Core",description:"Fota bilen fr att starta projektet. AI:n hittar och lser av registreringsskylten.",detailedDescription:"OCR-funktionalitet med Gemini Vision som automatiskt detekterar och lser av svenska registreringsskyltar frn foton.",purpose:"Smidig onboarding utan att behva knappa in nummer.",status:"done",tech:["Gemini Vision","OCR","Image Processing"],priority:"high",tags:["Vision","OCR","Onboarding","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:5,title:"Google Search-integration",category:"AI Core",description:"AI:n kan ska p webben efter priser, manualer och fakta i realtid.",detailedDescription:"Real-time skning via Gemini Tools API. AI:n kan dynamiskt ska efter aktuella priser, tekniska manualer, och forum-diskussioner.",purpose:"Gr frn gissningar till fakta.",status:"done",tech:["Gemini Tools","Google Search API","Real-time Data"],priority:"high",tags:["Search","Real-time","Integration","Data"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:7,title:"Dialekter & Personligheter",category:"AI Core",description:"Elton kan prata dalml, gotlndska eller rikssvenska.",detailedDescription:"Konfigurerbar AI-persona med olika svenska dialekter och personligheter. Skapar en roligare och mer personlig upplevelse.",purpose:"Skapar en relation och gr appen roligare.",status:"done",tech:["System Prompts","Personality Config","Localization"],priority:"low",tags:["Personality","UX","Localization","Fun"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config & UI)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:10,title:"Magic Import (Text & Bild)",category:"Projektledning",description:"Klistra in anteckningar eller fota en handskriven lista fr att skapa uppgifter.",detailedDescription:"Multimodal import dr anvndare kan klistra in text frn forum/manualer eller fotografera handskrivna listor. AI:n extraherar uppgifter med titlar, beskrivningar, och kostnader.",purpose:"Minskar administrationen avsevrt.",status:"done",tech:["Gemini Vision","OCR","NLP","Task Extraction"],priority:"high",tags:["Productivity","Vision","OCR","Automation"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:21,title:"Flexibla Faser & Idbank",category:"Projektledning",description:"Projekt kan nu ha olika typer (Renovering, Bygge, Underhll) med anpassade faser.",detailedDescription:'Dynamiskt fas-system dr olika projekttyper har skrddarsydda work stages. "Drmbank" r en sandbox fr ider.',purpose:"Stdja alla typer av bilgande, inte bara renovering.",status:"done",tech:["Dynamic Types","Filtering","State Management"],priority:"high",tags:["Project Types","Flexibility","Organization","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:9,title:"Smart Inkpslista & Kvitton",category:"Ekonomi",description:"En separat vy fr inkp med kvittoscanning och budgetuppfljning.",detailedDescription:"Komplett shoppinglist-system med receipt scanning via Vision API, automatisk kostnadskoppling till tasks, och budgetuppfljning.",purpose:"Total kontroll p ekonomin.",status:"done",tech:["Firebase Storage","Gemini Vision","OCR","Budget Tracking"],priority:"high",tags:["Shopping","Receipts","Budget","Finance","OCR"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:12,title:"Kunskapsbanken & Markdown-lsare",category:"Kunskap",description:"Ett bibliotek med tunga tekniska rapporter (markdown) som AI:n kan lsa och citera.",detailedDescription:"RAG-system dr AI:n har tillgng till en kunskapsbas med tekniska guider och service-manualer.",purpose:"Att skra kvalitn.",status:"done",tech:["RAG","React Markdown","Knowledge Base"],priority:"high",tags:["RAG","Knowledge","Markdown","Quality"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:13,title:"Tidslinje & Historik",category:"Garage",description:"En visuell tidslinje som visar bilens hela liv.",detailedDescription:"Interactive timeline med Recharts som visualiserar bilens historia frn tillverkning till nuvarande status.",purpose:"Att ge perspektiv och hedra bilens historia.",status:"done",tech:["Recharts","Timeline UI","Data Visualization"],priority:"medium",tags:["History","Timeline","Visualization","UX"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:14,title:"Brnslelogg & Servicebok",category:"Garage",description:"Logga tankningar och service. Visualisera frbrukning och serviceintervall.",detailedDescription:"Fuel log och service book med full CRUD, grafer ver frbrukningstrend, och service-pminnelser.",purpose:"Ett praktiskt verktyg fr det dagliga gandet.",status:"done",tech:["Firestore","Recharts","Analytics","Timeline UI"],priority:"medium",tags:["Fuel","Service","Analytics","Maintenance"],checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"UI-komponenter",completed:!0},{label:"Grafer",completed:!0},{label:"Lanserad",completed:!0}]},{id:15,title:"Backup & Export",category:"Data",description:"Mjlighet att spara ner hela projektet som en JSON-fil.",detailedDescription:"Full projekt-export som JSON blob. OBS: Import r nnu inte implementerad (se Fas 1).",purpose:"Dataskerhet och portabilitet.",status:"done",tech:["JSON Export","File API","Data Portability"],priority:"high",tags:["Data","Security","Export","Backup"],checklist:[{label:"Specad",completed:!0},{label:"Export utvecklad",completed:!0},{label:"Import (se ID 101)",completed:!1},{label:"Lanserad",completed:!0}]},{id:27,title:"Databas-migrering: Sub-collections",category:"Infrastruktur",phase:2,description:"Omstrukturering av databasen fr att stdja stora projekt (lser 1MB-grnsen).",detailedDescription:"Migrering frn monolitisk dokumentstruktur till hierarkisk struktur (projects/{id}/tasks). Se docs/architecture/DATA_MODEL_MIGRATION.md.",purpose:"Skalbarhet och prestanda fr stora projekt.",status:"planned",tech:["Firestore Sub-collections","Data Migration","Scalability"],priority:"high",tags:["Database","Architecture","Scalability","Performance"],checklist:[{label:"Specad (DATA_MODEL_MIGRATION.md)",completed:!0},{label:"Utvecklad (DB Service Layer)",completed:!1},{label:"Migrerings-script",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:107,title:"Transfer Project Ownership",category:"UX/Teams",phase:2,description:"Allows a project owner to transfer ownership to another team member. Replaces the old Import/Export feature.",detailedDescription:"Instead of a file-based import/export, this feature allows a seamless transfer of a project to another user within the platform. This is crucial for when a vehicle is sold or project responsibility changes.",purpose:"Provide a secure and integrated way to hand over project ownership.",status:"planned",tech:["Firebase Cloud Functions","Firestore Transactions","React"],priority:"medium",tags:["UX","Teams","Ownership","Data"],checklist:[{label:"Specifikation skriven",completed:!0},{label:"Skapa Cloud Function (transferProjectOwnership)",completed:!1},{label:"Uppdatera Firestore Security Rules",completed:!1},{label:"Implementera UI i Project Settings",completed:!1},{label:"Testa verfringsfldet",completed:!1}]},{id:6,title:"Live Elton (Rst & Video)",category:"AI Core",phase:2,description:'Prata med Elton i realtid via kameran ("Ring upp"). Frontend finns, backend-integration saknas.',detailedDescription:"Real-time video/voice-chat med AI. Krver WebRTC och Gemini Live API integration.",purpose:"En mekaniker-kompis i fickan nr hnderna r oljiga.",status:"in-progress",tech:["WebRTC","Gemini Live API","Video Streaming","Voice Recognition"],priority:"high",tags:["WebRTC","Voice","Video","Real-time","Diagnostics"],checklist:[{label:"Specad",completed:!0},{label:"Frontend utvecklad",completed:!0},{label:"WebRTC-integration",completed:!1,inProgress:!0},{label:"Gemini Live API koppling",completed:!1},{label:"Testad (Live Connection)",completed:!1},{label:"Lanserad",completed:!1}]},{id:8,title:"Ljud-Doktorn (Audio Diagnostik)",category:"AI Core",phase:2,description:"AI lyssnar p motorljud och stller diagnos. Prompt-system klart, frontend-integration saknas.",detailedDescription:"Audio-baserad diagnostik dr AI analyserar motorljud. Anvnder Gemini:s audio processing.",purpose:'Lser problemet "Vad r det som lter?".',status:"in-progress",tech:["Audio Processing","Gemini Audio","Signal Analysis","Web Audio API"],priority:"medium",tags:["Audio","Diagnostics","AI","Analysis"],checklist:[{label:"Specad",completed:!0},{label:"Prompt utvecklad",completed:!0},{label:"Mikrofon-access",completed:!1,inProgress:!0},{label:"Audio streaming",completed:!1},{label:"UI fr diagnos",completed:!1},{label:"Lanserad",completed:!1}]},{id:28,title:"Elton Inspector (AI Besiktning)",category:"Plattform",phase:2,description:'AI-assisterad fordonsbesiktning ("Snap & Triage") med bild- och ljudanalys.',detailedDescription:"Anvndaren fotar problemomrden och AI:n ger diagnos, allvarlighetsgrad, och tgrdsfrslag. Se docs/features/INSPECTOR_SPEC.md.",purpose:"Professionell bedmning av fordonets skick utan att vara expert.",status:"planned",tech:["Gemini Vision","Audio Analysis","Investigation Logic Tree"],priority:"medium",tags:["AI","Vision","Audio","Diagnostics","Mobile"],checklist:[{label:"Specad",completed:!0},{label:"Datamodell (Findings)",completed:!0},{label:"AI-Prompt (Inspector)",completed:!0},{label:"Utvecklad (UI & Logic)",completed:!1},{label:"Lanserad",completed:!1}]},{id:104,title:"Frbttrad Felhantering",category:"UX",phase:2,description:"Centralisera felmeddelanden, lgg till Error Boundaries, frbttra user feedback.",detailedDescription:"Nuvarande felhantering r inkonsekvent. Behver centraliserad error handling med Error Boundaries.",purpose:"Bttre anvndarupplevelse vid fel.",status:"planned",tech:["React Error Boundary","Error Tracking","Toast System"],priority:"medium",tags:["UX","Quality","Error Handling"],checklist:[{label:"Skapa central error service",completed:!1},{label:"Implementera Error Boundaries",completed:!1},{label:"Centralisera toast-hantering",completed:!1},{label:"Lgg till error tracking",completed:!1}]},{id:16,title:"Offline-std (PWA)",category:"Infrastruktur",phase:3,description:"Gr appen till en Progressive Web App som fungerar utan ntverk.",detailedDescription:"PWA-implementation med service workers, offline caching, och background sync.",purpose:"Ett garage har ofta dlig tckning. Appen mste fungera offline.",status:"planned",tech:["Vite PWA Plugin","Firestore Persistence","Service Workers"],priority:"high",blockedBy:[27],tags:["PWA","Offline","Mobile","Performance"],checklist:[{label:"Specad",completed:!0},{label:"Firestore offline persistence",completed:!1},{label:"Service Worker setup",completed:!1},{label:"App manifest",completed:!1},{label:"Testad (Flygplanslge)",completed:!1},{label:"Lanserad",completed:!1}]},{id:11,title:"Smart Context & Beslutsstd",category:"Projektledning",phase:3,description:"Visar automatiskt relevant data (t.ex. dckdimensioner) inne p en uppgift.",detailedDescription:"Context-aware UI som visar fordonsdata nr man arbetar med specifika uppgifter.",purpose:"Just-in-time information. Slipp leta i papper.",status:"planned",tech:["Context Awareness","Smart UI","Data Matching"],priority:"medium",tags:["Context","AI","UX","Productivity"],checklist:[{label:"Specad",completed:!0},{label:"Definiera context-triggers",completed:!1},{label:"Utvecklad",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:4,title:"AI-genererad Projektikon (Nano Banana)",category:"AI Core",phase:3,description:"AI ritar en stiliserad flat design-ikon av din bil. BLOCKAD: Vntar p SDK-support.",detailedDescription:"AI-driven bildgenerering. Vntar p @google/genai SDK-std fr image generation.",purpose:"Personligt och proffsigt utseende p projektet.",status:"blocked",tech:["Gemini Image Generation","Flat Design"],priority:"low",tags:["AI","Design","Image","Blocked"],checklist:[{label:"Specad",completed:!0},{label:"Prompt utvecklad",completed:!0},{label:"BLOCKED: SDK-support",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:105,title:"Integrationstester",category:"Testing",phase:3,description:"Komplettera testsviten med integrationstester fr hela user flows.",detailedDescription:"Testa hela flden: Skapa projekt -> Lgg till tasks -> AI-chat -> Export.",purpose:"Skerstlla att alla delar fungerar tillsammans.",status:"planned",tech:["Vitest","Firebase Emulators","MSW"],priority:"medium",tags:["Testing","Quality","Integration"],checklist:[{label:"Setup Firebase Emulators",completed:!1},{label:"Onboarding flow test",completed:!1},{label:"AI chat flow test",completed:!1},{label:"Co-working flow test",completed:!1},{label:"CI/CD integration",completed:!1}]},{id:18,title:"Partner-integration (Auto-korg)",category:"Ekonomi",phase:4,description:"Lgg varor i varukorgen hos partners (t.ex. Autodoc) direkt frn appen.",detailedDescription:"Affiliate-integration med bildelarbutiker fr direkta kplnkar.",purpose:"Tjna pengar p plattformen och underltta kp.",status:"planned",tech:["Affiliate APIs","Deep Linking","Partner Integration"],priority:"low",tags:["Affiliate","Monetization","Partners","E-commerce"],checklist:[{label:"Specad",completed:!0},{label:"Partner-kontakt",completed:!1},{label:"API-integration",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:25,title:"Admin UI & Feature Flag Dashboard",category:"Infrastruktur",phase:4,description:"Dashboard fr att hantera feature flags och vervaka anvndning i realtid.",detailedDescription:"Admin-interface fr att toggle features och analysera anvndarbeteende.",purpose:"Enkel kontroll av features utan att ndra kod.",status:"planned",tech:["React Admin Dashboard","Firestore","Analytics"],priority:"low",tags:["Admin","Analytics","Dashboard","Monitoring"],checklist:[{label:"Specad",completed:!1},{label:"Utvecklad (UI)",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:22,title:"The Garage OS (Multi-Brand Platform)",category:"Strategi",phase:4,description:'Transformation till en "White Label"-motor fr olika fordonsgrupper.',detailedDescription:"Plattform som kan anpassas fr olika nischer: VanPlan, RaceKoll, ClassicTracker etc.",purpose:"Skalbarhet och nya marknader.",status:"planned",tech:["Config-driven Architecture","White Label","Multi-tenancy"],priority:"low",tags:["White Label","Strategy","Scale","Platform"],checklist:[{label:"Specad",completed:!0},{label:"Brand Config System",completed:!0},{label:"Dynamiska Teman",completed:!1},{label:"Multi-tenant DB",completed:!1},{label:"Lanserad",completed:!1}]},{id:106,title:"Mobilapp (React Native)",category:"Plattform",phase:4,description:"Native mobilapp fr iOS och Android med bttre kamera- och mikrofon-access.",detailedDescription:"React Native-app som delar business logic med webappen men har native access.",purpose:"Bttre anvndarupplevelse p mobil.",status:"planned",tech:["React Native","Expo","Firebase","Native APIs"],priority:"low",tags:["Mobile","Native","iOS","Android"],checklist:[{label:"Utvrdera React Native vs Flutter",completed:!1},{label:"Setup projekt",completed:!1},{label:"Bygga native features",completed:!1},{label:"App Store submission",completed:!1}]}];function NPe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const lx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Tf(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function $C(t){return"nodeType"in t}function ti(t){var e,n;return t?Tf(t)?t:$C(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function HC(t){const{Document:e}=ti(t);return t instanceof e}function Lm(t){return Tf(t)?!1:t instanceof ti(t).HTMLElement}function b$(t){return t instanceof ti(t).SVGElement}function kf(t){return t?Tf(t)?t.document:$C(t)?HC(t)?t:Lm(t)||b$(t)?t.ownerDocument:document:document:document}const Ba=lx?A.useLayoutEffect:A.useEffect;function cx(t){const e=A.useRef(t);return Ba(()=>{e.current=t}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function RPe(){const t=A.useRef(null),e=A.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=A.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Fp(t,e){e===void 0&&(e=[t]);const n=A.useRef(t);return Ba(()=>{n.current!==t&&(n.current=t)},e),n}function jm(t,e){const n=A.useRef();return A.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function I0(t){const e=cx(t),n=A.useRef(null),r=A.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function N0(t){const e=A.useRef();return A.useEffect(()=>{e.current=t},[t]),e.current}let CE={};function Um(t,e){return A.useMemo(()=>{if(e)return e;const n=CE[t]==null?0:CE[t]+1;return CE[t]=n,t+"-"+n},[t,e])}function x$(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,s)=>{const l=Object.entries(s);for(const[u,d]of l){const f=a[u];f!=null&&(a[u]=f+t*d)}return a},{...e})}}const Dd=x$(1),R0=x$(-1);function PPe(t){return"clientX"in t&&"clientY"in t}function ux(t){if(!t)return!1;const{KeyboardEvent:e}=ti(t.target);return e&&t instanceof e}function DPe(t){if(!t)return!1;const{TouchEvent:e}=ti(t.target);return e&&t instanceof e}function P0(t){if(DPe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return PPe(t)?{x:t.clientX,y:t.clientY}:null}const Zl=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Zl.Translate.toString(t),Zl.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),n5="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function MPe(t){return t.matches(n5)?t:t.querySelector(n5)}const OPe={display:"none"};function LPe(t){let{id:e,value:n}=t;return en.createElement("div",{id:e,style:OPe},n)}function jPe(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return en.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function UPe(){const[t,e]=A.useState("");return{announce:A.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const _$=A.createContext(null);function VPe(t){const e=A.useContext(_$);A.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function FPe(){const[t]=A.useState(()=>new Set),e=A.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[A.useCallback(r=>{let{type:i,event:a}=r;t.forEach(s=>{var l;return(l=s[i])==null?void 0:l.call(s,a)})},[t]),e]}const zPe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},BPe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function qPe(t){let{announcements:e=BPe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=zPe}=t;const{announce:a,announcement:s}=UPe(),l=Um("DndLiveRegion"),[u,d]=A.useState(!1);if(A.useEffect(()=>{d(!0)},[]),VPe(A.useMemo(()=>({onDragStart(p){let{active:y}=p;a(e.onDragStart({active:y}))},onDragMove(p){let{active:y,over:v}=p;e.onDragMove&&a(e.onDragMove({active:y,over:v}))},onDragOver(p){let{active:y,over:v}=p;a(e.onDragOver({active:y,over:v}))},onDragEnd(p){let{active:y,over:v}=p;a(e.onDragEnd({active:y,over:v}))},onDragCancel(p){let{active:y,over:v}=p;a(e.onDragCancel({active:y,over:v}))}}),[a,e])),!u)return null;const f=en.createElement(en.Fragment,null,en.createElement(LPe,{id:r,value:i.draggable}),en.createElement(jPe,{id:l,announcement:s}));return n?Vc.createPortal(f,n):f}var Kn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Kn||(Kn={}));function D0(){}function $Pe(t,e){return A.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function HPe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const qa=Object.freeze({x:0,y:0});function GPe(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function KPe(t,e){const n=P0(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function YPe(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function WPe(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function r5(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function JPe(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}const XPe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=r5(e),a=[];for(const s of r){const{id:l}=s,u=n.get(l);if(u){const d=r5(u),f=i.reduce((y,v,T)=>y+GPe(d[T],v),0),p=Number((f/4).toFixed(4));a.push({id:l,data:{droppableContainer:s,value:p}})}}return a.sort(YPe)};function QPe(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),s=i-r,l=a-n;if(r<i&&n<a){const u=e.width*e.height,d=t.width*t.height,f=s*l,p=f/(u+d-f);return Number(p.toFixed(4))}return 0}const ZPe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const a of r){const{id:s}=a,l=n.get(s);if(l){const u=QPe(l,e);u>0&&i.push({id:s,data:{droppableContainer:a,value:u}})}}return i.sort(WPe)};function eDe(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function w$(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:qa}function tDe(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((s,l)=>({...s,top:s.top+t*l.y,bottom:s.bottom+t*l.y,left:s.left+t*l.x,right:s.right+t*l.x}),{...n})}}const nDe=tDe(1);function E$(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function rDe(t,e,n){const r=E$(e);if(!r)return t;const{scaleX:i,scaleY:a,x:s,y:l}=r,u=t.left-s-(1-i)*parseFloat(n),d=t.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),f=i?t.width/i:t.width,p=a?t.height/a:t.height;return{width:f,height:p,top:d,right:u+f,bottom:d+p,left:u}}const iDe={ignoreTransform:!1};function Af(t,e){e===void 0&&(e=iDe);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:f}=ti(t).getComputedStyle(t);d&&(n=rDe(n,d,f))}const{top:r,left:i,width:a,height:s,bottom:l,right:u}=n;return{top:r,left:i,width:a,height:s,bottom:l,right:u}}function i5(t){return Af(t,{ignoreTransform:!0})}function aDe(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function sDe(t,e){return e===void 0&&(e=ti(t).getComputedStyle(t)),e.position==="fixed"}function oDe(t,e){e===void 0&&(e=ti(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=e[i];return typeof a=="string"?n.test(a):!1})}function GC(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(HC(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Lm(i)||b$(i)||n.includes(i))return n;const a=ti(t).getComputedStyle(i);return i!==t&&oDe(i,a)&&n.push(i),sDe(i,a)?n:r(i.parentNode)}return t?r(t):n}function S$(t){const[e]=GC(t,1);return e??null}function IE(t){return!lx||!t?null:Tf(t)?t:$C(t)?HC(t)||t===kf(t).scrollingElement?window:Lm(t)?t:null:null}function T$(t){return Tf(t)?t.scrollX:t.scrollLeft}function k$(t){return Tf(t)?t.scrollY:t.scrollTop}function MT(t){return{x:T$(t),y:k$(t)}}var lr;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(lr||(lr={}));function A$(t){return!lx||!t?!1:t===document.scrollingElement}function C$(t){const e={x:0,y:0},n=A$(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,a=t.scrollLeft<=e.x,s=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:s,isRight:l,maxScroll:r,minScroll:e}}const lDe={x:.2,y:.2};function cDe(t,e,n,r,i){let{top:a,left:s,right:l,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=lDe);const{isTop:d,isBottom:f,isLeft:p,isRight:y}=C$(t),v={x:0,y:0},T={x:0,y:0},k={height:e.height*i.y,width:e.width*i.x};return!d&&a<=e.top+k.height?(v.y=lr.Backward,T.y=r*Math.abs((e.top+k.height-a)/k.height)):!f&&u>=e.bottom-k.height&&(v.y=lr.Forward,T.y=r*Math.abs((e.bottom-k.height-u)/k.height)),!y&&l>=e.right-k.width?(v.x=lr.Forward,T.x=r*Math.abs((e.right-k.width-l)/k.width)):!p&&s<=e.left+k.width&&(v.x=lr.Backward,T.x=r*Math.abs((e.left+k.width-s)/k.width)),{direction:v,speed:T}}function uDe(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:s}=window;return{top:0,left:0,right:a,bottom:s,width:a,height:s}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function I$(t){return t.reduce((e,n)=>Dd(e,MT(n)),qa)}function dDe(t){return t.reduce((e,n)=>e+T$(n),0)}function fDe(t){return t.reduce((e,n)=>e+k$(n),0)}function N$(t,e){if(e===void 0&&(e=Af),!t)return;const{top:n,left:r,bottom:i,right:a}=e(t);S$(t)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const hDe=[["x",["left","right"],dDe],["y",["top","bottom"],fDe]];class KC{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=GC(n),i=I$(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,s,l]of hDe)for(const u of s)Object.defineProperty(this,u,{get:()=>{const d=l(r),f=i[a]-d;return this.rect[u]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class cp{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function pDe(t){const{EventTarget:e}=ti(t);return t instanceof e?t:kf(t)}function NE(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var ca;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(ca||(ca={}));function a5(t){t.preventDefault()}function mDe(t){t.stopPropagation()}var Tt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Tt||(Tt={}));const R$={start:[Tt.Space,Tt.Enter],cancel:[Tt.Esc],end:[Tt.Space,Tt.Enter,Tt.Tab]},gDe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Tt.Right:return{...n,x:n.x+25};case Tt.Left:return{...n,x:n.x-25};case Tt.Down:return{...n,y:n.y+25};case Tt.Up:return{...n,y:n.y-25}}};class P${constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new cp(kf(n)),this.windowListeners=new cp(ti(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ca.Resize,this.handleCancel),this.windowListeners.add(ca.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ca.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&N$(r),n(qa)}handleKeyDown(e){if(ux(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=R$,coordinateGetter:s=gDe,scrollBehavior:l="smooth"}=i,{code:u}=e;if(a.end.includes(u)){this.handleEnd(e);return}if(a.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=r.current,f=d?{x:d.left,y:d.top}:qa;this.referenceCoordinates||(this.referenceCoordinates=f);const p=s(e,{active:n,context:r.current,currentCoordinates:f});if(p){const y=R0(p,f),v={x:0,y:0},{scrollableAncestors:T}=r.current;for(const k of T){const S=e.code,{isTop:C,isRight:R,isLeft:I,isBottom:L,maxScroll:F,minScroll:j}=C$(k),P=uDe(k),U={x:Math.min(S===Tt.Right?P.right-P.width/2:P.right,Math.max(S===Tt.Right?P.left:P.left+P.width/2,p.x)),y:Math.min(S===Tt.Down?P.bottom-P.height/2:P.bottom,Math.max(S===Tt.Down?P.top:P.top+P.height/2,p.y))},M=S===Tt.Right&&!R||S===Tt.Left&&!I,B=S===Tt.Down&&!L||S===Tt.Up&&!C;if(M&&U.x!==p.x){const V=k.scrollLeft+y.x,q=S===Tt.Right&&V<=F.x||S===Tt.Left&&V>=j.x;if(q&&!y.y){k.scrollTo({left:V,behavior:l});return}q?v.x=k.scrollLeft-V:v.x=S===Tt.Right?k.scrollLeft-F.x:k.scrollLeft-j.x,v.x&&k.scrollBy({left:-v.x,behavior:l});break}else if(B&&U.y!==p.y){const V=k.scrollTop+y.y,q=S===Tt.Down&&V<=F.y||S===Tt.Up&&V>=j.y;if(q&&!y.x){k.scrollTo({top:V,behavior:l});return}q?v.y=k.scrollTop-V:v.y=S===Tt.Down?k.scrollTop-F.y:k.scrollTop-j.y,v.y&&k.scrollBy({top:-v.y,behavior:l});break}}this.handleMove(e,Dd(R0(p,this.referenceCoordinates),v))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}P$.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=R$,onActivation:i}=e,{active:a}=n;const{code:s}=t.nativeEvent;if(r.start.includes(s)){const l=a.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function s5(t){return!!(t&&"distance"in t)}function o5(t){return!!(t&&"delay"in t)}class YC{constructor(e,n,r){var i;r===void 0&&(r=pDe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:a}=e,{target:s}=a;this.props=e,this.events=n,this.document=kf(s),this.documentListeners=new cp(this.document),this.listeners=new cp(r),this.windowListeners=new cp(ti(s)),this.initialCoordinates=(i=P0(a))!=null?i:qa,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ca.Resize,this.handleCancel),this.windowListeners.add(ca.DragStart,a5),this.windowListeners.add(ca.VisibilityChange,this.handleCancel),this.windowListeners.add(ca.ContextMenu,a5),this.documentListeners.add(ca.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(o5(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(s5(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(ca.Click,mDe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ca.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:s,options:{activationConstraint:l}}=a;if(!i)return;const u=(n=P0(e))!=null?n:qa,d=R0(i,u);if(!r&&l){if(s5(l)){if(l.tolerance!=null&&NE(d,l.tolerance))return this.handleCancel();if(NE(d,l.distance))return this.handleStart()}if(o5(l)&&NE(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),s(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Tt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const yDe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class WC extends YC{constructor(e){const{event:n}=e,r=kf(n.target);super(e,yDe,r)}}WC.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const vDe={move:{name:"mousemove"},end:{name:"mouseup"}};var OT;(function(t){t[t.RightClick=2]="RightClick"})(OT||(OT={}));class bDe extends YC{constructor(e){super(e,vDe,kf(e.event.target))}}bDe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===OT.RightClick?!1:(r==null||r({event:n}),!0)}}];const RE={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class xDe extends YC{constructor(e){super(e,RE)}static setup(){return window.addEventListener(RE.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(RE.move.name,e)};function e(){}}}xDe.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var up;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(up||(up={}));var M0;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(M0||(M0={}));function _De(t){let{acceleration:e,activator:n=up.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:s=5,order:l=M0.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:f,delta:p,threshold:y}=t;const v=EDe({delta:p,disabled:!a}),[T,k]=RPe(),S=A.useRef({x:0,y:0}),C=A.useRef({x:0,y:0}),R=A.useMemo(()=>{switch(n){case up.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case up.DraggableRect:return i}},[n,i,u]),I=A.useRef(null),L=A.useCallback(()=>{const j=I.current;if(!j)return;const P=S.current.x*C.current.x,U=S.current.y*C.current.y;j.scrollBy(P,U)},[]),F=A.useMemo(()=>l===M0.TreeOrder?[...d].reverse():d,[l,d]);A.useEffect(()=>{if(!a||!d.length||!R){k();return}for(const j of F){if((r==null?void 0:r(j))===!1)continue;const P=d.indexOf(j),U=f[P];if(!U)continue;const{direction:M,speed:B}=cDe(j,U,R,e,y);for(const V of["x","y"])v[V][M[V]]||(B[V]=0,M[V]=0);if(B.x>0||B.y>0){k(),I.current=j,T(L,s),S.current=B,C.current=M;return}}S.current={x:0,y:0},C.current={x:0,y:0},k()},[e,L,r,k,a,s,JSON.stringify(R),JSON.stringify(v),T,d,F,f,JSON.stringify(y)])}const wDe={x:{[lr.Backward]:!1,[lr.Forward]:!1},y:{[lr.Backward]:!1,[lr.Forward]:!1}};function EDe(t){let{delta:e,disabled:n}=t;const r=N0(e);return jm(i=>{if(n||!r||!i)return wDe;const a={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[lr.Backward]:i.x[lr.Backward]||a.x===-1,[lr.Forward]:i.x[lr.Forward]||a.x===1},y:{[lr.Backward]:i.y[lr.Backward]||a.y===-1,[lr.Forward]:i.y[lr.Forward]||a.y===1}}},[n,e,r])}function SDe(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return jm(i=>{var a;return e==null?null:(a=r??i)!=null?a:null},[r,e])}function TDe(t,e){return A.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,r)}));return[...n,...a]},[]),[t,e])}var zp;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(zp||(zp={}));var LT;(function(t){t.Optimized="optimized"})(LT||(LT={}));const l5=new Map;function kDe(t,e){let{dragging:n,dependencies:r,config:i}=e;const[a,s]=A.useState(null),{frequency:l,measure:u,strategy:d}=i,f=A.useRef(t),p=S(),y=Fp(p),v=A.useCallback(function(C){C===void 0&&(C=[]),!y.current&&s(R=>R===null?C:R.concat(C.filter(I=>!R.includes(I))))},[y]),T=A.useRef(null),k=jm(C=>{if(p&&!n)return l5;if(!C||C===l5||f.current!==t||a!=null){const R=new Map;for(let I of t){if(!I)continue;if(a&&a.length>0&&!a.includes(I.id)&&I.rect.current){R.set(I.id,I.rect.current);continue}const L=I.node.current,F=L?new KC(u(L),L):null;I.rect.current=F,F&&R.set(I.id,F)}return R}return C},[t,a,n,p,u]);return A.useEffect(()=>{f.current=t},[t]),A.useEffect(()=>{p||v()},[n,p]),A.useEffect(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),A.useEffect(()=>{p||typeof l!="number"||T.current!==null||(T.current=setTimeout(()=>{v(),T.current=null},l))},[l,p,v,...r]),{droppableRects:k,measureDroppableContainers:v,measuringScheduled:a!=null};function S(){switch(d){case zp.Always:return!1;case zp.BeforeDragging:return n;default:return!n}}}function JC(t,e){return jm(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function ADe(t,e){return JC(t,e)}function CDe(t){let{callback:e,disabled:n}=t;const r=cx(e),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return A.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function dx(t){let{callback:e,disabled:n}=t;const r=cx(e),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return A.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function IDe(t){return new KC(Af(t),t)}function c5(t,e,n){e===void 0&&(e=IDe);const[r,i]=A.useState(null);function a(){i(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const f=e(t);return JSON.stringify(u)===JSON.stringify(f)?u:f})}const s=CDe({callback(u){if(t)for(const d of u){const{type:f,target:p}=d;if(f==="childList"&&p instanceof HTMLElement&&p.contains(t)){a();break}}}}),l=dx({callback:a});return Ba(()=>{a(),t?(l==null||l.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),s==null||s.disconnect())},[t]),r}function NDe(t){const e=JC(t);return w$(t,e)}const u5=[];function RDe(t){const e=A.useRef(t),n=jm(r=>t?r&&r!==u5&&t&&e.current&&t.parentNode===e.current.parentNode?r:GC(t):u5,[t]);return A.useEffect(()=>{e.current=t},[t]),n}function PDe(t){const[e,n]=A.useState(null),r=A.useRef(t),i=A.useCallback(a=>{const s=IE(a.target);s&&n(l=>l?(l.set(s,MT(s)),new Map(l)):null)},[]);return A.useEffect(()=>{const a=r.current;if(t!==a){s(a);const l=t.map(u=>{const d=IE(u);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,MT(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),r.current=t}return()=>{s(t),s(a)};function s(l){l.forEach(u=>{const d=IE(u);d==null||d.removeEventListener("scroll",i)})}},[i,t]),A.useMemo(()=>t.length?e?Array.from(e.values()).reduce((a,s)=>Dd(a,s),qa):I$(t):qa,[t,e])}function d5(t,e){e===void 0&&(e=[]);const n=A.useRef(null);return A.useEffect(()=>{n.current=null},e),A.useEffect(()=>{const r=t!==qa;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?R0(t,n.current):qa}function DDe(t){A.useEffect(()=>{if(!lx)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function MDe(t,e){return A.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=s=>{a(s,e)},n},{}),[t,e])}function D$(t){return A.useMemo(()=>t?aDe(t):null,[t])}const f5=[];function ODe(t,e){e===void 0&&(e=Af);const[n]=t,r=D$(n?ti(n):null),[i,a]=A.useState(f5);function s(){a(()=>t.length?t.map(u=>A$(u)?r:new KC(e(u),u)):f5)}const l=dx({callback:s});return Ba(()=>{l==null||l.disconnect(),s(),t.forEach(u=>l==null?void 0:l.observe(u))},[t]),i}function M$(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Lm(e)?e:t}function LDe(t){let{measure:e}=t;const[n,r]=A.useState(null),i=A.useCallback(d=>{for(const{target:f}of d)if(Lm(f)){r(p=>{const y=e(f);return p?{...p,width:y.width,height:y.height}:y});break}},[e]),a=dx({callback:i}),s=A.useCallback(d=>{const f=M$(d);a==null||a.disconnect(),f&&(a==null||a.observe(f)),r(f?e(f):null)},[e,a]),[l,u]=I0(s);return A.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const jDe=[{sensor:WC,options:{}},{sensor:P$,options:{}}],UDe={current:{}},iv={draggable:{measure:i5},droppable:{measure:i5,strategy:zp.WhileDragging,frequency:LT.Optimized},dragOverlay:{measure:Af}};class dp extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const VDe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new dp,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:D0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:iv,measureDroppableContainers:D0,windowRect:null,measuringScheduled:!1},O$={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:D0,draggableNodes:new Map,over:null,measureDroppableContainers:D0},Vm=A.createContext(O$),L$=A.createContext(VDe);function FDe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new dp}}}function zDe(t,e){switch(e.type){case Kn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Kn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Kn.DragEnd:case Kn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Kn.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new dp(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Kn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const s=new dp(t.droppable.containers);return s.set(n,{...a,disabled:i}),{...t,droppable:{...t.droppable,containers:s}}}case Kn.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const a=new dp(t.droppable.containers);return a.delete(n),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function BDe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=A.useContext(Vm),a=N0(r),s=N0(n==null?void 0:n.id);return A.useEffect(()=>{if(!e&&!r&&a&&s!=null){if(!ux(a)||document.activeElement===a.target)return;const l=i.get(s);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[u.current,d.current]){if(!f)continue;const p=MPe(f);if(p){p.focus();break}}})}},[r,e,i,s,a]),null}function j$(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,a)=>a({transform:i,...r}),n):n}function qDe(t){return A.useMemo(()=>({draggable:{...iv.draggable,...t==null?void 0:t.draggable},droppable:{...iv.droppable,...t==null?void 0:t.droppable},dragOverlay:{...iv.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function $De(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const a=A.useRef(!1),{x:s,y:l}=typeof i=="boolean"?{x:i,y:i}:i;Ba(()=>{if(!s&&!l||!e){a.current=!1;return}if(a.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const f=n(d),p=w$(f,r);if(s||(p.x=0),l||(p.y=0),a.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const y=S$(d);y&&y.scrollBy({top:p.y,left:p.x})}},[e,s,l,r,n])}const fx=A.createContext({...qa,scaleX:1,scaleY:1});var Tl;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Tl||(Tl={}));const HDe=A.memo(function(e){var n,r,i,a;let{id:s,accessibility:l,autoScroll:u=!0,children:d,sensors:f=jDe,collisionDetection:p=ZPe,measuring:y,modifiers:v,...T}=e;const k=A.useReducer(zDe,void 0,FDe),[S,C]=k,[R,I]=FPe(),[L,F]=A.useState(Tl.Uninitialized),j=L===Tl.Initialized,{draggable:{active:P,nodes:U,translate:M},droppable:{containers:B}}=S,V=P!=null?U.get(P):null,q=A.useRef({initial:null,translated:null}),z=A.useMemo(()=>{var at;return P!=null?{id:P,data:(at=V==null?void 0:V.data)!=null?at:UDe,rect:q}:null},[P,V]),le=A.useRef(null),[X,J]=A.useState(null),[H,Z]=A.useState(null),ne=Fp(T,Object.values(T)),Y=Um("DndDescribedBy",s),$=A.useMemo(()=>B.getEnabled(),[B]),te=qDe(y),{droppableRects:K,measureDroppableContainers:pe,measuringScheduled:we}=kDe($,{dragging:j,dependencies:[M.x,M.y],config:te.droppable}),Se=SDe(U,P),Ie=A.useMemo(()=>H?P0(H):null,[H]),He=Us(),oe=ADe(Se,te.draggable.measure);$De({activeNode:P!=null?U.get(P):null,config:He.layoutShiftCompensation,initialRect:oe,measure:te.draggable.measure});const Ce=c5(Se,te.draggable.measure,oe),je=c5(Se?Se.parentElement:null),be=A.useRef({activatorEvent:null,active:null,activeNode:Se,collisionRect:null,collisions:null,droppableRects:K,draggableNodes:U,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),lt=B.getNodeFor((n=be.current.over)==null?void 0:n.id),fe=LDe({measure:te.dragOverlay.measure}),ke=(r=fe.nodeRef.current)!=null?r:Se,Re=j?(i=fe.rect)!=null?i:Ce:null,it=!!(fe.nodeRef.current&&fe.rect),Cn=NDe(it?null:Ce),zt=D$(ke?ti(ke):null),wt=RDe(j?lt??Se:null),Vr=ODe(wt),Ya=j$(v,{transform:{x:M.x-Cn.x,y:M.y-Cn.y,scaleX:1,scaleY:1},activatorEvent:H,active:z,activeNodeRect:Ce,containerNodeRect:je,draggingNodeRect:Re,over:be.current.over,overlayNodeRect:fe.rect,scrollableAncestors:wt,scrollableAncestorRects:Vr,windowRect:zt}),js=Ie?Dd(Ie,M):null,In=PDe(wt),wa=d5(In),ge=d5(In,[Ce]),Te=Dd(Ya,wa),Fe=Re?nDe(Re,Ya):null,We=z&&Fe?p({active:z,collisionRect:Fe,droppableRects:K,droppableContainers:$,pointerCoordinates:js}):null,mt=JPe(We,"id"),[Yt,Fr]=A.useState(null),un=it?Ya:Dd(Ya,ge),Wt=eDe(un,(a=Yt==null?void 0:Yt.rect)!=null?a:null,Ce),fn=A.useRef(null),rt=A.useCallback((at,nn)=>{let{sensor:rn,options:Nn}=nn;if(le.current==null)return;const kr=U.get(le.current);if(!kr)return;const er=at.nativeEvent,vn=new rn({active:le.current,activeNode:kr,event:er,options:Nn,context:be,onAbort(bn){if(!U.get(bn))return;const{onDragAbort:Cr}=ne.current,zr={id:bn};Cr==null||Cr(zr),R({type:"onDragAbort",event:zr})},onPending(bn,Ar,Cr,zr){if(!U.get(bn))return;const{onDragPending:Br}=ne.current,Ti={id:bn,constraint:Ar,initialCoordinates:Cr,offset:zr};Br==null||Br(Ti),R({type:"onDragPending",event:Ti})},onStart(bn){const Ar=le.current;if(Ar==null)return;const Cr=U.get(Ar);if(!Cr)return;const{onDragStart:zr}=ne.current,Si={activatorEvent:er,active:{id:Ar,data:Cr.data,rect:q}};Vc.unstable_batchedUpdates(()=>{zr==null||zr(Si),F(Tl.Initializing),C({type:Kn.DragStart,initialCoordinates:bn,active:Ar}),R({type:"onDragStart",event:Si}),J(fn.current),Z(er)})},onMove(bn){C({type:Kn.DragMove,coordinates:bn})},onEnd:ni(Kn.DragEnd),onCancel:ni(Kn.DragCancel)});fn.current=vn;function ni(bn){return async function(){const{active:Cr,collisions:zr,over:Si,scrollAdjustedTranslate:Br}=be.current;let Ti=null;if(Cr&&Br){const{cancelDrop:pr}=ne.current;Ti={activatorEvent:er,active:Cr,collisions:zr,delta:Br,over:Si},bn===Kn.DragEnd&&typeof pr=="function"&&await Promise.resolve(pr(Ti))&&(bn=Kn.DragCancel)}le.current=null,Vc.unstable_batchedUpdates(()=>{C({type:bn}),F(Tl.Uninitialized),Fr(null),J(null),Z(null),fn.current=null;const pr=bn===Kn.DragEnd?"onDragEnd":"onDragCancel";if(Ti){const qr=ne.current[pr];qr==null||qr(Ti),R({type:pr,event:Ti})}})}}},[U]),Ei=A.useCallback((at,nn)=>(rn,Nn)=>{const kr=rn.nativeEvent,er=U.get(Nn);if(le.current!==null||!er||kr.dndKit||kr.defaultPrevented)return;const vn={active:er};at(rn,nn.options,vn)===!0&&(kr.dndKit={capturedBy:nn.sensor},le.current=Nn,rt(rn,nn))},[U,rt]),$n=TDe(f,Ei);DDe(f),Ba(()=>{Ce&&L===Tl.Initializing&&F(Tl.Initialized)},[Ce,L]),A.useEffect(()=>{const{onDragMove:at}=ne.current,{active:nn,activatorEvent:rn,collisions:Nn,over:kr}=be.current;if(!nn||!rn)return;const er={active:nn,activatorEvent:rn,collisions:Nn,delta:{x:Te.x,y:Te.y},over:kr};Vc.unstable_batchedUpdates(()=>{at==null||at(er),R({type:"onDragMove",event:er})})},[Te.x,Te.y]),A.useEffect(()=>{const{active:at,activatorEvent:nn,collisions:rn,droppableContainers:Nn,scrollAdjustedTranslate:kr}=be.current;if(!at||le.current==null||!nn||!kr)return;const{onDragOver:er}=ne.current,vn=Nn.get(mt),ni=vn&&vn.rect.current?{id:vn.id,rect:vn.rect.current,data:vn.data,disabled:vn.disabled}:null,bn={active:at,activatorEvent:nn,collisions:rn,delta:{x:kr.x,y:kr.y},over:ni};Vc.unstable_batchedUpdates(()=>{Fr(ni),er==null||er(bn),R({type:"onDragOver",event:bn})})},[mt]),Ba(()=>{be.current={activatorEvent:H,active:z,activeNode:Se,collisionRect:Fe,collisions:We,droppableRects:K,draggableNodes:U,draggingNode:ke,draggingNodeRect:Re,droppableContainers:B,over:Yt,scrollableAncestors:wt,scrollAdjustedTranslate:Te},q.current={initial:Re,translated:Fe}},[z,Se,We,Fe,U,ke,Re,K,B,Yt,wt,Te]),_De({...He,delta:M,draggingRect:Fe,pointerCoordinates:js,scrollableAncestors:wt,scrollableAncestorRects:Vr});const gu=A.useMemo(()=>({active:z,activeNode:Se,activeNodeRect:Ce,activatorEvent:H,collisions:We,containerNodeRect:je,dragOverlay:fe,draggableNodes:U,droppableContainers:B,droppableRects:K,over:Yt,measureDroppableContainers:pe,scrollableAncestors:wt,scrollableAncestorRects:Vr,measuringConfiguration:te,measuringScheduled:we,windowRect:zt}),[z,Se,Ce,H,We,je,fe,U,B,K,Yt,pe,wt,Vr,te,we,zt]),Hi=A.useMemo(()=>({activatorEvent:H,activators:$n,active:z,activeNodeRect:Ce,ariaDescribedById:{draggable:Y},dispatch:C,draggableNodes:U,over:Yt,measureDroppableContainers:pe}),[H,$n,z,Ce,C,Y,U,Yt,pe]);return en.createElement(_$.Provider,{value:I},en.createElement(Vm.Provider,{value:Hi},en.createElement(L$.Provider,{value:gu},en.createElement(fx.Provider,{value:Wt},d)),en.createElement(BDe,{disabled:(l==null?void 0:l.restoreFocus)===!1})),en.createElement(qPe,{...l,hiddenTextDescribedById:Y}));function Us(){const at=(X==null?void 0:X.autoScrollEnabled)===!1,nn=typeof u=="object"?u.enabled===!1:u===!1,rn=j&&!at&&!nn;return typeof u=="object"?{...u,enabled:rn}:{enabled:rn}}}),GDe=A.createContext(null),h5="button",KDe="Draggable";function YDe(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const a=Um(KDe),{activators:s,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:f,draggableNodes:p,over:y}=A.useContext(Vm),{role:v=h5,roleDescription:T="draggable",tabIndex:k=0}=i??{},S=(u==null?void 0:u.id)===e,C=A.useContext(S?fx:GDe),[R,I]=I0(),[L,F]=I0(),j=MDe(s,e),P=Fp(n);Ba(()=>(p.set(e,{id:e,key:a,node:R,activatorNode:L,data:P}),()=>{const M=p.get(e);M&&M.key===a&&p.delete(e)}),[p,e]);const U=A.useMemo(()=>({role:v,tabIndex:k,"aria-disabled":r,"aria-pressed":S&&v===h5?!0:void 0,"aria-roledescription":T,"aria-describedby":f.draggable}),[r,v,k,S,T,f.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:U,isDragging:S,listeners:r?void 0:j,node:R,over:y,setNodeRef:I,setActivatorNodeRef:F,transform:C}}function U$(){return A.useContext(L$)}const WDe="Droppable",JDe={timeout:25};function V$(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const a=Um(WDe),{active:s,dispatch:l,over:u,measureDroppableContainers:d}=A.useContext(Vm),f=A.useRef({disabled:n}),p=A.useRef(!1),y=A.useRef(null),v=A.useRef(null),{disabled:T,updateMeasurementsFor:k,timeout:S}={...JDe,...i},C=Fp(k??r),R=A.useCallback(()=>{if(!p.current){p.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{d(Array.isArray(C.current)?C.current:[C.current]),v.current=null},S)},[S]),I=dx({callback:R,disabled:T||!s}),L=A.useCallback((U,M)=>{I&&(M&&(I.unobserve(M),p.current=!1),U&&I.observe(U))},[I]),[F,j]=I0(L),P=Fp(e);return A.useEffect(()=>{!I||!F.current||(I.disconnect(),p.current=!1,I.observe(F.current))},[F,I]),A.useEffect(()=>(l({type:Kn.RegisterDroppable,element:{id:r,key:a,disabled:n,node:F,rect:y,data:P}}),()=>l({type:Kn.UnregisterDroppable,key:a,id:r})),[r]),A.useEffect(()=>{n!==f.current.disabled&&(l({type:Kn.SetDroppableDisabled,id:r,key:a,disabled:n}),f.current.disabled=n)},[r,a,n,l]),{active:s,rect:y,isOver:(u==null?void 0:u.id)===r,node:F,over:u,setNodeRef:j}}function XDe(t){let{animation:e,children:n}=t;const[r,i]=A.useState(null),[a,s]=A.useState(null),l=N0(n);return!n&&!r&&l&&i(l),Ba(()=>{if(!a)return;const u=r==null?void 0:r.key,d=r==null?void 0:r.props.id;if(u==null||d==null){i(null);return}Promise.resolve(e(d,a)).then(()=>{i(null)})},[e,r,a]),en.createElement(en.Fragment,null,n,r?A.cloneElement(r,{ref:s}):null)}const QDe={x:0,y:0,scaleX:1,scaleY:1};function ZDe(t){let{children:e}=t;return en.createElement(Vm.Provider,{value:O$},en.createElement(fx.Provider,{value:QDe},e))}const eMe={position:"fixed",touchAction:"none"},tMe=t=>ux(t)?"transform 250ms ease":void 0,nMe=A.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:a,className:s,rect:l,style:u,transform:d,transition:f=tMe}=t;if(!l)return null;const p=i?d:{...d,scaleX:1,scaleY:1},y={...eMe,width:l.width,height:l.height,top:l.top,left:l.left,transform:Zl.Transform.toString(p),transformOrigin:i&&r?KPe(r,l):void 0,transition:typeof f=="function"?f(r):f,...u};return en.createElement(n,{className:s,style:y,ref:e},a)}),rMe=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:a,className:s}=t;if(a!=null&&a.active)for(const[l,u]of Object.entries(a.active))u!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,u));if(a!=null&&a.dragOverlay)for(const[l,u]of Object.entries(a.dragOverlay))u!==void 0&&r.node.style.setProperty(l,u);return s!=null&&s.active&&n.node.classList.add(s.active),s!=null&&s.dragOverlay&&r.node.classList.add(s.dragOverlay),function(){for(const[u,d]of Object.entries(i))n.node.style.setProperty(u,d);s!=null&&s.active&&n.node.classList.remove(s.active)}},iMe=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Zl.Transform.toString(e)},{transform:Zl.Transform.toString(n)}]},aMe={duration:250,easing:"ease",keyframes:iMe,sideEffects:rMe({styles:{active:{opacity:"0"}}})};function sMe(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return cx((a,s)=>{if(e===null)return;const l=n.get(a);if(!l)return;const u=l.node.current;if(!u)return;const d=M$(s);if(!d)return;const{transform:f}=ti(s).getComputedStyle(s),p=E$(f);if(!p)return;const y=typeof e=="function"?e:oMe(e);return N$(u,i.draggable.measure),y({active:{id:a,data:l.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:s,rect:i.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:i,transform:p})})}function oMe(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...aMe,...t};return a=>{let{active:s,dragOverlay:l,transform:u,...d}=a;if(!e)return;const f={x:l.rect.left-s.rect.left,y:l.rect.top-s.rect.top},p={scaleX:u.scaleX!==1?s.rect.width*u.scaleX/l.rect.width:1,scaleY:u.scaleY!==1?s.rect.height*u.scaleY/l.rect.height:1},y={x:u.x-f.x,y:u.y-f.y,...p},v=i({...d,active:s,dragOverlay:l,transform:{initial:u,final:y}}),[T]=v,k=v[v.length-1];if(JSON.stringify(T)===JSON.stringify(k))return;const S=r==null?void 0:r({active:s,dragOverlay:l,...d}),C=l.node.animate(v,{duration:e,easing:n,fill:"forwards"});return new Promise(R=>{C.onfinish=()=>{S==null||S(),R()}})}}let p5=0;function lMe(t){return A.useMemo(()=>{if(t!=null)return p5++,p5},[t])}const cMe=en.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:a,modifiers:s,wrapperElement:l="div",className:u,zIndex:d=999}=t;const{activatorEvent:f,active:p,activeNodeRect:y,containerNodeRect:v,draggableNodes:T,droppableContainers:k,dragOverlay:S,over:C,measuringConfiguration:R,scrollableAncestors:I,scrollableAncestorRects:L,windowRect:F}=U$(),j=A.useContext(fx),P=lMe(p==null?void 0:p.id),U=j$(s,{activatorEvent:f,active:p,activeNodeRect:y,containerNodeRect:v,draggingNodeRect:S.rect,over:C,overlayNodeRect:S.rect,scrollableAncestors:I,scrollableAncestorRects:L,transform:j,windowRect:F}),M=JC(y),B=sMe({config:r,draggableNodes:T,droppableContainers:k,measuringConfiguration:R}),V=M?S.setRef:void 0;return en.createElement(ZDe,null,en.createElement(XDe,{animation:B},p&&P?en.createElement(nMe,{key:P,id:p.id,ref:V,as:l,activatorEvent:f,adjustScale:e,className:u,transition:a,rect:M,style:{zIndex:d,...i},transform:U},n):null))});function F$(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function uMe(t,e){return t.reduce((n,r,i)=>{const a=e.get(r);return a&&(n[i]=a),n},Array(t.length))}function jy(t){return t!==null&&t>=0}function dMe(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function fMe(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const z$=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const a=F$(e,r,n),s=e[i],l=a[i];return!l||!s?null:{x:l.left-s.left,y:l.top-s.top,scaleX:l.width/s.width,scaleY:l.height/s.height}},Uy={scaleX:1,scaleY:1},PE=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:s}=t;const l=(e=a[n])!=null?e:r;if(!l)return null;if(i===n){const d=a[s];return d?{x:0,y:n<s?d.top+d.height-(l.top+l.height):d.top-l.top,...Uy}:null}const u=hMe(a,i,n);return i>n&&i<=s?{x:0,y:-l.height-u,...Uy}:i<n&&i>=s?{x:0,y:l.height+u,...Uy}:{x:0,y:0,...Uy}};function hMe(t,e,n){const r=t[e],i=t[e-1],a=t[e+1];return r?n<e?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const B$="Sortable",q$=en.createContext({activeIndex:-1,containerId:B$,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:z$,disabled:{draggable:!1,droppable:!1}});function DE(t){let{children:e,id:n,items:r,strategy:i=z$,disabled:a=!1}=t;const{active:s,dragOverlay:l,droppableRects:u,over:d,measureDroppableContainers:f}=U$(),p=Um(B$,n),y=l.rect!==null,v=A.useMemo(()=>r.map(j=>typeof j=="object"&&"id"in j?j.id:j),[r]),T=s!=null,k=s?v.indexOf(s.id):-1,S=d?v.indexOf(d.id):-1,C=A.useRef(v),R=!dMe(v,C.current),I=S!==-1&&k===-1||R,L=fMe(a);Ba(()=>{R&&T&&f(v)},[R,v,T,f]),A.useEffect(()=>{C.current=v},[v]);const F=A.useMemo(()=>({activeIndex:k,containerId:p,disabled:L,disableTransforms:I,items:v,overIndex:S,useDragOverlay:y,sortedRects:uMe(v,u),strategy:i}),[k,p,L.draggable,L.droppable,I,v,S,u,y,i]);return en.createElement(q$.Provider,{value:F},e)}const pMe=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return F$(n,r,i).indexOf(e)},mMe=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:a,newIndex:s,previousItems:l,previousContainerId:u,transition:d}=t;return!d||!r||l!==a&&i===s?!1:n?!0:s!==i&&e===u},gMe={duration:200,easing:"ease"},$$="transform",yMe=Zl.Transition.toString({property:$$,duration:0,easing:"linear"}),vMe={roleDescription:"sortable"};function bMe(t){let{disabled:e,index:n,node:r,rect:i}=t;const[a,s]=A.useState(null),l=A.useRef(n);return Ba(()=>{if(!e&&n!==l.current&&r.current){const u=i.current;if(u){const d=Af(r.current,{ignoreTransform:!0}),f={x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height};(f.x||f.y)&&s(f)}}n!==l.current&&(l.current=n)},[e,n,r,i]),A.useEffect(()=>{a&&s(null)},[a]),a}function xMe(t){let{animateLayoutChanges:e=mMe,attributes:n,disabled:r,data:i,getNewIndex:a=pMe,id:s,strategy:l,resizeObserverConfig:u,transition:d=gMe}=t;const{items:f,containerId:p,activeIndex:y,disabled:v,disableTransforms:T,sortedRects:k,overIndex:S,useDragOverlay:C,strategy:R}=A.useContext(q$),I=_Me(r,v),L=f.indexOf(s),F=A.useMemo(()=>({sortable:{containerId:p,index:L,items:f},...i}),[p,i,L,f]),j=A.useMemo(()=>f.slice(f.indexOf(s)),[f,s]),{rect:P,node:U,isOver:M,setNodeRef:B}=V$({id:s,data:F,disabled:I.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...u}}),{active:V,activatorEvent:q,activeNodeRect:z,attributes:le,setNodeRef:X,listeners:J,isDragging:H,over:Z,setActivatorNodeRef:ne,transform:Y}=YDe({id:s,data:F,attributes:{...vMe,...n},disabled:I.draggable}),$=NPe(B,X),te=!!V,K=te&&!T&&jy(y)&&jy(S),pe=!C&&H,we=pe&&K?Y:null,Ie=K?we??(l??R)({rects:k,activeNodeRect:z,activeIndex:y,overIndex:S,index:L}):null,He=jy(y)&&jy(S)?a({id:s,items:f,activeIndex:y,overIndex:S}):L,oe=V==null?void 0:V.id,Ce=A.useRef({activeId:oe,items:f,newIndex:He,containerId:p}),je=f!==Ce.current.items,be=e({active:V,containerId:p,isDragging:H,isSorting:te,id:s,index:L,items:f,newIndex:Ce.current.newIndex,previousItems:Ce.current.items,previousContainerId:Ce.current.containerId,transition:d,wasDragging:Ce.current.activeId!=null}),lt=bMe({disabled:!be,index:L,node:U,rect:P});return A.useEffect(()=>{te&&Ce.current.newIndex!==He&&(Ce.current.newIndex=He),p!==Ce.current.containerId&&(Ce.current.containerId=p),f!==Ce.current.items&&(Ce.current.items=f)},[te,He,p,f]),A.useEffect(()=>{if(oe===Ce.current.activeId)return;if(oe!=null&&Ce.current.activeId==null){Ce.current.activeId=oe;return}const ke=setTimeout(()=>{Ce.current.activeId=oe},50);return()=>clearTimeout(ke)},[oe]),{active:V,activeIndex:y,attributes:le,data:F,rect:P,index:L,newIndex:He,items:f,isOver:M,isSorting:te,isDragging:H,listeners:J,node:U,overIndex:S,over:Z,setNodeRef:$,setActivatorNodeRef:ne,setDroppableNodeRef:B,setDraggableNodeRef:X,transform:lt??Ie,transition:fe()};function fe(){if(lt||je&&Ce.current.newIndex===L)return yMe;if(!(pe&&!ux(q)||!d)&&(te||be))return Zl.Transition.toString({...d,property:$$})}}function _Me(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}Tt.Down,Tt.Right,Tt.Up,Tt.Left;const zh=({feature:t,onClick:e,isDraggable:n=!1})=>{const{attributes:r,listeners:i,setNodeRef:a,transform:s,transition:l,isDragging:u}=xMe({id:t.id.toString(),disabled:!n}),d={transform:Zl.Transform.toString(s),transition:l,opacity:u?.5:1},f=I=>{switch(I){case"AI Core":return m.jsx(VS,{size:16,className:"text-amber-500"});case"Plattform":return m.jsx(BO,{size:16,className:"text-blue-500"});case"Ekonomi":return m.jsx(Lz,{size:16,className:"text-green-500"});case"Garage":return m.jsx(co,{size:16,className:"text-slate-500"});case"Kunskap":return m.jsx(Sb,{size:16,className:"text-purple-500"});case"Data":return m.jsx(Oz,{size:16,className:"text-indigo-500"});case"Infrastruktur":return m.jsx(BO,{size:16,className:"text-teal-500"});case"Projektledning":return m.jsx(lo,{size:16,className:"text-orange-500"});case"Strategi":return m.jsx(qO,{size:16,className:"text-pink-500"});default:return m.jsx(qO,{size:16,className:"text-slate-400"})}},y=(I=>I==="done"?{bg:"bg-teal-50",border:"border-teal-200",text:"text-teal-700",badge:"bg-teal-100 text-teal-800 border-teal-200",icon:m.jsx(cr,{size:12}),label:"Lanserad"}:I==="in-progress"?{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-700",badge:"bg-amber-100 text-amber-800 border-amber-200",icon:m.jsx(Mz,{size:12}),label:"Pgr"}:{bg:"bg-slate-50",border:"border-slate-200",text:"text-slate-600",badge:"bg-slate-100 text-slate-600 border-slate-200",icon:m.jsx(qd,{size:12}),label:"Planerad"})(t.status),v=t.checklist.filter(I=>I.completed).length,T=t.checklist.length,k=v/T*100,S=Array.isArray(t.tech)?t.tech:[t.tech],C=S.slice(0,2),R=S.length-2;return m.jsxs("div",{ref:a,style:d,onClick:e,className:`
                ${y.bg} ${y.border}
                border-2 rounded-2xl p-5
                cursor-pointer transition-all duration-300
                hover:scale-[1.02] hover:shadow-xl
                ${t.status==="in-progress"?"ring-2 ring-amber-300/50":""}
                ${u?"shadow-2xl z-50":""}
            `,children:[m.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n&&m.jsx("button",{className:"mr-2 cursor-grab active:cursor-grabbing text-slate-400 hover:text-slate-600 transition-colors",...r,...i,onClick:I=>I.stopPropagation(),children:m.jsx(Due,{size:18})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:`
                        w-8 h-8 rounded-full flex items-center justify-center
                        font-bold text-xs shadow-sm
                        ${y.bg} ${y.text} border ${y.border}
                    `,children:["#",t.id]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[f(t.category),m.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400",children:t.category})]})]}),m.jsxs("span",{className:`
                    inline-flex items-center gap-1 px-2 py-1
                    text-[10px] font-bold uppercase rounded-md border
                    ${y.badge}
                `,children:[y.icon,y.label]})]}),m.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal mb-2 line-clamp-2",children:t.title}),m.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:t.description}),m.jsxs("div",{className:"mb-4",children:[m.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[m.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400",children:"Progress"}),m.jsxs("span",{className:"text-xs font-bold text-slate-600",children:[v,"/",T]})]}),m.jsx("div",{className:"w-full bg-slate-200 h-2 rounded-full overflow-hidden",children:m.jsx("div",{className:`h-full transition-all duration-500 ${t.status==="done"?"bg-teal-500":t.status==="in-progress"?"bg-amber-500":"bg-slate-400"}`,style:{width:`${k}%`}})})]}),m.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[C.map((I,L)=>m.jsx("span",{className:"inline-block px-2 py-1 bg-white border border-slate-200 rounded-md text-[10px] font-medium text-slate-600",children:I},L)),R>0&&m.jsxs("span",{className:"inline-block px-2 py-1 bg-slate-100 border border-slate-200 rounded-md text-[10px] font-bold text-slate-500",children:["+",R]})]}),t.priority&&m.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[m.jsx("span",{className:`
                        text-[9px] font-bold uppercase px-2 py-0.5 rounded
                        ${t.priority==="high"?"bg-rose-100 text-rose-700":t.priority==="medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}
                    `,children:t.priority==="high"?" High":t.priority==="medium"?" Medium":" Low"}),t.estimatedCompletion&&m.jsxs("span",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:[m.jsx($d,{size:10}),t.estimatedCompletion]})]}),m.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200/50",children:m.jsxs("div",{className:"flex items-center gap-2",children:[t.checklist.slice(0,5).map((I,L)=>I.completed?m.jsx(cr,{size:14,className:"text-teal-500"},L):I.inProgress?m.jsx($d,{size:14,className:"text-amber-500 animate-pulse"},L):m.jsx(qd,{size:14,className:"text-slate-300"},L)),t.checklist.length>5&&m.jsxs("span",{className:"text-[10px] text-slate-400",children:["+",t.checklist.length-5]})]})})]})},wMe=({feature:t,onClose:e})=>{const n=t.checklist.filter(u=>u.completed).length,r=t.checklist.length,i=n/r*100,s=(u=>u==="done"?{bg:"bg-teal-50",text:"text-teal-700",badge:"bg-teal-100 text-teal-800 border-teal-300"}:u==="in-progress"?{bg:"bg-amber-50",text:"text-amber-700",badge:"bg-amber-100 text-amber-800 border-amber-300"}:{bg:"bg-slate-50",text:"text-slate-600",badge:"bg-slate-100 text-slate-700 border-slate-300"})(t.status),l=Array.isArray(t.tech)?t.tech:t.tech.split("+").map(u=>u.trim());return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-4xl rounded-3xl shadow-2xl my-8 animate-fade-in",children:[m.jsxs("div",{className:`${s.bg} p-6 border-b border-slate-200 dark:border-nordic-charcoal rounded-t-3xl relative`,children:[m.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/50 rounded-full transition-colors",children:m.jsx(dr,{size:24,className:"text-slate-500"})}),m.jsxs("div",{className:"flex items-start gap-4 mb-4 pr-12",children:[m.jsxs("div",{className:`
                            w-12 h-12 rounded-full flex items-center justify-center
                            font-bold text-lg shadow-lg border-2
                            ${s.bg} ${s.text} border-white
                        `,children:["#",t.id]}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("span",{className:`
                                    px-3 py-1 rounded-full text-xs font-bold uppercase border
                                    ${s.badge}
                                `,children:t.status==="done"?" Lanserad":t.status==="in-progress"?" Pgr":" Planerad"}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 bg-white px-2 py-1 rounded-md",children:t.category}),t.priority&&m.jsx("span",{className:`
                                        text-xs font-bold uppercase px-2 py-1 rounded-md
                                        ${t.priority==="high"?"bg-rose-100 text-rose-700":t.priority==="medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}
                                    `,children:t.priority})]}),m.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal dark:text-nordic-ice mb-2",children:t.title}),m.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:t.description})]})]}),m.jsxs("div",{className:"bg-white/50 rounded-xl p-3",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("span",{className:"text-xs font-bold uppercase text-slate-500",children:"Framsteg"}),m.jsxs("span",{className:"text-sm font-bold text-slate-700",children:[n," av ",r," klara"]})]}),m.jsx("div",{className:"w-full bg-slate-200 h-3 rounded-full overflow-hidden",children:m.jsx("div",{className:`h-full transition-all duration-500 ${t.status==="done"?"bg-teal-500":t.status==="in-progress"?"bg-amber-500":"bg-slate-400"}`,style:{width:`${i}%`}})})]})]}),m.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx(Hz,{size:18,className:"text-teal-600"}),m.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Syfte & Vision"})]}),m.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 border-l-4 border-teal-500 p-4 rounded-r-xl",children:m.jsxs("p",{className:"text-slate-700 dark:text-slate-200 italic",children:['"',t.purpose,'"']})})]}),t.detailedDescription&&m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3",children:"Detaljerad Beskrivning"}),m.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed",children:t.detailedDescription})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3",children:"Checklista & Milstolpar"}),m.jsx("div",{className:"bg-white dark:bg-nordic-charcoal rounded-xl border border-slate-200 dark:border-nordic-charcoal p-4 space-y-3",children:t.checklist.map((u,d)=>m.jsxs("div",{className:`
                                                flex items-start gap-3 p-3 rounded-lg transition-all
                                                ${u.completed?"bg-teal-50 dark:bg-teal-900/20":u.inProgress?"bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-200":"bg-slate-50 dark:bg-slate-800"}
                                            `,children:[u.completed?m.jsx(cr,{size:20,className:"text-teal-500 mt-0.5 shrink-0"}):u.inProgress?m.jsx($d,{size:20,className:"text-amber-500 mt-0.5 shrink-0 animate-pulse"}):m.jsx(qd,{size:20,className:"text-slate-300 mt-0.5 shrink-0"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("span",{className:`
                                                    text-sm font-medium
                                                    ${u.completed?"text-slate-700 dark:text-slate-200":u.inProgress?"text-amber-800 dark:text-amber-200":"text-slate-400 dark:text-slate-500"}
                                                `,children:u.label}),u.completedAt&&m.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Klart: ",u.completedAt]})]})]},d))})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx(Jce,{size:18,className:"text-blue-600"}),m.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Tech Stack"})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((u,d)=>m.jsx("span",{className:"inline-block px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg text-xs font-medium text-blue-700 dark:text-blue-300",children:u},d))})]}),t.estimatedCompletion&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx(Tb,{size:18,className:"text-purple-600"}),m.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:"Estimerad Lansering"})]}),m.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-3",children:m.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:t.estimatedCompletion})})]}),t.tags&&t.tags.length>0&&m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-sm text-slate-400 uppercase mb-2",children:"Tags"}),m.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.tags.map((u,d)=>m.jsxs("span",{className:"inline-block px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-md text-xs text-slate-600 dark:text-slate-300",children:["#",u]},d))})]}),m.jsxs("div",{className:"space-y-2",children:[t.demoUrl&&m.jsxs("a",{href:t.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-teal-50 dark:bg-teal-900/20 border border-teal-200 dark:border-teal-800 rounded-lg hover:bg-teal-100 transition-colors",children:[m.jsx(Qv,{size:16,className:"text-teal-600"}),m.jsx("span",{className:"text-sm font-medium text-teal-700 dark:text-teal-300",children:"Live Demo"})]}),t.githubIssue&&m.jsxs("a",{href:t.githubIssue,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-100 transition-colors",children:[m.jsx(Rue,{size:16,className:"text-slate-600"}),m.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"GitHub Issue"})]})]}),t.status==="planned"&&m.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3 flex items-start gap-2",children:[m.jsx(Ip,{size:16,className:"text-amber-600 mt-0.5 shrink-0"}),m.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Denna feature r planerad men ej pbrjad. Datum och specifikationer kan ndras."})]})]})]})}),m.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-nordic-charcoal bg-slate-50 dark:bg-nordic-charcoal/50 rounded-b-3xl",children:m.jsx("button",{onClick:e,className:"w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors",children:"Stng"})})]})})},EMe=({viewMode:t,onViewModeChange:e,statusFilter:n,onStatusFilterChange:r,categoryFilter:i,onCategoryFilterChange:a,sortBy:s,onSortByChange:l,searchQuery:u,onSearchQueryChange:d,categories:f})=>{const p=[{value:"all",label:"Alla",icon:m.jsx(Iue,{size:14}),color:"slate"},{value:"done",label:"Lanserad",icon:m.jsx(cr,{size:14}),color:"teal"},{value:"in-progress",label:"Pgr",icon:m.jsx(Mz,{size:14}),color:"amber"},{value:"planned",label:"Planerad",icon:m.jsx(qd,{size:14}),color:"slate"}],y=[{value:"id",label:"ID"},{value:"progress",label:"Framsteg"},{value:"status",label:"Status"},{value:"category",label:"Kategori"}];return m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-sm border border-slate-200 dark:border-nordic-charcoal p-4 mb-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[m.jsxs("div",{className:"flex bg-slate-100 dark:bg-nordic-charcoal rounded-lg p-1",children:[m.jsxs("button",{onClick:()=>e("kanban"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all
                            ${t==="kanban"?"bg-white dark:bg-nordic-dark-bg shadow-sm text-nordic-charcoal dark:text-nordic-ice":"text-slate-500 hover:text-slate-700"}
                        `,children:[m.jsx(que,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"Kanban"})]}),m.jsxs("button",{onClick:()=>e("list"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all
                            ${t==="list"?"bg-white dark:bg-nordic-dark-bg shadow-sm text-nordic-charcoal dark:text-nordic-ice":"text-slate-500 hover:text-slate-700"}
                        `,children:[m.jsx(Xue,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"Lista"})]})]}),m.jsxs("div",{className:"flex-1 relative",children:[m.jsx(Hd,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"Sk features...",value:u,onChange:v=>d(v.target.value),className:"w-full pl-10 pr-10 py-2 bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 dark:text-white"}),u&&m.jsx("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:m.jsx(dr,{size:16})})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[m.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(v=>m.jsxs("button",{onClick:()=>r(v.value),className:`
                                flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                                ${n===v.value?`bg-${v.color}-100 dark:bg-${v.color}-900/30 text-${v.color}-700 dark:text-${v.color}-300 border-${v.color}-300 dark:border-${v.color}-700`:"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                            `,children:[v.icon,m.jsx("span",{children:v.label})]},v.value))}),m.jsxs("div",{className:"flex-1 flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>a("all"),className:`
                            px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                            ${i==="all"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                        `,children:"Alla kategorier"}),f.map(v=>m.jsx("button",{onClick:()=>a(v),className:`
                                px-3 py-1.5 rounded-lg text-xs font-medium transition-all border
                                ${i===v?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700":"bg-slate-50 dark:bg-nordic-charcoal text-slate-600 dark:text-slate-400 border-slate-200 dark:border-nordic-charcoal hover:bg-slate-100"}
                            `,children:v},v))]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Cp,{size:14,className:"text-slate-400"}),m.jsx("select",{value:s,onChange:v=>l(v.target.value),className:"px-3 py-1.5 bg-slate-50 dark:bg-nordic-charcoal border border-slate-200 dark:border-nordic-charcoal rounded-lg text-xs font-medium text-slate-700 dark:text-slate-300 focus:outline-none focus:ring-2 focus:ring-teal-500",children:y.map(v=>m.jsxs("option",{value:v.value,children:["Sortera: ",v.label]},v.value))})]})]})]})},ME=({id:t,children:e})=>{const{setNodeRef:n,isOver:r}=V$({id:t});return m.jsx("div",{ref:n,className:`transition-all ${r?"ring-2 ring-teal-500 ring-opacity-50":""}`,children:e})},SMe=({onClose:t})=>{const[e,n]=A.useState(null),[r,i]=A.useState("kanban"),[a,s]=A.useState("all"),[l,u]=A.useState("all"),[d,f]=A.useState("id"),[p,y]=A.useState(""),[v,T]=A.useState(IPe),[k,S]=A.useState(null),C=HPe($Pe(WC,{activationConstraint:{distance:8}})),R=A.useMemo(()=>Array.from(new Set(v.map(X=>X.category))),[v]),I=A.useMemo(()=>{let X=v;if(a!=="all"&&(X=X.filter(H=>H.status===a)),l!=="all"&&(X=X.filter(H=>H.category===l)),p){const H=p.toLowerCase();X=X.filter(Z=>Z.title.toLowerCase().includes(H)||Z.description.toLowerCase().includes(H)||Z.purpose.toLowerCase().includes(H)||(typeof Z.tech=="string"?Z.tech.toLowerCase().includes(H):Z.tech.some(ne=>ne.toLowerCase().includes(H))))}return[...X].sort((H,Z)=>{switch(d){case"progress":const ne=H.checklist.filter(te=>te.completed).length/H.checklist.length;return Z.checklist.filter(te=>te.completed).length/Z.checklist.length-ne;case"status":const $={"in-progress":0,planned:1,done:2};return $[H.status]-$[Z.status];case"category":return H.category.localeCompare(Z.category);case"id":default:return H.id-Z.id}})},[v,a,l,p,d]),L=I.filter(X=>X.status==="done"),F=I.filter(X=>X.status==="in-progress"),j=I.filter(X=>X.status==="planned"),P=v.length,U=v.filter(X=>X.status==="done").length,M=v.filter(X=>X.status==="in-progress").length,B=v.filter(X=>X.status==="planned").length,V=Math.round(U/P*100),q=X=>{S(X.active.id)},z=X=>{const{active:J,over:H}=X;if(S(null),!H)return;const Z=parseInt(J.id),ne=H.id,Y=v.find($=>$.id===Z);!Y||Y.status==="done"||T($=>$.map(te=>te.id===Z?{...te,status:ne}:te))},le=k?v.find(X=>X.id.toString()===k):null;return m.jsxs("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg p-4 sm:p-6 pb-24",children:[m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("button",{onClick:t,className:"p-3 bg-white dark:bg-nordic-dark-surface rounded-xl shadow-sm hover:bg-slate-50 dark:hover:bg-nordic-charcoal text-slate-500 dark:text-slate-400 transition-colors",children:m.jsx(Jv,{size:20})}),m.jsxs("div",{children:[m.jsx("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal dark:text-nordic-ice",children:"Produkt-Roadmap"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Visionen fr The VanPlan. Uppdateras lpande."})]})]}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[m.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:m.jsx(yde,{size:20,className:"text-blue-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice",children:P}),m.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Totalt Features"})]})]})}),m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-teal-100 dark:border-teal-900/50",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx("div",{className:"w-10 h-10 bg-teal-50 dark:bg-teal-900/20 rounded-full flex items-center justify-center",children:m.jsx(Hz,{size:20,className:"text-teal-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-teal-600",children:U}),m.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Lanserade"})]})]}),m.jsx("div",{className:"w-full bg-teal-100 dark:bg-teal-900/30 h-1.5 rounded-full overflow-hidden",children:m.jsx("div",{className:"bg-teal-500 h-full transition-all duration-1000",style:{width:`${V}%`}})})]}),m.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-amber-100 dark:border-amber-900/50",children:m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx("div",{className:"w-10 h-10 bg-amber-50 dark:bg-amber-900/20 rounded-full flex items-center justify-center",children:m.jsx(Cp,{size:20,className:"text-amber-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-amber-600",children:M}),m.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Pgr"})]})]})}),m.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx("div",{className:"w-10 h-10 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center",children:m.jsx($d,{size:20,className:"text-slate-500"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-slate-600 dark:text-slate-300",children:B}),m.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Planerade"})]})]})})]}),m.jsx(EMe,{viewMode:r,onViewModeChange:i,statusFilter:a,onStatusFilterChange:s,categoryFilter:l,onCategoryFilterChange:u,sortBy:d,onSortByChange:f,searchQuery:p,onSearchQueryChange:y,categories:R}),r==="kanban"?m.jsxs(HDe,{sensors:C,collisionDetection:XPe,onDragStart:q,onDragEnd:z,children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsx(ME,{id:"planned",children:m.jsx(DE,{id:"planned",items:j.map(X=>X.id.toString()),strategy:PE,children:m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-slate-200 dark:border-nordic-charcoal",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[m.jsx("div",{className:"w-3 h-3 bg-slate-400 rounded-full"}),"Planerad"]}),m.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-600 dark:text-slate-400",children:j.length})]}),m.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[j.map(X=>m.jsx(zh,{feature:X,onClick:()=>n(X),isDraggable:!0},X.id)),j.length===0&&m.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga planerade features"})]})]})})}),m.jsx(ME,{id:"in-progress",children:m.jsx(DE,{id:"in-progress",items:F.map(X=>X.id.toString()),strategy:PE,children:m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-amber-200 dark:border-amber-900/50",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"font-bold text-amber-700 dark:text-amber-300 flex items-center gap-2",children:[m.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),"Pgr"]}),m.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-amber-100 dark:bg-amber-900/30 rounded-full text-amber-700 dark:text-amber-300",children:F.length})]}),m.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[F.map(X=>m.jsx(zh,{feature:X,onClick:()=>n(X),isDraggable:!0},X.id)),F.length===0&&m.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga pgende features"})]})]})})}),m.jsx(ME,{id:"done",children:m.jsx(DE,{id:"done",items:L.map(X=>X.id.toString()),strategy:PE,children:m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl p-4 border border-teal-200 dark:border-teal-900/50",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"font-bold text-teal-700 dark:text-teal-300 flex items-center gap-2",children:[m.jsx("div",{className:"w-3 h-3 bg-teal-500 rounded-full"}),"Lanserad"]}),m.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-teal-100 dark:bg-teal-900/30 rounded-full text-teal-700 dark:text-teal-300",children:L.length})]}),m.jsxs("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 min-h-[200px]",children:[L.map(X=>m.jsx(zh,{feature:X,onClick:()=>n(X),isDraggable:!1},X.id)),L.length===0&&m.jsx("p",{className:"text-center text-slate-400 text-sm py-8",children:"Inga lanserade features"})]})]})})})]}),m.jsx(cMe,{children:le?m.jsx("div",{className:"rotate-3 scale-105",children:m.jsx(zh,{feature:le,onClick:()=>{},isDraggable:!1})}):null})]}):m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[I.map(X=>m.jsx(zh,{feature:X,onClick:()=>n(X)},X.id)),I.length===0&&m.jsx("div",{className:"col-span-full text-center py-12",children:m.jsx("p",{className:"text-slate-400 text-lg",children:"Inga features matchar dina filter"})})]}),m.jsxs("div",{className:"mt-12 text-center pb-8",children:[m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-2",children:"Total Framsteg"}),m.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-800 h-4 rounded-full overflow-hidden max-w-xl mx-auto",children:m.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 h-full transition-all duration-1000 flex items-center justify-center",style:{width:`${V}%`},children:m.jsxs("span",{className:"text-xs font-bold text-white",children:[V,"%"]})})}),m.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:[U," av ",P," features lanserade"]})]})]}),e&&m.jsx(wMe,{feature:e,onClose:()=>n(null)})]})},TMe=({project:t,onClose:e,onUpdate:n})=>{const[r,i]=A.useState(!1),[a,s]=A.useState({date:new Date().toISOString().split("T")[0],mileage:"",liters:"",pricePerLiter:"",fullTank:!0}),l=A.useMemo(()=>[...t.fuelLog||[]].sort((y,v)=>new Date(v.date).getTime()-new Date(y.date).getTime()),[t.fuelLog]),u=A.useMemo(()=>{const y=[],v=l.filter(T=>T.fullTank).reverse();for(let T=1;T<v.length;T++){const k=v[T],S=v[T-1],C=k.mileage-S.mileage;if(C>0){const R=k.liters/C*100;y.push({date:k.date,consumption:Math.round(R*10)/10,cost:k.totalCost})}}return y.reverse()},[l]),d=A.useMemo(()=>{if(l.length===0)return{avgConsumption:0,totalCost:0,totalLiters:0,avgCostPerLiter:0};const y=l.reduce((S,C)=>S+C.totalCost,0),v=l.reduce((S,C)=>S+C.liters,0),T=u.length>0?u.reduce((S,C)=>S+C.consumption,0)/u.length:0,k=v>0?y/v:0;return{avgConsumption:Math.round(T*10)/10,totalCost:Math.round(y),totalLiters:Math.round(v),avgCostPerLiter:Math.round(k*100)/100}},[l,u]),f=y=>{y.preventDefault();const v={id:`fuel_${Date.now()}`,date:a.date,mileage:parseInt(a.mileage),liters:parseFloat(a.liters),pricePerLiter:parseFloat(a.pricePerLiter),totalCost:parseFloat(a.liters)*parseFloat(a.pricePerLiter),fullTank:a.fullTank},T=[...t.fuelLog||[],v];n(T),s({date:new Date().toISOString().split("T")[0],mileage:"",liters:"",pricePerLiter:"",fullTank:!0}),i(!1)},p=y=>{const v=(t.fuelLog||[]).filter(T=>T.id!==y);n(v)};return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-5xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[m.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:m.jsx(yd,{size:24})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Brnslelogg"}),m.jsx("p",{className:"text-blue-100 text-sm",children:"Spra frbrukning och kostnader"})]})]}),m.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:m.jsx(dr,{size:24})})]}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[m.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(Iz,{size:16,className:"text-blue-200"}),m.jsx("p",{className:"text-xs text-blue-200",children:"Snittfrbrukning"})]}),m.jsx("p",{className:"text-2xl font-bold",children:d.avgConsumption}),m.jsx("p",{className:"text-xs text-blue-200",children:"L/100km"})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(Lz,{size:16,className:"text-blue-200"}),m.jsx("p",{className:"text-xs text-blue-200",children:"Total kostnad"})]}),m.jsx("p",{className:"text-2xl font-bold",children:d.totalCost}),m.jsx("p",{className:"text-xs text-blue-200",children:"kr"})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(yd,{size:16,className:"text-blue-200"}),m.jsx("p",{className:"text-xs text-blue-200",children:"Totalt tankad"})]}),m.jsx("p",{className:"text-2xl font-bold",children:d.totalLiters}),m.jsx("p",{className:"text-xs text-blue-200",children:"liter"})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(Cp,{size:16,className:"text-blue-200"}),m.jsx("p",{className:"text-xs text-blue-200",children:"Snittpris"})]}),m.jsx("p",{className:"text-2xl font-bold",children:d.avgCostPerLiter}),m.jsx("p",{className:"text-xs text-blue-200",children:"kr/L"})]})]})]}),m.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[u.length>1&&m.jsxs("div",{className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[m.jsxs("h3",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[m.jsx(Cp,{size:18,className:"text-blue-500"}),"Frbrukningstrend"]}),m.jsx(jU,{width:"100%",height:200,children:m.jsxs(Pce,{data:u,children:[m.jsx(lz,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),m.jsx(dA,{dataKey:"date",tick:{fontSize:12},stroke:"#64748b"}),m.jsx(fA,{tick:{fontSize:12},stroke:"#64748b",label:{value:"L/100km",angle:-90,position:"insideLeft"}}),m.jsx(wF,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"8px"}}),m.jsx(mz,{type:"monotone",dataKey:"consumption",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4}})]})})]}),!r&&m.jsxs("button",{onClick:()=>i(!0),className:"w-full mb-4 p-4 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[m.jsx(ws,{size:20}),"Lgg till tankning"]}),r&&m.jsxs("form",{onSubmit:f,className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Datum"}),m.jsx("input",{type:"date",value:a.date,onChange:y=>s({...a,date:y.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mtarstllning (km)"}),m.jsx("input",{type:"number",value:a.mileage,onChange:y=>s({...a,mileage:y.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"12345",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Liter"}),m.jsx("input",{type:"number",step:"0.01",value:a.liters,onChange:y=>s({...a,liters:y.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"45.5",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Pris per liter (kr)"}),m.jsx("input",{type:"number",step:"0.01",value:a.pricePerLiter,onChange:y=>s({...a,pricePerLiter:y.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg",placeholder:"18.95",required:!0})]})]}),m.jsx("div",{className:"mb-4",children:m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:a.fullTank,onChange:y=>s({...a,fullTank:y.target.checked}),className:"w-4 h-4 text-blue-500"}),m.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Full tank (krvs fr frbrukningsberkning)"})]})}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors",children:"Spara"}),m.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}),m.jsx("div",{className:"space-y-2",children:l.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx(yd,{size:48,className:"mx-auto text-slate-300 mb-3"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Inga tankningar registrerade n"})]}):l.map(y=>m.jsx("div",{className:"bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${y.fullTank?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-600"}`,children:m.jsx(yd,{size:20})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("p",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[y.liters," L"]}),y.fullTank&&m.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full font-medium",children:"Full tank"})]}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[m.jsx(Tb,{size:14}),y.date,"  ",y.mileage.toLocaleString()," km"]})]})]}),m.jsxs("div",{className:"flex items-center gap-4 text-sm ml-13",children:[m.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[y.pricePerLiter.toFixed(2)," kr/L"]}),m.jsxs("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[y.totalCost.toFixed(2)," kr"]})]})]}),m.jsx("button",{onClick:()=>p(y.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:m.jsx(dr,{size:18})})]})},y.id))})]})]})})},kMe=({project:t,onClose:e,onUpdate:n})=>{const[r,i]=A.useState(!1),[a,s]=A.useState({date:new Date().toISOString().split("T")[0],description:"",mileage:"",performer:"",type:"Service"}),l=A.useMemo(()=>[...t.serviceLog||[]].sort((S,C)=>new Date(C.date).getTime()-new Date(S.date).getTime()),[t.serviceLog]),u=A.useMemo(()=>{const S={};return l.forEach(C=>{const R=new Date(C.date).getFullYear().toString();S[R]||(S[R]=[]),S[R].push(C)}),S},[l]),d=A.useMemo(()=>{var F,j;const S=new Date,C=l.find(P=>P.type==="Service"),R=l.find(P=>P.type==="Besiktning");let I=0;C&&(I=Math.floor((S.getTime()-new Date(C.date).getTime())/(1e3*60*60*24)));let L=0;if((j=(F=t.vehicleData)==null?void 0:F.inspection)!=null&&j.next){const P=new Date(t.vehicleData.inspection.next);L=Math.floor((P.getTime()-S.getTime())/(1e3*60*60*24))}return{totalServices:l.filter(P=>P.type==="Service").length,totalRepairs:l.filter(P=>P.type==="Reparation").length,totalInspections:l.filter(P=>P.type==="Besiktning").length,daysSinceLastService:I,daysUntilNextInspection:L,lastServiceDate:(C==null?void 0:C.date)||null,lastInspectionDate:(R==null?void 0:R.date)||null}},[l,t.vehicleData]),f=S=>{switch(S){case"Service":return m.jsx(co,{size:16,className:"text-blue-500"});case"Reparation":return m.jsx(lo,{size:16,className:"text-orange-500"});case"Besiktning":return m.jsx(cr,{size:16,className:"text-teal-500"});default:return m.jsx(Tb,{size:16,className:"text-slate-500"})}},p=S=>{switch(S){case"Service":return"bg-blue-100 text-blue-700 border-blue-200";case"Reparation":return"bg-orange-100 text-orange-700 border-orange-200";case"Besiktning":return"bg-teal-100 text-teal-700 border-teal-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},y=S=>{S.preventDefault();const C={id:`service_${Date.now()}`,date:a.date,description:a.description,mileage:a.mileage,performer:a.performer,type:a.type},R=[...t.serviceLog||[],C];n(R),s({date:new Date().toISOString().split("T")[0],description:"",mileage:"",performer:"",type:"Service"}),i(!1)},v=S=>{const C=(t.serviceLog||[]).filter(R=>R.id!==S);n(C)},T=A.useMemo(()=>d.daysSinceLastService===0?null:d.daysSinceLastService>365?{severity:"high",message:`Det har gtt ${Math.floor(d.daysSinceLastService/365)} r sedan senaste servicen!`,icon:m.jsx(lo,{size:18,className:"text-red-500"})}:d.daysSinceLastService>180?{severity:"medium",message:`Dags fr service snart? (${d.daysSinceLastService} dagar sedan senast)`,icon:m.jsx($d,{size:18,className:"text-orange-500"})}:null,[d.daysSinceLastService]),k=A.useMemo(()=>d.daysUntilNextInspection<=0?{severity:"high",message:"Besiktning frsenad!",icon:m.jsx(lo,{size:18,className:"text-red-500"})}:d.daysUntilNextInspection<=30?{severity:"medium",message:`Besiktning om ${d.daysUntilNextInspection} dagar`,icon:m.jsx($d,{size:18,className:"text-orange-500"})}:d.daysUntilNextInspection<=60?{severity:"low",message:`Besiktning om ${d.daysUntilNextInspection} dagar`,icon:m.jsx(cr,{size:18,className:"text-teal-500"})}:null,[d.daysUntilNextInspection]);return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl max-w-5xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[m.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 p-6 text-white",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:m.jsx(co,{size:24})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Servicebok"}),m.jsx("p",{className:"text-teal-100 text-sm",children:"Service, reparationer & besiktningar"})]})]}),m.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:m.jsx(dr,{size:24})})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[m.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(co,{size:16,className:"text-teal-200"}),m.jsx("p",{className:"text-xs text-teal-200",children:"Service"})]}),m.jsx("p",{className:"text-2xl font-bold",children:d.totalServices})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(lo,{size:16,className:"text-teal-200"}),m.jsx("p",{className:"text-xs text-teal-200",children:"Reparationer"})]}),m.jsx("p",{className:"text-2xl font-bold",children:d.totalRepairs})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(cr,{size:16,className:"text-teal-200"}),m.jsx("p",{className:"text-xs text-teal-200",children:"Besiktningar"})]}),m.jsx("p",{className:"text-2xl font-bold",children:d.totalInspections})]})]}),m.jsxs("div",{className:"space-y-2",children:[T&&m.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${T.severity==="high"?"bg-red-500/20":"bg-orange-500/20"}`,children:[T.icon,m.jsx("span",{className:"text-sm font-medium",children:T.message})]}),k&&m.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${k.severity==="high"?"bg-red-500/20":k.severity==="medium"?"bg-orange-500/20":"bg-teal-500/20"}`,children:[k.icon,m.jsx("span",{className:"text-sm font-medium",children:k.message})]})]})]}),m.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[!r&&m.jsxs("button",{onClick:()=>i(!0),className:"w-full mb-4 p-4 bg-teal-500 hover:bg-teal-600 text-white rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[m.jsx(ws,{size:20}),"Lgg till service/reparation"]}),r&&m.jsxs("form",{onSubmit:y,className:"mb-6 bg-slate-50 dark:bg-nordic-charcoal rounded-2xl p-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Typ"}),m.jsxs("select",{value:a.type,onChange:S=>s({...a,type:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0,children:[m.jsx("option",{value:"Service",children:"Service"}),m.jsx("option",{value:"Reparation",children:"Reparation"}),m.jsx("option",{value:"Besiktning",children:"Besiktning"}),m.jsx("option",{value:"vrigt",children:"vrigt"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Datum"}),m.jsx("input",{type:"date",value:a.date,onChange:S=>s({...a,date:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mtarstllning (km)"}),m.jsx("input",{type:"text",value:a.mileage,onChange:S=>s({...a,mileage:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"12345",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Utfrare"}),m.jsx("input",{type:"text",value:a.performer,onChange:S=>s({...a,performer:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",placeholder:"Verkstad AB / Eget",required:!0})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Beskrivning"}),m.jsx("textarea",{value:a.description,onChange:S=>s({...a,description:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-nordic-charcoal rounded-lg bg-white dark:bg-nordic-dark-bg",rows:3,placeholder:"Bytte olja, filter, bromsbelgg...",required:!0})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-teal-500 hover:bg-teal-600 text-white rounded-lg font-medium transition-colors",children:"Spara"}),m.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 dark:bg-nordic-dark-bg dark:hover:bg-nordic-charcoal text-slate-700 dark:text-slate-300 rounded-lg font-medium transition-colors",children:"Avbryt"})]})]}),l.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx(co,{size:48,className:"mx-auto text-slate-300 mb-3"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Ingen servicehistorik registrerad n"})]}):m.jsx("div",{className:"space-y-6",children:Object.keys(u).sort((S,C)=>parseInt(C)-parseInt(S)).map(S=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"w-12 h-12 bg-teal-100 dark:bg-teal-900/30 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"font-bold text-teal-700 dark:text-teal-300",children:S})}),m.jsx("div",{className:"flex-1 h-px bg-slate-200 dark:bg-nordic-charcoal"})]}),m.jsx("div",{className:"space-y-3 ml-6 border-l-2 border-slate-200 dark:border-nordic-charcoal pl-6",children:u[S].map(C=>m.jsxs("div",{className:"relative bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl p-4 hover:shadow-md transition-shadow",children:[m.jsx("div",{className:"absolute -left-[29px] top-6 w-4 h-4 bg-teal-500 rounded-full border-4 border-white dark:border-nordic-dark-surface"}),m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-bold rounded-md border ${p(C.type)}`,children:[f(C.type),C.type]}),m.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:C.date})]}),m.jsx("p",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice mb-1",children:C.description}),m.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Cp,{size:14}),C.mileage," km"]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(hm,{size:14}),C.performer]})]})]}),m.jsx("button",{onClick:()=>v(C.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:m.jsx(dr,{size:18})})]})]},C.id))})]},S))})]})]})})},AMe=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Lager_1","data-name":"Lager 1",viewBox:"0 0 500 316.64",className:t,children:[m.jsx("defs",{children:m.jsx("style",{children:".cls-5{fill:#d0ae78}"})}),m.jsx("path",{d:"M7.94 178.22c1.56-7.91 12.9-28.48 17.16-36.76 9.17-17.81 19.54-37.58 29.61-54.79 12.15-20.77 36.94-38.69 56.46-52.73 7.3-5.25 18.27-14.09 26.72-16.16 24.16-5.9 57.64-6.25 82.76-7 65.56-1.95 131.38 1.01 196.89 4.02 7.97.37 18.57-.41 26.2.59 1.25.16.88 1.26 1.42 1.39 2.12.49 4.86-.99 7.28-.73 1.27.14.64 1.28 1.93 1.46 4.86.65 6.52-1.9 11.71 1.01 3.55 1.99 2.7 2.82 3.86 5.49.36.82 1.35.78 1.44.95.12.24-.4 2.74.06 4.22.35 1.14 1.22 1.02 1.5 1.92 1.06 3.4 1.87 7.72 2.53 10.31 2.55 10.03 4.76 20.15 6.75 30.3-.88.06-1.8-.09-2.68 0-.54.05-1.86-.12-2.01 0l-1.34.67c-.44-.03-.9.02-1.34 0-.89-.03-1.79 0-2.68 0-2.93-.01-5.75.58-8.04.67-5.31.2-11.32.67-16.41.67h-19.43c-1.16 0-4.3 1.12-6.03 1.2-2.74.12-6.77-1.65-9.71.14-1.34-.01-2.68.02-4.02 0-3.52-.06-6.57.63-9.69.7-6.34.13-12.94-.66-19.12.64-5.6-.57-11.22.5-16.75.67-47.27 1.42-94.51 4.38-141.65 6.73-9.89.49-19.95-.17-29.84.64-.44 5.22 2.55 4.21 6.7 4.02-4.64 11.79-8.57 24.14-12.25 36.32-2.61 8.61-9.85 29.43-10.44 37.12-.78 10.01 1.45 25.01 1.92 35.43.09 2.1 0 4.23-.03 6.32l-17.08 2.08c-.71.21-2.31-.5-2.31-1.04v-10.72c0-.47-1.12-.9-1.68-1-4.09-.75-10.87.27-15.43.03-42.79-2.26-86.81-10.62-129.31-16.12-2.29-.84-1.88 1.38-3.63 1.35ZM207.56 15.45c-3.3-.52-5.87 2.14-8.35 4.03-12.81 9.78-26.89 21.89-39.22 32.46-3.01 2.58-6.15 5.32-8.7 8.38 3.69.67 5.06-.66 7.68-2.69 14.85-11.53 29.98-25.56 44.57-37.82 1.29-1.08 3.73-2.69 4.01-4.36Z",className:"cls-5"})]}),CMe=()=>{var be,lt;const[t,e]=A.useState(null),[n,r]=A.useState([]),[i,a]=A.useState(null),[s,l]=A.useState(!0),[u,d]=A.useState("dashboard"),[f,p]=A.useState(!1),[y,v]=A.useState(!1),[T,k]=A.useState("ALL"),[S,C]=A.useState(!1),[R,I]=A.useState(!1),[L,F]=A.useState(!1),[j,P]=A.useState(!1),[U,M]=A.useState(null),[B,V]=A.useState(""),q=async fe=>{console.log(" Loading projects for user:",fe.uid,fe.email),l(!0);try{const ke=await jTe(fe.uid);console.log(" Found projects:",ke.length),ke.forEach(Re=>{console.log("   Project:",Re.name,"(ownerId:",Re.ownerId,")")}),r(ke),ke.length===0&&a(null)}catch(ke){console.error(" Error loading projects:",ke),$("Kunde inte ladda projekt","error")}l(!1)};A.useEffect(()=>{yPe().then(ke=>{ke.success&&$("Inloggad!")});const fe=_Pe(async ke=>{if(ke){const Re=await LTe(ke.uid,ke.email);e(Re),V(Re.name),await q(Re)}else e(null),a(null),r([]),l(!1)});return()=>fe()},[]);const z=async fe=>{l(!0);try{const ke=await Aj(fe);if(ke){const[Re,it]=await Promise.all([KTe(fe),XTe(fe)]);a({...ke,tasks:Re||[],shoppingItems:it||[]}),d("dashboard")}else $("Kunde inte hitta projektet","error")}catch(ke){console.error("Error loading project details:",ke),$("Kunde inte ladda projektdata","error")}l(!1)};A.useEffect(()=>{document.documentElement.classList.toggle("dark",y)},[y]);const le=async()=>{await xPe(),C(!1)},X=async()=>{if(!(!t||!B.trim()))try{await z8(t.uid,{name:B}),e({...t,name:B}),$("Namn uppdaterat!")}catch{$("Kunde inte spara namn","error")}},J=async fe=>{var ke;if(t){l(!0),console.log(" Starting project creation for user:",t.uid,t.email);try{const Re=await UTe(fe.name||"Nytt Projekt",((ke=fe.vehicleData)==null?void 0:ke.model)||"Oknd",t.uid,t.email,fe);console.log(" Project created:",Re.id,Re.name),console.log(" Waiting for Firestore to index..."),await new Promise(it=>setTimeout(it,1e3)),console.log(" Reloading projects for user:",t.uid),await q(t),console.log(" Selecting new project:",Re.id),await z(Re.id),$("Nytt projekt skapat!")}catch(Re){console.error(" Failed to create project:",Re),console.error("Error details:",{code:Re.code,message:Re.message}),Re.code==="permission-denied"?$("tkomst nekad. Kontrollera behrigheter.","error"):$("Kunde inte skapa projekt","error")}l(!1)}},H=async fe=>{if(confirm("r du sker p att du vill radera projektet? Detta gr inte att ngra."))try{await VTe(fe),r(ke=>ke.filter(Re=>Re.id!==fe)),$("Projekt raderat")}catch(ke){console.error("Error deleting project:",ke),$("Kunde inte radera projektet","error")}},Z=async()=>{if(t&&confirm("Varning! Detta kommer att skapa ett nytt demonstrationsprojekt 'Elton'. r du sker?")){l(!0);try{await OTe(t.email,t.uid),await q(t),$("Demoprojekt 'Elton' skapat!")}catch(fe){console.error(fe),$("Kunde inte skapa demoprojekt","error")}l(!1)}},ne=()=>{if(!i)return;const fe=JSON.stringify(i,null,2),ke=new Blob([fe],{type:"application/json"}),Re=URL.createObjectURL(ke),it=document.createElement("a");it.href=Re,it.download=`vanplan-${i.name.replace(/\s+/g,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(it),it.click(),document.body.removeChild(it),$("Projektdata exporterad")},Y=fe=>{$("Import ej implementerad n","error")},$=(fe,ke="success")=>{M({message:fe,type:ke}),setTimeout(()=>M(null),3e3)},te=async fe=>{if(!i)return;const ke=i.tasks;a({...i,tasks:i.tasks.map(Re=>Re.id===fe.id?fe:Re)});try{await WTe(i.id,fe.id,fe)}catch{a({...i,tasks:ke}),$("Kunde inte spara uppgift","error")}},K=async fe=>{if(i)try{const ke=[];for(const Re of fe){const it=await YTe(i.id,Re);ke.push(it)}a({...i,tasks:[...i.tasks,...ke]}),p(!1),$(`${fe.length} uppgifter sparade!`)}catch{$("Fel vid sparande av uppgifter","error")}},pe=async fe=>{if(!i)return;const ke=i.tasks;a({...i,tasks:i.tasks.filter(Re=>Re.id!==fe)});try{await JTe(i.id,fe),$("Uppgift raderad")}catch{a({...i,tasks:ke}),$("Kunde inte radera uppgift","error")}},we=async fe=>{if(i)try{const ke=await QTe(i.id,fe);a({...i,shoppingItems:[...i.shoppingItems,ke]}),$(`Lade till ${fe.name}`)}catch{$("Kunde inte spara vara","error")}},Se=async fe=>{if(!i)return;const ke=i.shoppingItems;a({...i,shoppingItems:i.shoppingItems.filter(Re=>Re.id!==fe)});try{await eke(i.id,fe),$("Vara raderad")}catch{a({...i,shoppingItems:ke}),$("Fel vid radering","error")}},Ie=async fe=>{if(!i)return;const ke=i.shoppingItems;a({...i,shoppingItems:i.shoppingItems.map(Re=>Re.id===fe.id?fe:Re)});try{await ZTe(i.id,fe.id,fe)}catch{a({...i,shoppingItems:ke}),$("Kunde inte uppdatera","error")}},He=async(fe,ke)=>{if(!(!i||!t))try{const Re=await cke(ke,t.uid,i.id,fe),it=i.shoppingItems.find(Cn=>Cn.id===fe);if(it){const Cn={...it,receiptUrl:Re};await Ie(Cn),$("Kvitto uppladdat!")}}catch(Re){console.error("Error uploading receipt:",Re),$("Kunde inte ladda upp kvitto","error")}},oe=async fe=>{if(i)try{await BTe(i.id,fe),a({...i,contacts:fe}),$("Kontakter uppdaterade!")}catch(ke){console.error("Error updating contacts:",ke),$("Kunde inte uppdatera kontakter","error")}},Ce=async fe=>{if(i)try{await qTe(i.id,fe),a({...i,location:fe}),$("Plats uppdaterad!")}catch(ke){console.error("Error updating location:",ke),$("Kunde inte uppdatera plats","error")}};if(s&&!i)return m.jsx("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg flex items-center justify-center",children:m.jsxs("div",{className:"flex flex-col items-center gap-4",children:[m.jsx(Lo,{className:"animate-spin text-slate-400 text-4xl"}),m.jsx("p",{className:"text-slate-500 font-medium",children:"Hmtar dina projekt..."})]})});if(!t)return m.jsx(wPe,{onDemo:()=>{}});if(u==="roadmap")return m.jsx(SMe,{onClose:()=>{i?d("dashboard"):a(null)}});if(!i)return m.jsx(APe,{user:t,projects:n,onSelectProject:z,onCreateProject:J,onLogout:le,onSeed:Z,onDeleteProject:H});const je=({active:fe,onClick:ke,icon:Re,label:it,count:Cn})=>m.jsxs("button",{"data-testid":`nav-${it.toLowerCase().replace(/\s+/g,"-")}`,onClick:ke,className:`relative flex flex-col items-center justify-center w-14 h-14 sm:w-24 sm:h-16 rounded-xl transition-all duration-300 ${fe?"bg-nordic-charcoal dark:bg-teal-600 text-white shadow-lg scale-105":"text-slate-400 hover:bg-slate-50 dark:hover:bg-nordic-dark-bg"}`,children:[m.jsx(Re,{size:20,strokeWidth:fe?2.5:2,className:"mb-1"}),m.jsx("span",{className:"text-[9px] sm:text-[10px] font-medium",children:it}),Cn>0&&m.jsx("span",{className:"absolute top-1 right-3 sm:right-5 w-4 h-4 bg-rose-500 text-white text-[9px] font-bold flex items-center justify-center rounded-full",children:Cn})]});return m.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${y?"dark bg-nordic-dark-bg text-nordic-ice":"bg-nordic-ice text-slate-800"}`,children:[m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-8",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 flex items-center justify-center p-1 overflow-hidden rounded-full bg-white dark:bg-nordic-charcoal shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:i.customIcon?m.jsx("img",{src:`data:image/png;base64,${i.customIcon}`,alt:"Project Icon",className:"w-full h-full object-cover"}):m.jsx(AMe,{className:"w-full h-full"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"font-serif font-bold text-2xl tracking-tight text-nordic-charcoal dark:text-nordic-ice",children:i.name}),m.jsxs("p",{className:"text-xs font-medium text-slate-500 dark:text-teal-400 uppercase tracking-widest flex items-center gap-1",children:[i.isDemo&&m.jsx(yA,{size:10})," ",i.vehicleData.model]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>F(!0),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Brnslelogg",children:m.jsx(yd,{size:18})}),m.jsx("button",{onClick:()=>P(!0),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Servicebok",children:m.jsx(Sb,{size:18})}),m.jsx("button",{onClick:()=>I(!0),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",title:"Team & Medlemmar",children:m.jsx(efe,{size:18})}),m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>C(!S),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",children:m.jsx("div",{className:"w-6 h-6 rounded-full bg-teal-100 flex items-center justify-center text-xs font-bold text-teal-700",children:t.name.charAt(0).toUpperCase()})}),S&&m.jsxs("div",{className:"absolute right-0 top-14 w-72 bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-nordic-ice dark:border-nordic-charcoal p-4 z-50 animate-fade-in",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-slate-100 dark:border-nordic-charcoal",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-50 dark:bg-teal-900/20 flex items-center justify-center text-teal-600 dark:text-teal-400 font-bold text-lg",children:t.name.charAt(0).toUpperCase()}),m.jsxs("div",{className:"overflow-hidden flex-1",children:[m.jsx("p",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice truncate",children:t.name}),m.jsx("p",{className:"text-xs text-slate-400 truncate",children:t.email})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 block",children:"Ditt namn"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white",value:B,onChange:fe=>V(fe.target.value)}),m.jsx("button",{onClick:X,className:"p-2 bg-nordic-charcoal text-white rounded-lg hover:bg-slate-800",children:m.jsx(zz,{size:14})})]})]}),m.jsxs("div",{className:"space-y-1 mb-2",children:[m.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 px-3",children:"Datahantering"}),m.jsxs("button",{onClick:ne,className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors",children:[m.jsx(xue,{size:16})," Spara Backup"]}),m.jsxs("label",{className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors cursor-pointer",children:[m.jsx(Kde,{size:16})," terstll Backup",m.jsx("input",{type:"file",className:"hidden",onChange:Y,accept:".json"})]})]}),m.jsxs("button",{onClick:()=>{a(null),C(!1)},className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2 border-b border-slate-100 dark:border-nordic-charcoal",children:[m.jsx(Rz,{size:16})," Byt Projekt"]}),m.jsxs("button",{onClick:()=>v(!y),className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2",children:[y?m.jsx(zde,{size:16}):m.jsx(hde,{size:16})," ",y?"Ljust Lge":"Mrkt Lge"]}),m.jsx("div",{className:"h-px bg-slate-100 dark:bg-nordic-charcoal my-2"}),m.jsxs("button",{onClick:le,className:"w-full flex items-center gap-2 p-3 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/50 rounded-xl text-sm font-bold",children:[m.jsx(Uz,{size:16})," Logga ut"]})]})]}),m.jsxs("button",{onClick:()=>p(!0),className:"p-3 rounded-xl bg-nordic-charcoal dark:bg-teal-600 shadow-sm text-white hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors flex items-center gap-2",children:[m.jsx(Ll,{size:18}),m.jsx("span",{className:"hidden sm:inline font-medium",children:"Magic Import"})]})]})]}),m.jsxs("div",{className:"pb-28 sm:pb-0",children:[u==="dashboard"&&m.jsx(vve,{project:i,onPhaseClick:fe=>{k(fe),d("tasks")}}),u==="tasks"&&m.jsx(xve,{tasks:i.tasks,shoppingItems:i.shoppingItems,vehicleData:i.vehicleData,onUpdateTask:te,initialFilter:T}),u==="ai"&&m.jsx(WRe,{vehicleData:i.vehicleData,tasks:i.tasks,shoppingItems:i.shoppingItems,onAddTask:fe=>K(fe),onUpdateTask:te,onDeleteTask:pe,onAddShoppingItem:fe=>we(fe),onUpdateShoppingItem:Ie,onDeleteShoppingItem:Se,onClose:()=>d("dashboard")}),u==="specs"&&m.jsx(hPe,{vehicleData:i.vehicleData,tasks:i.tasks,contacts:i.contacts||[],projectLocation:i.location?{city:i.location.city,lat:((be=i.location.coordinates)==null?void 0:be.lat)||0,lng:((lt=i.location.coordinates)==null?void 0:lt.lng)||0}:void 0,onUpdateContacts:oe,onUpdateLocation:Ce}),u==="shopping"&&m.jsx(pPe,{items:i.shoppingItems,tasks:i.tasks,onAdd:fe=>we(fe),onDelete:Se,onToggle:fe=>{const ke=i.shoppingItems.find(Re=>Re.id===fe);ke&&Ie({...ke,checked:!ke.checked})},onUpdate:Ie,onUploadReceipt:He})]}),u==="dashboard"&&m.jsx("div",{className:"text-center mt-12 pb-24 opacity-60 hover:opacity-100 transition-opacity",children:m.jsxs("button",{onClick:()=>d("roadmap"),className:"inline-flex items-center gap-2 text-xs font-medium text-slate-400 hover:text-teal-600 transition-colors px-4 py-2",children:[m.jsx(ide,{size:14}),m.jsx("span",{children:"Utforska The VanPlan Roadmap"})]})}),u!=="ai"&&m.jsxs("div",{className:"fixed bottom-4 left-4 right-4 sm:left-1/2 sm:-translate-x-1/2 sm:w-auto bg-white/70 dark:bg-nordic-charcoal/80 backdrop-blur-md border border-slate-200/50 dark:border-nordic-dark-bg p-2 rounded-2xl shadow-2xl flex justify-between sm:justify-center sm:gap-2 z-40",children:[m.jsx(je,{active:u==="dashboard",onClick:()=>d("dashboard"),icon:zue,label:"versikt"}),m.jsx(je,{active:u==="tasks",onClick:()=>{d("tasks"),k("ALL")},icon:HO,label:"Att Gra",count:i.tasks.filter(fe=>fe.status!=="Klart").length}),m.jsx(je,{active:u==="shopping",onClick:()=>d("shopping"),icon:$z,label:"Handla",count:i.shoppingItems.filter(fe=>!fe.checked).length}),m.jsx(je,{active:u==="specs",onClick:()=>d("specs"),icon:co,label:"Verkstad"}),m.jsx(je,{active:!1,onClick:()=>d("ai"),icon:sde,label:"Elton AI"})]}),U&&m.jsxs("div",{className:`fixed bottom-24 right-4 z-50 px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 animate-fade-in ${U.type==="error"?"bg-rose-500 text-white":"bg-nordic-charcoal text-white dark:bg-teal-600"}`,children:[m.jsx(HO,{size:18}),m.jsx("span",{className:"font-medium text-sm",children:U.message})]})]}),f&&m.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsx("div",{className:"w-full max-w-2xl",children:m.jsx(nPe,{onAddTasks:fe=>K(fe),onClose:()=>p(!1)})})}),R&&t&&i&&m.jsx(CPe,{project:i,currentUserEmail:t.email,onClose:()=>I(!1),onUpdate:async()=>{const fe=await Aj(i.id);fe&&a({...i,...fe}),await q(t)}}),L&&i&&m.jsx(TMe,{project:i,onClose:()=>F(!1),onUpdate:async fe=>{try{await FTe(i.id,fe),a({...i,fuelLog:fe}),$("Brnslelogg uppdaterad!")}catch(ke){console.error("Error updating fuel log:",ke),$("Kunde inte uppdatera brnsleloggen","error")}}}),j&&i&&m.jsx(kMe,{project:i,onClose:()=>P(!1),onUpdate:async fe=>{try{await zTe(i.id,fe),a({...i,serviceLog:fe}),$("Servicebok uppdaterad!")}catch(ke){console.error("Error updating service log:",ke),$("Kunde inte uppdatera serviceboken","error")}}})]})},IMe=async()=>(console.info(" API keys are now managed securely in Cloud Functions."),console.info("   Use aiProxyService.ts for all AI operations."),{geminiApiKey:null,grokApiKey:null}),H$=document.getElementById("root");if(!H$)throw new Error("Root element not found");const G$=L7.createRoot(H$),NMe=()=>{G$.render(m.jsx(en.StrictMode,{children:m.jsx(CMe,{})}))};IMe().then(()=>{console.log(" Alla API-nycklar har laddats, startar applikationen..."),NMe()}).catch(t=>{console.error(" Ett kritiskt fel uppstod vid laddning av API-nycklar:",t),G$.render(m.jsxs("div",{children:[m.jsx("h1",{children:"Kritiskt fel"}),m.jsx("p",{children:"Kunde inte ladda ndvndig konfiguration. Vnligen kontrollera konsolen fr mer information."})]}))});
