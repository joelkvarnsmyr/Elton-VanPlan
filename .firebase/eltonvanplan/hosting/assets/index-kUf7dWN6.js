var P9=Object.defineProperty;var M9=(t,e,n)=>e in t?P9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Mb=(t,e,n)=>M9(t,typeof e!="symbol"?e+"":e,n);function D9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ui(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Db={exports:{}},Ff={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hN;function O9(){if(hN)return Ff;hN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Ff.Fragment=e,Ff.jsx=n,Ff.jsxs=n,Ff}var pN;function L9(){return pN||(pN=1,Db.exports=O9()),Db.exports}var w=L9(),Ob={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN;function U9(){if(mN)return Ye;mN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function I(W,se,$){this.props=W,this.context=se,this.refs=A,this.updater=$||T}I.prototype.isReactComponent={},I.prototype.setState=function(W,se){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,se,"setState")},I.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function V(){}V.prototype=I.prototype;function N(W,se,$){this.props=W,this.context=se,this.refs=A,this.updater=$||T}var B=N.prototype=new V;B.constructor=N,S(B,I.prototype),B.isPureReactComponent=!0;var q=Array.isArray;function L(){}var D={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function U(W,se,$){var ee=$.ref;return{$$typeof:t,type:W,key:se,ref:ee!==void 0?ee:null,props:$}}function F(W,se){return U(W.type,se,W.props)}function M(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function z(W){var se={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function($){return se[$]})}var H=/\/+/g;function de(W,se){return typeof W=="object"&&W!==null&&W.key!=null?z(""+W.key):se.toString(36)}function te(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(L,L):(W.status="pending",W.then(function(se){W.status==="pending"&&(W.status="fulfilled",W.value=se)},function(se){W.status==="pending"&&(W.status="rejected",W.reason=se)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function X(W,se,$,ee,ge){var _e=typeof W;(_e==="undefined"||_e==="boolean")&&(W=null);var Se=!1;if(W===null)Se=!0;else switch(_e){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(W.$$typeof){case t:case e:Se=!0;break;case h:return Se=W._init,X(Se(W._payload),se,$,ee,ge)}}if(Se)return ge=ge(W),Se=ee===""?"."+de(W,0):ee,q(ge)?($="",Se!=null&&($=Se.replace(H,"$&/")+"/"),X(ge,se,$,"",function(Ve){return Ve})):ge!=null&&(M(ge)&&(ge=F(ge,$+(ge.key==null||W&&W.key===ge.key?"":(""+ge.key).replace(H,"$&/")+"/")+Se)),se.push(ge)),1;Se=0;var He=ee===""?".":ee+":";if(q(W))for(var fe=0;fe<W.length;fe++)ee=W[fe],_e=He+de(ee,fe),Se+=X(ee,se,$,_e,ge);else if(fe=v(W),typeof fe=="function")for(W=fe.call(W),fe=0;!(ee=W.next()).done;)ee=ee.value,_e=He+de(ee,fe++),Se+=X(ee,se,$,_e,ge);else if(_e==="object"){if(typeof W.then=="function")return X(te(W),se,$,ee,ge);throw se=String(W),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Se}function K(W,se,$){if(W==null)return W;var ee=[],ge=0;return X(W,ee,"","",function(_e){return se.call($,_e,ge++)}),ee}function ae(W){if(W._status===-1){var se=W._result;se=se(),se.then(function($){(W._status===0||W._status===-1)&&(W._status=1,W._result=$)},function($){(W._status===0||W._status===-1)&&(W._status=2,W._result=$)}),W._status===-1&&(W._status=0,W._result=se)}if(W._status===1)return W._result.default;throw W._result}var me=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},Y={map:K,forEach:function(W,se,$){K(W,function(){se.apply(this,arguments)},$)},count:function(W){var se=0;return K(W,function(){se++}),se},toArray:function(W){return K(W,function(se){return se})||[]},only:function(W){if(!M(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return Ye.Activity=p,Ye.Children=Y,Ye.Component=I,Ye.Fragment=n,Ye.Profiler=i,Ye.PureComponent=N,Ye.StrictMode=r,Ye.Suspense=c,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(W){return D.H.useMemoCache(W)}},Ye.cache=function(W){return function(){return W.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(W,se,$){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var ee=S({},W.props),ge=W.key;if(se!=null)for(_e in se.key!==void 0&&(ge=""+se.key),se)!O.call(se,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&se.ref===void 0||(ee[_e]=se[_e]);var _e=arguments.length-2;if(_e===1)ee.children=$;else if(1<_e){for(var Se=Array(_e),He=0;He<_e;He++)Se[He]=arguments[He+2];ee.children=Se}return U(W.type,ge,ee)},Ye.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:a,_context:W},W},Ye.createElement=function(W,se,$){var ee,ge={},_e=null;if(se!=null)for(ee in se.key!==void 0&&(_e=""+se.key),se)O.call(se,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ge[ee]=se[ee]);var Se=arguments.length-2;if(Se===1)ge.children=$;else if(1<Se){for(var He=Array(Se),fe=0;fe<Se;fe++)He[fe]=arguments[fe+2];ge.children=He}if(W&&W.defaultProps)for(ee in Se=W.defaultProps,Se)ge[ee]===void 0&&(ge[ee]=Se[ee]);return U(W,_e,ge)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(W){return{$$typeof:u,render:W}},Ye.isValidElement=M,Ye.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:ae}},Ye.memo=function(W,se){return{$$typeof:d,type:W,compare:se===void 0?null:se}},Ye.startTransition=function(W){var se=D.T,$={};D.T=$;try{var ee=W(),ge=D.S;ge!==null&&ge($,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(L,me)}catch(_e){me(_e)}finally{se!==null&&$.types!==null&&(se.types=$.types),D.T=se}},Ye.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ye.use=function(W){return D.H.use(W)},Ye.useActionState=function(W,se,$){return D.H.useActionState(W,se,$)},Ye.useCallback=function(W,se){return D.H.useCallback(W,se)},Ye.useContext=function(W){return D.H.useContext(W)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(W,se){return D.H.useDeferredValue(W,se)},Ye.useEffect=function(W,se){return D.H.useEffect(W,se)},Ye.useEffectEvent=function(W){return D.H.useEffectEvent(W)},Ye.useId=function(){return D.H.useId()},Ye.useImperativeHandle=function(W,se,$){return D.H.useImperativeHandle(W,se,$)},Ye.useInsertionEffect=function(W,se){return D.H.useInsertionEffect(W,se)},Ye.useLayoutEffect=function(W,se){return D.H.useLayoutEffect(W,se)},Ye.useMemo=function(W,se){return D.H.useMemo(W,se)},Ye.useOptimistic=function(W,se){return D.H.useOptimistic(W,se)},Ye.useReducer=function(W,se,$){return D.H.useReducer(W,se,$)},Ye.useRef=function(W){return D.H.useRef(W)},Ye.useState=function(W){return D.H.useState(W)},Ye.useSyncExternalStore=function(W,se,$){return D.H.useSyncExternalStore(W,se,$)},Ye.useTransition=function(){return D.H.useTransition()},Ye.version="19.2.1",Ye}var gN;function gd(){return gN||(gN=1,Ob.exports=U9()),Ob.exports}var R=gd();const L4=Ui(R),V9=D9({__proto__:null,default:L4},[R]);var Lb={exports:{}},zf={},Ub={exports:{}},Vb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN;function F9(){return yN||(yN=1,(function(t){function e(X,K){var ae=X.length;X.push(K);e:for(;0<ae;){var me=ae-1>>>1,Y=X[me];if(0<i(Y,K))X[me]=K,X[ae]=Y,ae=me;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var K=X[0],ae=X.pop();if(ae!==K){X[0]=ae;e:for(var me=0,Y=X.length,W=Y>>>1;me<W;){var se=2*(me+1)-1,$=X[se],ee=se+1,ge=X[ee];if(0>i($,ae))ee<Y&&0>i(ge,$)?(X[me]=ge,X[ee]=ae,me=ee):(X[me]=$,X[se]=ae,me=se);else if(ee<Y&&0>i(ge,ae))X[me]=ge,X[ee]=ae,me=ee;else break e}}return K}function i(X,K){var ae=X.sortIndex-K.sortIndex;return ae!==0?ae:X.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],d=[],h=1,p=null,g=3,v=!1,T=!1,S=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function B(X){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=X)r(d),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(d)}}function q(X){if(S=!1,B(X),!T)if(n(c)!==null)T=!0,L||(L=!0,z());else{var K=n(d);K!==null&&te(q,K.startTime-X)}}var L=!1,D=-1,O=5,U=-1;function F(){return A?!0:!(t.unstable_now()-U<O)}function M(){if(A=!1,L){var X=t.unstable_now();U=X;var K=!0;try{e:{T=!1,S&&(S=!1,V(D),D=-1),v=!0;var ae=g;try{t:{for(B(X),p=n(c);p!==null&&!(p.expirationTime>X&&F());){var me=p.callback;if(typeof me=="function"){p.callback=null,g=p.priorityLevel;var Y=me(p.expirationTime<=X);if(X=t.unstable_now(),typeof Y=="function"){p.callback=Y,B(X),K=!0;break t}p===n(c)&&r(c),B(X)}else r(c);p=n(c)}if(p!==null)K=!0;else{var W=n(d);W!==null&&te(q,W.startTime-X),K=!1}}break e}finally{p=null,g=ae,v=!1}K=void 0}}finally{K?z():L=!1}}}var z;if(typeof N=="function")z=function(){N(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,de=H.port2;H.port1.onmessage=M,z=function(){de.postMessage(null)}}else z=function(){I(M,0)};function te(X,K){D=I(function(){X(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(X){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var ae=g;g=K;try{return X()}finally{g=ae}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(X,K){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ae=g;g=X;try{return K()}finally{g=ae}},t.unstable_scheduleCallback=function(X,K,ae){var me=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?me+ae:me):ae=me,X){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,X={id:h++,callback:K,priorityLevel:X,startTime:ae,expirationTime:Y,sortIndex:-1},ae>me?(X.sortIndex=ae,e(d,X),n(c)===null&&X===n(d)&&(S?(V(D),D=-1):S=!0,te(q,ae-me))):(X.sortIndex=Y,e(c,X),T||v||(T=!0,L||(L=!0,z()))),X},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(X){var K=g;return function(){var ae=g;g=K;try{return X.apply(this,arguments)}finally{g=ae}}}})(Vb)),Vb}var vN;function z9(){return vN||(vN=1,Ub.exports=F9()),Ub.exports}var Fb={exports:{}},dr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _N;function B9(){if(_N)return dr;_N=1;var t=gd();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:d,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dr.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(c,d,null,h)},dr.flushSync=function(c){var d=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=d,r.p=h,r.d.f()}},dr.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},dr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},dr.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,p=u(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},dr.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},dr.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=u(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},dr.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},dr.requestFormReset=function(c){r.d.r(c)},dr.unstable_batchedUpdates=function(c,d){return c(d)},dr.useFormState=function(c,d,h){return s.H.useFormState(c,d,h)},dr.useFormStatus=function(){return s.H.useHostTransitionStatus()},dr.version="19.2.1",dr}var bN;function U4(){if(bN)return Fb.exports;bN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fb.exports=B9(),Fb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN;function j9(){if(xN)return zf;xN=1;var t=z9(),e=gd(),n=U4();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function d(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,m=l;;){var x=f.return;if(x===null)break;var E=x.alternate;if(E===null){if(m=x.return,m!==null){f=m;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===f)return c(x),o;if(E===m)return c(x),l;E=E.sibling}throw Error(r(188))}if(f.return!==m.return)f=x,m=E;else{for(var k=!1,j=x.child;j;){if(j===f){k=!0,f=x,m=E;break}if(j===m){k=!0,m=x,f=E;break}j=j.sibling}if(!k){for(j=E.child;j;){if(j===f){k=!0,f=E,m=x;break}if(j===m){k=!0,m=E,f=x;break}j=j.sibling}if(!k)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),N=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(o){return o===null||typeof o!="object"?null:(o=M&&o[M]||o["@@iterator"],typeof o=="function"?o:null)}var H=Symbol.for("react.client.reference");function de(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===H?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case I:return"Profiler";case A:return"StrictMode";case q:return"Suspense";case L:return"SuspenseList";case U:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case N:return o.displayName||"Context";case V:return(o._context.displayName||"Context")+".Consumer";case B:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case D:return l=o.displayName||null,l!==null?l:de(o.type)||"Memo";case O:l=o._payload,o=o._init;try{return de(o(l))}catch{}}return null}var te=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},me=[],Y=-1;function W(o){return{current:o}}function se(o){0>Y||(o.current=me[Y],me[Y]=null,Y--)}function $(o,l){Y++,me[Y]=o.current,o.current=l}var ee=W(null),ge=W(null),_e=W(null),Se=W(null);function He(o,l){switch($(_e,l),$(ge,o),$(ee,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?Lk(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=Lk(l),o=Uk(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}se(ee),$(ee,o)}function fe(){se(ee),se(ge),se(_e)}function Ve(o){o.memoizedState!==null&&$(Se,o);var l=ee.current,f=Uk(l,o.type);l!==f&&($(ge,o),$(ee,f))}function Ge(o){ge.current===o&&(se(ee),se(ge)),Se.current===o&&(se(Se),Of._currentValue=ae)}var Ee,zt;function et(o){if(Ee===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);Ee=l&&l[1]||"",zt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+o+zt}var tn=!1;function Kt(o,l){if(!o||tn)return"";tn=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(ue){var oe=ue}Reflect.construct(o,[],be)}else{try{be.call()}catch(ue){oe=ue}o.call(be.prototype)}}else{try{throw Error()}catch(ue){oe=ue}(be=o())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(ue){if(ue&&oe&&typeof ue.stack=="string")return[ue.stack,oe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=m.DetermineComponentFrameRoot(),k=E[0],j=E[1];if(k&&j){var J=k.split(`
`),ie=j.split(`
`);for(x=m=0;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;for(;x<ie.length&&!ie[x].includes("DetermineComponentFrameRoot");)x++;if(m===J.length||x===ie.length)for(m=J.length-1,x=ie.length-1;1<=m&&0<=x&&J[m]!==ie[x];)x--;for(;1<=m&&0<=x;m--,x--)if(J[m]!==ie[x]){if(m!==1||x!==1)do if(m--,x--,0>x||J[m]!==ie[x]){var he=`
`+J[m].replace(" at new "," at ");return o.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",o.displayName)),he}while(1<=m&&0<=x);break}}}finally{tn=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?et(f):""}function lr(o,l){switch(o.tag){case 26:case 27:case 5:return et(o.type);case 16:return et("Lazy");case 13:return o.child!==l&&l!==null?et("Suspense Fallback"):et("Suspense");case 19:return et("SuspenseList");case 0:case 15:return Kt(o.type,!1);case 11:return Kt(o.type.render,!1);case 1:return Kt(o.type,!0);case 31:return et("Activity");default:return""}}function da(o){try{var l="",f=null;do l+=lr(o,f),f=o,o=o.return;while(o);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Qt=Object.prototype.hasOwnProperty,nn=t.unstable_scheduleCallback,fa=t.unstable_cancelCallback,Vd=t.unstable_shouldYield,Mu=t.unstable_requestPaint,Wn=t.unstable_now,ro=t.unstable_getCurrentPriorityLevel,pe=t.unstable_ImmediatePriority,Te=t.unstable_UserBlockingPriority,ze=t.unstable_NormalPriority,tt=t.unstable_LowPriority,ft=t.unstable_IdlePriority,ur=t.log,fi=t.unstable_setDisableYieldValue,ln=null,Zt=null;function Vn(o){if(typeof ur=="function"&&fi(o),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(ln,o)}catch{}}var ut=Math.clz32?Math.clz32:Vp,zi=Math.log,cr=Math.LN2;function Vp(o){return o>>>=0,o===0?32:31-(zi(o)/cr|0)|0}var ha=256,bl=262144,yn=4194304;function pa(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ma(o,l,f){var m=o.pendingLanes;if(m===0)return 0;var x=0,E=o.suspendedLanes,k=o.pingedLanes;o=o.warmLanes;var j=m&134217727;return j!==0?(m=j&~E,m!==0?x=pa(m):(k&=j,k!==0?x=pa(k):f||(f=j&~o,f!==0&&(x=pa(f))))):(j=m&~E,j!==0?x=pa(j):k!==0?x=pa(k):f||(f=m&~o,f!==0&&(x=pa(f)))),x===0?0:l!==0&&l!==x&&(l&E)===0&&(E=x&-x,f=l&-l,E>=f||E===32&&(f&4194048)!==0)?l:x}function Bi(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function U0(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fp(){var o=yn;return yn<<=1,(yn&62914560)===0&&(yn=4194304),o}function ga(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function xl(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function V0(o,l,f,m,x,E){var k=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var j=o.entanglements,J=o.expirationTimes,ie=o.hiddenUpdates;for(f=k&~f;0<f;){var he=31-ut(f),be=1<<he;j[he]=0,J[he]=-1;var oe=ie[he];if(oe!==null)for(ie[he]=null,he=0;he<oe.length;he++){var ue=oe[he];ue!==null&&(ue.lane&=-536870913)}f&=~be}m!==0&&El(o,m,0),E!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=E&~(k&~l))}function El(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var m=31-ut(l);o.entangledLanes|=l,o.entanglements[m]=o.entanglements[m]|1073741824|f&261930}function Fd(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var m=31-ut(f),x=1<<m;x&l|o[m]&l&&(o[m]|=l),f&=~x}}function zd(o,l){var f=l&-l;return f=(f&42)!==0?1:wl(f),(f&(o.suspendedLanes|l))!==0?0:f}function wl(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function io(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function zp(){var o=K.p;return o!==0?o:(o=window.event,o===void 0?32:oN(o.type))}function ji(o,l){var f=K.p;try{return K.p=o,l()}finally{K.p=f}}var qi=Math.random().toString(36).slice(2),vn="__reactFiber$"+qi,Fn="__reactProps$"+qi,ya="__reactContainer$"+qi,Du="__reactEvents$"+qi,F0="__reactListeners$"+qi,Bp="__reactHandles$"+qi,jp="__reactResources$"+qi,va="__reactMarker$"+qi;function Ou(o){delete o[vn],delete o[Fn],delete o[Du],delete o[F0],delete o[Bp]}function _a(o){var l=o[vn];if(l)return l;for(var f=o.parentNode;f;){if(l=f[ya]||f[vn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=Hk(o);o!==null;){if(f=o[vn])return f;o=Hk(o)}return l}o=f,f=o.parentNode}return null}function hi(o){if(o=o[vn]||o[ya]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function Gr(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function ba(o){var l=o[jp];return l||(l=o[jp]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function _n(o){o[va]=!0}var Bd=new Set,jd={};function xa(o,l){Ea(o,l),Ea(o+"Capture",l)}function Ea(o,l){for(jd[o]=l,o=0;o<l.length;o++)Bd.add(l[o])}var qd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hd={},Gd={};function qp(o){return Qt.call(Gd,o)?!0:Qt.call(Hd,o)?!1:qd.test(o)?Gd[o]=!0:(Hd[o]=!0,!1)}function Lu(o,l,f){if(qp(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function $r(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function bn(o,l,f,m){if(m===null)o.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+m)}}function zn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ns(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function $d(o,l,f){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var x=m.get,E=m.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function(k){f=""+k,E.call(this,k)}}),Object.defineProperty(o,l,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Et(o){if(!o._valueTracker){var l=ns(o)?"checked":"value";o._valueTracker=$d(o,l,""+o[l])}}function Tl(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),m="";return o&&(m=ns(o)?o.checked?"true":"false":o.value),o=m,o!==f?(l.setValue(o),!0):!1}function wa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Sl=/[\n"\\]/g;function Ir(o){return o.replace(Sl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Uu(o,l,f,m,x,E,k,j){o.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?o.type=k:o.removeAttribute("type"),l!=null?k==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+zn(l)):o.value!==""+zn(l)&&(o.value=""+zn(l)):k!=="submit"&&k!=="reset"||o.removeAttribute("value"),l!=null?Kd(o,k,zn(l)):f!=null?Kd(o,k,zn(f)):m!=null&&o.removeAttribute("value"),x==null&&E!=null&&(o.defaultChecked=!!E),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?o.name=""+zn(j):o.removeAttribute("name")}function Hp(o,l,f,m,x,E,k,j){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(o.type=E),l!=null||f!=null){if(!(E!=="submit"&&E!=="reset"||l!=null)){Et(o);return}f=f!=null?""+zn(f):"",l=l!=null?""+zn(l):f,j||l===o.value||(o.value=l),o.defaultValue=l}m=m??x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=j?o.checked:!!m,o.defaultChecked=!!m,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.name=k),Et(o)}function Kd(o,l,f){l==="number"&&wa(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function rs(o,l,f,m){if(o=o.options,l){l={};for(var x=0;x<f.length;x++)l["$"+f[x]]=!0;for(f=0;f<o.length;f++)x=l.hasOwnProperty("$"+o[f].value),o[f].selected!==x&&(o[f].selected=x),x&&m&&(o[f].defaultSelected=!0)}else{for(f=""+zn(f),l=null,x=0;x<o.length;x++){if(o[x].value===f){o[x].selected=!0,m&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function Gp(o,l,f){if(l!=null&&(l=""+zn(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+zn(f):""}function is(o,l,f,m){if(l==null){if(m!=null){if(f!=null)throw Error(r(92));if(te(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),l=f}f=zn(l),o.defaultValue=f,m=o.textContent,m===f&&m!==""&&m!==null&&(o.value=m),Et(o)}function kr(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var $p=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yd(o,l,f){var m=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":m?o.setProperty(l,f):typeof f!="number"||f===0||$p.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function Wd(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var x in l)m=l[x],l.hasOwnProperty(x)&&f[x]!==m&&Yd(o,x,m)}else for(var E in l)l.hasOwnProperty(E)&&Yd(o,E,l[E])}function Vu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fu(o){return as.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Hi(){}var Jd=null;function pi(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var os=null,Ta=null;function Al(o){var l=hi(o);if(l&&(o=l.stateNode)){var f=o[Fn]||null;e:switch(o=l.stateNode,l.type){case"input":if(Uu(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ir(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var m=f[l];if(m!==o&&m.form===o.form){var x=m[Fn]||null;if(!x)throw Error(r(90));Uu(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<f.length;l++)m=f[l],m.form===o.form&&Tl(m)}break e;case"textarea":Gp(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&rs(o,!!f.multiple,l,!1)}}}var zu=!1;function ss(o,l,f){if(zu)return o(l,f);zu=!0;try{var m=o(l);return m}finally{if(zu=!1,(os!==null||Ta!==null)&&(zm(),os&&(l=os,o=Ta,Ta=os=null,Al(l),o)))for(l=0;l<o.length;l++)Al(o[l])}}function Gi(o,l){var f=o.stateNode;if(f===null)return null;var m=f[Fn]||null;if(m===null)return null;f=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=!1;if(mi)try{var It={};Object.defineProperty(It,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{Cl=!1}var Sa=null,Xd=null,Il=null;function Qd(){if(Il)return Il;var o,l=Xd,f=l.length,m,x="value"in Sa?Sa.value:Sa.textContent,E=x.length;for(o=0;o<f&&l[o]===x[o];o++);var k=f-o;for(m=1;m<=k&&l[f-m]===x[E-m];m++);return Il=x.slice(o,1<m?1-m:void 0)}function kl(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function ao(){return!0}function $i(){return!1}function Jn(o){function l(f,m,x,E,k){this._reactName=f,this._targetInst=x,this.type=m,this.nativeEvent=E,this.target=k,this.currentTarget=null;for(var j in o)o.hasOwnProperty(j)&&(f=o[j],this[j]=f?f(E):E[j]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?ao:$i,this.isPropagationStopped=$i,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ao)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ao)},persist:function(){},isPersistent:ao}),l}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Jn(oo),ls=p({},oo,{view:0,detail:0}),Zd=Jn(ls),us,Bu,Ca,ju=p({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ca&&(Ca&&o.type==="mousemove"?(us=o.screenX-Ca.screenX,Bu=o.screenY-Ca.screenY):Bu=us=0,Ca=o),us)},movementY:function(o){return"movementY"in o?o.movementY:Bu}}),ef=Jn(ju),Nl=p({},ju,{dataTransfer:0}),Yp=Jn(Nl),Wp=p({},ls,{relatedTarget:0}),Rl=Jn(Wp),tf=p({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),Jp=Jn(tf),qu=p({},oo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Xp=Jn(qu),Qp=p({},oo,{data:0}),Ia=Jn(Qp),Zp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},em={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nm(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=tm[o])?!!l[o]:!1}function cs(){return nm}var br=p({},ls,{key:function(o){if(o.key){var l=Zp[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=kl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?em[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(o){return o.type==="keypress"?kl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?kl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),rm=Jn(br),im=p({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),so=Jn(im),b=p({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),C=Jn(b),P=p({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),G=Jn(P),ne=p({},ju,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),le=Jn(ne),Ae=p({},oo,{newState:0,oldState:0}),Je=Jn(Ae),un=[9,13,27,32],yt=mi&&"CompositionEvent"in window,Yt=null;mi&&"documentMode"in document&&(Yt=document.documentMode);var gi=mi&&"TextEvent"in window&&!Yt,ka=mi&&(!yt||Yt&&8<Yt&&11>=Yt),Ki=" ",Yi=!1;function Pl(o,l){switch(o){case"keyup":return un.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Gu=!1;function nq(o,l){switch(o){case"compositionend":return Hu(l);case"keypress":return l.which!==32?null:(Yi=!0,Ki);case"textInput":return o=l.data,o===Ki&&Yi?null:o;default:return null}}function rq(o,l){if(Gu)return o==="compositionend"||!yt&&Pl(o,l)?(o=Qd(),Il=Xd=Sa=null,Gu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ka&&l.locale!=="ko"?null:l.data;default:return null}}var iq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KA(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!iq[o.type]:l==="textarea"}function YA(o,l,f,m){os?Ta?Ta.push(m):Ta=[m]:os=m,l=Km(l,"onChange"),0<l.length&&(f=new Aa("onChange","change",null,f,m),o.push({event:f,listeners:l}))}var nf=null,rf=null;function aq(o){Nk(o,0)}function am(o){var l=Gr(o);if(Tl(l))return o}function WA(o,l){if(o==="change")return l}var JA=!1;if(mi){var z0;if(mi){var B0="oninput"in document;if(!B0){var XA=document.createElement("div");XA.setAttribute("oninput","return;"),B0=typeof XA.oninput=="function"}z0=B0}else z0=!1;JA=z0&&(!document.documentMode||9<document.documentMode)}function QA(){nf&&(nf.detachEvent("onpropertychange",ZA),rf=nf=null)}function ZA(o){if(o.propertyName==="value"&&am(rf)){var l=[];YA(l,rf,o,pi(o)),ss(aq,l)}}function oq(o,l,f){o==="focusin"?(QA(),nf=l,rf=f,nf.attachEvent("onpropertychange",ZA)):o==="focusout"&&QA()}function sq(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return am(rf)}function lq(o,l){if(o==="click")return am(l)}function uq(o,l){if(o==="input"||o==="change")return am(l)}function cq(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Kr=typeof Object.is=="function"?Object.is:cq;function af(o,l){if(Kr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),m=Object.keys(l);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var x=f[m];if(!Qt.call(l,x)||!Kr(o[x],l[x]))return!1}return!0}function eC(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function tC(o,l){var f=eC(o);o=0;for(var m;f;){if(f.nodeType===3){if(m=o+f.textContent.length,o<=l&&m>=l)return{node:f,offset:l-o};o=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=eC(f)}}function nC(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?nC(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function rC(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=wa(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=wa(o.document)}return l}function j0(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var dq=mi&&"documentMode"in document&&11>=document.documentMode,$u=null,q0=null,of=null,H0=!1;function iC(o,l,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;H0||$u==null||$u!==wa(m)||(m=$u,"selectionStart"in m&&j0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),of&&af(of,m)||(of=m,m=Km(q0,"onSelect"),0<m.length&&(l=new Aa("onSelect","select",null,l,f),o.push({event:l,listeners:m}),l.target=$u)))}function Ml(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var Ku={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionrun:Ml("Transition","TransitionRun"),transitionstart:Ml("Transition","TransitionStart"),transitioncancel:Ml("Transition","TransitionCancel"),transitionend:Ml("Transition","TransitionEnd")},G0={},aC={};mi&&(aC=document.createElement("div").style,"AnimationEvent"in window||(delete Ku.animationend.animation,delete Ku.animationiteration.animation,delete Ku.animationstart.animation),"TransitionEvent"in window||delete Ku.transitionend.transition);function Dl(o){if(G0[o])return G0[o];if(!Ku[o])return o;var l=Ku[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in aC)return G0[o]=l[f];return o}var oC=Dl("animationend"),sC=Dl("animationiteration"),lC=Dl("animationstart"),fq=Dl("transitionrun"),hq=Dl("transitionstart"),pq=Dl("transitioncancel"),uC=Dl("transitionend"),cC=new Map,$0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$0.push("scrollEnd");function Wi(o,l){cC.set(o,l),xa(l,[o])}var om=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},yi=[],Yu=0,K0=0;function sm(){for(var o=Yu,l=K0=Yu=0;l<o;){var f=yi[l];yi[l++]=null;var m=yi[l];yi[l++]=null;var x=yi[l];yi[l++]=null;var E=yi[l];if(yi[l++]=null,m!==null&&x!==null){var k=m.pending;k===null?x.next=x:(x.next=k.next,k.next=x),m.pending=x}E!==0&&dC(f,x,E)}}function lm(o,l,f,m){yi[Yu++]=o,yi[Yu++]=l,yi[Yu++]=f,yi[Yu++]=m,K0|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function Y0(o,l,f,m){return lm(o,l,f,m),um(o)}function Ol(o,l){return lm(o,null,null,l),um(o)}function dC(o,l,f){o.lanes|=f;var m=o.alternate;m!==null&&(m.lanes|=f);for(var x=!1,E=o.return;E!==null;)E.childLanes|=f,m=E.alternate,m!==null&&(m.childLanes|=f),E.tag===22&&(o=E.stateNode,o===null||o._visibility&1||(x=!0)),o=E,E=E.return;return o.tag===3?(E=o.stateNode,x&&l!==null&&(x=31-ut(f),o=E.hiddenUpdates,m=o[x],m===null?o[x]=[l]:m.push(l),l.lane=f|536870912),E):null}function um(o){if(50<If)throw If=0,rb=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Wu={};function mq(o,l,f,m){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(o,l,f,m){return new mq(o,l,f,m)}function W0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function lo(o,l){var f=o.alternate;return f===null?(f=Yr(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function fC(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function cm(o,l,f,m,x,E){var k=0;if(m=o,typeof o=="function")W0(o)&&(k=1);else if(typeof o=="string")k=b9(o,f,ee.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case U:return o=Yr(31,f,l,x),o.elementType=U,o.lanes=E,o;case S:return Ll(f.children,x,E,l);case A:k=8,x|=24;break;case I:return o=Yr(12,f,l,x|2),o.elementType=I,o.lanes=E,o;case q:return o=Yr(13,f,l,x),o.elementType=q,o.lanes=E,o;case L:return o=Yr(19,f,l,x),o.elementType=L,o.lanes=E,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:k=10;break e;case V:k=9;break e;case B:k=11;break e;case D:k=14;break e;case O:k=16,m=null;break e}k=29,f=Error(r(130,o===null?"null":typeof o,"")),m=null}return l=Yr(k,f,l,x),l.elementType=o,l.type=m,l.lanes=E,l}function Ll(o,l,f,m){return o=Yr(7,o,m,l),o.lanes=f,o}function J0(o,l,f){return o=Yr(6,o,null,l),o.lanes=f,o}function hC(o){var l=Yr(18,null,null,0);return l.stateNode=o,l}function X0(o,l,f){return l=Yr(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var pC=new WeakMap;function vi(o,l){if(typeof o=="object"&&o!==null){var f=pC.get(o);return f!==void 0?f:(l={value:o,source:l,stack:da(l)},pC.set(o,l),l)}return{value:o,source:l,stack:da(l)}}var Ju=[],Xu=0,dm=null,sf=0,_i=[],bi=0,ds=null,Na=1,Ra="";function uo(o,l){Ju[Xu++]=sf,Ju[Xu++]=dm,dm=o,sf=l}function mC(o,l,f){_i[bi++]=Na,_i[bi++]=Ra,_i[bi++]=ds,ds=o;var m=Na;o=Ra;var x=32-ut(m)-1;m&=~(1<<x),f+=1;var E=32-ut(l)+x;if(30<E){var k=x-x%5;E=(m&(1<<k)-1).toString(32),m>>=k,x-=k,Na=1<<32-ut(l)+x|f<<x|m,Ra=E+o}else Na=1<<E|f<<x|m,Ra=o}function Q0(o){o.return!==null&&(uo(o,1),mC(o,1,0))}function Z0(o){for(;o===dm;)dm=Ju[--Xu],Ju[Xu]=null,sf=Ju[--Xu],Ju[Xu]=null;for(;o===ds;)ds=_i[--bi],_i[bi]=null,Ra=_i[--bi],_i[bi]=null,Na=_i[--bi],_i[bi]=null}function gC(o,l){_i[bi++]=Na,_i[bi++]=Ra,_i[bi++]=ds,Na=l.id,Ra=l.overflow,ds=o}var Xn=null,Bt=null,ct=!1,fs=null,xi=!1,e_=Error(r(519));function hs(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lf(vi(l,o)),e_}function yC(o){var l=o.stateNode,f=o.type,m=o.memoizedProps;switch(l[vn]=o,l[Fn]=m,f){case"dialog":rt("cancel",l),rt("close",l);break;case"iframe":case"object":case"embed":rt("load",l);break;case"video":case"audio":for(f=0;f<Nf.length;f++)rt(Nf[f],l);break;case"source":rt("error",l);break;case"img":case"image":case"link":rt("error",l),rt("load",l);break;case"details":rt("toggle",l);break;case"input":rt("invalid",l),Hp(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":rt("invalid",l);break;case"textarea":rt("invalid",l),is(l,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||m.suppressHydrationWarning===!0||Dk(l.textContent,f)?(m.popover!=null&&(rt("beforetoggle",l),rt("toggle",l)),m.onScroll!=null&&rt("scroll",l),m.onScrollEnd!=null&&rt("scrollend",l),m.onClick!=null&&(l.onclick=Hi),l=!0):l=!1,l||hs(o,!0)}function vC(o){for(Xn=o.return;Xn;)switch(Xn.tag){case 5:case 31:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:Xn=Xn.return}}function Qu(o){if(o!==Xn)return!1;if(!ct)return vC(o),ct=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||vb(o.type,o.memoizedProps)),f=!f),f&&Bt&&hs(o),vC(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Bt=qk(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Bt=qk(o)}else l===27?(l=Bt,Cs(o.type)?(o=wb,wb=null,Bt=o):Bt=l):Bt=Xn?wi(o.stateNode.nextSibling):null;return!0}function Ul(){Bt=Xn=null,ct=!1}function t_(){var o=fs;return o!==null&&(Mr===null?Mr=o:Mr.push.apply(Mr,o),fs=null),o}function lf(o){fs===null?fs=[o]:fs.push(o)}var n_=W(null),Vl=null,co=null;function ps(o,l,f){$(n_,l._currentValue),l._currentValue=f}function fo(o){o._currentValue=n_.current,se(n_)}function r_(o,l,f){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===f)break;o=o.return}}function i_(o,l,f,m){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var E=x.dependencies;if(E!==null){var k=x.child;E=E.firstContext;e:for(;E!==null;){var j=E;E=x;for(var J=0;J<l.length;J++)if(j.context===l[J]){E.lanes|=f,j=E.alternate,j!==null&&(j.lanes|=f),r_(E.return,f,o),m||(k=null);break e}E=j.next}}else if(x.tag===18){if(k=x.return,k===null)throw Error(r(341));k.lanes|=f,E=k.alternate,E!==null&&(E.lanes|=f),r_(k,f,o),k=null}else k=x.child;if(k!==null)k.return=x;else for(k=x;k!==null;){if(k===o){k=null;break}if(x=k.sibling,x!==null){x.return=k.return,k=x;break}k=k.return}x=k}}function Zu(o,l,f,m){o=null;for(var x=l,E=!1;x!==null;){if(!E){if((x.flags&524288)!==0)E=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var k=x.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var j=x.type;Kr(x.pendingProps.value,k.value)||(o!==null?o.push(j):o=[j])}}else if(x===Se.current){if(k=x.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(Of):o=[Of])}x=x.return}o!==null&&i_(l,o,f,m),l.flags|=262144}function fm(o){for(o=o.firstContext;o!==null;){if(!Kr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Fl(o){Vl=o,co=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Qn(o){return _C(Vl,o)}function hm(o,l){return Vl===null&&Fl(o),_C(o,l)}function _C(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},co===null){if(o===null)throw Error(r(308));co=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else co=co.next=l;return f}var gq=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,m){o.push(m)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},yq=t.unstable_scheduleCallback,vq=t.unstable_NormalPriority,xn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function a_(){return{controller:new gq,data:new Map,refCount:0}}function uf(o){o.refCount--,o.refCount===0&&yq(vq,function(){o.controller.abort()})}var cf=null,o_=0,ec=0,tc=null;function _q(o,l){if(cf===null){var f=cf=[];o_=0,ec=ub(),tc={status:"pending",value:void 0,then:function(m){f.push(m)}}}return o_++,l.then(bC,bC),l}function bC(){if(--o_===0&&cf!==null){tc!==null&&(tc.status="fulfilled");var o=cf;cf=null,ec=0,tc=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function bq(o,l){var f=[],m={status:"pending",value:null,reason:null,then:function(x){f.push(x)}};return o.then(function(){m.status="fulfilled",m.value=l;for(var x=0;x<f.length;x++)(0,f[x])(l)},function(x){for(m.status="rejected",m.reason=x,x=0;x<f.length;x++)(0,f[x])(void 0)}),m}var xC=X.S;X.S=function(o,l){ik=Wn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&_q(o,l),xC!==null&&xC(o,l)};var zl=W(null);function s_(){var o=zl.current;return o!==null?o:Mt.pooledCache}function pm(o,l){l===null?$(zl,zl.current):$(zl,l.pool)}function EC(){var o=s_();return o===null?null:{parent:xn._currentValue,pool:o}}var nc=Error(r(460)),l_=Error(r(474)),mm=Error(r(542)),gm={then:function(){}};function wC(o){return o=o.status,o==="fulfilled"||o==="rejected"}function TC(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(Hi,Hi),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,AC(o),o;default:if(typeof l.status=="string")l.then(Hi,Hi);else{if(o=Mt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(m){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=m}},function(m){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,AC(o),o}throw jl=l,nc}}function Bl(o){try{var l=o._init;return l(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(jl=f,nc):f}}var jl=null;function SC(){if(jl===null)throw Error(r(459));var o=jl;return jl=null,o}function AC(o){if(o===nc||o===mm)throw Error(r(483))}var rc=null,df=0;function ym(o){var l=df;return df+=1,rc===null&&(rc=[]),TC(rc,o,l)}function ff(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function vm(o,l){throw l.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function CC(o){function l(Z,Q){if(o){var re=Z.deletions;re===null?(Z.deletions=[Q],Z.flags|=16):re.push(Q)}}function f(Z,Q){if(!o)return null;for(;Q!==null;)l(Z,Q),Q=Q.sibling;return null}function m(Z){for(var Q=new Map;Z!==null;)Z.key!==null?Q.set(Z.key,Z):Q.set(Z.index,Z),Z=Z.sibling;return Q}function x(Z,Q){return Z=lo(Z,Q),Z.index=0,Z.sibling=null,Z}function E(Z,Q,re){return Z.index=re,o?(re=Z.alternate,re!==null?(re=re.index,re<Q?(Z.flags|=67108866,Q):re):(Z.flags|=67108866,Q)):(Z.flags|=1048576,Q)}function k(Z){return o&&Z.alternate===null&&(Z.flags|=67108866),Z}function j(Z,Q,re,ye){return Q===null||Q.tag!==6?(Q=J0(re,Z.mode,ye),Q.return=Z,Q):(Q=x(Q,re),Q.return=Z,Q)}function J(Z,Q,re,ye){var Le=re.type;return Le===S?he(Z,Q,re.props.children,ye,re.key):Q!==null&&(Q.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===O&&Bl(Le)===Q.type)?(Q=x(Q,re.props),ff(Q,re),Q.return=Z,Q):(Q=cm(re.type,re.key,re.props,null,Z.mode,ye),ff(Q,re),Q.return=Z,Q)}function ie(Z,Q,re,ye){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=X0(re,Z.mode,ye),Q.return=Z,Q):(Q=x(Q,re.children||[]),Q.return=Z,Q)}function he(Z,Q,re,ye,Le){return Q===null||Q.tag!==7?(Q=Ll(re,Z.mode,ye,Le),Q.return=Z,Q):(Q=x(Q,re),Q.return=Z,Q)}function be(Z,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=J0(""+Q,Z.mode,re),Q.return=Z,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return re=cm(Q.type,Q.key,Q.props,null,Z.mode,re),ff(re,Q),re.return=Z,re;case T:return Q=X0(Q,Z.mode,re),Q.return=Z,Q;case O:return Q=Bl(Q),be(Z,Q,re)}if(te(Q)||z(Q))return Q=Ll(Q,Z.mode,re,null),Q.return=Z,Q;if(typeof Q.then=="function")return be(Z,ym(Q),re);if(Q.$$typeof===N)return be(Z,hm(Z,Q),re);vm(Z,Q)}return null}function oe(Z,Q,re,ye){var Le=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Le!==null?null:j(Z,Q,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case v:return re.key===Le?J(Z,Q,re,ye):null;case T:return re.key===Le?ie(Z,Q,re,ye):null;case O:return re=Bl(re),oe(Z,Q,re,ye)}if(te(re)||z(re))return Le!==null?null:he(Z,Q,re,ye,null);if(typeof re.then=="function")return oe(Z,Q,ym(re),ye);if(re.$$typeof===N)return oe(Z,Q,hm(Z,re),ye);vm(Z,re)}return null}function ue(Z,Q,re,ye,Le){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return Z=Z.get(re)||null,j(Q,Z,""+ye,Le);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case v:return Z=Z.get(ye.key===null?re:ye.key)||null,J(Q,Z,ye,Le);case T:return Z=Z.get(ye.key===null?re:ye.key)||null,ie(Q,Z,ye,Le);case O:return ye=Bl(ye),ue(Z,Q,re,ye,Le)}if(te(ye)||z(ye))return Z=Z.get(re)||null,he(Q,Z,ye,Le,null);if(typeof ye.then=="function")return ue(Z,Q,re,ym(ye),Le);if(ye.$$typeof===N)return ue(Z,Q,re,hm(Q,ye),Le);vm(Q,ye)}return null}function Me(Z,Q,re,ye){for(var Le=null,ht=null,De=Q,Qe=Q=0,at=null;De!==null&&Qe<re.length;Qe++){De.index>Qe?(at=De,De=null):at=De.sibling;var pt=oe(Z,De,re[Qe],ye);if(pt===null){De===null&&(De=at);break}o&&De&&pt.alternate===null&&l(Z,De),Q=E(pt,Q,Qe),ht===null?Le=pt:ht.sibling=pt,ht=pt,De=at}if(Qe===re.length)return f(Z,De),ct&&uo(Z,Qe),Le;if(De===null){for(;Qe<re.length;Qe++)De=be(Z,re[Qe],ye),De!==null&&(Q=E(De,Q,Qe),ht===null?Le=De:ht.sibling=De,ht=De);return ct&&uo(Z,Qe),Le}for(De=m(De);Qe<re.length;Qe++)at=ue(De,Z,Qe,re[Qe],ye),at!==null&&(o&&at.alternate!==null&&De.delete(at.key===null?Qe:at.key),Q=E(at,Q,Qe),ht===null?Le=at:ht.sibling=at,ht=at);return o&&De.forEach(function(Ps){return l(Z,Ps)}),ct&&uo(Z,Qe),Le}function Be(Z,Q,re,ye){if(re==null)throw Error(r(151));for(var Le=null,ht=null,De=Q,Qe=Q=0,at=null,pt=re.next();De!==null&&!pt.done;Qe++,pt=re.next()){De.index>Qe?(at=De,De=null):at=De.sibling;var Ps=oe(Z,De,pt.value,ye);if(Ps===null){De===null&&(De=at);break}o&&De&&Ps.alternate===null&&l(Z,De),Q=E(Ps,Q,Qe),ht===null?Le=Ps:ht.sibling=Ps,ht=Ps,De=at}if(pt.done)return f(Z,De),ct&&uo(Z,Qe),Le;if(De===null){for(;!pt.done;Qe++,pt=re.next())pt=be(Z,pt.value,ye),pt!==null&&(Q=E(pt,Q,Qe),ht===null?Le=pt:ht.sibling=pt,ht=pt);return ct&&uo(Z,Qe),Le}for(De=m(De);!pt.done;Qe++,pt=re.next())pt=ue(De,Z,Qe,pt.value,ye),pt!==null&&(o&&pt.alternate!==null&&De.delete(pt.key===null?Qe:pt.key),Q=E(pt,Q,Qe),ht===null?Le=pt:ht.sibling=pt,ht=pt);return o&&De.forEach(function(R9){return l(Z,R9)}),ct&&uo(Z,Qe),Le}function Rt(Z,Q,re,ye){if(typeof re=="object"&&re!==null&&re.type===S&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case v:e:{for(var Le=re.key;Q!==null;){if(Q.key===Le){if(Le=re.type,Le===S){if(Q.tag===7){f(Z,Q.sibling),ye=x(Q,re.props.children),ye.return=Z,Z=ye;break e}}else if(Q.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===O&&Bl(Le)===Q.type){f(Z,Q.sibling),ye=x(Q,re.props),ff(ye,re),ye.return=Z,Z=ye;break e}f(Z,Q);break}else l(Z,Q);Q=Q.sibling}re.type===S?(ye=Ll(re.props.children,Z.mode,ye,re.key),ye.return=Z,Z=ye):(ye=cm(re.type,re.key,re.props,null,Z.mode,ye),ff(ye,re),ye.return=Z,Z=ye)}return k(Z);case T:e:{for(Le=re.key;Q!==null;){if(Q.key===Le)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){f(Z,Q.sibling),ye=x(Q,re.children||[]),ye.return=Z,Z=ye;break e}else{f(Z,Q);break}else l(Z,Q);Q=Q.sibling}ye=X0(re,Z.mode,ye),ye.return=Z,Z=ye}return k(Z);case O:return re=Bl(re),Rt(Z,Q,re,ye)}if(te(re))return Me(Z,Q,re,ye);if(z(re)){if(Le=z(re),typeof Le!="function")throw Error(r(150));return re=Le.call(re),Be(Z,Q,re,ye)}if(typeof re.then=="function")return Rt(Z,Q,ym(re),ye);if(re.$$typeof===N)return Rt(Z,Q,hm(Z,re),ye);vm(Z,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,Q!==null&&Q.tag===6?(f(Z,Q.sibling),ye=x(Q,re),ye.return=Z,Z=ye):(f(Z,Q),ye=J0(re,Z.mode,ye),ye.return=Z,Z=ye),k(Z)):f(Z,Q)}return function(Z,Q,re,ye){try{df=0;var Le=Rt(Z,Q,re,ye);return rc=null,Le}catch(De){if(De===nc||De===mm)throw De;var ht=Yr(29,De,null,Z.mode);return ht.lanes=ye,ht.return=Z,ht}finally{}}}var ql=CC(!0),IC=CC(!1),ms=!1;function u_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function c_(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function gs(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ys(o,l,f){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(vt&2)!==0){var x=m.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),m.pending=l,l=um(o),dC(o,null,f),l}return lm(o,m,l,f),um(o)}function hf(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var m=l.lanes;m&=o.pendingLanes,f|=m,l.lanes=f,Fd(o,f)}}function d_(o,l){var f=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var x=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var k={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};E===null?x=E=k:E=E.next=k,f=f.next}while(f!==null);E===null?x=E=l:E=E.next=l}else x=E=l;f={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:m.shared,callbacks:m.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var f_=!1;function pf(){if(f_){var o=tc;if(o!==null)throw o}}function mf(o,l,f,m){f_=!1;var x=o.updateQueue;ms=!1;var E=x.firstBaseUpdate,k=x.lastBaseUpdate,j=x.shared.pending;if(j!==null){x.shared.pending=null;var J=j,ie=J.next;J.next=null,k===null?E=ie:k.next=ie,k=J;var he=o.alternate;he!==null&&(he=he.updateQueue,j=he.lastBaseUpdate,j!==k&&(j===null?he.firstBaseUpdate=ie:j.next=ie,he.lastBaseUpdate=J))}if(E!==null){var be=x.baseState;k=0,he=ie=J=null,j=E;do{var oe=j.lane&-536870913,ue=oe!==j.lane;if(ue?(it&oe)===oe:(m&oe)===oe){oe!==0&&oe===ec&&(f_=!0),he!==null&&(he=he.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Me=o,Be=j;oe=l;var Rt=f;switch(Be.tag){case 1:if(Me=Be.payload,typeof Me=="function"){be=Me.call(Rt,be,oe);break e}be=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Be.payload,oe=typeof Me=="function"?Me.call(Rt,be,oe):Me,oe==null)break e;be=p({},be,oe);break e;case 2:ms=!0}}oe=j.callback,oe!==null&&(o.flags|=64,ue&&(o.flags|=8192),ue=x.callbacks,ue===null?x.callbacks=[oe]:ue.push(oe))}else ue={lane:oe,tag:j.tag,payload:j.payload,callback:j.callback,next:null},he===null?(ie=he=ue,J=be):he=he.next=ue,k|=oe;if(j=j.next,j===null){if(j=x.shared.pending,j===null)break;ue=j,j=ue.next,ue.next=null,x.lastBaseUpdate=ue,x.shared.pending=null}}while(!0);he===null&&(J=be),x.baseState=J,x.firstBaseUpdate=ie,x.lastBaseUpdate=he,E===null&&(x.shared.lanes=0),Es|=k,o.lanes=k,o.memoizedState=be}}function kC(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function NC(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)kC(f[o],l)}var ic=W(null),_m=W(0);function RC(o,l){o=xo,$(_m,o),$(ic,l),xo=o|l.baseLanes}function h_(){$(_m,xo),$(ic,ic.current)}function p_(){xo=_m.current,se(ic),se(_m)}var Wr=W(null),Ei=null;function vs(o){var l=o.alternate;$(cn,cn.current&1),$(Wr,o),Ei===null&&(l===null||ic.current!==null||l.memoizedState!==null)&&(Ei=o)}function m_(o){$(cn,cn.current),$(Wr,o),Ei===null&&(Ei=o)}function PC(o){o.tag===22?($(cn,cn.current),$(Wr,o),Ei===null&&(Ei=o)):_s()}function _s(){$(cn,cn.current),$(Wr,Wr.current)}function Jr(o){se(Wr),Ei===o&&(Ei=null),se(cn)}var cn=W(0);function bm(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||xb(f)||Eb(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ho=0,Xe=null,kt=null,En=null,xm=!1,ac=!1,Hl=!1,Em=0,gf=0,oc=null,xq=0;function rn(){throw Error(r(321))}function g_(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!Kr(o[f],l[f]))return!1;return!0}function y_(o,l,f,m,x,E){return ho=E,Xe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,X.H=o===null||o.memoizedState===null?mI:P_,Hl=!1,E=f(m,x),Hl=!1,ac&&(E=DC(l,f,m,x)),MC(o),E}function MC(o){X.H=_f;var l=kt!==null&&kt.next!==null;if(ho=0,En=kt=Xe=null,xm=!1,gf=0,oc=null,l)throw Error(r(300));o===null||wn||(o=o.dependencies,o!==null&&fm(o)&&(wn=!0))}function DC(o,l,f,m){Xe=o;var x=0;do{if(ac&&(oc=null),gf=0,ac=!1,25<=x)throw Error(r(301));if(x+=1,En=kt=null,o.updateQueue!=null){var E=o.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}X.H=gI,E=l(f,m)}while(ac);return E}function Eq(){var o=X.H,l=o.useState()[0];return l=typeof l.then=="function"?yf(l):l,o=o.useState()[0],(kt!==null?kt.memoizedState:null)!==o&&(Xe.flags|=1024),l}function v_(){var o=Em!==0;return Em=0,o}function __(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function b_(o){if(xm){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}xm=!1}ho=0,En=kt=Xe=null,ac=!1,gf=Em=0,oc=null}function xr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Xe.memoizedState=En=o:En=En.next=o,En}function dn(){if(kt===null){var o=Xe.alternate;o=o!==null?o.memoizedState:null}else o=kt.next;var l=En===null?Xe.memoizedState:En.next;if(l!==null)En=l,kt=o;else{if(o===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));kt=o,o={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},En===null?Xe.memoizedState=En=o:En=En.next=o}return En}function wm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yf(o){var l=gf;return gf+=1,oc===null&&(oc=[]),o=TC(oc,o,l),l=Xe,(En===null?l.memoizedState:En.next)===null&&(l=l.alternate,X.H=l===null||l.memoizedState===null?mI:P_),o}function Tm(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return yf(o);if(o.$$typeof===N)return Qn(o)}throw Error(r(438,String(o)))}function x_(o){var l=null,f=Xe.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var m=Xe.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=wm(),Xe.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),m=0;m<o;m++)f[m]=F;return l.index++,f}function po(o,l){return typeof l=="function"?l(o):l}function Sm(o){var l=dn();return E_(l,kt,o)}function E_(o,l,f){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var x=o.baseQueue,E=m.pending;if(E!==null){if(x!==null){var k=x.next;x.next=E.next,E.next=k}l.baseQueue=x=E,m.pending=null}if(E=o.baseState,x===null)o.memoizedState=E;else{l=x.next;var j=k=null,J=null,ie=l,he=!1;do{var be=ie.lane&-536870913;if(be!==ie.lane?(it&be)===be:(ho&be)===be){var oe=ie.revertLane;if(oe===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),be===ec&&(he=!0);else if((ho&oe)===oe){ie=ie.next,oe===ec&&(he=!0);continue}else be={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},J===null?(j=J=be,k=E):J=J.next=be,Xe.lanes|=oe,Es|=oe;be=ie.action,Hl&&f(E,be),E=ie.hasEagerState?ie.eagerState:f(E,be)}else oe={lane:be,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},J===null?(j=J=oe,k=E):J=J.next=oe,Xe.lanes|=be,Es|=be;ie=ie.next}while(ie!==null&&ie!==l);if(J===null?k=E:J.next=j,!Kr(E,o.memoizedState)&&(wn=!0,he&&(f=tc,f!==null)))throw f;o.memoizedState=E,o.baseState=k,o.baseQueue=J,m.lastRenderedState=E}return x===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function w_(o){var l=dn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var m=f.dispatch,x=f.pending,E=l.memoizedState;if(x!==null){f.pending=null;var k=x=x.next;do E=o(E,k.action),k=k.next;while(k!==x);Kr(E,l.memoizedState)||(wn=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),f.lastRenderedState=E}return[E,m]}function OC(o,l,f){var m=Xe,x=dn(),E=ct;if(E){if(f===void 0)throw Error(r(407));f=f()}else f=l();var k=!Kr((kt||x).memoizedState,f);if(k&&(x.memoizedState=f,wn=!0),x=x.queue,A_(VC.bind(null,m,x,o),[o]),x.getSnapshot!==l||k||En!==null&&En.memoizedState.tag&1){if(m.flags|=2048,sc(9,{destroy:void 0},UC.bind(null,m,x,f,l),null),Mt===null)throw Error(r(349));E||(ho&127)!==0||LC(m,l,f)}return f}function LC(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=Xe.updateQueue,l===null?(l=wm(),Xe.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function UC(o,l,f,m){l.value=f,l.getSnapshot=m,FC(l)&&zC(o)}function VC(o,l,f){return f(function(){FC(l)&&zC(o)})}function FC(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!Kr(o,f)}catch{return!0}}function zC(o){var l=Ol(o,2);l!==null&&Dr(l,o,2)}function T_(o){var l=xr();if(typeof o=="function"){var f=o;if(o=f(),Hl){Vn(!0);try{f()}finally{Vn(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:o},l}function BC(o,l,f,m){return o.baseState=f,E_(o,kt,typeof m=="function"?m:po)}function wq(o,l,f,m,x){if(Im(o))throw Error(r(485));if(o=l.action,o!==null){var E={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){E.listeners.push(k)}};X.T!==null?f(!0):E.isTransition=!1,m(E),f=l.pending,f===null?(E.next=l.pending=E,jC(l,E)):(E.next=f.next,l.pending=f.next=E)}}function jC(o,l){var f=l.action,m=l.payload,x=o.state;if(l.isTransition){var E=X.T,k={};X.T=k;try{var j=f(x,m),J=X.S;J!==null&&J(k,j),qC(o,l,j)}catch(ie){S_(o,l,ie)}finally{E!==null&&k.types!==null&&(E.types=k.types),X.T=E}}else try{E=f(x,m),qC(o,l,E)}catch(ie){S_(o,l,ie)}}function qC(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){HC(o,l,m)},function(m){return S_(o,l,m)}):HC(o,l,f)}function HC(o,l,f){l.status="fulfilled",l.value=f,GC(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,jC(o,f)))}function S_(o,l,f){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=f,GC(l),l=l.next;while(l!==m)}o.action=null}function GC(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function $C(o,l){return l}function KC(o,l){if(ct){var f=Mt.formState;if(f!==null){e:{var m=Xe;if(ct){if(Bt){t:{for(var x=Bt,E=xi;x.nodeType!==8;){if(!E){x=null;break t}if(x=wi(x.nextSibling),x===null){x=null;break t}}E=x.data,x=E==="F!"||E==="F"?x:null}if(x){Bt=wi(x.nextSibling),m=x.data==="F!";break e}}hs(m)}m=!1}m&&(l=f[0])}}return f=xr(),f.memoizedState=f.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$C,lastRenderedState:l},f.queue=m,f=fI.bind(null,Xe,m),m.dispatch=f,m=T_(!1),E=R_.bind(null,Xe,!1,m.queue),m=xr(),x={state:l,dispatch:null,action:o,pending:null},m.queue=x,f=wq.bind(null,Xe,x,E,f),x.dispatch=f,m.memoizedState=o,[l,f,!1]}function YC(o){var l=dn();return WC(l,kt,o)}function WC(o,l,f){if(l=E_(o,l,$C)[0],o=Sm(po)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=yf(l)}catch(k){throw k===nc?mm:k}else m=l;l=dn();var x=l.queue,E=x.dispatch;return f!==l.memoizedState&&(Xe.flags|=2048,sc(9,{destroy:void 0},Tq.bind(null,x,f),null)),[m,E,o]}function Tq(o,l){o.action=l}function JC(o){var l=dn(),f=kt;if(f!==null)return WC(l,f,o);dn(),l=l.memoizedState,f=dn();var m=f.queue.dispatch;return f.memoizedState=o,[l,m,!1]}function sc(o,l,f,m){return o={tag:o,create:f,deps:m,inst:l,next:null},l=Xe.updateQueue,l===null&&(l=wm(),Xe.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(m=f.next,f.next=o,o.next=m,l.lastEffect=o),o}function XC(){return dn().memoizedState}function Am(o,l,f,m){var x=xr();Xe.flags|=o,x.memoizedState=sc(1|l,{destroy:void 0},f,m===void 0?null:m)}function Cm(o,l,f,m){var x=dn();m=m===void 0?null:m;var E=x.memoizedState.inst;kt!==null&&m!==null&&g_(m,kt.memoizedState.deps)?x.memoizedState=sc(l,E,f,m):(Xe.flags|=o,x.memoizedState=sc(1|l,E,f,m))}function QC(o,l){Am(8390656,8,o,l)}function A_(o,l){Cm(2048,8,o,l)}function Sq(o){Xe.flags|=4;var l=Xe.updateQueue;if(l===null)l=wm(),Xe.updateQueue=l,l.events=[o];else{var f=l.events;f===null?l.events=[o]:f.push(o)}}function ZC(o){var l=dn().memoizedState;return Sq({ref:l,nextImpl:o}),function(){if((vt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function eI(o,l){return Cm(4,2,o,l)}function tI(o,l){return Cm(4,4,o,l)}function nI(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function rI(o,l,f){f=f!=null?f.concat([o]):null,Cm(4,4,nI.bind(null,l,o),f)}function C_(){}function iI(o,l){var f=dn();l=l===void 0?null:l;var m=f.memoizedState;return l!==null&&g_(l,m[1])?m[0]:(f.memoizedState=[o,l],o)}function aI(o,l){var f=dn();l=l===void 0?null:l;var m=f.memoizedState;if(l!==null&&g_(l,m[1]))return m[0];if(m=o(),Hl){Vn(!0);try{o()}finally{Vn(!1)}}return f.memoizedState=[m,l],m}function I_(o,l,f){return f===void 0||(ho&1073741824)!==0&&(it&261930)===0?o.memoizedState=l:(o.memoizedState=f,o=ok(),Xe.lanes|=o,Es|=o,f)}function oI(o,l,f,m){return Kr(f,l)?f:ic.current!==null?(o=I_(o,f,m),Kr(o,l)||(wn=!0),o):(ho&42)===0||(ho&1073741824)!==0&&(it&261930)===0?(wn=!0,o.memoizedState=f):(o=ok(),Xe.lanes|=o,Es|=o,l)}function sI(o,l,f,m,x){var E=K.p;K.p=E!==0&&8>E?E:8;var k=X.T,j={};X.T=j,R_(o,!1,l,f);try{var J=x(),ie=X.S;if(ie!==null&&ie(j,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var he=bq(J,m);vf(o,l,he,Zr(o))}else vf(o,l,m,Zr(o))}catch(be){vf(o,l,{then:function(){},status:"rejected",reason:be},Zr())}finally{K.p=E,k!==null&&j.types!==null&&(k.types=j.types),X.T=k}}function Aq(){}function k_(o,l,f,m){if(o.tag!==5)throw Error(r(476));var x=lI(o).queue;sI(o,x,l,ae,f===null?Aq:function(){return uI(o),f(m)})}function lI(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:ae},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function uI(o){var l=lI(o);l.next===null&&(l=o.alternate.memoizedState),vf(o,l.next.queue,{},Zr())}function N_(){return Qn(Of)}function cI(){return dn().memoizedState}function dI(){return dn().memoizedState}function Cq(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=Zr();o=gs(f);var m=ys(l,o,f);m!==null&&(Dr(m,l,f),hf(m,l,f)),l={cache:a_()},o.payload=l;return}l=l.return}}function Iq(o,l,f){var m=Zr();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Im(o)?hI(l,f):(f=Y0(o,l,f,m),f!==null&&(Dr(f,o,m),pI(f,l,m)))}function fI(o,l,f){var m=Zr();vf(o,l,f,m)}function vf(o,l,f,m){var x={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Im(o))hI(l,x);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var k=l.lastRenderedState,j=E(k,f);if(x.hasEagerState=!0,x.eagerState=j,Kr(j,k))return lm(o,l,x,0),Mt===null&&sm(),!1}catch{}finally{}if(f=Y0(o,l,x,m),f!==null)return Dr(f,o,m),pI(f,l,m),!0}return!1}function R_(o,l,f,m){if(m={lane:2,revertLane:ub(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Im(o)){if(l)throw Error(r(479))}else l=Y0(o,f,m,2),l!==null&&Dr(l,o,2)}function Im(o){var l=o.alternate;return o===Xe||l!==null&&l===Xe}function hI(o,l){ac=xm=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function pI(o,l,f){if((f&4194048)!==0){var m=l.lanes;m&=o.pendingLanes,f|=m,l.lanes=f,Fd(o,f)}}var _f={readContext:Qn,use:Tm,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn};_f.useEffectEvent=rn;var mI={readContext:Qn,use:Tm,useCallback:function(o,l){return xr().memoizedState=[o,l===void 0?null:l],o},useContext:Qn,useEffect:QC,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,Am(4194308,4,nI.bind(null,l,o),f)},useLayoutEffect:function(o,l){return Am(4194308,4,o,l)},useInsertionEffect:function(o,l){Am(4,2,o,l)},useMemo:function(o,l){var f=xr();l=l===void 0?null:l;var m=o();if(Hl){Vn(!0);try{o()}finally{Vn(!1)}}return f.memoizedState=[m,l],m},useReducer:function(o,l,f){var m=xr();if(f!==void 0){var x=f(l);if(Hl){Vn(!0);try{f(l)}finally{Vn(!1)}}}else x=l;return m.memoizedState=m.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},m.queue=o,o=o.dispatch=Iq.bind(null,Xe,o),[m.memoizedState,o]},useRef:function(o){var l=xr();return o={current:o},l.memoizedState=o},useState:function(o){o=T_(o);var l=o.queue,f=fI.bind(null,Xe,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:C_,useDeferredValue:function(o,l){var f=xr();return I_(f,o,l)},useTransition:function(){var o=T_(!1);return o=sI.bind(null,Xe,o.queue,!0,!1),xr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var m=Xe,x=xr();if(ct){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Mt===null)throw Error(r(349));(it&127)!==0||LC(m,l,f)}x.memoizedState=f;var E={value:f,getSnapshot:l};return x.queue=E,QC(VC.bind(null,m,E,o),[o]),m.flags|=2048,sc(9,{destroy:void 0},UC.bind(null,m,E,f,l),null),f},useId:function(){var o=xr(),l=Mt.identifierPrefix;if(ct){var f=Ra,m=Na;f=(m&~(1<<32-ut(m)-1)).toString(32)+f,l="_"+l+"R_"+f,f=Em++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=xq++,l="_"+l+"r_"+f.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:N_,useFormState:KC,useActionState:KC,useOptimistic:function(o){var l=xr();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=R_.bind(null,Xe,!0,f),f.dispatch=l,[o,l]},useMemoCache:x_,useCacheRefresh:function(){return xr().memoizedState=Cq.bind(null,Xe)},useEffectEvent:function(o){var l=xr(),f={impl:o};return l.memoizedState=f,function(){if((vt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},P_={readContext:Qn,use:Tm,useCallback:iI,useContext:Qn,useEffect:A_,useImperativeHandle:rI,useInsertionEffect:eI,useLayoutEffect:tI,useMemo:aI,useReducer:Sm,useRef:XC,useState:function(){return Sm(po)},useDebugValue:C_,useDeferredValue:function(o,l){var f=dn();return oI(f,kt.memoizedState,o,l)},useTransition:function(){var o=Sm(po)[0],l=dn().memoizedState;return[typeof o=="boolean"?o:yf(o),l]},useSyncExternalStore:OC,useId:cI,useHostTransitionStatus:N_,useFormState:YC,useActionState:YC,useOptimistic:function(o,l){var f=dn();return BC(f,kt,o,l)},useMemoCache:x_,useCacheRefresh:dI};P_.useEffectEvent=ZC;var gI={readContext:Qn,use:Tm,useCallback:iI,useContext:Qn,useEffect:A_,useImperativeHandle:rI,useInsertionEffect:eI,useLayoutEffect:tI,useMemo:aI,useReducer:w_,useRef:XC,useState:function(){return w_(po)},useDebugValue:C_,useDeferredValue:function(o,l){var f=dn();return kt===null?I_(f,o,l):oI(f,kt.memoizedState,o,l)},useTransition:function(){var o=w_(po)[0],l=dn().memoizedState;return[typeof o=="boolean"?o:yf(o),l]},useSyncExternalStore:OC,useId:cI,useHostTransitionStatus:N_,useFormState:JC,useActionState:JC,useOptimistic:function(o,l){var f=dn();return kt!==null?BC(f,kt,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:x_,useCacheRefresh:dI};gI.useEffectEvent=ZC;function M_(o,l,f,m){l=o.memoizedState,f=f(m,l),f=f==null?l:p({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var D_={enqueueSetState:function(o,l,f){o=o._reactInternals;var m=Zr(),x=gs(m);x.payload=l,f!=null&&(x.callback=f),l=ys(o,x,m),l!==null&&(Dr(l,o,m),hf(l,o,m))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var m=Zr(),x=gs(m);x.tag=1,x.payload=l,f!=null&&(x.callback=f),l=ys(o,x,m),l!==null&&(Dr(l,o,m),hf(l,o,m))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=Zr(),m=gs(f);m.tag=2,l!=null&&(m.callback=l),l=ys(o,m,f),l!==null&&(Dr(l,o,f),hf(l,o,f))}};function yI(o,l,f,m,x,E,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,E,k):l.prototype&&l.prototype.isPureReactComponent?!af(f,m)||!af(x,E):!0}function vI(o,l,f,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,m),l.state!==o&&D_.enqueueReplaceState(l,l.state,null)}function Gl(o,l){var f=l;if("ref"in l){f={};for(var m in l)m!=="ref"&&(f[m]=l[m])}if(o=o.defaultProps){f===l&&(f=p({},f));for(var x in o)f[x]===void 0&&(f[x]=o[x])}return f}function _I(o){om(o)}function bI(o){console.error(o)}function xI(o){om(o)}function km(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function EI(o,l,f){try{var m=o.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function O_(o,l,f){return f=gs(f),f.tag=3,f.payload={element:null},f.callback=function(){km(o,l)},f}function wI(o){return o=gs(o),o.tag=3,o}function TI(o,l,f,m){var x=f.type.getDerivedStateFromError;if(typeof x=="function"){var E=m.value;o.payload=function(){return x(E)},o.callback=function(){EI(l,f,m)}}var k=f.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(o.callback=function(){EI(l,f,m),typeof x!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var j=m.stack;this.componentDidCatch(m.value,{componentStack:j!==null?j:""})})}function kq(o,l,f,m,x){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=f.alternate,l!==null&&Zu(l,f,x,!0),f=Wr.current,f!==null){switch(f.tag){case 31:case 13:return Ei===null?Bm():f.alternate===null&&an===0&&(an=3),f.flags&=-257,f.flags|=65536,f.lanes=x,m===gm?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([m]):l.add(m),ob(o,m,x)),!1;case 22:return f.flags|=65536,m===gm?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([m]):f.add(m)),ob(o,m,x)),!1}throw Error(r(435,f.tag))}return ob(o,m,x),Bm(),!1}if(ct)return l=Wr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,m!==e_&&(o=Error(r(422),{cause:m}),lf(vi(o,f)))):(m!==e_&&(l=Error(r(423),{cause:m}),lf(vi(l,f))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,m=vi(m,f),x=O_(o.stateNode,m,x),d_(o,x),an!==4&&(an=2)),!1;var E=Error(r(520),{cause:m});if(E=vi(E,f),Cf===null?Cf=[E]:Cf.push(E),an!==4&&(an=2),l===null)return!0;m=vi(m,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=x&-x,f.lanes|=o,o=O_(f.stateNode,m,o),d_(f,o),!1;case 1:if(l=f.type,E=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ws===null||!ws.has(E))))return f.flags|=65536,x&=-x,f.lanes|=x,x=wI(x),TI(x,o,f,m),d_(f,x),!1}f=f.return}while(f!==null);return!1}var L_=Error(r(461)),wn=!1;function Zn(o,l,f,m){l.child=o===null?IC(l,null,f,m):ql(l,o.child,f,m)}function SI(o,l,f,m,x){f=f.render;var E=l.ref;if("ref"in m){var k={};for(var j in m)j!=="ref"&&(k[j]=m[j])}else k=m;return Fl(l),m=y_(o,l,f,k,E,x),j=v_(),o!==null&&!wn?(__(o,l,x),mo(o,l,x)):(ct&&j&&Q0(l),l.flags|=1,Zn(o,l,m,x),l.child)}function AI(o,l,f,m,x){if(o===null){var E=f.type;return typeof E=="function"&&!W0(E)&&E.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=E,CI(o,l,E,m,x)):(o=cm(f.type,null,m,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(E=o.child,!H_(o,x)){var k=E.memoizedProps;if(f=f.compare,f=f!==null?f:af,f(k,m)&&o.ref===l.ref)return mo(o,l,x)}return l.flags|=1,o=lo(E,m),o.ref=l.ref,o.return=l,l.child=o}function CI(o,l,f,m,x){if(o!==null){var E=o.memoizedProps;if(af(E,m)&&o.ref===l.ref)if(wn=!1,l.pendingProps=m=E,H_(o,x))(o.flags&131072)!==0&&(wn=!0);else return l.lanes=o.lanes,mo(o,l,x)}return U_(o,l,f,m,x)}function II(o,l,f,m){var x=m.children,E=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(E=E!==null?E.baseLanes|f:f,o!==null){for(m=l.child=o.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;m=x&~E}else m=0,l.child=null;return kI(o,l,E,f,m)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&pm(l,E!==null?E.cachePool:null),E!==null?RC(l,E):h_(),PC(l);else return m=l.lanes=536870912,kI(o,l,E!==null?E.baseLanes|f:f,f,m)}else E!==null?(pm(l,E.cachePool),RC(l,E),_s(),l.memoizedState=null):(o!==null&&pm(l,null),h_(),_s());return Zn(o,l,x,f),l.child}function bf(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function kI(o,l,f,m,x){var E=s_();return E=E===null?null:{parent:xn._currentValue,pool:E},l.memoizedState={baseLanes:f,cachePool:E},o!==null&&pm(l,null),h_(),PC(l),o!==null&&Zu(o,l,m,!0),l.childLanes=x,null}function Nm(o,l){return l=Pm({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function NI(o,l,f){return ql(l,o.child,null,f),o=Nm(l,l.pendingProps),o.flags|=2,Jr(l),l.memoizedState=null,o}function Nq(o,l,f){var m=l.pendingProps,x=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(ct){if(m.mode==="hidden")return o=Nm(l,m),l.lanes=536870912,bf(null,o);if(m_(l),(o=Bt)?(o=jk(o,xi),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:ds!==null?{id:Na,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},f=hC(o),f.return=l,l.child=f,Xn=l,Bt=null)):o=null,o===null)throw hs(l);return l.lanes=536870912,null}return Nm(l,m)}var E=o.memoizedState;if(E!==null){var k=E.dehydrated;if(m_(l),x)if(l.flags&256)l.flags&=-257,l=NI(o,l,f);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(wn||Zu(o,l,f,!1),x=(f&o.childLanes)!==0,wn||x){if(m=Mt,m!==null&&(k=zd(m,f),k!==0&&k!==E.retryLane))throw E.retryLane=k,Ol(o,k),Dr(m,o,k),L_;Bm(),l=NI(o,l,f)}else o=E.treeContext,Bt=wi(k.nextSibling),Xn=l,ct=!0,fs=null,xi=!1,o!==null&&gC(l,o),l=Nm(l,m),l.flags|=4096;return l}return o=lo(o.child,{mode:m.mode,children:m.children}),o.ref=l.ref,l.child=o,o.return=l,o}function Rm(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function U_(o,l,f,m,x){return Fl(l),f=y_(o,l,f,m,void 0,x),m=v_(),o!==null&&!wn?(__(o,l,x),mo(o,l,x)):(ct&&m&&Q0(l),l.flags|=1,Zn(o,l,f,x),l.child)}function RI(o,l,f,m,x,E){return Fl(l),l.updateQueue=null,f=DC(l,m,f,x),MC(o),m=v_(),o!==null&&!wn?(__(o,l,E),mo(o,l,E)):(ct&&m&&Q0(l),l.flags|=1,Zn(o,l,f,E),l.child)}function PI(o,l,f,m,x){if(Fl(l),l.stateNode===null){var E=Wu,k=f.contextType;typeof k=="object"&&k!==null&&(E=Qn(k)),E=new f(m,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=D_,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=m,E.state=l.memoizedState,E.refs={},u_(l),k=f.contextType,E.context=typeof k=="object"&&k!==null?Qn(k):Wu,E.state=l.memoizedState,k=f.getDerivedStateFromProps,typeof k=="function"&&(M_(l,f,k,m),E.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(k=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),k!==E.state&&D_.enqueueReplaceState(E,E.state,null),mf(l,m,E,x),pf(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(o===null){E=l.stateNode;var j=l.memoizedProps,J=Gl(f,j);E.props=J;var ie=E.context,he=f.contextType;k=Wu,typeof he=="object"&&he!==null&&(k=Qn(he));var be=f.getDerivedStateFromProps;he=typeof be=="function"||typeof E.getSnapshotBeforeUpdate=="function",j=l.pendingProps!==j,he||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(j||ie!==k)&&vI(l,E,m,k),ms=!1;var oe=l.memoizedState;E.state=oe,mf(l,m,E,x),pf(),ie=l.memoizedState,j||oe!==ie||ms?(typeof be=="function"&&(M_(l,f,be,m),ie=l.memoizedState),(J=ms||yI(l,f,J,m,oe,ie,k))?(he||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ie),E.props=m,E.state=ie,E.context=k,m=J):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{E=l.stateNode,c_(o,l),k=l.memoizedProps,he=Gl(f,k),E.props=he,be=l.pendingProps,oe=E.context,ie=f.contextType,J=Wu,typeof ie=="object"&&ie!==null&&(J=Qn(ie)),j=f.getDerivedStateFromProps,(ie=typeof j=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==be||oe!==J)&&vI(l,E,m,J),ms=!1,oe=l.memoizedState,E.state=oe,mf(l,m,E,x),pf();var ue=l.memoizedState;k!==be||oe!==ue||ms||o!==null&&o.dependencies!==null&&fm(o.dependencies)?(typeof j=="function"&&(M_(l,f,j,m),ue=l.memoizedState),(he=ms||yI(l,f,he,m,oe,ue,J)||o!==null&&o.dependencies!==null&&fm(o.dependencies))?(ie||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(m,ue,J),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(m,ue,J)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||k===o.memoizedProps&&oe===o.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&oe===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ue),E.props=m,E.state=ue,E.context=J,m=he):(typeof E.componentDidUpdate!="function"||k===o.memoizedProps&&oe===o.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&oe===o.memoizedState||(l.flags|=1024),m=!1)}return E=m,Rm(o,l),m=(l.flags&128)!==0,E||m?(E=l.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,o!==null&&m?(l.child=ql(l,o.child,null,x),l.child=ql(l,null,f,x)):Zn(o,l,f,x),l.memoizedState=E.state,o=l.child):o=mo(o,l,x),o}function MI(o,l,f,m){return Ul(),l.flags|=256,Zn(o,l,f,m),l.child}var V_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function F_(o){return{baseLanes:o,cachePool:EC()}}function z_(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=Qr),o}function DI(o,l,f){var m=l.pendingProps,x=!1,E=(l.flags&128)!==0,k;if((k=E)||(k=o!==null&&o.memoizedState===null?!1:(cn.current&2)!==0),k&&(x=!0,l.flags&=-129),k=(l.flags&32)!==0,l.flags&=-33,o===null){if(ct){if(x?vs(l):_s(),(o=Bt)?(o=jk(o,xi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:ds!==null?{id:Na,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},f=hC(o),f.return=l,l.child=f,Xn=l,Bt=null)):o=null,o===null)throw hs(l);return Eb(o)?l.lanes=32:l.lanes=536870912,null}var j=m.children;return m=m.fallback,x?(_s(),x=l.mode,j=Pm({mode:"hidden",children:j},x),m=Ll(m,x,f,null),j.return=l,m.return=l,j.sibling=m,l.child=j,m=l.child,m.memoizedState=F_(f),m.childLanes=z_(o,k,f),l.memoizedState=V_,bf(null,m)):(vs(l),B_(l,j))}var J=o.memoizedState;if(J!==null&&(j=J.dehydrated,j!==null)){if(E)l.flags&256?(vs(l),l.flags&=-257,l=j_(o,l,f)):l.memoizedState!==null?(_s(),l.child=o.child,l.flags|=128,l=null):(_s(),j=m.fallback,x=l.mode,m=Pm({mode:"visible",children:m.children},x),j=Ll(j,x,f,null),j.flags|=2,m.return=l,j.return=l,m.sibling=j,l.child=m,ql(l,o.child,null,f),m=l.child,m.memoizedState=F_(f),m.childLanes=z_(o,k,f),l.memoizedState=V_,l=bf(null,m));else if(vs(l),Eb(j)){if(k=j.nextSibling&&j.nextSibling.dataset,k)var ie=k.dgst;k=ie,m=Error(r(419)),m.stack="",m.digest=k,lf({value:m,source:null,stack:null}),l=j_(o,l,f)}else if(wn||Zu(o,l,f,!1),k=(f&o.childLanes)!==0,wn||k){if(k=Mt,k!==null&&(m=zd(k,f),m!==0&&m!==J.retryLane))throw J.retryLane=m,Ol(o,m),Dr(k,o,m),L_;xb(j)||Bm(),l=j_(o,l,f)}else xb(j)?(l.flags|=192,l.child=o.child,l=null):(o=J.treeContext,Bt=wi(j.nextSibling),Xn=l,ct=!0,fs=null,xi=!1,o!==null&&gC(l,o),l=B_(l,m.children),l.flags|=4096);return l}return x?(_s(),j=m.fallback,x=l.mode,J=o.child,ie=J.sibling,m=lo(J,{mode:"hidden",children:m.children}),m.subtreeFlags=J.subtreeFlags&65011712,ie!==null?j=lo(ie,j):(j=Ll(j,x,f,null),j.flags|=2),j.return=l,m.return=l,m.sibling=j,l.child=m,bf(null,m),m=l.child,j=o.child.memoizedState,j===null?j=F_(f):(x=j.cachePool,x!==null?(J=xn._currentValue,x=x.parent!==J?{parent:J,pool:J}:x):x=EC(),j={baseLanes:j.baseLanes|f,cachePool:x}),m.memoizedState=j,m.childLanes=z_(o,k,f),l.memoizedState=V_,bf(o.child,m)):(vs(l),f=o.child,o=f.sibling,f=lo(f,{mode:"visible",children:m.children}),f.return=l,f.sibling=null,o!==null&&(k=l.deletions,k===null?(l.deletions=[o],l.flags|=16):k.push(o)),l.child=f,l.memoizedState=null,f)}function B_(o,l){return l=Pm({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function Pm(o,l){return o=Yr(22,o,null,l),o.lanes=0,o}function j_(o,l,f){return ql(l,o.child,null,f),o=B_(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function OI(o,l,f){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),r_(o.return,l,f)}function q_(o,l,f,m,x,E){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:x,treeForkCount:E}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=f,k.tailMode=x,k.treeForkCount=E)}function LI(o,l,f){var m=l.pendingProps,x=m.revealOrder,E=m.tail;m=m.children;var k=cn.current,j=(k&2)!==0;if(j?(k=k&1|2,l.flags|=128):k&=1,$(cn,k),Zn(o,l,m,f),m=ct?sf:0,!j&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&OI(o,f,l);else if(o.tag===19)OI(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(x){case"forwards":for(f=l.child,x=null;f!==null;)o=f.alternate,o!==null&&bm(o)===null&&(x=f),f=f.sibling;f=x,f===null?(x=l.child,l.child=null):(x=f.sibling,f.sibling=null),q_(l,!1,x,f,E,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&bm(o)===null){l.child=x;break}o=x.sibling,x.sibling=f,f=x,x=o}q_(l,!0,f,null,E,m);break;case"together":q_(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function mo(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),Es|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(Zu(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=lo(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=lo(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function H_(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&fm(o)))}function Rq(o,l,f){switch(l.tag){case 3:He(l,l.stateNode.containerInfo),ps(l,xn,o.memoizedState.cache),Ul();break;case 27:case 5:Ve(l);break;case 4:He(l,l.stateNode.containerInfo);break;case 10:ps(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,m_(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(vs(l),l.flags|=128,null):(f&l.child.childLanes)!==0?DI(o,l,f):(vs(l),o=mo(o,l,f),o!==null?o.sibling:null);vs(l);break;case 19:var x=(o.flags&128)!==0;if(m=(f&l.childLanes)!==0,m||(Zu(o,l,f,!1),m=(f&l.childLanes)!==0),x){if(m)return LI(o,l,f);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),$(cn,cn.current),m)break;return null;case 22:return l.lanes=0,II(o,l,f,l.pendingProps);case 24:ps(l,xn,o.memoizedState.cache)}return mo(o,l,f)}function UI(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)wn=!0;else{if(!H_(o,f)&&(l.flags&128)===0)return wn=!1,Rq(o,l,f);wn=(o.flags&131072)!==0}else wn=!1,ct&&(l.flags&1048576)!==0&&mC(l,sf,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(o=Bl(l.elementType),l.type=o,typeof o=="function")W0(o)?(m=Gl(o,m),l.tag=1,l=PI(null,l,o,m,f)):(l.tag=0,l=U_(null,l,o,m,f));else{if(o!=null){var x=o.$$typeof;if(x===B){l.tag=11,l=SI(null,l,o,m,f);break e}else if(x===D){l.tag=14,l=AI(null,l,o,m,f);break e}}throw l=de(o)||o,Error(r(306,l,""))}}return l;case 0:return U_(o,l,l.type,l.pendingProps,f);case 1:return m=l.type,x=Gl(m,l.pendingProps),PI(o,l,m,x,f);case 3:e:{if(He(l,l.stateNode.containerInfo),o===null)throw Error(r(387));m=l.pendingProps;var E=l.memoizedState;x=E.element,c_(o,l),mf(l,m,null,f);var k=l.memoizedState;if(m=k.cache,ps(l,xn,m),m!==E.cache&&i_(l,[xn],f,!0),pf(),m=k.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:k.cache},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){l=MI(o,l,m,f);break e}else if(m!==x){x=vi(Error(r(424)),l),lf(x),l=MI(o,l,m,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Bt=wi(o.firstChild),Xn=l,ct=!0,fs=null,xi=!0,f=IC(l,null,m,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Ul(),m===x){l=mo(o,l,f);break e}Zn(o,l,m,f)}l=l.child}return l;case 26:return Rm(o,l),o===null?(f=Yk(l.type,null,l.pendingProps,null))?l.memoizedState=f:ct||(f=l.type,o=l.pendingProps,m=Ym(_e.current).createElement(f),m[vn]=l,m[Fn]=o,er(m,f,o),_n(m),l.stateNode=m):l.memoizedState=Yk(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ve(l),o===null&&ct&&(m=l.stateNode=Gk(l.type,l.pendingProps,_e.current),Xn=l,xi=!0,x=Bt,Cs(l.type)?(wb=x,Bt=wi(m.firstChild)):Bt=x),Zn(o,l,l.pendingProps.children,f),Rm(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&ct&&((x=m=Bt)&&(m=s9(m,l.type,l.pendingProps,xi),m!==null?(l.stateNode=m,Xn=l,Bt=wi(m.firstChild),xi=!1,x=!0):x=!1),x||hs(l)),Ve(l),x=l.type,E=l.pendingProps,k=o!==null?o.memoizedProps:null,m=E.children,vb(x,E)?m=null:k!==null&&vb(x,k)&&(l.flags|=32),l.memoizedState!==null&&(x=y_(o,l,Eq,null,null,f),Of._currentValue=x),Rm(o,l),Zn(o,l,m,f),l.child;case 6:return o===null&&ct&&((o=f=Bt)&&(f=l9(f,l.pendingProps,xi),f!==null?(l.stateNode=f,Xn=l,Bt=null,o=!0):o=!1),o||hs(l)),null;case 13:return DI(o,l,f);case 4:return He(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=ql(l,null,m,f):Zn(o,l,m,f),l.child;case 11:return SI(o,l,l.type,l.pendingProps,f);case 7:return Zn(o,l,l.pendingProps,f),l.child;case 8:return Zn(o,l,l.pendingProps.children,f),l.child;case 12:return Zn(o,l,l.pendingProps.children,f),l.child;case 10:return m=l.pendingProps,ps(l,l.type,m.value),Zn(o,l,m.children,f),l.child;case 9:return x=l.type._context,m=l.pendingProps.children,Fl(l),x=Qn(x),m=m(x),l.flags|=1,Zn(o,l,m,f),l.child;case 14:return AI(o,l,l.type,l.pendingProps,f);case 15:return CI(o,l,l.type,l.pendingProps,f);case 19:return LI(o,l,f);case 31:return Nq(o,l,f);case 22:return II(o,l,f,l.pendingProps);case 24:return Fl(l),m=Qn(xn),o===null?(x=s_(),x===null&&(x=Mt,E=a_(),x.pooledCache=E,E.refCount++,E!==null&&(x.pooledCacheLanes|=f),x=E),l.memoizedState={parent:m,cache:x},u_(l),ps(l,xn,x)):((o.lanes&f)!==0&&(c_(o,l),mf(l,null,null,f),pf()),x=o.memoizedState,E=l.memoizedState,x.parent!==m?(x={parent:m,cache:m},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),ps(l,xn,m)):(m=E.cache,ps(l,xn,m),m!==x.cache&&i_(l,[xn],f,!0))),Zn(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function go(o){o.flags|=4}function G_(o,l,f,m,x){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(x&335544128)===x)if(o.stateNode.complete)o.flags|=8192;else if(ck())o.flags|=8192;else throw jl=gm,l_}else o.flags&=-16777217}function VI(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Zk(l))if(ck())o.flags|=8192;else throw jl=gm,l_}function Mm(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Fp():536870912,o.lanes|=l,dc|=l)}function xf(o,l){if(!ct)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function jt(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,m=0;if(l)for(var x=o.child;x!==null;)f|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)f|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=m,o.childLanes=f,l}function Pq(o,l,f){var m=l.pendingProps;switch(Z0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(l),null;case 1:return jt(l),null;case 3:return f=l.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),fo(xn),fe(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Qu(l)?go(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,t_())),jt(l),null;case 26:var x=l.type,E=l.memoizedState;return o===null?(go(l),E!==null?(jt(l),VI(l,E)):(jt(l),G_(l,x,null,m,f))):E?E!==o.memoizedState?(go(l),jt(l),VI(l,E)):(jt(l),l.flags&=-16777217):(o=o.memoizedProps,o!==m&&go(l),jt(l),G_(l,x,o,m,f)),null;case 27:if(Ge(l),f=_e.current,x=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&go(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return jt(l),null}o=ee.current,Qu(l)?yC(l):(o=Gk(x,m,f),l.stateNode=o,go(l))}return jt(l),null;case 5:if(Ge(l),x=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&go(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return jt(l),null}if(E=ee.current,Qu(l))yC(l);else{var k=Ym(_e.current);switch(E){case 1:E=k.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:E=k.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":E=k.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":E=k.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":E=k.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof m.is=="string"?k.createElement("select",{is:m.is}):k.createElement("select"),m.multiple?E.multiple=!0:m.size&&(E.size=m.size);break;default:E=typeof m.is=="string"?k.createElement(x,{is:m.is}):k.createElement(x)}}E[vn]=l,E[Fn]=m;e:for(k=l.child;k!==null;){if(k.tag===5||k.tag===6)E.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===l)break e;for(;k.sibling===null;){if(k.return===null||k.return===l)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}l.stateNode=E;e:switch(er(E,x,m),x){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&go(l)}}return jt(l),G_(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,f),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==m&&go(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(o=_e.current,Qu(l)){if(o=l.stateNode,f=l.memoizedProps,m=null,x=Xn,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}o[vn]=l,o=!!(o.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||Dk(o.nodeValue,f)),o||hs(l,!0)}else o=Ym(o).createTextNode(m),o[vn]=l,l.stateNode=o}return jt(l),null;case 31:if(f=l.memoizedState,o===null||o.memoizedState!==null){if(m=Qu(l),f!==null){if(o===null){if(!m)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[vn]=l}else Ul(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;jt(l),o=!1}else f=t_(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return l.flags&256?(Jr(l),l):(Jr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return jt(l),null;case 13:if(m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=Qu(l),m!==null&&m.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[vn]=l}else Ul(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;jt(l),x=!1}else x=t_(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(Jr(l),l):(Jr(l),null)}return Jr(l),(l.flags&128)!==0?(l.lanes=f,l):(f=m!==null,o=o!==null&&o.memoizedState!==null,f&&(m=l.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool),E=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==x&&(m.flags|=2048)),f!==o&&f&&(l.child.flags|=8192),Mm(l,l.updateQueue),jt(l),null);case 4:return fe(),o===null&&hb(l.stateNode.containerInfo),jt(l),null;case 10:return fo(l.type),jt(l),null;case 19:if(se(cn),m=l.memoizedState,m===null)return jt(l),null;if(x=(l.flags&128)!==0,E=m.rendering,E===null)if(x)xf(m,!1);else{if(an!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(E=bm(o),E!==null){for(l.flags|=128,xf(m,!1),o=E.updateQueue,l.updateQueue=o,Mm(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)fC(f,o),f=f.sibling;return $(cn,cn.current&1|2),ct&&uo(l,m.treeForkCount),l.child}o=o.sibling}m.tail!==null&&Wn()>Vm&&(l.flags|=128,x=!0,xf(m,!1),l.lanes=4194304)}else{if(!x)if(o=bm(E),o!==null){if(l.flags|=128,x=!0,o=o.updateQueue,l.updateQueue=o,Mm(l,o),xf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!E.alternate&&!ct)return jt(l),null}else 2*Wn()-m.renderingStartTime>Vm&&f!==536870912&&(l.flags|=128,x=!0,xf(m,!1),l.lanes=4194304);m.isBackwards?(E.sibling=l.child,l.child=E):(o=m.last,o!==null?o.sibling=E:l.child=E,m.last=E)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Wn(),o.sibling=null,f=cn.current,$(cn,x?f&1|2:f&1),ct&&uo(l,m.treeForkCount),o):(jt(l),null);case 22:case 23:return Jr(l),p_(),m=l.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(f&536870912)!==0&&(l.flags&128)===0&&(jt(l),l.subtreeFlags&6&&(l.flags|=8192)):jt(l),f=l.updateQueue,f!==null&&Mm(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048),o!==null&&se(zl),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),fo(xn),jt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function Mq(o,l){switch(Z0(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return fo(xn),fe(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Ge(l),null;case 31:if(l.memoizedState!==null){if(Jr(l),l.alternate===null)throw Error(r(340));Ul()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(Jr(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ul()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return se(cn),null;case 4:return fe(),null;case 10:return fo(l.type),null;case 22:case 23:return Jr(l),p_(),o!==null&&se(zl),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return fo(xn),null;case 25:return null;default:return null}}function FI(o,l){switch(Z0(l),l.tag){case 3:fo(xn),fe();break;case 26:case 27:case 5:Ge(l);break;case 4:fe();break;case 31:l.memoizedState!==null&&Jr(l);break;case 13:Jr(l);break;case 19:se(cn);break;case 10:fo(l.type);break;case 22:case 23:Jr(l),p_(),o!==null&&se(zl);break;case 24:fo(xn)}}function Ef(o,l){try{var f=l.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var x=m.next;f=x;do{if((f.tag&o)===o){m=void 0;var E=f.create,k=f.inst;m=E(),k.destroy=m}f=f.next}while(f!==x)}}catch(j){Tt(l,l.return,j)}}function bs(o,l,f){try{var m=l.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var E=x.next;m=E;do{if((m.tag&o)===o){var k=m.inst,j=k.destroy;if(j!==void 0){k.destroy=void 0,x=l;var J=f,ie=j;try{ie()}catch(he){Tt(x,J,he)}}}m=m.next}while(m!==E)}}catch(he){Tt(l,l.return,he)}}function zI(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{NC(l,f)}catch(m){Tt(o,o.return,m)}}}function BI(o,l,f){f.props=Gl(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(m){Tt(o,l,m)}}function wf(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof f=="function"?o.refCleanup=f(m):f.current=m}}catch(x){Tt(o,l,x)}}function Pa(o,l){var f=o.ref,m=o.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(x){Tt(o,l,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(x){Tt(o,l,x)}else f.current=null}function jI(o){var l=o.type,f=o.memoizedProps,m=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(x){Tt(o,o.return,x)}}function $_(o,l,f){try{var m=o.stateNode;t9(m,o.type,f,l),m[Fn]=l}catch(x){Tt(o,o.return,x)}}function qI(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Cs(o.type)||o.tag===4}function K_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||qI(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Cs(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Y_(o,l,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Hi));else if(m!==4&&(m===27&&Cs(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(Y_(o,l,f),o=o.sibling;o!==null;)Y_(o,l,f),o=o.sibling}function Dm(o,l,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(m!==4&&(m===27&&Cs(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Dm(o,l,f),o=o.sibling;o!==null;)Dm(o,l,f),o=o.sibling}function HI(o){var l=o.stateNode,f=o.memoizedProps;try{for(var m=o.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);er(l,m,f),l[vn]=o,l[Fn]=f}catch(E){Tt(o,o.return,E)}}var yo=!1,Tn=!1,W_=!1,GI=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function Dq(o,l){if(o=o.containerInfo,gb=tg,o=rC(o),j0(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var x=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{f.nodeType,E.nodeType}catch{f=null;break e}var k=0,j=-1,J=-1,ie=0,he=0,be=o,oe=null;t:for(;;){for(var ue;be!==f||x!==0&&be.nodeType!==3||(j=k+x),be!==E||m!==0&&be.nodeType!==3||(J=k+m),be.nodeType===3&&(k+=be.nodeValue.length),(ue=be.firstChild)!==null;)oe=be,be=ue;for(;;){if(be===o)break t;if(oe===f&&++ie===x&&(j=k),oe===E&&++he===m&&(J=k),(ue=be.nextSibling)!==null)break;be=oe,oe=be.parentNode}be=ue}f=j===-1||J===-1?null:{start:j,end:J}}else f=null}f=f||{start:0,end:0}}else f=null;for(yb={focusedElem:o,selectionRange:f},tg=!1,Bn=l;Bn!==null;)if(l=Bn,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Bn=o;else for(;Bn!==null;){switch(l=Bn,E=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)x=o[f],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&E!==null){o=void 0,f=l,x=E.memoizedProps,E=E.memoizedState,m=f.stateNode;try{var Me=Gl(f.type,x);o=m.getSnapshotBeforeUpdate(Me,E),m.__reactInternalSnapshotBeforeUpdate=o}catch(Be){Tt(f,f.return,Be)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)bb(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":bb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,Bn=o;break}Bn=l.return}}function $I(o,l,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:_o(o,f),m&4&&Ef(5,f);break;case 1:if(_o(o,f),m&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(k){Tt(f,f.return,k)}else{var x=Gl(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(x,l,o.__reactInternalSnapshotBeforeUpdate)}catch(k){Tt(f,f.return,k)}}m&64&&zI(f),m&512&&wf(f,f.return);break;case 3:if(_o(o,f),m&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{NC(o,l)}catch(k){Tt(f,f.return,k)}}break;case 27:l===null&&m&4&&HI(f);case 26:case 5:_o(o,f),l===null&&m&4&&jI(f),m&512&&wf(f,f.return);break;case 12:_o(o,f);break;case 31:_o(o,f),m&4&&WI(o,f);break;case 13:_o(o,f),m&4&&JI(o,f),m&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=qq.bind(null,f),u9(o,f))));break;case 22:if(m=f.memoizedState!==null||yo,!m){l=l!==null&&l.memoizedState!==null||Tn,x=yo;var E=Tn;yo=m,(Tn=l)&&!E?bo(o,f,(f.subtreeFlags&8772)!==0):_o(o,f),yo=x,Tn=E}break;case 30:break;default:_o(o,f)}}function KI(o){var l=o.alternate;l!==null&&(o.alternate=null,KI(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Ou(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Wt=null,Nr=!1;function vo(o,l,f){for(f=f.child;f!==null;)YI(o,l,f),f=f.sibling}function YI(o,l,f){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ln,f)}catch{}switch(f.tag){case 26:Tn||Pa(f,l),vo(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Tn||Pa(f,l);var m=Wt,x=Nr;Cs(f.type)&&(Wt=f.stateNode,Nr=!1),vo(o,l,f),Pf(f.stateNode),Wt=m,Nr=x;break;case 5:Tn||Pa(f,l);case 6:if(m=Wt,x=Nr,Wt=null,vo(o,l,f),Wt=m,Nr=x,Wt!==null)if(Nr)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(f.stateNode)}catch(E){Tt(f,l,E)}else try{Wt.removeChild(f.stateNode)}catch(E){Tt(f,l,E)}break;case 18:Wt!==null&&(Nr?(o=Wt,zk(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),_c(o)):zk(Wt,f.stateNode));break;case 4:m=Wt,x=Nr,Wt=f.stateNode.containerInfo,Nr=!0,vo(o,l,f),Wt=m,Nr=x;break;case 0:case 11:case 14:case 15:bs(2,f,l),Tn||bs(4,f,l),vo(o,l,f);break;case 1:Tn||(Pa(f,l),m=f.stateNode,typeof m.componentWillUnmount=="function"&&BI(f,l,m)),vo(o,l,f);break;case 21:vo(o,l,f);break;case 22:Tn=(m=Tn)||f.memoizedState!==null,vo(o,l,f),Tn=m;break;default:vo(o,l,f)}}function WI(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{_c(o)}catch(f){Tt(l,l.return,f)}}}function JI(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{_c(o)}catch(f){Tt(l,l.return,f)}}function Oq(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new GI),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new GI),l;default:throw Error(r(435,o.tag))}}function Om(o,l){var f=Oq(o);l.forEach(function(m){if(!f.has(m)){f.add(m);var x=Hq.bind(null,o,m);m.then(x,x)}})}function Rr(o,l){var f=l.deletions;if(f!==null)for(var m=0;m<f.length;m++){var x=f[m],E=o,k=l,j=k;e:for(;j!==null;){switch(j.tag){case 27:if(Cs(j.type)){Wt=j.stateNode,Nr=!1;break e}break;case 5:Wt=j.stateNode,Nr=!1;break e;case 3:case 4:Wt=j.stateNode.containerInfo,Nr=!0;break e}j=j.return}if(Wt===null)throw Error(r(160));YI(E,k,x),Wt=null,Nr=!1,E=x.alternate,E!==null&&(E.return=null),x.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)XI(l,o),l=l.sibling}var Ji=null;function XI(o,l){var f=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Rr(l,o),Pr(o),m&4&&(bs(3,o,o.return),Ef(3,o),bs(5,o,o.return));break;case 1:Rr(l,o),Pr(o),m&512&&(Tn||f===null||Pa(f,f.return)),m&64&&yo&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var x=Ji;if(Rr(l,o),Pr(o),m&512&&(Tn||f===null||Pa(f,f.return)),m&4){var E=f!==null?f.memoizedState:null;if(m=o.memoizedState,f===null)if(m===null)if(o.stateNode===null){e:{m=o.type,f=o.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":E=x.getElementsByTagName("title")[0],(!E||E[va]||E[vn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=x.createElement(m),x.head.insertBefore(E,x.querySelector("head > title"))),er(E,m,f),E[vn]=o,_n(E),m=E;break e;case"link":var k=Xk("link","href",x).get(m+(f.href||""));if(k){for(var j=0;j<k.length;j++)if(E=k[j],E.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&E.getAttribute("rel")===(f.rel==null?null:f.rel)&&E.getAttribute("title")===(f.title==null?null:f.title)&&E.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){k.splice(j,1);break t}}E=x.createElement(m),er(E,m,f),x.head.appendChild(E);break;case"meta":if(k=Xk("meta","content",x).get(m+(f.content||""))){for(j=0;j<k.length;j++)if(E=k[j],E.getAttribute("content")===(f.content==null?null:""+f.content)&&E.getAttribute("name")===(f.name==null?null:f.name)&&E.getAttribute("property")===(f.property==null?null:f.property)&&E.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&E.getAttribute("charset")===(f.charSet==null?null:f.charSet)){k.splice(j,1);break t}}E=x.createElement(m),er(E,m,f),x.head.appendChild(E);break;default:throw Error(r(468,m))}E[vn]=o,_n(E),m=E}o.stateNode=m}else Qk(x,o.type,o.stateNode);else o.stateNode=Jk(x,m,o.memoizedProps);else E!==m?(E===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):E.count--,m===null?Qk(x,o.type,o.stateNode):Jk(x,m,o.memoizedProps)):m===null&&o.stateNode!==null&&$_(o,o.memoizedProps,f.memoizedProps)}break;case 27:Rr(l,o),Pr(o),m&512&&(Tn||f===null||Pa(f,f.return)),f!==null&&m&4&&$_(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Rr(l,o),Pr(o),m&512&&(Tn||f===null||Pa(f,f.return)),o.flags&32){x=o.stateNode;try{kr(x,"")}catch(Me){Tt(o,o.return,Me)}}m&4&&o.stateNode!=null&&(x=o.memoizedProps,$_(o,x,f!==null?f.memoizedProps:x)),m&1024&&(W_=!0);break;case 6:if(Rr(l,o),Pr(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,f=o.stateNode;try{f.nodeValue=m}catch(Me){Tt(o,o.return,Me)}}break;case 3:if(Xm=null,x=Ji,Ji=Wm(l.containerInfo),Rr(l,o),Ji=x,Pr(o),m&4&&f!==null&&f.memoizedState.isDehydrated)try{_c(l.containerInfo)}catch(Me){Tt(o,o.return,Me)}W_&&(W_=!1,QI(o));break;case 4:m=Ji,Ji=Wm(o.stateNode.containerInfo),Rr(l,o),Pr(o),Ji=m;break;case 12:Rr(l,o),Pr(o);break;case 31:Rr(l,o),Pr(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Om(o,m)));break;case 13:Rr(l,o),Pr(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Um=Wn()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Om(o,m)));break;case 22:x=o.memoizedState!==null;var J=f!==null&&f.memoizedState!==null,ie=yo,he=Tn;if(yo=ie||x,Tn=he||J,Rr(l,o),Tn=he,yo=ie,Pr(o),m&8192)e:for(l=o.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(f===null||J||yo||Tn||$l(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){J=f=l;try{if(E=J.stateNode,x)k=E.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{j=J.stateNode;var be=J.memoizedProps.style,oe=be!=null&&be.hasOwnProperty("display")?be.display:null;j.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Me){Tt(J,J.return,Me)}}}else if(l.tag===6){if(f===null){J=l;try{J.stateNode.nodeValue=x?"":J.memoizedProps}catch(Me){Tt(J,J.return,Me)}}}else if(l.tag===18){if(f===null){J=l;try{var ue=J.stateNode;x?Bk(ue,!0):Bk(J.stateNode,!1)}catch(Me){Tt(J,J.return,Me)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=o.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,Om(o,f))));break;case 19:Rr(l,o),Pr(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Om(o,m)));break;case 30:break;case 21:break;default:Rr(l,o),Pr(o)}}function Pr(o){var l=o.flags;if(l&2){try{for(var f,m=o.return;m!==null;){if(qI(m)){f=m;break}m=m.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var x=f.stateNode,E=K_(o);Dm(o,E,x);break;case 5:var k=f.stateNode;f.flags&32&&(kr(k,""),f.flags&=-33);var j=K_(o);Dm(o,j,k);break;case 3:case 4:var J=f.stateNode.containerInfo,ie=K_(o);Y_(o,ie,J);break;default:throw Error(r(161))}}catch(he){Tt(o,o.return,he)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function QI(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;QI(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function _o(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)$I(o,l.alternate,l),l=l.sibling}function $l(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:bs(4,l,l.return),$l(l);break;case 1:Pa(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&BI(l,l.return,f),$l(l);break;case 27:Pf(l.stateNode);case 26:case 5:Pa(l,l.return),$l(l);break;case 22:l.memoizedState===null&&$l(l);break;case 30:$l(l);break;default:$l(l)}o=o.sibling}}function bo(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,x=o,E=l,k=E.flags;switch(E.tag){case 0:case 11:case 15:bo(x,E,f),Ef(4,E);break;case 1:if(bo(x,E,f),m=E,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ie){Tt(m,m.return,ie)}if(m=E,x=m.updateQueue,x!==null){var j=m.stateNode;try{var J=x.shared.hiddenCallbacks;if(J!==null)for(x.shared.hiddenCallbacks=null,x=0;x<J.length;x++)kC(J[x],j)}catch(ie){Tt(m,m.return,ie)}}f&&k&64&&zI(E),wf(E,E.return);break;case 27:HI(E);case 26:case 5:bo(x,E,f),f&&m===null&&k&4&&jI(E),wf(E,E.return);break;case 12:bo(x,E,f);break;case 31:bo(x,E,f),f&&k&4&&WI(x,E);break;case 13:bo(x,E,f),f&&k&4&&JI(x,E);break;case 22:E.memoizedState===null&&bo(x,E,f),wf(E,E.return);break;case 30:break;default:bo(x,E,f)}l=l.sibling}}function J_(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&uf(f))}function X_(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&uf(o))}function Xi(o,l,f,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ZI(o,l,f,m),l=l.sibling}function ZI(o,l,f,m){var x=l.flags;switch(l.tag){case 0:case 11:case 15:Xi(o,l,f,m),x&2048&&Ef(9,l);break;case 1:Xi(o,l,f,m);break;case 3:Xi(o,l,f,m),x&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&uf(o)));break;case 12:if(x&2048){Xi(o,l,f,m),o=l.stateNode;try{var E=l.memoizedProps,k=E.id,j=E.onPostCommit;typeof j=="function"&&j(k,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(J){Tt(l,l.return,J)}}else Xi(o,l,f,m);break;case 31:Xi(o,l,f,m);break;case 13:Xi(o,l,f,m);break;case 23:break;case 22:E=l.stateNode,k=l.alternate,l.memoizedState!==null?E._visibility&2?Xi(o,l,f,m):Tf(o,l):E._visibility&2?Xi(o,l,f,m):(E._visibility|=2,lc(o,l,f,m,(l.subtreeFlags&10256)!==0||!1)),x&2048&&J_(k,l);break;case 24:Xi(o,l,f,m),x&2048&&X_(l.alternate,l);break;default:Xi(o,l,f,m)}}function lc(o,l,f,m,x){for(x=x&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var E=o,k=l,j=f,J=m,ie=k.flags;switch(k.tag){case 0:case 11:case 15:lc(E,k,j,J,x),Ef(8,k);break;case 23:break;case 22:var he=k.stateNode;k.memoizedState!==null?he._visibility&2?lc(E,k,j,J,x):Tf(E,k):(he._visibility|=2,lc(E,k,j,J,x)),x&&ie&2048&&J_(k.alternate,k);break;case 24:lc(E,k,j,J,x),x&&ie&2048&&X_(k.alternate,k);break;default:lc(E,k,j,J,x)}l=l.sibling}}function Tf(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,m=l,x=m.flags;switch(m.tag){case 22:Tf(f,m),x&2048&&J_(m.alternate,m);break;case 24:Tf(f,m),x&2048&&X_(m.alternate,m);break;default:Tf(f,m)}l=l.sibling}}var Sf=8192;function uc(o,l,f){if(o.subtreeFlags&Sf)for(o=o.child;o!==null;)ek(o,l,f),o=o.sibling}function ek(o,l,f){switch(o.tag){case 26:uc(o,l,f),o.flags&Sf&&o.memoizedState!==null&&x9(f,Ji,o.memoizedState,o.memoizedProps);break;case 5:uc(o,l,f);break;case 3:case 4:var m=Ji;Ji=Wm(o.stateNode.containerInfo),uc(o,l,f),Ji=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=Sf,Sf=16777216,uc(o,l,f),Sf=m):uc(o,l,f));break;default:uc(o,l,f)}}function tk(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Af(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];Bn=m,rk(m,o)}tk(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)nk(o),o=o.sibling}function nk(o){switch(o.tag){case 0:case 11:case 15:Af(o),o.flags&2048&&bs(9,o,o.return);break;case 3:Af(o);break;case 12:Af(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Lm(o)):Af(o);break;default:Af(o)}}function Lm(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];Bn=m,rk(m,o)}tk(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:bs(8,l,l.return),Lm(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Lm(l));break;default:Lm(l)}o=o.sibling}}function rk(o,l){for(;Bn!==null;){var f=Bn;switch(f.tag){case 0:case 11:case 15:bs(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:uf(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Bn=m;else e:for(f=o;Bn!==null;){m=Bn;var x=m.sibling,E=m.return;if(KI(m),m===f){Bn=null;break e}if(x!==null){x.return=E,Bn=x;break e}Bn=E}}}var Lq={getCacheForType:function(o){var l=Qn(xn),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f},cacheSignal:function(){return Qn(xn).controller.signal}},Uq=typeof WeakMap=="function"?WeakMap:Map,vt=0,Mt=null,nt=null,it=0,wt=0,Xr=null,xs=!1,cc=!1,Q_=!1,xo=0,an=0,Es=0,Kl=0,Z_=0,Qr=0,dc=0,Cf=null,Mr=null,eb=!1,Um=0,ik=0,Vm=1/0,Fm=null,ws=null,Rn=0,Ts=null,fc=null,Eo=0,tb=0,nb=null,ak=null,If=0,rb=null;function Zr(){return(vt&2)!==0&&it!==0?it&-it:X.T!==null?ub():zp()}function ok(){if(Qr===0)if((it&536870912)===0||ct){var o=bl;bl<<=1,(bl&3932160)===0&&(bl=262144),Qr=o}else Qr=536870912;return o=Wr.current,o!==null&&(o.flags|=32),Qr}function Dr(o,l,f){(o===Mt&&(wt===2||wt===9)||o.cancelPendingCommit!==null)&&(hc(o,0),Ss(o,it,Qr,!1)),xl(o,f),((vt&2)===0||o!==Mt)&&(o===Mt&&((vt&2)===0&&(Kl|=f),an===4&&Ss(o,it,Qr,!1)),Ma(o))}function sk(o,l,f){if((vt&6)!==0)throw Error(r(327));var m=!f&&(l&127)===0&&(l&o.expiredLanes)===0||Bi(o,l),x=m?zq(o,l):ab(o,l,!0),E=m;do{if(x===0){cc&&!m&&Ss(o,l,0,!1);break}else{if(f=o.current.alternate,E&&!Vq(f)){x=ab(o,l,!1),E=!1;continue}if(x===2){if(E=l,o.errorRecoveryDisabledLanes&E)var k=0;else k=o.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){l=k;e:{var j=o;x=Cf;var J=j.current.memoizedState.isDehydrated;if(J&&(hc(j,k).flags|=256),k=ab(j,k,!1),k!==2){if(Q_&&!J){j.errorRecoveryDisabledLanes|=E,Kl|=E,x=4;break e}E=Mr,Mr=x,E!==null&&(Mr===null?Mr=E:Mr.push.apply(Mr,E))}x=k}if(E=!1,x!==2)continue}}if(x===1){hc(o,0),Ss(o,l,0,!0);break}e:{switch(m=o,E=x,E){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ss(m,l,Qr,!xs);break e;case 2:Mr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(x=Um+300-Wn(),10<x)){if(Ss(m,l,Qr,!xs),ma(m,0,!0)!==0)break e;Eo=l,m.timeoutHandle=Vk(lk.bind(null,m,f,Mr,Fm,eb,l,Qr,Kl,dc,xs,E,"Throttled",-0,0),x);break e}lk(m,f,Mr,Fm,eb,l,Qr,Kl,dc,xs,E,null,-0,0)}}break}while(!0);Ma(o)}function lk(o,l,f,m,x,E,k,j,J,ie,he,be,oe,ue){if(o.timeoutHandle=-1,be=l.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hi},ek(l,E,be);var Me=(E&62914560)===E?Um-Wn():(E&4194048)===E?ik-Wn():0;if(Me=E9(be,Me),Me!==null){Eo=E,o.cancelPendingCommit=Me(gk.bind(null,o,l,E,f,m,x,k,j,J,he,be,null,oe,ue)),Ss(o,E,k,!ie);return}}gk(o,l,E,f,m,x,k,j,J)}function Vq(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var x=f[m],E=x.getSnapshot;x=x.value;try{if(!Kr(E(),x))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ss(o,l,f,m){l&=~Z_,l&=~Kl,o.suspendedLanes|=l,o.pingedLanes&=~l,m&&(o.warmLanes|=l),m=o.expirationTimes;for(var x=l;0<x;){var E=31-ut(x),k=1<<E;m[E]=-1,x&=~k}f!==0&&El(o,f,l)}function zm(){return(vt&6)===0?(kf(0),!1):!0}function ib(){if(nt!==null){if(wt===0)var o=nt.return;else o=nt,co=Vl=null,b_(o),rc=null,df=0,o=nt;for(;o!==null;)FI(o.alternate,o),o=o.return;nt=null}}function hc(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,i9(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Eo=0,ib(),Mt=o,nt=f=lo(o.current,null),it=l,wt=0,Xr=null,xs=!1,cc=Bi(o,l),Q_=!1,dc=Qr=Z_=Kl=Es=an=0,Mr=Cf=null,eb=!1,(l&8)!==0&&(l|=l&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=l;0<m;){var x=31-ut(m),E=1<<x;l|=o[x],m&=~E}return xo=l,sm(),f}function uk(o,l){Xe=null,X.H=_f,l===nc||l===mm?(l=SC(),wt=3):l===l_?(l=SC(),wt=4):wt=l===L_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Xr=l,nt===null&&(an=1,km(o,vi(l,o.current)))}function ck(){var o=Wr.current;return o===null?!0:(it&4194048)===it?Ei===null:(it&62914560)===it||(it&536870912)!==0?o===Ei:!1}function dk(){var o=X.H;return X.H=_f,o===null?_f:o}function fk(){var o=X.A;return X.A=Lq,o}function Bm(){an=4,xs||(it&4194048)!==it&&Wr.current!==null||(cc=!0),(Es&134217727)===0&&(Kl&134217727)===0||Mt===null||Ss(Mt,it,Qr,!1)}function ab(o,l,f){var m=vt;vt|=2;var x=dk(),E=fk();(Mt!==o||it!==l)&&(Fm=null,hc(o,l)),l=!1;var k=an;e:do try{if(wt!==0&&nt!==null){var j=nt,J=Xr;switch(wt){case 8:ib(),k=6;break e;case 3:case 2:case 9:case 6:Wr.current===null&&(l=!0);var ie=wt;if(wt=0,Xr=null,pc(o,j,J,ie),f&&cc){k=0;break e}break;default:ie=wt,wt=0,Xr=null,pc(o,j,J,ie)}}Fq(),k=an;break}catch(he){uk(o,he)}while(!0);return l&&o.shellSuspendCounter++,co=Vl=null,vt=m,X.H=x,X.A=E,nt===null&&(Mt=null,it=0,sm()),k}function Fq(){for(;nt!==null;)hk(nt)}function zq(o,l){var f=vt;vt|=2;var m=dk(),x=fk();Mt!==o||it!==l?(Fm=null,Vm=Wn()+500,hc(o,l)):cc=Bi(o,l);e:do try{if(wt!==0&&nt!==null){l=nt;var E=Xr;t:switch(wt){case 1:wt=0,Xr=null,pc(o,l,E,1);break;case 2:case 9:if(wC(E)){wt=0,Xr=null,pk(l);break}l=function(){wt!==2&&wt!==9||Mt!==o||(wt=7),Ma(o)},E.then(l,l);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:wC(E)?(wt=0,Xr=null,pk(l)):(wt=0,Xr=null,pc(o,l,E,7));break;case 5:var k=null;switch(nt.tag){case 26:k=nt.memoizedState;case 5:case 27:var j=nt;if(k?Zk(k):j.stateNode.complete){wt=0,Xr=null;var J=j.sibling;if(J!==null)nt=J;else{var ie=j.return;ie!==null?(nt=ie,jm(ie)):nt=null}break t}}wt=0,Xr=null,pc(o,l,E,5);break;case 6:wt=0,Xr=null,pc(o,l,E,6);break;case 8:ib(),an=6;break e;default:throw Error(r(462))}}Bq();break}catch(he){uk(o,he)}while(!0);return co=Vl=null,X.H=m,X.A=x,vt=f,nt!==null?0:(Mt=null,it=0,sm(),an)}function Bq(){for(;nt!==null&&!Vd();)hk(nt)}function hk(o){var l=UI(o.alternate,o,xo);o.memoizedProps=o.pendingProps,l===null?jm(o):nt=l}function pk(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=RI(f,l,l.pendingProps,l.type,void 0,it);break;case 11:l=RI(f,l,l.pendingProps,l.type.render,l.ref,it);break;case 5:b_(l);default:FI(f,l),l=nt=fC(l,xo),l=UI(f,l,xo)}o.memoizedProps=o.pendingProps,l===null?jm(o):nt=l}function pc(o,l,f,m){co=Vl=null,b_(l),rc=null,df=0;var x=l.return;try{if(kq(o,x,l,f,it)){an=1,km(o,vi(f,o.current)),nt=null;return}}catch(E){if(x!==null)throw nt=x,E;an=1,km(o,vi(f,o.current)),nt=null;return}l.flags&32768?(ct||m===1?o=!0:cc||(it&536870912)!==0?o=!1:(xs=o=!0,(m===2||m===9||m===3||m===6)&&(m=Wr.current,m!==null&&m.tag===13&&(m.flags|=16384))),mk(l,o)):jm(l)}function jm(o){var l=o;do{if((l.flags&32768)!==0){mk(l,xs);return}o=l.return;var f=Pq(l.alternate,l,xo);if(f!==null){nt=f;return}if(l=l.sibling,l!==null){nt=l;return}nt=l=o}while(l!==null);an===0&&(an=5)}function mk(o,l){do{var f=Mq(o.alternate,o);if(f!==null){f.flags&=32767,nt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){nt=o;return}nt=o=f}while(o!==null);an=6,nt=null}function gk(o,l,f,m,x,E,k,j,J){o.cancelPendingCommit=null;do qm();while(Rn!==0);if((vt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(E=l.lanes|l.childLanes,E|=K0,V0(o,f,E,k,j,J),o===Mt&&(nt=Mt=null,it=0),fc=l,Ts=o,Eo=f,tb=E,nb=x,ak=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Gq(ze,function(){return xk(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=X.T,X.T=null,x=K.p,K.p=2,k=vt,vt|=4;try{Dq(o,l,f)}finally{vt=k,K.p=x,X.T=m}}Rn=1,yk(),vk(),_k()}}function yk(){if(Rn===1){Rn=0;var o=Ts,l=fc,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=X.T,X.T=null;var m=K.p;K.p=2;var x=vt;vt|=4;try{XI(l,o);var E=yb,k=rC(o.containerInfo),j=E.focusedElem,J=E.selectionRange;if(k!==j&&j&&j.ownerDocument&&nC(j.ownerDocument.documentElement,j)){if(J!==null&&j0(j)){var ie=J.start,he=J.end;if(he===void 0&&(he=ie),"selectionStart"in j)j.selectionStart=ie,j.selectionEnd=Math.min(he,j.value.length);else{var be=j.ownerDocument||document,oe=be&&be.defaultView||window;if(oe.getSelection){var ue=oe.getSelection(),Me=j.textContent.length,Be=Math.min(J.start,Me),Rt=J.end===void 0?Be:Math.min(J.end,Me);!ue.extend&&Be>Rt&&(k=Rt,Rt=Be,Be=k);var Z=tC(j,Be),Q=tC(j,Rt);if(Z&&Q&&(ue.rangeCount!==1||ue.anchorNode!==Z.node||ue.anchorOffset!==Z.offset||ue.focusNode!==Q.node||ue.focusOffset!==Q.offset)){var re=be.createRange();re.setStart(Z.node,Z.offset),ue.removeAllRanges(),Be>Rt?(ue.addRange(re),ue.extend(Q.node,Q.offset)):(re.setEnd(Q.node,Q.offset),ue.addRange(re))}}}}for(be=[],ue=j;ue=ue.parentNode;)ue.nodeType===1&&be.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<be.length;j++){var ye=be[j];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}tg=!!gb,yb=gb=null}finally{vt=x,K.p=m,X.T=f}}o.current=l,Rn=2}}function vk(){if(Rn===2){Rn=0;var o=Ts,l=fc,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=X.T,X.T=null;var m=K.p;K.p=2;var x=vt;vt|=4;try{$I(o,l.alternate,l)}finally{vt=x,K.p=m,X.T=f}}Rn=3}}function _k(){if(Rn===4||Rn===3){Rn=0,Mu();var o=Ts,l=fc,f=Eo,m=ak;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Rn=5:(Rn=0,fc=Ts=null,bk(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(ws=null),io(f),l=l.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ln,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=X.T,x=K.p,K.p=2,X.T=null;try{for(var E=o.onRecoverableError,k=0;k<m.length;k++){var j=m[k];E(j.value,{componentStack:j.stack})}}finally{X.T=l,K.p=x}}(Eo&3)!==0&&qm(),Ma(o),x=o.pendingLanes,(f&261930)!==0&&(x&42)!==0?o===rb?If++:(If=0,rb=o):If=0,kf(0)}}function bk(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,uf(l)))}function qm(){return yk(),vk(),_k(),xk()}function xk(){if(Rn!==5)return!1;var o=Ts,l=tb;tb=0;var f=io(Eo),m=X.T,x=K.p;try{K.p=32>f?32:f,X.T=null,f=nb,nb=null;var E=Ts,k=Eo;if(Rn=0,fc=Ts=null,Eo=0,(vt&6)!==0)throw Error(r(331));var j=vt;if(vt|=4,nk(E.current),ZI(E,E.current,k,f),vt=j,kf(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ln,E)}catch{}return!0}finally{K.p=x,X.T=m,bk(o,l)}}function Ek(o,l,f){l=vi(f,l),l=O_(o.stateNode,l,2),o=ys(o,l,2),o!==null&&(xl(o,2),Ma(o))}function Tt(o,l,f){if(o.tag===3)Ek(o,o,f);else for(;l!==null;){if(l.tag===3){Ek(l,o,f);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ws===null||!ws.has(m))){o=vi(f,o),f=wI(2),m=ys(l,f,2),m!==null&&(TI(f,m,l,o),xl(m,2),Ma(m));break}}l=l.return}}function ob(o,l,f){var m=o.pingCache;if(m===null){m=o.pingCache=new Uq;var x=new Set;m.set(l,x)}else x=m.get(l),x===void 0&&(x=new Set,m.set(l,x));x.has(f)||(Q_=!0,x.add(f),o=jq.bind(null,o,l,f),l.then(o,o))}function jq(o,l,f){var m=o.pingCache;m!==null&&m.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Mt===o&&(it&f)===f&&(an===4||an===3&&(it&62914560)===it&&300>Wn()-Um?(vt&2)===0&&hc(o,0):Z_|=f,dc===it&&(dc=0)),Ma(o)}function wk(o,l){l===0&&(l=Fp()),o=Ol(o,l),o!==null&&(xl(o,l),Ma(o))}function qq(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),wk(o,f)}function Hq(o,l){var f=0;switch(o.tag){case 31:case 13:var m=o.stateNode,x=o.memoizedState;x!==null&&(f=x.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),wk(o,f)}function Gq(o,l){return nn(o,l)}var Hm=null,mc=null,sb=!1,Gm=!1,lb=!1,As=0;function Ma(o){o!==mc&&o.next===null&&(mc===null?Hm=mc=o:mc=mc.next=o),Gm=!0,sb||(sb=!0,Kq())}function kf(o,l){if(!lb&&Gm){lb=!0;do for(var f=!1,m=Hm;m!==null;){if(o!==0){var x=m.pendingLanes;if(x===0)var E=0;else{var k=m.suspendedLanes,j=m.pingedLanes;E=(1<<31-ut(42|o)+1)-1,E&=x&~(k&~j),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(f=!0,Ck(m,E))}else E=it,E=ma(m,m===Mt?E:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(E&3)===0||Bi(m,E)||(f=!0,Ck(m,E));m=m.next}while(f);lb=!1}}function $q(){Tk()}function Tk(){Gm=sb=!1;var o=0;As!==0&&r9()&&(o=As);for(var l=Wn(),f=null,m=Hm;m!==null;){var x=m.next,E=Sk(m,l);E===0?(m.next=null,f===null?Hm=x:f.next=x,x===null&&(mc=f)):(f=m,(o!==0||(E&3)!==0)&&(Gm=!0)),m=x}Rn!==0&&Rn!==5||kf(o),As!==0&&(As=0)}function Sk(o,l){for(var f=o.suspendedLanes,m=o.pingedLanes,x=o.expirationTimes,E=o.pendingLanes&-62914561;0<E;){var k=31-ut(E),j=1<<k,J=x[k];J===-1?((j&f)===0||(j&m)!==0)&&(x[k]=U0(j,l)):J<=l&&(o.expiredLanes|=j),E&=~j}if(l=Mt,f=it,f=ma(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,f===0||o===l&&(wt===2||wt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&fa(m),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Bi(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(m!==null&&fa(m),io(f)){case 2:case 8:f=Te;break;case 32:f=ze;break;case 268435456:f=ft;break;default:f=ze}return m=Ak.bind(null,o),f=nn(f,m),o.callbackPriority=l,o.callbackNode=f,l}return m!==null&&m!==null&&fa(m),o.callbackPriority=2,o.callbackNode=null,2}function Ak(o,l){if(Rn!==0&&Rn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(qm()&&o.callbackNode!==f)return null;var m=it;return m=ma(o,o===Mt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(sk(o,m,l),Sk(o,Wn()),o.callbackNode!=null&&o.callbackNode===f?Ak.bind(null,o):null)}function Ck(o,l){if(qm())return null;sk(o,l,!0)}function Kq(){a9(function(){(vt&6)!==0?nn(pe,$q):Tk()})}function ub(){if(As===0){var o=ec;o===0&&(o=ha,ha<<=1,(ha&261888)===0&&(ha=256)),As=o}return As}function Ik(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Fu(""+o)}function kk(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function Yq(o,l,f,m,x){if(l==="submit"&&f&&f.stateNode===x){var E=Ik((x[Fn]||null).action),k=m.submitter;k&&(l=(l=k[Fn]||null)?Ik(l.formAction):k.getAttribute("formAction"),l!==null&&(E=l,k=null));var j=new Aa("action","action",null,m,x);o.push({event:j,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(As!==0){var J=k?kk(x,k):new FormData(x);k_(f,{pending:!0,data:J,method:x.method,action:E},null,J)}}else typeof E=="function"&&(j.preventDefault(),J=k?kk(x,k):new FormData(x),k_(f,{pending:!0,data:J,method:x.method,action:E},E,J))},currentTarget:x}]})}}for(var cb=0;cb<$0.length;cb++){var db=$0[cb],Wq=db.toLowerCase(),Jq=db[0].toUpperCase()+db.slice(1);Wi(Wq,"on"+Jq)}Wi(oC,"onAnimationEnd"),Wi(sC,"onAnimationIteration"),Wi(lC,"onAnimationStart"),Wi("dblclick","onDoubleClick"),Wi("focusin","onFocus"),Wi("focusout","onBlur"),Wi(fq,"onTransitionRun"),Wi(hq,"onTransitionStart"),Wi(pq,"onTransitionCancel"),Wi(uC,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nf));function Nk(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var m=o[f],x=m.event;m=m.listeners;e:{var E=void 0;if(l)for(var k=m.length-1;0<=k;k--){var j=m[k],J=j.instance,ie=j.currentTarget;if(j=j.listener,J!==E&&x.isPropagationStopped())break e;E=j,x.currentTarget=ie;try{E(x)}catch(he){om(he)}x.currentTarget=null,E=J}else for(k=0;k<m.length;k++){if(j=m[k],J=j.instance,ie=j.currentTarget,j=j.listener,J!==E&&x.isPropagationStopped())break e;E=j,x.currentTarget=ie;try{E(x)}catch(he){om(he)}x.currentTarget=null,E=J}}}}function rt(o,l){var f=l[Du];f===void 0&&(f=l[Du]=new Set);var m=o+"__bubble";f.has(m)||(Rk(l,o,2,!1),f.add(m))}function fb(o,l,f){var m=0;l&&(m|=4),Rk(f,o,m,l)}var $m="_reactListening"+Math.random().toString(36).slice(2);function hb(o){if(!o[$m]){o[$m]=!0,Bd.forEach(function(f){f!=="selectionchange"&&(Xq.has(f)||fb(f,!1,o),fb(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[$m]||(l[$m]=!0,fb("selectionchange",!1,l))}}function Rk(o,l,f,m){switch(oN(l)){case 2:var x=S9;break;case 8:x=A9;break;default:x=Ib}f=x.bind(null,l,f,o),x=void 0,!Cl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),m?x!==void 0?o.addEventListener(l,f,{capture:!0,passive:x}):o.addEventListener(l,f,!0):x!==void 0?o.addEventListener(l,f,{passive:x}):o.addEventListener(l,f,!1)}function pb(o,l,f,m,x){var E=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var j=m.stateNode.containerInfo;if(j===x)break;if(k===4)for(k=m.return;k!==null;){var J=k.tag;if((J===3||J===4)&&k.stateNode.containerInfo===x)return;k=k.return}for(;j!==null;){if(k=_a(j),k===null)return;if(J=k.tag,J===5||J===6||J===26||J===27){m=E=k;continue e}j=j.parentNode}}m=m.return}ss(function(){var ie=E,he=pi(f),be=[];e:{var oe=cC.get(o);if(oe!==void 0){var ue=Aa,Me=o;switch(o){case"keypress":if(kl(f)===0)break e;case"keydown":case"keyup":ue=rm;break;case"focusin":Me="focus",ue=Rl;break;case"focusout":Me="blur",ue=Rl;break;case"beforeblur":case"afterblur":ue=Rl;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=C;break;case oC:case sC:case lC:ue=Jp;break;case uC:ue=G;break;case"scroll":case"scrollend":ue=Zd;break;case"wheel":ue=le;break;case"copy":case"cut":case"paste":ue=Xp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=so;break;case"toggle":case"beforetoggle":ue=Je}var Be=(l&4)!==0,Rt=!Be&&(o==="scroll"||o==="scrollend"),Z=Be?oe!==null?oe+"Capture":null:oe;Be=[];for(var Q=ie,re;Q!==null;){var ye=Q;if(re=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||re===null||Z===null||(ye=Gi(Q,Z),ye!=null&&Be.push(Rf(Q,ye,re))),Rt)break;Q=Q.return}0<Be.length&&(oe=new ue(oe,Me,null,f,he),be.push({event:oe,listeners:Be}))}}if((l&7)===0){e:{if(oe=o==="mouseover"||o==="pointerover",ue=o==="mouseout"||o==="pointerout",oe&&f!==Jd&&(Me=f.relatedTarget||f.fromElement)&&(_a(Me)||Me[ya]))break e;if((ue||oe)&&(oe=he.window===he?he:(oe=he.ownerDocument)?oe.defaultView||oe.parentWindow:window,ue?(Me=f.relatedTarget||f.toElement,ue=ie,Me=Me?_a(Me):null,Me!==null&&(Rt=a(Me),Be=Me.tag,Me!==Rt||Be!==5&&Be!==27&&Be!==6)&&(Me=null)):(ue=null,Me=ie),ue!==Me)){if(Be=ef,ye="onMouseLeave",Z="onMouseEnter",Q="mouse",(o==="pointerout"||o==="pointerover")&&(Be=so,ye="onPointerLeave",Z="onPointerEnter",Q="pointer"),Rt=ue==null?oe:Gr(ue),re=Me==null?oe:Gr(Me),oe=new Be(ye,Q+"leave",ue,f,he),oe.target=Rt,oe.relatedTarget=re,ye=null,_a(he)===ie&&(Be=new Be(Z,Q+"enter",Me,f,he),Be.target=re,Be.relatedTarget=Rt,ye=Be),Rt=ye,ue&&Me)t:{for(Be=Qq,Z=ue,Q=Me,re=0,ye=Z;ye;ye=Be(ye))re++;ye=0;for(var Le=Q;Le;Le=Be(Le))ye++;for(;0<re-ye;)Z=Be(Z),re--;for(;0<ye-re;)Q=Be(Q),ye--;for(;re--;){if(Z===Q||Q!==null&&Z===Q.alternate){Be=Z;break t}Z=Be(Z),Q=Be(Q)}Be=null}else Be=null;ue!==null&&Pk(be,oe,ue,Be,!1),Me!==null&&Rt!==null&&Pk(be,Rt,Me,Be,!0)}}e:{if(oe=ie?Gr(ie):window,ue=oe.nodeName&&oe.nodeName.toLowerCase(),ue==="select"||ue==="input"&&oe.type==="file")var ht=WA;else if(KA(oe))if(JA)ht=uq;else{ht=sq;var De=oq}else ue=oe.nodeName,!ue||ue.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ie&&Vu(ie.elementType)&&(ht=WA):ht=lq;if(ht&&(ht=ht(o,ie))){YA(be,ht,f,he);break e}De&&De(o,oe,ie),o==="focusout"&&ie&&oe.type==="number"&&ie.memoizedProps.value!=null&&Kd(oe,"number",oe.value)}switch(De=ie?Gr(ie):window,o){case"focusin":(KA(De)||De.contentEditable==="true")&&($u=De,q0=ie,of=null);break;case"focusout":of=q0=$u=null;break;case"mousedown":H0=!0;break;case"contextmenu":case"mouseup":case"dragend":H0=!1,iC(be,f,he);break;case"selectionchange":if(dq)break;case"keydown":case"keyup":iC(be,f,he)}var Qe;if(yt)e:{switch(o){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Gu?Pl(o,f)&&(at="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(at="onCompositionStart");at&&(ka&&f.locale!=="ko"&&(Gu||at!=="onCompositionStart"?at==="onCompositionEnd"&&Gu&&(Qe=Qd()):(Sa=he,Xd="value"in Sa?Sa.value:Sa.textContent,Gu=!0)),De=Km(ie,at),0<De.length&&(at=new Ia(at,o,null,f,he),be.push({event:at,listeners:De}),Qe?at.data=Qe:(Qe=Hu(f),Qe!==null&&(at.data=Qe)))),(Qe=gi?nq(o,f):rq(o,f))&&(at=Km(ie,"onBeforeInput"),0<at.length&&(De=new Ia("onBeforeInput","beforeinput",null,f,he),be.push({event:De,listeners:at}),De.data=Qe)),Yq(be,o,ie,f,he)}Nk(be,l)})}function Rf(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Km(o,l){for(var f=l+"Capture",m=[];o!==null;){var x=o,E=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||E===null||(x=Gi(o,f),x!=null&&m.unshift(Rf(o,x,E)),x=Gi(o,l),x!=null&&m.push(Rf(o,x,E))),o.tag===3)return m;o=o.return}return[]}function Qq(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Pk(o,l,f,m,x){for(var E=l._reactName,k=[];f!==null&&f!==m;){var j=f,J=j.alternate,ie=j.stateNode;if(j=j.tag,J!==null&&J===m)break;j!==5&&j!==26&&j!==27||ie===null||(J=ie,x?(ie=Gi(f,E),ie!=null&&k.unshift(Rf(f,ie,J))):x||(ie=Gi(f,E),ie!=null&&k.push(Rf(f,ie,J)))),f=f.return}k.length!==0&&o.push({event:l,listeners:k})}var Zq=/\r\n?/g,e9=/\u0000|\uFFFD/g;function Mk(o){return(typeof o=="string"?o:""+o).replace(Zq,`
`).replace(e9,"")}function Dk(o,l){return l=Mk(l),Mk(o)===l}function Nt(o,l,f,m,x,E){switch(f){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||kr(o,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&kr(o,""+m);break;case"className":$r(o,"class",m);break;case"tabIndex":$r(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":$r(o,f,m);break;case"style":Wd(o,m,E);break;case"data":if(l!=="object"){$r(o,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=Fu(""+m),o.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(f==="formAction"?(l!=="input"&&Nt(o,l,"name",x.name,x,null),Nt(o,l,"formEncType",x.formEncType,x,null),Nt(o,l,"formMethod",x.formMethod,x,null),Nt(o,l,"formTarget",x.formTarget,x,null)):(Nt(o,l,"encType",x.encType,x,null),Nt(o,l,"method",x.method,x,null),Nt(o,l,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=Fu(""+m),o.setAttribute(f,m);break;case"onClick":m!=null&&(o.onclick=Hi);break;case"onScroll":m!=null&&rt("scroll",o);break;case"onScrollEnd":m!=null&&rt("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}f=Fu(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""+m):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":m===!0?o.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,m):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(f,m):o.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(f):o.setAttribute(f,m);break;case"popover":rt("beforetoggle",o),rt("toggle",o),Lu(o,"popover",m);break;case"xlinkActuate":bn(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":bn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":bn(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":bn(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":bn(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":bn(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":bn(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":bn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":bn(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Lu(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Kp.get(f)||f,Lu(o,f,m))}}function mb(o,l,f,m,x,E){switch(f){case"style":Wd(o,m,E);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof m=="string"?kr(o,m):(typeof m=="number"||typeof m=="bigint")&&kr(o,""+m);break;case"onScroll":m!=null&&rt("scroll",o);break;case"onScrollEnd":m!=null&&rt("scrollend",o);break;case"onClick":m!=null&&(o.onclick=Hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jd.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(x=f.endsWith("Capture"),l=f.slice(2,x?f.length-7:void 0),E=o[Fn]||null,E=E!=null?E[f]:null,typeof E=="function"&&o.removeEventListener(l,E,x),typeof m=="function")){typeof E!="function"&&E!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,m,x);break e}f in o?o[f]=m:m===!0?o.setAttribute(f,""):Lu(o,f,m)}}}function er(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",o),rt("load",o);var m=!1,x=!1,E;for(E in f)if(f.hasOwnProperty(E)){var k=f[E];if(k!=null)switch(E){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Nt(o,l,E,k,f,null)}}x&&Nt(o,l,"srcSet",f.srcSet,f,null),m&&Nt(o,l,"src",f.src,f,null);return;case"input":rt("invalid",o);var j=E=k=x=null,J=null,ie=null;for(m in f)if(f.hasOwnProperty(m)){var he=f[m];if(he!=null)switch(m){case"name":x=he;break;case"type":k=he;break;case"checked":J=he;break;case"defaultChecked":ie=he;break;case"value":E=he;break;case"defaultValue":j=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,l));break;default:Nt(o,l,m,he,f,null)}}Hp(o,E,j,J,ie,k,x,!1);return;case"select":rt("invalid",o),m=k=E=null;for(x in f)if(f.hasOwnProperty(x)&&(j=f[x],j!=null))switch(x){case"value":E=j;break;case"defaultValue":k=j;break;case"multiple":m=j;default:Nt(o,l,x,j,f,null)}l=E,f=k,o.multiple=!!m,l!=null?rs(o,!!m,l,!1):f!=null&&rs(o,!!m,f,!0);return;case"textarea":rt("invalid",o),E=x=m=null;for(k in f)if(f.hasOwnProperty(k)&&(j=f[k],j!=null))switch(k){case"value":m=j;break;case"defaultValue":x=j;break;case"children":E=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:Nt(o,l,k,j,f,null)}is(o,m,x,E);return;case"option":for(J in f)if(f.hasOwnProperty(J)&&(m=f[J],m!=null))switch(J){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Nt(o,l,J,m,f,null)}return;case"dialog":rt("beforetoggle",o),rt("toggle",o),rt("cancel",o),rt("close",o);break;case"iframe":case"object":rt("load",o);break;case"video":case"audio":for(m=0;m<Nf.length;m++)rt(Nf[m],o);break;case"image":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"embed":case"source":case"link":rt("error",o),rt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in f)if(f.hasOwnProperty(ie)&&(m=f[ie],m!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Nt(o,l,ie,m,f,null)}return;default:if(Vu(l)){for(he in f)f.hasOwnProperty(he)&&(m=f[he],m!==void 0&&mb(o,l,he,m,f,void 0));return}}for(j in f)f.hasOwnProperty(j)&&(m=f[j],m!=null&&Nt(o,l,j,m,f,null))}function t9(o,l,f,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,E=null,k=null,j=null,J=null,ie=null,he=null;for(ue in f){var be=f[ue];if(f.hasOwnProperty(ue)&&be!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":J=be;default:m.hasOwnProperty(ue)||Nt(o,l,ue,null,m,be)}}for(var oe in m){var ue=m[oe];if(be=f[oe],m.hasOwnProperty(oe)&&(ue!=null||be!=null))switch(oe){case"type":E=ue;break;case"name":x=ue;break;case"checked":ie=ue;break;case"defaultChecked":he=ue;break;case"value":k=ue;break;case"defaultValue":j=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,l));break;default:ue!==be&&Nt(o,l,oe,ue,m,be)}}Uu(o,k,j,J,ie,he,E,x);return;case"select":ue=k=j=oe=null;for(E in f)if(J=f[E],f.hasOwnProperty(E)&&J!=null)switch(E){case"value":break;case"multiple":ue=J;default:m.hasOwnProperty(E)||Nt(o,l,E,null,m,J)}for(x in m)if(E=m[x],J=f[x],m.hasOwnProperty(x)&&(E!=null||J!=null))switch(x){case"value":oe=E;break;case"defaultValue":j=E;break;case"multiple":k=E;default:E!==J&&Nt(o,l,x,E,m,J)}l=j,f=k,m=ue,oe!=null?rs(o,!!f,oe,!1):!!m!=!!f&&(l!=null?rs(o,!!f,l,!0):rs(o,!!f,f?[]:"",!1));return;case"textarea":ue=oe=null;for(j in f)if(x=f[j],f.hasOwnProperty(j)&&x!=null&&!m.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Nt(o,l,j,null,m,x)}for(k in m)if(x=m[k],E=f[k],m.hasOwnProperty(k)&&(x!=null||E!=null))switch(k){case"value":oe=x;break;case"defaultValue":ue=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==E&&Nt(o,l,k,x,m,E)}Gp(o,oe,ue);return;case"option":for(var Me in f)if(oe=f[Me],f.hasOwnProperty(Me)&&oe!=null&&!m.hasOwnProperty(Me))switch(Me){case"selected":o.selected=!1;break;default:Nt(o,l,Me,null,m,oe)}for(J in m)if(oe=m[J],ue=f[J],m.hasOwnProperty(J)&&oe!==ue&&(oe!=null||ue!=null))switch(J){case"selected":o.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Nt(o,l,J,oe,m,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in f)oe=f[Be],f.hasOwnProperty(Be)&&oe!=null&&!m.hasOwnProperty(Be)&&Nt(o,l,Be,null,m,oe);for(ie in m)if(oe=m[ie],ue=f[ie],m.hasOwnProperty(ie)&&oe!==ue&&(oe!=null||ue!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,l));break;default:Nt(o,l,ie,oe,m,ue)}return;default:if(Vu(l)){for(var Rt in f)oe=f[Rt],f.hasOwnProperty(Rt)&&oe!==void 0&&!m.hasOwnProperty(Rt)&&mb(o,l,Rt,void 0,m,oe);for(he in m)oe=m[he],ue=f[he],!m.hasOwnProperty(he)||oe===ue||oe===void 0&&ue===void 0||mb(o,l,he,oe,m,ue);return}}for(var Z in f)oe=f[Z],f.hasOwnProperty(Z)&&oe!=null&&!m.hasOwnProperty(Z)&&Nt(o,l,Z,null,m,oe);for(be in m)oe=m[be],ue=f[be],!m.hasOwnProperty(be)||oe===ue||oe==null&&ue==null||Nt(o,l,be,oe,m,ue)}function Ok(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function n9(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,f=performance.getEntriesByType("resource"),m=0;m<f.length;m++){var x=f[m],E=x.transferSize,k=x.initiatorType,j=x.duration;if(E&&j&&Ok(k)){for(k=0,j=x.responseEnd,m+=1;m<f.length;m++){var J=f[m],ie=J.startTime;if(ie>j)break;var he=J.transferSize,be=J.initiatorType;he&&Ok(be)&&(J=J.responseEnd,k+=he*(J<j?1:(j-ie)/(J-ie)))}if(--m,l+=8*(E+k)/(x.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var gb=null,yb=null;function Ym(o){return o.nodeType===9?o:o.ownerDocument}function Lk(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uk(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function vb(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var _b=null;function r9(){var o=window.event;return o&&o.type==="popstate"?o===_b?!1:(_b=o,!0):(_b=null,!1)}var Vk=typeof setTimeout=="function"?setTimeout:void 0,i9=typeof clearTimeout=="function"?clearTimeout:void 0,Fk=typeof Promise=="function"?Promise:void 0,a9=typeof queueMicrotask=="function"?queueMicrotask:typeof Fk<"u"?function(o){return Fk.resolve(null).then(o).catch(o9)}:Vk;function o9(o){setTimeout(function(){throw o})}function Cs(o){return o==="head"}function zk(o,l){var f=l,m=0;do{var x=f.nextSibling;if(o.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"||f==="/&"){if(m===0){o.removeChild(x),_c(l);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")m++;else if(f==="html")Pf(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,Pf(f);for(var E=f.firstChild;E;){var k=E.nextSibling,j=E.nodeName;E[va]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&E.rel.toLowerCase()==="stylesheet"||f.removeChild(E),E=k}}else f==="body"&&Pf(o.ownerDocument.body);f=x}while(f);_c(l)}function Bk(o,l){var f=o;o=0;do{var m=f.nextSibling;if(f.nodeType===1?l?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(l?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=m}while(f)}function bb(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":bb(f),Ou(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function s9(o,l,f,m){for(;o.nodeType===1;){var x=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[va])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(E=o.getAttribute("rel"),E==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(E!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(E=o.getAttribute("src"),(E!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&E&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var E=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===E)return o}else return o;if(o=wi(o.nextSibling),o===null)break}return null}function l9(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=wi(o.nextSibling),o===null))return null;return o}function jk(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=wi(o.nextSibling),o===null))return null;return o}function xb(o){return o.data==="$?"||o.data==="$~"}function Eb(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function u9(o,l){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||f.readyState!=="loading")l();else{var m=function(){l(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function wi(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var wb=null;function qk(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(l===0)return wi(o.nextSibling);l--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||l++}o=o.nextSibling}return null}function Hk(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(l===0)return o;l--}else f!=="/$"&&f!=="/&"||l++}o=o.previousSibling}return null}function Gk(o,l,f){switch(l=Ym(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Pf(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Ou(o)}var Ti=new Map,$k=new Set;function Wm(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var wo=K.d;K.d={f:c9,r:d9,D:f9,C:h9,L:p9,m:m9,X:y9,S:g9,M:v9};function c9(){var o=wo.f(),l=zm();return o||l}function d9(o){var l=hi(o);l!==null&&l.tag===5&&l.type==="form"?uI(l):wo.r(o)}var gc=typeof document>"u"?null:document;function Kk(o,l,f){var m=gc;if(m&&typeof l=="string"&&l){var x=Ir(l);x='link[rel="'+o+'"][href="'+x+'"]',typeof f=="string"&&(x+='[crossorigin="'+f+'"]'),$k.has(x)||($k.add(x),o={rel:o,crossOrigin:f,href:l},m.querySelector(x)===null&&(l=m.createElement("link"),er(l,"link",o),_n(l),m.head.appendChild(l)))}}function f9(o){wo.D(o),Kk("dns-prefetch",o,null)}function h9(o,l){wo.C(o,l),Kk("preconnect",o,l)}function p9(o,l,f){wo.L(o,l,f);var m=gc;if(m&&o&&l){var x='link[rel="preload"][as="'+Ir(l)+'"]';l==="image"&&f&&f.imageSrcSet?(x+='[imagesrcset="'+Ir(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(x+='[imagesizes="'+Ir(f.imageSizes)+'"]')):x+='[href="'+Ir(o)+'"]';var E=x;switch(l){case"style":E=yc(o);break;case"script":E=vc(o)}Ti.has(E)||(o=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),Ti.set(E,o),m.querySelector(x)!==null||l==="style"&&m.querySelector(Mf(E))||l==="script"&&m.querySelector(Df(E))||(l=m.createElement("link"),er(l,"link",o),_n(l),m.head.appendChild(l)))}}function m9(o,l){wo.m(o,l);var f=gc;if(f&&o){var m=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+Ir(m)+'"][href="'+Ir(o)+'"]',E=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=vc(o)}if(!Ti.has(E)&&(o=p({rel:"modulepreload",href:o},l),Ti.set(E,o),f.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Df(E)))return}m=f.createElement("link"),er(m,"link",o),_n(m),f.head.appendChild(m)}}}function g9(o,l,f){wo.S(o,l,f);var m=gc;if(m&&o){var x=ba(m).hoistableStyles,E=yc(o);l=l||"default";var k=x.get(E);if(!k){var j={loading:0,preload:null};if(k=m.querySelector(Mf(E)))j.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},f),(f=Ti.get(E))&&Tb(o,f);var J=k=m.createElement("link");_n(J),er(J,"link",o),J._p=new Promise(function(ie,he){J.onload=ie,J.onerror=he}),J.addEventListener("load",function(){j.loading|=1}),J.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Jm(k,l,m)}k={type:"stylesheet",instance:k,count:1,state:j},x.set(E,k)}}}function y9(o,l){wo.X(o,l);var f=gc;if(f&&o){var m=ba(f).hoistableScripts,x=vc(o),E=m.get(x);E||(E=f.querySelector(Df(x)),E||(o=p({src:o,async:!0},l),(l=Ti.get(x))&&Sb(o,l),E=f.createElement("script"),_n(E),er(E,"link",o),f.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(x,E))}}function v9(o,l){wo.M(o,l);var f=gc;if(f&&o){var m=ba(f).hoistableScripts,x=vc(o),E=m.get(x);E||(E=f.querySelector(Df(x)),E||(o=p({src:o,async:!0,type:"module"},l),(l=Ti.get(x))&&Sb(o,l),E=f.createElement("script"),_n(E),er(E,"link",o),f.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(x,E))}}function Yk(o,l,f,m){var x=(x=_e.current)?Wm(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=yc(f.href),f=ba(x).hoistableStyles,m=f.get(l),m||(m={type:"style",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=yc(f.href);var E=ba(x).hoistableStyles,k=E.get(o);if(k||(x=x.ownerDocument||x,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(o,k),(E=x.querySelector(Mf(o)))&&!E._p&&(k.instance=E,k.state.loading=5),Ti.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ti.set(o,f),E||_9(x,o,f,k.state))),l&&m===null)throw Error(r(528,""));return k}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=vc(f),f=ba(x).hoistableScripts,m=f.get(l),m||(m={type:"script",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function yc(o){return'href="'+Ir(o)+'"'}function Mf(o){return'link[rel="stylesheet"]['+o+"]"}function Wk(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function _9(o,l,f,m){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=o.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),er(l,"link",f),_n(l),o.head.appendChild(l))}function vc(o){return'[src="'+Ir(o)+'"]'}function Df(o){return"script[async]"+o}function Jk(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var m=o.querySelector('style[data-href~="'+Ir(f.href)+'"]');if(m)return l.instance=m,_n(m),m;var x=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),_n(m),er(m,"style",x),Jm(m,f.precedence,o),l.instance=m;case"stylesheet":x=yc(f.href);var E=o.querySelector(Mf(x));if(E)return l.state.loading|=4,l.instance=E,_n(E),E;m=Wk(f),(x=Ti.get(x))&&Tb(m,x),E=(o.ownerDocument||o).createElement("link"),_n(E);var k=E;return k._p=new Promise(function(j,J){k.onload=j,k.onerror=J}),er(E,"link",m),l.state.loading|=4,Jm(E,f.precedence,o),l.instance=E;case"script":return E=vc(f.src),(x=o.querySelector(Df(E)))?(l.instance=x,_n(x),x):(m=f,(x=Ti.get(E))&&(m=p({},f),Sb(m,x)),o=o.ownerDocument||o,x=o.createElement("script"),_n(x),er(x,"link",m),o.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Jm(m,f.precedence,o));return l.instance}function Jm(o,l,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,E=x,k=0;k<m.length;k++){var j=m[k];if(j.dataset.precedence===l)E=j;else if(E!==x)break}E?E.parentNode.insertBefore(o,E.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function Tb(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Sb(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Xm=null;function Xk(o,l,f){if(Xm===null){var m=new Map,x=Xm=new Map;x.set(f,m)}else x=Xm,m=x.get(f),m||(m=new Map,x.set(f,m));if(m.has(o))return m;for(m.set(o,null),f=f.getElementsByTagName(o),x=0;x<f.length;x++){var E=f[x];if(!(E[va]||E[vn]||o==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var k=E.getAttribute(l)||"";k=o+k;var j=m.get(k);j?j.push(E):m.set(k,[E])}}return m}function Qk(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function b9(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Zk(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function x9(o,l,f,m){if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var x=yc(m.href),E=l.querySelector(Mf(x));if(E){l=E._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=Qm.bind(o),l.then(o,o)),f.state.loading|=4,f.instance=E,_n(E);return}E=l.ownerDocument||l,m=Wk(m),(x=Ti.get(x))&&Tb(m,x),E=E.createElement("link"),_n(E);var k=E;k._p=new Promise(function(j,J){k.onload=j,k.onerror=J}),er(E,"link",m),f.instance=E}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,l),(l=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=Qm.bind(o),l.addEventListener("load",f),l.addEventListener("error",f))}}var Ab=0;function E9(o,l){return o.stylesheets&&o.count===0&&eg(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var m=setTimeout(function(){if(o.stylesheets&&eg(o,o.stylesheets),o.unsuspend){var E=o.unsuspend;o.unsuspend=null,E()}},6e4+l);0<o.imgBytes&&Ab===0&&(Ab=62500*n9());var x=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&eg(o,o.stylesheets),o.unsuspend)){var E=o.unsuspend;o.unsuspend=null,E()}},(o.imgBytes>Ab?50:800)+l);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(x)}}:null}function Qm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Zm=null;function eg(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Zm=new Map,l.forEach(w9,o),Zm=null,Qm.call(o))}function w9(o,l){if(!(l.state.loading&4)){var f=Zm.get(o);if(f)var m=f.get(null);else{f=new Map,Zm.set(o,f);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<x.length;E++){var k=x[E];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(f.set(k.dataset.precedence,k),m=k)}m&&f.set(null,m)}x=l.instance,k=x.getAttribute("data-precedence"),E=f.get(k)||m,E===m&&f.set(null,x),f.set(k,x),this.count++,m=Qm.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),E?E.parentNode.insertBefore(x,E.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),l.state.loading|=4}}var Of={$$typeof:N,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function T9(o,l,f,m,x,E,k,j,J){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.hiddenUpdates=ga(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=E,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function eN(o,l,f,m,x,E,k,j,J,ie,he,be){return o=new T9(o,l,f,k,J,ie,he,be,j),l=1,E===!0&&(l|=24),E=Yr(3,null,null,l),o.current=E,E.stateNode=o,l=a_(),l.refCount++,o.pooledCache=l,l.refCount++,E.memoizedState={element:m,isDehydrated:f,cache:l},u_(E),o}function tN(o){return o?(o=Wu,o):Wu}function nN(o,l,f,m,x,E){x=tN(x),m.context===null?m.context=x:m.pendingContext=x,m=gs(l),m.payload={element:f},E=E===void 0?null:E,E!==null&&(m.callback=E),f=ys(o,m,l),f!==null&&(Dr(f,o,l),hf(f,o,l))}function rN(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function Cb(o,l){rN(o,l),(o=o.alternate)&&rN(o,l)}function iN(o){if(o.tag===13||o.tag===31){var l=Ol(o,67108864);l!==null&&Dr(l,o,67108864),Cb(o,67108864)}}function aN(o){if(o.tag===13||o.tag===31){var l=Zr();l=wl(l);var f=Ol(o,l);f!==null&&Dr(f,o,l),Cb(o,l)}}var tg=!0;function S9(o,l,f,m){var x=X.T;X.T=null;var E=K.p;try{K.p=2,Ib(o,l,f,m)}finally{K.p=E,X.T=x}}function A9(o,l,f,m){var x=X.T;X.T=null;var E=K.p;try{K.p=8,Ib(o,l,f,m)}finally{K.p=E,X.T=x}}function Ib(o,l,f,m){if(tg){var x=kb(m);if(x===null)pb(o,l,m,ng,f),sN(o,m);else if(I9(x,o,l,f,m))m.stopPropagation();else if(sN(o,m),l&4&&-1<C9.indexOf(o)){for(;x!==null;){var E=hi(x);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var k=pa(E.pendingLanes);if(k!==0){var j=E;for(j.pendingLanes|=2,j.entangledLanes|=2;k;){var J=1<<31-ut(k);j.entanglements[1]|=J,k&=~J}Ma(E),(vt&6)===0&&(Vm=Wn()+500,kf(0))}}break;case 31:case 13:j=Ol(E,2),j!==null&&Dr(j,E,2),zm(),Cb(E,2)}if(E=kb(m),E===null&&pb(o,l,m,ng,f),E===x)break;x=E}x!==null&&m.stopPropagation()}else pb(o,l,m,null,f)}}function kb(o){return o=pi(o),Nb(o)}var ng=null;function Nb(o){if(ng=null,o=_a(o),o!==null){var l=a(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=s(l),o!==null)return o;o=null}else if(f===31){if(o=u(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return ng=o,null}function oN(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ro()){case pe:return 2;case Te:return 8;case ze:case tt:return 32;case ft:return 268435456;default:return 32}default:return 32}}var Rb=!1,Is=null,ks=null,Ns=null,Lf=new Map,Uf=new Map,Rs=[],C9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sN(o,l){switch(o){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Lf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uf.delete(l.pointerId)}}function Vf(o,l,f,m,x,E){return o===null||o.nativeEvent!==E?(o={blockedOn:l,domEventName:f,eventSystemFlags:m,nativeEvent:E,targetContainers:[x]},l!==null&&(l=hi(l),l!==null&&iN(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function I9(o,l,f,m,x){switch(l){case"focusin":return Is=Vf(Is,o,l,f,m,x),!0;case"dragenter":return ks=Vf(ks,o,l,f,m,x),!0;case"mouseover":return Ns=Vf(Ns,o,l,f,m,x),!0;case"pointerover":var E=x.pointerId;return Lf.set(E,Vf(Lf.get(E)||null,o,l,f,m,x)),!0;case"gotpointercapture":return E=x.pointerId,Uf.set(E,Vf(Uf.get(E)||null,o,l,f,m,x)),!0}return!1}function lN(o){var l=_a(o.target);if(l!==null){var f=a(l);if(f!==null){if(l=f.tag,l===13){if(l=s(f),l!==null){o.blockedOn=l,ji(o.priority,function(){aN(f)});return}}else if(l===31){if(l=u(f),l!==null){o.blockedOn=l,ji(o.priority,function(){aN(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function rg(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=kb(o.nativeEvent);if(f===null){f=o.nativeEvent;var m=new f.constructor(f.type,f);Jd=m,f.target.dispatchEvent(m),Jd=null}else return l=hi(f),l!==null&&iN(l),o.blockedOn=f,!1;l.shift()}return!0}function uN(o,l,f){rg(o)&&f.delete(l)}function k9(){Rb=!1,Is!==null&&rg(Is)&&(Is=null),ks!==null&&rg(ks)&&(ks=null),Ns!==null&&rg(Ns)&&(Ns=null),Lf.forEach(uN),Uf.forEach(uN)}function ig(o,l){o.blockedOn===l&&(o.blockedOn=null,Rb||(Rb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,k9)))}var ag=null;function cN(o){ag!==o&&(ag=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ag===o&&(ag=null);for(var l=0;l<o.length;l+=3){var f=o[l],m=o[l+1],x=o[l+2];if(typeof m!="function"){if(Nb(m||f)===null)continue;break}var E=hi(f);E!==null&&(o.splice(l,3),l-=3,k_(E,{pending:!0,data:x,method:f.method,action:m},m,x))}}))}function _c(o){function l(J){return ig(J,o)}Is!==null&&ig(Is,o),ks!==null&&ig(ks,o),Ns!==null&&ig(Ns,o),Lf.forEach(l),Uf.forEach(l);for(var f=0;f<Rs.length;f++){var m=Rs[f];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Rs.length&&(f=Rs[0],f.blockedOn===null);)lN(f),f.blockedOn===null&&Rs.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var x=f[m],E=f[m+1],k=x[Fn]||null;if(typeof E=="function")k||cN(f);else if(k){var j=null;if(E&&E.hasAttribute("formAction")){if(x=E,k=E[Fn]||null)j=k.formAction;else if(Nb(x)!==null)continue}else j=k.action;typeof j=="function"?f[m+1]=j:(f.splice(m,3),m-=3),cN(f)}}}function dN(){function o(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(k){return x=k})},focusReset:"manual",scroll:"manual"})}function l(){x!==null&&(x(),x=null),m||setTimeout(f,20)}function f(){if(!m&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,x=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),x!==null&&(x(),x=null)}}}function Pb(o){this._internalRoot=o}og.prototype.render=Pb.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,m=Zr();nN(f,m,o,l,null,null)},og.prototype.unmount=Pb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;nN(o.current,2,null,o,null,null),zm(),l[ya]=null}};function og(o){this._internalRoot=o}og.prototype.unstable_scheduleHydration=function(o){if(o){var l=zp();o={blockedOn:null,target:o,priority:l};for(var f=0;f<Rs.length&&l!==0&&l<Rs[f].priority;f++);Rs.splice(f,0,o),f===0&&lN(o)}};var fN=e.version;if(fN!=="19.2.1")throw Error(r(527,fN,"19.2.1"));K.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var N9={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sg.isDisabled&&sg.supportsFiber)try{ln=sg.inject(N9),Zt=sg}catch{}}return zf.createRoot=function(o,l){if(!i(o))throw Error(r(299));var f=!1,m="",x=_I,E=bI,k=xI;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError)),l=eN(o,1,!1,null,null,f,m,null,x,E,k,dN),o[ya]=l.current,hb(o),new Pb(l)},zf.hydrateRoot=function(o,l,f){if(!i(o))throw Error(r(299));var m=!1,x="",E=_I,k=bI,j=xI,J=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onUncaughtError!==void 0&&(E=f.onUncaughtError),f.onCaughtError!==void 0&&(k=f.onCaughtError),f.onRecoverableError!==void 0&&(j=f.onRecoverableError),f.formState!==void 0&&(J=f.formState)),l=eN(o,1,!0,l,f??null,m,x,J,E,k,j,dN),l.context=tN(null),f=l.current,m=Zr(),m=wl(m),x=gs(m),x.callback=null,ys(f,x,m),f=m,l.current.lanes=f,xl(l,f),Ma(l),o[ya]=l.current,hb(o),new og(l)},zf.version="19.2.1",zf}var EN;function q9(){if(EN)return Lb.exports;EN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lb.exports=j9(),Lb.exports}var H9=q9();const G9=Ui(H9),nu={renovation:["Fas 1: Akut","Fas 2: Mekanisk Skerhet","Fas 3: Kaross & Rost","Fas 4: Inredning & Finish"],build:["Fas 1: Planering & Inkp","Fas 2: Isolering & Grund","Fas 3: El & Vatten","Fas 4: Snickerier & Inredning","Fas 5: Finish & Piff"],maintenance:["Vrkoll","Ssong","Hst/Vinterfrvaring","Lpande"]};var bt=(t=>(t.IDEA="Id",t.TODO="Att gra",t.IN_PROGRESS="Pgende",t.DONE="Klart",t))(bt||{}),Ba=(t=>(t.HIGH="Hg",t.MEDIUM="Medel",t.LOW="Lg",t))(Ba||{}),ru=(t=>(t.INVESTMENT="Investering",t.OPERATION="Drift",t))(ru||{});function V4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=V4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ot(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=V4(t))&&(r&&(r+=" "),r+=e);return r}var $9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function HT(t){if(typeof t!="string")return!1;var e=$9;return e.includes(t)}var K9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Y9=new Set(K9);function F4(t){return typeof t!="string"?!1:Y9.has(t)}function z4(t){return typeof t=="string"&&t.startsWith("data-")}function Xs(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(F4(n)||z4(n))&&(e[n]=t[n]);return e}function GT(t){if(t==null)return null;if(R.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Xs(e)}return typeof t=="object"&&!Array.isArray(t)?Xs(t):null}function Mi(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(F4(n)||z4(n)||HT(n))&&(e[n]=t[n]);return e}var W9=["children","width","height","viewBox","className","style","title","desc"];function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JE.apply(null,arguments)}function J9(t,e){if(t==null)return{};var n,r,i=X9(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function X9(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var B4=R.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:u,title:c,desc:d}=t,h=J9(t,W9),p=a||{width:r,height:i,x:0,y:0},g=Ot("recharts-surface",s);return R.createElement("svg",JE({},Mi(h),{className:g,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),R.createElement("title",null,c),R.createElement("desc",null,d),n)}),Q9=["children","className"];function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(null,arguments)}function Z9(t,e){if(t==null)return{};var n,r,i=e8(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function e8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mo=R.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Z9(t,Q9),a=Ot("recharts-layer",r);return R.createElement("g",XE({className:a},Mi(i),{ref:e}),n)}),j4=U4(),t8=R.createContext(null);function Ut(t){return function(){return t}}const q4=Math.cos,ty=Math.sin,la=Math.sqrt,ny=Math.PI,_v=2*ny,QE=Math.PI,ZE=2*QE,Yl=1e-6,n8=ZE-Yl;function H4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function r8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return H4;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class i8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?H4:r8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=r-e,d=i-n,h=s-e,p=u-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Yl)if(!(Math.abs(p*c-d*h)>Yl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-s,T=i-u,S=c*c+d*d,A=v*v+T*T,I=Math.sqrt(S),V=Math.sqrt(g),N=a*Math.tan((QE-Math.acos((S+g-A)/(2*I*V)))/2),B=N/V,q=N/I;Math.abs(B-1)>Yl&&this._append`L${e+B*h},${n+B*p}`,this._append`A${a},${a},0,0,${+(p*v>h*T)},${this._x1=e+q*c},${this._y1=n+q*d}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),d=e+u,h=n+c,p=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Yl||Math.abs(this._y1-h)>Yl)&&this._append`L${d},${h}`,r&&(g<0&&(g=g%ZE+ZE),g>n8?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=d},${this._y1=h}`:g>Yl&&this._append`A${r},${r},0,${+(g>=QE)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function $T(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new i8(e)}function KT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function G4(t){this._context=t}G4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function bv(t){return new G4(t)}function $4(t){return t[0]}function K4(t){return t[1]}function Y4(t,e){var n=Ut(!0),r=null,i=bv,a=null,s=$T(u);t=typeof t=="function"?t:t===void 0?$4:Ut(t),e=typeof e=="function"?e:e===void 0?K4:Ut(e);function u(c){var d,h=(c=KT(c)).length,p,g=!1,v;for(r==null&&(a=i(v=s())),d=0;d<=h;++d)!(d<h&&n(p=c[d],d,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(p,d,c),+e(p,d,c));if(v)return a=null,v+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ut(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ut(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ut(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function lg(t,e,n){var r=null,i=Ut(!0),a=null,s=bv,u=null,c=$T(d);t=typeof t=="function"?t:t===void 0?$4:Ut(+t),e=typeof e=="function"?e:Ut(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?K4:Ut(+n);function d(p){var g,v,T,S=(p=KT(p)).length,A,I=!1,V,N=new Array(S),B=new Array(S);for(a==null&&(u=s(V=c())),g=0;g<=S;++g){if(!(g<S&&i(A=p[g],g,p))===I)if(I=!I)v=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),T=g-1;T>=v;--T)u.point(N[T],B[T]);u.lineEnd(),u.areaEnd()}I&&(N[g]=+t(A,g,p),B[g]=+e(A,g,p),u.point(r?+r(A,g,p):N[g],n?+n(A,g,p):B[g]))}if(V)return u=null,V+""||null}function h(){return Y4().defined(i).curve(s).context(a)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:Ut(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Ut(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ut(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:Ut(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Ut(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ut(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ut(!!p),d):i},d.curve=function(p){return arguments.length?(s=p,a!=null&&(u=s(a)),d):s},d.context=function(p){return arguments.length?(p==null?a=u=null:u=s(a=p),d):a},d}class W4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function a8(t){return new W4(t,!0)}function o8(t){return new W4(t,!1)}const YT={draw(t,e){const n=la(e/ny);t.moveTo(n,0),t.arc(0,0,n,0,_v)}},s8={draw(t,e){const n=la(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},J4=la(1/3),l8=J4*2,u8={draw(t,e){const n=la(e/l8),r=n*J4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},c8={draw(t,e){const n=la(e),r=-n/2;t.rect(r,r,n,n)}},d8=.8908130915292852,X4=ty(ny/10)/ty(7*ny/10),f8=ty(_v/10)*X4,h8=-q4(_v/10)*X4,p8={draw(t,e){const n=la(e*d8),r=f8*n,i=h8*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=_v*a/5,u=q4(s),c=ty(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},zb=la(3),m8={draw(t,e){const n=-la(e/(zb*3));t.moveTo(0,n*2),t.lineTo(-zb*n,-n),t.lineTo(zb*n,-n),t.closePath()}},Si=-.5,Ai=la(3)/2,ew=1/la(12),g8=(ew/2+1)*3,y8={draw(t,e){const n=la(e/g8),r=n/2,i=n*ew,a=r,s=n*ew+n,u=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(Si*r-Ai*i,Ai*r+Si*i),t.lineTo(Si*a-Ai*s,Ai*a+Si*s),t.lineTo(Si*u-Ai*c,Ai*u+Si*c),t.lineTo(Si*r+Ai*i,Si*i-Ai*r),t.lineTo(Si*a+Ai*s,Si*s-Ai*a),t.lineTo(Si*u+Ai*c,Si*c-Ai*u),t.closePath()}};function v8(t,e){let n=null,r=$T(i);t=typeof t=="function"?t:Ut(t||YT),e=typeof e=="function"?e:Ut(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ut(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ut(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function ry(){}function iy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Q4(t){this._context=t}Q4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _8(t){return new Q4(t)}function Z4(t){this._context=t}Z4.prototype={areaStart:ry,areaEnd:ry,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:iy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function b8(t){return new Z4(t)}function eU(t){this._context=t}eU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:iy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function x8(t){return new eU(t)}function tU(t){this._context=t}tU.prototype={areaStart:ry,areaEnd:ry,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function E8(t){return new tU(t)}function wN(t){return t<0?-1:1}function TN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(a*i+s*r)/(r+i);return(wN(a)+wN(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function SN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Bb(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,s-u*n,a,s)}function ay(t){this._context=t}ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bb(this,this._t0,SN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Bb(this,SN(this,n=TN(this,t,e)),n);break;default:Bb(this,this._t0,n=TN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function nU(t){this._context=new rU(t)}(nU.prototype=Object.create(ay.prototype)).point=function(t,e){ay.prototype.point.call(this,e,t)};function rU(t){this._context=t}rU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function w8(t){return new ay(t)}function T8(t){return new nU(t)}function iU(t){this._context=t}iU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=AN(t),i=AN(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function AN(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function S8(t){return new iU(t)}function xv(t,e){this._context=t,this._t=e}xv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function A8(t){return new xv(t,.5)}function C8(t){return new xv(t,0)}function I8(t){return new xv(t,1)}function Zc(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,u=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function tw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function k8(t,e){return t[e]}function N8(t){const e=[];return e.key=t,e}function R8(){var t=Ut([]),e=tw,n=Zc,r=k8;function i(a){var s=Array.from(t.apply(this,arguments),N8),u,c=s.length,d=-1,h;for(const p of a)for(u=0,++d;u<c;++u)(s[u][d]=[0,+r(p,s[u].key,d,a)]).data=p;for(u=0,h=KT(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ut(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ut(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?tw:typeof a=="function"?a:Ut(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Zc,i):n},i}function P8(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Zc(t,e)}}function M8(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}Zc(t,e)}}function D8(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var u=0,c=0,d=0;u<s;++u){for(var h=t[e[u]],p=h[r][1]||0,g=h[r-1][1]||0,v=(p-g)/2,T=0;T<u;++T){var S=t[e[T]],A=S[r][1]||0,I=S[r-1][1]||0;v+=A-I}c+=p,d+=v*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Zc(t,e)}}var jb={},qb={},CN;function O8(){return CN||(CN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(qb)),qb}var Hb={},IN;function aU(){return IN||(IN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Hb)),Hb}var Gb={},kN;function WT(){return kN||(kN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(Gb)),Gb}var $b={},Kb={},NN;function L8(){return NN||(NN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Kb)),Kb}var RN;function JT(){return RN||(RN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L8(),n=WT();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let u=0,c="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<s;){const p=i[u];d?p==="\\"&&u+1<s?(u++,c+=i[u]):p===d?d="":c+=p:h?p==='"'||p==="'"?d=p:p==="]"?(h=!1,a.push(c),c=""):c+=p:p==="["?(h=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,u++}return c&&a.push(c),a}t.toPath=r})($b)),$b}var PN;function XT(){return PN||(PN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O8(),n=aU(),r=WT(),i=JT();function a(u,c,d){if(u==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?n.isDeepKey(c)?a(u,i.toPath(c),d):d:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?d:h}default:{if(Array.isArray(c))return s(u,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?d:h}}}function s(u,c,d){if(c.length===0)return d;let h=u;for(let p=0;p<c.length;p++){if(h==null||e.isUnsafeProperty(c[p]))return d;h=h[c[p]]}return h===void 0?d:h}t.get=a})(jb)),jb}var Yb,MN;function U8(){return MN||(MN=1,Yb=XT().get),Yb}var V8=U8();const ed=Ui(V8);var ri=t=>t===0?0:t>0?1:-1,Xa=t=>typeof t=="number"&&t!=+t,Do=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,je=t=>(typeof t=="number"||t instanceof Number)&&!Xa(t),Qa=t=>je(t)||typeof t=="string",F8=0,wh=t=>{var e=++F8;return"".concat(t||"").concat(e)},ia=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&typeof e!="string")return r;var a;if(Do(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Xa(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},oU=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function rr(t,e,n){return je(t)&&je(e)?t+n*(e-t):e}function z8(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):ed(r,e))===n)}var $n=t=>t===null||typeof t>"u",Xh=t=>$n(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function B8(t){return t!=null}function Qh(){}var j8=["type","size","sizeType"];function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(null,arguments)}function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ON(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(r){q8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q8(t,e,n){return(e=H8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H8(t){var e=G8(t,"string");return typeof e=="symbol"?e:e+""}function G8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $8(t,e){if(t==null)return{};var n,r,i=K8(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function K8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sU={symbolCircle:YT,symbolCross:s8,symbolDiamond:u8,symbolSquare:c8,symbolStar:p8,symbolTriangle:m8,symbolWye:y8},Y8=Math.PI/180,W8=t=>{var e="symbol".concat(Xh(t));return sU[e]||YT},J8=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Y8;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},X8=(t,e)=>{sU["symbol".concat(Xh(t))]=e},lU=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=$8(t,j8),a=ON(ON({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var u=()=>{var g=W8(s),v=v8().type(g).size(J8(n,r,s)),T=v();if(T!==null)return T},{className:c,cx:d,cy:h}=a,p=Mi(a);return je(d)&&je(h)&&je(n)?R.createElement("path",nw({},p,{className:Ot("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};lU.registerSymbol=X8;var uU=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,Q8=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(R.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{HT(i)&&(r[i]=(a=>n[i](n,a)))}),r},Z8=(t,e,n)=>r=>(t(e,n,r),null),QT=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];HT(i)&&typeof a=="function"&&(r||(r={}),r[i]=Z8(a,e,n))}),r};function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){tH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tH(t,e,n){return(e=nH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nH(t){var e=rH(t,"string");return typeof e=="symbol"?e:e+""}function rH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vi(t,e){var n=eH({},t),r=e,i=Object.keys(e),a=i.reduce((s,u)=>(s[u]===void 0&&r[u]!==void 0&&(s[u]=r[u]),s),n);return a}var Wb={},Jb={},UN;function iH(){return UN||(UN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],u=r(s);i.has(u)||i.set(u,s)}return Array.from(i.values())}t.uniqBy=e})(Jb)),Jb}var Xb={},VN;function cU(){return VN||(VN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Xb)),Xb}var Qb={},Zb={},ex={},FN;function aH(){return FN||(FN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(ex)),ex}var zN;function ZT(){return zN||(zN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aH();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Zb)),Zb}var tx={},BN;function oH(){return BN||(BN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(tx)),tx}var jN;function sH(){return jN||(jN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZT(),n=oH();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Qb)),Qb}var nx={},rx={},qN;function lH(){return qN||(qN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XT();function n(r){return function(i){return e.get(i,r)}}t.property=n})(rx)),rx}var ix={},ax={},ox={},sx={},HN;function dU(){return HN||(HN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(sx)),sx}var lx={},GN;function fU(){return GN||(GN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(lx)),lx}var ux={},$N;function hU(){return $N||($N=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(ux)),ux}var KN;function uH(){return KN||(KN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dU(),n=fU(),r=hU();function i(h,p,g){return typeof g!="function"?i(h,p,()=>{}):a(h,p,function v(T,S,A,I,V,N){const B=g(T,S,A,I,V,N);return B!==void 0?!!B:a(T,S,v,N)},new Map)}function a(h,p,g,v){if(p===h)return!0;switch(typeof p){case"object":return s(h,p,g,v);case"function":return Object.keys(p).length>0?a(h,{...p},g,v):r.eq(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function s(h,p,g,v){if(p==null)return!0;if(Array.isArray(p))return c(h,p,g,v);if(p instanceof Map)return u(h,p,g,v);if(p instanceof Set)return d(h,p,g,v);const T=Object.keys(p);if(h==null)return T.length===0;if(T.length===0)return!0;if(v!=null&&v.has(p))return v.get(p)===h;v==null||v.set(p,h);try{for(let S=0;S<T.length;S++){const A=T[S];if(!n.isPrimitive(h)&&!(A in h)||p[A]===void 0&&h[A]!==void 0||p[A]===null&&h[A]!==null||!g(h[A],p[A],A,h,p,v))return!1}return!0}finally{v==null||v.delete(p)}}function u(h,p,g,v){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[T,S]of p.entries()){const A=h.get(T);if(g(A,S,T,h,p,v)===!1)return!1}return!0}function c(h,p,g,v){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const T=new Set;for(let S=0;S<p.length;S++){const A=p[S];let I=!1;for(let V=0;V<h.length;V++){if(T.has(V))continue;const N=h[V];let B=!1;if(g(N,A,S,h,p,v)&&(B=!0),B){T.add(V),I=!0;break}}if(!I)return!1}return!0}function d(h,p,g,v){return p.size===0?!0:h instanceof Set?c([...h],[...p],g,v):!1}t.isMatchWith=i,t.isSetMatch=d})(ox)),ox}var YN;function pU(){return YN||(YN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uH();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(ax)),ax}var cx={},dx={},fx={},WN;function cH(){return WN||(WN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(fx)),fx}var hx={},JN;function mU(){return JN||(JN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(hx)),hx}var px={},XN;function gU(){return XN||(XN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",u="[object Date]",c="[object Map]",d="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",v="[object Object]",T="[object Error]",S="[object DataView]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",V="[object Uint16Array]",N="[object Uint32Array]",B="[object BigUint64Array]",q="[object Int8Array]",L="[object Int16Array]",D="[object Int32Array]",O="[object BigInt64Array]",U="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=g,t.arrayTag=h,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=B,t.booleanTag=i,t.dataViewTag=S,t.dateTag=u,t.errorTag=T,t.float32ArrayTag=U,t.float64ArrayTag=F,t.functionTag=p,t.int16ArrayTag=L,t.int32ArrayTag=D,t.int8ArrayTag=q,t.mapTag=c,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=V,t.uint32ArrayTag=N,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=I})(px)),px}var mx={},QN;function dH(){return QN||(QN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(mx)),mx}var ZN;function yU(){return ZN||(ZN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cH(),n=mU(),r=gU(),i=fU(),a=dH();function s(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,g,v=new Map,T=void 0){const S=T==null?void 0:T(h,p,g,v);if(S!==void 0)return S;if(i.isPrimitive(h))return h;if(v.has(h))return v.get(h);if(Array.isArray(h)){const A=new Array(h.length);v.set(h,A);for(let I=0;I<h.length;I++)A[I]=u(h[I],I,g,v,T);return Object.hasOwn(h,"index")&&(A.index=h.index),Object.hasOwn(h,"input")&&(A.input=h.input),A}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const A=new RegExp(h.source,h.flags);return A.lastIndex=h.lastIndex,A}if(h instanceof Map){const A=new Map;v.set(h,A);for(const[I,V]of h)A.set(I,u(V,I,g,v,T));return A}if(h instanceof Set){const A=new Set;v.set(h,A);for(const I of h)A.add(u(I,void 0,g,v,T));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const A=new(Object.getPrototypeOf(h)).constructor(h.length);v.set(h,A);for(let I=0;I<h.length;I++)A[I]=u(h[I],I,g,v,T);return A}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const A=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return v.set(h,A),c(A,h,g,v,T),A}if(typeof File<"u"&&h instanceof File){const A=new File([h],h.name,{type:h.type});return v.set(h,A),c(A,h,g,v,T),A}if(typeof Blob<"u"&&h instanceof Blob){const A=new Blob([h],{type:h.type});return v.set(h,A),c(A,h,g,v,T),A}if(h instanceof Error){const A=new h.constructor;return v.set(h,A),A.message=h.message,A.name=h.name,A.stack=h.stack,A.cause=h.cause,c(A,h,g,v,T),A}if(h instanceof Boolean){const A=new Boolean(h.valueOf());return v.set(h,A),c(A,h,g,v,T),A}if(h instanceof Number){const A=new Number(h.valueOf());return v.set(h,A),c(A,h,g,v,T),A}if(h instanceof String){const A=new String(h.valueOf());return v.set(h,A),c(A,h,g,v,T),A}if(typeof h=="object"&&d(h)){const A=Object.create(Object.getPrototypeOf(h));return v.set(h,A),c(A,h,g,v,T),A}return h}function c(h,p,g=h,v,T){const S=[...Object.keys(p),...e.getSymbols(p)];for(let A=0;A<S.length;A++){const I=S[A],V=Object.getOwnPropertyDescriptor(h,I);(V==null||V.writable)&&(h[I]=u(p[I],I,g,v,T))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=u,t.copyProperties=c})(dx)),dx}var eR;function fH(){return eR||(eR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yU();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(cx)),cx}var tR;function hH(){return tR||(tR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pU(),n=fH();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(ix)),ix}var gx={},yx={},vx={},nR;function pH(){return nR||(nR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yU(),n=gU();function r(i,a){return e.cloneDeepWith(i,(s,u,c,d)=>{const h=a==null?void 0:a(s,u,c,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(vx)),vx}var rR;function mH(){return rR||(rR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pH();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(yx)),yx}var _x={},bx={},iR;function vU(){return iR||(iR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(bx)),bx}var xx={},aR;function gH(){return aR||(aR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mU();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(xx)),xx}var oR;function yH(){return oR||(oR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aU(),n=vU(),r=gH(),i=JT();function a(s,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&(s==null?void 0:s[u])==null?c=i.toPath(u):c=[u],c.length===0)return!1;let d=s;for(let h=0;h<c.length;h++){const p=c[h];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=a})(_x)),_x}var sR;function vH(){return sR||(sR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pU(),n=WT(),r=mH(),i=XT(),a=yH();function s(u,c){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(d){const h=i.get(d,u);return h===void 0?a.has(d,u):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=s})(gx)),gx}var lR;function _H(){return lR||(lR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cU(),n=lH(),r=hH(),i=vH();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(nx)),nx}var uR;function bH(){return uR||(uR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iH(),n=cU(),r=sH(),i=_H();function a(s,u=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(u)):[]}t.uniqBy=a})(Wb)),Wb}var Ex,cR;function xH(){return cR||(cR=1,Ex=bH().uniqBy),Ex}var EH=xH();const dR=Ui(EH);function wH(t,e,n){return e===!0?dR(t,n):typeof e=="function"?dR(t,e):t}var wx={exports:{}},Tx={},Sx={exports:{}},Ax={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fR;function TH(){if(fR)return Ax;fR=1;var t=gd();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function u(p,g){var v=g(),T=r({inst:{value:v,getSnapshot:g}}),S=T[0].inst,A=T[1];return a(function(){S.value=v,S.getSnapshot=g,c(S)&&A({inst:S})},[p,v,g]),i(function(){return c(S)&&A({inst:S}),p(function(){c(S)&&A({inst:S})})},[p]),s(v),v}function c(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function d(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return Ax.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Ax}var hR;function SH(){return hR||(hR=1,Sx.exports=TH()),Sx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pR;function AH(){if(pR)return Tx;pR=1;var t=gd(),e=SH();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,u=t.useMemo,c=t.useDebugValue;return Tx.useSyncExternalStoreWithSelector=function(d,h,p,g,v){var T=a(null);if(T.current===null){var S={hasValue:!1,value:null};T.current=S}else S=T.current;T=u(function(){function I(L){if(!V){if(V=!0,N=L,L=g(L),v!==void 0&&S.hasValue){var D=S.value;if(v(D,L))return B=D}return B=L}if(D=B,r(N,L))return D;var O=g(L);return v!==void 0&&v(D,O)?(N=L,D):(N=L,B=O)}var V=!1,N,B,q=p===void 0?null:p;return[function(){return I(h())},q===null?void 0:function(){return I(q())}]},[h,p,g,v]);var A=i(d,T[0],T[1]);return s(function(){S.hasValue=!0,S.value=A},[A]),c(A),A},Tx}var mR;function CH(){return mR||(mR=1,wx.exports=AH()),wx.exports}var IH=CH(),eS=R.createContext(null),kH=t=>t,gn=()=>{var t=R.useContext(eS);return t?t.store.dispatch:kH},Ug=()=>{},NH=()=>Ug,RH=(t,e)=>t===e;function Fe(t){var e=R.useContext(eS);return IH.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:NH,e?e.store.getState:Ug,e?e.store.getState:Ug,e?t:Ug,RH)}function PH(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function MH(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function DH(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var gR=t=>Array.isArray(t)?t:[t];function OH(t){const e=Array.isArray(t[0])?t[0]:t;return DH(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function LH(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var UH=class{constructor(t){this.value=t}deref(){return this.value}},VH=typeof WeakRef<"u"?WeakRef:UH,FH=0,yR=1;function ug(){return{s:FH,v:void 0,o:null,p:null}}function _U(t,e={}){let n=ug();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var p;let u=n;const{length:c}=arguments;for(let g=0,v=c;g<v;g++){const T=arguments[g];if(typeof T=="function"||typeof T=="object"&&T!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const A=S.get(T);A===void 0?(u=ug(),S.set(T,u)):u=A}else{let S=u.p;S===null&&(u.p=S=new Map);const A=S.get(T);A===void 0?(u=ug(),S.set(T,u)):u=A}}const d=u;let h;if(u.s===yR)h=u.v;else if(h=t.apply(null,arguments),a++,r){const g=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;g!=null&&r(g,h)&&(h=g,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new VH(h):h}return d.s=yR,d.v=h,h}return s.clearCache=()=>{n=ug(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function zH(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,u,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),PH(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:v=_U,argsMemoizeOptions:T=[]}=h,S=gR(g),A=gR(T),I=OH(i),V=p(function(){return a++,d.apply(null,arguments)},...S),N=v(function(){s++;const q=LH(I,arguments);return u=V.apply(null,q),u},...A);return Object.assign(N,{resultFunc:d,memoizedResultFunc:V,dependencies:I,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var ce=zH(_U),BH=Object.assign((t,e=ce)=>{MH(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,u,c)=>(s[n[c]]=u,s),{}))},{withTypes:()=>BH}),Cx={},Ix={},kx={},vR;function jH(){return vR||(vR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),u=e(i);if(s===u&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-s:s-u}return 0};t.compareValues=n})(kx)),kx}var Nx={},Rx={},_R;function bU(){return _R||(_R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Rx)),Rx}var bR;function qH(){return bR||(bR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bU(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(Nx)),Nx}var xR;function HH(){return xR||(xR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jH(),n=qH(),r=JT();function i(a,s,u,c){if(a==null)return[];u=c?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(v=>String(v));const d=(v,T)=>{let S=v;for(let A=0;A<T.length&&S!=null;++A)S=S[T[A]];return S},h=(v,T)=>T==null||v==null?T:typeof v=="object"&&"key"in v?Object.hasOwn(T,v.key)?T[v.key]:d(T,v.path):typeof v=="function"?v(T):Array.isArray(v)?d(T,v):typeof T=="object"?T[v]:T,p=s.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:p.map(T=>h(T,v))})).slice().sort((v,T)=>{for(let S=0;S<p.length;S++){const A=e.compareValues(v.criteria[S],T.criteria[S],u[S]);if(A!==0)return A}return 0}).map(v=>v.original)}t.orderBy=i})(Ix)),Ix}var Px={},ER;function GH(){return ER||(ER=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(u,c)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&c<a?s(h,c+1):i.push(h)}};return s(n,0),i}t.flatten=e})(Px)),Px}var Mx={},wR;function xU(){return wR||(wR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vU(),n=ZT(),r=dU(),i=hU();function a(s,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],s):!1}t.isIterateeCall=a})(Mx)),Mx}var TR;function $H(){return TR||(TR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HH(),n=GH(),r=xU();function i(a,...s){const u=s.length;return u>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:u>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(Cx)),Cx}var Dx,SR;function KH(){return SR||(SR=1,Dx=$H().sortBy),Dx}var YH=KH();const Ev=Ui(YH);var EU=t=>t.legend.settings,WH=t=>t.legend.size,JH=t=>t.legend.payload;ce([JH,EU],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Ev(r,n):r});var cg=1;function XH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=R.useState({height:0,left:0,top:0,width:0}),r=R.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>cg||Math.abs(s.left-e.left)>cg||Math.abs(s.top-e.top)>cg||Math.abs(s.width-e.width)>cg)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function nr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var QH=typeof Symbol=="function"&&Symbol.observable||"@@observable",AR=QH,Ox=()=>Math.random().toString(36).substring(7).split("").join("."),ZH={INIT:`@@redux/INIT${Ox()}`,REPLACE:`@@redux/REPLACE${Ox()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ox()}`},oy=ZH;function tS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function wU(t,e,n){if(typeof t!="function")throw new Error(nr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nr(1));return n(wU)(t,e)}let r=t,i=e,a=new Map,s=a,u=0,c=!1;function d(){s===a&&(s=new Map,a.forEach((A,I)=>{s.set(I,A)}))}function h(){if(c)throw new Error(nr(3));return i}function p(A){if(typeof A!="function")throw new Error(nr(4));if(c)throw new Error(nr(5));let I=!0;d();const V=u++;return s.set(V,A),function(){if(I){if(c)throw new Error(nr(6));I=!1,d(),s.delete(V),a=null}}}function g(A){if(!tS(A))throw new Error(nr(7));if(typeof A.type>"u")throw new Error(nr(8));if(typeof A.type!="string")throw new Error(nr(17));if(c)throw new Error(nr(9));try{c=!0,i=r(i,A)}finally{c=!1}return(a=s).forEach(V=>{V()}),A}function v(A){if(typeof A!="function")throw new Error(nr(10));r=A,g({type:oy.REPLACE})}function T(){const A=p;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(nr(11));function V(){const B=I;B.next&&B.next(h())}return V(),{unsubscribe:A(V)}},[AR](){return this}}}return g({type:oy.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:v,[AR]:T}}function eG(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:oy.INIT})>"u")throw new Error(nr(12));if(typeof n(void 0,{type:oy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nr(13))})}function TU(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{eG(n)}catch(a){i=a}return function(s={},u){if(i)throw i;let c=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],g=n[p],v=s[p],T=g(v,u);if(typeof T>"u")throw u&&u.type,new Error(nr(14));d[p]=T,c=c||T!==v}return c=c||r.length!==Object.keys(s).length,c?d:s}}function sy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function tG(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(nr(15))};const s={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},u=t.map(c=>c(s));return a=sy(...u)(i.dispatch),{...i,dispatch:a}}}function SU(t){return tS(t)&&"type"in t&&typeof t.type=="string"}var AU=Symbol.for("immer-nothing"),CR=Symbol.for("immer-draftable"),Ar=Symbol.for("immer-state");function Zi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ii=Object,td=ii.getPrototypeOf,ly="constructor",wv="prototype",rw="configurable",uy="enumerable",Vg="writable",Th="value",Oo=t=>!!t&&!!t[Ar];function aa(t){var e;return t?CU(t)||Tv(t)||!!t[CR]||!!((e=t[ly])!=null&&e[CR])||Sv(t)||Av(t):!1}var nG=ii[wv][ly].toString(),IR=new WeakMap;function CU(t){if(!t||!nS(t))return!1;const e=td(t);if(e===null||e===ii[wv])return!0;const n=ii.hasOwnProperty.call(e,ly)&&e[ly];if(n===Object)return!0;if(!Ic(n))return!1;let r=IR.get(n);return r===void 0&&(r=Function.toString.call(n),IR.set(n,r)),r===nG}function Zh(t,e,n=!0){ep(t)===0?(n?Reflect.ownKeys(t):ii.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function ep(t){const e=t[Ar];return e?e.type_:Tv(t)?1:Sv(t)?2:Av(t)?3:0}var kR=(t,e,n=ep(t))=>n===2?t.has(e):ii[wv].hasOwnProperty.call(t,e),iw=(t,e,n=ep(t))=>n===2?t.get(e):t[e],cy=(t,e,n,r=ep(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function rG(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Tv=Array.isArray,Sv=t=>t instanceof Map,Av=t=>t instanceof Set,nS=t=>typeof t=="object",Ic=t=>typeof t=="function",Lx=t=>typeof t=="boolean",To=t=>t.copy_||t.base_,rS=t=>t.modified_?t.copy_:t.base_;function aw(t,e){if(Sv(t))return new Map(t);if(Av(t))return new Set(t);if(Tv(t))return Array[wv].slice.call(t);const n=CU(t);if(e===!0||e==="class_only"&&!n){const r=ii.getOwnPropertyDescriptors(t);delete r[Ar];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],u=r[s];u[Vg]===!1&&(u[Vg]=!0,u[rw]=!0),(u.get||u.set)&&(r[s]={[rw]:!0,[Vg]:!0,[uy]:u[uy],[Th]:t[s]})}return ii.create(td(t),r)}else{const r=td(t);if(r!==null&&n)return{...t};const i=ii.create(r);return ii.assign(i,t)}}function iS(t,e=!1){return Cv(t)||Oo(t)||!aa(t)||(ep(t)>1&&ii.defineProperties(t,{set:dg,add:dg,clear:dg,delete:dg}),ii.freeze(t),e&&Zh(t,(n,r)=>{iS(r,!0)},!1)),t}function iG(){Zi(2)}var dg={[Th]:iG};function Cv(t){return t===null||!nS(t)?!0:ii.isFrozen(t)}var dy="MapSet",ow="Patches",IU={};function nd(t){const e=IU[t];return e||Zi(0,t),e}var aG=t=>!!IU[t],Sh,kU=()=>Sh,oG=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:aG(dy)?nd(dy):void 0});function NR(t,e){e&&(t.patchPlugin_=nd(ow),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function sw(t){lw(t),t.drafts_.forEach(sG),t.drafts_=null}function lw(t){t===Sh&&(Sh=t.parent_)}var RR=t=>Sh=oG(Sh,t);function sG(t){const e=t[Ar];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function PR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Ar].modified_&&(sw(e),Zi(4)),aa(t)&&(t=MR(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Ar].base_,t,e)}else t=MR(e,n);return lG(e,t,!0),sw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==AU?t:void 0}function MR(t,e){if(Cv(e))return e;const n=e[Ar];if(!n)return aS(e,t.handledSet_,t);if(!Iv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);PU(n,t)}return n.copy_}function lG(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&iS(e,n)}function NU(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Iv=(t,e)=>t.scope_===e,uG=[];function RU(t,e,n,r){const i=To(t),a=t.type_;if(r!==void 0&&iw(i,r,a)===e){cy(i,r,n,a);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Zh(i,(c,d)=>{if(Oo(d)){const h=u.get(d)||[];h.push(c),u.set(d,h)}})}const s=t.draftLocations_.get(e)??uG;for(const u of s)cy(i,u,n,a)}function cG(t,e,n){t.callbacks_.push(function(i){var u;const a=e;if(!a||!Iv(a,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(a);const s=rS(a);RU(t,a.draft_??a,s,n),PU(a,i)})}function PU(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}NU(t)}}function dG(t,e,n){const{scope_:r}=t;if(Oo(n)){const i=n[Ar];Iv(i,r)&&i.callbacks_.push(function(){Fg(t);const s=rS(i);RU(t,n,s,e)})}else aa(n)&&t.callbacks_.push(function(){const a=To(t);iw(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&aS(iw(t.copy_,e,t.type_),r.handledSet_,r)})}function aS(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Oo(t)||e.has(t)||!aa(t)||Cv(t)||(e.add(t),Zh(t,(r,i)=>{if(Oo(i)){const a=i[Ar];if(Iv(a,n)){const s=rS(a);cy(t,r,s,t.type_),NU(a)}}else aa(i)&&aS(i,e,n)})),t}function fG(t,e){const n=Tv(t),r={type_:n?1:0,scope_:e?e.scope_:kU(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=oS;n&&(i=[r],a=Ah);const{revoke:s,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=s,[u,r]}var oS={get(t,e){if(e===Ar)return t;const n=To(t);if(!kR(n,e,t.type_))return hG(t,n,e);const r=n[e];if(t.finalized_||!aa(r))return r;if(r===Ux(t.base_,e)){Fg(t);const i=t.type_===1?+e:e,a=cw(t.scope_,r,t,i);return t.copy_[i]=a}return r},has(t,e){return e in To(t)},ownKeys(t){return Reflect.ownKeys(To(t))},set(t,e,n){const r=MU(To(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Ux(To(t),e),a=i==null?void 0:i[Ar];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(rG(n,i)&&(n!==void 0||kR(t.base_,e,t.type_)))return!0;Fg(t),uw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),dG(t,e,n)),!0},deleteProperty(t,e){return Fg(t),Ux(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),uw(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=To(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Vg]:!0,[rw]:t.type_!==1||e!=="length",[uy]:r[uy],[Th]:n[e]}},defineProperty(){Zi(11)},getPrototypeOf(t){return td(t.base_)},setPrototypeOf(){Zi(12)}},Ah={};Zh(oS,(t,e)=>{Ah[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Ah.deleteProperty=function(t,e){return Ah.set.call(this,t,e,void 0)};Ah.set=function(t,e,n){return oS.set.call(this,t[0],e,n,t[0])};function Ux(t,e){const n=t[Ar];return(n?To(n):t)[e]}function hG(t,e,n){var i;const r=MU(e,n);return r?Th in r?r[Th]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function MU(t,e){if(!(e in t))return;let n=td(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=td(n)}}function uw(t){t.modified_||(t.modified_=!0,t.parent_&&uw(t.parent_))}function Fg(t){t.copy_||(t.assigned_=new Map,t.copy_=aw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var pG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ic(n)&&!Ic(r)){const s=r;r=n;const u=this;return function(d=s,...h){return u.produce(d,p=>r.call(this,p,...h))}}Ic(r)||Zi(6),i!==void 0&&!Ic(i)&&Zi(7);let a;if(aa(n)){const s=RR(this),u=cw(s,n,void 0);let c=!0;try{a=r(u),c=!1}finally{c?sw(s):lw(s)}return NR(s,i),PR(a,s)}else if(!n||!nS(n)){if(a=r(n),a===void 0&&(a=n),a===AU&&(a=void 0),this.autoFreeze_&&iS(a,!0),i){const s=[],u=[];nd(ow).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:u}),i(s,u)}return a}else Zi(1,n)},this.produceWithPatches=(n,r)=>{if(Ic(n))return(u,...c)=>this.produceWithPatches(u,d=>n(d,...c));let i,a;return[this.produce(n,r,(u,c)=>{i=u,a=c}),i,a]},Lx(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Lx(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Lx(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){aa(e)||Zi(8),Oo(e)&&(e=ra(e));const n=RR(this),r=cw(n,e,void 0);return r[Ar].isManual_=!0,lw(n),r}finishDraft(e,n){const r=e&&e[Ar];(!r||!r.isManual_)&&Zi(9);const{scope_:i}=r;return NR(i,n),PR(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=nd(ow).applyPatches_;return Oo(e)?i(e,n):this.produce(e,a=>i(a,n))}};function cw(t,e,n,r){const[i,a]=Sv(e)?nd(dy).proxyMap_(e,n):Av(e)?nd(dy).proxySet_(e,n):fG(e,n);return((n==null?void 0:n.scope_)??kU()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?cG(n,a,r):a.callbacks_.push(function(c){var h;(h=c.mapSetPlugin_)==null||h.fixSetContents(a);const{patchPlugin_:d}=c;a.modified_&&d&&d.generatePatches_(a,[],c)}),i}function ra(t){return Oo(t)||Zi(10,t),DU(t)}function DU(t){if(!aa(t)||Cv(t))return t;const e=t[Ar];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=aw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=aw(t,!0);return Zh(n,(i,a)=>{cy(n,i,DU(a))},r),e&&(e.finalized_=!1),n}var mG=new pG,OU=mG.produce;function LU(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var gG=LU(),yG=LU,vG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sy:sy.apply(null,arguments)};function Di(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(li(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>SU(r)&&r.type===t,n}var UU=class nh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,nh.prototype)}static get[Symbol.species](){return nh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new nh(...e[0].concat(this)):new nh(...e.concat(this))}};function DR(t){return aa(t)?OU(t,()=>{}):t}function fg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function _G(t){return typeof t=="boolean"}var bG=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new UU;return n&&(_G(n)?s.push(gG):s.push(yG(n.extraArgument))),s},VU="RTK_autoBatch",Jt=()=>t=>({payload:t,meta:{[VU]:!0}}),OR=t=>e=>{setTimeout(e,t)},FU=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OR(10):t.type==="callback"?t.queueNotification:OR(t.timeout),d=()=>{s=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),g=r.subscribe(p);return u.add(h),()=>{g(),u.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[VU]),a=!i,a&&(s||(s=!0,c(d))),r.dispatch(h)}finally{i=!0}}})},xG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new UU(t);return r&&i.push(FU(typeof r=="object"?r:void 0)),i};function EG(t){const e=bG(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(tS(n))u=TU(n);else throw new Error(li(1));let c;typeof r=="function"?c=r(e):c=e();let d=sy;i&&(d=vG({trace:!1,...typeof i=="object"&&i}));const h=tG(...c),p=xG(h);let g=typeof s=="function"?s(p):p();const v=d(...g);return wU(u,a,v)}function zU(t){const e={},n=[];let r;const i={addCase(a,s){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(li(28));if(u in e)throw new Error(li(29));return e[u]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function wG(t){return typeof t=="function"}function TG(t,e){let[n,r,i]=zU(e),a;if(wG(t))a=()=>DR(t());else{const u=DR(t);a=()=>u}function s(u=a(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,p)=>{if(p)if(Oo(h)){const v=p(h,c);return v===void 0?h:v}else{if(aa(h))return OU(h,g=>p(g,c));{const g=p(h,c);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},u)}return s.getInitialState=a,s}var SG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",AG=(t=21)=>{let e="",n=t;for(;n--;)e+=SG[Math.random()*64|0];return e},CG=Symbol.for("rtk-slice-createasyncthunk");function IG(t,e){return`${t}/${e}`}function kG({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[CG];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(li(11));const u=(typeof i.reducers=="function"?i.reducers(RG()):i.reducers)||{},c=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(B,q){const L=typeof B=="string"?B:B.type;if(!L)throw new Error(li(12));if(L in d.sliceCaseReducersByType)throw new Error(li(13));return d.sliceCaseReducersByType[L]=q,h},addMatcher(B,q){return d.sliceMatchers.push({matcher:B,reducer:q}),h},exposeAction(B,q){return d.actionCreators[B]=q,h},exposeCaseReducer(B,q){return d.sliceCaseReducersByName[B]=q,h}};c.forEach(B=>{const q=u[B],L={reducerName:B,type:IG(a,B),createNotation:typeof i.reducers=="function"};MG(q)?OG(L,q,h,e):PG(L,q,h)});function p(){const[B={},q=[],L=void 0]=typeof i.extraReducers=="function"?zU(i.extraReducers):[i.extraReducers],D={...B,...d.sliceCaseReducersByType};return TG(i.initialState,O=>{for(let U in D)O.addCase(U,D[U]);for(let U of d.sliceMatchers)O.addMatcher(U.matcher,U.reducer);for(let U of q)O.addMatcher(U.matcher,U.reducer);L&&O.addDefaultCase(L)})}const g=B=>B,v=new Map,T=new WeakMap;let S;function A(B,q){return S||(S=p()),S(B,q)}function I(){return S||(S=p()),S.getInitialState()}function V(B,q=!1){function L(O){let U=O[B];return typeof U>"u"&&q&&(U=fg(T,L,I)),U}function D(O=g){const U=fg(v,q,()=>new WeakMap);return fg(U,O,()=>{const F={};for(const[M,z]of Object.entries(i.selectors??{}))F[M]=NG(z,O,()=>fg(T,O,I),q);return F})}return{reducerPath:B,getSelectors:D,get selectors(){return D(L)},selectSlice:L}}const N={name:a,reducer:A,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:I,...V(s),injectInto(B,{reducerPath:q,...L}={}){const D=q??s;return B.inject({reducerPath:D,reducer:A},L),{...N,...V(D,!0)}}};return N}}function NG(t,e,n,r){function i(a,...s){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...s)}return i.unwrapped=t,i}var qr=kG();function RG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function PG({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!DG(r))throw new Error(li(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Di(t,s):Di(t))}function MG(t){return t._reducerDefinitionType==="asyncThunk"}function DG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function OG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(li(18));const{payloadCreator:a,fulfilled:s,pending:u,rejected:c,settled:d,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),u&&r.addCase(p.pending,u),c&&r.addCase(p.rejected,c),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:s||hg,pending:u||hg,rejected:c||hg,settled:d||hg})}function hg(){}var LG="task",BU="listener",jU="completed",sS="cancelled",UG=`task-${sS}`,VG=`task-${jU}`,dw=`${BU}-${sS}`,FG=`${BU}-${jU}`,kv=class{constructor(t){Mb(this,"name","TaskAbortError");Mb(this,"message");this.code=t,this.message=`${LG} ${sS} (reason: ${t})`}},lS=(t,e)=>{if(typeof t!="function")throw new TypeError(li(32))},fy=()=>{},qU=(t,e=fy)=>(t.catch(e),t),HU=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),iu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},au=t=>{if(t.aborted){const{reason:e}=t;throw new kv(e)}};function GU(t,e){let n=fy;return new Promise((r,i)=>{const a=()=>i(new kv(t.reason));if(t.aborted){a();return}n=HU(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=fy})}var zG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof kv?"cancelled":"rejected",error:n}}finally{e==null||e()}},hy=t=>e=>qU(GU(t,e).then(n=>(au(t),n))),$U=t=>{const e=hy(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Uc}=Object,LR={},Nv="listenerMiddleware",BG=(t,e)=>{const n=r=>HU(t,()=>iu(r,t.reason));return(r,i)=>{lS(r);const a=new AbortController;n(a);const s=zG(async()=>{au(t),au(a.signal);const u=await r({pause:hy(a.signal),delay:$U(a.signal),signal:a.signal});return au(a.signal),u},()=>iu(a,VG));return i!=null&&i.autoJoin&&e.push(s.catch(fy)),{result:hy(t)(s),cancel(){iu(a,UG)}}}},jG=(t,e)=>{const n=async(r,i)=>{au(e);let a=()=>{};const u=[new Promise((c,d)=>{let h=t({predicate:r,effect:(p,g)=>{g.unsubscribe(),c([p,g.getState(),g.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await GU(e,Promise.race(u));return au(e),c}finally{a()}};return(r,i)=>qU(n(r,i))},KU=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Di(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(li(21));return lS(a),{predicate:i,type:e,effect:a}},YU=Uc(t=>{const{type:e,predicate:n,effect:r}=KU(t);return{id:AG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(li(22))}}},{withTypes:()=>YU}),UR=(t,e)=>{const{type:n,effect:r,predicate:i}=KU(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},fw=t=>{t.pending.forEach(e=>{iu(e,dw)})},qG=(t,e)=>()=>{for(const n of e.keys())fw(n);t.clear()},VR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},WU=Uc(Di(`${Nv}/add`),{withTypes:()=>WU}),HG=Di(`${Nv}/removeAll`),JU=Uc(Di(`${Nv}/remove`),{withTypes:()=>JU}),GG=(...t)=>{console.error(`${Nv}/error`,...t)},tp=(t={})=>{const e=new Map,n=new Map,r=v=>{const T=n.get(v)??0;n.set(v,T+1)},i=v=>{const T=n.get(v)??1;T===1?n.delete(v):n.set(v,T-1)},{extra:a,onError:s=GG}=t;lS(s);const u=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),T=>{v.unsubscribe(),T!=null&&T.cancelActive&&fw(v)}),c=v=>{const T=UR(e,v)??YU(v);return u(T)};Uc(c,{withTypes:()=>c});const d=v=>{const T=UR(e,v);return T&&(T.unsubscribe(),v.cancelActive&&fw(T)),!!T};Uc(d,{withTypes:()=>d});const h=async(v,T,S,A)=>{const I=new AbortController,V=jG(c,I.signal),N=[];try{v.pending.add(I),r(v),await Promise.resolve(v.effect(T,Uc({},S,{getOriginalState:A,condition:(B,q)=>V(B,q).then(Boolean),take:V,delay:$U(I.signal),pause:hy(I.signal),extra:a,signal:I.signal,fork:BG(I.signal,N),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((B,q,L)=>{B!==I&&(iu(B,dw),L.delete(B))})},cancel:()=>{iu(I,dw),v.pending.delete(I)},throwIfCancelled:()=>{au(I.signal)}})))}catch(B){B instanceof kv||VR(s,B,{raisedBy:"effect"})}finally{await Promise.all(N),iu(I,FG),i(v),v.pending.delete(I)}},p=qG(e,n);return{middleware:v=>T=>S=>{if(!SU(S))return T(S);if(WU.match(S))return c(S.payload);if(HG.match(S)){p();return}if(JU.match(S))return d(S.payload);let A=v.getState();const I=()=>{if(A===LR)throw new Error(li(23));return A};let V;try{if(V=T(S),e.size>0){const N=v.getState(),B=Array.from(e.values());for(const q of B){let L=!1;try{L=q.predicate(S,N,A)}catch(D){L=!1,VR(s,D,{raisedBy:"predicate"})}L&&h(q,S,v,I)}}}finally{A=LR}return V},startListening:c,stopListening:d,clearListeners:p}};function li(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var $G={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},XU=qr({name:"chartLayout",initialState:$G,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:KG,setLayout:YG,setChartSize:WG,setScale:JG}=XU.actions,XG=XU.reducer;function QU(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){QG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QG(t,e,n){return(e=ZG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZG(t){var e=e7(t,"string");return typeof e=="symbol"?e:e+""}function e7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yr(t,e,n){return $n(t)||$n(e)?n:Qa(e)?ed(t,e,n):typeof e=="function"?e(t):n}var t7=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:u}=e;if((u==="vertical"||u==="horizontal"&&s==="middle")&&a!=="center"&&je(t[a]))return Mc(Mc({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&s!=="middle"&&je(t[s]))return Mc(Mc({},t),{},{[s]:t[s]+(i||0)})}return t},Tu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",zR=1e-4,n7=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-zR,a=Math.max(r[0],r[1])+zR,s=t(e[0]),u=t(e[n-1]);(s<i||s>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},r7=(t,e)=>{if(!e||e.length!==2||!je(e[0])||!je(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!je(t[0])||t[0]<n)&&(i[0]=n),(!je(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},i7=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var u=Xa(t[s][n][1])?t[s][n][0]:t[s][n][1];u>=0?(t[s][n][0]=i,t[s][n][1]=i+u,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+u,a=t[s][n][1])}},a7=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=Xa(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},o7={sign:i7,expand:P8,none:Zc,silhouette:M8,wiggle:D8,positive:a7},s7=(t,e,n)=>{var r=o7[n],i=R8().keys(e).value((a,s)=>Number(yr(a,s,0))).order(tw).offset(r);return i(t)};function l7(t){return t==null?void 0:String(t)}var BR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var u=yr(a,e.dataKey,e.scale.domain()[s]);return $n(u)?null:e.scale(u)-i/2+r},u7=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},c7=t=>{var e=t.flat(2).filter(je);return[Math.min(...e),Math.max(...e)]},d7=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],f7=(t,e,n)=>{if(t!=null)return d7(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,u=s.reduce((c,d)=>{var h=QU(d,e,n),p=c7(h);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},jR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,py=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Ev(e,h=>h.coordinate),a=1/0,s=1,u=i.length;s<u;s++){var c=i[s],d=i[s-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function HR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Mc(Mc({},e),{},{dataKey:n,payload:r,value:i,name:a})}function ZU(t,e){if(t)return String(t);if(typeof e=="string")return e}var h7=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},p7=(t,e)=>e==="centric"?t.angle:t.radius,$o=t=>t.layout.width,Ko=t=>t.layout.height,m7=t=>t.layout.scale,eV=t=>t.layout.margin,Rv=ce(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Pv=ce(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),g7="data-recharts-item-index",y7="data-recharts-item-data-key",np=60;function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){v7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v7(t,e,n){return(e=_7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _7(t){var e=b7(t,"string");return typeof e=="symbol"?e:e+""}function b7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x7=t=>t.brush.height;function E7(t){var e=Pv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:np;return n+i}return n},0)}function w7(t){var e=Pv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:np;return n+i}return n},0)}function T7(t){var e=Rv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function S7(t){var e=Rv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Kn=ce([$o,Ko,eV,x7,E7,w7,T7,S7,EU,WH],(t,e,n,r,i,a,s,u,c,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+u},g=pg(pg({},p),h),v=g.bottom;g.bottom+=r,g=t7(g,c,d);var T=t-g.left-g.right,S=e-g.top-g.bottom;return pg(pg({brushBottom:v},g),{},{width:Math.max(T,0),height:Math.max(S,0)})}),A7=ce(Kn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),uS=ce($o,Ko,(t,e)=>({x:0,y:0,width:t,height:e})),C7=R.createContext(null),di=()=>R.useContext(C7)!=null,Mv=t=>t.brush,Dv=ce([Mv,Kn,eV],(t,e,n)=>({height:t.height,x:je(t.x)?t.x:e.left,y:je(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:je(t.width)?t.width:e.width})),Vx={},Fx={},zx={},$R;function I7(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,u=null;const c=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(s,u),s=void 0,u=null)},p=()=>{d&&h(),S()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},T=()=>{g!==null&&(clearTimeout(g),g=null)},S=()=>{T(),s=void 0,u=null},A=()=>{h()},I=function(...V){if(i!=null&&i.aborted)return;s=this,u=V;const N=g==null;v(),c&&N&&h()};return I.schedule=v,I.cancel=S,I.flush=A,i==null||i.addEventListener("abort",S,{once:!0}),I}t.debounce=e})(zx)),zx}var KR;function k7(){return KR||(KR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=I7();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:u=!0,maxWait:c}=a,d=Array(2);s&&(d[0]="leading"),u&&(d[1]="trailing");let h,p=null;const g=e.debounce(function(...S){h=r.apply(this,S),p=null},i,{edges:d}),v=function(...S){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=r.apply(this,S),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,S),h)},T=()=>(g.flush(),h);return v.cancel=g.cancel,v.flush=T,v}t.debounce=n})(Fx)),Fx}var YR;function N7(){return YR||(YR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k7();function n(r,i=0,a={}){const{leading:s=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:u})}t.throttle=n})(Vx)),Vx}var Bx,WR;function R7(){return WR||(WR=1,Bx=N7().throttle),Bx}var P7=R7();const M7=Ui(P7);var JR=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},tV=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,u=Do(r)?t:Number(r),c=Do(i)?e:Number(i);return a&&a>0&&(u?c=u/a:c&&(u=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:u,calculatedHeight:c}},D7={width:0,height:0,overflow:"visible"},O7={width:0,overflowX:"visible"},L7={height:0,overflowY:"visible"},U7={},V7=t=>{var{width:e,height:n}=t,r=Do(e),i=Do(n);return r&&i?D7:r?O7:i?L7:U7};function F7(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function mn(t){return Number.isFinite(t)}function Qs(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(null,arguments)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){z7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z7(t,e,n){return(e=B7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B7(t){var e=j7(t,"string");return typeof e=="symbol"?e:e+""}function j7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nV=R.createContext({width:-1,height:-1});function q7(t){return Qs(t.width)&&Qs(t.height)}function rV(t){var{children:e,width:n,height:r}=t,i=R.useMemo(()=>({width:n,height:r}),[n,r]);return q7(i)?R.createElement(nV.Provider,{value:i},e):null}var cS=()=>R.useContext(nV),H7=R.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:u,maxHeight:c,children:d,debounce:h=0,id:p,className:g,onResize:v,style:T={}}=t,S=R.useRef(null),A=R.useRef();A.current=v,R.useImperativeHandle(e,()=>S.current);var[I,V]=R.useState({containerWidth:r.width,containerHeight:r.height}),N=R.useCallback((O,U)=>{V(F=>{var M=Math.round(O),z=Math.round(U);return F.containerWidth===M&&F.containerHeight===z?F:{containerWidth:M,containerHeight:z}})},[]);R.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return Qh;var O=z=>{var H,{width:de,height:te}=z[0].contentRect;N(de,te),(H=A.current)===null||H===void 0||H.call(A,de,te)};h>0&&(O=M7(O,h,{trailing:!0,leading:!1}));var U=new ResizeObserver(O),{width:F,height:M}=S.current.getBoundingClientRect();return N(F,M),U.observe(S.current),()=>{U.disconnect()}},[N,h]);var{containerWidth:B,containerHeight:q}=I;JR(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:L,calculatedHeight:D}=tV(B,q,{width:i,height:a,aspect:n,maxHeight:c});return JR(L!=null&&L>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,D,i,a,s,u,n),R.createElement("div",{id:p?"".concat(p):void 0,className:Ot("recharts-responsive-container",g),style:QR(QR({},T),{},{width:i,height:a,minWidth:s,minHeight:u,maxHeight:c}),ref:S},R.createElement("div",{style:V7({width:i,height:a})},R.createElement(rV,{width:L,height:D},d)))}),G7=R.forwardRef((t,e)=>{var n=cS();if(Qs(n.width)&&Qs(n.height))return t.children;var{width:r,height:i}=F7({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=tV(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return je(a)&&je(s)?R.createElement(rV,{width:a,height:s},t.children):R.createElement(H7,hw({},t,{width:r,height:i,ref:e}))});function iV(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Ov=()=>{var t,e=di(),n=Fe(A7),r=Fe(Dv),i=(t=Fe(Mv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},$7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},K7=()=>{var t;return(t=Fe(Kn))!==null&&t!==void 0?t:$7},Y7=()=>Fe($o),W7=()=>Fe(Ko),Ct=t=>t.layout.layoutType,Lv=()=>Fe(Ct),J7=()=>{var t=Lv();return t!==void 0},Uv=t=>{var e=gn(),n=di(),{width:r,height:i}=t,a=cS(),s=r,u=i;return a&&(s=a.width>0?a.width:r,u=a.height>0?a.height:i),R.useEffect(()=>{!n&&Qs(s)&&Qs(u)&&e(WG({width:s,height:u}))},[e,n,s,u]),null},aV=Symbol.for("immer-nothing"),ZR=Symbol.for("immer-draftable"),ci=Symbol.for("immer-state");function ea(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ch=Object.getPrototypeOf;function rd(t){return!!t&&!!t[ci]}function du(t){var e;return t?oV(t)||Array.isArray(t)||!!t[ZR]||!!((e=t.constructor)!=null&&e[ZR])||rp(t)||Fv(t):!1}var X7=Object.prototype.constructor.toString(),eP=new WeakMap;function oV(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=eP.get(n);return r===void 0&&(r=Function.toString.call(n),eP.set(n,r)),r===X7}function my(t,e,n=!0){Vv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Vv(t){const e=t[ci];return e?e.type_:Array.isArray(t)?1:rp(t)?2:Fv(t)?3:0}function pw(t,e){return Vv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function sV(t,e,n){const r=Vv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Q7(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function rp(t){return t instanceof Map}function Fv(t){return t instanceof Set}function Wl(t){return t.copy_||t.base_}function mw(t,e){if(rp(t))return new Map(t);if(Fv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=oV(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ci];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[s]})}return Object.create(Ch(t),r)}else{const r=Ch(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function dS(t,e=!1){return zv(t)||rd(t)||!du(t)||(Vv(t)>1&&Object.defineProperties(t,{set:mg,add:mg,clear:mg,delete:mg}),Object.freeze(t),e&&Object.values(t).forEach(n=>dS(n,!0))),t}function Z7(){ea(2)}var mg={value:Z7};function zv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var e$={};function fu(t){const e=e$[t];return e||ea(0,t),e}var Ih;function lV(){return Ih}function t$(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tP(t,e){e&&(fu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function gw(t){yw(t),t.drafts_.forEach(n$),t.drafts_=null}function yw(t){t===Ih&&(Ih=t.parent_)}function nP(t){return Ih=t$(Ih,t)}function n$(t){const e=t[ci];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function rP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ci].modified_&&(gw(e),ea(4)),du(t)&&(t=gy(e,t),e.parent_||yy(e,t)),e.patches_&&fu("Patches").generateReplacementPatches_(n[ci].base_,t,e.patches_,e.inversePatches_)):t=gy(e,n,[]),gw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==aV?t:void 0}function gy(t,e,n){if(zv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[ci];if(!i)return my(e,(a,s)=>iP(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return yy(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,u=!1;i.type_===3&&(s=new Set(a),a.clear(),u=!0),my(s,(c,d)=>iP(t,i,a,c,d,n,u),r),yy(t,a,!1),n&&t.patches_&&fu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function iP(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const u=zv(i);if(!(u&&!s)){if(rd(i)){const c=a&&e&&e.type_!==3&&!pw(e.assigned_,r)?a.concat(r):void 0,d=gy(t,i,c);if(sV(n,r,d),rd(d))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(du(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;gy(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(rp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&yy(t,i)}}}function yy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&dS(e,n)}function r$(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:lV(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=fS;n&&(i=[r],a=kh);const{revoke:s,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=s,u}var fS={get(t,e){if(e===ci)return t;const n=Wl(t);if(!pw(n,e))return i$(t,n,e);const r=n[e];return t.finalized_||!du(r)?r:r===jx(t.base_,e)?(qx(t),t.copy_[e]=_w(r,t)):r},has(t,e){return e in Wl(t)},ownKeys(t){return Reflect.ownKeys(Wl(t))},set(t,e,n){const r=uV(Wl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=jx(Wl(t),e),a=i==null?void 0:i[ci];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Q7(n,i)&&(n!==void 0||pw(t.base_,e)))return!0;qx(t),vw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return jx(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,qx(t),vw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Wl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ea(11)},getPrototypeOf(t){return Ch(t.base_)},setPrototypeOf(){ea(12)}},kh={};my(fS,(t,e)=>{kh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});kh.deleteProperty=function(t,e){return kh.set.call(this,t,e,void 0)};kh.set=function(t,e,n){return fS.set.call(this,t[0],e,n,t[0])};function jx(t,e){const n=t[ci];return(n?Wl(n):t)[e]}function i$(t,e,n){var i;const r=uV(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function uV(t,e){if(!(e in t))return;let n=Ch(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ch(n)}}function vw(t){t.modified_||(t.modified_=!0,t.parent_&&vw(t.parent_))}function qx(t){t.copy_||(t.copy_=mw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var a$=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(c=a,...d){return s.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&ea(6),r!==void 0&&typeof r!="function"&&ea(7);let i;if(du(e)){const a=nP(this),s=_w(e,void 0);let u=!0;try{i=n(s),u=!1}finally{u?gw(a):yw(a)}return tP(a,r),rP(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===aV&&(i=void 0),this.autoFreeze_&&dS(i,!0),r){const a=[],s=[];fu("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else ea(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...u)=>this.produceWithPatches(s,c=>e(c,...u));let r,i;return[this.produce(e,n,(s,u)=>{r=s,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){du(t)||ea(8),rd(t)&&(t=o$(t));const e=nP(this),n=_w(t,void 0);return n[ci].isManual_=!0,yw(e),n}finishDraft(t,e){const n=t&&t[ci];(!n||!n.isManual_)&&ea(9);const{scope_:r}=n;return tP(r,e),rP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=fu("Patches").applyPatches_;return rd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function _w(t,e){const n=rp(t)?fu("MapSet").proxyMap_(t,e):Fv(t)?fu("MapSet").proxySet_(t,e):r$(t,e);return(e?e.scope_:lV()).drafts_.push(n),n}function o$(t){return rd(t)||ea(10,t),cV(t)}function cV(t){if(!du(t)||zv(t))return t;const e=t[ci];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=mw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=mw(t,!0);return my(n,(i,a)=>{sV(n,i,cV(a))},r),e&&(e.finalized_=!1),n}var s$=new a$;s$.produce;var l$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},dV=qr({name:"legend",initialState:l$,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Jt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ra(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Jt()},removeLegendPayload:{reducer(t,e){var n=ra(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Jt()}}}),{setLegendSize:pCe,setLegendSettings:mCe,addLegendPayload:u$,replaceLegendPayload:c$,removeLegendPayload:d$}=dV.actions,f$=dV.reducer;function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bw.apply(null,arguments)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){h$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h$(t,e,n){return(e=p$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p$(t){var e=m$(t,"string");return typeof e=="symbol"?e:e+""}function m$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g$(t){return Array.isArray(t)&&Qa(t[0])&&Qa(t[1])?t.join(" ~ "):t}var y$=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:u,wrapperClassName:c,labelClassName:d,label:h,labelFormatter:p,accessibilityLayer:g=!1}=t,v=()=>{if(a&&a.length){var q={padding:0,margin:0},L=(u?Ev(a,u):a).map((D,O)=>{if(D.type==="none")return null;var U=D.formatter||s||g$,{value:F,name:M}=D,z=F,H=M;if(U){var de=U(F,M,D,O,a);if(Array.isArray(de))[z,H]=de;else if(de!=null)z=de;else return null}var te=Hx({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:te},Qa(H)?R.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Qa(H)?R.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,R.createElement("span",{className:"recharts-tooltip-item-value"},z),R.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:q},L)}return null},T=Hx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=Hx({margin:0},i),A=!$n(h),I=A?h:"",V=Ot("recharts-default-tooltip",c),N=Ot("recharts-tooltip-label",d);A&&p&&a!==void 0&&a!==null&&(I=p(h,a));var B=g?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",bw({className:V,style:T},B),R.createElement("p",{className:N,style:S},R.isValidElement(I)?I:"".concat(I)),v())},Bf="recharts-tooltip-wrapper",v$={visibility:"hidden"};function _$(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ot(Bf,{["".concat(Bf,"-right")]:je(n)&&e&&je(e.x)&&n>=e.x,["".concat(Bf,"-left")]:je(n)&&e&&je(e.x)&&n<e.x,["".concat(Bf,"-bottom")]:je(r)&&e&&je(e.y)&&r>=e.y,["".concat(Bf,"-top")]:je(r)&&e&&je(e.y)&&r<e.y})}function oP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:u,viewBox:c,viewBoxDimension:d}=t;if(a&&je(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),p=n[r]+i;if(e[r])return s[r]?h:p;var g=c[r];if(g==null)return 0;if(s[r]){var v=h,T=g;return v<T?Math.max(p,g):Math.max(h,g)}if(d==null)return 0;var S=p+u,A=g+d;return S>A?Math.max(h,g):Math.max(p,g)}function b$(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function x$(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:u,viewBox:c}=t,d,h,p;return s.height>0&&s.width>0&&n?(h=oP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=oP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=b$({translateX:h,translateY:p,useTranslate3d:u})):d=v$,{cssProperties:d,cssClasses:_$({translateX:h,translateY:p,coordinate:n})}}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){xw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xw(t,e,n){return(e=E$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E$(t){var e=w$(t,"string");return typeof e=="symbol"?e:e+""}function w$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class T$ extends R.PureComponent{constructor(){super(...arguments),xw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),xw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:u,isAnimationActive:c,offset:d,position:h,reverseDirection:p,useTranslate3d:g,viewBox:v,wrapperStyle:T,lastBoundingBox:S,innerRef:A,hasPortalFromProps:I}=this.props,{cssClasses:V,cssProperties:N}=x$({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:d,position:h,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:g,viewBox:v}),B=I?{}:gg(gg({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),q=gg(gg({},B),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},T);return R.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:V,style:q,ref:A},a)}}var fV=()=>{var t;return(t=Fe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ew.apply(null,arguments)}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){S$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S$(t,e,n){return(e=A$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A$(t){var e=C$(t,"string");return typeof e=="symbol"?e:e+""}function C$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cP={curveBasisClosed:b8,curveBasisOpen:x8,curveBasis:_8,curveBumpX:a8,curveBumpY:o8,curveLinearClosed:E8,curveLinear:bv,curveMonotoneX:w8,curveMonotoneY:T8,curveNatural:S8,curveStep:A8,curveStepAfter:I8,curveStepBefore:C8},vy=t=>mn(t.x)&&mn(t.y),dP=t=>t.base!=null&&vy(t.base)&&vy(t),jf=t=>t.x,qf=t=>t.y,I$=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Xh(t));return(n==="curveMonotone"||n==="curveBump")&&e?cP["".concat(n).concat(e==="vertical"?"Y":"X")]:cP[n]||bv},k$=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=I$(e,i),u=a?n.filter(vy):n,c;if(Array.isArray(r)){var d=n.map((v,T)=>uP(uP({},v),{},{base:r[T]}));i==="vertical"?c=lg().y(qf).x1(jf).x0(v=>v.base.x):c=lg().x(jf).y1(qf).y0(v=>v.base.y);var h=c.defined(dP).curve(s),p=a?d.filter(dP):d;return h(p)}i==="vertical"&&je(r)?c=lg().y(qf).x1(jf).x0(r):je(r)?c=lg().x(jf).y1(qf).y0(r):c=Y4().x(jf).y(qf);var g=c.defined(vy).curve(s);return g(u)},hV=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?k$(t):r;return R.createElement("path",Ew({},Xs(t),Q8(t),{className:Ot("recharts-curve",e),d:a===null?void 0:a,ref:i}))},N$=["x","y","top","left","width","height","className"];function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(null,arguments)}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){P$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P$(t,e,n){return(e=M$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M$(t){var e=D$(t,"string");return typeof e=="symbol"?e:e+""}function D$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O$(t,e){if(t==null)return{};var n,r,i=L$(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function L$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var U$=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),V$=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:u}=t,c=O$(t,N$),d=R$({x:e,y:n,top:r,left:i,width:a,height:s},c);return!je(e)||!je(n)||!je(a)||!je(s)||!je(r)||!je(i)?null:R.createElement("path",ww({},Mi(d),{className:Ot("recharts-cross",u),d:U$(e,n,a,s,r,i)}))};function F$(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){z$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z$(t,e,n){return(e=B$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B$(t){var e=j$(t,"string");return typeof e=="symbol"?e:e+""}function j$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q$=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),pV=(t,e,n)=>t.map(r=>"".concat(q$(r)," ").concat(e,"ms ").concat(n)).join(","),H$=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Nh=(t,e)=>Object.keys(e).reduce((n,r)=>pP(pP({},n),{},{[r]:t(r,e[r])}),{});function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){G$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G$(t,e,n){return(e=$$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $$(t){var e=K$(t,"string");return typeof e=="symbol"?e:e+""}function K$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _y=(t,e,n)=>t+(e-t)*n,Tw=t=>{var{from:e,to:n}=t;return e!==n},mV=(t,e,n)=>{var r=Nh((i,a)=>{if(Tw(a)){var[s,u]=t(a.from,a.to,a.velocity);return Pn(Pn({},a),{},{from:s,velocity:u})}return a},e);return n<1?Nh((i,a)=>Tw(a)?Pn(Pn({},a),{},{velocity:_y(a.velocity,r[i].velocity,n),from:_y(a.from,r[i].from,n)}):a,e):mV(t,r,n-1)};function Y$(t,e,n,r,i,a){var s,u=r.reduce((g,v)=>Pn(Pn({},g),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),c=()=>Nh((g,v)=>v.from,u),d=()=>!Object.values(u).filter(Tw).length,h=null,p=g=>{s||(s=g);var v=g-s,T=v/n.dt;u=mV(n,u,T),i(Pn(Pn(Pn({},t),e),c())),s=g,d()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var g;(g=h)===null||g===void 0||g()})}function W$(t,e,n,r,i,a,s){var u=null,c=i.reduce((p,g)=>Pn(Pn({},p),{},{[g]:[t[g],e[g]]}),{}),d,h=p=>{d||(d=p);var g=(p-d)/r,v=Nh((S,A)=>_y(...A,n(g)),c);if(a(Pn(Pn(Pn({},t),e),v)),g<1)u=s.setTimeout(h);else{var T=Nh((S,A)=>_y(...A,n(1)),c);a(Pn(Pn(Pn({},t),e),T))}};return()=>(u=s.setTimeout(h),()=>{var p;(p=u)===null||p===void 0||p()})}const J$=(t,e,n,r,i,a)=>{var s=H$(t,e);return n==null?()=>(i(Pn(Pn({},t),e)),()=>{}):n.isStepper===!0?Y$(t,e,n,s,i,a):W$(t,e,n,r,s,i,a)};var by=1e-4,gV=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],yV=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),gP=(t,e)=>n=>{var r=gV(t,e);return yV(r,n)},X$=(t,e)=>n=>{var r=gV(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return yV(i,n)},Q$=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(u=>parseFloat(u));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},Z$=(t,e,n,r)=>{var i=gP(t,n),a=gP(e,r),s=X$(t,n),u=d=>d>1?1:d<0?0:d,c=d=>{for(var h=d>1?1:d,p=h,g=0;g<8;++g){var v=i(p)-h,T=s(p);if(Math.abs(v-h)<by||T<by)return a(p);p=u(p-v/T)}return a(p)};return c.isStepper=!1,c},yP=function(){return Z$(...Q$(...arguments))},eK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,u,c)=>{var d=-(s-u)*n,h=c*r,p=c+(d-h)*i/1e3,g=c*i/1e3+s;return Math.abs(g-u)<by&&Math.abs(p)<by?[u,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},tK=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yP(t);case"spring":return eK();default:if(t.split("(")[0]==="cubic-bezier")return yP(t)}return typeof t=="function"?t:null};function nK(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var u=s,[c,...d]=u;if(typeof c=="number"){i=t.setTimeout(a.bind(null,d),c);return}a(c),i=t.setTimeout(a.bind(null,d));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class rK{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function iK(){return nK(new rK)}var aK=R.createContext(iK);function oK(t,e){var n=R.useContext(aK);return R.useMemo(()=>e??n(t),[t,e,n])}var sK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ip={devToolsEnabled:!1,isSsr:sK()},lK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},vP={t:0},Gx={t:1};function hS(t){var e=Vi(t,lK),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:u,onAnimationStart:c,children:d}=e,h=n==="auto"?!ip.isSsr:n,p=oK(e.animationId,e.animationManager),[g,v]=R.useState(h?vP:Gx),T=R.useRef(null);return R.useEffect(()=>{h||v(Gx)},[h]),R.useEffect(()=>{if(!h||!r)return Qh;var S=J$(vP,Gx,tK(a),i,v,p.getTimeoutController()),A=()=>{T.current=S()};return p.start([c,s,A,i,u]),()=>{p.stop(),T.current&&T.current(),u()}},[h,r,i,a,s,c,u,p]),d(g.t)}function pS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=R.useRef(wh(e)),r=R.useRef(t);return r.current!==t&&(n.current=wh(e),r.current=t),n.current}var uK=["radius"],cK=["radius"];function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){dK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dK(t,e,n){return(e=fK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fK(t){var e=hK(t,"string");return typeof e=="symbol"?e:e+""}function hK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xy.apply(null,arguments)}function xP(t,e){if(t==null)return{};var n,r,i=pK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var EP=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=i[p]>a?a:i[p];d="M".concat(t,",").concat(e+s*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+u*h[0],",").concat(e)),d+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+s*h[1])),d+="L ".concat(t+n,",").concat(e+r-s*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),d+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-s*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);d="M ".concat(t,",").concat(e+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+u*v,",").concat(e,`
            L `).concat(t+n-u*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n,",").concat(e+s*v,`
            L `).concat(t+n,",").concat(e+r-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n-u*v,",").concat(e+r,`
            L `).concat(t+u*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t,",").concat(e+r-s*v," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},wP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vV=t=>{var e=Vi(t,wP),n=R.useRef(null),[r,i]=R.useState(-1);R.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:a,y:s,width:u,height:c,radius:d,className:h}=e,{animationEasing:p,animationDuration:g,animationBegin:v,isAnimationActive:T,isUpdateAnimationActive:S}=e,A=R.useRef(u),I=R.useRef(c),V=R.useRef(a),N=R.useRef(s),B=R.useMemo(()=>({x:a,y:s,width:u,height:c,radius:d}),[a,s,u,c,d]),q=pS(B,"rectangle-");if(a!==+a||s!==+s||u!==+u||c!==+c||u===0||c===0)return null;var L=Ot("recharts-rectangle",h);if(!S){var D=Mi(e),{radius:O}=D,U=xP(D,uK);return R.createElement("path",xy({},U,{radius:typeof d=="number"?d:void 0,className:L,d:EP(a,s,u,c,d)}))}var F=A.current,M=I.current,z=V.current,H=N.current,de="0px ".concat(r===-1?1:r,"px"),te="".concat(r,"px 0px"),X=pV(["strokeDasharray"],g,typeof p=="string"?p:wP.animationEasing);return R.createElement(hS,{animationId:q,key:q,canBegin:r>0,duration:g,easing:p,isActive:S,begin:v},K=>{var ae=rr(F,u,K),me=rr(M,c,K),Y=rr(z,a,K),W=rr(H,s,K);n.current&&(A.current=ae,I.current=me,V.current=Y,N.current=W);var se;T?K>0?se={transition:X,strokeDasharray:te}:se={strokeDasharray:de}:se={strokeDasharray:te};var $=Mi(e),{radius:ee}=$,ge=xP($,cK);return R.createElement("path",xy({},ge,{radius:typeof d=="number"?d:void 0,className:L,d:EP(Y,W,ae,me,d),ref:n,style:bP(bP({},se),e.style)}))})};function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){mK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mK(t,e,n){return(e=gK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gK(t){var e=yK(t,"string");return typeof e=="symbol"?e:e+""}function yK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ey=Math.PI/180,vK=t=>t*180/Math.PI,or=(t,e,n,r)=>({x:t+Math.cos(-Ey*r)*n,y:e+Math.sin(-Ey*r)*n}),_K=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},bK=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},xK=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=bK({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var u=(n-i)/s,c=Math.acos(u);return r>a&&(c=2*Math.PI-c),{radius:s,angle:vK(c),angleInRadian:c}},EK=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},wK=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},TK=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=xK({x:n,y:r},e),{innerRadius:s,outerRadius:u}=e;if(i<s||i>u||i===0)return null;var{startAngle:c,endAngle:d}=EK(e),h=a,p;if(c<=d){for(;h>d;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=d}else{for(;h>c;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=c}return p?SP(SP({},e),{},{radius:i,angle:wK(h,e)}):null};function _V(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=or(e,n,r,i),u=or(e,n,r,a);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sw.apply(null,arguments)}var SK=(t,e)=>{var n=ri(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},yg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:u,cornerIsExternal:c}=t,d=u*(s?1:-1)+r,h=Math.asin(u/d)/Ey,p=c?i:i+a*h,g=or(e,n,d,p),v=or(e,n,r,p),T=c?i-a*h:i,S=or(e,n,d*Math.cos(h*Ey),T);return{center:g,circleTangency:v,lineTangency:S,theta:h}},bV=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,u=SK(a,s),c=a+u,d=or(e,n,i,a),h=or(e,n,i,c),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var g=or(e,n,r,a),v=or(e,n,r,c);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},AK=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:u,startAngle:c,endAngle:d}=t,h=ri(d-c),{circleTangency:p,lineTangency:g,theta:v}=yg({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:T,lineTangency:S,theta:A}=yg({cx:e,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:u}),I=u?Math.abs(c-d):Math.abs(c-d)-v-A;if(I<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):bV({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var V="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:N,lineTangency:B,theta:q}=yg({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:L,lineTangency:D,theta:O}=yg({cx:e,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),U=u?Math.abs(c-d):Math.abs(c-d)-q-O;if(U<0&&a===0)return"".concat(V,"L").concat(e,",").concat(n,"Z");V+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(U>180),",").concat(+(h>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(B.x,",").concat(B.y,"Z")}else V+="L".concat(e,",").concat(n,"Z");return V},CK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xV=t=>{var e=Vi(t,CK),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h,className:p}=e;if(a<i||d===h)return null;var g=Ot("recharts-sector",p),v=a-i,T=ia(s,v,0,!0),S;return T>0&&Math.abs(d-h)<360?S=AK({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(T,v/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h}):S=bV({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),R.createElement("path",Sw({},Mi(e),{className:g,d:S}))};function IK(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(uU(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:u}=e,c=or(r,i,a,u),d=or(r,i,s,u);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return _V(e)}}var $x={},Kx={},Yx={},AP;function kK(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bU();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Yx)),Yx}var CP;function NK(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kK();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Kx)),Kx}var IP;function RK(){return IP||(IP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xU(),n=NK();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const u=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(u);for(let d=0;d<u;d++)c[d]=i,i+=s;return c}t.range=r})($x)),$x}var Wx,kP;function PK(){return kP||(kP=1,Wx=RK().range),Wx}var MK=PK();const EV=Ui(MK);function Gs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function DK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mS(t){let e,n,r;t.length!==2?(e=Gs,n=(u,c)=>Gs(t(u),c),r=(u,c)=>t(u)-c):(e=t===Gs||t===DK?t:OK,n=t,r=t);function i(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const p=d+h>>>1;n(u[p],c)<0?d=p+1:h=p}while(d<h)}return d}function a(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const p=d+h>>>1;n(u[p],c)<=0?d=p+1:h=p}while(d<h)}return d}function s(u,c,d=0,h=u.length){const p=i(u,c,d,h-1);return p>d&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:s,right:a}}function OK(){return 0}function wV(t){return t===null?NaN:+t}function*LK(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const UK=mS(Gs),ap=UK.right;mS(wV).center;class NP extends Map{constructor(e,n=zK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(RP(this,e))}has(e){return super.has(RP(this,e))}set(e,n){return super.set(VK(this,e),n)}delete(e){return super.delete(FK(this,e))}}function RP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function VK({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function FK({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function zK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function BK(t=Gs){if(t===Gs)return TV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function TV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const jK=Math.sqrt(50),qK=Math.sqrt(10),HK=Math.sqrt(2);function wy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=jK?10:a>=qK?5:a>=HK?2:1;let u,c,d;return i<0?(d=Math.pow(10,-i)/s,u=Math.round(t*d),c=Math.round(e*d),u/d<t&&++u,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*s,u=Math.round(t/d),c=Math.round(e/d),u*d<t&&++u,c*d>e&&--c),c<u&&.5<=n&&n<2?wy(t,e,n*2):[u,c,d]}function Aw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?wy(e,t,n):wy(t,e,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(s<0)for(let d=0;d<u;++d)c[d]=(a-d)/-s;else for(let d=0;d<u;++d)c[d]=(a-d)*s;else if(s<0)for(let d=0;d<u;++d)c[d]=(i+d)/-s;else for(let d=0;d<u;++d)c[d]=(i+d)*s;return c}function Cw(t,e,n){return e=+e,t=+t,n=+n,wy(t,e,n)[2]}function Iw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Cw(e,t,n):Cw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function PP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function MP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function SV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?TV:BK(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(c-p)/c)*(d-c/2<0?-1:1),v=Math.max(n,Math.floor(e-d*p/c+g)),T=Math.min(r,Math.floor(e+(c-d)*p/c+g));SV(t,e,v,T,i)}const a=t[e];let s=n,u=r;for(Hf(t,n,e),i(t[r],a)>0&&Hf(t,n,r);s<u;){for(Hf(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Hf(t,n,u):(++u,Hf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Hf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function GK(t,e,n){if(t=Float64Array.from(LK(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return MP(t);if(e>=1)return PP(t);var r,i=(r-1)*e,a=Math.floor(i),s=PP(SV(t,a).subarray(0,a+1)),u=MP(t.subarray(a+1));return s+(u-s)*(i-a)}}function $K(t,e,n=wV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function KK(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Fi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Yo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const kw=Symbol("implicit");function gS(){var t=new NP,e=[],n=[],r=kw;function i(a){let s=t.get(a);if(s===void 0){if(r!==kw)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new NP;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return gS(e,n).unknown(r)},Fi.apply(i,arguments),i}function yS(){var t=gS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,u=!1,c=0,d=0,h=.5;delete t.unknown;function p(){var g=e().length,v=i<r,T=v?i:r,S=v?r:i;a=(S-T)/Math.max(1,g-c+d*2),u&&(a=Math.floor(a)),T+=(S-T-a*(g-c))*h,s=a*(1-c),u&&(T=Math.round(T),s=Math.round(s));var A=KK(g).map(function(I){return T+a*I});return n(v?A.reverse():A)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(u=!!g,p()):u},t.padding=function(g){return arguments.length?(c=Math.min(1,d=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(d=+g,p()):d},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},t.copy=function(){return yS(e(),[r,i]).round(u).paddingInner(c).paddingOuter(d).align(h)},Fi.apply(p(),arguments)}function AV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return AV(e())},t}function YK(){return AV(yS.apply(null,arguments).paddingInner(1))}function vS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function CV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function op(){}var Rh=.7,Ty=1/Rh,Vc="\\s*([+-]?\\d+)\\s*",Ph="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ja="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WK=/^#([0-9a-f]{3,8})$/,JK=new RegExp(`^rgb\\(${Vc},${Vc},${Vc}\\)$`),XK=new RegExp(`^rgb\\(${ja},${ja},${ja}\\)$`),QK=new RegExp(`^rgba\\(${Vc},${Vc},${Vc},${Ph}\\)$`),ZK=new RegExp(`^rgba\\(${ja},${ja},${ja},${Ph}\\)$`),eY=new RegExp(`^hsl\\(${Ph},${ja},${ja}\\)$`),tY=new RegExp(`^hsla\\(${Ph},${ja},${ja},${Ph}\\)$`),DP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vS(op,Mh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:OP,formatHex:OP,formatHex8:nY,formatHsl:rY,formatRgb:LP,toString:LP});function OP(){return this.rgb().formatHex()}function nY(){return this.rgb().formatHex8()}function rY(){return IV(this).formatHsl()}function LP(){return this.rgb().formatRgb()}function Mh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=WK.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?UP(e):n===3?new zr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?vg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?vg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=JK.exec(t))?new zr(e[1],e[2],e[3],1):(e=XK.exec(t))?new zr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=QK.exec(t))?vg(e[1],e[2],e[3],e[4]):(e=ZK.exec(t))?vg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eY.exec(t))?zP(e[1],e[2]/100,e[3]/100,1):(e=tY.exec(t))?zP(e[1],e[2]/100,e[3]/100,e[4]):DP.hasOwnProperty(t)?UP(DP[t]):t==="transparent"?new zr(NaN,NaN,NaN,0):null}function UP(t){return new zr(t>>16&255,t>>8&255,t&255,1)}function vg(t,e,n,r){return r<=0&&(t=e=n=NaN),new zr(t,e,n,r)}function iY(t){return t instanceof op||(t=Mh(t)),t?(t=t.rgb(),new zr(t.r,t.g,t.b,t.opacity)):new zr}function Nw(t,e,n,r){return arguments.length===1?iY(t):new zr(t,e,n,r??1)}function zr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}vS(zr,Nw,CV(op,{brighter(t){return t=t==null?Ty:Math.pow(Ty,t),new zr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rh:Math.pow(Rh,t),new zr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new zr(ou(this.r),ou(this.g),ou(this.b),Sy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VP,formatHex:VP,formatHex8:aY,formatRgb:FP,toString:FP}));function VP(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}`}function aY(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}${Zl((isNaN(this.opacity)?1:this.opacity)*255)}`}function FP(){const t=Sy(this.opacity);return`${t===1?"rgb(":"rgba("}${ou(this.r)}, ${ou(this.g)}, ${ou(this.b)}${t===1?")":`, ${t})`}`}function Sy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ou(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zl(t){return t=ou(t),(t<16?"0":"")+t.toString(16)}function zP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ta(t,e,n,r)}function IV(t){if(t instanceof ta)return new ta(t.h,t.s,t.l,t.opacity);if(t instanceof op||(t=Mh(t)),!t)return new ta;if(t instanceof ta)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(n-r)/u+(n<r)*6:n===a?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new ta(s,u,c,t.opacity)}function oY(t,e,n,r){return arguments.length===1?IV(t):new ta(t,e,n,r??1)}function ta(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}vS(ta,oY,CV(op,{brighter(t){return t=t==null?Ty:Math.pow(Ty,t),new ta(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rh:Math.pow(Rh,t),new ta(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new zr(Jx(t>=240?t-240:t+120,i,r),Jx(t,i,r),Jx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ta(BP(this.h),_g(this.s),_g(this.l),Sy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Sy(this.opacity);return`${t===1?"hsl(":"hsla("}${BP(this.h)}, ${_g(this.s)*100}%, ${_g(this.l)*100}%${t===1?")":`, ${t})`}`}}));function BP(t){return t=(t||0)%360,t<0?t+360:t}function _g(t){return Math.max(0,Math.min(1,t||0))}function Jx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _S=t=>()=>t;function sY(t,e){return function(n){return t+n*e}}function lY(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function uY(t){return(t=+t)==1?kV:function(e,n){return n-e?lY(e,n,t):_S(isNaN(e)?n:e)}}function kV(t,e){var n=e-t;return n?sY(t,n):_S(isNaN(t)?e:t)}const jP=(function t(e){var n=uY(e);function r(i,a){var s=n((i=Nw(i)).r,(a=Nw(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),d=kV(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function cY(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function dY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fY(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=yd(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(u){for(s=0;s<r;++s)a[s]=i[s](u);return a}}function hY(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ay(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pY(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=yd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Rw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xx=new RegExp(Rw.source,"g");function mY(t){return function(){return t}}function gY(t){return function(e){return t(e)+""}}function yY(t,e){var n=Rw.lastIndex=Xx.lastIndex=0,r,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=Rw.exec(t))&&(i=Xx.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[s]?u[s]+=a:u[++s]=a),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:Ay(r,i)})),n=Xx.lastIndex;return n<e.length&&(a=e.slice(n),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?gY(c[0].x):mY(e):(e=c.length,function(d){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(d);return u.join("")})}function yd(t,e){var n=typeof e,r;return e==null||n==="boolean"?_S(e):(n==="number"?Ay:n==="string"?(r=Mh(e))?(e=r,jP):yY:e instanceof Mh?jP:e instanceof Date?hY:dY(e)?cY:Array.isArray(e)?fY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?pY:Ay)(t,e)}function bS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function vY(t,e){e===void 0&&(e=t,t=yd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[u](s-u)}}function _Y(t){return function(){return t}}function Cy(t){return+t}var qP=[0,1];function Tr(t){return t}function Pw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_Y(isNaN(e)?NaN:.5)}function bY(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function xY(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=Pw(i,r),a=n(s,a)):(r=Pw(r,i),a=n(a,s)),function(u){return a(r(u))}}function EY(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Pw(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(u){var c=ap(t,u,1,r)-1;return a[c](i[c](u))}}function sp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bv(){var t=qP,e=qP,n=yd,r,i,a,s=Tr,u,c,d;function h(){var g=Math.min(t.length,e.length);return s!==Tr&&(s=bY(t[0],t[g-1])),u=g>2?EY:xY,c=d=null,p}function p(g){return g==null||isNaN(g=+g)?a:(c||(c=u(t.map(r),e,n)))(r(s(g)))}return p.invert=function(g){return s(i((d||(d=u(e,t.map(r),Ay)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,Cy),h()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=bS,h()},p.clamp=function(g){return arguments.length?(s=g?!0:Tr,h()):s!==Tr},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,v){return r=g,i=v,h()}}function xS(){return Bv()(Tr,Tr)}function wY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Iy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function id(t){return t=Iy(Math.abs(t)),t?t[1]:NaN}function TY(t,e){return function(n,r){for(var i=n.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function SY(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var AY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dh(t){if(!(e=AY.exec(t)))throw new Error("invalid format: "+t);var e;return new ES({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Dh.prototype=ES.prototype;function ES(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ES.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function CY(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var NV;function IY(t,e){var n=Iy(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(NV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Iy(t,Math.max(0,e+a-1))[0]}function HP(t,e){var n=Iy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const GP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>HP(t*100,e),r:HP,s:IY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $P(t){return t}var KP=Array.prototype.map,YP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kY(t){var e=t.grouping===void 0||t.thousands===void 0?$P:TY(KP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?$P:SY(KP.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(p){p=Dh(p);var g=p.fill,v=p.align,T=p.sign,S=p.symbol,A=p.zero,I=p.width,V=p.comma,N=p.precision,B=p.trim,q=p.type;q==="n"?(V=!0,q="g"):GP[q]||(N===void 0&&(N=12),B=!0,q="g"),(A||g==="0"&&v==="=")&&(A=!0,g="0",v="=");var L=S==="$"?n:S==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",D=S==="$"?r:/[%p]/.test(q)?s:"",O=GP[q],U=/[defgprs%]/.test(q);N=N===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function F(M){var z=L,H=D,de,te,X;if(q==="c")H=O(M)+H,M="";else{M=+M;var K=M<0||1/M<0;if(M=isNaN(M)?c:O(Math.abs(M),N),B&&(M=CY(M)),K&&+M==0&&T!=="+"&&(K=!1),z=(K?T==="("?T:u:T==="-"||T==="("?"":T)+z,H=(q==="s"?YP[8+NV/3]:"")+H+(K&&T==="("?")":""),U){for(de=-1,te=M.length;++de<te;)if(X=M.charCodeAt(de),48>X||X>57){H=(X===46?i+M.slice(de+1):M.slice(de))+H,M=M.slice(0,de);break}}}V&&!A&&(M=e(M,1/0));var ae=z.length+M.length+H.length,me=ae<I?new Array(I-ae+1).join(g):"";switch(V&&A&&(M=e(me+M,me.length?I-H.length:1/0),me=""),v){case"<":M=z+M+H+me;break;case"=":M=z+me+M+H;break;case"^":M=me.slice(0,ae=me.length>>1)+z+M+H+me.slice(ae);break;default:M=me+z+M+H;break}return a(M)}return F.toString=function(){return p+""},F}function h(p,g){var v=d((p=Dh(p),p.type="f",p)),T=Math.max(-8,Math.min(8,Math.floor(id(g)/3)))*3,S=Math.pow(10,-T),A=YP[8+T/3];return function(I){return v(S*I)+A}}return{format:d,formatPrefix:h}}var bg,wS,RV;NY({thousands:",",grouping:[3],currency:["$",""]});function NY(t){return bg=kY(t),wS=bg.format,RV=bg.formatPrefix,bg}function RY(t){return Math.max(0,-id(Math.abs(t)))}function PY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(id(e)/3)))*3-id(Math.abs(t)))}function MY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,id(e)-id(t))+1}function PV(t,e,n,r){var i=Iw(t,e,n),a;switch(r=Dh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=PY(i,s))&&(r.precision=a),RV(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=MY(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=RY(i))&&(r.precision=a-(r.type==="%")*2);break}}return wS(r)}function ul(t){var e=t.domain;return t.ticks=function(n){var r=e();return Aw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return PV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],u=r[a],c,d,h=10;for(u<s&&(d=s,s=u,u=d,d=i,i=a,a=d);h-- >0;){if(d=Cw(s,u,n),d===c)return r[i]=s,r[a]=u,e(r);if(d>0)s=Math.floor(s/d)*d,u=Math.ceil(u/d)*d;else if(d<0)s=Math.ceil(s*d)/d,u=Math.floor(u*d)/d;else break;c=d}return t},t}function MV(){var t=xS();return t.copy=function(){return sp(t,MV())},Fi.apply(t,arguments),ul(t)}function DV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Cy),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return DV(t).unknown(e)},t=arguments.length?Array.from(t,Cy):[0,1],ul(n)}function OV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function WP(t){return Math.log(t)}function JP(t){return Math.exp(t)}function DY(t){return-Math.log(-t)}function OY(t){return-Math.exp(-t)}function LY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function UY(t){return t===10?LY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function VY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function XP(t){return(e,n)=>-t(-e,n)}function TS(t){const e=t(WP,JP),n=e.domain;let r=10,i,a;function s(){return i=VY(r),a=UY(r),n()[0]<0?(i=XP(i),a=XP(a),t(DY,OY)):t(WP,JP),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let d=c[0],h=c[c.length-1];const p=h<d;p&&([d,h]=[h,d]);let g=i(d),v=i(h),T,S;const A=u==null?10:+u;let I=[];if(!(r%1)&&v-g<A){if(g=Math.floor(g),v=Math.ceil(v),d>0){for(;g<=v;++g)for(T=1;T<r;++T)if(S=g<0?T/a(-g):T*a(g),!(S<d)){if(S>h)break;I.push(S)}}else for(;g<=v;++g)for(T=r-1;T>=1;--T)if(S=g>0?T/a(-g):T*a(g),!(S<d)){if(S>h)break;I.push(S)}I.length*2<A&&(I=Aw(d,h,A))}else I=Aw(g,v,Math.min(v-g,A)).map(a);return p?I.reverse():I},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Dh(c)).precision==null&&(c.trim=!0),c=wS(c)),u===1/0)return c;const d=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=d?c(h):""}},e.nice=()=>n(OV(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function LV(){const t=TS(Bv()).domain([1,10]);return t.copy=()=>sp(t,LV()).base(t.base()),Fi.apply(t,arguments),t}function QP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ZP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function SS(t){var e=1,n=t(QP(e),ZP(e));return n.constant=function(r){return arguments.length?t(QP(e=+r),ZP(e)):e},ul(n)}function UV(){var t=SS(Bv());return t.copy=function(){return sp(t,UV()).constant(t.constant())},Fi.apply(t,arguments)}function e2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function FY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zY(t){return t<0?-t*t:t*t}function AS(t){var e=t(Tr,Tr),n=1;function r(){return n===1?t(Tr,Tr):n===.5?t(FY,zY):t(e2(n),e2(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ul(e)}function CS(){var t=AS(Bv());return t.copy=function(){return sp(t,CS()).exponent(t.exponent())},Fi.apply(t,arguments),t}function BY(){return CS.apply(null,arguments).exponent(.5)}function t2(t){return Math.sign(t)*t*t}function jY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function VV(){var t=xS(),e=[0,1],n=!1,r;function i(a){var s=jY(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(t2(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Cy)).map(t2)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return VV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Fi.apply(i,arguments),ul(i)}function FV(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=$K(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?r:e[ap(n,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Gs),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return FV().domain(t).range(e).unknown(r)},Fi.apply(a,arguments)}function zV(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[ap(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return zV().domain([t,e]).range(i).unknown(a)},Fi.apply(ul(s),arguments)}function BV(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[ap(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return BV().domain(t).range(e).unknown(n)},Fi.apply(i,arguments)}const Qx=new Date,Zx=new Date;function Dn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let d;do c.push(d=new Date(+a)),e(a,u),t(a);while(d<a&&a<s);return c},i.filter=a=>Dn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(Qx.setTime(+a),Zx.setTime(+s),t(Qx),t(Zx),Math.floor(n(Qx,Zx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ky=Dn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ky.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Dn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ky);ky.range;const Co=1e3,Ni=Co*60,Io=Ni*60,Lo=Io*24,IS=Lo*7,n2=Lo*30,eE=Lo*365,eu=Dn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Co)},(t,e)=>(e-t)/Co,t=>t.getUTCSeconds());eu.range;const kS=Dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Co)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getMinutes());kS.range;const NS=Dn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getUTCMinutes());NS.range;const RS=Dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Co-t.getMinutes()*Ni)},(t,e)=>{t.setTime(+t+e*Io)},(t,e)=>(e-t)/Io,t=>t.getHours());RS.range;const PS=Dn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Io)},(t,e)=>(e-t)/Io,t=>t.getUTCHours());PS.range;const lp=Dn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ni)/Lo,t=>t.getDate()-1);lp.range;const jv=Dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Lo,t=>t.getUTCDate()-1);jv.range;const jV=Dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Lo,t=>Math.floor(t/Lo));jV.range;function Su(t){return Dn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ni)/IS)}const qv=Su(0),Ny=Su(1),qY=Su(2),HY=Su(3),ad=Su(4),GY=Su(5),$Y=Su(6);qv.range;Ny.range;qY.range;HY.range;ad.range;GY.range;$Y.range;function Au(t){return Dn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/IS)}const Hv=Au(0),Ry=Au(1),KY=Au(2),YY=Au(3),od=Au(4),WY=Au(5),JY=Au(6);Hv.range;Ry.range;KY.range;YY.range;od.range;WY.range;JY.range;const MS=Dn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());MS.range;const DS=Dn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());DS.range;const Uo=Dn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Uo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Uo.range;const Vo=Dn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vo.range;function qV(t,e,n,r,i,a){const s=[[eu,1,Co],[eu,5,5*Co],[eu,15,15*Co],[eu,30,30*Co],[a,1,Ni],[a,5,5*Ni],[a,15,15*Ni],[a,30,30*Ni],[i,1,Io],[i,3,3*Io],[i,6,6*Io],[i,12,12*Io],[r,1,Lo],[r,2,2*Lo],[n,1,IS],[e,1,n2],[e,3,3*n2],[t,1,eE]];function u(d,h,p){const g=h<d;g&&([d,h]=[h,d]);const v=p&&typeof p.range=="function"?p:c(d,h,p),T=v?v.range(d,+h+1):[];return g?T.reverse():T}function c(d,h,p){const g=Math.abs(h-d)/p,v=mS(([,,A])=>A).right(s,g);if(v===s.length)return t.every(Iw(d/eE,h/eE,p));if(v===0)return ky.every(Math.max(Iw(d,h,p),1));const[T,S]=s[g/s[v-1][2]<s[v][2]/g?v-1:v];return T.every(S)}return[u,c]}const[XY,QY]=qV(Vo,DS,Hv,jV,PS,NS),[ZY,eW]=qV(Uo,MS,qv,lp,RS,kS);function tE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function nE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tW(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,d=$f(i),h=Kf(i),p=$f(a),g=Kf(a),v=$f(s),T=Kf(s),S=$f(u),A=Kf(u),I=$f(c),V=Kf(c),N={a:K,A:ae,b:me,B:Y,c:null,d:l2,e:l2,f:TW,g:DW,G:LW,H:xW,I:EW,j:wW,L:HV,m:SW,M:AW,p:W,q:se,Q:d2,s:f2,S:CW,u:IW,U:kW,V:NW,w:RW,W:PW,x:null,X:null,y:MW,Y:OW,Z:UW,"%":c2},B={a:$,A:ee,b:ge,B:_e,c:null,d:u2,e:u2,f:BW,g:XW,G:ZW,H:VW,I:FW,j:zW,L:$V,m:jW,M:qW,p:Se,q:He,Q:d2,s:f2,S:HW,u:GW,U:$W,V:KW,w:YW,W:WW,x:null,X:null,y:JW,Y:QW,Z:eJ,"%":c2},q={a:F,A:M,b:z,B:H,c:de,d:o2,e:o2,f:yW,g:a2,G:i2,H:s2,I:s2,j:hW,L:gW,m:fW,M:pW,p:U,q:dW,Q:_W,s:bW,S:mW,u:oW,U:sW,V:lW,w:aW,W:uW,x:te,X,y:a2,Y:i2,Z:cW,"%":vW};N.x=L(n,N),N.X=L(r,N),N.c=L(e,N),B.x=L(n,B),B.X=L(r,B),B.c=L(e,B);function L(fe,Ve){return function(Ge){var Ee=[],zt=-1,et=0,tn=fe.length,Kt,lr,da;for(Ge instanceof Date||(Ge=new Date(+Ge));++zt<tn;)fe.charCodeAt(zt)===37&&(Ee.push(fe.slice(et,zt)),(lr=r2[Kt=fe.charAt(++zt)])!=null?Kt=fe.charAt(++zt):lr=Kt==="e"?" ":"0",(da=Ve[Kt])&&(Kt=da(Ge,lr)),Ee.push(Kt),et=zt+1);return Ee.push(fe.slice(et,zt)),Ee.join("")}}function D(fe,Ve){return function(Ge){var Ee=Gf(1900,void 0,1),zt=O(Ee,fe,Ge+="",0),et,tn;if(zt!=Ge.length)return null;if("Q"in Ee)return new Date(Ee.Q);if("s"in Ee)return new Date(Ee.s*1e3+("L"in Ee?Ee.L:0));if(Ve&&!("Z"in Ee)&&(Ee.Z=0),"p"in Ee&&(Ee.H=Ee.H%12+Ee.p*12),Ee.m===void 0&&(Ee.m="q"in Ee?Ee.q:0),"V"in Ee){if(Ee.V<1||Ee.V>53)return null;"w"in Ee||(Ee.w=1),"Z"in Ee?(et=nE(Gf(Ee.y,0,1)),tn=et.getUTCDay(),et=tn>4||tn===0?Ry.ceil(et):Ry(et),et=jv.offset(et,(Ee.V-1)*7),Ee.y=et.getUTCFullYear(),Ee.m=et.getUTCMonth(),Ee.d=et.getUTCDate()+(Ee.w+6)%7):(et=tE(Gf(Ee.y,0,1)),tn=et.getDay(),et=tn>4||tn===0?Ny.ceil(et):Ny(et),et=lp.offset(et,(Ee.V-1)*7),Ee.y=et.getFullYear(),Ee.m=et.getMonth(),Ee.d=et.getDate()+(Ee.w+6)%7)}else("W"in Ee||"U"in Ee)&&("w"in Ee||(Ee.w="u"in Ee?Ee.u%7:"W"in Ee?1:0),tn="Z"in Ee?nE(Gf(Ee.y,0,1)).getUTCDay():tE(Gf(Ee.y,0,1)).getDay(),Ee.m=0,Ee.d="W"in Ee?(Ee.w+6)%7+Ee.W*7-(tn+5)%7:Ee.w+Ee.U*7-(tn+6)%7);return"Z"in Ee?(Ee.H+=Ee.Z/100|0,Ee.M+=Ee.Z%100,nE(Ee)):tE(Ee)}}function O(fe,Ve,Ge,Ee){for(var zt=0,et=Ve.length,tn=Ge.length,Kt,lr;zt<et;){if(Ee>=tn)return-1;if(Kt=Ve.charCodeAt(zt++),Kt===37){if(Kt=Ve.charAt(zt++),lr=q[Kt in r2?Ve.charAt(zt++):Kt],!lr||(Ee=lr(fe,Ge,Ee))<0)return-1}else if(Kt!=Ge.charCodeAt(Ee++))return-1}return Ee}function U(fe,Ve,Ge){var Ee=d.exec(Ve.slice(Ge));return Ee?(fe.p=h.get(Ee[0].toLowerCase()),Ge+Ee[0].length):-1}function F(fe,Ve,Ge){var Ee=v.exec(Ve.slice(Ge));return Ee?(fe.w=T.get(Ee[0].toLowerCase()),Ge+Ee[0].length):-1}function M(fe,Ve,Ge){var Ee=p.exec(Ve.slice(Ge));return Ee?(fe.w=g.get(Ee[0].toLowerCase()),Ge+Ee[0].length):-1}function z(fe,Ve,Ge){var Ee=I.exec(Ve.slice(Ge));return Ee?(fe.m=V.get(Ee[0].toLowerCase()),Ge+Ee[0].length):-1}function H(fe,Ve,Ge){var Ee=S.exec(Ve.slice(Ge));return Ee?(fe.m=A.get(Ee[0].toLowerCase()),Ge+Ee[0].length):-1}function de(fe,Ve,Ge){return O(fe,e,Ve,Ge)}function te(fe,Ve,Ge){return O(fe,n,Ve,Ge)}function X(fe,Ve,Ge){return O(fe,r,Ve,Ge)}function K(fe){return s[fe.getDay()]}function ae(fe){return a[fe.getDay()]}function me(fe){return c[fe.getMonth()]}function Y(fe){return u[fe.getMonth()]}function W(fe){return i[+(fe.getHours()>=12)]}function se(fe){return 1+~~(fe.getMonth()/3)}function $(fe){return s[fe.getUTCDay()]}function ee(fe){return a[fe.getUTCDay()]}function ge(fe){return c[fe.getUTCMonth()]}function _e(fe){return u[fe.getUTCMonth()]}function Se(fe){return i[+(fe.getUTCHours()>=12)]}function He(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ve=L(fe+="",N);return Ve.toString=function(){return fe},Ve},parse:function(fe){var Ve=D(fe+="",!1);return Ve.toString=function(){return fe},Ve},utcFormat:function(fe){var Ve=L(fe+="",B);return Ve.toString=function(){return fe},Ve},utcParse:function(fe){var Ve=D(fe+="",!0);return Ve.toString=function(){return fe},Ve}}}var r2={"-":"",_:" ",0:"0"},Yn=/^\s*\d+/,nW=/^%/,rW=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function iW(t){return t.replace(rW,"\\$&")}function $f(t){return new RegExp("^(?:"+t.map(iW).join("|")+")","i")}function Kf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function aW(t,e,n){var r=Yn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function oW(t,e,n){var r=Yn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function sW(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lW(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uW(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function i2(t,e,n){var r=Yn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function a2(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cW(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dW(t,e,n){var r=Yn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function fW(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function o2(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hW(t,e,n){var r=Yn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function s2(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pW(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function mW(t,e,n){var r=Yn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gW(t,e,n){var r=Yn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function yW(t,e,n){var r=Yn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vW(t,e,n){var r=nW.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _W(t,e,n){var r=Yn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function bW(t,e,n){var r=Yn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function l2(t,e){return mt(t.getDate(),e,2)}function xW(t,e){return mt(t.getHours(),e,2)}function EW(t,e){return mt(t.getHours()%12||12,e,2)}function wW(t,e){return mt(1+lp.count(Uo(t),t),e,3)}function HV(t,e){return mt(t.getMilliseconds(),e,3)}function TW(t,e){return HV(t,e)+"000"}function SW(t,e){return mt(t.getMonth()+1,e,2)}function AW(t,e){return mt(t.getMinutes(),e,2)}function CW(t,e){return mt(t.getSeconds(),e,2)}function IW(t){var e=t.getDay();return e===0?7:e}function kW(t,e){return mt(qv.count(Uo(t)-1,t),e,2)}function GV(t){var e=t.getDay();return e>=4||e===0?ad(t):ad.ceil(t)}function NW(t,e){return t=GV(t),mt(ad.count(Uo(t),t)+(Uo(t).getDay()===4),e,2)}function RW(t){return t.getDay()}function PW(t,e){return mt(Ny.count(Uo(t)-1,t),e,2)}function MW(t,e){return mt(t.getFullYear()%100,e,2)}function DW(t,e){return t=GV(t),mt(t.getFullYear()%100,e,2)}function OW(t,e){return mt(t.getFullYear()%1e4,e,4)}function LW(t,e){var n=t.getDay();return t=n>=4||n===0?ad(t):ad.ceil(t),mt(t.getFullYear()%1e4,e,4)}function UW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function u2(t,e){return mt(t.getUTCDate(),e,2)}function VW(t,e){return mt(t.getUTCHours(),e,2)}function FW(t,e){return mt(t.getUTCHours()%12||12,e,2)}function zW(t,e){return mt(1+jv.count(Vo(t),t),e,3)}function $V(t,e){return mt(t.getUTCMilliseconds(),e,3)}function BW(t,e){return $V(t,e)+"000"}function jW(t,e){return mt(t.getUTCMonth()+1,e,2)}function qW(t,e){return mt(t.getUTCMinutes(),e,2)}function HW(t,e){return mt(t.getUTCSeconds(),e,2)}function GW(t){var e=t.getUTCDay();return e===0?7:e}function $W(t,e){return mt(Hv.count(Vo(t)-1,t),e,2)}function KV(t){var e=t.getUTCDay();return e>=4||e===0?od(t):od.ceil(t)}function KW(t,e){return t=KV(t),mt(od.count(Vo(t),t)+(Vo(t).getUTCDay()===4),e,2)}function YW(t){return t.getUTCDay()}function WW(t,e){return mt(Ry.count(Vo(t)-1,t),e,2)}function JW(t,e){return mt(t.getUTCFullYear()%100,e,2)}function XW(t,e){return t=KV(t),mt(t.getUTCFullYear()%100,e,2)}function QW(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function ZW(t,e){var n=t.getUTCDay();return t=n>=4||n===0?od(t):od.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function eJ(){return"+0000"}function c2(){return"%"}function d2(t){return+t}function f2(t){return Math.floor(+t/1e3)}var bc,YV,WV;tJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tJ(t){return bc=tW(t),YV=bc.format,bc.parse,WV=bc.utcFormat,bc.utcParse,bc}function nJ(t){return new Date(t)}function rJ(t){return t instanceof Date?+t:+new Date(+t)}function OS(t,e,n,r,i,a,s,u,c,d){var h=xS(),p=h.invert,g=h.domain,v=d(".%L"),T=d(":%S"),S=d("%I:%M"),A=d("%I %p"),I=d("%a %d"),V=d("%b %d"),N=d("%B"),B=d("%Y");function q(L){return(c(L)<L?v:u(L)<L?T:s(L)<L?S:a(L)<L?A:r(L)<L?i(L)<L?I:V:n(L)<L?N:B)(L)}return h.invert=function(L){return new Date(p(L))},h.domain=function(L){return arguments.length?g(Array.from(L,rJ)):g().map(nJ)},h.ticks=function(L){var D=g();return t(D[0],D[D.length-1],L??10)},h.tickFormat=function(L,D){return D==null?q:d(D)},h.nice=function(L){var D=g();return(!L||typeof L.range!="function")&&(L=e(D[0],D[D.length-1],L??10)),L?g(OV(D,L)):h},h.copy=function(){return sp(h,OS(t,e,n,r,i,a,s,u,c,d))},h}function iJ(){return Fi.apply(OS(ZY,eW,Uo,MS,qv,lp,RS,kS,eu,YV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aJ(){return Fi.apply(OS(XY,QY,Vo,DS,Hv,jv,PS,NS,eu,WV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gv(){var t=0,e=1,n,r,i,a,s=Tr,u=!1,c;function d(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(u=!!p,d):u},d.interpolator=function(p){return arguments.length?(s=p,d):s};function h(p){return function(g){var v,T;return arguments.length?([v,T]=g,s=p(v,T),d):[s(0),s(1)]}}return d.range=h(yd),d.rangeRound=h(bS),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function cl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function JV(){var t=ul(Gv()(Tr));return t.copy=function(){return cl(t,JV())},Yo.apply(t,arguments)}function XV(){var t=TS(Gv()).domain([1,10]);return t.copy=function(){return cl(t,XV()).base(t.base())},Yo.apply(t,arguments)}function QV(){var t=SS(Gv());return t.copy=function(){return cl(t,QV()).constant(t.constant())},Yo.apply(t,arguments)}function LS(){var t=AS(Gv());return t.copy=function(){return cl(t,LS()).exponent(t.exponent())},Yo.apply(t,arguments)}function oJ(){return LS.apply(null,arguments).exponent(.5)}function ZV(){var t=[],e=Tr;function n(r){if(r!=null&&!isNaN(r=+r))return e((ap(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>GK(t,a/r))},n.copy=function(){return ZV(e).domain(t)},Yo.apply(n,arguments)}function $v(){var t=0,e=.5,n=1,r=1,i,a,s,u,c,d=Tr,h,p=!1,g;function v(S){return isNaN(S=+S)?g:(S=.5+((S=+h(S))-a)*(r*S<r*a?u:c),d(p?Math.max(0,Math.min(1,S)):S))}v.domain=function(S){return arguments.length?([t,e,n]=S,i=h(t=+t),a=h(e=+e),s=h(n=+n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,v):[t,e,n]},v.clamp=function(S){return arguments.length?(p=!!S,v):p},v.interpolator=function(S){return arguments.length?(d=S,v):d};function T(S){return function(A){var I,V,N;return arguments.length?([I,V,N]=A,d=vY(S,[I,V,N]),v):[d(0),d(.5),d(1)]}}return v.range=T(yd),v.rangeRound=T(bS),v.unknown=function(S){return arguments.length?(g=S,v):g},function(S){return h=S,i=S(t),a=S(e),s=S(n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,v}}function e3(){var t=ul($v()(Tr));return t.copy=function(){return cl(t,e3())},Yo.apply(t,arguments)}function t3(){var t=TS($v()).domain([.1,1,10]);return t.copy=function(){return cl(t,t3()).base(t.base())},Yo.apply(t,arguments)}function n3(){var t=SS($v());return t.copy=function(){return cl(t,n3()).constant(t.constant())},Yo.apply(t,arguments)}function US(){var t=AS($v());return t.copy=function(){return cl(t,US()).exponent(t.exponent())},Yo.apply(t,arguments)}function sJ(){return US.apply(null,arguments).exponent(.5)}const rh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yS,scaleDiverging:e3,scaleDivergingLog:t3,scaleDivergingPow:US,scaleDivergingSqrt:sJ,scaleDivergingSymlog:n3,scaleIdentity:DV,scaleImplicit:kw,scaleLinear:MV,scaleLog:LV,scaleOrdinal:gS,scalePoint:YK,scalePow:CS,scaleQuantile:FV,scaleQuantize:zV,scaleRadial:VV,scaleSequential:JV,scaleSequentialLog:XV,scaleSequentialPow:LS,scaleSequentialQuantile:ZV,scaleSequentialSqrt:oJ,scaleSequentialSymlog:QV,scaleSqrt:BY,scaleSymlog:UV,scaleThreshold:BV,scaleTime:iJ,scaleUtc:aJ,tickFormat:PV},Symbol.toStringTag,{value:"Module"}));var dl=t=>t.chartData,lJ=ce([dl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),VS=(t,e,n,r)=>r?lJ(t):dl(t);function Zs(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(mn(e)&&mn(n))return!0}return!1}function h2(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function r3(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(mn(n))i=n;else if(typeof n=="function")return;if(mn(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Zs(s))return s}}function uJ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Zs(r))return h2(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,u;if(i==="auto")e!=null&&(s=Math.min(...e));else if(je(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&jR.test(i)){var c=jR.exec(i);if(c==null||e==null)s=void 0;else{var d=+c[1];s=e[0]-d}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(je(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&qR.test(a)){var h=qR.exec(a);if(h==null||e==null)u=void 0;else{var p=+h[1];u=e[1]+p}}else u=e==null?void 0:e[1];var g=[s,u];if(Zs(g))return e==null?g:h2(g,e,n)}}}var vd=1e9,cJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zS,Xt=!0,Oi="[DecimalError] ",su=Oi+"Invalid argument: ",FS=Oi+"Exponent out of range: ",_d=Math.floor,Jl=Math.pow,dJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ni,Hn=1e7,Ht=7,i3=9007199254740991,Py=_d(i3/Ht),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ht;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return Ro(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return Dt(Ro(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return Nn(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ni))throw Error(Oi+"NaN");if(n.s<1)throw Error(Oi+(n.s?"NaN":"-Infinity"));return n.eq(ni)?new r(0):(Xt=!1,e=Ro(Oh(n,a),Oh(t,a),a),Xt=!0,Dt(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?s3(e,t):a3(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Oi+"NaN");return n.s?(Xt=!1,e=Ro(n,t,0,1).times(t),Xt=!0,n.minus(e)):Dt(new r(n),i)};Pe.naturalExponential=Pe.exp=function(){return o3(this)};Pe.naturalLogarithm=Pe.ln=function(){return Oh(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?a3(e,t):s3(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(su+t);if(e=Nn(i)+1,r=i.d.length-1,n=r*Ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Oi+"NaN")}for(t=Nn(u),Xt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Fa(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=_d((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(Ro(u,a,s+2)).times(.5),Fa(a.d).slice(0,s)===(e=Fa(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Dt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;s+=4}return Xt=!0,Dt(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,i,a,s,u,c,d,h=this,p=h.constructor,g=h.d,v=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,d=v.length,c<d&&(a=g,g=v,v=a,s=c,c=d,d=s),a=[],s=c+d,r=s;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)u=a[i]+v[r]*g[i-r-1]+e,a[i--]=u%Hn|0,e=u/Hn|0;a[i]=(a[i]+e)%Hn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Xt?Dt(t,p.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Za(t,0,vd),e===void 0?e=r.rounding:Za(e,0,8),Dt(n,t+Nn(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=hu(r,!0):(Za(t,0,vd),e===void 0?e=i.rounding:Za(e,0,8),r=Dt(new i(r),t+1,e),n=hu(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?hu(i):(Za(t,0,vd),e===void 0?e=a.rounding:Za(e,0,8),r=Dt(new a(i),t+Nn(i)+1,e),n=hu(r.abs(),!1,t+Nn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return Dt(new e(t),Nn(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,i,a,s,u=this,c=u.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(ni);if(u=new c(u),!u.s){if(t.s<1)throw Error(Oi+"Infinity");return u}if(u.eq(ni))return u;if(r=c.precision,t.eq(ni))return Dt(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=u.s,s){if((n=h<0?-h:h)<=i3){for(i=new c(ni),e=Math.ceil(r/Ht+4),Xt=!1;n%2&&(i=i.times(u),m2(i.d,e)),n=_d(n/2),n!==0;)u=u.times(u),m2(u.d,e);return Xt=!0,t.s<0?new c(ni).div(i):Dt(i,r)}}else if(a<0)throw Error(Oi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Xt=!1,i=t.times(Oh(u,r+d)),Xt=!0,i=o3(i),i.s=a,i};Pe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Nn(i),r=hu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Za(t,1,vd),e===void 0?e=a.rounding:Za(e,0,8),i=Dt(new a(i),t,e),n=Nn(i),r=hu(i,t<=n||n<=a.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Za(t,1,vd),e===void 0?e=r.rounding:Za(e,0,8)),Dt(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Nn(t),n=t.constructor;return hu(t,e<=n.toExpNeg||e>=n.toExpPos)};function a3(t,e){var n,r,i,a,s,u,c,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Xt?Dt(e,p):e;if(c=t.d,d=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,u=d.length):(r=d,i=s,u=c.length),s=Math.ceil(p/Ht),u=s>u?s+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=d.length,u-a<0&&(a=u,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/Hn|0,c[a]%=Hn;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Xt?Dt(e,p):e}function Za(t,e,n){if(t!==~~t||t<e||t>n)throw Error(su+t)}function Fa(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Ht-r.length,n&&(a+=Ls(n)),a+=r;s=t[e],r=s+"",n=Ht-r.length,n&&(a+=Ls(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ro=(function(){function t(r,i){var a,s=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+s,r[u]=a%Hn|0,s=a/Hn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Hn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var u,c,d,h,p,g,v,T,S,A,I,V,N,B,q,L,D,O,U=r.constructor,F=r.s==i.s?1:-1,M=r.d,z=i.d;if(!r.s)return new U(r);if(!i.s)throw Error(Oi+"Division by zero");for(c=r.e-i.e,D=z.length,q=M.length,v=new U(F),T=v.d=[],d=0;z[d]==(M[d]||0);)++d;if(z[d]>(M[d]||0)&&--c,a==null?V=a=U.precision:s?V=a+(Nn(r)-Nn(i))+1:V=a,V<0)return new U(0);if(V=V/Ht+2|0,d=0,D==1)for(h=0,z=z[0],V++;(d<q||h)&&V--;d++)N=h*Hn+(M[d]||0),T[d]=N/z|0,h=N%z|0;else{for(h=Hn/(z[0]+1)|0,h>1&&(z=t(z,h),M=t(M,h),D=z.length,q=M.length),B=D,S=M.slice(0,D),A=S.length;A<D;)S[A++]=0;O=z.slice(),O.unshift(0),L=z[0],z[1]>=Hn/2&&++L;do h=0,u=e(z,S,D,A),u<0?(I=S[0],D!=A&&(I=I*Hn+(S[1]||0)),h=I/L|0,h>1?(h>=Hn&&(h=Hn-1),p=t(z,h),g=p.length,A=S.length,u=e(p,S,g,A),u==1&&(h--,n(p,D<g?O:z,g))):(h==0&&(u=h=1),p=z.slice()),g=p.length,g<A&&p.unshift(0),n(S,p,A),u==-1&&(A=S.length,u=e(z,S,D,A),u<1&&(h++,n(S,D<A?O:z,A))),A=S.length):u===0&&(h++,S=[0]),T[d++]=h,u&&S[0]?S[A++]=M[B]||0:(S=[M[B]],A=1);while((B++<q||S[0]!==void 0)&&V--)}return T[0]||T.shift(),v.e=c,Dt(v,s?a+Nn(v)+1:a)}})();function o3(t,e){var n,r,i,a,s,u,c=0,d=0,h=t.constructor,p=h.precision;if(Nn(t)>16)throw Error(FS+Nn(t));if(!t.s)return new h(ni);for(Xt=!1,u=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(r=Math.log(Jl(2,d))/Math.LN10*2+5|0,u+=r,n=i=a=new h(ni),h.precision=u;;){if(i=Dt(i.times(t),u),n=n.times(++c),s=a.plus(Ro(i,n,u)),Fa(s.d).slice(0,u)===Fa(a.d).slice(0,u)){for(;d--;)a=Dt(a.times(a),u);return h.precision=p,e==null?(Xt=!0,Dt(a,p)):a}a=s}}function Nn(t){for(var e=t.e*Ht,n=t.d[0];n>=10;n/=10)e++;return e}function rE(t,e,n){if(e>t.LN10.sd())throw Xt=!0,n&&(t.precision=n),Error(Oi+"LN10 precision limit exceeded");return Dt(new t(t.LN10),e)}function Ls(t){for(var e="";t--;)e+="0";return e}function Oh(t,e){var n,r,i,a,s,u,c,d,h,p=1,g=10,v=t,T=v.d,S=v.constructor,A=S.precision;if(v.s<1)throw Error(Oi+(v.s?"NaN":"-Infinity"));if(v.eq(ni))return new S(0);if(e==null?(Xt=!1,d=A):d=e,v.eq(10))return e==null&&(Xt=!0),rE(S,d);if(d+=g,S.precision=d,n=Fa(T),r=n.charAt(0),a=Nn(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Fa(v.d),r=n.charAt(0),p++;a=Nn(v),r>1?(v=new S("0."+n),a++):v=new S(r+"."+n.slice(1))}else return c=rE(S,d+2,A).times(a+""),v=Oh(new S(r+"."+n.slice(1)),d-g).plus(c),S.precision=A,e==null?(Xt=!0,Dt(v,A)):v;for(u=s=v=Ro(v.minus(ni),v.plus(ni),d),h=Dt(v.times(v),d),i=3;;){if(s=Dt(s.times(h),d),c=u.plus(Ro(s,new S(i),d)),Fa(c.d).slice(0,d)===Fa(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(rE(S,d+2,A).times(a+""))),u=Ro(u,new S(p),d),S.precision=A,e==null?(Xt=!0,Dt(u,A)):u;u=c,i+=2}}function p2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=_d(n/Ht),t.d=[],r=(n+1)%Ht,n<0&&(r+=Ht),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ht;r<i;)t.d.push(+e.slice(r,r+=Ht));e=e.slice(r),r=Ht-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Xt&&(t.e>Py||t.e<-Py))throw Error(FS+n)}else t.s=0,t.e=0,t.d=[0];return t}function Dt(t,e,n){var r,i,a,s,u,c,d,h,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Ht,i=e,d=p[h=0];else{if(h=Math.ceil((r+1)/Ht),a=p.length,h>=a)return t;for(d=a=p[h],s=1;a>=10;a/=10)s++;r%=Ht,i=r-Ht+s}if(n!==void 0&&(a=Jl(10,s-i-1),u=d/a%10|0,c=e<0||p[h+1]!==void 0||d%a,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?d/Jl(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(a=Nn(t),p.length=1,e=e-a-1,p[0]=Jl(10,(Ht-e%Ht)%Ht),t.e=_d(-e/Ht)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=Jl(10,Ht-r),p[h]=i>0?(d/Jl(10,s-i)%Jl(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==Hn&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=Hn)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Xt&&(t.e>Py||t.e<-Py))throw Error(FS+Nn(t));return t}function s3(t,e){var n,r,i,a,s,u,c,d,h,p,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Xt?Dt(e,v):e;if(c=t.d,p=e.d,r=e.e,d=t.e,c=c.slice(),s=d-r,s){for(h=s<0,h?(n=c,s=-s,u=p.length):(n=p,r=d,u=c.length),i=Math.max(Math.ceil(v/Ht),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=Hn-1;--c[a],c[i]+=Hn}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Xt?Dt(e,v):e):new g(0)}function hu(t,e,n){var r,i=Nn(t),a=Fa(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ls(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ls(-i-1)+a,n&&(r=n-s)>0&&(a+=Ls(r))):i>=s?(a+=Ls(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Ls(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Ls(r))),t.s<0?"-"+a:a}function m2(t,e){if(t.length>e)return t.length=e,!0}function l3(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(su+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return p2(s,a.toString())}else if(typeof a!="string")throw Error(su+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,dJ.test(a))p2(s,a);else throw Error(su+a)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=l3,i.config=i.set=fJ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function fJ(t){if(!t||typeof t!="object")throw Error(Oi+"Object expected");var e,n,r,i=["precision",1,vd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(_d(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(su+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(su+n+": "+r);return this}var zS=l3(cJ);ni=new zS(1);const At=zS;var hJ=t=>t,u3={},c3=t=>t===u3,g2=t=>function e(){return arguments.length===0||arguments.length===1&&c3(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},d3=(t,e)=>t===1?e:g2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==u3).length;return a>=t?e(...r):d3(t-a,g2(function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];var d=r.map(h=>c3(h)?u.shift():h);return e(...d,...u)}))}),pJ=t=>d3(t.length,t),Mw=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},mJ=pJ((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),gJ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return hJ;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((u,c)=>c(u),a(...arguments))}},Dw=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function f3(t){var e;return t===0?e=1:e=Math.floor(new At(t).abs().log(10).toNumber())+1,e}function h3(t,e,n){for(var r=new At(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var p3=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},m3=(t,e,n)=>{if(t.lte(0))return new At(0);var r=f3(t.toNumber()),i=new At(10).pow(r),a=t.div(i),s=r!==1?.05:.1,u=new At(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return e?new At(c.toNumber()):new At(Math.ceil(c.toNumber()))},yJ=(t,e,n)=>{var r=new At(1),i=new At(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new At(10).pow(f3(t)-1),i=new At(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new At(Math.floor(t)))}else t===0?i=new At(Math.floor((e-1)/2)):n||(i=new At(Math.floor(t)));var s=Math.floor((e-1)/2),u=gJ(mJ(c=>i.add(new At(c-s).mul(r)).toNumber()),Mw);return u(0,e)},g3=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new At(0),tickMin:new At(0),tickMax:new At(0)};var s=m3(new At(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new At(0):(u=new At(e).add(n).div(2),u=u.sub(new At(u).mod(s)));var c=Math.ceil(u.sub(e).div(s).toNumber()),d=Math.ceil(new At(n).sub(u).div(s).toNumber()),h=c+d+1;return h>r?g3(e,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,c=n>0?c:c+(r-h)),{step:s,tickMin:u.sub(new At(c).mul(s)),tickMax:u.add(new At(d).mul(s))})},vJ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[u,c]=p3([n,r]);if(u===-1/0||c===1/0){var d=c===1/0?[u,...Mw(0,i-1).map(()=>1/0)]:[...Mw(0,i-1).map(()=>-1/0),c];return n>r?Dw(d):d}if(u===c)return yJ(u,i,a);var{step:h,tickMin:p,tickMax:g}=g3(u,c,s,a,0),v=h3(p,g.add(new At(.1).mul(h)),h);return n>r?Dw(v):v},_J=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,u]=p3([r,i]);if(s===-1/0||u===1/0)return[r,i];if(s===u)return[s];var c=Math.max(n,2),d=m3(new At(u).sub(s).div(c-1),a,0),h=[...h3(new At(s),new At(u),d),u];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?Dw(h):h},y3=t=>t.rootProps.maxBarSize,bJ=t=>t.rootProps.barGap,v3=t=>t.rootProps.barCategoryGap,xJ=t=>t.rootProps.barSize,Kv=t=>t.rootProps.stackOffset,_3=t=>t.rootProps.reverseStackOrder,BS=t=>t.options.chartName,jS=t=>t.rootProps.syncId,b3=t=>t.rootProps.syncMethod,qS=t=>t.options.eventEmitter,Br={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},So={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ti={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Yv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},EJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:So.angleAxisId,includeHidden:!1,name:void 0,reversed:So.reversed,scale:So.scale,tick:So.tick,tickCount:void 0,ticks:void 0,type:So.type,unit:void 0},wJ={allowDataOverflow:ti.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ti.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ti.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ti.scale,tick:ti.tick,tickCount:ti.tickCount,ticks:void 0,type:ti.type,unit:void 0},TJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:So.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:So.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:So.scale,tick:So.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},SJ={allowDataOverflow:ti.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ti.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ti.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ti.scale,tick:ti.tick,tickCount:ti.tickCount,ticks:void 0,type:"category",unit:void 0},HS=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?TJ:EJ,GS=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?SJ:wJ,Wv=t=>t.polarOptions,$S=ce([$o,Ko,Kn],_K),x3=ce([Wv,$S],(t,e)=>{if(t!=null)return ia(t.innerRadius,e,0)}),E3=ce([Wv,$S],(t,e)=>{if(t!=null)return ia(t.outerRadius,e,e*.8)}),AJ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},w3=ce([Wv],AJ);ce([HS,w3],Yv);var T3=ce([$S,x3,E3],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ce([GS,T3],Yv);var S3=ce([Ct,Wv,x3,E3,$o,Ko],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:u,startAngle:c,endAngle:d}=e;return{cx:ia(s,i,i/2),cy:ia(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),On=(t,e)=>e,Jv=(t,e,n)=>n;function KS(t){return t==null?void 0:t.id}function A3(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(u=>{var c,d=(c=u.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var h=KS(u);d.forEach((p,g)=>{var v=a==null||i?g:String(yr(p,a,null)),T=yr(p,u.dataKey,0),S;s.has(v)?S=s.get(v):S={},Object.assign(S,{[h]:T}),s.set(v,S)})}}),Array.from(s.values())}function Xv(t){return t.stackId!=null&&t.dataKey!=null}var Qv=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Zv(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function CJ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Ln=t=>{var e=Ct(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},bd=t=>t.tooltip.settings.axisId;function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function My(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(r){IJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IJ(t,e,n){return(e=kJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kJ(t){var e=NJ(t,"string");return typeof e=="symbol"?e:e+""}function NJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ow=[0,"auto"],jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},C3=(t,e)=>t.cartesianAxis.xAxis[e],Wo=(t,e)=>{var n=C3(t,e);return n??jn},qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ow,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:np},I3=(t,e)=>t.cartesianAxis.yAxis[e],Jo=(t,e)=>{var n=I3(t,e);return n??qn},RJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},YS=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??RJ},Cr=(t,e,n)=>{switch(e){case"xAxis":return Wo(t,n);case"yAxis":return Jo(t,n);case"zAxis":return YS(t,n);case"angleAxis":return HS(t,n);case"radiusAxis":return GS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},PJ=(t,e,n)=>{switch(e){case"xAxis":return Wo(t,n);case"yAxis":return Jo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},up=(t,e,n)=>{switch(e){case"xAxis":return Wo(t,n);case"yAxis":return Jo(t,n);case"angleAxis":return HS(t,n);case"radiusAxis":return GS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},k3=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function N3(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var WS=t=>t.graphicalItems.cartesianItems,MJ=ce([On,Jv],N3),R3=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),cp=ce([WS,Cr,MJ],R3,{memoizeOptions:{resultEqualityCheck:Zv}}),P3=ce([cp],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Xv)),M3=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),DJ=ce([cp],M3),D3=t=>t.map(e=>e.data).filter(Boolean).flat(1),OJ=ce([cp],D3,{memoizeOptions:{resultEqualityCheck:Zv}}),O3=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},JS=ce([OJ,VS],O3),L3=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:yr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:yr(i,r)}))):t.map(r=>({value:r})),e0=ce([JS,Cr,cp],L3);function U3(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function zg(t){if(Qa(t)||t instanceof Date){var e=Number(t);if(mn(e))return e}}function v2(t){if(Array.isArray(t)){var e=[zg(t[0]),zg(t[1])];return Zs(e)?e:void 0}var n=zg(t);if(n!=null)return[n,n]}function Fo(t){return t.map(zg).filter(B8)}function LJ(t,e,n){return!n||typeof e!="number"||Xa(e)?[]:n.length?Fo(n.flatMap(r=>{var i=yr(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!mn(a)||!mn(s)))return[e-a,e+s]})):[]}var Un=t=>{var e=Ln(t),n=bd(t);return up(t,e,n)},dp=ce([Un],t=>t==null?void 0:t.dataKey),UJ=ce([P3,VS,Un],A3),V3=(t,e,n,r)=>{var i={},a=e.reduce((s,u)=>(u.stackId==null||(s[u.stackId]==null&&(s[u.stackId]=[]),s[u.stackId].push(u)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[u,c]=s,d=r?[...c].reverse():c,h=d.map(KS);return[u,{stackedData:s7(t,h,n),graphicalItems:d}]}))},Lw=ce([UJ,P3,Kv,_3],V3),F3=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=f7(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},VJ=ce([Cr],t=>t.allowDataOverflow),XS=t=>{var e;if(t==null||!("domain"in t))return Ow;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Fo(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Ow},z3=ce([Cr],XS),B3=ce([z3,VJ],r3),FJ=ce([Lw,dl,On,B3],F3,{memoizeOptions:{resultEqualityCheck:Qv}}),QS=t=>t.errorBars,zJ=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>U3(n,r)),Dy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),u=Math.max(...a);return[s,u]}},j3=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(u=>{n.forEach(c=>{var d,h,p=(d=r[c.id])===null||d===void 0?void 0:d.filter(I=>U3(i,I)),g=yr(u,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey),v=LJ(u,g,p);if(v.length>=2){var T=Math.min(...v),S=Math.max(...v);(a==null||T<a)&&(a=T),(s==null||S>s)&&(s=S)}var A=v2(g);A!=null&&(a=a==null?A[0]:Math.min(a,A[0]),s=s==null?A[1]:Math.max(s,A[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var c=v2(yr(u,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),mn(a)&&mn(s))return[a,s]},BJ=ce([JS,Cr,DJ,QS,On],j3,{memoizeOptions:{resultEqualityCheck:Qv}});function jJ(t){var{value:e}=t;if(Qa(e)||e instanceof Date)return e}var qJ=(t,e,n)=>{var r=t.map(jJ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&oU(r))?EV(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},q3=t=>t.referenceElements.dots,xd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),HJ=ce([q3,On,Jv],xd),H3=t=>t.referenceElements.areas,GJ=ce([H3,On,Jv],xd),G3=t=>t.referenceElements.lines,$J=ce([G3,On,Jv],xd),$3=(t,e)=>{var n=Fo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},KJ=ce(HJ,On,$3),K3=(t,e)=>{var n=Fo(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},YJ=ce([GJ,On],K3);function WJ(t){var e;if(t.x!=null)return Fo([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Fo(n)}function JJ(t){var e;if(t.y!=null)return Fo([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Fo(n)}var Y3=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?WJ(r):JJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},XJ=ce([$J,On],Y3),QJ=ce(KJ,XJ,YJ,(t,e,n)=>Dy(t,n,e)),W3=(t,e,n,r,i,a,s,u)=>{if(n!=null)return n;var c=s==="vertical"&&u==="xAxis"||s==="horizontal"&&u==="yAxis",d=c?Dy(r,a,i):Dy(a,i);return uJ(e,d,t.allowDataOverflow)},ZJ=ce([Cr,z3,B3,FJ,BJ,QJ,Ct,On],W3,{memoizeOptions:{resultEqualityCheck:Qv}}),eX=[0,1],J3=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:u,type:c}=t,d=Tu(e,a);if(d&&u==null){var h;return EV(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return c==="category"?qJ(r,t,d):i==="expand"?eX:s}},ZS=ce([Cr,Ct,JS,e0,Kv,On,ZJ],J3),X3=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(Xh(a));return u in rh?u:"point"}}},fp=ce([Cr,Ct,k3,BS,On],X3);function tX(t){if(t!=null){if(t in rh)return rh[t]();var e="scale".concat(Xh(t));if(e in rh)return rh[e]()}}function e1(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=tX(e);if(i!=null){var a=i.domain(n).range(r);return n7(a),a}}}var Q3=(t,e,n)=>{var r=XS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Zs(t))return vJ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Zs(t))return _J(t,e.tickCount,e.allowDecimals)}},t1=ce([ZS,up,fp],Q3),Z3=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Zs(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(s,u)]}return e},nX=ce([Cr,ZS,t1,On],Z3),rX=ce(e0,Cr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Fo(t.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),e6=ce(rX,Ct,v3,Kn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!mn(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=ia(n,t*a),u=t*a/2;return u-s-(u-s)/a*s}return 0}),iX=(t,e)=>{var n=Wo(t,e);return n==null||typeof n.padding!="string"?0:e6(t,"xAxis",e,n.padding)},aX=(t,e)=>{var n=Jo(t,e);return n==null||typeof n.padding!="string"?0:e6(t,"yAxis",e,n.padding)},oX=ce(Wo,iX,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),sX=ce(Jo,aX,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),lX=ce([Kn,oX,Dv,Mv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),uX=ce([Kn,Ct,sX,Dv,Mv,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),hp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return lX(t,n,r);case"yAxis":return uX(t,n,r);case"zAxis":return(i=YS(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return w3(t);case"radiusAxis":return T3(t,n);default:return}},t6=ce([Cr,hp],Yv),Ed=ce([Cr,fp,nX,t6],e1);ce([cp,QS,On],zJ);function n6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var t0=(t,e)=>e,n0=(t,e,n)=>n,cX=ce(Rv,t0,n0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(n6)),dX=ce(Pv,t0,n0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(n6)),r6=(t,e)=>({width:t.width,height:e.height}),fX=(t,e)=>{var n=typeof e.width=="number"?e.width:np;return{width:n,height:t.height}},i6=ce(Kn,Wo,r6),hX=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},pX=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},mX=ce(Ko,Kn,cX,t0,n0,(t,e,n,r,i)=>{var a={},s;return n.forEach(u=>{var c=r6(e,u);s==null&&(s=hX(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[u.id]=s-Number(d)*c.height,s+=(d?-1:1)*c.height}),a}),gX=ce($o,Kn,dX,t0,n0,(t,e,n,r,i)=>{var a={},s;return n.forEach(u=>{var c=fX(e,u);s==null&&(s=pX(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[u.id]=s-Number(d)*c.width,s+=(d?-1:1)*c.width}),a}),yX=(t,e)=>{var n=Wo(t,e);if(n!=null)return mX(t,n.orientation,n.mirror)},vX=ce([Kn,Wo,yX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),_X=(t,e)=>{var n=Jo(t,e);if(n!=null)return gX(t,n.orientation,n.mirror)},bX=ce([Kn,Jo,_X,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),a6=ce(Kn,Jo,(t,e)=>{var n=typeof e.width=="number"?e.width:np;return{width:n,height:t.height}}),_2=(t,e,n)=>{switch(e){case"xAxis":return i6(t,n).width;case"yAxis":return a6(t,n).height;default:return}},o6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,u=Tu(t,r),c=e.map(d=>d.value);if(s&&u&&a==="category"&&i&&oU(c))return c}},n1=ce([Ct,e0,Cr,On],o6),s6=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Tu(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},r1=ce([Ct,e0,up,On],s6);ce([Ct,PJ,fp,Ed,n1,r1,hp,t1,On],(t,e,n,r,i,a,s,u,c)=>{if(e!=null){var d=Tu(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:u,range:s,realScaleType:n,scale:r}}});var xX=(t,e,n,r,i,a,s,u,c)=>{if(!(e==null||r==null)){var d=Tu(t,c),{type:h,ticks:p,tickCount:g}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=h==="category"&&r.bandwidth?r.bandwidth()/v:0;T=c==="angleAxis"&&a!=null&&a.length>=2?ri(a[0]-a[1])*2*T:T;var S=p||i;if(S){var A=S.map((I,V)=>{var N=s?s.indexOf(I):I;return{index:V,coordinate:r(N)+T,value:I,offset:T}});return A.filter(I=>mn(I.coordinate))}return d&&u?u.map((I,V)=>({coordinate:r(I)+T,value:I,index:V,offset:T})).filter(I=>mn(I.coordinate)):r.ticks?r.ticks(g).map(I=>({coordinate:r(I)+T,value:I,offset:T})):r.domain().map((I,V)=>({coordinate:r(I)+T,value:s?s[I]:I,index:V,offset:T}))}},l6=ce([Ct,up,fp,Ed,t1,hp,n1,r1,On],xX),EX=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Tu(t,s),{tickCount:c}=e,d=0;return d=s==="angleAxis"&&(r==null?void 0:r.length)>=2?ri(r[0]-r[1])*2*d:d,u&&a?a.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:i?i[h]:h,index:p,offset:d}))}},sd=ce([Ct,up,Ed,hp,n1,r1,On],EX),ld=ce(Cr,Ed,(t,e)=>{if(!(t==null||e==null))return My(My({},t),{},{scale:e})}),wX=ce([Cr,fp,ZS,t6],e1);ce((t,e,n)=>YS(t,n),wX,(t,e)=>{if(!(t==null||e==null))return My(My({},t),{},{scale:e})});var TX=ce([Ct,Rv,Pv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),u6=t=>t.options.defaultTooltipEventType,c6=t=>t.options.validateTooltipEventTypes;function d6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function i1(t,e){var n=u6(t),r=c6(t);return d6(e,n,r)}function SX(t){return Fe(e=>i1(e,t))}var f6=(t,e)=>{var n,r=Number(e);if(!(Xa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},AX=t=>t.tooltip.settings,Vs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},CX={itemInteraction:{click:Vs,hover:Vs},axisInteraction:{click:Vs,hover:Vs},keyboardInteraction:Vs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},h6=qr({name:"tooltip",initialState:CX,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Jt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ra(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Jt()},removeTooltipEntrySettings:{reducer(t,e){var n=ra(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Jt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:IX,replaceTooltipEntrySettings:kX,removeTooltipEntrySettings:NX,setTooltipSettingsState:RX,setActiveMouseOverItemIndex:p6,mouseLeaveItem:PX,mouseLeaveChart:m6,setActiveClickItemIndex:MX,setMouseOverAxisIndex:g6,setMouseClickAxisIndex:DX,setSyncInteraction:Uw,setKeyboardInteraction:Vw}=h6.actions,OX=h6.reducer;function b2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(n),!0).forEach(function(r){LX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LX(t,e,n){return(e=UX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UX(t){var e=VX(t,"string");return typeof e=="symbol"?e:e+""}function VX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FX(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function zX(t){return t.index!=null}var y6=(t,e,n,r)=>{if(e==null)return Vs;var i=FX(t,e,n);if(i==null)return Vs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(zX(i)){if(a)return xg(xg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return xg(xg({},Vs),{},{coordinate:i.coordinate})};function BX(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function jX(t,e){var n=BX(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function qX(t,e,n){if(n==null||e==null)return!0;var r=yr(t,e);return r==null||!Zs(n)?!0:jX(r,n)}var a1=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!mn(a))return i;var s=0,u=1/0;e.length>0&&(u=e.length-1);var c=Math.max(s,Math.min(a,u)),d=e[c];return d==null||qX(d,n,r)?String(c):null},v6=(t,e,n,r,i,a,s,u)=>{if(!(a==null||u==null)){var c=s[0],d=c==null?void 0:u(c.positions,a);if(d!=null)return d;var h=i==null?void 0:i[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},_6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},pp=t=>t.options.tooltipPayloadSearcher,wd=t=>t.tooltip;function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(r){HX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HX(t,e,n){return(e=GX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GX(t){var e=$X(t,"string");return typeof e=="symbol"?e:e+""}function $X(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KX(t,e){return t??e}var b6=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:u,computedData:c,dataStartIndex:d,dataEndIndex:h}=n,p=[];return t.reduce((g,v)=>{var T,{dataDefinedOnItem:S,settings:A}=v,I=KX(S,u),V=Array.isArray(I)?QU(I,d,h):I,N=(T=A==null?void 0:A.dataKey)!==null&&T!==void 0?T:r,B=A==null?void 0:A.nameKey,q;if(r&&Array.isArray(V)&&!Array.isArray(V[0])&&s==="axis"?q=z8(V,r,i):q=a(V,e,c,B),Array.isArray(q))q.forEach(D=>{var O=E2(E2({},A),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});g.push(HR({tooltipEntrySettings:O,dataKey:D.dataKey,payload:D.payload,value:yr(D.payload,D.dataKey),name:D.name}))});else{var L;g.push(HR({tooltipEntrySettings:A,dataKey:N,payload:q,value:yr(q,N),name:(L=yr(q,B))!==null&&L!==void 0?L:A==null?void 0:A.name}))}return g},p)}},o1=ce([Un,Ct,k3,BS,Ln],X3),YX=ce([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),WX=ce([Ln,bd],N3),mp=ce([YX,Un,WX],R3,{memoizeOptions:{resultEqualityCheck:Zv}}),JX=ce([mp],t=>t.filter(Xv)),XX=ce([mp],D3,{memoizeOptions:{resultEqualityCheck:Zv}}),Td=ce([XX,dl],O3),QX=ce([JX,dl,Un],A3),s1=ce([Td,Un,mp],L3),x6=ce([Un],XS),ZX=ce([Un],t=>t.allowDataOverflow),E6=ce([x6,ZX],r3),eQ=ce([mp],t=>t.filter(Xv)),tQ=ce([QX,eQ,Kv,_3],V3),nQ=ce([tQ,dl,Ln,E6],F3),rQ=ce([mp],M3),iQ=ce([Td,Un,rQ,QS,Ln],j3,{memoizeOptions:{resultEqualityCheck:Qv}}),aQ=ce([q3,Ln,bd],xd),oQ=ce([aQ,Ln],$3),sQ=ce([H3,Ln,bd],xd),lQ=ce([sQ,Ln],K3),uQ=ce([G3,Ln,bd],xd),cQ=ce([uQ,Ln],Y3),dQ=ce([oQ,cQ,lQ],Dy),fQ=ce([Un,x6,E6,nQ,iQ,dQ,Ct,Ln],W3),gp=ce([Un,Ct,Td,s1,Kv,Ln,fQ],J3),hQ=ce([gp,Un,o1],Q3),pQ=ce([Un,gp,hQ,Ln],Z3),w6=t=>{var e=Ln(t),n=bd(t),r=!1;return hp(t,e,n,r)},T6=ce([Un,w6],Yv),S6=ce([Un,o1,pQ,T6],e1),mQ=ce([Ct,s1,Un,Ln],o6),gQ=ce([Ct,s1,Un,Ln],s6),yQ=(t,e,n,r,i,a,s,u)=>{if(e){var{type:c}=e,d=Tu(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ri(i[0]-i[1])*2*p:p,d&&s?s.map((g,v)=>({coordinate:r(g)+p,value:g,index:v,offset:p})):r.domain().map((g,v)=>({coordinate:r(g)+p,value:a?a[g]:g,index:v,offset:p}))}}},Xo=ce([Ct,Un,o1,S6,w6,mQ,gQ,Ln],yQ),l1=ce([u6,c6,AX],(t,e,n)=>d6(n.shared,t,e)),A6=t=>t.tooltip.settings.trigger,u1=t=>t.tooltip.settings.defaultIndex,yp=ce([wd,l1,A6,u1],y6),ud=ce([yp,Td,dp,gp],a1),C6=ce([Xo,ud],f6),I6=ce([yp],t=>{if(t)return t.dataKey});ce([yp],t=>{if(t)return t.graphicalItemId});var k6=ce([wd,l1,A6,u1],_6),vQ=ce([$o,Ko,Ct,Kn,Xo,u1,k6,pp],v6),_Q=ce([yp,vQ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),bQ=ce([yp],t=>t.active),xQ=ce([k6,ud,dl,dp,C6,pp,l1],b6);ce([xQ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){EQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EQ(t,e,n){return(e=wQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wQ(t){var e=TQ(t,"string");return typeof e=="symbol"?e:e+""}function TQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SQ=()=>Fe(Un),AQ=()=>{var t=SQ(),e=Fe(Xo),n=Fe(S6);return py(!t||!n?void 0:T2(T2({},t),{},{scale:n}),e)};function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){CQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CQ(t,e,n){return(e=IQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IQ(t){var e=kQ(t,"string");return typeof e=="symbol"?e:e+""}function kQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NQ=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},RQ=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return xc(xc(xc({},r),or(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var u=i.coordinate,{angle:c}=r;return xc(xc(xc({},r),or(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function PQ(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var N6=(t,e,n,r,i)=>{var a,s=-1,u=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var d=c>0?n[c-1].coordinate:n[u-1].coordinate,h=n[c].coordinate,p=c>=u-1?n[0].coordinate:n[c+1].coordinate,g=void 0;if(ri(h-d)!==ri(p-h)){var v=[];if(ri(p-h)===ri(i[1]-i[0])){g=p;var T=h+i[1]-i[0];v[0]=Math.min(T,(T+d)/2),v[1]=Math.max(T,(T+d)/2)}else{g=d;var S=p+i[1]-i[0];v[0]=Math.min(h,(S+h)/2),v[1]=Math.max(h,(S+h)/2)}var A=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(t>A[0]&&t<=A[1]||t>=v[0]&&t<=v[1]){({index:s}=n[c]);break}}else{var I=Math.min(d,p),V=Math.max(d,p);if(t>(I+h)/2&&t<=(V+h)/2){({index:s}=n[c]);break}}}else if(e){for(var N=0;N<u;N++)if(N===0&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N>0&&N<u-1&&t>(e[N].coordinate+e[N-1].coordinate)/2&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N===u-1&&t>(e[N].coordinate+e[N-1].coordinate)/2){({index:s}=e[N]);break}}return s},MQ=()=>Fe(BS),c1=(t,e)=>e,R6=(t,e,n)=>n,d1=(t,e,n,r)=>r,DQ=ce(Xo,t=>Ev(t,e=>e.coordinate)),f1=ce([wd,c1,R6,d1],y6),h1=ce([f1,Td,dp,gp],a1),OQ=(t,e,n)=>{if(e!=null){var r=wd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},P6=ce([wd,c1,R6,d1],_6),Oy=ce([$o,Ko,Ct,Kn,Xo,d1,P6,pp],v6),LQ=ce([f1,Oy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),M6=ce([Xo,h1],f6),UQ=ce([P6,h1,dl,dp,M6,pp,c1],b6),VQ=ce([f1,h1],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),FQ=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&PQ(t,s)){var u=h7(t,e),c=N6(u,a,i,n,r),d=NQ(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},zQ=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var u=TK(t,n);if(u){var c=p7(u,e),d=N6(c,s,a,r,i),h=RQ(e,a,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},BQ=(t,e,n,r,i,a,s,u)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?FQ(t,e,r,i,a,s,u):zQ(t,e,n,r,i,a,s)},jQ=ce(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),qQ=ce(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Br)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:CJ}});function A2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(n),!0).forEach(function(r){HQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e,n){return(e=GQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GQ(t){var e=$Q(t,"string");return typeof e=="symbol"?e:e+""}function $Q(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KQ={},YQ={zIndexMap:Object.values(Br).reduce((t,e)=>C2(C2({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),KQ)},WQ=new Set(Object.values(Br));function JQ(t){return WQ.has(t)}var D6=qr({name:"zIndex",initialState:YQ,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Jt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!JQ(n)&&delete t.zIndexMap[n])},prepare:Jt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Jt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Jt()}}}),{registerZIndexPortal:XQ,unregisterZIndexPortal:QQ,registerZIndexPortalId:ZQ,unregisterZIndexPortalId:eZ}=D6.actions,tZ=D6.reducer;function fl(t){var{zIndex:e,children:n}=t,r=J7(),i=r&&e!==void 0&&e!==0,a=di(),s=gn();R.useLayoutEffect(()=>i?(s(XQ({zIndex:e})),()=>{s(QQ({zIndex:e}))}):Qh,[s,e,i]);var u=Fe(d=>jQ(d,e,a));if(!i)return n;if(!u)return null;var c=document.getElementById(u);return c?j4.createPortal(n,c):null}function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(null,arguments)}function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){nZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nZ(t,e,n){return(e=rZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rZ(t){var e=iZ(t,"string");return typeof e=="symbol"?e:e+""}function iZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aZ(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return R.isValidElement(e)?R.cloneElement(e,r):R.createElement(n,r)}function oZ(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:u,cursor:c,tooltipEventType:d,chartName:h}=t,p=n,g=r,v=i;if(!c||!p||h!=="ScatterChart"&&d!=="axis")return null;var T,S,A;if(h==="ScatterChart")T=p,S=V$,A=Br.cursorLine;else if(h==="BarChart")T=F$(u,p,a,s),S=vV,A=Br.cursorRectangle;else if(u==="radial"&&uU(p)){var{cx:I,cy:V,radius:N,startAngle:B,endAngle:q}=_V(p);T={cx:I,cy:V,startAngle:B,endAngle:q,innerRadius:N,outerRadius:N},S=xV,A=Br.cursorLine}else T={points:IK(u,p,a)},S=hV,A=Br.cursorLine;var L=typeof c=="object"&&"className"in c?c.className:void 0,D=Eg(Eg(Eg(Eg({stroke:"#ccc",pointerEvents:"none"},a),T),GT(c)),{},{payload:g,payloadIndex:v,className:Ot("recharts-tooltip-cursor",L)});return R.createElement(fl,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},R.createElement(aZ,{cursor:c,cursorComp:S,cursorProps:D}))}function sZ(t){var e=AQ(),n=K7(),r=Lv(),i=MQ();return e==null||n==null||r==null||i==null?null:R.createElement(oZ,Fw({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var O6=R.createContext(null),lZ=()=>R.useContext(O6),iE={exports:{}},k2;function uZ(){return k2||(k2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,p||c,g),T=n?n+d:d;return c._events[T]?c._events[T].fn?c._events[T]=[c._events[T],v]:c._events[T].push(v):(c._events[T]=v,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)e.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,T=new Array(v);g<v;g++)T[g]=p[g].fn;return T},u.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(d,h,p,g,v,T){var S=n?n+d:d;if(!this._events[S])return!1;var A=this._events[S],I=arguments.length,V,N;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),I){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,p),!0;case 4:return A.fn.call(A.context,h,p,g),!0;case 5:return A.fn.call(A.context,h,p,g,v),!0;case 6:return A.fn.call(A.context,h,p,g,v,T),!0}for(N=1,V=new Array(I-1);N<I;N++)V[N-1]=arguments[N];A.fn.apply(A.context,V)}else{var B=A.length,q;for(N=0;N<B;N++)switch(A[N].once&&this.removeListener(d,A[N].fn,void 0,!0),I){case 1:A[N].fn.call(A[N].context);break;case 2:A[N].fn.call(A[N].context,h);break;case 3:A[N].fn.call(A[N].context,h,p);break;case 4:A[N].fn.call(A[N].context,h,p,g);break;default:if(!V)for(q=1,V=new Array(I-1);q<I;q++)V[q-1]=arguments[q];A[N].fn.apply(A[N].context,V)}}return!0},u.prototype.on=function(d,h,p){return a(this,d,h,p,!1)},u.prototype.once=function(d,h,p){return a(this,d,h,p,!0)},u.prototype.removeListener=function(d,h,p,g){var v=n?n+d:d;if(!this._events[v])return this;if(!h)return s(this,v),this;var T=this._events[v];if(T.fn)T.fn===h&&(!g||T.once)&&(!p||T.context===p)&&s(this,v);else{for(var S=0,A=[],I=T.length;S<I;S++)(T[S].fn!==h||g&&!T[S].once||p&&T[S].context!==p)&&A.push(T[S]);A.length?this._events[v]=A.length===1?A[0]:A:s(this,v)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(iE)),iE.exports}var cZ=uZ();const dZ=Ui(cZ);var Lh=new dZ,zw="recharts.syncEvent.tooltip",N2="recharts.syncEvent.brush";function fZ(t,e){if(e){var n=Number.parseInt(e,10);if(!Xa(n))return t==null?void 0:t[n]}}var hZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},L6=qr({name:"options",initialState:hZ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),pZ=L6.reducer,{createEventEmitter:mZ}=L6.actions;function gZ(t){return t.tooltip.syncInteraction}var yZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},U6=qr({name:"chartData",initialState:yZ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:R2,setDataStartEndIndexes:vZ,setComputedData:gCe}=U6.actions,_Z=U6.reducer,bZ=["x","y"];function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){xZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xZ(t,e,n){return(e=EZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EZ(t){var e=wZ(t,"string");return typeof e=="symbol"?e:e+""}function wZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TZ(t,e){if(t==null)return{};var n,r,i=SZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function AZ(){var t=Fe(jS),e=Fe(qS),n=gn(),r=Fe(b3),i=Fe(Xo),a=Lv(),s=Ov(),u=Fe(c=>c.rootProps.className);R.useEffect(()=>{if(t==null)return Qh;var c=(d,h,p)=>{if(e!==p&&t===d){if(r==="index"){var g;if(s&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var v=h.payload.coordinate,{x:T,y:S}=v,A=TZ(v,bZ),{x:I,y:V,width:N,height:B}=h.payload.sourceViewBox,q=Ec(Ec({},A),{},{x:s.x+(N?(T-I)/N:0)*s.width,y:s.y+(B?(S-V)/B:0)*s.height});n(Ec(Ec({},h),{},{payload:Ec(Ec({},h.payload),{},{coordinate:q})}))}else n(h);return}if(i!=null){var L;if(typeof r=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=r(i,D);L=i[O]}else r==="value"&&(L=i.find(X=>String(X.value)===h.payload.label));var{coordinate:U}=h.payload;if(L==null||h.payload.active===!1||U==null||s==null){n(Uw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:F,y:M}=U,z=Math.min(F,s.x+s.width),H=Math.min(M,s.y+s.height),de={x:a==="horizontal"?L.coordinate:z,y:a==="horizontal"?H:L.coordinate},te=Uw({active:h.payload.active,coordinate:de,dataKey:h.payload.dataKey,index:String(L.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(te)}}};return Lh.on(zw,c),()=>{Lh.off(zw,c)}},[u,n,e,t,r,i,a,s])}function CZ(){var t=Fe(jS),e=Fe(qS),n=gn();R.useEffect(()=>{if(t==null)return Qh;var r=(i,a,s)=>{e!==s&&t===i&&n(vZ(a))};return Lh.on(N2,r),()=>{Lh.off(N2,r)}},[n,e,t])}function IZ(){var t=gn();R.useEffect(()=>{t(mZ())},[t]),AZ(),CZ()}function kZ(t,e,n,r,i,a){var s=Fe(v=>OQ(v,t,e)),u=Fe(qS),c=Fe(jS),d=Fe(b3),h=Fe(gZ),p=h==null?void 0:h.active,g=Ov();R.useEffect(()=>{if(!p&&c!=null&&u!=null){var v=Uw({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});Lh.emit(zw,c,v,u)}},[p,n,s,i,r,u,c,d,a,g])}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){NZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NZ(t,e,n){return(e=RZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RZ(t){var e=PZ(t,"string");return typeof e=="symbol"?e:e+""}function PZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MZ(t){return t.dataKey}function DZ(t,e){return R.isValidElement(t)?R.cloneElement(t,e):typeof t=="function"?R.createElement(t,e):R.createElement(y$,e)}var O2=[],OZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function LZ(t){var e,n,r=Vi(t,OZ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:u,content:c,filterNull:d,isAnimationActive:h,offset:p,payloadUniqBy:g,position:v,reverseDirection:T,useTranslate3d:S,wrapperStyle:A,cursor:I,shared:V,trigger:N,defaultIndex:B,portal:q,axisId:L}=r,D=gn(),O=typeof B=="number"?String(B):B;R.useEffect(()=>{D(RX({shared:V,trigger:N,axisId:L,active:i,defaultIndex:O}))},[D,V,N,L,i,O]);var U=Ov(),F=fV(),M=SX(V),{activeIndex:z,isActive:H}=(e=Fe(Se=>VQ(Se,M,N,O)))!==null&&e!==void 0?e:{},de=Fe(Se=>UQ(Se,M,N,O)),te=Fe(Se=>M6(Se,M,N,O)),X=Fe(Se=>LQ(Se,M,N,O)),K=de,ae=lZ(),me=(n=i??H)!==null&&n!==void 0?n:!1,[Y,W]=XH([K,me]),se=M==="axis"?te:void 0;kZ(M,N,X,se,z,me);var $=q??ae;if($==null||U==null||M==null)return null;var ee=K??O2;me||(ee=O2),d&&ee.length&&(ee=wH(ee.filter(Se=>Se.value!=null&&(Se.hide!==!0||r.includeHidden)),g,MZ));var ge=ee.length>0,_e=R.createElement(T$,{allowEscapeViewBox:a,animationDuration:s,animationEasing:u,isAnimationActive:h,active:me,coordinate:X,hasPayload:ge,offset:p,position:v,reverseDirection:T,useTranslate3d:S,viewBox:U,wrapperStyle:A,lastBoundingBox:Y,innerRef:W,hasPortalFromProps:!!q},DZ(c,D2(D2({},r),{},{payload:ee,label:se,active:me,activeIndex:z,coordinate:X,accessibilityLayer:F})));return R.createElement(R.Fragment,null,j4.createPortal(_e,$),me&&R.createElement(sZ,{cursor:I,tooltipEventType:M,coordinate:X,payload:ee,index:z}))}var V6=t=>null;V6.displayName="Cell";function UZ(t,e,n){return(e=VZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VZ(t){var e=FZ(t,"string");return typeof e=="symbol"?e:e+""}function FZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zZ{constructor(e){UZ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){jZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jZ(t,e,n){return(e=qZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qZ(t){var e=HZ(t,"string");return typeof e=="symbol"?e:e+""}function HZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GZ={cacheSize:2e3,enableCache:!0},F6=BZ({},GZ),U2=new zZ(F6.cacheSize),$Z={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},V2="recharts_measurement_span";function KZ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(u)}var F2=(t,e)=>{try{var n=document.getElementById(V2);n||(n=document.createElement("span"),n.setAttribute("id",V2),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,$Z,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ch=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ip.isSsr)return{width:0,height:0};if(!F6.enableCache)return F2(e,n);var r=KZ(e,n),i=U2.get(r);if(i)return i;var a=F2(e,n);return U2.set(r,a),a},z2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,B2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,WZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,z6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},JZ=Object.keys(z6),Dc="NaN";function XZ(t,e){return t*z6[e]}class Lr{static parse(e){var n,[,r,i]=(n=WZ.exec(e))!==null&&n!==void 0?n:[];return new Lr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Xa(e)&&(this.unit=""),n!==""&&!YZ.test(n)&&(this.num=NaN,this.unit=""),JZ.includes(n)&&(this.num=XZ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Lr(NaN,""):new Lr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Lr(NaN,""):new Lr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Lr(NaN,""):new Lr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Lr(NaN,""):new Lr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Xa(this.num)}}function B6(t){if(t.includes(Dc))return Dc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=z2.exec(e))!==null&&n!==void 0?n:[],s=Lr.parse(r??""),u=Lr.parse(a??""),c=i==="*"?s.multiply(u):s.divide(u);if(c.isNaN())return Dc;e=e.replace(z2,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,p,g]=(d=B2.exec(e))!==null&&d!==void 0?d:[],v=Lr.parse(h??""),T=Lr.parse(g??""),S=p==="+"?v.add(T):v.subtract(T);if(S.isNaN())return Dc;e=e.replace(B2,S.toString())}return e}var j2=/\(([^()]*)\)/;function QZ(t){for(var e=t,n;(n=j2.exec(e))!=null;){var[,r]=n;e=e.replace(j2,B6(r))}return e}function ZZ(t){var e=t.replace(/\s+/g,"");return e=QZ(e),e=B6(e),e}function eee(t){try{return ZZ(t)}catch{return Dc}}function aE(t){var e=eee(t.slice(5,-1));return e===Dc?"":e}var tee=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],nee=["dx","dy","angle","className","breakAll"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(null,arguments)}function q2(t,e){if(t==null)return{};var n,r,i=ree(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ree(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var j6=/[ \f\n\r\t\v\u2028\u2029]+/,q6=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];$n(e)||(n?i=e.toString().split(""):i=e.toString().split(j6));var a=i.map(u=>({word:u,width:ch(u,r).width})),s=n?0:ch("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function iee(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var H6=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:u}=a,c=i[i.length-1];if(c&&u!=null&&(e==null||r||c.width+u+n<Number(e)))c.words.push(s),c.width+=u+n;else{var d={words:[s],width:u};i.push(d)}return i},[]),G6=t=>t.reduce((e,n)=>e.width>n.width?e:n),aee="",H2=(t,e,n,r,i,a,s,u)=>{var c=t.slice(0,e),d=q6({breakAll:n,style:r,children:c+aee});if(!d)return[!1,[]];var h=H6(d.wordsWithComputedWidth,a,s,u),p=h.length>i||G6(h).width>Number(a);return[p,h]},oee=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:u,breakAll:c}=t,d=je(a),h=String(s),p=H6(e,r,n,i);if(!d||i)return p;var g=p.length>a||G6(p).width>Number(r);if(!g)return p;for(var v=0,T=h.length-1,S=0,A;v<=T&&S<=h.length-1;){var I=Math.floor((v+T)/2),V=I-1,[N,B]=H2(h,V,c,u,a,r,n,i),[q]=H2(h,I,c,u,a,r,n,i);if(!N&&!q&&(v=I+1),N&&q&&(T=I-1),!N&&q){A=B;break}S++}return A||p},G2=t=>{var e=$n(t)?[]:t.toString().split(j6);return[{words:e,width:void 0}]},see=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!ip.isSsr){var u,c,d=q6({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:p}=d;u=h,c=p}else return G2(r);return oee({breakAll:a,children:r,maxLines:s,style:i},u,c,e,!!n)}return G2(r)},$6="#808080",lee={angle:0,breakAll:!1,capHeight:"0.71em",fill:$6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},p1=R.forwardRef((t,e)=>{var n=Vi(t,lee),{x:r,y:i,lineHeight:a,capHeight:s,fill:u,scaleToFit:c,textAnchor:d,verticalAnchor:h}=n,p=q2(n,tee),g=R.useMemo(()=>see({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:v,dy:T,angle:S,className:A,breakAll:I}=p,V=q2(p,nee);if(!Qa(r)||!Qa(i)||g.length===0)return null;var N=Number(r)+(je(v)?v:0),B=Number(i)+(je(T)?T:0);if(!mn(N)||!mn(B))return null;var q;switch(h){case"start":q=aE("calc(".concat(s,")"));break;case"middle":q=aE("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:q=aE("calc(".concat(g.length-1," * -").concat(a,")"));break}var L=[];if(c){var D=g[0].width,{width:O}=p;L.push("scale(".concat(je(O)&&je(D)?O/D:1,")"))}return S&&L.push("rotate(".concat(S,", ").concat(N,", ").concat(B,")")),L.length&&(V.transform=L.join(" ")),R.createElement("text",Bw({},Mi(V),{ref:e,x:N,y:B,className:Ot("recharts-text",A),textAnchor:d,fill:u.includes("url")?$6:u}),g.map((U,F)=>{var M=U.words.join(I?"":" ");return R.createElement("tspan",{x:N,dy:F===0?q:a,key:"".concat(M,"-").concat(F)},M)}))});p1.displayName="Text";var uee=["labelRef"];function cee(t,e){if(t==null)return{};var n,r,i=dee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){fee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fee(t,e,n){return(e=hee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hee(t){var e=pee(t,"string");return typeof e=="symbol"?e:e+""}function pee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ao(){return Ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ao.apply(null,arguments)}var K6=R.createContext(null),mee=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:u}=t,c=R.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return R.createElement(K6.Provider,{value:c},u)},Y6=()=>{var t=R.useContext(K6),e=Ov();return t||iV(e)},gee=R.createContext(null),yee=()=>{var t=R.useContext(gee),e=Fe(S3);return t||e},vee=t=>{var{value:e,formatter:n}=t,r=$n(t.children)?e:t.children;return typeof n=="function"?n(r):r},m1=t=>t!=null&&typeof t=="function",_ee=(t,e)=>{var n=ri(e-t),r=Math.min(Math.abs(e-t),360);return n*r},bee=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:u,cy:c,innerRadius:d,outerRadius:h,startAngle:p,endAngle:g,clockWise:v}=i,T=(d+h)/2,S=_ee(p,g),A=S>=0?1:-1,I,V;switch(e){case"insideStart":I=p+A*a,V=v;break;case"insideEnd":I=g-A*a,V=!v;break;case"end":I=g+A*a,V=v;break;default:throw new Error("Unsupported position ".concat(e))}V=S<=0?V:!V;var N=or(u,c,T,I),B=or(u,c,T,I+(V?1:-1)*359),q="M".concat(N.x,",").concat(N.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(V?0:1,`,
    `).concat(B.x,",").concat(B.y),L=$n(t.id)?wh("recharts-radial-line-"):t.id;return R.createElement("text",Ao({},r,{dominantBaseline:"central",className:Ot("recharts-radial-bar-label",s)}),R.createElement("defs",null,R.createElement("path",{id:L,d:q})),R.createElement("textPath",{xlinkHref:"#".concat(L)},n))},xee=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:c}=t,d=(u+c)/2;if(n==="outside"){var{x:h,y:p}=or(r,i,s+e,d);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+s)/2,{x:v,y:T}=or(r,i,g,d);return{x:v,y:T,textAnchor:"middle",verticalAnchor:"middle"}},jw=t=>"cx"in t&&je(t.cx),Eee=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!jw(n)&&(a=n);var{x:s,y:u,upperWidth:c,lowerWidth:d,height:h}=e,p=s,g=s+(c-d)/2,v=(p+g)/2,T=(c+d)/2,S=p+c/2,A=h>=0?1:-1,I=A*r,V=A>0?"end":"start",N=A>0?"start":"end",B=c>=0?1:-1,q=B*r,L=B>0?"end":"start",D=B>0?"start":"end";if(i==="top"){var O={x:p+c/2,y:u-I,textAnchor:"middle",verticalAnchor:V};return fn(fn({},O),a?{height:Math.max(u-a.y,0),width:c}:{})}if(i==="bottom"){var U={x:g+d/2,y:u+h+I,textAnchor:"middle",verticalAnchor:N};return fn(fn({},U),a?{height:Math.max(a.y+a.height-(u+h),0),width:d}:{})}if(i==="left"){var F={x:v-q,y:u+h/2,textAnchor:L,verticalAnchor:"middle"};return fn(fn({},F),a?{width:Math.max(F.x-a.x,0),height:h}:{})}if(i==="right"){var M={x:v+T+q,y:u+h/2,textAnchor:D,verticalAnchor:"middle"};return fn(fn({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:h}:{})}var z=a?{width:T,height:h}:{};return i==="insideLeft"?fn({x:v+q,y:u+h/2,textAnchor:D,verticalAnchor:"middle"},z):i==="insideRight"?fn({x:v+T-q,y:u+h/2,textAnchor:L,verticalAnchor:"middle"},z):i==="insideTop"?fn({x:p+c/2,y:u+I,textAnchor:"middle",verticalAnchor:N},z):i==="insideBottom"?fn({x:g+d/2,y:u+h-I,textAnchor:"middle",verticalAnchor:V},z):i==="insideTopLeft"?fn({x:p+q,y:u+I,textAnchor:D,verticalAnchor:N},z):i==="insideTopRight"?fn({x:p+c-q,y:u+I,textAnchor:L,verticalAnchor:N},z):i==="insideBottomLeft"?fn({x:g+q,y:u+h-I,textAnchor:D,verticalAnchor:V},z):i==="insideBottomRight"?fn({x:g+d-q,y:u+h-I,textAnchor:L,verticalAnchor:V},z):i&&typeof i=="object"&&(je(i.x)||Do(i.x))&&(je(i.y)||Do(i.y))?fn({x:s+ia(i.x,T),y:u+ia(i.y,h),textAnchor:"end",verticalAnchor:"end"},z):fn({x:S,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},z)},wee={angle:0,offset:5,zIndex:Br.label,position:"middle",textBreakAll:!1};function Us(t){var e=Vi(t,wee),{viewBox:n,position:r,value:i,children:a,content:s,className:u="",textBreakAll:c,labelRef:d}=e,h=yee(),p=Y6(),g=r==="center"?p:h??p,v,T,S;if(n==null?v=g:jw(n)?v=n:v=iV(n),!v||$n(i)&&$n(a)&&!R.isValidElement(s)&&typeof s!="function")return null;var A=fn(fn({},e),{},{viewBox:v});if(R.isValidElement(s)){var{labelRef:I}=A,V=cee(A,uee);return R.cloneElement(s,V)}if(typeof s=="function"){if(T=R.createElement(s,A),R.isValidElement(T))return T}else T=vee(e);var N=Mi(e);if(jw(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return bee(e,r,T,N,v);S=xee(v,e.offset,e.position)}else S=Eee(e,v);return R.createElement(fl,{zIndex:e.zIndex},R.createElement(p1,Ao({ref:d,className:Ot("recharts-label",u)},N,S,{textAnchor:iee(N.textAnchor)?N.textAnchor:S.textAnchor,breakAll:c}),T))}Us.displayName="Label";var Tee=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?R.createElement(Us,Ao({key:"label-implicit"},r)):Qa(t)?R.createElement(Us,Ao({key:"label-implicit",value:t},r)):R.isValidElement(t)?t.type===Us?R.cloneElement(t,fn({key:"label-implicit"},r)):R.createElement(Us,Ao({key:"label-implicit",content:t},r)):m1(t)?R.createElement(Us,Ao({key:"label-implicit",content:t},r)):t&&typeof t=="object"?R.createElement(Us,Ao({},t,{key:"label-implicit"},r)):null};function See(t){var{label:e,labelRef:n}=t,r=Y6();return Tee(e,r,n)||null}var oE={},sE={},K2;function Aee(){return K2||(K2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(sE)),sE}var lE={},Y2;function Cee(){return Y2||(Y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(lE)),lE}var W2;function Iee(){return W2||(W2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aee(),n=Cee(),r=ZT();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(oE)),oE}var uE,J2;function kee(){return J2||(J2=1,uE=Iee().last),uE}var Nee=kee();const Ree=Ui(Nee);var Pee=["valueAccessor"],Mee=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ly.apply(null,arguments)}function X2(t,e){if(t==null)return{};var n,r,i=Dee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Oee=t=>Array.isArray(t.value)?Ree(t.value):t.value,W6=R.createContext(void 0),Lee=W6.Provider,J6=R.createContext(void 0);J6.Provider;function Uee(){return R.useContext(W6)}function Vee(){return R.useContext(J6)}function Bg(t){var{valueAccessor:e=Oee}=t,n=X2(t,Pee),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:u}=n,c=X2(n,Mee),d=Uee(),h=Vee(),p=d||h;return!p||!p.length?null:R.createElement(fl,{zIndex:u??Br.label},R.createElement(Mo,{className:"recharts-label-list"},p.map((g,v)=>{var T,S=$n(r)?e(g,v):yr(g&&g.payload,r),A=$n(a)?{}:{id:"".concat(a,"-").concat(v)};return R.createElement(Us,Ly({key:"label-".concat(v)},Mi(g),c,A,{fill:(T=n.fill)!==null&&T!==void 0?T:g.fill,parentViewBox:g.parentViewBox,value:S,textBreakAll:s,viewBox:g.viewBox,index:v,zIndex:0}))})))}Bg.displayName="LabelList";function Fee(t){var{label:e}=t;return e?e===!0?R.createElement(Bg,{key:"labelList-implicit"}):R.isValidElement(e)||m1(e)?R.createElement(Bg,{key:"labelList-implicit",content:e}):typeof e=="object"?R.createElement(Bg,Ly({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var zee={radiusAxis:{},angleAxis:{}},X6=qr({name:"polarAxis",initialState:zee,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:yCe,removeRadiusAxis:vCe,addAngleAxis:_Ce,removeAngleAxis:bCe}=X6.actions,Bee=X6.reducer,cE={exports:{}},Pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2;function jee(){if(Q2)return Pt;Q2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function T(S){if(typeof S=="object"&&S!==null){var A=S.$$typeof;switch(A){case t:switch(S=S.type,S){case n:case i:case r:case c:case d:case g:return S;default:switch(S=S&&S.$$typeof,S){case s:case u:case p:case h:return S;case a:return S;default:return A}}case e:return A}}}return Pt.ContextConsumer=a,Pt.ContextProvider=s,Pt.Element=t,Pt.ForwardRef=u,Pt.Fragment=n,Pt.Lazy=p,Pt.Memo=h,Pt.Portal=e,Pt.Profiler=i,Pt.StrictMode=r,Pt.Suspense=c,Pt.SuspenseList=d,Pt.isContextConsumer=function(S){return T(S)===a},Pt.isContextProvider=function(S){return T(S)===s},Pt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Pt.isForwardRef=function(S){return T(S)===u},Pt.isFragment=function(S){return T(S)===n},Pt.isLazy=function(S){return T(S)===p},Pt.isMemo=function(S){return T(S)===h},Pt.isPortal=function(S){return T(S)===e},Pt.isProfiler=function(S){return T(S)===i},Pt.isStrictMode=function(S){return T(S)===r},Pt.isSuspense=function(S){return T(S)===c},Pt.isSuspenseList=function(S){return T(S)===d},Pt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===c||S===d||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===h||S.$$typeof===s||S.$$typeof===a||S.$$typeof===u||S.$$typeof===v||S.getModuleId!==void 0)},Pt.typeOf=T,Pt}var Z2;function qee(){return Z2||(Z2=1,cE.exports=jee()),cE.exports}var Hee=qee(),eM=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",tM=null,dE=null,Q6=t=>{if(t===tM&&Array.isArray(dE))return dE;var e=[];return R.Children.forEach(t,n=>{$n(n)||(Hee.isFragment(n)?e=e.concat(Q6(n.props.children)):e.push(n))}),dE=e,tM=t,e};function Gee(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>eM(i)):r=[eM(e)],Q6(t).forEach(i=>{var a=ed(i,"type.displayName")||ed(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var fE={},nM;function $ee(){return nM||(nM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(fE)),fE}var hE,rM;function Kee(){return rM||(rM=1,hE=$ee().isPlainObject),hE}var Yee=Kee();const Wee=Ui(Yee);function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){Jee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jee(t,e,n){return(e=Xee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xee(t){var e=Qee(t,"string");return typeof e=="symbol"?e:e+""}function Qee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uy.apply(null,arguments)}var oM=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},Zee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ete=t=>{var e=Vi(t,Zee),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:u}=e,{animationEasing:c,animationDuration:d,animationBegin:h,isUpdateAnimationActive:p}=e,g=R.useRef(null),[v,T]=R.useState(-1),S=R.useRef(i),A=R.useRef(a),I=R.useRef(s),V=R.useRef(n),N=R.useRef(r),B=pS(t,"trapezoid-");if(R.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var de=g.current.getTotalLength();de&&T(de)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var q=Ot("recharts-trapezoid",u);if(!p)return R.createElement("g",null,R.createElement("path",Uy({},Mi(e),{className:q,d:oM(n,r,i,a,s)})));var L=S.current,D=A.current,O=I.current,U=V.current,F=N.current,M="0px ".concat(v===-1?1:v,"px"),z="".concat(v,"px 0px"),H=pV(["strokeDasharray"],d,c);return R.createElement(hS,{animationId:B,key:B,canBegin:v>0,duration:d,easing:c,isActive:p,begin:h},de=>{var te=rr(L,i,de),X=rr(D,a,de),K=rr(O,s,de),ae=rr(U,n,de),me=rr(F,r,de);g.current&&(S.current=te,A.current=X,I.current=K,V.current=ae,N.current=me);var Y=de>0?{transition:H,strokeDasharray:z}:{strokeDasharray:M};return R.createElement("path",Uy({},Mi(e),{className:q,d:oM(ae,me,te,X,K),ref:g,style:aM(aM({},Y),e.style)}))})},tte=["option","shapeType","propTransformer","activeClassName"];function nte(t,e){if(t==null)return{};var n,r,i=rte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ite(t,e,n){return(e=ate(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t){var e=ote(t,"string");return typeof e=="symbol"?e:e+""}function ote(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ste(t,e){return Vy(Vy({},e),t)}function lte(t,e){return t==="symbols"}function lM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return R.createElement(vV,n);case"trapezoid":return R.createElement(ete,n);case"sector":return R.createElement(xV,n);case"symbols":if(lte(e))return R.createElement(lU,n);break;case"curve":return R.createElement(hV,n);default:return null}}function ute(t){return R.isValidElement(t)?t.props:t}function cte(t){var{option:e,shapeType:n,propTransformer:r=ste,activeClassName:i="recharts-active-shape"}=t,a=nte(t,tte),s;if(R.isValidElement(e))s=R.cloneElement(e,Vy(Vy({},a),ute(e)));else if(typeof e=="function")s=e(a,a.index);else if(Wee(e)&&typeof e!="boolean"){var u=r(e,a);s=R.createElement(lM,{shapeType:n,elementProps:u})}else{var c=a;s=R.createElement(lM,{shapeType:n,elementProps:c})}return a.isActive?R.createElement(Mo,{className:i},s):s}var Z6=(t,e,n)=>{var r=gn();return(i,a)=>s=>{t==null||t(i,a,s),r(p6({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},e5=t=>{var e=gn();return(n,r)=>i=>{t==null||t(n,r,i),e(PX())}},t5=(t,e,n)=>{var r=gn();return(i,a)=>s=>{t==null||t(i,a,s),r(MX({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function dte(t){var{tooltipEntrySettings:e}=t,n=gn(),r=di(),i=R.useRef(null);return R.useLayoutEffect(()=>{r||(i.current===null?n(IX(e)):i.current!==e&&n(kX({prev:i.current,next:e})),i.current=e)},[e,n,r]),R.useLayoutEffect(()=>()=>{i.current&&(n(NX(i.current)),i.current=null)},[n]),null}function fte(t){var{legendPayload:e}=t,n=gn(),r=di(),i=R.useRef(null);return R.useLayoutEffect(()=>{r||(i.current===null?n(u$(e)):i.current!==e&&n(c$({prev:i.current,next:e})),i.current=e)},[n,r,e]),R.useLayoutEffect(()=>()=>{i.current&&(n(d$(i.current)),i.current=null)},[n]),null}var pE,hte=()=>{var[t]=R.useState(()=>wh("uid-"));return t},pte=(pE=V9.useId)!==null&&pE!==void 0?pE:hte;function n5(t,e){var n=pte();return e||(t?"".concat(t,"-").concat(n):n)}var mte=R.createContext(void 0),gte=t=>{var{id:e,type:n,children:r}=t,i=n5("recharts-".concat(n),e);return R.createElement(mte.Provider,{value:i},r(i))},yte={cartesianItems:[],polarItems:[]},r5=qr({name:"graphicalItems",initialState:yte,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Jt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ra(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Jt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ra(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Jt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Jt()},removePolarGraphicalItem:{reducer(t,e){var n=ra(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Jt()}}}),{addCartesianGraphicalItem:vte,replaceCartesianGraphicalItem:_te,removeCartesianGraphicalItem:bte,addPolarGraphicalItem:xCe,removePolarGraphicalItem:ECe}=r5.actions,xte=r5.reducer,Ete=t=>{var e=gn(),n=R.useRef(null);return R.useLayoutEffect(()=>{n.current===null?e(vte(t)):n.current!==t&&e(_te({prev:n.current,next:t})),n.current=t},[e,t]),R.useLayoutEffect(()=>()=>{n.current&&(e(bte(n.current)),n.current=null)},[e]),null},wte=R.memo(Ete);function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){Tte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tte(t,e,n){return(e=Ste(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ste(t){var e=Ate(t,"string");return typeof e=="symbol"?e:e+""}function Ate(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cte={xAxis:{},yAxis:{},zAxis:{}},i5=qr({name:"cartesianAxis",initialState:Cte,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Jt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Jt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Jt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Jt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Jt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Jt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Jt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Jt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Jt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=cM(cM({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Ite,replaceXAxis:kte,removeXAxis:Nte,addYAxis:Rte,replaceYAxis:Pte,removeYAxis:Mte,addZAxis:wCe,replaceZAxis:TCe,removeZAxis:SCe,updateYAxisWidth:Dte}=i5.actions,Ote=i5.reducer,Lte=ce([Kn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Ute=ce([Lte,$o,Ko],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),a5=()=>Fe(Ute),Vte="Invariant failed";function Fte(t,e){throw new Error(Vte)}var zte=["x","y"];function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(null,arguments)}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){Bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bte(t,e,n){return(e=jte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t){var e=qte(t,"string");return typeof e=="symbol"?e:e+""}function qte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hte(t,e){if(t==null)return{};var n,r,i=Gte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $te(t,e){var{x:n,y:r}=t,i=Hte(t,zte),a="".concat(n),s=parseInt(a,10),u="".concat(r),c=parseInt(u,10),d="".concat(e.height||i.height),h=parseInt(d,10),p="".concat(e.width||i.width),g=parseInt(p,10);return Yf(Yf(Yf(Yf(Yf({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function Fy(t){return R.createElement(cte,qw({shapeType:"rectangle",propTransformer:$te,activeClassName:"recharts-active-bar"},t))}var Kte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(je(e))return e;var a=je(r)||$n(r);return a?e(r,i):(a||Fte(),n)}},Yte={},o5=qr({name:"errorBars",initialState:Yte,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ACe,replaceErrorBar:CCe,removeErrorBar:ICe}=o5.actions,Wte=o5.reducer,Jte=["children"];function Xte(t,e){if(t==null)return{};var n,r,i=Qte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ene=R.createContext(Zte);function tne(t){var{children:e}=t,n=Xte(t,Jte);return R.createElement(ene.Provider,{value:n},e)}function s5(t,e){var n,r,i=Fe(d=>Wo(d,t)),a=Fe(d=>Jo(d,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:jn.allowDataOverflow,u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:qn.allowDataOverflow,c=s||u;return{needClip:c,needClipX:s,needClipY:u}}function nne(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=a5(),{needClipX:a,needClipY:s,needClip:u}=s5(e,n);if(!u||!i)return null;var{x:c,y:d,width:h,height:p}=i;return R.createElement("clipPath",{id:"clipPath-".concat(r)},R.createElement("rect",{x:a?c:c-h/2,y:s?d:d-p/2,width:a?h:h*2,height:s?p:p*2}))}function rne(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&mn(t.zIndex)?t.zIndex:e}var mE={exports:{}},gE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fM;function ine(){if(fM)return gE;fM=1;var t=gd();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,u=t.useDebugValue;return gE.useSyncExternalStoreWithSelector=function(c,d,h,p,g){var v=i(null);if(v.current===null){var T={hasValue:!1,value:null};v.current=T}else T=v.current;v=s(function(){function A(q){if(!I){if(I=!0,V=q,q=p(q),g!==void 0&&T.hasValue){var L=T.value;if(g(L,q))return N=L}return N=q}if(L=N,n(V,q))return L;var D=p(q);return g!==void 0&&g(L,D)?(V=q,L):(V=q,N=D)}var I=!1,V,N,B=h===void 0?null:h;return[function(){return A(d())},B===null?void 0:function(){return A(B())}]},[d,h,p,g]);var S=r(c,v[0],v[1]);return a(function(){T.hasValue=!0,T.value=S},[S]),u(S),S},gE}var hM;function ane(){return hM||(hM=1,mE.exports=ine()),mE.exports}ane();function one(t){t()}function sne(){let t=null,e=null;return{clear(){t=null,e=null},notify(){one(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var pM={notify(){},get:()=>[]};function lne(t,e){let n,r=pM,i=0,a=!1;function s(S){h();const A=r.subscribe(S);let I=!1;return()=>{I||(I=!0,A(),p())}}function u(){r.notify()}function c(){T.onStateChange&&T.onStateChange()}function d(){return a}function h(){i++,n||(n=t.subscribe(c),r=sne())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=pM)}function g(){a||(a=!0,h())}function v(){a&&(a=!1,p())}const T={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:d,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return T}var une=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cne=une(),dne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fne=dne(),hne=()=>cne||fne?R.useLayoutEffect:R.useEffect,pne=hne();function mM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function mne(t,e){if(mM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!mM(t[n[i]],e[n[i]]))return!1;return!0}var yE=Symbol.for("react-redux-context"),vE=typeof globalThis<"u"?globalThis:{};function gne(){if(!R.createContext)return{};const t=vE[yE]??(vE[yE]=new Map);let e=t.get(R.createContext);return e||(e=R.createContext(null),t.set(R.createContext,e)),e}var yne=gne();function vne(t){const{children:e,context:n,serverState:r,store:i}=t,a=R.useMemo(()=>{const c=lne(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=R.useMemo(()=>i.getState(),[i]);pne(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const u=n||yne;return R.createElement(u.Provider,{value:a},e)}var _ne=vne,bne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function xne(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function g1(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(bne.has(r)){if(t[r]==null&&e[r]==null)continue;if(!mne(t[r],e[r]))return!1}else if(!xne(t[r],e[r]))return!1;return!0}var Ene=["onMouseEnter","onMouseLeave","onClick"],wne=["value","background","tooltipPosition"],Tne=["id"],Sne=["onMouseEnter","onClick","onMouseLeave"];function zo(){return zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zo.apply(null,arguments)}function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){Ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e,n){return(e=Cne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=Ine(t,"string");return typeof e=="symbol"?e:e+""}function Ine(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zy(t,e){if(t==null)return{};var n,r,i=kne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nne=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:ZU(n,e),payload:t}]},Rne=R.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:u,tooltipType:c}=t,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:ZU(a,e),hide:s,type:c,color:i,unit:u}};return R.createElement(dte,{tooltipEntrySettings:d})});function Pne(t){var e=Fe(ud),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:u,onClick:c}=a,d=zy(a,Ene),h=Z6(s,r),p=e5(u),g=t5(c,r);if(!i||n==null)return null;var v=GT(i);return R.createElement(fl,{zIndex:rne(i,Br.barBackground)},n.map((T,S)=>{var{value:A,background:I,tooltipPosition:V}=T,N=zy(T,wne);if(!I)return null;var B=h(T,S),q=p(T,S),L=g(T,S),D=wr(wr(wr(wr(wr({option:i,isActive:String(S)===e},N),{},{fill:"#eee"},I),v),QT(d,T,S)),{},{onMouseEnter:B,onMouseLeave:q,onClick:L,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return R.createElement(Fy,zo({key:"background-bar-".concat(S)},D))}))}function Mne(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return wr(wr({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return R.createElement(Lee,{value:e?i:void 0},n)}function Dne(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=t,u=Fe(ud),c=Fe(I6),d=n&&String(a)===u&&(c==null||s===c),h=d?n:e;return d?R.createElement(fl,{zIndex:Br.activeBar},R.createElement(Fy,zo({},r,{name:String(r.name)},i,{isActive:d,option:h,index:a,dataKey:s}))):R.createElement(Fy,zo({},r,{name:String(r.name)},i,{isActive:d,option:h,index:a,dataKey:s}))}function One(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return R.createElement(Fy,zo({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function Lne(t){var e,{data:n,props:r}=t,i=(e=Xs(r))!==null&&e!==void 0?e:{},{id:a}=i,s=zy(i,Tne),{shape:u,dataKey:c,activeBar:d}=r,{onMouseEnter:h,onClick:p,onMouseLeave:g}=r,v=zy(r,Sne),T=Z6(h,c),S=e5(g),A=t5(p,c);return n?R.createElement(R.Fragment,null,n.map((I,V)=>R.createElement(Mo,zo({key:"rectangle-".concat(I==null?void 0:I.x,"-").concat(I==null?void 0:I.y,"-").concat(I==null?void 0:I.value,"-").concat(V),className:"recharts-bar-rectangle"},QT(v,I,V),{onMouseEnter:T(I,V),onMouseLeave:S(I,V),onClick:A(I,V)}),d?R.createElement(Dne,{shape:u,activeBar:d,baseProps:s,entry:I,index:V,dataKey:c}):R.createElement(One,{shape:u,baseProps:s,entry:I,index:V,dataKey:c})))):null}function Une(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:u,animationEasing:c,onAnimationEnd:d,onAnimationStart:h}=e,p=n.current,g=pS(e,"recharts-bar-"),[v,T]=R.useState(!1),S=!v,A=R.useCallback(()=>{typeof d=="function"&&d(),T(!1)},[d]),I=R.useCallback(()=>{typeof h=="function"&&h(),T(!0)},[h]);return R.createElement(Mne,{showLabels:S,rects:r},R.createElement(hS,{animationId:g,begin:s,duration:u,isActive:a,easing:c,onAnimationEnd:A,onAnimationStart:I,key:g},V=>{var N=V===1?r:r==null?void 0:r.map((B,q)=>{var L=p&&p[q];if(L)return wr(wr({},B),{},{x:rr(L.x,B.x,V),y:rr(L.y,B.y,V),width:rr(L.width,B.width,V),height:rr(L.height,B.height,V)});if(i==="horizontal"){var D=rr(0,B.height,V),O=rr(B.stackedBarStart,B.y,V);return wr(wr({},B),{},{y:O,height:D})}var U=rr(0,B.width,V),F=rr(B.stackedBarStart,B.x,V);return wr(wr({},B),{},{width:U,x:F})});return V>0&&(n.current=N??null),N==null?null:R.createElement(Mo,null,R.createElement(Lne,{props:e,data:N}))}),R.createElement(Fee,{label:e.label}),e.children)}function Vne(t){var e=R.useRef(null);return R.createElement(Une,{previousRectanglesRef:e,props:t})}var l5=0,Fne=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:yr(t,e)}};class zne extends R.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:u,background:c,id:d}=this.props;if(e||n==null)return null;var h=Ot("recharts-bar",i),p=d;return R.createElement(Mo,{className:h,id:d},u&&R.createElement("defs",null,R.createElement(nne,{clipPathId:p,xAxisId:a,yAxisId:s})),R.createElement(Mo,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},R.createElement(Pne,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),R.createElement(Vne,this.props)))}}var Bne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:l5,xAxisId:0,yAxisId:0,zIndex:Br.bar};function jne(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:d,isAnimationActive:h}=t,{needClip:p}=s5(e,n),g=Lv(),v=di(),T=Gee(t.children,V6),S=Fe(V=>gre(V,e,n,v,t.id,T));if(g!=="vertical"&&g!=="horizontal")return null;var A,I=S==null?void 0:S[0];return I==null||I.height==null||I.width==null?A=0:A=g==="vertical"?I.height/2:I.width/2,R.createElement(tne,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:Fne,errorBarOffset:A},R.createElement(zne,zo({},t,{layout:g,needClip:p,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:d,isAnimationActive:h})))}function qne(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:u,xAxisTicks:c,yAxisTicks:d,stackedData:h,displayedData:p,offset:g,cells:v,parentViewBox:T,dataStartIndex:S}=t,A=e==="horizontal"?u:s,I=h?A.scale.domain():null,V=u7({numericAxis:A}),N=A.scale(V);return p.map((B,q)=>{var L,D,O,U,F,M;h?L=r7(h[q+S],I):(L=yr(B,n),Array.isArray(L)||(L=[V,L]));var z=Kte(r,l5)(L[1],q);if(e==="horizontal"){var H,[de,te]=[u.scale(L[0]),u.scale(L[1])];D=BR({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:B,index:q}),O=(H=te??de)!==null&&H!==void 0?H:void 0,U=i.size;var X=de-te;if(F=Xa(X)?0:X,M={x:D,y:g.top,width:U,height:g.height},Math.abs(z)>0&&Math.abs(F)<Math.abs(z)){var K=ri(F||z)*(Math.abs(z)-Math.abs(F));O-=K,F+=K}}else{var[ae,me]=[s.scale(L[0]),s.scale(L[1])];if(D=ae,O=BR({axis:u,ticks:d,bandSize:a,offset:i.offset,entry:B,index:q}),U=me-ae,F=i.size,M={x:g.left,y:O,width:g.width,height:F},Math.abs(z)>0&&Math.abs(U)<Math.abs(z)){var Y=ri(U||z)*(Math.abs(z)-Math.abs(U));U+=Y}}if(D==null||O==null||U==null||F==null)return null;var W=wr(wr({},B),{},{stackedBarStart:N,x:D,y:O,width:U,height:F,value:h?L:L[1],payload:B,background:M,tooltipPosition:{x:D+U/2,y:O+F/2},parentViewBox:T},v&&v[q]&&v[q].props);return W}).filter(Boolean)}function Hne(t){var e=Vi(t,Bne),n=di();return R.createElement(gte,{id:e.id,type:"bar"},r=>R.createElement(R.Fragment,null,R.createElement(fte,{legendPayload:Nne(e)}),R.createElement(Rne,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),R.createElement(wte,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:l7(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),R.createElement(fl,{zIndex:e.zIndex},R.createElement(jne,zo({},e,{id:r})))))}var Hw=R.memo(Hne,g1);Hw.displayName="Bar";function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){Gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gne(t,e,n){return(e=$ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=Kne(t,"string");return typeof e=="symbol"?e:e+""}function Kne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yne=(t,e)=>e,Wne=(t,e,n)=>n,Jne=(t,e,n,r)=>r,Xne=(t,e,n,r,i)=>i,vp=ce([WS,Xne],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Qne=ce([vp],t=>t==null?void 0:t.maxBarSize),Zne=(t,e,n,r,i,a)=>a,vM=(t,e,n)=>{var r=n??t;if(!$n(r))return ia(r,e,0)},ere=ce([Ct,WS,Yne,Wne,Jne],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),tre=(t,e,n,r)=>{var i=Ct(t);return i==="horizontal"?Lw(t,"yAxis",n,r):Lw(t,"xAxis",e,r)},nre=(t,e,n)=>{var r=Ct(t);return r==="horizontal"?_2(t,"xAxis",e):_2(t,"yAxis",n)},rre=(t,e,n)=>{var r={},i=t.filter(Xv),a=t.filter(d=>d.stackId==null),s=i.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),r),u=Object.entries(s).map(d=>{var[h,p]=d,g=p.map(T=>T.dataKey),v=vM(e,n,p[0].barSize);return{stackId:h,dataKeys:g,barSize:v}}),c=a.map(d=>{var h=[d.dataKey].filter(g=>g!=null),p=vM(e,n,d.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...c]},ire=ce([ere,xJ,nre],rre),are=(t,e,n,r,i)=>{var a,s,u=vp(t,e,n,r,i);if(u!=null){var c=Ct(t),d=y3(t),{maxBarSize:h}=u,p=$n(h)?d:h,g,v;return c==="horizontal"?(g=ld(t,"xAxis",e,r),v=sd(t,"xAxis",e,r)):(g=ld(t,"yAxis",n,r),v=sd(t,"yAxis",n,r)),(a=(s=py(g,v,!0))!==null&&s!==void 0?s:p)!==null&&a!==void 0?a:0}},u5=(t,e,n,r)=>{var i=Ct(t),a,s;return i==="horizontal"?(a=ld(t,"xAxis",e,r),s=sd(t,"xAxis",e,r)):(a=ld(t,"yAxis",n,r),s=sd(t,"yAxis",n,r)),py(a,s)};function ore(t,e,n,r,i){var a=r.length;if(!(a<1)){var s=ia(t,n,0,!0),u,c=[];if(mn(r[0].barSize)){var d=!1,h=n/a,p=r.reduce((I,V)=>I+(V.barSize||0),0);p+=(a-1)*s,p>=n&&(p-=(a-1)*s,s=0),p>=n&&h>0&&(d=!0,h*=.9,p=a*h);var g=(n-p)/2>>0,v={offset:g-s,size:0};u=r.reduce((I,V)=>{var N,B={stackId:V.stackId,dataKeys:V.dataKeys,position:{offset:v.offset+v.size+s,size:d?h:(N=V.barSize)!==null&&N!==void 0?N:0}},q=[...I,B];return v=q[q.length-1].position,q},c)}else{var T=ia(e,n,0,!0);n-2*T-(a-1)*s<=0&&(s=0);var S=(n-2*T-(a-1)*s)/a;S>1&&(S>>=0);var A=mn(i)?Math.min(S,i):S;u=r.reduce((I,V,N)=>[...I,{stackId:V.stackId,dataKeys:V.dataKeys,position:{offset:T+(S+s)*N+(S-A)/2,size:A}}],c)}return u}}var sre=(t,e,n,r,i,a,s)=>{var u=$n(s)?e:s,c=ore(n,r,i!==a?i:a,t,u);return i!==a&&c!=null&&(c=c.map(d=>wg(wg({},d),{},{position:wg(wg({},d.position),{},{offset:d.position.offset-i/2})}))),c},lre=ce([ire,y3,bJ,v3,are,u5,Qne],sre),ure=(t,e,n,r)=>ld(t,"xAxis",e,r),cre=(t,e,n,r)=>ld(t,"yAxis",n,r),dre=(t,e,n,r)=>sd(t,"xAxis",e,r),fre=(t,e,n,r)=>sd(t,"yAxis",n,r),hre=ce([lre,vp],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),pre=(t,e)=>{var n=KS(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},mre=ce([tre,vp],pre),gre=ce([Kn,uS,ure,cre,dre,fre,hre,Ct,VS,u5,mre,vp,Zne],(t,e,n,r,i,a,s,u,c,d,h,p,g)=>{var{chartData:v,dataStartIndex:T,dataEndIndex:S}=c;if(!(p==null||s==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||d==null)){var{data:A}=p,I;if(A!=null&&A.length>0?I=A:I=v==null?void 0:v.slice(T,S+1),I!=null)return qne({layout:u,barSettings:p,pos:s,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:I,offset:t,cells:g,dataStartIndex:T})}}),yre=t=>{var{chartData:e}=t,n=gn(),r=di();return R.useEffect(()=>r?()=>{}:(n(R2(e)),()=>{n(R2(void 0))}),[e,n,r]),null},_M={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},c5=qr({name:"brush",initialState:_M,reducers:{setBrushSettings(t,e){return e.payload==null?_M:e.payload}}}),{setBrushSettings:kCe}=c5.actions,vre=c5.reducer;function _re(t,e,n){return(e=bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bre(t){var e=xre(t,"string");return typeof e=="symbol"?e:e+""}function xre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class y1{static create(e){return new y1(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}_re(y1,"EPS",1e-4);function Ere(t){return(t%180+180)%180}var wre=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Ere(i),s=a*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Tre={dots:[],areas:[],lines:[]},d5=qr({name:"referenceElements",initialState:Tre,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ra(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ra(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ra(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:NCe,removeDot:RCe,addArea:PCe,removeArea:MCe,addLine:DCe,removeLine:OCe}=d5.actions,Sre=d5.reducer,Are=R.createContext(void 0),Cre=t=>{var{children:e}=t,[n]=R.useState("".concat(wh("recharts"),"-clip")),r=a5();if(r==null)return null;var{x:i,y:a,width:s,height:u}=r;return R.createElement(Are.Provider,{value:n},R.createElement("defs",null,R.createElement("clipPath",{id:n},R.createElement("rect",{x:i,y:a,height:u,width:s}))),e)};function f5(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Ire(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return wre(r,n)}function kre(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:u}=t;return e===1?{start:r?i:a,end:r?i+s:a+u}:{start:r?i+s:a+u,end:r?i:a}}function By(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Nre(t,e){return f5(t,e+1)}function Rre(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:u}=e,c=0,d=1,h=s,p=function(){var T=r==null?void 0:r[c];if(T===void 0)return{v:f5(r,d)};var S=c,A,I=()=>(A===void 0&&(A=n(T,S)),A),V=T.coordinate,N=c===0||By(t,V,I,h,u);N||(c=0,h=s,d+=1),N&&(h=V+t*(I()/2+i),c+=d)},g;d<=a.length;)if(g=p(),g)return g.v;return[]}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){Pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pre(t,e,n){return(e=Mre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mre(t){var e=Dre(t,"string");return typeof e=="symbol"?e:e+""}function Dre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ore(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:u}=e,{end:c}=e,d=function(g){var v=a[g],T,S=()=>(T===void 0&&(T=n(v,g)),T);if(g===s-1){var A=t*(v.coordinate+t*S()/2-c);a[g]=v=hr(hr({},v),{},{tickCoord:A>0?v.coordinate-A*t:v.coordinate})}else a[g]=v=hr(hr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var I=By(t,v.tickCoord,S,u,c);I&&(c=v.tickCoord-t*(S()/2+i),a[g]=hr(hr({},v),{},{isShow:!0}))}},h=s-1;h>=0;h--)d(h);return a}function Lre(t,e,n,r,i,a){var s=(r||[]).slice(),u=s.length,{start:c,end:d}=e;if(a){var h=r[u-1],p=n(h,u-1),g=t*(h.coordinate+t*p/2-d);if(s[u-1]=h=hr(hr({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate}),h.tickCoord!=null){var v=By(t,h.tickCoord,()=>p,c,d);v&&(d=h.tickCoord-t*(p/2+i),s[u-1]=hr(hr({},h),{},{isShow:!0}))}}for(var T=a?u-1:u,S=function(V){var N=s[V],B,q=()=>(B===void 0&&(B=n(N,V)),B);if(V===0){var L=t*(N.coordinate-t*q()/2-c);s[V]=N=hr(hr({},N),{},{tickCoord:L<0?N.coordinate-L*t:N.coordinate})}else s[V]=N=hr(hr({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var D=By(t,N.tickCoord,q,c,d);D&&(c=N.tickCoord+t*(q()/2+i),s[V]=hr(hr({},N),{},{isShow:!0}))}},A=0;A<T;A++)S(A);return s}function Ure(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:u,interval:c,tickFormatter:d,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(je(c)||ip.isSsr){var g;return(g=Nre(i,je(c)?c:0))!==null&&g!==void 0?g:[]}var v=[],T=u==="top"||u==="bottom"?"width":"height",S=h&&T==="width"?ch(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(N,B)=>{var q=typeof d=="function"?d(N.value,B):N.value;return T==="width"?Ire(ch(q,{fontSize:e,letterSpacing:n}),S,p):ch(q,{fontSize:e,letterSpacing:n})[T]},I=i.length>=2?ri(i[1].coordinate-i[0].coordinate):1,V=kre(a,I,T);return c==="equidistantPreserveStart"?Rre(I,V,A,i,s):(c==="preserveStart"||c==="preserveStartEnd"?v=Lre(I,V,A,i,s,c==="preserveStartEnd"):v=Ore(I,V,A,i,s),v.filter(N=>N.isShow))}var Vre=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>s&&(s=p.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+a,d=s+c+u+(n?r:0);return Math.round(d)}return 0},Fre=["axisLine","width","height","className","hide","ticks","axisType"];function zre(t,e){if(t==null)return{};var n,r,i=Bre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(null,arguments)}function xM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(n),!0).forEach(function(r){jre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jre(t,e,n){return(e=qre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qre(t){var e=Hre(t,"string");return typeof e=="symbol"?e:e+""}function Hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lu={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Br.axis};function Gre(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:u,otherSvgProps:c}=t;if(!u)return null;var d=Cn(Cn(Cn({},c),Xs(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);d=Cn(Cn({},d),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);d=Cn(Cn({},d),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return R.createElement("line",pu({},d,{className:Ot("recharts-cartesian-axis-line",ed(u,"className"))}))}function $re(t,e,n,r,i,a,s,u,c){var d,h,p,g,v,T,S=u?-1:1,A=t.tickSize||s,I=je(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=h=t.coordinate,g=n+ +!u*i,p=g-S*A,T=p-S*c,v=I;break;case"left":p=g=t.coordinate,h=e+ +!u*r,d=h-S*A,v=d-S*c,T=I;break;case"right":p=g=t.coordinate,h=e+ +u*r,d=h+S*A,v=d+S*c,T=I;break;default:d=h=t.coordinate,g=n+ +u*i,p=g+S*A,T=p+S*c,v=I;break}return{line:{x1:d,y1:p,x2:h,y2:g},tick:{x:v,y:T}}}function Kre(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Yre(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Wre(t){var{option:e,tickProps:n,value:r}=t,i,a=Ot(n.className,"recharts-cartesian-axis-tick-value");if(R.isValidElement(e))i=R.cloneElement(e,Cn(Cn({},n),{},{className:a}));else if(typeof e=="function")i=e(Cn(Cn({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Ot(s,e==null?void 0:e.className)),i=R.createElement(p1,pu({},n,{className:s}),r)}return i}var Jre=R.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:u,padding:c,tickTextProps:d,orientation:h,mirror:p,x:g,y:v,width:T,height:S,tickSize:A,tickMargin:I,fontSize:V,letterSpacing:N,getTicksConfig:B,events:q,axisType:L}=t,D=Ure(Cn(Cn({},B),{},{ticks:n}),V,N),O=Kre(h,p),U=Yre(h,p),F=Xs(B),M=GT(r),z={};typeof i=="object"&&(z=i);var H=Cn(Cn({},F),{},{fill:"none"},z),de=D.map(K=>Cn({entry:K},$re(K,g,v,T,S,h,A,p,I))),te=de.map(K=>{var{entry:ae,line:me}=K;return R.createElement(Mo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ae.value,"-").concat(ae.coordinate,"-").concat(ae.tickCoord)},i&&R.createElement("line",pu({},H,me,{className:Ot("recharts-cartesian-axis-tick-line",ed(i,"className"))})))}),X=de.map((K,ae)=>{var{entry:me,tick:Y}=K,W=Cn(Cn(Cn(Cn({textAnchor:O,verticalAnchor:U},F),{},{stroke:"none",fill:a},M),Y),{},{index:ae,payload:me,visibleTicksCount:D.length,tickFormatter:s,padding:c},d);return R.createElement(Mo,pu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(me.value,"-").concat(me.coordinate,"-").concat(me.tickCoord)},QT(q,me,ae)),r&&R.createElement(Wre,{option:r,tickProps:W,value:"".concat(typeof s=="function"?s(me.value,ae):me.value).concat(u||"")}))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(L,"-ticks")},X.length>0&&R.createElement(fl,{zIndex:Br.label},R.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(L,"-tick-labels"),ref:e},X)),te.length>0&&R.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(L,"-tick-lines")},te))}),Xre=R.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:u,axisType:c}=t,d=zre(t,Fre),[h,p]=R.useState(""),[g,v]=R.useState(""),T=R.useRef(null);R.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return Vre({ticks:T.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=R.useCallback(A=>{if(A){var I=A.getElementsByClassName("recharts-cartesian-axis-tick-value");T.current=I;var V=I[0];if(V){var N=window.getComputedStyle(V),B=N.fontSize,q=N.letterSpacing;(B!==h||q!==g)&&(p(B),v(q))}}},[h,g]);return s||r!=null&&r<=0||i!=null&&i<=0?null:R.createElement(fl,{zIndex:t.zIndex},R.createElement(Mo,{className:Ot("recharts-cartesian-axis",a)},R.createElement(Gre,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Xs(t)}),R.createElement(Jre,{ref:S,axisType:c,events:d,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),R.createElement(mee,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},R.createElement(See,{label:t.label,labelRef:t.labelRef}),t.children)))}),v1=R.forwardRef((t,e)=>{var n=Vi(t,lu);return R.createElement(Xre,pu({},n,{ref:e}))});v1.displayName="CartesianAxis";var Qre=["domain","range"],Zre=["domain","range"];function EM(t,e){if(t==null)return{};var n,r,i=eie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function h5(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=EM(t,Qre),{domain:a,range:s}=e,u=EM(e,Zre);return!wM(n,a)||!wM(r,s)?!1:g1(i,u)}var tie=["dangerouslySetInnerHTML","ticks"],nie=["id"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(null,arguments)}function TM(t,e){if(t==null)return{};var n,r,i=rie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iie(t){var e=gn(),n=R.useRef(null);return R.useLayoutEffect(()=>{n.current===null?e(Ite(t)):n.current!==t&&e(kte({prev:n.current,next:t})),n.current=t},[t,e]),R.useLayoutEffect(()=>()=>{n.current&&(e(Nte(n.current)),n.current=null)},[e]),null}var aie=t=>{var{xAxisId:e,className:n}=t,r=Fe(uS),i=di(),a="xAxis",s=Fe(A=>Ed(A,a,e,i)),u=Fe(A=>l6(A,a,e,i)),c=Fe(A=>i6(A,e)),d=Fe(A=>vX(A,e)),h=Fe(A=>C3(A,e));if(c==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=t,v=TM(t,tie),{id:T}=h,S=TM(h,nie);return R.createElement(v1,Gw({},v,S,{scale:s,x:d.x,y:d.y,width:c.width,height:c.height,className:Ot("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u,axisType:a}))},oie={allowDataOverflow:jn.allowDataOverflow,allowDecimals:jn.allowDecimals,allowDuplicatedCategory:jn.allowDuplicatedCategory,angle:jn.angle,axisLine:lu.axisLine,height:jn.height,hide:!1,includeHidden:jn.includeHidden,interval:jn.interval,minTickGap:jn.minTickGap,mirror:jn.mirror,orientation:jn.orientation,padding:jn.padding,reversed:jn.reversed,scale:jn.scale,tick:jn.tick,tickCount:jn.tickCount,tickLine:lu.tickLine,tickSize:lu.tickSize,type:jn.type,xAxisId:0},sie=t=>{var e=Vi(t,oie);return R.createElement(R.Fragment,null,R.createElement(iie,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),R.createElement(aie,e))},p5=R.memo(sie,h5);p5.displayName="XAxis";var lie=["dangerouslySetInnerHTML","ticks"],uie=["id"];function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(null,arguments)}function SM(t,e){if(t==null)return{};var n,r,i=cie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function die(t){var e=gn(),n=R.useRef(null);return R.useLayoutEffect(()=>{n.current===null?e(Rte(t)):n.current!==t&&e(Pte({prev:n.current,next:t})),n.current=t},[t,e]),R.useLayoutEffect(()=>()=>{n.current&&(e(Mte(n.current)),n.current=null)},[e]),null}var fie=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=R.useRef(null),s=R.useRef(null),u=Fe(uS),c=di(),d=gn(),h="yAxis",p=Fe(q=>Ed(q,h,e,c)),g=Fe(q=>a6(q,e)),v=Fe(q=>bX(q,e)),T=Fe(q=>l6(q,h,e,c)),S=Fe(q=>I3(q,e));if(R.useLayoutEffect(()=>{if(!(r!=="auto"||!g||m1(i)||R.isValidElement(i)||S==null)){var q=a.current;if(q){var L=q.getCalculatedWidth();Math.round(g.width)!==Math.round(L)&&d(Dte({id:e,width:L}))}}},[T,g,d,i,e,r,S]),g==null||v==null||S==null)return null;var{dangerouslySetInnerHTML:A,ticks:I}=t,V=SM(t,lie),{id:N}=S,B=SM(S,uie);return R.createElement(v1,$w({},V,B,{ref:a,labelRef:s,scale:p,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Ot("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:T,axisType:h}))},hie={allowDataOverflow:qn.allowDataOverflow,allowDecimals:qn.allowDecimals,allowDuplicatedCategory:qn.allowDuplicatedCategory,angle:qn.angle,axisLine:lu.axisLine,hide:!1,includeHidden:qn.includeHidden,interval:qn.interval,minTickGap:qn.minTickGap,mirror:qn.mirror,orientation:qn.orientation,padding:qn.padding,reversed:qn.reversed,scale:qn.scale,tick:qn.tick,tickCount:qn.tickCount,tickLine:lu.tickLine,tickSize:lu.tickSize,type:qn.type,width:qn.width,yAxisId:0},pie=t=>{var e=Vi(t,hie);return R.createElement(R.Fragment,null,R.createElement(die,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),R.createElement(fie,e))},m5=R.memo(pie,h5);m5.displayName="YAxis";var mie=(t,e)=>e,_1=ce([mie,Ct,S3,Ln,T6,Xo,DQ,Kn],BQ),b1=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},g5=Di("mouseClick"),y5=tp();y5.startListening({actionCreator:g5,effect:(t,e)=>{var n=t.payload,r=_1(e.getState(),b1(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(DX({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Kw=Di("mouseMove"),v5=tp(),Tg=null;v5.startListening({actionCreator:Kw,effect:(t,e)=>{var n=t.payload;Tg!==null&&cancelAnimationFrame(Tg);var r=b1(n);Tg=requestAnimationFrame(()=>{var i=e.getState(),a=i1(i,i.tooltip.settings.shared);if(a==="axis"){var s=_1(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(g6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(m6())}Tg=null})}});var AM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},_5=qr({name:"rootProps",initialState:AM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:AM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),gie=_5.reducer,{updateOptions:yie}=_5.actions,b5=qr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:LCe}=b5.actions,vie=b5.reducer,x5=Di("keyDown"),E5=Di("focus"),x1=tp();x1.startListening({actionCreator:x5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=a1(i,Td(n),dp(n),gp(n)),u=s==null?-1:Number(s);if(!(!Number.isFinite(u)||u<0)){var c=Xo(n);if(a==="Enter"){var d=Oy(n,"axis","hover",String(i.index));e.dispatch(Vw({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=TX(n),p=h==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,v=u+g*p;if(!(c==null||v>=c.length||v<0)){var T=Oy(n,"axis","hover",String(v));e.dispatch(Vw({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:T}))}}}}}});x1.startListening({actionCreator:E5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Oy(n,"axis","hover",String(a));e.dispatch(Vw({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ci=Di("externalEvent"),w5=tp(),_E=new Map;w5.startListening({actionCreator:Ci,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=_E.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var u=e.getState(),c={activeCoordinate:_Q(u),activeDataKey:I6(u),activeIndex:ud(u),activeLabel:C6(u),activeTooltipIndex:ud(u),isTooltipActive:bQ(u)};n(c,r)}finally{_E.delete(i)}});_E.set(i,s)}}});var _ie=ce([wd],t=>t.tooltipItemPayloads),bie=ce([_ie,pp,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),T5=Di("touchMove"),S5=tp();S5.startListening({actionCreator:T5,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=i1(r,r.tooltip.settings.shared);if(i==="axis"){var a=_1(r,b1({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(g6({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,u=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(g7),h=(s=c.getAttribute(y7))!==null&&s!==void 0?s:void 0,p=bie(e.getState(),d,h);e.dispatch(p6({activeDataKey:h,activeIndex:d,activeCoordinate:p}))}}}});var xie=TU({brush:vre,cartesianAxis:Ote,chartData:_Z,errorBars:Wte,graphicalItems:xte,layout:XG,legend:f$,options:pZ,polarAxis:Bee,polarOptions:vie,referenceElements:Sre,rootProps:gie,tooltip:OX,zIndex:tZ}),Eie=function(e){return EG({reducer:xie,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([y5.middleware,v5.middleware,x1.middleware,w5.middleware,S5.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(FU({type:"raf"}))},devTools:ip.devToolsEnabled})};function wie(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=di(),a=R.useRef(null);if(i)return n;a.current==null&&(a.current=Eie(e));var s=eS;return R.createElement(_ne,{context:s,store:a.current},n)}function Tie(t){var{layout:e,margin:n}=t,r=gn(),i=di();return R.useEffect(()=>{i||(r(YG(e)),r(KG(n)))},[r,i,e,n]),null}var Sie=R.memo(Tie,g1);function Aie(t){var e=gn();return R.useEffect(()=>{e(yie(t))},[e,t]),null}function CM(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=n5("".concat(r).concat(e)),a=gn();return R.useLayoutEffect(()=>(a(ZQ({zIndex:e,elementId:i,isPanorama:n})),()=>{a(eZ({zIndex:e,isPanorama:n}))}),[a,e,i,n]),R.createElement("g",{tabIndex:-1,id:i})}function IM(t){var{children:e,isPanorama:n}=t,r=Fe(qQ);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return R.createElement(R.Fragment,null,i.map(s=>R.createElement(CM,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>R.createElement(CM,{key:s,zIndex:s,isPanorama:n})))}var Cie=["children"];function Iie(t,e){if(t==null)return{};var n,r,i=kie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jy.apply(null,arguments)}var Nie={width:"100%",height:"100%",display:"block"},Rie=R.forwardRef((t,e)=>{var n=Y7(),r=W7(),i=fV();if(!Qs(n)||!Qs(r))return null;var{children:a,otherAttributes:s,title:u,desc:c}=t,d,h;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),R.createElement(B4,jy({},s,{title:u,desc:c,role:h,tabIndex:d,width:n,height:r,style:Nie,ref:e}),a)}),Pie=t=>{var{children:e}=t,n=Fe(Dv);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return R.createElement(B4,{width:r,height:i,x:s,y:a},e)},kM=R.forwardRef((t,e)=>{var{children:n}=t,r=Iie(t,Cie),i=di();return i?R.createElement(Pie,null,R.createElement(IM,{isPanorama:!0},n)):R.createElement(Rie,jy({ref:e},r),R.createElement(IM,{isPanorama:!1},n))});function Mie(){var t=gn(),[e,n]=R.useState(null),r=Fe(m7);return R.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;mn(a)&&a!==r&&t(JG(a))}},[e,t,r]),n}function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Die(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){Oie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oie(t,e,n){return(e=Lie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lie(t){var e=Uie(t,"string");return typeof e=="symbol"?e:e+""}function Uie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(null,arguments)}var Vie=()=>(IZ(),null);function qy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Fie=R.forwardRef((t,e)=>{var n,r,i=R.useRef(null),[a,s]=R.useState({containerWidth:qy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:qy((r=t.style)===null||r===void 0?void 0:r.height)}),u=R.useCallback((d,h)=>{s(p=>{var g=Math.round(d),v=Math.round(h);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),c=R.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=d.getBoundingClientRect();u(h,p);var g=T=>{var{width:S,height:A}=T[0].contentRect;u(S,A)},v=new ResizeObserver(g);v.observe(d),i.current=v}},[e,u]);return R.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[u]),R.createElement(R.Fragment,null,R.createElement(Uv,{width:a.containerWidth,height:a.containerHeight}),R.createElement("div",mu({ref:c},t)))}),zie=R.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=R.useState({containerWidth:qy(n),containerHeight:qy(r)}),s=R.useCallback((c,d)=>{a(h=>{var p=Math.round(c),g=Math.round(d);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),u=R.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:h}=c.getBoundingClientRect();s(d,h)}},[e,s]);return R.createElement(R.Fragment,null,R.createElement(Uv,{width:i.containerWidth,height:i.containerHeight}),R.createElement("div",mu({ref:u},t)))}),Bie=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return R.createElement(R.Fragment,null,R.createElement(Uv,{width:n,height:r}),R.createElement("div",mu({ref:e},t)))}),jie=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return Do(n)||Do(r)?R.createElement(zie,mu({},t,{ref:e})):R.createElement(Bie,mu({},t,{ref:e}))});function qie(t){return t===!0?Fie:jie}var Hie=R.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:u,onMouseDown:c,onMouseEnter:d,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:v,onTouchMove:T,onTouchStart:S,style:A,width:I,responsive:V,dispatchTouchEvents:N=!0}=t,B=R.useRef(null),q=gn(),[L,D]=R.useState(null),[O,U]=R.useState(null),F=Mie(),M=cS(),z=(M==null?void 0:M.width)>0?M.width:I,H=(M==null?void 0:M.height)>0?M.height:i,de=R.useCallback(fe=>{F(fe),typeof e=="function"&&e(fe),D(fe),U(fe),fe!=null&&(B.current=fe)},[F,e,D,U]),te=R.useCallback(fe=>{q(g5(fe)),q(Ci({handler:a,reactEvent:fe}))},[q,a]),X=R.useCallback(fe=>{q(Kw(fe)),q(Ci({handler:d,reactEvent:fe}))},[q,d]),K=R.useCallback(fe=>{q(m6()),q(Ci({handler:h,reactEvent:fe}))},[q,h]),ae=R.useCallback(fe=>{q(Kw(fe)),q(Ci({handler:p,reactEvent:fe}))},[q,p]),me=R.useCallback(()=>{q(E5())},[q]),Y=R.useCallback(fe=>{q(x5(fe.key))},[q]),W=R.useCallback(fe=>{q(Ci({handler:s,reactEvent:fe}))},[q,s]),se=R.useCallback(fe=>{q(Ci({handler:u,reactEvent:fe}))},[q,u]),$=R.useCallback(fe=>{q(Ci({handler:c,reactEvent:fe}))},[q,c]),ee=R.useCallback(fe=>{q(Ci({handler:g,reactEvent:fe}))},[q,g]),ge=R.useCallback(fe=>{q(Ci({handler:S,reactEvent:fe}))},[q,S]),_e=R.useCallback(fe=>{N&&q(T5(fe)),q(Ci({handler:T,reactEvent:fe}))},[q,N,T]),Se=R.useCallback(fe=>{q(Ci({handler:v,reactEvent:fe}))},[q,v]),He=qie(V);return R.createElement(O6.Provider,{value:L},R.createElement(t8.Provider,{value:O},R.createElement(He,{width:z??(A==null?void 0:A.width),height:H??(A==null?void 0:A.height),className:Ot("recharts-wrapper",r),style:Die({position:"relative",cursor:"default",width:z,height:H},A),onClick:te,onContextMenu:W,onDoubleClick:se,onFocus:me,onKeyDown:Y,onMouseDown:$,onMouseEnter:X,onMouseLeave:K,onMouseMove:ae,onMouseUp:ee,onTouchEnd:Se,onTouchMove:_e,onTouchStart:ge,ref:de},R.createElement(Vie,null),n)))}),Gie=["width","height","responsive","children","className","style","compact","title","desc"];function $ie(t,e){if(t==null)return{};var n,r,i=Kie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yie=R.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:u,compact:c,title:d,desc:h}=t,p=$ie(t,Gie),g=Xs(p);return c?R.createElement(R.Fragment,null,R.createElement(Uv,{width:n,height:r}),R.createElement(kM,{otherAttributes:g,title:d,desc:h},a)):R.createElement(Hie,{className:s,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},R.createElement(kM,{otherAttributes:g,title:d,desc:h,ref:e},R.createElement(Cre,null,a)))});function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(null,arguments)}var Wie={top:5,right:5,bottom:5,left:5},Jie={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Wie,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Xie=R.forwardRef(function(e,n){var r,i=Vi(e.categoricalChartProps,Jie),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,h={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return R.createElement(wie,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},R.createElement(yre,{chartData:d.data}),R.createElement(Sie,{layout:i.layout,margin:i.margin}),R.createElement(Aie,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),R.createElement(Yie,Yw({},i,{ref:n})))}),Qie=["axis","item"],Zie=R.forwardRef((t,e)=>R.createElement(Xie,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qie,tooltipPayloadSearcher:fZ,categoricalChartProps:t,ref:e}));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tae=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),RM=t=>{const e=tae(t);return e.charAt(0).toUpperCase()+e.slice(1)},A5=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),nae=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...u},c)=>R.createElement("svg",{ref:c,...rae,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:A5("lucide",i),...!a&&!nae(u)&&{"aria-hidden":"true"},...u},[...s.map(([d,h])=>R.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(t,e)=>{const n=R.forwardRef(({className:r,...i},a)=>R.createElement(iae,{ref:a,iconNode:e,className:A5(`lucide-${eae(RM(t))}`,`lucide-${t}`,r),...i}));return n.displayName=RM(t),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],oae=Ne("activity",aae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],lae=Ne("arrow-down",sae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hy=Ne("arrow-left",uae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],C5=Ne("arrow-right",cae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],fae=Ne("arrow-up",dae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],pae=Ne("beaker",hae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],I5=Ne("book-open",mae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],yae=Ne("calendar-clock",gae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_ae=Ne("calendar",vae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Ww=Ne("car",bae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],r0=Ne("check",xae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],k5=Ne("chevron-down",Eae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Tae=Ne("chevron-left",wae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],N5=Ne("chevron-right",Sae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Cae=Ne("chevron-up",Aae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kae=Ne("circle-alert",Iae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],el=Ne("circle-check",Nae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Pae=Ne("circle-x",Rae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dh=Ne("circle",Mae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Oae=Ne("coins",Dae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],Uae=Ne("construction",Lae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Fae=Ne("database",Vae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Bae=Ne("download",zae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],PM=Ne("external-link",jae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hae=Ne("eye",qae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],E1=Ne("file-text",Gae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Kae=Ne("flag",$ae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],Wae=Ne("fuel",Yae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],w1=Ne("image",Jae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Qae=Ne("layers",Xae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],eoe=Ne("layout-dashboard",Zae);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Jw=Ne("lightbulb",toe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],roe=Ne("link",noe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],R5=Ne("list-checks",ioe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sd=Ne("loader-circle",aoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],T1=Ne("lock",ooe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],P5=Ne("log-out",soe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const loe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],MM=Ne("mail",loe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],coe=Ne("map-pin",uoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],foe=Ne("map",doe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}]],poe=Ne("message-square-more",hoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Xw=Ne("message-square",moe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],yoe=Ne("mic-off",goe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],_oe=Ne("mic",voe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],xoe=Ne("moon",boe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],M5=Ne("paperclip",Eoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Toe=Ne("pen-tool",woe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Aoe=Ne("pen",Soe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],Ioe=Ne("phone-off",Coe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fc=Ne("plus",koe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],D5=Ne("save",Noe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],DM=Ne("scale",Roe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qw=Ne("search",Poe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],O5=Ne("send",Moe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],L5=Ne("settings",Doe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],U5=Ne("shopping-bag",Ooe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],zc=Ne("sparkles",Loe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],OM=Ne("square-check-big",Uoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],LM=Ne("stethoscope",Voe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zoe=Ne("sun",Foe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bc=Ne("trash-2",Boe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qoe=Ne("triangle-alert",joe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Goe=Ne("upload",Hoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],V5=Ne("user",$oe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yoe=Ne("video-off",Koe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],F5=Ne("video",Woe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Xoe=Ne("wallet",Joe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],z5=Ne("wrench",Qoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],i0=Ne("x",Zoe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],tse=Ne("zap",ese);function nse(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const rse=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ise=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ase={};function UM(t,e){return(ase.jsx?ise:rse).test(t)}const ose=/[ \t\n\f\r]/g;function sse(t){return typeof t=="object"?t.type==="text"?VM(t.value):!1:VM(t)}function VM(t){return t.replace(ose,"")===""}class _p{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}_p.prototype.normal={};_p.prototype.property={};_p.prototype.space=void 0;function B5(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new _p(n,r,e)}function Zw(t){return t.toLowerCase()}class Hr{constructor(e,n){this.attribute=n,this.property=e}}Hr.prototype.attribute="";Hr.prototype.booleanish=!1;Hr.prototype.boolean=!1;Hr.prototype.commaOrSpaceSeparated=!1;Hr.prototype.commaSeparated=!1;Hr.prototype.defined=!1;Hr.prototype.mustUseProperty=!1;Hr.prototype.number=!1;Hr.prototype.overloadedBoolean=!1;Hr.prototype.property="";Hr.prototype.spaceSeparated=!1;Hr.prototype.space=void 0;let lse=0;const Ze=Cu(),An=Cu(),eT=Cu(),we=Cu(),Lt=Cu(),jc=Cu(),ei=Cu();function Cu(){return 2**++lse}const tT=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ze,booleanish:An,commaOrSpaceSeparated:ei,commaSeparated:jc,number:we,overloadedBoolean:eT,spaceSeparated:Lt},Symbol.toStringTag,{value:"Module"})),bE=Object.keys(tT);class S1 extends Hr{constructor(e,n,r,i){let a=-1;if(super(e,n),FM(this,"space",i),typeof r=="number")for(;++a<bE.length;){const s=bE[a];FM(this,bE[a],(r&tT[s])===tT[s])}}}S1.prototype.defined=!0;function FM(t,e,n){n&&(t[e]=n)}function Ad(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new S1(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[Zw(r)]=r,n[Zw(a.attribute)]=r}return new _p(e,n,t.space)}const j5=Ad({properties:{ariaActiveDescendant:null,ariaAtomic:An,ariaAutoComplete:null,ariaBusy:An,ariaChecked:An,ariaColCount:we,ariaColIndex:we,ariaColSpan:we,ariaControls:Lt,ariaCurrent:null,ariaDescribedBy:Lt,ariaDetails:null,ariaDisabled:An,ariaDropEffect:Lt,ariaErrorMessage:null,ariaExpanded:An,ariaFlowTo:Lt,ariaGrabbed:An,ariaHasPopup:null,ariaHidden:An,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Lt,ariaLevel:we,ariaLive:null,ariaModal:An,ariaMultiLine:An,ariaMultiSelectable:An,ariaOrientation:null,ariaOwns:Lt,ariaPlaceholder:null,ariaPosInSet:we,ariaPressed:An,ariaReadOnly:An,ariaRelevant:null,ariaRequired:An,ariaRoleDescription:Lt,ariaRowCount:we,ariaRowIndex:we,ariaRowSpan:we,ariaSelected:An,ariaSetSize:we,ariaSort:null,ariaValueMax:we,ariaValueMin:we,ariaValueNow:we,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function q5(t,e){return e in t?t[e]:e}function H5(t,e){return q5(t,e.toLowerCase())}const use=Ad({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:jc,acceptCharset:Lt,accessKey:Lt,action:null,allow:null,allowFullScreen:Ze,allowPaymentRequest:Ze,allowUserMedia:Ze,alt:null,as:null,async:Ze,autoCapitalize:null,autoComplete:Lt,autoFocus:Ze,autoPlay:Ze,blocking:Lt,capture:null,charSet:null,checked:Ze,cite:null,className:Lt,cols:we,colSpan:null,content:null,contentEditable:An,controls:Ze,controlsList:Lt,coords:we|jc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ze,defer:Ze,dir:null,dirName:null,disabled:Ze,download:eT,draggable:An,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ze,formTarget:null,headers:Lt,height:we,hidden:eT,high:we,href:null,hrefLang:null,htmlFor:Lt,httpEquiv:Lt,id:null,imageSizes:null,imageSrcSet:null,inert:Ze,inputMode:null,integrity:null,is:null,isMap:Ze,itemId:null,itemProp:Lt,itemRef:Lt,itemScope:Ze,itemType:Lt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ze,low:we,manifest:null,max:null,maxLength:we,media:null,method:null,min:null,minLength:we,multiple:Ze,muted:Ze,name:null,nonce:null,noModule:Ze,noValidate:Ze,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ze,optimum:we,pattern:null,ping:Lt,placeholder:null,playsInline:Ze,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ze,referrerPolicy:null,rel:Lt,required:Ze,reversed:Ze,rows:we,rowSpan:we,sandbox:Lt,scope:null,scoped:Ze,seamless:Ze,selected:Ze,shadowRootClonable:Ze,shadowRootDelegatesFocus:Ze,shadowRootMode:null,shape:null,size:we,sizes:null,slot:null,span:we,spellCheck:An,src:null,srcDoc:null,srcLang:null,srcSet:null,start:we,step:null,style:null,tabIndex:we,target:null,title:null,translate:null,type:null,typeMustMatch:Ze,useMap:null,value:An,width:we,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Lt,axis:null,background:null,bgColor:null,border:we,borderColor:null,bottomMargin:we,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ze,declare:Ze,event:null,face:null,frame:null,frameBorder:null,hSpace:we,leftMargin:we,link:null,longDesc:null,lowSrc:null,marginHeight:we,marginWidth:we,noResize:Ze,noHref:Ze,noShade:Ze,noWrap:Ze,object:null,profile:null,prompt:null,rev:null,rightMargin:we,rules:null,scheme:null,scrolling:An,standby:null,summary:null,text:null,topMargin:we,valueType:null,version:null,vAlign:null,vLink:null,vSpace:we,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ze,disableRemotePlayback:Ze,prefix:null,property:null,results:we,security:null,unselectable:null},space:"html",transform:H5}),cse=Ad({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ei,accentHeight:we,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:we,amplitude:we,arabicForm:null,ascent:we,attributeName:null,attributeType:null,azimuth:we,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:we,by:null,calcMode:null,capHeight:we,className:Lt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:we,diffuseConstant:we,direction:null,display:null,dur:null,divisor:we,dominantBaseline:null,download:Ze,dx:null,dy:null,edgeMode:null,editable:null,elevation:we,enableBackground:null,end:null,event:null,exponent:we,externalResourcesRequired:null,fill:null,fillOpacity:we,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:jc,g2:jc,glyphName:jc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:we,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:we,horizOriginX:we,horizOriginY:we,id:null,ideographic:we,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:we,k:we,k1:we,k2:we,k3:we,k4:we,kernelMatrix:ei,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:we,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:we,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:we,overlineThickness:we,paintOrder:null,panose1:null,path:null,pathLength:we,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Lt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:we,pointsAtY:we,pointsAtZ:we,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ei,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ei,rev:ei,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ei,requiredFeatures:ei,requiredFonts:ei,requiredFormats:ei,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:we,specularExponent:we,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:we,strikethroughThickness:we,string:null,stroke:null,strokeDashArray:ei,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:we,strokeOpacity:we,strokeWidth:null,style:null,surfaceScale:we,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ei,tabIndex:we,tableValues:null,target:null,targetX:we,targetY:we,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ei,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:we,underlineThickness:we,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:we,values:null,vAlphabetic:we,vMathematical:we,vectorEffect:null,vHanging:we,vIdeographic:we,version:null,vertAdvY:we,vertOriginX:we,vertOriginY:we,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:we,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:q5}),G5=Ad({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),$5=Ad({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:H5}),K5=Ad({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),dse={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},fse=/[A-Z]/g,zM=/-[a-z]/g,hse=/^data[-\w.:]+$/i;function pse(t,e){const n=Zw(e);let r=e,i=Hr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&hse.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(zM,gse);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!zM.test(a)){let s=a.replace(fse,mse);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=S1}return new i(r,e)}function mse(t){return"-"+t.toLowerCase()}function gse(t){return t.charAt(1).toUpperCase()}const yse=B5([j5,use,G5,$5,K5],"html"),A1=B5([j5,cse,G5,$5,K5],"svg");function vse(t){return t.join(" ").trim()}var wc={},xE,BM;function _se(){if(BM)return xE;BM=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,u=/^\s+|\s+$/g,c=`
`,d="/",h="*",p="",g="comment",v="declaration";function T(A,I){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];I=I||{};var V=1,N=1;function B(de){var te=de.match(e);te&&(V+=te.length);var X=de.lastIndexOf(c);N=~X?de.length-X:N+de.length}function q(){var de={line:V,column:N};return function(te){return te.position=new L(de),U(),te}}function L(de){this.start=de,this.end={line:V,column:N},this.source=I.source}L.prototype.content=A;function D(de){var te=new Error(I.source+":"+V+":"+N+": "+de);if(te.reason=de,te.filename=I.source,te.line=V,te.column=N,te.source=A,!I.silent)throw te}function O(de){var te=de.exec(A);if(te){var X=te[0];return B(X),A=A.slice(X.length),te}}function U(){O(n)}function F(de){var te;for(de=de||[];te=M();)te!==!1&&de.push(te);return de}function M(){var de=q();if(!(d!=A.charAt(0)||h!=A.charAt(1))){for(var te=2;p!=A.charAt(te)&&(h!=A.charAt(te)||d!=A.charAt(te+1));)++te;if(te+=2,p===A.charAt(te-1))return D("End of comment missing");var X=A.slice(2,te-2);return N+=2,B(X),A=A.slice(te),N+=2,de({type:g,comment:X})}}function z(){var de=q(),te=O(r);if(te){if(M(),!O(i))return D("property missing ':'");var X=O(a),K=de({type:v,property:S(te[0].replace(t,p)),value:X?S(X[0].replace(t,p)):p});return O(s),K}}function H(){var de=[];F(de);for(var te;te=z();)te!==!1&&(de.push(te),F(de));return de}return U(),H()}function S(A){return A?A.replace(u,p):p}return xE=T,xE}var jM;function bse(){if(jM)return wc;jM=1;var t=wc&&wc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wc,"__esModule",{value:!0}),wc.default=n;const e=t(_se());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const s=(0,e.default)(r),u=typeof i=="function";return s.forEach(c=>{if(c.type!=="declaration")return;const{property:d,value:h}=c;u?i(d,h,c):h&&(a=a||{},a[d]=h)}),a}return wc}var Wf={},qM;function xse(){if(qM)return Wf;qM=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},s=function(d,h){return h.toUpperCase()},u=function(d,h){return"".concat(h,"-")},c=function(d,h){return h===void 0&&(h={}),a(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(i,u):d=d.replace(r,u),d.replace(e,s))};return Wf.camelCase=c,Wf}var Jf,HM;function Ese(){if(HM)return Jf;HM=1;var t=Jf&&Jf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(bse()),n=xse();function r(i,a){var s={};return!i||typeof i!="string"||(0,e.default)(i,function(u,c){u&&c&&(s[(0,n.camelCase)(u,a)]=c)}),s}return r.default=r,Jf=r,Jf}var wse=Ese();const Tse=Ui(wse),Y5=W5("end"),C1=W5("start");function W5(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Sse(t){const e=C1(t),n=Y5(t);if(e&&n)return{start:e,end:n}}function fh(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?GM(t.position):"start"in t||"end"in t?GM(t):"line"in t||"column"in t?nT(t):""}function nT(t){return $M(t&&t.line)+":"+$M(t&&t.column)}function GM(t){return nT(t&&t.start)+"-"+nT(t&&t.end)}function $M(t){return t&&typeof t=="number"?t:1}class _r extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const u=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=fh(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}_r.prototype.file="";_r.prototype.name="";_r.prototype.reason="";_r.prototype.message="";_r.prototype.stack="";_r.prototype.column=void 0;_r.prototype.line=void 0;_r.prototype.ancestors=void 0;_r.prototype.cause=void 0;_r.prototype.fatal=void 0;_r.prototype.place=void 0;_r.prototype.ruleId=void 0;_r.prototype.source=void 0;const I1={}.hasOwnProperty,Ase=new Map,Cse=/[A-Z]/g,Ise=new Set(["table","tbody","thead","tfoot","tr"]),kse=new Set(["td","th"]),J5="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Nse(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Vse(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Use(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?A1:yse,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=X5(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function X5(t,e,n){if(e.type==="element")return Rse(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Pse(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Dse(t,e,n);if(e.type==="mdxjsEsm")return Mse(t,e);if(e.type==="root")return Ose(t,e,n);if(e.type==="text")return Lse(t,e)}function Rse(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=A1,t.schema=i),t.ancestors.push(e);const a=Z5(t,e.tagName,!1),s=Fse(t,e);let u=N1(t,e);return Ise.has(e.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!sse(c):!0})),Q5(t,s,a,e),k1(s,u),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function Pse(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Uh(t,e.position)}function Mse(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Uh(t,e.position)}function Dse(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=A1,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:Z5(t,e.name,!0),s=zse(t,e),u=N1(t,e);return Q5(t,s,a,e),k1(s,u),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function Ose(t,e,n){const r={};return k1(r,N1(t,e)),t.create(e,t.Fragment,r,n)}function Lse(t,e){return e.value}function Q5(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function k1(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Use(t,e,n){return r;function r(i,a,s,u){const d=Array.isArray(s.children)?n:e;return u?d(a,s,u):d(a,s)}}function Vse(t,e){return n;function n(r,i,a,s){const u=Array.isArray(a.children),c=C1(r);return e(i,a,s,u,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function Fse(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&I1.call(e.properties,i)){const a=Bse(t,i,e.properties[i]);if(a){const[s,u]=a;t.tableCellAlignToStyle&&s==="align"&&typeof u=="string"&&kse.has(e.tagName)?r=u:n[s]=u}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function zse(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const u=s.properties[0];u.type,Object.assign(n,t.evaluater.evaluateExpression(u.argument))}else Uh(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const u=r.value.data.estree.body[0];u.type,a=t.evaluater.evaluateExpression(u.expression)}else Uh(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function N1(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Ase;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const d=i.get(c)||0;s=c+"-"+d,i.set(c,d+1)}}const u=X5(t,a,s);u!==void 0&&n.push(u)}return n}function Bse(t,e,n){const r=pse(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?nse(n):vse(n)),r.property==="style"){let i=typeof n=="object"?n:jse(t,String(n));return t.stylePropertyNameCase==="css"&&(i=qse(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?dse[r.property]||r.property:r.attribute,n]}}function jse(t,e){try{return Tse(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new _r("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=J5+"#cannot-parse-style-attribute",i}}function Z5(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const u=UM(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:u,computed:!!(a&&u.type==="Literal"),optional:!1}:u}r=s}else r=UM(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return I1.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Uh(t)}function Uh(t,e){const n=new _r("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=J5+"#cannot-handle-mdx-estrees-without-createevaluater",n}function qse(t){const e={};let n;for(n in t)I1.call(t,n)&&(e[Hse(n)]=t[n]);return e}function Hse(t){let e=t.replace(Cse,Gse);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Gse(t){return"-"+t.toLowerCase()}const EE={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},$se={};function Kse(t,e){const n=$se,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return eF(t,r,i)}function eF(t,e,n){if(Yse(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return KM(t.children,e,n)}return Array.isArray(t)?KM(t,e,n):""}function KM(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=eF(t[i],e,n);return r.join("")}function Yse(t){return!!(t&&typeof t=="object")}const YM=document.createElement("i");function R1(t){const e="&"+t+";";YM.innerHTML=e;const n=YM.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function eo(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Ii(t,e){return t.length>0?(eo(t,t.length,0,e),t):e}const WM={}.hasOwnProperty;function Wse(t){const e={};let n=-1;for(;++n<t.length;)Jse(e,t[n]);return e}function Jse(t,e){let n;for(n in e){const i=(WM.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){WM.call(i,s)||(i[s]=[]);const u=a[s];Xse(i[s],Array.isArray(u)?u:u?[u]:[])}}}function Xse(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);eo(t,0,0,r)}function tF(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function qc(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const La=hl(/[A-Za-z]/),ai=hl(/[\dA-Za-z]/),Qse=hl(/[#-'*+\--9=?A-Z^-~]/);function rT(t){return t!==null&&(t<32||t===127)}const iT=hl(/\d/),Zse=hl(/[\dA-Fa-f]/),ele=hl(/[!-/:-@[-`{-~]/);function $e(t){return t!==null&&t<-2}function jr(t){return t!==null&&(t<0||t===32)}function _t(t){return t===-2||t===-1||t===32}const tle=hl(new RegExp("\\p{P}|\\p{S}","u")),nle=hl(/\s/);function hl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Cd(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&ai(t.charCodeAt(n+1))&&ai(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const u=t.charCodeAt(n+1);a<56320&&u>56319&&u<57344?(s=String.fromCharCode(a,u),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Ft(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(c){return _t(c)?(t.enter(n),u(c)):e(c)}function u(c){return _t(c)&&a++<i?(t.consume(c),u):(t.exit(n),e(c))}}const rle={tokenize:ile};function ile(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Ft(t,e,"linePrefix")}function i(u){return t.enter("paragraph"),a(u)}function a(u){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,s(u)}function s(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return $e(u)?(t.consume(u),t.exit("chunkText"),a):(t.consume(u),s)}}const ale={tokenize:ole},JM={tokenize:sle};function ole(t){const e=this,n=[];let r=0,i,a,s;return u;function u(N){if(r<n.length){const B=n[r];return e.containerState=B[1],t.attempt(B[0].continuation,c,d)(N)}return d(N)}function c(N){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&V();const B=e.events.length;let q=B,L;for(;q--;)if(e.events[q][0]==="exit"&&e.events[q][1].type==="chunkFlow"){L=e.events[q][1].end;break}I(r);let D=B;for(;D<e.events.length;)e.events[D][1].end={...L},D++;return eo(e.events,q+1,0,e.events.slice(B)),e.events.length=D,d(N)}return u(N)}function d(N){if(r===n.length){if(!i)return g(N);if(i.currentConstruct&&i.currentConstruct.concrete)return T(N);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(JM,h,p)(N)}function h(N){return i&&V(),I(r),g(N)}function p(N){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,T(N)}function g(N){return e.containerState={},t.attempt(JM,v,T)(N)}function v(N){return r++,n.push([e.currentConstruct,e.containerState]),g(N)}function T(N){if(N===null){i&&V(),I(0),t.consume(N);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),S(N)}function S(N){if(N===null){A(t.exit("chunkFlow"),!0),I(0),t.consume(N);return}return $e(N)?(t.consume(N),A(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(N),S)}function A(N,B){const q=e.sliceStream(N);if(B&&q.push(null),N.previous=a,a&&(a.next=N),a=N,i.defineSkip(N.start),i.write(q),e.parser.lazy[N.start.line]){let L=i.events.length;for(;L--;)if(i.events[L][1].start.offset<s&&(!i.events[L][1].end||i.events[L][1].end.offset>s))return;const D=e.events.length;let O=D,U,F;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){if(U){F=e.events[O][1].end;break}U=!0}for(I(r),L=D;L<e.events.length;)e.events[L][1].end={...F},L++;eo(e.events,O+1,0,e.events.slice(D)),e.events.length=L}}function I(N){let B=n.length;for(;B-- >N;){const q=n[B];e.containerState=q[1],q[0].exit.call(e,t)}n.length=N}function V(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function sle(t,e,n){return Ft(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function XM(t){if(t===null||jr(t)||nle(t))return 1;if(tle(t))return 2}function P1(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const aT={name:"attention",resolveAll:lle,tokenize:ule};function lle(t,e){let n=-1,r,i,a,s,u,c,d,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[r][1].end},g={...t[n][1].start};QM(p,-c),QM(g,c),s={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},a={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...s.start},end:{...u.end}},t[r][1].end={...s.start},t[n][1].start={...u.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Ii(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Ii(d,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),d=Ii(d,P1(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Ii(d,[["exit",a,e],["enter",u,e],["exit",u,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,d=Ii(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,eo(t,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function ule(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=XM(r);let a;return s;function s(c){return a=c,t.enter("attentionSequence"),u(c)}function u(c){if(c===a)return t.consume(c),u;const d=t.exit("attentionSequence"),h=XM(c),p=!h||h===2&&i||n.includes(c),g=!i||i===2&&h||n.includes(r);return d._open=!!(a===42?p:p&&(i||!g)),d._close=!!(a===42?g:g&&(h||!p)),e(c)}}function QM(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const cle={name:"autolink",tokenize:dle};function dle(t,e,n){let r=0;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(v){return La(v)?(t.consume(v),s):v===64?n(v):d(v)}function s(v){return v===43||v===45||v===46||ai(v)?(r=1,u(v)):d(v)}function u(v){return v===58?(t.consume(v),r=0,c):(v===43||v===45||v===46||ai(v))&&r++<32?(t.consume(v),u):(r=0,d(v))}function c(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):v===null||v===32||v===60||rT(v)?n(v):(t.consume(v),c)}function d(v){return v===64?(t.consume(v),h):Qse(v)?(t.consume(v),d):n(v)}function h(v){return ai(v)?p(v):n(v)}function p(v){return v===46?(t.consume(v),r=0,h):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):g(v)}function g(v){if((v===45||ai(v))&&r++<63){const T=v===45?g:p;return t.consume(v),T}return n(v)}}const a0={partial:!0,tokenize:fle};function fle(t,e,n){return r;function r(a){return _t(a)?Ft(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||$e(a)?e(a):n(a)}}const nF={continuation:{tokenize:ple},exit:mle,name:"blockQuote",tokenize:hle};function hle(t,e,n){const r=this;return i;function i(s){if(s===62){const u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return _t(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function ple(t,e,n){const r=this;return i;function i(s){return _t(s)?Ft(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(nF,e,n)(s)}}function mle(t){t.exit("blockQuote")}const rF={name:"characterEscape",tokenize:gle};function gle(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return ele(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const iF={name:"characterReference",tokenize:yle};function yle(t,e,n){const r=this;let i=0,a,s;return u;function u(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),c}function c(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,s=ai,h(p))}function d(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=Zse,h):(t.enter("characterReferenceValue"),a=7,s=iT,h(p))}function h(p){if(p===59&&i){const g=t.exit("characterReferenceValue");return s===ai&&!R1(r.sliceSerialize(g))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(p)&&i++<a?(t.consume(p),h):n(p)}}const ZM={partial:!0,tokenize:_le},eD={concrete:!0,name:"codeFenced",tokenize:vle};function vle(t,e,n){const r=this,i={partial:!0,tokenize:q};let a=0,s=0,u;return c;function c(L){return d(L)}function d(L){const D=r.events[r.events.length-1];return a=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,u=L,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(L)}function h(L){return L===u?(s++,t.consume(L),h):s<3?n(L):(t.exit("codeFencedFenceSequence"),_t(L)?Ft(t,p,"whitespace")(L):p(L))}function p(L){return L===null||$e(L)?(t.exit("codeFencedFence"),r.interrupt?e(L):t.check(ZM,S,B)(L)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(L))}function g(L){return L===null||$e(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(L)):_t(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ft(t,v,"whitespace")(L)):L===96&&L===u?n(L):(t.consume(L),g)}function v(L){return L===null||$e(L)?p(L):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),T(L))}function T(L){return L===null||$e(L)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(L)):L===96&&L===u?n(L):(t.consume(L),T)}function S(L){return t.attempt(i,B,A)(L)}function A(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),I}function I(L){return a>0&&_t(L)?Ft(t,V,"linePrefix",a+1)(L):V(L)}function V(L){return L===null||$e(L)?t.check(ZM,S,B)(L):(t.enter("codeFlowValue"),N(L))}function N(L){return L===null||$e(L)?(t.exit("codeFlowValue"),V(L)):(t.consume(L),N)}function B(L){return t.exit("codeFenced"),e(L)}function q(L,D,O){let U=0;return F;function F(te){return L.enter("lineEnding"),L.consume(te),L.exit("lineEnding"),M}function M(te){return L.enter("codeFencedFence"),_t(te)?Ft(L,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):z(te)}function z(te){return te===u?(L.enter("codeFencedFenceSequence"),H(te)):O(te)}function H(te){return te===u?(U++,L.consume(te),H):U>=s?(L.exit("codeFencedFenceSequence"),_t(te)?Ft(L,de,"whitespace")(te):de(te)):O(te)}function de(te){return te===null||$e(te)?(L.exit("codeFencedFence"),D(te)):O(te)}}}function _le(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const wE={name:"codeIndented",tokenize:xle},ble={partial:!0,tokenize:Ele};function xle(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),Ft(t,a,"linePrefix",5)(d)}function a(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(d):n(d)}function s(d){return d===null?c(d):$e(d)?t.attempt(ble,s,c)(d):(t.enter("codeFlowValue"),u(d))}function u(d){return d===null||$e(d)?(t.exit("codeFlowValue"),s(d)):(t.consume(d),u)}function c(d){return t.exit("codeIndented"),e(d)}}function Ele(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):$e(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Ft(t,a,"linePrefix",5)(s)}function a(s){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(s):$e(s)?i(s):n(s)}}const wle={name:"codeText",previous:Sle,resolve:Tle,tokenize:Ale};function Tle(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Sle(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ale(t,e,n){let r=0,i,a;return s;function s(p){return t.enter("codeText"),t.enter("codeTextSequence"),u(p)}function u(p){return p===96?(t.consume(p),r++,u):(t.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),c):p===96?(a=t.enter("codeTextSequence"),i=0,h(p)):$e(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||$e(p)?(t.exit("codeTextData"),c(p)):(t.consume(p),d)}function h(p){return p===96?(t.consume(p),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(a.type="codeTextData",d(p))}}class Cle{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Xf(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Xf(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Xf(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Xf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Xf(this.left,n.reverse())}}}function Xf(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function aF(t){const e={};let n=-1,r,i,a,s,u,c,d;const h=new Cle(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Ile(h,n)),n=e[n],d=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=h.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},u=h.slice(i,n),u.unshift(r),h.splice(i,n-i+1,u))}}return eo(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function Ile(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const u=s.events,c=[],d={};let h,p,g=-1,v=n,T=0,S=0;const A=[S];for(;v;){for(;t.get(++i)[1]!==v;);a.push(i),v._tokenizer||(h=r.sliceStream(v),v.next||h.push(null),p&&s.defineSkip(v.start),v._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),v._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),p=v,v=v.next}for(v=n;++g<u.length;)u[g][0]==="exit"&&u[g-1][0]==="enter"&&u[g][1].type===u[g-1][1].type&&u[g][1].start.line!==u[g][1].end.line&&(S=g+1,A.push(S),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(s.events=[],v?(v._tokenizer=void 0,v.previous=void 0):A.pop(),g=A.length;g--;){const I=u.slice(A[g],A[g+1]),V=a.pop();c.push([V,V+I.length-1]),t.splice(V,2,I)}for(c.reverse(),g=-1;++g<c.length;)d[T+c[g][0]]=T+c[g][1],T+=c[g][1]-c[g][0]-1;return d}const kle={resolve:Rle,tokenize:Ple},Nle={partial:!0,tokenize:Mle};function Rle(t){return aF(t),t}function Ple(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?a(u):$e(u)?t.check(Nle,s,a)(u):(t.consume(u),i)}function a(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function s(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Mle(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Ft(t,a,"linePrefix")}function a(s){if(s===null||$e(s))return n(s);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function oF(t,e,n,r,i,a,s,u,c){const d=c||Number.POSITIVE_INFINITY;let h=0;return p;function p(I){return I===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(I),t.exit(a),g):I===null||I===32||I===41||rT(I)?n(I):(t.enter(r),t.enter(s),t.enter(u),t.enter("chunkString",{contentType:"string"}),S(I))}function g(I){return I===62?(t.enter(a),t.consume(I),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),v(I))}function v(I){return I===62?(t.exit("chunkString"),t.exit(u),g(I)):I===null||I===60||$e(I)?n(I):(t.consume(I),I===92?T:v)}function T(I){return I===60||I===62||I===92?(t.consume(I),v):v(I)}function S(I){return!h&&(I===null||I===41||jr(I))?(t.exit("chunkString"),t.exit(u),t.exit(s),t.exit(r),e(I)):h<d&&I===40?(t.consume(I),h++,S):I===41?(t.consume(I),h--,S):I===null||I===32||I===40||rT(I)?n(I):(t.consume(I),I===92?A:S)}function A(I){return I===40||I===41||I===92?(t.consume(I),S):S(I)}}function sF(t,e,n,r,i,a){const s=this;let u=0,c;return d;function d(v){return t.enter(r),t.enter(i),t.consume(v),t.exit(i),t.enter(a),h}function h(v){return u>999||v===null||v===91||v===93&&!c||v===94&&!u&&"_hiddenFootnoteSupport"in s.parser.constructs?n(v):v===93?(t.exit(a),t.enter(i),t.consume(v),t.exit(i),t.exit(r),e):$e(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||$e(v)||u++>999?(t.exit("chunkString"),h(v)):(t.consume(v),c||(c=!_t(v)),v===92?g:p)}function g(v){return v===91||v===92||v===93?(t.consume(v),u++,p):p(v)}}function lF(t,e,n,r,i,a){let s;return u;function u(g){return g===34||g===39||g===40?(t.enter(r),t.enter(i),t.consume(g),t.exit(i),s=g===40?41:g,c):n(g)}function c(g){return g===s?(t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):(t.enter(a),d(g))}function d(g){return g===s?(t.exit(a),c(s)):g===null?n(g):$e(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),Ft(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===s||g===null||$e(g)?(t.exit("chunkString"),d(g)):(t.consume(g),g===92?p:h)}function p(g){return g===s||g===92?(t.consume(g),h):h(g)}}function hh(t,e){let n;return r;function r(i){return $e(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):_t(i)?Ft(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Dle={name:"definition",tokenize:Lle},Ole={partial:!0,tokenize:Ule};function Lle(t,e,n){const r=this;let i;return a;function a(v){return t.enter("definition"),s(v)}function s(v){return sF.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function u(v){return i=qc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),c):n(v)}function c(v){return jr(v)?hh(t,d)(v):d(v)}function d(v){return oF(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function h(v){return t.attempt(Ole,p,p)(v)}function p(v){return _t(v)?Ft(t,g,"whitespace")(v):g(v)}function g(v){return v===null||$e(v)?(t.exit("definition"),r.parser.defined.push(i),e(v)):n(v)}}function Ule(t,e,n){return r;function r(u){return jr(u)?hh(t,i)(u):n(u)}function i(u){return lF(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function a(u){return _t(u)?Ft(t,s,"whitespace")(u):s(u)}function s(u){return u===null||$e(u)?e(u):n(u)}}const Vle={name:"hardBreakEscape",tokenize:Fle};function Fle(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return $e(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const zle={name:"headingAtx",resolve:Ble,tokenize:jle};function Ble(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},eo(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function jle(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),a(h)}function a(h){return t.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&r++<6?(t.consume(h),s):h===null||jr(h)?(t.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(t.enter("atxHeadingSequence"),c(h)):h===null||$e(h)?(t.exit("atxHeading"),e(h)):_t(h)?Ft(t,u,"whitespace")(h):(t.enter("atxHeadingText"),d(h))}function c(h){return h===35?(t.consume(h),c):(t.exit("atxHeadingSequence"),u(h))}function d(h){return h===null||h===35||jr(h)?(t.exit("atxHeadingText"),u(h)):(t.consume(h),d)}}const qle=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],tD=["pre","script","style","textarea"],Hle={concrete:!0,name:"htmlFlow",resolveTo:Kle,tokenize:Yle},Gle={partial:!0,tokenize:Jle},$le={partial:!0,tokenize:Wle};function Kle(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Yle(t,e,n){const r=this;let i,a,s,u,c;return d;function d($){return h($)}function h($){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume($),p}function p($){return $===33?(t.consume($),g):$===47?(t.consume($),a=!0,S):$===63?(t.consume($),i=3,r.interrupt?e:Y):La($)?(t.consume($),s=String.fromCharCode($),A):n($)}function g($){return $===45?(t.consume($),i=2,v):$===91?(t.consume($),i=5,u=0,T):La($)?(t.consume($),i=4,r.interrupt?e:Y):n($)}function v($){return $===45?(t.consume($),r.interrupt?e:Y):n($)}function T($){const ee="CDATA[";return $===ee.charCodeAt(u++)?(t.consume($),u===ee.length?r.interrupt?e:z:T):n($)}function S($){return La($)?(t.consume($),s=String.fromCharCode($),A):n($)}function A($){if($===null||$===47||$===62||jr($)){const ee=$===47,ge=s.toLowerCase();return!ee&&!a&&tD.includes(ge)?(i=1,r.interrupt?e($):z($)):qle.includes(s.toLowerCase())?(i=6,ee?(t.consume($),I):r.interrupt?e($):z($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):a?V($):N($))}return $===45||ai($)?(t.consume($),s+=String.fromCharCode($),A):n($)}function I($){return $===62?(t.consume($),r.interrupt?e:z):n($)}function V($){return _t($)?(t.consume($),V):F($)}function N($){return $===47?(t.consume($),F):$===58||$===95||La($)?(t.consume($),B):_t($)?(t.consume($),N):F($)}function B($){return $===45||$===46||$===58||$===95||ai($)?(t.consume($),B):q($)}function q($){return $===61?(t.consume($),L):_t($)?(t.consume($),q):N($)}function L($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(t.consume($),c=$,D):_t($)?(t.consume($),L):O($)}function D($){return $===c?(t.consume($),c=null,U):$===null||$e($)?n($):(t.consume($),D)}function O($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||jr($)?q($):(t.consume($),O)}function U($){return $===47||$===62||_t($)?N($):n($)}function F($){return $===62?(t.consume($),M):n($)}function M($){return $===null||$e($)?z($):_t($)?(t.consume($),M):n($)}function z($){return $===45&&i===2?(t.consume($),X):$===60&&i===1?(t.consume($),K):$===62&&i===4?(t.consume($),W):$===63&&i===3?(t.consume($),Y):$===93&&i===5?(t.consume($),me):$e($)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Gle,se,H)($)):$===null||$e($)?(t.exit("htmlFlowData"),H($)):(t.consume($),z)}function H($){return t.check($le,de,se)($)}function de($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),te}function te($){return $===null||$e($)?H($):(t.enter("htmlFlowData"),z($))}function X($){return $===45?(t.consume($),Y):z($)}function K($){return $===47?(t.consume($),s="",ae):z($)}function ae($){if($===62){const ee=s.toLowerCase();return tD.includes(ee)?(t.consume($),W):z($)}return La($)&&s.length<8?(t.consume($),s+=String.fromCharCode($),ae):z($)}function me($){return $===93?(t.consume($),Y):z($)}function Y($){return $===62?(t.consume($),W):$===45&&i===2?(t.consume($),Y):z($)}function W($){return $===null||$e($)?(t.exit("htmlFlowData"),se($)):(t.consume($),W)}function se($){return t.exit("htmlFlow"),e($)}}function Wle(t,e,n){const r=this;return i;function i(s){return $e(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function Jle(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(a0,e,n)}}const Xle={name:"htmlText",tokenize:Qle};function Qle(t,e,n){const r=this;let i,a,s;return u;function u(Y){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(Y),c}function c(Y){return Y===33?(t.consume(Y),d):Y===47?(t.consume(Y),q):Y===63?(t.consume(Y),N):La(Y)?(t.consume(Y),O):n(Y)}function d(Y){return Y===45?(t.consume(Y),h):Y===91?(t.consume(Y),a=0,T):La(Y)?(t.consume(Y),V):n(Y)}function h(Y){return Y===45?(t.consume(Y),v):n(Y)}function p(Y){return Y===null?n(Y):Y===45?(t.consume(Y),g):$e(Y)?(s=p,K(Y)):(t.consume(Y),p)}function g(Y){return Y===45?(t.consume(Y),v):p(Y)}function v(Y){return Y===62?X(Y):Y===45?g(Y):p(Y)}function T(Y){const W="CDATA[";return Y===W.charCodeAt(a++)?(t.consume(Y),a===W.length?S:T):n(Y)}function S(Y){return Y===null?n(Y):Y===93?(t.consume(Y),A):$e(Y)?(s=S,K(Y)):(t.consume(Y),S)}function A(Y){return Y===93?(t.consume(Y),I):S(Y)}function I(Y){return Y===62?X(Y):Y===93?(t.consume(Y),I):S(Y)}function V(Y){return Y===null||Y===62?X(Y):$e(Y)?(s=V,K(Y)):(t.consume(Y),V)}function N(Y){return Y===null?n(Y):Y===63?(t.consume(Y),B):$e(Y)?(s=N,K(Y)):(t.consume(Y),N)}function B(Y){return Y===62?X(Y):N(Y)}function q(Y){return La(Y)?(t.consume(Y),L):n(Y)}function L(Y){return Y===45||ai(Y)?(t.consume(Y),L):D(Y)}function D(Y){return $e(Y)?(s=D,K(Y)):_t(Y)?(t.consume(Y),D):X(Y)}function O(Y){return Y===45||ai(Y)?(t.consume(Y),O):Y===47||Y===62||jr(Y)?U(Y):n(Y)}function U(Y){return Y===47?(t.consume(Y),X):Y===58||Y===95||La(Y)?(t.consume(Y),F):$e(Y)?(s=U,K(Y)):_t(Y)?(t.consume(Y),U):X(Y)}function F(Y){return Y===45||Y===46||Y===58||Y===95||ai(Y)?(t.consume(Y),F):M(Y)}function M(Y){return Y===61?(t.consume(Y),z):$e(Y)?(s=M,K(Y)):_t(Y)?(t.consume(Y),M):U(Y)}function z(Y){return Y===null||Y===60||Y===61||Y===62||Y===96?n(Y):Y===34||Y===39?(t.consume(Y),i=Y,H):$e(Y)?(s=z,K(Y)):_t(Y)?(t.consume(Y),z):(t.consume(Y),de)}function H(Y){return Y===i?(t.consume(Y),i=void 0,te):Y===null?n(Y):$e(Y)?(s=H,K(Y)):(t.consume(Y),H)}function de(Y){return Y===null||Y===34||Y===39||Y===60||Y===61||Y===96?n(Y):Y===47||Y===62||jr(Y)?U(Y):(t.consume(Y),de)}function te(Y){return Y===47||Y===62||jr(Y)?U(Y):n(Y)}function X(Y){return Y===62?(t.consume(Y),t.exit("htmlTextData"),t.exit("htmlText"),e):n(Y)}function K(Y){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(Y),t.exit("lineEnding"),ae}function ae(Y){return _t(Y)?Ft(t,me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):me(Y)}function me(Y){return t.enter("htmlTextData"),s(Y)}}const M1={name:"labelEnd",resolveAll:nue,resolveTo:rue,tokenize:iue},Zle={tokenize:aue},eue={tokenize:oue},tue={tokenize:sue};function nue(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&eo(t,0,t.length,n),t}function rue(t,e){let n=t.length,r=0,i,a,s,u;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const c={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},h={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return u=[["enter",c,e],["enter",d,e]],u=Ii(u,t.slice(a+1,a+r+3)),u=Ii(u,[["enter",h,e]]),u=Ii(u,P1(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),u=Ii(u,[["exit",h,e],t[s-2],t[s-1],["exit",d,e]]),u=Ii(u,t.slice(s+1)),u=Ii(u,[["exit",c,e]]),eo(t,a,t.length,u),t}function iue(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return u;function u(g){return a?a._inactive?p(g):(s=r.parser.defined.includes(qc(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),c):n(g)}function c(g){return g===40?t.attempt(Zle,h,s?h:p)(g):g===91?t.attempt(eue,h,s?d:p)(g):s?h(g):p(g)}function d(g){return t.attempt(tue,h,p)(g)}function h(g){return e(g)}function p(g){return a._balanced=!0,n(g)}}function aue(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return jr(p)?hh(t,a)(p):a(p)}function a(p){return p===41?h(p):oF(t,s,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function s(p){return jr(p)?hh(t,c)(p):h(p)}function u(p){return n(p)}function c(p){return p===34||p===39||p===40?lF(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function d(p){return jr(p)?hh(t,h)(p):h(p)}function h(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function oue(t,e,n){const r=this;return i;function i(u){return sF.call(r,t,a,s,"reference","referenceMarker","referenceString")(u)}function a(u){return r.parser.defined.includes(qc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function s(u){return n(u)}}function sue(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const lue={name:"labelStartImage",resolveAll:M1.resolveAll,tokenize:uue};function uue(t,e,n){const r=this;return i;function i(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),a}function a(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),s):n(u)}function s(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const cue={name:"labelStartLink",resolveAll:M1.resolveAll,tokenize:due};function due(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const TE={name:"lineEnding",tokenize:fue};function fue(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ft(t,e,"linePrefix")}}const jg={name:"thematicBreak",tokenize:hue};function hue(t,e,n){let r=0,i;return a;function a(d){return t.enter("thematicBreak"),s(d)}function s(d){return i=d,u(d)}function u(d){return d===i?(t.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||$e(d))?(t.exit("thematicBreak"),e(d)):n(d)}function c(d){return d===i?(t.consume(d),r++,c):(t.exit("thematicBreakSequence"),_t(d)?Ft(t,u,"whitespace")(d):u(d))}}const Or={continuation:{tokenize:yue},exit:_ue,name:"list",tokenize:gue},pue={partial:!0,tokenize:bue},mue={partial:!0,tokenize:vue};function gue(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return u;function u(v){const T=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:iT(v)){if(r.containerState.type||(r.containerState.type=T,t.enter(T,{_container:!0})),T==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(jg,n,d)(v):d(v);if(!r.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(v)}return n(v)}function c(v){return iT(v)&&++s<10?(t.consume(v),c):(!r.interrupt||s<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),d(v)):n(v)}function d(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,t.check(a0,r.interrupt?n:h,t.attempt(pue,g,p))}function h(v){return r.containerState.initialBlankLine=!0,a++,g(v)}function p(v){return _t(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),g):n(v)}function g(v){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(v)}}function yue(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(a0,i,a);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ft(t,e,"listItemIndent",r.containerState.size+1)(u)}function a(u){return r.containerState.furtherBlankLines||!_t(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(mue,e,s)(u))}function s(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ft(t,t.attempt(Or,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function vue(t,e,n){const r=this;return Ft(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function _ue(t){t.exit(this.containerState.type)}function bue(t,e,n){const r=this;return Ft(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!_t(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const nD={name:"setextUnderline",resolveTo:xue,tokenize:Eue};function xue(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function Eue(t,e,n){const r=this;let i;return a;function a(d){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=d,s(d)):n(d)}function s(d){return t.enter("setextHeadingLineSequence"),u(d)}function u(d){return d===i?(t.consume(d),u):(t.exit("setextHeadingLineSequence"),_t(d)?Ft(t,c,"lineSuffix")(d):c(d))}function c(d){return d===null||$e(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const wue={tokenize:Tue};function Tue(t){const e=this,n=t.attempt(a0,r,t.attempt(this.parser.constructs.flowInitial,i,Ft(t,t.attempt(this.parser.constructs.flow,i,t.attempt(kle,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Sue={resolveAll:cF()},Aue=uF("string"),Cue=uF("text");function uF(t){return{resolveAll:cF(t==="text"?Iue:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,u);return s;function s(h){return d(h)?a(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return d(h)?(n.exit("data"),a(h)):(n.consume(h),c)}function d(h){if(h===null)return!0;const p=i[h];let g=-1;if(p)for(;++g<p.length;){const v=p[g];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function cF(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function Iue(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,u=0,c;for(;a--;){const d=i[a];if(typeof d=="string"){for(s=d.length;d.charCodeAt(s-1)===32;)u++,s--;if(s)break;s=-1}else if(d===-2)c=!0,u++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(u=0),u){const d={type:n===t.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const kue={42:Or,43:Or,45:Or,48:Or,49:Or,50:Or,51:Or,52:Or,53:Or,54:Or,55:Or,56:Or,57:Or,62:nF},Nue={91:Dle},Rue={[-2]:wE,[-1]:wE,32:wE},Pue={35:zle,42:jg,45:[nD,jg],60:Hle,61:nD,95:jg,96:eD,126:eD},Mue={38:iF,92:rF},Due={[-5]:TE,[-4]:TE,[-3]:TE,33:lue,38:iF,42:aT,60:[cle,Xle],91:cue,92:[Vle,rF],93:M1,95:aT,96:wle},Oue={null:[aT,Sue]},Lue={null:[42,95]},Uue={null:[]},Vue=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Lue,contentInitial:Nue,disable:Uue,document:kue,flow:Pue,flowInitial:Rue,insideSpan:Oue,string:Mue,text:Due},Symbol.toStringTag,{value:"Module"}));function Fue(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],u=[];const c={attempt:D(q),check:D(L),consume:V,enter:N,exit:B,interrupt:D(L,{interrupt:!0})},d={code:null,containerState:{},defineSkip:S,events:[],now:T,parser:t,previous:null,sliceSerialize:g,sliceStream:v,write:p};let h=e.tokenize.call(d,c);return e.resolveAll&&a.push(e),d;function p(M){return s=Ii(s,M),A(),s[s.length-1]!==null?[]:(O(e,0),d.events=P1(a,d.events,d),d.events)}function g(M,z){return Bue(v(M),z)}function v(M){return zue(s,M)}function T(){const{_bufferIndex:M,_index:z,line:H,column:de,offset:te}=r;return{_bufferIndex:M,_index:z,line:H,column:de,offset:te}}function S(M){i[M.line]=M.column,F()}function A(){let M;for(;r._index<s.length;){const z=s[r._index];if(typeof z=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<z.length;)I(z.charCodeAt(r._bufferIndex));else I(z)}}function I(M){h=h(M)}function V(M){$e(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,F()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=M}function N(M,z){const H=z||{};return H.type=M,H.start=T(),d.events.push(["enter",H,d]),u.push(H),H}function B(M){const z=u.pop();return z.end=T(),d.events.push(["exit",z,d]),z}function q(M,z){O(M,z.from)}function L(M,z){z.restore()}function D(M,z){return H;function H(de,te,X){let K,ae,me,Y;return Array.isArray(de)?se(de):"tokenize"in de?se([de]):W(de);function W(_e){return Se;function Se(He){const fe=He!==null&&_e[He],Ve=He!==null&&_e.null,Ge=[...Array.isArray(fe)?fe:fe?[fe]:[],...Array.isArray(Ve)?Ve:Ve?[Ve]:[]];return se(Ge)(He)}}function se(_e){return K=_e,ae=0,_e.length===0?X:$(_e[ae])}function $(_e){return Se;function Se(He){return Y=U(),me=_e,_e.partial||(d.currentConstruct=_e),_e.name&&d.parser.constructs.disable.null.includes(_e.name)?ge():_e.tokenize.call(z?Object.assign(Object.create(d),z):d,c,ee,ge)(He)}}function ee(_e){return M(me,Y),te}function ge(_e){return Y.restore(),++ae<K.length?$(K[ae]):X}}}function O(M,z){M.resolveAll&&!a.includes(M)&&a.push(M),M.resolve&&eo(d.events,z,d.events.length-z,M.resolve(d.events.slice(z),d)),M.resolveTo&&(d.events=M.resolveTo(d.events,d))}function U(){const M=T(),z=d.previous,H=d.currentConstruct,de=d.events.length,te=Array.from(u);return{from:de,restore:X};function X(){r=M,d.previous=z,d.currentConstruct=H,d.events.length=de,u=te,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function zue(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const u=s[0];typeof u=="string"?s[0]=u.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function Bue(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function jue(t){const r={constructs:Wse([Vue,...(t||{}).extensions||[]]),content:i(rle),defined:[],document:i(ale),flow:i(wue),lazy:{},string:i(Aue),text:i(Cue)};return r;function i(a){return s;function s(u){return Fue(r,a,u)}}}function que(t){for(;!aF(t););return t}const rD=/[\0\t\n\r]/g;function Hue(){let t=1,e="",n=!0,r;return i;function i(a,s,u){const c=[];let d,h,p,g,v;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),p=0,e="",n&&(a.charCodeAt(0)===65279&&p++,n=void 0);p<a.length;){if(rD.lastIndex=p,d=rD.exec(a),g=d&&d.index!==void 0?d.index:a.length,v=a.charCodeAt(g),!d){e=a.slice(p);break}if(v===10&&p===g&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<g&&(c.push(a.slice(p,g)),t+=g-p),v){case 0:{c.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,c.push(-2);t++<h;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}p=g+1}return u&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const Gue=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function $ue(t){return t.replace(Gue,Kue)}function Kue(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return tF(n.slice(a?2:1),a?16:10)}return R1(n)||t}const dF={}.hasOwnProperty;function Yue(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Wue(n)(que(jue(n).document().write(Hue()(t,e,!0))))}function Wue(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Qt),autolinkProtocol:U,autolinkEmail:U,atxHeading:a(tn),blockQuote:a(Ve),characterEscape:U,characterReference:U,codeFenced:a(Ge),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(Ge,s),codeText:a(Ee,s),codeTextData:U,data:U,codeFlowValue:U,definition:a(zt),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(et),hardBreakEscape:a(Kt),hardBreakTrailing:a(Kt),htmlFlow:a(lr,s),htmlFlowData:U,htmlText:a(lr,s),htmlTextData:U,image:a(da),label:s,link:a(Qt),listItem:a(fa),listItemValue:g,listOrdered:a(nn,p),listUnordered:a(nn),paragraph:a(Vd),reference:$,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(tn),strong:a(Mu),thematicBreak:a(ro)},exit:{atxHeading:c(),atxHeadingSequence:q,autolink:c(),autolinkEmail:fe,autolinkProtocol:He,blockQuote:c(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:_e,characterReference:Se,codeFenced:c(A),codeFencedFence:S,codeFencedFenceInfo:v,codeFencedFenceMeta:T,codeFlowValue:F,codeIndented:c(I),codeText:c(te),codeTextData:F,data:F,definition:c(),definitionDestinationString:B,definitionLabelString:V,definitionTitleString:N,emphasis:c(),hardBreakEscape:c(z),hardBreakTrailing:c(z),htmlFlow:c(H),htmlFlowData:F,htmlText:c(de),htmlTextData:F,image:c(K),label:me,labelText:ae,lineEnding:M,link:c(X),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ee,resourceDestinationString:Y,resourceTitleString:W,resource:se,setextHeading:c(O),setextHeadingLineSequence:D,setextHeadingText:L,strong:c(),thematicBreak:c()}};fF(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(pe){let Te={type:"root",children:[]};const ze={stack:[Te],tokenStack:[],config:e,enter:u,exit:d,buffer:s,resume:h,data:n},tt=[];let ft=-1;for(;++ft<pe.length;)if(pe[ft][1].type==="listOrdered"||pe[ft][1].type==="listUnordered")if(pe[ft][0]==="enter")tt.push(ft);else{const ur=tt.pop();ft=i(pe,ur,ft)}for(ft=-1;++ft<pe.length;){const ur=e[pe[ft][0]];dF.call(ur,pe[ft][1].type)&&ur[pe[ft][1].type].call(Object.assign({sliceSerialize:pe[ft][2].sliceSerialize},ze),pe[ft][1])}if(ze.tokenStack.length>0){const ur=ze.tokenStack[ze.tokenStack.length-1];(ur[1]||iD).call(ze,void 0,ur[0])}for(Te.position={start:Ms(pe.length>0?pe[0][1].start:{line:1,column:1,offset:0}),end:Ms(pe.length>0?pe[pe.length-2][1].end:{line:1,column:1,offset:0})},ft=-1;++ft<e.transforms.length;)Te=e.transforms[ft](Te)||Te;return Te}function i(pe,Te,ze){let tt=Te-1,ft=-1,ur=!1,fi,ln,Zt,Vn;for(;++tt<=ze;){const ut=pe[tt];switch(ut[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ut[0]==="enter"?ft++:ft--,Vn=void 0;break}case"lineEndingBlank":{ut[0]==="enter"&&(fi&&!Vn&&!ft&&!Zt&&(Zt=tt),Vn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Vn=void 0}if(!ft&&ut[0]==="enter"&&ut[1].type==="listItemPrefix"||ft===-1&&ut[0]==="exit"&&(ut[1].type==="listUnordered"||ut[1].type==="listOrdered")){if(fi){let zi=tt;for(ln=void 0;zi--;){const cr=pe[zi];if(cr[1].type==="lineEnding"||cr[1].type==="lineEndingBlank"){if(cr[0]==="exit")continue;ln&&(pe[ln][1].type="lineEndingBlank",ur=!0),cr[1].type="lineEnding",ln=zi}else if(!(cr[1].type==="linePrefix"||cr[1].type==="blockQuotePrefix"||cr[1].type==="blockQuotePrefixWhitespace"||cr[1].type==="blockQuoteMarker"||cr[1].type==="listItemIndent"))break}Zt&&(!ln||Zt<ln)&&(fi._spread=!0),fi.end=Object.assign({},ln?pe[ln][1].start:ut[1].end),pe.splice(ln||tt,0,["exit",fi,ut[2]]),tt++,ze++}if(ut[1].type==="listItemPrefix"){const zi={type:"listItem",_spread:!1,start:Object.assign({},ut[1].start),end:void 0};fi=zi,pe.splice(tt,0,["enter",zi,ut[2]]),tt++,ze++,Zt=void 0,Vn=!0}}}return pe[Te][1]._spread=ur,ze}function a(pe,Te){return ze;function ze(tt){u.call(this,pe(tt),tt),Te&&Te.call(this,tt)}}function s(){this.stack.push({type:"fragment",children:[]})}function u(pe,Te,ze){this.stack[this.stack.length-1].children.push(pe),this.stack.push(pe),this.tokenStack.push([Te,ze||void 0]),pe.position={start:Ms(Te.start),end:void 0}}function c(pe){return Te;function Te(ze){pe&&pe.call(this,ze),d.call(this,ze)}}function d(pe,Te){const ze=this.stack.pop(),tt=this.tokenStack.pop();if(tt)tt[0].type!==pe.type&&(Te?Te.call(this,pe,tt[0]):(tt[1]||iD).call(this,pe,tt[0]));else throw new Error("Cannot close `"+pe.type+"` ("+fh({start:pe.start,end:pe.end})+"): its not open");ze.position.end=Ms(pe.end)}function h(){return Kse(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(pe){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(pe),10),this.data.expectingFirstListItemValue=void 0}}function v(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=pe}function T(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=pe}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=pe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function I(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=pe.replace(/(\r?\n|\r)$/g,"")}function V(pe){const Te=this.resume(),ze=this.stack[this.stack.length-1];ze.label=Te,ze.identifier=qc(this.sliceSerialize(pe)).toLowerCase()}function N(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.title=pe}function B(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.url=pe}function q(pe){const Te=this.stack[this.stack.length-1];if(!Te.depth){const ze=this.sliceSerialize(pe).length;Te.depth=ze}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function D(pe){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(pe).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function U(pe){const ze=this.stack[this.stack.length-1].children;let tt=ze[ze.length-1];(!tt||tt.type!=="text")&&(tt=Wn(),tt.position={start:Ms(pe.start),end:void 0},ze.push(tt)),this.stack.push(tt)}function F(pe){const Te=this.stack.pop();Te.value+=this.sliceSerialize(pe),Te.position.end=Ms(pe.end)}function M(pe){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ze=Te.children[Te.children.length-1];ze.position.end=Ms(pe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Te.type)&&(U.call(this,pe),F.call(this,pe))}function z(){this.data.atHardBreak=!0}function H(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=pe}function de(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=pe}function te(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.value=pe}function X(){const pe=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";pe.type+="Reference",pe.referenceType=Te,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;this.data.referenceType=void 0}function K(){const pe=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";pe.type+="Reference",pe.referenceType=Te,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;this.data.referenceType=void 0}function ae(pe){const Te=this.sliceSerialize(pe),ze=this.stack[this.stack.length-2];ze.label=$ue(Te),ze.identifier=qc(Te).toLowerCase()}function me(){const pe=this.stack[this.stack.length-1],Te=this.resume(),ze=this.stack[this.stack.length-1];if(this.data.inReference=!0,ze.type==="link"){const tt=pe.children;ze.children=tt}else ze.alt=Te}function Y(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.url=pe}function W(){const pe=this.resume(),Te=this.stack[this.stack.length-1];Te.title=pe}function se(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function ee(pe){const Te=this.resume(),ze=this.stack[this.stack.length-1];ze.label=Te,ze.identifier=qc(this.sliceSerialize(pe)).toLowerCase(),this.data.referenceType="full"}function ge(pe){this.data.characterReferenceType=pe.type}function _e(pe){const Te=this.sliceSerialize(pe),ze=this.data.characterReferenceType;let tt;ze?(tt=tF(Te,ze==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):tt=R1(Te);const ft=this.stack[this.stack.length-1];ft.value+=tt}function Se(pe){const Te=this.stack.pop();Te.position.end=Ms(pe.end)}function He(pe){F.call(this,pe);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(pe)}function fe(pe){F.call(this,pe);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(pe)}function Ve(){return{type:"blockquote",children:[]}}function Ge(){return{type:"code",lang:null,meta:null,value:""}}function Ee(){return{type:"inlineCode",value:""}}function zt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function et(){return{type:"emphasis",children:[]}}function tn(){return{type:"heading",depth:0,children:[]}}function Kt(){return{type:"break"}}function lr(){return{type:"html",value:""}}function da(){return{type:"image",title:null,url:"",alt:null}}function Qt(){return{type:"link",title:null,url:"",children:[]}}function nn(pe){return{type:"list",ordered:pe.type==="listOrdered",start:null,spread:pe._spread,children:[]}}function fa(pe){return{type:"listItem",spread:pe._spread,checked:null,children:[]}}function Vd(){return{type:"paragraph",children:[]}}function Mu(){return{type:"strong",children:[]}}function Wn(){return{type:"text",value:""}}function ro(){return{type:"thematicBreak"}}}function Ms(t){return{line:t.line,column:t.column,offset:t.offset}}function fF(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?fF(t,r):Jue(t,r)}}function Jue(t,e){let n;for(n in e)if(dF.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function iD(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+fh({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+fh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+fh({start:e.start,end:e.end})+") is still open")}function Xue(t){const e=this;e.parser=n;function n(r){return Yue(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Que(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Zue(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function ece(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function tce(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function nce(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rce(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Cd(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,u=t.footnoteCounts.get(r);u===void 0?(u=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,u+=1,t.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,d),t.applyData(e,d)}function ice(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ace(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function hF(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function oce(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return hF(t,e);const i={src:Cd(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function sce(t,e){const n={src:Cd(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function lce(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function uce(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return hF(t,e);const i={href:Cd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function cce(t,e){const n={href:Cd(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function dce(t,e,n){const r=t.all(e),i=n?fce(n):pF(e),a={},s=[];if(typeof e.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const h=r[u];(i||u!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,d),t.applyData(e,d)}function fce(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=pF(n[r])}return e}function pF(t){const e=t.spread;return e??t.children.length>1}function hce(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function pce(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function mce(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function gce(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function yce(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},u=C1(e.children[1]),c=Y5(e.children[e.children.length-1]);u&&c&&(s.position={start:u,end:c}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function vce(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,u=s?s.length:e.children.length;let c=-1;const d=[];for(;++c<u;){const p=e.children[c],g={},v=s?s[c]:void 0;v&&(g.align=v);let T={type:"element",tagName:a,properties:g,children:[]};p&&(T.children=t.all(p),t.patch(p,T),T=t.applyData(p,T)),d.push(T)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,h),t.applyData(e,h)}function _ce(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const aD=9,oD=32;function bce(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(sD(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(sD(e.slice(i),i>0,!1)),a.join("")}function sD(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===aD||a===oD;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===aD||a===oD;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function xce(t,e){const n={type:"text",value:bce(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Ece(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const wce={blockquote:Que,break:Zue,code:ece,delete:tce,emphasis:nce,footnoteReference:rce,heading:ice,html:ace,imageReference:oce,image:sce,inlineCode:lce,linkReference:uce,link:cce,listItem:dce,list:hce,paragraph:pce,root:mce,strong:gce,table:yce,tableCell:_ce,tableRow:vce,text:xce,thematicBreak:Ece,toml:Sg,yaml:Sg,definition:Sg,footnoteDefinition:Sg};function Sg(){}const mF=-1,o0=0,ph=1,Gy=2,D1=3,O1=4,L1=5,U1=6,gF=7,yF=8,lD=typeof self=="object"?self:globalThis,Tce=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case o0:case mF:return n(s,i);case ph:{const u=n([],i);for(const c of s)u.push(r(c));return u}case Gy:{const u=n({},i);for(const[c,d]of s)u[r(c)]=r(d);return u}case D1:return n(new Date(s),i);case O1:{const{source:u,flags:c}=s;return n(new RegExp(u,c),i)}case L1:{const u=n(new Map,i);for(const[c,d]of s)u.set(r(c),r(d));return u}case U1:{const u=n(new Set,i);for(const c of s)u.add(r(c));return u}case gF:{const{name:u,message:c}=s;return n(new lD[u](c),i)}case yF:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:u}=new Uint8Array(s);return n(new DataView(u),s)}}return n(new lD[a](s),i)};return r},uD=t=>Tce(new Map,t)(0),Tc="",{toString:Sce}={},{keys:Ace}=Object,Qf=t=>{const e=typeof t;if(e!=="object"||!t)return[o0,e];const n=Sce.call(t).slice(8,-1);switch(n){case"Array":return[ph,Tc];case"Object":return[Gy,Tc];case"Date":return[D1,Tc];case"RegExp":return[O1,Tc];case"Map":return[L1,Tc];case"Set":return[U1,Tc];case"DataView":return[ph,n]}return n.includes("Array")?[ph,n]:n.includes("Error")?[gF,n]:[Gy,n]},Ag=([t,e])=>t===o0&&(e==="function"||e==="symbol"),Cce=(t,e,n,r)=>{const i=(s,u)=>{const c=r.push(s)-1;return n.set(u,c),c},a=s=>{if(n.has(s))return n.get(s);let[u,c]=Qf(s);switch(u){case o0:{let h=s;switch(c){case"bigint":u=yF,h=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return i([mF],s)}return i([u,h],s)}case ph:{if(c){let g=s;return c==="DataView"?g=new Uint8Array(s.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(s)),i([c,[...g]],s)}const h=[],p=i([u,h],s);for(const g of s)h.push(a(g));return p}case Gy:{if(c)switch(c){case"BigInt":return i([c,s.toString()],s);case"Boolean":case"Number":case"String":return i([c,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const h=[],p=i([u,h],s);for(const g of Ace(s))(t||!Ag(Qf(s[g])))&&h.push([a(g),a(s[g])]);return p}case D1:return i([u,s.toISOString()],s);case O1:{const{source:h,flags:p}=s;return i([u,{source:h,flags:p}],s)}case L1:{const h=[],p=i([u,h],s);for(const[g,v]of s)(t||!(Ag(Qf(g))||Ag(Qf(v))))&&h.push([a(g),a(v)]);return p}case U1:{const h=[],p=i([u,h],s);for(const g of s)(t||!Ag(Qf(g)))&&h.push(a(g));return p}}const{message:d}=s;return i([u,{name:c,message:d}],s)};return a},cD=(t,{json:e,lossy:n}={})=>{const r=[];return Cce(!(e||n),!!e,new Map,r)(t),r},$y=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?uD(cD(t,e)):structuredClone(t):(t,e)=>uD(cD(t,e));function Ice(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function kce(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Nce(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Ice,r=t.options.footnoteBackLabel||kce,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[c]);if(!d)continue;const h=t.all(d),p=String(d.identifier).toUpperCase(),g=Cd(p.toLowerCase());let v=0;const T=[],S=t.footnoteCounts.get(p);for(;S!==void 0&&++v<=S;){T.length>0&&T.push({type:"text",value:" "});let V=typeof n=="string"?n:n(c,v);typeof V=="string"&&(V={type:"text",value:V}),T.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,v),className:["data-footnote-backref"]},children:Array.isArray(V)?V:[V]})}const A=h[h.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const V=A.children[A.children.length-1];V&&V.type==="text"?V.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...T)}else h.push(...T);const I={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(h,!0)};t.patch(d,I),u.push(I)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...$y(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(u,!0)},{type:"text",value:`
`}]}}const vF=(function(t){if(t==null)return Dce;if(typeof t=="function")return s0(t);if(typeof t=="object")return Array.isArray(t)?Rce(t):Pce(t);if(typeof t=="string")return Mce(t);throw new Error("Expected function, string, or object as test")});function Rce(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=vF(t[n]);return s0(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function Pce(t){const e=t;return s0(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function Mce(t){return s0(e);function e(n){return n&&n.type===t}}function s0(t){return e;function e(n,r,i){return!!(Oce(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Dce(){return!0}function Oce(t){return t!==null&&typeof t=="object"&&"type"in t}const _F=[],Lce=!0,dD=!1,Uce="skip";function Vce(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=vF(i),s=r?-1:1;u(t,void 0,[])();function u(c,d,h){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(v?"<"+v+">":""))+")"})}return g;function g(){let v=_F,T,S,A;if((!e||a(c,d,h[h.length-1]||void 0))&&(v=Fce(n(c,h)),v[0]===dD))return v;if("children"in c&&c.children){const I=c;if(I.children&&v[0]!==Uce)for(S=(r?I.children.length:-1)+s,A=h.concat(I);S>-1&&S<I.children.length;){const V=I.children[S];if(T=u(V,S,A)(),T[0]===dD)return T;S=typeof T[1]=="number"?T[1]:S+s}}return v}}}function Fce(t){return Array.isArray(t)?t:typeof t=="number"?[Lce,t]:t==null?_F:[t]}function bF(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),Vce(t,a,u,i);function u(c,d){const h=d[d.length-1],p=h?h.children.indexOf(c):void 0;return s(c,p,h)}}const oT={}.hasOwnProperty,zce={};function Bce(t,e){const n=e||zce,r=new Map,i=new Map,a=new Map,s={...wce,...n.handlers},u={all:d,applyData:qce,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:c,options:n,patch:jce,wrap:Gce};return bF(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,g=String(h.identifier).toUpperCase();p.has(g)||p.set(g,h)}}),u;function c(h,p){const g=h.type,v=u.handlers[g];if(oT.call(u.handlers,g)&&v)return v(u,h,p);if(u.options.passThrough&&u.options.passThrough.includes(g)){if("children"in h){const{children:S,...A}=h,I=$y(A);return I.children=u.all(h),I}return $y(h)}return(u.options.unknownHandler||Hce)(u,h,p)}function d(h){const p=[];if("children"in h){const g=h.children;let v=-1;for(;++v<g.length;){const T=u.one(g[v],h);if(T){if(v&&g[v-1].type==="break"&&(!Array.isArray(T)&&T.type==="text"&&(T.value=fD(T.value)),!Array.isArray(T)&&T.type==="element")){const S=T.children[0];S&&S.type==="text"&&(S.value=fD(S.value))}Array.isArray(T)?p.push(...T):p.push(T)}}}return p}}function jce(t,e){t.position&&(e.position=Sse(t))}function qce(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,$y(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Hce(t,e){const n=e.data||{},r="value"in e&&!(oT.call(n,"hProperties")||oT.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Gce(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function fD(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function hD(t,e){const n=Bce(t,e),r=n.one(t,void 0),i=Nce(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function $ce(t,e){return t&&"run"in t?async function(n,r){const i=hD(n,{file:r,...e});await t.run(i,r)}:function(n,r){return hD(n,{file:r,...t||e})}}function pD(t){if(t)throw t}var SE,mD;function Kce(){if(mD)return SE;mD=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var h=t.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!p)return!1;var g;for(g in d);return typeof g>"u"||t.call(d,g)},s=function(d,h){n&&h.name==="__proto__"?n(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},u=function(d,h){if(h==="__proto__")if(t.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return SE=function c(){var d,h,p,g,v,T,S=arguments[0],A=1,I=arguments.length,V=!1;for(typeof S=="boolean"&&(V=S,S=arguments[1]||{},A=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});A<I;++A)if(d=arguments[A],d!=null)for(h in d)p=u(S,h),g=u(d,h),S!==g&&(V&&g&&(a(g)||(v=i(g)))?(v?(v=!1,T=p&&i(p)?p:[]):T=p&&a(p)?p:{},s(S,{name:h,newValue:c(V,T,g)})):typeof g<"u"&&s(S,{name:h,newValue:g}));return S},SE}var Yce=Kce();const AE=Ui(Yce);function sT(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Wce(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);u(null,...i);function u(c,...d){const h=t[++a];let p=-1;if(c){s(c);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,h?Jce(h,u)(...d):s(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Jce(t,e){let n;return r;function r(...s){const u=t.length>s.length;let c;u&&s.push(i);try{c=t.apply(this,s)}catch(d){const h=d;if(u&&n)throw h;return i(h)}u||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(s,...u){n||(n=!0,e(s,...u))}function a(s){i(null,s)}}const Da={basename:Xce,dirname:Qce,extname:Zce,join:ede,sep:"/"};function Xce(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');bp(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,u=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),u>-1&&(t.codePointAt(i)===e.codePointAt(u--)?u<0&&(r=i):(u=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function Qce(t){if(bp(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Zce(t){bp(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const u=t.codePointAt(e);if(u===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),u===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function ede(...t){let e=-1,n;for(;++e<t.length;)bp(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":tde(n)}function tde(t){bp(t);const e=t.codePointAt(0)===47;let n=nde(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function nde(t,e){let n="",r=0,i=-1,a=0,s=-1,u,c;for(;++s<=t.length;){if(s<t.length)u=t.codePointAt(s);else{if(u===47)break;u=47}if(u===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else u===46&&a>-1?a++:a=-1}return n}function bp(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const rde={cwd:ide};function ide(){return"/"}function lT(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function ade(t){if(typeof t=="string")t=new URL(t);else if(!lT(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return ode(t)}function ode(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const CE=["history","path","basename","stem","extname","dirname"];class xF{constructor(e){let n;e?lT(e)?n={path:e}:typeof e=="string"||sde(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":rde.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<CE.length;){const a=CE[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)CE.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Da.basename(this.path):void 0}set basename(e){kE(e,"basename"),IE(e,"basename"),this.path=Da.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Da.dirname(this.path):void 0}set dirname(e){gD(this.basename,"dirname"),this.path=Da.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Da.extname(this.path):void 0}set extname(e){if(IE(e,"extname"),gD(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Da.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){lT(e)&&(e=ade(e)),kE(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Da.basename(this.path,this.extname):void 0}set stem(e){kE(e,"stem"),IE(e,"stem"),this.path=Da.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new _r(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function IE(t,e){if(t&&t.includes(Da.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Da.sep+"`")}function kE(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function gD(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function sde(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const lde=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),ude={}.hasOwnProperty;class V1 extends lde{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Wce()}copy(){const e=new V1;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(AE(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(PE("data",this.frozen),this.namespace[e]=n,this):ude.call(this.namespace,e)&&this.namespace[e]||void 0:e?(PE("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Cg(e),r=this.parser||this.Parser;return NE("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),NE("process",this.parser||this.Parser),RE("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const u=Cg(e),c=r.parse(u);r.run(c,u,function(h,p,g){if(h||!p||!g)return d(h);const v=p,T=r.stringify(v,g);fde(T)?g.value=T:g.result=T,d(h,g)});function d(h,p){h||!p?s(h):a?a(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),NE("processSync",this.parser||this.Parser),RE("processSync",this.compiler||this.Compiler),this.process(e,i),vD("processSync","process",n),r;function i(a,s){n=!0,pD(a),r=s}}run(e,n,r){yD(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,u){const c=Cg(n);i.run(e,c,d);function d(h,p,g){const v=p||e;h?u(h):s?s(v):r(void 0,v,g)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),vD("runSync","run",r),i;function a(s,u){pD(s),i=u,r=!0}}stringify(e,n){this.freeze();const r=Cg(n),i=this.compiler||this.Compiler;return RE("stringify",i),yD(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(PE("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...p]=d;c(h,p)}else s(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function s(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(d.plugins),d.settings&&(i.settings=AE(!0,i.settings,d.settings))}function u(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const p=d[h];a(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,h){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===d){g=p;break}if(g===-1)r.push([d,...h]);else if(h.length>0){let[v,...T]=h;const S=r[g][1];sT(S)&&sT(v)&&(v=AE(!0,S,v)),r[g]=[d,v,...T]}}}}const cde=new V1().freeze();function NE(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function RE(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function PE(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function yD(t){if(!sT(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function vD(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Cg(t){return dde(t)?t:new xF(t)}function dde(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function fde(t){return typeof t=="string"||hde(t)}function hde(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const pde="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",_D=[],bD={allowDangerousHtml:!0},mde=/^(https?|ircs?|mailto|xmpp)$/i,gde=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function EF(t){const e=yde(t),n=vde(t);return _de(e.runSync(e.parse(n),n),t)}function yde(t){const e=t.rehypePlugins||_D,n=t.remarkPlugins||_D,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...bD}:bD;return cde().use(Xue).use(n).use($ce,r).use(e)}function vde(t){const e=t.children||"",n=new xF;return typeof e=="string"&&(n.value=e),n}function _de(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,u=e.unwrapDisallowed,c=e.urlTransform||bde;for(const h of gde)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+pde+h.id,void 0);return bF(t,d),Nse(t,{Fragment:w.Fragment,components:i,ignoreInvalidStyle:!0,jsx:w.jsx,jsxs:w.jsxs,passKeys:!0,passNode:!0});function d(h,p,g){if(h.type==="raw"&&g&&typeof p=="number")return s?g.children.splice(p,1):g.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let v;for(v in EE)if(Object.hasOwn(EE,v)&&Object.hasOwn(h.properties,v)){const T=h.properties[v],S=EE[v];(S===null||S.includes(h.tagName))&&(h.properties[v]=c(String(T||""),v,h))}}if(h.type==="element"){let v=n?!n.includes(h.tagName):a?a.includes(h.tagName):!1;if(!v&&r&&typeof p=="number"&&(v=!r(h,p,g)),v&&g&&typeof p=="number")return u&&h.children?g.children.splice(p,1,...h.children):g.children.splice(p,1),p}}}function bde(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||mde.test(t.slice(0,e))?t:""}const xde={regNo:"JSN398",make:"Volkswagen",model:"LT 31 Skp",year:1976,prodYear:1976,regDate:"1978-02-14",status:"Avstlld (sedan 2025-11-04)",bodyType:"Skp Bostadsinredning",passengers:3,inspection:{last:"2025-08-13",mileage:"3 368 mil (Troligen slagit om, 13k/23k mil?)",next:"Oknd"},engine:{fuel:"Bensin",power:"75 HK / 55 kW",volume:"2.0L (Audi 100 motor)"},gearbox:"Manuell",wheels:{drive:"2WD (Bakhjulsdrift)",tiresFront:"215R14",tiresRear:"215R14",boltPattern:"5x160"},dimensions:{length:5400,width:1980,height:"Oknd",wheelbase:2500},weights:{curb:2280,total:3160,load:880,trailer:1400,trailerB:750},vin:"2862500058",color:"Flerfrgad",history:{owners:22,events:38,lastOwnerChange:"2023-06-28"}},Ede=[{id:"s1",name:"Kamremssats (Contitech CT637K1)",category:"Reservdelar",estimatedCost:800,quantity:"1 st",checked:!1,url:"https://www.autodoc.se/contitech/1210452",linkedTaskId:"4"},{id:"s2",name:"Vattenpump (Metallimpeller)",category:"Reservdelar",estimatedCost:400,quantity:"1 st",checked:!1,url:"https://www.autodoc.se/hepu/2283285",linkedTaskId:"4"},{id:"s16",name:"Startbatteri (75Ah)",category:"Reservdelar",estimatedCost:1400,quantity:"1 st",checked:!1,store:"Biltema",linkedTaskId:"2"}],wde=[{id:"0-1",title:"Inspektion & Provkrning",description:"Provkrning (Sndag). Mta fukt med Meec-mtare.",status:bt.DONE,phase:nu.renovation[0],priority:Ba.HIGH,sprint:"Sprint 0: Inkp",estimatedCostMin:500,estimatedCostMax:1e3,actualCost:800,weightKg:0,costType:ru.OPERATION,tags:["Analys","Kp"],links:[],comments:[],attachments:[],decisionOptions:[],subtasks:[]},{id:"1",title:"Laga rostig balk (Yttre - Ej brande)",description:"Kan vnta till nsta ssong.",status:bt.IDEA,phase:nu.renovation[2],priority:Ba.LOW,sprint:"Sommar/Hst",estimatedCostMin:300,estimatedCostMax:1e4,actualCost:0,weightKg:5,costType:ru.INVESTMENT,tags:["Rost","Kaross"],links:[],comments:[],attachments:[],subtasks:[],decisionOptions:[]},{id:"2",title:"Installera nytt startbatteri",description:"Prio 1: Utan el, ingen bil.",status:bt.TODO,phase:nu.renovation[0],priority:Ba.HIGH,sprint:"Sprint 1: Besiktning",estimatedCostMin:1200,estimatedCostMax:1600,actualCost:0,weightKg:20,costType:ru.OPERATION,tags:["Prio 1","El"],links:[],comments:[],attachments:[],subtasks:[],decisionOptions:[]}],Tde=[{id:"s1",date:"2025-08-13",description:"Kontrollbesiktning (Godknd)",mileage:"3 368 mil",performer:"Bilprovningen",type:"Besiktning"}],Ig={id:"demo-elton",name:"Elton (VW LT31)",type:"renovation",ownerId:"demo",ownerEmail:"demo",vehicleData:xde,tasks:wde,shoppingItems:Ede,serviceLog:Tde,fuelLog:[],knowledgeArticles:[],created:"2025-01-01",lastModified:"2025-01-01",isDemo:!0},Sde={id:"",name:"Nytt Projekt",type:"renovation",ownerId:"",ownerEmail:"",vehicleData:{regNo:"",make:"",model:"",year:0,prodYear:0,regDate:"",status:"",bodyType:"",passengers:0,inspection:{last:"",mileage:"",next:""},engine:{fuel:"",power:"",volume:""},gearbox:"",wheels:{drive:"",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:0,events:0,lastOwnerChange:""}},tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[],created:"",lastModified:""},F1=[],Ade=({projectArticles:t=[]})=>{const[e,n]=R.useState(null),[r,i]=R.useState(""),s=[...t||[],...F1].filter(u=>u.title.toLowerCase().includes(r.toLowerCase())||u.tags.some(c=>c.toLowerCase().includes(r.toLowerCase())));return e?w.jsx("div",{className:"fixed inset-0 bg-white dark:bg-nordic-dark-surface z-50 overflow-y-auto animate-fade-in",children:w.jsxs("div",{className:"max-w-3xl mx-auto p-6 pb-20",children:[w.jsxs("button",{onClick:()=>n(null),className:"mb-6 p-2 -ml-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full flex items-center gap-2 transition-colors",children:[w.jsx(Hy,{size:20})," ",w.jsx("span",{className:"font-bold text-sm",children:"Tillbaka till biblioteket"})]}),w.jsxs("article",{className:"prose prose-lg dark:prose-invert max-w-none",children:[w.jsxs("div",{className:"mb-8 border-b border-slate-100 dark:border-nordic-charcoal pb-8",children:[w.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal dark:text-nordic-ice mb-4",children:e.title}),w.jsx("div",{className:"flex gap-2 mb-6",children:e.tags.map(u=>w.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold uppercase tracking-wider rounded-full",children:u},u))}),w.jsx("p",{className:"text-xl text-slate-500 dark:text-nordic-dark-muted leading-relaxed font-serif italic",children:e.summary})]}),w.jsx(EF,{components:{h1:({node:u,...c})=>w.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal dark:text-nordic-ice mt-8 mb-4 border-l-4 border-teal-500 pl-4",...c}),h2:({node:u,...c})=>w.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mt-6 mb-3",...c}),ul:({node:u,...c})=>w.jsx("ul",{className:"list-disc list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...c}),ol:({node:u,...c})=>w.jsx("ol",{className:"list-decimal list-outside ml-6 space-y-2 my-4 text-slate-600 dark:text-slate-300",...c}),li:({node:u,...c})=>w.jsx("li",{className:"pl-1 marker:text-teal-500",...c}),p:({node:u,...c})=>w.jsx("p",{className:"mb-4 text-slate-600 dark:text-slate-300 leading-relaxed",...c}),strong:({node:u,...c})=>w.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...c}),blockquote:({node:u,...c})=>w.jsx("blockquote",{className:"border-l-4 border-teal-200 bg-teal-50/50 dark:bg-teal-900/10 p-4 my-6 italic text-slate-600 dark:text-slate-400 rounded-r-xl",...c}),table:({node:u,...c})=>w.jsx("div",{className:"overflow-x-auto my-6 rounded-xl border border-slate-200 dark:border-nordic-charcoal",children:w.jsx("table",{className:"w-full text-left text-sm",...c})}),th:({node:u,...c})=>w.jsx("th",{className:"bg-slate-50 dark:bg-nordic-charcoal p-3 font-bold text-slate-700 dark:text-slate-200 border-b border-slate-200 dark:border-nordic-dark-bg",...c}),td:({node:u,...c})=>w.jsx("td",{className:"p-3 border-b border-slate-100 dark:border-nordic-dark-bg text-slate-600 dark:text-slate-400",...c})},children:e.content})]})]})}):w.jsxs("div",{className:"space-y-6 pb-24 animate-fade-in",children:[w.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[w.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice mb-2 flex items-center gap-3",children:[w.jsx(I5,{className:"text-teal-600"})," Kunskapsbanken"]}),w.jsx("p",{className:"text-slate-600 dark:text-nordic-dark-muted mb-6",children:"Hr samlas tekniska rapporter, guider och analyser. Bde globala fakta och unika rapporter som Elton skrivit om ditt projekt."}),w.jsxs("div",{className:"relative",children:[w.jsx(Qw,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),w.jsx("input",{type:"text",placeholder:"Sk bland artiklar...",className:"w-full p-4 pl-12 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 transition-all",value:r,onChange:u=>i(u.target.value)})]})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.length===0?w.jsxs("div",{className:"col-span-full text-center py-12 opacity-50",children:[w.jsx(E1,{size:48,className:"mx-auto mb-4 text-slate-300"}),w.jsx("p",{children:"Inga artiklar hittades."})]}):s.map((u,c)=>w.jsxs("div",{onClick:()=>n(u),className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg hover:shadow-lg hover:border-teal-200 transition-all cursor-pointer group flex flex-col justify-between h-full",children:[w.jsxs("div",{children:[w.jsx("div",{className:"flex gap-2 mb-3",children:u.tags.slice(0,2).map(d=>w.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-teal-600 bg-teal-50 dark:bg-teal-900/20 px-2 py-1 rounded-md",children:d},d))}),w.jsx("h4",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-2 group-hover:text-teal-700 transition-colors",children:u.title}),w.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted line-clamp-3 leading-relaxed",children:u.summary})]}),w.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50 dark:border-nordic-charcoal flex justify-between items-center",children:[w.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Ls rapport"}),w.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 dark:bg-nordic-charcoal flex items-center justify-center text-slate-400 group-hover:bg-teal-500 group-hover:text-white transition-colors",children:w.jsx(Hy,{size:16,className:"rotate-180"})})]})]},u.id+c))})]})},wF=6048e5,Cde=864e5,xD=Symbol.for("constructDateFrom");function tl(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&xD in t?t[xD](e):t instanceof Date?new t.constructor(e):new Date(e)}function ua(t,e){return tl(e||t,t)}let Ide={};function l0(){return Ide}function Vh(t,e){var u,c,d,h;const n=l0(),r=(e==null?void 0:e.weekStartsOn)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=ua(t,e==null?void 0:e.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Ky(t,e){return Vh(t,{...e,weekStartsOn:1})}function TF(t,e){const n=ua(t,e==null?void 0:e.in),r=n.getFullYear(),i=tl(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Ky(i),s=tl(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const u=Ky(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function ED(t){const e=ua(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function kde(t,...e){const n=tl.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function wD(t,e){const n=ua(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Nde(t,e,n){const[r,i]=kde(n==null?void 0:n.in,t,e),a=wD(r),s=wD(i),u=+a-ED(a),c=+s-ED(s);return Math.round((u-c)/Cde)}function Rde(t,e){const n=TF(t,e),r=tl(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ky(r)}function Pde(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Mde(t){return!(!Pde(t)&&typeof t!="number"||isNaN(+ua(t)))}function Dde(t,e){const n=ua(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Ode={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Lde=(t,e,n)=>{let r;const i=Ode[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Hc(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Ude={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Fde={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zde={date:Hc({formats:Ude,defaultWidth:"full"}),time:Hc({formats:Vde,defaultWidth:"full"}),dateTime:Hc({formats:Fde,defaultWidth:"full"})},Bde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jde=(t,e,n,r)=>Bde[t];function Ua(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):s;i=t.formattingValues[u]||t.formattingValues[s]}else{const s=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const qde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Gde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$de={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wde=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Jde={ordinalNumber:Wde,era:Ua({values:qde,defaultWidth:"wide"}),quarter:Ua({values:Hde,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ua({values:Gde,defaultWidth:"wide"}),day:Ua({values:$de,defaultWidth:"wide"}),dayPeriod:Ua({values:Kde,defaultWidth:"wide",formattingValues:Yde,defaultFormattingWidth:"wide"})};function Va(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?Qde(u,p=>p.test(s)):Xde(u,p=>p.test(s));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(s.length);return{value:d,rest:h}}}function Xde(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Qde(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function SF(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const u=e.slice(i.length);return{value:s,rest:u}}}const Zde=/^(\d+)(th|st|nd|rd)?/i,efe=/\d+/i,tfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nfe={any:[/^b/i,/^(a|c)/i]},rfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ife={any:[/1/i,/2/i,/3/i,/4/i]},afe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ofe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ufe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dfe={ordinalNumber:SF({matchPattern:Zde,parsePattern:efe,valueCallback:t=>parseInt(t,10)}),era:Va({matchPatterns:tfe,defaultMatchWidth:"wide",parsePatterns:nfe,defaultParseWidth:"any"}),quarter:Va({matchPatterns:rfe,defaultMatchWidth:"wide",parsePatterns:ife,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Va({matchPatterns:afe,defaultMatchWidth:"wide",parsePatterns:ofe,defaultParseWidth:"any"}),day:Va({matchPatterns:sfe,defaultMatchWidth:"wide",parsePatterns:lfe,defaultParseWidth:"any"}),dayPeriod:Va({matchPatterns:ufe,defaultMatchWidth:"any",parsePatterns:cfe,defaultParseWidth:"any"})},ffe={code:"en-US",formatDistance:Lde,formatLong:zde,formatRelative:jde,localize:Jde,match:dfe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hfe(t,e){const n=ua(t,e==null?void 0:e.in);return Nde(n,Dde(n))+1}function pfe(t,e){const n=ua(t,e==null?void 0:e.in),r=+Ky(n)-+Rde(n);return Math.round(r/wF)+1}function AF(t,e){var h,p,g,v;const n=ua(t,e==null?void 0:e.in),r=n.getFullYear(),i=l0(),a=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(g=i.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,s=tl((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const u=Vh(s,e),c=tl((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Vh(c,e);return+n>=+u?r+1:+n>=+d?r:r-1}function mfe(t,e){var u,c,d,h;const n=l0(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=AF(t,e),a=tl((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Vh(a,e)}function gfe(t,e){const n=ua(t,e==null?void 0:e.in),r=+Vh(n,e)-+mfe(n,e);return Math.round(r/wF)+1}function St(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ds={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return St(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):St(n+1,2)},d(t,e){return St(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return St(t.getHours()%12||12,e.length)},H(t,e){return St(t.getHours(),e.length)},m(t,e){return St(t.getMinutes(),e.length)},s(t,e){return St(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return St(i,e.length)}},Sc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},TD={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ds.y(t,e)},Y:function(t,e,n,r){const i=AF(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return St(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):St(a,e.length)},R:function(t,e){const n=TF(t);return St(n,e.length)},u:function(t,e){const n=t.getFullYear();return St(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return St(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return St(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ds.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return St(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=gfe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):St(i,e.length)},I:function(t,e,n){const r=pfe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):St(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ds.d(t,e)},D:function(t,e,n){const r=hfe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):St(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return St(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return St(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return St(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Sc.noon:r===0?i=Sc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Sc.evening:r>=12?i=Sc.afternoon:r>=4?i=Sc.morning:i=Sc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ds.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ds.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):St(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):St(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ds.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ds.s(t,e)},S:function(t,e){return Ds.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return AD(r);case"XXXX":case"XX":return Xl(r);case"XXXXX":case"XXX":default:return Xl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return AD(r);case"xxxx":case"xx":return Xl(r);case"xxxxx":case"xxx":default:return Xl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+SD(r,":");case"OOOO":default:return"GMT"+Xl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+SD(r,":");case"zzzz":default:return"GMT"+Xl(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return St(r,e.length)},T:function(t,e,n){return St(+t,e.length)}};function SD(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+St(a,2)}function AD(t,e){return t%60===0?(t>0?"-":"+")+St(Math.abs(t)/60,2):Xl(t,e)}function Xl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=St(Math.trunc(r/60),2),a=St(r%60,2);return n+i+e+a}const CD=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},CF=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},yfe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return CD(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",CD(r,e)).replace("{{time}}",CF(i,e))},vfe={p:CF,P:yfe},_fe=/^D+$/,bfe=/^Y+$/,xfe=["D","DD","YY","YYYY"];function Efe(t){return _fe.test(t)}function wfe(t){return bfe.test(t)}function Tfe(t,e,n){const r=Sfe(t,e,n);if(console.warn(r),xfe.includes(t))throw new RangeError(r)}function Sfe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Afe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ife=/^'([^]*?)'?$/,kfe=/''/g,Nfe=/[a-zA-Z]/;function Rfe(t,e,n){var h,p,g,v,T,S,A,I;const r=l0(),i=(n==null?void 0:n.locale)??r.locale??ffe,a=(n==null?void 0:n.firstWeekContainsDate)??((p=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((S=(T=n==null?void 0:n.locale)==null?void 0:T.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((I=(A=r.locale)==null?void 0:A.options)==null?void 0:I.weekStartsOn)??0,u=ua(t,n==null?void 0:n.in);if(!Mde(u))throw new RangeError("Invalid time value");let c=e.match(Cfe).map(V=>{const N=V[0];if(N==="p"||N==="P"){const B=vfe[N];return B(V,i.formatLong)}return V}).join("").match(Afe).map(V=>{if(V==="''")return{isToken:!1,value:"'"};const N=V[0];if(N==="'")return{isToken:!1,value:Pfe(V)};if(TD[N])return{isToken:!0,value:V};if(N.match(Nfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:V}});i.localize.preprocessor&&(c=i.localize.preprocessor(u,c));const d={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(V=>{if(!V.isToken)return V.value;const N=V.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&wfe(N)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Efe(N))&&Tfe(N,e,String(t));const B=TD[N[0]];return B(u,N,i.localize,d)}).join("")}function Pfe(t){const e=t.match(Ife);return e?e[1].replace(kfe,"'"):t}const Mfe={lessThanXSeconds:{one:"mindre n en sekund",other:"mindre n {{count}} sekunder"},xSeconds:{one:"en sekund",other:"{{count}} sekunder"},halfAMinute:"en halv minut",lessThanXMinutes:{one:"mindre n en minut",other:"mindre n {{count}} minuter"},xMinutes:{one:"en minut",other:"{{count}} minuter"},aboutXHours:{one:"ungefr en timme",other:"ungefr {{count}} timmar"},xHours:{one:"en timme",other:"{{count}} timmar"},xDays:{one:"en dag",other:"{{count}} dagar"},aboutXWeeks:{one:"ungefr en vecka",other:"ungefr {{count}} veckor"},xWeeks:{one:"en vecka",other:"{{count}} veckor"},aboutXMonths:{one:"ungefr en mnad",other:"ungefr {{count}} mnader"},xMonths:{one:"en mnad",other:"{{count}} mnader"},aboutXYears:{one:"ungefr ett r",other:"ungefr {{count}} r"},xYears:{one:"ett r",other:"{{count}} r"},overXYears:{one:"ver ett r",other:"ver {{count}} r"},almostXYears:{one:"nstan ett r",other:"nstan {{count}} r"}},Dfe=["noll","en","tv","tre","fyra","fem","sex","sju","tta","nio","tio","elva","tolv"],Ofe=(t,e,n)=>{let r;const i=Mfe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e<13?Dfe[e]:String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"om "+r:r+" sedan":r},Lfe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"y-MM-dd"},Ufe={full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Vfe={full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Ffe={date:Hc({formats:Lfe,defaultWidth:"full"}),time:Hc({formats:Ufe,defaultWidth:"full"}),dateTime:Hc({formats:Vfe,defaultWidth:"full"})},zfe={lastWeek:"'i' EEEE's kl.' p",yesterday:"'igr kl.' p",today:"'idag kl.' p",tomorrow:"'imorgon kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"},Bfe=(t,e,n,r)=>zfe[t],jfe={narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["fre Kristus","efter Kristus"]},qfe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1:a kvartalet","2:a kvartalet","3:e kvartalet","4:e kvartalet"]},Hfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],wide:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},Gfe={narrow:["S","M","T","O","T","F","L"],short:["s","m","ti","on","to","fr","l"],abbreviated:["sn","mn","tis","ons","tors","fre","lr"],wide:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"]},$fe={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"morg.",afternoon:"efterm.",evening:"kvll",night:"natt"},abbreviated:{am:"f.m.",pm:"e.m.",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"efterm.",evening:"kvll",night:"natt"},wide:{am:"frmiddag",pm:"eftermiddag",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"eftermiddag",evening:"kvll",night:"natt"}},Kfe={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},abbreviated:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},wide:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morgonen",afternoon:"p eftermiddagen",evening:"p kvllen",night:"p natten"}},Yfe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:case 2:return n+":a"}return n+":e"},Wfe={ordinalNumber:Yfe,era:Ua({values:jfe,defaultWidth:"wide"}),quarter:Ua({values:qfe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ua({values:Hfe,defaultWidth:"wide"}),day:Ua({values:Gfe,defaultWidth:"wide"}),dayPeriod:Ua({values:$fe,defaultWidth:"wide",formattingValues:Kfe,defaultFormattingWidth:"wide"})},Jfe=/^(\d+)(:a|:e)?/i,Xfe=/\d+/i,Qfe={narrow:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,abbreviated:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,wide:/^(fre Kristus|fre vr tid|efter Kristus|vr tid)/i},Zfe={any:[/^f/i,/^[ev]/i]},ehe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](:a|:e)? kvartalet/i},the={any:[/1/i,/2/i,/3/i,/4/i]},nhe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar[s]?|apr|maj|jun[i]?|jul[i]?|aug|sep|okt|nov|dec)\.?/i,wide:/^(januari|februari|mars|april|maj|juni|juli|augusti|september|oktober|november|december)/i},rhe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^maj/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ihe={narrow:/^[smtofl]/i,short:/^(s|m|ti|on|to|fr|l)/i,abbreviated:/^(sn|mn|tis|ons|tors|fre|lr)/i,wide:/^(sndag|mndag|tisdag|onsdag|torsdag|fredag|lrdag)/i},ahe={any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},ohe={any:/^([fe]\.?\s?m\.?|midn(att)?|midd(ag)?|(p) (morgonen|eftermiddagen|kvllen|natten))/i},she={any:{am:/^f/i,pm:/^e/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgon/i,afternoon:/eftermiddag/i,evening:/kvll/i,night:/natt/i}},lhe={ordinalNumber:SF({matchPattern:Jfe,parsePattern:Xfe,valueCallback:t=>parseInt(t,10)}),era:Va({matchPatterns:Qfe,defaultMatchWidth:"wide",parsePatterns:Zfe,defaultParseWidth:"any"}),quarter:Va({matchPatterns:ehe,defaultMatchWidth:"wide",parsePatterns:the,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Va({matchPatterns:nhe,defaultMatchWidth:"wide",parsePatterns:rhe,defaultParseWidth:"any"}),day:Va({matchPatterns:ihe,defaultMatchWidth:"wide",parsePatterns:ahe,defaultParseWidth:"any"}),dayPeriod:Va({matchPatterns:ohe,defaultMatchWidth:"any",parsePatterns:she,defaultParseWidth:"any"})},uhe={code:"sv",formatDistance:Ofe,formatLong:Ffe,formatRelative:Bfe,localize:Wfe,match:lhe,options:{weekStartsOn:1,firstWeekContainsDate:4}},ID={charcoal:"#463F3A",ice:"#FAF7F5"},Ac=t=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",maximumFractionDigits:0}).format(t),che=({project:t,onPhaseClick:e})=>{const{tasks:n,vehicleData:r}=t,[i,a]=R.useState(()=>{const v=localStorage.getItem("elton-dashboard-order");return v?JSON.parse(v):["stats","timeline","budget","phases","resources"]});R.useEffect(()=>{localStorage.setItem("elton-dashboard-order",JSON.stringify(i))},[i]);const s=(v,T)=>{const S=i.indexOf(v);if(S===-1||T==="up"&&S===0||T==="down"&&S===i.length-1)return;const A=[...i],I=T==="up"?S-1:S+1;[A[S],A[I]]=[A[I],A[S]],a(A)},u=R.useMemo(()=>{const v=n.reduce((N,B)=>N+(B.estimatedCostMin||0),0),T=n.reduce((N,B)=>N+(B.estimatedCostMax||0),0),S=n.reduce((N,B)=>N+(B.actualCost||0),0),A=n.filter(N=>N.status===bt.DONE).length,I=n.length>0?Math.round(A/n.length*100):0,V=(T+v)/2-S;return{totalMin:v,totalMax:T,spent:S,progress:I,completed:A,total:n.length,remainingBudget:V}},[n]),c=R.useMemo(()=>Array.from(new Set(n.map(T=>T.phase||"Oknd Fas"))).map(T=>{const S=n.filter(A=>(A.phase||"Oknd Fas")===T);return{name:T.split(":")[0],est:S.reduce((A,I)=>A+((I.estimatedCostMax||0)+(I.estimatedCostMin||0))/2,0),spent:S.reduce((A,I)=>A+(I.actualCost||0),0)}}),[n]),d=R.useMemo(()=>{const v=r!=null&&r.prodYear?String(r.prodYear):"-",T=(r==null?void 0:r.regDate)||"-",S=t.created?Rfe(new Date(t.created),"d MMM yyyy",{locale:uhe}):"-",A=[{date:v,title:"Tillverkad",description:`${(r==null?void 0:r.make)||"Oknd"} ${(r==null?void 0:r.model)||"Fordon"}`,type:"history",icon:_ae},{date:T,title:"I Trafik",description:"Frsta gngen p vg",type:"history",icon:coe},{date:S,title:"Projektstart",description:t.name,type:"milestone",icon:Kae}],I=n.filter(V=>V.status===bt.DONE).slice(0,5).map(V=>({date:"Klar",title:V.title,description:(V.phase||"Oknd").split(":")[0],type:"task",icon:el}));return[...A,...I]},[n,r,t]),h=({title:v,id:T})=>w.jsxs("div",{className:"flex justify-between items-center mb-4 group",children:[w.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:v}),w.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[w.jsx("button",{onClick:()=>s(T,"up"),className:"p-1 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded",children:w.jsx(fae,{size:14})}),w.jsx("button",{onClick:()=>s(T,"down"),className:"p-1 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded",children:w.jsx(lae,{size:14})})]})]}),p=({title:v,value:T,subtext:S,icon:A,color:I})=>w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg flex items-center space-x-4 transition-all hover:shadow-md h-full",children:[w.jsx("div",{className:`p-4 rounded-2xl ${I} dark:bg-opacity-20`,children:w.jsx(A,{size:24,className:"text-nordic-charcoal dark:text-nordic-ice opacity-80"})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:v}),w.jsx("h3",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:T}),S&&w.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted mt-1",children:S})]})]}),g=v=>{switch(v){case"stats":return w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[w.jsx(p,{title:"Total Budget",value:`${Ac(u.totalMin)} - ${Ac(u.totalMax)}`,subtext:"Uppskattat spann",icon:Xoe,color:"bg-nordic-blue"}),w.jsx(p,{title:"Spenderat",value:Ac(u.spent),subtext:`Kvar av snittbudget: ${Ac(u.remainingBudget)}`,icon:Oae,color:"bg-nordic-pink"}),w.jsx(p,{title:"Frdigt",value:`${u.progress}%`,subtext:`${u.completed} av ${u.total} uppgifter klara`,icon:el,color:"bg-nordic-green"})]},"stats");case"timeline":return w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg overflow-hidden",children:[w.jsx(h,{title:"Tidslinje & Resa",id:"timeline"}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute top-[24px] left-0 w-full h-1 bg-gradient-to-r from-nordic-ice via-nordic-blue/30 to-nordic-ice dark:from-nordic-dark-bg dark:via-nordic-charcoal dark:to-nordic-dark-bg rounded-full"}),w.jsx("div",{className:"flex overflow-x-auto pb-6 space-x-12 px-4 scrollbar-thin scrollbar-thumb-nordic-blue/50 scrollbar-track-transparent snap-x",children:d.map((T,S)=>w.jsxs("div",{className:"relative flex flex-col items-center min-w-[160px] snap-center group",children:[w.jsx("div",{className:`w-12 h-12 rounded-full border-4 border-white dark:border-nordic-dark-surface shadow-sm flex items-center justify-center mb-4 z-10 transition-transform duration-300 group-hover:scale-110 ${T.type==="history"?"bg-slate-100 dark:bg-nordic-charcoal text-slate-400":T.type==="milestone"?"bg-nordic-pink dark:bg-pink-900/40 text-rose-800 dark:text-rose-200":"bg-nordic-green dark:bg-green-900/40 text-green-800 dark:text-green-200"}`,children:w.jsx(T.icon,{size:20})}),w.jsxs("div",{className:"text-center transition-opacity duration-300 group-hover:opacity-100",children:[w.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-1 block",children:T.date}),w.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm leading-tight mb-1",children:T.title}),w.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted max-w-[140px] mx-auto leading-relaxed",children:T.description})]})]},S))})]})]},"timeline");case"budget":return w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl shadow-sm border border-nordic-ice dark:border-nordic-dark-bg",children:[w.jsx(h,{title:"Ekonomi per Fas",id:"budget"}),w.jsx("div",{style:{width:"100%",height:320,minHeight:300},children:w.jsx(G7,{width:"100%",height:"100%",children:w.jsxs(Zie,{data:c,barGap:-20,children:[w.jsx(p5,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#8A817C",fontSize:12},dy:10}),w.jsx(m5,{hide:!0}),w.jsx(LZ,{cursor:{fill:"rgba(200,200,200,0.1)"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 25px -5px rgb(0 0 0 / 0.1)"},formatter:T=>Ac(T)}),w.jsx(Hw,{dataKey:"est",name:"Estimat",fill:ID.ice,radius:[8,8,8,8],barSize:48,className:"dark:fill-nordic-charcoal"}),w.jsx(Hw,{dataKey:"spent",name:"Utfall",fill:ID.charcoal,radius:[8,8,8,8],barSize:24,className:"dark:fill-teal-600"})]})})})]},"budget");case"phases":return w.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[w.jsx(h,{title:"Status per Fas",id:"phases"}),c.map((T,S)=>w.jsxs("button",{onClick:()=>e&&e(T.name),className:"bg-white dark:bg-nordic-dark-surface p-5 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg flex items-center justify-between hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 transition-colors w-full group text-left cursor-pointer shadow-sm hover:shadow-md",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-nordic-ice dark:bg-nordic-charcoal flex items-center justify-center font-serif font-bold text-slate-600 dark:text-nordic-ice group-hover:scale-110 transition-transform",children:S+0}),w.jsxs("div",{children:[w.jsxs("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[T.name,w.jsx(C5,{size:14,className:"opacity-0 group-hover:opacity-100 transition-opacity text-teal-500"})]}),w.jsxs("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted",children:[Ac(T.spent)," spenderat"]})]})]}),w.jsx("div",{className:"w-32 h-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-full overflow-hidden",children:w.jsx("div",{className:"h-full bg-teal-500 rounded-full",style:{width:`${Math.min(T.spent/(T.est||1)*100,100)}%`}})})]},S))]},"phases");case"resources":return w.jsxs("div",{className:"pt-4",children:[w.jsx(h,{title:"Resurser",id:"resources"}),w.jsx(Ade,{})]},"resources");default:return null}};return w.jsx("div",{className:"space-y-8 pb-20 animate-fade-in",children:i.map(v=>g(v))})},dhe=({task:t,vehicleData:e,shoppingItems:n,onUpdate:r,onClose:i})=>{const[a,s]=R.useState("details"),[u,c]=R.useState(""),[d,h]=R.useState(""),[p,g]=R.useState(""),[v,T]=R.useState(""),[S,A]=R.useState(t.description),[I,V]=R.useState(t.actualCost.toString()),N=t.decisionOptions&&t.decisionOptions.length>0,B=t.subtasks||[],q=B.filter(K=>K.completed).length,L=B.length>0?q/B.length*100:0,D=R.useMemo(()=>{const K=t.title.toLowerCase().split(" ").filter(me=>me.length>3),ae={specs:[],articles:[],inventory:[]};return K.some(me=>"dck hjul flg bult".includes(me))&&(ae.specs.push({label:"Bultmnster",value:e.wheels.boltPattern}),ae.specs.push({label:"Dckdimension",value:e.wheels.tiresFront})),K.some(me=>"olja filter service motor".includes(me))&&(ae.specs.push({label:"Motorolja",value:"10W-40 Mineral"}),ae.specs.push({label:"Volym",value:e.engine.volume})),K.some(me=>"vxellda lda vxel".includes(me))&&ae.specs.push({label:"Vxellda",value:e.gearbox}),K.some(me=>"last vikt lasta".includes(me))&&ae.specs.push({label:"Max Lastvikt",value:`${e.weights.load} kg`}),ae.articles=F1.filter(me=>{const Y=me.content.toLowerCase();return K.some(W=>Y.includes(W))}),ae.inventory=n.filter(me=>K.some(Y=>me.name.toLowerCase().includes(Y))),ae},[t.title,e,n]),O=()=>{r({...t,description:S,actualCost:parseInt(I)||0})},U=()=>{if(!v.trim())return;const K={id:Math.random().toString(36).substr(2,9),title:v,completed:!1};r({...t,subtasks:[...B,K]}),T("")},F=K=>{r({...t,subtasks:B.map(ae=>ae.id===K?{...ae,completed:!ae.completed}:ae)})},M=K=>{r({...t,subtasks:B.filter(ae=>ae.id!==K)})},z=()=>{if(!u.trim())return;const K={id:Math.random().toString(36).substr(2,9),text:u,createdAt:new Date().toISOString(),author:"user"};r({...t,comments:[...t.comments,K]}),c("")},H=()=>{if(!p.trim())return;const K={id:Math.random().toString(36).substr(2,9),title:d||p,url:p.startsWith("http")?p:`https://${p}`};r({...t,links:[...t.links,K]}),h(""),g("")},de=K=>{r({...t,links:t.links.filter(ae=>ae.id!==K)})},te=K=>{var me;const ae=(me=K.target.files)==null?void 0:me[0];if(ae){const Y=new FileReader;Y.onloadend=()=>{const W={id:Math.random().toString(36).substr(2,9),name:ae.name,type:ae.type.startsWith("image/")?"image":"file",data:Y.result};r({...t,attachments:[...t.attachments,W]})},Y.readAsDataURL(ae)}},X=K=>{r({...t,attachments:t.attachments.filter(ae=>ae.id!==K)})};return w.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/30 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-3xl rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[w.jsxs("div",{className:"p-6 bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-dark-bg dark:to-nordic-dark-surface border-b border-slate-100 dark:border-nordic-charcoal flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-bold uppercase tracking-wider ${t.status==="Klart"?"bg-nordic-green text-green-800":"bg-nordic-blue text-blue-800"}`,children:t.status}),w.jsx("span",{className:"text-slate-400 text-xs font-mono uppercase",children:t.phase})]}),w.jsx("h2",{className:"text-2xl font-serif font-bold text-nordic-charcoal dark:text-nordic-ice",children:t.title})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{className:"hidden sm:flex items-center gap-2 px-3 py-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-xl text-xs font-bold text-nordic-charcoal dark:text-nordic-ice hover:bg-teal-50 dark:hover:bg-teal-900/20 transition-colors",children:[w.jsx(Xw,{size:16})," Frga Elton om detta"]}),w.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full transition-colors",children:w.jsx(i0,{size:24,className:"text-slate-500 dark:text-slate-400"})})]})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto",children:[w.jsxs("div",{className:"flex border-b border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-surface sticky top-0 z-10",children:[w.jsx("button",{onClick:()=>s("details"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${a==="details"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:"Detaljer & Checklistor"}),w.jsxs("button",{onClick:()=>s("decision"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors flex items-center justify-center gap-2 ${a==="decision"?"border-amber-400 text-amber-600 dark:text-amber-400":"border-transparent text-slate-400 hover:text-amber-500"}`,children:[w.jsx(Jw,{size:16}),"Beslutsstd"]}),w.jsxs("button",{onClick:()=>s("comments"),className:`flex-1 py-3 font-medium text-sm border-b-2 transition-colors ${a==="comments"?"border-nordic-charcoal text-nordic-charcoal dark:border-teal-400 dark:text-teal-400":"border-transparent text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:["Kommentarer (",t.comments.length,")"]})]}),w.jsxs("div",{className:"p-6",children:[a==="details"&&w.jsxs("div",{className:"space-y-8",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Beskrivning"}),w.jsx("textarea",{value:S,onChange:K=>A(K.target.value),onBlur:O,className:"w-full p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal focus:ring-2 focus:ring-teal-500/20 focus:outline-none text-slate-700 dark:text-nordic-ice min-h-[80px]"})]}),w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg/30 p-4 rounded-2xl border border-slate-100 dark:border-nordic-charcoal",children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[w.jsx(R5,{size:18,className:"text-teal-600"})," Checklista"]}),B.length>0&&w.jsxs("span",{className:"text-xs font-bold text-slate-400",children:[Math.round(L),"%"]})]}),B.length>0&&w.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-nordic-charcoal rounded-full mb-4 overflow-hidden",children:w.jsx("div",{className:"h-full bg-teal-500 transition-all duration-500",style:{width:`${L}%`}})}),w.jsx("div",{className:"space-y-2 mb-3",children:B.map(K=>w.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 rounded-lg group cursor-pointer",onClick:()=>F(K.id),children:[w.jsx("div",{className:`transition-colors ${K.completed?"text-teal-600":"text-slate-300"}`,children:K.completed?w.jsx(el,{size:20}):w.jsx(dh,{size:20})}),w.jsx("span",{className:`flex-1 text-sm ${K.completed?"text-slate-400 line-through decoration-slate-300":"text-nordic-charcoal dark:text-slate-200"}`,children:K.title}),w.jsx("button",{onClick:ae=>{ae.stopPropagation(),M(K.id)},className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:w.jsx(Bc,{size:14})})]},K.id))}),w.jsxs("div",{className:"flex gap-2 items-center mt-2",children:[w.jsx(Fc,{size:16,className:"text-slate-400 ml-2"}),w.jsx("input",{placeholder:"Lgg till en punkt...",value:v,onChange:K=>T(K.target.value),onKeyDown:K=>K.key==="Enter"&&U(),className:"flex-1 bg-transparent text-sm p-1 focus:outline-none dark:text-white placeholder:text-slate-400"}),w.jsx("button",{onClick:U,disabled:!v.trim(),className:"text-xs font-bold bg-slate-100 dark:bg-nordic-charcoal px-3 py-1.5 rounded-lg hover:bg-slate-200 dark:hover:bg-nordic-dark-surface transition-colors disabled:opacity-0",children:"Lgg till"})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[w.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Estimat"}),w.jsxs("span",{className:"text-xl font-mono font-medium text-slate-700 dark:text-nordic-ice",children:[t.estimatedCostMin," - ",t.estimatedCostMax," kr"]})]}),w.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 dark:bg-nordic-dark-bg border border-slate-100 dark:border-nordic-charcoal",children:[w.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Verklig Kostnad"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("input",{type:"number",value:I,onChange:K=>V(K.target.value),onBlur:O,className:"w-24 bg-transparent font-mono text-xl font-medium text-nordic-charcoal dark:text-nordic-ice focus:outline-none border-b border-slate-300 dark:border-slate-600 focus:border-teal-500"}),w.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"kr"})]})]})]})]}),w.jsxs("div",{children:[w.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[w.jsx(PM,{size:18})," Lnkar"]}),w.jsx("div",{className:"space-y-2 mb-3",children:t.links.map(K=>w.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl group hover:border-teal-200 transition-colors",children:[w.jsxs("a",{href:K.url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-teal-700 dark:text-teal-400 font-medium hover:underline truncate",children:[w.jsx(PM,{size:14})," ",K.title]}),w.jsx("button",{onClick:()=>de(K.id),className:"text-slate-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:w.jsx(Bc,{size:16})})]},K.id))}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("input",{placeholder:"Titel (t.ex. Mekonomen)",value:d,onChange:K=>h(K.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),w.jsx("input",{placeholder:"https://...",value:p,onChange:K=>g(K.target.value),className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white"}),w.jsx("button",{onClick:H,disabled:!p,className:"p-2 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-lg hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:w.jsx(Fc,{size:18})})]})]}),w.jsxs("div",{children:[w.jsxs("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-3 flex items-center gap-2",children:[w.jsx(M5,{size:18})," Filer & Kvitton"]}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-3",children:[t.attachments.map(K=>w.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-slate-200 dark:border-nordic-charcoal aspect-square bg-slate-50 dark:bg-nordic-dark-bg flex items-center justify-center",children:[K.type==="image"?w.jsx("img",{src:K.data,alt:K.name,className:"w-full h-full object-cover"}):w.jsxs("div",{className:"text-center p-2",children:[w.jsx(E1,{className:"mx-auto mb-1 text-slate-400"}),w.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:K.name})]}),w.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:w.jsx("button",{onClick:()=>X(K.id),className:"p-2 bg-white rounded-full text-rose-500 hover:bg-rose-50",children:w.jsx(Bc,{size:16})})})]},K.id)),w.jsxs("label",{className:"cursor-pointer rounded-xl border-2 border-dashed border-slate-200 dark:border-nordic-charcoal hover:border-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900/10 transition-all aspect-square flex flex-col items-center justify-center text-slate-400 hover:text-teal-600 dark:hover:text-teal-400",children:[w.jsx(Fc,{size:24,className:"mb-1"}),w.jsx("span",{className:"text-xs font-medium",children:"Ladda upp"}),w.jsx("input",{type:"file",onChange:te,className:"hidden"})]})]})]})]}),a==="decision"&&w.jsxs("div",{className:"space-y-6",children:[(D.specs.length>0||D.articles.length>0||D.inventory.length>0)&&w.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-5 rounded-2xl border border-indigo-100 dark:border-indigo-800",children:[w.jsxs("h3",{className:"font-serif font-bold text-lg text-indigo-900 dark:text-indigo-200 mb-4 flex items-center gap-2",children:[w.jsx(z5,{size:18})," Eltons Tekniska Noteringar"]}),w.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[D.specs.length>0&&w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[w.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block",children:"Specifikationer"}),w.jsx("div",{className:"grid grid-cols-2 gap-2",children:D.specs.map((K,ae)=>w.jsxs("div",{children:[w.jsx("span",{className:"text-xs text-slate-500 block",children:K.label}),w.jsx("span",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm",children:K.value})]},ae))})]}),D.inventory.length>0&&w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50",children:[w.jsxs("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[w.jsx(U5,{size:12})," Frn Inkpslistan"]}),w.jsx("div",{className:"space-y-1",children:D.inventory.map((K,ae)=>w.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[K.checked?w.jsx(el,{size:14,className:"text-green-500"}):w.jsx(dh,{size:14,className:"text-slate-300"}),w.jsx("span",{className:K.checked?"text-slate-400 line-through":"text-nordic-charcoal dark:text-nordic-ice",children:K.name})]},ae))})]}),D.articles.map(K=>w.jsx("div",{className:"bg-white dark:bg-nordic-dark-bg p-3 rounded-xl border border-indigo-100 dark:border-indigo-900/50 hover:border-indigo-300 transition-colors group cursor-pointer",children:w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx(I5,{className:"text-indigo-500 shrink-0 mt-1",size:18}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice group-hover:underline",children:K.title}),w.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 line-clamp-2",children:K.summary})]})]})},K.id))]})]}),w.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-2xl border border-amber-100 dark:border-amber-800 text-amber-800 dark:text-amber-200 text-sm flex gap-3",children:[w.jsx(Jw,{className:"shrink-0",size:20}),w.jsx("p",{children:"Hr kan du jmfra olika vgar framt. Vad r vrt mest  din tid eller dina pengar?"})]}),N?w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.decisionOptions.map(K=>w.jsxs("div",{className:`p-6 rounded-3xl border-2 relative ${K.recommended?"border-teal-400 bg-teal-50 dark:bg-teal-900/10":"border-slate-100 dark:border-nordic-charcoal bg-white dark:bg-nordic-dark-bg"}`,children:[K.recommended&&w.jsx("div",{className:"absolute -top-3 left-6 bg-teal-500 text-white text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-full",children:"Rekommenderas"}),w.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice mb-1",children:K.title}),w.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted text-sm mb-4",children:K.description}),w.jsxs("div",{className:"bg-nordic-ice dark:bg-nordic-charcoal p-3 rounded-xl mb-4 text-center",children:[w.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Prisspann"}),w.jsx("span",{className:"font-mono font-bold text-lg text-nordic-charcoal dark:text-white",children:K.costRange})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("span",{className:"text-xs font-bold text-green-600 dark:text-green-400 uppercase block mb-2",children:"Frdelar"}),w.jsx("ul",{className:"space-y-1",children:K.pros.map((ae,me)=>w.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[w.jsx(r0,{size:14,className:"text-green-500 mt-0.5 shrink-0"})," ",ae]},me))})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-xs font-bold text-rose-500 dark:text-rose-400 uppercase block mb-2",children:"Nackdelar"}),w.jsx("ul",{className:"space-y-1",children:K.cons.map((ae,me)=>w.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-300",children:[w.jsx(Pae,{size:14,className:"text-rose-400 mt-0.5 shrink-0"})," ",ae]},me))})]})]})]},K.id))}):w.jsx("div",{className:"text-center py-8 text-slate-400 italic",children:"Inga manuella alternativ inlagda n."})]}),a==="comments"&&w.jsxs("div",{className:"flex flex-col h-[500px]",children:[w.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto pr-2",children:[t.comments.length===0&&w.jsxs("div",{className:"text-center py-10 text-slate-400",children:[w.jsx(Xw,{size:48,className:"mx-auto mb-2 opacity-20"}),w.jsx("p",{children:"Inga kommentarer n."})]}),t.comments.map(K=>w.jsxs("div",{className:`p-4 rounded-2xl max-w-[90%] ${K.author==="user"?"bg-nordic-ice dark:bg-teal-900/30 ml-auto rounded-br-none":"bg-white dark:bg-nordic-charcoal border border-slate-100 dark:border-nordic-dark-bg mr-auto rounded-bl-none"}`,children:[w.jsx("p",{className:"text-slate-700 dark:text-slate-200 text-sm leading-relaxed",children:K.text}),w.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-right",children:new Date(K.createdAt).toLocaleString()})]},K.id))]}),w.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-nordic-charcoal flex gap-2",children:[w.jsx("input",{value:u,onChange:K=>c(K.target.value),onKeyDown:K=>K.key==="Enter"&&z(),placeholder:"Skriv en kommentar...",className:"flex-1 p-3 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 dark:text-white"}),w.jsx("button",{onClick:z,disabled:!u.trim(),className:"p-3 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700 disabled:opacity-50",children:w.jsx(O5,{size:18})})]})]})]})]})]})})},fhe=({tasks:t,shoppingItems:e,vehicleData:n,onUpdateTask:r,initialFilter:i="ALL"})=>{const[a,s]=R.useState(null),[u,c]=R.useState("ALL"),[d,h]=R.useState(null),p=R.useMemo(()=>Array.from(new Set(t.map(B=>B.phase).filter(Boolean))).sort(),[t]);R.useEffect(()=>{c(i),i!=="ALL"&&p.includes(i)?s(i):p.length>0&&i==="ALL"&&!a&&s(p[0])},[i,p]);const g=N=>{s(a===N?null:N)},v=u==="ALL"?p:[u],T=t.filter(N=>N.status===bt.IDEA),S=t.filter(N=>N.status!==bt.IDEA),A=N=>{switch(N){case bt.DONE:return"bg-nordic-green text-green-900 border-green-200 dark:bg-green-900/40 dark:text-green-200 dark:border-green-900";case bt.IN_PROGRESS:return"bg-nordic-blue text-blue-900 border-blue-200 dark:bg-blue-900/40 dark:text-blue-200 dark:border-blue-900";case bt.TODO:return"bg-nordic-pink text-rose-900 border-rose-200 dark:bg-rose-900/40 dark:text-rose-200 dark:border-rose-900";case bt.IDEA:return"bg-amber-100 text-amber-900 border-amber-200 dark:bg-amber-900/40 dark:text-amber-200 dark:border-amber-900";default:return"bg-slate-100"}},I=N=>{switch(N){case Ba.HIGH:return"text-rose-600 bg-rose-50 dark:bg-rose-900/20 dark:text-rose-300 border-rose-100 dark:border-rose-900";case Ba.MEDIUM:return"text-amber-600 bg-amber-50 dark:bg-amber-900/20 dark:text-amber-300 border-amber-100 dark:border-amber-900";default:return"text-slate-500 bg-slate-50 dark:bg-slate-800 dark:text-slate-400 border-slate-100 dark:border-slate-700"}},V=N=>{let B=bt.TODO;N.status===bt.IDEA?B=bt.TODO:N.status===bt.TODO?B=bt.IN_PROGRESS:N.status===bt.IN_PROGRESS?B=bt.DONE:N.status===bt.DONE&&(B=bt.TODO),r({...N,status:B})};return w.jsxs("div",{className:"space-y-8 pb-20",children:[T.length>0&&w.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30 rounded-3xl border border-amber-100 dark:border-amber-900/50 p-6",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("div",{className:"p-2 bg-white dark:bg-amber-900/50 rounded-xl text-amber-500 shadow-sm",children:w.jsx(Jw,{size:24})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-serif font-bold text-xl text-amber-900 dark:text-amber-100",children:"Idbanken"}),w.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Drmmar och tankar som inte r spikade n."})]})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:T.map(N=>w.jsxs("div",{onClick:()=>h(N),className:"bg-white/80 dark:bg-nordic-dark-bg/80 backdrop-blur border border-amber-100 dark:border-amber-900/50 p-4 rounded-xl cursor-pointer hover:shadow-md transition-all hover:-translate-y-1",children:[w.jsx("h4",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice mb-1",children:N.title}),w.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-2",children:N.description}),w.jsx("div",{className:"mt-3 flex justify-end",children:w.jsx("button",{onClick:B=>{B.stopPropagation(),V(N)},className:"text-[10px] font-bold uppercase tracking-wider text-amber-600 hover:bg-amber-100 px-2 py-1 rounded-md transition-colors",children:"Aktivera"})})]},N.id))})]}),w.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide sticky top-0 bg-nordic-ice/95 dark:bg-nordic-dark-bg/95 z-20 py-2 backdrop-blur-sm",children:[w.jsx("button",{onClick:()=>c("ALL"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${u==="ALL"?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:"Alla Faser"}),p.map(N=>w.jsx("button",{onClick:()=>c(N),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${u===N?"bg-nordic-charcoal text-white shadow-md dark:bg-teal-600":"bg-white text-slate-500 hover:bg-slate-50 dark:bg-nordic-dark-surface dark:text-nordic-dark-muted dark:hover:bg-nordic-charcoal"}`,children:N.split(":")[0]},N))]}),v.map(N=>{const B=S.filter(L=>L.phase===N),q=a===N||v.length===1;return B.length===0?null:w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm overflow-hidden transition-all duration-500 ease-in-out",children:[w.jsx("button",{onClick:()=>g(N),className:"w-full flex items-center justify-between p-6 bg-white dark:bg-nordic-dark-surface hover:bg-nordic-ice/30 dark:hover:bg-nordic-charcoal/30 transition-colors",children:w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("div",{className:`p-2.5 rounded-xl transition-colors ${q?"bg-nordic-charcoal text-white dark:bg-teal-600":"bg-nordic-ice text-slate-500 dark:bg-nordic-charcoal dark:text-nordic-ice"}`,children:q?w.jsx(k5,{size:20}):w.jsx(N5,{size:20})}),w.jsxs("div",{className:"text-left",children:[w.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:N}),w.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-nordic-dark-muted mt-1",children:[w.jsxs("span",{className:"bg-nordic-green/50 dark:bg-green-900/30 px-2 py-0.5 rounded-full text-xs text-green-900 dark:text-green-200 font-medium",children:[B.filter(L=>L.status===bt.DONE).length," Klara"]}),w.jsx("span",{children:""}),w.jsxs("span",{children:[B.length," Totalt"]})]})]})]})}),q&&w.jsxs("div",{className:"p-6 pt-0 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 bg-nordic-ice/20 dark:bg-black/10 border-t border-nordic-ice dark:border-nordic-dark-bg",children:[w.jsx("div",{className:"h-2 col-span-full"}),B.map(L=>{var U,F,M;const D=L.subtasks||[],O=D.filter(z=>z.completed).length;return w.jsxs("div",{onClick:()=>h(L),className:`group relative p-5 rounded-2xl border transition-all duration-300 hover:-translate-y-1 hover:shadow-lg flex flex-col justify-between cursor-pointer ${L.status===bt.DONE?"bg-white dark:bg-nordic-dark-bg border-slate-100 dark:border-nordic-charcoal opacity-70 hover:opacity-100":"bg-white dark:bg-nordic-dark-bg border-slate-200 dark:border-nordic-charcoal shadow-sm"}`,children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-start mb-3",children:[w.jsx("span",{className:`text-[10px] px-2.5 py-1 rounded-full font-bold uppercase tracking-wider ${A(L.status)}`,children:L.status}),w.jsxs("div",{className:"flex gap-1",children:[L.priority&&w.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-md font-bold uppercase border ${I(L.priority)}`,children:L.priority}),L.tags.includes("Kritisk")&&w.jsx("span",{className:"text-rose-500 animate-pulse",children:w.jsx(kae,{size:16})})]})]}),w.jsx("h4",{className:`font-bold text-lg mb-2 ${L.status===bt.DONE?"text-slate-500 dark:text-nordic-dark-muted line-through decoration-2 decoration-slate-300":"text-nordic-charcoal dark:text-nordic-ice"}`,children:L.title}),L.sprint&&w.jsxs("div",{className:"mb-2 inline-flex items-center gap-1.5 px-2 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 rounded-md text-xs font-medium border border-indigo-100 dark:border-indigo-900/30",children:[w.jsx(yae,{size:12}),L.sprint]}),w.jsx("p",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted leading-relaxed mb-4 line-clamp-2",children:L.description})]}),w.jsxs("div",{className:"flex flex-col gap-3 mt-2 pt-4 border-t border-slate-50 dark:border-nordic-charcoal",children:[w.jsxs("div",{className:"flex gap-3 text-slate-400",children:[D.length>0&&w.jsxs("div",{className:`flex items-center gap-1 text-xs ${O===D.length?"text-green-500":"text-slate-400"}`,children:[w.jsx(R5,{size:14}),w.jsxs("span",{children:[O,"/",D.length]})]}),((U=L.comments)==null?void 0:U.length)>0&&w.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[w.jsx(Xw,{size:14}),w.jsx("span",{children:L.comments.length})]}),((F=L.attachments)==null?void 0:F.length)>0&&w.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[w.jsx(M5,{size:14}),w.jsx("span",{children:L.attachments.length})]}),((M=L.links)==null?void 0:M.length)>0&&w.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[w.jsx(roe,{size:14}),w.jsx("span",{children:L.links.length})]})]}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Estimat"}),w.jsxs("span",{className:"text-sm font-mono text-slate-600 dark:text-slate-300",children:[L.estimatedCostMin,"-",L.estimatedCostMax," kr"]})]}),w.jsx("button",{onClick:z=>{z.stopPropagation(),V(L)},className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${L.status===bt.DONE?"bg-nordic-green text-green-800 scale-110 shadow-inner":"bg-slate-100 dark:bg-nordic-charcoal text-slate-400 hover:bg-nordic-blue hover:text-blue-800 hover:scale-110"}`,children:w.jsx(r0,{size:20,strokeWidth:L.status===bt.DONE?3:2})})]})]})]},L.id)})]})]},N)}),d&&w.jsx(dhe,{task:d,vehicleData:n,shoppingItems:e,onUpdate:N=>{r(N),h(N)},onClose:()=>h(null)})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let hhe,phe;function mhe(){return{geminiUrl:hhe,vertexUrl:phe}}function ghe(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=mhe();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qo{}function Ie(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function _(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const h=c[d];_(h,e.slice(a+1),n[d])}else for(const d of c)_(d,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];_(c[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function y(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(u=>y(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function yhe(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&a.length>u)for(let c=u;c<a.length;c++){const d=a[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}uT(t,i,a,0,s)}}function uT(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const c of u[s])uT(c,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of u)c[d]=s[d];for(const[d,h]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(d):p.push(g);_(s,p,h)}for(const d of u)delete s[d]}}else{const s=t;a in s&&uT(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z1(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vhe(t){const e={},n=y(t,["operationName"]);n!=null&&_(e,["operationName"],n);const r=y(t,["resourceName"]);return r!=null&&_(e,["_url","resourceName"],r),e}function _he(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const a=y(t,["error"]);a!=null&&_(e,["error"],a);const s=y(t,["response","generateVideoResponse"]);return s!=null&&_(e,["response"],xhe(s)),e}function bhe(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const a=y(t,["error"]);a!=null&&_(e,["error"],a);const s=y(t,["response"]);return s!=null&&_(e,["response"],Ehe(s)),e}function xhe(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>whe(s))),_(e,["generatedVideos"],a)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function Ehe(t){const e={},n=y(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>The(s))),_(e,["generatedVideos"],a)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function whe(t){const e={},n=y(t,["video"]);return n!=null&&_(e,["video"],Nhe(n)),e}function The(t){const e={},n=y(t,["_self"]);return n!=null&&_(e,["video"],Rhe(n)),e}function She(t){const e={},n=y(t,["operationName"]);return n!=null&&_(e,["_url","operationName"],n),e}function Ahe(t){const e={},n=y(t,["operationName"]);return n!=null&&_(e,["_url","operationName"],n),e}function Che(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const a=y(t,["error"]);a!=null&&_(e,["error"],a);const s=y(t,["response"]);return s!=null&&_(e,["response"],Ihe(s)),e}function Ihe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&_(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function IF(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const a=y(t,["error"]);a!=null&&_(e,["error"],a);const s=y(t,["response"]);return s!=null&&_(e,["response"],khe(s)),e}function khe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&_(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function Nhe(t){const e={},n=y(t,["uri"]);n!=null&&_(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&_(e,["videoBytes"],z1(r));const i=y(t,["encoding"]);return i!=null&&_(e,["mimeType"],i),e}function Rhe(t){const e={},n=y(t,["gcsUri"]);n!=null&&_(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&_(e,["videoBytes"],z1(r));const i=y(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kD;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(kD||(kD={}));var ND;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(ND||(ND={}));var RD;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(RD||(RD={}));var Ce;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ce||(Ce={}));var PD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(PD||(PD={}));var MD;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(MD||(MD={}));var DD;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(DD||(DD={}));var OD;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(OD||(OD={}));var LD;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(LD||(LD={}));var UD;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(UD||(UD={}));var VD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(VD||(VD={}));var FD;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(FD||(FD={}));var zD;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(zD||(zD={}));var BD;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(BD||(BD={}));var jD;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(jD||(jD={}));var qD;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(qD||(qD={}));var HD;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(HD||(HD={}));var GD;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(GD||(GD={}));var $D;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})($D||($D={}));var Fh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Fh||(Fh={}));var KD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(KD||(KD={}));var YD;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(YD||(YD={}));var WD;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(WD||(WD={}));var cT;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(cT||(cT={}));var JD;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(JD||(JD={}));var XD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(XD||(XD={}));var QD;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(QD||(QD={}));var ZD;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ZD||(ZD={}));var eO;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(eO||(eO={}));var tO;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(tO||(tO={}));var nO;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(nO||(nO={}));var rO;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(rO||(rO={}));var iO;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(iO||(iO={}));var aO;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(aO||(aO={}));var oO;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(oO||(oO={}));var sO;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(sO||(sO={}));var lO;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(lO||(lO={}));var uO;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(uO||(uO={}));var cO;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(cO||(cO={}));var dO;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(dO||(dO={}));var fO;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(fO||(fO={}));var hO;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(hO||(hO={}));var pO;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(pO||(pO={}));var mO;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(mO||(mO={}));var gO;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(gO||(gO={}));var yO;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(yO||(yO={}));var vO;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(vO||(vO={}));var _O;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(_O||(_O={}));var bO;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(bO||(bO={}));var xO;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(xO||(xO={}));var EO;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(EO||(EO={}));var wO;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(wO||(wO={}));var TO;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(TO||(TO={}));var SO;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(SO||(SO={}));var Oc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Oc||(Oc={}));class dT{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Zf{get text(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const p=[];for(const g of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[v,T]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(T!==null||T!==void 0)&&p.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,d+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const p of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,v]of Object.entries(p))g!=="inlineData"&&(v!==null||v!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,a,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,a,s,u,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,a,s,u,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class AO{}class CO{}class Phe{}class Mhe{}class Dhe{}class Ohe{}class IO{}class kO{}class NO{}class Lhe{}class Yy{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Yy;let i;const a=e;return n?i=bhe(a):i=_he(a),Object.assign(r,i),r}}class RO{}class PO{}class MO{}class DO{}class Uhe{}class Vhe{}class Fhe{}class B1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new B1,a=Che(e);return Object.assign(r,a),r}}class zhe{}class Bhe{}class jhe{}class OO{}class qhe{get text(){var e,n,r;let i="",a=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&a.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Hhe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class j1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new j1,a=IF(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function kF(t,e){const n=gt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function NF(t){return Array.isArray(t)?t.map(e=>Wy(e)):[Wy(t)]}function Wy(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function RF(t){const e=Wy(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function PF(t){const e=Wy(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function LO(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function MF(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>LO(e)):[LO(t)]}function fT(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function UO(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function VO(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function gr(t){if(t==null)throw new Error("ContentUnion is required");return fT(t)?t:{role:"user",parts:MF(t)}}function q1(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=gr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=gr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>gr(n)):[gr(e)]}function Ri(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(UO(t)||VO(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[gr(t)]}const e=[],n=[],r=fT(t[0]);for(const i of t){const a=fT(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(UO(i)||VO(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:MF(n)}),e}function Ghe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ce).includes(n[0].toUpperCase())?n[0].toUpperCase():Ce.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ce).includes(r.toUpperCase())?r.toUpperCase():Ce.TYPE_UNSPECIFIED})}}function Gc(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Ghe(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Ce).includes(u.toUpperCase())?u.toUpperCase():Ce.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Gc(u);else if(r.includes(s)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(Gc(d))}e[s]=c}else if(i.includes(s)){const c={};for(const[d,h]of Object.entries(u))c[d]=Gc(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function H1(t){return Gc(t)}function G1(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function $1(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Id(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Gc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Gc(e.response));return t}function kd(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function $he(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Zo(t,e){if(typeof e!="string")throw new Error("name must be a string");return $he(t,e,"cachedContents")}function DF(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function pl(t){return z1(t)}function Khe(t){return t!=null&&typeof t=="object"&&"name"in t}function Yhe(t){return t!=null&&typeof t=="object"&&"video"in t}function Whe(t){return t!=null&&typeof t=="object"&&"uri"in t}function OF(t){var e;let n;if(Khe(t)&&(n=t.name),!(Whe(t)&&(n=t.uri,n===void 0))&&!(Yhe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function LF(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function UF(t){for(const e of["models","tunedModels","publisherModels"])if(Jhe(t,e))return t[e];return[]}function Jhe(t,e){return t!==null&&typeof t=="object"&&e in t}function Xhe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Qhe(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=Xhe(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function VF(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Zhe(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function FF(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Nd(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function zF(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function epe(t){const e={},n=y(t,["responsesFile"]);n!=null&&_(e,["fileName"],n);const r=y(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Dpe(s))),_(e,["inlinedResponses"],a)}const i=y(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["inlinedEmbedContentResponses"],a)}return e}function tpe(t){const e={},n=y(t,["predictionsFormat"]);n!=null&&_(e,["format"],n);const r=y(t,["gcsDestination","outputUriPrefix"]);r!=null&&_(e,["gcsUri"],r);const i=y(t,["bigqueryDestination","outputUri"]);return i!=null&&_(e,["bigqueryUri"],i),e}function npe(t){const e={},n=y(t,["format"]);n!=null&&_(e,["predictionsFormat"],n);const r=y(t,["gcsUri"]);r!=null&&_(e,["gcsDestination","outputUriPrefix"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&_(e,["bigqueryDestination","outputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function qg(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata","displayName"]);r!=null&&_(e,["displayName"],r);const i=y(t,["metadata","state"]);i!=null&&_(e,["state"],zF(i));const a=y(t,["metadata","createTime"]);a!=null&&_(e,["createTime"],a);const s=y(t,["metadata","endTime"]);s!=null&&_(e,["endTime"],s);const u=y(t,["metadata","updateTime"]);u!=null&&_(e,["updateTime"],u);const c=y(t,["metadata","model"]);c!=null&&_(e,["model"],c);const d=y(t,["metadata","output"]);return d!=null&&_(e,["dest"],epe(FF(d))),e}function hT(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=y(t,["state"]);i!=null&&_(e,["state"],zF(i));const a=y(t,["error"]);a!=null&&_(e,["error"],a);const s=y(t,["createTime"]);s!=null&&_(e,["createTime"],s);const u=y(t,["startTime"]);u!=null&&_(e,["startTime"],u);const c=y(t,["endTime"]);c!=null&&_(e,["endTime"],c);const d=y(t,["updateTime"]);d!=null&&_(e,["updateTime"],d);const h=y(t,["model"]);h!=null&&_(e,["model"],h);const p=y(t,["inputConfig"]);p!=null&&_(e,["src"],rpe(p));const g=y(t,["outputConfig"]);g!=null&&_(e,["dest"],tpe(FF(g)));const v=y(t,["completionStats"]);return v!=null&&_(e,["completionStats"],v),e}function rpe(t){const e={},n=y(t,["instancesFormat"]);n!=null&&_(e,["format"],n);const r=y(t,["gcsSource","uris"]);r!=null&&_(e,["gcsUri"],r);const i=y(t,["bigquerySource","inputUri"]);return i!=null&&_(e,["bigqueryUri"],i),e}function ipe(t,e){const n={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&_(n,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Mpe(t,s))),_(n,["requests","requests"],a)}return n}function ape(t){const e={},n=y(t,["format"]);n!=null&&_(e,["instancesFormat"],n);const r=y(t,["gcsUri"]);r!=null&&_(e,["gcsSource","uris"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&_(e,["bigquerySource","inputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function ope(t){const e={},n=y(t,["data"]);if(n!=null&&_(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function spe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],Nd(t,r)),n}function lpe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],Nd(t,r)),n}function upe(t){const e={},n=y(t,["content"]);n!=null&&_(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&_(e,["citationMetadata"],cpe(r));const i=y(t,["tokenCount"]);i!=null&&_(e,["tokenCount"],i);const a=y(t,["finishReason"]);a!=null&&_(e,["finishReason"],a);const s=y(t,["avgLogprobs"]);s!=null&&_(e,["avgLogprobs"],s);const u=y(t,["groundingMetadata"]);u!=null&&_(e,["groundingMetadata"],u);const c=y(t,["index"]);c!=null&&_(e,["index"],c);const d=y(t,["logprobsResult"]);d!=null&&_(e,["logprobsResult"],d);const h=y(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),_(e,["safetyRatings"],g)}const p=y(t,["urlContextMetadata"]);return p!=null&&_(e,["urlContextMetadata"],p),e}function cpe(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),_(e,["citations"],r)}return e}function BF(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Bpe(a))),_(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&_(e,["role"],r),e}function dpe(t,e){const n={},r=y(t,["displayName"]);if(e!==void 0&&r!=null&&_(e,["batch","displayName"],r),y(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function fpe(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&_(e,["displayName"],r);const i=y(t,["dest"]);return e!==void 0&&i!=null&&_(e,["outputConfig"],npe(Zhe(i))),n}function FO(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["src"]);i!=null&&_(n,["batch","inputConfig"],ipe(t,VF(t,i)));const a=y(e,["config"]);return a!=null&&dpe(a,n),n}function hpe(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["model"],gt(t,r));const i=y(e,["src"]);i!=null&&_(n,["inputConfig"],ape(VF(t,i)));const a=y(e,["config"]);return a!=null&&fpe(a,n),n}function ppe(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&_(e,["batch","displayName"],r),n}function mpe(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["src"]);i!=null&&_(n,["batch","inputConfig"],Epe(t,i));const a=y(e,["config"]);return a!=null&&ppe(a,n),n}function gpe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],Nd(t,r)),n}function ype(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],Nd(t,r)),n}function vpe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&_(e,["name"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const a=y(t,["error"]);return a!=null&&_(e,["error"],a),e}function _pe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&_(e,["name"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const a=y(t,["error"]);return a!=null&&_(e,["error"],a),e}function bpe(t,e){const n={},r=y(e,["contents"]);if(r!=null){let a=q1(t,r);Array.isArray(a)&&(a=a.map(s=>s)),_(n,["requests[]","request","content"],a)}const i=y(e,["config"]);return i!=null&&(_(n,["_self"],xpe(i,n)),yhe(n,{"requests[].*":"requests[].request.*"})),n}function xpe(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&_(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&_(e,["requests[]","title"],i);const a=y(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&_(e,["requests[]","outputDimensionality"],a),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Epe(t,e){const n={},r=y(e,["fileName"]);r!=null&&_(n,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&_(n,["requests"],bpe(t,i)),n}function wpe(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Tpe(t){const e={},n=y(t,["id"]);n!=null&&_(e,["id"],n);const r=y(t,["args"]);r!=null&&_(e,["args"],r);const i=y(t,["name"]);if(i!=null&&_(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Spe(t){const e={},n=y(t,["mode"]);n!=null&&_(e,["mode"],n);const r=y(t,["allowedFunctionNames"]);if(r!=null&&_(e,["allowedFunctionNames"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ape(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&_(n,["systemInstruction"],BF(gr(i)));const a=y(e,["temperature"]);a!=null&&_(r,["temperature"],a);const s=y(e,["topP"]);s!=null&&_(r,["topP"],s);const u=y(e,["topK"]);u!=null&&_(r,["topK"],u);const c=y(e,["candidateCount"]);c!=null&&_(r,["candidateCount"],c);const d=y(e,["maxOutputTokens"]);d!=null&&_(r,["maxOutputTokens"],d);const h=y(e,["stopSequences"]);h!=null&&_(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&_(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&_(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&_(r,["presencePenalty"],v);const T=y(e,["frequencyPenalty"]);T!=null&&_(r,["frequencyPenalty"],T);const S=y(e,["seed"]);S!=null&&_(r,["seed"],S);const A=y(e,["responseMimeType"]);A!=null&&_(r,["responseMimeType"],A);const I=y(e,["responseSchema"]);I!=null&&_(r,["responseSchema"],H1(I));const V=y(e,["responseJsonSchema"]);if(V!=null&&_(r,["responseJsonSchema"],V),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=y(e,["safetySettings"]);if(n!==void 0&&N!=null){let z=N;Array.isArray(z)&&(z=z.map(H=>jpe(H))),_(n,["safetySettings"],z)}const B=y(e,["tools"]);if(n!==void 0&&B!=null){let z=kd(B);Array.isArray(z)&&(z=z.map(H=>Hpe(Id(H)))),_(n,["tools"],z)}const q=y(e,["toolConfig"]);if(n!==void 0&&q!=null&&_(n,["toolConfig"],qpe(q)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=y(e,["cachedContent"]);n!==void 0&&L!=null&&_(n,["cachedContent"],Zo(t,L));const D=y(e,["responseModalities"]);D!=null&&_(r,["responseModalities"],D);const O=y(e,["mediaResolution"]);O!=null&&_(r,["mediaResolution"],O);const U=y(e,["speechConfig"]);if(U!=null&&_(r,["speechConfig"],G1(U)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=y(e,["thinkingConfig"]);F!=null&&_(r,["thinkingConfig"],F);const M=y(e,["imageConfig"]);return M!=null&&_(r,["imageConfig"],Ppe(M)),r}function Cpe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>upe(d))),_(e,["candidates"],c)}const i=y(t,["modelVersion"]);i!=null&&_(e,["modelVersion"],i);const a=y(t,["promptFeedback"]);a!=null&&_(e,["promptFeedback"],a);const s=y(t,["responseId"]);s!=null&&_(e,["responseId"],s);const u=y(t,["usageMetadata"]);return u!=null&&_(e,["usageMetadata"],u),e}function Ipe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],Nd(t,r)),n}function kpe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],Nd(t,r)),n}function Npe(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function Rpe(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function Ppe(t){const e={},n=y(t,["aspectRatio"]);n!=null&&_(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&_(e,["imageSize"],r),y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Mpe(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["request","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let u=Ri(i);Array.isArray(u)&&(u=u.map(c=>BF(c))),_(n,["request","contents"],u)}const a=y(e,["metadata"]);a!=null&&_(n,["metadata"],a);const s=y(e,["config"]);return s!=null&&_(n,["request","generationConfig"],Ape(t,s,y(n,["request"],{}))),n}function Dpe(t){const e={},n=y(t,["response"]);n!=null&&_(e,["response"],Cpe(n));const r=y(t,["error"]);return r!=null&&_(e,["error"],r),e}function Ope(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);if(e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),y(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Lpe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);e!==void 0&&i!=null&&_(e,["_query","pageToken"],i);const a=y(t,["filter"]);return e!==void 0&&a!=null&&_(e,["_query","filter"],a),n}function Upe(t){const e={},n=y(t,["config"]);return n!=null&&Ope(n,e),e}function Vpe(t){const e={},n=y(t,["config"]);return n!=null&&Lpe(n,e),e}function Fpe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>qg(s))),_(e,["batchJobs"],a)}return e}function zpe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>hT(s))),_(e,["batchJobs"],a)}return e}function Bpe(t){const e={},n=y(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const a=y(t,["fileData"]);a!=null&&_(e,["fileData"],wpe(a));const s=y(t,["functionCall"]);s!=null&&_(e,["functionCall"],Tpe(s));const u=y(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&_(e,["inlineData"],ope(c));const d=y(t,["text"]);d!=null&&_(e,["text"],d);const h=y(t,["thought"]);h!=null&&_(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&_(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&_(e,["videoMetadata"],g),e}function jpe(t){const e={},n=y(t,["category"]);if(n!=null&&_(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&_(e,["threshold"],r),e}function qpe(t){const e={},n=y(t,["functionCallingConfig"]);n!=null&&_(e,["functionCallingConfig"],Spe(n));const r=y(t,["retrievalConfig"]);return r!=null&&_(e,["retrievalConfig"],r),e}function Hpe(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),_(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&_(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&_(e,["computerUse"],i);const a=y(t,["fileSearch"]);a!=null&&_(e,["fileSearch"],a);const s=y(t,["codeExecution"]);if(s!=null&&_(e,["codeExecution"],s),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(t,["googleMaps"]);u!=null&&_(e,["googleMaps"],Npe(u));const c=y(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],Rpe(c));const d=y(t,["urlContext"]);return d!=null&&_(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Bo||(Bo={}));class Iu{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gpe extends Qo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Iu(Bo.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=FO(this.apiClient,e),r=n._url,i=Ie("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const v=p.request;v.systemInstruction=g,p.request=v}d.push(p)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=hpe(this.apiClient,e);return u=Ie("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>hT(h))}else{const d=FO(this.apiClient,e);return u=Ie("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>qg(h))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mpe(this.apiClient,e);return a=Ie("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>qg(c))}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=kpe(this.apiClient,e);return u=Ie("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>hT(h))}else{const d=Ipe(this.apiClient,e);return u=Ie("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>qg(h))}}async cancel(e){var n,r,i,a;let s="",u={};if(this.apiClient.isVertexAI()){const c=lpe(this.apiClient,e);s=Ie("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=spe(this.apiClient,e);s=Ie("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Vpe(e);return u=Ie("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=zpe(h),g=new OO;return Object.assign(g,p),g})}else{const d=Upe(e);return u=Ie("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Fpe(h),g=new OO;return Object.assign(g,p),g})}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=ype(this.apiClient,e);return u=Ie("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>_pe(h))}else{const d=gpe(this.apiClient,e);return u=Ie("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>vpe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $pe(t){const e={},n=y(t,["data"]);if(n!=null&&_(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function zO(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>mme(a))),_(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&_(e,["role"],r),e}function Kpe(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&_(e,["expireTime"],i);const a=y(t,["displayName"]);e!==void 0&&a!=null&&_(e,["displayName"],a);const s=y(t,["contents"]);if(e!==void 0&&s!=null){let h=Ri(s);Array.isArray(h)&&(h=h.map(p=>zO(p))),_(e,["contents"],h)}const u=y(t,["systemInstruction"]);e!==void 0&&u!=null&&_(e,["systemInstruction"],zO(gr(u)));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>yme(p))),_(e,["tools"],h)}const d=y(t,["toolConfig"]);if(e!==void 0&&d!=null&&_(e,["toolConfig"],gme(d)),y(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Ype(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&_(e,["expireTime"],i);const a=y(t,["displayName"]);e!==void 0&&a!=null&&_(e,["displayName"],a);const s=y(t,["contents"]);if(e!==void 0&&s!=null){let p=Ri(s);Array.isArray(p)&&(p=p.map(g=>g)),_(e,["contents"],p)}const u=y(t,["systemInstruction"]);e!==void 0&&u!=null&&_(e,["systemInstruction"],gr(u));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>vme(g))),_(e,["tools"],p)}const d=y(t,["toolConfig"]);e!==void 0&&d!=null&&_(e,["toolConfig"],d);const h=y(t,["kmsKeyName"]);return e!==void 0&&h!=null&&_(e,["encryption_spec","kmsKeyName"],h),n}function Wpe(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["model"],kF(t,r));const i=y(e,["config"]);return i!=null&&Kpe(i,n),n}function Jpe(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["model"],kF(t,r));const i=y(e,["config"]);return i!=null&&Ype(i,n),n}function Xpe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],Zo(t,r)),n}function Qpe(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],Zo(t,r)),n}function Zpe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function eme(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function tme(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function nme(t){const e={},n=y(t,["id"]);n!=null&&_(e,["id"],n);const r=y(t,["args"]);r!=null&&_(e,["args"],r);const i=y(t,["name"]);if(i!=null&&_(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rme(t){const e={},n=y(t,["mode"]);n!=null&&_(e,["mode"],n);const r=y(t,["allowedFunctionNames"]);if(r!=null&&_(e,["allowedFunctionNames"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ime(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&_(e,["description"],n);const r=y(t,["name"]);r!=null&&_(e,["name"],r);const i=y(t,["parameters"]);i!=null&&_(e,["parameters"],i);const a=y(t,["parametersJsonSchema"]);a!=null&&_(e,["parametersJsonSchema"],a);const s=y(t,["response"]);s!=null&&_(e,["response"],s);const u=y(t,["responseJsonSchema"]);return u!=null&&_(e,["responseJsonSchema"],u),e}function ame(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],Zo(t,r)),n}function ome(t,e){const n={},r=y(e,["name"]);return r!=null&&_(n,["_url","name"],Zo(t,r)),n}function sme(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function lme(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function ume(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function cme(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function dme(t){const e={},n=y(t,["config"]);return n!=null&&ume(n,e),e}function fme(t){const e={},n=y(t,["config"]);return n!=null&&cme(n,e),e}function hme(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["cachedContents"],a)}return e}function pme(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["cachedContents"],a)}return e}function mme(t){const e={},n=y(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const a=y(t,["fileData"]);a!=null&&_(e,["fileData"],tme(a));const s=y(t,["functionCall"]);s!=null&&_(e,["functionCall"],nme(s));const u=y(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&_(e,["inlineData"],$pe(c));const d=y(t,["text"]);d!=null&&_(e,["text"],d);const h=y(t,["thought"]);h!=null&&_(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&_(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&_(e,["videoMetadata"],g),e}function gme(t){const e={},n=y(t,["functionCallingConfig"]);n!=null&&_(e,["functionCallingConfig"],rme(n));const r=y(t,["retrievalConfig"]);return r!=null&&_(e,["retrievalConfig"],r),e}function yme(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),_(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&_(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&_(e,["computerUse"],i);const a=y(t,["fileSearch"]);a!=null&&_(e,["fileSearch"],a);const s=y(t,["codeExecution"]);if(s!=null&&_(e,["codeExecution"],s),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(t,["googleMaps"]);u!=null&&_(e,["googleMaps"],sme(u));const c=y(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],lme(c));const d=y(t,["urlContext"]);return d!=null&&_(e,["urlContext"],d),e}function vme(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>ime(g))),_(e,["functionDeclarations"],p)}const r=y(t,["retrieval"]);r!=null&&_(e,["retrieval"],r);const i=y(t,["googleSearchRetrieval"]);i!=null&&_(e,["googleSearchRetrieval"],i);const a=y(t,["computerUse"]);if(a!=null&&_(e,["computerUse"],a),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=y(t,["codeExecution"]);s!=null&&_(e,["codeExecution"],s);const u=y(t,["enterpriseWebSearch"]);u!=null&&_(e,["enterpriseWebSearch"],u);const c=y(t,["googleMaps"]);c!=null&&_(e,["googleMaps"],c);const d=y(t,["googleSearch"]);d!=null&&_(e,["googleSearch"],d);const h=y(t,["urlContext"]);return h!=null&&_(e,["urlContext"],h),e}function _me(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&_(e,["expireTime"],i),n}function bme(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&_(e,["expireTime"],i),n}function xme(t,e){const n={},r=y(e,["name"]);r!=null&&_(n,["_url","name"],Zo(t,r));const i=y(e,["config"]);return i!=null&&_me(i,n),n}function Eme(t,e){const n={},r=y(e,["name"]);r!=null&&_(n,["_url","name"],Zo(t,r));const i=y(e,["config"]);return i!=null&&bme(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wme extends Qo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Iu(Bo.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Jpe(this.apiClient,e);return u=Ie("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=Wpe(this.apiClient,e);return u=Ie("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=ome(this.apiClient,e);return u=Ie("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=ame(this.apiClient,e);return u=Ie("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Qpe(this.apiClient,e);return u=Ie("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=eme(h),g=new MO;return Object.assign(g,p),g})}else{const d=Xpe(this.apiClient,e);return u=Ie("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Zpe(h),g=new MO;return Object.assign(g,p),g})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Eme(this.apiClient,e);return u=Ie("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=xme(this.apiClient,e);return u=Ie("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=fme(e);return u=Ie("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=pme(h),g=new DO;return Object.assign(g,p),g})}else{const d=dme(e);return u=Ie("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=hme(h),g=new DO;return Object.assign(g,p),g})}}}function BO(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qt(t){return this instanceof qt?(this.v=t,this):new qt(t)}function $c(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(T){return Promise.resolve(T).then(v,p)}}function u(v,T){r[v]&&(i[v]=function(S){return new Promise(function(A,I){a.push([v,S,A,I])>1||c(v,S)})},T&&(i[v]=T(i[v])))}function c(v,T){try{d(r[v](T))}catch(S){g(a[0][3],S)}}function d(v){v.value instanceof qt?Promise.resolve(v.value.v).then(h,p):g(a[0][2],v)}function h(v){c("next",v)}function p(v){c("throw",v)}function g(v,T){v(T),a.shift(),a.length&&c(a[0][0],a[0][1])}}function mh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof BO=="function"?BO(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(u,c){s=t[a](s),i(u,c,s.done,s.value)})}}function i(a,s,u,c){Promise.resolve(c).then(function(d){a({value:d,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tme(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:jF(n)}function jF(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Sme(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function jO(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!jF(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class Ame{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Cme(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Cme{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Sme(a)}async sendMessage(e){var n;await this.sendPromise;const r=gr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,u;const c=await i,d=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(p))!==null&&u!==void 0?u:[]);const v=d?[d]:[];this.recordHistory(r,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=gr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?jO(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return $c(this,arguments,function*(){var s,u,c,d;const h=[];try{for(var p=!0,g=mh(e),v;v=yield qt(g.next()),s=v.done,!s;p=!0){d=v.value,p=!1;const T=d;if(Tme(T)){const S=(i=(r=T.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;S!==void 0&&h.push(S)}yield yield qt(T)}}catch(T){u={error:T}}finally{try{!p&&!s&&(c=g.return)&&(yield qt(c.call(g)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...jO(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class u0 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,u0.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ime(t){const e={},n=y(t,["file"]);return n!=null&&_(e,["file"],n),e}function kme(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function Nme(t){const e={},n=y(t,["name"]);return n!=null&&_(e,["_url","file"],OF(n)),e}function Rme(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function Pme(t){const e={},n=y(t,["name"]);return n!=null&&_(e,["_url","file"],OF(n)),e}function Mme(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function Dme(t){const e={},n=y(t,["config"]);return n!=null&&Mme(n,e),e}function Ome(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lme extends Qo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Iu(Bo.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Dme(e);return a=Ie("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Ome(c),h=new zhe;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ime(e);return a=Ie("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=kme(c),h=new Bhe;return Object.assign(h,d),h})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Pme(e);return a=Ie("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Nme(e);return a=Ie("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Rme(c),h=new jhe;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hg(t){const e={},n=y(t,["data"]);if(n!=null&&_(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Ume(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Zme(a))),_(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&_(e,["role"],r),e}function Vme(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Fme(t){const e={},n=y(t,["id"]);n!=null&&_(e,["id"],n);const r=y(t,["args"]);r!=null&&_(e,["args"],r);const i=y(t,["name"]);if(i!=null&&_(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zme(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&_(e,["description"],n);const r=y(t,["name"]);r!=null&&_(e,["name"],r);const i=y(t,["parameters"]);i!=null&&_(e,["parameters"],i);const a=y(t,["parametersJsonSchema"]);a!=null&&_(e,["parametersJsonSchema"],a);const s=y(t,["response"]);s!=null&&_(e,["response"],s);const u=y(t,["responseJsonSchema"]);return u!=null&&_(e,["responseJsonSchema"],u),e}function Bme(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&_(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&_(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&_(e,["audioTimestamp"],i);const a=y(t,["candidateCount"]);a!=null&&_(e,["candidateCount"],a);const s=y(t,["enableAffectiveDialog"]);s!=null&&_(e,["enableAffectiveDialog"],s);const u=y(t,["frequencyPenalty"]);u!=null&&_(e,["frequencyPenalty"],u);const c=y(t,["logprobs"]);c!=null&&_(e,["logprobs"],c);const d=y(t,["maxOutputTokens"]);d!=null&&_(e,["maxOutputTokens"],d);const h=y(t,["mediaResolution"]);h!=null&&_(e,["mediaResolution"],h);const p=y(t,["presencePenalty"]);p!=null&&_(e,["presencePenalty"],p);const g=y(t,["responseLogprobs"]);g!=null&&_(e,["responseLogprobs"],g);const v=y(t,["responseMimeType"]);v!=null&&_(e,["responseMimeType"],v);const T=y(t,["responseModalities"]);T!=null&&_(e,["responseModalities"],T);const S=y(t,["responseSchema"]);S!=null&&_(e,["responseSchema"],S);const A=y(t,["routingConfig"]);A!=null&&_(e,["routingConfig"],A);const I=y(t,["seed"]);I!=null&&_(e,["seed"],I);const V=y(t,["speechConfig"]);V!=null&&_(e,["speechConfig"],qF(V));const N=y(t,["stopSequences"]);N!=null&&_(e,["stopSequences"],N);const B=y(t,["temperature"]);B!=null&&_(e,["temperature"],B);const q=y(t,["thinkingConfig"]);q!=null&&_(e,["thinkingConfig"],q);const L=y(t,["topK"]);L!=null&&_(e,["topK"],L);const D=y(t,["topP"]);if(D!=null&&_(e,["topP"],D),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function jme(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function qme(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function Hme(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const a=y(t,["temperature"]);e!==void 0&&a!=null&&_(e,["setup","generationConfig","temperature"],a);const s=y(t,["topP"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","topP"],s);const u=y(t,["topK"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","maxOutputTokens"],c);const d=y(t,["mediaResolution"]);e!==void 0&&d!=null&&_(e,["setup","generationConfig","mediaResolution"],d);const h=y(t,["seed"]);e!==void 0&&h!=null&&_(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&_(e,["setup","generationConfig","speechConfig"],$1(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&_(e,["setup","generationConfig","thinkingConfig"],g);const v=y(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],v);const T=y(t,["systemInstruction"]);e!==void 0&&T!=null&&_(e,["setup","systemInstruction"],Ume(gr(T)));const S=y(t,["tools"]);if(e!==void 0&&S!=null){let L=kd(S);Array.isArray(L)&&(L=L.map(D=>tge(Id(D)))),_(e,["setup","tools"],L)}const A=y(t,["sessionResumption"]);e!==void 0&&A!=null&&_(e,["setup","sessionResumption"],ege(A));const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&_(e,["setup","inputAudioTranscription"],I);const V=y(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&_(e,["setup","outputAudioTranscription"],V);const N=y(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&_(e,["setup","realtimeInputConfig"],N);const B=y(t,["contextWindowCompression"]);e!==void 0&&B!=null&&_(e,["setup","contextWindowCompression"],B);const q=y(t,["proactivity"]);return e!==void 0&&q!=null&&_(e,["setup","proactivity"],q),n}function Gme(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],Bme(r));const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const a=y(t,["temperature"]);e!==void 0&&a!=null&&_(e,["setup","generationConfig","temperature"],a);const s=y(t,["topP"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","topP"],s);const u=y(t,["topK"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","maxOutputTokens"],c);const d=y(t,["mediaResolution"]);e!==void 0&&d!=null&&_(e,["setup","generationConfig","mediaResolution"],d);const h=y(t,["seed"]);e!==void 0&&h!=null&&_(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&_(e,["setup","generationConfig","speechConfig"],qF($1(p)));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&_(e,["setup","generationConfig","thinkingConfig"],g);const v=y(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],v);const T=y(t,["systemInstruction"]);e!==void 0&&T!=null&&_(e,["setup","systemInstruction"],gr(T));const S=y(t,["tools"]);if(e!==void 0&&S!=null){let L=kd(S);Array.isArray(L)&&(L=L.map(D=>nge(Id(D)))),_(e,["setup","tools"],L)}const A=y(t,["sessionResumption"]);e!==void 0&&A!=null&&_(e,["setup","sessionResumption"],A);const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&_(e,["setup","inputAudioTranscription"],I);const V=y(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&_(e,["setup","outputAudioTranscription"],V);const N=y(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&_(e,["setup","realtimeInputConfig"],N);const B=y(t,["contextWindowCompression"]);e!==void 0&&B!=null&&_(e,["setup","contextWindowCompression"],B);const q=y(t,["proactivity"]);return e!==void 0&&q!=null&&_(e,["setup","proactivity"],q),n}function $me(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["setup","model"],gt(t,r));const i=y(e,["config"]);return i!=null&&_(n,["config"],Hme(i,n)),n}function Kme(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["setup","model"],gt(t,r));const i=y(e,["config"]);return i!=null&&_(n,["config"],Gme(i,n)),n}function Yme(t){const e={},n=y(t,["musicGenerationConfig"]);return n!=null&&_(e,["musicGenerationConfig"],n),e}function Wme(t){const e={},n=y(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),_(e,["weightedPrompts"],r)}return e}function Jme(t){const e={},n=y(t,["media"]);if(n!=null){let d=NF(n);Array.isArray(d)&&(d=d.map(h=>Hg(h))),_(e,["mediaChunks"],d)}const r=y(t,["audio"]);r!=null&&_(e,["audio"],Hg(PF(r)));const i=y(t,["audioStreamEnd"]);i!=null&&_(e,["audioStreamEnd"],i);const a=y(t,["video"]);a!=null&&_(e,["video"],Hg(RF(a)));const s=y(t,["text"]);s!=null&&_(e,["text"],s);const u=y(t,["activityStart"]);u!=null&&_(e,["activityStart"],u);const c=y(t,["activityEnd"]);return c!=null&&_(e,["activityEnd"],c),e}function Xme(t){const e={},n=y(t,["media"]);if(n!=null){let d=NF(n);Array.isArray(d)&&(d=d.map(h=>h)),_(e,["mediaChunks"],d)}const r=y(t,["audio"]);r!=null&&_(e,["audio"],PF(r));const i=y(t,["audioStreamEnd"]);i!=null&&_(e,["audioStreamEnd"],i);const a=y(t,["video"]);a!=null&&_(e,["video"],RF(a));const s=y(t,["text"]);s!=null&&_(e,["text"],s);const u=y(t,["activityStart"]);u!=null&&_(e,["activityStart"],u);const c=y(t,["activityEnd"]);return c!=null&&_(e,["activityEnd"],c),e}function Qme(t){const e={},n=y(t,["setupComplete"]);n!=null&&_(e,["setupComplete"],n);const r=y(t,["serverContent"]);r!=null&&_(e,["serverContent"],r);const i=y(t,["toolCall"]);i!=null&&_(e,["toolCall"],i);const a=y(t,["toolCallCancellation"]);a!=null&&_(e,["toolCallCancellation"],a);const s=y(t,["usageMetadata"]);s!=null&&_(e,["usageMetadata"],rge(s));const u=y(t,["goAway"]);u!=null&&_(e,["goAway"],u);const c=y(t,["sessionResumptionUpdate"]);return c!=null&&_(e,["sessionResumptionUpdate"],c),e}function Zme(t){const e={},n=y(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const a=y(t,["fileData"]);a!=null&&_(e,["fileData"],Vme(a));const s=y(t,["functionCall"]);s!=null&&_(e,["functionCall"],Fme(s));const u=y(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&_(e,["inlineData"],Hg(c));const d=y(t,["text"]);d!=null&&_(e,["text"],d);const h=y(t,["thought"]);h!=null&&_(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&_(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&_(e,["videoMetadata"],g),e}function ege(t){const e={},n=y(t,["handle"]);if(n!=null&&_(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qF(t){const e={},n=y(t,["languageCode"]);n!=null&&_(e,["languageCode"],n);const r=y(t,["voiceConfig"]);if(r!=null&&_(e,["voiceConfig"],r),y(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function tge(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),_(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&_(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&_(e,["computerUse"],i);const a=y(t,["fileSearch"]);a!=null&&_(e,["fileSearch"],a);const s=y(t,["codeExecution"]);if(s!=null&&_(e,["codeExecution"],s),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(t,["googleMaps"]);u!=null&&_(e,["googleMaps"],jme(u));const c=y(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],qme(c));const d=y(t,["urlContext"]);return d!=null&&_(e,["urlContext"],d),e}function nge(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>zme(g))),_(e,["functionDeclarations"],p)}const r=y(t,["retrieval"]);r!=null&&_(e,["retrieval"],r);const i=y(t,["googleSearchRetrieval"]);i!=null&&_(e,["googleSearchRetrieval"],i);const a=y(t,["computerUse"]);if(a!=null&&_(e,["computerUse"],a),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=y(t,["codeExecution"]);s!=null&&_(e,["codeExecution"],s);const u=y(t,["enterpriseWebSearch"]);u!=null&&_(e,["enterpriseWebSearch"],u);const c=y(t,["googleMaps"]);c!=null&&_(e,["googleMaps"],c);const d=y(t,["googleSearch"]);d!=null&&_(e,["googleSearch"],d);const h=y(t,["urlContext"]);return h!=null&&_(e,["urlContext"],h),e}function rge(t){const e={},n=y(t,["promptTokenCount"]);n!=null&&_(e,["promptTokenCount"],n);const r=y(t,["cachedContentTokenCount"]);r!=null&&_(e,["cachedContentTokenCount"],r);const i=y(t,["candidatesTokenCount"]);i!=null&&_(e,["responseTokenCount"],i);const a=y(t,["toolUsePromptTokenCount"]);a!=null&&_(e,["toolUsePromptTokenCount"],a);const s=y(t,["thoughtsTokenCount"]);s!=null&&_(e,["thoughtsTokenCount"],s);const u=y(t,["totalTokenCount"]);u!=null&&_(e,["totalTokenCount"],u);const c=y(t,["promptTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(T=>T)),_(e,["promptTokensDetails"],v)}const d=y(t,["cacheTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(T=>T)),_(e,["cacheTokensDetails"],v)}const h=y(t,["candidatesTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(T=>T)),_(e,["responseTokensDetails"],v)}const p=y(t,["toolUsePromptTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(T=>T)),_(e,["toolUsePromptTokensDetails"],v)}const g=y(t,["trafficType"]);return g!=null&&_(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ige(t){const e={},n=y(t,["data"]);if(n!=null&&_(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function age(t){const e={},n=y(t,["content"]);n!=null&&_(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&_(e,["citationMetadata"],oge(r));const i=y(t,["tokenCount"]);i!=null&&_(e,["tokenCount"],i);const a=y(t,["finishReason"]);a!=null&&_(e,["finishReason"],a);const s=y(t,["avgLogprobs"]);s!=null&&_(e,["avgLogprobs"],s);const u=y(t,["groundingMetadata"]);u!=null&&_(e,["groundingMetadata"],u);const c=y(t,["index"]);c!=null&&_(e,["index"],c);const d=y(t,["logprobsResult"]);d!=null&&_(e,["logprobsResult"],d);const h=y(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),_(e,["safetyRatings"],g)}const p=y(t,["urlContextMetadata"]);return p!=null&&_(e,["urlContextMetadata"],p),e}function oge(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),_(e,["citations"],r)}return e}function sge(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let a=Ri(i);Array.isArray(a)&&(a=a.map(s=>s)),_(n,["contents"],a)}return n}function lge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),_(e,["tokensInfo"],i)}return e}function uge(t){const e={},n=y(t,["values"]);n!=null&&_(e,["values"],n);const r=y(t,["statistics"]);return r!=null&&_(e,["statistics"],cge(r)),e}function cge(t){const e={},n=y(t,["truncated"]);n!=null&&_(e,["truncated"],n);const r=y(t,["token_count"]);return r!=null&&_(e,["tokenCount"],r),e}function c0(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>_ye(a))),_(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&_(e,["role"],r),e}function dge(t){const e={},n=y(t,["controlType"]);n!=null&&_(e,["controlType"],n);const r=y(t,["enableControlImageComputation"]);return r!=null&&_(e,["computeControl"],r),e}function fge(t){const e={};if(y(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function hge(t,e){const n={},r=y(t,["systemInstruction"]);e!==void 0&&r!=null&&_(e,["systemInstruction"],gr(r));const i=y(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>YF(u))),_(e,["tools"],s)}const a=y(t,["generationConfig"]);return e!==void 0&&a!=null&&_(e,["generationConfig"],iye(a)),n}function pge(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let s=Ri(i);Array.isArray(s)&&(s=s.map(u=>c0(u))),_(n,["contents"],s)}const a=y(e,["config"]);return a!=null&&fge(a),n}function mge(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let s=Ri(i);Array.isArray(s)&&(s=s.map(u=>u)),_(n,["contents"],s)}const a=y(e,["config"]);return a!=null&&hge(a,n),n}function gge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);r!=null&&_(e,["totalTokens"],r);const i=y(t,["cachedContentTokenCount"]);return i!=null&&_(e,["cachedContentTokenCount"],i),e}function yge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);return r!=null&&_(e,["totalTokens"],r),e}function vge(t,e){const n={},r=y(e,["model"]);return r!=null&&_(n,["_url","name"],gt(t,r)),n}function _ge(t,e){const n={},r=y(e,["model"]);return r!=null&&_(n,["_url","name"],gt(t,r)),n}function bge(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function xge(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}function Ege(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&_(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&_(e,["parameters","negativePrompt"],i);const a=y(t,["numberOfImages"]);e!==void 0&&a!=null&&_(e,["parameters","sampleCount"],a);const s=y(t,["aspectRatio"]);e!==void 0&&s!=null&&_(e,["parameters","aspectRatio"],s);const u=y(t,["guidanceScale"]);e!==void 0&&u!=null&&_(e,["parameters","guidanceScale"],u);const c=y(t,["seed"]);e!==void 0&&c!=null&&_(e,["parameters","seed"],c);const d=y(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&_(e,["parameters","safetySetting"],d);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&_(e,["parameters","personGeneration"],h);const p=y(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&_(e,["parameters","includeSafetyAttributes"],p);const g=y(t,["includeRaiReason"]);e!==void 0&&g!=null&&_(e,["parameters","includeRaiReason"],g);const v=y(t,["language"]);e!==void 0&&v!=null&&_(e,["parameters","language"],v);const T=y(t,["outputMimeType"]);e!==void 0&&T!=null&&_(e,["parameters","outputOptions","mimeType"],T);const S=y(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&_(e,["parameters","outputOptions","compressionQuality"],S);const A=y(t,["addWatermark"]);e!==void 0&&A!=null&&_(e,["parameters","addWatermark"],A);const I=y(t,["labels"]);e!==void 0&&I!=null&&_(e,["labels"],I);const V=y(t,["editMode"]);e!==void 0&&V!=null&&_(e,["parameters","editMode"],V);const N=y(t,["baseSteps"]);return e!==void 0&&N!=null&&_(e,["parameters","editConfig","baseSteps"],N),n}function wge(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const a=y(e,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Sye(c))),_(n,["instances[0]","referenceImages"],u)}const s=y(e,["config"]);return s!=null&&Ege(s,n),n}function Tge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>d0(a))),_(e,["generatedImages"],i)}return e}function Sge(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&_(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&_(e,["requests[]","title"],i);const a=y(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&_(e,["requests[]","outputDimensionality"],a),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Age(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&_(e,["instances[]","task_type"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&_(e,["instances[]","title"],i);const a=y(t,["outputDimensionality"]);e!==void 0&&a!=null&&_(e,["parameters","outputDimensionality"],a);const s=y(t,["mimeType"]);e!==void 0&&s!=null&&_(e,["instances[]","mimeType"],s);const u=y(t,["autoTruncate"]);return e!==void 0&&u!=null&&_(e,["parameters","autoTruncate"],u),n}function Cge(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let u=q1(t,i);Array.isArray(u)&&(u=u.map(c=>c)),_(n,["requests[]","content"],u)}const a=y(e,["config"]);a!=null&&Sge(a,n);const s=y(e,["model"]);return s!==void 0&&_(n,["requests[]","model"],gt(t,s)),n}function Ige(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let s=q1(t,i);Array.isArray(s)&&(s=s.map(u=>u)),_(n,["instances[]","content"],s)}const a=y(e,["config"]);return a!=null&&Age(a,n),n}function kge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["embeddings"],a)}const i=y(t,["metadata"]);return i!=null&&_(e,["metadata"],i),e}function Nge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>uge(s))),_(e,["embeddings"],a)}const i=y(t,["metadata"]);return i!=null&&_(e,["metadata"],i),e}function Rge(t){const e={},n=y(t,["endpoint"]);n!=null&&_(e,["name"],n);const r=y(t,["deployedModelId"]);return r!=null&&_(e,["deployedModelId"],r),e}function Pge(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Mge(t){const e={},n=y(t,["id"]);n!=null&&_(e,["id"],n);const r=y(t,["args"]);r!=null&&_(e,["args"],r);const i=y(t,["name"]);if(i!=null&&_(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Dge(t){const e={},n=y(t,["mode"]);n!=null&&_(e,["mode"],n);const r=y(t,["allowedFunctionNames"]);if(r!=null&&_(e,["allowedFunctionNames"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Oge(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&_(e,["description"],n);const r=y(t,["name"]);r!=null&&_(e,["name"],r);const i=y(t,["parameters"]);i!=null&&_(e,["parameters"],i);const a=y(t,["parametersJsonSchema"]);a!=null&&_(e,["parametersJsonSchema"],a);const s=y(t,["response"]);s!=null&&_(e,["response"],s);const u=y(t,["responseJsonSchema"]);return u!=null&&_(e,["responseJsonSchema"],u),e}function Lge(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&_(n,["systemInstruction"],c0(gr(i)));const a=y(e,["temperature"]);a!=null&&_(r,["temperature"],a);const s=y(e,["topP"]);s!=null&&_(r,["topP"],s);const u=y(e,["topK"]);u!=null&&_(r,["topK"],u);const c=y(e,["candidateCount"]);c!=null&&_(r,["candidateCount"],c);const d=y(e,["maxOutputTokens"]);d!=null&&_(r,["maxOutputTokens"],d);const h=y(e,["stopSequences"]);h!=null&&_(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&_(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&_(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&_(r,["presencePenalty"],v);const T=y(e,["frequencyPenalty"]);T!=null&&_(r,["frequencyPenalty"],T);const S=y(e,["seed"]);S!=null&&_(r,["seed"],S);const A=y(e,["responseMimeType"]);A!=null&&_(r,["responseMimeType"],A);const I=y(e,["responseSchema"]);I!=null&&_(r,["responseSchema"],H1(I));const V=y(e,["responseJsonSchema"]);if(V!=null&&_(r,["responseJsonSchema"],V),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=y(e,["safetySettings"]);if(n!==void 0&&N!=null){let z=N;Array.isArray(z)&&(z=z.map(H=>Aye(H))),_(n,["safetySettings"],z)}const B=y(e,["tools"]);if(n!==void 0&&B!=null){let z=kd(B);Array.isArray(z)&&(z=z.map(H=>Mye(Id(H)))),_(n,["tools"],z)}const q=y(e,["toolConfig"]);if(n!==void 0&&q!=null&&_(n,["toolConfig"],Pye(q)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=y(e,["cachedContent"]);n!==void 0&&L!=null&&_(n,["cachedContent"],Zo(t,L));const D=y(e,["responseModalities"]);D!=null&&_(r,["responseModalities"],D);const O=y(e,["mediaResolution"]);O!=null&&_(r,["mediaResolution"],O);const U=y(e,["speechConfig"]);if(U!=null&&_(r,["speechConfig"],G1(U)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=y(e,["thinkingConfig"]);F!=null&&_(r,["thinkingConfig"],F);const M=y(e,["imageConfig"]);return M!=null&&_(r,["imageConfig"],uye(M)),r}function Uge(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&_(n,["systemInstruction"],gr(i));const a=y(e,["temperature"]);a!=null&&_(r,["temperature"],a);const s=y(e,["topP"]);s!=null&&_(r,["topP"],s);const u=y(e,["topK"]);u!=null&&_(r,["topK"],u);const c=y(e,["candidateCount"]);c!=null&&_(r,["candidateCount"],c);const d=y(e,["maxOutputTokens"]);d!=null&&_(r,["maxOutputTokens"],d);const h=y(e,["stopSequences"]);h!=null&&_(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&_(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&_(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&_(r,["presencePenalty"],v);const T=y(e,["frequencyPenalty"]);T!=null&&_(r,["frequencyPenalty"],T);const S=y(e,["seed"]);S!=null&&_(r,["seed"],S);const A=y(e,["responseMimeType"]);A!=null&&_(r,["responseMimeType"],A);const I=y(e,["responseSchema"]);I!=null&&_(r,["responseSchema"],H1(I));const V=y(e,["responseJsonSchema"]);V!=null&&_(r,["responseJsonSchema"],V);const N=y(e,["routingConfig"]);N!=null&&_(r,["routingConfig"],N);const B=y(e,["modelSelectionConfig"]);B!=null&&_(r,["modelConfig"],B);const q=y(e,["safetySettings"]);if(n!==void 0&&q!=null){let X=q;Array.isArray(X)&&(X=X.map(K=>K)),_(n,["safetySettings"],X)}const L=y(e,["tools"]);if(n!==void 0&&L!=null){let X=kd(L);Array.isArray(X)&&(X=X.map(K=>YF(Id(K)))),_(n,["tools"],X)}const D=y(e,["toolConfig"]);n!==void 0&&D!=null&&_(n,["toolConfig"],D);const O=y(e,["labels"]);n!==void 0&&O!=null&&_(n,["labels"],O);const U=y(e,["cachedContent"]);n!==void 0&&U!=null&&_(n,["cachedContent"],Zo(t,U));const F=y(e,["responseModalities"]);F!=null&&_(r,["responseModalities"],F);const M=y(e,["mediaResolution"]);M!=null&&_(r,["mediaResolution"],M);const z=y(e,["speechConfig"]);z!=null&&_(r,["speechConfig"],KF(G1(z)));const H=y(e,["audioTimestamp"]);H!=null&&_(r,["audioTimestamp"],H);const de=y(e,["thinkingConfig"]);de!=null&&_(r,["thinkingConfig"],de);const te=y(e,["imageConfig"]);return te!=null&&_(r,["imageConfig"],cye(te)),r}function qO(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let s=Ri(i);Array.isArray(s)&&(s=s.map(u=>c0(u))),_(n,["contents"],s)}const a=y(e,["config"]);return a!=null&&_(n,["generationConfig"],Lge(t,a,n)),n}function HO(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["contents"]);if(i!=null){let s=Ri(i);Array.isArray(s)&&(s=s.map(u=>u)),_(n,["contents"],s)}const a=y(e,["config"]);return a!=null&&_(n,["generationConfig"],Uge(t,a,n)),n}function GO(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>age(d))),_(e,["candidates"],c)}const i=y(t,["modelVersion"]);i!=null&&_(e,["modelVersion"],i);const a=y(t,["promptFeedback"]);a!=null&&_(e,["promptFeedback"],a);const s=y(t,["responseId"]);s!=null&&_(e,["responseId"],s);const u=y(t,["usageMetadata"]);return u!=null&&_(e,["usageMetadata"],u),e}function $O(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),_(e,["candidates"],d)}const i=y(t,["createTime"]);i!=null&&_(e,["createTime"],i);const a=y(t,["modelVersion"]);a!=null&&_(e,["modelVersion"],a);const s=y(t,["promptFeedback"]);s!=null&&_(e,["promptFeedback"],s);const u=y(t,["responseId"]);u!=null&&_(e,["responseId"],u);const c=y(t,["usageMetadata"]);return c!=null&&_(e,["usageMetadata"],c),e}function Vge(t,e){const n={};if(y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&_(e,["parameters","sampleCount"],r);const i=y(t,["aspectRatio"]);e!==void 0&&i!=null&&_(e,["parameters","aspectRatio"],i);const a=y(t,["guidanceScale"]);if(e!==void 0&&a!=null&&_(e,["parameters","guidanceScale"],a),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&_(e,["parameters","safetySetting"],s);const u=y(t,["personGeneration"]);e!==void 0&&u!=null&&_(e,["parameters","personGeneration"],u);const c=y(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&_(e,["parameters","includeSafetyAttributes"],c);const d=y(t,["includeRaiReason"]);e!==void 0&&d!=null&&_(e,["parameters","includeRaiReason"],d);const h=y(t,["language"]);e!==void 0&&h!=null&&_(e,["parameters","language"],h);const p=y(t,["outputMimeType"]);e!==void 0&&p!=null&&_(e,["parameters","outputOptions","mimeType"],p);const g=y(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&_(e,["parameters","outputOptions","compressionQuality"],g),y(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(t,["imageSize"]);if(e!==void 0&&v!=null&&_(e,["parameters","sampleImageSize"],v),y(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Fge(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&_(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&_(e,["parameters","negativePrompt"],i);const a=y(t,["numberOfImages"]);e!==void 0&&a!=null&&_(e,["parameters","sampleCount"],a);const s=y(t,["aspectRatio"]);e!==void 0&&s!=null&&_(e,["parameters","aspectRatio"],s);const u=y(t,["guidanceScale"]);e!==void 0&&u!=null&&_(e,["parameters","guidanceScale"],u);const c=y(t,["seed"]);e!==void 0&&c!=null&&_(e,["parameters","seed"],c);const d=y(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&_(e,["parameters","safetySetting"],d);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&_(e,["parameters","personGeneration"],h);const p=y(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&_(e,["parameters","includeSafetyAttributes"],p);const g=y(t,["includeRaiReason"]);e!==void 0&&g!=null&&_(e,["parameters","includeRaiReason"],g);const v=y(t,["language"]);e!==void 0&&v!=null&&_(e,["parameters","language"],v);const T=y(t,["outputMimeType"]);e!==void 0&&T!=null&&_(e,["parameters","outputOptions","mimeType"],T);const S=y(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&_(e,["parameters","outputOptions","compressionQuality"],S);const A=y(t,["addWatermark"]);e!==void 0&&A!=null&&_(e,["parameters","addWatermark"],A);const I=y(t,["labels"]);e!==void 0&&I!=null&&_(e,["labels"],I);const V=y(t,["imageSize"]);e!==void 0&&V!=null&&_(e,["parameters","sampleImageSize"],V);const N=y(t,["enhancePrompt"]);return e!==void 0&&N!=null&&_(e,["parameters","enhancePrompt"],N),n}function zge(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const a=y(e,["config"]);return a!=null&&Vge(a,n),n}function Bge(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const a=y(e,["config"]);return a!=null&&Fge(a,n),n}function jge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>eye(s))),_(e,["generatedImages"],a)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&_(e,["positivePromptSafetyAttributes"],GF(i)),e}function qge(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>d0(s))),_(e,["generatedImages"],a)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&_(e,["positivePromptSafetyAttributes"],$F(i)),e}function Hge(t,e){const n={},r=y(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&_(e,["parameters","sampleCount"],r),y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(t,["durationSeconds"]);if(e!==void 0&&i!=null&&_(e,["parameters","durationSeconds"],i),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(t,["aspectRatio"]);e!==void 0&&a!=null&&_(e,["parameters","aspectRatio"],a);const s=y(t,["resolution"]);e!==void 0&&s!=null&&_(e,["parameters","resolution"],s);const u=y(t,["personGeneration"]);if(e!==void 0&&u!=null&&_(e,["parameters","personGeneration"],u),y(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=y(t,["negativePrompt"]);e!==void 0&&c!=null&&_(e,["parameters","negativePrompt"],c);const d=y(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&_(e,["parameters","enhancePrompt"],d),y(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=y(t,["lastFrame"]);e!==void 0&&h!=null&&_(e,["instances[0]","lastFrame"],f0(h));const p=y(t,["referenceImages"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>$ye(v))),_(e,["instances[0]","referenceImages"],g)}if(y(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Gge(t,e){const n={},r=y(t,["numberOfVideos"]);e!==void 0&&r!=null&&_(e,["parameters","sampleCount"],r);const i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&_(e,["parameters","storageUri"],i);const a=y(t,["fps"]);e!==void 0&&a!=null&&_(e,["parameters","fps"],a);const s=y(t,["durationSeconds"]);e!==void 0&&s!=null&&_(e,["parameters","durationSeconds"],s);const u=y(t,["seed"]);e!==void 0&&u!=null&&_(e,["parameters","seed"],u);const c=y(t,["aspectRatio"]);e!==void 0&&c!=null&&_(e,["parameters","aspectRatio"],c);const d=y(t,["resolution"]);e!==void 0&&d!=null&&_(e,["parameters","resolution"],d);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&_(e,["parameters","personGeneration"],h);const p=y(t,["pubsubTopic"]);e!==void 0&&p!=null&&_(e,["parameters","pubsubTopic"],p);const g=y(t,["negativePrompt"]);e!==void 0&&g!=null&&_(e,["parameters","negativePrompt"],g);const v=y(t,["enhancePrompt"]);e!==void 0&&v!=null&&_(e,["parameters","enhancePrompt"],v);const T=y(t,["generateAudio"]);e!==void 0&&T!=null&&_(e,["parameters","generateAudio"],T);const S=y(t,["lastFrame"]);e!==void 0&&S!=null&&_(e,["instances[0]","lastFrame"],ca(S));const A=y(t,["referenceImages"]);if(e!==void 0&&A!=null){let N=A;Array.isArray(N)&&(N=N.map(B=>Kye(B))),_(e,["instances[0]","referenceImages"],N)}const I=y(t,["mask"]);e!==void 0&&I!=null&&_(e,["instances[0]","mask"],Gye(I));const V=y(t,["compressionQuality"]);return e!==void 0&&V!=null&&_(e,["parameters","compressionQuality"],V),n}function $ge(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const a=y(t,["error"]);a!=null&&_(e,["error"],a);const s=y(t,["response","generateVideoResponse"]);return s!=null&&_(e,["response"],Jge(s)),e}function Kge(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const a=y(t,["error"]);a!=null&&_(e,["error"],a);const s=y(t,["response"]);return s!=null&&_(e,["response"],Xge(s)),e}function Yge(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const a=y(e,["image"]);a!=null&&_(n,["instances[0]","image"],f0(a));const s=y(e,["video"]);s!=null&&_(n,["instances[0]","video"],WF(s));const u=y(e,["source"]);u!=null&&Qge(u,n);const c=y(e,["config"]);return c!=null&&Hge(c,n),n}function Wge(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const a=y(e,["image"]);a!=null&&_(n,["instances[0]","image"],ca(a));const s=y(e,["video"]);s!=null&&_(n,["instances[0]","video"],JF(s));const u=y(e,["source"]);u!=null&&Zge(u,n);const c=y(e,["config"]);return c!=null&&Gge(c,n),n}function Jge(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>nye(s))),_(e,["generatedVideos"],a)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function Xge(t){const e={},n=y(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>rye(s))),_(e,["generatedVideos"],a)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function Qge(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&_(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&_(e,["instances[0]","image"],f0(i));const a=y(t,["video"]);return e!==void 0&&a!=null&&_(e,["instances[0]","video"],WF(a)),n}function Zge(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&_(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&_(e,["instances[0]","image"],ca(i));const a=y(t,["video"]);return e!==void 0&&a!=null&&_(e,["instances[0]","video"],JF(a)),n}function eye(t){const e={},n=y(t,["_self"]);n!=null&&_(e,["image"],dye(n));const r=y(t,["raiFilteredReason"]);r!=null&&_(e,["raiFilteredReason"],r);const i=y(t,["_self"]);return i!=null&&_(e,["safetyAttributes"],GF(i)),e}function d0(t){const e={},n=y(t,["_self"]);n!=null&&_(e,["image"],HF(n));const r=y(t,["raiFilteredReason"]);r!=null&&_(e,["raiFilteredReason"],r);const i=y(t,["_self"]);i!=null&&_(e,["safetyAttributes"],$F(i));const a=y(t,["prompt"]);return a!=null&&_(e,["enhancedPrompt"],a),e}function tye(t){const e={},n=y(t,["_self"]);n!=null&&_(e,["mask"],HF(n));const r=y(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),_(e,["labels"],i)}return e}function nye(t){const e={},n=y(t,["video"]);return n!=null&&_(e,["video"],qye(n)),e}function rye(t){const e={},n=y(t,["_self"]);return n!=null&&_(e,["video"],Hye(n)),e}function iye(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&_(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&_(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&_(e,["audioTimestamp"],i);const a=y(t,["candidateCount"]);a!=null&&_(e,["candidateCount"],a);const s=y(t,["enableAffectiveDialog"]);s!=null&&_(e,["enableAffectiveDialog"],s);const u=y(t,["frequencyPenalty"]);u!=null&&_(e,["frequencyPenalty"],u);const c=y(t,["logprobs"]);c!=null&&_(e,["logprobs"],c);const d=y(t,["maxOutputTokens"]);d!=null&&_(e,["maxOutputTokens"],d);const h=y(t,["mediaResolution"]);h!=null&&_(e,["mediaResolution"],h);const p=y(t,["presencePenalty"]);p!=null&&_(e,["presencePenalty"],p);const g=y(t,["responseLogprobs"]);g!=null&&_(e,["responseLogprobs"],g);const v=y(t,["responseMimeType"]);v!=null&&_(e,["responseMimeType"],v);const T=y(t,["responseModalities"]);T!=null&&_(e,["responseModalities"],T);const S=y(t,["responseSchema"]);S!=null&&_(e,["responseSchema"],S);const A=y(t,["routingConfig"]);A!=null&&_(e,["routingConfig"],A);const I=y(t,["seed"]);I!=null&&_(e,["seed"],I);const V=y(t,["speechConfig"]);V!=null&&_(e,["speechConfig"],KF(V));const N=y(t,["stopSequences"]);N!=null&&_(e,["stopSequences"],N);const B=y(t,["temperature"]);B!=null&&_(e,["temperature"],B);const q=y(t,["thinkingConfig"]);q!=null&&_(e,["thinkingConfig"],q);const L=y(t,["topK"]);L!=null&&_(e,["topK"],L);const D=y(t,["topP"]);if(D!=null&&_(e,["topP"],D),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function aye(t,e){const n={},r=y(e,["model"]);return r!=null&&_(n,["_url","name"],gt(t,r)),n}function oye(t,e){const n={},r=y(e,["model"]);return r!=null&&_(n,["_url","name"],gt(t,r)),n}function sye(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function lye(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function uye(t){const e={},n=y(t,["aspectRatio"]);n!=null&&_(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&_(e,["imageSize"],r),y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function cye(t){const e={},n=y(t,["aspectRatio"]);n!=null&&_(e,["aspectRatio"],n);const r=y(t,["imageSize"]);r!=null&&_(e,["imageSize"],r);const i=y(t,["outputMimeType"]);i!=null&&_(e,["imageOutputOptions","mimeType"],i);const a=y(t,["outputCompressionQuality"]);return a!=null&&_(e,["imageOutputOptions","compressionQuality"],a),e}function dye(t){const e={},n=y(t,["bytesBase64Encoded"]);n!=null&&_(e,["imageBytes"],pl(n));const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function HF(t){const e={},n=y(t,["gcsUri"]);n!=null&&_(e,["gcsUri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&_(e,["imageBytes"],pl(r));const i=y(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function f0(t){const e={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=y(t,["imageBytes"]);n!=null&&_(e,["bytesBase64Encoded"],pl(n));const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function ca(t){const e={},n=y(t,["gcsUri"]);n!=null&&_(e,["gcsUri"],n);const r=y(t,["imageBytes"]);r!=null&&_(e,["bytesBase64Encoded"],pl(r));const i=y(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function fye(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&_(n,["_query","pageSize"],i);const a=y(e,["pageToken"]);n!==void 0&&a!=null&&_(n,["_query","pageToken"],a);const s=y(e,["filter"]);n!==void 0&&s!=null&&_(n,["_query","filter"],s);const u=y(e,["queryBase"]);return n!==void 0&&u!=null&&_(n,["_url","models_url"],LF(t,u)),r}function hye(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&_(n,["_query","pageSize"],i);const a=y(e,["pageToken"]);n!==void 0&&a!=null&&_(n,["_query","pageToken"],a);const s=y(e,["filter"]);n!==void 0&&s!=null&&_(n,["_query","filter"],s);const u=y(e,["queryBase"]);return n!==void 0&&u!=null&&_(n,["_url","models_url"],LF(t,u)),r}function pye(t,e){const n={},r=y(e,["config"]);return r!=null&&fye(t,r,n),n}function mye(t,e){const n={},r=y(e,["config"]);return r!=null&&hye(t,r,n),n}function gye(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let a=UF(i);Array.isArray(a)&&(a=a.map(s=>pT(s))),_(e,["models"],a)}return e}function yye(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let a=UF(i);Array.isArray(a)&&(a=a.map(s=>mT(s))),_(e,["models"],a)}return e}function vye(t){const e={},n=y(t,["maskMode"]);n!=null&&_(e,["maskMode"],n);const r=y(t,["segmentationClasses"]);r!=null&&_(e,["maskClasses"],r);const i=y(t,["maskDilation"]);return i!=null&&_(e,["dilation"],i),e}function pT(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=y(t,["description"]);i!=null&&_(e,["description"],i);const a=y(t,["version"]);a!=null&&_(e,["version"],a);const s=y(t,["_self"]);s!=null&&_(e,["tunedModelInfo"],Dye(s));const u=y(t,["inputTokenLimit"]);u!=null&&_(e,["inputTokenLimit"],u);const c=y(t,["outputTokenLimit"]);c!=null&&_(e,["outputTokenLimit"],c);const d=y(t,["supportedGenerationMethods"]);d!=null&&_(e,["supportedActions"],d);const h=y(t,["temperature"]);h!=null&&_(e,["temperature"],h);const p=y(t,["maxTemperature"]);p!=null&&_(e,["maxTemperature"],p);const g=y(t,["topP"]);g!=null&&_(e,["topP"],g);const v=y(t,["topK"]);v!=null&&_(e,["topK"],v);const T=y(t,["thinking"]);return T!=null&&_(e,["thinking"],T),e}function mT(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=y(t,["description"]);i!=null&&_(e,["description"],i);const a=y(t,["versionId"]);a!=null&&_(e,["version"],a);const s=y(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>Rge(g))),_(e,["endpoints"],p)}const u=y(t,["labels"]);u!=null&&_(e,["labels"],u);const c=y(t,["_self"]);c!=null&&_(e,["tunedModelInfo"],Oye(c));const d=y(t,["defaultCheckpointId"]);d!=null&&_(e,["defaultCheckpointId"],d);const h=y(t,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>g)),_(e,["checkpoints"],p)}return e}function _ye(t){const e={},n=y(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const a=y(t,["fileData"]);a!=null&&_(e,["fileData"],Pge(a));const s=y(t,["functionCall"]);s!=null&&_(e,["functionCall"],Mge(s));const u=y(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&_(e,["inlineData"],ige(c));const d=y(t,["text"]);d!=null&&_(e,["text"],d);const h=y(t,["thought"]);h!=null&&_(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&_(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&_(e,["videoMetadata"],g),e}function bye(t){const e={},n=y(t,["productImage"]);return n!=null&&_(e,["image"],ca(n)),e}function xye(t,e){const n={},r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&_(e,["parameters","sampleCount"],r);const i=y(t,["baseSteps"]);e!==void 0&&i!=null&&_(e,["parameters","baseSteps"],i);const a=y(t,["outputGcsUri"]);e!==void 0&&a!=null&&_(e,["parameters","storageUri"],a);const s=y(t,["seed"]);e!==void 0&&s!=null&&_(e,["parameters","seed"],s);const u=y(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&_(e,["parameters","safetySetting"],u);const c=y(t,["personGeneration"]);e!==void 0&&c!=null&&_(e,["parameters","personGeneration"],c);const d=y(t,["addWatermark"]);e!==void 0&&d!=null&&_(e,["parameters","addWatermark"],d);const h=y(t,["outputMimeType"]);e!==void 0&&h!=null&&_(e,["parameters","outputOptions","mimeType"],h);const p=y(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&_(e,["parameters","outputOptions","compressionQuality"],p);const g=y(t,["enhancePrompt"]);e!==void 0&&g!=null&&_(e,["parameters","enhancePrompt"],g);const v=y(t,["labels"]);return e!==void 0&&v!=null&&_(e,["labels"],v),n}function Eye(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["source"]);i!=null&&Tye(i,n);const a=y(e,["config"]);return a!=null&&xye(a,n),n}function wye(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>d0(i))),_(e,["generatedImages"],r)}return e}function Tye(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&_(e,["instances[0]","prompt"],r);const i=y(t,["personImage"]);e!==void 0&&i!=null&&_(e,["instances[0]","personImage","image"],ca(i));const a=y(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>bye(u))),_(e,["instances[0]","productImages"],s)}return n}function Sye(t){const e={},n=y(t,["referenceImage"]);n!=null&&_(e,["referenceImage"],ca(n));const r=y(t,["referenceId"]);r!=null&&_(e,["referenceId"],r);const i=y(t,["referenceType"]);i!=null&&_(e,["referenceType"],i);const a=y(t,["maskImageConfig"]);a!=null&&_(e,["maskImageConfig"],vye(a));const s=y(t,["controlImageConfig"]);s!=null&&_(e,["controlImageConfig"],dge(s));const u=y(t,["styleImageConfig"]);u!=null&&_(e,["styleImageConfig"],u);const c=y(t,["subjectImageConfig"]);return c!=null&&_(e,["subjectImageConfig"],c),e}function GF(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&_(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&_(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&_(e,["contentType"],i),e}function $F(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&_(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&_(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&_(e,["contentType"],i),e}function Aye(t){const e={},n=y(t,["category"]);if(n!=null&&_(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&_(e,["threshold"],r),e}function Cye(t){const e={},n=y(t,["image"]);return n!=null&&_(e,["image"],ca(n)),e}function Iye(t,e){const n={},r=y(t,["mode"]);e!==void 0&&r!=null&&_(e,["parameters","mode"],r);const i=y(t,["maxPredictions"]);e!==void 0&&i!=null&&_(e,["parameters","maxPredictions"],i);const a=y(t,["confidenceThreshold"]);e!==void 0&&a!=null&&_(e,["parameters","confidenceThreshold"],a);const s=y(t,["maskDilation"]);e!==void 0&&s!=null&&_(e,["parameters","maskDilation"],s);const u=y(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&_(e,["parameters","binaryColorThreshold"],u);const c=y(t,["labels"]);return e!==void 0&&c!=null&&_(e,["labels"],c),n}function kye(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["source"]);i!=null&&Rye(i,n);const a=y(e,["config"]);return a!=null&&Iye(a,n),n}function Nye(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>tye(i))),_(e,["generatedMasks"],r)}return e}function Rye(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&_(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&_(e,["instances[0]","image"],ca(i));const a=y(t,["scribbleImage"]);return e!==void 0&&a!=null&&_(e,["instances[0]","scribble"],Cye(a)),n}function KF(t){const e={},n=y(t,["languageCode"]);n!=null&&_(e,["languageCode"],n);const r=y(t,["voiceConfig"]);if(r!=null&&_(e,["voiceConfig"],r),y(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Pye(t){const e={},n=y(t,["functionCallingConfig"]);n!=null&&_(e,["functionCallingConfig"],Dge(n));const r=y(t,["retrievalConfig"]);return r!=null&&_(e,["retrievalConfig"],r),e}function Mye(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),_(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&_(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&_(e,["computerUse"],i);const a=y(t,["fileSearch"]);a!=null&&_(e,["fileSearch"],a);const s=y(t,["codeExecution"]);if(s!=null&&_(e,["codeExecution"],s),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(t,["googleMaps"]);u!=null&&_(e,["googleMaps"],sye(u));const c=y(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],lye(c));const d=y(t,["urlContext"]);return d!=null&&_(e,["urlContext"],d),e}function YF(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>Oge(g))),_(e,["functionDeclarations"],p)}const r=y(t,["retrieval"]);r!=null&&_(e,["retrieval"],r);const i=y(t,["googleSearchRetrieval"]);i!=null&&_(e,["googleSearchRetrieval"],i);const a=y(t,["computerUse"]);if(a!=null&&_(e,["computerUse"],a),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=y(t,["codeExecution"]);s!=null&&_(e,["codeExecution"],s);const u=y(t,["enterpriseWebSearch"]);u!=null&&_(e,["enterpriseWebSearch"],u);const c=y(t,["googleMaps"]);c!=null&&_(e,["googleMaps"],c);const d=y(t,["googleSearch"]);d!=null&&_(e,["googleSearch"],d);const h=y(t,["urlContext"]);return h!=null&&_(e,["urlContext"],h),e}function Dye(t){const e={},n=y(t,["baseModel"]);n!=null&&_(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&_(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&_(e,["updateTime"],i),e}function Oye(t){const e={},n=y(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&_(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&_(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&_(e,["updateTime"],i),e}function Lye(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&_(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&_(e,["description"],i);const a=y(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&_(e,["defaultCheckpointId"],a),n}function Uye(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&_(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&_(e,["description"],i);const a=y(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&_(e,["defaultCheckpointId"],a),n}function Vye(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","name"],gt(t,r));const i=y(e,["config"]);return i!=null&&Lye(i,n),n}function Fye(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["config"]);return i!=null&&Uye(i,n),n}function zye(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&_(e,["parameters","storageUri"],r);const i=y(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&_(e,["parameters","safetySetting"],i);const a=y(t,["personGeneration"]);e!==void 0&&a!=null&&_(e,["parameters","personGeneration"],a);const s=y(t,["includeRaiReason"]);e!==void 0&&s!=null&&_(e,["parameters","includeRaiReason"],s);const u=y(t,["outputMimeType"]);e!==void 0&&u!=null&&_(e,["parameters","outputOptions","mimeType"],u);const c=y(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&_(e,["parameters","outputOptions","compressionQuality"],c);const d=y(t,["enhanceInputImage"]);e!==void 0&&d!=null&&_(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=y(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&_(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=y(t,["labels"]);e!==void 0&&p!=null&&_(e,["labels"],p);const g=y(t,["numberOfImages"]);e!==void 0&&g!=null&&_(e,["parameters","sampleCount"],g);const v=y(t,["mode"]);return e!==void 0&&v!=null&&_(e,["parameters","mode"],v),n}function Bye(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["_url","model"],gt(t,r));const i=y(e,["image"]);i!=null&&_(n,["instances[0]","image"],ca(i));const a=y(e,["upscaleFactor"]);a!=null&&_(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=y(e,["config"]);return s!=null&&zye(s,n),n}function jye(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>d0(a))),_(e,["generatedImages"],i)}return e}function qye(t){const e={},n=y(t,["uri"]);n!=null&&_(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&_(e,["videoBytes"],pl(r));const i=y(t,["encoding"]);return i!=null&&_(e,["mimeType"],i),e}function Hye(t){const e={},n=y(t,["gcsUri"]);n!=null&&_(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&_(e,["videoBytes"],pl(r));const i=y(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function Gye(t){const e={},n=y(t,["image"]);n!=null&&_(e,["_self"],ca(n));const r=y(t,["maskMode"]);return r!=null&&_(e,["maskMode"],r),e}function $ye(t){const e={},n=y(t,["image"]);n!=null&&_(e,["image"],f0(n));const r=y(t,["referenceType"]);return r!=null&&_(e,["referenceType"],r),e}function Kye(t){const e={},n=y(t,["image"]);n!=null&&_(e,["image"],ca(n));const r=y(t,["referenceType"]);return r!=null&&_(e,["referenceType"],r),e}function WF(t){const e={},n=y(t,["uri"]);n!=null&&_(e,["uri"],n);const r=y(t,["videoBytes"]);r!=null&&_(e,["encodedVideo"],pl(r));const i=y(t,["mimeType"]);return i!=null&&_(e,["encoding"],i),e}function JF(t){const e={},n=y(t,["uri"]);n!=null&&_(e,["gcsUri"],n);const r=y(t,["videoBytes"]);r!=null&&_(e,["bytesBase64Encoded"],pl(r));const i=y(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yye(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&_(e,["displayName"],r),n}function Wye(t){const e={},n=y(t,["config"]);return n!=null&&Yye(n,e),e}function Jye(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&_(e,["_query","force"],r),n}function Xye(t){const e={},n=y(t,["name"]);n!=null&&_(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&Jye(r,e),e}function Qye(t){const e={},n=y(t,["name"]);return n!=null&&_(e,["_url","name"],n),e}function Zye(t,e){const n={},r=y(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["customMetadata"],a)}const i=y(t,["chunkingConfig"]);return e!==void 0&&i!=null&&_(e,["chunkingConfig"],i),n}function eve(t){const e={},n=y(t,["name"]);n!=null&&_(e,["name"],n);const r=y(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=y(t,["done"]);i!=null&&_(e,["done"],i);const a=y(t,["error"]);a!=null&&_(e,["error"],a);const s=y(t,["response"]);return s!=null&&_(e,["response"],nve(s)),e}function tve(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&_(e,["_url","file_search_store_name"],n);const r=y(t,["fileName"]);r!=null&&_(e,["fileName"],r);const i=y(t,["config"]);return i!=null&&Zye(i,e),e}function nve(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&_(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&_(e,["documentName"],i),e}function rve(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function ive(t){const e={},n=y(t,["config"]);return n!=null&&rve(n,e),e}function ave(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["fileSearchStores"],a)}return e}function XF(t,e){const n={},r=y(t,["mimeType"]);e!==void 0&&r!=null&&_(e,["mimeType"],r);const i=y(t,["displayName"]);e!==void 0&&i!=null&&_(e,["displayName"],i);const a=y(t,["customMetadata"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),_(e,["customMetadata"],u)}const s=y(t,["chunkingConfig"]);return e!==void 0&&s!=null&&_(e,["chunkingConfig"],s),n}function ove(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&_(e,["_url","file_search_store_name"],n);const r=y(t,["config"]);return r!=null&&XF(r,e),e}function sve(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&_(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lve="Content-Type",uve="X-Server-Timeout",cve="User-Agent",gT="x-goog-api-client",dve="1.31.0",fve=`google-genai-sdk/${dve}`,hve="v1beta1",pve="v1beta",KO=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class mve{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:hve,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:pve,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&gve(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await YO(i),new dT(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await YO(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return $c(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield qt(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(c,{stream:!0});try{const p=JSON.parse(d);if("error"in p){const g=JSON.parse(JSON.stringify(p.error)),v=g.status,T=g.code,S=`got status: ${v}. ${JSON.stringify(p)}`;if(T>=400&&T<600)throw new u0({message:S,status:T})}}catch(p){if(p.name==="ApiError")throw p}s+=d;let h=s.match(KO);for(;h;){const p=h[1];try{const g=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qt(new dT(g)),s=s.slice(h[0].length),h=s.match(KO)}catch(g){throw new Error(`exception parsing stream chunk ${p}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=fve+" "+this.clientOptions.userAgentExtra;return e[cve]=n,e[gT]=n,e[lve]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(uve,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},d=this.getFileName(e),h=Ie("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,c,n==null?void 0:n.httpOptions);return a.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),u=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&XF(r,p);const g=await this.fetchUploadUrl(d,u,c,h,p,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function YO(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new u0({message:i,status:n}):new Error(i)}}function gve(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const u=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=s[c],h=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yve="mcp_used/unknown";let vve=!1;function QF(t){for(const e of t)if(_ve(e)||typeof e=="object"&&"inputSchema"in e)return!0;return vve}function ZF(t){var e;const n=(e=t[gT])!==null&&e!==void 0?e:"";t[gT]=(n+` ${yve}`).trimStart()}function _ve(t){return t!==null&&typeof t=="object"&&t instanceof K1}function bve(t,e=100){return $c(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield qt(t.listTools({cursor:r}));for(const s of a.tools)yield yield qt(s),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class K1{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new K1(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,mh(bve(h))),d;d=await c.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const p=i;s.push(p);const g=p.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=h}}catch(p){n={error:p}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Qhe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xve(t,e,n){const r=new Hhe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Eve{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=Sve(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(N=>{d=N}),p=e.callbacks,g=function(){d({})},v=this.apiClient,T={onopen:g,onmessage:N=>{xve(v,p.onmessage,N)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(N){}},S=this.webSocketFactory.create(c,Tve(s),T);S.connect(),await h;const V={setup:{model:gt(this.apiClient,e.model)}};return S.send(JSON.stringify(V)),new wve(S,this.apiClient)}}class wve{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Wme(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Yme(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Oc.PLAY)}pause(){this.sendPlaybackControl(Oc.PAUSE)}stop(){this.sendPlaybackControl(Oc.STOP)}resetContext(){this.sendPlaybackControl(Oc.RESET_CONTEXT)}close(){this.conn.close()}}function Tve(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Sve(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ave="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Cve(t,e,n){const r=new qhe;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=Qme(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class Ive{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Eve(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&QF(e.config.tools)&&ZF(p);const g=Pve(p);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const U=this.apiClient.getApiKey();let F="BidiGenerateContent",M="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",M="access_token"),h=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${F}?${M}=${U}`}let v=()=>{};const T=new Promise(U=>{v=U}),S=e.callbacks,A=function(){var U;(U=S==null?void 0:S.onopen)===null||U===void 0||U.call(S),v({})},I=this.apiClient,V={onopen:A,onmessage:U=>{Cve(I,S.onmessage,U)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(U){}},N=this.webSocketFactory.create(h,Rve(g),V);N.connect(),await T;let B=gt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const U=this.apiClient.getProject(),F=this.apiClient.getLocation();B=`projects/${U}/locations/${F}/`+B}let q={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Fh.AUDIO]}:e.config.responseModalities=[Fh.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const L=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],D=[];for(const U of L)if(this.isCallableTool(U)){const F=U;D.push(await F.tool())}else D.push(U);D.length>0&&(e.config.tools=D);const O={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=Kme(this.apiClient,O):q=$me(this.apiClient,O),delete q.config,N.send(JSON.stringify(q)),new Nve(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const kve={turnComplete:!0};class Nve{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ri(n.turns),e.isVertexAI()||(r=r.map(i=>c0(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Ave)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},kve),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Xme(e)}:n={realtimeInput:Jme(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Rve(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Pve(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WO=10;function JO(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Kc(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Kc(t){return"callTool"in t&&typeof t.callTool=="function"}function Mve(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Kc(i)))!==null&&r!==void 0?r:!1}function XO(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Kc(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function QO(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dve extends Qo{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Mve(n)||JO(n.config))return await this.generateContentInternal(c);const d=XO(n);if(d.length>0){const S=d.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let h,p;const g=Ri(c.contents),v=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:WO;let T=0;for(;T<v&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const S=h.candidates[0].content,A=[];for(const I of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Kc(I)){const N=await I.callTool(h.functionCalls);A.push(...N)}T++,p={role:"user",parts:A},c.contents=Ri(c.contents),c.contents.push(S),c.contents.push(p),QO(c.config)&&(g.push(S),g.push(p))}return QO(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,a,s,u;if(this.maybeMoveToResponseJsonSchem(n),JO(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=XO(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let u;return a?u={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Iu(Bo.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>Kc(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&QF(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),ZF(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Kc(s)){const u=s,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,u)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:WO;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(d,h,p){var g,v;return $c(this,arguments,function*(){for(var T,S,A,I;u<a;){s&&(u++,s=!1);const q=yield qt(d.processParamsMaybeAddMcpUsage(p)),L=yield qt(d.generateContentStreamInternal(q)),D=[],O=[];try{for(var V=!0,N=(S=void 0,mh(L)),B;B=yield qt(N.next()),T=B.done,!T;V=!0){I=B.value,V=!1;const U=I;if(yield yield qt(U),U.candidates&&(!((g=U.candidates[0])===null||g===void 0)&&g.content)){O.push(U.candidates[0].content);for(const F of(v=U.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(u<a&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(F.functionCall.name)){const M=yield qt(h.get(F.functionCall.name).callTool([F.functionCall]));D.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(U){S={error:U}}finally{try{!V&&!T&&(A=N.return)&&(yield qt(A.call(N)))}finally{if(S)throw S.error}}if(D.length>0){s=!0;const U=new Zf;U.candidates=[{content:{role:"user",parts:D}}],yield yield qt(U);const F=[];F.push(...O),F.push({role:"user",parts:D});const M=Ri(p.contents).concat(F);p.contents=M}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=HO(this.apiClient,e);return u=Ie("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=$O(h),g=new Zf;return Object.assign(g,p),g})}else{const d=qO(this.apiClient,e);return u=Ie("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=GO(h),g=new Zf;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=HO(this.apiClient,e);return u=Ie("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return $c(this,arguments,function*(){var g,v,T,S;try{for(var A=!0,I=mh(p),V;V=yield qt(I.next()),g=V.done,!g;A=!0){S=V.value,A=!1;const N=S,B=$O(yield qt(N.json()));B.sdkHttpResponse={headers:N.headers};const q=new Zf;Object.assign(q,B),yield yield qt(q)}}catch(N){v={error:N}}finally{try{!A&&!g&&(T=I.return)&&(yield qt(T.call(I)))}finally{if(v)throw v.error}}})})}else{const d=qO(this.apiClient,e);return u=Ie("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(p){return $c(this,arguments,function*(){var g,v,T,S;try{for(var A=!0,I=mh(p),V;V=yield qt(I.next()),g=V.done,!g;A=!0){S=V.value,A=!1;const N=S,B=GO(yield qt(N.json()));B.sdkHttpResponse={headers:N.headers};const q=new Zf;Object.assign(q,B),yield yield qt(q)}}catch(N){v={error:N}}finally{try{!A&&!g&&(T=I.return)&&(yield qt(T.call(I)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Ige(this.apiClient,e);return u=Ie("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Nge(h),g=new AO;return Object.assign(g,p),g})}else{const d=Cge(this.apiClient,e);return u=Ie("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=kge(h),g=new AO;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Bge(this.apiClient,e);return u=Ie("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=qge(h),g=new CO;return Object.assign(g,p),g})}else{const d=zge(this.apiClient,e);return u=Ie("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=jge(h),g=new CO;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=wge(this.apiClient,e);return a=Ie("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Tge(c),h=new Phe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Bye(this.apiClient,e);return a=Ie("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=jye(c),h=new Mhe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Eye(this.apiClient,e);return a=Ie("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=wye(c),h=new Dhe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=kye(this.apiClient,e);return a=Ie("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Nye(c),h=new Ohe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=oye(this.apiClient,e);return u=Ie("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>mT(h))}else{const d=aye(this.apiClient,e);return u=Ie("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>pT(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=mye(this.apiClient,e);return u=Ie("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=yye(h),g=new IO;return Object.assign(g,p),g})}else{const d=pye(this.apiClient,e);return u=Ie("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=gye(h),g=new IO;return Object.assign(g,p),g})}}async update(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Fye(this.apiClient,e);return u=Ie("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>mT(h))}else{const d=Vye(this.apiClient,e);return u=Ie("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>pT(h))}}async delete(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=_ge(this.apiClient,e);return u=Ie("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=xge(h),g=new kO;return Object.assign(g,p),g})}else{const d=vge(this.apiClient,e);return u=Ie("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=bge(h),g=new kO;return Object.assign(g,p),g})}}async countTokens(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=mge(this.apiClient,e);return u=Ie("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=yge(h),g=new NO;return Object.assign(g,p),g})}else{const d=pge(this.apiClient,e);return u=Ie("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=gge(h),g=new NO;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=sge(this.apiClient,e);return a=Ie("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=lge(c),h=new Lhe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Wge(this.apiClient,e);return u=Ie("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Kge(h),g=new Yy;return Object.assign(g,p),g})}else{const d=Yge(this.apiClient,e);return u=Ie("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const p=$ge(h),g=new Yy;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ove extends Qo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Ahe(e);return u=Ie("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const d=She(e);return u=Ie("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=vhe(e);return a=Ie("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lve(t){const e={},n=y(t,["data"]);if(n!=null&&_(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Uve(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>$ve(a))),_(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&_(e,["role"],r),e}function Vve(t,e,n){const r={},i=y(e,["expireTime"]);n!==void 0&&i!=null&&_(n,["expireTime"],i);const a=y(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&_(n,["newSessionExpireTime"],a);const s=y(e,["uses"]);n!==void 0&&s!=null&&_(n,["uses"],s);const u=y(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&_(n,["bidiGenerateContentSetup"],Gve(t,u));const c=y(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&_(n,["fieldMask"],c),r}function Fve(t,e){const n={},r=y(e,["config"]);return r!=null&&_(n,["config"],Vve(t,r,n)),n}function zve(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Bve(t){const e={},n=y(t,["id"]);n!=null&&_(e,["id"],n);const r=y(t,["args"]);r!=null&&_(e,["args"],r);const i=y(t,["name"]);if(i!=null&&_(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jve(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&_(e,["enableWidget"],n),e}function qve(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],n),e}function Hve(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const a=y(t,["temperature"]);e!==void 0&&a!=null&&_(e,["setup","generationConfig","temperature"],a);const s=y(t,["topP"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","topP"],s);const u=y(t,["topK"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","topK"],u);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","maxOutputTokens"],c);const d=y(t,["mediaResolution"]);e!==void 0&&d!=null&&_(e,["setup","generationConfig","mediaResolution"],d);const h=y(t,["seed"]);e!==void 0&&h!=null&&_(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&_(e,["setup","generationConfig","speechConfig"],$1(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&_(e,["setup","generationConfig","thinkingConfig"],g);const v=y(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],v);const T=y(t,["systemInstruction"]);e!==void 0&&T!=null&&_(e,["setup","systemInstruction"],Uve(gr(T)));const S=y(t,["tools"]);if(e!==void 0&&S!=null){let L=kd(S);Array.isArray(L)&&(L=L.map(D=>Yve(Id(D)))),_(e,["setup","tools"],L)}const A=y(t,["sessionResumption"]);e!==void 0&&A!=null&&_(e,["setup","sessionResumption"],Kve(A));const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&_(e,["setup","inputAudioTranscription"],I);const V=y(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&_(e,["setup","outputAudioTranscription"],V);const N=y(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&_(e,["setup","realtimeInputConfig"],N);const B=y(t,["contextWindowCompression"]);e!==void 0&&B!=null&&_(e,["setup","contextWindowCompression"],B);const q=y(t,["proactivity"]);return e!==void 0&&q!=null&&_(e,["setup","proactivity"],q),n}function Gve(t,e){const n={},r=y(e,["model"]);r!=null&&_(n,["setup","model"],gt(t,r));const i=y(e,["config"]);return i!=null&&_(n,["config"],Hve(i,n)),n}function $ve(t){const e={},n=y(t,["mediaResolution"]);n!=null&&_(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&_(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&_(e,["executableCode"],i);const a=y(t,["fileData"]);a!=null&&_(e,["fileData"],zve(a));const s=y(t,["functionCall"]);s!=null&&_(e,["functionCall"],Bve(s));const u=y(t,["functionResponse"]);u!=null&&_(e,["functionResponse"],u);const c=y(t,["inlineData"]);c!=null&&_(e,["inlineData"],Lve(c));const d=y(t,["text"]);d!=null&&_(e,["text"],d);const h=y(t,["thought"]);h!=null&&_(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&_(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&_(e,["videoMetadata"],g),e}function Kve(t){const e={},n=y(t,["handle"]);if(n!=null&&_(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Yve(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),_(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&_(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&_(e,["computerUse"],i);const a=y(t,["fileSearch"]);a!=null&&_(e,["fileSearch"],a);const s=y(t,["codeExecution"]);if(s!=null&&_(e,["codeExecution"],s),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(t,["googleMaps"]);u!=null&&_(e,["googleMaps"],jve(u));const c=y(t,["googleSearch"]);c!=null&&_(e,["googleSearch"],qve(c));const d=y(t,["urlContext"]);return d!=null&&_(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wve(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function Jve(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=Wve(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>s.includes(d)?`generationConfig.${d}`:d));const c=[];a&&c.push(a),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Xve extends Qo{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Fve(this.apiClient,e);a=Ie("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=Jve(u,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qve(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&_(e,["_query","force"],r),n}function Zve(t){const e={},n=y(t,["name"]);n!=null&&_(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&Qve(r,e),e}function e0e(t){const e={},n=y(t,["name"]);return n!=null&&_(e,["_url","name"],n),e}function t0e(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function n0e(t){const e={},n=y(t,["parent"]);n!=null&&_(e,["_url","parent"],n);const r=y(t,["config"]);return r!=null&&t0e(r,e),e}function r0e(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&_(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&_(e,["nextPageToken"],r);const i=y(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),_(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i0e extends Qo{constructor(e){super(),this.apiClient=e,this.list=async n=>new Iu(Bo.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=e0e(e);return a=Ie("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Zve(e);i=Ie("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=n0e(e);return a=Ie("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=r0e(c),h=new Uhe;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a0e extends Qo{constructor(e,n=new i0e(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Iu(Bo.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Wye(e);return a=Ie("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Qye(e);return a=Ie("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Xye(e);i=Ie("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ive(e);return a=Ie("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=ave(c),h=new Vhe;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ove(e);return a=Ie("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=sve(c),h=new Fhe;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tve(e);return a=Ie("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=eve(c),h=new B1;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o0e(t,e){const n={},r=y(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function s0e(t,e){const n={},r=y(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function l0e(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&_(n,["sdkHttpResponse"],r),n}function u0e(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&_(n,["sdkHttpResponse"],r),n}function c0e(t,e,n){const r={};if(y(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&_(e,["displayName"],i),y(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=y(t,["epochCount"]);e!==void 0&&a!=null&&_(e,["tuningTask","hyperparameters","epochCount"],a);const s=y(t,["learningRateMultiplier"]);if(s!=null&&_(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),y(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=y(t,["batchSize"]);e!==void 0&&u!=null&&_(e,["tuningTask","hyperparameters","batchSize"],u);const c=y(t,["learningRate"]);if(e!==void 0&&c!=null&&_(e,["tuningTask","hyperparameters","learningRate"],c),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function d0e(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=y(t,["validationDataset"]);e!==void 0&&v!=null&&_(e,["supervisedTuningSpec"],ZO(v))}else if(i==="PREFERENCE_TUNING"){const v=y(t,["validationDataset"]);e!==void 0&&v!=null&&_(e,["preferenceOptimizationSpec"],ZO(v))}const a=y(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&_(e,["tunedModelDisplayName"],a);const s=y(t,["description"]);e!==void 0&&s!=null&&_(e,["description"],s);let u=y(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=y(t,["epochCount"]);e!==void 0&&v!=null&&_(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(u==="PREFERENCE_TUNING"){const v=y(t,["epochCount"]);e!==void 0&&v!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let c=y(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const v=y(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&_(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(c==="PREFERENCE_TUNING"){const v=y(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let d=y(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=y(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&_(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(d==="PREFERENCE_TUNING"){const v=y(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&_(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let h=y(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const v=y(t,["adapterSize"]);e!==void 0&&v!=null&&_(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(h==="PREFERENCE_TUNING"){const v=y(t,["adapterSize"]);e!==void 0&&v!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=y(t,["labels"]);e!==void 0&&p!=null&&_(e,["labels"],p);const g=y(t,["beta"]);return e!==void 0&&g!=null&&_(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function f0e(t,e){const n={},r=y(t,["baseModel"]);r!=null&&_(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&_(n,["preTunedModel"],i);const a=y(t,["trainingDataset"]);a!=null&&w0e(a);const s=y(t,["config"]);return s!=null&&c0e(s,n),n}function h0e(t,e){const n={},r=y(t,["baseModel"]);r!=null&&_(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&_(n,["preTunedModel"],i);const a=y(t,["trainingDataset"]);a!=null&&T0e(a,n,e);const s=y(t,["config"]);return s!=null&&d0e(s,n,e),n}function p0e(t,e){const n={},r=y(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function m0e(t,e){const n={},r=y(t,["name"]);return r!=null&&_(n,["_url","name"],r),n}function g0e(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&_(e,["_query","pageSize"],i);const a=y(t,["pageToken"]);e!==void 0&&a!=null&&_(e,["_query","pageToken"],a);const s=y(t,["filter"]);return e!==void 0&&s!=null&&_(e,["_query","filter"],s),r}function y0e(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&_(e,["_query","pageSize"],i);const a=y(t,["pageToken"]);e!==void 0&&a!=null&&_(e,["_query","pageToken"],a);const s=y(t,["filter"]);return e!==void 0&&s!=null&&_(e,["_query","filter"],s),r}function v0e(t,e){const n={},r=y(t,["config"]);return r!=null&&g0e(r,n),n}function _0e(t,e){const n={},r=y(t,["config"]);return r!=null&&y0e(r,n),n}function b0e(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&_(n,["nextPageToken"],i);const a=y(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>ez(u))),_(n,["tuningJobs"],s)}return n}function x0e(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&_(n,["nextPageToken"],i);const a=y(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>yT(u))),_(n,["tuningJobs"],s)}return n}function E0e(t,e){const n={},r=y(t,["name"]);r!=null&&_(n,["model"],r);const i=y(t,["name"]);return i!=null&&_(n,["endpoint"],i),n}function w0e(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),_(n,["examples","examples"],i)}return n}function T0e(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=y(t,["gcsUri"]);e!==void 0&&s!=null&&_(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=y(t,["gcsUri"]);e!==void 0&&s!=null&&_(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=y(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=y(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&_(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=y(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&_(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(y(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function ez(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&_(n,["name"],i);const a=y(t,["state"]);a!=null&&_(n,["state"],DF(a));const s=y(t,["createTime"]);s!=null&&_(n,["createTime"],s);const u=y(t,["tuningTask","startTime"]);u!=null&&_(n,["startTime"],u);const c=y(t,["tuningTask","completeTime"]);c!=null&&_(n,["endTime"],c);const d=y(t,["updateTime"]);d!=null&&_(n,["updateTime"],d);const h=y(t,["description"]);h!=null&&_(n,["description"],h);const p=y(t,["baseModel"]);p!=null&&_(n,["baseModel"],p);const g=y(t,["_self"]);return g!=null&&_(n,["tunedModel"],E0e(g)),n}function yT(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&_(n,["name"],i);const a=y(t,["state"]);a!=null&&_(n,["state"],DF(a));const s=y(t,["createTime"]);s!=null&&_(n,["createTime"],s);const u=y(t,["startTime"]);u!=null&&_(n,["startTime"],u);const c=y(t,["endTime"]);c!=null&&_(n,["endTime"],c);const d=y(t,["updateTime"]);d!=null&&_(n,["updateTime"],d);const h=y(t,["error"]);h!=null&&_(n,["error"],h);const p=y(t,["description"]);p!=null&&_(n,["description"],p);const g=y(t,["baseModel"]);g!=null&&_(n,["baseModel"],g);const v=y(t,["tunedModel"]);v!=null&&_(n,["tunedModel"],v);const T=y(t,["preTunedModel"]);T!=null&&_(n,["preTunedModel"],T);const S=y(t,["supervisedTuningSpec"]);S!=null&&_(n,["supervisedTuningSpec"],S);const A=y(t,["preferenceOptimizationSpec"]);A!=null&&_(n,["preferenceOptimizationSpec"],A);const I=y(t,["tuningDataStats"]);I!=null&&_(n,["tuningDataStats"],I);const V=y(t,["encryptionSpec"]);V!=null&&_(n,["encryptionSpec"],V);const N=y(t,["partnerModelTuningSpec"]);N!=null&&_(n,["partnerModelTuningSpec"],N);const B=y(t,["customBaseModel"]);B!=null&&_(n,["customBaseModel"],B);const q=y(t,["experiment"]);q!=null&&_(n,["experiment"],q);const L=y(t,["labels"]);L!=null&&_(n,["labels"],L);const D=y(t,["outputUri"]);D!=null&&_(n,["outputUri"],D);const O=y(t,["pipelineJob"]);O!=null&&_(n,["pipelineJob"],O);const U=y(t,["serviceAccount"]);U!=null&&_(n,["serviceAccount"],U);const F=y(t,["tunedModelDisplayName"]);F!=null&&_(n,["tunedModelDisplayName"],F);const M=y(t,["veoTuningSpec"]);return M!=null&&_(n,["veoTuningSpec"],M),n}function S0e(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&_(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&_(n,["name"],i);const a=y(t,["metadata"]);a!=null&&_(n,["metadata"],a);const s=y(t,["done"]);s!=null&&_(n,["done"],s);const u=y(t,["error"]);return u!=null&&_(n,["error"],u),n}function ZO(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&_(n,["validationDatasetUri"],r);const i=y(t,["vertexDatasetResource"]);return i!=null&&_(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A0e extends Qo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Iu(Bo.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:cT.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=m0e(e);return u=Ie("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>yT(h))}else{const d=p0e(e);return u=Ie("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>ez(h))}}async listInternal(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=_0e(e);return u=Ie("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=x0e(h),g=new RO;return Object.assign(g,p),g})}else{const d=v0e(e);return u=Ie("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=b0e(h),g=new RO;return Object.assign(g,p),g})}}async cancel(e){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=s0e(e);return u=Ie("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=u0e(h),g=new PO;return Object.assign(g,p),g})}else{const d=o0e(e);return u=Ie("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=l0e(h),g=new PO;return Object.assign(g,p),g})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=h0e(e,e);return a=Ie("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>yT(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=f0e(e);return a=Ie("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>S0e(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C0e{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const I0e=1024*1024*8,k0e=3,N0e=1e3,R0e=2,Jy="x-goog-upload-status";async function P0e(t,e,n){var r;const i=await tz(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Jy])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function M0e(t,e,n){var r;const i=await tz(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Jy])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=IF(a),u=new j1;return Object.assign(u,s),u}async function tz(t,e,n){var r,i;let a=0,s=0,u=new dT(new Response),c="upload";for(a=t.size;s<a;){const d=Math.min(I0e,a-s),h=t.slice(s,s+d);s+d>=a&&(c+=", finalize");let p=0,g=N0e;for(;p<k0e&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Jy]));)p++,await O0e(g),g=g*R0e;if(s+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Jy])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function D0e(t){return{size:t.size,type:t.type}}function O0e(t){return new Promise(e=>setTimeout(e,t))}class L0e{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await P0e(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await M0e(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await D0e(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U0e{create(e,n,r){return new V0e(e,n,r)}}class V0e{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eL="x-goog-api-key";class F0e{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(eL)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(eL,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z0e="gl-node/";class nz{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=ghe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new F0e(this.apiKey);this.apiClient=new mve({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:z0e+"web",uploader:new L0e,downloader:new C0e}),this.models=new Dve(this.apiClient),this.live=new Ive(this.apiClient,i,new U0e),this.batches=new Gpe(this.apiClient),this.chats=new Ame(this.models,this.apiClient),this.caches=new wme(this.apiClient),this.files=new Lme(this.apiClient),this.operations=new Ove(this.apiClient),this.authTokens=new Xve(this.apiClient),this.tunings=new A0e(this.apiClient),this.fileSearchStores=new a0e(this.apiClient)}}const Qi={BASE:{v1:`Du r en expert p fordon, renovering och projektledning. 
        Ditt ml r att hjlpa anvndaren att planera, genomfra och dokumentera sitt bygge.
        Du har tillgng till projektets data (uppgifter, inkp, fordonsspecifikationer) och ska anvnda denna kontext i dina svar.
        Var proaktiv: Fresl nsta steg, varna fr risker och hll koll p budgeten.
        Svara alltid p SVENSKA.`},AGENTS:{DETECTIVE:{description:"Agent 1: Facts & Specs (Search Focused)",text:(t,e)=>`
            ROLL: Du r "Detektiven". Din enda uppgift r att hitta HRDA FAKTA och TEKNISK DATA om fordonet: "${t}".
            
            ${e?"BILD BIFOGAD: Din hgsta prioritet r att lsa av REGISTRERINGSNUMRET (RegNr) frn bilden (t.ex. ABC 123).":""}

            INSTRUKTIONER (SKSTRATEGI):
            1. IDENTIFIERA REGNR: Leta i text/bild. 
            2. SKUPPDRAG (Google Search):
               - Sk exakt p 'site:biluppgifter.se [REGNR]' och 'site:car.info [REGNR]'.
               - Hmta: Tjnstevikt, Max lastvikt, Totalvikt, Effekt (hk), rsmodell, Dckdimension.
            3. FALLBACK: Om inget RegNr finns, sk p "teknisk data [Modell]".
            4. STDNING: Alla numeriska flt MSTE vara siffror (anvnd 0 om oknt). Inga gissningar.
            
            OUTPUT (JSON ONLY):
            {
              "projectName": "String (T.ex. 'Volvo 240 - Prlan')",
              "vehicleData": {
                "regNo": "String",
                "make": "String",
                "model": "String",
                "year": Number,
                "prodYear": Number,
                "regDate": "String",
                "status": "String (I trafik/Avstlld)",
                "bodyType": "String",
                "passengers": Number,
                "inspection": { "last": "String", "next": "String", "mileage": "String" },
                "engine": { "fuel": "String", "power": "String", "volume": "String" },
                "gearbox": "String",
                "wheels": { "drive": "String", "tiresFront": "String", "tiresRear": "String", "boltPattern": "String" },
                "dimensions": { "length": Number, "width": Number, "height": "String", "wheelbase": Number },
                "weights": { "curb": Number, "total": Number, "load": Number, "trailer": Number, "trailerB": Number },
                "vin": "String",
                "color": "String",
                "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" }
              }
            }`},PLANNER:{description:"Agent 2: Strategy & Tasks (Logic Focused)",text:t=>`
            ROLL: Du r "Verkmstaren". Du ska skapa en handlingsplan.
            
            FAKTA FRN DETEKTIVEN:
            ${t}
            
            INSTRUKTIONER:
            1. ANALYSERA: Titta p mil, r och modell. Vad brukar g snder? (Sk: "common faults [Model]").
            2. PROJEKTTYP: Avgr om det r Renovering (gammal bil), Bygge (vanlife) eller Underhll.
            3. RAPPORT: Skriv en "Detektiv-rapport" (Markdown) om bilens status, historia och strategi.
            4. UPPGIFTER: Skapa 5-10 konkreta "Att gra"-punkter.
            
            OUTPUT (JSON ONLY):
            {
              "initialTasks": [ 
                { "title": "String", "description": "String", "estimatedCostMin": Number, "estimatedCostMax": Number, "phase": "String", "priority": "String", "subtasks": [{ "title": "String", "completed": false }] } 
              ],
              "analysisReport": { "title": "String", "summary": "String", "content": "String (Markdown)" }
            }`}},ELTON_PERSONA:{v1_standard:'Du r "Elton", en AI-assistent fr en van-renovering. Du r hjlpsam, kunnig och uppmuntrande. Du pratar alltid svenska.',dalmal:'Du r "Elton", en gammal mekaniker frn Dalarna. Du pratar bred dalml, r lugn och gillar kaffe. Du r expert p gamla bilar. Anvnd uttryck som "Hrru du", "D ordner s", "Int ska du vl...".',gotlandska:'Du r "Elton", en entusiastisk surfare frn Gotland. Du pratar sjungande gotlndska. Allt r "Raukt" och "But". Du gillar rostfritt och havet.',rikssvenska:"Du pratar tydlig, vrdad RIKSSVENSKA. Ingen dialekt. Du r saklig, korrekt och ltt att frst. Som en nyhetsupplsare men fr bilar.",sound_doctor:"LJUD-DOKTOR LGE P: Din primra uppgift nu r att LYSSNA p ljud frn motorn som anvndaren streamar. Analysera ljudet. Lter det som ventilspel (tickande)? Remgnissel? Lagerljud? Ge en diagnos baserat p ljudet p SVENSKA."},ICON_GENERATION:{v1:`
        ANALYZE the provided car image.
        GENERATE valid SVG code for a flat, minimalist vector icon representing this specific vehicle.
        
        STYLE GUIDELINES:
        - View: Side profile (silhouette style but with inner details).
        - Colors: Extract the DOMINANT color from the car paint in the image and use it as the fill color. Use contrasting strokes.
        - Background: Transparent (no <rect> background).
        - Dimensions: viewBox="0 0 512 512".
        - Simplicity: Keep paths simple. It should look like a high-quality app icon.
        
        OUTPUT FORMAT:
        Return ONLY the raw <svg>...</svg> code string. Do not use markdown blocks.
        `},DEEP_RESEARCH:{v2_structured:{description:"Svensk version med Google Search och strikt JSON",text:(t,e)=>`
            Din uppgift r att skapa en komplett Projektprofil fr detta fordon: "${t}".
            ${e?"Det finns en bild bifogad. DIN FRSTA PRIORITET R ATT LSA AV REGISTRERINGSNUMRET (RegNr) frn bilden (t.ex. ABC 123).":""}
            === UTFRANDEPLAN (SKSTRATEGI) ===
            1. IDENTIFIERA REGNR: Skanna text/bild. Om du hittar ett svenskt RegNr (format ABC 123 eller ABC 12A):
            2. PRIMR SKNING (REGISTERDATA): 
               - Du MSTE anvnda Google Search-verktyget. Gissa inte.
               - Skfrga 1: 'site:biluppgifter.se [REGNR]' (Frsk hitta direktlnk till fordonet)
               - Skfrga 2: 'site:car.info [REGNR]'
               - Skfrga 3: '[REGNR] teknisk data'
               
               HMTA ALLA DESSA DATA (Var noggrann!):
               - Status: (I trafik / Avstlld) - VIKTIGT!
               - Datum: Frsta registrering (regDate), Senaste besiktning.
               - Mtarstllning: Senast knda mil.
               - Motor: Effekt (hk), Volym (l), Brnsle.
               - Kraftverfring: Vxellda (Manuell/Automat), Drivning (2WD/4WD).
               - Mtt: Lngd, Bredd, Hjulbas (mm).
               - Vikter: Tjnstevikt, Totalvikt, Max lastvikt (!), Max slpvagnsvikt (trailer), Slpvagnsvikt B-kort (trailerB).
               - Hjul: Dckdimensioner (fram/bak). Bultmnster (om tillgngligt).
               - Historik: Antal gare, Antal hndelser.

            3. SEKUNDR SKNING (VANLIGA FEL): 
               - Sk p svenska forum efter "vanliga fel [Modell]", "kprd [Modell]", "rost [Modell]" (t.ex. p jagrullar.se, maskinisten.net).
               
            4. SKAPA PLAN: Generera 3-5 startuppgifter (Service, Besiktning, Rostkoll) p SVENSKA.
            
            5. DATASTDNING: 
               - Alla numeriska flt MSTE vara heltal (Number). Anvnd 0 om oknt (ej null).
               - Alla texter ska vara p SVENSKA.
            
            === UTDATA-FORMAT (JSON ONLY) ===
            Returnera ENDAST en r JSON-strng (inga markdown-block runt den) med exakt denna struktur.
            
            {
              "projectName": "String (T.ex. 'Volvo 240 - Prlan')",
              "vehicleData": {
                "regNo": "String (ABC 123)",
                "make": "String",
                "model": "String",
                "year": Number,
                "prodYear": Number,
                "regDate": "String (YYYY-MM-DD)",
                "status": "String (I trafik/Avstlld)",
                "bodyType": "String",
                "passengers": Number,
                "inspection": { "last": "String (Datum)", "next": "String", "mileage": "String (Mil)" },
                "engine": { "fuel": "String", "power": "String", "volume": "String" },
                "gearbox": "String",
                "wheels": { "drive": "String", "tiresFront": "String", "tiresRear": "String", "boltPattern": "String" },
                "dimensions": { "length": Number, "width": Number, "height": "String", "wheelbase": Number },
                "weights": { "curb": Number, "total": Number, "load": Number, "trailer": Number, "trailerB": Number },
                "vin": "String",
                "color": "String",
                "history": { "owners": Number, "events": Number, "lastOwnerChange": "String" }
              },
              "initialTasks": [ 
                { "title": "String", "description": "String", "estimatedCostMin": Number, "estimatedCostMax": Number, "phase": "String", "priority": "String", "subtasks": [{ "title": "String", "completed": false }] } 
              ],
              "analysisReport": { 
                  "title": "String (T.ex. 'Teknisk Analys: [Modell]')", 
                  "summary": "String (Kort sammanfattning)", 
                  "content": "String (Fullstndig Markdown-rapport p svenska. Analysera historik, specifikationer och ge rd.)" 
              }
            }`}}},$s={baseSystemPrompt:Qi.BASE.v1,agents:{detective:Qi.AGENTS.DETECTIVE,planner:Qi.AGENTS.PLANNER},chatPersona:Qi.ELTON_PERSONA.v1_standard,getPersona:t=>{switch(t){case"dalmal":return Qi.ELTON_PERSONA.dalmal;case"gotlandska":return Qi.ELTON_PERSONA.gotlandska;case"rikssvenska":return Qi.ELTON_PERSONA.rikssvenska;default:return Qi.ELTON_PERSONA.v1_standard}},getDiagnosticPrompt:()=>Qi.ELTON_PERSONA.sound_doctor,deepResearch:{text:(t,e)=>Qi.DEEP_RESEARCH.v2_structured.text(t,e)},iconGeneration:Qi.ICON_GENERATION.v1};let ME=null;const h0=()=>{if(!ME){const t="AIzaSyBcrJ4DDSEQ4rxcnl6KdPC4b4Q3KFdJ6d0";ME=new nz({apiKey:t})}return ME},rz=[...nu.renovation,...nu.build,...nu.maintenance],B0e=[{name:"addTask",description:"Add a new task to the project plan. Use this when the user wants to do something new. Can include a checklist of steps.",parameters:{type:Ce.OBJECT,properties:{title:{type:Ce.STRING,description:"Short title of the task"},description:{type:Ce.STRING,description:"Detailed description of what needs to be done"},estimatedCostMax:{type:Ce.NUMBER,description:"Estimated maximum cost in SEK"},phase:{type:Ce.STRING,enum:rz,description:"Which project phase this belongs to"},priority:{type:Ce.STRING,enum:Object.values(Ba),description:"Priority: Hg (Safety/Legal), Medel (Function), Lg (Cosmetic)"},sprint:{type:Ce.STRING,description:'Sprint Name (e.g., "Sprint 1: Besiktning" or "Helgjobb")'},subtasks:{type:Ce.ARRAY,description:"List of steps/checklist items",items:{type:Ce.STRING}}},required:["title","description","phase"]}},{name:"updateTask",description:"Update an existing task. Can change status, priority, sprint, title, description, or cost.",parameters:{type:Ce.OBJECT,properties:{taskTitleKeywords:{type:Ce.STRING,description:'Keywords to find the task (e.g., "kamrem")'},newStatus:{type:Ce.STRING,enum:Object.values(bt),description:"The new status (optional)"},newPriority:{type:Ce.STRING,enum:Object.values(Ba),description:"The new priority (optional)"},newSprint:{type:Ce.STRING,description:'Assign to a sprint (e.g., "Sprint 1") (optional)'},newTitle:{type:Ce.STRING,description:"Rename the task (optional)"},newDescription:{type:Ce.STRING,description:"New description (optional)"},newCost:{type:Ce.NUMBER,description:"New estimated cost (optional)"}},required:["taskTitleKeywords"]}},{name:"deleteTask",description:"Permanently delete a task from the project.",parameters:{type:Ce.OBJECT,properties:{taskTitleKeywords:{type:Ce.STRING,description:"Keywords to find the task to delete"}},required:["taskTitleKeywords"]}},{name:"addToShoppingList",description:"Add an item to the separate shopping list (inkpslista).",parameters:{type:Ce.OBJECT,properties:{name:{type:Ce.STRING,description:'Name of the item (e.g. "Motorolja 10W-40")'},category:{type:Ce.STRING,description:"Category: Reservdelar, Kemi & Frg, Verktyg, Inredning, vrigt"},estimatedCost:{type:Ce.NUMBER,description:"Estimated cost in SEK"},quantity:{type:Ce.STRING,description:'Quantity (e.g. "4 liter", "1 st")'}},required:["name"]}},{name:"registerPurchase",description:"Mark a shopping item as purchased and record the actual cost. Finds item by name.",parameters:{type:Ce.OBJECT,properties:{itemNameKeywords:{type:Ce.STRING,description:'Keywords to find the shopping item (e.g. "motorolja")'},actualCost:{type:Ce.NUMBER,description:"The actual price paid in SEK"},store:{type:Ce.STRING,description:'Where it was bought (e.g. "Biltema")'},date:{type:Ce.STRING,description:"Date of purchase (YYYY-MM-DD)"}},required:["itemNameKeywords","actualCost"]}},{name:"updateShoppingItem",description:"Update details of a shopping item (rename, change quantity, change category, change cost).",parameters:{type:Ce.OBJECT,properties:{itemNameKeywords:{type:Ce.STRING,description:"Keywords to find the item"},newName:{type:Ce.STRING,description:"New name (optional)"},newQuantity:{type:Ce.STRING,description:"New quantity (optional)"},newCategory:{type:Ce.STRING,description:"New category (optional)"},newCost:{type:Ce.NUMBER,description:"New estimated cost (optional)"}},required:["itemNameKeywords"]}},{name:"deleteShoppingItem",description:"Permanently remove an item from the shopping list.",parameters:{type:Ce.OBJECT,properties:{itemNameKeywords:{type:Ce.STRING,description:"Keywords to find the item to delete"}},required:["itemNameKeywords"]}},{name:"createKnowledgeArticle",description:"Save important information, guides, or report summaries into the Knowledge Base (Kunskapsbank).",parameters:{type:Ce.OBJECT,properties:{title:{type:Ce.STRING,description:"Title of the article"},summary:{type:Ce.STRING,description:"Short summary"},content:{type:Ce.STRING,description:"Full content in Markdown format"},tags:{type:Ce.ARRAY,items:{type:Ce.STRING},description:"Tags like Motor, El, Guide"}},required:["title","content"]}}],iz=[{googleSearch:{}},{functionDeclarations:B0e}],j0e=(t,e)=>{let n=`

=== 3. AKTUELL PROJEKTSTATUS (DATA) ===
`;return Array.from(new Set(t.map(i=>i.phase))).forEach(i=>{const a=t.filter(s=>s.phase===i);a.length>0&&(n+=`
--- ${i.toUpperCase()} ---
`,a.forEach(s=>{const u=s.status===bt.DONE?"":s.status===bt.IN_PROGRESS?"":"";n+=`${u} UPPGIFT: ${s.title} (ID: ${s.id})
`,n+=`   Status: ${s.status} | Prio: ${s.priority||"Normal"}
`,n+=`   Beskrivning: ${s.description}
`,n+=`   Ekonomi: Estimat ${s.estimatedCostMin}-${s.estimatedCostMax} kr | Spenderat ${s.actualCost} kr
`,n+=`
`}))}),n},q0e=t=>{let e=`

=== 2. KUNSKAPSBANK & RAPPORTER (FAKTA) ===
`;return F1.forEach(n=>{e+=`>>> ARTIKEL: ${n.title} (ID: ${n.id}) <<<
`,e+=`Sammanfattning: ${n.summary}
`,e+=`INNEHLL:
${n.content}
`,e+=`--------------------------------------------------
`}),e},H0e=async(t,e,n,r,i,a,s)=>{var h,p,g,v,T;const u=h0(),c="gemini-2.0-flash",d=`SYSTEM: ${$s.chatPersona}
    
    ${$s.baseSystemPrompt}

    

=== 1. FORDONSDATA (SPECIFIKATIONER) ===
    ${JSON.stringify(n,null,2)}`+q0e()+j0e(r)+`

=== INSTRUKTIONER ===
    Anvnd verktygen fr att ndra i databasen. Sk p Google fr priser.`;try{const S=u.chats.create({model:c,config:{systemInstruction:d,tools:iz},history:t.map(I=>({role:I.role,parts:[{text:I.content}]}))}),A=await S.sendMessageStream({message:e});for await(const I of A){const V=I;V.text&&a(V.text);const N=(T=(v=(g=(p=(h=V.candidates)==null?void 0:h[0])==null?void 0:p.content)==null?void 0:g.parts)==null?void 0:v.filter(B=>B.functionCall))==null?void 0:T.map(B=>B.functionCall);if(N&&N.length>0){const B=await s(N),q=await S.sendMessageStream({message:B.map(L=>({functionResponse:{name:L.name,response:{result:L.result}}}))});for await(const L of q){const D=L;D.text&&a(D.text)}}}}catch(S){console.error("Gemini Error:",S),a(`
 Kunde inte n AI-mekanikern just nu.`)}},G0e=async(t,e,n)=>{const r=h0(),i="gemini-2.0-flash",a=[];e?(a.push({inlineData:{mimeType:"image/jpeg",data:e}}),a.push({text:"Analysera denna bild. Identifiera uppgifter och inkpsbehov."})):a.push({text:`Analysera fljande:

${t}`});const s={type:Ce.OBJECT,properties:{tasks:{type:Ce.ARRAY,items:{type:Ce.OBJECT,properties:{title:{type:Ce.STRING},description:{type:Ce.STRING},estimatedCostMin:{type:Ce.NUMBER},estimatedCostMax:{type:Ce.NUMBER},weightKg:{type:Ce.NUMBER},costType:{type:Ce.STRING,enum:[ru.INVESTMENT,ru.OPERATION]},phase:{type:Ce.STRING,enum:rz},priority:{type:Ce.STRING,enum:Object.values(Ba)},subtasks:{type:Ce.ARRAY,items:{type:Ce.OBJECT,properties:{title:{type:Ce.STRING}}}},tags:{type:Ce.ARRAY,items:{type:Ce.STRING}}},required:["title","description","estimatedCostMin","phase"]}},shoppingItems:{type:Ce.ARRAY,items:{type:Ce.OBJECT,properties:{name:{type:Ce.STRING},category:{type:Ce.STRING,enum:["Reservdelar","Kemi & Frg","Verktyg","Inredning","vrigt"]},estimatedCost:{type:Ce.NUMBER},quantity:{type:Ce.STRING}},required:["name","estimatedCost"]}}}};try{const c=(await r.models.generateContent({model:i,contents:{parts:a},config:{responseMimeType:"application/json",responseSchema:s,systemInstruction:"Du r en expert p att strukturera projektdata."}})).text;if(!c)return{tasks:[],shoppingItems:[]};const d=JSON.parse(c);return{tasks:d.tasks||[],shoppingItems:d.shoppingItems||[]}}catch(u){return console.error("Gemini Parse Error:",u),{tasks:[],shoppingItems:[]}}},$0e=async t=>{const e=h0(),n="gemini-2.0-flash";try{let i=(await e.models.generateContent({model:n,contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:t}},{text:$s.iconGeneration.v1}]}})).text||"";return i.includes("<svg")?(i=i.substring(i.indexOf("<svg")),i.includes("</svg>")&&(i=i.substring(0,i.indexOf("</svg>")+6)),btoa(i)):null}catch(r){return console.error("Icon Generation Error:",r),null}},K0e=async(t,e)=>{var i;const n=h0(),r="gemini-2.0-flash";try{console.log(" Agent 1: Detective started...");const s=[{text:$s.agents.detective.text(t,!!e)}];e&&s.push({inlineData:{mimeType:"image/jpeg",data:e}});let c=(await n.models.generateContent({model:r,contents:{parts:s},config:{tools:[{googleSearch:{}}]}})).text||"{}";c.includes("```json")&&(c=c.split("```json")[1].split("```")[0].trim());const d=JSON.parse(c);console.log(" Detective found:",d.projectName),console.log(" Agent 2: Planner started...");const h=$s.agents.planner.text(JSON.stringify(d.vehicleData));let g=(await n.models.generateContent({model:r,contents:{parts:[{text:h}]},config:{tools:[{googleSearch:{}}]}})).text||"{}";g.includes("```json")&&(g=g.split("```json")[1].split("```")[0].trim());const v=JSON.parse(g);return console.log(" Planner created tasks:",(i=v.initialTasks)==null?void 0:i.length),{projectName:d.projectName,vehicleData:d.vehicleData,initialTasks:v.initialTasks,analysisReport:v.analysisReport}}catch(a){return console.error("Deep Research Agent Error:",a),{}}},eh=[{id:"dalmal",label:"Dala-Elton (Original)",desc:"Trygg, gubbig & bred Dalml",voiceName:"Fenrir"},{id:"gotlandska",label:"Gotlands-Elton",desc:'Slpig, melodis & "Raukar-lugn"',voiceName:"Charon"},{id:"rikssvenska",label:"Riks-Elton",desc:"Tydlig, modern & neutral",voiceName:"Puck"}];function Y0e(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r}function W0e(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return btoa(e)}const J0e=({onClose:t})=>{const[e,n]=R.useState(!1),[r,i]=R.useState(!0),[a,s]=R.useState(!1),[u,c]=R.useState(0),[d,h]=R.useState("Vrmer upp motorn..."),[p,g]=R.useState(!1),[v,T]=R.useState("dalmal"),[S,A]=R.useState(!1),I=R.useRef(null),V=R.useRef(null),N=R.useRef(null),B=R.useRef(null),q=R.useRef(null),L=R.useRef(0),D=R.useRef(new Set),O=R.useRef(null),U=R.useRef(null),F=R.useRef(null);R.useEffect(()=>{const K=eh.find(ae=>ae.id===v)||eh[0];return H(K,S),()=>X()},[S]);const M=K=>{K!==v&&(T(K),g(!1),z())},z=()=>{X();const K=eh.find(ae=>ae.id===v)||eh[0];h("Startar om..."),setTimeout(()=>H(K,S),500)},H=async(K,ae)=>{try{const me="AIzaSyBcrJ4DDSEQ4rxcnl6KdPC4b4Q3KFdJ6d0",Y=new nz({apiKey:me});N.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const W=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0});U.current=W,I.current&&(I.current.srcObject=W,I.current.play(),I.current.muted=!0);const se=$s.getPersona(K.id),$=ae?$s.getDiagnosticPrompt():"",ee=`${$s.baseSystemPrompt}
      
      === LIVE MODE INSTRUCTIONS ===
      ${se}
      ${$}
      
      Allmnna regler:
      1. Svara kortfattat (max 2-3 meningar), det r ett samtal.
      2. Du ser vad anvndaren ser om kameran r p.
      `,ge=Y.live.connect({model:"gemini-2.0-flash-exp",config:{responseModalities:[Fh.AUDIO],systemInstruction:ee,speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:K.voiceName}}},tools:iz},callbacks:{onopen:()=>{console.log("Connected to Elton Live"),n(!0),h(ae?"Lyssnar p motorn...":`Ansluten! Pratar ${K.label}.`),de(W,ge)},onmessage:async _e=>{te(_e)},onclose:()=>{console.log("Disconnected"),n(!1)},onerror:_e=>{console.error("Live Error",_e),h("Motorstopp (Fel i anslutningen)")}}});F.current=ge}catch(me){console.error("Failed to start session:",me),h("Kunde inte starta. Kolla behrigheter.")}},de=(K,ae)=>{if(!N.current)return;const me=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),Y=me.createMediaStreamSource(K),W=me.createScriptProcessor(4096,1,1);W.onaudioprocess=se=>{if(!r)return;const $=se.inputBuffer.getChannelData(0);let ee=0;for(let Se=0;Se<$.length;Se++)ee+=$[Se]*$[Se];c(Math.sqrt(ee/$.length));const ge=new Int16Array($.length);for(let Se=0;Se<$.length;Se++){const He=Math.max(-1,Math.min(1,$[Se]));ge[Se]=He<0?He*32768:He*32767}const _e=W0e(ge.buffer);ae.then(Se=>{Se.sendRealtimeInput({media:{mimeType:"audio/pcm;rate=16000",data:_e}})})},Y.connect(W),W.connect(me.destination),B.current=Y,q.current=W},te=async K=>{var me,Y,W,se,$;const ae=($=(se=(W=(Y=(me=K.serverContent)==null?void 0:me.modelTurn)==null?void 0:Y.parts)==null?void 0:W[0])==null?void 0:se.inlineData)==null?void 0:$.data;if(ae&&N.current){const ee=N.current,ge=Y0e(ae),_e=new Float32Array(ge.length/2),Se=new DataView(ge.buffer);for(let Ee=0;Ee<_e.length;Ee++){const zt=Se.getInt16(Ee*2,!0);_e[Ee]=zt/32768}const He=ee.createBuffer(1,_e.length,24e3);He.getChannelData(0).set(_e);const fe=ee.createBufferSource();fe.buffer=He,fe.connect(ee.destination);const Ve=ee.currentTime,Ge=Math.max(Ve,L.current);fe.start(Ge),L.current=Ge+He.duration,D.current.add(fe),fe.onended=()=>D.current.delete(fe)}};R.useEffect(()=>(a&&e?O.current=window.setInterval(()=>{if(!V.current||!I.current)return;const K=V.current.getContext("2d");if(K&&I.current.videoWidth){V.current.width=I.current.videoWidth/4,V.current.height=I.current.videoHeight/4,K.drawImage(I.current,0,0,V.current.width,V.current.height);const ae=V.current.toDataURL("image/jpeg",.5).split(",")[1];F.current&&F.current.then(me=>{me.sendRealtimeInput({media:{mimeType:"image/jpeg",data:ae}})})}},1e3):O.current&&clearInterval(O.current),()=>{O.current&&clearInterval(O.current)}),[a,e]);const X=()=>{U.current&&U.current.getTracks().forEach(K=>K.stop()),q.current&&q.current.disconnect(),B.current&&B.current.disconnect(),N.current&&N.current.close(),n(!1)};return w.jsxs("div",{className:"fixed inset-0 z-50 bg-nordic-charcoal flex flex-col animate-fade-in font-sans",children:[w.jsx("canvas",{ref:V,className:"hidden"}),w.jsxs("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center",children:[a?w.jsx("video",{ref:I,className:"absolute inset-0 w-full h-full object-cover opacity-80",muted:!0,playsInline:!0}):w.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-nordic-charcoal to-black flex items-center justify-center",children:w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"w-40 h-40 bg-teal-600 rounded-full blur-[50px] transition-all duration-100 ease-out absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",style:{transform:`translate(-50%, -50%) scale(${1+u*3})`}}),w.jsx("div",{className:`w-32 h-32 bg-nordic-dark-surface rounded-full flex items-center justify-center relative z-10 border-4 ${S?"border-amber-500":"border-nordic-charcoal"} shadow-2xl`,children:S?w.jsx(LM,{size:48,className:"text-amber-500 animate-pulse"}):w.jsx(oae,{size:48,className:`text-teal-500 ${e?"animate-pulse":""}`})})]})}),w.jsx("div",{className:"absolute top-10 left-0 right-0 flex justify-center z-10",children:w.jsxs("div",{className:"bg-black/40 backdrop-blur-md px-4 py-2 rounded-full flex items-center gap-2 border border-white/10 shadow-lg",children:[e?w.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}):w.jsx(Sd,{size:14,className:"text-amber-500 animate-spin"}),w.jsx("span",{className:"text-white text-xs font-medium tracking-wide",children:d})]})}),p&&w.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-20 flex items-center justify-center p-6",children:w.jsxs("div",{className:"bg-nordic-dark-surface w-full max-w-sm rounded-3xl border border-nordic-charcoal p-6 shadow-2xl",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h3",{className:"text-white font-serif font-bold text-xl",children:"Vlj Dialekt"}),w.jsx("button",{onClick:()=>g(!1),className:"p-2 bg-nordic-charcoal rounded-full text-slate-400 hover:text-white",children:w.jsx(i0,{size:20})})]}),w.jsx("div",{className:"space-y-3",children:eh.map(K=>w.jsxs("button",{onClick:()=>M(K.id),className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all ${v===K.id?"bg-teal-600 border-teal-500 text-white":"bg-nordic-charcoal border-transparent text-slate-300 hover:bg-slate-800"}`,children:[w.jsxs("div",{className:"text-left",children:[w.jsx("span",{className:"block font-bold text-sm",children:K.label}),w.jsx("span",{className:"block text-xs opacity-70",children:K.desc})]}),v===K.id&&w.jsx(r0,{size:18})]},K.id))})]})})]}),w.jsxs("div",{className:"bg-nordic-dark-surface p-8 pb-12 border-t border-nordic-charcoal relative z-10",children:[w.jsxs("div",{className:"flex items-center justify-center gap-6 max-w-md mx-auto",children:[w.jsx("button",{onClick:()=>A(!S),className:`p-4 rounded-full transition-all ${S?"bg-amber-500 text-white shadow-lg shadow-amber-500/20":"bg-nordic-charcoal text-slate-400 hover:bg-slate-700"}`,title:"Ljud-Doktorn (Motor-diagnostik)",children:w.jsx(LM,{size:24})}),w.jsx("button",{onClick:()=>s(!a),className:`p-4 rounded-full transition-all ${a?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-white hover:bg-slate-700"}`,children:a?w.jsx(F5,{size:24}):w.jsx(Yoe,{size:24})}),w.jsx("button",{onClick:t,className:"p-6 bg-rose-500 rounded-full text-white hover:bg-rose-600 hover:scale-105 transition-all shadow-lg shadow-rose-500/30",children:w.jsx(Ioe,{size:32})}),w.jsx("button",{onClick:()=>i(!r),className:`p-4 rounded-full transition-all ${r?"bg-white text-nordic-charcoal":"bg-nordic-charcoal text-rose-500 hover:bg-slate-700"}`,children:r?w.jsx(_oe,{size:24}):w.jsx(yoe,{size:24})})]}),w.jsx("button",{onClick:()=>g(!0),className:"absolute right-8 top-1/2 -translate-y-1/2 p-3 text-slate-500 hover:text-white transition-colors",children:w.jsx(L5,{size:20})}),w.jsx("p",{className:"text-center text-slate-500 text-xs mt-6",children:'Elton "ser" via din kamera om du slr p den.'})]})]})},X0e=({vehicleData:t,tasks:e,shoppingItems:n=[],onAddTask:r,onUpdateTask:i,onDeleteTask:a,onAddShoppingItem:s,onUpdateShoppingItem:u,onDeleteShoppingItem:c,onClose:d})=>{const[h,p]=R.useState([]),[g,v]=R.useState(""),[T,S]=R.useState(!1),[A,I]=R.useState(!1),V=R.useRef(null);R.useEffect(()=>{const O=localStorage.getItem(`elton-chat-${t.regNo}`);if(O)try{p(JSON.parse(O))}catch{N()}else N()},[t.regNo]),R.useEffect(()=>{h.length>0&&localStorage.setItem(`elton-chat-${t.regNo}`,JSON.stringify(h))},[h,t.regNo]);const N=()=>{p([{role:"model",content:`Hall dr!  Det r jag som r ${t.model}. Vad ska vi hitta p?`}])},B=()=>{window.confirm("Vill du glmma vr konversation?")&&(localStorage.removeItem(`elton-chat-${t.regNo}`),N())},q=()=>{var O;(O=V.current)==null||O.scrollIntoView({behavior:"smooth"})};R.useEffect(q,[h]);const L=async O=>{if(!O||O.length===0)return[];const U=[];for(const F of O){console.log("Executing tool:",F.name,F.args);try{if(F.name==="addTask"&&r){const M=Array.isArray(F.args.tasks)?F.args.tasks:[F.args];r(M),U.push({id:F.id,result:`Added ${M.length} tasks successfully.`})}else if(F.name==="addShoppingItem"&&s){const M=Array.isArray(F.args.items)?F.args.items:[F.args];M.forEach(z=>s(z)),U.push({id:F.id,result:`Added ${M.length} shopping items.`})}else if(F.name==="updateTaskStatus"&&i){const M=e.find(z=>z.id===F.args.taskId||z.title.toLowerCase().includes(F.args.taskId.toLowerCase()));M?(i({...M,status:F.args.status}),U.push({id:F.id,result:`Updated task "${M.title}" to ${F.args.status}.`})):U.push({id:F.id,result:"Task not found."})}else U.push({id:F.id,result:"Tool not implemented or supported in this context."})}catch(M){console.error("Tool execution failed:",M),U.push({id:F.id,result:"Error executing tool."})}}return U},D=async()=>{if(!g.trim()||T)return;const O=g;v(""),p(F=>[...F,{role:"user",content:O}]),S(!0);let U="";p(F=>[...F,{role:"model",content:""}]),await H0e(h,O,t,e,n,F=>{U+=F,p(M=>{const z=[...M];return z[z.length-1].content=U,z})},L),S(!1)};return A?w.jsx(J0e,{onClose:()=>I(!1)}):w.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] bg-white dark:bg-nordic-dark-surface rounded-2xl border border-slate-200 dark:border-nordic-dark-bg shadow-sm overflow-hidden animate-fade-in",children:[w.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-4 border-b border-slate-100 dark:border-nordic-dark-bg flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[d&&w.jsx("button",{onClick:d,className:"p-2 -ml-2 text-slate-500 hover:bg-black/5 rounded-full md:hidden",children:w.jsx(Hy,{size:20})}),w.jsx("div",{className:"p-2 bg-white dark:bg-nordic-dark-bg rounded-lg shadow-sm text-teal-600",children:w.jsx(Ww,{size:24})}),w.jsxs("div",{children:[w.jsxs("h3",{className:"font-serif font-semibold text-nordic-charcoal dark:text-nordic-ice",children:[t.make," ",t.model]}),w.jsx("p",{className:"text-xs text-slate-500 dark:text-nordic-dark-muted",children:t.year})]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:()=>I(!0),className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 transition-colors shadow-sm animate-pulse",children:[w.jsx(F5,{size:18}),w.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Ring upp"})]}),w.jsx("button",{onClick:B,className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",title:"Rensa historik",children:w.jsx(Bc,{size:18})})]})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-nordic-dark-bg/50",children:[h.map((O,U)=>w.jsx("div",{className:`flex w-full ${O.role==="user"?"justify-end":"justify-start"}`,children:w.jsxs("div",{className:`flex max-w-[85%] ${O.role==="user"?"flex-row-reverse":"flex-row"} items-end gap-2`,children:[w.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 border border-white/20 shadow-sm ${O.role==="user"?"bg-nordic-charcoal text-white":"bg-nordic-beige text-amber-900"}`,children:O.role==="user"?w.jsx(V5,{size:14}):w.jsx(Ww,{size:16})}),w.jsx("div",{className:`p-3.5 rounded-2xl text-sm leading-relaxed shadow-sm ${O.role==="user"?"bg-nordic-charcoal dark:bg-teal-600 text-white rounded-br-none":"bg-white dark:bg-nordic-dark-surface text-slate-700 dark:text-nordic-dark-text border border-slate-100 dark:border-nordic-charcoal rounded-bl-none"}`,children:O.role==="user"?w.jsx("p",{children:O.content}):w.jsx(EF,{className:"prose prose-sm dark:prose-invert max-w-none prose-p:my-1 prose-headings:my-2 prose-ul:my-1 prose-li:my-0",components:{h1:({node:F,...M})=>w.jsx("h1",{className:"text-base font-bold text-nordic-charcoal dark:text-nordic-ice mt-2",...M}),h2:({node:F,...M})=>w.jsx("h2",{className:"text-sm font-bold text-teal-600 dark:text-teal-400 mt-2 uppercase tracking-wide",...M}),h3:({node:F,...M})=>w.jsx("h3",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 mt-2",...M}),ul:({node:F,...M})=>w.jsx("ul",{className:"list-disc list-outside ml-4 space-y-1 my-2",...M}),ol:({node:F,...M})=>w.jsx("ol",{className:"list-decimal list-outside ml-4 space-y-1 my-2",...M}),li:({node:F,...M})=>w.jsx("li",{className:"pl-1 marker:text-teal-500",...M}),strong:({node:F,...M})=>w.jsx("strong",{className:"font-bold text-nordic-charcoal dark:text-white",...M}),a:({node:F,...M})=>w.jsx("a",{className:"text-teal-600 hover:underline cursor-pointer font-medium",target:"_blank",...M}),blockquote:({node:F,...M})=>w.jsx("blockquote",{className:"border-l-4 border-teal-200 pl-3 italic text-slate-500 my-2",...M})},children:O.content})})]})},U)),w.jsx("div",{ref:V})]}),w.jsx("div",{className:"p-4 bg-white dark:bg-nordic-dark-surface border-t border-slate-100 dark:border-nordic-dark-bg",children:w.jsxs("div",{className:"flex space-x-2 relative",children:[w.jsx("input",{type:"text",value:g,onChange:O=>v(O.target.value),onKeyDown:O=>O.key==="Enter"&&D(),placeholder:"Sg ngot...",className:"flex-1 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal text-slate-700 dark:text-nordic-ice text-sm rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all placeholder:text-slate-400",disabled:T}),w.jsx("button",{onClick:D,disabled:!g.trim()||T,className:"bg-nordic-charcoal dark:bg-teal-600 hover:bg-slate-800 dark:hover:bg-teal-700 disabled:bg-slate-300 dark:disabled:bg-nordic-charcoal text-white p-3 rounded-xl transition-colors shadow-sm",children:w.jsx(O5,{size:18})})]})})]})},Q0e=({onAddTasks:t,onClose:e})=>{const[n,r]=R.useState(""),[i,a]=R.useState(!1),[s,u]=R.useState([]),[c,d]=R.useState(null),h=v=>{var S;const T=(S=v.target.files)==null?void 0:S[0];if(T){const A=new FileReader;A.onloadend=()=>{d(A.result)},A.readAsDataURL(T)}},p=async()=>{if(!n&&!c)return;a(!0);const v=c?c.split(",")[1]:void 0,{tasks:T}=await G0e(n,v);u(T),a(!1)},g=()=>{t(s),u([]),r(""),d(null),e()};return w.jsxs("div",{className:"bg-white rounded-3xl border border-nordic-slate/10 shadow-xl overflow-hidden animate-fade-in relative",children:[w.jsxs("div",{className:"bg-gradient-to-r from-nordic-ice to-white p-6 border-b border-nordic-slate/10 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm text-teal-600",children:w.jsx(zc,{size:24})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-serif font-bold text-nordic-charcoal",children:"The Magic Import"}),w.jsx("p",{className:"text-sm text-nordic-slate",children:"Klistra in anteckningar eller ladda upp kvitton"})]})]}),w.jsx("button",{onClick:e,className:"p-2 -mr-2 text-nordic-slate hover:bg-black/5 rounded-full transition-colors",children:w.jsx(i0,{size:24})})]}),w.jsx("div",{className:"p-6 space-y-6",children:s.length===0?w.jsxs("div",{className:"space-y-4",children:[w.jsx("textarea",{className:"w-full p-4 rounded-xl bg-nordic-ice/30 border border-nordic-slate/20 focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all min-h-[150px] placeholder:text-nordic-slate/50",placeholder:"Ex: Behver kpa 4st Nokian dck, kostar ca 5000kr. Mste ocks fixa rost i balken (akut!)...",value:n,onChange:v=>r(v.target.value)}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer px-4 py-2 rounded-xl hover:bg-nordic-ice transition-colors text-nordic-slate text-sm font-medium",children:[w.jsx(w1,{size:18}),w.jsx("span",{children:"Ladda upp bild"}),w.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:h})]}),c&&w.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Bild vald "})]}),w.jsx("button",{onClick:p,disabled:i||!n&&!c,className:"w-full py-4 bg-nordic-charcoal text-white rounded-xl font-medium hover:bg-slate-800 transition-all disabled:opacity-50 flex items-center justify-center space-x-2",children:i?w.jsxs(w.Fragment,{children:[w.jsx(Sd,{size:20,className:"animate-spin"}),w.jsx("span",{children:"AI Analyserar..."})]}):w.jsxs(w.Fragment,{children:[w.jsx(zc,{size:18}),w.jsx("span",{children:"Skapa Uppgifter"})]})})]}):w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"font-medium text-nordic-slate",children:"Frslag p uppgifter:"}),w.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:s.map((v,T)=>w.jsxs("div",{className:"p-4 rounded-xl border border-nordic-slate/10 bg-white shadow-sm flex items-start gap-4",children:[w.jsx("div",{className:`p-2 rounded-lg mt-1 shrink-0 ${v.costType==="Investering"?"bg-nordic-green":"bg-nordic-pink"}`,children:v.costType==="Investering"?"INV":"DRIFT"}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h4",{className:"font-bold text-nordic-charcoal",children:v.title}),w.jsx("p",{className:"text-sm text-nordic-slate mb-2",children:v.description}),w.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[w.jsx("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:v.phase}),w.jsxs("span",{className:"bg-nordic-ice px-2 py-1 rounded-md text-slate-600",children:[v.estimatedCostMin,"-",v.estimatedCostMax," kr"]}),v.weightKg>0&&w.jsxs("span",{className:"bg-amber-50 text-amber-700 px-2 py-1 rounded-md",children:[v.weightKg," kg"]})]})]})]},T))}),w.jsxs("div",{className:"flex space-x-3 pt-4",children:[w.jsx("button",{onClick:()=>u([]),className:"flex-1 py-3 px-4 rounded-xl border border-nordic-slate/20 text-nordic-slate hover:bg-slate-50 font-medium",children:"Avbryt"}),w.jsxs("button",{onClick:g,className:"flex-1 py-3 px-4 rounded-xl bg-nordic-charcoal text-white hover:bg-slate-800 font-medium flex items-center justify-center space-x-2 shadow-lg shadow-slate-200",children:[w.jsx(Fc,{size:18}),w.jsx("span",{children:"Lgg till allt"})]})]})]})})]})},Z0e=({vehicleData:t,tasks:e=[],serviceLog:n=[],fuelLog:r=[],onAddService:i,onAddFuel:a,onUpdateSpecs:s})=>{const[u,c]=R.useState("overview"),[d,h]=R.useState(!1),[p,g]=R.useState({description:"",date:"",mileage:"",performer:"",type:"Service"}),[v,T]=R.useState({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0}),[S,A]=R.useState({}),I=()=>{A({load:t.weights.load,curb:t.weights.curb,total:t.weights.total,trailer:t.weights.trailer,length:t.dimensions.length,width:t.dimensions.width,power:t.engine.power,fuel:t.engine.fuel,gearbox:t.gearbox,tires:t.wheels.tiresFront,mileage:t.inspection.mileage}),h(!0)},V=()=>{s&&(s({weights:{...t.weights,load:Number(S.load),curb:Number(S.curb),total:Number(S.total),trailer:Number(S.trailer)},dimensions:{...t.dimensions,length:Number(S.length),width:Number(S.width)},engine:{...t.engine,power:S.power,fuel:S.fuel},gearbox:S.gearbox,wheels:{...t.wheels,tiresFront:S.tires,tiresRear:S.tires},inspection:{...t.inspection,mileage:S.mileage}}),h(!1))},N=()=>{!p.description||!i||(i({id:Math.random().toString(36).substr(2,9),...p,type:p.type}),g({description:"",date:"",mileage:"",performer:"",type:"Service"}))},B=()=>{if(!v.liters||!a)return;const M=parseFloat(v.liters),z=parseFloat(v.pricePerLiter);a({id:Math.random().toString(36).substr(2,9),date:v.date||new Date().toISOString().split("T")[0],mileage:parseInt(v.mileage)||0,liters:M,pricePerLiter:z,totalCost:M*z,fullTank:v.full}),T({date:"",mileage:"",liters:"",pricePerLiter:"",full:!0})},q=e.reduce((M,z)=>M+(z.weightKg||0),0),L=t.weights.load,D=L-q,O=Math.min(q/L*100,100),U=({title:M,icon:z,children:H,warning:de,onEdit:te})=>w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-3xl p-6 border border-nordic-ice dark:border-nordic-dark-bg shadow-sm h-full relative group",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"p-2 bg-nordic-ice dark:bg-nordic-charcoal rounded-xl text-nordic-charcoal dark:text-nordic-ice",children:w.jsx(z,{size:20})}),w.jsx("h3",{className:"font-serif font-bold text-lg text-nordic-charcoal dark:text-nordic-ice",children:M})]}),w.jsxs("div",{className:"flex gap-2",children:[de&&w.jsx(qoe,{size:18,className:"text-amber-500"}),te&&!d&&w.jsx("button",{onClick:te,className:"p-1 text-slate-300 hover:text-teal-600 opacity-0 group-hover:opacity-100 transition-all",children:w.jsx(Aoe,{size:16})})]})]}),w.jsx("div",{className:"space-y-3",children:H})]}),F=({label:M,value:z,highlight:H=!1,editKey:de})=>w.jsxs("div",{className:`flex justify-between items-center py-2 border-b border-slate-50 dark:border-nordic-charcoal last:border-0 ${H?"bg-teal-50/50 dark:bg-teal-900/20 -mx-2 px-2 rounded-lg":""}`,children:[w.jsx("span",{className:"text-sm text-slate-500 dark:text-nordic-dark-muted font-medium",children:M}),d&&de?w.jsx("input",{className:"text-sm font-bold text-right bg-white dark:bg-black/20 border border-slate-200 dark:border-nordic-charcoal rounded px-2 py-1 w-24",value:S[de],onChange:te=>A({...S,[de]:te.target.value})}):w.jsx("span",{className:`text-sm font-bold text-right ${H?"text-teal-700 dark:text-teal-400":"text-nordic-charcoal dark:text-nordic-ice"}`,children:z})]});return w.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in",children:[w.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide bg-white dark:bg-nordic-dark-surface p-2 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg sticky top-0 z-20 shadow-sm",children:[w.jsx("button",{onClick:()=>c("overview"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${u==="overview"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Garage & Data"}),w.jsx("button",{onClick:()=>c("service"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${u==="service"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Servicebok"}),w.jsx("button",{onClick:()=>c("fuel"),className:`flex-1 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap ${u==="fuel"?"bg-nordic-charcoal text-white dark:bg-teal-600":"text-slate-500 hover:bg-slate-50 dark:hover:bg-nordic-charcoal"}`,children:"Brnsle"})]}),u==="overview"&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("div",{children:[w.jsxs("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal dark:text-nordic-ice flex items-center gap-2",children:[w.jsx(DM,{className:"text-teal-600"})," Viktkalkylator"]}),w.jsx("p",{className:"text-slate-500 dark:text-nordic-dark-muted",children:"Hll koll p lastvikten."})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-slate-400",children:"Kvar att lasta"}),w.jsxs("p",{className:`text-3xl font-mono font-bold ${D<100?"text-rose-500":"text-teal-600"}`,children:[D," kg"]})]})]}),w.jsx("div",{className:"relative h-6 bg-slate-100 dark:bg-nordic-dark-bg rounded-full overflow-hidden mb-2",children:w.jsx("div",{className:`h-full transition-all duration-1000 ${O>90?"bg-rose-500":O>75?"bg-amber-400":"bg-teal-500"}`,style:{width:`${O}%`}})}),w.jsxs("div",{className:"flex justify-between text-xs font-mono text-slate-400",children:[w.jsx("span",{children:"0 kg"}),w.jsxs("span",{children:["Tjnstevikt: ",t.weights.curb," kg"]}),w.jsxs("span",{children:["Maxlast: ",t.weights.load," kg"]})]})]}),d&&w.jsxs("div",{className:"flex justify-end gap-2",children:[w.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-slate-500 hover:bg-white rounded-xl",children:"Avbryt"}),w.jsx("button",{onClick:V,className:"px-6 py-2 bg-teal-600 text-white rounded-xl font-bold shadow-lg hover:bg-teal-700",children:"Spara ndringar"})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[w.jsxs(U,{title:"Last & Mtt",icon:DM,onEdit:I,children:[w.jsx(F,{label:"Max Lastvikt",value:`${t.weights.load} kg`,highlight:!0,editKey:"load"}),w.jsx(F,{label:"Tjnstevikt",value:`${t.weights.curb} kg`,editKey:"curb"}),w.jsx(F,{label:"Totalvikt",value:`${t.weights.total} kg`,editKey:"total"}),w.jsx(F,{label:"Max Slpvagn",value:`${t.weights.trailer} kg`,editKey:"trailer"}),w.jsx("div",{className:"pt-2"}),w.jsx(F,{label:"Lngd",value:`${t.dimensions.length} mm`,editKey:"length"}),w.jsx(F,{label:"Bredd",value:`${t.dimensions.width} mm`,editKey:"width"})]}),w.jsxs(U,{title:"Drivlina & Hjul",icon:L5,onEdit:I,children:[w.jsx(F,{label:"Motor",value:t.engine.power,highlight:!0,editKey:"power"}),w.jsx(F,{label:"Brnsle",value:t.engine.fuel,editKey:"fuel"}),w.jsx(F,{label:"Vxellda",value:t.gearbox,editKey:"gearbox"}),w.jsx("div",{className:"pt-2"}),w.jsx(F,{label:"Dck",value:t.wheels.tiresFront,editKey:"tires"})]}),w.jsxs(U,{title:"Historik & Status",icon:E1,warning:!0,onEdit:I,children:[w.jsx(F,{label:"Mtarstllning",value:t.inspection.mileage,highlight:!0,editKey:"mileage"}),w.jsx(F,{label:"Senast Besiktigad",value:t.inspection.last}),w.jsx(F,{label:"Antal gare",value:t.history.owners}),w.jsx(F,{label:"Frsta Trafik",value:t.regDate})]})]})]}),u==="service"&&w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[w.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[w.jsx(Fc,{size:20})," Ny Servicehndelse"]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Beskrivning (t.ex. Oljebyte)",value:p.description,onChange:M=>g({...p,description:M.target.value})}),w.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Utfrare (t.ex. Mekonomen / Jag)",value:p.performer,onChange:M=>g({...p,performer:M.target.value})}),w.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:p.date,onChange:M=>g({...p,date:M.target.value})}),w.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtarstllning (mil)",value:p.mileage,onChange:M=>g({...p,mileage:M.target.value})})]}),w.jsx("button",{onClick:N,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara till Serviceboken"})]}),w.jsxs("div",{className:"space-y-4",children:[n.length===0&&w.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga poster n."}),n.map((M,z)=>w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:M.description}),w.jsxs("p",{className:"text-xs text-slate-500",children:[M.date,"  ",M.mileage]})]}),w.jsx("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 text-xs font-bold rounded-lg",children:M.performer})]},z))]})]}),u==="fuel"&&w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-6 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg",children:[w.jsxs("h3",{className:"font-bold text-lg text-nordic-charcoal dark:text-nordic-ice mb-4 flex items-center gap-2",children:[w.jsx(Wae,{size:20})," Logga Tankning"]}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[w.jsx("input",{type:"date",className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",value:v.date,onChange:M=>T({...v,date:M.target.value})}),w.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Liter",type:"number",value:v.liters,onChange:M=>T({...v,liters:M.target.value})}),w.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Pris/L",type:"number",value:v.pricePerLiter,onChange:M=>T({...v,pricePerLiter:M.target.value})}),w.jsx("input",{className:"p-3 bg-slate-50 dark:bg-nordic-dark-bg rounded-xl border border-slate-200 dark:border-nordic-charcoal",placeholder:"Mtare (mil)",type:"number",value:v.mileage,onChange:M=>T({...v,mileage:M.target.value})})]}),w.jsx("button",{onClick:B,className:"mt-4 w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white font-bold rounded-xl hover:bg-slate-800 dark:hover:bg-teal-700",children:"Spara Tankning"})]}),w.jsxs("div",{className:"space-y-4",children:[r.length===0&&w.jsx("p",{className:"text-center text-slate-400 py-8",children:"Inga tankningar loggade."}),r.map((M,z)=>w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-slate-100 dark:border-nordic-dark-bg flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsxs("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice",children:[M.liters," liter"]}),w.jsxs("p",{className:"text-xs text-slate-500",children:[M.date,"  ",M.mileage," mil"]})]}),w.jsxs("div",{className:"text-right",children:[w.jsxs("p",{className:"font-mono font-bold text-teal-600",children:[Math.round(M.totalCost)," kr"]}),w.jsxs("p",{className:"text-xs text-slate-400",children:[M.pricePerLiter," kr/l"]})]})]},z))]})]})]})},e_e=({items:t,tasks:e=[],onToggle:n,onAdd:r,onUpdate:i,onDelete:a,onUploadReceipt:s})=>{const[u,c]=R.useState(""),[d,h]=R.useState(""),[p,g]=R.useState("Reservdelar"),[v,T]=R.useState("ALL"),[S,A]=R.useState(null),[I,V]=R.useState(!1),[N,B]=R.useState(""),[q,L]=R.useState(""),[D,O]=R.useState(""),[U,F]=R.useState(""),M=X=>{var K;A(X),B(((K=X.actualCost)==null?void 0:K.toString())||""),L(X.url||""),O(X.store||""),F(X.linkedTaskId||"")},z=()=>{S&&(i({...S,actualCost:parseInt(N)||void 0,url:q,store:D,linkedTaskId:U,checked:parseInt(N)>0?!0:S.checked}),A(null))},H=async X=>{var ae;const K=(ae=X.target.files)==null?void 0:ae[0];if(K&&S){V(!0);try{await s(S.id,K),A(null)}catch(me){console.error("Upload failed",me)}finally{V(!1)}}},de=["Reservdelar","Kemi & Frg","Verktyg","Inredning","vrigt"];t.reduce((X,K)=>X+(K.checked?0:K.estimatedCost),0),t.reduce((X,K)=>X+(K.actualCost||0),0);const te=v==="ALL"?de:[v];return w.jsxs("div",{className:"space-y-6 pb-20 animate-fade-in relative",children:[w.jsx("div",{className:"bg-gradient-to-r from-nordic-ice to-white dark:from-nordic-charcoal dark:to-nordic-dark-surface p-8 rounded-3xl border border-nordic-ice dark:border-nordic-dark-bg shadow-sm"}),w.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide"}),w.jsx("div",{className:"bg-white dark:bg-nordic-dark-surface p-4 rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg flex flex-col md:flex-row gap-3 shadow-sm"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:te.map(X=>{const K=t.filter(ae=>ae.category===X);return K.length===0?null:w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface rounded-2xl border border-nordic-ice dark:border-nordic-dark-bg overflow-hidden animate-fade-in",children:[w.jsxs("div",{className:"bg-nordic-ice/50 dark:bg-nordic-charcoal/50 p-4 border-b border-nordic-ice dark:border-nordic-dark-bg flex justify-between items-center",children:[w.jsx("h4",{className:"font-bold text-nordic-charcoal dark:text-nordic-ice text-sm uppercase tracking-wider",children:X}),w.jsxs("span",{className:"text-xs text-slate-400 bg-white dark:bg-nordic-dark-bg px-2 py-1 rounded-md",children:[K.length," st"]})]}),w.jsx("div",{className:"divide-y divide-slate-50 dark:divide-nordic-charcoal",children:K.map(ae=>w.jsx("div",{className:`p-4 flex items-center gap-3 transition-all hover:bg-slate-50 dark:hover:bg-nordic-charcoal/30 cursor-pointer group ${ae.checked?"bg-slate-50/50 dark:bg-black/20":""}`,onClick:()=>M(ae)},ae.id))})]},X)})}),S&&w.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-white dark:bg-nordic-dark-surface w-full max-w-md rounded-3xl shadow-xl overflow-hidden animate-fade-in",children:[w.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-nordic-dark-bg flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-serif font-bold text-xl text-nordic-charcoal dark:text-nordic-ice",children:S.name}),w.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wider",children:S.category})]}),w.jsx("button",{onClick:()=>A(null),className:"p-2 hover:bg-slate-100 dark:hover:bg-nordic-charcoal rounded-full",children:w.jsx(i0,{size:20,className:"text-slate-500"})})]}),w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold text-slate-500 block mb-2",children:"Kvitto"}),S.receiptUrl?w.jsxs("div",{className:"relative rounded-xl overflow-hidden border border-slate-200 dark:border-nordic-charcoal",children:[w.jsx("a",{href:S.receiptUrl,target:"_blank",rel:"noreferrer",children:w.jsx("img",{src:S.receiptUrl,alt:"Kvitto",className:"w-full h-48 object-cover"})}),w.jsx("button",{onClick:()=>i({...S,receiptUrl:void 0}),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md text-rose-500",children:w.jsx(Bc,{size:16})})]}):w.jsx("label",{className:`border-2 border-dashed border-slate-200 dark:border-nordic-charcoal rounded-xl p-6 flex flex-col items-center justify-center text-slate-400 transition-colors ${I?"bg-slate-100":"hover:bg-slate-50 dark:hover:bg-nordic-dark-bg cursor-pointer"}`,children:I?w.jsxs(w.Fragment,{children:[w.jsx(Sd,{className:"animate-spin text-teal-500",size:24}),w.jsx("span",{className:"text-sm mt-2",children:"Laddar upp..."})]}):w.jsxs(w.Fragment,{children:[w.jsx(w1,{size:24,className:"mb-2"}),w.jsx("span",{className:"text-sm",children:"Ladda upp bild"}),w.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:H,disabled:I})]})})]}),w.jsxs("button",{onClick:z,className:"w-full py-3 bg-nordic-charcoal dark:bg-teal-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-slate-800 dark:hover:bg-teal-700",children:[w.jsx(D5,{size:18})," Spara ndringar"]})]})]})}),t.length===0&&w.jsx("div",{className:"text-center py-20",children:w.jsx("p",{className:"text-slate-400",children:"Listan r tom."})})]})},t_e=()=>{};var tL={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},n_e=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],u=t[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},oz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=a>>2,p=(a&3)<<4|u>>4;let g=(u&15)<<2|d>>6,v=d&63;c||(v=64,s||(g=64)),r.push(n[h],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(az(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):n_e(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||d==null||p==null)throw new r_e;const g=a<<2|u>>4;if(r.push(g),d!==64){const v=u<<4&240|d>>2;if(r.push(v),p!==64){const T=d<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class r_e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i_e=function(t){const e=az(t);return oz.encodeByteArray(e,!0)},Xy=function(t){return i_e(t).replace(/\./g,"")},sz=function(t){try{return oz.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_e=()=>a_e().__FIREBASE_DEFAULTS__,s_e=()=>{if(typeof process>"u"||typeof tL>"u")return;const t=tL.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l_e=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sz(t[1]);return e&&JSON.parse(e)},p0=()=>{try{return t_e()||o_e()||s_e()||l_e()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lz=t=>{var e,n;return(n=(e=p0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},uz=t=>{const e=lz(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cz=()=>{var t;return(t=p0())==null?void 0:t.config},dz=t=>{var e;return(e=p0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Y1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Xy(JSON.stringify(n)),Xy(JSON.stringify(s)),""].join(".")}const gh={};function c_e(){const t={prod:[],emulator:[]};for(const e of Object.keys(gh))gh[e]?t.emulator.push(e):t.prod.push(e);return t}function d_e(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let nL=!1;function W1(t,e){if(typeof window>"u"||typeof document>"u"||!ml(window.location.host)||gh[t]===e||gh[t]||nL)return;gh[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=c_e().prod.length>0;function s(){const g=document.getElementById(r);g&&g.remove()}function u(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{nL=!0,s()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=d_e(r),v=n("text"),T=document.getElementById(v)||document.createElement("span"),S=n("learnmore"),A=document.getElementById(S)||document.createElement("a"),I=n("preprendIcon"),V=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const N=g.element;u(N),h(A,S);const B=d();c(V,I),N.append(V,T,A,B),document.body.appendChild(N)}a?(T.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f_e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vr())}function h_e(){var e;const t=(e=p0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p_e(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m_e(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g_e(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y_e(){const t=vr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v_e(){return!h_e()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function __e(){try{return typeof indexedDB=="object"}catch{return!1}}function b_e(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_e="FirebaseError";class no extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=x_e,Object.setPrototypeOf(this,no.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xp.prototype.create)}}class xp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?E_e(a,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new no(i,u,r)}}function E_e(t,e){return t.replace(w_e,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const w_e=/\{\$([^}]+)}/g;function T_e(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(rL(a)&&rL(s)){if(!gu(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rL(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ih(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function ah(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function S_e(t,e){const n=new A_e(t,e);return n.subscribe.bind(n)}class A_e{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");C_e(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=DE),i.error===void 0&&(i.error=DE),i.complete===void 0&&(i.complete=DE);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C_e(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function DE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class nl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_e{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new u_e;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N_e(e))try{this.getOrInitializeService({instanceIdentifier:Ql})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ql){return this.instances.has(e)}getOptions(e=Ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k_e(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ql){return this.component?this.component.multipleInstances?e:Ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k_e(t){return t===Ql?void 0:t}function N_e(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new I_e(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const P_e={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},M_e=ot.INFO,D_e={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},O_e=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=D_e[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class J1{constructor(e){this.name=e,this._logLevel=M_e,this._logHandler=O_e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P_e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const L_e=(t,e)=>e.some(n=>t instanceof n);let iL,aL;function U_e(){return iL||(iL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V_e(){return aL||(aL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hz=new WeakMap,vT=new WeakMap,pz=new WeakMap,OE=new WeakMap,X1=new WeakMap;function F_e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Ks(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&hz.set(n,t)}).catch(()=>{}),X1.set(e,t),e}function z_e(t){if(vT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});vT.set(t,e)}let _T={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pz.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B_e(t){_T=t(_T)}function j_e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(LE(this),e,...n);return pz.set(r,e.sort?e.sort():[e]),Ks(r)}:V_e().includes(t)?function(...e){return t.apply(LE(this),e),Ks(hz.get(this))}:function(...e){return Ks(t.apply(LE(this),e))}}function q_e(t){return typeof t=="function"?j_e(t):(t instanceof IDBTransaction&&z_e(t),L_e(t,U_e())?new Proxy(t,_T):t)}function Ks(t){if(t instanceof IDBRequest)return F_e(t);if(OE.has(t))return OE.get(t);const e=q_e(t);return e!==t&&(OE.set(t,e),X1.set(e,t)),e}const LE=t=>X1.get(t);function H_e(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),u=Ks(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ks(s.result),c.oldVersion,c.newVersion,Ks(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const G_e=["get","getKey","getAll","getAllKeys","count"],$_e=["put","add","delete","clear"],UE=new Map;function oL(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(UE.get(e))return UE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$_e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||G_e.includes(n)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&c.done]))[0]};return UE.set(e,a),a}B_e(t=>({...t,get:(e,n,r)=>oL(e,n)||t.get(e,n,r),has:(e,n)=>!!oL(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y_e(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Y_e(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bT="@firebase/app",sL="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new J1("@firebase/app"),W_e="@firebase/app-compat",J_e="@firebase/analytics-compat",X_e="@firebase/analytics",Q_e="@firebase/app-check-compat",Z_e="@firebase/app-check",ebe="@firebase/auth",tbe="@firebase/auth-compat",nbe="@firebase/database",rbe="@firebase/data-connect",ibe="@firebase/database-compat",abe="@firebase/functions",obe="@firebase/functions-compat",sbe="@firebase/installations",lbe="@firebase/installations-compat",ube="@firebase/messaging",cbe="@firebase/messaging-compat",dbe="@firebase/performance",fbe="@firebase/performance-compat",hbe="@firebase/remote-config",pbe="@firebase/remote-config-compat",mbe="@firebase/storage",gbe="@firebase/storage-compat",ybe="@firebase/firestore",vbe="@firebase/ai",_be="@firebase/firestore-compat",bbe="firebase",xbe="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="[DEFAULT]",Ebe={[bT]:"fire-core",[W_e]:"fire-core-compat",[X_e]:"fire-analytics",[J_e]:"fire-analytics-compat",[Z_e]:"fire-app-check",[Q_e]:"fire-app-check-compat",[ebe]:"fire-auth",[tbe]:"fire-auth-compat",[nbe]:"fire-rtdb",[rbe]:"fire-data-connect",[ibe]:"fire-rtdb-compat",[abe]:"fire-fn",[obe]:"fire-fn-compat",[sbe]:"fire-iid",[lbe]:"fire-iid-compat",[ube]:"fire-fcm",[cbe]:"fire-fcm-compat",[dbe]:"fire-perf",[fbe]:"fire-perf-compat",[hbe]:"fire-rc",[pbe]:"fire-rc-compat",[mbe]:"fire-gcs",[gbe]:"fire-gcs-compat",[ybe]:"fire-fst",[_be]:"fire-fst-compat",[vbe]:"fire-vertex","fire-js":"fire-js",[bbe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=new Map,wbe=new Map,ET=new Map;function lL(t,e){try{t.container.addComponent(e)}catch(n){jo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yu(t){const e=t.name;if(ET.has(e))return jo.debug(`There were multiple attempts to register component ${e}.`),!1;ET.set(e,t);for(const n of Qy.values())lL(n,t);for(const n of wbe.values())lL(n,t);return!0}function m0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tbe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new xp("app","Firebase",Tbe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sbe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=xbe;function mz(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:xT,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ys.create("bad-app-name",{appName:String(i)});if(n||(n=cz()),!n)throw Ys.create("no-options");const a=Qy.get(i);if(a){if(gu(n,a.options)&&gu(r,a.config))return a;throw Ys.create("duplicate-app",{appName:i})}const s=new R_e(i);for(const c of ET.values())s.addComponent(c);const u=new Sbe(n,r,s);return Qy.set(i,u),u}function Q1(t=xT){const e=Qy.get(t);if(!e&&t===xT&&cz())return mz();if(!e)throw Ys.create("no-app",{appName:t});return e}function qa(t,e,n){let r=Ebe[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jo.warn(s.join(" "));return}yu(new nl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Abe="firebase-heartbeat-database",Cbe=1,zh="firebase-heartbeat-store";let VE=null;function gz(){return VE||(VE=H_e(Abe,Cbe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ys.create("idb-open",{originalErrorMessage:t.message})})),VE}async function Ibe(t){try{const n=(await gz()).transaction(zh),r=await n.objectStore(zh).get(yz(t));return await n.done,r}catch(e){if(e instanceof no)jo.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jo.warn(n.message)}}}async function uL(t,e){try{const r=(await gz()).transaction(zh,"readwrite");await r.objectStore(zh).put(e,yz(t)),await r.done}catch(n){if(n instanceof no)jo.warn(n.message);else{const r=Ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jo.warn(r.message)}}}function yz(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kbe=1024,Nbe=30;class Rbe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Mbe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=cL();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Nbe){const s=Dbe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){jo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cL(),{heartbeatsToSend:r,unsentEntries:i}=Pbe(this._heartbeatsCache.heartbeats),a=Xy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return jo.warn(n),""}}}function cL(){return new Date().toISOString().substring(0,10)}function Pbe(t,e=kbe){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),dL(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Mbe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return __e()?b_e().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ibe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uL(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uL(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function dL(t){return Xy(JSON.stringify({version:2,heartbeats:t})).length}function Dbe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Obe(t){yu(new nl("platform-logger",e=>new K_e(e),"PRIVATE")),yu(new nl("heartbeat",e=>new Rbe(e),"PRIVATE")),qa(bT,sL,t),qa(bT,sL,"esm2020"),qa("fire-js","")}Obe("");function vz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lbe=vz,_z=new xp("auth","Firebase",vz());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=new J1("@firebase/auth");function Ube(t,...e){Zy.logLevel<=ot.WARN&&Zy.warn(`Auth (${ku}): ${t}`,...e)}function Gg(t,...e){Zy.logLevel<=ot.ERROR&&Zy.error(`Auth (${ku}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t,...e){throw Z1(t,...e)}function Ha(t,...e){return Z1(t,...e)}function bz(t,e,n){const r={...Lbe(),[e]:n};return new xp("auth","Firebase",r).create(e,{appName:t.name})}function Ga(t){return bz(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _z.create(t,...e)}function Oe(t,e,...n){if(!t)throw Z1(e,...n)}function ko(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gg(e),new Error(e)}function qo(t,e){t||ko(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Vbe(){return fL()==="http:"||fL()==="https:"}function fL(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fbe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vbe()||m_e()||"connection"in navigator)?navigator.onLine:!0}function zbe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.shortDelay=e,this.longDelay=n,qo(n>e,"Short delay should be less than long delay!"),this.isMobile=f_e()||g_e()}get(){return Fbe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t,e){qo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bbe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jbe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qbe=new wp(3e4,6e4);function es(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ts(t,e,n,r,i={}){return Ez(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const u=Ep({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...a};return p_e()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&ml(t.emulatorConfig.host)&&(d.credentials="include"),xz.fetch()(await wz(t,t.config.apiHost,n,u),d)})}async function Ez(t,e,n){t._canInitEmulator=!1;const r={...Bbe,...e};try{const i=new Gbe(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw kg(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw kg(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw kg(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw kg(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw bz(t,h,d);oa(t,h)}}catch(i){if(i instanceof no)throw i;oa(t,"network-request-failed",{message:String(i)})}}async function Tp(t,e,n,r,i={}){const a=await ts(t,e,n,r,i);return"mfaPendingCredential"in a&&oa(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function wz(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?eA(t.config,i):`${t.config.apiScheme}://${i}`;return jbe.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function Hbe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gbe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ha(this.auth,"network-request-failed")),qbe.get())})}}function kg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ha(t,e,r);return i.customData._tokenResponse=n,i}function hL(t){return t!==void 0&&t.enterprise!==void 0}class $be{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Hbe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kbe(t,e){return ts(t,"GET","/v2/recaptchaConfig",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ybe(t,e){return ts(t,"POST","/v1/accounts:delete",e)}async function tv(t,e){return ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Wbe(t,e=!1){const n=$t(t),r=await n.getIdToken(e),i=tA(r);Oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:yh(FE(i.auth_time)),issuedAtTime:yh(FE(i.iat)),expirationTime:yh(FE(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function FE(t){return Number(t)*1e3}function tA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gg("JWT malformed, contained fewer than 3 sections"),null;try{const i=sz(n);return i?JSON.parse(i):(Gg("Failed to decode base64 JWT payload"),null)}catch(i){return Gg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pL(t){const e=tA(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof no&&Jbe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Jbe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xbe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yh(this.lastLoginAt),this.creationTime=yh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nv(t){var p;const e=t.auth,n=await t.getIdToken(),r=await Bh(t,tv(e,{idToken:n}));Oe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(p=i.providerUserInfo)!=null&&p.length?Tz(i.providerUserInfo):[],s=Zbe(t.providerData,a),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),d=u?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wT(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Qbe(t){const e=$t(t);await nv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zbe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Tz(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function exe(t,e){const n=await Ez(t,{},async()=>{const r=Ep({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await wz(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&ml(t.emulatorConfig.host)&&(c.credentials="include"),xz.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function txe(t,e){return ts(t,"POST","/v2/accounts:revokeToken",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=pL(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await exe(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Yc;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Oe(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yc,this.toJSON())}_performRefresh(){return ko("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class na{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Xbe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Bh(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Wbe(this,e)}reload(){return Qbe(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new na({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vr(this.auth.app))return Promise.reject(Ga(this.auth));const e=await this.getIdToken();return await Bh(this,Ybe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:v,providerData:T,stsTokenManager:S}=n;Oe(p&&S,e,"internal-error");const A=Yc.fromJSON(this.name,S);Oe(typeof p=="string",e,"internal-error"),Os(r,e.name),Os(i,e.name),Oe(typeof g=="boolean",e,"internal-error"),Oe(typeof v=="boolean",e,"internal-error"),Os(a,e.name),Os(s,e.name),Os(u,e.name),Os(c,e.name),Os(d,e.name),Os(h,e.name);const I=new na({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:v,photoURL:s,phoneNumber:a,tenantId:u,stsTokenManager:A,createdAt:d,lastLoginAt:h});return T&&Array.isArray(T)&&(I.providerData=T.map(V=>({...V}))),c&&(I._redirectEventId=c),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Yc;i.updateFromServerResponse(n);const a=new na({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nv(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Oe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Tz(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Yc;u.updateFromIdToken(r);const c=new na({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new wT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=new Map;function No(t){qo(t instanceof Function,"Expected a class definition");let e=mL.get(t);return e?(qo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mL.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Sz.type="NONE";const gL=Sz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t,e,n){return`firebase:${t}:${e}:${n}`}class Wc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=$g(this.userKey,i.apiKey,a),this.fullPersistenceKey=$g("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tv(this.auth,{idToken:e}).catch(()=>{});return n?na._fromGetAccountInfoResponse(this.auth,n,e):null}return na._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wc(No(gL),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||No(gL);const s=$g(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const h=await d._get(s);if(h){let p;if(typeof h=="string"){const g=await tv(e,{idToken:h}).catch(()=>{});if(!g)break;p=await na._fromGetAccountInfoResponse(e,g,h)}else p=na._fromJSON(e,h);d!==a&&(u=p),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Wc(a,e,r):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(s)}catch{}})),new Wc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Az(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rz(e))return"Blackberry";if(Pz(e))return"Webos";if(Cz(e))return"Safari";if((e.includes("chrome/")||Iz(e))&&!e.includes("edge/"))return"Chrome";if(Nz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Az(t=vr()){return/firefox\//i.test(t)}function Cz(t=vr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Iz(t=vr()){return/crios\//i.test(t)}function kz(t=vr()){return/iemobile/i.test(t)}function Nz(t=vr()){return/android/i.test(t)}function Rz(t=vr()){return/blackberry/i.test(t)}function Pz(t=vr()){return/webos/i.test(t)}function nA(t=vr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nxe(t=vr()){var e;return nA(t)&&!!((e=window.navigator)!=null&&e.standalone)}function rxe(){return y_e()&&document.documentMode===10}function Mz(t=vr()){return nA(t)||Nz(t)||Pz(t)||Rz(t)||/windows phone/i.test(t)||kz(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(t,e=[]){let n;switch(t){case"Browser":n=yL(vr());break;case"Worker":n=`${yL(vr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ku}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ixe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function axe(t,e={}){return ts(t,"GET","/v2/passwordPolicy",es(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oxe=6;class sxe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oxe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lxe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vL(this),this.idTokenSubscription=new vL(this),this.beforeStateQueue=new ixe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_z,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=No(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Wc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tv(this,{idToken:e}),r=await na._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Vr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zbe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vr(this.app))return Promise.reject(Ga(this));const n=e?$t(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vr(this.app)?Promise.reject(Ga(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vr(this.app)?Promise.reject(Ga(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(No(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await axe(this),n=new sxe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await txe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&No(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await Wc.create(this,[No(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Ube(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function gl(t){return $t(t)}class vL{constructor(e){this.auth=e,this.observer=null,this.addObserver=S_e(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uxe(t){g0=t}function Oz(t){return g0.loadJS(t)}function cxe(){return g0.recaptchaEnterpriseScript}function dxe(){return g0.gapiScript}function fxe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class hxe{constructor(){this.enterprise=new pxe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pxe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mxe="recaptcha-enterprise",Lz="NO_RECAPTCHA";class gxe{constructor(e){this.type=mxe,this.auth=gl(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,u)=>{Kbe(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new $be(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,s(d.siteKey)}}).catch(c=>{u(c)})})}function i(a,s,u){const c=window.grecaptcha;hL(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{s(d)}).catch(()=>{s(Lz)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hxe().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(u=>{if(!n&&hL(window.grecaptcha))i(u,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=cxe();c.length!==0&&(c+=u),Oz(c).then(()=>{i(u,a,s)}).catch(d=>{s(d)})}}).catch(u=>{s(u)})})}}async function _L(t,e,n,r=!1,i=!1){const a=new gxe(t);let s;if(i)s=Lz;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function rv(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await _L(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await _L(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yxe(t,e){const n=m0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(gu(a,e??{}))return i;oa(i,"already-initialized")}return n.initialize({options:e})}function vxe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(No);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _xe(t,e,n){const r=gl(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=Uz(e),{host:s,port:u}=bxe(e),c=u===null?"":`:${u}`,d={url:`${a}//${s}${c}/`},h=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(gu(d,r.config.emulator)&&gu(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ml(s)?(Y1(`${a}//${s}${c}`),W1("Auth",!0)):xxe()}function Uz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bxe(t){const e=Uz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:bL(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:bL(s)}}}function bL(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xxe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ko("not implemented")}_getIdTokenResponse(e){return ko("not implemented")}_linkToIdToken(e,n){return ko("not implemented")}_getReauthenticationResolver(e){return ko("not implemented")}}async function Exe(t,e){return ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wxe(t,e){return Tp(t,"POST","/v1/accounts:signInWithPassword",es(t,e))}async function Txe(t,e){return ts(t,"POST","/v1/accounts:sendOobCode",es(t,e))}async function Sxe(t,e){return Txe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Axe(t,e){return Tp(t,"POST","/v1/accounts:signInWithEmailLink",es(t,e))}async function Cxe(t,e){return Tp(t,"POST","/v1/accounts:signInWithEmailLink",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends rA{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new jh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new jh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rv(e,n,"signInWithPassword",wxe);case"emailLink":return Axe(e,{email:this._email,oobCode:this._password});default:oa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rv(e,r,"signUpPassword",Exe);case"emailLink":return Cxe(e,{idToken:n,email:this._email,oobCode:this._password});default:oa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(t,e){return Tp(t,"POST","/v1/accounts:signInWithIdp",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ixe="http://localhost";class vu extends rA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new vu(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Jc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Jc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Jc(e,n)}buildRequest(){const e={requestUri:Ixe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ep(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kxe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nxe(t){const e=ih(ah(t)).link,n=e?ih(ah(e)).deep_link_id:null,r=ih(ah(t)).deep_link_id;return(r?ih(ah(r)).link:null)||r||n||e||t}class y0{constructor(e){const n=ih(ah(e)),r=n.apiKey??null,i=n.oobCode??null,a=kxe(n.mode??null);Oe(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Nxe(e);try{return new y0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.providerId=Nu.PROVIDER_ID}static credential(e,n){return jh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=y0.parseLink(n);return Oe(r,"argument-error"),jh._fromEmailAndCode(e,r.code,r.tenantId)}}Nu.PROVIDER_ID="password";Nu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends Vz{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Sp{constructor(){super("facebook.com")}static credential(e){return vu._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Sp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vu._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zs.credential(n,r)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Sp{constructor(){super("github.com")}static credential(e){return vu._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Sp{constructor(){super("twitter.com")}static credential(e,n){return vu._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return js.credential(n,r)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rxe(t,e){return Tp(t,"POST","/v1/accounts:signUp",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await na._fromIdTokenResponse(e,r,i),s=xL(r);return new _u({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xL(r);return new _u({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv extends no{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,iv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new iv(e,n,r,i)}}function Fz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?iv._fromErrorAndOperation(t,a,e,r):a})}async function Pxe(t,e,n=!1){const r=await Bh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _u._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mxe(t,e,n=!1){const{auth:r}=t;if(Vr(r.app))return Promise.reject(Ga(r));const i="reauthenticate";try{const a=await Bh(t,Fz(r,i,e,t),n);Oe(a.idToken,r,"internal-error");const s=tA(a.idToken);Oe(s,r,"internal-error");const{sub:u}=s;return Oe(t.uid===u,r,"user-mismatch"),_u._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&oa(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zz(t,e,n=!1){if(Vr(t.app))return Promise.reject(Ga(t));const r="signIn",i=await Fz(t,r,e),a=await _u._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Bz(t,e){return zz(gl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dxe(t,e,n){var r;Oe(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),Oe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Oe(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Oe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Oe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jz(t){const e=gl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Oxe(t,e,n){if(Vr(t.app))return Promise.reject(Ga(t));const r=gl(t),s=await rv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Rxe).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&jz(t),c}),u=await _u._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(u.user),u}function Lxe(t,e,n){return Vr(t.app)?Promise.reject(Ga(t)):Bz($t(t),Nu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jz(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uxe(t,e,n){const r=gl(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(s,u){Oe(u.handleCodeInApp,r,"argument-error"),u&&Dxe(r,s,u)}a(i,n),await rv(r,i,"getOobCode",Sxe)}function Vxe(t,e){const n=y0.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Fxe(t,e,n){if(Vr(t.app))return Promise.reject(Ga(t));const r=$t(t),i=Nu.credentialWithLink(e,n||ev());return Oe(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Bz(r,i)}function zxe(t,e,n,r){return $t(t).onIdTokenChanged(e,n,r)}function Bxe(t,e,n){return $t(t).beforeAuthStateChanged(e,n)}function jxe(t,e,n,r){return $t(t).onAuthStateChanged(e,n,r)}function qxe(t){return $t(t).signOut()}const av="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(av,"1"),this.storage.removeItem(av),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hxe=1e3,Gxe=10;class Hz extends qz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Mz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);rxe()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Gxe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Hxe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hz.type="LOCAL";const $xe=Hz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz extends qz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Gz.type="SESSION";const $z=Gz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kxe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new v0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async d=>d(n.origin,a)),c=await Kxe(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}v0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yxe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const d=iA("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(g.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(){return window}function Wxe(t){$a().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(){return typeof $a().WorkerGlobalScope<"u"&&typeof $a().importScripts=="function"}async function Jxe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xxe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Qxe(){return Kz()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz="firebaseLocalStorageDb",Zxe=1,ov="firebaseLocalStorage",Wz="fbase_key";class Ap{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _0(t,e){return t.transaction([ov],e?"readwrite":"readonly").objectStore(ov)}function eEe(){const t=indexedDB.deleteDatabase(Yz);return new Ap(t).toPromise()}function TT(){const t=indexedDB.open(Yz,Zxe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ov,{keyPath:Wz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ov)?e(r):(r.close(),await eEe(),e(await TT()))})})}async function EL(t,e,n){const r=_0(t,!0).put({[Wz]:e,value:n});return new Ap(r).toPromise()}async function tEe(t,e){const n=_0(t,!1).get(e),r=await new Ap(n).toPromise();return r===void 0?null:r.value}function wL(t,e){const n=_0(t,!0).delete(e);return new Ap(n).toPromise()}const nEe=800,rEe=3;class Jz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await TT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rEe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=v0._getInstance(Qxe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Jxe(),!this.activeServiceWorker)return;this.sender=new Yxe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xxe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await TT();return await EL(e,av,"1"),await wL(e,av),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>EL(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tEe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wL(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=_0(i,!1).getAll();return new Ap(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nEe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Jz.type="LOCAL";const iEe=Jz;new wp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aEe(t,e){return e?No(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA extends rA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oEe(t){return zz(t.auth,new aA(t),t.bypassAuthState)}function sEe(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),Mxe(n,new aA(t),t.bypassAuthState)}async function lEe(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),Pxe(n,new aA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oEe;case"linkViaPopup":case"linkViaRedirect":return lEe;case"reauthViaPopup":case"reauthViaRedirect":return sEe;default:oa(this.auth,"internal-error")}}resolve(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uEe=new wp(2e3,1e4);class Lc extends Xz{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Lc.currentPopupAction&&Lc.currentPopupAction.cancel(),Lc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){qo(this.filter.length===1,"Popup operations only handle one event");const e=iA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ha(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ha(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ha(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uEe.get())};e()}}Lc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cEe="pendingRedirect",Kg=new Map;class dEe extends Xz{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kg.get(this.auth._key());if(!e){try{const r=await fEe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kg.set(this.auth._key(),e)}return this.bypassAuthState||Kg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fEe(t,e){const n=mEe(e),r=pEe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function hEe(t,e){Kg.set(t._key(),e)}function pEe(t){return No(t._redirectPersistence)}function mEe(t){return $g(cEe,t.config.apiKey,t.name)}async function gEe(t,e,n=!1){if(Vr(t.app))return Promise.reject(Ga(t));const r=gl(t),i=aEe(r,e),s=await new dEe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yEe=600*1e3;class vEe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_Ee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Qz(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ha(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yEe&&this.cachedEventUids.clear(),this.cachedEventUids.has(TL(e))}saveEventToCache(e){this.cachedEventUids.add(TL(e)),this.lastProcessedEventTime=Date.now()}}function TL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Qz({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _Ee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qz(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bEe(t,e={}){return ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xEe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EEe=/^https?/;async function wEe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bEe(t);for(const n of e)try{if(TEe(n))return}catch{}oa(t,"unauthorized-domain")}function TEe(t){const e=ev(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!EEe.test(n))return!1;if(xEe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SEe=new wp(3e4,6e4);function SL(){const t=$a().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AEe(t){return new Promise((e,n)=>{var i,a,s;function r(){SL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SL(),n(Ha(t,"network-request-failed"))},timeout:SEe.get()})}if((a=(i=$a().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=$a().gapi)!=null&&s.load)r();else{const u=fxe("iframefcb");return $a()[u]=()=>{gapi.load?r():n(Ha(t,"network-request-failed"))},Oz(`${dxe()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Yg=null,e})}let Yg=null;function CEe(t){return Yg=Yg||AEe(t),Yg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IEe=new wp(5e3,15e3),kEe="__/auth/iframe",NEe="emulator/auth/iframe",REe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PEe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MEe(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?eA(e,NEe):`https://${t.config.authDomain}/${kEe}`,r={apiKey:e.apiKey,appName:t.name,v:ku},i=PEe.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Ep(r).slice(1)}`}async function DEe(t){const e=await CEe(t),n=$a().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:MEe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:REe,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Ha(t,"network-request-failed"),u=$a().setTimeout(()=>{a(s)},IEe.get());function c(){$a().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OEe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LEe=500,UEe=600,VEe="_blank",FEe="http://localhost";class AL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zEe(t,e,n,r=LEe,i=UEe){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...OEe,width:r.toString(),height:i.toString(),top:a,left:s},d=vr().toLowerCase();n&&(u=Iz(d)?VEe:n),Az(d)&&(e=e||FEe,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[v,T])=>`${g}${v}=${T},`,"");if(nxe(d)&&u!=="_self")return BEe(e||"",u),new AL(null);const p=window.open(e||"",u,h);Oe(p,t,"popup-blocked");try{p.focus()}catch{}return new AL(p)}function BEe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jEe="__/auth/handler",qEe="emulator/auth/handler",HEe=encodeURIComponent("fac");async function CL(t,e,n,r,i,a){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ku,eventId:i};if(e instanceof Vz){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",T_e(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))s[h]=p}if(e instanceof Sp){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),d=c?`#${HEe}=${encodeURIComponent(c)}`:"";return`${GEe(t)}?${Ep(u).slice(1)}${d}`}function GEe({config:t}){return t.emulator?eA(t,qEe):`https://${t.authDomain}/${jEe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="webStorageSupport";class $Ee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$z,this._completeRedirectFn=gEe,this._overrideRedirectResult=hEe}async _openPopup(e,n,r,i){var s;qo((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await CL(e,n,r,ev(),i);return zEe(e,a,iA())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await CL(e,n,r,ev(),i);return Wxe(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(qo(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DEe(e),r=new vEe(e);return n.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zE,{type:zE},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[zE];a!==void 0&&n(!!a),oa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wEe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Mz()||Cz()||nA()}}const KEe=$Ee;var IL="@firebase/auth",kL="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YEe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WEe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JEe(t){yu(new nl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;Oe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dz(t)},d=new lxe(r,i,a,c);return vxe(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yu(new nl("auth-internal",e=>{const n=gl(e.getProvider("auth").getImmediate());return(r=>new YEe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qa(IL,kL,WEe(t)),qa(IL,kL,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XEe=300,QEe=dz("authIdTokenMaxAge")||XEe;let NL=null;const ZEe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QEe)return;const i=n==null?void 0:n.token;NL!==i&&(NL=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ewe(t=Q1()){const e=m0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yxe(t,{popupRedirectResolver:KEe,persistence:[iEe,$xe,$z]}),r=dz("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=ZEe(a.toString());Bxe(n,s,()=>s(n.currentUser)),zxe(n,u=>s(u))}}const i=lz("auth");return i&&_xe(n,`http://${i}`),n}function twe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}uxe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ha("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",twe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JEe("Browser");var nwe="firebase",rwe="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qa(nwe,rwe,"app");var RL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,Zz;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,O){function U(){}U.prototype=O.prototype,D.F=O.prototype,D.prototype=new U,D.prototype.constructor=D,D.D=function(F,M,z){for(var H=Array(arguments.length-2),de=2;de<arguments.length;de++)H[de-2]=arguments[de];return O.prototype[M].apply(F,H)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,O,U){U||(U=0);const F=Array(16);if(typeof O=="string")for(var M=0;M<16;++M)F[M]=O.charCodeAt(U++)|O.charCodeAt(U++)<<8|O.charCodeAt(U++)<<16|O.charCodeAt(U++)<<24;else for(M=0;M<16;++M)F[M]=O[U++]|O[U++]<<8|O[U++]<<16|O[U++]<<24;O=D.g[0],U=D.g[1],M=D.g[2];let z=D.g[3],H;H=O+(z^U&(M^z))+F[0]+3614090360&4294967295,O=U+(H<<7&4294967295|H>>>25),H=z+(M^O&(U^M))+F[1]+3905402710&4294967295,z=O+(H<<12&4294967295|H>>>20),H=M+(U^z&(O^U))+F[2]+606105819&4294967295,M=z+(H<<17&4294967295|H>>>15),H=U+(O^M&(z^O))+F[3]+3250441966&4294967295,U=M+(H<<22&4294967295|H>>>10),H=O+(z^U&(M^z))+F[4]+4118548399&4294967295,O=U+(H<<7&4294967295|H>>>25),H=z+(M^O&(U^M))+F[5]+1200080426&4294967295,z=O+(H<<12&4294967295|H>>>20),H=M+(U^z&(O^U))+F[6]+2821735955&4294967295,M=z+(H<<17&4294967295|H>>>15),H=U+(O^M&(z^O))+F[7]+4249261313&4294967295,U=M+(H<<22&4294967295|H>>>10),H=O+(z^U&(M^z))+F[8]+1770035416&4294967295,O=U+(H<<7&4294967295|H>>>25),H=z+(M^O&(U^M))+F[9]+2336552879&4294967295,z=O+(H<<12&4294967295|H>>>20),H=M+(U^z&(O^U))+F[10]+4294925233&4294967295,M=z+(H<<17&4294967295|H>>>15),H=U+(O^M&(z^O))+F[11]+2304563134&4294967295,U=M+(H<<22&4294967295|H>>>10),H=O+(z^U&(M^z))+F[12]+1804603682&4294967295,O=U+(H<<7&4294967295|H>>>25),H=z+(M^O&(U^M))+F[13]+4254626195&4294967295,z=O+(H<<12&4294967295|H>>>20),H=M+(U^z&(O^U))+F[14]+2792965006&4294967295,M=z+(H<<17&4294967295|H>>>15),H=U+(O^M&(z^O))+F[15]+1236535329&4294967295,U=M+(H<<22&4294967295|H>>>10),H=O+(M^z&(U^M))+F[1]+4129170786&4294967295,O=U+(H<<5&4294967295|H>>>27),H=z+(U^M&(O^U))+F[6]+3225465664&4294967295,z=O+(H<<9&4294967295|H>>>23),H=M+(O^U&(z^O))+F[11]+643717713&4294967295,M=z+(H<<14&4294967295|H>>>18),H=U+(z^O&(M^z))+F[0]+3921069994&4294967295,U=M+(H<<20&4294967295|H>>>12),H=O+(M^z&(U^M))+F[5]+3593408605&4294967295,O=U+(H<<5&4294967295|H>>>27),H=z+(U^M&(O^U))+F[10]+38016083&4294967295,z=O+(H<<9&4294967295|H>>>23),H=M+(O^U&(z^O))+F[15]+3634488961&4294967295,M=z+(H<<14&4294967295|H>>>18),H=U+(z^O&(M^z))+F[4]+3889429448&4294967295,U=M+(H<<20&4294967295|H>>>12),H=O+(M^z&(U^M))+F[9]+568446438&4294967295,O=U+(H<<5&4294967295|H>>>27),H=z+(U^M&(O^U))+F[14]+3275163606&4294967295,z=O+(H<<9&4294967295|H>>>23),H=M+(O^U&(z^O))+F[3]+4107603335&4294967295,M=z+(H<<14&4294967295|H>>>18),H=U+(z^O&(M^z))+F[8]+1163531501&4294967295,U=M+(H<<20&4294967295|H>>>12),H=O+(M^z&(U^M))+F[13]+2850285829&4294967295,O=U+(H<<5&4294967295|H>>>27),H=z+(U^M&(O^U))+F[2]+4243563512&4294967295,z=O+(H<<9&4294967295|H>>>23),H=M+(O^U&(z^O))+F[7]+1735328473&4294967295,M=z+(H<<14&4294967295|H>>>18),H=U+(z^O&(M^z))+F[12]+2368359562&4294967295,U=M+(H<<20&4294967295|H>>>12),H=O+(U^M^z)+F[5]+4294588738&4294967295,O=U+(H<<4&4294967295|H>>>28),H=z+(O^U^M)+F[8]+2272392833&4294967295,z=O+(H<<11&4294967295|H>>>21),H=M+(z^O^U)+F[11]+1839030562&4294967295,M=z+(H<<16&4294967295|H>>>16),H=U+(M^z^O)+F[14]+4259657740&4294967295,U=M+(H<<23&4294967295|H>>>9),H=O+(U^M^z)+F[1]+2763975236&4294967295,O=U+(H<<4&4294967295|H>>>28),H=z+(O^U^M)+F[4]+1272893353&4294967295,z=O+(H<<11&4294967295|H>>>21),H=M+(z^O^U)+F[7]+4139469664&4294967295,M=z+(H<<16&4294967295|H>>>16),H=U+(M^z^O)+F[10]+3200236656&4294967295,U=M+(H<<23&4294967295|H>>>9),H=O+(U^M^z)+F[13]+681279174&4294967295,O=U+(H<<4&4294967295|H>>>28),H=z+(O^U^M)+F[0]+3936430074&4294967295,z=O+(H<<11&4294967295|H>>>21),H=M+(z^O^U)+F[3]+3572445317&4294967295,M=z+(H<<16&4294967295|H>>>16),H=U+(M^z^O)+F[6]+76029189&4294967295,U=M+(H<<23&4294967295|H>>>9),H=O+(U^M^z)+F[9]+3654602809&4294967295,O=U+(H<<4&4294967295|H>>>28),H=z+(O^U^M)+F[12]+3873151461&4294967295,z=O+(H<<11&4294967295|H>>>21),H=M+(z^O^U)+F[15]+530742520&4294967295,M=z+(H<<16&4294967295|H>>>16),H=U+(M^z^O)+F[2]+3299628645&4294967295,U=M+(H<<23&4294967295|H>>>9),H=O+(M^(U|~z))+F[0]+4096336452&4294967295,O=U+(H<<6&4294967295|H>>>26),H=z+(U^(O|~M))+F[7]+1126891415&4294967295,z=O+(H<<10&4294967295|H>>>22),H=M+(O^(z|~U))+F[14]+2878612391&4294967295,M=z+(H<<15&4294967295|H>>>17),H=U+(z^(M|~O))+F[5]+4237533241&4294967295,U=M+(H<<21&4294967295|H>>>11),H=O+(M^(U|~z))+F[12]+1700485571&4294967295,O=U+(H<<6&4294967295|H>>>26),H=z+(U^(O|~M))+F[3]+2399980690&4294967295,z=O+(H<<10&4294967295|H>>>22),H=M+(O^(z|~U))+F[10]+4293915773&4294967295,M=z+(H<<15&4294967295|H>>>17),H=U+(z^(M|~O))+F[1]+2240044497&4294967295,U=M+(H<<21&4294967295|H>>>11),H=O+(M^(U|~z))+F[8]+1873313359&4294967295,O=U+(H<<6&4294967295|H>>>26),H=z+(U^(O|~M))+F[15]+4264355552&4294967295,z=O+(H<<10&4294967295|H>>>22),H=M+(O^(z|~U))+F[6]+2734768916&4294967295,M=z+(H<<15&4294967295|H>>>17),H=U+(z^(M|~O))+F[13]+1309151649&4294967295,U=M+(H<<21&4294967295|H>>>11),H=O+(M^(U|~z))+F[4]+4149444226&4294967295,O=U+(H<<6&4294967295|H>>>26),H=z+(U^(O|~M))+F[11]+3174756917&4294967295,z=O+(H<<10&4294967295|H>>>22),H=M+(O^(z|~U))+F[2]+718787259&4294967295,M=z+(H<<15&4294967295|H>>>17),H=U+(z^(M|~O))+F[9]+3951481745&4294967295,D.g[0]=D.g[0]+O&4294967295,D.g[1]=D.g[1]+(M+(H<<21&4294967295|H>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.v=function(D,O){O===void 0&&(O=D.length);const U=O-this.blockSize,F=this.C;let M=this.h,z=0;for(;z<O;){if(M==0)for(;z<=U;)i(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<O;)if(F[M++]=D.charCodeAt(z++),M==this.blockSize){i(this,F),M=0;break}}else for(;z<O;)if(F[M++]=D[z++],M==this.blockSize){i(this,F),M=0;break}}this.h=M,this.o+=O},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var O=1;O<D.length-8;++O)D[O]=0;O=this.o*8;for(var U=D.length-8;U<D.length;++U)D[U]=O&255,O/=256;for(this.v(D),D=Array(16),O=0,U=0;U<4;++U)for(let F=0;F<32;F+=8)D[O++]=this.g[U]>>>F&255;return D};function a(D,O){var U=u;return Object.prototype.hasOwnProperty.call(U,D)?U[D]:U[D]=O(D)}function s(D,O){this.h=O;const U=[];let F=!0;for(let M=D.length-1;M>=0;M--){const z=D[M]|0;F&&z==O||(U[M]=z,F=!1)}this.g=U}var u={};function c(D){return-128<=D&&D<128?a(D,function(O){return new s([O|0],O<0?-1:0)}):new s([D|0],D<0?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return p;if(D<0)return A(d(-D));const O=[];let U=1;for(let F=0;D>=U;F++)O[F]=D/U|0,U*=4294967296;return new s(O,0)}function h(D,O){if(D.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(D.charAt(0)=="-")return A(h(D.substring(1),O));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const U=d(Math.pow(O,8));let F=p;for(let z=0;z<D.length;z+=8){var M=Math.min(8,D.length-z);const H=parseInt(D.substring(z,z+M),O);M<8?(M=d(Math.pow(O,M)),F=F.j(M).add(d(H))):(F=F.j(U),F=F.add(d(H)))}return F}var p=c(0),g=c(1),v=c(16777216);t=s.prototype,t.m=function(){if(S(this))return-A(this).m();let D=0,O=1;for(let U=0;U<this.g.length;U++){const F=this.i(U);D+=(F>=0?F:4294967296+F)*O,O*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(T(this))return"0";if(S(this))return"-"+A(this).toString(D);const O=d(Math.pow(D,6));var U=this;let F="";for(;;){const M=B(U,O).g;U=I(U,M.j(O));let z=((U.g.length>0?U.g[0]:U.h)>>>0).toString(D);if(U=M,T(U))return z+F;for(;z.length<6;)z="0"+z;F=z+F}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function T(D){if(D.h!=0)return!1;for(let O=0;O<D.g.length;O++)if(D.g[O]!=0)return!1;return!0}function S(D){return D.h==-1}t.l=function(D){return D=I(this,D),S(D)?-1:T(D)?0:1};function A(D){const O=D.g.length,U=[];for(let F=0;F<O;F++)U[F]=~D.g[F];return new s(U,~D.h).add(g)}t.abs=function(){return S(this)?A(this):this},t.add=function(D){const O=Math.max(this.g.length,D.g.length),U=[];let F=0;for(let M=0;M<=O;M++){let z=F+(this.i(M)&65535)+(D.i(M)&65535),H=(z>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);F=H>>>16,z&=65535,H&=65535,U[M]=H<<16|z}return new s(U,U[U.length-1]&-2147483648?-1:0)};function I(D,O){return D.add(A(O))}t.j=function(D){if(T(this)||T(D))return p;if(S(this))return S(D)?A(this).j(A(D)):A(A(this).j(D));if(S(D))return A(this.j(A(D)));if(this.l(v)<0&&D.l(v)<0)return d(this.m()*D.m());const O=this.g.length+D.g.length,U=[];for(var F=0;F<2*O;F++)U[F]=0;for(F=0;F<this.g.length;F++)for(let M=0;M<D.g.length;M++){const z=this.i(F)>>>16,H=this.i(F)&65535,de=D.i(M)>>>16,te=D.i(M)&65535;U[2*F+2*M]+=H*te,V(U,2*F+2*M),U[2*F+2*M+1]+=z*te,V(U,2*F+2*M+1),U[2*F+2*M+1]+=H*de,V(U,2*F+2*M+1),U[2*F+2*M+2]+=z*de,V(U,2*F+2*M+2)}for(D=0;D<O;D++)U[D]=U[2*D+1]<<16|U[2*D];for(D=O;D<2*O;D++)U[D]=0;return new s(U,0)};function V(D,O){for(;(D[O]&65535)!=D[O];)D[O+1]+=D[O]>>>16,D[O]&=65535,O++}function N(D,O){this.g=D,this.h=O}function B(D,O){if(T(O))throw Error("division by zero");if(T(D))return new N(p,p);if(S(D))return O=B(A(D),O),new N(A(O.g),A(O.h));if(S(O))return O=B(D,A(O)),new N(A(O.g),O.h);if(D.g.length>30){if(S(D)||S(O))throw Error("slowDivide_ only works with positive integers.");for(var U=g,F=O;F.l(D)<=0;)U=q(U),F=q(F);var M=L(U,1),z=L(F,1);for(F=L(F,2),U=L(U,2);!T(F);){var H=z.add(F);H.l(D)<=0&&(M=M.add(U),z=H),F=L(F,1),U=L(U,1)}return O=I(D,M.j(O)),new N(M,O)}for(M=p;D.l(O)>=0;){for(U=Math.max(1,Math.floor(D.m()/O.m())),F=Math.ceil(Math.log(U)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),z=d(U),H=z.j(O);S(H)||H.l(D)>0;)U-=F,z=d(U),H=z.j(O);T(z)&&(z=g),M=M.add(z),D=I(D,H)}return new N(M,D)}t.B=function(D){return B(this,D).h},t.and=function(D){const O=Math.max(this.g.length,D.g.length),U=[];for(let F=0;F<O;F++)U[F]=this.i(F)&D.i(F);return new s(U,this.h&D.h)},t.or=function(D){const O=Math.max(this.g.length,D.g.length),U=[];for(let F=0;F<O;F++)U[F]=this.i(F)|D.i(F);return new s(U,this.h|D.h)},t.xor=function(D){const O=Math.max(this.g.length,D.g.length),U=[];for(let F=0;F<O;F++)U[F]=this.i(F)^D.i(F);return new s(U,this.h^D.h)};function q(D){const O=D.g.length+1,U=[];for(let F=0;F<O;F++)U[F]=D.i(F)<<1|D.i(F-1)>>>31;return new s(U,D.h)}function L(D,O){const U=O>>5;O%=32;const F=D.g.length-U,M=[];for(let z=0;z<F;z++)M[z]=O>0?D.i(z+U)>>>O|D.i(z+U+1)<<32-O:D.i(z+U);return new s(M,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Zz=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=h,Ws=s}).apply(typeof RL<"u"?RL:typeof self<"u"?self:typeof window<"u"?window:{});var Ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eB,oh,tB,Wg,ST,nB,rB,iB;(function(){var t,e=Object.defineProperty;function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ng=="object"&&Ng];for(var C=0;C<b.length;++C){var P=b[C];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(b,C){if(C)e:{var P=r;b=b.split(".");for(var G=0;G<b.length-1;G++){var ne=b[G];if(!(ne in P))break e;P=P[ne]}b=b[b.length-1],G=P[b],C=C(G),C!=G&&C!=null&&e(P,b,{configurable:!0,writable:!0,value:C})}}i("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(b){return b||function(C){var P=[],G;for(G in C)Object.prototype.hasOwnProperty.call(C,G)&&P.push([G,C[G]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function u(b){var C=typeof b;return C=="object"&&b!=null||C=="function"}function c(b,C,P){return b.call.apply(b.bind,arguments)}function d(b,C,P){return d=c,d.apply(null,arguments)}function h(b,C){var P=Array.prototype.slice.call(arguments,1);return function(){var G=P.slice();return G.push.apply(G,arguments),b.apply(this,G)}}function p(b,C){function P(){}P.prototype=C.prototype,b.Z=C.prototype,b.prototype=new P,b.prototype.constructor=b,b.Ob=function(G,ne,le){for(var Ae=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)Ae[Je-2]=arguments[Je];return C.prototype[ne].apply(G,Ae)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function v(b){const C=b.length;if(C>0){const P=Array(C);for(let G=0;G<C;G++)P[G]=b[G];return P}return[]}function T(b,C){for(let G=1;G<arguments.length;G++){const ne=arguments[G];var P=typeof ne;if(P=P!="object"?P:ne?Array.isArray(ne)?"array":P:"null",P=="array"||P=="object"&&typeof ne.length=="number"){P=b.length||0;const le=ne.length||0;b.length=P+le;for(let Ae=0;Ae<le;Ae++)b[P+Ae]=ne[Ae]}else b.push(ne)}}class S{constructor(C,P){this.i=C,this.j=P,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function A(b){s.setTimeout(()=>{throw b},0)}function I(){var b=D;let C=null;return b.g&&(C=b.g,b.g=b.g.next,b.g||(b.h=null),C.next=null),C}class V{constructor(){this.h=this.g=null}add(C,P){const G=N.get();G.set(C,P),this.h?this.h.next=G:this.g=G,this.h=G}}var N=new S(()=>new B,b=>b.reset());class B{constructor(){this.next=this.g=this.h=null}set(C,P){this.h=C,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let q,L=!1,D=new V,O=()=>{const b=Promise.resolve(void 0);q=()=>{b.then(U)}};function U(){for(var b;b=I();){try{b.h.call(b.g)}catch(P){A(P)}var C=N;C.j(b),C.h<100&&(C.h++,b.next=C.g,C.g=b)}L=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(b,C){this.type=b,this.g=this.target=C,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var b=!1,C=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const P=()=>{};s.addEventListener("test",P,C),s.removeEventListener("test",P,C)}catch{}return b})();function H(b){return/^[\s\xa0]*$/.test(b)}function de(b,C){M.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,C)}p(de,M),de.prototype.init=function(b,C){const P=this.type=b.type,G=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=C,C=b.relatedTarget,C||(P=="mouseover"?C=b.fromElement:P=="mouseout"&&(C=b.toElement)),this.relatedTarget=C,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),X=0;function K(b,C,P,G,ne){this.listener=b,this.proxy=null,this.src=C,this.type=P,this.capture=!!G,this.ha=ne,this.key=++X,this.da=this.fa=!1}function ae(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function me(b,C,P){for(const G in b)C.call(P,b[G],G,b)}function Y(b,C){for(const P in b)C.call(void 0,b[P],P,b)}function W(b){const C={};for(const P in b)C[P]=b[P];return C}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(b,C){let P,G;for(let ne=1;ne<arguments.length;ne++){G=arguments[ne];for(P in G)b[P]=G[P];for(let le=0;le<se.length;le++)P=se[le],Object.prototype.hasOwnProperty.call(G,P)&&(b[P]=G[P])}}function ee(b){this.src=b,this.g={},this.h=0}ee.prototype.add=function(b,C,P,G,ne){const le=b.toString();b=this.g[le],b||(b=this.g[le]=[],this.h++);const Ae=_e(b,C,G,ne);return Ae>-1?(C=b[Ae],P||(C.fa=!1)):(C=new K(C,this.src,le,!!G,ne),C.fa=P,b.push(C)),C};function ge(b,C){const P=C.type;if(P in b.g){var G=b.g[P],ne=Array.prototype.indexOf.call(G,C,void 0),le;(le=ne>=0)&&Array.prototype.splice.call(G,ne,1),le&&(ae(C),b.g[P].length==0&&(delete b.g[P],b.h--))}}function _e(b,C,P,G){for(let ne=0;ne<b.length;++ne){const le=b[ne];if(!le.da&&le.listener==C&&le.capture==!!P&&le.ha==G)return ne}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),He={};function fe(b,C,P,G,ne){if(Array.isArray(C)){for(let le=0;le<C.length;le++)fe(b,C[le],P,G,ne);return null}return P=da(P),b&&b[te]?b.J(C,P,u(G)?!!G.capture:!1,ne):Ve(b,C,P,!1,G,ne)}function Ve(b,C,P,G,ne,le){if(!C)throw Error("Invalid event type");const Ae=u(ne)?!!ne.capture:!!ne;let Je=Kt(b);if(Je||(b[Se]=Je=new ee(b)),P=Je.add(C,P,G,Ae,le),P.proxy)return P;if(G=Ge(),P.proxy=G,G.src=b,G.listener=P,b.addEventListener)z||(ne=Ae),ne===void 0&&(ne=!1),b.addEventListener(C.toString(),G,ne);else if(b.attachEvent)b.attachEvent(et(C.toString()),G);else if(b.addListener&&b.removeListener)b.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Ge(){function b(P){return C.call(b.src,b.listener,P)}const C=tn;return b}function Ee(b,C,P,G,ne){if(Array.isArray(C))for(var le=0;le<C.length;le++)Ee(b,C[le],P,G,ne);else G=u(G)?!!G.capture:!!G,P=da(P),b&&b[te]?(b=b.i,le=String(C).toString(),le in b.g&&(C=b.g[le],P=_e(C,P,G,ne),P>-1&&(ae(C[P]),Array.prototype.splice.call(C,P,1),C.length==0&&(delete b.g[le],b.h--)))):b&&(b=Kt(b))&&(C=b.g[C.toString()],b=-1,C&&(b=_e(C,P,G,ne)),(P=b>-1?C[b]:null)&&zt(P))}function zt(b){if(typeof b!="number"&&b&&!b.da){var C=b.src;if(C&&C[te])ge(C.i,b);else{var P=b.type,G=b.proxy;C.removeEventListener?C.removeEventListener(P,G,b.capture):C.detachEvent?C.detachEvent(et(P),G):C.addListener&&C.removeListener&&C.removeListener(G),(P=Kt(C))?(ge(P,b),P.h==0&&(P.src=null,C[Se]=null)):ae(b)}}}function et(b){return b in He?He[b]:He[b]="on"+b}function tn(b,C){if(b.da)b=!0;else{C=new de(C,this);const P=b.listener,G=b.ha||b.src;b.fa&&zt(b),b=P.call(G,C)}return b}function Kt(b){return b=b[Se],b instanceof ee?b:null}var lr="__closure_events_fn_"+(Math.random()*1e9>>>0);function da(b){return typeof b=="function"?b:(b[lr]||(b[lr]=function(C){return b.handleEvent(C)}),b[lr])}function Qt(){F.call(this),this.i=new ee(this),this.M=this,this.G=null}p(Qt,F),Qt.prototype[te]=!0,Qt.prototype.removeEventListener=function(b,C,P,G){Ee(this,b,C,P,G)};function nn(b,C){var P,G=b.G;if(G)for(P=[];G;G=G.G)P.push(G);if(b=b.M,G=C.type||C,typeof C=="string")C=new M(C,b);else if(C instanceof M)C.target=C.target||b;else{var ne=C;C=new M(G,b),$(C,ne)}ne=!0;let le,Ae;if(P)for(Ae=P.length-1;Ae>=0;Ae--)le=C.g=P[Ae],ne=fa(le,G,!0,C)&&ne;if(le=C.g=b,ne=fa(le,G,!0,C)&&ne,ne=fa(le,G,!1,C)&&ne,P)for(Ae=0;Ae<P.length;Ae++)le=C.g=P[Ae],ne=fa(le,G,!1,C)&&ne}Qt.prototype.N=function(){if(Qt.Z.N.call(this),this.i){var b=this.i;for(const C in b.g){const P=b.g[C];for(let G=0;G<P.length;G++)ae(P[G]);delete b.g[C],b.h--}}this.G=null},Qt.prototype.J=function(b,C,P,G){return this.i.add(String(b),C,!1,P,G)},Qt.prototype.K=function(b,C,P,G){return this.i.add(String(b),C,!0,P,G)};function fa(b,C,P,G){if(C=b.i.g[String(C)],!C)return!0;C=C.concat();let ne=!0;for(let le=0;le<C.length;++le){const Ae=C[le];if(Ae&&!Ae.da&&Ae.capture==P){const Je=Ae.listener,un=Ae.ha||Ae.src;Ae.fa&&ge(b.i,Ae),ne=Je.call(un,G)!==!1&&ne}}return ne&&!G.defaultPrevented}function Vd(b,C){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=d(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:s.setTimeout(b,C||0)}function Mu(b){b.g=Vd(()=>{b.g=null,b.i&&(b.i=!1,Mu(b))},b.l);const C=b.h;b.h=null,b.m.apply(null,C)}class Wn extends F{constructor(C,P){super(),this.m=C,this.l=P,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Mu(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ro(b){F.call(this),this.h=b,this.g={}}p(ro,F);var pe=[];function Te(b){me(b.g,function(C,P){this.g.hasOwnProperty(P)&&zt(C)},b),b.g={}}ro.prototype.N=function(){ro.Z.N.call(this),Te(this)},ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ze=s.JSON.stringify,tt=s.JSON.parse,ft=class{stringify(b){return s.JSON.stringify(b,void 0)}parse(b){return s.JSON.parse(b,void 0)}};function ur(){}function fi(){}var ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){M.call(this,"d")}p(Zt,M);function Vn(){M.call(this,"c")}p(Vn,M);var ut={},zi=null;function cr(){return zi=zi||new Qt}ut.Ia="serverreachability";function Vp(b){M.call(this,ut.Ia,b)}p(Vp,M);function ha(b){const C=cr();nn(C,new Vp(C))}ut.STAT_EVENT="statevent";function bl(b,C){M.call(this,ut.STAT_EVENT,b),this.stat=C}p(bl,M);function yn(b){const C=cr();nn(C,new bl(C,b))}ut.Ja="timingevent";function pa(b,C){M.call(this,ut.Ja,b),this.size=C}p(pa,M);function ma(b,C){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){b()},C)}function Bi(){this.g=!0}Bi.prototype.ua=function(){this.g=!1};function U0(b,C,P,G,ne,le){b.info(function(){if(b.g)if(le){var Ae="",Je=le.split("&");for(let yt=0;yt<Je.length;yt++){var un=Je[yt].split("=");if(un.length>1){const Yt=un[0];un=un[1];const gi=Yt.split("_");Ae=gi.length>=2&&gi[1]=="type"?Ae+(Yt+"="+un+"&"):Ae+(Yt+"=redacted&")}}}else Ae=null;else Ae=le;return"XMLHTTP REQ ("+G+") [attempt "+ne+"]: "+C+`
`+P+`
`+Ae})}function Fp(b,C,P,G,ne,le,Ae){b.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ne+"]: "+C+`
`+P+`
`+le+" "+Ae})}function ga(b,C,P,G){b.info(function(){return"XMLHTTP TEXT ("+C+"): "+V0(b,P)+(G?" "+G:"")})}function xl(b,C){b.info(function(){return"TIMEOUT: "+C})}Bi.prototype.info=function(){};function V0(b,C){if(!b.g)return C;if(!C)return null;try{const le=JSON.parse(C);if(le){for(b=0;b<le.length;b++)if(Array.isArray(le[b])){var P=le[b];if(!(P.length<2)){var G=P[1];if(Array.isArray(G)&&!(G.length<1)){var ne=G[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let Ae=1;Ae<G.length;Ae++)G[Ae]=""}}}}return ze(le)}catch{return C}}var El={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zd;function wl(){}p(wl,ur),wl.prototype.g=function(){return new XMLHttpRequest},zd=new wl;function io(b){return encodeURIComponent(String(b))}function zp(b){var C=1;b=b.split(":");const P=[];for(;C>0&&b.length;)P.push(b.shift()),C--;return b.length&&P.push(b.join(":")),P}function ji(b,C,P,G){this.j=b,this.i=C,this.l=P,this.S=G||1,this.V=new ro(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qi}function qi(){this.i=null,this.g="",this.h=!1}var vn={},Fn={};function ya(b,C,P){b.M=1,b.A=Tl(bn(C)),b.u=P,b.R=!0,Du(b,null)}function Du(b,C){b.F=Date.now(),va(b),b.B=bn(b.A);var P=b.B,G=b.S;Array.isArray(G)||(G=[String(G)]),Vu(P.i,"t",G),b.C=0,P=b.j.L,b.h=new qi,b.g=tm(b.j,P?C:null,!b.u),b.P>0&&(b.O=new Wn(d(b.Y,b,b.g),b.P)),C=b.V,P=b.g,G=b.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(pe[0]=ne.toString()),ne=pe);for(let le=0;le<ne.length;le++){const Ae=fe(P,ne[le],G||C.handleEvent,!1,C.h||C);if(!Ae)break;C.g[Ae.key]=Ae}C=b.J?W(b.J):{},b.u?(b.v||(b.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,C)):(b.v="GET",b.g.ea(b.B,b.v,null,C)),ha(),U0(b.i,b.v,b.B,b.l,b.S,b.u)}ji.prototype.ba=function(b){b=b.target;const C=this.O;C&&$i(b)==3?C.j():this.Y(b)},ji.prototype.Y=function(b){try{if(b==this.g)e:{const Je=$i(this.g),un=this.g.ya(),yt=this.g.ca();if(!(Je<3)&&(Je!=3||this.g&&(this.h.h||this.g.la()||Jn(this.g)))){this.K||Je!=4||un==7||(un==8||yt<=0?ha(3):ha(2)),_a(this);var C=this.g.ca();this.X=C;var P=F0(this);if(this.o=C==200,Fp(this.i,this.v,this.B,this.l,this.S,Je,C),this.o){if(this.U&&!this.L){t:{if(this.g){var G,ne=this.g;if((G=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(G)){var le=G;break t}}le=null}if(b=le)ga(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ba(this,b);else{this.o=!1,this.m=3,yn(12),Gr(this),hi(this);break e}}if(this.R){b=!0;let Yt;for(;!this.K&&this.C<P.length;)if(Yt=jp(this,P),Yt==Fn){Je==4&&(this.m=4,yn(14),b=!1),ga(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==vn){this.m=4,yn(15),ga(this.i,this.l,P,"[Invalid Chunk]"),b=!1;break}else ga(this.i,this.l,Yt,null),ba(this,Yt);if(Bp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||P.length!=0||this.h.h||(this.m=1,yn(16),b=!1),this.o=this.o&&b,!b)ga(this.i,this.l,P,"[Invalid Chunked Response]"),Gr(this),hi(this);else if(P.length>0&&!this.W){this.W=!0;var Ae=this.j;Ae.g==this&&Ae.aa&&!Ae.P&&(Ae.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),tf(Ae),Ae.P=!0,yn(11))}}else ga(this.i,this.l,P,null),ba(this,P);Je==4&&Gr(this),this.o&&!this.K&&(Je==4?Xp(this.j,this):(this.o=!1,va(this)))}else oo(this.g),C==400&&P.indexOf("Unknown SID")>0?(this.m=3,yn(12)):(this.m=0,yn(13)),Gr(this),hi(this)}}}catch{}finally{}};function F0(b){if(!Bp(b))return b.g.la();const C=Jn(b.g);if(C==="")return"";let P="";const G=C.length,ne=$i(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return Gr(b),hi(b),"";b.h.i=new s.TextDecoder}for(let le=0;le<G;le++)b.h.h=!0,P+=b.h.i.decode(C[le],{stream:!(ne&&le==G-1)});return C.length=0,b.h.g+=P,b.C=0,b.h.g}function Bp(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function jp(b,C){var P=b.C,G=C.indexOf(`
`,P);return G==-1?Fn:(P=Number(C.substring(P,G)),isNaN(P)?vn:(G+=1,G+P>C.length?Fn:(C=C.slice(G,G+P),b.C=G+P,C)))}ji.prototype.cancel=function(){this.K=!0,Gr(this)};function va(b){b.T=Date.now()+b.H,Ou(b,b.H)}function Ou(b,C){if(b.D!=null)throw Error("WatchDog timer not null");b.D=ma(d(b.aa,b),C)}function _a(b){b.D&&(s.clearTimeout(b.D),b.D=null)}ji.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(xl(this.i,this.B),this.M!=2&&(ha(),yn(17)),Gr(this),this.m=2,hi(this)):Ou(this,this.T-b)};function hi(b){b.j.I==0||b.K||Xp(b.j,b)}function Gr(b){_a(b);var C=b.O;C&&typeof C.dispose=="function"&&C.dispose(),b.O=null,Te(b.V),b.g&&(C=b.g,b.g=null,C.abort(),C.dispose())}function ba(b,C){try{var P=b.j;if(P.I!=0&&(P.g==b||Ea(P.h,b))){if(!b.L&&Ea(P.h,b)&&P.I==3){try{var G=P.Ba.g.parse(C)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ne=G;if(ne[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<b.F)qu(P),us(P);else break e;Rl(P),yn(18)}}else P.xa=ne[1],0<P.xa-P.K&&ne[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=ma(d(P.Va,P),6e3));xa(P.h)<=1&&P.ta&&(P.ta=void 0)}else Ia(P,11)}else if((b.L||P.g==b)&&qu(P),!H(C))for(ne=P.Ba.g.parse(C),C=0;C<ne.length;C++){let yt=ne[C];const Yt=yt[0];if(!(Yt<=P.K))if(P.K=Yt,yt=yt[1],P.I==2)if(yt[0]=="c"){P.M=yt[1],P.ba=yt[2];const gi=yt[3];gi!=null&&(P.ka=gi,P.j.info("VER="+P.ka));const ka=yt[4];ka!=null&&(P.za=ka,P.j.info("SVER="+P.za));const Ki=yt[5];Ki!=null&&typeof Ki=="number"&&Ki>0&&(G=1.5*Ki,P.O=G,P.j.info("backChannelRequestTimeoutMs_="+G)),G=P;const Yi=b.g;if(Yi){const Pl=Yi.g?Yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var le=G.h;le.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(qd(le,le.h),le.h=null))}if(G.G){const Hu=Yi.g?Yi.g.getResponseHeader("X-HTTP-Session-Id"):null;Hu&&(G.wa=Hu,Et(G.J,G.G,Hu))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-b.F,P.j.info("Handshake RTT: "+P.T+"ms")),G=P;var Ae=b;if(G.na=em(G,G.L?G.ba:null,G.W),Ae.L){Hd(G.h,Ae);var Je=Ae,un=G.O;un&&(Je.H=un),Je.D&&(_a(Je),va(Je)),G.g=Ae}else Wp(G);P.i.length>0&&Ca(P)}else yt[0]!="stop"&&yt[0]!="close"||Ia(P,7);else P.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?Ia(P,7):Zd(P):yt[0]!="noop"&&P.l&&P.l.qa(yt),P.A=0)}}ha(4)}catch{}}var _n=class{constructor(b,C){this.g=b,this.map=C}};function Bd(b){this.l=b||10,s.PerformanceNavigationTiming?(b=s.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jd(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function xa(b){return b.h?1:b.g?b.g.size:0}function Ea(b,C){return b.h?b.h==C:b.g?b.g.has(C):!1}function qd(b,C){b.g?b.g.add(C):b.h=C}function Hd(b,C){b.h&&b.h==C?b.h=null:b.g&&b.g.has(C)&&b.g.delete(C)}Bd.prototype.cancel=function(){if(this.i=Gd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Gd(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let C=b.i;for(const P of b.g.values())C=C.concat(P.G);return C}return v(b.i)}var qp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lu(b,C){if(b){b=b.split("&");for(let P=0;P<b.length;P++){const G=b[P].indexOf("=");let ne,le=null;G>=0?(ne=b[P].substring(0,G),le=b[P].substring(G+1)):ne=b[P],C(ne,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function $r(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;b instanceof $r?(this.l=b.l,zn(this,b.j),this.o=b.o,this.g=b.g,ns(this,b.u),this.h=b.h,$d(this,Kp(b.i)),this.m=b.m):b&&(C=String(b).match(qp))?(this.l=!1,zn(this,C[1]||"",!0),this.o=wa(C[2]||""),this.g=wa(C[3]||"",!0),ns(this,C[4]),this.h=wa(C[5]||"",!0),$d(this,C[6]||"",!0),this.m=wa(C[7]||"")):(this.l=!1,this.i=new is(null,this.l))}$r.prototype.toString=function(){const b=[];var C=this.j;C&&b.push(Sl(C,Uu,!0),":");var P=this.g;return(P||C=="file")&&(b.push("//"),(C=this.o)&&b.push(Sl(C,Uu,!0),"@"),b.push(io(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&b.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&b.push("/"),b.push(Sl(P,P.charAt(0)=="/"?Kd:Hp,!0))),(P=this.i.toString())&&b.push("?",P),(P=this.m)&&b.push("#",Sl(P,Gp)),b.join("")},$r.prototype.resolve=function(b){const C=bn(this);let P=!!b.j;P?zn(C,b.j):P=!!b.o,P?C.o=b.o:P=!!b.g,P?C.g=b.g:P=b.u!=null;var G=b.h;if(P)ns(C,b.u);else if(P=!!b.h){if(G.charAt(0)!="/")if(this.g&&!this.h)G="/"+G;else{var ne=C.h.lastIndexOf("/");ne!=-1&&(G=C.h.slice(0,ne+1)+G)}if(ne=G,ne==".."||ne==".")G="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){G=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const le=[];for(let Ae=0;Ae<ne.length;){const Je=ne[Ae++];Je=="."?G&&Ae==ne.length&&le.push(""):Je==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),G&&Ae==ne.length&&le.push("")):(le.push(Je),G=!0)}G=le.join("/")}else G=ne}return P?C.h=G:P=b.i.toString()!=="",P?$d(C,Kp(b.i)):P=!!b.m,P&&(C.m=b.m),C};function bn(b){return new $r(b)}function zn(b,C,P){b.j=P?wa(C,!0):C,b.j&&(b.j=b.j.replace(/:$/,""))}function ns(b,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);b.u=C}else b.u=null}function $d(b,C,P){C instanceof is?(b.i=C,Fu(b.i,b.l)):(P||(C=Sl(C,rs)),b.i=new is(C,b.l))}function Et(b,C,P){b.i.set(C,P)}function Tl(b){return Et(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function wa(b,C){return b?C?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Sl(b,C,P){return typeof b=="string"?(b=encodeURI(b).replace(C,Ir),P&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Ir(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Uu=/[#\/\?@]/g,Hp=/[#\?:]/g,Kd=/[#\?]/g,rs=/[#\?@]/g,Gp=/#/g;function is(b,C){this.h=this.g=null,this.i=b||null,this.j=!!C}function kr(b){b.g||(b.g=new Map,b.h=0,b.i&&Lu(b.i,function(C,P){b.add(decodeURIComponent(C.replace(/\+/g," ")),P)}))}t=is.prototype,t.add=function(b,C){kr(this),this.i=null,b=as(this,b);let P=this.g.get(b);return P||this.g.set(b,P=[]),P.push(C),this.h+=1,this};function $p(b,C){kr(b),C=as(b,C),b.g.has(C)&&(b.i=null,b.h-=b.g.get(C).length,b.g.delete(C))}function Yd(b,C){return kr(b),C=as(b,C),b.g.has(C)}t.forEach=function(b,C){kr(this),this.g.forEach(function(P,G){P.forEach(function(ne){b.call(C,ne,G,this)},this)},this)};function Wd(b,C){kr(b);let P=[];if(typeof C=="string")Yd(b,C)&&(P=P.concat(b.g.get(as(b,C))));else for(b=Array.from(b.g.values()),C=0;C<b.length;C++)P=P.concat(b[C]);return P}t.set=function(b,C){return kr(this),this.i=null,b=as(this,b),Yd(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[C]),this.h+=1,this},t.get=function(b,C){return b?(b=Wd(this,b),b.length>0?String(b[0]):C):C};function Vu(b,C,P){$p(b,C),P.length>0&&(b.i=null,b.g.set(as(b,C),v(P)),b.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],C=Array.from(this.g.keys());for(let G=0;G<C.length;G++){var P=C[G];const ne=io(P);P=Wd(this,P);for(let le=0;le<P.length;le++){let Ae=ne;P[le]!==""&&(Ae+="="+io(P[le])),b.push(Ae)}}return this.i=b.join("&")};function Kp(b){const C=new is;return C.i=b.i,b.g&&(C.g=new Map(b.g),C.h=b.h),C}function as(b,C){return C=String(C),b.j&&(C=C.toLowerCase()),C}function Fu(b,C){C&&!b.j&&(kr(b),b.i=null,b.g.forEach(function(P,G){const ne=G.toLowerCase();G!=ne&&($p(this,G),Vu(this,ne,P))},b)),b.j=C}function Hi(b,C){const P=new Bi;if(s.Image){const G=new Image;G.onload=h(pi,P,"TestLoadImage: loaded",!0,C,G),G.onerror=h(pi,P,"TestLoadImage: error",!1,C,G),G.onabort=h(pi,P,"TestLoadImage: abort",!1,C,G),G.ontimeout=h(pi,P,"TestLoadImage: timeout",!1,C,G),s.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=b}else C(!1)}function Jd(b,C){const P=new Bi,G=new AbortController,ne=setTimeout(()=>{G.abort(),pi(P,"TestPingServer: timeout",!1,C)},1e4);fetch(b,{signal:G.signal}).then(le=>{clearTimeout(ne),le.ok?pi(P,"TestPingServer: ok",!0,C):pi(P,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(ne),pi(P,"TestPingServer: error",!1,C)})}function pi(b,C,P,G,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),G(P)}catch{}}function os(){this.g=new ft}function Ta(b){this.i=b.Sb||null,this.h=b.ab||!1}p(Ta,ur),Ta.prototype.g=function(){return new Al(this.i,this.h)};function Al(b,C){Qt.call(this),this.H=b,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Al,Qt),t=Al.prototype,t.open=function(b,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=C,this.readyState=1,Gi(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(C.body=b),(this.H||s).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ss(this)),this.readyState=0},t.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zu(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function zu(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}t.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var C=b.value?b.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!b.done}))&&(this.response=this.responseText+=C)}b.done?ss(this):Gi(this),this.readyState==3&&zu(this)}},t.Oa=function(b){this.g&&(this.response=this.responseText=b,ss(this))},t.Na=function(b){this.g&&(this.response=b,ss(this))},t.ga=function(){this.g&&ss(this)};function ss(b){b.readyState=4,b.l=null,b.j=null,b.B=null,Gi(b)}t.setRequestHeader=function(b,C){this.A.append(b,C)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],C=this.h.entries();for(var P=C.next();!P.done;)P=P.value,b.push(P[0]+": "+P[1]),P=C.next();return b.join(`\r
`)};function Gi(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(Al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function mi(b){let C="";return me(b,function(P,G){C+=G,C+=":",C+=P,C+=`\r
`}),C}function Cl(b,C,P){e:{for(G in P){var G=!1;break e}G=!0}G||(P=mi(P),typeof b=="string"?P!=null&&io(P):Et(b,C,P))}function It(b){Qt.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(It,Qt);var Sa=/^https?$/i,Xd=["POST","PUT"];t=It.prototype,t.Fa=function(b){this.H=b},t.ea=function(b,C,P,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);C=C?C.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zd.g(),this.g.onreadystatechange=g(d(this.Ca,this));try{this.B=!0,this.g.open(C,String(b),!0),this.B=!1}catch(le){Il(this,le);return}if(b=P||"",P=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ne in G)P.set(ne,G[ne]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const le of G.keys())P.set(le,G.get(le));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(P.keys()).find(le=>le.toLowerCase()=="content-type"),ne=s.FormData&&b instanceof s.FormData,!(Array.prototype.indexOf.call(Xd,C,void 0)>=0)||G||ne||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Ae]of P)this.g.setRequestHeader(le,Ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(le){Il(this,le)}};function Il(b,C){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=C,b.o=5,Qd(b),ao(b)}function Qd(b){b.A||(b.A=!0,nn(b,"complete"),nn(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,nn(this,"complete"),nn(this,"abort"),ao(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ao(this,!0)),It.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?kl(this):this.Xa())},t.Xa=function(){kl(this)};function kl(b){if(b.h&&typeof a<"u"){if(b.v&&$i(b)==4)setTimeout(b.Ca.bind(b),0);else if(nn(b,"readystatechange"),$i(b)==4){b.h=!1;try{const le=b.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var P;if(!(P=C)){var G;if(G=le===0){let Ae=String(b.D).match(qp)[1]||null;!Ae&&s.self&&s.self.location&&(Ae=s.self.location.protocol.slice(0,-1)),G=!Sa.test(Ae?Ae.toLowerCase():"")}P=G}if(P)nn(b,"complete"),nn(b,"success");else{b.o=6;try{var ne=$i(b)>2?b.g.statusText:""}catch{ne=""}b.l=ne+" ["+b.ca()+"]",Qd(b)}}finally{ao(b)}}}}function ao(b,C){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const P=b.g;b.g=null,C||nn(b,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function $i(b){return b.g?b.g.readyState:0}t.ca=function(){try{return $i(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(b){if(this.g){var C=this.g.responseText;return b&&C.indexOf(b)==0&&(C=C.substring(b.length)),tt(C)}};function Jn(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function oo(b){const C={};b=(b.g&&$i(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<b.length;G++){if(H(b[G]))continue;var P=zp(b[G]);const ne=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const le=C[ne]||[];C[ne]=le,le.push(P)}Y(C,function(G){return G.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(b,C,P){return P&&P.internalChannelParams&&P.internalChannelParams[b]||C}function ls(b){this.za=0,this.i=[],this.j=new Bi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Aa("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Aa("baseRetryDelayMs",5e3,b),this.Za=Aa("retryDelaySeedMs",1e4,b),this.Ta=Aa("forwardChannelMaxRetries",2,b),this.va=Aa("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new Bd(b&&b.concurrentRequestLimit),this.Ba=new os,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ls.prototype,t.ka=8,t.I=1,t.connect=function(b,C,P,G){yn(0),this.W=b,this.H=C||{},P&&G!==void 0&&(this.H.OSID=P,this.H.OAID=G),this.F=this.X,this.J=em(this,null,this.W),Ca(this)};function Zd(b){if(Bu(b),b.I==3){var C=b.V++,P=bn(b.J);if(Et(P,"SID",b.M),Et(P,"RID",C),Et(P,"TYPE","terminate"),Nl(b,P),C=new ji(b,b.j,C),C.M=2,C.A=Tl(bn(P)),P=!1,s.navigator&&s.navigator.sendBeacon)try{P=s.navigator.sendBeacon(C.A.toString(),"")}catch{}!P&&s.Image&&(new Image().src=C.A,P=!0),P||(C.g=tm(C.j,null),C.g.ea(C.A)),C.F=Date.now(),va(C)}Zp(b)}function us(b){b.g&&(tf(b),b.g.cancel(),b.g=null)}function Bu(b){us(b),b.v&&(s.clearTimeout(b.v),b.v=null),qu(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&s.clearTimeout(b.m),b.m=null)}function Ca(b){if(!jd(b.h)&&!b.m){b.m=!0;var C=b.Ea;q||O(),L||(q(),L=!0),D.add(C,b),b.D=0}}function ju(b,C){return xa(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=C.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=ma(d(b.Ea,b,C),Qp(b,b.D)),b.D++,!0)}t.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const ne=new ji(this,this.j,b);let le=this.o;if(this.U&&(le?(le=W(le),$(le,this.U)):le=this.U),this.u!==null||this.R||(ne.J=le,le=null),this.S)e:{for(var C=0,P=0;P<this.i.length;P++){t:{var G=this.i[P];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(C+=G,C>4096){C=P;break e}if(C===4096||P===this.i.length-1){C=P+1;break e}}C=1e3}else C=1e3;C=Yp(this,ne,C),P=bn(this.J),Et(P,"RID",b),Et(P,"CVER",22),this.G&&Et(P,"X-HTTP-Session-Id",this.G),Nl(this,P),le&&(this.R?C="headers="+io(mi(le))+"&"+C:this.u&&Cl(P,this.u,le)),qd(this.h,ne),this.Ra&&Et(P,"TYPE","init"),this.S?(Et(P,"$req",C),Et(P,"SID","null"),ne.U=!0,ya(ne,P,null)):ya(ne,P,C),this.I=2}}else this.I==3&&(b?ef(this,b):this.i.length==0||jd(this.h)||ef(this))};function ef(b,C){var P;C?P=C.l:P=b.V++;const G=bn(b.J);Et(G,"SID",b.M),Et(G,"RID",P),Et(G,"AID",b.K),Nl(b,G),b.u&&b.o&&Cl(G,b.u,b.o),P=new ji(b,b.j,P,b.D+1),b.u===null&&(P.J=b.o),C&&(b.i=C.G.concat(b.i)),C=Yp(b,P,1e3),P.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),qd(b.h,P),ya(P,G,C)}function Nl(b,C){b.H&&me(b.H,function(P,G){Et(C,G,P)}),b.l&&me({},function(P,G){Et(C,G,P)})}function Yp(b,C,P){P=Math.min(b.i.length,P);const G=b.l?d(b.l.Ka,b.l,b):null;e:{var ne=b.i;let Je=-1;for(;;){const un=["count="+P];Je==-1?P>0?(Je=ne[0].g,un.push("ofs="+Je)):Je=0:un.push("ofs="+Je);let yt=!0;for(let Yt=0;Yt<P;Yt++){var le=ne[Yt].g;const gi=ne[Yt].map;if(le-=Je,le<0)Je=Math.max(0,ne[Yt].g-100),yt=!1;else try{le="req"+le+"_"||"";try{var Ae=gi instanceof Map?gi:Object.entries(gi);for(const[ka,Ki]of Ae){let Yi=Ki;u(Ki)&&(Yi=ze(Ki)),un.push(le+ka+"="+encodeURIComponent(Yi))}}catch(ka){throw un.push(le+"type="+encodeURIComponent("_badmap")),ka}}catch{G&&G(gi)}}if(yt){Ae=un.join("&");break e}}Ae=void 0}return b=b.i.splice(0,P),C.G=b,Ae}function Wp(b){if(!b.g&&!b.v){b.Y=1;var C=b.Da;q||O(),L||(q(),L=!0),D.add(C,b),b.A=0}}function Rl(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=ma(d(b.Da,b),Qp(b,b.A)),b.A++,!0)}t.Da=function(){if(this.v=null,Jp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=ma(d(this.Wa,this),b)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yn(10),us(this),Jp(this))};function tf(b){b.B!=null&&(s.clearTimeout(b.B),b.B=null)}function Jp(b){b.g=new ji(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var C=bn(b.na);Et(C,"RID","rpc"),Et(C,"SID",b.M),Et(C,"AID",b.K),Et(C,"CI",b.F?"0":"1"),!b.F&&b.ia&&Et(C,"TO",b.ia),Et(C,"TYPE","xmlhttp"),Nl(b,C),b.u&&b.o&&Cl(C,b.u,b.o),b.O&&(b.g.H=b.O);var P=b.g;b=b.ba,P.M=1,P.A=Tl(bn(C)),P.u=null,P.R=!0,Du(P,b)}t.Va=function(){this.C!=null&&(this.C=null,us(this),Rl(this),yn(19))};function qu(b){b.C!=null&&(s.clearTimeout(b.C),b.C=null)}function Xp(b,C){var P=null;if(b.g==C){qu(b),tf(b),b.g=null;var G=2}else if(Ea(b.h,C))P=C.G,Hd(b.h,C),G=1;else return;if(b.I!=0){if(C.o)if(G==1){P=C.u?C.u.length:0,C=Date.now()-C.F;var ne=b.D;G=cr(),nn(G,new pa(G,P)),Ca(b)}else Wp(b);else if(ne=C.m,ne==3||ne==0&&C.X>0||!(G==1&&ju(b,C)||G==2&&Rl(b)))switch(P&&P.length>0&&(C=b.h,C.i=C.i.concat(P)),ne){case 1:Ia(b,5);break;case 4:Ia(b,10);break;case 3:Ia(b,6);break;default:Ia(b,2)}}}function Qp(b,C){let P=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(P*=2),P*C}function Ia(b,C){if(b.j.info("Error code "+C),C==2){var P=d(b.bb,b),G=b.Ua;const ne=!G;G=new $r(G||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||zn(G,"https"),Tl(G),ne?Hi(G.toString(),P):Jd(G.toString(),P)}else yn(2);b.I=0,b.l&&b.l.pa(C),Zp(b),Bu(b)}t.bb=function(b){b?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function Zp(b){if(b.I=0,b.ja=[],b.l){const C=Gd(b.h);(C.length!=0||b.i.length!=0)&&(T(b.ja,C),T(b.ja,b.i),b.h.i.length=0,v(b.i),b.i.length=0),b.l.oa()}}function em(b,C,P){var G=P instanceof $r?bn(P):new $r(P);if(G.g!="")C&&(G.g=C+"."+G.g),ns(G,G.u);else{var ne=s.location;G=ne.protocol,C=C?C+"."+ne.hostname:ne.hostname,ne=+ne.port;const le=new $r(null);G&&zn(le,G),C&&(le.g=C),ne&&ns(le,ne),P&&(le.h=P),G=le}return P=b.G,C=b.wa,P&&C&&Et(G,P,C),Et(G,"VER",b.ka),Nl(b,G),G}function tm(b,C,P){if(C&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=b.Aa&&!b.ma?new It(new Ta({ab:P})):new It(b.ma),C.Fa(b.L),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nm(){}t=nm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function cs(){}cs.prototype.g=function(b,C){return new br(b,C)};function br(b,C){Qt.call(this),this.g=new ls(C),this.l=b,this.h=C&&C.messageUrlParams||null,b=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(b?b["X-WebChannel-Content-Type"]=C.messageContentType:b={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(b?b["X-WebChannel-Client-Profile"]=C.sa:b={"X-WebChannel-Client-Profile":C.sa}),this.g.U=b,(b=C&&C.Qb)&&!H(b)&&(this.g.u=b),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!H(C)&&(this.g.G=C,b=this.h,b!==null&&C in b&&(b=this.h,C in b&&delete b[C])),this.j=new so(this)}p(br,Qt),br.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},br.prototype.close=function(){Zd(this.g)},br.prototype.o=function(b){var C=this.g;if(typeof b=="string"){var P={};P.__data__=b,b=P}else this.v&&(P={},P.__data__=ze(b),b=P);C.i.push(new _n(C.Ya++,b)),C.I==3&&Ca(C)},br.prototype.N=function(){this.g.l=null,delete this.j,Zd(this.g),delete this.g,br.Z.N.call(this)};function rm(b){Zt.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var C=b.__sm__;if(C){e:{for(const P in C){b=P;break e}b=void 0}(this.i=b)&&(b=this.i,C=C!==null&&b in C?C[b]:void 0),this.data=C}else this.data=b}p(rm,Zt);function im(){Vn.call(this),this.status=1}p(im,Vn);function so(b){this.g=b}p(so,nm),so.prototype.ra=function(){nn(this.g,"a")},so.prototype.qa=function(b){nn(this.g,new rm(b))},so.prototype.pa=function(b){nn(this.g,new im)},so.prototype.oa=function(){nn(this.g,"b")},cs.prototype.createWebChannel=cs.prototype.g,br.prototype.send=br.prototype.o,br.prototype.open=br.prototype.m,br.prototype.close=br.prototype.close,iB=function(){return new cs},rB=function(){return cr()},nB=ut,ST={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},El.NO_ERROR=0,El.TIMEOUT=8,El.HTTP_ERROR=6,Wg=El,Fd.COMPLETE="complete",tB=Fd,fi.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",Qt.prototype.listen=Qt.prototype.J,oh=fi,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,eB=It}).apply(typeof Ng<"u"?Ng:typeof self<"u"?self:typeof window<"u"?window:{});const PL="@firebase/firestore",ML="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new J1("@firebase/firestore");function kc(){return bu.logLevel}function Re(t,...e){if(bu.logLevel<=ot.DEBUG){const n=e.map(oA);bu.debug(`Firestore (${Rd}): ${t}`,...n)}}function Ho(t,...e){if(bu.logLevel<=ot.ERROR){const n=e.map(oA);bu.error(`Firestore (${Rd}): ${t}`,...n)}}function cd(t,...e){if(bu.logLevel<=ot.WARN){const n=e.map(oA);bu.warn(`Firestore (${Rd}): ${t}`,...n)}}function oA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,aB(t,r,n)}function aB(t,e,n){let r=`FIRESTORE (${Rd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ho(r),new Error(r)}function xt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||aB(e,i,r)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends no{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iwe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pr.UNAUTHENTICATED)))}shutdown(){}}class awe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class owe{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Po;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Po,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Po)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string",31837,{l:r}),new oB(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new pr(e)}}class swe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lwe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new swe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uwe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xt(this.o===void 0,3512);const r=a=>{a.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DL(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DL(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cwe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=cwe(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function st(t,e){return t<e?-1:t>e?1:0}function AT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return BE(i)===BE(a)?st(i,a):BE(i)?1:-1}return st(t.length,e.length)}const dwe=55296,fwe=57343;function BE(t){const e=t.charCodeAt(0);return e>=dwe&&e<=fwe}function dd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="__name__";class Oa{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Oa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Oa.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return st(e.length,n.length)}static compareSegments(e,n){const r=Oa.isNumericId(e),i=Oa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Oa.extractNumericId(e).compare(Oa.extractNumericId(n)):AT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class Vt extends Oa{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Vt(n)}static emptyPath(){return new Vt([])}}const hwe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends Oa{construct(e,n,r){return new ar(e,n,r)}static isValidIdentifier(e){return hwe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OL}static keyField(){return new ar([OL])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ke(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ke(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ke(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(a(),i++)}if(a(),s)throw new ke(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(n)}static emptyPath(){return new ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Vt.fromString(e))}static fromName(e){return new Ue(Vt.fromString(e).popFirst(5))}static empty(){return new Ue(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t,e,n){if(!n)throw new ke(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pwe(t,e,n,r){if(e===!0&&r===!0)throw new ke(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LL(t){if(!Ue.isDocumentKey(t))throw new ke(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UL(t){if(Ue.isDocumentKey(t))throw new ke(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lB(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function b0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function Li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=b0(t);throw new ke(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cp(t,e){if(!lB(t))throw new ke(ve.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ke(ve.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=-62135596800,FL=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*FL);return new Gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VL)throw new ke(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FL}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cp(e,Gt._jsonSchema))return new Gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VL;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gt._jsonSchemaVersion="firestore/timestamp/1.0",Gt._jsonSchema={type:kn("string",Gt._jsonSchemaVersion),seconds:kn("number"),nanoseconds:kn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Gt(0,0))}static max(){return new Ke(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=-1;function mwe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(r===1e9?new Gt(n+1,0):new Gt(n,r));return new rl(i,Ue.empty(),e)}function gwe(t){return new rl(t.readTime,t.key,qh)}class rl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rl(Ke.min(),Ue.empty(),qh)}static max(){return new rl(Ke.max(),Ue.empty(),qh)}}function ywe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(t.documentKey,e.documentKey),n!==0?n:st(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vwe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _we{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==vwe)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xe(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):xe.reject(n)}static resolve(e){return new xe(((n,r)=>{n(e)}))}static reject(e){return new xe(((n,r)=>{r(e)}))}static waitFor(e){return new xe(((n,r)=>{let i=0,a=0,s=!1;e.forEach((u=>{++i,u.next((()=>{++a,s&&a===i&&n()}),(c=>r(c)))})),s=!0,a===i&&n()}))}static or(e){let n=xe.resolve(!1);for(const r of e)n=n.next((i=>i?xe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new xe(((r,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const d=c;n(e[d]).next((h=>{s[d]=h,++u,u===a&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new xe(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function bwe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Md(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}x0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=-1;function E0(t){return t==null}function sv(t){return t===0&&1/t==-1/0}function xwe(t){return typeof t=="number"&&Number.isInteger(t)&&!sv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB="";function Ewe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zL(e)),e=wwe(t.get(n),e);return zL(e)}function wwe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case uB:n+="";break;default:n+=a}}return n}function zL(t){return t+uB+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new en(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rg(this.root,e,this.comparator,!0)}}class Rg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ir{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??ir.RED,this.left=i??ir.EMPTY,this.right=a??ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new ir(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ir.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1;ir.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jL(this.data.getIterator())}getIteratorFrom(e){return new jL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mn(this.comparator);return n.data=e,n}}class jL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new oi([])}unionWith(e){let n=new Mn(ar.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new oi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new dB("Invalid base64 string: "+a):a}})(e);return new sr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const Twe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(t){if(xt(!!t,39018),typeof t=="string"){let e=0;const n=Twe.exec(t);if(xt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hn(t.seconds),nanos:hn(t.nanos)}}function hn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function al(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB="server_timestamp",hB="__type__",pB="__previous_value__",mB="__local_write_time__";function uA(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[hB])==null?void 0:r.stringValue)===fB}function w0(t){const e=t.mapValue.fields[pB];return uA(e)?w0(e):e}function Hh(t){const e=il(t.mapValue.fields[mB].timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Swe{constructor(e,n,r,i,a,s,u,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const lv="(default)";class Gh{constructor(e,n){this.projectId=e,this.database=n||lv}static empty(){return new Gh("","")}get isDefaultDatabase(){return this.database===lv}isEqual(e){return e instanceof Gh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="__type__",Awe="__max__",Pg={mapValue:{}},yB="__vector__",uv="value";function ol(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uA(t)?4:Iwe(t)?9007199254740991:Cwe(t)?10:11:qe(28295,{value:t})}function to(t,e){if(t===e)return!0;const n=ol(t);if(n!==ol(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hh(t).isEqual(Hh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=il(i.timestampValue),u=il(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return al(i.bytesValue).isEqual(al(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return hn(i.geoPointValue.latitude)===hn(a.geoPointValue.latitude)&&hn(i.geoPointValue.longitude)===hn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return hn(i.integerValue)===hn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=hn(i.doubleValue),u=hn(a.doubleValue);return s===u?sv(s)===sv(u):isNaN(s)&&isNaN(u)}return!1})(t,e);case 9:return dd(t.arrayValue.values||[],e.arrayValue.values||[],to);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(BL(s)!==BL(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!to(s[c],u[c])))return!1;return!0})(t,e);default:return qe(52216,{left:t})}}function $h(t,e){return(t.values||[]).find((n=>to(n,e)))!==void 0}function fd(t,e){if(t===e)return 0;const n=ol(t),r=ol(e);if(n!==r)return st(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const u=hn(a.integerValue||a.doubleValue),c=hn(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return qL(t.timestampValue,e.timestampValue);case 4:return qL(Hh(t),Hh(e));case 5:return AT(t.stringValue,e.stringValue);case 6:return(function(a,s){const u=al(a),c=al(s);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const u=a.split("/"),c=s.split("/");for(let d=0;d<u.length&&d<c.length;d++){const h=st(u[d],c[d]);if(h!==0)return h}return st(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const u=st(hn(a.latitude),hn(s.latitude));return u!==0?u:st(hn(a.longitude),hn(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return HL(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var g,v,T,S;const u=a.fields||{},c=s.fields||{},d=(g=u[uv])==null?void 0:g.arrayValue,h=(v=c[uv])==null?void 0:v.arrayValue,p=st(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((S=h==null?void 0:h.values)==null?void 0:S.length)||0);return p!==0?p:HL(d,h)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===Pg.mapValue&&s===Pg.mapValue)return 0;if(a===Pg.mapValue)return 1;if(s===Pg.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),d=s.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=AT(c[p],h[p]);if(g!==0)return g;const v=fd(u[c[p]],d[h[p]]);if(v!==0)return v}return st(c.length,h.length)})(t.mapValue,e.mapValue);default:throw qe(23264,{he:n})}}function qL(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const n=il(t),r=il(e),i=st(n.seconds,r.seconds);return i!==0?i:st(n.nanos,r.nanos)}function HL(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=fd(n[i],r[i]);if(a)return a}return st(n.length,r.length)}function hd(t){return CT(t)}function CT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=il(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return al(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ue.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=CT(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${CT(n.fields[s])}`;return i+"}"})(t.mapValue):qe(61005,{value:t})}function Jg(t){switch(ol(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=w0(t);return e?16+Jg(e):16;case 5:return 2*t.stringValue.length;case 6:return al(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Jg(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return yl(r.fields,((a,s)=>{i+=a.length+Jg(s)})),i})(t.mapValue);default:throw qe(13486,{value:t})}}function GL(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function IT(t){return!!t&&"integerValue"in t}function cA(t){return!!t&&"arrayValue"in t}function $L(t){return!!t&&"nullValue"in t}function KL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xg(t){return!!t&&"mapValue"in t}function Cwe(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[gB])==null?void 0:r.stringValue)===yB}function vh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return yl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=vh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vh(t.arrayValue.values[n]);return e}return{...t}}function Iwe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Awe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.value=e}static empty(){return new Fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vh(n)}setAll(e){let n=ar.emptyPath(),r={},i=[];e.forEach(((s,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=vh(s):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Xg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return to(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yl(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Fr(vh(this.value))}}function vB(t){const e=[];return yl(t.fields,((n,r)=>{const i=new ar([n]);if(Xg(r)){const a=vB(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new oi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r,i,a,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new mr(e,0,Ke.min(),Ke.min(),Ke.min(),Fr.empty(),0)}static newFoundDocument(e,n,r,i){return new mr(e,1,n,Ke.min(),r,i,0)}static newNoDocument(e,n){return new mr(e,2,n,Ke.min(),Ke.min(),Fr.empty(),0)}static newUnknownDocument(e,n){return new mr(e,3,n,Ke.min(),Ke.min(),Fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){this.position=e,this.inclusive=n}}function YL(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Ue.comparator(Ue.fromName(s.referenceValue),n.key):r=fd(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function WL(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!to(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n="asc"){this.field=e,this.dir=n}}function kwe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{}class In extends _B{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Rwe(e,n,r):n==="array-contains"?new Dwe(e,r):n==="in"?new Owe(e,r):n==="not-in"?new Lwe(e,r):n==="array-contains-any"?new Uwe(e,r):new In(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Pwe(e,r):new Mwe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fd(n,this.value)):n!==null&&ol(this.value)===ol(n)&&this.matchesComparison(fd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sa extends _B{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new sa(e,n)}matches(e){return bB(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bB(t){return t.op==="and"}function xB(t){return Nwe(t)&&bB(t)}function Nwe(t){for(const e of t.filters)if(e instanceof sa)return!1;return!0}function kT(t){if(t instanceof In)return t.field.canonicalString()+t.op.toString()+hd(t.value);if(xB(t))return t.filters.map((e=>kT(e))).join(",");{const e=t.filters.map((n=>kT(n))).join(",");return`${t.op}(${e})`}}function EB(t,e){return t instanceof In?(function(r,i){return i instanceof In&&r.op===i.op&&r.field.isEqual(i.field)&&to(r.value,i.value)})(t,e):t instanceof sa?(function(r,i){return i instanceof sa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,u)=>a&&EB(s,i.filters[u])),!0):!1})(t,e):void qe(19439)}function wB(t){return t instanceof In?(function(n){return`${n.field.canonicalString()} ${n.op} ${hd(n.value)}`})(t):t instanceof sa?(function(n){return n.op.toString()+" {"+n.getFilters().map(wB).join(" ,")+"}"})(t):"Filter"}class Rwe extends In{constructor(e,n,r){super(e,n,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class Pwe extends In{constructor(e,n){super(e,"in",n),this.keys=TB("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Mwe extends In{constructor(e,n){super(e,"not-in",n),this.keys=TB("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function TB(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ue.fromName(r.referenceValue)))}class Dwe extends In{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cA(n)&&$h(n.arrayValue,this.value)}}class Owe extends In{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$h(this.value.arrayValue,n)}}class Lwe extends In{constructor(e,n){super(e,"not-in",n)}matches(e){if($h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$h(this.value.arrayValue,n)}}class Uwe extends In{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cA(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>$h(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vwe{constructor(e,n=null,r=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.Te=null}}function JL(t,e=null,n=[],r=[],i=null,a=null,s=null){return new Vwe(t,e,n,r,i,a,s)}function dA(t){const e=We(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>kT(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),E0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>hd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>hd(r))).join(",")),e.Te=n}return e.Te}function fA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kwe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WL(t.startAt,e.startAt)&&WL(t.endAt,e.endAt)}function NT(t){return Ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n=null,r=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Fwe(t,e,n,r,i,a,s,u){return new Ip(t,e,n,r,i,a,s,u)}function hA(t){return new Ip(t)}function XL(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SB(t){return t.collectionGroup!==null}function _h(t){const e=We(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new Mn(ar.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new dv(a,r))})),n.has(ar.keyField().canonicalString())||e.Ie.push(new dv(ar.keyField(),r))}return e.Ie}function Ka(t){const e=We(t);return e.Ee||(e.Ee=zwe(e,_h(t))),e.Ee}function zwe(t,e){if(t.limitType==="F")return JL(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new dv(i.field,a)}));const n=t.endAt?new cv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cv(t.startAt.position,t.startAt.inclusive):null;return JL(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function RT(t,e){const n=t.filters.concat([e]);return new Ip(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function PT(t,e,n){return new Ip(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function T0(t,e){return fA(Ka(t),Ka(e))&&t.limitType===e.limitType}function AB(t){return`${dA(Ka(t))}|lt:${t.limitType}`}function Nc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>wB(i))).join(", ")}]`),E0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>hd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>hd(i))).join(",")),`Target(${r})`})(Ka(t))}; limitType=${t.limitType})`}function S0(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ue.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of _h(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,u,c){const d=YL(s,u,c);return s.inclusive?d<=0:d<0})(r.startAt,_h(r),i)||r.endAt&&!(function(s,u,c){const d=YL(s,u,c);return s.inclusive?d>=0:d>0})(r.endAt,_h(r),i))})(t,e)}function Bwe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CB(t){return(e,n)=>{let r=!1;for(const i of _h(t)){const a=jwe(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function jwe(t,e,n){const r=t.field.isKeyField()?Ue.comparator(e.key,n.key):(function(a,s,u){const c=s.data.field(a),d=u.data.field(a);return c!==null&&d!==null?fd(c,d):qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yl(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return cB(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qwe=new en(Ue.comparator);function Go(){return qwe}const IB=new en(Ue.comparator);function sh(...t){let e=IB;for(const n of t)e=e.insert(n.key,n);return e}function kB(t){let e=IB;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function tu(){return bh()}function NB(){return bh()}function bh(){return new Ru((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Hwe=new en(Ue.comparator),Gwe=new Mn(Ue.comparator);function lt(...t){let e=Gwe;for(const n of t)e=e.add(n);return e}const $we=new Mn(st);function Kwe(){return $we}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sv(e)?"-0":e}}function RB(t){return{integerValue:""+t}}function Ywe(t,e){return xwe(e)?RB(e):pA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this._=void 0}}function Wwe(t,e,n){return t instanceof fv?(function(i,a){const s={fields:{[hB]:{stringValue:fB},[mB]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&uA(a)&&(a=w0(a)),a&&(s.fields[pB]=a),{mapValue:s}})(n,e):t instanceof Kh?MB(t,e):t instanceof Yh?DB(t,e):(function(i,a){const s=PB(i,a),u=QL(s)+QL(i.Ae);return IT(s)&&IT(i.Ae)?RB(u):pA(i.serializer,u)})(t,e)}function Jwe(t,e,n){return t instanceof Kh?MB(t,e):t instanceof Yh?DB(t,e):n}function PB(t,e){return t instanceof hv?(function(r){return IT(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class fv extends A0{}class Kh extends A0{constructor(e){super(),this.elements=e}}function MB(t,e){const n=OB(e);for(const r of t.elements)n.some((i=>to(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Yh extends A0{constructor(e){super(),this.elements=e}}function DB(t,e){let n=OB(e);for(const r of t.elements)n=n.filter((i=>!to(i,r)));return{arrayValue:{values:n}}}class hv extends A0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function QL(t){return hn(t.integerValue||t.doubleValue)}function OB(t){return cA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Xwe(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Kh&&i instanceof Kh||r instanceof Yh&&i instanceof Yh?dd(r.elements,i.elements,to):r instanceof hv&&i instanceof hv?to(r.Ae,i.Ae):r instanceof fv&&i instanceof fv})(t.transform,e.transform)}class Qwe{constructor(e,n){this.version=e,this.transformResults=n}}class Sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class C0{}function LB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new I0(t.key,Sr.none()):new kp(t.key,t.data,Sr.none());{const n=t.data,r=Fr.empty();let i=new Mn(ar.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new vl(t.key,r,new oi(i.toArray()),Sr.none())}}function Zwe(t,e,n){t instanceof kp?(function(i,a,s){const u=i.value.clone(),c=e4(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):t instanceof vl?(function(i,a,s){if(!Qg(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=e4(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(UB(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function xh(t,e,n,r){return t instanceof kp?(function(a,s,u,c){if(!Qg(a.precondition,s))return u;const d=a.value.clone(),h=t4(a.fieldTransforms,c,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof vl?(function(a,s,u,c){if(!Qg(a.precondition,s))return u;const d=t4(a.fieldTransforms,c,s),h=s.data;return h.setAll(UB(a)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,s,u){return Qg(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u})(t,e,n)}function eTe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=PB(r.transform,i||null);a!=null&&(n===null&&(n=Fr.empty()),n.set(r.field,a))}return n||null}function ZL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dd(r,i,((a,s)=>Xwe(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kp extends C0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vl extends C0{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function UB(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function e4(t,e,n){const r=new Map;xt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,u=e.data.field(a.field);r.set(a.field,Jwe(s,u,n[i]))}return r}function t4(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,Wwe(a,s,e))}return r}class I0 extends C0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tTe extends C0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nTe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Zwe(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NB();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=n.has(i.key)?null:u;const c=LB(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ke.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),lt())}isEqual(e){return this.batchId===e.batchId&&dd(this.mutations,e.mutations,((n,r)=>ZL(n,r)))&&dd(this.baseMutations,e.baseMutations,((n,r)=>ZL(n,r)))}}class mA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Hwe})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new mA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rTe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iTe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn,dt;function aTe(t){switch(t){case ve.OK:return qe(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function VB(t){if(t===void 0)return Ho("GRPC error has no .code"),ve.UNKNOWN;switch(t){case Sn.OK:return ve.OK;case Sn.CANCELLED:return ve.CANCELLED;case Sn.UNKNOWN:return ve.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return ve.INTERNAL;case Sn.UNAVAILABLE:return ve.UNAVAILABLE;case Sn.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Sn.NOT_FOUND:return ve.NOT_FOUND;case Sn.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Sn.ABORTED:return ve.ABORTED;case Sn.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Sn.DATA_LOSS:return ve.DATA_LOSS;default:return qe(39323,{code:t})}}(dt=Sn||(Sn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oTe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sTe=new Ws([4294967295,4294967295],0);function n4(t){const e=oTe().encode(t),n=new Zz;return n.update(e),new Uint8Array(n.digest())}function r4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ws([n,r],0),new Ws([i,a],0)]}class gA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lh(`Invalid padding: ${n}`);if(r<0)throw new lh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ws.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ws.fromNumber(r)));return i.compare(sTe)===1&&(i=new Ws([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=n4(e),[r,i]=r4(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new gA(a,i,n);return r.forEach((u=>s.insert(u))),s}insert(e){if(this.ge===0)return;const n=n4(e),[r,i]=r4(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Np.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new k0(Ke.min(),i,new en(st),Go(),lt())}}class Np{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Np(r,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class FB{constructor(e,n){this.targetId=e,this.Ce=n}}class zB{constructor(e,n,r=sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class i4{constructor(){this.ve=0,this.Fe=a4(),this.Me=sr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),n=lt(),r=lt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe(38017,{changeType:a})}})),new Np(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=a4()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lTe{constructor(e){this.Ge=e,this.ze=new Map,this.je=Go(),this.Je=Mg(),this.He=Mg(),this.Ye=new en(st)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(NT(a))if(r===0){const s=new Ue(a.path);this.et(n,s,mr.newNoDocument(s,Ke.min()))}else xt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const u=this.ut(e),c=u?this.ct(u,e,s):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,u;try{s=al(r).toUint8Array()}catch(c){if(c instanceof dB)return cd("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new gA(s,i,a)}catch(c){return cd(c instanceof lh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const s=this.Ge.ht(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,s)=>{const u=this.ot(s);if(u){if(a.current&&NT(u.target)){const c=new Ue(u.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,mr.newNoDocument(c,e))}a.Be&&(n.set(s,a.ke()),a.qe())}}));let r=lt();this.He.forEach(((a,s)=>{let u=!0;s.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new k0(e,n,this.Ye,this.je,r);return this.je=Go(),this.Je=Mg(),this.He=Mg(),this.Ye=new en(st),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new i4,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mn(st),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mn(st),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i4),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Mg(){return new en(Ue.comparator)}function a4(){return new en(Ue.comparator)}const uTe={asc:"ASCENDING",desc:"DESCENDING"},cTe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dTe={and:"AND",or:"OR"};class fTe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function MT(t,e){return t.useProto3Json||E0(e)?e:{value:e}}function pv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hTe(t,e){return pv(t,e.toTimestamp())}function Ya(t){return xt(!!t,49232),Ke.fromTimestamp((function(n){const r=il(n);return new Gt(r.seconds,r.nanos)})(t))}function yA(t,e){return DT(t,e).canonicalString()}function DT(t,e){const n=(function(i){return new Vt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function jB(t){const e=Vt.fromString(t);return xt(KB(e),10190,{key:e.toString()}),e}function OT(t,e){return yA(t.databaseId,e.path)}function jE(t,e){const n=jB(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(HB(n))}function qB(t,e){return yA(t.databaseId,e)}function pTe(t){const e=jB(t);return e.length===4?Vt.emptyPath():HB(e)}function LT(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HB(t){return xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function o4(t,e,n){return{name:OT(t,e),fields:n.value.mapValue.fields}}function mTe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:qe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,h){return d.useProto3Json?(xt(h===void 0||typeof h=="string",58123),sr.fromBase64String(h||"")):(xt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),sr.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&(function(d){const h=d.code===void 0?ve.UNKNOWN:VB(d.code);return new ke(h,d.message||"")})(s);n=new zB(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jE(t,r.document.name),a=Ya(r.document.updateTime),s=r.document.createTime?Ya(r.document.createTime):Ke.min(),u=new Fr({mapValue:{fields:r.document.fields}}),c=mr.newFoundDocument(i,a,s,u),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Zg(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jE(t,r.document),a=r.readTime?Ya(r.readTime):Ke.min(),s=mr.newNoDocument(i,a),u=r.removedTargetIds||[];n=new Zg([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jE(t,r.document),a=r.removedTargetIds||[];n=new Zg([],a,i,null)}else{if(!("filter"in e))return qe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new iTe(i,a),u=r.targetId;n=new FB(u,s)}}return n}function gTe(t,e){let n;if(e instanceof kp)n={update:o4(t,e.key,e.value)};else if(e instanceof I0)n={delete:OT(t,e.key)};else if(e instanceof vl)n={update:o4(t,e.key,e.data),updateMask:STe(e.fieldMask)};else{if(!(e instanceof tTe))return qe(16599,{Vt:e.type});n={verify:OT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const u=s.transform;if(u instanceof fv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Kh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Yh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof hv)return{fieldPath:s.field.canonicalString(),increment:u.Ae};throw qe(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:hTe(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:qe(27497)})(t,e.precondition)),n}function yTe(t,e){return t&&t.length>0?(xt(e!==void 0,14353),t.map((n=>(function(i,a){let s=i.updateTime?Ya(i.updateTime):Ya(a);return s.isEqual(Ke.min())&&(s=Ya(a)),new Qwe(s,i.transformResults||[])})(n,e)))):[]}function vTe(t,e){return{documents:[qB(t,e.path)]}}function _Te(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qB(t,i);const a=(function(d){if(d.length!==0)return $B(sa.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const s=(function(d){if(d.length!==0)return d.map((h=>(function(g){return{field:Rc(g.field),direction:ETe(g.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const u=MT(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function bTe(t){let e=pTe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(p){const g=GB(p);return g instanceof sa&&xB(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map((g=>(function(T){return new dv(Pc(T.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let g;return g=typeof p=="object"?p.value:p,E0(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,v=p.values||[];return new cv(v,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const g=!p.before,v=p.values||[];return new cv(v,g)})(n.endAt)),Fwe(e,i,s,a,u,"F",c,d)}function xTe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GB(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pc(n.unaryFilter.field);return In.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Pc(n.unaryFilter.field);return In.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Pc(n.unaryFilter.field);return In.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Pc(n.unaryFilter.field);return In.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return In.create(Pc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return sa.create(n.compositeFilter.filters.map((r=>GB(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(n.compositeFilter.op))})(t):qe(30097,{filter:t})}function ETe(t){return uTe[t]}function wTe(t){return cTe[t]}function TTe(t){return dTe[t]}function Rc(t){return{fieldPath:t.canonicalString()}}function Pc(t){return ar.fromServerFormat(t.fieldPath)}function $B(t){return t instanceof In?(function(n){if(n.op==="=="){if(KL(n.value))return{unaryFilter:{field:Rc(n.field),op:"IS_NAN"}};if($L(n.value))return{unaryFilter:{field:Rc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KL(n.value))return{unaryFilter:{field:Rc(n.field),op:"IS_NOT_NAN"}};if($L(n.value))return{unaryFilter:{field:Rc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rc(n.field),op:wTe(n.op),value:n.value}}})(t):t instanceof sa?(function(n){const r=n.getFilters().map((i=>$B(i)));return r.length===1?r[0]:{compositeFilter:{op:TTe(n.op),filters:r}}})(t):qe(54877,{filter:t})}function STe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r,i,a=Ke.min(),s=Ke.min(),u=sr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ATe{constructor(e){this.yt=e}}function CTe(t){const e=bTe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?PT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ITe{constructor(){this.Cn=new kTe}addToCollectionParentIndex(e,n){return this.Cn.add(n),xe.resolve()}getCollectionParents(e,n){return xe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return xe.resolve()}deleteFieldIndex(e,n){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,n){return xe.resolve()}getDocumentsMatchingTarget(e,n){return xe.resolve(null)}getIndexType(e,n){return xe.resolve(0)}getFieldIndexes(e,n){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,n){return xe.resolve(rl.min())}getMinOffsetFromCollectionGroup(e,n){return xe.resolve(rl.min())}updateCollectionGroup(e,n,r){return xe.resolve()}updateIndexEntries(e,n){return xe.resolve()}}class kTe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mn(Vt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YB=41943040;class Ur{static withCacheSize(e){return new Ur(e,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur.DEFAULT_COLLECTION_PERCENTILE=10,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ur.DEFAULT=new Ur(YB,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ur.DISABLED=new Ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pd(0)}static cr(){return new pd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="LruGarbageCollector",NTe=1048576;function u4([t,e],[n,r]){const i=st(t,n);return i===0?st(e,r):i}class RTe{constructor(e){this.Ir=e,this.buffer=new Mn(u4),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();u4(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PTe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Re(l4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Md(n)?Re(l4,"Ignoring IndexedDB error during garbage collection: ",n):await Pd(n)}await this.Vr(3e5)}))}}class MTe{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return xe.resolve(x0.ce);const r=new RTe(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(s4)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s4):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,u,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),kc()<=ot.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${a} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function DTe(t,e){return new MTe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OTe{constructor(){this.changes=new Ru((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?xe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LTe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UTe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&xh(r.mutation,i,oi.empty(),Gt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,lt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=lt()){const i=tu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let s=sh();return a.forEach(((u,c)=>{s=s.insert(u,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=tu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,lt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,u)=>{n.set(s,u)}))}))}computeViews(e,n,r,i){let a=Go();const s=bh(),u=(function(){return bh()})();return n.forEach(((c,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof vl)?a=a.insert(d.key,d):h!==void 0?(s.set(d.key,h.mutation.getFieldMask()),xh(h.mutation,d,h.mutation.getFieldMask(),Gt.now())):s.set(d.key,oi.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((d,h)=>s.set(d,h))),n.forEach(((d,h)=>u.set(d,new LTe(h,s.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=bh();let i=new en(((s,u)=>s-u)),a=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const u of s)u.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||oi.empty();h=u.applyToLocalView(d,h),r.set(c,h);const p=(i.get(u.batchId)||lt()).add(c);i=i.insert(u.batchId,p)}))})).next((()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,h=c.value,p=NB();h.forEach((g=>{if(!a.has(g)){const v=LB(n.get(g),r.get(g));v!==null&&p.set(g,v),a=a.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return xe.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return Ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):xe.resolve(tu());let u=qh,c=a;return s.next((d=>xe.forEach(d,((h,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),a.get(h)?xe.resolve():this.remoteDocumentCache.getEntry(e,h).next((g=>{c=c.insert(h,g)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,c,d,lt()))).next((h=>({batchId:u,changes:kB(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next((r=>{let i=sh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=sh();return this.indexManager.getCollectionParents(e,a).next((u=>xe.forEach(u,(c=>{const d=(function(p,g){return new Ip(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((p,g)=>{s=s.insert(p,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((s=>{a.forEach(((c,d)=>{const h=d.getKey();s.get(h)===null&&(s=s.insert(h,mr.newInvalidDocument(h)))}));let u=sh();return s.forEach(((c,d)=>{const h=a.get(c);h!==void 0&&xh(h.mutation,d,oi.empty(),Gt.now()),S0(n,d)&&(u=u.insert(c,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VTe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return xe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ya(i.createTime)}})(n)),xe.resolve()}getNamedQuery(e,n){return xe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:CTe(i.bundledQuery),readTime:Ya(i.readTime)}})(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FTe{constructor(){this.overlays=new en(Ue.comparator),this.qr=new Map}getOverlay(e,n){return xe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=tu();return xe.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),xe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),xe.resolve()}getOverlaysForCollection(e,n,r){const i=tu(),a=n.length+1,s=new Ue(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return xe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new en(((d,h)=>d-h));const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=a.get(d.largestBatchId);h===null&&(h=tu(),a=a.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const u=tu(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,h)=>u.set(d,h))),!(u.size()>=i)););return xe.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new rTe(n,r));let a=this.qr.get(n);a===void 0&&(a=lt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zTe{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.Qr=new Mn(Gn.$r),this.Ur=new Mn(Gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Gn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Gn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ue(new Vt([])),r=new Gn(n,e),i=new Gn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(s=>{this.Gr(s),a.push(s.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ue(new Vt([])),r=new Gn(n,e),i=new Gn(n,e+1);let a=lt();return this.Ur.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const n=new Gn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ue.comparator(e.key,n.key)||st(e.Yr,n.Yr)}static Kr(e,n){return st(e.Yr,n.Yr)||Ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BTe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mn(Gn.$r)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new nTe(a,n,r,i);this.mutationQueue.push(s);for(const u of i)this.Zr=this.Zr.add(new Gn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return xe.resolve(s)}lookupMutationBatch(e,n){return xe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return xe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?lA:this.tr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gn(n,0),i=new Gn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(s=>{const u=this.Xr(s.Yr);a.push(u)})),xe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mn(st);return n.forEach((i=>{const a=new Gn(i,0),s=new Gn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],(u=>{r=r.add(u.Yr)}))})),xe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ue.isDocumentKey(a)||(a=a.child(""));const s=new Gn(new Ue(a),0);let u=new Mn(st);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(c.Yr)),!0)}),s),xe.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return xe.forEach(n.mutations,(i=>{const a=new Gn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Gn(n,0),i=this.Zr.firstAfterOrEqual(r);return xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jTe{constructor(e){this.ri=e,this.docs=(function(){return new en(Ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return xe.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let r=Go();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():mr.newInvalidDocument(i))})),xe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Go();const s=n.path,u=new Ue(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||ywe(gwe(h),r)<=0||(i.has(h.key)||S0(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return xe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){qe(9500)}ii(e,n){return xe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new qTe(this)}getSize(e){return xe.resolve(this.size)}}class qTe extends OTe{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),xe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HTe{constructor(e){this.persistence=e,this.si=new Ru((n=>dA(n)),fA),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.oi=0,this._i=new vA,this.targetCount=0,this.ai=pd.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),xe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new pd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,xe.resolve()}updateTargetData(e,n){return this.Pr(n),xe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),xe.waitFor(a).next((()=>i))}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return xe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),xe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),xe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),xe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return xe.resolve(r)}containsKey(e,n){return xe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,n){this.ui={},this.overlays={},this.ci=new x0(0),this.li=!1,this.li=!0,this.hi=new zTe,this.referenceDelegate=e(this),this.Pi=new HTe(this),this.indexManager=new ITe,this.remoteDocumentCache=(function(i){return new jTe(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ATe(n),this.Ii=new VTe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FTe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new BTe(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const i=new GTe(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return xe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class GTe extends _we{constructor(e){super(),this.currentSequenceNumber=e}}class _A{constructor(e){this.persistence=e,this.Ri=new vA,this.Vi=null}static mi(e){return new _A(e)}get fi(){if(this.Vi)return this.Vi;throw qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),xe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),xe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.fi,(r=>{const i=Ue.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return xe.or([()=>xe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class mv{constructor(e,n){this.persistence=e,this.pi=new Ru((r=>Ewe(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=DTe(this,n)}static mi(e,n){return new mv(e,n)}Ei(){}di(e){return xe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return xe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?xe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(s=>this.br(e,s,n).next((u=>{u||(r++,a.removeEntry(s,Ke.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),xe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),xe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),xe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jg(e.data.value)),n}br(e,n,r){return xe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return xe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=lt(),i=lt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new bA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Te{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KTe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return v_e()?8:bwe(vr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new $Te;return this.Ss(e,n,s).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,s,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(kc()<=ot.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",Nc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),xe.resolve()):(kc()<=ot.DEBUG&&Re("QueryEngine","Query:",Nc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(kc()<=ot.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",Nc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ka(n))):xe.resolve())}ys(e,n){if(XL(n))return xe.resolve(null);let r=Ka(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=PT(n,null,"F"),r=Ka(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=lt(...a);return this.ps.getDocuments(e,s).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.Ds(n,u);return this.Cs(n,d,s,c.readTime)?this.ys(e,PT(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ws(e,n,r,i){return XL(n)||i.isEqual(Ke.min())?xe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?xe.resolve(null):(kc()<=ot.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nc(n)),this.vs(e,s,n,mwe(i,qh)).next((u=>u)))}))}Ds(e,n){let r=new Mn(CB(e));return n.forEach(((i,a)=>{S0(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return kc()<=ot.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Nc(n)),this.ps.getDocumentsMatchingQuery(e,n,rl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="LocalStore",YTe=3e8;class WTe{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new en(st),this.xs=new Ru((a=>dA(a)),fA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UTe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function JTe(t,e,n,r){return new WTe(t,e,n,r)}async function JB(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],u=[];let c=lt();for(const d of i){s.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of a){u.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ls:d,removedBatchIds:s,addedBatchIds:u})))}))}))}function XTe(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,c,d,h){const p=d.batch,g=p.keys();let v=xe.resolve();return g.forEach((T=>{v=v.next((()=>h.getEntry(c,T))).next((S=>{const A=d.docVersions.get(T);xt(A!==null,48541),S.version.compareTo(A)<0&&(p.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),h.addEntry(S)))}))})),v.next((()=>u.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=lt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function XB(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function QTe(t,e){const n=We(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((h,p)=>{const g=i.get(p);if(!g)return;u.push(n.Pi.removeMatchingKeys(a,h.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,h.addedDocuments,p))));let v=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(sr.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),(function(S,A,I){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=YTe?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(g,v,h)&&u.push(n.Pi.updateTargetData(a,v))}));let c=Go(),d=lt();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),u.push(ZTe(a,s,e.documentUpdates).next((h=>{c=h.ks,d=h.qs}))),!r.isEqual(Ke.min())){const h=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(h)}return xe.waitFor(u).next((()=>s.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,c,d))).next((()=>c))})).then((a=>(n.Ms=i,a)))}function ZTe(t,e,n){let r=lt(),i=lt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let s=Go();return n.forEach(((u,c)=>{const d=a.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Ke.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):Re(xA,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)})),{ks:s,qs:i}}))}function eSe(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=lA),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tSe(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,xe.resolve(i)):n.Pi.allocateTargetId(r).next((s=>(i=new Hs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function UT(t,e,n){const r=We(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Md(s))throw s;Re(xA,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function c4(t,e,n){const r=We(t);let i=Ke.min(),a=lt();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,d,h){const p=We(c),g=p.xs.get(h);return g!==void 0?xe.resolve(p.Ms.get(g)):p.Pi.getTargetData(d,h)})(r,s,Ka(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,u.targetId).next((c=>{a=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:Ke.min(),n?a:lt()))).next((u=>(nSe(r,Bwe(e),u),{documents:u,Qs:a})))))}function nSe(t,e,n){let r=t.Os.get(e)||Ke.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class d4{constructor(){this.activeTargetIds=Kwe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rSe{constructor(){this.Mo=new d4,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new d4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iSe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="ConnectivityMonitor";class h4{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Re(f4,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Re(f4,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dg=null;function VT(){return Dg===null?Dg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dg++,"0x"+Dg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="RestConnection",aSe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oSe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===lv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=VT(),u=this.zo(e,n.toUriEncodedString());Re(qE,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:d}=new URL(u),h=ml(d);return this.Jo(e,u,c,r,h).then((p=>(Re(qE,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw cd(qE,`RPC '${e}' ${s} failed with error: `,p,"url: ",u,"request:",r),p}))}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=aSe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sSe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="WebChannelConnection";class lSe extends oSe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=VT();return new Promise(((u,c)=>{const d=new eB;d.setWithCredentials(!0),d.listenOnce(tB.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Wg.NO_ERROR:const p=d.getResponseJson();Re(fr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),u(p);break;case Wg.TIMEOUT:Re(fr,`RPC '${e}' ${s} timed out`),c(new ke(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Wg.HTTP_ERROR:const g=d.getStatus();if(Re(fr,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const S=(function(I){const V=I.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(V)>=0?V:ve.UNKNOWN})(T.status);c(new ke(S,T.message))}else c(new ke(ve.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ke(ve.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:s,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Re(fr,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);Re(fr,`RPC '${e}' ${s} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=VT(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=iB(),u=rB(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=a.join("");Re(fr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=s.createWebChannel(h,c);this.I_(p);let g=!1,v=!1;const T=new sSe({Yo:A=>{v?Re(fr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(Re(fr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Re(fr,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Zo:()=>p.close()}),S=(A,I,V)=>{A.listen(I,(N=>{try{V(N)}catch(B){setTimeout((()=>{throw B}),0)}}))};return S(p,oh.EventType.OPEN,(()=>{v||(Re(fr,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),S(p,oh.EventType.CLOSE,(()=>{v||(v=!0,Re(fr,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(p))})),S(p,oh.EventType.ERROR,(A=>{v||(v=!0,cd(fr,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),T.a_(new ke(ve.UNAVAILABLE,"The operation could not be completed")))})),S(p,oh.EventType.MESSAGE,(A=>{var I;if(!v){const V=A.data[0];xt(!!V,16349);const N=V,B=(N==null?void 0:N.error)||((I=N[0])==null?void 0:I.error);if(B){Re(fr,`RPC '${e}' stream ${i} received error:`,B);const q=B.status;let L=(function(U){const F=Sn[U];if(F!==void 0)return VB(F)})(q),D=B.message;L===void 0&&(L=ve.INTERNAL,D="Unknown error status: "+q+" with message "+B.message),v=!0,T.a_(new ke(L,D)),p.close()}else Re(fr,`RPC '${e}' stream ${i} received:`,V),T.u_(V)}})),S(u,nB.STAT_EVENT,(A=>{A.stat===ST.PROXY?Re(fr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===ST.NOPROXY&&Re(fr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function HE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t){return new fTe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="PersistentStream";class ZB{constructor(e,n,r,i,a,s,u,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QB(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Ho(n.toString()),Ho("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ke(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Re(p4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Re(p4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uSe extends ZB{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mTe(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ke.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ke.min():s.readTime?Ya(s.readTime):Ke.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=LT(this.serializer),n.addTarget=(function(a,s){let u;const c=s.target;if(u=NT(c)?{documents:vTe(a,c)}:{query:_Te(a,c).ft},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=BB(a,s.resumeToken);const d=MT(a,s.expectedCount);d!==null&&(u.expectedCount=d)}else if(s.snapshotVersion.compareTo(Ke.min())>0){u.readTime=pv(a,s.snapshotVersion.toTimestamp());const d=MT(a,s.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=xTe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=LT(this.serializer),n.removeTarget=e,this.q_(n)}}class cSe extends ZB{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yTe(e.writeResults,e.commitTime),r=Ya(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=LT(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>gTe(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dSe{}class fSe extends dSe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ke(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Go(e,DT(n,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(ve.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,u])=>this.connection.Ho(e,DT(n,r),i,s,u,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(ve.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hSe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ho(n),this.aa=!1):Re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu="RemoteStore";class pSe{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((s=>{r.enqueueAndForget((async()=>{Pu(this)&&(Re(xu,"Restarting streams for network reachability change."),await(async function(c){const d=We(c);d.Ea.add(4),await Rp(d),d.Ra.set("Unknown"),d.Ea.delete(4),await R0(d)})(this))}))})),this.Ra=new hSe(r,i)}}async function R0(t){if(Pu(t))for(const e of t.da)await e(!0)}async function Rp(t){for(const e of t.da)await e(!1)}function ej(t,e){const n=We(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),SA(n)?TA(n):Dd(n).O_()&&wA(n,e))}function EA(t,e){const n=We(t),r=Dd(n);n.Ia.delete(e),r.O_()&&tj(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pu(n)&&n.Ra.set("Unknown"))}function wA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dd(t).Y_(e)}function tj(t,e){t.Va.Ue(e),Dd(t).Z_(e)}function TA(t){t.Va=new lTe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Dd(t).start(),t.Ra.ua()}function SA(t){return Pu(t)&&!Dd(t).x_()&&t.Ia.size>0}function Pu(t){return We(t).Ea.size===0}function nj(t){t.Va=void 0}async function mSe(t){t.Ra.set("Online")}async function gSe(t){t.Ia.forEach(((e,n)=>{wA(t,e)}))}async function ySe(t,e){nj(t),SA(t)?(t.Ra.ha(e),TA(t)):t.Ra.set("Unknown")}async function vSe(t,e,n){if(t.Ra.set("Online"),e instanceof zB&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Re(xu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gv(t,r)}else if(e instanceof Zg?t.Va.Ze(e):e instanceof FB?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ke.min()))try{const r=await XB(t.localStore);n.compareTo(r)>=0&&await(function(a,s){const u=a.Va.Tt(s);return u.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ia.get(d);h&&a.Ia.set(d,h.withResumeToken(c.resumeToken,s))}})),u.targetMismatches.forEach(((c,d)=>{const h=a.Ia.get(c);if(!h)return;a.Ia.set(c,h.withResumeToken(sr.EMPTY_BYTE_STRING,h.snapshotVersion)),tj(a,c);const p=new Hs(h.target,c,d,h.sequenceNumber);wA(a,p)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Re(xu,"Failed to raise snapshot:",r),await gv(t,r)}}async function gv(t,e,n){if(!Md(e))throw e;t.Ea.add(1),await Rp(t),t.Ra.set("Offline"),n||(n=()=>XB(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Re(xu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await R0(t)}))}function rj(t,e){return e().catch((n=>gv(t,n,e)))}async function P0(t){const e=We(t),n=sl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lA;for(;_Se(e);)try{const i=await eSe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,bSe(e,i)}catch(i){await gv(e,i)}ij(e)&&aj(e)}function _Se(t){return Pu(t)&&t.Ta.length<10}function bSe(t,e){t.Ta.push(e);const n=sl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ij(t){return Pu(t)&&!sl(t).x_()&&t.Ta.length>0}function aj(t){sl(t).start()}async function xSe(t){sl(t).ra()}async function ESe(t){const e=sl(t);for(const n of t.Ta)e.ea(n.mutations)}async function wSe(t,e,n){const r=t.Ta.shift(),i=mA.from(r,e,n);await rj(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await P0(t)}async function TSe(t,e){e&&sl(t).X_&&await(async function(r,i){if((function(s){return aTe(s)&&s!==ve.ABORTED})(i.code)){const a=r.Ta.shift();sl(r).B_(),await rj(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await P0(r)}})(t,e),ij(t)&&aj(t)}async function m4(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),Re(xu,"RemoteStore received new credentials");const r=Pu(n);n.Ea.add(3),await Rp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await R0(n)}async function SSe(t,e){const n=We(t);e?(n.Ea.delete(2),await R0(n)):e||(n.Ea.add(2),await Rp(n),n.Ra.set("Unknown"))}function Dd(t){return t.ma||(t.ma=(function(n,r,i){const a=We(n);return a.sa(),new uSe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:mSe.bind(null,t),t_:gSe.bind(null,t),r_:ySe.bind(null,t),H_:vSe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),SA(t)?TA(t):t.Ra.set("Unknown")):(await t.ma.stop(),nj(t))}))),t.ma}function sl(t){return t.fa||(t.fa=(function(n,r,i){const a=We(n);return a.sa(),new cSe(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xSe.bind(null,t),r_:TSe.bind(null,t),ta:ESe.bind(null,t),na:wSe.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await P0(t)):(await t.fa.stop(),t.Ta.length>0&&(Re(xu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,u=new AA(e,n,s,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function CA(t,e){if(Ho("AsyncQueue",`${e}: ${t}`),Md(t))return new ke(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{static emptySet(e){return new Xc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ue.comparator(n.key,r.key):(n,r)=>Ue.comparator(n.key,r.key),this.keyedMap=sh(),this.sortedSet=new en(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.ga=new en(Ue.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):qe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class md{constructor(e,n,r,i,a,s,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach((u=>{s.push({type:0,doc:u})})),new md(e,n,Xc.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&T0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ASe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CSe{constructor(){this.queries=y4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=We(n),a=i.queries;i.queries=y4(),a.forEach(((s,u)=>{for(const c of u.Sa)c.onError(r)}))})(this,new ke(ve.ABORTED,"Firestore shutting down"))}}function y4(){return new Ru((t=>AB(t)),T0)}async function oj(t,e){const n=We(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new ASe,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const u=CA(s,`Initialization of query '${Nc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&IA(n)}async function sj(t,e){const n=We(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ISe(t,e){const n=We(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const u of s.Sa)u.Fa(i)&&(r=!0);s.wa=i}}r&&IA(n)}function kSe(t,e,n){const r=We(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function IA(t){t.Ca.forEach((e=>{e.next()}))}var FT,v4;(v4=FT||(FT={})).Ma="default",v4.Cache="cache";class lj{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new md(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=md.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==FT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.key=e}}class cj{constructor(e){this.key=e}}class NSe{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=lt(),this.mutatedKeys=lt(),this.eu=CB(e),this.tu=new Xc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new g4,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const g=i.get(h),v=S0(this.query,p)?p:null,T=!!g&&this.mutatedKeys.has(g.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let A=!1;g&&v?g.data.isEqual(v.data)?T!==S&&(r.track({type:3,doc:v}),A=!0):this.su(g,v)||(r.track({type:2,doc:v}),A=!0,(c&&this.eu(v,c)>0||d&&this.eu(v,d)<0)&&(u=!0)):!g&&v?(r.track({type:0,doc:v}),A=!0):g&&!v&&(r.track({type:1,doc:g}),A=!0,(c||d)&&(u=!0)),A&&(v?(s=s.add(v),a=S?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,p)=>(function(v,T){const S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Rt:A})}};return S(v)-S(T)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,s.length!==0||d?{snapshot:new md(this.query,e.tu,a,s,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new g4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new cj(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new uj(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=lt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return md.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kA="SyncEngine";class RSe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class PSe{constructor(e){this.key=e,this.hu=!1}}class MSe{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ru((u=>AB(u)),T0),this.Iu=new Map,this.Eu=new Set,this.du=new en(Ue.comparator),this.Au=new Map,this.Ru=new vA,this.Vu={},this.mu=new Map,this.fu=pd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DSe(t,e,n=!0){const r=gj(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await dj(r,e,n,!0),i}async function OSe(t,e){const n=gj(t);await dj(n,e,!0,!1)}async function dj(t,e,n,r){const i=await tSe(t.localStore,Ka(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await LSe(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&ej(t.remoteStore,i),u}async function LSe(t,e,n,r,i){t.pu=(p,g,v)=>(async function(S,A,I,V){let N=A.view.ru(I);N.Cs&&(N=await c4(S.localStore,A.query,!1).then((({documents:D})=>A.view.ru(D,N))));const B=V&&V.targetChanges.get(A.targetId),q=V&&V.targetMismatches.get(A.targetId)!=null,L=A.view.applyChanges(N,S.isPrimaryClient,B,q);return b4(S,A.targetId,L.au),L.snapshot})(t,p,g,v);const a=await c4(t.localStore,e,!0),s=new NSe(e,a.Qs),u=s.ru(a.documents),c=Np.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=s.applyChanges(u,t.isPrimaryClient,c);b4(t,n,d.au);const h=new RSe(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function USe(t,e,n){const r=We(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((s=>!T0(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await UT(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&EA(r.remoteStore,i.targetId),zT(r,i.targetId)})).catch(Pd)):(zT(r,i.targetId),await UT(r.localStore,i.targetId,!0))}async function VSe(t,e){const n=We(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),EA(n.remoteStore,r.targetId))}async function FSe(t,e,n){const r=$Se(t);try{const i=await(function(s,u){const c=We(s),d=Gt.now(),h=u.reduce(((v,T)=>v.add(T.key)),lt());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let T=Go(),S=lt();return c.Ns.getEntries(v,h).next((A=>{T=A,T.forEach(((I,V)=>{V.isValidDocument()||(S=S.add(I))}))})).next((()=>c.localDocuments.getOverlayedDocuments(v,T))).next((A=>{p=A;const I=[];for(const V of u){const N=eTe(V,p.get(V.key).overlayedDocument);N!=null&&I.push(new vl(V.key,N,vB(N.value.mapValue),Sr.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,I,u)})).next((A=>{g=A;const I=A.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(v,A.batchId,I)}))})).then((()=>({batchId:g.batchId,changes:kB(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,u,c){let d=s.Vu[s.currentUser.toKey()];d||(d=new en(st)),d=d.insert(u,c),s.Vu[s.currentUser.toKey()]=d})(r,i.batchId,n),await Pp(r,i.changes),await P0(r.remoteStore)}catch(i){const a=CA(i,"Failed to persist write");n.reject(a)}}async function fj(t,e){const n=We(t);try{const r=await QTe(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=n.Au.get(a);s&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?xt(s.hu,14607):i.removedDocuments.size>0&&(xt(s.hu,42227),s.hu=!1))})),await Pp(n,r,e)}catch(r){await Pd(r)}}function _4(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,s)=>{const u=s.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(s,u){const c=We(s);c.onlineState=u;let d=!1;c.queries.forEach(((h,p)=>{for(const g of p.Sa)g.va(u)&&(d=!0)})),d&&IA(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zSe(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new en(Ue.comparator);s=s.insert(a,mr.newNoDocument(a,Ke.min()));const u=lt().add(a),c=new k0(Ke.min(),new Map,new en(st),s,u);await fj(r,c),r.du=r.du.remove(a),r.Au.delete(e),NA(r)}else await UT(r.localStore,e,!1).then((()=>zT(r,e,n))).catch(Pd)}async function BSe(t,e){const n=We(t),r=e.batch.batchId;try{const i=await XTe(n.localStore,e);pj(n,r,null),hj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pp(n,i)}catch(i){await Pd(i)}}async function jSe(t,e,n){const r=We(t);try{const i=await(function(s,u){const c=We(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return c.mutationQueue.lookupMutationBatch(d,u).next((p=>(xt(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(d,p)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>c.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);pj(r,e,n),hj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pp(r,i)}catch(i){await Pd(i)}}function hj(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function pj(t,e,n){const r=We(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function zT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||mj(t,r)}))}function mj(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(EA(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),NA(t))}function b4(t,e,n){for(const r of n)r instanceof uj?(t.Ru.addReference(r.key,e),qSe(t,r)):r instanceof cj?(Re(kA,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||mj(t,r.key)):qe(19791,{wu:r})}function qSe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Re(kA,"New document in limbo: "+n),t.Eu.add(r),NA(t))}function NA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ue(Vt.fromString(e)),r=t.fu.next();t.Au.set(r,new PSe(n)),t.du=t.du.insert(n,r),ej(t.remoteStore,new Hs(Ka(hA(n.path)),r,"TargetPurposeLimboResolution",x0.ce))}}async function Pp(t,e,n){const r=We(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{s.push(r.pu(c,e,n).then((d=>{var h;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(d){i.push(d);const p=bA.As(c.targetId,d);a.push(p)}})))})),await Promise.all(s),r.Pu.H_(i),await(async function(c,d){const h=We(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>xe.forEach(d,(g=>xe.forEach(g.Es,(v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>xe.forEach(g.ds,(v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!Md(p))throw p;Re(xA,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const v=h.Ms.get(g),T=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(T);h.Ms=h.Ms.insert(g,S)}}})(r.localStore,a))}async function HSe(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){Re(kA,"User change. New user:",e.toKey());const r=await JB(n.localStore,e);n.currentUser=e,(function(a,s){a.mu.forEach((u=>{u.forEach((c=>{c.reject(new ke(ve.CANCELLED,s))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pp(n,r.Ls)}}function GSe(t,e){const n=We(t),r=n.Au.get(e);if(r&&r.hu)return lt().add(r.key);{let i=lt();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const u=n.Tu.get(s);i=i.unionWith(u.view.nu)}return i}}function gj(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GSe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zSe.bind(null,e),e.Pu.H_=ISe.bind(null,e.eventManager),e.Pu.yu=kSe.bind(null,e.eventManager),e}function $Se(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BSe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jSe.bind(null,e),e}class yv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=N0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JTe(this.persistence,new KTe,e.initialUser,this.serializer)}Cu(e){return new WB(_A.mi,this.serializer)}Du(e){return new rSe}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yv.provider={build:()=>new yv};class KSe extends yv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xt(this.persistence.referenceDelegate instanceof mv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new PTe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ur.withCacheSize(this.cacheSizeBytes):Ur.DEFAULT;return new WB((r=>mv.mi(r,n)),this.serializer)}}class BT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HSe.bind(null,this.syncEngine),await SSe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CSe})()}createDatastore(e){const n=N0(e.databaseInfo.databaseId),r=(function(a){return new lSe(a)})(e.databaseInfo);return(function(a,s,u,c){return new fSe(a,s,u,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,s,u){return new pSe(r,i,a,s,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>_4(this.syncEngine,n,0)),(function(){return h4.v()?new h4:new iSe})())}createSyncEngine(e,n){return(function(i,a,s,u,c,d,h){const p=new MSe(i,a,s,u,c,d);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=We(i);Re(xu,"RemoteStore shutting down."),a.Ea.add(5),await Rp(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}BT.provider={build:()=>new BT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ho("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="FirestoreClient";class YSe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=sA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{Re(ll,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(Re(ll,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=CA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function GE(t,e){t.asyncQueue.verifyOperationInProgress(),Re(ll,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await JB(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function x4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WSe(t);Re(ll,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>m4(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>m4(e.remoteStore,i))),t._onlineComponents=e}async function WSe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(ll,"Using user provided OfflineComponentProvider");try{await GE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;cd("Error using user provided cache. Falling back to memory cache: "+n),await GE(t,new yv)}}else Re(ll,"Using default OfflineComponentProvider"),await GE(t,new KSe(void 0));return t._offlineComponents}async function vj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(ll,"Using user provided OnlineComponentProvider"),await x4(t,t._uninitializedComponentsProvider._online)):(Re(ll,"Using default OnlineComponentProvider"),await x4(t,new BT))),t._onlineComponents}function JSe(t){return vj(t).then((e=>e.syncEngine))}async function _j(t){const e=await vj(t),n=e.eventManager;return n.onListen=DSe.bind(null,e.syncEngine),n.onUnlisten=USe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OSe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VSe.bind(null,e.syncEngine),n}function XSe(t,e,n={}){const r=new Po;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,u,c,d){const h=new yj({next:g=>{h.Nu(),s.enqueueAndForget((()=>sj(a,p)));const v=g.docs.has(u);!v&&g.fromCache?d.reject(new ke(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&c.source==="server"?d.reject(new ke(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new lj(hA(u.path),h,{includeMetadataChanges:!0,qa:!0});return oj(a,p)})(await _j(t),t.asyncQueue,e,n,r))),r.promise}function QSe(t,e,n={}){const r=new Po;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,u,c,d){const h=new yj({next:g=>{h.Nu(),s.enqueueAndForget((()=>sj(a,p))),g.fromCache&&c.source==="server"?d.reject(new ke(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new lj(u,h,{includeMetadataChanges:!0,qa:!0});return oj(a,p)})(await _j(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="firestore.googleapis.com",w4=!0;class T4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ke(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xj,this.ssl=w4}else this.host=e.host,this.ssl=e.ssl??w4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YB;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NTe)throw new ke(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pwe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bj(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class M0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new iwe;switch(r.type){case"firstParty":return new lwe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=E4.get(n);r&&(Re("ComponentProvider","Removing Datastore"),E4.delete(n),r.terminate())})(this),Promise.resolve()}}function ZSe(t,e,n,r={}){var d;t=Li(t,M0);const i=ml(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(Y1(`https://${u}`),W1("Firestore",!0)),a.host!==xj&&a.host!==u&&cd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:u,ssl:i,emulatorOptions:r};if(!gu(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=pr.MOCK_USER;else{h=fz(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ke(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new pr(g)}t._authCredentials=new awe(new oB(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Od(this.firestore,e,this._query)}}class pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}toJSON(){return{type:pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Cp(n,pn._jsonSchema))return new pn(e,r||null,new Ue(Vt.fromString(n.referencePath)))}}pn._jsonSchemaVersion="firestore/documentReference/1.0",pn._jsonSchema={type:kn("string",pn._jsonSchemaVersion),referencePath:kn("string")};class Js extends Od{constructor(e,n,r){super(e,n,hA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new Ue(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function Wh(t,e,...n){if(t=$t(t),sB("collection","path",e),t instanceof M0){const r=Vt.fromString(e,...n);return UL(r),new Js(t,null,r)}{if(!(t instanceof pn||t instanceof Js))throw new ke(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return UL(r),new Js(t.firestore,null,r)}}function ui(t,e,...n){if(t=$t(t),arguments.length===1&&(e=sA.newId()),sB("doc","path",e),t instanceof M0){const r=Vt.fromString(e,...n);return LL(r),new pn(t,null,new Ue(r))}{if(!(t instanceof pn||t instanceof Js))throw new ke(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return LL(r),new pn(t.firestore,t instanceof Js?t.converter:null,new Ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="AsyncQueue";class A4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QB(this,"async_queue_retry"),this._c=()=>{const r=HE();r&&Re(S4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=HE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=HE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Po;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Md(e))throw e;Re(S4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ho("INTERNAL UNHANDLED ERROR: ",C4(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=AA.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&qe(47125,{Pc:C4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function C4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class _l extends M0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new A4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A4(e),this._firestoreClient=void 0,await e}}}function e1e(t,e){const n=typeof t=="object"?t:Q1(),r=typeof t=="string"?t:lv,i=m0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=uz("firestore");a&&ZSe(i,...a)}return i}function D0(t){if(t._terminated)throw new ke(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||t1e(t),t._firestoreClient}function t1e(t){var r,i,a;const e=t._freezeSettings(),n=(function(u,c,d,h){return new Swe(u,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,bj(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YSe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(sr.fromBase64String(e))}catch(n){throw new ke(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ki(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ki._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cp(e,ki._jsonSchema))return ki.fromBase64String(e.bytes)}}ki._jsonSchemaVersion="firestore/bytes/1.0",ki._jsonSchema={type:kn("string",ki._jsonSchemaVersion),bytes:kn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wa._jsonSchemaVersion}}static fromJSON(e){if(Cp(e,Wa._jsonSchema))return new Wa(e.latitude,e.longitude)}}Wa._jsonSchemaVersion="firestore/geoPoint/1.0",Wa._jsonSchema={type:kn("string",Wa._jsonSchemaVersion),latitude:kn("number"),longitude:kn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ja._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cp(e,Ja._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ja(e.vectorValues);throw new ke(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ja._jsonSchemaVersion="firestore/vectorValue/1.0",Ja._jsonSchema={type:kn("string",Ja._jsonSchemaVersion),vectorValues:kn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1e=/^__.*__$/;class r1e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vl(e,this.data,this.fieldMask,n,this.fieldTransforms):new kp(e,this.data,n,this.fieldTransforms)}}class Ej{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ac:t})}}class PA{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new PA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wj(this.Ac)&&n1e.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class i1e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||N0(e)}Cc(e,n,r,i=!1){return new PA({Ac:e,methodName:n,Dc:r,path:ar.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dp(t){const e=t._freezeSettings(),n=N0(t._databaseId);return new i1e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MA(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);DA("Data must be an object, but it was:",s,r);const u=Aj(r,s);let c,d;if(a.merge)c=new oi(s.fieldMask),d=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const g=jT(e,p,n);if(!s.contains(g))throw new ke(ve.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Ij(h,g)||h.push(g)}c=new oi(h),d=s.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,d=s.fieldTransforms;return new r1e(new Fr(u),c,d)}class O0 extends RA{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof O0}}function Tj(t,e,n,r){const i=t.Cc(1,e,n);DA("Data must be an object, but it was:",i,r);const a=[],s=Fr.empty();yl(r,((c,d)=>{const h=OA(e,c,n);d=$t(d);const p=i.yc(h);if(d instanceof O0)a.push(h);else{const g=Op(d,p);g!=null&&(a.push(h),s.set(h,g))}}));const u=new oi(a);return new Ej(s,u,i.fieldTransforms)}function Sj(t,e,n,r,i,a){const s=t.Cc(1,e,n),u=[jT(e,r,n)],c=[i];if(a.length%2!=0)throw new ke(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)u.push(jT(e,a[g])),c.push(a[g+1]);const d=[],h=Fr.empty();for(let g=u.length-1;g>=0;--g)if(!Ij(d,u[g])){const v=u[g];let T=c[g];T=$t(T);const S=s.yc(v);if(T instanceof O0)d.push(v);else{const A=Op(T,S);A!=null&&(d.push(v),h.set(v,A))}}const p=new oi(d);return new Ej(h,p,s.fieldTransforms)}function a1e(t,e,n,r=!1){return Op(n,t.Cc(r?4:3,e))}function Op(t,e){if(Cj(t=$t(t)))return DA("Unsupported field value:",e,t),Aj(t,e);if(t instanceof RA)return(function(r,i){if(!wj(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const u of r){let c=Op(u,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ywe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Gt.fromDate(r);return{timestampValue:pv(i.serializer,a)}}if(r instanceof Gt){const a=new Gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pv(i.serializer,a)}}if(r instanceof Wa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ki)return{bytesValue:BB(i.serializer,r._byteString)};if(r instanceof pn){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:yA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ja)return(function(s,u){return{mapValue:{fields:{[gB]:{stringValue:yB},[uv]:{arrayValue:{values:s.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return pA(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${b0(r)}`)})(t,e)}function Aj(t,e){const n={};return cB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yl(t,((r,i)=>{const a=Op(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function Cj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gt||t instanceof Wa||t instanceof ki||t instanceof pn||t instanceof RA||t instanceof Ja)}function DA(t,e,n){if(!Cj(n)||!lB(n)){const r=b0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function jT(t,e,n){if((e=$t(e))instanceof Mp)return e._internalPath;if(typeof e=="string")return OA(t,e);throw vv("Field path arguments must be of type string or ",t,!1,void 0,n)}const o1e=new RegExp("[~\\*/\\[\\]]");function OA(t,e,n){if(e.search(o1e)>=0)throw vv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mp(...e.split("."))._internalPath}catch{throw vv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vv(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ke(ve.INVALID_ARGUMENT,u+t+c)}function Ij(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s1e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(LA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s1e extends kj{data(){return super.data()}}function LA(t,e){return typeof e=="string"?OA(t,e):e instanceof Mp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1e(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UA{}class u1e extends UA{}function c1e(t,e,...n){let r=[];e instanceof UA&&r.push(e),r=r.concat(n),(function(a){const s=a.filter((c=>c instanceof VA)).length,u=a.filter((c=>c instanceof L0)).length;if(s>1||s>0&&u>0)throw new ke(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class L0 extends u1e{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new L0(e,n,r)}_apply(e){const n=this._parse(e);return Nj(e._query,n),new Od(e.firestore,e.converter,RT(e._query,n))}_parse(e){const n=Dp(e.firestore);return(function(a,s,u,c,d,h,p){let g;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ke(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){k4(p,h);const T=[];for(const S of p)T.push(I4(c,a,S));g={arrayValue:{values:T}}}else g=I4(c,a,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||k4(p,h),g=a1e(u,s,p,h==="in"||h==="not-in");return In.create(d,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function d1e(t,e,n){const r=e,i=LA("where",t);return L0._create(i,r,n)}class VA extends UA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new VA(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:sa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let s=i;const u=a.getFlattenedFilters();for(const c of u)Nj(s,c),s=RT(s,c)})(e._query,n),new Od(e.firestore,e.converter,RT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function I4(t,e,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new ke(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SB(e)&&n.indexOf("/")!==-1)throw new ke(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Vt.fromString(n));if(!Ue.isDocumentKey(r))throw new ke(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GL(t,new Ue(r))}if(n instanceof pn)return GL(t,n._key);throw new ke(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${b0(n)}.`)}function k4(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Nj(t,e){const n=(function(i,a){for(const s of i)for(const u of s.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ke(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class f1e{convertValue(e,n="none"){switch(ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(al(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yl(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[uv].arrayValue)==null?void 0:i.values)==null?void 0:a.map((s=>hn(s.doubleValue)));return new Ja(n)}convertGeoPoint(e){return new Wa(hn(e.latitude),hn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=w0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hh(e));default:return null}}convertTimestamp(e){const n=il(e);return new Gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vt.fromString(e);xt(KB(r),9688,{name:e});const i=new Gh(r.get(1),r.get(3)),a=new Ue(r.popFirst(5));return i.isEqual(n)||Ho(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class uh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uu extends kj{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ey(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(LA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ke(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=uu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}uu._jsonSchemaVersion="firestore/documentSnapshot/1.0",uu._jsonSchema={type:kn("string",uu._jsonSchemaVersion),bundleSource:kn("string","DocumentSnapshot"),bundleName:kn("string"),bundle:kn("string")};class ey extends uu{data(e={}){return super.data(e)}}class Qc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new uh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ey(this._firestore,this._userDataWriter,r.key,r,new uh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((u=>{const c=new ey(i._firestore,i._userDataWriter,u.doc.key,u.doc,new uh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const c=new ey(i._firestore,i._userDataWriter,u.doc.key,u.doc,new uh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return u.type!==0&&(d=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:h1e(u.type),doc:c,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ke(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function h1e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(t){t=Li(t,pn);const e=Li(t.firestore,_l);return XSe(D0(e),t._key).then((n=>p1e(e,t,n)))}Qc._jsonSchemaVersion="firestore/querySnapshot/1.0",Qc._jsonSchema={type:kn("string",Qc._jsonSchemaVersion),bundleSource:kn("string","QuerySnapshot"),bundleName:kn("string"),bundle:kn("string")};class Pj extends f1e{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function Jh(t){t=Li(t,Od);const e=Li(t.firestore,_l),n=D0(e),r=new Pj(e);return l1e(t._query),QSe(n,t._query).then((i=>new Qc(e,r,t,i)))}function Mj(t,e,n){t=Li(t,pn);const r=Li(t.firestore,_l),i=FA(t.converter,e,n);return Up(r,[MA(Dp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Sr.none())])}function Lp(t,e,n,...r){t=Li(t,pn);const i=Li(t.firestore,_l),a=Dp(i);let s;return s=typeof(e=$t(e))=="string"||e instanceof Mp?Sj(a,"updateDoc",t._key,e,n,r):Tj(a,"updateDoc",t._key,e),Up(i,[s.toMutation(t._key,Sr.exists(!0))])}function Dj(t){return Up(Li(t.firestore,_l),[new I0(t._key,Sr.none())])}function Oj(t,e){const n=Li(t.firestore,_l),r=ui(t),i=FA(t.converter,e);return Up(n,[MA(Dp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Sr.exists(!1))]).then((()=>r))}function Up(t,e){return(function(r,i){const a=new Po;return r.asyncQueue.enqueueAndForget((async()=>FSe(await JSe(r),i,a))),a.promise})(D0(t),e)}function p1e(t,e,n){const r=n.docs.get(e._key),i=new Pj(t);return new uu(t,i,e._key,r,new uh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1e{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Dp(e)}set(e,n,r){this._verifyNotCommitted();const i=$E(e,this._firestore),a=FA(i.converter,n,r),s=MA(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Sr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=$E(e,this._firestore);let s;return s=typeof(n=$t(n))=="string"||n instanceof Mp?Sj(this._dataReader,"WriteBatch.update",a._key,n,r,i):Tj(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,Sr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=$E(e,this._firestore);return this._mutations=this._mutations.concat(new I0(n._key,Sr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $E(t,e){if((t=$t(t)).firestore!==e)throw new ke(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){return D0(t=Li(t,_l)),new m1e(t,(e=>Up(t,e)))}(function(e,n=!0){(function(i){Rd=i})(ku),yu(new nl("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),u=new _l(new owe(r.getProvider("auth-internal")),new uwe(s,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ke(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gh(d.options.projectId,h)})(s,i),s);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),qa(PL,ML,e),qa(PL,ML,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="firebasestorage.googleapis.com",Uj="storageBucket",g1e=120*1e3,y1e=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn extends no{constructor(e,n,r=0){super(KE(e),`Firebase Storage: ${n} (${KE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,sn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return KE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var on;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(on||(on={}));function KE(t){return"storage/"+t}function BA(){const t="An unknown error occurred, please check the error payload for server response.";return new sn(on.UNKNOWN,t)}function v1e(t){return new sn(on.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function _1e(t){return new sn(on.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function b1e(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new sn(on.UNAUTHENTICATED,t)}function x1e(){return new sn(on.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function E1e(t){return new sn(on.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function w1e(){return new sn(on.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function T1e(){return new sn(on.CANCELED,"User canceled the upload/download.")}function S1e(t){return new sn(on.INVALID_URL,"Invalid URL '"+t+"'.")}function A1e(t){return new sn(on.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function C1e(){return new sn(on.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Uj+"' property when initializing the app?")}function I1e(){return new sn(on.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function k1e(){return new sn(on.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function N1e(t){return new sn(on.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function qT(t){return new sn(on.INVALID_ARGUMENT,t)}function Vj(){return new sn(on.APP_DELETED,"The Firebase app was deleted.")}function R1e(t){return new sn(on.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Eh(t,e){return new sn(on.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function th(t){throw new sn(on.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=si.makeFromUrl(e,n)}catch{return new si(e,"")}if(r.path==="")return r;throw A1e(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const s="(/(.*))?$",u=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function d(B){B.path_=decodeURIComponent(B.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${h}/b/${i}/o${g}`,"i"),T={bucket:1,path:3},S=n===Lj?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",I=new RegExp(`^https?://${S}/${i}/${A}`,"i"),N=[{regex:u,indices:c,postModify:a},{regex:v,indices:T,postModify:d},{regex:I,indices:{bucket:1,path:2},postModify:d}];for(let B=0;B<N.length;B++){const q=N[B],L=q.regex.exec(e);if(L){const D=L[q.indices.bucket];let O=L[q.indices.path];O||(O=""),r=new si(D,O),q.postModify(r);break}}if(r==null)throw S1e(e);return r}}class P1e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1e(t,e,n){let r=1,i=null,a=null,s=!1,u=0;function c(){return u===2}let d=!1;function h(...A){d||(d=!0,e.apply(null,A))}function p(A){i=setTimeout(()=>{i=null,t(v,c())},A)}function g(){a&&clearTimeout(a)}function v(A,...I){if(d){g();return}if(A){g(),h.call(null,A,...I);return}if(c()||s){g(),h.call(null,A,...I);return}r<64&&(r*=2);let N;u===1?(u=2,N=0):N=(r+Math.random())*1e3,p(N)}let T=!1;function S(A){T||(T=!0,g(),!d&&(i!==null?(A||(u=2),clearTimeout(i),p(0)):A||(u=1)))}return p(0),a=setTimeout(()=>{s=!0,S(!0)},n),S}function D1e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1e(t){return t!==void 0}function L1e(t){return typeof t=="object"&&!Array.isArray(t)}function jA(t){return typeof t=="string"||t instanceof String}function N4(t){return qA()&&t instanceof Blob}function qA(){return typeof Blob<"u"}function R4(t,e,n,r){if(r<e)throw qT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw qT(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Fj(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var cu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(cu||(cu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1e(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1e{constructor(e,n,r,i,a,s,u,c,d,h,p,g=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,S)=>{this.resolve_=T,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Og(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const u=a.getErrorCode()===cu.NO_ERROR,c=a.getStatus();if(!u||U1e(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===cu.ABORT;r(!1,new Og(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Og(d,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());O1e(c)?a(c):a()}catch(c){s(c)}else if(u!==null){const c=BA();c.serverResponse=u.getErrorText(),this.errorCallback_?s(this.errorCallback_(u,c)):s(c)}else if(i.canceled){const c=this.appDelete_?Vj():T1e();s(c)}else{const c=w1e();s(c)}};this.canceled_?n(!1,new Og(!1,null,!0)):this.backoffId_=M1e(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&D1e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Og{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function F1e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function z1e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function B1e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function j1e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function q1e(t,e,n,r,i,a,s=!0,u=!1){const c=Fj(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return B1e(h,e),F1e(h,n),z1e(h,a),j1e(h,r),new V1e(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function G1e(...t){const e=H1e();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(qA())return new Blob(t);throw new sn(on.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $1e(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1e(t){if(typeof atob>"u")throw N1e("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class YE{constructor(e,n){this.data=e,this.contentType=n||null}}function Y1e(t,e){switch(t){case za.RAW:return new YE(zj(e));case za.BASE64:case za.BASE64URL:return new YE(Bj(t,e));case za.DATA_URL:return new YE(J1e(e),X1e(e))}throw BA()}function zj(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function W1e(t){let e;try{e=decodeURIComponent(t)}catch{throw Eh(za.DATA_URL,"Malformed data URL.")}return zj(e)}function Bj(t,e){switch(t){case za.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Eh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case za.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Eh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=K1e(e)}catch(i){throw i.message.includes("polyfill")?i:Eh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class jj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Eh(za.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Q1e(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function J1e(t){const e=new jj(t);return e.base64?Bj(za.BASE64,e.rest):W1e(e.rest)}function X1e(t){return new jj(t).contentType}function Q1e(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n){let r=0,i="";N4(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(N4(this.data_)){const r=this.data_,i=$1e(r,e,n);return i===null?null:new qs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new qs(r,!0)}}static getBlob(...e){if(qA()){const n=e.map(r=>r instanceof qs?r.data_:r);return new qs(G1e.apply(null,n))}else{const n=e.map(s=>jA(s)?Y1e(za.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let u=0;u<s.length;u++)i[a++]=s[u]}),new qs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t){let e;try{e=JSON.parse(t)}catch{return null}return L1e(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function eAe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Hj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tAe(t,e){return e}class Er{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||tAe}}let Lg=null;function nAe(t){return!jA(t)||t.length<2?t:Hj(t)}function Gj(){if(Lg)return Lg;const t=[];t.push(new Er("bucket")),t.push(new Er("generation")),t.push(new Er("metageneration")),t.push(new Er("name","fullPath",!0));function e(a,s){return nAe(s)}const n=new Er("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new Er("size");return i.xform=r,t.push(i),t.push(new Er("timeCreated")),t.push(new Er("updated")),t.push(new Er("md5Hash",null,!0)),t.push(new Er("cacheControl",null,!0)),t.push(new Er("contentDisposition",null,!0)),t.push(new Er("contentEncoding",null,!0)),t.push(new Er("contentLanguage",null,!0)),t.push(new Er("contentType",null,!0)),t.push(new Er("metadata","customMetadata",!0)),Lg=t,Lg}function rAe(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new si(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function iAe(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return rAe(r,t),r}function $j(t,e,n){const r=qj(e);return r===null?null:iAe(t,r,n)}function aAe(t,e,n,r){const i=qj(e);if(i===null||!jA(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(d=>{const h=t.bucket,p=t.fullPath,g="/b/"+s(h)+"/o/"+s(p),v=HA(g,n,r),T=Fj({alt:"media",token:d});return v+T})[0]}function oAe(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class Kj{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t){if(!t)throw BA()}function sAe(t,e){function n(r,i){const a=$j(t,i,e);return Yj(a!==null),a}return n}function lAe(t,e){function n(r,i){const a=$j(t,i,e);return Yj(a!==null),aAe(a,i,t.host,t._protocol)}return n}function Wj(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=x1e():i=b1e():n.getStatus()===402?i=_1e(t.bucket):n.getStatus()===403?i=E1e(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function uAe(t){const e=Wj(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=v1e(t.path)),a.serverResponse=i.serverResponse,a}return n}function cAe(t,e,n){const r=e.fullServerUrl(),i=HA(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,u=new Kj(i,a,lAe(t,n),s);return u.errorHandler=uAe(e),u}function dAe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function fAe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=dAe(null,e)),r}function hAe(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function u(){let N="";for(let B=0;B<2;B++)N=N+Math.random().toString().slice(2);return N}const c=u();s["Content-Type"]="multipart/related; boundary="+c;const d=fAe(e,r,i),h=oAe(d,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+c+"--",v=qs.getBlob(p,r,g);if(v===null)throw I1e();const T={name:d.fullPath},S=HA(a,t.host,t._protocol),A="POST",I=t.maxUploadRetryTime,V=new Kj(S,A,sAe(t,n),I);return V.urlParams=T,V.headers=s,V.body=v.uploadData(),V.errorHandler=Wj(e),V}class pAe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw th("cannot .send() more than once");if(ml(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw th("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw th("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw th("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw th("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mAe extends pAe{initXhr(){this.xhr_.responseType="text"}}function Jj(){return new mAe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this._service=e,n instanceof si?this._location=n:this._location=si.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Eu(e,n)}get root(){const e=new si(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hj(this._location.path)}get storage(){return this._service}get parent(){const e=Z1e(this._location.path);if(e===null)return null;const n=new si(this._location.bucket,e);return new Eu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw R1e(e)}}function gAe(t,e,n){t._throwIfRoot("uploadBytes");const r=hAe(t.storage,t._location,Gj(),new qs(e,!0),n);return t.storage.makeRequestWithTokens(r,Jj).then(i=>({metadata:i,ref:t}))}function yAe(t){t._throwIfRoot("getDownloadURL");const e=cAe(t.storage,t._location,Gj());return t.storage.makeRequestWithTokens(e,Jj).then(n=>{if(n===null)throw k1e();return n})}function vAe(t,e){const n=eAe(t._location.path,e),r=new si(t._location.bucket,n);return new Eu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Ae(t){return/^[A-Za-z]+:\/\//.test(t)}function bAe(t,e){return new Eu(t,e)}function Xj(t,e){if(t instanceof GA){const n=t;if(n._bucket==null)throw C1e();const r=new Eu(n,n._bucket);return e!=null?Xj(r,e):r}else return e!==void 0?vAe(t,e):t}function xAe(t,e){if(e&&_Ae(e)){if(t instanceof GA)return bAe(t,e);throw qT("To use ref(service, url), the first argument must be a Storage instance.")}else return Xj(t,e)}function P4(t,e){const n=e==null?void 0:e[Uj];return n==null?null:si.makeFromBucketSpec(n,t)}function EAe(t,e,n,r={}){t.host=`${e}:${n}`;const i=ml(e);i&&(Y1(`https://${t.host}/b`),W1("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:fz(a,t.app.options.projectId))}class GA{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=Lj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=g1e,this._maxUploadRetryTime=y1e,this._requests=new Set,i!=null?this._bucket=si.makeFromBucketSpec(i,this._host):this._bucket=P4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=si.makeFromBucketSpec(this._url,e):this._bucket=P4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){R4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){R4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Eu(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new P1e(Vj());{const s=q1e(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const M4="@firebase/storage",D4="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="storage";function wAe(t,e,n){return t=$t(t),gAe(t,e,n)}function TAe(t){return t=$t(t),yAe(t)}function SAe(t,e){return t=$t(t),xAe(t,e)}function AAe(t=Q1(),e){t=$t(t);const r=m0(t,Qj).getImmediate({identifier:e}),i=uz("storage");return i&&CAe(r,...i),r}function CAe(t,e,n,r={}){EAe(t,e,n,r)}function IAe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new GA(n,r,i,e,ku)}function kAe(){yu(new nl(Qj,IAe,"PUBLIC").setMultipleInstances(!0)),qa(M4,D4,""),qa(M4,D4,"esm2020")}kAe();const NAe={apiKey:"AIzaSyCdI_a4JK94rFbNCw8OFonvA_KTXE7Lgyw",authDomain:"eltonvanplan.firebaseapp.com",projectId:"eltonvanplan",storageBucket:"eltonvanplan.appspot.com",messagingSenderId:"329886252808",appId:"1:329886252808:web:3921c45dd741b68ef5b6bd"},$A=mz(NAe),Pi=e1e($A),wu=ewe($A),RAe=AAe($A),PAe={url:typeof window<"u"?window.location.origin:"http://localhost:5173",handleCodeInApp:!0},MAe=async t=>{try{const e={...PAe,url:window.location.origin};return await Uxe(wu,t,e),window.localStorage.setItem("emailForSignIn",t),{success:!0}}catch(e){return console.error("Error sending email link",e),{success:!1,error:e.message}}},DAe=async()=>{if(Vxe(wu,window.location.href)){let t=window.localStorage.getItem("emailForSignIn");if(t||(t=window.prompt("Vnligen bekrfta din e-postadress fr att logga in:")),t)try{const e=await Fxe(wu,t,window.location.href);return window.localStorage.removeItem("emailForSignIn"),window.history.replaceState({},document.title,window.location.pathname),{success:!0,user:e.user}}catch(e){return console.error("Error signing in",e),{success:!1,error:e.message}}}return{success:!1,error:"Not a sign-in link"}},OAe=async(t,e)=>{try{return{success:!0,user:(await Lxe(wu,t,e)).user}}catch(n){console.error("Login failed",n);let r=n.message;return n.code==="auth/invalid-credential"&&(r="Fel e-post eller lsenord."),{success:!1,error:r}}},LAe=async(t,e)=>{try{return{success:!0,user:(await Oxe(wu,t,e)).user}}catch(n){console.error("Registration failed",n);let r=n.message;return n.code==="auth/email-already-in-use"&&(r="Adressen anvnds redan."),n.code==="auth/weak-password"&&(r="Lsenordet r fr svagt (minst 6 tecken)."),{success:!1,error:r}}},UAe=async()=>{await qxe(wu)},VAe=t=>jxe(wu,t);function Zj(t){return ui(Pi,"projects",t)}const Ld=t=>Wh(Pi,"projects",t,"tasks"),Ud=t=>Wh(Pi,"projects",t,"shoppingList"),FAe=async(t,e)=>{const n=Ig.id;console.log(`Seeding database for project ${n} and owner: ${t} (${e})...`);const r=zA(Pi),i=ui(Pi,"projects",n),a={...Ig,ownerId:e,ownerEmail:t,created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!0,tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:[]};r.set(i,a);const s=Ld(n);for(const c of Ig.tasks){const d=ui(s,c.id);r.set(d,c)}const u=Ud(n);for(const c of Ig.shoppingItems){const d=ui(u,c.id);r.set(d,c)}await r.commit(),console.log("Database seeded successfully.")},zAe=async(t,e)=>{const n=ui(Pi,"users",t),r=await Rj(n);if(r.exists())return r.data();{const i=e.split("@")[0],a=i.charAt(0).toUpperCase()+i.slice(1),s={uid:t,email:e,name:a};return await Mj(n,s),s}},eq=async(t,e)=>{const n=ui(Pi,"users",t);await Lp(n,e)},BAe=async t=>{const e=c1e(Wh(Pi,"projects"),d1e("ownerId","==",t)),n=await Jh(e),r=[];return n.forEach(i=>{r.push({id:i.id,...i.data()})}),r},jAe=async t=>{const e=await Rj(Zj(t));return e.exists()?{id:e.id,...e.data()}:null},qAe=async(t,e,n,r,i)=>{const a=ui(Wh(Pi,"projects")),s=new Date().getFullYear();let u={make:e.split(" ")[0]||"Oknd",model:e.split(" ").slice(1).join(" ")||"Modell",year:s,prodYear:s,regNo:"",regDate:new Date().toISOString().split("T")[0],status:"I trafik",bodyType:"Skp",passengers:3,inspection:{last:"",next:"",mileage:""},engine:{fuel:"Diesel",power:"",volume:""},gearbox:"Manuell",wheels:{drive:"2WD",tiresFront:"",tiresRear:"",boltPattern:""},dimensions:{length:0,width:0,height:"",wheelbase:0},weights:{curb:0,total:0,load:0,trailer:0,trailerB:0},vin:"",color:"",history:{owners:1,events:0,lastOwnerChange:""}};i!=null&&i.vehicleData&&(u={...u,...i.vehicleData,year:i.vehicleData.year||s,prodYear:i.vehicleData.prodYear||s});const c={id:a.id,name:t||"Nytt Projekt",ownerId:n,ownerEmail:r,created:new Date().toISOString(),lastModified:new Date().toISOString(),isDemo:!1,vehicleData:u,tasks:[],shoppingItems:[],serviceLog:[],fuelLog:[],knowledgeArticles:(i==null?void 0:i.knowledgeArticles)||[],customIcon:(i==null?void 0:i.customIcon)||null};if(await Mj(a,c),i!=null&&i.tasks&&i.tasks.length>0){const d=Wh(Pi,"projects",a.id,"tasks"),h=zA(Pi);for(const p of i.tasks){const g=ui(d),v={...p,id:g.id,priority:p.priority||"Medel",phase:p.phase||"Fas 0: Inkp & Analys",estimatedCostMin:p.estimatedCostMin||0,estimatedCostMax:p.estimatedCostMax||0,actualCost:p.actualCost||0};h.set(g,v)}await h.commit()}return c},HAe=async t=>{const e=await Jh(Ld(t)),n=await Jh(Ud(t)),r=zA(Pi);e.forEach(i=>r.delete(i.ref)),n.forEach(i=>r.delete(i.ref)),r.delete(Zj(t)),await r.commit()},GAe=async t=>(await Jh(Ld(t))).docs.map(n=>n.data()),$Ae=async(t,e)=>{const n=await Oj(Ld(t),e);return await Lp(n,{id:n.id}),{...e,id:n.id}},KAe=async(t,e,n)=>{const r=ui(Ld(t),e);await Lp(r,n)},YAe=async(t,e)=>{const n=ui(Ld(t),e);await Dj(n)},WAe=async t=>(await Jh(Ud(t))).docs.map(n=>n.data()),JAe=async(t,e)=>{const n=await Oj(Ud(t),e);return await Lp(n,{id:n.id}),{...e,id:n.id}},XAe=async(t,e,n)=>{const r=ui(Ud(t),e);await Lp(r,n)},QAe=async(t,e)=>{const n=ui(Ud(t),e);await Dj(n)},ZAe=({onDemo:t})=>{const[e,n]=R.useState("magic-link"),[r,i]=R.useState(""),[a,s]=R.useState(""),[u,c]=R.useState(""),[d,h]=R.useState(!1),[p,g]=R.useState(!1),[v,T]=R.useState(null),S=async()=>{if(r){T(null),h(!0);try{if(e==="magic-link"){const A=await MAe(r);A.success?g(!0):T(A.error||"Kunde inte skicka lnk.")}else if(e==="login"){const A=await OAe(r,a);A.success||T(A.error||"Inloggning misslyckades.")}else if(e==="register"){if(!u.trim()){T("Vnligen ange ditt namn."),h(!1);return}const A=await LAe(r,a);A.success&&A.user?await eq(A.user.uid,{name:u,email:r}):T(A.error||"Registrering misslyckades.")}}catch{T("Ett ovntat fel uppstod.")}finally{h(!1)}}};return w.jsxs("div",{className:"min-h-screen bg-nordic-ice flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-teal-100 rounded-full blur-[100px] opacity-50"}),w.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-rose-100 rounded-full blur-[100px] opacity-50"}),w.jsxs("div",{className:"max-w-md w-full bg-white/80 backdrop-blur-xl p-8 rounded-[40px] shadow-2xl border border-white z-10 relative transition-all duration-300",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("h1",{className:"font-serif font-bold text-4xl text-nordic-charcoal mb-2",children:"The VanPlan"}),w.jsx("p",{className:"text-slate-500 text-sm tracking-wide uppercase",children:"Ditt digitala garage"})]}),p?w.jsxs("div",{className:"text-center space-y-6 py-8 animate-fade-in",children:[w.jsx("div",{className:"w-20 h-20 bg-teal-100 text-teal-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:w.jsx(r0,{size:40})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold text-nordic-charcoal mb-2",children:"Lnk skickad!"}),w.jsxs("p",{className:"text-slate-500",children:["Vi har skickat ett mail till ",w.jsx("span",{className:"font-bold text-nordic-charcoal",children:r}),"."]}),w.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Klicka p lnken i mailet fr att logga in. Du kan stnga denna flik om du ppnar lnken p samma enhet."})]}),w.jsx("button",{onClick:()=>g(!1),className:"text-sm text-slate-400 hover:text-nordic-charcoal underline",children:"Skickade jag fel adress?"})]}):w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex p-1 bg-slate-100 rounded-xl mb-6",children:[w.jsx("button",{onClick:()=>{n("magic-link"),T(null)},className:Ot("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e==="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Magisk Lnk"}),w.jsx("button",{onClick:()=>{n("login"),T(null)},className:Ot("flex-1 py-2 text-xs font-bold rounded-lg transition-all",e!=="magic-link"?"bg-white text-nordic-charcoal shadow-sm":"text-slate-400 hover:text-slate-600"),children:"Lsenord"})]}),w.jsxs("div",{className:"text-center mb-4",children:[w.jsxs("h2",{className:"text-lg font-bold text-nordic-charcoal",children:[e==="magic-link"&&"Lsenordsfri inloggning",e==="login"&&"Logga in",e==="register"&&"Vlkommen! Vad heter du?"]}),w.jsxs("p",{className:"text-xs text-slate-500",children:[e==="magic-link"&&"Vi skickar en inloggningslnk till din e-post.",e==="login"&&"Logga in med ditt lsenord.",e==="register"&&"Skapa ett konto fr att komma igng."]})]}),w.jsxs("div",{className:"space-y-3",children:[e==="register"&&w.jsxs("div",{className:"relative animate-fade-in",children:[w.jsx(V5,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),w.jsx("input",{type:"text",value:u,onChange:A=>c(A.target.value),placeholder:"Ditt namn",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),w.jsxs("div",{className:"relative",children:[w.jsx(MM,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),w.jsx("input",{type:"email",value:r,onChange:A=>i(A.target.value),placeholder:"din@epost.se",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]}),e!=="magic-link"&&w.jsxs("div",{className:"relative animate-fade-in",children:[w.jsx(T1,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),w.jsx("input",{type:"password",value:a,onChange:A=>s(A.target.value),placeholder:"Lsenord",className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-teal-500/20 text-nordic-charcoal transition-all"})]})]}),v&&w.jsx("div",{className:"p-3 bg-rose-50 border border-rose-100 rounded-xl animate-fade-in",children:w.jsx("p",{className:"text-xs text-rose-600 font-medium text-center",children:v})}),w.jsxs("button",{onClick:S,disabled:d||!r||e!=="magic-link"&&!a,className:"w-full py-4 bg-nordic-charcoal text-white font-bold rounded-2xl shadow-lg shadow-slate-300 hover:bg-slate-800 transition-all active:scale-95 flex items-center justify-center gap-2 mt-4 disabled:opacity-50",children:[d?w.jsx(Sd,{className:"animate-spin",size:18}):e==="magic-link"?w.jsx(MM,{size:18}):w.jsx(C5,{size:18}),d?"Arbetar...":e==="magic-link"?"Skicka lnk":e==="login"?"Logga in":"Skapa konto"]}),e!=="magic-link"&&w.jsx("div",{className:"text-center mt-2",children:w.jsx("button",{onClick:()=>{n(e==="login"?"register":"login"),T(null)},className:"text-xs text-slate-400 hover:text-teal-600 font-medium transition-colors",children:e==="login"?"Inget konto? Registrera dig hr.":"Har du redan konto? Logga in."})}),w.jsxs("div",{className:"relative my-8 text-center",children:[w.jsx("div",{className:"h-px bg-slate-200 w-full absolute top-1/2"}),w.jsx("span",{className:"bg-white px-3 text-xs text-slate-400 relative z-10 font-medium",children:"ELLER"})]}),w.jsxs("button",{onClick:t,className:"w-full py-4 bg-teal-50 text-teal-800 font-bold rounded-2xl border border-teal-100 hover:bg-teal-100 transition-colors flex items-center justify-center gap-2",children:[w.jsx(Hae,{size:18})," Visa Demo (Elton)"]})]}),w.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-8",children:" 2025 The VanPlan. Autentisering via Google Firebase."})]})]})},eCe=({user:t,projects:e,onSelectProject:n,onCreateProject:r,onLogout:i,onDeleteProject:a,onSeed:s})=>{const[u,c]=R.useState(!1),[d,h]=R.useState(""),[p,g]=R.useState(!1),[v,T]=R.useState(0),[S,A]=R.useState(null),I=[" Analyserar fordonsmodell & Regnr..."," Hmtar tekniska specifikationer (Transportstyrelsen)..."," Letar efter vanliga fel & manualer..."," Skapar serviceplan & uppgifter..."," Skriver djuplodande detektiv-analys..."," Mlar fordonets portrtt (AI-ikon)..."," Frdigstller ditt garage..."],V=B=>{var L;const q=(L=B.target.files)==null?void 0:L[0];if(q){const D=new FileReader;D.onloadend=()=>{A(D.result)},D.readAsDataURL(q)}},N=async()=>{var q;if(!d.trim()&&!S)return;g(!0);const B=setInterval(()=>{T(L=>L<I.length-1?L+1:L)},3e3);try{const L=S?S.split(",")[1]:void 0,[D,O]=await Promise.allSettled([K0e(d,L),L?$0e(L):Promise.resolve(null)]),U=D.status==="fulfilled"?D.value:{},F=O.status==="fulfilled"?O.value:null;clearInterval(B);let M=U.projectName||d;M&&(M.length>30||M.includes("http"))&&(M=M.split(",")[0].replace(/https?:\/\/\S+/g,"").trim()),M||(M="Nytt Projekt");const z=[];U.analysisReport&&z.push({id:"initial-analysis",title:U.analysisReport.title||"Initial Fordonsanalys",summary:U.analysisReport.summary||"AI-genererad rapport vid projektstart.",content:U.analysisReport.content||"",tags:["Analys","Historik","AI"]});const H={name:M,customIcon:F||void 0,vehicleData:{...Sde.vehicleData,...U.vehicleData,regNo:((q=U.vehicleData)==null?void 0:q.regNo)||"???"},knowledgeArticles:z,tasks:(U.initialTasks||[]).map(de=>{var te;return{...de,status:bt.TODO,actualCost:0,weightKg:0,costType:ru.OPERATION,phase:de.phase||nu.renovation[0],priority:de.priority||Ba.MEDIUM,tags:["AI-Genererad"],links:[],comments:[],attachments:[],subtasks:((te=de.subtasks)==null?void 0:te.map(X=>({...X,id:Math.random().toString(36).substr(2,9),completed:!1})))||[]}})};r(H),c(!1),h(""),A(null),g(!1),T(0)}catch(L){console.error("Failed to create project",L),g(!1),clearInterval(B)}};return w.jsxs("div",{className:"min-h-screen bg-nordic-ice p-6",children:[w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-12",children:[w.jsxs("div",{children:[w.jsxs("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal",children:["Vlkommen, ",t.name]}),w.jsx("p",{className:"text-slate-500",children:"Vlj ett fordon att jobba med"})]}),w.jsxs("div",{className:"flex gap-2",children:[s&&w.jsx("button",{onClick:s,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-teal-600 transition-colors",title:"terstll Demo",children:w.jsx(zc,{size:20})}),w.jsx("button",{onClick:i,className:"p-3 bg-white rounded-xl shadow-sm text-slate-400 hover:text-rose-500 transition-colors",children:w.jsx(P5,{size:20})})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"bg-white/50 border-2 border-dashed border-slate-300 rounded-[32px] p-8 flex flex-col items-center justify-center text-center hover:bg-white hover:border-teal-400 hover:shadow-lg transition-all cursor-pointer group min-h-[250px]",onClick:()=>c(!0),children:[w.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mb-4 group-hover:scale-110 transition-transform",children:w.jsx(Fc,{size:32})}),w.jsx("h3",{className:"font-bold text-lg text-nordic-charcoal",children:"Nytt Projekt"}),w.jsx("p",{className:"text-sm text-slate-500",children:"Lgg till en ny van"})]}),e.map(B=>{var q,L;return w.jsxs("div",{onClick:()=>n(B.id),className:"bg-white rounded-[32px] p-8 shadow-xl shadow-slate-200/50 border border-white hover:border-teal-200 hover:scale-[1.02] transition-all cursor-pointer relative overflow-hidden group min-h-[250px] flex flex-col justify-between",children:[B.isDemo&&w.jsxs("div",{className:"absolute top-4 right-4 bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:[w.jsx(T1,{size:10})," Demo"]}),!B.isDemo&&a&&w.jsx("button",{onClick:D=>{D.stopPropagation(),a(B.id)},className:"absolute top-4 right-4 p-2 bg-white rounded-full text-slate-300 hover:text-rose-500 hover:bg-rose-50 shadow-sm transition-all z-10 opacity-0 group-hover:opacity-100",title:"Radera projekt",children:w.jsx(Bc,{size:16})}),w.jsxs("div",{children:[w.jsx("div",{className:"w-16 h-16 bg-nordic-charcoal text-white rounded-2xl flex items-center justify-center mb-6 shadow-lg overflow-hidden border border-slate-100 p-2",children:B.customIcon?B.customIcon.startsWith("<svg")?w.jsx("div",{dangerouslySetInnerHTML:{__html:B.customIcon},className:"w-full h-full"}):w.jsx("img",{src:`data:image/png;base64,${B.customIcon}`,alt:"Icon",className:"w-full h-full object-contain"}):w.jsx(Ww,{size:32})}),w.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-1 line-clamp-2",children:B.name}),w.jsxs("p",{className:"text-slate-500 text-sm",children:[B.vehicleData.model," (",B.vehicleData.year,")"]})]}),w.jsxs("div",{className:"flex justify-between items-end mt-8",children:[w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((q=B.tasks)==null?void 0:q.filter(D=>D.status!=="Klart").length)||0," Att gra"]}),w.jsxs("span",{className:"bg-slate-50 px-3 py-1 rounded-lg text-xs font-bold text-slate-600 border border-slate-100",children:[((L=B.shoppingItems)==null?void 0:L.filter(D=>!D.checked).length)||0," Att kpa"]})]}),w.jsx("div",{className:"w-10 h-10 bg-nordic-ice rounded-full flex items-center justify-center text-nordic-charcoal group-hover:bg-teal-500 group-hover:text-white transition-colors",children:w.jsx(N5,{size:20})})]})]},B.id)})]})]}),u&&w.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:w.jsx("div",{className:"bg-white w-full max-w-lg p-8 rounded-[40px] shadow-2xl animate-fade-in relative overflow-hidden",children:p?w.jsxs("div",{className:"text-center py-8",children:[w.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[w.jsx("div",{className:"absolute inset-0 border-4 border-slate-100 rounded-full"}),w.jsx("div",{className:"absolute inset-0 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-teal-600",children:w.jsx(Qw,{size:24})})]}),w.jsx("h3",{className:"font-serif font-bold text-2xl text-nordic-charcoal mb-2",children:"Research pgr..."}),w.jsx("p",{className:"text-slate-400 text-sm mb-8",children:"Elton letar data hos Transportstyrelsen..."}),w.jsx("div",{className:"space-y-3 text-left max-w-xs mx-auto",children:I.map((B,q)=>w.jsxs("div",{className:`flex items-center gap-3 transition-all duration-500 ${q<=v?"opacity-100":"opacity-30 translate-y-2"}`,children:[q<v?w.jsx(el,{size:20,className:"text-green-500"}):q===v?w.jsx(Sd,{size:20,className:"text-teal-500 animate-spin"}):w.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-slate-200"}),w.jsx("span",{className:`font-medium ${q===v?"text-teal-700":"text-slate-600"}`,children:B})]},q))})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center text-teal-600 mx-auto mb-4",children:w.jsx(zc,{size:32})}),w.jsx("h2",{className:"font-serif font-bold text-3xl text-nordic-charcoal mb-2",children:"Starta nytt projekt"}),w.jsx("p",{className:"text-slate-500",children:"Ange registreringsnummer fr bst resultat!"})]}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-2 ml-1",children:"Fordonsbeskrivning, Lnk eller Regnr"}),w.jsx("textarea",{className:"w-full p-4 bg-slate-50 rounded-2xl border border-slate-200 focus:outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all min-h-[100px] text-lg text-nordic-charcoal placeholder:text-slate-300",placeholder:"t.ex. 'JSN398' eller 'Mercedes Sprinter 2014'...",value:d,onChange:B=>h(B.target.value)})]}),w.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-4 bg-slate-50 rounded-2xl border border-dashed border-slate-300 hover:border-teal-400 hover:bg-teal-50 transition-all",children:[w.jsx("div",{className:"p-2 bg-white rounded-xl text-slate-400",children:w.jsx(w1,{size:20})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("span",{className:"block text-sm font-bold text-nordic-charcoal",children:"Ladda upp bild"}),w.jsx("span",{className:"text-xs text-slate-400",children:"Elton kan lsa av regplten & skapa en ikon"})]}),S&&w.jsx(el,{size:20,className:"text-green-500"}),w.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:V})]}),w.jsxs("div",{className:"bg-amber-50 p-4 rounded-2xl flex gap-3 text-amber-800 text-sm border border-amber-100",children:[w.jsx(Qw,{className:"shrink-0",size:20}),w.jsxs("p",{children:[w.jsx("strong",{children:"Elton AI"})," sker upp teknisk data (Biluppgifter.se/Car.info) och skapar en serviceplan."]})]}),w.jsxs("div",{className:"flex gap-3 pt-2",children:[w.jsx("button",{onClick:()=>c(!1),className:"flex-1 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-colors",children:"Avbryt"}),w.jsxs("button",{onClick:N,disabled:!d.trim()&&!S,className:"flex-[2] py-4 bg-nordic-charcoal text-white font-bold rounded-2xl hover:bg-slate-800 transition-all shadow-lg shadow-slate-200 disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2",children:[w.jsx(zc,{size:20})," Starta Research"]})]})]})]})})})]})},Cc=[{id:1,title:"Plattforms-arkitektur (SaaS)",category:"Infrastruktur",description:'Vi har byggt om appen frn en enkel "en-sidas-app" fr en bil till en plattform som hanterar Anvndare och Flera Projekt.',purpose:"Grundlggande krav fr skalbarhet. Mjliggr synk mellan enheter.",status:"done",tech:"Firebase Auth + Firestore",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (DB & Auth)",completed:!0},{label:"Testad (Flera projekt)",completed:!0},{label:"Lanserad",completed:!0}]},{id:16,title:"Offline-std (PWA)",category:"Infrastruktur",description:"Gr appen till en Progressive Web App (PWA) som fungerar utan ntverk. Data synkas nr ntet kommer tillbaka.",purpose:"Ett garage har ofta dlig tckning. Appen mste vara plitlig ven offline.",status:"planned",tech:"Vite PWA Plugin + Firestore Persistence",checklist:[{label:"Specad",completed:!0},{label:"Konfigurerad (Vite)",completed:!1},{label:"Testad (Flygplanslge)",completed:!1},{label:"Lanserad",completed:!1}]},{id:23,title:"Feature Flags & Versionshantering",category:"Infrastruktur",description:"System fr att sl p/av funktioner utan att deploya om. Versionshantering av AI-prompter.",purpose:"Sker utrullning och A/B-testning av nya AI-modeller.",status:"in-progress",tech:"Config-baserad",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config)",completed:!0},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:2,title:'AI Onboarding "Deep Research"',category:"Plattform",description:"Multi-Agent system (Detektiven & Verkmstaren) som sker upp fakta och skapar en plan baserat p RegNr.",purpose:"Hg precision och slut p gissningar. Hmtar data frn svenska register.",status:"done",tech:"Gemini 2.0 Flash + Google Search + Multi-Agent",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Agents & Prompts)",completed:!0},{label:"Testad (Live Search)",completed:!0},{label:"Lanserad",completed:!0}]},{id:17,title:"Auto-genererad Historik & Strategianalys",category:"Plattform",description:"AI:n skriver en djuplodande rapport om bilmodellens historia, knda fel och en strategi fr renoveringen.",purpose:'Ger omedelbart expertkunskap och en "wow-knsla".',status:"done",tech:"Gemini 2.0 (Prompt Engineering)",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:3,title:"Bildigenknning av Regplt",category:"AI Core",description:"Fota bilen fr att starta projektet. AI:n hittar och lser av registreringsskylten.",purpose:"Smidig onboarding utan att behva knappa in nummer.",status:"done",tech:"Gemini Vision (Multimodal)",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:4,title:"AI-genererad Projektikon (Nano Banana)",category:"AI Core",description:"AI ritar en stiliserad vektor-ikon (SVG) av din bil baserat p ditt foto.",purpose:"Personligt och proffsigt utseende p projektet.",status:"in-progress",tech:"Gemini Vision + SVG Gen",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (SVG Prompt)",completed:!0},{label:"Testad (Generering)",completed:!1},{label:"Lanserad",completed:!1}]},{id:5,title:"Google Search-integration",category:"AI Core",description:"AI:n kan ska p webben efter priser, manualer och fakta i realtid.",purpose:"Gr frn gissningar till fakta.",status:"done",tech:"Gemini Tools",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:6,title:"Live Elton (Rst & Video)",category:"AI Core",description:'Prata med Elton i realtid via kameran ("Ring upp").',purpose:"En mekaniker-kompis i fickan nr hnderna r oljiga.",status:"in-progress",tech:"WebRTC + Gemini Live API",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Frontend & Audio)",completed:!0},{label:"Testad (Live Connection)",completed:!1},{label:"Lanserad",completed:!1}]},{id:7,title:"Dialekter & Personligheter",category:"AI Core",description:"Elton kan prata dalml, gotlndska eller rikssvenska.",purpose:"Skapar en relation och gr appen roligare.",status:"done",tech:"System Prompts",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Config & UI)",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:8,title:"Ljud-Doktorn",category:"AI Core",description:"AI lyssnar p motorljud och stller diagnos.",purpose:'Lser problemet "Vad r det som lter?".',status:"in-progress",tech:"Audio Processing (Gemini)",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Prompt & UI)",completed:!0},{label:"Testad (Ljudanalys)",completed:!1},{label:"Lanserad",completed:!1}]},{id:10,title:"Magic Import (Text & Bild)",category:"Projektledning",description:"Klistra in anteckningar eller fota en handskriven lista fr att skapa uppgifter.",purpose:"Minskar administrationen avsevrt.",status:"done",tech:"Gemini Vision",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:11,title:"Smart Context & Beslutsstd",category:"Projektledning",description:"Visar automatiskt relevant data (t.ex. dckdimensioner) inne p en uppgift.",purpose:"Just-in-time information. Slipp leta i papper.",status:"planned",tech:"Context Awareness (Frontend)",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:21,title:"Flexibla Faser & Idbank",category:"Projektledning",description:'Projekt kan nu ha olika typer (Renovering, Bygge, Underhll) med anpassade faser. Ider har ftt en egen "Drmbank" separat frn att-gra-listan.',purpose:"Stdja alla typer av bilgande, inte bara renovering.",status:"done",tech:"Dynamic Types & Filtering",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:9,title:"Smart Inkpslista & Kvitton",category:"Ekonomi",description:"En separat vy fr inkp. Man kan fota kvitton, koppla kostnaden till en specifik uppgift (fr budgetuppfljning) och se vad som r kpt vs planerat.",purpose:"Total kontroll p ekonomin.",status:"done",tech:"Firebase Storage + Vision",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Uppladdning & Lista)",completed:!0},{label:"Testad (Lnka kostnad)",completed:!0},{label:"Lanserad",completed:!0}]},{id:18,title:"Partner-integration (Auto-korg)",category:"Ekonomi",description:"Lgg varor i varukorgen hos partners (t.ex. Autodoc) direkt frn appen.",purpose:"Tjna pengar p plattformen och underltta kp.",status:"planned",tech:"Affiliate APIs",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!1},{label:"Testad",completed:!1},{label:"Lanserad",completed:!1}]},{id:12,title:"Kunskapsbanken & Markdown-lsare",category:"Kunskap",description:"Ett bibliotek med tunga tekniska rapporter (markdown) som AI:n kan lsa och citera.",purpose:"Att skra kvalitn.",status:"done",tech:"RAG + React Markdown",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Markdown + Context)",completed:!0},{label:"Testad (Lsare)",completed:!0},{label:"Lanserad",completed:!0}]},{id:13,title:"Tidslinje & Historik",category:"Garage",description:"En visuell tidslinje som visar bilens hela liv.",purpose:"Att ge perspektiv och hedra bilens historia.",status:"done",tech:"Recharts + Timeline UI",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:14,title:"Brnslelogg & Servicebok",category:"Garage",description:"Logga tankningar och service. Visualisera frbrukning och serviceintervall.",purpose:"Ett praktiskt verktyg fr det dagliga gandet.",status:"in-progress",tech:"Firestore + Recharts",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad (Datastruktur & Input)",completed:!0},{label:"Testad (Spara/Ladda)",completed:!0},{label:"Lanserad (Visualisering/Grafer)",completed:!1}]},{id:15,title:"Backup & Export",category:"Data",description:"Mjlighet att spara ner hela projektet som en JSON-fil och terstlla den.",purpose:"Dataskerhet och portabilitet.",status:"done",tech:"JSON Blob",checklist:[{label:"Specad",completed:!0},{label:"Utvecklad",completed:!0},{label:"Testad",completed:!0},{label:"Lanserad",completed:!0}]},{id:22,title:"The Garage OS (Multi-Brand Platform)",category:"Strategi",description:'Transformation till en "White Label"-motor fr olika fordonsgrupper.',purpose:"Skalbarhet.",status:"planned",tech:"Config-driven Architecture",checklist:[{label:"Specad",completed:!0},{label:"Brand Config System",completed:!0},{label:"Dynamiska Teman",completed:!1},{label:"Lanserad",completed:!1}]}],tCe=({onClose:t})=>{const[e,n]=R.useState(null),r=s=>{n(e===s?null:s)},i=({status:s})=>s==="done"?w.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-teal-100 text-teal-800 text-[10px] font-bold uppercase rounded-md border border-teal-200",children:[w.jsx(el,{size:12})," Lanserad"]}):s==="in-progress"?w.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-amber-100 text-amber-800 text-[10px] font-bold uppercase rounded-md border border-amber-200",children:[w.jsx(Uae,{size:12})," Pgr"]}):w.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-slate-100 text-slate-500 text-[10px] font-bold uppercase rounded-md border border-slate-200",children:[w.jsx(dh,{size:12})," Planerad"]}),a=({category:s})=>{switch(s){case"AI Core":return w.jsx(tse,{size:16,className:"text-amber-500"});case"Plattform":return w.jsx(Qae,{size:16,className:"text-blue-500"});case"Ekonomi":return w.jsx(dh,{size:16,className:"text-green-500"});case"Garage":return w.jsx(Fae,{size:16,className:"text-slate-500"});default:return w.jsx(Toe,{size:16,className:"text-slate-400"})}};return w.jsx("div",{className:"min-h-screen bg-nordic-ice p-6 pb-24",children:w.jsxs("div",{className:"max-w-3xl mx-auto",children:[w.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[w.jsx("button",{onClick:t,className:"p-3 bg-white rounded-xl shadow-sm hover:bg-slate-50 text-slate-500 transition-colors",children:w.jsx(Hy,{size:20})}),w.jsxs("div",{children:[w.jsx("h1",{className:"font-serif font-bold text-3xl text-nordic-charcoal",children:"Produkt-Roadmap"}),w.jsx("p",{className:"text-slate-500",children:"Visionen fr The VanPlan. Uppdateras lpande."})]})]}),w.jsx("div",{className:"space-y-4",children:Cc.map(s=>w.jsxs("div",{className:`bg-white rounded-2xl shadow-sm border transition-all duration-300 overflow-hidden ${s.status==="done"?"border-teal-100/50":s.status==="in-progress"?"border-amber-200 shadow-md transform scale-[1.01]":"border-slate-100 opacity-90"}`,children:[w.jsxs("div",{onClick:()=>r(s.id),className:"p-5 flex items-center justify-between cursor-pointer hover:bg-slate-50 transition-colors",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm shadow-sm ${s.status==="done"?"bg-teal-50 text-teal-600":s.status==="in-progress"?"bg-amber-50 text-amber-600":"bg-slate-50 text-slate-400"}`,children:s.id}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx(a,{category:s.category}),w.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-400",children:s.category})]}),w.jsx("h3",{className:`font-bold text-nordic-charcoal ${s.status==="planned"?"text-slate-500":""}`,children:s.title}),w.jsxs("div",{className:"flex gap-2 mt-1",children:[w.jsx(i,{status:s.status}),e!==s.id&&w.jsx("span",{className:"text-xs text-slate-400 truncate max-w-[200px] hidden sm:inline border-l border-slate-200 pl-2 ml-1",children:s.description})]})]})]}),w.jsx("div",{className:"text-slate-300",children:e===s.id?w.jsx(Cae,{size:20}):w.jsx(k5,{size:20})})]}),e===s.id&&w.jsx("div",{className:"p-6 pt-0 bg-slate-50/30 border-t border-slate-50",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Beskrivning"}),w.jsx("p",{className:"text-sm text-slate-600 mb-4",children:s.description}),w.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Syfte (Varfr?)"}),w.jsxs("p",{className:"text-sm text-slate-600 italic border-l-2 border-teal-200 pl-3",children:['"',s.purpose,'"']})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Status & Checklista"}),w.jsx("div",{className:"bg-white rounded-xl border border-slate-100 p-4 space-y-2 shadow-sm",children:s.checklist.map((u,c)=>w.jsxs("div",{className:"flex items-center gap-3",children:[u.completed?w.jsx(el,{size:16,className:"text-teal-500"}):w.jsx(dh,{size:16,className:"text-slate-300"}),w.jsx("span",{className:`text-sm ${u.completed?"text-slate-700 font-medium":"text-slate-400"}`,children:u.label})]},c))}),w.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs text-slate-400",children:[w.jsx(pae,{size:14}),w.jsxs("span",{children:["Teknik: ",w.jsx("span",{className:"font-mono text-slate-600",children:s.tech})]})]})]})]})})]},s.id))}),w.jsxs("div",{className:"mt-12 text-center pb-8",children:[w.jsxs("p",{className:"text-slate-400 text-sm",children:["Totalt ",Cc.length," funktioner definierade."]}),w.jsx("div",{className:"w-full bg-slate-200 h-2 rounded-full mt-2 overflow-hidden max-w-xs mx-auto",children:w.jsx("div",{className:"bg-teal-500 h-full transition-all duration-1000",style:{width:`${Cc.filter(s=>s.status==="done").length/Cc.length*100}%`}})}),w.jsxs("p",{className:"text-teal-600 text-xs font-bold mt-1",children:[Math.round(Cc.filter(s=>s.status==="done").length/Cc.length*100),"% Klart"]})]})]})})},tr=[];for(let t=0;t<256;++t)tr.push((t+256).toString(16).slice(1));function nCe(t,e=0){return(tr[t[e+0]]+tr[t[e+1]]+tr[t[e+2]]+tr[t[e+3]]+"-"+tr[t[e+4]]+tr[t[e+5]]+"-"+tr[t[e+6]]+tr[t[e+7]]+"-"+tr[t[e+8]]+tr[t[e+9]]+"-"+tr[t[e+10]]+tr[t[e+11]]+tr[t[e+12]]+tr[t[e+13]]+tr[t[e+14]]+tr[t[e+15]]).toLowerCase()}let WE;const rCe=new Uint8Array(16);function iCe(){if(!WE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");WE=crypto.getRandomValues.bind(crypto)}return WE(rCe)}const aCe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),O4={randomUUID:aCe};function oCe(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??iCe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,nCe(r)}function sCe(t,e,n){return O4.randomUUID&&!t?O4.randomUUID():oCe(t)}const lCe=async(t,e,n,r)=>{if(!t)throw new Error("No file provided for upload.");const i=t.name.split(".").pop(),a=`${sCe()}.${i}`,s=SAe(RAe,`receipts/${e}/${n}/${a}`),u=await wAe(s,t);return await TAe(u.ref)},uCe=({className:t})=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Lager_1","data-name":"Lager 1",viewBox:"0 0 500 316.64",className:t,children:[w.jsx("defs",{children:w.jsx("style",{children:".cls-5{fill:#d0ae78}"})}),w.jsx("path",{d:"M7.94 178.22c1.56-7.91 12.9-28.48 17.16-36.76 9.17-17.81 19.54-37.58 29.61-54.79 12.15-20.77 36.94-38.69 56.46-52.73 7.3-5.25 18.27-14.09 26.72-16.16 24.16-5.9 57.64-6.25 82.76-7 65.56-1.95 131.38 1.01 196.89 4.02 7.97.37 18.57-.41 26.2.59 1.25.16.88 1.26 1.42 1.39 2.12.49 4.86-.99 7.28-.73 1.27.14.64 1.28 1.93 1.46 4.86.65 6.52-1.9 11.71 1.01 3.55 1.99 2.7 2.82 3.86 5.49.36.82 1.35.78 1.44.95.12.24-.4 2.74.06 4.22.35 1.14 1.22 1.02 1.5 1.92 1.06 3.4 1.87 7.72 2.53 10.31 2.55 10.03 4.76 20.15 6.75 30.3-.88.06-1.8-.09-2.68 0-.54.05-1.86-.12-2.01 0l-1.34.67c-.44-.03-.9.02-1.34 0-.89-.03-1.79 0-2.68 0-2.93-.01-5.75.58-8.04.67-5.31.2-11.32.67-16.41.67h-19.43c-1.16 0-4.3 1.12-6.03 1.2-2.74.12-6.77-1.65-9.71.14-1.34-.01-2.68.02-4.02 0-3.52-.06-6.57.63-9.69.7-6.34.13-12.94-.66-19.12.64-5.6-.57-11.22.5-16.75.67-47.27 1.42-94.51 4.38-141.65 6.73-9.89.49-19.95-.17-29.84.64-.44 5.22 2.55 4.21 6.7 4.02-4.64 11.79-8.57 24.14-12.25 36.32-2.61 8.61-9.85 29.43-10.44 37.12-.78 10.01 1.45 25.01 1.92 35.43.09 2.1 0 4.23-.03 6.32l-17.08 2.08c-.71.21-2.31-.5-2.31-1.04v-10.72c0-.47-1.12-.9-1.68-1-4.09-.75-10.87.27-15.43.03-42.79-2.26-86.81-10.62-129.31-16.12-2.29-.84-1.88 1.38-3.63 1.35ZM207.56 15.45c-3.3-.52-5.87 2.14-8.35 4.03-12.81 9.78-26.89 21.89-39.22 32.46-3.01 2.58-6.15 5.32-8.7 8.38 3.69.67 5.06-.66 7.68-2.69 14.85-11.53 29.98-25.56 44.57-37.82 1.29-1.08 3.73-2.69 4.01-4.36Z",className:"cls-5"})]}),cCe=()=>{const[t,e]=R.useState(null),[n,r]=R.useState([]),[i,a]=R.useState(null),[s,u]=R.useState(!0),[c,d]=R.useState("dashboard"),[h,p]=R.useState(!1),[g,v]=R.useState(!1),[T,S]=R.useState("ALL"),[A,I]=R.useState(!1),[V,N]=R.useState(null),[B,q]=R.useState(""),L=async ee=>{u(!0);try{const ge=await BAe(ee.uid);r(ge),ge.length===0&&a(null)}catch(ge){console.error("Error loading projects:",ge),te("Kunde inte ladda projekt","error")}u(!1)};R.useEffect(()=>{DAe().then(ge=>{ge.success&&te("Inloggad!")});const ee=VAe(async ge=>{if(ge){const _e=await zAe(ge.uid,ge.email);e(_e),q(_e.name),await L(_e)}else e(null),a(null),r([]),u(!1)});return()=>ee()},[]);const D=async ee=>{u(!0);try{const ge=await jAe(ee);if(ge){const[_e,Se]=await Promise.all([GAe(ee),WAe(ee)]);a({...ge,tasks:_e||[],shoppingItems:Se||[]}),d("dashboard")}else te("Kunde inte hitta projektet","error")}catch(ge){console.error("Error loading project details:",ge),te("Kunde inte ladda projektdata","error")}u(!1)};R.useEffect(()=>{document.documentElement.classList.toggle("dark",g)},[g]);const O=async()=>{await UAe(),I(!1)},U=async()=>{if(!(!t||!B.trim()))try{await eq(t.uid,{name:B}),e({...t,name:B}),te("Namn uppdaterat!")}catch{te("Kunde inte spara namn","error")}},F=async ee=>{var ge;if(t){u(!0);try{const _e=await qAe(ee.name||"Nytt Projekt",((ge=ee.vehicleData)==null?void 0:ge.model)||"Oknd",t.uid,t.email,ee);await L(t),await D(_e.id),te("Nytt projekt skapat!")}catch(_e){console.error("Failed to create project:",_e),_e.code==="permission-denied"?te("tkomst nekad. Kontrollera behrigheter.","error"):te("Kunde inte skapa projekt","error")}u(!1)}},M=async ee=>{if(confirm("r du sker p att du vill radera projektet? Detta gr inte att ngra."))try{await HAe(ee),r(ge=>ge.filter(_e=>_e.id!==ee)),te("Projekt raderat")}catch(ge){console.error("Error deleting project:",ge),te("Kunde inte radera projektet","error")}},z=async()=>{if(t&&confirm("Varning! Detta kommer att skapa ett nytt demonstrationsprojekt 'Elton'. r du sker?")){u(!0);try{await FAe(t.email,t.uid),await L(t),te("Demoprojekt 'Elton' skapat!")}catch(ee){console.error(ee),te("Kunde inte skapa demoprojekt","error")}u(!1)}},H=()=>{if(!i)return;const ee=JSON.stringify(i,null,2),ge=new Blob([ee],{type:"application/json"}),_e=URL.createObjectURL(ge),Se=document.createElement("a");Se.href=_e,Se.download=`vanplan-${i.name.replace(/\s+/g,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),te("Projektdata exporterad")},de=ee=>{te("Import ej implementerad n","error")},te=(ee,ge="success")=>{N({message:ee,type:ge}),setTimeout(()=>N(null),3e3)},X=async ee=>{if(!i)return;const ge=i.tasks;a({...i,tasks:i.tasks.map(_e=>_e.id===ee.id?ee:_e)});try{await KAe(i.id,ee.id,ee)}catch{a({...i,tasks:ge}),te("Kunde inte spara uppgift","error")}},K=async ee=>{if(i)try{const ge=[];for(const _e of ee){const Se=await $Ae(i.id,_e);ge.push(Se)}a({...i,tasks:[...i.tasks,...ge]}),p(!1),te(`${ee.length} uppgifter sparade!`)}catch{te("Fel vid sparande av uppgifter","error")}},ae=async ee=>{if(!i)return;const ge=i.tasks;a({...i,tasks:i.tasks.filter(_e=>_e.id!==ee)});try{await YAe(i.id,ee),te("Uppgift raderad")}catch{a({...i,tasks:ge}),te("Kunde inte radera uppgift","error")}},me=async ee=>{if(i)try{const ge=await JAe(i.id,ee);a({...i,shoppingItems:[...i.shoppingItems,ge]}),te(`Lade till ${ee.name}`)}catch{te("Kunde inte spara vara","error")}},Y=async ee=>{if(!i)return;const ge=i.shoppingItems;a({...i,shoppingItems:i.shoppingItems.filter(_e=>_e.id!==ee)});try{await QAe(i.id,ee),te("Vara raderad")}catch{a({...i,shoppingItems:ge}),te("Fel vid radering","error")}},W=async ee=>{if(!i)return;const ge=i.shoppingItems;a({...i,shoppingItems:i.shoppingItems.map(_e=>_e.id===ee.id?ee:_e)});try{await XAe(i.id,ee.id,ee)}catch{a({...i,shoppingItems:ge}),te("Kunde inte uppdatera","error")}},se=async(ee,ge)=>{if(!(!i||!t))try{const _e=await lCe(ge,t.uid,i.id,ee),Se=i.shoppingItems.find(He=>He.id===ee);if(Se){const He={...Se,receiptUrl:_e};await W(He),te("Kvitto uppladdat!")}}catch(_e){console.error("Error uploading receipt:",_e),te("Kunde inte ladda upp kvitto","error")}};if(s&&!i)return w.jsx("div",{className:"min-h-screen bg-nordic-ice dark:bg-nordic-dark-bg flex items-center justify-center",children:w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[w.jsx(Sd,{className:"animate-spin text-slate-400 text-4xl"}),w.jsx("p",{className:"text-slate-500 font-medium",children:"Hmtar dina projekt..."})]})});if(!t)return w.jsx(ZAe,{onDemo:()=>{}});if(c==="roadmap")return w.jsx(tCe,{onClose:()=>{i?d("dashboard"):a(null)}});if(!i)return w.jsx(eCe,{user:t,projects:n,onSelectProject:D,onCreateProject:F,onLogout:O,onSeed:z,onDeleteProject:M});const $=({active:ee,onClick:ge,icon:_e,label:Se,count:He})=>w.jsxs("button",{onClick:ge,className:`relative flex flex-col items-center justify-center w-14 h-14 sm:w-24 sm:h-16 rounded-xl transition-all duration-300 ${ee?"bg-nordic-charcoal dark:bg-teal-600 text-white shadow-lg scale-105":"text-slate-400 hover:bg-slate-50 dark:hover:bg-nordic-dark-bg"}`,children:[w.jsx(_e,{size:20,strokeWidth:ee?2.5:2,className:"mb-1"}),w.jsx("span",{className:"text-[9px] sm:text-[10px] font-medium",children:Se}),He>0&&w.jsx("span",{className:"absolute top-1 right-3 sm:right-5 w-4 h-4 bg-rose-500 text-white text-[9px] font-bold flex items-center justify-center rounded-full",children:He})]});return w.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${g?"dark bg-nordic-dark-bg text-nordic-ice":"bg-nordic-ice text-slate-800"}`,children:[w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[w.jsxs("div",{className:"flex items-center justify-between mb-8",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-12 h-12 flex items-center justify-center p-1 overflow-hidden rounded-full bg-white dark:bg-nordic-charcoal shadow-sm border border-slate-100 dark:border-nordic-charcoal",children:i.customIcon?w.jsx("img",{src:`data:image/png;base64,${i.customIcon}`,alt:"Project Icon",className:"w-full h-full object-cover"}):w.jsx(uCe,{className:"w-full h-full"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"font-serif font-bold text-2xl tracking-tight text-nordic-charcoal dark:text-nordic-ice",children:i.name}),w.jsxs("p",{className:"text-xs font-medium text-slate-500 dark:text-teal-400 uppercase tracking-widest flex items-center gap-1",children:[i.isDemo&&w.jsx(T1,{size:10})," ",i.vehicleData.model]})]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("div",{className:"relative",children:[w.jsx("button",{onClick:()=>I(!A),className:"p-3 rounded-xl bg-white dark:bg-nordic-charcoal shadow-sm text-slate-400 hover:text-nordic-charcoal dark:hover:text-white transition-colors",children:w.jsx("div",{className:"w-6 h-6 rounded-full bg-teal-100 flex items-center justify-center text-xs font-bold text-teal-700",children:t.name.charAt(0).toUpperCase()})}),A&&w.jsxs("div",{className:"absolute right-0 top-14 w-72 bg-white dark:bg-nordic-dark-surface rounded-2xl shadow-xl border border-nordic-ice dark:border-nordic-charcoal p-4 z-50 animate-fade-in",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-slate-100 dark:border-nordic-charcoal",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-50 dark:bg-teal-900/20 flex items-center justify-center text-teal-600 dark:text-teal-400 font-bold text-lg",children:t.name.charAt(0).toUpperCase()}),w.jsxs("div",{className:"overflow-hidden flex-1",children:[w.jsx("p",{className:"font-bold text-sm text-nordic-charcoal dark:text-nordic-ice truncate",children:t.name}),w.jsx("p",{className:"text-xs text-slate-400 truncate",children:t.email})]})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1 block",children:"Ditt namn"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("input",{className:"flex-1 p-2 bg-slate-50 dark:bg-nordic-dark-bg border border-slate-200 dark:border-nordic-charcoal rounded-lg text-sm dark:text-white",value:B,onChange:ee=>q(ee.target.value)}),w.jsx("button",{onClick:U,className:"p-2 bg-nordic-charcoal text-white rounded-lg hover:bg-slate-800",children:w.jsx(D5,{size:14})})]})]}),w.jsxs("div",{className:"space-y-1 mb-2",children:[w.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 px-3",children:"Datahantering"}),w.jsxs("button",{onClick:H,className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors",children:[w.jsx(Bae,{size:16})," Spara Backup"]}),w.jsxs("label",{className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors cursor-pointer",children:[w.jsx(Goe,{size:16})," terstll Backup",w.jsx("input",{type:"file",className:"hidden",onChange:de,accept:".json"})]})]}),w.jsxs("button",{onClick:()=>{a(null),I(!1)},className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2 border-b border-slate-100 dark:border-nordic-charcoal",children:[w.jsx(Tae,{size:16})," Byt Projekt"]}),w.jsxs("button",{onClick:()=>v(!g),className:"w-full flex items-center gap-2 p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-nordic-charcoal/50 text-sm font-medium text-nordic-charcoal dark:text-nordic-ice transition-colors mb-2",children:[g?w.jsx(zoe,{size:16}):w.jsx(xoe,{size:16})," ",g?"Ljust Lge":"Mrkt Lge"]}),w.jsx("div",{className:"h-px bg-slate-100 dark:bg-nordic-charcoal my-2"}),w.jsxs("button",{onClick:O,className:"w-full flex items-center gap-2 p-3 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/50 rounded-xl text-sm font-bold",children:[w.jsx(P5,{size:16})," Logga ut"]})]})]}),w.jsxs("button",{onClick:()=>p(!0),className:"p-3 rounded-xl bg-nordic-charcoal dark:bg-teal-600 shadow-sm text-white hover:bg-slate-800 dark:hover:bg-teal-700 transition-colors flex items-center gap-2",children:[w.jsx(zc,{size:18}),w.jsx("span",{className:"hidden sm:inline font-medium",children:"Magic Import"})]})]})]}),w.jsxs("div",{className:"pb-28 sm:pb-0",children:[c==="dashboard"&&w.jsx(che,{project:i,onPhaseClick:ee=>{S(ee),d("tasks")}}),c==="tasks"&&w.jsx(fhe,{tasks:i.tasks,shoppingItems:i.shoppingItems,vehicleData:i.vehicleData,onUpdateTask:X,initialFilter:T}),c==="ai"&&w.jsx(X0e,{vehicleData:i.vehicleData,tasks:i.tasks,shoppingItems:i.shoppingItems,onAddTask:ee=>K(ee),onUpdateTask:X,onDeleteTask:ae,onAddShoppingItem:ee=>me(ee),onUpdateShoppingItem:W,onDeleteShoppingItem:Y,onClose:()=>d("dashboard")}),c==="specs"&&w.jsx(Z0e,{vehicleData:i.vehicleData,tasks:i.tasks}),c==="shopping"&&w.jsx(e_e,{items:i.shoppingItems,tasks:i.tasks,onAdd:ee=>me(ee),onDelete:Y,onToggle:ee=>{const ge=i.shoppingItems.find(_e=>_e.id===ee);ge&&W({...ge,checked:!ge.checked})},onUpdate:W,onUploadReceipt:se})]}),c==="dashboard"&&w.jsx("div",{className:"text-center mt-12 pb-24 opacity-60 hover:opacity-100 transition-opacity",children:w.jsxs("button",{onClick:()=>d("roadmap"),className:"inline-flex items-center gap-2 text-xs font-medium text-slate-400 hover:text-teal-600 transition-colors px-4 py-2",children:[w.jsx(foe,{size:14}),w.jsx("span",{children:"Utforska The VanPlan Roadmap"})]})}),c!=="ai"&&w.jsxs("div",{className:"fixed bottom-4 left-4 right-4 sm:left-1/2 sm:-translate-x-1/2 sm:w-auto bg-white/70 dark:bg-nordic-charcoal/80 backdrop-blur-md border border-slate-200/50 dark:border-nordic-dark-bg p-2 rounded-2xl shadow-2xl flex justify-between sm:justify-center sm:gap-2 z-40",children:[w.jsx($,{active:c==="dashboard",onClick:()=>d("dashboard"),icon:eoe,label:"versikt"}),w.jsx($,{active:c==="tasks",onClick:()=>{d("tasks"),S("ALL")},icon:OM,label:"Att Gra",count:i.tasks.filter(ee=>ee.status!=="Klart").length}),w.jsx($,{active:c==="shopping",onClick:()=>d("shopping"),icon:U5,label:"Handla",count:i.shoppingItems.filter(ee=>!ee.checked).length}),w.jsx($,{active:c==="specs",onClick:()=>d("specs"),icon:z5,label:"Verkstad"}),w.jsx($,{active:!1,onClick:()=>d("ai"),icon:poe,label:"Elton AI"})]}),V&&w.jsxs("div",{className:`fixed bottom-24 right-4 z-50 px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 animate-fade-in ${V.type==="error"?"bg-rose-500 text-white":"bg-nordic-charcoal text-white dark:bg-teal-600"}`,children:[w.jsx(OM,{size:18}),w.jsx("span",{className:"font-medium text-sm",children:V.message})]})]}),h&&w.jsx("div",{className:"fixed inset-0 bg-nordic-charcoal/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:w.jsx("div",{className:"w-full max-w-2xl",children:w.jsx(Q0e,{onAddTasks:ee=>K(ee),onClose:()=>p(!1)})})})]})},tq=document.getElementById("root");if(!tq)throw new Error("Could not find root element to mount to");const dCe=G9.createRoot(tq);dCe.render(w.jsx(L4.StrictMode,{children:w.jsx(cCe,{})}));
